(function (exports) {
'use strict';

var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};





function createCommonjsModule(fn, module) {
	return module = { exports: {} }, fn(module, module.exports), module.exports;
}

/**
 * Helpers.
 */

var s = 1000;
var m = s * 60;
var h = m * 60;
var d = h * 24;
var y = d * 365.25;

/**
 * Parse or format the given `val`.
 *
 * Options:
 *
 *  - `long` verbose formatting [false]
 *
 * @param {String|Number} val
 * @param {Object} [options]
 * @throws {Error} throw an error if val is not a non-empty string or a number
 * @return {String|Number}
 * @api public
 */

var ms = function(val, options) {
  options = options || {};
  var type = typeof val;
  if (type === 'string' && val.length > 0) {
    return parse(val);
  } else if (type === 'number' && isNaN(val) === false) {
    return options.long ? fmtLong(val) : fmtShort(val);
  }
  throw new Error(
    'val is not a non-empty string or a valid number. val=' +
      JSON.stringify(val)
  );
};

/**
 * Parse the given `str` and return milliseconds.
 *
 * @param {String} str
 * @return {Number}
 * @api private
 */

function parse(str) {
  str = String(str);
  if (str.length > 100) {
    return;
  }
  var match = /^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(
    str
  );
  if (!match) {
    return;
  }
  var n = parseFloat(match[1]);
  var type = (match[2] || 'ms').toLowerCase();
  switch (type) {
    case 'years':
    case 'year':
    case 'yrs':
    case 'yr':
    case 'y':
      return n * y;
    case 'days':
    case 'day':
    case 'd':
      return n * d;
    case 'hours':
    case 'hour':
    case 'hrs':
    case 'hr':
    case 'h':
      return n * h;
    case 'minutes':
    case 'minute':
    case 'mins':
    case 'min':
    case 'm':
      return n * m;
    case 'seconds':
    case 'second':
    case 'secs':
    case 'sec':
    case 's':
      return n * s;
    case 'milliseconds':
    case 'millisecond':
    case 'msecs':
    case 'msec':
    case 'ms':
      return n;
    default:
      return undefined;
  }
}

/**
 * Short format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

function fmtShort(ms) {
  if (ms >= d) {
    return Math.round(ms / d) + 'd';
  }
  if (ms >= h) {
    return Math.round(ms / h) + 'h';
  }
  if (ms >= m) {
    return Math.round(ms / m) + 'm';
  }
  if (ms >= s) {
    return Math.round(ms / s) + 's';
  }
  return ms + 'ms';
}

/**
 * Long format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

function fmtLong(ms) {
  return plural(ms, d, 'day') ||
    plural(ms, h, 'hour') ||
    plural(ms, m, 'minute') ||
    plural(ms, s, 'second') ||
    ms + ' ms';
}

/**
 * Pluralization helper.
 */

function plural(ms, n, name) {
  if (ms < n) {
    return;
  }
  if (ms < n * 1.5) {
    return Math.floor(ms / n) + ' ' + name;
  }
  return Math.ceil(ms / n) + ' ' + name + 's';
}

var debug$1 = createCommonjsModule(function (module, exports) {
/**
 * This is the common logic for both the Node.js and web browser
 * implementations of `debug()`.
 *
 * Expose `debug()` as the module.
 */

exports = module.exports = createDebug.debug = createDebug['default'] = createDebug;
exports.coerce = coerce;
exports.disable = disable;
exports.enable = enable;
exports.enabled = enabled;
exports.humanize = ms;

/**
 * The currently active debug mode names, and names to skip.
 */

exports.names = [];
exports.skips = [];

/**
 * Map of special "%n" handling functions, for the debug "format" argument.
 *
 * Valid key names are a single, lower or upper-case letter, i.e. "n" and "N".
 */

exports.formatters = {};

/**
 * Previous log timestamp.
 */

var prevTime;

/**
 * Select a color.
 * @param {String} namespace
 * @return {Number}
 * @api private
 */

function selectColor(namespace) {
  var hash = 0, i;

  for (i in namespace) {
    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);
    hash |= 0; // Convert to 32bit integer
  }

  return exports.colors[Math.abs(hash) % exports.colors.length];
}

/**
 * Create a debugger with the given `namespace`.
 *
 * @param {String} namespace
 * @return {Function}
 * @api public
 */

function createDebug(namespace) {

  function debug() {
    // disabled?
    if (!debug.enabled) return;

    var self = debug;

    // set `diff` timestamp
    var curr = +new Date();
    var ms$$1 = curr - (prevTime || curr);
    self.diff = ms$$1;
    self.prev = prevTime;
    self.curr = curr;
    prevTime = curr;

    // turn the `arguments` into a proper Array
    var args = new Array(arguments.length);
    for (var i = 0; i < args.length; i++) {
      args[i] = arguments[i];
    }

    args[0] = exports.coerce(args[0]);

    if ('string' !== typeof args[0]) {
      // anything else let's inspect with %O
      args.unshift('%O');
    }

    // apply any `formatters` transformations
    var index = 0;
    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {
      // if we encounter an escaped % then don't increase the array index
      if (match === '%%') return match;
      index++;
      var formatter = exports.formatters[format];
      if ('function' === typeof formatter) {
        var val = args[index];
        match = formatter.call(self, val);

        // now we need to remove `args[index]` since it's inlined in the `format`
        args.splice(index, 1);
        index--;
      }
      return match;
    });

    // apply env-specific formatting (colors, etc.)
    exports.formatArgs.call(self, args);

    var logFn = debug.log || exports.log || console.log.bind(console);
    logFn.apply(self, args);
  }

  debug.namespace = namespace;
  debug.enabled = exports.enabled(namespace);
  debug.useColors = exports.useColors();
  debug.color = selectColor(namespace);

  // env-specific initialization logic for debug instances
  if ('function' === typeof exports.init) {
    exports.init(debug);
  }

  return debug;
}

/**
 * Enables a debug mode by namespaces. This can include modes
 * separated by a colon and wildcards.
 *
 * @param {String} namespaces
 * @api public
 */

function enable(namespaces) {
  exports.save(namespaces);

  exports.names = [];
  exports.skips = [];

  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\s,]+/);
  var len = split.length;

  for (var i = 0; i < len; i++) {
    if (!split[i]) continue; // ignore empty strings
    namespaces = split[i].replace(/\*/g, '.*?');
    if (namespaces[0] === '-') {
      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));
    } else {
      exports.names.push(new RegExp('^' + namespaces + '$'));
    }
  }
}

/**
 * Disable debug output.
 *
 * @api public
 */

function disable() {
  exports.enable('');
}

/**
 * Returns true if the given mode name is enabled, false otherwise.
 *
 * @param {String} name
 * @return {Boolean}
 * @api public
 */

function enabled(name) {
  var i, len;
  for (i = 0, len = exports.skips.length; i < len; i++) {
    if (exports.skips[i].test(name)) {
      return false;
    }
  }
  for (i = 0, len = exports.names.length; i < len; i++) {
    if (exports.names[i].test(name)) {
      return true;
    }
  }
  return false;
}

/**
 * Coerce `val`.
 *
 * @param {Mixed} val
 * @return {Mixed}
 * @api private
 */

function coerce(val) {
  if (val instanceof Error) return val.stack || val.message;
  return val;
}
});

var browser$1 = createCommonjsModule(function (module, exports) {
/**
 * This is the web browser implementation of `debug()`.
 *
 * Expose `debug()` as the module.
 */

exports = module.exports = debug$1;
exports.log = log;
exports.formatArgs = formatArgs;
exports.save = save;
exports.load = load;
exports.useColors = useColors;
exports.storage = 'undefined' != typeof chrome
               && 'undefined' != typeof chrome.storage
                  ? chrome.storage.local
                  : localstorage();

/**
 * Colors.
 */

exports.colors = [
  'lightseagreen',
  'forestgreen',
  'goldenrod',
  'dodgerblue',
  'darkorchid',
  'crimson'
];

/**
 * Currently only WebKit-based Web Inspectors, Firefox >= v31,
 * and the Firebug extension (any Firefox version) are known
 * to support "%c" CSS customizations.
 *
 * TODO: add a `localStorage` variable to explicitly enable/disable colors
 */

function useColors() {
  // NB: In an Electron preload script, document will be defined but not fully
  // initialized. Since we know we're in Chrome, we'll just detect this case
  // explicitly
  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {
    return true;
  }

  // is webkit? http://stackoverflow.com/a/16459606/376773
  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632
  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||
    // is firebug? http://stackoverflow.com/a/398120/376773
    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||
    // is firefox >= v31?
    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages
    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||
    // double check webkit in userAgent just in case we are in a worker
    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/));
}

/**
 * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.
 */

exports.formatters.j = function(v) {
  try {
    return JSON.stringify(v);
  } catch (err) {
    return '[UnexpectedJSONParseError]: ' + err.message;
  }
};


/**
 * Colorize log arguments if enabled.
 *
 * @api public
 */

function formatArgs(args) {
  var useColors = this.useColors;

  args[0] = (useColors ? '%c' : '')
    + this.namespace
    + (useColors ? ' %c' : ' ')
    + args[0]
    + (useColors ? '%c ' : ' ')
    + '+' + exports.humanize(this.diff);

  if (!useColors) return;

  var c = 'color: ' + this.color;
  args.splice(1, 0, c, 'color: inherit');

  // the final "%c" is somewhat tricky, because there could be other
  // arguments passed either before or after the %c, so we need to
  // figure out the correct index to insert the CSS into
  var index = 0;
  var lastC = 0;
  args[0].replace(/%[a-zA-Z%]/g, function(match) {
    if ('%%' === match) return;
    index++;
    if ('%c' === match) {
      // we only are interested in the *last* %c
      // (the user may have provided their own)
      lastC = index;
    }
  });

  args.splice(lastC, 0, c);
}

/**
 * Invokes `console.log()` when available.
 * No-op when `console.log` is not a "function".
 *
 * @api public
 */

function log() {
  // this hackery is required for IE8/9, where
  // the `console.log` function doesn't have 'apply'
  return 'object' === typeof console
    && console.log
    && Function.prototype.apply.call(console.log, console, arguments);
}

/**
 * Save `namespaces`.
 *
 * @param {String} namespaces
 * @api private
 */

function save(namespaces) {
  try {
    if (null == namespaces) {
      exports.storage.removeItem('debug');
    } else {
      exports.storage.debug = namespaces;
    }
  } catch(e) {}
}

/**
 * Load `namespaces`.
 *
 * @return {String} returns the previously persisted debug modes
 * @api private
 */

function load() {
  var r;
  try {
    r = exports.storage.debug;
  } catch(e) {}

  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG
  if (!r && typeof process !== 'undefined' && 'env' in process) {
    r = process.env.DEBUG;
  }

  return r;
}

/**
 * Enable namespaces listed in `localStorage.debug` initially.
 */

exports.enable(load());

/**
 * Localstorage attempts to return the localstorage.
 *
 * This is necessary because safari throws
 * when a user disables cookies/localstorage
 * and you attempt to access it.
 *
 * @return {LocalStorage}
 * @api private
 */

function localstorage() {
  try {
    return window.localStorage;
  } catch (e) {}
}
});

var createMenu = function createMenu(names, variables, study_zones, territorial_mesh) {
  // First section, regions names:
  var title_section1 = document.createElement('p');
  title_section1.className = 'title_menu';
  title_section1.innerHTML = 'Ma région';
  var section1 = document.createElement('div');
  section1.className = 'box';
  section1.style.overflow = 'auto';
  section1.style.height = '200px';
  for (var i = 0, len_i = names.length; i < len_i; i++) {
    var id = names[i].geo;
    var name = names[i].Nom;
    var entry = document.createElement('p');
    entry.innerHTML = '<span value="' + id + '" class=\'target_region square\'></span><span class="label_chk">' + name + '</span>';
    section1.appendChild(entry);
  }

  // Second section, groups of variables:
  var title_section2 = document.createElement('p');
  title_section2.className = 'title_menu';
  title_section2.innerHTML = 'Mon/mes indicateurs';
  var section2 = document.createElement('div');
  section2.className = 'box';
  var groups_var = Object.keys(variables);
  for (var _i = 0, _len_i = groups_var.length; _i < _len_i; _i++) {
    var gp_name = groups_var[_i];
    var _entry = document.createElement('p');
    _entry.innerHTML = '<span class=\'square\'></span><span class="label_chk">' + gp_name + '</span>';
    section2.appendChild(_entry);
    var var_names = Object.keys(variables[gp_name]);
    for (var j = 0, len_j = var_names.length; j < len_j; j++) {
      var name_var = var_names[j];
      var code_var = variables[gp_name][name_var];
      var sub_entry = document.createElement('p');
      sub_entry.className = 'small';
      sub_entry.innerHTML = '<span value="' + code_var + '" class="target_variable small_square"></span><span>' + var_names[j] + '</span>';
      section2.appendChild(sub_entry);
    }
  }

  // Third section, study zone:
  var title_section3 = document.createElement('p');
  title_section3.className = 'title_menu';
  title_section3.innerHTML = 'Mon espace d\'étude';
  var section3 = document.createElement('div');
  section3.className = 'box';
  for (var _i2 = 0, _len_i2 = study_zones.length; _i2 < _len_i2; _i2++) {
    var _entry2 = document.createElement('p');
    var zone = study_zones[_i2];
    _entry2.innerHTML = '<span filter-value="' + zone.id + '" class=\'filter_v square\'></span><span class="label_chk">' + zone.name + '</span>';
    section3.appendChild(_entry2);
  }

  // Fourth section:
  var title_section4 = document.createElement('p');
  title_section4.className = 'title_menu';
  title_section4.innerHTML = 'Maillage territorial d\'analyse';
  var section4 = document.createElement('div');
  section4.className = 'box';
  for (var _i3 = 0, _len_i3 = territorial_mesh.length; _i3 < _len_i3; _i3++) {
    var _entry3 = document.createElement('p');
    var territ_level = territorial_mesh[_i3];
    _entry3.innerHTML = '<span value="' + territ_level.id + '" class=\'square territ_level\'></span><span class="label_chk">' + territ_level.name + '</span>';
    section4.appendChild(_entry3);
  }

  // The actual menu containing these 4 sections:
  var menu = document.getElementById('menu');
  menu.id = 'menu';
  menu.style.width = '340px';
  menu.style.float = 'left';
  menu.appendChild(title_section1);
  menu.appendChild(section1);
  menu.appendChild(title_section2);
  menu.appendChild(section2);
  menu.appendChild(title_section3);
  menu.appendChild(section3);
  menu.appendChild(title_section4);
  menu.appendChild(section4);
};

var vanillaDataTables = createCommonjsModule(function (module, exports) {
/*!
 *
 * Vanilla-DataTables
 * Copyright (c) 2015-2017 Karl Saunders (http://mobius.ovh)
 * Licensed under MIT (http://www.opensource.org/licenses/mit-license.php)
 *
 * Version: 1.4.18
 *
 */
(function (root, factory) {
    var plugin = "DataTable";

    if (typeof undefined === "function" && undefined.amd) {
        undefined([], factory(plugin));
    } else {
        module.exports = factory(plugin);
    }
})(commonjsGlobal, function (plugin) {
    "use strict";
    var win = window,
        doc = document,
        body = doc.body;

    /**
     * Default configuration
     * @typ {Object}
     */
    var defaultConfig = {
        perPage: 10,
        perPageSelect: [5, 10, 15, 20, 25],

        sortable: true,
        searchable: true,

        // Pagination
        nextPrev: true,
        firstLast: false,
        prevText: "&lsaquo;",
        nextText: "&rsaquo;",
        firstText: "&laquo;",
        lastText: "&raquo;",
        ellipsisText: "&hellip;",
        ascText: "▴",
        descText: "▾",
        truncatePager: true,
        pagerDelta: 2,

        fixedColumns: true,
        fixedHeight: false,

        header: true,
        footer: false,

        // Customise the display text
        labels: {
            placeholder: "Search...", // The search input placeholder
            perPage: "{select} entries per page", // per-page dropdown label
            noRows: "No entries found", // Message shown when there are no search results
            info: "Showing {start} to {end} of {rows} entries" //
        },

        // Customise the layout
        layout: {
            top: "{select}{search}",
            bottom: "{info}{pager}"
        }
    };

    /**
     * Check is item is object
     * @return {Boolean}
     */
    var isObject = function (val) {
        return Object.prototype.toString.call(val) === "[object Object]";
    };

    /**
     * Check is item is array
     * @return {Boolean}
     */
    var isArray = function (val) {
        return Array.isArray(val);
    };

    /**
     * Check for valid JSON string
     * @param  {String}   str
     * @return {Boolean|Array|Object}
     */
    var isJson = function (str) {
        var t = !1;
        try {
            t = JSON.parse(str);
        } catch (e) {
            return !1;
        }
        return !(null === t || (!isArray(t) && !isObject(t))) && t;
    };

    /**
     * Merge objects (reccursive)
     * @param  {Object} r
     * @param  {Object} t
     * @return {Object}
     */
    var extend = function (src, props) {
        for (var prop in props) {
            if (props.hasOwnProperty(prop)) {
                var val = props[prop];
                if (val && isObject(val)) {
                    src[prop] = src[prop] || {};
                    extend(src[prop], val);
                } else {
                    src[prop] = val;
                }
            }
        }
        return src;
    };

    /**
     * Iterator helper
     * @param  {(Array|Object)}   arr     Any object, array or array-like collection.
     * @param  {Function}         fn      Callback
     * @param  {Object}           scope   Change the value of this
     * @return {Void}
     */
    var each = function (arr, fn, scope) {
        var n;
        if (isObject(arr)) {
            for (n in arr) {
                if (Object.prototype.hasOwnProperty.call(arr, n)) {
                    fn.call(scope, arr[n], n);
                }
            }
        } else {
            for (n = 0; n < arr.length; n++) {
                fn.call(scope, arr[n], n);
            }
        }
    };

    /**
     * Add event listener to target
     * @param  {Object} el
     * @param  {String} e
     * @param  {Function} fn
     */
    var on = function (el, e, fn) {
        el.addEventListener(e, fn, false);
    };

    /**
     * Create DOM element node
     * @param  {String}   a nodeName
     * @param  {Object}   b properties and attributes
     * @return {Object}
     */
    var createElement = function (a, b) {
        var d = doc.createElement(a);
        if (b && "object" == typeof b) {
            var e;
            for (e in b) {
                if ("html" === e) {
                    d.innerHTML = b[e];
                } else {
                    d.setAttribute(e, b[e]);
                }
            }
        }
        return d;
    };

    var flush = function (el, ie) {
        if (el instanceof NodeList) {
            each(el, function (e) {
                flush(e, ie);
            });
        } else {
            if (ie) {
                while (el.hasChildNodes()) {
                    el.removeChild(el.firstChild);
                }
            } else {
                el.innerHTML = "";
            }
        }
    };

    /**
     * Create button helper
     * @param  {String}   c
     * @param  {Number}   p
     * @param  {String}   t
     * @return {Object}
     */
    var button = function (c, p, t) {
        return createElement("li", {
            class: c,
            html: '<a href="#" data-page="' + p + '">' + t + "</a>"
        });
    };

    /**
     * classList shim
     * @type {Object}
     */
    var classList = {
        add: function (s, a) {
            if (s.classList) {
                s.classList.add(a);
            } else {
                if (!classList.contains(s, a)) {
                    s.className = s.className.trim() + " " + a;
                }
            }
        },
        remove: function (s, a) {
            if (s.classList) {
                s.classList.remove(a);
            } else {
                if (classList.contains(s, a)) {
                    s.className = s.className.replace(
                        new RegExp("(^|\\s)" + a.split(" ").join("|") + "(\\s|$)", "gi"),
                        " "
                    );
                }
            }
        },
        contains: function (s, a) {
            if (s)
                return s.classList ?
                    s.classList.contains(a) :
                    !!s.className &&
                    !!s.className.match(new RegExp("(\\s|^)" + a + "(\\s|$)"));
        }
    };

    /**
     * Bubble sort algorithm
     */
    var sortItems = function (a, b) {
        var c, d;
        if (1 === b) {
            c = 0;
            d = a.length;
        } else {
            if (b === -1) {
                c = a.length - 1;
                d = -1;
            }
        }
        for (var e = !0; e;) {
            e = !1;
            for (var f = c; f != d; f += b) {
                if (a[f + b] && a[f].value > a[f + b].value) {
                    var g = a[f],
                        h = a[f + b],
                        i = g;
                    a[f] = h;
                    a[f + b] = i;
                    e = !0;
                }
            }
        }
        return a;
    };

    /**
     * Pager truncation algorithm
     */
    var truncate = function (a, b, c, d, ellipsis) {
        d = d || 2;
        var j,
            e = 2 * d,
            f = b - d,
            g = b + d,
            h = [],
            i = [];
        if (b < 4 - d + e) {
            g = 3 + e;
        } else if (b > c - (3 - d + e)) {
            f = c - (2 + e);
        }
        for (var k = 1; k <= c; k++) {
            if (1 == k || k == c || (k >= f && k <= g)) {
                var l = a[k - 1];
                classList.remove(l, "active");
                h.push(l);
            }
        }
        each(h, function (c) {
            var d = c.children[0].getAttribute("data-page");
            if (j) {
                var e = j.children[0].getAttribute("data-page");
                if (d - e == 2) i.push(a[e]);
                else if (d - e != 1) {
                    var f = createElement("li", {
                        class: "ellipsis",
                        html: '<a href="#">' + ellipsis + "</a>"
                    });
                    i.push(f);
                }
            }
            i.push(c);
            j = c;
        });

        return i;
    };

    /**
     * Parse data to HTML table
     */
    var dataToTable = function (data) {
        var thead = false,
            tbody = false;

        data = data || this.options.data;

        if (data.headings) {
            thead = createElement("thead");
            var tr = createElement("tr");
            each(data.headings, function (col) {
                var td = createElement("th", {
                    html: col
                });
                tr.appendChild(td);
            });

            thead.appendChild(tr);
        }

        if (data.data) {
            tbody = createElement("tbody");
            each(data.data, function (rows) {
                if (data.headings) {
                    if (data.headings.length !== rows.length) {
                        throw new Error(
                            "The number of rows do not match the number of headings."
                        );
                    }
                }
                var tr = createElement("tr");
                each(rows, function (value) {
                    var td = createElement("td", {
                        html: value
                    });
                    tr.appendChild(td);
                });
                tbody.appendChild(tr);
            });
        }

        if (thead) {
            if (this.table.tHead !== null) {
                this.table.removeChild(this.table.tHead);
            }
            this.table.appendChild(thead);
        }

        if (tbody) {
            if (this.table.tBodies.length) {
                this.table.removeChild(this.table.tBodies[0]);
            }
            this.table.appendChild(tbody);
        }
    };

    /**
     * Use moment.js to parse cell contents for sorting
     * @param  {String} content     The datetime string to parse
     * @param  {String} format      The format for moment to use
     * @return {String|Boolean}     Datatime string or false
     */
    var parseDate = function (content, format) {
        var date = false;

        // moment() throws a fit if the string isn't a valid datetime string
        // so we need to supply the format to the constructor (https://momentjs.com/docs/#/parsing/string-format/)

        // Converting to YYYYMMDD ensures we can accurately sort the column numerically

        if (format) {
            switch (format) {
            case "ISO_8601":
                date = moment(content, moment.ISO_8601).format("YYYYMMDD");
                break;
            case "RFC_2822":
                date = moment(content, "ddd, MM MMM YYYY HH:mm:ss ZZ").format("YYYYMMDD");
                break;
            case "MYSQL":
                date = moment(content, "YYYY-MM-DD hh:mm:ss").format("YYYYMMDD");
                break;
            case "UNIX":
                date = moment(content).unix();
                break;
                // User defined format using the data-format attribute or columns[n].format option
            default:
                date = moment(content, format).format("YYYYMMDD");
                break;
            }
        }

        return date;
    };

    /**
     * Columns API
     * @param {Object} instance DataTable instance
     * @param {Mixed} columns  Column index or array of column indexes
     */
    var Columns = function (dt) {
        this.dt = dt;
        return this;
    };

    /**
     * Swap two columns
     * @return {Void}
     */
    Columns.prototype.swap = function (columns) {
        if (columns.length && columns.length === 2) {
            var cols = [];

            // Get the current column indexes
            each(this.dt.headings, function (h, i) {
                cols.push(i);
            });

            var x = columns[0];
            var y = columns[1];
            var b = cols[y];
            cols[y] = cols[x];
            cols[x] = b;

            this.order(cols);
        }
    };

    /**
     * Reorder the columns
     * @return {Array} columns  Array of ordered column indexes
     */
    Columns.prototype.order = function (columns) {
        var a, b, c, d, h, s;

        var temp_a = [];
        var temp_b = [];
        var temp_c = [];
        var temp_d = [];

        var dt = this.dt;

        // Order the headings
        each(columns, function (column, x) {
            h = dt.headings[column];
            s = h.getAttribute("data-sortable") !== "false";
            a = h.cloneNode(true);
            a.originalCellIndex = x;
            a.sortable = s;

            temp_a.push(a);

            if (dt.hiddenColumns.indexOf(column) < 0) {
                b = h.cloneNode(true);
                b.originalCellIndex = x;
                b.sortable = s;

                temp_b.push(b);
            }
        });

        // Order the row cells
        each(dt.data, function (row, i) {
            c = row.cloneNode();
            d = row.cloneNode();

            c.dataIndex = i;
            d.dataIndex = i;

            if (row.searchIndex !== null && row.searchIndex !== undefined) {
                c.searchIndex = row.searchIndex;
                d.searchIndex = row.searchIndex;
            }

            // Append to cell to the fragment in the correct order
            each(
                columns,
                function (x, column) {
                    c.appendChild(row.cells[column].cloneNode(true));

                    if (dt.hiddenColumns.indexOf(column) < 0) {
                        d.appendChild(row.cells[column].cloneNode(true));
                    }
                },
                this
            );

            temp_c.push(c);
            temp_d.push(d);
        });

        dt.headings = temp_a;
        dt.activeHeadings = temp_b;

        dt.data = temp_c;
        dt.activeRows = temp_d;

        // Update
        dt.update();
    };

    /**
     * Hide columns
     * @return {Void}
     */
    Columns.prototype.hide = function (columns) {
        if (columns.length) {
            var dt = this.dt;

            each(columns, function (column) {
                if (dt.hiddenColumns.indexOf(column) < 0) {
                    dt.hiddenColumns.push(column);
                }
            });

            this.rebuild();
        }
    };

    /**
     * Show columns
     * @return {Void}
     */
    Columns.prototype.show = function (columns) {
        if (columns.length) {
            var index, dt = this.dt;

            each(columns, function (column) {
                index = dt.hiddenColumns.indexOf(column);
                if (index > -1) {
                    dt.hiddenColumns.splice(index, 1);
                }
            });

            this.rebuild();
        }
    };

    /**
     * Check column(s) visibility
     * @return {Boolean}
     */
    Columns.prototype.visible = function (columns) {
        var cols, dt = this.dt;

        columns = columns || dt.headings.map(function (th) {
            return th.originalCellIndex;
        });

        if (!isNaN(columns)) {
            cols = dt.hiddenColumns.indexOf(columns) < 0;
        } else if (isArray(columns)) {
            cols = [];
            each(columns, function (column) {
                cols.push(dt.hiddenColumns.indexOf(column) < 0);
            });
        }

        return cols;
    };

    /**
     * Check column(s) visibility
     * @return {Boolean}
     */
    Columns.prototype.hidden = function (columns) {
        var cols, dt = this.dt;

        columns = columns || this.dt.headings.map(function (th) {
            return th.originalCellIndex;
        });

        if (!isNaN(columns)) {
            cols = dt.hiddenColumns.indexOf(this.columns) > -1;
        } else if (isArray(columns)) {
            cols = [];
            each(columns, function (column) {
                cols.push(dt.hiddenColumns.indexOf(column) > -1);
            });
        }

        return cols;
    };

    /**
     * Add a new column
     * @param {Object} data
     */
    Columns.prototype.add = function (data) {
        var that = this,
            td, th = document.createElement("th");

        if (!this.dt.headings.length) {
            this.dt.insert({
                headings: [data.heading],
                data: data.data.map(function (i) {
                    return [i];
                })
            });
            this.rebuild();
            return;
        }

        if (!this.dt.hiddenHeader) {
            if (data.heading.nodeName) {
                th.appendChild(data.heading);
            } else {
                th.innerHTML = data.heading;
            }
        } else {
            th.innerHTML = "";
        }

        this.dt.headings.push(th);

        each(this.dt.data, function (row, i) {
            if (data.data[i]) {
                td = document.createElement("td");

                if (data.data[i].nodeName) {
                    td.appendChild(data.data[i]);
                } else {
                    td.innerHTML = data.data[i];
                }

                td.data = td.innerHTML;

                if (data.render) {
                    td.innerHTML = data.render.call(that, td.data, td, row);
                }

                row.appendChild(td);
            }
        });

        if (data.type) {
            th.setAttribute("data-type", data.type);
        }
        if (data.format) {
            th.setAttribute("data-format", data.format);
        }

        if (data.hasOwnProperty("sortable")) {
            th.sortable = data.sortable;
            th.setAttribute("data-sortable", data.sortable === true ? "true" : "false");
        }

        this.rebuild();

        this.dt.renderHeader();
    };

    /**
     * Remove column(s)
     * @param  {Array|Number} select
     * @return {Void}
     */
    Columns.prototype.remove = function (select) {
        if (isArray(select)) {
            // Remove in reverse otherwise the indexes will be incorrect
            select.sort(function (a, b) {
                return b - a;
            });

            each(select, function (column) {
                this.remove(column);
            }, this);
        } else {
            this.dt.headings.splice(select, 1);

            each(this.dt.data, function (row) {
                row.removeChild(row.cells[select]);
            });
        }

        this.rebuild();
    };

    /**
     * Sort by column
     * @param  {int} column - The column no.
     * @param  {string} direction - asc or desc
     * @return {void}
     */
    Columns.prototype.sort = function (column, direction, init) {

        var dt = this.dt;

        // Check column is present
        if (dt.hasHeadings && (column < 1 || column > dt.activeHeadings.length)) {
            return false;
        }

        dt.sorting = true;

        // Convert to zero-indexed
        column = column - 1;

        var dir,
            rows = dt.data,
            alpha = [],
            numeric = [],
            a = 0,
            n = 0,
            th = dt.activeHeadings[column];

        column = th.originalCellIndex;

        each(rows, function (tr) {
            var cell = tr.cells[column];
            var content = cell.data;
            var num = content.replace(/(\$|\,|\s|%)/g, "");

            // Check for date format and moment.js
            if (th.getAttribute("data-type") === "date" && win.moment) {
                var format = false,
                    formatted = th.hasAttribute("data-format");

                if (formatted) {
                    format = th.getAttribute("data-format");
                }

                num = parseDate(content, format);
            }

            if (parseFloat(num) == num) {
                numeric[n++] = {
                    value: Number(num),
                    row: tr
                };
            } else {
                alpha[a++] = {
                    value: content,
                    row: tr
                };
            }
        });

        /* Sort according to direction (ascending or descending) */
        var top, btm;
        if (classList.contains(th, "asc") || direction == "asc") {
            top = sortItems(alpha, -1);
            btm = sortItems(numeric, -1);
            dir = "descending";
            classList.remove(th, "asc");
            classList.add(th, "desc");
        } else {
            top = sortItems(numeric, 1);
            btm = sortItems(alpha, 1);
            dir = "ascending";
            classList.remove(th, "desc");
            classList.add(th, "asc");
        }

        /* Clear asc/desc class names from the last sorted column's th if it isn't the same as the one that was just clicked */
        if (dt.lastTh && th != dt.lastTh) {
            classList.remove(dt.lastTh, "desc");
            classList.remove(dt.lastTh, "asc");
        }

        dt.lastTh = th;

        /* Reorder the table */
        rows = top.concat(btm);

        dt.data = [];
        var indexes = [];

        each(rows, function (v, i) {
            dt.data.push(v.row);

            if (v.row.searchIndex !== null && v.row.searchIndex !== undefined) {
                indexes.push(i);
            }
        }, dt);

        dt.searchData = indexes;

        this.rebuild();

        dt.update();

        if (!init) {
            dt.emit("datatable.sort", column, dir);
        }
    };

    /**
     * Rebuild the columns
     * @return {Void}
     */
    Columns.prototype.rebuild = function () {
        var a, b, c, d;
        var dt = this.dt,
            temp = [];

        dt.activeRows = [];
        dt.activeHeadings = [];

        each(dt.headings, function (th, i) {
            th.originalCellIndex = i;
            th.sortable = th.getAttribute("data-sortable") !== "false";
            if (dt.hiddenColumns.indexOf(i) < 0) {
                dt.activeHeadings.push(th);
            }
        }, this);

        // Loop over the rows and reorder the cells
        each(dt.data, function (row, i) {
            a = row.cloneNode();
            b = row.cloneNode();

            a.dataIndex = i;
            b.dataIndex = i;

            if (row.searchIndex !== null && row.searchIndex !== undefined) {
                a.searchIndex = row.searchIndex;
                b.searchIndex = row.searchIndex;
            }

            // Append to cell to the fragment in the correct order
            each(row.cells, function (cell) {
                c = cell.cloneNode(true);
                c.data = cell.data;
                a.appendChild(c);

                if (dt.hiddenColumns.indexOf(cell.cellIndex) < 0) {
                    d = cell.cloneNode(true);
                    d.data = cell.data;
                    b.appendChild(d);
                }
            });

            // Append the fragment with the ordered cells
            temp.push(a);
            dt.activeRows.push(b);
        });

        dt.data = temp;

        dt.update();
    };

    /**
     * Rows API
     * @param {Object} instance DataTable instance
     * @param {Array} rows
     */
    var Rows = function (dt, rows) {
        this.dt = dt;
        this.rows = rows;

        return this;
    };

    /**
     * Build a new row
     * @param  {Array} row
     * @return {HTMLElement}
     */
    Rows.prototype.build = function (row) {
        var td, tr = createElement("tr");

        var headings = this.dt.headings;

        if (!headings.length) {
            headings = row.map(function () {
                return "";
            });
        }

        each(headings, function (h, i) {
            td = createElement("td");

			// Fixes #29
            if (!row[i] && !row[i].length) {
                row[i] = "";
            }

			td.innerHTML = row[i];

            td.data = row[i];

            tr.appendChild(td);
        });

        return tr;
    };

    Rows.prototype.render = function (row) {
        return row;
    };

    /**
     * Add new row
     * @param {Array} select
     */
    Rows.prototype.add = function (data) {

        if (isArray(data)) {
            var dt = this.dt;
            // Check for multiple rows
            if (isArray(data[0])) {
                each(data, function (row, i) {
                    dt.data.push(this.build(row));
                }, this);
            } else {
                dt.data.push(this.build(data));
            }

            this.update();

            dt.columns().rebuild();
        }
    };

    /**
     * Remove row(s)
     * @param  {Array|Number} select
     * @return {Void}
     */
    Rows.prototype.remove = function (select) {

        var dt = this.dt;

        if (isArray(select)) {
            // Remove in reverse otherwise the indexes will be incorrect
            select.sort(function (a, b) {
                return b - a;
            });

            each(select, function (row, i) {
                dt.data.splice(row, 1);
            });
        } else {
            dt.data.splice(select, 1);
        }

        this.update();
        dt.columns().rebuild();
    };

    /**
     * Update row indexes
     * @return {Void}
     */
    Rows.prototype.update = function () {
        each(this.dt.data, function (row, i) {
            row.dataIndex = i;
        });
    };

    ////////////////////
    //    MAIN LIB    //
    ////////////////////

    var DataTable = function (table, options) {
        this.initialized = false;

        // user options
        this.options = extend(defaultConfig, options);

        if (typeof table === "string") {
            var selector = table;
            table = document.querySelector(table);

            if (!table) {
                throw new Error("The element '" + selector + "' can not be found.");
            }
        }

        if (table.tagName.toLowerCase() !== "table") {
            throw new Error("The selected element is not a table.");
        }

        this.initialLayout = table.innerHTML;
        this.initialSortable = this.options.sortable;

        // Disable manual sorting if no header is present (#4)
        if (!this.options.header) {
            this.options.sortable = false;
        }

        if (table.tHead === null) {
            if (!this.options.data ||
                (this.options.data && !this.options.data.headings)
            ) {
                this.options.sortable = false;
            }
        }

        if (table.tBodies.length && !table.tBodies[0].rows.length) {
            if (this.options.data) {
                if (!this.options.data.data) {
                    throw new Error(
                        "You seem to be using the data option, but you've not defined any rows."
                    );
                }
            }
        }

        this.table = table;

        this.init();
    };

    var proto = DataTable.prototype;

    /**
     * Add custom property or method to extend DataTable
     * @param  {String} prop    - Method name or property
     * @param  {Mixed} val      - Function or property value
     * @return {Void}
     */
    DataTable.extend = function (prop, val) {
        if (typeof val === "function") {
            DataTable.prototype[prop] = val;
        } else {
            DataTable[prop] = val;
        }
    };

    /**
     * Initialize the instance
     * @param  {Object} options
     * @return {Void}
     */
    proto.init = function (options) {
        if (this.initialized || classList.contains(this.table, "dataTable-table")) {
            return false;
        }

        var that = this;

        this.options = extend(this.options, options || {});

        // IE detection
        this.isIE = !!/(msie|trident)/i.test(navigator.userAgent);

        this.currentPage = 1;
        this.onFirstPage = true;

        this.hiddenColumns = [];
        this.columnRenderers = [];
        this.selectedColumns = [];

        this.render();

        if (this.options.plugins) {
            each(this.options.plugins, function (options, plugin) {
                this[plugin](options);
            }, this);
        }

        setTimeout(function () {
            that.emit("datatable.init");
            that.initialized = true;
        }, 10);
    };

    /**
     * Render the instance
     * @param  {String} type
     * @return {Void}
     */
    proto.render = function (type) {
        if (type) {
            switch (type) {
            case "page":
                this.renderPage();
                break;
            case "pager":
                this.renderPager();
                break;
            case "header":
                this.renderHeader();
                break;
            }

            return false;
        }

        var that = this,
            o = that.options,
            template = "";

        // Convert data to HTML
        if (o.data) {
            dataToTable.call(that);
        }

        if (o.ajax) {
            var ajax = o.ajax;
            var xhr = new XMLHttpRequest();

            var xhrProgress = function (e) {
                that.emit("datatable.ajax.progress", e, xhr);
            };

            var xhrLoad = function (e) {
                if (xhr.readyState === 4) {
                    that.emit("datatable.ajax.loaded", e, xhr);

                    if (xhr.status === 200) {
                        var obj = {};
                        obj.data = ajax.load ? ajax.load.call(that, xhr) : xhr.responseText;

                        obj.type = "json";

                        if (ajax.content && ajax.content.type) {
                            obj.type = ajax.content.type;

                            obj = extend(obj, ajax.content);
                        }

                        that.import(obj);

                        that.setColumns(true);

                        that.emit("datatable.ajax.success", e, xhr);
                    } else {
                        that.emit("datatable.ajax.error", e, xhr);
                    }
                }
            };

            var xhrFailed = function (e) {
                that.emit("datatable.ajax.error", e, xhr);
            };

            var xhrCancelled = function (e) {
                that.emit("datatable.ajax.abort", e, xhr);
            };

            on(xhr, "progress", xhrProgress);
            on(xhr, "load", xhrLoad);
            on(xhr, "error", xhrFailed);
            on(xhr, "abort", xhrCancelled);

            that.emit("datatable.ajax.loading", xhr);

            xhr.open("GET", typeof ajax === "string" ? o.ajax : o.ajax.url);
            xhr.send();
        }

        // Store references
        that.body = that.table.tBodies[0];
        that.head = that.table.tHead;
        that.foot = that.table.tFoot;

        if (!that.body) {
            that.body = createElement("tbody");

            that.table.appendChild(that.body);
        }

        that.hasRows = that.body.rows.length > 0;

        // Make a tHead if there isn't one (fixes #8)
        if (!that.head) {
            var h = createElement("thead");
            var t = createElement("tr");

            if (that.hasRows) {
                each(that.body.rows[0].cells, function () {
                    t.appendChild(createElement("th"));
                });

                h.appendChild(t);
            }

            that.head = h;

            that.table.insertBefore(that.head, that.body);

            that.hiddenHeader = !o.ajax;
        }

        that.headings = [];
        that.hasHeadings = that.head.rows.length > 0;

        if (that.hasHeadings) {
            that.header = that.head.rows[0];
            that.headings = [].slice.call(that.header.cells);
        }

        // Header
        if (!o.header) {
            if (that.head) {
                that.table.removeChild(that.table.tHead);
            }
        }

        // Footer
        if (o.footer) {
            if (that.head && !that.foot) {
                that.foot = createElement("tfoot", {
                    html: that.head.innerHTML
                });
                that.table.appendChild(that.foot);
            }
        } else {
            if (that.foot) {
                that.table.removeChild(that.table.tFoot);
            }
        }

        // Build
        that.wrapper = createElement("div", {
            class: "dataTable-wrapper dataTable-loading"
        });

        // Template for custom layouts
        template += "<div class='dataTable-top'>";
        template += o.layout.top;
        template += "</div>";
        template += "<div class='dataTable-container'></div>";
        template += "<div class='dataTable-bottom'>";
        template += o.layout.bottom;
        template += "</div>";

        // Info placement
        template = template.replace("{info}", "<div class='dataTable-info'></div>");

        // Per Page Select
        if (o.perPageSelect) {
            var wrap = "<div class='dataTable-dropdown'><label>";
            wrap += o.labels.perPage;
            wrap += "</label></div>";

            // Create the select
            var select = createElement("select", {
                class: "dataTable-selector"
            });

            // Create the options
            each(o.perPageSelect, function (val) {
                var selected = val === o.perPage;
                var option = new Option(val, val, selected, selected);
                select.add(option);
            });

            // Custom label
            wrap = wrap.replace("{select}", select.outerHTML);

            // Selector placement
            template = template.replace("{select}", wrap);
        } else {
            template = template.replace("{select}", "");
        }

        // Searchable
        if (o.searchable) {
            var form =
                "<div class='dataTable-search'><input class='dataTable-input' placeholder='" +
                o.labels.placeholder +
                "' type='text'></div>";

            // Search input placement
            template = template.replace("{search}", form);
        } else {
            template = template.replace("{search}", "");
        }

        if (that.hasHeadings) {
            // Sortable
            this.render("header");
        }

        // Add table class
        classList.add(that.table, "dataTable-table");

        // Paginator
        var w = createElement("div", {
            class: "dataTable-pagination"
        });
        var paginator = createElement("ul");
        w.appendChild(paginator);

        // Pager(s) placement
        template = template.replace(/\{pager\}/g, w.outerHTML);

        that.wrapper.innerHTML = template;

        that.container = that.wrapper.querySelector(".dataTable-container");

        that.pagers = that.wrapper.querySelectorAll(".dataTable-pagination");

        that.label = that.wrapper.querySelector(".dataTable-info");

        // Insert in to DOM tree
        that.table.parentNode.replaceChild(that.wrapper, that.table);
        that.container.appendChild(that.table);

        // Store the table dimensions
        that.rect = that.table.getBoundingClientRect();

        // Convert rows to array for processing
        that.data = [].slice.call(that.body.rows);
        that.activeRows = that.data.slice();
        that.activeHeadings = that.headings.slice();

        // Update
        that.update();

        if (!o.ajax) {
            that.setColumns();
        }

        // Fix height
        this.fixHeight();

        // Fix columns
        that.fixColumns();

        // Class names
        if (!o.header) {
            classList.add(that.wrapper, "no-header");
        }

        if (!o.footer) {
            classList.add(that.wrapper, "no-footer");
        }

        if (o.sortable) {
            classList.add(that.wrapper, "sortable");
        }

        if (o.searchable) {
            classList.add(that.wrapper, "searchable");
        }

        if (o.fixedHeight) {
            classList.add(that.wrapper, "fixed-height");
        }

        if (o.fixedColumns) {
            classList.add(that.wrapper, "fixed-columns");
        }

        that.bindEvents();
    };

    /**
     * Render the page
     * @return {Void}
     */
    proto.renderPage = function () {
        if (this.hasRows && this.totalPages) {
            if (this.currentPage > this.totalPages) {
                this.currentPage = 1;
            }

            // Use a fragment to limit touching the DOM
            var index = this.currentPage - 1,
                frag = doc.createDocumentFragment();

            if (this.hasHeadings) {
                flush(this.header, this.isIE);

                each(this.activeHeadings, function (th) {
                    this.header.appendChild(th);
                }, this);
            }

            each(this.pages[index], function (row) {
                frag.appendChild(this.rows().render(row));
            }, this);

            this.clear(frag);

            this.onFirstPage = this.currentPage === 1;
            this.onLastPage = this.currentPage === this.lastPage;
        } else {
            this.clear();
        }

        // Update the info
        var current = 0,
            f = 0,
            t = 0,
            items;

        if (this.totalPages) {
            current = this.currentPage - 1;
            f = current * this.options.perPage;
            t = f + this.pages[current].length;
            f = f + 1;
            items = !!this.searching ? this.searchData.length : this.data.length;
        }

        if (this.label && this.options.labels.info.length) {
            // CUSTOM LABELS
            var string = this.options.labels.info
                .replace("{start}", f)
                .replace("{end}", t)
                .replace("{page}", this.currentPage)
                .replace("{pages}", this.totalPages)
                .replace("{rows}", items);

            this.label.innerHTML = items ? string : "";
        }

        if (this.currentPage == 1) {
            this.fixHeight();
        }
    };

    /**
     * Render the pager(s)
     * @return {Void}
     */
    proto.renderPager = function () {
        flush(this.pagers, this.isIE);

        if (this.totalPages > 1) {
            var c = "pager",
                frag = doc.createDocumentFragment(),
                prev = this.onFirstPage ? 1 : this.currentPage - 1,
                next = this.onlastPage ? this.totalPages : this.currentPage + 1;

            // first button
            if (this.options.firstLast) {
                frag.appendChild(button(c, 1, this.options.firstText));
            }

            // prev button
            if (this.options.nextPrev) {
                frag.appendChild(button(c, prev, this.options.prevText));
            }

            var pager = this.links;

            // truncate the links
            if (this.options.truncatePager) {
                pager = truncate(
                    this.links,
                    this.currentPage,
                    this.pages.length,
                    this.options.pagerDelta,
                    this.options.ellipsisText
                );
            }

            // active page link
            classList.add(this.links[this.currentPage - 1], "active");

            // append the links
            each(pager, function (p) {
                classList.remove(p, "active");
                frag.appendChild(p);
            });

            classList.add(this.links[this.currentPage - 1], "active");

            // next button
            if (this.options.nextPrev) {
                frag.appendChild(button(c, next, this.options.nextText));
            }

            // first button
            if (this.options.firstLast) {
                frag.appendChild(button(c, this.totalPages, this.options.lastText));
            }

            // We may have more than one pager
            each(this.pagers, function (pager) {
                pager.appendChild(frag.cloneNode(true));
            });
        }
    };

    /**
     * Render the header
     * @return {Void}
     */
    proto.renderHeader = function () {
        var that = this;

        that.labels = [];

        if (that.headings && that.headings.length) {
            each(that.headings, function (th, i) {

                that.labels[i] = th.textContent;

                if (classList.contains(th.firstElementChild, "dataTable-sorter")) {
                    th.innerHTML = th.firstElementChild.innerHTML;
                }

                th.sortable = th.getAttribute("data-sortable") !== "false";

                th.originalCellIndex = i;
                if (that.options.sortable && th.sortable) {
                    var link = createElement("a", {
                        href: "#",
                        class: "dataTable-sorter",
                        html: th.innerHTML
                    });

                    th.innerHTML = "";
                    th.setAttribute("data-sortable", "");
                    th.appendChild(link);
                }
            });
        }

        that.fixColumns();
    };

    /**
     * Bind event listeners
     * @return {[type]} [description]
     */
    proto.bindEvents = function () {
        var that = this,
            o = that.options;

        // Per page selector
        if (o.perPageSelect) {
            var selector = that.wrapper.querySelector(".dataTable-selector");
            if (selector) {
                // Change per page
                on(selector, "change", function (e) {
                    o.perPage = parseInt(this.value, 10);
                    that.update();

                    that.fixHeight();

                    that.emit("datatable.perpage", o.perPage);
                });
            }
        }

        // Search input
        if (o.searchable) {
            that.input = that.wrapper.querySelector(".dataTable-input");
            if (that.input) {
                on(that.input, "keyup", function (e) {
                    that.search(this.value);
                });
            }
        }

        // Pager(s) / sorting
        on(that.wrapper, "click", function (e) {
            var t = e.target;
            if (t.nodeName.toLowerCase() === "a") {
                if (t.hasAttribute("data-page")) {
                    that.page(t.getAttribute("data-page"));
                    e.preventDefault();
                } else if (
                    o.sortable &&
                    classList.contains(t, "dataTable-sorter") &&
                    t.parentNode.getAttribute("data-sortable") != "false"
                ) {
                    that.columns().sort(that.activeHeadings.indexOf(t.parentNode) + 1);
                    e.preventDefault();
                }
            }
        });
    };

    /**
     * Set up columns
     * @return {[type]} [description]
     */
    proto.setColumns = function (ajax) {

        var that = this;

        if (!ajax) {
            each(that.data, function (row) {
                each(row.cells, function (cell) {
                    cell.data = cell.innerHTML;
                });
            });
        }

        // Check for the columns option
        if (that.options.columns && that.headings.length) {

            each(that.options.columns, function (data) {

                // convert single column selection to array
                if (!isArray(data.select)) {
                    data.select = [data.select];
                }

                if (data.hasOwnProperty("render") && typeof data.render === "function") {
                    that.selectedColumns = that.selectedColumns.concat(data.select);

                    that.columnRenderers.push({
                        columns: data.select,
                        renderer: data.render
                    });
                }

                // Add the data attributes to the th elements
                each(data.select, function (column) {
                    var th = that.headings[column];
                    if (data.type) {
                        th.setAttribute("data-type", data.type);
                    }
                    if (data.format) {
                        th.setAttribute("data-format", data.format);
                    }
                    if (data.hasOwnProperty("sortable")) {
                        th.setAttribute("data-sortable", data.sortable);
                    }

                    if (data.hasOwnProperty("hidden")) {
                        if (data.hidden !== false) {
                            that.columns(column).hide();
                        }
                    }

                    if (data.hasOwnProperty("sort") && data.select.length === 1) {
                        that.columns().sort(data.select[0] + 1, data.sort, true);
                    }
                });
            });
        }

        if (that.hasRows) {
            each(that.data, function (row, i) {
                row.dataIndex = i;
                each(row.cells, function (cell) {
                    cell.data = cell.innerHTML;
                });
            });

            if (that.selectedColumns.length) {
                each(that.data, function (row) {
                    each(row.cells, function (cell, i) {
                        if (that.selectedColumns.indexOf(i) > -1) {
                            each(that.columnRenderers, function (o) {
                                if (o.columns.indexOf(i) > -1) {
                                    cell.innerHTML = o.renderer.call(that, cell.data, cell, row);
                                }
                            });
                        }
                    });
                });
            }

            that.columns().rebuild();
        }

        that.render("header");
    };

    /**
     * Destroy the instance
     * @return {void}
     */
    proto.destroy = function () {
        this.table.innerHTML = this.initialLayout;

        // Remove the className
        classList.remove(this.table, "dataTable-table");

        // Remove the containers
        this.wrapper.parentNode.replaceChild(this.table, this.wrapper);

        this.initialized = false;
    };

    /**
     * Update the instance
     * @return {Void}
     */
    proto.update = function () {
        this.paginate(this);
        this.render("page");

        this.links = [];

        var i = this.pages.length;
        while (i--) {
            var num = i + 1;
            this.links[i] = button(i === 0 ? "active" : "", num, num);
        }

        this.sorting = false;

        this.render("pager");

        this.rows().update();

        this.emit("datatable.update");
    };

    /**
     * Sort rows into pages
     * @return {Number}
     */
    proto.paginate = function () {
        var perPage = this.options.perPage,
            rows = this.activeRows;

        if (this.searching) {
            rows = [];

            each(this.searchData, function (index) {
                rows.push(this.activeRows[index]);
            }, this);
        }

        // Check for hidden columns
        this.pages = rows
            .map(function (tr, i) {
                return i % perPage === 0 ? rows.slice(i, i + perPage) : null;
            })
            .filter(function (page) {
                return page;
            });

        this.totalPages = this.lastPage = this.pages.length;

        return this.totalPages;
    };

    /**
     * Fix column widths
     * @return {Void}
     */
    proto.fixColumns = function () {

        if (this.options.fixedColumns && this.activeHeadings && this.activeHeadings.length) {

            var cells,
                hd = false;

            this.columnWidths = [];

            // If we have headings we need only set the widths on them
            // otherwise we need a temp header and the widths need applying to all cells
            if (this.table.tHead) {
                // Reset widths
                each(this.activeHeadings, function (cell) {
                    cell.style.width = "";
                }, this);

                each(this.activeHeadings, function (cell, i) {
                    var ow = cell.offsetWidth;
                    var w = ow / this.rect.width * 100;
                    cell.style.width = w + "%";
                    this.columnWidths[i] = ow;
                }, this);
            } else {
                cells = [];

                // Make temperary headings
                hd = createElement("thead");
                var r = createElement("tr");
                var c = this.table.tBodies[0].rows[0].cells;
                each(c, function () {
                    var th = createElement("th");
                    r.appendChild(th);
                    cells.push(th);
                });

                hd.appendChild(r);
                this.table.insertBefore(hd, this.body);

                var widths = [];
                each(cells, function (cell, i) {
                    var ow = cell.offsetWidth;
                    var w = ow / this.rect.width * 100;
                    widths.push(w);
                    this.columnWidths[i] = ow;
                }, this);

                each(this.data, function (row) {
                    each(row.cells, function (cell, i) {
                        if (this.columns(cell.cellIndex).visible())
                            cell.style.width = widths[i] + "%";
                    }, this);
                }, this);

                // Discard the temp header
                this.table.removeChild(hd);
            }
        }
    };

    /**
     * Fix the container height;
     * @return {Void}
     */
    proto.fixHeight = function () {
    	if (this.options.fixedHeight) {
	        this.container.style.height = null;
	        this.rect = this.container.getBoundingClientRect();
	        this.container.style.height = this.rect.height + "px";
	    }
    };

    /**
     * Perform a search of the data set
     * @param  {string} query
     * @return {void}
     */
    proto.search = function (query) {
        if (!this.hasRows) return false;

        var that = this;

        query = query.toLowerCase();

        this.currentPage = 1;
        this.searching = true;
        this.searchData = [];

        if (!query.length) {
            this.searching = false;
            this.update();
            this.emit("datatable.search", query, this.searchData);
            classList.remove(this.wrapper, "search-results");
            return false;
        }

        this.clear();

        each(this.data, function (row, idx) {
            var inArray = this.searchData.indexOf(row) > -1;

            // https://github.com/Mobius1/Vanilla-DataTables/issues/12
            var doesQueryMatch = query.split(" ").reduce(function (bool, word) {
                var includes = false;

                for (var x = 0; x < row.cells.length; x++) {
                    if (
                        row.cells[x].textContent.toLowerCase().indexOf(word) > -1 &&
                        that.columns(row.cells[x].cellIndex).visible()
                    ) {
                        includes = true;
                        break;
                    }
                }

                return bool && includes;
            }, true);

            if (doesQueryMatch && !inArray) {
                row.searchIndex = idx;
                this.searchData.push(idx);
            } else {
                row.searchIndex = null;
            }
        }, this);

        classList.add(this.wrapper, "search-results");

        if (!that.searchData.length) {
            classList.remove(that.wrapper, "search-results");

            that.setMessage(that.options.labels.noRows);
        } else {
            that.update();
        }

        this.emit("datatable.search", query, this.searchData);
    };

    /**
     * Change page
     * @param  {int} page
     * @return {void}
     */
    proto.page = function (page) {
        // We don't want to load the current page again.
        if (page == this.currentPage) {
            return false;
        }

        if (!isNaN(page)) {
            this.currentPage = parseInt(page, 10);
        }

        if (page > this.pages.length || page < 0) {
            return false;
        }

        this.render("page");
        this.render("pager");

        this.emit("datatable.page", page);
    };

    /**
     * Sort by column
     * @param  {int} column - The column no.
     * @param  {string} direction - asc or desc
     * @return {void}
     */
    proto.sortColumn = function (column, direction) {
        // Use columns API until sortColumn method is removed
        this.columns().sort(column, direction);
    };

    /**
     * Add new row data
     * @param {object} data
     */
    proto.insert = function (data) {

        var that = this,
            rows = [];
        if (isObject(data)) {
            if (data.headings) {
                if (!that.hasHeadings && !that.hasRows) {
                    var tr = createElement("tr"),
                        th;
                    each(data.headings, function (heading) {
                        th = createElement("th", {
                            html: heading
                        });

                        tr.appendChild(th);
                    });
                    that.head.appendChild(tr);

                    that.header = tr;
                    that.headings = [].slice.call(tr.cells);
                    that.hasHeadings = true;

                    // Re-enable sorting if it was disabled due
                    // to missing header
                    that.options.sortable = that.initialSortable;

                    // Allow sorting on new header
                    that.render("header");
                }
            }

            if (data.data && isArray(data.data)) {
                rows = data.data;
            }
        } else if (isArray(data)) {
            each(data, function (row) {
                var r = [];
                each(row, function (cell, heading) {

                    var index = that.labels.indexOf(heading);

                    if (index > -1) {
                        r[index] = cell;
                    }
                });
                rows.push(r);
            });
        }

        if (rows.length) {
            that.rows().add(rows);

            that.hasRows = true;
        }

        that.update();

        that.fixColumns();
    };

    /**
     * Refresh the instance
     * @return {void}
     */
    proto.refresh = function () {
        if (this.options.searchable) {
            this.input.value = "";
            this.searching = false;
        }
        this.currentPage = 1;
        this.onFirstPage = true;
        this.update();

        this.emit("datatable.refresh");
    };

    /**
     * Truncate the table
     * @param  {mixes} html - HTML string or HTMLElement
     * @return {void}
     */
    proto.clear = function (html) {
        if (this.body) {
            flush(this.body, this.isIE);
        }

        var parent = this.body;
        if (!this.body) {
            parent = this.table;
        }

        if (html) {
            if (typeof html === "string") {
                var frag = doc.createDocumentFragment();
                frag.innerHTML = html;
            }

            parent.appendChild(html);
        }
    };

    /**
     * Export table to various formats (csv, txt or sql)
     * @param  {Object} options User options
     * @return {Boolean}
     */
    proto.export = function (options) {
        if (!this.hasHeadings && !this.hasRows) return false;

        var headers = this.activeHeadings,
            rows = [],
            arr = [],
            i,
            x,
            str,
            link;

        var defaults = {
            download: true,
            skipColumn: [],

            // csv
            lineDelimiter: "\n",
            columnDelimiter: ",",

            // sql
            tableName: "myTable",

            // json
            replacer: null,
            space: 4
        };

        // Check for the options object
        if (!isObject(options)) {
            return false;
        }

        var o = extend(defaults, options);

        if (o.type) {
            if (o.type === "txt" || o.type === "csv") {
                // Include headings
                rows[0] = this.header;
            }

            // Selection or whole table
            if (o.selection) {
                // Page number
                if (!isNaN(o.selection)) {
                    rows = rows.concat(this.pages[o.selection - 1]);
                } else if (isArray(o.selection)) {
                    // Array of page numbers
                    for (i = 0; i < o.selection.length; i++) {
                        rows = rows.concat(this.pages[o.selection[i] - 1]);
                    }
                }
            } else {
                rows = rows.concat(this.activeRows);
            }

            // Only proceed if we have data
            if (rows.length) {
                if (o.type === "txt" || o.type === "csv") {
                    str = "";

                    for (i = 0; i < rows.length; i++) {
                        for (x = 0; x < rows[i].cells.length; x++) {
                            // Check for column skip and visibility
                            if (
                                o.skipColumn.indexOf(headers[x].originalCellIndex) < 0 &&
                                this.columns(headers[x].originalCellIndex).visible()
                            ) {
                                str += rows[i].cells[x].textContent + o.columnDelimiter;
                            }
                        }
                        // Remove trailing column delimiter
                        str = str.trim().substring(0, str.length - 1);

                        // Apply line delimiter
                        str += o.lineDelimiter;
                    }

                    // Remove trailing line delimiter
                    str = str.trim().substring(0, str.length - 1);

                    if (o.download) {
                        str = "data:text/csv;charset=utf-8," + str;
                    }
                } else if (o.type === "sql") {
                    // Begin INSERT statement
                    str = "INSERT INTO `" + o.tableName + "` (";

                    // Convert table headings to column names
                    for (i = 0; i < headers.length; i++) {
                        // Check for column skip and column visibility
                        if (
                            o.skipColumn.indexOf(headers[i].originalCellIndex) < 0 &&
                            this.columns(headers[i].originalCellIndex).visible()
                        ) {
                            str += "`" + headers[i].textContent + "`,";
                        }
                    }

                    // Remove trailing comma
                    str = str.trim().substring(0, str.length - 1);

                    // Begin VALUES
                    str += ") VALUES ";

                    // Iterate rows and convert cell data to column values
                    for (i = 0; i < rows.length; i++) {
                        str += "(";

                        for (x = 0; x < rows[i].cells.length; x++) {
                            // Check for column skip and column visibility
                            if (
                                o.skipColumn.indexOf(headers[x].originalCellIndex) < 0 &&
                                this.columns(headers[x].originalCellIndex).visible()
                            ) {
                                str += '"' + rows[i].cells[x].textContent + '",';
                            }
                        }

                        // Remove trailing comma
                        str = str.trim().substring(0, str.length - 1);

                        // end VALUES
                        str += "),";
                    }

                    // Remove trailing comma
                    str = str.trim().substring(0, str.length - 1);

                    // Add trailing colon
                    str += ";";

                    if (o.download) {
                        str = "data:application/sql;charset=utf-8," + str;
                    }
                } else if (o.type === "json") {
                    // Iterate rows
                    for (x = 0; x < rows.length; x++) {
                        arr[x] = arr[x] || {};
                        // Iterate columns
                        for (i = 0; i < headers.length; i++) {
                            // Check for column skip and column visibility
                            if (
                                o.skipColumn.indexOf(headers[i].originalCellIndex) < 0 &&
                                this.columns(headers[i].originalCellIndex).visible()
                            ) {
                                arr[x][headers[i].textContent] = rows[x].cells[i].textContent;
                            }
                        }
                    }

                    // Convert the array of objects to JSON string
                    str = JSON.stringify(arr, o.replacer, o.space);

                    if (o.download) {
                        str = "data:application/json;charset=utf-8," + str;
                    }
                }

                // Download
                if (o.download) {
                    // Filename
                    o.filename = o.filename || "datatable_export";
                    o.filename += "." + o.type;

                    str = encodeURI(str);

                    // Create a link to trigger the download
                    link = document.createElement("a");
                    link.href = str;
                    link.download = o.filename;

                    // Append the link
                    body.appendChild(link);

                    // Trigger the download
                    link.click();

                    // Remove the link
                    body.removeChild(link);
                }

                return str;
            }
        }

        return false;
    };

    /**
     * Import data to the table
     * @param  {Object} options User options
     * @return {Boolean}
     */
    proto.import = function (options) {
        var obj = false;
        var defaults = {
            // csv
            lineDelimiter: "\n",
            columnDelimiter: ","
        };

        // Check for the options object
        if (!isObject(options)) {
            return false;
        }

        options = extend(defaults, options);

        if (options.data.length || isObject(options.data)) {
            // Import CSV
            if (options.type === "csv") {
                obj = {
                    data: []
                };

                // Split the string into rows
                var rows = options.data.split(options.lineDelimiter);

                if (rows.length) {

                    if (options.headings) {
                        obj.headings = rows[0].split(options.columnDelimiter);

                        rows.shift();
                    }

                    each(rows, function (row, i) {
                        obj.data[i] = [];

                        // Split the rows into values
                        var values = row.split(options.columnDelimiter);

                        if (values.length) {
                            each(values, function (value) {
                                obj.data[i].push(value);
                            });
                        }
                    });
                }
            } else if (options.type === "json") {
                var json = isJson(options.data);

                // Valid JSON string
                if (json) {
                    obj = {
                        headings: [],
                        data: []
                    };

                    each(json, function (data, i) {
                        obj.data[i] = [];
                        each(data, function (value, column) {
                            if (obj.headings.indexOf(column) < 0) {
                                obj.headings.push(column);
                            }

                            obj.data[i].push(value);
                        });
                    });
                } else {
                    console.warn("That's not valid JSON!");
                }
            }

            if (isObject(options.data)) {
                obj = options.data;
            }

            if (obj) {
                // Add the rows
                this.insert(obj);
            }
        }

        return false;
    };
    /**
     * Print the table
     * @return {void}
     */
    proto.print = function () {
        var headings = this.activeHeadings;
        var rows = this.activeRows;
        var table = createElement("table");
        var thead = createElement("thead");
        var tbody = createElement("tbody");

        var tr = createElement("tr");
        each(headings, function (th) {
            tr.appendChild(
                createElement("th", {
                    html: th.textContent
                })
            );
        });

        thead.appendChild(tr);

        each(rows, function (row) {
            var tr = createElement("tr");
            each(row.cells, function (cell) {
                tr.appendChild(
                    createElement("td", {
                        html: cell.textContent
                    })
                );
            });
            tbody.appendChild(tr);
        });

        table.appendChild(thead);
        table.appendChild(tbody);

        // Open new window
        var w = win.open();

        // Append the table to the body
        w.document.body.appendChild(table);

        // Print
        w.print();
    };

    /**
     * Show a message in the table
     * @param {string} message
     */
    proto.setMessage = function (message) {
        var colspan = 1;

        if (this.hasRows) {
            colspan = this.data[0].cells.length;
        }

        this.clear(
            createElement("tr", {
                html: '<td class="dataTables-empty" colspan="' +
                    colspan +
                    '">' +
                    message +
                    "</td>"
            })
        );
    };

    /**
     * Columns API access
     * @return {Object} new Columns instance
     */
    proto.columns = function (columns) {
        return new Columns(this, columns);
    };

    /**
     * Rows API access
     * @return {Object} new Rows instance
     */
    proto.rows = function (rows) {
        return new Rows(this, rows);
    };

    /**
     * Add custom event listener
     * @param  {String} event
     * @param  {Function} callback
     * @return {Void}
     */
    proto.on = function (event, callback) {
        this.events = this.events || {};
        this.events[event] = this.events[event] || [];
        this.events[event].push(callback);
    };

    /**
     * Remove custom event listener
     * @param  {String} event
     * @param  {Function} callback
     * @return {Void}
     */
    proto.off = function (event, callback) {
        this.events = this.events || {};
        if (event in this.events === false) return;
        this.events[event].splice(this.events[event].indexOf(callback), 1);
    };

    /**
     * Fire custom event
     * @param  {String} event
     * @return {Void}
     */
    proto.emit = function (event) {
        this.events = this.events || {};
        if (event in this.events === false) return;
        for (var i = 0; i < this.events[event].length; i++) {
            this.events[event][i].apply(this, Array.prototype.slice.call(arguments, 1));
        }
    };

    return DataTable;
});
});

var color_countries = 'rgb(147,144,252)';
var color_disabled = 'rgb(214, 214, 214)';
var color_sup = 'green';
var color_inf = 'red';
var color_highlight = 'yellow';

function createTableDOM(data, opts, config) {
  var num = config.num,
      denum = config.denum,
      ratio = config.ratio,
      my_region = config.my_region;

  var options = opts || {};
  options.id = options.id || 'myTable';
  var doc = document;
  var nb_features = data.length;
  var column_names = Object.getOwnPropertyNames(data[0]);
  var nb_columns = column_names.length;
  var myTable = doc.createElement('table');
  var headers = doc.createElement('thead');
  var body = doc.createElement('tbody');
  var headers_row = doc.createElement('tr');
  for (var i = 0; i < nb_columns; i++) {
    var cell = doc.createElement('th');
    var col_name = column_names[i];
    if (col_name === 'num') {
      cell.innerHTML = 'Num<br><span class="small">' + num;
    } else if (col_name === 'denum') {
      cell.innerHTML = 'Denum<br><span class="small">' + denum;
    } else if (col_name === 'ratio') {
      cell.innerHTML = 'Ratio<br><span class="small">' + ratio;
    } else if (col_name === 'rang') {
      cell.innerHTML = 'Rang ';
    } else {
      cell.innerHTML = col_name;
    }
    headers_row.appendChild(cell);
  }
  headers.appendChild(headers_row);
  myTable.appendChild(headers);
  for (var _i = 0; _i < nb_features; _i++) {
    var row = doc.createElement('tr');
    row.id = 'row_' + data[_i].id;
    if (data[_i].id === my_region) {
      row.className = color_highlight;
    }
    for (var j = 0; j < nb_columns; j++) {
      var _cell = doc.createElement('td');
      var _col_name = column_names[j];
      if (_col_name === 'num' || _col_name === 'denum' || _col_name === 'ratio') {
        _cell.innerHTML = Math.round(data[_i][_col_name] * 100) / 10;
      } else {
        _cell.innerHTML = data[_i][_col_name];
      }
      row.appendChild(_cell);
    }
    body.appendChild(row);
  }
  myTable.appendChild(body);
  myTable.setAttribute('id', options.id);
  return myTable;
}

function makeTable(data_no_empty, config) {
  var table = createTableDOM(data_no_empty, undefined, config);
  document.querySelector('#map_section').appendChild(table);
  var dataTable = new vanillaDataTables('#myTable');
  var t = document.querySelector('.dataTable-wrapper');
  t.style.marginTop = '20px';
  t.style.display = 'none';
  t.style.fontSize = '0.7em';
  // t.querySelector('.dataTable-top').remove();
  Array.prototype.slice.call(t.querySelectorAll('span.small')).forEach(function (el) {
    el.onclick = function () {
      el.parentElement.click();
    }; // eslint-disable-line no-param-reassign
  });
}

var classCallCheck = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

var createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();



























var slicedToArray = function () {
  function sliceIterator(arr, i) {
    var _arr = [];
    var _n = true;
    var _d = false;
    var _e = undefined;

    try {
      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
        _arr.push(_s.value);

        if (i && _arr.length === i) break;
      }
    } catch (err) {
      _d = true;
      _e = err;
    } finally {
      try {
        if (!_n && _i["return"]) _i["return"]();
      } finally {
        if (_d) throw _e;
      }
    }

    return _arr;
  }

  return function (arr, i) {
    if (Array.isArray(arr)) {
      return arr;
    } else if (Symbol.iterator in Object(arr)) {
      return sliceIterator(arr, i);
    } else {
      throw new TypeError("Invalid attempt to destructure non-iterable instance");
    }
  };
}();

var math_abs = Math.abs;
var math_round = Math.round;

function prepareTooltip(parent_svg_elem) {
  var tooltip = parent_svg_elem.append('g').attr('class', 'tooltip').style('display', 'none');

  tooltip.append('rect').attrs({ width: 50, height: 40, fill: 'white' }).style('opacity', 0.5);

  tooltip.append('text').attrs({ class: 'id_feature', x: 25, dy: '1.2em', 'font-size': '14px' }).style('text-anchor', 'middle');

  tooltip.append('text').attrs({
    class: 'value_feature1',
    x: 25,
    dy: '2.4em',
    'font-size': '14px',
    'font-weight': 'bold' }).style('text-anchor', 'middle');

  tooltip.append('text').attrs({
    class: 'value_feature2',
    x: 25,
    dy: '3.5em',
    'font-size': '14px',
    'font-weight': 'bold' }).style('text-anchor', 'middle');

  return tooltip;
}

function unbindUI() {
  // Removes the current behavior corresponding to clicking on the left menu:
  d3.selectAll('span.filter_v').on('click', null);
  d3.selectAll('span.target_region').on('click', null);
  d3.selectAll('span.label_chk').on('click', null);

  // Remove the table:
  d3.select('.dataTable-wrapper').remove();

  // Unbind buttons on the top of the map:
  d3.select('#header_map').selectAll('img').on('click', null);

  // Remove the selection menu (or buttons) under the chart:
  d3.select('#bar_section > #buttons_under_chart').remove();

  // Removes the current behavior corresponding to clicking on the top menu:
  d3.selectAll('.type_chart.title_menu').on('click', null);

  // Removes the current behavior corresponding to pressing the Control key:
  document.onkeyup = null;
  document.onkeydown = null;
}

var comp = function comp(test_value, ref_value, serie_inversed) {
  if (test_value < ref_value) {
    return serie_inversed ? 'green' : 'red';
  } else {
    return serie_inversed ? 'red' : 'green';
  }
};

var Rect = function () {
  function Rect(topleft, bottomright) {
    classCallCheck(this, Rect);

    this.xmin = topleft[0];
    this.xmax = bottomright[0];
    this.ymin = topleft[1];
    this.ymax = bottomright[1];
  }

  createClass(Rect, [{
    key: 'contains',
    value: function contains(pt) {
      if (pt[0] >= this.xmin && pt[0] <= this.xmax && pt[1] >= this.ymin && pt[1] <= this.ymax) {
        return true;
      }
      return false;
    }
  }]);
  return Rect;
}();

var PropSizer = function PropSizer(fixed_value, fixed_size) {
  var _this = this;

  this.fixed_value = fixed_value;
  var sqrt = Math.sqrt;
  var abs = Math.abs;
  var PI = Math.PI;
  this.smax = fixed_size * fixed_size * PI;
  this.scale = function (val) {
    return sqrt(abs(val) * _this.smax / _this.fixed_value) / PI;
  };
  // this.get_value = size => ((size * PI) ** 2) / this.smax * this.fixed_value;
  // Use Math pow to support browser without ** operator:
  // eslint-disable-next-line no-restricted-properties
  this.get_value = function (size) {
    return Math.pow(size * PI, 2) / _this.smax * _this.fixed_value;
  };
};

function prepare_dataset(full_dataset, app) {
  app.full_dataset = full_dataset;
  // Create an Object feature_id ->  feature_name for easier lookup:
  app.feature_names = {};
  full_dataset.forEach(function (elem) {
    app.feature_names[elem.geo] = elem.Nom;
  });
}

/**
* Attach the full_dataset Array to the app Object and create a dictionnary
* allowing to obtain territorial units name from their Id.
*
* @param {Object} app - The variable containing the global parameters about
*   the current state of the application.
* @return {Array} - The filtered data, containing only the requested variables
*   for the feature of the current study zone,
*    without features containing empty ratios.
*
*/
function filter_no_empty(app) {
  // Fetch the name(s) of the ratio (and associated num and denum variable),
  // the name of the targeted region and the current level :
  var _app$current_config = app.current_config,
      num = _app$current_config.num,
      denum = _app$current_config.denum,
      ratio = _app$current_config.ratio,
      my_region = _app$current_config.my_region,
      current_level = _app$current_config.current_level;
  // Prepare the data:

  var temp = app.full_dataset.filter(function (ft) {
    return +ft.level === current_level;
  }).map(function (ft) {
    return {
      id: ft.geo,
      name: ft.Nom,
      num: +ft[num],
      denum: +ft[denum] / 1000,
      ratio: +ft[ratio]
    };
  });
  // Filter data for empty values :
  var filtered_data = temp.filter(function (ft) {
    if (ft.id === my_region) {
      app.current_config.ref_value = ft.ratio;
    }
    return ft.ratio;
  });
  // Sort the serie according to the current "inversed" state on the displayed chart:
  if (!app.serie_inversed) {
    filtered_data.sort(function (a, b) {
      return a.ratio - b.ratio;
    });
  } else {
    filtered_data.sort(function (a, b) {
      return b.ratio - a.ratio;
    });
  }
  filtered_data.forEach(function (d, i) {
    d.rang = i + 1;
  });
  // Compute the ratio of available values ("complétude") within
  // the study zone selected by the user:
  app.completude = math_round(filtered_data.length / temp.length * 1000) / 10;
  return filtered_data;
}

/**
* Apply a filter (ie. restrict the study zone) on the dataset to be used.
*
* @param {String} filter_type - The name of the filter to use.
* @return {void}
*
*/
function applyFilter(app, filter_type) {
  app.current_data = filter_no_empty(app);
  if (filter_type === 'no_filter') {
    // eslint-disable-next-line no-unused-expressions
    null; // Don't filter anything..
  } else if (filter_type === 'filter_FR') {
    app.current_data = app.current_data.filter(function (d) {
      return d.id.indexOf('FR') > -1;
    });
  } else {
    var a = math_round(Math.random() * 50);
    var b = math_round(Math.random() * 101);
    if (a > b) {
      
      var _ref = [b, a];
      a = _ref[0];
      b = _ref[1];
    }app.current_data = app.current_data.slice(a, b);
    var maybe_my_region = app.current_data.filter(function (d) {
      return d.id === app.current_config.my_region;
    })[0];
    if (maybe_my_region === undefined) {
      app.current_data.push(app.full_dataset.filter(function (d) {
        return d.geo === app.current_config.my_region;
      })[0]);
    }
  }
  app.current_ids = app.current_data.map(function (d) {
    return d.id;
  });
  app.current_ranks = app.current_data.map(function (d, i) {
    return i + 1;
  });
  if (!app.serie_inversed) {
    app.current_data.sort(function (a, b) {
      return a.ratio - b.ratio;
    });
  } else {
    app.current_data.sort(function (a, b) {
      return b.ratio - a.ratio;
    });
  }
  app.colors = {};
  app.colors[app.current_config.my_region] = color_highlight;
}

// TODO : Doc
function changeRegion(app, id_region) {
  app.current_config.my_region = id_region;
  app.current_config.my_region_pretty_name = app.feature_names[app.current_config.my_region];
  // Reset the color to use on the chart/map:
  app.colors = {};
  app.colors[app.current_config.my_region] = color_highlight;
  // app.current_data = filter_no_empty(app);
  // Change the reference ratio value:
  app.current_config.ref_value = app.current_data.filter(function (d) {
    return d.id === app.current_config.my_region;
  }).map(function (d) {
    return d.ratio;
  })[0];
}
/* eslint-enable no-param-reassign */

var svg_map = d3.select('svg#svg_map');
var margin_map = { top: 0, right: 0, bottom: 0, left: 0 };
var width_map = +svg_map.attr('width') - margin_map.left - margin_map.right;
var height_map = +svg_map.attr('height') - margin_map.top - margin_map.bottom;

var styles = {
  template: { id: 'template', fill: 'rgb(247, 252, 254)', 'fill-opacity': 1 },
  countries: { id: 'countries', fill: 'rgb(214, 214, 214)', 'fill-opacity': 1, 'stroke-width': 0.5, stroke: '#ffffff' },
  seaboxes: { id: 'seaboxes', fill: '#e0faff', 'fill-opacity': 1, stroke: 'black', 'stroke-width': 0.2 },
  remote: { id: 'remote', fill: 'rgb(214, 214, 214)', 'fill-opacity': 1, 'stroke-width': 0.5, stroke: '#ffffff' },
  seaboxes2: { id: 'seaboxes2', fill: 'none', stroke: 'black', 'stroke-width': 0.8 },
  nuts1_no_data: { id: 'nuts1_no_data', fill: 'white', 'fill-opacity': 1, 'stroke-width': 0.5, stroke: 'lightgrey' },
  nuts1: { id: 'nuts1', 'fill-opacity': 1, 'stroke-width': 0.5, stroke: '#ffffff' }
};

var projection = void 0;
var path = void 0;

function get_bbox_layer_path(name) {
  var bbox_layer = [[Infinity, Infinity], [-Infinity, -Infinity]];
  svg_map.select('#' + name).selectAll('path').each(function (d) {
    var bbox_path = path.bounds(d.geometry);
    bbox_layer[0][0] = bbox_path[0][0] < bbox_layer[0][0] ? bbox_path[0][0] : bbox_layer[0][0];
    bbox_layer[0][1] = bbox_path[0][1] < bbox_layer[0][1] ? bbox_path[0][1] : bbox_layer[0][1];
    bbox_layer[1][0] = bbox_path[1][0] > bbox_layer[1][0] ? bbox_path[1][0] : bbox_layer[1][0];
    bbox_layer[1][1] = bbox_path[1][1] > bbox_layer[1][1] ? bbox_path[1][1] : bbox_layer[1][1];
  });
  return bbox_layer;
}

function fitLayer() {
  projection.scale(1).translate([0, 0]);
  var b = get_bbox_layer_path('template');
  var s = 1 / Math.max((b[1][0] - b[0][0]) / width_map, (b[1][1] - b[0][1]) / height_map);
  var t = [(width_map - s * (b[1][0] + b[0][0])) / 2, (height_map - s * (b[1][1] + b[0][1])) / 2];
  projection.scale(s).translate(t);
  svg_map.selectAll('path').attr('d', path);
}

function map_zoomed() {
  var transform = d3.event.transform;
  if (transform.k === 1) {
    transform.x = 0;
    transform.y = 0;
  }
  var layers = svg_map.select('#layers');
  var t = layers.selectAll('g').transition().duration(225);

  layers.selectAll('g').transition(t).style('stroke-width', function () {
    return styles[this.id]['stroke-width'] / transform.k + 'px';
  });

  layers.selectAll('g').transition(t).attr('transform', transform);

  svg_map.select('.brush_map').transition(t).attr('transform', transform);
}

var MapSelect = function () {
  function MapSelect(nuts1, countries, remote, template, seaboxes) {
    classCallCheck(this, MapSelect);

    projection = d3.geoIdentity().fitExtent([[0, 0], [width_map, height_map]], template).reflectY(true);

    nuts1.features.forEach(function (ft) {
      ft.properties.ratio = // eslint-disable-line no-param-reassign
      +ft.properties[app.current_config.num] / +ft.properties[app.current_config.denum] * 100000;
    });
    var no_data_features = nuts1.features.filter(function (ft) {
      return isNaN(ft.properties.ratio);
    });
    // eslint-disable-next-line no-param-reassign
    nuts1.features = nuts1.features.filter(function (ft) {
      return !isNaN(ft.properties.ratio);
    });

    path = d3.geoPath().projection(projection);
    var layers = svg_map.append('g').attr('id', 'layers');

    this.zoom_map = d3.zoom().scaleExtent([1, 5]).translateExtent([[0, 0], [width_map, height_map]]).on('zoom', map_zoomed);

    svg_map.call(this.zoom_map);

    layers.append('g').attrs(styles.template).selectAll('path').data(template.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs(styles.countries).attr('id', 'countries').selectAll('path').data(countries.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs(styles.seaboxes).selectAll('path').data(seaboxes.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs(styles.remote).selectAll('path').data(remote.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs(styles.seaboxes2).selectAll('path').data(seaboxes.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs(styles.nuts1_no_data).selectAll('path').data(no_data_features).enter().append('path').attr('d', path);

    this.target_layer = layers.append('g').attrs(styles.nuts1);
    this.target_layer.selectAll('path').data(nuts1.features).enter().append('path').attr('fill', function (d) {
      return d.properties.NUTS1_2016 !== app.current_config.my_region ? color_countries : color_highlight;
    }).attr('d', path);

    fitLayer();
    prepareTooltip(svg_map);
    this.bindTooltip();
  }

  createClass(MapSelect, [{
    key: 'resetColors',
    value: function resetColors() {
      var id_field_geom = app.current_config.id_field_geom;
      this.target_layer.selectAll('path').attr('fill', function (d) {
        return app.current_ids.indexOf(d.properties[id_field_geom]) > -1 ? app.colors[d.properties[id_field_geom]] || color_countries : color_disabled;
      });
    }
  }, {
    key: 'bindTooltip',
    value: function bindTooltip() {
      this.target_layer.selectAll('path').on('mouseover', function () {
        svg_map.select('.tooltip').style('display', null);
      }).on('mouseout', function () {
        svg_map.select('.tooltip').style('display', 'none');
      }).on('mousemove', function (d) {
        var tooltip = svg_map.select('.tooltip');
        tooltip.select('text.id_feature').text('' + d.properties[app.current_config.id_field_geom]);
        tooltip.select('text.value_feature1').text('' + math_round(d.properties[app.current_config.ratio] * 10) / 10);
        tooltip.attr('transform', 'translate(' + [d3.mouse(this)[0] - 5, d3.mouse(this)[1] - 45] + ')');
      });
    }
  }, {
    key: 'resetZoom',
    value: function resetZoom() {
      svg_map.transition().duration(250).call(this.zoom_map.transform, d3.zoomIdentity);
    }
  }, {
    key: 'updateLegend',
    value: function updateLegend() {
      d3.select('#svg_legend > g > .legend > text').text('Ma r\xE9gion : ' + app.current_config.my_region_pretty_name);
    }
  }, {
    key: 'removeRectBrush',
    value: function removeRectBrush() {
      svg_map.select('.brush_map').call(this.brush_map.move, null);
    }
  }, {
    key: 'bindBrush',
    value: function bindBrush(chart) {
      this.brush_map = d3.brush().extent([[0, 0], [width_map, height_map]]).on('start brush', function () {
        if (!d3.event || !d3.event.selection) return;
        chart.handle_brush_map(d3.event);
      });
      svg_map.append('g').attr('class', 'brush_map').call(this.brush_map);
    }
  }, {
    key: 'unbindBrush',
    value: function unbindBrush() {
      this.brush_map = null;
      svg_map.select('.brush_map').remove();
    }
  }]);
  return MapSelect;
}();

function makeSourceSection() {
  var text_zone = d3.select('#svg_legend').append('text').attrs({ y: 32.5, 'text-anchor': 'end' }).style('font-size', '11px').style('font-family', '\'Signika\', sans-serif');
  text_zone.append('tspan').attrs({ x: 470, dy: 12 }).text('Niveau régional : NUTS 1 (version 2016)');
  text_zone.append('tspan').attrs({ x: 470, dy: 12 }).text('Origine des données : Eurostat, 2016');
  text_zone.append('tspan').attrs({ x: 470, dy: 12 }).text('Limite administrative: UMS RIATE, CC-BY-SA');
}

function makeMapLegend() {
  var legend_elems = [{ color: color_highlight, text: 'Ma r\xE9gion : ' + app.current_config.my_region_pretty_name }, { color: color_countries, text: 'Autres régions du filtre de comparaison' }, { color: color_sup, text: 'Rang plus élevé que ma région' }, { color: color_inf, text: 'Rang moins élevé que ma région' }];

  var rect_size = 14;
  var spacing = 4;
  var lgd_height = rect_size + spacing;
  var offset = lgd_height * legend_elems.length / 2;

  var grp_lgd = d3.select('#svg_legend').append('g').attr('transform', 'translate(50, 40)').styles({ 'font-size': '11px', 'font-family': '\'Signika\', sans-serif' });

  var legends = grp_lgd.selectAll('.legend').data(legend_elems).enter().append('g').attr('class', 'legend').attr('transform', function (d, i) {
    var tx = -2 * rect_size;
    var ty = i * lgd_height - offset;
    return 'translate(' + [tx, ty] + ')';
  });

  legends.append('rect').attrs({ width: rect_size, height: rect_size }).styles(function (d) {
    return { fill: d.color, stroke: d.color };
  });

  legends.append('text').attrs({ x: rect_size + spacing, y: rect_size - spacing }).text(function (d) {
    return d.text;
  });
}

var svg_bar = d3.select('svg#svg_bar');
var margin = { top: 10, right: 20, bottom: 100, left: 30 };
var margin2 = { top: 430, right: 20, bottom: 15, left: 30 };
var width = +svg_bar.attr('width') - margin.left - margin.right;
var height = +svg_bar.attr('height') - margin.top - margin.bottom;
var height2 = +svg_bar.attr('height') - margin2.top - margin2.bottom;

var nbFt = void 0;
var mean_value = void 0;
var current_range_brush = [0, 0];
var current_range = [0, 0];
var displayed = void 0;

function getMeanRank() {
  var mean_rank = app.current_data.map(function (d, i) {
    return [d.ratio, math_abs(mean_value - d.ratio), i];
  });
  mean_rank.sort(function (a, b) {
    return a[1] - b[1];
  });
  mean_rank = mean_rank[0];
  if (mean_rank[1] > mean_value) {
    mean_rank = mean_rank[2] - 1;
  } else {
    mean_rank = mean_rank[2];
  }
  return mean_rank;
}

var BarChart1 = function () {
  function BarChart1(ref_data) {
    var _this = this;

    classCallCheck(this, BarChart1);

    this.brushed = function () {
      if (d3.event.sourceEvent && d3.event.sourceEvent.type === 'zoom') return; // ignore brush-by-zoom
      if (!_this.x) {
        console.log('a');return;
      }
      var s = d3.event.selection || _this.x2.range();
      current_range = [math_round(s[0] / (width / nbFt)), math_round(s[1] / (width / nbFt))];
      _this.x.domain(app.current_data.slice(current_range[0], current_range[1]).map(function (ft) {
        return ft.id;
      }));
      svg_bar.select('.zoom').call(_this.zoom.transform, d3.zoomIdentity.scale(width / (current_range[1] - current_range[0])).translate(-current_range[0], 0));
      _this.update();
      _this.updateContext(current_range[0], current_range[1]);
      svg_bar.select('.brush_top').call(_this.brush_top.move, null);
      _this.brushed_top();
    };

    this.brushed_top = function () {
      if (!_this._focus) {
        console.log('b');return;
      }
      if (!_this.map_elem) {
        console.log('c');return;
      }
      var d3_event = d3.event;
      if (d3_event && d3_event.selection && d3_event.sourceEvent && d3_event.sourceEvent.target === document.querySelector('.brush_top > rect.overlay')) {
        _this.map_elem.removeRectBrush();
        var s = d3_event.selection;
        current_range_brush = [current_range[0] + math_round(s[0] / (width / displayed)) - 1, current_range[0] + math_round(s[1] / (width / displayed))];
        _this.x.domain(app.current_data.slice(current_range_brush[0] + 1, current_range_brush[1]).map(function (ft) {
          return ft.id;
        }));
        app.colors = {};
        _this._focus.selectAll('.bar').style('fill', function (d, i) {
          if (d.id === app.current_config.my_region) {
            app.colors[d.id] = color_highlight;
            return color_highlight;
          } else if (i > current_range_brush[0] && i < current_range_brush[1]) {
            var color = comp(d.ratio, app.current_config.ref_value, app.serie_inversed);
            app.colors[d.id] = color;
            return color;
          }
          return color_countries;
        });
        _this.updateMapRegio();
      } else {
        if (d3_event && !d3_event.selection && d3_event.sourceEvent && d3_event.sourceEvent.detail !== undefined) {
          _this.map_elem.removeRectBrush();
          app.colors = {};
          app.colors[app.current_config.my_region] = color_highlight;
          _this.updateMapRegio();
        }
        _this._focus.selectAll('.bar').style('fill', function (d) {
          return app.colors[d.id] || color_countries;
        });
      }
    };
    var x = d3.scaleBand().range([0, width]).padding(0.1),
        x2 = d3.scaleBand().range([0, width]).padding(0.1),
        y = d3.scaleLinear().range([height, 0]),
        y2 = d3.scaleLinear().range([height2, 0]);

    var xAxis = d3.axisBottom(x);
    var xAxis2 = d3.axisBottom(x2);
    var yAxis = d3.axisLeft(y);

    this.x = x;
    this.x2 = x2;
    this.y = y;
    this.y2 = y2;
    this.xAxis = xAxis;
    this.yAxis = yAxis;
    this.xAxis2 = xAxis2;

    var data = ref_data;
    data.sort(function (a, b) {
      return a.ratio - b.ratio;
    });
    app.current_ids = data.map(function (d) {
      return d.id;
    });
    app.current_ranks = data.map(function (d, i) {
      return i + 1;
    });
    nbFt = data.length;
    mean_value = d3.mean(data.map(function (d) {
      return d.ratio;
    }));

    svg_bar.append('defs').append('clipPath').attr('id', 'clip').append('rect').attrs({ width: width, height: height });

    var focus = svg_bar.append('g').attr('class', 'focus').attr('transform', 'translate(' + margin.left + ', ' + margin.top + ')');

    var context = svg_bar.append('g').attr('class', 'context').attr('transform', 'translate(' + margin2.left + ', ' + margin2.top + ')');

    this._focus = focus;
    this.context = context;

    x.domain(data.map(function (ft) {
      return ft.id;
    }));
    y.domain([d3.min(data, function (d) {
      return d.ratio;
    }) - 2, d3.max(data, function (d) {
      return d.ratio;
    })]);
    x2.domain(x.domain());
    y2.domain(y.domain());

    var brush_bottom = d3.brushX().extent([[0, 0], [width, height2]]).on('brush end', this.brushed);

    var brush_top = d3.brushX().extent([[0, 0], [width, height]]).on('brush end', this.brushed_top);

    var zoom = d3.zoom().scaleExtent([1, Infinity]).translateExtent([[0, 0], [width, height]]).extent([[0, 0], [width, height]]);
    // .on("zoom", zoomed);
    this.brush_top = brush_top;
    this.brush_bottom = brush_bottom;
    this.zoom = zoom;

    focus.append('g').attrs({ class: 'axis axis--x', transform: 'translate(0, ' + height + ')' }).call(xAxis);

    focus.select('.axis--x').selectAll('text').style('text-anchor', 'end').attrs({ dx: '-0.8em', dy: '0.15em', transform: 'rotate(-65)' });

    focus.append('g').attr('class', 'axis axis--y').call(yAxis);

    this.g_bar = focus.append('g');

    var groupe_line_mean = focus.append('g').attr('class', 'mean');
    groupe_line_mean.append('text').attrs({ x: 60, y: y(mean_value) + 20 }).styles({
      display: 'none',
      fill: 'red',
      'fill-opacity': '0.8',
      'font-family': '\'Signika\', sans-serif'
    }).text('Valeur moyenne');

    groupe_line_mean.append('line').attrs({
      x1: 0,
      x2: width,
      y1: y(mean_value),
      y2: y(mean_value),
      'stroke-dasharray': '10, 5',
      'stroke-width': '2px',
      class: 'mean_line'
    }).style('stroke', 'red');

    groupe_line_mean.append('line').attrs({ x1: 0, x2: width, y1: y(mean_value), y2: y(mean_value), 'stroke-width': '14px' }).style('stroke', 'transparent').on('mouseover', function () {
      groupe_line_mean.select('text').style('display', 'initial');
    }).on('mouseout', function () {
      groupe_line_mean.select('text').style('display', 'none');
    });

    this.updateMiniBars();

    context.append('g').attr('class', 'brush_bottom').call(brush_bottom).call(brush_bottom.move, x.range());

    focus.append('g').attr('class', 'brush_top').call(brush_top).call(brush_top.move, null);

    this.completude = svg_bar.append('text').attrs({ id: 'chart_completude', x: 60, y: 40 }).styles({ 'font-family': '\'Signika\', sans-serif' }).text('Compl\xE9tude : ' + app.completude + '%');

    svg_bar.append('image').attrs({
      x: width + margin.left + 5,
      y: 385,
      width: 15,
      height: 15,
      'xlink:href': 'img/reverse_blue.png',
      id: 'img_reverse'
    }).on('click', function () {
      data = app.current_data;
      app.serie_inversed = !app.serie_inversed;
      if (data[0].ratio < data[data.length - 1].ratio) {
        data.sort(function (a, b) {
          return b.ratio - a.ratio;
        });
      } else {
        data.sort(function (a, b) {
          return a.ratio - b.ratio;
        });
      }
      x.domain(data.slice(current_range[0], current_range[1]).map(function (ft) {
        return ft.id;
      }));
      x2.domain(data.map(function (ft) {
        return ft.id;
      }));
      // svg_bar.select(".zoom").call(zoom.transform, d3.zoomIdentity
      //     .scale(width / (current_range[1] - current_range[0]))
      //     .translate(-current_range[0], 0));
      _this.update();
      // this.updateMiniBars();
      _this.updateContext(current_range[0], current_range[1]);
      svg_bar.select('.brush_top').call(brush_top.move, null);
      _this.map_elem.removeRectBrush();
      svg_bar.select('.brush_bottom').call(brush_bottom.move, x.range());
    });

    var tooltip = prepareTooltip(svg_bar);

    // Deactivate the brush rect selection on the map + on the chart
    // when he user press the Ctrl key:
    document.onkeydown = function (event) {
      if (event && event.key === 'Control') {
        svg_bar.select('.brush_top').selectAll('.selection, .overlay').style('display', 'none');
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', 'none');
      }
    };
    document.onkeyup = function (event) {
      if (event && event.key === 'Control') {
        svg_bar.select('.brush_top').selectAll('.selection, .overlay').style('display', null);
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', null);
      }
    };
  }

  createClass(BarChart1, [{
    key: 'updateCompletude',
    value: function updateCompletude() {
      console.log(app.completude);
      this.completude.text('Compl\xE9tude : ' + app.completude + '%');
    }
  }, {
    key: 'updateContext',
    value: function updateContext(min, max) {
      this.context.selectAll('.bar').style('fill-opacity', function (_, i) {
        return i >= min && i < max ? '1' : '0.3';
      });
    }
  }, {
    key: 'update',
    value: function update() {
      var _this2 = this;

      displayed = 0;

      var bar = this.g_bar.selectAll('.bar').data(app.current_data);

      bar.attr('x', function (d) {
        return _this2.x(d.id);
      }).attr('width', this.x.bandwidth()).attr('y', function (d) {
        return _this2.y(d.ratio);
      }).attr('height', function (d) {
        return height - _this2.y(d.ratio);
      }).style('fill', function (d) {
        return app.colors[d.id] || color_countries;
      }).style('display', function (d) {
        var to_display = _this2.x(d.id) != null;
        if (to_display) {
          displayed += 1;
          return 'initial';
        }
        return 'none';
      }).on('mouseover', function () {
        svg_bar.select('.tooltip').style('display', null);
      }).on('mouseout', function () {
        svg_bar.select('.tooltip').style('display', 'none');
      }).on('mousemove', function (d) {
        var tooltip = svg_bar.select('.tooltip');
        tooltip.select('text.id_feature').text('' + d.id);
        tooltip.select('text.value_feature1').text('' + math_round(d.ratio * 10) / 10);
        tooltip.attr('transform', 'translate(' + [d3.mouse(this)[0] - 5, d3.mouse(this)[1] - 45] + ')');
      });

      bar.enter().insert('rect', '.mean').attr('class', 'bar').attr('x', function (d) {
        return _this2.x(d.id);
      }).attr('width', this.x.bandwidth()).attr('y', function (d) {
        return _this2.y(d.ratio);
      }).attr('height', function (d) {
        return height - _this2.y(d.ratio);
      });

      bar.exit().remove();

      this._focus.select('.axis--y').call(this.yAxis);

      this._focus.select('.mean_line').attrs({
        y1: this.y(mean_value),
        y2: this.y(mean_value)
      });

      var axis_x = this._focus.select('.axis--x').attr('font-size', function () {
        return displayed > 75 ? 6 : 10;
      }).call(this.xAxis);
      axis_x.selectAll('text').attrs(function () {
        if (displayed > 100) {
          return { dx: '-0.8em', dy: '0.15em', transform: 'rotate(-65)' };
        } else if (displayed > 20) {
          return { dx: '-0.8em', dy: '0.15em', transform: 'rotate(-65)' };
        } else {
          return { dx: '0', dy: '0.71em', transform: null };
        }
      }).style('text-anchor', function () {
        return displayed > 20 ? 'end' : 'middle';
      });

      this.updateMiniBars();
    }
  }, {
    key: 'updateMiniBars',
    value: function updateMiniBars() {
      var _this3 = this;

      var mini_bars = this.context.selectAll('.bar').data(app.current_data);

      mini_bars.attr('x', function (d) {
        return _this3.x2(d.id);
      }).attr('width', this.x2.bandwidth()).attr('y', function (d) {
        return _this3.y2(d.ratio);
      }).attr('height', function (d) {
        return height2 - _this3.y2(d.ratio);
      }).style('fill', function (d) {
        return d.id !== app.current_config.my_region ? color_countries : color_highlight;
      });

      mini_bars.enter().insert('rect').attr('class', 'bar').attr('x', function (d) {
        return _this3.x2(d.id);
      }).attr('width', this.x2.bandwidth()).attr('y', function (d) {
        return _this3.y2(d.ratio);
      }).attr('height', function (d) {
        return height2 - _this3.y2(d.ratio);
      }).style('fill', function (d) {
        return d.id !== app.current_config.my_region ? color_countries : color_highlight;
      });
      mini_bars.exit().remove();
    }
  }, {
    key: 'updateMapRegio',
    value: function updateMapRegio() {
      this.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        return app.current_ids.indexOf(d.properties[app.current_config.id_field_geom]) > -1 ? app.colors[d.properties[app.current_config.id_field_geom]] || color_countries : color_disabled;
      });
    }
  }, {
    key: 'selectAboveMyRegion',
    value: function selectAboveMyRegion() {
      var my_rank = app.current_data.map(function (d, i) {
        return [d.id, i];
      }).filter(function (d) {
        return d[0] === app.current_config.my_region;
      })[0][1];
      app.colors = {};
      app.colors[app.current_config.my_region] = color_highlight;
      if (!app.serie_inversed) {
        current_range_brush = [my_rank, app.current_data.length];
        app.current_data.filter(function (d, i) {
          return i > my_rank;
        }).map(function (d) {
          return d.id;
        }).forEach(function (ft) {
          app.colors[ft] = color_sup;
        });
      } else {
        current_range_brush = [0, my_rank];
        app.current_data.filter(function (d, i) {
          return i < my_rank;
        }).map(function (d) {
          return d.id;
        }).forEach(function (ft) {
          app.colors[ft] = color_inf;
        });
      }
      svg_bar.select('.brush_top').call(this.brush_top.move, current_range_brush.map(function (d) {
        return d * (width / nbFt);
      }));
      this.updateMapRegio();
    }
  }, {
    key: 'selectBelowMyRegion',
    value: function selectBelowMyRegion() {
      var my_rank = app.current_data.map(function (d, i) {
        return [d.id, i];
      }).filter(function (d) {
        return d[0] === app.current_config.my_region;
      })[0][1];
      app.colors = {};
      app.colors[app.current_config.my_region] = color_highlight;
      if (!app.serie_inversed) {
        current_range_brush = [0, my_rank];
        app.current_data.filter(function (d, i) {
          return i < my_rank;
        }).map(function (d) {
          return d.id;
        }).forEach(function (ft) {
          app.colors[ft] = color_inf;
        });
      } else {
        current_range_brush = [my_rank, app.current_data.length];
        app.current_data.filter(function (d, i) {
          return i > my_rank;
        }).map(function (d) {
          return d.id;
        }).forEach(function (ft) {
          app.colors[ft] = color_sup;
        });
      }
      svg_bar.select('.brush_top').call(this.brush_top.move, current_range_brush.map(function (d) {
        return d * (width / nbFt);
      }));
      this.updateMapRegio();
    }
  }, {
    key: 'selectAboveMean',
    value: function selectAboveMean() {
      var mean_rank = getMeanRank();
      app.colors = {};
      app.colors[app.current_config.my_region] = color_highlight;
      if (!app.serie_inversed) {
        current_range_brush = [mean_rank, app.current_data.length];
        app.current_data.filter(function (d) {
          return d.ratio > mean_value;
        }).forEach(function (ft) {
          if (ft.ratio > app.current_config.ref_value) app.colors[ft.id] = color_sup;else app.colors[ft.id] = color_inf;
        });
      } else {
        current_range_brush = [0, mean_rank + 1];
        app.current_data.filter(function (d) {
          return d.ratio > mean_value;
        }).forEach(function (ft) {
          if (ft.ratio > app.current_config.ref_value) app.colors[ft.id] = color_inf;else app.colors[ft.id] = color_sup;
        });
      }
      app.colors[app.current_config.my_region] = color_highlight;
      svg_bar.select('.brush_top').call(this.brush_top.move, current_range_brush.map(function (d) {
        return d * (width / nbFt);
      }));
      this.updateMapRegio();
    }
  }, {
    key: 'selectBelowMean',
    value: function selectBelowMean() {
      var mean_rank = getMeanRank();
      app.colors = {};
      if (!app.serie_inversed) {
        current_range_brush = [0, mean_rank];
        app.current_data.filter(function (d) {
          return d.ratio < mean_value;
        }).forEach(function (ft) {
          if (ft.ratio < app.current_config.ref_value) app.colors[ft.id] = color_inf;else app.colors[ft.id] = color_sup;
        });
      } else {
        current_range_brush = [mean_rank + 1, app.current_data.length];
        app.current_data.filter(function (d) {
          return d.ratio < mean_value;
        }).forEach(function (ft) {
          if (ft.ratio < app.current_config.ref_value) app.colors[ft.id] = color_sup;else app.colors[ft.id] = color_inf;
        });
      }
      app.colors[app.current_config.my_region] = color_highlight;
      svg_bar.select('.brush_top').call(this.brush_top.move, current_range_brush.map(function (d) {
        return d * (width / nbFt);
      }));
      this.updateMapRegio();
    }
  }, {
    key: 'handle_brush_map',
    value: function handle_brush_map(event) {
      var self = this;
      svg_bar.select('.brush_top').call(self.brush_top.move, null);

      var _event$selection = slicedToArray(event.selection, 2),
          topleft = _event$selection[0],
          bottomright = _event$selection[1];
      // const transform = svg_map.node().__zoom;
      // topleft[0] = (topleft[0] - transform.x) / transform.k;
      // topleft[1] = (topleft[1] - transform.y) / transform.k;
      // bottomright[0] = (bottomright[0] - transform.x) / transform.k;
      // bottomright[1] = (bottomright[1] - transform.y) / transform.k;


      var rect = new Rect(topleft, bottomright);
      app.colors = {};
      self.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        var id = d.properties.NUTS1_2016;
        if (id === app.current_config.my_region) {
          app.colors[id] = color_highlight;
          return color_highlight;
        } else if (app.current_ids.indexOf(id) < 0) {
          return color_disabled;
        }
        if (!this._pts) {
          this._pts = this.getAttribute('d').slice(1).split('L').map(function (pt) {
            return pt.split(',').map(function (a) {
              return +a;
            });
          });
        }
        var pts = this._pts;
        for (var ix = 0, nb_pts = pts.length; ix < nb_pts; ix++) {
          if (rect.contains(pts[ix])) {
            var value = d.properties[app.current_config.ratio];
            var color = comp(value, app.current_config.ref_value, app.serie_inversed);
            app.colors[id] = color;
            return color;
          }
        }
        return color_countries;
      });
      self._focus.selectAll('.bar').style('fill', function (d) {
        return app.colors[d.id] || color_countries;
      });
      var ids = Object.keys(app.colors);
      var ranks = ids.map(function (d) {
        return app.current_ids.indexOf(d.id) > -1;
      }).map(function (d) {
        return app.current_ranks[d];
      });
      if (ranks.length > 1) {
        var c1 = ranks[0] - 1;
        var c2 = ranks[ranks.length - 1];
        if (c1 < current_range[0] || c2 > current_range[1]) {
          current_range = [ranks[0] - 1, ranks[ranks.length - 1]];
          svg_bar.select('.brush_bottom').call(self.brush_bottom.move, [current_range[0] * (width / nbFt), current_range[1] * (width / nbFt)]);
        }
      } else {
        current_range = [0, app.current_data.length];
        svg_bar.select('.brush_bottom').call(self.brush_bottom.move, self.x.range());
      }
    }
  }, {
    key: 'updateChangeRegion',
    value: function updateChangeRegion() {
      this.update();
      // this.updateMiniBars();
      this.updateContext(0, app.current_data.length);
      this.updateMapRegio();
      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x.range());
      this.map_elem.removeRectBrush();
      this.map_elem.updateLegend();
    }
  }, {
    key: 'changeStudyZone',
    value: function changeStudyZone() {
      nbFt = app.current_data.length;
      this.x.domain(app.current_data.map(function (ft) {
        return ft.id;
      }));
      this.y.domain([d3.min(app.current_data, function (d) {
        return d.ratio;
      }) - 2, d3.max(app.current_data, function (d) {
        return d.ratio;
      })]);
      this.x2.domain(this.x.domain());
      this.y2.domain(this.y.domain());
      this.update();
      // this.updateMiniBars();
      this.updateContext(0, app.current_data.length);
      // brush_bottom.extent(current_range)
      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.map_elem.removeRectBrush();
      app.colors = {};
      app.colors[app.current_config.my_region] = color_highlight;
      this.updateMapRegio();
    }
  }, {
    key: 'remove',
    value: function remove() {
      this._focus.remove();
      this.context.remove();
      this.map_elem.unbindBrush();
      this.map_elem = null;
      svg_bar.html('');
    }
  }, {
    key: 'bindMap',
    value: function bindMap(map_elem) {
      this.map_elem = map_elem;
    }
  }]);
  return BarChart1;
}();

function bindUI_BarChart1(chart, map_elem) {
  d3.selectAll('span.filter_v').on('click', function () {
    if (!this.classList.contains('checked')) {
      d3.selectAll('span.filter_v').attr('class', 'filter_v square');
      this.classList.add('checked');
      var filter_type = this.getAttribute('filter-value');
      applyFilter(app, filter_type);
      chart.updateCompletude();
      chart.changeStudyZone();
    }
  });

  d3.selectAll('span.target_region').on('click', function () {
    if (!this.classList.contains('checked')) {
      d3.selectAll('span.target_region').attr('class', 'target_region square');
      this.classList.add('checked');
      var id_region = this.getAttribute('value');
      changeRegion(app, id_region);
      chart.updateChangeRegion();
    }
  });

  d3.selectAll('span.label_chk').on('click', function () {
    this.previousSibling.click();
  });

  var header_map_section = d3.select('#map_section > #header_map');

  header_map_section.select('#img_rect_selec').on('click', function () {
    if (!this.classList.contains('active')) {
      this.classList.add('active');
      // this.style.filter = '';
      // document.getElementById('img_map_zoom').style.filter = 'opacity(25%)';
      document.getElementById('img_map_zoom').classList.remove('active');
      // document.getElementById('img_map_select').style.filter = 'opacity(25%)';
      document.getElementById('img_map_select').classList.remove('active');
      svg_map.on('.zoom', null);
      svg_map.select('.brush_map').style('display', null);
      map_elem.target_layer.selectAll('path').on('click', null);
    }
  });

  header_map_section.select('#img_map_zoom').on('click', function () {
    if (!this.classList.contains('active')) {
      this.classList.add('active');
      // this.style.filter = '';
      // document.getElementById('img_rect_selec').style.filter = 'opacity(25%)';
      document.getElementById('img_rect_selec').classList.remove('active');
      // document.getElementById('img_map_select').style.filter = 'opacity(25%)';
      document.getElementById('img_map_select').classList.remove('active');
      svg_map.call(map_elem.zoom_map);
      svg_map.select('.brush_map').call(map_elem.brush_map.move, null);
      svg_map.select('.brush_map').style('display', 'none');
      map_elem.target_layer.selectAll('path').on('click', null);
    }
  });

  header_map_section.select('#img_map_select').on('click', function () {
    if (!this.classList.contains('active')) {
      this.classList.add('active');
      // this.style.filter = '';
      // document.getElementById('img_rect_selec').style.filter = 'opacity(25%)';
      document.getElementById('img_rect_selec').classList.remove('active');
      // document.getElementById('img_map_zoom').style.filter = 'opacity(25%)';
      document.getElementById('img_map_zoom').classList.remove('active');
      svg_map.on('.zoom', null);
      svg_map.select('.brush_map').call(map_elem.brush_map.move, null);
      svg_map.select('.brush_map').style('display', 'none');
      map_elem.target_layer.selectAll('path').on('click', function (d) {
        var id = d.properties[app.current_config.id_field_geom];
        if (app.current_ids.indexOf(id) < 0 || id === app.current_config.my_region) return;
        if (app.colors[id] !== undefined) {
          app.colors[id] = undefined;
          d3.select(this).attr('fill', color_countries);
        } else {
          var color = comp(d.properties[app.current_config.ratio], app.current_config.ref_value, app.serie_inversed);
          app.colors[id] = color;
          d3.select(this).attr('fill', color);
        }
        chart.update();
      });
    }
  });

  var header_table_section = d3.select('#map_section').insert('p', 'svg').attr('id', 'header_table').styles({ display: 'none', margin: 'auto', 'text-align': 'right' });

  header_table_section.append('span').attr('class', 'button_blue').html('CSV').on('click', function () {
    var content = ['id,Numérateur,Dénominateur,Ratio,Rang\r\n', app.current_data.map(function (d) {
      return [d.id, d.num, d.denum, d.ratio, d.rang].join(',');
    }).join('\r\n')].join('');
    var elem = document.createElement('a');
    elem.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(content));
    elem.setAttribute('download', 'table.csv');
    elem.style.display = 'none';
    document.body.appendChild(elem);
    elem.click();
    document.body.removeChild(elem);
  });

  var buttons_under_chart = d3.select('#bar_section').append('div').attr('id', 'buttons_under_chart').styles({ padding: '0 10px 10px 10px', 'text-align': 'center' });

  buttons_under_chart.append('button').attrs({ class: 'button_blue', id: 'btn_above_mean' }).text('< à la moyenne').on('click', function () {
    return chart.selectBelowMean();
  });

  buttons_under_chart.append('button').attrs({ class: 'button_blue', id: 'btn_below_mean' }).text('> à la moyenne').on('click', function () {
    return chart.selectAboveMean();
  });

  buttons_under_chart.append('button').attrs({ class: 'button_blue', id: 'btn_above_my_region' }).text('< à ma région').on('click', function () {
    return chart.selectBelowMyRegion();
  });

  buttons_under_chart.append('button').attrs({ class: 'button_blue', id: 'btn_below_my_region' }).text('> à ma région').on('click', function () {
    return chart.selectAboveMyRegion();
  });

  bindTopButtons(chart, map_elem);
}

function makeTopMenu() {
  var top_menu = d3.select('#menutop').styles({ 'font-family': "'Signika', sans-serif", 'font-size': '0.80em', padding: '0.3px' });

  top_menu.append('div').attrs({ class: 'title_menu type_chart', value: 'BarChart1' }).styles({ width: '80px', float: 'left', margin: '0 3px', cursor: 'pointer' }).html('Rang<br>(1 individu)');

  top_menu.append('div').attr('class', 'title_menu type_chart').styles({ width: '80px', float: 'left', margin: '0 3px', cursor: 'pointer' }).html('Rang<br>(2 individus)');

  top_menu.append('div').attrs({ class: 'title_menu type_chart', value: 'BubbleChart1' }).styles({ width: '80px', float: 'left', margin: '0 3px', cursor: 'pointer' }).html('Rang<br>(2+ individus)');

  top_menu.append('div').attr('class', 'title_menu type_chart').styles({ width: '80px', float: 'left', margin: '0 3px', cursor: 'pointer' }).html('Position<br>(1 individu)');

  top_menu.append('div').attr('class', 'title_menu type_chart').styles({ width: '80px', float: 'left', margin: '0 3px', cursor: 'pointer' }).html('Position<br>(2 individus)');
}

function makeHeaderMapSection() {
  var header_map_section = d3.select('#map_section').insert('p', 'svg').attr('id', 'header_map').style('margin', '0 0 0 10px');

  header_map_section.insert('img').attrs({
    class: 'map_button active',
    width: 20,
    height: 20,
    src: 'img/gimp-tool-rect-select.png',
    id: 'img_rect_selec'
  });

  header_map_section.insert('img').attrs({
    class: 'map_button',
    width: 20,
    height: 20,
    src: 'img/gimp-tool-zoom.png',
    id: 'img_map_zoom'
  });

  header_map_section.insert('img').attrs({
    class: 'map_button',
    width: 20,
    height: 20,
    src: 'img/gimp-cursor.png',
    id: 'img_map_select'
  });
}

function makeHeaderChart() {
  var header_bar_section = d3.select('#bar_section').insert('p', 'svg').style('margin-bottom', '0').style('clear', 'both');

  header_bar_section.insert('span').styles({
    'font-family': '\'Signika\', sans-serif',
    'font-weight': '800',
    'font-size': '14px',
    'margin-top': '12px',
    'margin-left': '40px',
    float: 'left'
  }).attr('class', 'title_variable').html(app.current_config.ratio_pretty_name);

  header_bar_section.insert('img').attrs({
    width: 24,
    height: 24,
    src: 'img/edit-table-insert-row-above.svg',
    id: 'img_table'
  }).styles({ margin: '3px', float: 'right' }).on('click', function () {
    if (document.querySelector('.dataTable-wrapper').style.display) {
      document.querySelector('#svg_map').style.display = 'none';
      document.querySelector('#svg_legend').style.display = 'none';
      document.querySelector('#header_map').style.display = 'none';
      document.querySelector('#header_table').style.display = null;
      document.querySelector('.dataTable-wrapper').style.display = null;
      this.style.filter = 'invert(75%)';
    } else {
      document.querySelector('#svg_map').style.display = null;
      document.querySelector('#svg_legend').style.display = null;
      document.querySelector('#header_map').style.display = null;
      document.querySelector('#header_table').style.display = 'none';
      document.querySelector('.dataTable-wrapper').style.display = 'none';
      this.style.filter = null;
    }
  });

  header_bar_section.insert('img').attrs({
    width: 24,
    height: 24,
    src: 'img/printer.svg',
    id: 'img_printer'
  }).styles({ margin: '3px', float: 'right' });

  header_bar_section.insert('img').attrs({
    width: 24,
    height: 24,
    src: 'img/gtk-info.svg',
    id: 'img_info'
  }).styles({ margin: '3px', float: 'right' });
}

var svg_bar$1 = d3.select('#svg_bar');
var margin$1 = { top: 20, right: 20, bottom: 40, left: 30 };

var width$1 = +svg_bar$1.attr('width') - margin$1.left - margin$1.right;
var height$1 = +svg_bar$1.attr('height') - margin$1.top - margin$1.bottom;

var BubbleChart1 = function () {
  function BubbleChart1(ref_data) {
    classCallCheck(this, BubbleChart1);

    this.data = ref_data.slice().sort(function (a, b) {
      return b[app.current_config.num] - a[app.current_config.num];
    });
    this.highlight_selection = [];
    var draw_group = svg_bar$1.append('g').attr('transform', 'translate(' + margin$1.left + ', ' + margin$1.top + ')');
    draw_group.append('g').attrs({ class: 'axis axis--x', transform: 'translate(0, ' + height$1 / 2 + ')' });
    this.draw_group = draw_group;
    prepareTooltip(svg_bar$1);

    var selection_close = d3.select(svg_bar$1.node().parentElement).append('div').attr('id', 'menu_selection').styles({ top: '-100px', 'margin-left': '30px', position: 'relative' }).append('p');

    selection_close.append('span').attrs({ value: 'close', class: 'type_selection square checked' });
    selection_close.append('span').attrs({ class: 'label_chk' }).html('Les');
    selection_close.append('input').attrs({ class: 'nb_select', type: 'number' }).property('value', 5);
    selection_close.append('span').attrs({ class: 'label_chk' }).html('régions les plus proches');
    this.my_region_value = this.data.filter(function (d) {
      return d.id === app.current_config.my_region;
    }).map(function (d) {
      return d.ratio;
    })[0];
    this.bindMenu();
    this.applySelection(5, 'close');

    // Deactivate the rect brush selection on the map
    // when the user press the Ctrl key:
    document.onkeydown = function (event) {
      if (event && event.key === 'Control') {
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', 'none');
      }
    };
    document.onkeyup = function (event) {
      if (event && event.key === 'Control') {
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', null);
      }
    };
  }

  createClass(BubbleChart1, [{
    key: 'applySelection',
    value: function applySelection(nb) {
      var type_selection = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'close';

      app.colors = {};
      if (nb > 0) {
        var my_region_value = this.my_region_value;
        this.highlight_selection = this.data.map(function (d) {
          return {
            dist: math_abs(d.ratio - my_region_value),
            ratio: d.ratio,
            id: d.id };
        });
        if (type_selection === 'close') {
          this.highlight_selection.sort(function (a, b) {
            return a.dist - b.dist;
          });
          this.highlight_selection = this.highlight_selection.slice(1, nb + 1);
        } else if (type_selection === 'distant') {
          this.highlight_selection.sort(function (a, b) {
            return b.dist - a.dist;
          });
          this.highlight_selection = this.highlight_selection.slice(0, nb);
        }
        this.highlight_selection.forEach(function (elem) {
          app.colors[elem.id] = elem.ratio < my_region_value ? color_inf : color_sup;
        });
      } else {
        this.highlight_selection = [];
      }
      app.colors[app.current_config.my_region] = color_highlight;
      this.update();
      this.updateMapRegio();
    }
  }, {
    key: 'update',
    value: function update() {
      var data = this.data;
      var highlight_selection = this.highlight_selection;
      var my_region_value = this.my_region_value;
      var _min = void 0;
      var _max = void 0;
      if (highlight_selection.length > 0) {
        var dist_min = my_region_value - d3.min(highlight_selection, function (d) {
          return d.ratio;
        });
        var dist_max = d3.max(highlight_selection, function (d) {
          return d.ratio;
        }) - my_region_value;
        var dist_axis = Math.max(dist_min, dist_max);
        var margin_min_max = math_round(dist_axis) / 8;
        _min = my_region_value - dist_axis - margin_min_max;
        _max = my_region_value + dist_axis + margin_min_max;
      } else {
        var _dist_min = my_region_value - d3.min(data, function (d) {
          return d.ratio;
        });
        var _dist_max = d3.max(data, function (d) {
          return d.ratio;
        }) - my_region_value;
        var _dist_axis = Math.max(_dist_min, _dist_max);
        var _margin_min_max = math_round(_dist_axis) / 8;
        _min = my_region_value - _dist_axis - _margin_min_max;
        _max = my_region_value + _dist_axis + _margin_min_max;
      }

      var prop_sizer = new PropSizer(d3.max(data, function (d) {
        return d.num;
      }), 30);
      var xScale = d3.scaleLinear().domain([_min, _max]).range([0, width$1]);

      this.draw_group.select('g.axis--x').transition().duration(225).call(d3.axisBottom(xScale));

      var bubbles = this.draw_group.selectAll('.bubble').data(data);

      bubbles.transition().duration(225).attrs(function (d) {
        var x_value = xScale(d.ratio);
        if (x_value > width$1) x_value = width$1 + 200;else if (x_value < 0) x_value = -200;
        return {
          cx: x_value,
          cy: height$1 / 2,
          r: prop_sizer.scale(d.num)
        };
      }).styles(function (d) {
        return {
          fill: app.colors[d.id] || color_countries
        };
      });

      bubbles.enter().insert('circle').styles(function (d) {
        return {
          fill: app.colors[d.id] || color_countries
        };
      }).transition().duration(225).attrs(function (d) {
        var x_value = xScale(d.ratio);
        if (x_value > width$1) x_value = width$1 + 200;else if (x_value < 0) x_value = -200;
        return {
          class: 'bubble',
          cx: x_value,
          cy: height$1 / 2,
          r: prop_sizer.scale(d.num)
        };
      });

      bubbles.exit().transition().duration(225).remove();

      this.draw_group.selectAll('.bubble').on('mouseover', function () {
        svg_bar$1.select('.tooltip').style('display', null);
      }).on('mouseout', function () {
        svg_bar$1.select('.tooltip').style('display', 'none');
      }).on('mousemove', function (d) {
        var tooltip = svg_bar$1.select('.tooltip');
        tooltip.select('text.id_feature').text('' + d.id);
        tooltip.select('text.value_feature1').text('Ratio: ' + Math.round(d.ratio));
        tooltip.select('text.value_feature2').text('Stock: ' + Math.round(d.num));
        tooltip.attr('transform', 'translate(' + [d3.mouse(this)[0] - 5, d3.mouse(this)[1] - 45] + ')');
      });
    }
  }, {
    key: 'updateCompletude',
    value: function updateCompletude() {
      this.completude.text('Compl\xE9tude : ' + app.completude + '%');
    }
  }, {
    key: 'updateMapRegio',
    value: function updateMapRegio() {
      if (!this.map_elem) return;
      this.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        return app.current_ids.indexOf(d.properties[app.current_config.id_field_geom]) > -1 ? app.colors[d.properties[app.current_config.id_field_geom]] || color_countries : color_disabled;
      });
    }
  }, {
    key: 'handle_brush_map',
    value: function handle_brush_map(event) {
      var self = this;

      var _event$selection = slicedToArray(event.selection, 2),
          topleft = _event$selection[0],
          bottomright = _event$selection[1];

      var rect = new Rect(topleft, bottomright);
      app.colors = {};
      self.highlight_selection = [];
      self.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        var id = d.properties[app.current_config.id_field_geom];
        if (id === app.current_config.my_region) {
          app.colors[id] = color_highlight;
          return color_highlight;
        } else if (app.current_ids.indexOf(id) < 0) {
          return color_disabled;
        }
        if (!this._pts) {
          this._pts = this.getAttribute('d').slice(1).split('L').map(function (pt) {
            return pt.split(',').map(function (a) {
              return +a;
            });
          });
        }
        var pts = this._pts;
        for (var ix = 0, nb_pts = pts.length; ix < nb_pts; ix++) {
          if (rect.contains(pts[ix])) {
            var value = d.properties[app.current_config.ratio];
            var color = comp(value, app.current_config.ref_value, app.serie_inversed);
            app.colors[id] = color;
            self.highlight_selection.push({
              id: id,
              ratio: value,
              dist: math_abs(value - self.my_region_value)
            });
            return color;
          }
        }
        return color_countries;
      });
      self.update();
    }
  }, {
    key: 'updateChangeRegion',
    value: function updateChangeRegion() {
      this.applySelection(this.highlight_selection.length, 'close');
      this.map_elem.removeRectBrush();
      this.map_elem.updateLegend();
      this.my_region_value = app.current_config.ref_value;
    }
  }, {
    key: 'changeStudyZone',
    value: function changeStudyZone() {
      this.data = app.current_data.slice().sort(function (a, b) {
        return b[app.current_config.num] - a[app.current_config.num];
      });
      this.applySelection(this.highlight_selection.length, 'close');
    }
  }, {
    key: 'bindMenu',
    value: function bindMenu() {
      var self = this;
      var menu = d3.select('#menu_selection');
      menu.selectAll('.type_selection').each(function (_, i) {
        this.value = i === 0 ? 'close' : 'distant';
      });
      // menu.selectAll('.type_selection')
      //   .on('click', function () {
      //     if (this.classList.contains('checked')) {
      //       return;
      //     }
      //     menu.selectAll('.type_selection').attr('class', 'type_selection square');
      //     this.classList.add('checked');
      //     const value = +this.parentElement.querySelector('.nb_select').value;
      //     const type = this.value;
      //     self.applySelection(value, type);
      //   });
      // menu.selectAll('.label_chk, .nb_select')
      //   .on('click', function () {
      //     this.parentElement.querySelector('.type_selection').click();
      //   });
      menu.selectAll('.nb_select').on('change', function () {
        self.map_elem.removeRectBrush();
        var type = this.parentElement.querySelector('.type_selection').value;
        var value = +this.value;
        // if (!(value > -1 && value < 50)) {
        if (!(value > -1)) {
          this.value = 5;
          value = 5;
        }
        self.applySelection(value, type);
      });
    }
  }, {
    key: 'remove',
    value: function remove() {
      this.map_elem.unbindBrush();
      this.map_elem = null;
      d3.select('#menu_selection').remove();
      svg_bar$1.html('');
    }
  }, {
    key: 'bindMap',
    value: function bindMap(map_elem) {
      this.map_elem = map_elem;
      d3.select('#menu_selection').select('.nb_select').dispatch('change');
    }
  }]);
  return BubbleChart1;
}();

function bindUI_BubbleChart1(chart, map_elem) {
  d3.selectAll('span.filter_v').on('click', function () {
    if (!this.classList.contains('checked')) {
      d3.selectAll('span.filter_v').attr('class', 'filter_v square');
      this.classList.add('checked');
      var filter_type = this.getAttribute('filter-value');
      applyFilter(app, filter_type);
      chart.changeStudyZone();
    }
  });

  d3.selectAll('span.target_region').on('click', function () {
    if (!this.classList.contains('checked')) {
      d3.selectAll('span.target_region').attr('class', 'target_region square');
      this.classList.add('checked');
      var id_region = this.getAttribute('value');
      changeRegion(app, id_region);
      chart.updateChangeRegion();
    }
  });

  d3.selectAll('span.label_chk').on('click', function () {
    this.previousSibling.click();
  });

  var header_map_section = d3.select('#map_section > #header_map');

  header_map_section.select('#img_rect_selec').on('click', function () {
    if (!this.classList.contains('active')) {
      this.classList.add('active');
      // this.style.filter = '';
      // document.getElementById('img_map_zoom').style.filter = 'opacity(25%)';
      document.getElementById('img_map_zoom').classList.remove('active');
      // document.getElementById('img_map_select').style.filter = 'opacity(25%)';
      document.getElementById('img_map_select').classList.remove('active');
      svg_map.on('.zoom', null);
      svg_map.select('.brush_map').style('display', null);
      map_elem.target_layer.selectAll('path').on('click', null);
    }
  });

  header_map_section.select('#img_map_zoom').on('click', function () {
    if (!this.classList.contains('active')) {
      this.classList.add('active');
      // this.style.filter = '';
      // document.getElementById('img_rect_selec').style.filter = 'opacity(25%)';
      document.getElementById('img_rect_selec').classList.remove('active');
      // document.getElementById('img_map_select').style.filter = 'opacity(25%)';
      document.getElementById('img_map_select').classList.remove('active');
      svg_map.call(map_elem.zoom_map);
      svg_map.select('.brush_map').call(map_elem.brush_map.move, null);
      svg_map.select('.brush_map').style('display', 'none');
      map_elem.target_layer.selectAll('path').on('click', null);
    }
  });

  header_map_section.select('#img_map_select').on('click', function () {
    if (!this.classList.contains('active')) {
      this.classList.add('active');
      document.getElementById('img_rect_selec').classList.remove('active');
      document.getElementById('img_map_zoom').classList.remove('active');
      svg_map.on('.zoom', null);
      svg_map.select('.brush_map').call(map_elem.brush_map.move, null);
      svg_map.select('.brush_map').style('display', 'none');
      map_elem.target_layer.selectAll('path').on('click', function (d) {
        var id = d.properties[app.current_config.id_field_geom];
        if (app.current_ids.indexOf(id) < 0 || id === app.current_config.my_region) return;
        if (app.colors[id] !== undefined) {
          // Remove the clicked feature from the colored selection on the chart:
          var id_to_remove = chart.highlight_selection.map(function (ft, i) {
            return ft.id === id ? i : null;
          }).filter(function (ft) {
            return ft;
          });
          chart.highlight_selection.splice(id_to_remove, 1);
          // Change its color in the global colors object:
          app.colors[id] = undefined;
          // Change the color on the map:
          d3.select(this).attr('fill', color_countries);
        } else {
          var value = d.properties[app.current_config.ratio];
          var color = comp(value, app.current_config.ref_value, app.serie_inversed);
          app.colors[id] = color;
          // Change the color on the map:
          d3.select(this).attr('fill', color);
          // Add the clicked feature on the colored selection on the chart:
          chart.highlight_selection.push({
            id: id,
            ratio: value,
            dist: math_abs(value - app.current_config.ref_value)
          });
        }
        chart.update();
      });
    }
  });

  var header_table_section = d3.select('#map_section').insert('p', 'svg').attr('id', 'header_table').styles({ display: 'none', margin: 'auto', 'text-align': 'right' });

  header_table_section.append('span').attr('class', 'button_blue').html('CSV').on('click', function () {
    var content = ['id,Numérateur,Dénominateur,Ratio,Rang\r\n', app.current_data.map(function (d) {
      return [d.id, d.num, d.denum, d.ratio, d.rang].join(',');
    }).join('\r\n')].join('');
    var elem = document.createElement('a');
    elem.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(content));
    elem.setAttribute('download', 'table.csv');
    elem.style.display = 'none';
    document.body.appendChild(elem);
    elem.click();
    document.body.removeChild(elem);
  });
  bindTopButtons(chart, map_elem);
}

browser$1('app:log');

var variables = {
  'Pauvreté exclusion': {
    'Taux d\'emploi (2015)': 'TX_EMP_2014',
    'Taux de chomage (2015)': 'PC_CHOM_1524_2015'
  },
  'Groupe 2': {
    'Indicateur 1': 'IND_1',
    'Indicateur 2': 'IND_2'
  }
};

var study_zones = [{ id: 'no_filter', name: 'UE28' }, { id: 'filter_FR', name: 'Filtre national (France)' }, { id: 'filter_param2', name: 'Espace de comparaison n°2' }];

var territorial_mesh = [{ id: 'NUTS1', name: 'NUTS1' }, { id: 'NUTS12stat', name: 'NUTS1/2 (statistique)' }];

var app = {
  colors: {},
  current_data: [],
  full_dataset: [],
  current_ids: [],
  current_ranks: [],
  serie_inversed: false
};

function setDefaultConfig() {
  var code = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'FRE';
  var variable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'PC_CHOM_1524_2015';
  // }, level = 'NUTS1') {
  app.current_config = {
    id_field: 'geo',
    id_field_geom: 'NUTS1_2016',
    num: 'CHOM_1524_2015',
    denum: 'ACT_1524_2015',
    ratio: variable,
    ratio_pretty_name: 'Taux de chômage des jeunes (2015)',
    current_level: 1,
    my_region: code,
    my_region_pretty_name: app.feature_names[code]
  };
  app.colors[app.current_config.my_region] = color_highlight;
}

function setDefaultConfigMenu() {
  var code = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'FRE';
  var variable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'PC_CHOM_1524_2015';
  var level = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'NUTS1';

  document.querySelector('.target_region.square[value="' + code + '"]').classList.add('checked');
  document.querySelector('.target_variable.small_square[value="' + variable + '"]').classList.add('checked');
  document.querySelector('.filter_v.square[filter-value="no_filter"]').classList.add('checked');
  document.querySelector('.territ_level.square[value="' + level + '"]').classList.add('checked');
}

function loadData() {
  d3.queue(4).defer(d3.csv, 'data/REGIOVIZ_DATA_aggregated.csv').defer(d3.json, 'data/cget-nuts1-3035.geojson').defer(d3.json, 'data/countries3035.geojson').defer(d3.json, 'data/remote3035.geojson').defer(d3.json, 'data/template3035.geojson').defer(d3.json, 'data/sea_boxes.geojson').awaitAll(function (error, results) {
    if (error) throw error;

    var _results = slicedToArray(results, 6),
        full_dataset = _results[0],
        nuts1 = _results[1],
        countries = _results[2],
        remote = _results[3],
        template = _results[4],
        seaboxes = _results[5];

    prepare_dataset(full_dataset, app);
    setDefaultConfig('FRB', 'PC_CHOM_1524_2015', 'NUTS1');
    var features_menu = full_dataset.filter(function (ft) {
      return ft.geo.indexOf('FR') > -1 && +ft.level === app.current_config.current_level;
    });
    createMenu(features_menu, variables, study_zones, territorial_mesh);
    makeTopMenu();
    makeHeaderChart();
    setDefaultConfigMenu('FRB', 'PC_CHOM_1524_2015', 'NUTS1');
    app.current_data = filter_no_empty(app);
    var map_elem = new MapSelect(nuts1, countries, remote, template, seaboxes);
    var chart = new BarChart1(app.current_data);
    makeTable(app.current_data, app.current_config);
    makeHeaderMapSection();
    makeSourceSection();
    makeMapLegend();
    bindUI_BarChart1(chart, map_elem);
    chart.bindMap(map_elem);
    map_elem.bindBrush(chart);
  });
}

function resetColors() {
  var ids = app.current_ids;
  var my_region = app.current_config.my_region;
  app.colors = {};
  for (var i = 0, len_i = ids.length; i < len_i; i++) {
    app.colors[ids[i]] = ids[i] === my_region ? color_highlight : color_countries;
  }
}

function bindTopButtons(chart, map_elem) {
  d3.selectAll('.type_chart.title_menu').on('click', function () {
    chart.remove();
    chart = null; // eslint-disable-line no-param-reassign
    unbindUI();
    map_elem.resetZoom();
    app.colors = {};
    app.serie_inversed = false;
    // app.current_data = filter_no_empty(app);
    // app.current_ids = app.current_data.map(d => d.id);
    // app.current_ranks = app.current_data.map((d, i) => i + 1);
    resetColors();
    map_elem.resetColors();
    var value = this.getAttribute('value');
    if (value === 'BarChart1') {
      console.log('BarChart1');
      makeTable(app.current_data, app.current_config);
      chart = new BarChart1(app.current_data); // eslint-disable-line no-param-reassign
      bindUI_BarChart1(chart, map_elem);
      map_elem.bindBrush(chart);
      chart.bindMap(map_elem);
    } else if (value === 'BubbleChart1') {
      console.log('BubbleChart1');
      makeTable(app.current_data, app.current_config);
      chart = new BubbleChart1(app.current_data); // eslint-disable-line no-param-reassign
      bindUI_BubbleChart1(chart, map_elem);
      map_elem.bindBrush(chart);
      chart.bindMap(map_elem);
    }
  });
}

loadData();

exports.app = app;
exports.bindTopButtons = bindTopButtons;

}((this.App = this.App || {})));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9kZWJ1Zy9ub2RlX21vZHVsZXMvbXMvaW5kZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2RlYnVnLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2RlYnVnL3NyYy9icm93c2VyLmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9tZW51bGVmdC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy92YW5pbGxhLWRhdGF0YWJsZXMvc3JjL3ZhbmlsbGEtZGF0YVRhYmxlcy5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvb3B0aW9ucy5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvdGFibGUuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL2hlbHBlcnMuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL3ByZXBhcmVfZGF0YS5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvbWFwLmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9jaGFydHMvYmFyQ2hhcnRfMXYuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL21lbnV0b3AuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL2NoYXJ0cy9idWJibGVDaGFydF8xdi5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21haW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBIZWxwZXJzLlxuICovXG5cbnZhciBzID0gMTAwMDtcbnZhciBtID0gcyAqIDYwO1xudmFyIGggPSBtICogNjA7XG52YXIgZCA9IGggKiAyNDtcbnZhciB5ID0gZCAqIDM2NS4yNTtcblxuLyoqXG4gKiBQYXJzZSBvciBmb3JtYXQgdGhlIGdpdmVuIGB2YWxgLlxuICpcbiAqIE9wdGlvbnM6XG4gKlxuICogIC0gYGxvbmdgIHZlcmJvc2UgZm9ybWF0dGluZyBbZmFsc2VdXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSB2YWxcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEB0aHJvd3Mge0Vycm9yfSB0aHJvdyBhbiBlcnJvciBpZiB2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIG51bWJlclxuICogQHJldHVybiB7U3RyaW5nfE51bWJlcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih2YWwsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbDtcbiAgaWYgKHR5cGUgPT09ICdzdHJpbmcnICYmIHZhbC5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHBhcnNlKHZhbCk7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gJ251bWJlcicgJiYgaXNOYU4odmFsKSA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gb3B0aW9ucy5sb25nID8gZm10TG9uZyh2YWwpIDogZm10U2hvcnQodmFsKTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgJ3ZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgdmFsaWQgbnVtYmVyLiB2YWw9JyArXG4gICAgICBKU09OLnN0cmluZ2lmeSh2YWwpXG4gICk7XG59O1xuXG4vKipcbiAqIFBhcnNlIHRoZSBnaXZlbiBgc3RyYCBhbmQgcmV0dXJuIG1pbGxpc2Vjb25kcy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBwYXJzZShzdHIpIHtcbiAgc3RyID0gU3RyaW5nKHN0cik7XG4gIGlmIChzdHIubGVuZ3RoID4gMTAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBtYXRjaCA9IC9eKCg/OlxcZCspP1xcLj9cXGQrKSAqKG1pbGxpc2Vjb25kcz98bXNlY3M/fG1zfHNlY29uZHM/fHNlY3M/fHN8bWludXRlcz98bWlucz98bXxob3Vycz98aHJzP3xofGRheXM/fGR8eWVhcnM/fHlycz98eSk/JC9pLmV4ZWMoXG4gICAgc3RyXG4gICk7XG4gIGlmICghbWF0Y2gpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIG4gPSBwYXJzZUZsb2F0KG1hdGNoWzFdKTtcbiAgdmFyIHR5cGUgPSAobWF0Y2hbMl0gfHwgJ21zJykudG9Mb3dlckNhc2UoKTtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAneWVhcnMnOlxuICAgIGNhc2UgJ3llYXInOlxuICAgIGNhc2UgJ3lycyc6XG4gICAgY2FzZSAneXInOlxuICAgIGNhc2UgJ3knOlxuICAgICAgcmV0dXJuIG4gKiB5O1xuICAgIGNhc2UgJ2RheXMnOlxuICAgIGNhc2UgJ2RheSc6XG4gICAgY2FzZSAnZCc6XG4gICAgICByZXR1cm4gbiAqIGQ7XG4gICAgY2FzZSAnaG91cnMnOlxuICAgIGNhc2UgJ2hvdXInOlxuICAgIGNhc2UgJ2hycyc6XG4gICAgY2FzZSAnaHInOlxuICAgIGNhc2UgJ2gnOlxuICAgICAgcmV0dXJuIG4gKiBoO1xuICAgIGNhc2UgJ21pbnV0ZXMnOlxuICAgIGNhc2UgJ21pbnV0ZSc6XG4gICAgY2FzZSAnbWlucyc6XG4gICAgY2FzZSAnbWluJzpcbiAgICBjYXNlICdtJzpcbiAgICAgIHJldHVybiBuICogbTtcbiAgICBjYXNlICdzZWNvbmRzJzpcbiAgICBjYXNlICdzZWNvbmQnOlxuICAgIGNhc2UgJ3NlY3MnOlxuICAgIGNhc2UgJ3NlYyc6XG4gICAgY2FzZSAncyc6XG4gICAgICByZXR1cm4gbiAqIHM7XG4gICAgY2FzZSAnbWlsbGlzZWNvbmRzJzpcbiAgICBjYXNlICdtaWxsaXNlY29uZCc6XG4gICAgY2FzZSAnbXNlY3MnOlxuICAgIGNhc2UgJ21zZWMnOlxuICAgIGNhc2UgJ21zJzpcbiAgICAgIHJldHVybiBuO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cbi8qKlxuICogU2hvcnQgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm10U2hvcnQobXMpIHtcbiAgaWYgKG1zID49IGQpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGQpICsgJ2QnO1xuICB9XG4gIGlmIChtcyA+PSBoKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBoKSArICdoJztcbiAgfVxuICBpZiAobXMgPj0gbSkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gbSkgKyAnbSc7XG4gIH1cbiAgaWYgKG1zID49IHMpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIHMpICsgJ3MnO1xuICB9XG4gIHJldHVybiBtcyArICdtcyc7XG59XG5cbi8qKlxuICogTG9uZyBmb3JtYXQgZm9yIGBtc2AuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBmbXRMb25nKG1zKSB7XG4gIHJldHVybiBwbHVyYWwobXMsIGQsICdkYXknKSB8fFxuICAgIHBsdXJhbChtcywgaCwgJ2hvdXInKSB8fFxuICAgIHBsdXJhbChtcywgbSwgJ21pbnV0ZScpIHx8XG4gICAgcGx1cmFsKG1zLCBzLCAnc2Vjb25kJykgfHxcbiAgICBtcyArICcgbXMnO1xufVxuXG4vKipcbiAqIFBsdXJhbGl6YXRpb24gaGVscGVyLlxuICovXG5cbmZ1bmN0aW9uIHBsdXJhbChtcywgbiwgbmFtZSkge1xuICBpZiAobXMgPCBuKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChtcyA8IG4gKiAxLjUpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihtcyAvIG4pICsgJyAnICsgbmFtZTtcbiAgfVxuICByZXR1cm4gTWF0aC5jZWlsKG1zIC8gbikgKyAnICcgKyBuYW1lICsgJ3MnO1xufVxuIiwiXG4vKipcbiAqIFRoaXMgaXMgdGhlIGNvbW1vbiBsb2dpYyBmb3IgYm90aCB0aGUgTm9kZS5qcyBhbmQgd2ViIGJyb3dzZXJcbiAqIGltcGxlbWVudGF0aW9ucyBvZiBgZGVidWcoKWAuXG4gKlxuICogRXhwb3NlIGBkZWJ1ZygpYCBhcyB0aGUgbW9kdWxlLlxuICovXG5cbmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZURlYnVnLmRlYnVnID0gY3JlYXRlRGVidWdbJ2RlZmF1bHQnXSA9IGNyZWF0ZURlYnVnO1xuZXhwb3J0cy5jb2VyY2UgPSBjb2VyY2U7XG5leHBvcnRzLmRpc2FibGUgPSBkaXNhYmxlO1xuZXhwb3J0cy5lbmFibGUgPSBlbmFibGU7XG5leHBvcnRzLmVuYWJsZWQgPSBlbmFibGVkO1xuZXhwb3J0cy5odW1hbml6ZSA9IHJlcXVpcmUoJ21zJyk7XG5cbi8qKlxuICogVGhlIGN1cnJlbnRseSBhY3RpdmUgZGVidWcgbW9kZSBuYW1lcywgYW5kIG5hbWVzIHRvIHNraXAuXG4gKi9cblxuZXhwb3J0cy5uYW1lcyA9IFtdO1xuZXhwb3J0cy5za2lwcyA9IFtdO1xuXG4vKipcbiAqIE1hcCBvZiBzcGVjaWFsIFwiJW5cIiBoYW5kbGluZyBmdW5jdGlvbnMsIGZvciB0aGUgZGVidWcgXCJmb3JtYXRcIiBhcmd1bWVudC5cbiAqXG4gKiBWYWxpZCBrZXkgbmFtZXMgYXJlIGEgc2luZ2xlLCBsb3dlciBvciB1cHBlci1jYXNlIGxldHRlciwgaS5lLiBcIm5cIiBhbmQgXCJOXCIuXG4gKi9cblxuZXhwb3J0cy5mb3JtYXR0ZXJzID0ge307XG5cbi8qKlxuICogUHJldmlvdXMgbG9nIHRpbWVzdGFtcC5cbiAqL1xuXG52YXIgcHJldlRpbWU7XG5cbi8qKlxuICogU2VsZWN0IGEgY29sb3IuXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBzZWxlY3RDb2xvcihuYW1lc3BhY2UpIHtcbiAgdmFyIGhhc2ggPSAwLCBpO1xuXG4gIGZvciAoaSBpbiBuYW1lc3BhY2UpIHtcbiAgICBoYXNoICA9ICgoaGFzaCA8PCA1KSAtIGhhc2gpICsgbmFtZXNwYWNlLmNoYXJDb2RlQXQoaSk7XG4gICAgaGFzaCB8PSAwOyAvLyBDb252ZXJ0IHRvIDMyYml0IGludGVnZXJcbiAgfVxuXG4gIHJldHVybiBleHBvcnRzLmNvbG9yc1tNYXRoLmFicyhoYXNoKSAlIGV4cG9ydHMuY29sb3JzLmxlbmd0aF07XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgZGVidWdnZXIgd2l0aCB0aGUgZ2l2ZW4gYG5hbWVzcGFjZWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZVxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGNyZWF0ZURlYnVnKG5hbWVzcGFjZSkge1xuXG4gIGZ1bmN0aW9uIGRlYnVnKCkge1xuICAgIC8vIGRpc2FibGVkP1xuICAgIGlmICghZGVidWcuZW5hYmxlZCkgcmV0dXJuO1xuXG4gICAgdmFyIHNlbGYgPSBkZWJ1ZztcblxuICAgIC8vIHNldCBgZGlmZmAgdGltZXN0YW1wXG4gICAgdmFyIGN1cnIgPSArbmV3IERhdGUoKTtcbiAgICB2YXIgbXMgPSBjdXJyIC0gKHByZXZUaW1lIHx8IGN1cnIpO1xuICAgIHNlbGYuZGlmZiA9IG1zO1xuICAgIHNlbGYucHJldiA9IHByZXZUaW1lO1xuICAgIHNlbGYuY3VyciA9IGN1cnI7XG4gICAgcHJldlRpbWUgPSBjdXJyO1xuXG4gICAgLy8gdHVybiB0aGUgYGFyZ3VtZW50c2AgaW50byBhIHByb3BlciBBcnJheVxuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG5cbiAgICBhcmdzWzBdID0gZXhwb3J0cy5jb2VyY2UoYXJnc1swXSk7XG5cbiAgICBpZiAoJ3N0cmluZycgIT09IHR5cGVvZiBhcmdzWzBdKSB7XG4gICAgICAvLyBhbnl0aGluZyBlbHNlIGxldCdzIGluc3BlY3Qgd2l0aCAlT1xuICAgICAgYXJncy51bnNoaWZ0KCclTycpO1xuICAgIH1cblxuICAgIC8vIGFwcGx5IGFueSBgZm9ybWF0dGVyc2AgdHJhbnNmb3JtYXRpb25zXG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICBhcmdzWzBdID0gYXJnc1swXS5yZXBsYWNlKC8lKFthLXpBLVolXSkvZywgZnVuY3Rpb24obWF0Y2gsIGZvcm1hdCkge1xuICAgICAgLy8gaWYgd2UgZW5jb3VudGVyIGFuIGVzY2FwZWQgJSB0aGVuIGRvbid0IGluY3JlYXNlIHRoZSBhcnJheSBpbmRleFxuICAgICAgaWYgKG1hdGNoID09PSAnJSUnKSByZXR1cm4gbWF0Y2g7XG4gICAgICBpbmRleCsrO1xuICAgICAgdmFyIGZvcm1hdHRlciA9IGV4cG9ydHMuZm9ybWF0dGVyc1tmb3JtYXRdO1xuICAgICAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBmb3JtYXR0ZXIpIHtcbiAgICAgICAgdmFyIHZhbCA9IGFyZ3NbaW5kZXhdO1xuICAgICAgICBtYXRjaCA9IGZvcm1hdHRlci5jYWxsKHNlbGYsIHZhbCk7XG5cbiAgICAgICAgLy8gbm93IHdlIG5lZWQgdG8gcmVtb3ZlIGBhcmdzW2luZGV4XWAgc2luY2UgaXQncyBpbmxpbmVkIGluIHRoZSBgZm9ybWF0YFxuICAgICAgICBhcmdzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIGluZGV4LS07XG4gICAgICB9XG4gICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfSk7XG5cbiAgICAvLyBhcHBseSBlbnYtc3BlY2lmaWMgZm9ybWF0dGluZyAoY29sb3JzLCBldGMuKVxuICAgIGV4cG9ydHMuZm9ybWF0QXJncy5jYWxsKHNlbGYsIGFyZ3MpO1xuXG4gICAgdmFyIGxvZ0ZuID0gZGVidWcubG9nIHx8IGV4cG9ydHMubG9nIHx8IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSk7XG4gICAgbG9nRm4uYXBwbHkoc2VsZiwgYXJncyk7XG4gIH1cblxuICBkZWJ1Zy5uYW1lc3BhY2UgPSBuYW1lc3BhY2U7XG4gIGRlYnVnLmVuYWJsZWQgPSBleHBvcnRzLmVuYWJsZWQobmFtZXNwYWNlKTtcbiAgZGVidWcudXNlQ29sb3JzID0gZXhwb3J0cy51c2VDb2xvcnMoKTtcbiAgZGVidWcuY29sb3IgPSBzZWxlY3RDb2xvcihuYW1lc3BhY2UpO1xuXG4gIC8vIGVudi1zcGVjaWZpYyBpbml0aWFsaXphdGlvbiBsb2dpYyBmb3IgZGVidWcgaW5zdGFuY2VzXG4gIGlmICgnZnVuY3Rpb24nID09PSB0eXBlb2YgZXhwb3J0cy5pbml0KSB7XG4gICAgZXhwb3J0cy5pbml0KGRlYnVnKTtcbiAgfVxuXG4gIHJldHVybiBkZWJ1Zztcbn1cblxuLyoqXG4gKiBFbmFibGVzIGEgZGVidWcgbW9kZSBieSBuYW1lc3BhY2VzLiBUaGlzIGNhbiBpbmNsdWRlIG1vZGVzXG4gKiBzZXBhcmF0ZWQgYnkgYSBjb2xvbiBhbmQgd2lsZGNhcmRzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGVuYWJsZShuYW1lc3BhY2VzKSB7XG4gIGV4cG9ydHMuc2F2ZShuYW1lc3BhY2VzKTtcblxuICBleHBvcnRzLm5hbWVzID0gW107XG4gIGV4cG9ydHMuc2tpcHMgPSBbXTtcblxuICB2YXIgc3BsaXQgPSAodHlwZW9mIG5hbWVzcGFjZXMgPT09ICdzdHJpbmcnID8gbmFtZXNwYWNlcyA6ICcnKS5zcGxpdCgvW1xccyxdKy8pO1xuICB2YXIgbGVuID0gc3BsaXQubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBpZiAoIXNwbGl0W2ldKSBjb250aW51ZTsgLy8gaWdub3JlIGVtcHR5IHN0cmluZ3NcbiAgICBuYW1lc3BhY2VzID0gc3BsaXRbaV0ucmVwbGFjZSgvXFwqL2csICcuKj8nKTtcbiAgICBpZiAobmFtZXNwYWNlc1swXSA9PT0gJy0nKSB7XG4gICAgICBleHBvcnRzLnNraXBzLnB1c2gobmV3IFJlZ0V4cCgnXicgKyBuYW1lc3BhY2VzLnN1YnN0cigxKSArICckJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBleHBvcnRzLm5hbWVzLnB1c2gobmV3IFJlZ0V4cCgnXicgKyBuYW1lc3BhY2VzICsgJyQnKSk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogRGlzYWJsZSBkZWJ1ZyBvdXRwdXQuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBkaXNhYmxlKCkge1xuICBleHBvcnRzLmVuYWJsZSgnJyk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBtb2RlIG5hbWUgaXMgZW5hYmxlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBlbmFibGVkKG5hbWUpIHtcbiAgdmFyIGksIGxlbjtcbiAgZm9yIChpID0gMCwgbGVuID0gZXhwb3J0cy5za2lwcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGlmIChleHBvcnRzLnNraXBzW2ldLnRlc3QobmFtZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgZm9yIChpID0gMCwgbGVuID0gZXhwb3J0cy5uYW1lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGlmIChleHBvcnRzLm5hbWVzW2ldLnRlc3QobmFtZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQ29lcmNlIGB2YWxgLlxuICpcbiAqIEBwYXJhbSB7TWl4ZWR9IHZhbFxuICogQHJldHVybiB7TWl4ZWR9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBjb2VyY2UodmFsKSB7XG4gIGlmICh2YWwgaW5zdGFuY2VvZiBFcnJvcikgcmV0dXJuIHZhbC5zdGFjayB8fCB2YWwubWVzc2FnZTtcbiAgcmV0dXJuIHZhbDtcbn1cbiIsIi8qKlxuICogVGhpcyBpcyB0aGUgd2ViIGJyb3dzZXIgaW1wbGVtZW50YXRpb24gb2YgYGRlYnVnKClgLlxuICpcbiAqIEV4cG9zZSBgZGVidWcoKWAgYXMgdGhlIG1vZHVsZS5cbiAqL1xuXG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2RlYnVnJyk7XG5leHBvcnRzLmxvZyA9IGxvZztcbmV4cG9ydHMuZm9ybWF0QXJncyA9IGZvcm1hdEFyZ3M7XG5leHBvcnRzLnNhdmUgPSBzYXZlO1xuZXhwb3J0cy5sb2FkID0gbG9hZDtcbmV4cG9ydHMudXNlQ29sb3JzID0gdXNlQ29sb3JzO1xuZXhwb3J0cy5zdG9yYWdlID0gJ3VuZGVmaW5lZCcgIT0gdHlwZW9mIGNocm9tZVxuICAgICAgICAgICAgICAgJiYgJ3VuZGVmaW5lZCcgIT0gdHlwZW9mIGNocm9tZS5zdG9yYWdlXG4gICAgICAgICAgICAgICAgICA/IGNocm9tZS5zdG9yYWdlLmxvY2FsXG4gICAgICAgICAgICAgICAgICA6IGxvY2Fsc3RvcmFnZSgpO1xuXG4vKipcbiAqIENvbG9ycy5cbiAqL1xuXG5leHBvcnRzLmNvbG9ycyA9IFtcbiAgJ2xpZ2h0c2VhZ3JlZW4nLFxuICAnZm9yZXN0Z3JlZW4nLFxuICAnZ29sZGVucm9kJyxcbiAgJ2RvZGdlcmJsdWUnLFxuICAnZGFya29yY2hpZCcsXG4gICdjcmltc29uJ1xuXTtcblxuLyoqXG4gKiBDdXJyZW50bHkgb25seSBXZWJLaXQtYmFzZWQgV2ViIEluc3BlY3RvcnMsIEZpcmVmb3ggPj0gdjMxLFxuICogYW5kIHRoZSBGaXJlYnVnIGV4dGVuc2lvbiAoYW55IEZpcmVmb3ggdmVyc2lvbikgYXJlIGtub3duXG4gKiB0byBzdXBwb3J0IFwiJWNcIiBDU1MgY3VzdG9taXphdGlvbnMuXG4gKlxuICogVE9ETzogYWRkIGEgYGxvY2FsU3RvcmFnZWAgdmFyaWFibGUgdG8gZXhwbGljaXRseSBlbmFibGUvZGlzYWJsZSBjb2xvcnNcbiAqL1xuXG5mdW5jdGlvbiB1c2VDb2xvcnMoKSB7XG4gIC8vIE5COiBJbiBhbiBFbGVjdHJvbiBwcmVsb2FkIHNjcmlwdCwgZG9jdW1lbnQgd2lsbCBiZSBkZWZpbmVkIGJ1dCBub3QgZnVsbHlcbiAgLy8gaW5pdGlhbGl6ZWQuIFNpbmNlIHdlIGtub3cgd2UncmUgaW4gQ2hyb21lLCB3ZSdsbCBqdXN0IGRldGVjdCB0aGlzIGNhc2VcbiAgLy8gZXhwbGljaXRseVxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnByb2Nlc3MgJiYgd2luZG93LnByb2Nlc3MudHlwZSA9PT0gJ3JlbmRlcmVyJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gaXMgd2Via2l0PyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNjQ1OTYwNi8zNzY3NzNcbiAgLy8gZG9jdW1lbnQgaXMgdW5kZWZpbmVkIGluIHJlYWN0LW5hdGl2ZTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0LW5hdGl2ZS9wdWxsLzE2MzJcbiAgcmV0dXJuICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLldlYmtpdEFwcGVhcmFuY2UpIHx8XG4gICAgLy8gaXMgZmlyZWJ1Zz8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzk4MTIwLzM3Njc3M1xuICAgICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuY29uc29sZSAmJiAod2luZG93LmNvbnNvbGUuZmlyZWJ1ZyB8fCAod2luZG93LmNvbnNvbGUuZXhjZXB0aW9uICYmIHdpbmRvdy5jb25zb2xlLnRhYmxlKSkpIHx8XG4gICAgLy8gaXMgZmlyZWZveCA+PSB2MzE/XG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9Ub29scy9XZWJfQ29uc29sZSNTdHlsaW5nX21lc3NhZ2VzXG4gICAgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9maXJlZm94XFwvKFxcZCspLykgJiYgcGFyc2VJbnQoUmVnRXhwLiQxLCAxMCkgPj0gMzEpIHx8XG4gICAgLy8gZG91YmxlIGNoZWNrIHdlYmtpdCBpbiB1c2VyQWdlbnQganVzdCBpbiBjYXNlIHdlIGFyZSBpbiBhIHdvcmtlclxuICAgICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvYXBwbGV3ZWJraXRcXC8oXFxkKykvKSk7XG59XG5cbi8qKlxuICogTWFwICVqIHRvIGBKU09OLnN0cmluZ2lmeSgpYCwgc2luY2Ugbm8gV2ViIEluc3BlY3RvcnMgZG8gdGhhdCBieSBkZWZhdWx0LlxuICovXG5cbmV4cG9ydHMuZm9ybWF0dGVycy5qID0gZnVuY3Rpb24odikge1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuICdbVW5leHBlY3RlZEpTT05QYXJzZUVycm9yXTogJyArIGVyci5tZXNzYWdlO1xuICB9XG59O1xuXG5cbi8qKlxuICogQ29sb3JpemUgbG9nIGFyZ3VtZW50cyBpZiBlbmFibGVkLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZm9ybWF0QXJncyhhcmdzKSB7XG4gIHZhciB1c2VDb2xvcnMgPSB0aGlzLnVzZUNvbG9ycztcblxuICBhcmdzWzBdID0gKHVzZUNvbG9ycyA/ICclYycgOiAnJylcbiAgICArIHRoaXMubmFtZXNwYWNlXG4gICAgKyAodXNlQ29sb3JzID8gJyAlYycgOiAnICcpXG4gICAgKyBhcmdzWzBdXG4gICAgKyAodXNlQ29sb3JzID8gJyVjICcgOiAnICcpXG4gICAgKyAnKycgKyBleHBvcnRzLmh1bWFuaXplKHRoaXMuZGlmZik7XG5cbiAgaWYgKCF1c2VDb2xvcnMpIHJldHVybjtcblxuICB2YXIgYyA9ICdjb2xvcjogJyArIHRoaXMuY29sb3I7XG4gIGFyZ3Muc3BsaWNlKDEsIDAsIGMsICdjb2xvcjogaW5oZXJpdCcpXG5cbiAgLy8gdGhlIGZpbmFsIFwiJWNcIiBpcyBzb21ld2hhdCB0cmlja3ksIGJlY2F1c2UgdGhlcmUgY291bGQgYmUgb3RoZXJcbiAgLy8gYXJndW1lbnRzIHBhc3NlZCBlaXRoZXIgYmVmb3JlIG9yIGFmdGVyIHRoZSAlYywgc28gd2UgbmVlZCB0b1xuICAvLyBmaWd1cmUgb3V0IHRoZSBjb3JyZWN0IGluZGV4IHRvIGluc2VydCB0aGUgQ1NTIGludG9cbiAgdmFyIGluZGV4ID0gMDtcbiAgdmFyIGxhc3RDID0gMDtcbiAgYXJnc1swXS5yZXBsYWNlKC8lW2EtekEtWiVdL2csIGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgaWYgKCclJScgPT09IG1hdGNoKSByZXR1cm47XG4gICAgaW5kZXgrKztcbiAgICBpZiAoJyVjJyA9PT0gbWF0Y2gpIHtcbiAgICAgIC8vIHdlIG9ubHkgYXJlIGludGVyZXN0ZWQgaW4gdGhlICpsYXN0KiAlY1xuICAgICAgLy8gKHRoZSB1c2VyIG1heSBoYXZlIHByb3ZpZGVkIHRoZWlyIG93bilcbiAgICAgIGxhc3RDID0gaW5kZXg7XG4gICAgfVxuICB9KTtcblxuICBhcmdzLnNwbGljZShsYXN0QywgMCwgYyk7XG59XG5cbi8qKlxuICogSW52b2tlcyBgY29uc29sZS5sb2coKWAgd2hlbiBhdmFpbGFibGUuXG4gKiBOby1vcCB3aGVuIGBjb25zb2xlLmxvZ2AgaXMgbm90IGEgXCJmdW5jdGlvblwiLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gbG9nKCkge1xuICAvLyB0aGlzIGhhY2tlcnkgaXMgcmVxdWlyZWQgZm9yIElFOC85LCB3aGVyZVxuICAvLyB0aGUgYGNvbnNvbGUubG9nYCBmdW5jdGlvbiBkb2Vzbid0IGhhdmUgJ2FwcGx5J1xuICByZXR1cm4gJ29iamVjdCcgPT09IHR5cGVvZiBjb25zb2xlXG4gICAgJiYgY29uc29sZS5sb2dcbiAgICAmJiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbChjb25zb2xlLmxvZywgY29uc29sZSwgYXJndW1lbnRzKTtcbn1cblxuLyoqXG4gKiBTYXZlIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gc2F2ZShuYW1lc3BhY2VzKSB7XG4gIHRyeSB7XG4gICAgaWYgKG51bGwgPT0gbmFtZXNwYWNlcykge1xuICAgICAgZXhwb3J0cy5zdG9yYWdlLnJlbW92ZUl0ZW0oJ2RlYnVnJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4cG9ydHMuc3RvcmFnZS5kZWJ1ZyA9IG5hbWVzcGFjZXM7XG4gICAgfVxuICB9IGNhdGNoKGUpIHt9XG59XG5cbi8qKlxuICogTG9hZCBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHJldHVybiB7U3RyaW5nfSByZXR1cm5zIHRoZSBwcmV2aW91c2x5IHBlcnNpc3RlZCBkZWJ1ZyBtb2Rlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbG9hZCgpIHtcbiAgdmFyIHI7XG4gIHRyeSB7XG4gICAgciA9IGV4cG9ydHMuc3RvcmFnZS5kZWJ1ZztcbiAgfSBjYXRjaChlKSB7fVxuXG4gIC8vIElmIGRlYnVnIGlzbid0IHNldCBpbiBMUywgYW5kIHdlJ3JlIGluIEVsZWN0cm9uLCB0cnkgdG8gbG9hZCAkREVCVUdcbiAgaWYgKCFyICYmIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiAnZW52JyBpbiBwcm9jZXNzKSB7XG4gICAgciA9IHByb2Nlc3MuZW52LkRFQlVHO1xuICB9XG5cbiAgcmV0dXJuIHI7XG59XG5cbi8qKlxuICogRW5hYmxlIG5hbWVzcGFjZXMgbGlzdGVkIGluIGBsb2NhbFN0b3JhZ2UuZGVidWdgIGluaXRpYWxseS5cbiAqL1xuXG5leHBvcnRzLmVuYWJsZShsb2FkKCkpO1xuXG4vKipcbiAqIExvY2Fsc3RvcmFnZSBhdHRlbXB0cyB0byByZXR1cm4gdGhlIGxvY2Fsc3RvcmFnZS5cbiAqXG4gKiBUaGlzIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHNhZmFyaSB0aHJvd3NcbiAqIHdoZW4gYSB1c2VyIGRpc2FibGVzIGNvb2tpZXMvbG9jYWxzdG9yYWdlXG4gKiBhbmQgeW91IGF0dGVtcHQgdG8gYWNjZXNzIGl0LlxuICpcbiAqIEByZXR1cm4ge0xvY2FsU3RvcmFnZX1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGxvY2Fsc3RvcmFnZSgpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZTtcbiAgfSBjYXRjaCAoZSkge31cbn1cbiIsImNvbnN0IGNyZWF0ZU1lbnUgPSBmdW5jdGlvbiBjcmVhdGVNZW51KG5hbWVzLCB2YXJpYWJsZXMsIHN0dWR5X3pvbmVzLCB0ZXJyaXRvcmlhbF9tZXNoKSB7XG4gIC8vIEZpcnN0IHNlY3Rpb24sIHJlZ2lvbnMgbmFtZXM6XG4gIGNvbnN0IHRpdGxlX3NlY3Rpb24xID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICB0aXRsZV9zZWN0aW9uMS5jbGFzc05hbWUgPSAndGl0bGVfbWVudSc7XG4gIHRpdGxlX3NlY3Rpb24xLmlubmVySFRNTCA9ICdNYSByw6lnaW9uJztcbiAgY29uc3Qgc2VjdGlvbjEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgc2VjdGlvbjEuY2xhc3NOYW1lID0gJ2JveCc7XG4gIHNlY3Rpb24xLnN0eWxlLm92ZXJmbG93ID0gJ2F1dG8nO1xuICBzZWN0aW9uMS5zdHlsZS5oZWlnaHQgPSAnMjAwcHgnO1xuICBmb3IgKGxldCBpID0gMCwgbGVuX2kgPSBuYW1lcy5sZW5ndGg7IGkgPCBsZW5faTsgaSsrKSB7XG4gICAgY29uc3QgaWQgPSBuYW1lc1tpXS5nZW87XG4gICAgY29uc3QgbmFtZSA9IG5hbWVzW2ldLk5vbTtcbiAgICBjb25zdCBlbnRyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBlbnRyeS5pbm5lckhUTUwgPSBgPHNwYW4gdmFsdWU9XCIke2lkfVwiIGNsYXNzPSd0YXJnZXRfcmVnaW9uIHNxdWFyZSc+PC9zcGFuPjxzcGFuIGNsYXNzPVwibGFiZWxfY2hrXCI+JHtuYW1lfTwvc3Bhbj5gO1xuICAgIHNlY3Rpb24xLmFwcGVuZENoaWxkKGVudHJ5KTtcbiAgfVxuXG4gIC8vIFNlY29uZCBzZWN0aW9uLCBncm91cHMgb2YgdmFyaWFibGVzOlxuICBjb25zdCB0aXRsZV9zZWN0aW9uMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgdGl0bGVfc2VjdGlvbjIuY2xhc3NOYW1lID0gJ3RpdGxlX21lbnUnO1xuICB0aXRsZV9zZWN0aW9uMi5pbm5lckhUTUwgPSAnTW9uL21lcyBpbmRpY2F0ZXVycyc7XG4gIGNvbnN0IHNlY3Rpb24yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHNlY3Rpb24yLmNsYXNzTmFtZSA9ICdib3gnO1xuICBjb25zdCBncm91cHNfdmFyID0gT2JqZWN0LmtleXModmFyaWFibGVzKTtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gZ3JvdXBzX3Zhci5sZW5ndGg7IGkgPCBsZW5faTsgaSsrKSB7XG4gICAgY29uc3QgZ3BfbmFtZSA9IGdyb3Vwc192YXJbaV07XG4gICAgY29uc3QgZW50cnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgZW50cnkuaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPSdzcXVhcmUnPjwvc3Bhbj48c3BhbiBjbGFzcz1cImxhYmVsX2Noa1wiPiR7Z3BfbmFtZX08L3NwYW4+YDtcbiAgICBzZWN0aW9uMi5hcHBlbmRDaGlsZChlbnRyeSk7XG4gICAgY29uc3QgdmFyX25hbWVzID0gT2JqZWN0LmtleXModmFyaWFibGVzW2dwX25hbWVdKTtcbiAgICBmb3IgKGxldCBqID0gMCwgbGVuX2ogPSB2YXJfbmFtZXMubGVuZ3RoOyBqIDwgbGVuX2o7IGorKykge1xuICAgICAgY29uc3QgbmFtZV92YXIgPSB2YXJfbmFtZXNbal07XG4gICAgICBjb25zdCBjb2RlX3ZhciA9IHZhcmlhYmxlc1tncF9uYW1lXVtuYW1lX3Zhcl07XG4gICAgICBjb25zdCBzdWJfZW50cnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICBzdWJfZW50cnkuY2xhc3NOYW1lID0gJ3NtYWxsJztcbiAgICAgIHN1Yl9lbnRyeS5pbm5lckhUTUwgPSBgPHNwYW4gdmFsdWU9XCIke2NvZGVfdmFyfVwiIGNsYXNzPVwidGFyZ2V0X3ZhcmlhYmxlIHNtYWxsX3NxdWFyZVwiPjwvc3Bhbj48c3Bhbj4ke3Zhcl9uYW1lc1tqXX08L3NwYW4+YDtcbiAgICAgIHNlY3Rpb24yLmFwcGVuZENoaWxkKHN1Yl9lbnRyeSk7XG4gICAgfVxuICB9XG5cbiAgLy8gVGhpcmQgc2VjdGlvbiwgc3R1ZHkgem9uZTpcbiAgY29uc3QgdGl0bGVfc2VjdGlvbjMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gIHRpdGxlX3NlY3Rpb24zLmNsYXNzTmFtZSA9ICd0aXRsZV9tZW51JztcbiAgdGl0bGVfc2VjdGlvbjMuaW5uZXJIVE1MID0gJ01vbiBlc3BhY2UgZFxcJ8OpdHVkZSc7XG4gIGNvbnN0IHNlY3Rpb24zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHNlY3Rpb24zLmNsYXNzTmFtZSA9ICdib3gnO1xuICBmb3IgKGxldCBpID0gMCwgbGVuX2kgPSBzdHVkeV96b25lcy5sZW5ndGg7IGkgPCBsZW5faTsgaSsrKSB7XG4gICAgY29uc3QgZW50cnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgY29uc3Qgem9uZSA9IHN0dWR5X3pvbmVzW2ldO1xuICAgIGVudHJ5LmlubmVySFRNTCA9IGA8c3BhbiBmaWx0ZXItdmFsdWU9XCIke3pvbmUuaWR9XCIgY2xhc3M9J2ZpbHRlcl92IHNxdWFyZSc+PC9zcGFuPjxzcGFuIGNsYXNzPVwibGFiZWxfY2hrXCI+JHt6b25lLm5hbWV9PC9zcGFuPmA7XG4gICAgc2VjdGlvbjMuYXBwZW5kQ2hpbGQoZW50cnkpO1xuICB9XG5cbiAgLy8gRm91cnRoIHNlY3Rpb246XG4gIGNvbnN0IHRpdGxlX3NlY3Rpb240ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICB0aXRsZV9zZWN0aW9uNC5jbGFzc05hbWUgPSAndGl0bGVfbWVudSc7XG4gIHRpdGxlX3NlY3Rpb240LmlubmVySFRNTCA9ICdNYWlsbGFnZSB0ZXJyaXRvcmlhbCBkXFwnYW5hbHlzZSc7XG4gIGNvbnN0IHNlY3Rpb240ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHNlY3Rpb240LmNsYXNzTmFtZSA9ICdib3gnO1xuICBmb3IgKGxldCBpID0gMCwgbGVuX2kgPSB0ZXJyaXRvcmlhbF9tZXNoLmxlbmd0aDsgaSA8IGxlbl9pOyBpKyspIHtcbiAgICBjb25zdCBlbnRyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBjb25zdCB0ZXJyaXRfbGV2ZWwgPSB0ZXJyaXRvcmlhbF9tZXNoW2ldO1xuICAgIGVudHJ5LmlubmVySFRNTCA9IGA8c3BhbiB2YWx1ZT1cIiR7dGVycml0X2xldmVsLmlkfVwiIGNsYXNzPSdzcXVhcmUgdGVycml0X2xldmVsJz48L3NwYW4+PHNwYW4gY2xhc3M9XCJsYWJlbF9jaGtcIj4ke3RlcnJpdF9sZXZlbC5uYW1lfTwvc3Bhbj5gO1xuICAgIHNlY3Rpb240LmFwcGVuZENoaWxkKGVudHJ5KTtcbiAgfVxuXG4gIC8vIFRoZSBhY3R1YWwgbWVudSBjb250YWluaW5nIHRoZXNlIDQgc2VjdGlvbnM6XG4gIGNvbnN0IG1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVudScpO1xuICBtZW51LmlkID0gJ21lbnUnO1xuICBtZW51LnN0eWxlLndpZHRoID0gJzM0MHB4JztcbiAgbWVudS5zdHlsZS5mbG9hdCA9ICdsZWZ0JztcbiAgbWVudS5hcHBlbmRDaGlsZCh0aXRsZV9zZWN0aW9uMSk7XG4gIG1lbnUuYXBwZW5kQ2hpbGQoc2VjdGlvbjEpO1xuICBtZW51LmFwcGVuZENoaWxkKHRpdGxlX3NlY3Rpb24yKTtcbiAgbWVudS5hcHBlbmRDaGlsZChzZWN0aW9uMik7XG4gIG1lbnUuYXBwZW5kQ2hpbGQodGl0bGVfc2VjdGlvbjMpO1xuICBtZW51LmFwcGVuZENoaWxkKHNlY3Rpb24zKTtcbiAgbWVudS5hcHBlbmRDaGlsZCh0aXRsZV9zZWN0aW9uNCk7XG4gIG1lbnUuYXBwZW5kQ2hpbGQoc2VjdGlvbjQpO1xufTtcblxuZXhwb3J0IHsgY3JlYXRlTWVudSB9O1xuIiwiLyohXHJcbiAqXHJcbiAqIFZhbmlsbGEtRGF0YVRhYmxlc1xyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtMjAxNyBLYXJsIFNhdW5kZXJzIChodHRwOi8vbW9iaXVzLm92aClcclxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocClcclxuICpcclxuICogVmVyc2lvbjogMS40LjE4XHJcbiAqXHJcbiAqL1xyXG4oZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcclxuICAgIHZhciBwbHVnaW4gPSBcIkRhdGFUYWJsZVwiO1xyXG5cclxuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xyXG4gICAgICAgIGRlZmluZShbXSwgZmFjdG9yeShwbHVnaW4pKTtcclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocGx1Z2luKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcm9vdFtwbHVnaW5dID0gZmFjdG9yeShwbHVnaW4pO1xyXG4gICAgfVxyXG59KSh0aGlzLCBmdW5jdGlvbiAocGx1Z2luKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuICAgIHZhciB3aW4gPSB3aW5kb3csXHJcbiAgICAgICAgZG9jID0gZG9jdW1lbnQsXHJcbiAgICAgICAgYm9keSA9IGRvYy5ib2R5O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVmYXVsdCBjb25maWd1cmF0aW9uXHJcbiAgICAgKiBAdHlwIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIHZhciBkZWZhdWx0Q29uZmlnID0ge1xyXG4gICAgICAgIHBlclBhZ2U6IDEwLFxyXG4gICAgICAgIHBlclBhZ2VTZWxlY3Q6IFs1LCAxMCwgMTUsIDIwLCAyNV0sXHJcblxyXG4gICAgICAgIHNvcnRhYmxlOiB0cnVlLFxyXG4gICAgICAgIHNlYXJjaGFibGU6IHRydWUsXHJcblxyXG4gICAgICAgIC8vIFBhZ2luYXRpb25cclxuICAgICAgICBuZXh0UHJldjogdHJ1ZSxcclxuICAgICAgICBmaXJzdExhc3Q6IGZhbHNlLFxyXG4gICAgICAgIHByZXZUZXh0OiBcIiZsc2FxdW87XCIsXHJcbiAgICAgICAgbmV4dFRleHQ6IFwiJnJzYXF1bztcIixcclxuICAgICAgICBmaXJzdFRleHQ6IFwiJmxhcXVvO1wiLFxyXG4gICAgICAgIGxhc3RUZXh0OiBcIiZyYXF1bztcIixcclxuICAgICAgICBlbGxpcHNpc1RleHQ6IFwiJmhlbGxpcDtcIixcclxuICAgICAgICBhc2NUZXh0OiBcIuKWtFwiLFxyXG4gICAgICAgIGRlc2NUZXh0OiBcIuKWvlwiLFxyXG4gICAgICAgIHRydW5jYXRlUGFnZXI6IHRydWUsXHJcbiAgICAgICAgcGFnZXJEZWx0YTogMixcclxuXHJcbiAgICAgICAgZml4ZWRDb2x1bW5zOiB0cnVlLFxyXG4gICAgICAgIGZpeGVkSGVpZ2h0OiBmYWxzZSxcclxuXHJcbiAgICAgICAgaGVhZGVyOiB0cnVlLFxyXG4gICAgICAgIGZvb3RlcjogZmFsc2UsXHJcblxyXG4gICAgICAgIC8vIEN1c3RvbWlzZSB0aGUgZGlzcGxheSB0ZXh0XHJcbiAgICAgICAgbGFiZWxzOiB7XHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIlNlYXJjaC4uLlwiLCAvLyBUaGUgc2VhcmNoIGlucHV0IHBsYWNlaG9sZGVyXHJcbiAgICAgICAgICAgIHBlclBhZ2U6IFwie3NlbGVjdH0gZW50cmllcyBwZXIgcGFnZVwiLCAvLyBwZXItcGFnZSBkcm9wZG93biBsYWJlbFxyXG4gICAgICAgICAgICBub1Jvd3M6IFwiTm8gZW50cmllcyBmb3VuZFwiLCAvLyBNZXNzYWdlIHNob3duIHdoZW4gdGhlcmUgYXJlIG5vIHNlYXJjaCByZXN1bHRzXHJcbiAgICAgICAgICAgIGluZm86IFwiU2hvd2luZyB7c3RhcnR9IHRvIHtlbmR9IG9mIHtyb3dzfSBlbnRyaWVzXCIgLy9cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvLyBDdXN0b21pc2UgdGhlIGxheW91dFxyXG4gICAgICAgIGxheW91dDoge1xyXG4gICAgICAgICAgICB0b3A6IFwie3NlbGVjdH17c2VhcmNofVwiLFxyXG4gICAgICAgICAgICBib3R0b206IFwie2luZm99e3BhZ2VyfVwiXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGlzIGl0ZW0gaXMgb2JqZWN0XHJcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICB2YXIgaXNPYmplY3QgPSBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWwpID09PSBcIltvYmplY3QgT2JqZWN0XVwiO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGlzIGl0ZW0gaXMgYXJyYXlcclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIHZhciBpc0FycmF5ID0gZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgZm9yIHZhbGlkIEpTT04gc3RyaW5nXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgc3RyXHJcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufEFycmF5fE9iamVjdH1cclxuICAgICAqL1xyXG4gICAgdmFyIGlzSnNvbiA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgICAgICB2YXIgdCA9ICExO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHQgPSBKU09OLnBhcnNlKHN0cik7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gITE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAhKG51bGwgPT09IHQgfHwgKCFpc0FycmF5KHQpICYmICFpc09iamVjdCh0KSkpICYmIHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWVyZ2Ugb2JqZWN0cyAocmVjY3Vyc2l2ZSlcclxuICAgICAqIEBwYXJhbSAge09iamVjdH0gclxyXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSB0XHJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIHZhciBleHRlbmQgPSBmdW5jdGlvbiAoc3JjLCBwcm9wcykge1xyXG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gcHJvcHMpIHtcclxuICAgICAgICAgICAgaWYgKHByb3BzLmhhc093blByb3BlcnR5KHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gcHJvcHNbcHJvcF07XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsICYmIGlzT2JqZWN0KHZhbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzcmNbcHJvcF0gPSBzcmNbcHJvcF0gfHwge307XHJcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5kKHNyY1twcm9wXSwgdmFsKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3JjW3Byb3BdID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzcmM7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSXRlcmF0b3IgaGVscGVyXHJcbiAgICAgKiBAcGFyYW0gIHsoQXJyYXl8T2JqZWN0KX0gICBhcnIgICAgIEFueSBvYmplY3QsIGFycmF5IG9yIGFycmF5LWxpa2UgY29sbGVjdGlvbi5cclxuICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSAgICAgICAgIGZuICAgICAgQ2FsbGJhY2tcclxuICAgICAqIEBwYXJhbSAge09iamVjdH0gICAgICAgICAgIHNjb3BlICAgQ2hhbmdlIHRoZSB2YWx1ZSBvZiB0aGlzXHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICB2YXIgZWFjaCA9IGZ1bmN0aW9uIChhcnIsIGZuLCBzY29wZSkge1xyXG4gICAgICAgIHZhciBuO1xyXG4gICAgICAgIGlmIChpc09iamVjdChhcnIpKSB7XHJcbiAgICAgICAgICAgIGZvciAobiBpbiBhcnIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXJyLCBuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZuLmNhbGwoc2NvcGUsIGFycltuXSwgbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKG4gPSAwOyBuIDwgYXJyLmxlbmd0aDsgbisrKSB7XHJcbiAgICAgICAgICAgICAgICBmbi5jYWxsKHNjb3BlLCBhcnJbbl0sIG4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZCBldmVudCBsaXN0ZW5lciB0byB0YXJnZXRcclxuICAgICAqIEBwYXJhbSAge09iamVjdH0gZWxcclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gZVxyXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGZuXHJcbiAgICAgKi9cclxuICAgIHZhciBvbiA9IGZ1bmN0aW9uIChlbCwgZSwgZm4pIHtcclxuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKGUsIGZuLCBmYWxzZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIERPTSBlbGVtZW50IG5vZGVcclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICBhIG5vZGVOYW1lXHJcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgYiBwcm9wZXJ0aWVzIGFuZCBhdHRyaWJ1dGVzXHJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIHZhciBjcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICB2YXIgZCA9IGRvYy5jcmVhdGVFbGVtZW50KGEpO1xyXG4gICAgICAgIGlmIChiICYmIFwib2JqZWN0XCIgPT0gdHlwZW9mIGIpIHtcclxuICAgICAgICAgICAgdmFyIGU7XHJcbiAgICAgICAgICAgIGZvciAoZSBpbiBiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoXCJodG1sXCIgPT09IGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBkLmlubmVySFRNTCA9IGJbZV07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGQuc2V0QXR0cmlidXRlKGUsIGJbZV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgZmx1c2ggPSBmdW5jdGlvbiAoZWwsIGllKSB7XHJcbiAgICAgICAgaWYgKGVsIGluc3RhbmNlb2YgTm9kZUxpc3QpIHtcclxuICAgICAgICAgICAgZWFjaChlbCwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIGZsdXNoKGUsIGllKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGllKSB7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoZWwuaGFzQ2hpbGROb2RlcygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWwucmVtb3ZlQ2hpbGQoZWwuZmlyc3RDaGlsZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBlbC5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBidXR0b24gaGVscGVyXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgY1xyXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgIHBcclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICB0XHJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIHZhciBidXR0b24gPSBmdW5jdGlvbiAoYywgcCwgdCkge1xyXG4gICAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50KFwibGlcIiwge1xyXG4gICAgICAgICAgICBjbGFzczogYyxcclxuICAgICAgICAgICAgaHRtbDogJzxhIGhyZWY9XCIjXCIgZGF0YS1wYWdlPVwiJyArIHAgKyAnXCI+JyArIHQgKyBcIjwvYT5cIlxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGNsYXNzTGlzdCBzaGltXHJcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICB2YXIgY2xhc3NMaXN0ID0ge1xyXG4gICAgICAgIGFkZDogZnVuY3Rpb24gKHMsIGEpIHtcclxuICAgICAgICAgICAgaWYgKHMuY2xhc3NMaXN0KSB7XHJcbiAgICAgICAgICAgICAgICBzLmNsYXNzTGlzdC5hZGQoYSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWNsYXNzTGlzdC5jb250YWlucyhzLCBhKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHMuY2xhc3NOYW1lID0gcy5jbGFzc05hbWUudHJpbSgpICsgXCIgXCIgKyBhO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIChzLCBhKSB7XHJcbiAgICAgICAgICAgIGlmIChzLmNsYXNzTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgcy5jbGFzc0xpc3QucmVtb3ZlKGEpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNsYXNzTGlzdC5jb250YWlucyhzLCBhKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHMuY2xhc3NOYW1lID0gcy5jbGFzc05hbWUucmVwbGFjZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFJlZ0V4cChcIihefFxcXFxzKVwiICsgYS5zcGxpdChcIiBcIikuam9pbihcInxcIikgKyBcIihcXFxcc3wkKVwiLCBcImdpXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiBcIlxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRhaW5zOiBmdW5jdGlvbiAocywgYSkge1xyXG4gICAgICAgICAgICBpZiAocylcclxuICAgICAgICAgICAgICAgIHJldHVybiBzLmNsYXNzTGlzdCA/XHJcbiAgICAgICAgICAgICAgICAgICAgcy5jbGFzc0xpc3QuY29udGFpbnMoYSkgOlxyXG4gICAgICAgICAgICAgICAgICAgICEhcy5jbGFzc05hbWUgJiZcclxuICAgICAgICAgICAgICAgICAgICAhIXMuY2xhc3NOYW1lLm1hdGNoKG5ldyBSZWdFeHAoXCIoXFxcXHN8XilcIiArIGEgKyBcIihcXFxcc3wkKVwiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEJ1YmJsZSBzb3J0IGFsZ29yaXRobVxyXG4gICAgICovXHJcbiAgICB2YXIgc29ydEl0ZW1zID0gZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICB2YXIgYywgZDtcclxuICAgICAgICBpZiAoMSA9PT0gYikge1xyXG4gICAgICAgICAgICBjID0gMDtcclxuICAgICAgICAgICAgZCA9IGEubGVuZ3RoO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChiID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgYyA9IGEubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgICAgIGQgPSAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHZhciBlID0gITA7IGU7KSB7XHJcbiAgICAgICAgICAgIGUgPSAhMTtcclxuICAgICAgICAgICAgZm9yICh2YXIgZiA9IGM7IGYgIT0gZDsgZiArPSBiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYVtmICsgYl0gJiYgYVtmXS52YWx1ZSA+IGFbZiArIGJdLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGcgPSBhW2ZdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoID0gYVtmICsgYl0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBnO1xyXG4gICAgICAgICAgICAgICAgICAgIGFbZl0gPSBoO1xyXG4gICAgICAgICAgICAgICAgICAgIGFbZiArIGJdID0gaTtcclxuICAgICAgICAgICAgICAgICAgICBlID0gITA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGE7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGFnZXIgdHJ1bmNhdGlvbiBhbGdvcml0aG1cclxuICAgICAqL1xyXG4gICAgdmFyIHRydW5jYXRlID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQsIGVsbGlwc2lzKSB7XHJcbiAgICAgICAgZCA9IGQgfHwgMjtcclxuICAgICAgICB2YXIgaixcclxuICAgICAgICAgICAgZSA9IDIgKiBkLFxyXG4gICAgICAgICAgICBmID0gYiAtIGQsXHJcbiAgICAgICAgICAgIGcgPSBiICsgZCxcclxuICAgICAgICAgICAgaCA9IFtdLFxyXG4gICAgICAgICAgICBpID0gW107XHJcbiAgICAgICAgaWYgKGIgPCA0IC0gZCArIGUpIHtcclxuICAgICAgICAgICAgZyA9IDMgKyBlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYiA+IGMgLSAoMyAtIGQgKyBlKSkge1xyXG4gICAgICAgICAgICBmID0gYyAtICgyICsgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAodmFyIGsgPSAxOyBrIDw9IGM7IGsrKykge1xyXG4gICAgICAgICAgICBpZiAoMSA9PSBrIHx8IGsgPT0gYyB8fCAoayA+PSBmICYmIGsgPD0gZykpIHtcclxuICAgICAgICAgICAgICAgIHZhciBsID0gYVtrIC0gMV07XHJcbiAgICAgICAgICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKGwsIFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICAgICAgaC5wdXNoKGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVhY2goaCwgZnVuY3Rpb24gKGMpIHtcclxuICAgICAgICAgICAgdmFyIGQgPSBjLmNoaWxkcmVuWzBdLmdldEF0dHJpYnV0ZShcImRhdGEtcGFnZVwiKTtcclxuICAgICAgICAgICAgaWYgKGopIHtcclxuICAgICAgICAgICAgICAgIHZhciBlID0gai5jaGlsZHJlblswXS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBhZ2VcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoZCAtIGUgPT0gMikgaS5wdXNoKGFbZV0pO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZCAtIGUgIT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmID0gY3JlYXRlRWxlbWVudChcImxpXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IFwiZWxsaXBzaXNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogJzxhIGhyZWY9XCIjXCI+JyArIGVsbGlwc2lzICsgXCI8L2E+XCJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpLnB1c2goZik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaS5wdXNoKGMpO1xyXG4gICAgICAgICAgICBqID0gYztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGFyc2UgZGF0YSB0byBIVE1MIHRhYmxlXHJcbiAgICAgKi9cclxuICAgIHZhciBkYXRhVG9UYWJsZSA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgdmFyIHRoZWFkID0gZmFsc2UsXHJcbiAgICAgICAgICAgIHRib2R5ID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGRhdGEgPSBkYXRhIHx8IHRoaXMub3B0aW9ucy5kYXRhO1xyXG5cclxuICAgICAgICBpZiAoZGF0YS5oZWFkaW5ncykge1xyXG4gICAgICAgICAgICB0aGVhZCA9IGNyZWF0ZUVsZW1lbnQoXCJ0aGVhZFwiKTtcclxuICAgICAgICAgICAgdmFyIHRyID0gY3JlYXRlRWxlbWVudChcInRyXCIpO1xyXG4gICAgICAgICAgICBlYWNoKGRhdGEuaGVhZGluZ3MsIGZ1bmN0aW9uIChjb2wpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0ZCA9IGNyZWF0ZUVsZW1lbnQoXCJ0aFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgaHRtbDogY29sXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRkKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGVhZC5hcHBlbmRDaGlsZCh0cik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZGF0YS5kYXRhKSB7XHJcbiAgICAgICAgICAgIHRib2R5ID0gY3JlYXRlRWxlbWVudChcInRib2R5XCIpO1xyXG4gICAgICAgICAgICBlYWNoKGRhdGEuZGF0YSwgZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmhlYWRpbmdzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuaGVhZGluZ3MubGVuZ3RoICE9PSByb3dzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlRoZSBudW1iZXIgb2Ygcm93cyBkbyBub3QgbWF0Y2ggdGhlIG51bWJlciBvZiBoZWFkaW5ncy5cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciB0ciA9IGNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcclxuICAgICAgICAgICAgICAgIGVhY2gocm93cywgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRkID0gY3JlYXRlRWxlbWVudChcInRkXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRib2R5LmFwcGVuZENoaWxkKHRyKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhlYWQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudGFibGUudEhlYWQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGFibGUucmVtb3ZlQ2hpbGQodGhpcy50YWJsZS50SGVhZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy50YWJsZS5hcHBlbmRDaGlsZCh0aGVhZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGJvZHkpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudGFibGUudEJvZGllcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGFibGUucmVtb3ZlQ2hpbGQodGhpcy50YWJsZS50Qm9kaWVzWzBdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnRhYmxlLmFwcGVuZENoaWxkKHRib2R5KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXNlIG1vbWVudC5qcyB0byBwYXJzZSBjZWxsIGNvbnRlbnRzIGZvciBzb3J0aW5nXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGNvbnRlbnQgICAgIFRoZSBkYXRldGltZSBzdHJpbmcgdG8gcGFyc2VcclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gZm9ybWF0ICAgICAgVGhlIGZvcm1hdCBmb3IgbW9tZW50IHRvIHVzZVxyXG4gICAgICogQHJldHVybiB7U3RyaW5nfEJvb2xlYW59ICAgICBEYXRhdGltZSBzdHJpbmcgb3IgZmFsc2VcclxuICAgICAqL1xyXG4gICAgdmFyIHBhcnNlRGF0ZSA9IGZ1bmN0aW9uIChjb250ZW50LCBmb3JtYXQpIHtcclxuICAgICAgICB2YXIgZGF0ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBtb21lbnQoKSB0aHJvd3MgYSBmaXQgaWYgdGhlIHN0cmluZyBpc24ndCBhIHZhbGlkIGRhdGV0aW1lIHN0cmluZ1xyXG4gICAgICAgIC8vIHNvIHdlIG5lZWQgdG8gc3VwcGx5IHRoZSBmb3JtYXQgdG8gdGhlIGNvbnN0cnVjdG9yIChodHRwczovL21vbWVudGpzLmNvbS9kb2NzLyMvcGFyc2luZy9zdHJpbmctZm9ybWF0LylcclxuXHJcbiAgICAgICAgLy8gQ29udmVydGluZyB0byBZWVlZTU1ERCBlbnN1cmVzIHdlIGNhbiBhY2N1cmF0ZWx5IHNvcnQgdGhlIGNvbHVtbiBudW1lcmljYWxseVxyXG5cclxuICAgICAgICBpZiAoZm9ybWF0KSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoZm9ybWF0KSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJJU09fODYwMVwiOlxyXG4gICAgICAgICAgICAgICAgZGF0ZSA9IG1vbWVudChjb250ZW50LCBtb21lbnQuSVNPXzg2MDEpLmZvcm1hdChcIllZWVlNTUREXCIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJSRkNfMjgyMlwiOlxyXG4gICAgICAgICAgICAgICAgZGF0ZSA9IG1vbWVudChjb250ZW50LCBcImRkZCwgTU0gTU1NIFlZWVkgSEg6bW06c3MgWlpcIikuZm9ybWF0KFwiWVlZWU1NRERcIik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIk1ZU1FMXCI6XHJcbiAgICAgICAgICAgICAgICBkYXRlID0gbW9tZW50KGNvbnRlbnQsIFwiWVlZWS1NTS1ERCBoaDptbTpzc1wiKS5mb3JtYXQoXCJZWVlZTU1ERFwiKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiVU5JWFwiOlxyXG4gICAgICAgICAgICAgICAgZGF0ZSA9IG1vbWVudChjb250ZW50KS51bml4KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIC8vIFVzZXIgZGVmaW5lZCBmb3JtYXQgdXNpbmcgdGhlIGRhdGEtZm9ybWF0IGF0dHJpYnV0ZSBvciBjb2x1bW5zW25dLmZvcm1hdCBvcHRpb25cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGRhdGUgPSBtb21lbnQoY29udGVudCwgZm9ybWF0KS5mb3JtYXQoXCJZWVlZTU1ERFwiKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZGF0ZTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb2x1bW5zIEFQSVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIERhdGFUYWJsZSBpbnN0YW5jZVxyXG4gICAgICogQHBhcmFtIHtNaXhlZH0gY29sdW1ucyAgQ29sdW1uIGluZGV4IG9yIGFycmF5IG9mIGNvbHVtbiBpbmRleGVzXHJcbiAgICAgKi9cclxuICAgIHZhciBDb2x1bW5zID0gZnVuY3Rpb24gKGR0KSB7XHJcbiAgICAgICAgdGhpcy5kdCA9IGR0O1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN3YXAgdHdvIGNvbHVtbnNcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIENvbHVtbnMucHJvdG90eXBlLnN3YXAgPSBmdW5jdGlvbiAoY29sdW1ucykge1xyXG4gICAgICAgIGlmIChjb2x1bW5zLmxlbmd0aCAmJiBjb2x1bW5zLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICB2YXIgY29scyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgLy8gR2V0IHRoZSBjdXJyZW50IGNvbHVtbiBpbmRleGVzXHJcbiAgICAgICAgICAgIGVhY2godGhpcy5kdC5oZWFkaW5ncywgZnVuY3Rpb24gKGgsIGkpIHtcclxuICAgICAgICAgICAgICAgIGNvbHMucHVzaChpKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgeCA9IGNvbHVtbnNbMF07XHJcbiAgICAgICAgICAgIHZhciB5ID0gY29sdW1uc1sxXTtcclxuICAgICAgICAgICAgdmFyIGIgPSBjb2xzW3ldO1xyXG4gICAgICAgICAgICBjb2xzW3ldID0gY29sc1t4XTtcclxuICAgICAgICAgICAgY29sc1t4XSA9IGI7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9yZGVyKGNvbHMpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW9yZGVyIHRoZSBjb2x1bW5zXHJcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gY29sdW1ucyAgQXJyYXkgb2Ygb3JkZXJlZCBjb2x1bW4gaW5kZXhlc1xyXG4gICAgICovXHJcbiAgICBDb2x1bW5zLnByb3RvdHlwZS5vcmRlciA9IGZ1bmN0aW9uIChjb2x1bW5zKSB7XHJcbiAgICAgICAgdmFyIGEsIGIsIGMsIGQsIGgsIHM7XHJcblxyXG4gICAgICAgIHZhciB0ZW1wX2EgPSBbXTtcclxuICAgICAgICB2YXIgdGVtcF9iID0gW107XHJcbiAgICAgICAgdmFyIHRlbXBfYyA9IFtdO1xyXG4gICAgICAgIHZhciB0ZW1wX2QgPSBbXTtcclxuXHJcbiAgICAgICAgdmFyIGR0ID0gdGhpcy5kdDtcclxuXHJcbiAgICAgICAgLy8gT3JkZXIgdGhlIGhlYWRpbmdzXHJcbiAgICAgICAgZWFjaChjb2x1bW5zLCBmdW5jdGlvbiAoY29sdW1uLCB4KSB7XHJcbiAgICAgICAgICAgIGggPSBkdC5oZWFkaW5nc1tjb2x1bW5dO1xyXG4gICAgICAgICAgICBzID0gaC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNvcnRhYmxlXCIpICE9PSBcImZhbHNlXCI7XHJcbiAgICAgICAgICAgIGEgPSBoLmNsb25lTm9kZSh0cnVlKTtcclxuICAgICAgICAgICAgYS5vcmlnaW5hbENlbGxJbmRleCA9IHg7XHJcbiAgICAgICAgICAgIGEuc29ydGFibGUgPSBzO1xyXG5cclxuICAgICAgICAgICAgdGVtcF9hLnB1c2goYSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZHQuaGlkZGVuQ29sdW1ucy5pbmRleE9mKGNvbHVtbikgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBiID0gaC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBiLm9yaWdpbmFsQ2VsbEluZGV4ID0geDtcclxuICAgICAgICAgICAgICAgIGIuc29ydGFibGUgPSBzO1xyXG5cclxuICAgICAgICAgICAgICAgIHRlbXBfYi5wdXNoKGIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIE9yZGVyIHRoZSByb3cgY2VsbHNcclxuICAgICAgICBlYWNoKGR0LmRhdGEsIGZ1bmN0aW9uIChyb3csIGkpIHtcclxuICAgICAgICAgICAgYyA9IHJvdy5jbG9uZU5vZGUoKTtcclxuICAgICAgICAgICAgZCA9IHJvdy5jbG9uZU5vZGUoKTtcclxuXHJcbiAgICAgICAgICAgIGMuZGF0YUluZGV4ID0gaTtcclxuICAgICAgICAgICAgZC5kYXRhSW5kZXggPSBpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHJvdy5zZWFyY2hJbmRleCAhPT0gbnVsbCAmJiByb3cuc2VhcmNoSW5kZXggIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgYy5zZWFyY2hJbmRleCA9IHJvdy5zZWFyY2hJbmRleDtcclxuICAgICAgICAgICAgICAgIGQuc2VhcmNoSW5kZXggPSByb3cuc2VhcmNoSW5kZXg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEFwcGVuZCB0byBjZWxsIHRvIHRoZSBmcmFnbWVudCBpbiB0aGUgY29ycmVjdCBvcmRlclxyXG4gICAgICAgICAgICBlYWNoKFxyXG4gICAgICAgICAgICAgICAgY29sdW1ucyxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh4LCBjb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBjLmFwcGVuZENoaWxkKHJvdy5jZWxsc1tjb2x1bW5dLmNsb25lTm9kZSh0cnVlKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkdC5oaWRkZW5Db2x1bW5zLmluZGV4T2YoY29sdW1uKSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZC5hcHBlbmRDaGlsZChyb3cuY2VsbHNbY29sdW1uXS5jbG9uZU5vZGUodHJ1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB0aGlzXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICB0ZW1wX2MucHVzaChjKTtcclxuICAgICAgICAgICAgdGVtcF9kLnB1c2goZCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGR0LmhlYWRpbmdzID0gdGVtcF9hO1xyXG4gICAgICAgIGR0LmFjdGl2ZUhlYWRpbmdzID0gdGVtcF9iO1xyXG5cclxuICAgICAgICBkdC5kYXRhID0gdGVtcF9jO1xyXG4gICAgICAgIGR0LmFjdGl2ZVJvd3MgPSB0ZW1wX2Q7XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZVxyXG4gICAgICAgIGR0LnVwZGF0ZSgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEhpZGUgY29sdW1uc1xyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgQ29sdW1ucy5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uIChjb2x1bW5zKSB7XHJcbiAgICAgICAgaWYgKGNvbHVtbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHZhciBkdCA9IHRoaXMuZHQ7XHJcblxyXG4gICAgICAgICAgICBlYWNoKGNvbHVtbnMsIGZ1bmN0aW9uIChjb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChkdC5oaWRkZW5Db2x1bW5zLmluZGV4T2YoY29sdW1uKSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBkdC5oaWRkZW5Db2x1bW5zLnB1c2goY29sdW1uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlYnVpbGQoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2hvdyBjb2x1bW5zXHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBDb2x1bW5zLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKGNvbHVtbnMpIHtcclxuICAgICAgICBpZiAoY29sdW1ucy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4LCBkdCA9IHRoaXMuZHQ7XHJcblxyXG4gICAgICAgICAgICBlYWNoKGNvbHVtbnMsIGZ1bmN0aW9uIChjb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgIGluZGV4ID0gZHQuaGlkZGVuQ29sdW1ucy5pbmRleE9mKGNvbHVtbik7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGR0LmhpZGRlbkNvbHVtbnMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlYnVpbGQoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgY29sdW1uKHMpIHZpc2liaWxpdHlcclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIENvbHVtbnMucHJvdG90eXBlLnZpc2libGUgPSBmdW5jdGlvbiAoY29sdW1ucykge1xyXG4gICAgICAgIHZhciBjb2xzLCBkdCA9IHRoaXMuZHQ7XHJcblxyXG4gICAgICAgIGNvbHVtbnMgPSBjb2x1bW5zIHx8IGR0LmhlYWRpbmdzLm1hcChmdW5jdGlvbiAodGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoLm9yaWdpbmFsQ2VsbEluZGV4O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoIWlzTmFOKGNvbHVtbnMpKSB7XHJcbiAgICAgICAgICAgIGNvbHMgPSBkdC5oaWRkZW5Db2x1bW5zLmluZGV4T2YoY29sdW1ucykgPCAwO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShjb2x1bW5zKSkge1xyXG4gICAgICAgICAgICBjb2xzID0gW107XHJcbiAgICAgICAgICAgIGVhY2goY29sdW1ucywgZnVuY3Rpb24gKGNvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgY29scy5wdXNoKGR0LmhpZGRlbkNvbHVtbnMuaW5kZXhPZihjb2x1bW4pIDwgMCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNvbHM7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgY29sdW1uKHMpIHZpc2liaWxpdHlcclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIENvbHVtbnMucHJvdG90eXBlLmhpZGRlbiA9IGZ1bmN0aW9uIChjb2x1bW5zKSB7XHJcbiAgICAgICAgdmFyIGNvbHMsIGR0ID0gdGhpcy5kdDtcclxuXHJcbiAgICAgICAgY29sdW1ucyA9IGNvbHVtbnMgfHwgdGhpcy5kdC5oZWFkaW5ncy5tYXAoZnVuY3Rpb24gKHRoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aC5vcmlnaW5hbENlbGxJbmRleDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKCFpc05hTihjb2x1bW5zKSkge1xyXG4gICAgICAgICAgICBjb2xzID0gZHQuaGlkZGVuQ29sdW1ucy5pbmRleE9mKHRoaXMuY29sdW1ucykgPiAtMTtcclxuICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkoY29sdW1ucykpIHtcclxuICAgICAgICAgICAgY29scyA9IFtdO1xyXG4gICAgICAgICAgICBlYWNoKGNvbHVtbnMsIGZ1bmN0aW9uIChjb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgIGNvbHMucHVzaChkdC5oaWRkZW5Db2x1bW5zLmluZGV4T2YoY29sdW1uKSA+IC0xKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gY29scztcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgYSBuZXcgY29sdW1uXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxyXG4gICAgICovXHJcbiAgICBDb2x1bW5zLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcyxcclxuICAgICAgICAgICAgdGQsIHRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRoXCIpO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuZHQuaGVhZGluZ3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZHQuaW5zZXJ0KHtcclxuICAgICAgICAgICAgICAgIGhlYWRpbmdzOiBbZGF0YS5oZWFkaW5nXSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEuZGF0YS5tYXAoZnVuY3Rpb24gKGkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2ldO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucmVidWlsZCgpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXRoaXMuZHQuaGlkZGVuSGVhZGVyKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmhlYWRpbmcubm9kZU5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHRoLmFwcGVuZENoaWxkKGRhdGEuaGVhZGluZyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aC5pbm5lckhUTUwgPSBkYXRhLmhlYWRpbmc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aC5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5kdC5oZWFkaW5ncy5wdXNoKHRoKTtcclxuXHJcbiAgICAgICAgZWFjaCh0aGlzLmR0LmRhdGEsIGZ1bmN0aW9uIChyb3csIGkpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuZGF0YVtpXSkge1xyXG4gICAgICAgICAgICAgICAgdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZGF0YVtpXS5ub2RlTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRkLmFwcGVuZENoaWxkKGRhdGEuZGF0YVtpXSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRkLmlubmVySFRNTCA9IGRhdGEuZGF0YVtpXTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0ZC5kYXRhID0gdGQuaW5uZXJIVE1MO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnJlbmRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRkLmlubmVySFRNTCA9IGRhdGEucmVuZGVyLmNhbGwodGhhdCwgdGQuZGF0YSwgdGQsIHJvdyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKHRkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoZGF0YS50eXBlKSB7XHJcbiAgICAgICAgICAgIHRoLnNldEF0dHJpYnV0ZShcImRhdGEtdHlwZVwiLCBkYXRhLnR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGF0YS5mb3JtYXQpIHtcclxuICAgICAgICAgICAgdGguc2V0QXR0cmlidXRlKFwiZGF0YS1mb3JtYXRcIiwgZGF0YS5mb3JtYXQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoXCJzb3J0YWJsZVwiKSkge1xyXG4gICAgICAgICAgICB0aC5zb3J0YWJsZSA9IGRhdGEuc29ydGFibGU7XHJcbiAgICAgICAgICAgIHRoLnNldEF0dHJpYnV0ZShcImRhdGEtc29ydGFibGVcIiwgZGF0YS5zb3J0YWJsZSA9PT0gdHJ1ZSA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucmVidWlsZCgpO1xyXG5cclxuICAgICAgICB0aGlzLmR0LnJlbmRlckhlYWRlcigpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZSBjb2x1bW4ocylcclxuICAgICAqIEBwYXJhbSAge0FycmF5fE51bWJlcn0gc2VsZWN0XHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBDb2x1bW5zLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoc2VsZWN0KSB7XHJcbiAgICAgICAgaWYgKGlzQXJyYXkoc2VsZWN0KSkge1xyXG4gICAgICAgICAgICAvLyBSZW1vdmUgaW4gcmV2ZXJzZSBvdGhlcndpc2UgdGhlIGluZGV4ZXMgd2lsbCBiZSBpbmNvcnJlY3RcclxuICAgICAgICAgICAgc2VsZWN0LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBiIC0gYTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBlYWNoKHNlbGVjdCwgZnVuY3Rpb24gKGNvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmUoY29sdW1uKTtcclxuICAgICAgICAgICAgfSwgdGhpcyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5kdC5oZWFkaW5ncy5zcGxpY2Uoc2VsZWN0LCAxKTtcclxuXHJcbiAgICAgICAgICAgIGVhY2godGhpcy5kdC5kYXRhLCBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgICAgICByb3cucmVtb3ZlQ2hpbGQocm93LmNlbGxzW3NlbGVjdF0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucmVidWlsZCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNvcnQgYnkgY29sdW1uXHJcbiAgICAgKiBAcGFyYW0gIHtpbnR9IGNvbHVtbiAtIFRoZSBjb2x1bW4gbm8uXHJcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IGRpcmVjdGlvbiAtIGFzYyBvciBkZXNjXHJcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBDb2x1bW5zLnByb3RvdHlwZS5zb3J0ID0gZnVuY3Rpb24gKGNvbHVtbiwgZGlyZWN0aW9uLCBpbml0KSB7XHJcblxyXG4gICAgICAgIHZhciBkdCA9IHRoaXMuZHQ7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGNvbHVtbiBpcyBwcmVzZW50XHJcbiAgICAgICAgaWYgKGR0Lmhhc0hlYWRpbmdzICYmIChjb2x1bW4gPCAxIHx8IGNvbHVtbiA+IGR0LmFjdGl2ZUhlYWRpbmdzLmxlbmd0aCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZHQuc29ydGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgIC8vIENvbnZlcnQgdG8gemVyby1pbmRleGVkXHJcbiAgICAgICAgY29sdW1uID0gY29sdW1uIC0gMTtcclxuXHJcbiAgICAgICAgdmFyIGRpcixcclxuICAgICAgICAgICAgcm93cyA9IGR0LmRhdGEsXHJcbiAgICAgICAgICAgIGFscGhhID0gW10sXHJcbiAgICAgICAgICAgIG51bWVyaWMgPSBbXSxcclxuICAgICAgICAgICAgYSA9IDAsXHJcbiAgICAgICAgICAgIG4gPSAwLFxyXG4gICAgICAgICAgICB0aCA9IGR0LmFjdGl2ZUhlYWRpbmdzW2NvbHVtbl07XHJcblxyXG4gICAgICAgIGNvbHVtbiA9IHRoLm9yaWdpbmFsQ2VsbEluZGV4O1xyXG5cclxuICAgICAgICBlYWNoKHJvd3MsIGZ1bmN0aW9uICh0cikge1xyXG4gICAgICAgICAgICB2YXIgY2VsbCA9IHRyLmNlbGxzW2NvbHVtbl07XHJcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gY2VsbC5kYXRhO1xyXG4gICAgICAgICAgICB2YXIgbnVtID0gY29udGVudC5yZXBsYWNlKC8oXFwkfFxcLHxcXHN8JSkvZywgXCJcIik7XHJcblxyXG4gICAgICAgICAgICAvLyBDaGVjayBmb3IgZGF0ZSBmb3JtYXQgYW5kIG1vbWVudC5qc1xyXG4gICAgICAgICAgICBpZiAodGguZ2V0QXR0cmlidXRlKFwiZGF0YS10eXBlXCIpID09PSBcImRhdGVcIiAmJiB3aW4ubW9tZW50KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZm9ybWF0ID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkID0gdGguaGFzQXR0cmlidXRlKFwiZGF0YS1mb3JtYXRcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGZvcm1hdHRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdCA9IHRoLmdldEF0dHJpYnV0ZShcImRhdGEtZm9ybWF0XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIG51bSA9IHBhcnNlRGF0ZShjb250ZW50LCBmb3JtYXQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAocGFyc2VGbG9hdChudW0pID09IG51bSkge1xyXG4gICAgICAgICAgICAgICAgbnVtZXJpY1tuKytdID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBOdW1iZXIobnVtKSxcclxuICAgICAgICAgICAgICAgICAgICByb3c6IHRyXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYWxwaGFbYSsrXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY29udGVudCxcclxuICAgICAgICAgICAgICAgICAgICByb3c6IHRyXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qIFNvcnQgYWNjb3JkaW5nIHRvIGRpcmVjdGlvbiAoYXNjZW5kaW5nIG9yIGRlc2NlbmRpbmcpICovXHJcbiAgICAgICAgdmFyIHRvcCwgYnRtO1xyXG4gICAgICAgIGlmIChjbGFzc0xpc3QuY29udGFpbnModGgsIFwiYXNjXCIpIHx8IGRpcmVjdGlvbiA9PSBcImFzY1wiKSB7XHJcbiAgICAgICAgICAgIHRvcCA9IHNvcnRJdGVtcyhhbHBoYSwgLTEpO1xyXG4gICAgICAgICAgICBidG0gPSBzb3J0SXRlbXMobnVtZXJpYywgLTEpO1xyXG4gICAgICAgICAgICBkaXIgPSBcImRlc2NlbmRpbmdcIjtcclxuICAgICAgICAgICAgY2xhc3NMaXN0LnJlbW92ZSh0aCwgXCJhc2NcIik7XHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5hZGQodGgsIFwiZGVzY1wiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0b3AgPSBzb3J0SXRlbXMobnVtZXJpYywgMSk7XHJcbiAgICAgICAgICAgIGJ0bSA9IHNvcnRJdGVtcyhhbHBoYSwgMSk7XHJcbiAgICAgICAgICAgIGRpciA9IFwiYXNjZW5kaW5nXCI7XHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5yZW1vdmUodGgsIFwiZGVzY1wiKTtcclxuICAgICAgICAgICAgY2xhc3NMaXN0LmFkZCh0aCwgXCJhc2NcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBDbGVhciBhc2MvZGVzYyBjbGFzcyBuYW1lcyBmcm9tIHRoZSBsYXN0IHNvcnRlZCBjb2x1bW4ncyB0aCBpZiBpdCBpc24ndCB0aGUgc2FtZSBhcyB0aGUgb25lIHRoYXQgd2FzIGp1c3QgY2xpY2tlZCAqL1xyXG4gICAgICAgIGlmIChkdC5sYXN0VGggJiYgdGggIT0gZHQubGFzdFRoKSB7XHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5yZW1vdmUoZHQubGFzdFRoLCBcImRlc2NcIik7XHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5yZW1vdmUoZHQubGFzdFRoLCBcImFzY1wiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGR0Lmxhc3RUaCA9IHRoO1xyXG5cclxuICAgICAgICAvKiBSZW9yZGVyIHRoZSB0YWJsZSAqL1xyXG4gICAgICAgIHJvd3MgPSB0b3AuY29uY2F0KGJ0bSk7XHJcblxyXG4gICAgICAgIGR0LmRhdGEgPSBbXTtcclxuICAgICAgICB2YXIgaW5kZXhlcyA9IFtdO1xyXG5cclxuICAgICAgICBlYWNoKHJvd3MsIGZ1bmN0aW9uICh2LCBpKSB7XHJcbiAgICAgICAgICAgIGR0LmRhdGEucHVzaCh2LnJvdyk7XHJcblxyXG4gICAgICAgICAgICBpZiAodi5yb3cuc2VhcmNoSW5kZXggIT09IG51bGwgJiYgdi5yb3cuc2VhcmNoSW5kZXggIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgaW5kZXhlcy5wdXNoKGkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgZHQpO1xyXG5cclxuICAgICAgICBkdC5zZWFyY2hEYXRhID0gaW5kZXhlcztcclxuXHJcbiAgICAgICAgdGhpcy5yZWJ1aWxkKCk7XHJcblxyXG4gICAgICAgIGR0LnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICBpZiAoIWluaXQpIHtcclxuICAgICAgICAgICAgZHQuZW1pdChcImRhdGF0YWJsZS5zb3J0XCIsIGNvbHVtbiwgZGlyKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVidWlsZCB0aGUgY29sdW1uc1xyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgQ29sdW1ucy5wcm90b3R5cGUucmVidWlsZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgYSwgYiwgYywgZDtcclxuICAgICAgICB2YXIgZHQgPSB0aGlzLmR0LFxyXG4gICAgICAgICAgICB0ZW1wID0gW107XHJcblxyXG4gICAgICAgIGR0LmFjdGl2ZVJvd3MgPSBbXTtcclxuICAgICAgICBkdC5hY3RpdmVIZWFkaW5ncyA9IFtdO1xyXG5cclxuICAgICAgICBlYWNoKGR0LmhlYWRpbmdzLCBmdW5jdGlvbiAodGgsIGkpIHtcclxuICAgICAgICAgICAgdGgub3JpZ2luYWxDZWxsSW5kZXggPSBpO1xyXG4gICAgICAgICAgICB0aC5zb3J0YWJsZSA9IHRoLmdldEF0dHJpYnV0ZShcImRhdGEtc29ydGFibGVcIikgIT09IFwiZmFsc2VcIjtcclxuICAgICAgICAgICAgaWYgKGR0LmhpZGRlbkNvbHVtbnMuaW5kZXhPZihpKSA8IDApIHtcclxuICAgICAgICAgICAgICAgIGR0LmFjdGl2ZUhlYWRpbmdzLnB1c2godGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgdGhpcyk7XHJcblxyXG4gICAgICAgIC8vIExvb3Agb3ZlciB0aGUgcm93cyBhbmQgcmVvcmRlciB0aGUgY2VsbHNcclxuICAgICAgICBlYWNoKGR0LmRhdGEsIGZ1bmN0aW9uIChyb3csIGkpIHtcclxuICAgICAgICAgICAgYSA9IHJvdy5jbG9uZU5vZGUoKTtcclxuICAgICAgICAgICAgYiA9IHJvdy5jbG9uZU5vZGUoKTtcclxuXHJcbiAgICAgICAgICAgIGEuZGF0YUluZGV4ID0gaTtcclxuICAgICAgICAgICAgYi5kYXRhSW5kZXggPSBpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHJvdy5zZWFyY2hJbmRleCAhPT0gbnVsbCAmJiByb3cuc2VhcmNoSW5kZXggIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgYS5zZWFyY2hJbmRleCA9IHJvdy5zZWFyY2hJbmRleDtcclxuICAgICAgICAgICAgICAgIGIuc2VhcmNoSW5kZXggPSByb3cuc2VhcmNoSW5kZXg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEFwcGVuZCB0byBjZWxsIHRvIHRoZSBmcmFnbWVudCBpbiB0aGUgY29ycmVjdCBvcmRlclxyXG4gICAgICAgICAgICBlYWNoKHJvdy5jZWxscywgZnVuY3Rpb24gKGNlbGwpIHtcclxuICAgICAgICAgICAgICAgIGMgPSBjZWxsLmNsb25lTm9kZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIGMuZGF0YSA9IGNlbGwuZGF0YTtcclxuICAgICAgICAgICAgICAgIGEuYXBwZW5kQ2hpbGQoYyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGR0LmhpZGRlbkNvbHVtbnMuaW5kZXhPZihjZWxsLmNlbGxJbmRleCkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZCA9IGNlbGwuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGQuZGF0YSA9IGNlbGwuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICBiLmFwcGVuZENoaWxkKGQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFwcGVuZCB0aGUgZnJhZ21lbnQgd2l0aCB0aGUgb3JkZXJlZCBjZWxsc1xyXG4gICAgICAgICAgICB0ZW1wLnB1c2goYSk7XHJcbiAgICAgICAgICAgIGR0LmFjdGl2ZVJvd3MucHVzaChiKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZHQuZGF0YSA9IHRlbXA7XHJcblxyXG4gICAgICAgIGR0LnVwZGF0ZSgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJvd3MgQVBJXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2UgRGF0YVRhYmxlIGluc3RhbmNlXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSByb3dzXHJcbiAgICAgKi9cclxuICAgIHZhciBSb3dzID0gZnVuY3Rpb24gKGR0LCByb3dzKSB7XHJcbiAgICAgICAgdGhpcy5kdCA9IGR0O1xyXG4gICAgICAgIHRoaXMucm93cyA9IHJvd3M7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEJ1aWxkIGEgbmV3IHJvd1xyXG4gICAgICogQHBhcmFtICB7QXJyYXl9IHJvd1xyXG4gICAgICogQHJldHVybiB7SFRNTEVsZW1lbnR9XHJcbiAgICAgKi9cclxuICAgIFJvd3MucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgIHZhciB0ZCwgdHIgPSBjcmVhdGVFbGVtZW50KFwidHJcIik7XHJcblxyXG4gICAgICAgIHZhciBoZWFkaW5ncyA9IHRoaXMuZHQuaGVhZGluZ3M7XHJcblxyXG4gICAgICAgIGlmICghaGVhZGluZ3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGhlYWRpbmdzID0gcm93Lm1hcChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBlYWNoKGhlYWRpbmdzLCBmdW5jdGlvbiAoaCwgaSkge1xyXG4gICAgICAgICAgICB0ZCA9IGNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuXHJcblx0XHRcdC8vIEZpeGVzICMyOVxyXG4gICAgICAgICAgICBpZiAoIXJvd1tpXSAmJiAhcm93W2ldLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgcm93W2ldID0gXCJcIjtcclxuICAgICAgICAgICAgfVxyXG5cclxuXHRcdFx0dGQuaW5uZXJIVE1MID0gcm93W2ldO1xyXG5cclxuICAgICAgICAgICAgdGQuZGF0YSA9IHJvd1tpXTtcclxuXHJcbiAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRkKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRyO1xyXG4gICAgfTtcclxuXHJcbiAgICBSb3dzLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgcmV0dXJuIHJvdztcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgbmV3IHJvd1xyXG4gICAgICogQHBhcmFtIHtBcnJheX0gc2VsZWN0XHJcbiAgICAgKi9cclxuICAgIFJvd3MucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcblxyXG4gICAgICAgIGlmIChpc0FycmF5KGRhdGEpKSB7XHJcbiAgICAgICAgICAgIHZhciBkdCA9IHRoaXMuZHQ7XHJcbiAgICAgICAgICAgIC8vIENoZWNrIGZvciBtdWx0aXBsZSByb3dzXHJcbiAgICAgICAgICAgIGlmIChpc0FycmF5KGRhdGFbMF0pKSB7XHJcbiAgICAgICAgICAgICAgICBlYWNoKGRhdGEsIGZ1bmN0aW9uIChyb3csIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkdC5kYXRhLnB1c2godGhpcy5idWlsZChyb3cpKTtcclxuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZHQuZGF0YS5wdXNoKHRoaXMuYnVpbGQoZGF0YSkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICAgICAgZHQuY29sdW1ucygpLnJlYnVpbGQoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIHJvdyhzKVxyXG4gICAgICogQHBhcmFtICB7QXJyYXl8TnVtYmVyfSBzZWxlY3RcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIFJvd3MucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChzZWxlY3QpIHtcclxuXHJcbiAgICAgICAgdmFyIGR0ID0gdGhpcy5kdDtcclxuXHJcbiAgICAgICAgaWYgKGlzQXJyYXkoc2VsZWN0KSkge1xyXG4gICAgICAgICAgICAvLyBSZW1vdmUgaW4gcmV2ZXJzZSBvdGhlcndpc2UgdGhlIGluZGV4ZXMgd2lsbCBiZSBpbmNvcnJlY3RcclxuICAgICAgICAgICAgc2VsZWN0LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBiIC0gYTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBlYWNoKHNlbGVjdCwgZnVuY3Rpb24gKHJvdywgaSkge1xyXG4gICAgICAgICAgICAgICAgZHQuZGF0YS5zcGxpY2Uocm93LCAxKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZHQuZGF0YS5zcGxpY2Uoc2VsZWN0LCAxKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgZHQuY29sdW1ucygpLnJlYnVpbGQoKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGUgcm93IGluZGV4ZXNcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIFJvd3MucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBlYWNoKHRoaXMuZHQuZGF0YSwgZnVuY3Rpb24gKHJvdywgaSkge1xyXG4gICAgICAgICAgICByb3cuZGF0YUluZGV4ID0gaTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgIC8vICAgIE1BSU4gTElCICAgIC8vXHJcbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgIHZhciBEYXRhVGFibGUgPSBmdW5jdGlvbiAodGFibGUsIG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIHVzZXIgb3B0aW9uc1xyXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IGV4dGVuZChkZWZhdWx0Q29uZmlnLCBvcHRpb25zKTtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiB0YWJsZSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICB2YXIgc2VsZWN0b3IgPSB0YWJsZTtcclxuICAgICAgICAgICAgdGFibGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhYmxlKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghdGFibGUpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBlbGVtZW50ICdcIiArIHNlbGVjdG9yICsgXCInIGNhbiBub3QgYmUgZm91bmQuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGFibGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpICE9PSBcInRhYmxlXCIpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHNlbGVjdGVkIGVsZW1lbnQgaXMgbm90IGEgdGFibGUuXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5pbml0aWFsTGF5b3V0ID0gdGFibGUuaW5uZXJIVE1MO1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbFNvcnRhYmxlID0gdGhpcy5vcHRpb25zLnNvcnRhYmxlO1xyXG5cclxuICAgICAgICAvLyBEaXNhYmxlIG1hbnVhbCBzb3J0aW5nIGlmIG5vIGhlYWRlciBpcyBwcmVzZW50ICgjNClcclxuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5oZWFkZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnNvcnRhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGFibGUudEhlYWQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuZGF0YSB8fFxyXG4gICAgICAgICAgICAgICAgKHRoaXMub3B0aW9ucy5kYXRhICYmICF0aGlzLm9wdGlvbnMuZGF0YS5oZWFkaW5ncylcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuc29ydGFibGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRhYmxlLnRCb2RpZXMubGVuZ3RoICYmICF0YWJsZS50Qm9kaWVzWzBdLnJvd3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuZGF0YS5kYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIllvdSBzZWVtIHRvIGJlIHVzaW5nIHRoZSBkYXRhIG9wdGlvbiwgYnV0IHlvdSd2ZSBub3QgZGVmaW5lZCBhbnkgcm93cy5cIlxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudGFibGUgPSB0YWJsZTtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBwcm90byA9IERhdGFUYWJsZS5wcm90b3R5cGU7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgY3VzdG9tIHByb3BlcnR5IG9yIG1ldGhvZCB0byBleHRlbmQgRGF0YVRhYmxlXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IHByb3AgICAgLSBNZXRob2QgbmFtZSBvciBwcm9wZXJ0eVxyXG4gICAgICogQHBhcmFtICB7TWl4ZWR9IHZhbCAgICAgIC0gRnVuY3Rpb24gb3IgcHJvcGVydHkgdmFsdWVcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIERhdGFUYWJsZS5leHRlbmQgPSBmdW5jdGlvbiAocHJvcCwgdmFsKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICBEYXRhVGFibGUucHJvdG90eXBlW3Byb3BdID0gdmFsO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIERhdGFUYWJsZVtwcm9wXSA9IHZhbDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgaW5zdGFuY2VcclxuICAgICAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9uc1xyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8uaW5pdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhbGl6ZWQgfHwgY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMudGFibGUsIFwiZGF0YVRhYmxlLXRhYmxlXCIpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcclxuXHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gZXh0ZW5kKHRoaXMub3B0aW9ucywgb3B0aW9ucyB8fCB7fSk7XHJcblxyXG4gICAgICAgIC8vIElFIGRldGVjdGlvblxyXG4gICAgICAgIHRoaXMuaXNJRSA9ICEhLyhtc2llfHRyaWRlbnQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcclxuXHJcbiAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7XHJcbiAgICAgICAgdGhpcy5vbkZpcnN0UGFnZSA9IHRydWU7XHJcblxyXG4gICAgICAgIHRoaXMuaGlkZGVuQ29sdW1ucyA9IFtdO1xyXG4gICAgICAgIHRoaXMuY29sdW1uUmVuZGVyZXJzID0gW107XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZENvbHVtbnMgPSBbXTtcclxuXHJcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wbHVnaW5zKSB7XHJcbiAgICAgICAgICAgIGVhY2godGhpcy5vcHRpb25zLnBsdWdpbnMsIGZ1bmN0aW9uIChvcHRpb25zLCBwbHVnaW4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXNbcGx1Z2luXShvcHRpb25zKTtcclxuICAgICAgICAgICAgfSwgdGhpcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhhdC5lbWl0KFwiZGF0YXRhYmxlLmluaXRcIik7XHJcbiAgICAgICAgICAgIHRoYXQuaW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgICAgIH0sIDEwKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgdGhlIGluc3RhbmNlXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IHR5cGVcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLnJlbmRlciA9IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgaWYgKHR5cGUpIHtcclxuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJwYWdlXCI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclBhZ2UoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwicGFnZXJcIjpcclxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyUGFnZXIoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiaGVhZGVyXCI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckhlYWRlcigpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcyxcclxuICAgICAgICAgICAgbyA9IHRoYXQub3B0aW9ucyxcclxuICAgICAgICAgICAgdGVtcGxhdGUgPSBcIlwiO1xyXG5cclxuICAgICAgICAvLyBDb252ZXJ0IGRhdGEgdG8gSFRNTFxyXG4gICAgICAgIGlmIChvLmRhdGEpIHtcclxuICAgICAgICAgICAgZGF0YVRvVGFibGUuY2FsbCh0aGF0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChvLmFqYXgpIHtcclxuICAgICAgICAgICAgdmFyIGFqYXggPSBvLmFqYXg7XHJcbiAgICAgICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuXHJcbiAgICAgICAgICAgIHZhciB4aHJQcm9ncmVzcyA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGF0LmVtaXQoXCJkYXRhdGFibGUuYWpheC5wcm9ncmVzc1wiLCBlLCB4aHIpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIHhockxvYWQgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5lbWl0KFwiZGF0YXRhYmxlLmFqYXgubG9hZGVkXCIsIGUsIHhocik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iaiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmouZGF0YSA9IGFqYXgubG9hZCA/IGFqYXgubG9hZC5jYWxsKHRoYXQsIHhocikgOiB4aHIucmVzcG9uc2VUZXh0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnR5cGUgPSBcImpzb25cIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhamF4LmNvbnRlbnQgJiYgYWpheC5jb250ZW50LnR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai50eXBlID0gYWpheC5jb250ZW50LnR5cGU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqID0gZXh0ZW5kKG9iaiwgYWpheC5jb250ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5pbXBvcnQob2JqKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuc2V0Q29sdW1ucyh0cnVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuZW1pdChcImRhdGF0YWJsZS5hamF4LnN1Y2Nlc3NcIiwgZSwgeGhyKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmVtaXQoXCJkYXRhdGFibGUuYWpheC5lcnJvclwiLCBlLCB4aHIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZhciB4aHJGYWlsZWQgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgdGhhdC5lbWl0KFwiZGF0YXRhYmxlLmFqYXguZXJyb3JcIiwgZSwgeGhyKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZhciB4aHJDYW5jZWxsZWQgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgdGhhdC5lbWl0KFwiZGF0YXRhYmxlLmFqYXguYWJvcnRcIiwgZSwgeGhyKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIG9uKHhociwgXCJwcm9ncmVzc1wiLCB4aHJQcm9ncmVzcyk7XHJcbiAgICAgICAgICAgIG9uKHhociwgXCJsb2FkXCIsIHhockxvYWQpO1xyXG4gICAgICAgICAgICBvbih4aHIsIFwiZXJyb3JcIiwgeGhyRmFpbGVkKTtcclxuICAgICAgICAgICAgb24oeGhyLCBcImFib3J0XCIsIHhockNhbmNlbGxlZCk7XHJcblxyXG4gICAgICAgICAgICB0aGF0LmVtaXQoXCJkYXRhdGFibGUuYWpheC5sb2FkaW5nXCIsIHhocik7XHJcblxyXG4gICAgICAgICAgICB4aHIub3BlbihcIkdFVFwiLCB0eXBlb2YgYWpheCA9PT0gXCJzdHJpbmdcIiA/IG8uYWpheCA6IG8uYWpheC51cmwpO1xyXG4gICAgICAgICAgICB4aHIuc2VuZCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU3RvcmUgcmVmZXJlbmNlc1xyXG4gICAgICAgIHRoYXQuYm9keSA9IHRoYXQudGFibGUudEJvZGllc1swXTtcclxuICAgICAgICB0aGF0LmhlYWQgPSB0aGF0LnRhYmxlLnRIZWFkO1xyXG4gICAgICAgIHRoYXQuZm9vdCA9IHRoYXQudGFibGUudEZvb3Q7XHJcblxyXG4gICAgICAgIGlmICghdGhhdC5ib2R5KSB7XHJcbiAgICAgICAgICAgIHRoYXQuYm9keSA9IGNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiKTtcclxuXHJcbiAgICAgICAgICAgIHRoYXQudGFibGUuYXBwZW5kQ2hpbGQodGhhdC5ib2R5KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoYXQuaGFzUm93cyA9IHRoYXQuYm9keS5yb3dzLmxlbmd0aCA+IDA7XHJcblxyXG4gICAgICAgIC8vIE1ha2UgYSB0SGVhZCBpZiB0aGVyZSBpc24ndCBvbmUgKGZpeGVzICM4KVxyXG4gICAgICAgIGlmICghdGhhdC5oZWFkKSB7XHJcbiAgICAgICAgICAgIHZhciBoID0gY3JlYXRlRWxlbWVudChcInRoZWFkXCIpO1xyXG4gICAgICAgICAgICB2YXIgdCA9IGNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGF0Lmhhc1Jvd3MpIHtcclxuICAgICAgICAgICAgICAgIGVhY2godGhhdC5ib2R5LnJvd3NbMF0uY2VsbHMsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0LmFwcGVuZENoaWxkKGNyZWF0ZUVsZW1lbnQoXCJ0aFwiKSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBoLmFwcGVuZENoaWxkKHQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGF0LmhlYWQgPSBoO1xyXG5cclxuICAgICAgICAgICAgdGhhdC50YWJsZS5pbnNlcnRCZWZvcmUodGhhdC5oZWFkLCB0aGF0LmJvZHkpO1xyXG5cclxuICAgICAgICAgICAgdGhhdC5oaWRkZW5IZWFkZXIgPSAhby5hamF4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhhdC5oZWFkaW5ncyA9IFtdO1xyXG4gICAgICAgIHRoYXQuaGFzSGVhZGluZ3MgPSB0aGF0LmhlYWQucm93cy5sZW5ndGggPiAwO1xyXG5cclxuICAgICAgICBpZiAodGhhdC5oYXNIZWFkaW5ncykge1xyXG4gICAgICAgICAgICB0aGF0LmhlYWRlciA9IHRoYXQuaGVhZC5yb3dzWzBdO1xyXG4gICAgICAgICAgICB0aGF0LmhlYWRpbmdzID0gW10uc2xpY2UuY2FsbCh0aGF0LmhlYWRlci5jZWxscyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBIZWFkZXJcclxuICAgICAgICBpZiAoIW8uaGVhZGVyKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGF0LmhlYWQpIHtcclxuICAgICAgICAgICAgICAgIHRoYXQudGFibGUucmVtb3ZlQ2hpbGQodGhhdC50YWJsZS50SGVhZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEZvb3RlclxyXG4gICAgICAgIGlmIChvLmZvb3Rlcikge1xyXG4gICAgICAgICAgICBpZiAodGhhdC5oZWFkICYmICF0aGF0LmZvb3QpIHtcclxuICAgICAgICAgICAgICAgIHRoYXQuZm9vdCA9IGNyZWF0ZUVsZW1lbnQoXCJ0Zm9vdFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgaHRtbDogdGhhdC5oZWFkLmlubmVySFRNTFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGF0LnRhYmxlLmFwcGVuZENoaWxkKHRoYXQuZm9vdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodGhhdC5mb290KSB7XHJcbiAgICAgICAgICAgICAgICB0aGF0LnRhYmxlLnJlbW92ZUNoaWxkKHRoYXQudGFibGUudEZvb3QpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBCdWlsZFxyXG4gICAgICAgIHRoYXQud3JhcHBlciA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xyXG4gICAgICAgICAgICBjbGFzczogXCJkYXRhVGFibGUtd3JhcHBlciBkYXRhVGFibGUtbG9hZGluZ1wiXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFRlbXBsYXRlIGZvciBjdXN0b20gbGF5b3V0c1xyXG4gICAgICAgIHRlbXBsYXRlICs9IFwiPGRpdiBjbGFzcz0nZGF0YVRhYmxlLXRvcCc+XCI7XHJcbiAgICAgICAgdGVtcGxhdGUgKz0gby5sYXlvdXQudG9wO1xyXG4gICAgICAgIHRlbXBsYXRlICs9IFwiPC9kaXY+XCI7XHJcbiAgICAgICAgdGVtcGxhdGUgKz0gXCI8ZGl2IGNsYXNzPSdkYXRhVGFibGUtY29udGFpbmVyJz48L2Rpdj5cIjtcclxuICAgICAgICB0ZW1wbGF0ZSArPSBcIjxkaXYgY2xhc3M9J2RhdGFUYWJsZS1ib3R0b20nPlwiO1xyXG4gICAgICAgIHRlbXBsYXRlICs9IG8ubGF5b3V0LmJvdHRvbTtcclxuICAgICAgICB0ZW1wbGF0ZSArPSBcIjwvZGl2PlwiO1xyXG5cclxuICAgICAgICAvLyBJbmZvIHBsYWNlbWVudFxyXG4gICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZShcIntpbmZvfVwiLCBcIjxkaXYgY2xhc3M9J2RhdGFUYWJsZS1pbmZvJz48L2Rpdj5cIik7XHJcblxyXG4gICAgICAgIC8vIFBlciBQYWdlIFNlbGVjdFxyXG4gICAgICAgIGlmIChvLnBlclBhZ2VTZWxlY3QpIHtcclxuICAgICAgICAgICAgdmFyIHdyYXAgPSBcIjxkaXYgY2xhc3M9J2RhdGFUYWJsZS1kcm9wZG93bic+PGxhYmVsPlwiO1xyXG4gICAgICAgICAgICB3cmFwICs9IG8ubGFiZWxzLnBlclBhZ2U7XHJcbiAgICAgICAgICAgIHdyYXAgKz0gXCI8L2xhYmVsPjwvZGl2PlwiO1xyXG5cclxuICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBzZWxlY3RcclxuICAgICAgICAgICAgdmFyIHNlbGVjdCA9IGNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIiwge1xyXG4gICAgICAgICAgICAgICAgY2xhc3M6IFwiZGF0YVRhYmxlLXNlbGVjdG9yXCJcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIG9wdGlvbnNcclxuICAgICAgICAgICAgZWFjaChvLnBlclBhZ2VTZWxlY3QsIGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZCA9IHZhbCA9PT0gby5wZXJQYWdlO1xyXG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbiA9IG5ldyBPcHRpb24odmFsLCB2YWwsIHNlbGVjdGVkLCBzZWxlY3RlZCk7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3QuYWRkKG9wdGlvbik7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQ3VzdG9tIGxhYmVsXHJcbiAgICAgICAgICAgIHdyYXAgPSB3cmFwLnJlcGxhY2UoXCJ7c2VsZWN0fVwiLCBzZWxlY3Qub3V0ZXJIVE1MKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFNlbGVjdG9yIHBsYWNlbWVudFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoXCJ7c2VsZWN0fVwiLCB3cmFwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoXCJ7c2VsZWN0fVwiLCBcIlwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNlYXJjaGFibGVcclxuICAgICAgICBpZiAoby5zZWFyY2hhYmxlKSB7XHJcbiAgICAgICAgICAgIHZhciBmb3JtID1cclxuICAgICAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nZGF0YVRhYmxlLXNlYXJjaCc+PGlucHV0IGNsYXNzPSdkYXRhVGFibGUtaW5wdXQnIHBsYWNlaG9sZGVyPSdcIiArXHJcbiAgICAgICAgICAgICAgICBvLmxhYmVscy5wbGFjZWhvbGRlciArXHJcbiAgICAgICAgICAgICAgICBcIicgdHlwZT0ndGV4dCc+PC9kaXY+XCI7XHJcblxyXG4gICAgICAgICAgICAvLyBTZWFyY2ggaW5wdXQgcGxhY2VtZW50XHJcbiAgICAgICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZShcIntzZWFyY2h9XCIsIGZvcm0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZShcIntzZWFyY2h9XCIsIFwiXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoYXQuaGFzSGVhZGluZ3MpIHtcclxuICAgICAgICAgICAgLy8gU29ydGFibGVcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXIoXCJoZWFkZXJcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBZGQgdGFibGUgY2xhc3NcclxuICAgICAgICBjbGFzc0xpc3QuYWRkKHRoYXQudGFibGUsIFwiZGF0YVRhYmxlLXRhYmxlXCIpO1xyXG5cclxuICAgICAgICAvLyBQYWdpbmF0b3JcclxuICAgICAgICB2YXIgdyA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xyXG4gICAgICAgICAgICBjbGFzczogXCJkYXRhVGFibGUtcGFnaW5hdGlvblwiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIHBhZ2luYXRvciA9IGNyZWF0ZUVsZW1lbnQoXCJ1bFwiKTtcclxuICAgICAgICB3LmFwcGVuZENoaWxkKHBhZ2luYXRvcik7XHJcblxyXG4gICAgICAgIC8vIFBhZ2VyKHMpIHBsYWNlbWVudFxyXG4gICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZSgvXFx7cGFnZXJcXH0vZywgdy5vdXRlckhUTUwpO1xyXG5cclxuICAgICAgICB0aGF0LndyYXBwZXIuaW5uZXJIVE1MID0gdGVtcGxhdGU7XHJcblxyXG4gICAgICAgIHRoYXQuY29udGFpbmVyID0gdGhhdC53cmFwcGVyLnF1ZXJ5U2VsZWN0b3IoXCIuZGF0YVRhYmxlLWNvbnRhaW5lclwiKTtcclxuXHJcbiAgICAgICAgdGhhdC5wYWdlcnMgPSB0aGF0LndyYXBwZXIucXVlcnlTZWxlY3RvckFsbChcIi5kYXRhVGFibGUtcGFnaW5hdGlvblwiKTtcclxuXHJcbiAgICAgICAgdGhhdC5sYWJlbCA9IHRoYXQud3JhcHBlci5xdWVyeVNlbGVjdG9yKFwiLmRhdGFUYWJsZS1pbmZvXCIpO1xyXG5cclxuICAgICAgICAvLyBJbnNlcnQgaW4gdG8gRE9NIHRyZWVcclxuICAgICAgICB0aGF0LnRhYmxlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHRoYXQud3JhcHBlciwgdGhhdC50YWJsZSk7XHJcbiAgICAgICAgdGhhdC5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhhdC50YWJsZSk7XHJcblxyXG4gICAgICAgIC8vIFN0b3JlIHRoZSB0YWJsZSBkaW1lbnNpb25zXHJcbiAgICAgICAgdGhhdC5yZWN0ID0gdGhhdC50YWJsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgICAgICAgLy8gQ29udmVydCByb3dzIHRvIGFycmF5IGZvciBwcm9jZXNzaW5nXHJcbiAgICAgICAgdGhhdC5kYXRhID0gW10uc2xpY2UuY2FsbCh0aGF0LmJvZHkucm93cyk7XHJcbiAgICAgICAgdGhhdC5hY3RpdmVSb3dzID0gdGhhdC5kYXRhLnNsaWNlKCk7XHJcbiAgICAgICAgdGhhdC5hY3RpdmVIZWFkaW5ncyA9IHRoYXQuaGVhZGluZ3Muc2xpY2UoKTtcclxuXHJcbiAgICAgICAgLy8gVXBkYXRlXHJcbiAgICAgICAgdGhhdC51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgaWYgKCFvLmFqYXgpIHtcclxuICAgICAgICAgICAgdGhhdC5zZXRDb2x1bW5zKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBGaXggaGVpZ2h0XHJcbiAgICAgICAgdGhpcy5maXhIZWlnaHQoKTtcclxuXHJcbiAgICAgICAgLy8gRml4IGNvbHVtbnNcclxuICAgICAgICB0aGF0LmZpeENvbHVtbnMoKTtcclxuXHJcbiAgICAgICAgLy8gQ2xhc3MgbmFtZXNcclxuICAgICAgICBpZiAoIW8uaGVhZGVyKSB7XHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5hZGQodGhhdC53cmFwcGVyLCBcIm5vLWhlYWRlclwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghby5mb290ZXIpIHtcclxuICAgICAgICAgICAgY2xhc3NMaXN0LmFkZCh0aGF0LndyYXBwZXIsIFwibm8tZm9vdGVyXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG8uc29ydGFibGUpIHtcclxuICAgICAgICAgICAgY2xhc3NMaXN0LmFkZCh0aGF0LndyYXBwZXIsIFwic29ydGFibGVcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoby5zZWFyY2hhYmxlKSB7XHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5hZGQodGhhdC53cmFwcGVyLCBcInNlYXJjaGFibGVcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoby5maXhlZEhlaWdodCkge1xyXG4gICAgICAgICAgICBjbGFzc0xpc3QuYWRkKHRoYXQud3JhcHBlciwgXCJmaXhlZC1oZWlnaHRcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoby5maXhlZENvbHVtbnMpIHtcclxuICAgICAgICAgICAgY2xhc3NMaXN0LmFkZCh0aGF0LndyYXBwZXIsIFwiZml4ZWQtY29sdW1uc1wiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoYXQuYmluZEV2ZW50cygpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciB0aGUgcGFnZVxyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8ucmVuZGVyUGFnZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5oYXNSb3dzICYmIHRoaXMudG90YWxQYWdlcykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UGFnZSA+IHRoaXMudG90YWxQYWdlcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFVzZSBhIGZyYWdtZW50IHRvIGxpbWl0IHRvdWNoaW5nIHRoZSBET01cclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5jdXJyZW50UGFnZSAtIDEsXHJcbiAgICAgICAgICAgICAgICBmcmFnID0gZG9jLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmhhc0hlYWRpbmdzKSB7XHJcbiAgICAgICAgICAgICAgICBmbHVzaCh0aGlzLmhlYWRlciwgdGhpcy5pc0lFKTtcclxuXHJcbiAgICAgICAgICAgICAgICBlYWNoKHRoaXMuYWN0aXZlSGVhZGluZ3MsIGZ1bmN0aW9uICh0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGVhZGVyLmFwcGVuZENoaWxkKHRoKTtcclxuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBlYWNoKHRoaXMucGFnZXNbaW5kZXhdLCBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgICAgICBmcmFnLmFwcGVuZENoaWxkKHRoaXMucm93cygpLnJlbmRlcihyb3cpKTtcclxuICAgICAgICAgICAgfSwgdGhpcyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNsZWFyKGZyYWcpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vbkZpcnN0UGFnZSA9IHRoaXMuY3VycmVudFBhZ2UgPT09IDE7XHJcbiAgICAgICAgICAgIHRoaXMub25MYXN0UGFnZSA9IHRoaXMuY3VycmVudFBhZ2UgPT09IHRoaXMubGFzdFBhZ2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jbGVhcigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBpbmZvXHJcbiAgICAgICAgdmFyIGN1cnJlbnQgPSAwLFxyXG4gICAgICAgICAgICBmID0gMCxcclxuICAgICAgICAgICAgdCA9IDAsXHJcbiAgICAgICAgICAgIGl0ZW1zO1xyXG5cclxuICAgICAgICBpZiAodGhpcy50b3RhbFBhZ2VzKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnQgPSB0aGlzLmN1cnJlbnRQYWdlIC0gMTtcclxuICAgICAgICAgICAgZiA9IGN1cnJlbnQgKiB0aGlzLm9wdGlvbnMucGVyUGFnZTtcclxuICAgICAgICAgICAgdCA9IGYgKyB0aGlzLnBhZ2VzW2N1cnJlbnRdLmxlbmd0aDtcclxuICAgICAgICAgICAgZiA9IGYgKyAxO1xyXG4gICAgICAgICAgICBpdGVtcyA9ICEhdGhpcy5zZWFyY2hpbmcgPyB0aGlzLnNlYXJjaERhdGEubGVuZ3RoIDogdGhpcy5kYXRhLmxlbmd0aDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmxhYmVsICYmIHRoaXMub3B0aW9ucy5sYWJlbHMuaW5mby5sZW5ndGgpIHtcclxuICAgICAgICAgICAgLy8gQ1VTVE9NIExBQkVMU1xyXG4gICAgICAgICAgICB2YXIgc3RyaW5nID0gdGhpcy5vcHRpb25zLmxhYmVscy5pbmZvXHJcbiAgICAgICAgICAgICAgICAucmVwbGFjZShcIntzdGFydH1cIiwgZilcclxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKFwie2VuZH1cIiwgdClcclxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKFwie3BhZ2V9XCIsIHRoaXMuY3VycmVudFBhZ2UpXHJcbiAgICAgICAgICAgICAgICAucmVwbGFjZShcIntwYWdlc31cIiwgdGhpcy50b3RhbFBhZ2VzKVxyXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoXCJ7cm93c31cIiwgaXRlbXMpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5sYWJlbC5pbm5lckhUTUwgPSBpdGVtcyA/IHN0cmluZyA6IFwiXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGFnZSA9PSAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZml4SGVpZ2h0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciB0aGUgcGFnZXIocylcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLnJlbmRlclBhZ2VyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZsdXNoKHRoaXMucGFnZXJzLCB0aGlzLmlzSUUpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy50b3RhbFBhZ2VzID4gMSkge1xyXG4gICAgICAgICAgICB2YXIgYyA9IFwicGFnZXJcIixcclxuICAgICAgICAgICAgICAgIGZyYWcgPSBkb2MuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxyXG4gICAgICAgICAgICAgICAgcHJldiA9IHRoaXMub25GaXJzdFBhZ2UgPyAxIDogdGhpcy5jdXJyZW50UGFnZSAtIDEsXHJcbiAgICAgICAgICAgICAgICBuZXh0ID0gdGhpcy5vbmxhc3RQYWdlID8gdGhpcy50b3RhbFBhZ2VzIDogdGhpcy5jdXJyZW50UGFnZSArIDE7XHJcblxyXG4gICAgICAgICAgICAvLyBmaXJzdCBidXR0b25cclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5maXJzdExhc3QpIHtcclxuICAgICAgICAgICAgICAgIGZyYWcuYXBwZW5kQ2hpbGQoYnV0dG9uKGMsIDEsIHRoaXMub3B0aW9ucy5maXJzdFRleHQpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gcHJldiBidXR0b25cclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5uZXh0UHJldikge1xyXG4gICAgICAgICAgICAgICAgZnJhZy5hcHBlbmRDaGlsZChidXR0b24oYywgcHJldiwgdGhpcy5vcHRpb25zLnByZXZUZXh0KSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBwYWdlciA9IHRoaXMubGlua3M7XHJcblxyXG4gICAgICAgICAgICAvLyB0cnVuY2F0ZSB0aGUgbGlua3NcclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50cnVuY2F0ZVBhZ2VyKSB7XHJcbiAgICAgICAgICAgICAgICBwYWdlciA9IHRydW5jYXRlKFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGlua3MsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZSxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhZ2VzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMucGFnZXJEZWx0YSxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuZWxsaXBzaXNUZXh0XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBhY3RpdmUgcGFnZSBsaW5rXHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5hZGQodGhpcy5saW5rc1t0aGlzLmN1cnJlbnRQYWdlIC0gMV0sIFwiYWN0aXZlXCIpO1xyXG5cclxuICAgICAgICAgICAgLy8gYXBwZW5kIHRoZSBsaW5rc1xyXG4gICAgICAgICAgICBlYWNoKHBhZ2VyLCBmdW5jdGlvbiAocCkge1xyXG4gICAgICAgICAgICAgICAgY2xhc3NMaXN0LnJlbW92ZShwLCBcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgICAgIGZyYWcuYXBwZW5kQ2hpbGQocCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgY2xhc3NMaXN0LmFkZCh0aGlzLmxpbmtzW3RoaXMuY3VycmVudFBhZ2UgLSAxXSwgXCJhY3RpdmVcIik7XHJcblxyXG4gICAgICAgICAgICAvLyBuZXh0IGJ1dHRvblxyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLm5leHRQcmV2KSB7XHJcbiAgICAgICAgICAgICAgICBmcmFnLmFwcGVuZENoaWxkKGJ1dHRvbihjLCBuZXh0LCB0aGlzLm9wdGlvbnMubmV4dFRleHQpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gZmlyc3QgYnV0dG9uXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZmlyc3RMYXN0KSB7XHJcbiAgICAgICAgICAgICAgICBmcmFnLmFwcGVuZENoaWxkKGJ1dHRvbihjLCB0aGlzLnRvdGFsUGFnZXMsIHRoaXMub3B0aW9ucy5sYXN0VGV4dCkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBXZSBtYXkgaGF2ZSBtb3JlIHRoYW4gb25lIHBhZ2VyXHJcbiAgICAgICAgICAgIGVhY2godGhpcy5wYWdlcnMsIGZ1bmN0aW9uIChwYWdlcikge1xyXG4gICAgICAgICAgICAgICAgcGFnZXIuYXBwZW5kQ2hpbGQoZnJhZy5jbG9uZU5vZGUodHJ1ZSkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyIHRoZSBoZWFkZXJcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLnJlbmRlckhlYWRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XHJcblxyXG4gICAgICAgIHRoYXQubGFiZWxzID0gW107XHJcblxyXG4gICAgICAgIGlmICh0aGF0LmhlYWRpbmdzICYmIHRoYXQuaGVhZGluZ3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGVhY2godGhhdC5oZWFkaW5ncywgZnVuY3Rpb24gKHRoLCBpKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhhdC5sYWJlbHNbaV0gPSB0aC50ZXh0Q29udGVudDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY2xhc3NMaXN0LmNvbnRhaW5zKHRoLmZpcnN0RWxlbWVudENoaWxkLCBcImRhdGFUYWJsZS1zb3J0ZXJcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aC5pbm5lckhUTUwgPSB0aC5maXJzdEVsZW1lbnRDaGlsZC5pbm5lckhUTUw7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGguc29ydGFibGUgPSB0aC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNvcnRhYmxlXCIpICE9PSBcImZhbHNlXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgdGgub3JpZ2luYWxDZWxsSW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoYXQub3B0aW9ucy5zb3J0YWJsZSAmJiB0aC5zb3J0YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBsaW5rID0gY3JlYXRlRWxlbWVudChcImFcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBocmVmOiBcIiNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IFwiZGF0YVRhYmxlLXNvcnRlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sOiB0aC5pbm5lckhUTUxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGguaW5uZXJIVE1MID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICB0aC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXNvcnRhYmxlXCIsIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoLmFwcGVuZENoaWxkKGxpbmspO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoYXQuZml4Q29sdW1ucygpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEJpbmQgZXZlbnQgbGlzdGVuZXJzXHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgcHJvdG8uYmluZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdGhhdCA9IHRoaXMsXHJcbiAgICAgICAgICAgIG8gPSB0aGF0Lm9wdGlvbnM7XHJcblxyXG4gICAgICAgIC8vIFBlciBwYWdlIHNlbGVjdG9yXHJcbiAgICAgICAgaWYgKG8ucGVyUGFnZVNlbGVjdCkge1xyXG4gICAgICAgICAgICB2YXIgc2VsZWN0b3IgPSB0aGF0LndyYXBwZXIucXVlcnlTZWxlY3RvcihcIi5kYXRhVGFibGUtc2VsZWN0b3JcIik7XHJcbiAgICAgICAgICAgIGlmIChzZWxlY3Rvcikge1xyXG4gICAgICAgICAgICAgICAgLy8gQ2hhbmdlIHBlciBwYWdlXHJcbiAgICAgICAgICAgICAgICBvbihzZWxlY3RvciwgXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBvLnBlclBhZ2UgPSBwYXJzZUludCh0aGlzLnZhbHVlLCAxMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5maXhIZWlnaHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5lbWl0KFwiZGF0YXRhYmxlLnBlcnBhZ2VcIiwgby5wZXJQYWdlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTZWFyY2ggaW5wdXRcclxuICAgICAgICBpZiAoby5zZWFyY2hhYmxlKSB7XHJcbiAgICAgICAgICAgIHRoYXQuaW5wdXQgPSB0aGF0LndyYXBwZXIucXVlcnlTZWxlY3RvcihcIi5kYXRhVGFibGUtaW5wdXRcIik7XHJcbiAgICAgICAgICAgIGlmICh0aGF0LmlucHV0KSB7XHJcbiAgICAgICAgICAgICAgICBvbih0aGF0LmlucHV0LCBcImtleXVwXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5zZWFyY2godGhpcy52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUGFnZXIocykgLyBzb3J0aW5nXHJcbiAgICAgICAgb24odGhhdC53cmFwcGVyLCBcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHZhciB0ID0gZS50YXJnZXQ7XHJcbiAgICAgICAgICAgIGlmICh0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiYVwiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodC5oYXNBdHRyaWJ1dGUoXCJkYXRhLXBhZ2VcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0LnBhZ2UodC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBhZ2VcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgby5zb3J0YWJsZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTGlzdC5jb250YWlucyh0LCBcImRhdGFUYWJsZS1zb3J0ZXJcIikgJiZcclxuICAgICAgICAgICAgICAgICAgICB0LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1zb3J0YWJsZVwiKSAhPSBcImZhbHNlXCJcclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuY29sdW1ucygpLnNvcnQodGhhdC5hY3RpdmVIZWFkaW5ncy5pbmRleE9mKHQucGFyZW50Tm9kZSkgKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdXAgY29sdW1uc1xyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgIHByb3RvLnNldENvbHVtbnMgPSBmdW5jdGlvbiAoYWpheCkge1xyXG5cclxuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XHJcblxyXG4gICAgICAgIGlmICghYWpheCkge1xyXG4gICAgICAgICAgICBlYWNoKHRoYXQuZGF0YSwgZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICAgICAgZWFjaChyb3cuY2VsbHMsIGZ1bmN0aW9uIChjZWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2VsbC5kYXRhID0gY2VsbC5pbm5lckhUTUw7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVjayBmb3IgdGhlIGNvbHVtbnMgb3B0aW9uXHJcbiAgICAgICAgaWYgKHRoYXQub3B0aW9ucy5jb2x1bW5zICYmIHRoYXQuaGVhZGluZ3MubGVuZ3RoKSB7XHJcblxyXG4gICAgICAgICAgICBlYWNoKHRoYXQub3B0aW9ucy5jb2x1bW5zLCBmdW5jdGlvbiAoZGF0YSkge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGNvbnZlcnQgc2luZ2xlIGNvbHVtbiBzZWxlY3Rpb24gdG8gYXJyYXlcclxuICAgICAgICAgICAgICAgIGlmICghaXNBcnJheShkYXRhLnNlbGVjdCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLnNlbGVjdCA9IFtkYXRhLnNlbGVjdF07XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoXCJyZW5kZXJcIikgJiYgdHlwZW9mIGRhdGEucmVuZGVyID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0LnNlbGVjdGVkQ29sdW1ucyA9IHRoYXQuc2VsZWN0ZWRDb2x1bW5zLmNvbmNhdChkYXRhLnNlbGVjdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuY29sdW1uUmVuZGVyZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5zOiBkYXRhLnNlbGVjdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXI6IGRhdGEucmVuZGVyXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBkYXRhIGF0dHJpYnV0ZXMgdG8gdGhlIHRoIGVsZW1lbnRzXHJcbiAgICAgICAgICAgICAgICBlYWNoKGRhdGEuc2VsZWN0LCBmdW5jdGlvbiAoY29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRoID0gdGhhdC5oZWFkaW5nc1tjb2x1bW5dO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGguc2V0QXR0cmlidXRlKFwiZGF0YS10eXBlXCIsIGRhdGEudHlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmZvcm1hdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWZvcm1hdFwiLCBkYXRhLmZvcm1hdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KFwic29ydGFibGVcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGguc2V0QXR0cmlidXRlKFwiZGF0YS1zb3J0YWJsZVwiLCBkYXRhLnNvcnRhYmxlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KFwiaGlkZGVuXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmhpZGRlbiAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuY29sdW1ucyhjb2x1bW4pLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoXCJzb3J0XCIpICYmIGRhdGEuc2VsZWN0Lmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmNvbHVtbnMoKS5zb3J0KGRhdGEuc2VsZWN0WzBdICsgMSwgZGF0YS5zb3J0LCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhhdC5oYXNSb3dzKSB7XHJcbiAgICAgICAgICAgIGVhY2godGhhdC5kYXRhLCBmdW5jdGlvbiAocm93LCBpKSB7XHJcbiAgICAgICAgICAgICAgICByb3cuZGF0YUluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgIGVhY2gocm93LmNlbGxzLCBmdW5jdGlvbiAoY2VsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNlbGwuZGF0YSA9IGNlbGwuaW5uZXJIVE1MO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoYXQuc2VsZWN0ZWRDb2x1bW5zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgZWFjaCh0aGF0LmRhdGEsIGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICBlYWNoKHJvdy5jZWxscywgZnVuY3Rpb24gKGNlbGwsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoYXQuc2VsZWN0ZWRDb2x1bW5zLmluZGV4T2YoaSkgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWFjaCh0aGF0LmNvbHVtblJlbmRlcmVycywgZnVuY3Rpb24gKG8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoby5jb2x1bW5zLmluZGV4T2YoaSkgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWxsLmlubmVySFRNTCA9IG8ucmVuZGVyZXIuY2FsbCh0aGF0LCBjZWxsLmRhdGEsIGNlbGwsIHJvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGF0LmNvbHVtbnMoKS5yZWJ1aWxkKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGF0LnJlbmRlcihcImhlYWRlclwiKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZXN0cm95IHRoZSBpbnN0YW5jZVxyXG4gICAgICogQHJldHVybiB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8uZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnRhYmxlLmlubmVySFRNTCA9IHRoaXMuaW5pdGlhbExheW91dDtcclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlIHRoZSBjbGFzc05hbWVcclxuICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKHRoaXMudGFibGUsIFwiZGF0YVRhYmxlLXRhYmxlXCIpO1xyXG5cclxuICAgICAgICAvLyBSZW1vdmUgdGhlIGNvbnRhaW5lcnNcclxuICAgICAgICB0aGlzLndyYXBwZXIucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQodGhpcy50YWJsZSwgdGhpcy53cmFwcGVyKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZSB0aGUgaW5zdGFuY2VcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnBhZ2luYXRlKHRoaXMpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyKFwicGFnZVwiKTtcclxuXHJcbiAgICAgICAgdGhpcy5saW5rcyA9IFtdO1xyXG5cclxuICAgICAgICB2YXIgaSA9IHRoaXMucGFnZXMubGVuZ3RoO1xyXG4gICAgICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICAgICAgdmFyIG51bSA9IGkgKyAxO1xyXG4gICAgICAgICAgICB0aGlzLmxpbmtzW2ldID0gYnV0dG9uKGkgPT09IDAgPyBcImFjdGl2ZVwiIDogXCJcIiwgbnVtLCBudW0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zb3J0aW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMucmVuZGVyKFwicGFnZXJcIik7XHJcblxyXG4gICAgICAgIHRoaXMucm93cygpLnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICB0aGlzLmVtaXQoXCJkYXRhdGFibGUudXBkYXRlXCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNvcnQgcm93cyBpbnRvIHBhZ2VzXHJcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLnBhZ2luYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBwZXJQYWdlID0gdGhpcy5vcHRpb25zLnBlclBhZ2UsXHJcbiAgICAgICAgICAgIHJvd3MgPSB0aGlzLmFjdGl2ZVJvd3M7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNlYXJjaGluZykge1xyXG4gICAgICAgICAgICByb3dzID0gW107XHJcblxyXG4gICAgICAgICAgICBlYWNoKHRoaXMuc2VhcmNoRGF0YSwgZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICByb3dzLnB1c2godGhpcy5hY3RpdmVSb3dzW2luZGV4XSk7XHJcbiAgICAgICAgICAgIH0sIHRoaXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGhpZGRlbiBjb2x1bW5zXHJcbiAgICAgICAgdGhpcy5wYWdlcyA9IHJvd3NcclxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAodHIsIGkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpICUgcGVyUGFnZSA9PT0gMCA/IHJvd3Muc2xpY2UoaSwgaSArIHBlclBhZ2UpIDogbnVsbDtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAocGFnZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhZ2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnRvdGFsUGFnZXMgPSB0aGlzLmxhc3RQYWdlID0gdGhpcy5wYWdlcy5sZW5ndGg7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnRvdGFsUGFnZXM7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRml4IGNvbHVtbiB3aWR0aHNcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLmZpeENvbHVtbnMgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZml4ZWRDb2x1bW5zICYmIHRoaXMuYWN0aXZlSGVhZGluZ3MgJiYgdGhpcy5hY3RpdmVIZWFkaW5ncy5sZW5ndGgpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBjZWxscyxcclxuICAgICAgICAgICAgICAgIGhkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbHVtbldpZHRocyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBoZWFkaW5ncyB3ZSBuZWVkIG9ubHkgc2V0IHRoZSB3aWR0aHMgb24gdGhlbVxyXG4gICAgICAgICAgICAvLyBvdGhlcndpc2Ugd2UgbmVlZCBhIHRlbXAgaGVhZGVyIGFuZCB0aGUgd2lkdGhzIG5lZWQgYXBwbHlpbmcgdG8gYWxsIGNlbGxzXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRhYmxlLnRIZWFkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBSZXNldCB3aWR0aHNcclxuICAgICAgICAgICAgICAgIGVhY2godGhpcy5hY3RpdmVIZWFkaW5ncywgZnVuY3Rpb24gKGNlbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjZWxsLnN0eWxlLndpZHRoID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgICAgIGVhY2godGhpcy5hY3RpdmVIZWFkaW5ncywgZnVuY3Rpb24gKGNlbGwsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgb3cgPSBjZWxsLm9mZnNldFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB3ID0gb3cgLyB0aGlzLnJlY3Qud2lkdGggKiAxMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgY2VsbC5zdHlsZS53aWR0aCA9IHcgKyBcIiVcIjtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbHVtbldpZHRoc1tpXSA9IG93O1xyXG4gICAgICAgICAgICAgICAgfSwgdGhpcyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjZWxscyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIE1ha2UgdGVtcGVyYXJ5IGhlYWRpbmdzXHJcbiAgICAgICAgICAgICAgICBoZCA9IGNyZWF0ZUVsZW1lbnQoXCJ0aGVhZFwiKTtcclxuICAgICAgICAgICAgICAgIHZhciByID0gY3JlYXRlRWxlbWVudChcInRyXCIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGMgPSB0aGlzLnRhYmxlLnRCb2RpZXNbMF0ucm93c1swXS5jZWxscztcclxuICAgICAgICAgICAgICAgIGVhY2goYywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aCA9IGNyZWF0ZUVsZW1lbnQoXCJ0aFwiKTtcclxuICAgICAgICAgICAgICAgICAgICByLmFwcGVuZENoaWxkKHRoKTtcclxuICAgICAgICAgICAgICAgICAgICBjZWxscy5wdXNoKHRoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGhkLmFwcGVuZENoaWxkKHIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50YWJsZS5pbnNlcnRCZWZvcmUoaGQsIHRoaXMuYm9keSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHdpZHRocyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZWFjaChjZWxscywgZnVuY3Rpb24gKGNlbGwsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgb3cgPSBjZWxsLm9mZnNldFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB3ID0gb3cgLyB0aGlzLnJlY3Qud2lkdGggKiAxMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGhzLnB1c2godyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2x1bW5XaWR0aHNbaV0gPSBvdztcclxuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgICAgIGVhY2godGhpcy5kYXRhLCBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWFjaChyb3cuY2VsbHMsIGZ1bmN0aW9uIChjZWxsLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbHVtbnMoY2VsbC5jZWxsSW5kZXgpLnZpc2libGUoKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwuc3R5bGUud2lkdGggPSB3aWR0aHNbaV0gKyBcIiVcIjtcclxuICAgICAgICAgICAgICAgICAgICB9LCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIERpc2NhcmQgdGhlIHRlbXAgaGVhZGVyXHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlLnJlbW92ZUNoaWxkKGhkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBGaXggdGhlIGNvbnRhaW5lciBoZWlnaHQ7XHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5maXhIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBcdGlmICh0aGlzLm9wdGlvbnMuZml4ZWRIZWlnaHQpIHtcclxuXHQgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IG51bGw7XHJcblx0ICAgICAgICB0aGlzLnJlY3QgPSB0aGlzLmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHQgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IHRoaXMucmVjdC5oZWlnaHQgKyBcInB4XCI7XHJcblx0ICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQZXJmb3JtIGEgc2VhcmNoIG9mIHRoZSBkYXRhIHNldFxyXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSBxdWVyeVxyXG4gICAgICogQHJldHVybiB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8uc2VhcmNoID0gZnVuY3Rpb24gKHF1ZXJ5KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmhhc1Jvd3MpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xyXG5cclxuICAgICAgICBxdWVyeSA9IHF1ZXJ5LnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxO1xyXG4gICAgICAgIHRoaXMuc2VhcmNoaW5nID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnNlYXJjaERhdGEgPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKCFxdWVyeS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWFyY2hpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5lbWl0KFwiZGF0YXRhYmxlLnNlYXJjaFwiLCBxdWVyeSwgdGhpcy5zZWFyY2hEYXRhKTtcclxuICAgICAgICAgICAgY2xhc3NMaXN0LnJlbW92ZSh0aGlzLndyYXBwZXIsIFwic2VhcmNoLXJlc3VsdHNcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY2xlYXIoKTtcclxuXHJcbiAgICAgICAgZWFjaCh0aGlzLmRhdGEsIGZ1bmN0aW9uIChyb3csIGlkeCkge1xyXG4gICAgICAgICAgICB2YXIgaW5BcnJheSA9IHRoaXMuc2VhcmNoRGF0YS5pbmRleE9mKHJvdykgPiAtMTtcclxuXHJcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9Nb2JpdXMxL1ZhbmlsbGEtRGF0YVRhYmxlcy9pc3N1ZXMvMTJcclxuICAgICAgICAgICAgdmFyIGRvZXNRdWVyeU1hdGNoID0gcXVlcnkuc3BsaXQoXCIgXCIpLnJlZHVjZShmdW5jdGlvbiAoYm9vbCwgd29yZCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluY2x1ZGVzID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCByb3cuY2VsbHMubGVuZ3RoOyB4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdy5jZWxsc1t4XS50ZXh0Q29udGVudC50b0xvd2VyQ2FzZSgpLmluZGV4T2Yod29yZCkgPiAtMSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmNvbHVtbnMocm93LmNlbGxzW3hdLmNlbGxJbmRleCkudmlzaWJsZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBib29sICYmIGluY2x1ZGVzO1xyXG4gICAgICAgICAgICB9LCB0cnVlKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkb2VzUXVlcnlNYXRjaCAmJiAhaW5BcnJheSkge1xyXG4gICAgICAgICAgICAgICAgcm93LnNlYXJjaEluZGV4ID0gaWR4O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWFyY2hEYXRhLnB1c2goaWR4KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJvdy5zZWFyY2hJbmRleCA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCB0aGlzKTtcclxuXHJcbiAgICAgICAgY2xhc3NMaXN0LmFkZCh0aGlzLndyYXBwZXIsIFwic2VhcmNoLXJlc3VsdHNcIik7XHJcblxyXG4gICAgICAgIGlmICghdGhhdC5zZWFyY2hEYXRhLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKHRoYXQud3JhcHBlciwgXCJzZWFyY2gtcmVzdWx0c1wiKTtcclxuXHJcbiAgICAgICAgICAgIHRoYXQuc2V0TWVzc2FnZSh0aGF0Lm9wdGlvbnMubGFiZWxzLm5vUm93cyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhhdC51cGRhdGUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZW1pdChcImRhdGF0YWJsZS5zZWFyY2hcIiwgcXVlcnksIHRoaXMuc2VhcmNoRGF0YSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hhbmdlIHBhZ2VcclxuICAgICAqIEBwYXJhbSAge2ludH0gcGFnZVxyXG4gICAgICogQHJldHVybiB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8ucGFnZSA9IGZ1bmN0aW9uIChwYWdlKSB7XHJcbiAgICAgICAgLy8gV2UgZG9uJ3Qgd2FudCB0byBsb2FkIHRoZSBjdXJyZW50IHBhZ2UgYWdhaW4uXHJcbiAgICAgICAgaWYgKHBhZ2UgPT0gdGhpcy5jdXJyZW50UGFnZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWlzTmFOKHBhZ2UpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSBwYXJzZUludChwYWdlLCAxMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocGFnZSA+IHRoaXMucGFnZXMubGVuZ3RoIHx8IHBhZ2UgPCAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucmVuZGVyKFwicGFnZVwiKTtcclxuICAgICAgICB0aGlzLnJlbmRlcihcInBhZ2VyXCIpO1xyXG5cclxuICAgICAgICB0aGlzLmVtaXQoXCJkYXRhdGFibGUucGFnZVwiLCBwYWdlKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTb3J0IGJ5IGNvbHVtblxyXG4gICAgICogQHBhcmFtICB7aW50fSBjb2x1bW4gLSBUaGUgY29sdW1uIG5vLlxyXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSBkaXJlY3Rpb24gLSBhc2Mgb3IgZGVzY1xyXG4gICAgICogQHJldHVybiB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8uc29ydENvbHVtbiA9IGZ1bmN0aW9uIChjb2x1bW4sIGRpcmVjdGlvbikge1xyXG4gICAgICAgIC8vIFVzZSBjb2x1bW5zIEFQSSB1bnRpbCBzb3J0Q29sdW1uIG1ldGhvZCBpcyByZW1vdmVkXHJcbiAgICAgICAgdGhpcy5jb2x1bW5zKCkuc29ydChjb2x1bW4sIGRpcmVjdGlvbik7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkIG5ldyByb3cgZGF0YVxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGRhdGFcclxuICAgICAqL1xyXG4gICAgcHJvdG8uaW5zZXJ0ID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuXHJcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzLFxyXG4gICAgICAgICAgICByb3dzID0gW107XHJcbiAgICAgICAgaWYgKGlzT2JqZWN0KGRhdGEpKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmhlYWRpbmdzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoYXQuaGFzSGVhZGluZ3MgJiYgIXRoYXQuaGFzUm93cykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0ciA9IGNyZWF0ZUVsZW1lbnQoXCJ0clwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgZWFjaChkYXRhLmhlYWRpbmdzLCBmdW5jdGlvbiAoaGVhZGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aCA9IGNyZWF0ZUVsZW1lbnQoXCJ0aFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sOiBoZWFkaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuaGVhZC5hcHBlbmRDaGlsZCh0cik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuaGVhZGVyID0gdHI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5oZWFkaW5ncyA9IFtdLnNsaWNlLmNhbGwodHIuY2VsbHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuaGFzSGVhZGluZ3MgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBSZS1lbmFibGUgc29ydGluZyBpZiBpdCB3YXMgZGlzYWJsZWQgZHVlXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdG8gbWlzc2luZyBoZWFkZXJcclxuICAgICAgICAgICAgICAgICAgICB0aGF0Lm9wdGlvbnMuc29ydGFibGUgPSB0aGF0LmluaXRpYWxTb3J0YWJsZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQWxsb3cgc29ydGluZyBvbiBuZXcgaGVhZGVyXHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5yZW5kZXIoXCJoZWFkZXJcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChkYXRhLmRhdGEgJiYgaXNBcnJheShkYXRhLmRhdGEpKSB7XHJcbiAgICAgICAgICAgICAgICByb3dzID0gZGF0YS5kYXRhO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KGRhdGEpKSB7XHJcbiAgICAgICAgICAgIGVhY2goZGF0YSwgZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHIgPSBbXTtcclxuICAgICAgICAgICAgICAgIGVhY2gocm93LCBmdW5jdGlvbiAoY2VsbCwgaGVhZGluZykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0aGF0LmxhYmVscy5pbmRleE9mKGhlYWRpbmcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByW2luZGV4XSA9IGNlbGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByb3dzLnB1c2gocik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHJvd3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoYXQucm93cygpLmFkZChyb3dzKTtcclxuXHJcbiAgICAgICAgICAgIHRoYXQuaGFzUm93cyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGF0LnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICB0aGF0LmZpeENvbHVtbnMoKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWZyZXNoIHRoZSBpbnN0YW5jZVxyXG4gICAgICogQHJldHVybiB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8ucmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNlYXJjaGFibGUpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnB1dC52YWx1ZSA9IFwiXCI7XHJcbiAgICAgICAgICAgIHRoaXMuc2VhcmNoaW5nID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxO1xyXG4gICAgICAgIHRoaXMub25GaXJzdFBhZ2UgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMudXBkYXRlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuZW1pdChcImRhdGF0YWJsZS5yZWZyZXNoXCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRydW5jYXRlIHRoZSB0YWJsZVxyXG4gICAgICogQHBhcmFtICB7bWl4ZXN9IGh0bWwgLSBIVE1MIHN0cmluZyBvciBIVE1MRWxlbWVudFxyXG4gICAgICogQHJldHVybiB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8uY2xlYXIgPSBmdW5jdGlvbiAoaHRtbCkge1xyXG4gICAgICAgIGlmICh0aGlzLmJvZHkpIHtcclxuICAgICAgICAgICAgZmx1c2godGhpcy5ib2R5LCB0aGlzLmlzSUUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMuYm9keTtcclxuICAgICAgICBpZiAoIXRoaXMuYm9keSkge1xyXG4gICAgICAgICAgICBwYXJlbnQgPSB0aGlzLnRhYmxlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGh0bWwpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBodG1sID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZnJhZyA9IGRvYy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XHJcbiAgICAgICAgICAgICAgICBmcmFnLmlubmVySFRNTCA9IGh0bWw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChodG1sKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRXhwb3J0IHRhYmxlIHRvIHZhcmlvdXMgZm9ybWF0cyAoY3N2LCB0eHQgb3Igc3FsKVxyXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zIFVzZXIgb3B0aW9uc1xyXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgcHJvdG8uZXhwb3J0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaGFzSGVhZGluZ3MgJiYgIXRoaXMuaGFzUm93cykgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICB2YXIgaGVhZGVycyA9IHRoaXMuYWN0aXZlSGVhZGluZ3MsXHJcbiAgICAgICAgICAgIHJvd3MgPSBbXSxcclxuICAgICAgICAgICAgYXJyID0gW10sXHJcbiAgICAgICAgICAgIGksXHJcbiAgICAgICAgICAgIHgsXHJcbiAgICAgICAgICAgIHN0cixcclxuICAgICAgICAgICAgbGluaztcclxuXHJcbiAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xyXG4gICAgICAgICAgICBkb3dubG9hZDogdHJ1ZSxcclxuICAgICAgICAgICAgc2tpcENvbHVtbjogW10sXHJcblxyXG4gICAgICAgICAgICAvLyBjc3ZcclxuICAgICAgICAgICAgbGluZURlbGltaXRlcjogXCJcXG5cIixcclxuICAgICAgICAgICAgY29sdW1uRGVsaW1pdGVyOiBcIixcIixcclxuXHJcbiAgICAgICAgICAgIC8vIHNxbFxyXG4gICAgICAgICAgICB0YWJsZU5hbWU6IFwibXlUYWJsZVwiLFxyXG5cclxuICAgICAgICAgICAgLy8ganNvblxyXG4gICAgICAgICAgICByZXBsYWNlcjogbnVsbCxcclxuICAgICAgICAgICAgc3BhY2U6IDRcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBDaGVjayBmb3IgdGhlIG9wdGlvbnMgb2JqZWN0XHJcbiAgICAgICAgaWYgKCFpc09iamVjdChvcHRpb25zKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgbyA9IGV4dGVuZChkZWZhdWx0cywgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgIGlmIChvLnR5cGUpIHtcclxuICAgICAgICAgICAgaWYgKG8udHlwZSA9PT0gXCJ0eHRcIiB8fCBvLnR5cGUgPT09IFwiY3N2XCIpIHtcclxuICAgICAgICAgICAgICAgIC8vIEluY2x1ZGUgaGVhZGluZ3NcclxuICAgICAgICAgICAgICAgIHJvd3NbMF0gPSB0aGlzLmhlYWRlcjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gU2VsZWN0aW9uIG9yIHdob2xlIHRhYmxlXHJcbiAgICAgICAgICAgIGlmIChvLnNlbGVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgLy8gUGFnZSBudW1iZXJcclxuICAgICAgICAgICAgICAgIGlmICghaXNOYU4oby5zZWxlY3Rpb24pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93cyA9IHJvd3MuY29uY2F0KHRoaXMucGFnZXNbby5zZWxlY3Rpb24gLSAxXSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkoby5zZWxlY3Rpb24pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQXJyYXkgb2YgcGFnZSBudW1iZXJzXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IG8uc2VsZWN0aW9uLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd3MgPSByb3dzLmNvbmNhdCh0aGlzLnBhZ2VzW28uc2VsZWN0aW9uW2ldIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJvd3MgPSByb3dzLmNvbmNhdCh0aGlzLmFjdGl2ZVJvd3MpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBPbmx5IHByb2NlZWQgaWYgd2UgaGF2ZSBkYXRhXHJcbiAgICAgICAgICAgIGlmIChyb3dzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG8udHlwZSA9PT0gXCJ0eHRcIiB8fCBvLnR5cGUgPT09IFwiY3N2XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBcIlwiO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcm93cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHggPSAwOyB4IDwgcm93c1tpXS5jZWxscy5sZW5ndGg7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGNvbHVtbiBza2lwIGFuZCB2aXNpYmlsaXR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby5za2lwQ29sdW1uLmluZGV4T2YoaGVhZGVyc1t4XS5vcmlnaW5hbENlbGxJbmRleCkgPCAwICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2x1bW5zKGhlYWRlcnNbeF0ub3JpZ2luYWxDZWxsSW5kZXgpLnZpc2libGUoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9IHJvd3NbaV0uY2VsbHNbeF0udGV4dENvbnRlbnQgKyBvLmNvbHVtbkRlbGltaXRlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdHJhaWxpbmcgY29sdW1uIGRlbGltaXRlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHIgPSBzdHIudHJpbSgpLnN1YnN0cmluZygwLCBzdHIubGVuZ3RoIC0gMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBcHBseSBsaW5lIGRlbGltaXRlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHIgKz0gby5saW5lRGVsaW1pdGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRyYWlsaW5nIGxpbmUgZGVsaW1pdGVyXHJcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gc3RyLnRyaW0oKS5zdWJzdHJpbmcoMCwgc3RyLmxlbmd0aCAtIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoby5kb3dubG9hZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHIgPSBcImRhdGE6dGV4dC9jc3Y7Y2hhcnNldD11dGYtOCxcIiArIHN0cjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG8udHlwZSA9PT0gXCJzcWxcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEJlZ2luIElOU0VSVCBzdGF0ZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBcIklOU0VSVCBJTlRPIGBcIiArIG8udGFibGVOYW1lICsgXCJgIChcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29udmVydCB0YWJsZSBoZWFkaW5ncyB0byBjb2x1bW4gbmFtZXNcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaGVhZGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgY29sdW1uIHNraXAgYW5kIGNvbHVtbiB2aXNpYmlsaXR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8uc2tpcENvbHVtbi5pbmRleE9mKGhlYWRlcnNbaV0ub3JpZ2luYWxDZWxsSW5kZXgpIDwgMCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2x1bW5zKGhlYWRlcnNbaV0ub3JpZ2luYWxDZWxsSW5kZXgpLnZpc2libGUoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSBcImBcIiArIGhlYWRlcnNbaV0udGV4dENvbnRlbnQgKyBcImAsXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0cmFpbGluZyBjb21tYVxyXG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IHN0ci50cmltKCkuc3Vic3RyaW5nKDAsIHN0ci5sZW5ndGggLSAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQmVnaW4gVkFMVUVTXHJcbiAgICAgICAgICAgICAgICAgICAgc3RyICs9IFwiKSBWQUxVRVMgXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEl0ZXJhdGUgcm93cyBhbmQgY29udmVydCBjZWxsIGRhdGEgdG8gY29sdW1uIHZhbHVlc1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCByb3dzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSBcIihcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoeCA9IDA7IHggPCByb3dzW2ldLmNlbGxzLmxlbmd0aDsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgY29sdW1uIHNraXAgYW5kIGNvbHVtbiB2aXNpYmlsaXR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby5za2lwQ29sdW1uLmluZGV4T2YoaGVhZGVyc1t4XS5vcmlnaW5hbENlbGxJbmRleCkgPCAwICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2x1bW5zKGhlYWRlcnNbeF0ub3JpZ2luYWxDZWxsSW5kZXgpLnZpc2libGUoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9ICdcIicgKyByb3dzW2ldLmNlbGxzW3hdLnRleHRDb250ZW50ICsgJ1wiLCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0cmFpbGluZyBjb21tYVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHIgPSBzdHIudHJpbSgpLnN1YnN0cmluZygwLCBzdHIubGVuZ3RoIC0gMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlbmQgVkFMVUVTXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSBcIiksXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdHJhaWxpbmcgY29tbWFcclxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBzdHIudHJpbSgpLnN1YnN0cmluZygwLCBzdHIubGVuZ3RoIC0gMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0cmFpbGluZyBjb2xvblxyXG4gICAgICAgICAgICAgICAgICAgIHN0ciArPSBcIjtcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG8uZG93bmxvYWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyID0gXCJkYXRhOmFwcGxpY2F0aW9uL3NxbDtjaGFyc2V0PXV0Zi04LFwiICsgc3RyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoby50eXBlID09PSBcImpzb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEl0ZXJhdGUgcm93c1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoeCA9IDA7IHggPCByb3dzLmxlbmd0aDsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyclt4XSA9IGFyclt4XSB8fCB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSXRlcmF0ZSBjb2x1bW5zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBoZWFkZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgY29sdW1uIHNraXAgYW5kIGNvbHVtbiB2aXNpYmlsaXR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby5za2lwQ29sdW1uLmluZGV4T2YoaGVhZGVyc1tpXS5vcmlnaW5hbENlbGxJbmRleCkgPCAwICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2x1bW5zKGhlYWRlcnNbaV0ub3JpZ2luYWxDZWxsSW5kZXgpLnZpc2libGUoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyW3hdW2hlYWRlcnNbaV0udGV4dENvbnRlbnRdID0gcm93c1t4XS5jZWxsc1tpXS50ZXh0Q29udGVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29udmVydCB0aGUgYXJyYXkgb2Ygb2JqZWN0cyB0byBKU09OIHN0cmluZ1xyXG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IEpTT04uc3RyaW5naWZ5KGFyciwgby5yZXBsYWNlciwgby5zcGFjZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvLmRvd25sb2FkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciA9IFwiZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTgsXCIgKyBzdHI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIERvd25sb2FkXHJcbiAgICAgICAgICAgICAgICBpZiAoby5kb3dubG9hZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEZpbGVuYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgby5maWxlbmFtZSA9IG8uZmlsZW5hbWUgfHwgXCJkYXRhdGFibGVfZXhwb3J0XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgby5maWxlbmFtZSArPSBcIi5cIiArIG8udHlwZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gZW5jb2RlVVJJKHN0cik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIGxpbmsgdG8gdHJpZ2dlciB0aGUgZG93bmxvYWRcclxuICAgICAgICAgICAgICAgICAgICBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluay5ocmVmID0gc3RyO1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmsuZG93bmxvYWQgPSBvLmZpbGVuYW1lO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBBcHBlbmQgdGhlIGxpbmtcclxuICAgICAgICAgICAgICAgICAgICBib2R5LmFwcGVuZENoaWxkKGxpbmspO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBUcmlnZ2VyIHRoZSBkb3dubG9hZFxyXG4gICAgICAgICAgICAgICAgICAgIGxpbmsuY2xpY2soKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBsaW5rXHJcbiAgICAgICAgICAgICAgICAgICAgYm9keS5yZW1vdmVDaGlsZChsaW5rKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW1wb3J0IGRhdGEgdG8gdGhlIHRhYmxlXHJcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnMgVXNlciBvcHRpb25zXHJcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICBwcm90by5pbXBvcnQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgICAgIHZhciBvYmogPSBmYWxzZTtcclxuICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XHJcbiAgICAgICAgICAgIC8vIGNzdlxyXG4gICAgICAgICAgICBsaW5lRGVsaW1pdGVyOiBcIlxcblwiLFxyXG4gICAgICAgICAgICBjb2x1bW5EZWxpbWl0ZXI6IFwiLFwiXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgZm9yIHRoZSBvcHRpb25zIG9iamVjdFxyXG4gICAgICAgIGlmICghaXNPYmplY3Qob3B0aW9ucykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgb3B0aW9ucyA9IGV4dGVuZChkZWZhdWx0cywgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgIGlmIChvcHRpb25zLmRhdGEubGVuZ3RoIHx8IGlzT2JqZWN0KG9wdGlvbnMuZGF0YSkpIHtcclxuICAgICAgICAgICAgLy8gSW1wb3J0IENTVlxyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy50eXBlID09PSBcImNzdlwiKSB7XHJcbiAgICAgICAgICAgICAgICBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogW11cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU3BsaXQgdGhlIHN0cmluZyBpbnRvIHJvd3NcclxuICAgICAgICAgICAgICAgIHZhciByb3dzID0gb3B0aW9ucy5kYXRhLnNwbGl0KG9wdGlvbnMubGluZURlbGltaXRlcik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHJvd3MubGVuZ3RoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmhlYWRpbmdzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5oZWFkaW5ncyA9IHJvd3NbMF0uc3BsaXQob3B0aW9ucy5jb2x1bW5EZWxpbWl0ZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcm93cy5zaGlmdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZWFjaChyb3dzLCBmdW5jdGlvbiAocm93LCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5kYXRhW2ldID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTcGxpdCB0aGUgcm93cyBpbnRvIHZhbHVlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVzID0gcm93LnNwbGl0KG9wdGlvbnMuY29sdW1uRGVsaW1pdGVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYWNoKHZhbHVlcywgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmRhdGFbaV0ucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMudHlwZSA9PT0gXCJqc29uXCIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBqc29uID0gaXNKc29uKG9wdGlvbnMuZGF0YSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gVmFsaWQgSlNPTiBzdHJpbmdcclxuICAgICAgICAgICAgICAgIGlmIChqc29uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkaW5nczogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IFtdXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZWFjaChqc29uLCBmdW5jdGlvbiAoZGF0YSwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmouZGF0YVtpXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlYWNoKGRhdGEsIGZ1bmN0aW9uICh2YWx1ZSwgY29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLmhlYWRpbmdzLmluZGV4T2YoY29sdW1uKSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouaGVhZGluZ3MucHVzaChjb2x1bW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5kYXRhW2ldLnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVGhhdCdzIG5vdCB2YWxpZCBKU09OIVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMuZGF0YSkpIHtcclxuICAgICAgICAgICAgICAgIG9iaiA9IG9wdGlvbnMuZGF0YTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKG9iaikge1xyXG4gICAgICAgICAgICAgICAgLy8gQWRkIHRoZSByb3dzXHJcbiAgICAgICAgICAgICAgICB0aGlzLmluc2VydChvYmopO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBQcmludCB0aGUgdGFibGVcclxuICAgICAqIEByZXR1cm4ge3ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLnByaW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBoZWFkaW5ncyA9IHRoaXMuYWN0aXZlSGVhZGluZ3M7XHJcbiAgICAgICAgdmFyIHJvd3MgPSB0aGlzLmFjdGl2ZVJvd3M7XHJcbiAgICAgICAgdmFyIHRhYmxlID0gY3JlYXRlRWxlbWVudChcInRhYmxlXCIpO1xyXG4gICAgICAgIHZhciB0aGVhZCA9IGNyZWF0ZUVsZW1lbnQoXCJ0aGVhZFwiKTtcclxuICAgICAgICB2YXIgdGJvZHkgPSBjcmVhdGVFbGVtZW50KFwidGJvZHlcIik7XHJcblxyXG4gICAgICAgIHZhciB0ciA9IGNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcclxuICAgICAgICBlYWNoKGhlYWRpbmdzLCBmdW5jdGlvbiAodGgpIHtcclxuICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQoXHJcbiAgICAgICAgICAgICAgICBjcmVhdGVFbGVtZW50KFwidGhcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIGh0bWw6IHRoLnRleHRDb250ZW50XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGVhZC5hcHBlbmRDaGlsZCh0cik7XHJcblxyXG4gICAgICAgIGVhY2gocm93cywgZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICB2YXIgdHIgPSBjcmVhdGVFbGVtZW50KFwidHJcIik7XHJcbiAgICAgICAgICAgIGVhY2gocm93LmNlbGxzLCBmdW5jdGlvbiAoY2VsbCkge1xyXG4gICAgICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQoXHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlRWxlbWVudChcInRkXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogY2VsbC50ZXh0Q29udGVudFxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGJvZHkuYXBwZW5kQ2hpbGQodHIpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0YWJsZS5hcHBlbmRDaGlsZCh0aGVhZCk7XHJcbiAgICAgICAgdGFibGUuYXBwZW5kQ2hpbGQodGJvZHkpO1xyXG5cclxuICAgICAgICAvLyBPcGVuIG5ldyB3aW5kb3dcclxuICAgICAgICB2YXIgdyA9IHdpbi5vcGVuKCk7XHJcblxyXG4gICAgICAgIC8vIEFwcGVuZCB0aGUgdGFibGUgdG8gdGhlIGJvZHlcclxuICAgICAgICB3LmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGFibGUpO1xyXG5cclxuICAgICAgICAvLyBQcmludFxyXG4gICAgICAgIHcucHJpbnQoKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTaG93IGEgbWVzc2FnZSBpbiB0aGUgdGFibGVcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlXHJcbiAgICAgKi9cclxuICAgIHByb3RvLnNldE1lc3NhZ2UgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xyXG4gICAgICAgIHZhciBjb2xzcGFuID0gMTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaGFzUm93cykge1xyXG4gICAgICAgICAgICBjb2xzcGFuID0gdGhpcy5kYXRhWzBdLmNlbGxzLmxlbmd0aDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY2xlYXIoXHJcbiAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnQoXCJ0clwiLCB7XHJcbiAgICAgICAgICAgICAgICBodG1sOiAnPHRkIGNsYXNzPVwiZGF0YVRhYmxlcy1lbXB0eVwiIGNvbHNwYW49XCInICtcclxuICAgICAgICAgICAgICAgICAgICBjb2xzcGFuICtcclxuICAgICAgICAgICAgICAgICAgICAnXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSArXHJcbiAgICAgICAgICAgICAgICAgICAgXCI8L3RkPlwiXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb2x1bW5zIEFQSSBhY2Nlc3NcclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gbmV3IENvbHVtbnMgaW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgcHJvdG8uY29sdW1ucyA9IGZ1bmN0aW9uIChjb2x1bW5zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDb2x1bW5zKHRoaXMsIGNvbHVtbnMpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJvd3MgQVBJIGFjY2Vzc1xyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBuZXcgUm93cyBpbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBwcm90by5yb3dzID0gZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFJvd3ModGhpcywgcm93cyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkIGN1c3RvbSBldmVudCBsaXN0ZW5lclxyXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBldmVudFxyXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGNhbGxiYWNrXHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5vbiA9IGZ1bmN0aW9uIChldmVudCwgY2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLmV2ZW50cyA9IHRoaXMuZXZlbnRzIHx8IHt9O1xyXG4gICAgICAgIHRoaXMuZXZlbnRzW2V2ZW50XSA9IHRoaXMuZXZlbnRzW2V2ZW50XSB8fCBbXTtcclxuICAgICAgICB0aGlzLmV2ZW50c1tldmVudF0ucHVzaChjYWxsYmFjayk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIGN1c3RvbSBldmVudCBsaXN0ZW5lclxyXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBldmVudFxyXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGNhbGxiYWNrXHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5vZmYgPSBmdW5jdGlvbiAoZXZlbnQsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudHMgPSB0aGlzLmV2ZW50cyB8fCB7fTtcclxuICAgICAgICBpZiAoZXZlbnQgaW4gdGhpcy5ldmVudHMgPT09IGZhbHNlKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5ldmVudHNbZXZlbnRdLnNwbGljZSh0aGlzLmV2ZW50c1tldmVudF0uaW5kZXhPZihjYWxsYmFjayksIDEpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEZpcmUgY3VzdG9tIGV2ZW50XHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGV2ZW50XHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5lbWl0ID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5ldmVudHMgPSB0aGlzLmV2ZW50cyB8fCB7fTtcclxuICAgICAgICBpZiAoZXZlbnQgaW4gdGhpcy5ldmVudHMgPT09IGZhbHNlKSByZXR1cm47XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmV2ZW50c1tldmVudF0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudHNbZXZlbnRdW2ldLmFwcGx5KHRoaXMsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIERhdGFUYWJsZTtcclxufSk7IiwiZXhwb3J0IGNvbnN0IGNvbG9yX2NvdW50cmllcyA9ICdyZ2IoMTQ3LDE0NCwyNTIpJztcbmV4cG9ydCBjb25zdCBjb2xvcl9kaXNhYmxlZCA9ICdyZ2IoMjE0LCAyMTQsIDIxNCknO1xuZXhwb3J0IGNvbnN0IGNvbG9yX3N1cCA9ICdncmVlbic7XG5leHBvcnQgY29uc3QgY29sb3JfaW5mID0gJ3JlZCc7XG5leHBvcnQgY29uc3QgY29sb3JfaGlnaGxpZ2h0ID0gJ3llbGxvdyc7XG4iLCJpbXBvcnQgRGF0YVRhYmxlIGZyb20gJ3ZhbmlsbGEtZGF0YXRhYmxlcyc7XG5pbXBvcnQgeyBjb2xvcl9oaWdobGlnaHQgfSBmcm9tICcuL29wdGlvbnMnO1xuXG5mdW5jdGlvbiBjcmVhdGVUYWJsZURPTShkYXRhLCBvcHRzLCBjb25maWcpIHtcbiAgY29uc3QgeyBudW0sIGRlbnVtLCByYXRpbywgbXlfcmVnaW9uIH0gPSBjb25maWc7XG4gIGNvbnN0IG9wdGlvbnMgPSBvcHRzIHx8IHt9O1xuICBvcHRpb25zLmlkID0gb3B0aW9ucy5pZCB8fCAnbXlUYWJsZSc7XG4gIGNvbnN0IGRvYyA9IGRvY3VtZW50O1xuICBjb25zdCBuYl9mZWF0dXJlcyA9IGRhdGEubGVuZ3RoO1xuICBjb25zdCBjb2x1bW5fbmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkYXRhWzBdKTtcbiAgY29uc3QgbmJfY29sdW1ucyA9IGNvbHVtbl9uYW1lcy5sZW5ndGg7XG4gIGNvbnN0IG15VGFibGUgPSBkb2MuY3JlYXRlRWxlbWVudCgndGFibGUnKTtcbiAgY29uc3QgaGVhZGVycyA9IGRvYy5jcmVhdGVFbGVtZW50KCd0aGVhZCcpO1xuICBjb25zdCBib2R5ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3Rib2R5Jyk7XG4gIGNvbnN0IGhlYWRlcnNfcm93ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbmJfY29sdW1uczsgaSsrKSB7XG4gICAgY29uc3QgY2VsbCA9IGRvYy5jcmVhdGVFbGVtZW50KCd0aCcpO1xuICAgIGNvbnN0IGNvbF9uYW1lID0gY29sdW1uX25hbWVzW2ldO1xuICAgIGlmIChjb2xfbmFtZSA9PT0gJ251bScpIHtcbiAgICAgIGNlbGwuaW5uZXJIVE1MID0gYE51bTxicj48c3BhbiBjbGFzcz1cInNtYWxsXCI+JHtudW19YDtcbiAgICB9IGVsc2UgaWYgKGNvbF9uYW1lID09PSAnZGVudW0nKSB7XG4gICAgICBjZWxsLmlubmVySFRNTCA9IGBEZW51bTxicj48c3BhbiBjbGFzcz1cInNtYWxsXCI+JHtkZW51bX1gO1xuICAgIH0gZWxzZSBpZiAoY29sX25hbWUgPT09ICdyYXRpbycpIHtcbiAgICAgIGNlbGwuaW5uZXJIVE1MID0gYFJhdGlvPGJyPjxzcGFuIGNsYXNzPVwic21hbGxcIj4ke3JhdGlvfWA7XG4gICAgfSBlbHNlIGlmIChjb2xfbmFtZSA9PT0gJ3JhbmcnKSB7XG4gICAgICBjZWxsLmlubmVySFRNTCA9ICdSYW5nICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNlbGwuaW5uZXJIVE1MID0gY29sX25hbWU7XG4gICAgfVxuICAgIGhlYWRlcnNfcm93LmFwcGVuZENoaWxkKGNlbGwpO1xuICB9XG4gIGhlYWRlcnMuYXBwZW5kQ2hpbGQoaGVhZGVyc19yb3cpO1xuICBteVRhYmxlLmFwcGVuZENoaWxkKGhlYWRlcnMpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG5iX2ZlYXR1cmVzOyBpKyspIHtcbiAgICBjb25zdCByb3cgPSBkb2MuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICByb3cuaWQgPSBgcm93XyR7ZGF0YVtpXS5pZH1gO1xuICAgIGlmIChkYXRhW2ldLmlkID09PSBteV9yZWdpb24pIHtcbiAgICAgIHJvdy5jbGFzc05hbWUgPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgfVxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgbmJfY29sdW1uczsgaisrKSB7XG4gICAgICBjb25zdCBjZWxsID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgICBjb25zdCBjb2xfbmFtZSA9IGNvbHVtbl9uYW1lc1tqXTtcbiAgICAgIGlmIChjb2xfbmFtZSA9PT0gJ251bScgfHwgY29sX25hbWUgPT09ICdkZW51bScgfHwgY29sX25hbWUgPT09ICdyYXRpbycpIHtcbiAgICAgICAgY2VsbC5pbm5lckhUTUwgPSBNYXRoLnJvdW5kKGRhdGFbaV1bY29sX25hbWVdICogMTAwKSAvIDEwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2VsbC5pbm5lckhUTUwgPSBkYXRhW2ldW2NvbF9uYW1lXTtcbiAgICAgIH1cbiAgICAgIHJvdy5hcHBlbmRDaGlsZChjZWxsKTtcbiAgICB9XG4gICAgYm9keS5hcHBlbmRDaGlsZChyb3cpO1xuICB9XG4gIG15VGFibGUuYXBwZW5kQ2hpbGQoYm9keSk7XG4gIG15VGFibGUuc2V0QXR0cmlidXRlKCdpZCcsIG9wdGlvbnMuaWQpO1xuICByZXR1cm4gbXlUYWJsZTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZVRhYmxlKGRhdGFfbm9fZW1wdHksIGNvbmZpZykge1xuICBjb25zdCB0YWJsZSA9IGNyZWF0ZVRhYmxlRE9NKGRhdGFfbm9fZW1wdHksIHVuZGVmaW5lZCwgY29uZmlnKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21hcF9zZWN0aW9uJykuYXBwZW5kQ2hpbGQodGFibGUpO1xuICBjb25zdCBkYXRhVGFibGUgPSBuZXcgRGF0YVRhYmxlKCcjbXlUYWJsZScpO1xuICBjb25zdCB0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRhdGFUYWJsZS13cmFwcGVyJyk7XG4gIHQuc3R5bGUubWFyZ2luVG9wID0gJzIwcHgnO1xuICB0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIHQuc3R5bGUuZm9udFNpemUgPSAnMC43ZW0nO1xuICAvLyB0LnF1ZXJ5U2VsZWN0b3IoJy5kYXRhVGFibGUtdG9wJykucmVtb3ZlKCk7XG4gIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQucXVlcnlTZWxlY3RvckFsbCgnc3Bhbi5zbWFsbCcpKVxuICAgIC5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgZWwub25jbGljayA9ICgpID0+IHsgZWwucGFyZW50RWxlbWVudC5jbGljaygpOyB9OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgfSk7XG59XG4iLCJjb25zdCBtYXRoX2FicyA9IE1hdGguYWJzO1xuY29uc3QgbWF0aF9yb3VuZCA9IE1hdGgucm91bmQ7XG5cbmZ1bmN0aW9uIHByZXBhcmVUb29sdGlwKHBhcmVudF9zdmdfZWxlbSkge1xuICBjb25zdCB0b29sdGlwID0gcGFyZW50X3N2Z19lbGVtLmFwcGVuZCgnZycpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ3Rvb2x0aXAnKVxuICAgIC5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG5cbiAgdG9vbHRpcC5hcHBlbmQoJ3JlY3QnKVxuICAgIC5hdHRycyh7IHdpZHRoOiA1MCwgaGVpZ2h0OiA0MCwgZmlsbDogJ3doaXRlJyB9KVxuICAgIC5zdHlsZSgnb3BhY2l0eScsIDAuNSk7XG5cbiAgdG9vbHRpcC5hcHBlbmQoJ3RleHQnKVxuICAgIC5hdHRycyh7IGNsYXNzOiAnaWRfZmVhdHVyZScsIHg6IDI1LCBkeTogJzEuMmVtJywgJ2ZvbnQtc2l6ZSc6ICcxNHB4JyB9KVxuICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnbWlkZGxlJyk7XG5cbiAgdG9vbHRpcC5hcHBlbmQoJ3RleHQnKVxuICAgIC5hdHRycyh7XG4gICAgICBjbGFzczogJ3ZhbHVlX2ZlYXR1cmUxJyxcbiAgICAgIHg6IDI1LFxuICAgICAgZHk6ICcyLjRlbScsXG4gICAgICAnZm9udC1zaXplJzogJzE0cHgnLFxuICAgICAgJ2ZvbnQtd2VpZ2h0JzogJ2JvbGQnIH0pXG4gICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKTtcblxuICB0b29sdGlwLmFwcGVuZCgndGV4dCcpXG4gICAgLmF0dHJzKHtcbiAgICAgIGNsYXNzOiAndmFsdWVfZmVhdHVyZTInLFxuICAgICAgeDogMjUsXG4gICAgICBkeTogJzMuNWVtJyxcbiAgICAgICdmb250LXNpemUnOiAnMTRweCcsXG4gICAgICAnZm9udC13ZWlnaHQnOiAnYm9sZCcgfSlcbiAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpO1xuXG4gIHJldHVybiB0b29sdGlwO1xufVxuXG5mdW5jdGlvbiB1bmJpbmRVSSgpIHtcbiAgLy8gUmVtb3ZlcyB0aGUgY3VycmVudCBiZWhhdmlvciBjb3JyZXNwb25kaW5nIHRvIGNsaWNraW5nIG9uIHRoZSBsZWZ0IG1lbnU6XG4gIGQzLnNlbGVjdEFsbCgnc3Bhbi5maWx0ZXJfdicpXG4gICAgLm9uKCdjbGljaycsIG51bGwpO1xuICBkMy5zZWxlY3RBbGwoJ3NwYW4udGFyZ2V0X3JlZ2lvbicpXG4gICAgLm9uKCdjbGljaycsIG51bGwpO1xuICBkMy5zZWxlY3RBbGwoJ3NwYW4ubGFiZWxfY2hrJylcbiAgICAub24oJ2NsaWNrJywgbnVsbCk7XG5cbiAgLy8gUmVtb3ZlIHRoZSB0YWJsZTpcbiAgZDMuc2VsZWN0KCcuZGF0YVRhYmxlLXdyYXBwZXInKS5yZW1vdmUoKTtcblxuICAvLyBVbmJpbmQgYnV0dG9ucyBvbiB0aGUgdG9wIG9mIHRoZSBtYXA6XG4gIGQzLnNlbGVjdCgnI2hlYWRlcl9tYXAnKVxuICAgIC5zZWxlY3RBbGwoJ2ltZycpXG4gICAgLm9uKCdjbGljaycsIG51bGwpO1xuXG4gIC8vIFJlbW92ZSB0aGUgc2VsZWN0aW9uIG1lbnUgKG9yIGJ1dHRvbnMpIHVuZGVyIHRoZSBjaGFydDpcbiAgZDMuc2VsZWN0KCcjYmFyX3NlY3Rpb24gPiAjYnV0dG9uc191bmRlcl9jaGFydCcpLnJlbW92ZSgpO1xuXG4gIC8vIFJlbW92ZXMgdGhlIGN1cnJlbnQgYmVoYXZpb3IgY29ycmVzcG9uZGluZyB0byBjbGlja2luZyBvbiB0aGUgdG9wIG1lbnU6XG4gIGQzLnNlbGVjdEFsbCgnLnR5cGVfY2hhcnQudGl0bGVfbWVudScpLm9uKCdjbGljaycsIG51bGwpO1xuXG4gIC8vIFJlbW92ZXMgdGhlIGN1cnJlbnQgYmVoYXZpb3IgY29ycmVzcG9uZGluZyB0byBwcmVzc2luZyB0aGUgQ29udHJvbCBrZXk6XG4gIGRvY3VtZW50Lm9ua2V5dXAgPSBudWxsO1xuICBkb2N1bWVudC5vbmtleWRvd24gPSBudWxsO1xufVxuXG5jb25zdCBjb21wID0gKHRlc3RfdmFsdWUsIHJlZl92YWx1ZSwgc2VyaWVfaW52ZXJzZWQpID0+IHtcbiAgaWYgKHRlc3RfdmFsdWUgPCByZWZfdmFsdWUpIHtcbiAgICByZXR1cm4gc2VyaWVfaW52ZXJzZWQgPyAnZ3JlZW4nIDogJ3JlZCc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHNlcmllX2ludmVyc2VkID8gJ3JlZCcgOiAnZ3JlZW4nO1xuICB9XG59O1xuXG5jbGFzcyBSZWN0IHtcbiAgY29uc3RydWN0b3IodG9wbGVmdCwgYm90dG9tcmlnaHQpIHtcbiAgICB0aGlzLnhtaW4gPSB0b3BsZWZ0WzBdO1xuICAgIHRoaXMueG1heCA9IGJvdHRvbXJpZ2h0WzBdO1xuICAgIHRoaXMueW1pbiA9IHRvcGxlZnRbMV07XG4gICAgdGhpcy55bWF4ID0gYm90dG9tcmlnaHRbMV07XG4gIH1cblxuICBjb250YWlucyhwdCkge1xuICAgIGlmIChwdFswXSA+PSB0aGlzLnhtaW4gJiYgcHRbMF0gPD0gdGhpcy54bWF4XG4gICAgICAgICYmIHB0WzFdID49IHRoaXMueW1pbiAmJiBwdFsxXSA8PSB0aGlzLnltYXgpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuY29uc3QgUHJvcFNpemVyID0gZnVuY3Rpb24gKGZpeGVkX3ZhbHVlLCBmaXhlZF9zaXplKSB7XG4gIHRoaXMuZml4ZWRfdmFsdWUgPSBmaXhlZF92YWx1ZTtcbiAgY29uc3Qgc3FydCA9IE1hdGguc3FydDtcbiAgY29uc3QgYWJzID0gTWF0aC5hYnM7XG4gIGNvbnN0IFBJID0gTWF0aC5QSTtcbiAgdGhpcy5zbWF4ID0gZml4ZWRfc2l6ZSAqIGZpeGVkX3NpemUgKiBQSTtcbiAgdGhpcy5zY2FsZSA9IHZhbCA9PiBzcXJ0KGFicyh2YWwpICogdGhpcy5zbWF4IC8gdGhpcy5maXhlZF92YWx1ZSkgLyBQSTtcbiAgLy8gdGhpcy5nZXRfdmFsdWUgPSBzaXplID0+ICgoc2l6ZSAqIFBJKSAqKiAyKSAvIHRoaXMuc21heCAqIHRoaXMuZml4ZWRfdmFsdWU7XG4gIC8vIFVzZSBNYXRoIHBvdyB0byBzdXBwb3J0IGJyb3dzZXIgd2l0aG91dCAqKiBvcGVyYXRvcjpcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtcHJvcGVydGllc1xuICB0aGlzLmdldF92YWx1ZSA9IHNpemUgPT4gTWF0aC5wb3coc2l6ZSAqIFBJLCAyKSAvIHRoaXMuc21heCAqIHRoaXMuZml4ZWRfdmFsdWU7XG59O1xuXG5cbmV4cG9ydCB7XG4gIGNvbXAsXG4gIG1hdGhfYWJzLFxuICBtYXRoX3JvdW5kLFxuICBSZWN0LFxuICBQcm9wU2l6ZXIsXG4gIHVuYmluZFVJLFxuICBwcmVwYXJlVG9vbHRpcCxcbn07XG4iLCJpbXBvcnQgeyBtYXRoX3JvdW5kIH0gZnJvbSAnLi9oZWxwZXJzJztcbmltcG9ydCB7IGNvbG9yX2hpZ2hsaWdodCB9IGZyb20gJy4vb3B0aW9ucyc7XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG5cbi8qKlxuKiBBdHRhY2ggdGhlIGZ1bGxfZGF0YXNldCBBcnJheSB0byB0aGUgYXBwIE9iamVjdCBhbmQgY3JlYXRlIGEgZGljdGlvbm5hcnlcbiogYWxsb3dpbmcgdG8gb2J0YWluIHRlcnJpdG9yaWFsIHVuaXRzIG5hbWUgZnJvbSB0aGVpciBJZC5cbipcbiogQHBhcmFtIHtBcnJheX0gZnVsbF9kYXRhc2V0IC0gVGhlIGRhdGFzZXQgYXMgYW4gQXJyYXkgb2YgT2JqZWN0XG4qIEBwYXJhbSB7T2JqZWN0fSBhcHAgLSBUaGUgdmFyaWFibGUgY29udGFpbmluZyB0aGUgZ2xvYmFsIHBhcmFtZXRlcnMgYWJvdXRcbiogICB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgYXBwbGljYXRpb24uXG4qIEByZXR1cm4ge3ZvaWR9XG4qXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXBhcmVfZGF0YXNldChmdWxsX2RhdGFzZXQsIGFwcCkge1xuICBhcHAuZnVsbF9kYXRhc2V0ID0gZnVsbF9kYXRhc2V0O1xuICAvLyBDcmVhdGUgYW4gT2JqZWN0IGZlYXR1cmVfaWQgLT4gIGZlYXR1cmVfbmFtZSBmb3IgZWFzaWVyIGxvb2t1cDpcbiAgYXBwLmZlYXR1cmVfbmFtZXMgPSB7fTtcbiAgZnVsbF9kYXRhc2V0LmZvckVhY2goKGVsZW0pID0+IHtcbiAgICBhcHAuZmVhdHVyZV9uYW1lc1tlbGVtLmdlb10gPSBlbGVtLk5vbTtcbiAgfSk7XG59XG5cblxuLyoqXG4qIEF0dGFjaCB0aGUgZnVsbF9kYXRhc2V0IEFycmF5IHRvIHRoZSBhcHAgT2JqZWN0IGFuZCBjcmVhdGUgYSBkaWN0aW9ubmFyeVxuKiBhbGxvd2luZyB0byBvYnRhaW4gdGVycml0b3JpYWwgdW5pdHMgbmFtZSBmcm9tIHRoZWlyIElkLlxuKlxuKiBAcGFyYW0ge09iamVjdH0gYXBwIC0gVGhlIHZhcmlhYmxlIGNvbnRhaW5pbmcgdGhlIGdsb2JhbCBwYXJhbWV0ZXJzIGFib3V0XG4qICAgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGFwcGxpY2F0aW9uLlxuKiBAcmV0dXJuIHtBcnJheX0gLSBUaGUgZmlsdGVyZWQgZGF0YSwgY29udGFpbmluZyBvbmx5IHRoZSByZXF1ZXN0ZWQgdmFyaWFibGVzXG4qICAgZm9yIHRoZSBmZWF0dXJlIG9mIHRoZSBjdXJyZW50IHN0dWR5IHpvbmUsXG4qICAgIHdpdGhvdXQgZmVhdHVyZXMgY29udGFpbmluZyBlbXB0eSByYXRpb3MuXG4qXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlcl9ub19lbXB0eShhcHApIHtcbiAgLy8gRmV0Y2ggdGhlIG5hbWUocykgb2YgdGhlIHJhdGlvIChhbmQgYXNzb2NpYXRlZCBudW0gYW5kIGRlbnVtIHZhcmlhYmxlKSxcbiAgLy8gdGhlIG5hbWUgb2YgdGhlIHRhcmdldGVkIHJlZ2lvbiBhbmQgdGhlIGN1cnJlbnQgbGV2ZWwgOlxuICBjb25zdCB7IG51bSwgZGVudW0sIHJhdGlvLCBteV9yZWdpb24sIGN1cnJlbnRfbGV2ZWwgfSA9IGFwcC5jdXJyZW50X2NvbmZpZztcbiAgLy8gUHJlcGFyZSB0aGUgZGF0YTpcbiAgY29uc3QgdGVtcCA9IGFwcC5mdWxsX2RhdGFzZXQuZmlsdGVyKGZ0ID0+ICtmdC5sZXZlbCA9PT0gY3VycmVudF9sZXZlbCkubWFwKGZ0ID0+ICh7XG4gICAgaWQ6IGZ0LmdlbyxcbiAgICBuYW1lOiBmdC5Ob20sXG4gICAgbnVtOiArZnRbbnVtXSxcbiAgICBkZW51bTogK2Z0W2RlbnVtXSAvIDEwMDAsXG4gICAgcmF0aW86ICtmdFtyYXRpb10sXG4gIH0pKTtcbiAgLy8gRmlsdGVyIGRhdGEgZm9yIGVtcHR5IHZhbHVlcyA6XG4gIGNvbnN0IGZpbHRlcmVkX2RhdGEgPSB0ZW1wLmZpbHRlcigoZnQpID0+IHtcbiAgICBpZiAoZnQuaWQgPT09IG15X3JlZ2lvbikge1xuICAgICAgYXBwLmN1cnJlbnRfY29uZmlnLnJlZl92YWx1ZSA9IGZ0LnJhdGlvO1xuICAgIH1cbiAgICByZXR1cm4gZnQucmF0aW87XG4gIH0pO1xuICAvLyBTb3J0IHRoZSBzZXJpZSBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgXCJpbnZlcnNlZFwiIHN0YXRlIG9uIHRoZSBkaXNwbGF5ZWQgY2hhcnQ6XG4gIGlmICghYXBwLnNlcmllX2ludmVyc2VkKSB7XG4gICAgZmlsdGVyZWRfZGF0YS5zb3J0KChhLCBiKSA9PiBhLnJhdGlvIC0gYi5yYXRpbyk7XG4gIH0gZWxzZSB7XG4gICAgZmlsdGVyZWRfZGF0YS5zb3J0KChhLCBiKSA9PiBiLnJhdGlvIC0gYS5yYXRpbyk7XG4gIH1cbiAgZmlsdGVyZWRfZGF0YS5mb3JFYWNoKChkLCBpKSA9PiB7IGQucmFuZyA9IGkgKyAxOyB9KTtcbiAgLy8gQ29tcHV0ZSB0aGUgcmF0aW8gb2YgYXZhaWxhYmxlIHZhbHVlcyAoXCJjb21wbMOpdHVkZVwiKSB3aXRoaW5cbiAgLy8gdGhlIHN0dWR5IHpvbmUgc2VsZWN0ZWQgYnkgdGhlIHVzZXI6XG4gIGFwcC5jb21wbGV0dWRlID0gbWF0aF9yb3VuZCgoZmlsdGVyZWRfZGF0YS5sZW5ndGggLyB0ZW1wLmxlbmd0aCkgKiAxMDAwKSAvIDEwO1xuICByZXR1cm4gZmlsdGVyZWRfZGF0YTtcbn1cblxuXG4vKipcbiogQXBwbHkgYSBmaWx0ZXIgKGllLiByZXN0cmljdCB0aGUgc3R1ZHkgem9uZSkgb24gdGhlIGRhdGFzZXQgdG8gYmUgdXNlZC5cbipcbiogQHBhcmFtIHtTdHJpbmd9IGZpbHRlcl90eXBlIC0gVGhlIG5hbWUgb2YgdGhlIGZpbHRlciB0byB1c2UuXG4qIEByZXR1cm4ge3ZvaWR9XG4qXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5RmlsdGVyKGFwcCwgZmlsdGVyX3R5cGUpIHtcbiAgYXBwLmN1cnJlbnRfZGF0YSA9IGZpbHRlcl9ub19lbXB0eShhcHApO1xuICBpZiAoZmlsdGVyX3R5cGUgPT09ICdub19maWx0ZXInKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC1leHByZXNzaW9uc1xuICAgIG51bGw7IC8vIERvbid0IGZpbHRlciBhbnl0aGluZy4uXG4gIH0gZWxzZSBpZiAoZmlsdGVyX3R5cGUgPT09ICdmaWx0ZXJfRlInKSB7XG4gICAgYXBwLmN1cnJlbnRfZGF0YSA9IGFwcC5jdXJyZW50X2RhdGEuZmlsdGVyKGQgPT4gZC5pZC5pbmRleE9mKCdGUicpID4gLTEpO1xuICB9IGVsc2Uge1xuICAgIGxldCBhID0gbWF0aF9yb3VuZChNYXRoLnJhbmRvbSgpICogNTApO1xuICAgIGxldCBiID0gbWF0aF9yb3VuZChNYXRoLnJhbmRvbSgpICogMTAxKTtcbiAgICBpZiAoYSA+IGIpIFthLCBiXSA9IFtiLCBhXTtcbiAgICBhcHAuY3VycmVudF9kYXRhID0gYXBwLmN1cnJlbnRfZGF0YS5zbGljZShhLCBiKTtcbiAgICBjb25zdCBtYXliZV9teV9yZWdpb24gPSBhcHAuY3VycmVudF9kYXRhLmZpbHRlcihcbiAgICAgIGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbilbMF07XG4gICAgaWYgKG1heWJlX215X3JlZ2lvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBhcHAuY3VycmVudF9kYXRhLnB1c2goXG4gICAgICAgIGFwcC5mdWxsX2RhdGFzZXQuZmlsdGVyKGQgPT4gZC5nZW8gPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pWzBdKTtcbiAgICB9XG4gIH1cbiAgYXBwLmN1cnJlbnRfaWRzID0gYXBwLmN1cnJlbnRfZGF0YS5tYXAoZCA9PiBkLmlkKTtcbiAgYXBwLmN1cnJlbnRfcmFua3MgPSBhcHAuY3VycmVudF9kYXRhLm1hcCgoZCwgaSkgPT4gaSArIDEpO1xuICBpZiAoIWFwcC5zZXJpZV9pbnZlcnNlZCkge1xuICAgIGFwcC5jdXJyZW50X2RhdGEuc29ydCgoYSwgYikgPT4gYS5yYXRpbyAtIGIucmF0aW8pO1xuICB9IGVsc2Uge1xuICAgIGFwcC5jdXJyZW50X2RhdGEuc29ydCgoYSwgYikgPT4gYi5yYXRpbyAtIGEucmF0aW8pO1xuICB9XG4gIGFwcC5jb2xvcnMgPSB7fTtcbiAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbn1cblxuLy8gVE9ETyA6IERvY1xuZXhwb3J0IGZ1bmN0aW9uIGNoYW5nZVJlZ2lvbihhcHAsIGlkX3JlZ2lvbikge1xuICBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uID0gaWRfcmVnaW9uO1xuICBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uX3ByZXR0eV9uYW1lID0gYXBwLmZlYXR1cmVfbmFtZXNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl07XG4gIC8vIFJlc2V0IHRoZSBjb2xvciB0byB1c2Ugb24gdGhlIGNoYXJ0L21hcDpcbiAgYXBwLmNvbG9ycyA9IHt9O1xuICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICAvLyBhcHAuY3VycmVudF9kYXRhID0gZmlsdGVyX25vX2VtcHR5KGFwcCk7XG4gIC8vIENoYW5nZSB0aGUgcmVmZXJlbmNlIHJhdGlvIHZhbHVlOlxuICBhcHAuY3VycmVudF9jb25maWcucmVmX3ZhbHVlID0gYXBwLmN1cnJlbnRfZGF0YVxuICAgIC5maWx0ZXIoZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVxuICAgIC5tYXAoZCA9PiBkLnJhdGlvKVswXTtcbn1cbi8qIGVzbGludC1lbmFibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cbiIsImltcG9ydCB7IGFwcCB9IGZyb20gJy4vLi4vbWFpbic7XG5pbXBvcnQgeyBjb2xvcl9kaXNhYmxlZCwgY29sb3JfY291bnRyaWVzLCBjb2xvcl9zdXAsIGNvbG9yX2luZiwgY29sb3JfaGlnaGxpZ2h0IH0gZnJvbSAnLi9vcHRpb25zJztcbmltcG9ydCB7IG1hdGhfcm91bmQsIHByZXBhcmVUb29sdGlwIH0gZnJvbSAnLi9oZWxwZXJzJztcblxuY29uc3Qgc3ZnX21hcCA9IGQzLnNlbGVjdCgnc3ZnI3N2Z19tYXAnKSxcbiAgbWFyZ2luX21hcCA9IHsgdG9wOiAwLCByaWdodDogMCwgYm90dG9tOiAwLCBsZWZ0OiAwIH0sXG4gIHdpZHRoX21hcCA9ICtzdmdfbWFwLmF0dHIoJ3dpZHRoJykgLSBtYXJnaW5fbWFwLmxlZnQgLSBtYXJnaW5fbWFwLnJpZ2h0LFxuICBoZWlnaHRfbWFwID0gK3N2Z19tYXAuYXR0cignaGVpZ2h0JykgLSBtYXJnaW5fbWFwLnRvcCAtIG1hcmdpbl9tYXAuYm90dG9tO1xuXG5jb25zdCBzdHlsZXMgPSB7XG4gIHRlbXBsYXRlOiB7IGlkOiAndGVtcGxhdGUnLCBmaWxsOiAncmdiKDI0NywgMjUyLCAyNTQpJywgJ2ZpbGwtb3BhY2l0eSc6IDEgfSxcbiAgY291bnRyaWVzOiB7IGlkOiAnY291bnRyaWVzJywgZmlsbDogJ3JnYigyMTQsIDIxNCwgMjE0KScsICdmaWxsLW9wYWNpdHknOiAxLCAnc3Ryb2tlLXdpZHRoJzogMC41LCBzdHJva2U6ICcjZmZmZmZmJyB9LFxuICBzZWFib3hlczogeyBpZDogJ3NlYWJveGVzJywgZmlsbDogJyNlMGZhZmYnLCAnZmlsbC1vcGFjaXR5JzogMSwgc3Ryb2tlOiAnYmxhY2snLCAnc3Ryb2tlLXdpZHRoJzogMC4yIH0sXG4gIHJlbW90ZTogeyBpZDogJ3JlbW90ZScsIGZpbGw6ICdyZ2IoMjE0LCAyMTQsIDIxNCknLCAnZmlsbC1vcGFjaXR5JzogMSwgJ3N0cm9rZS13aWR0aCc6IDAuNSwgc3Ryb2tlOiAnI2ZmZmZmZicgfSxcbiAgc2VhYm94ZXMyOiB7IGlkOiAnc2VhYm94ZXMyJywgZmlsbDogJ25vbmUnLCBzdHJva2U6ICdibGFjaycsICdzdHJva2Utd2lkdGgnOiAwLjggfSxcbiAgbnV0czFfbm9fZGF0YTogeyBpZDogJ251dHMxX25vX2RhdGEnLCBmaWxsOiAnd2hpdGUnLCAnZmlsbC1vcGFjaXR5JzogMSwgJ3N0cm9rZS13aWR0aCc6IDAuNSwgc3Ryb2tlOiAnbGlnaHRncmV5JyB9LFxuICBudXRzMTogeyBpZDogJ251dHMxJywgJ2ZpbGwtb3BhY2l0eSc6IDEsICdzdHJva2Utd2lkdGgnOiAwLjUsIHN0cm9rZTogJyNmZmZmZmYnIH0sXG59O1xuXG5sZXQgcHJvamVjdGlvbjtcbmxldCBwYXRoO1xuXG5mdW5jdGlvbiBnZXRfYmJveF9sYXllcl9wYXRoKG5hbWUpIHtcbiAgY29uc3QgYmJveF9sYXllciA9IFtbSW5maW5pdHksIEluZmluaXR5XSwgWy1JbmZpbml0eSwgLUluZmluaXR5XV07XG4gIHN2Z19tYXAuc2VsZWN0KGAjJHtuYW1lfWApXG4gICAgLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgLmVhY2goKGQpID0+IHtcbiAgICAgIGNvbnN0IGJib3hfcGF0aCA9IHBhdGguYm91bmRzKGQuZ2VvbWV0cnkpO1xuICAgICAgYmJveF9sYXllclswXVswXSA9IGJib3hfcGF0aFswXVswXSA8IGJib3hfbGF5ZXJbMF1bMF0gPyBiYm94X3BhdGhbMF1bMF0gOiBiYm94X2xheWVyWzBdWzBdO1xuICAgICAgYmJveF9sYXllclswXVsxXSA9IGJib3hfcGF0aFswXVsxXSA8IGJib3hfbGF5ZXJbMF1bMV0gPyBiYm94X3BhdGhbMF1bMV0gOiBiYm94X2xheWVyWzBdWzFdO1xuICAgICAgYmJveF9sYXllclsxXVswXSA9IGJib3hfcGF0aFsxXVswXSA+IGJib3hfbGF5ZXJbMV1bMF0gPyBiYm94X3BhdGhbMV1bMF0gOiBiYm94X2xheWVyWzFdWzBdO1xuICAgICAgYmJveF9sYXllclsxXVsxXSA9IGJib3hfcGF0aFsxXVsxXSA+IGJib3hfbGF5ZXJbMV1bMV0gPyBiYm94X3BhdGhbMV1bMV0gOiBiYm94X2xheWVyWzFdWzFdO1xuICAgIH0pO1xuICByZXR1cm4gYmJveF9sYXllcjtcbn1cblxuZnVuY3Rpb24gZml0TGF5ZXIoKSB7XG4gIHByb2plY3Rpb24uc2NhbGUoMSkudHJhbnNsYXRlKFswLCAwXSk7XG4gIGNvbnN0IGIgPSBnZXRfYmJveF9sYXllcl9wYXRoKCd0ZW1wbGF0ZScpO1xuICBjb25zdCBzID0gMSAvIE1hdGgubWF4KChiWzFdWzBdIC0gYlswXVswXSkgLyB3aWR0aF9tYXAsIChiWzFdWzFdIC0gYlswXVsxXSkgLyBoZWlnaHRfbWFwKTtcbiAgY29uc3QgdCA9IFsod2lkdGhfbWFwIC0gcyAqIChiWzFdWzBdICsgYlswXVswXSkpIC8gMiwgKGhlaWdodF9tYXAgLSBzICogKGJbMV1bMV0gKyBiWzBdWzFdKSkgLyAyXTtcbiAgcHJvamVjdGlvbi5zY2FsZShzKS50cmFuc2xhdGUodCk7XG4gIHN2Z19tYXAuc2VsZWN0QWxsKCdwYXRoJykuYXR0cignZCcsIHBhdGgpO1xufVxuXG5mdW5jdGlvbiBtYXBfem9vbWVkKCkge1xuICBjb25zdCB0cmFuc2Zvcm0gPSBkMy5ldmVudC50cmFuc2Zvcm07XG4gIGlmICh0cmFuc2Zvcm0uayA9PT0gMSkge1xuICAgIHRyYW5zZm9ybS54ID0gMDtcbiAgICB0cmFuc2Zvcm0ueSA9IDA7XG4gIH1cbiAgY29uc3QgbGF5ZXJzID0gc3ZnX21hcC5zZWxlY3QoJyNsYXllcnMnKTtcbiAgY29uc3QgdCA9IGxheWVyc1xuICAgIC5zZWxlY3RBbGwoJ2cnKVxuICAgIC50cmFuc2l0aW9uKClcbiAgICAuZHVyYXRpb24oMjI1KTtcblxuICBsYXllcnMuc2VsZWN0QWxsKCdnJylcbiAgICAudHJhbnNpdGlvbih0KVxuICAgIC5zdHlsZSgnc3Ryb2tlLXdpZHRoJywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGAke3N0eWxlc1t0aGlzLmlkXVsnc3Ryb2tlLXdpZHRoJ10gLyB0cmFuc2Zvcm0ua31weGA7XG4gICAgfSk7XG5cbiAgbGF5ZXJzLnNlbGVjdEFsbCgnZycpXG4gICAgLnRyYW5zaXRpb24odClcbiAgICAuYXR0cigndHJhbnNmb3JtJywgdHJhbnNmb3JtKTtcblxuICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpXG4gICAgLnRyYW5zaXRpb24odClcbiAgICAuYXR0cigndHJhbnNmb3JtJywgdHJhbnNmb3JtKTtcbn1cblxuY2xhc3MgTWFwU2VsZWN0IHtcbiAgY29uc3RydWN0b3IobnV0czEsIGNvdW50cmllcywgcmVtb3RlLCB0ZW1wbGF0ZSwgc2VhYm94ZXMpIHtcbiAgICBwcm9qZWN0aW9uID0gZDMuZ2VvSWRlbnRpdHkoKVxuICAgICAgLmZpdEV4dGVudChbWzAsIDBdLCBbd2lkdGhfbWFwLCBoZWlnaHRfbWFwXV0sIHRlbXBsYXRlKVxuICAgICAgLnJlZmxlY3RZKHRydWUpO1xuXG4gICAgbnV0czEuZmVhdHVyZXMuZm9yRWFjaCgoZnQpID0+IHtcbiAgICAgIGZ0LnByb3BlcnRpZXMucmF0aW8gPSAoIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgK2Z0LnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLm51bV0gLyArZnQucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuZGVudW1dKSAqIDEwMDAwMDtcbiAgICB9KTtcbiAgICBjb25zdCBub19kYXRhX2ZlYXR1cmVzID0gbnV0czEuZmVhdHVyZXMuZmlsdGVyKGZ0ID0+IGlzTmFOKGZ0LnByb3BlcnRpZXMucmF0aW8pKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICBudXRzMS5mZWF0dXJlcyA9IG51dHMxLmZlYXR1cmVzLmZpbHRlcihmdCA9PiAhaXNOYU4oZnQucHJvcGVydGllcy5yYXRpbykpO1xuXG4gICAgcGF0aCA9IGQzLmdlb1BhdGgoKS5wcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgIGNvbnN0IGxheWVycyA9IHN2Z19tYXAuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdpZCcsICdsYXllcnMnKTtcblxuICAgIHRoaXMuem9vbV9tYXAgPSBkMy56b29tKClcbiAgICAgIC5zY2FsZUV4dGVudChbMSwgNV0pXG4gICAgICAudHJhbnNsYXRlRXh0ZW50KFtbMCwgMF0sIFt3aWR0aF9tYXAsIGhlaWdodF9tYXBdXSlcbiAgICAgIC5vbignem9vbScsIG1hcF96b29tZWQpO1xuXG4gICAgc3ZnX21hcC5jYWxsKHRoaXMuem9vbV9tYXApO1xuXG4gICAgbGF5ZXJzLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cnMoc3R5bGVzLnRlbXBsYXRlKVxuICAgICAgLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuZGF0YSh0ZW1wbGF0ZS5mZWF0dXJlcylcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRycyh7IGQ6IHBhdGggfSk7XG5cbiAgICBsYXllcnMuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyhzdHlsZXMuY291bnRyaWVzKVxuICAgICAgLmF0dHIoJ2lkJywgJ2NvdW50cmllcycpXG4gICAgICAuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5kYXRhKGNvdW50cmllcy5mZWF0dXJlcylcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRycyh7IGQ6IHBhdGggfSk7XG5cbiAgICBsYXllcnMuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyhzdHlsZXMuc2VhYm94ZXMpXG4gICAgICAuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5kYXRhKHNlYWJveGVzLmZlYXR1cmVzKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHJzKHsgZDogcGF0aCB9KTtcblxuICAgIGxheWVycy5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHN0eWxlcy5yZW1vdGUpXG4gICAgICAuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5kYXRhKHJlbW90ZS5mZWF0dXJlcylcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRycyh7IGQ6IHBhdGggfSk7XG5cbiAgICBsYXllcnMuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyhzdHlsZXMuc2VhYm94ZXMyKVxuICAgICAgLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuZGF0YShzZWFib3hlcy5mZWF0dXJlcylcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRycyh7IGQ6IHBhdGggfSk7XG5cbiAgICBsYXllcnMuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyhzdHlsZXMubnV0czFfbm9fZGF0YSlcbiAgICAgIC5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLmRhdGEobm9fZGF0YV9mZWF0dXJlcylcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRyKCdkJywgcGF0aCk7XG5cbiAgICB0aGlzLnRhcmdldF9sYXllciA9IGxheWVycy5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHN0eWxlcy5udXRzMSk7XG4gICAgdGhpcy50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5kYXRhKG51dHMxLmZlYXR1cmVzKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCBkID0+IChkLnByb3BlcnRpZXMuTlVUUzFfMjAxNiAhPT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbiA/IGNvbG9yX2NvdW50cmllcyA6IGNvbG9yX2hpZ2hsaWdodCkpXG4gICAgICAuYXR0cignZCcsIHBhdGgpO1xuXG4gICAgZml0TGF5ZXIoKTtcbiAgICBwcmVwYXJlVG9vbHRpcChzdmdfbWFwKTtcbiAgICB0aGlzLmJpbmRUb29sdGlwKCk7XG4gIH1cblxuICByZXNldENvbG9ycygpIHtcbiAgICBjb25zdCBpZF9maWVsZF9nZW9tID0gYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb207XG4gICAgdGhpcy50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5hdHRyKCdmaWxsJywgZCA9PiAoYXBwLmN1cnJlbnRfaWRzLmluZGV4T2YoZC5wcm9wZXJ0aWVzW2lkX2ZpZWxkX2dlb21dKSA+IC0xXG4gICAgICAgID8gKGFwcC5jb2xvcnNbZC5wcm9wZXJ0aWVzW2lkX2ZpZWxkX2dlb21dXSB8fCBjb2xvcl9jb3VudHJpZXMpXG4gICAgICAgIDogY29sb3JfZGlzYWJsZWQpKTtcbiAgfVxuXG4gIGJpbmRUb29sdGlwKCkge1xuICAgIHRoaXMudGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAub24oJ21vdXNlb3ZlcicsICgpID0+IHtcbiAgICAgICAgc3ZnX21hcC5zZWxlY3QoJy50b29sdGlwJylcbiAgICAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTtcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlb3V0JywgKCkgPT4ge1xuICAgICAgICBzdmdfbWFwLnNlbGVjdCgnLnRvb2x0aXAnKVxuICAgICAgICAgIC5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICBjb25zdCB0b29sdGlwID0gc3ZnX21hcC5zZWxlY3QoJy50b29sdGlwJyk7XG4gICAgICAgIHRvb2x0aXBcbiAgICAgICAgICAuc2VsZWN0KCd0ZXh0LmlkX2ZlYXR1cmUnKVxuICAgICAgICAgIC50ZXh0KGAke2QucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV19YCk7XG4gICAgICAgIHRvb2x0aXAuc2VsZWN0KCd0ZXh0LnZhbHVlX2ZlYXR1cmUxJylcbiAgICAgICAgICAudGV4dChgJHttYXRoX3JvdW5kKGQucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcucmF0aW9dICogMTApIC8gMTB9YCk7XG4gICAgICAgIHRvb2x0aXBcbiAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke1tkMy5tb3VzZSh0aGlzKVswXSAtIDUsIGQzLm1vdXNlKHRoaXMpWzFdIC0gNDVdfSlgKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgcmVzZXRab29tKCkge1xuICAgIHN2Z19tYXAudHJhbnNpdGlvbigpXG4gICAgICAuZHVyYXRpb24oMjUwKVxuICAgICAgLmNhbGwodGhpcy56b29tX21hcC50cmFuc2Zvcm0sIGQzLnpvb21JZGVudGl0eSk7XG4gIH1cblxuICB1cGRhdGVMZWdlbmQoKSB7XG4gICAgZDMuc2VsZWN0KCcjc3ZnX2xlZ2VuZCA+IGcgPiAubGVnZW5kID4gdGV4dCcpXG4gICAgICAudGV4dChgTWEgcsOpZ2lvbiA6ICR7YXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl9wcmV0dHlfbmFtZX1gKTtcbiAgfVxuXG4gIHJlbW92ZVJlY3RCcnVzaCgpIHtcbiAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpLmNhbGwodGhpcy5icnVzaF9tYXAubW92ZSwgbnVsbCk7XG4gIH1cblxuICBiaW5kQnJ1c2goY2hhcnQpIHtcbiAgICB0aGlzLmJydXNoX21hcCA9IGQzLmJydXNoKClcbiAgICAgIC5leHRlbnQoW1swLCAwXSwgW3dpZHRoX21hcCwgaGVpZ2h0X21hcF1dKVxuICAgICAgLm9uKCdzdGFydCBicnVzaCcsICgpID0+IHtcbiAgICAgICAgaWYgKCFkMy5ldmVudCB8fCAhZDMuZXZlbnQuc2VsZWN0aW9uKSByZXR1cm47XG4gICAgICAgIGNoYXJ0LmhhbmRsZV9icnVzaF9tYXAoZDMuZXZlbnQpO1xuICAgICAgfSk7XG4gICAgc3ZnX21hcC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2JydXNoX21hcCcpXG4gICAgICAuY2FsbCh0aGlzLmJydXNoX21hcCk7XG4gIH1cblxuICB1bmJpbmRCcnVzaCgpIHtcbiAgICB0aGlzLmJydXNoX21hcCA9IG51bGw7XG4gICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKVxuICAgICAgLnJlbW92ZSgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG1ha2VTb3VyY2VTZWN0aW9uKCkge1xuICBjb25zdCB0ZXh0X3pvbmUgPSBkMy5zZWxlY3QoJyNzdmdfbGVnZW5kJylcbiAgICAuYXBwZW5kKCd0ZXh0JylcbiAgICAuYXR0cnMoeyB5OiAzMi41LCAndGV4dC1hbmNob3InOiAnZW5kJyB9KVxuICAgIC5zdHlsZSgnZm9udC1zaXplJywgJzExcHgnKVxuICAgIC5zdHlsZSgnZm9udC1mYW1pbHknLCAnXFwnU2lnbmlrYVxcJywgc2Fucy1zZXJpZicpO1xuICB0ZXh0X3pvbmUuYXBwZW5kKCd0c3BhbicpXG4gICAgLmF0dHJzKHsgeDogNDcwLCBkeTogMTIgfSlcbiAgICAudGV4dCgnTml2ZWF1IHLDqWdpb25hbCA6IE5VVFMgMSAodmVyc2lvbiAyMDE2KScpO1xuICB0ZXh0X3pvbmUuYXBwZW5kKCd0c3BhbicpXG4gICAgLmF0dHJzKHsgeDogNDcwLCBkeTogMTIgfSlcbiAgICAudGV4dCgnT3JpZ2luZSBkZXMgZG9ubsOpZXMgOiBFdXJvc3RhdCwgMjAxNicpO1xuICB0ZXh0X3pvbmUuYXBwZW5kKCd0c3BhbicpXG4gICAgLmF0dHJzKHsgeDogNDcwLCBkeTogMTIgfSlcbiAgICAudGV4dCgnTGltaXRlIGFkbWluaXN0cmF0aXZlOiBVTVMgUklBVEUsIENDLUJZLVNBJyk7XG59XG5cbmZ1bmN0aW9uIG1ha2VNYXBMZWdlbmQoKSB7XG4gIGNvbnN0IGxlZ2VuZF9lbGVtcyA9IFtcbiAgICB7IGNvbG9yOiBjb2xvcl9oaWdobGlnaHQsIHRleHQ6IGBNYSByw6lnaW9uIDogJHthcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uX3ByZXR0eV9uYW1lfWAgfSxcbiAgICB7IGNvbG9yOiBjb2xvcl9jb3VudHJpZXMsIHRleHQ6ICdBdXRyZXMgcsOpZ2lvbnMgZHUgZmlsdHJlIGRlIGNvbXBhcmFpc29uJyB9LFxuICAgIHsgY29sb3I6IGNvbG9yX3N1cCwgdGV4dDogJ1JhbmcgcGx1cyDDqWxldsOpIHF1ZSBtYSByw6lnaW9uJyB9LFxuICAgIHsgY29sb3I6IGNvbG9yX2luZiwgdGV4dDogJ1JhbmcgbW9pbnMgw6lsZXbDqSBxdWUgbWEgcsOpZ2lvbicgfSxcbiAgXTtcblxuICBjb25zdCByZWN0X3NpemUgPSAxNDtcbiAgY29uc3Qgc3BhY2luZyA9IDQ7XG4gIGNvbnN0IGxnZF9oZWlnaHQgPSByZWN0X3NpemUgKyBzcGFjaW5nO1xuICBjb25zdCBvZmZzZXQgPSBsZ2RfaGVpZ2h0ICogbGVnZW5kX2VsZW1zLmxlbmd0aCAvIDI7XG5cbiAgY29uc3QgZ3JwX2xnZCA9IGQzLnNlbGVjdCgnI3N2Z19sZWdlbmQnKVxuICAgIC5hcHBlbmQoJ2cnKVxuICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDUwLCA0MCknKVxuICAgIC5zdHlsZXMoeyAnZm9udC1zaXplJzogJzExcHgnLCAnZm9udC1mYW1pbHknOiAnXFwnU2lnbmlrYVxcJywgc2Fucy1zZXJpZicgfSk7XG5cbiAgY29uc3QgbGVnZW5kcyA9IGdycF9sZ2Quc2VsZWN0QWxsKCcubGVnZW5kJylcbiAgICAuZGF0YShsZWdlbmRfZWxlbXMpXG4gICAgLmVudGVyKClcbiAgICAuYXBwZW5kKCdnJylcbiAgICAuYXR0cignY2xhc3MnLCAnbGVnZW5kJylcbiAgICAuYXR0cigndHJhbnNmb3JtJywgKGQsIGkpID0+IHtcbiAgICAgIGNvbnN0IHR4ID0gLTIgKiByZWN0X3NpemU7XG4gICAgICBjb25zdCB0eSA9IGkgKiBsZ2RfaGVpZ2h0IC0gb2Zmc2V0O1xuICAgICAgcmV0dXJuIGB0cmFuc2xhdGUoJHtbdHgsIHR5XX0pYDtcbiAgICB9KTtcblxuICBsZWdlbmRzLmFwcGVuZCgncmVjdCcpXG4gICAgLmF0dHJzKHsgd2lkdGg6IHJlY3Rfc2l6ZSwgaGVpZ2h0OiByZWN0X3NpemUgfSlcbiAgICAuc3R5bGVzKGQgPT4gKHsgZmlsbDogZC5jb2xvciwgc3Ryb2tlOiBkLmNvbG9yIH0pKTtcblxuICBsZWdlbmRzLmFwcGVuZCgndGV4dCcpXG4gICAgLmF0dHJzKHsgeDogcmVjdF9zaXplICsgc3BhY2luZywgeTogcmVjdF9zaXplIC0gc3BhY2luZyB9KVxuICAgIC50ZXh0KGQgPT4gZC50ZXh0KTtcbn1cblxuZXhwb3J0IHtcbiAgTWFwU2VsZWN0LFxuICBtYWtlU291cmNlU2VjdGlvbixcbiAgbWFrZU1hcExlZ2VuZCxcbiAgc3ZnX21hcCxcbn07XG4iLCJpbXBvcnQgeyBjb21wLCBtYXRoX3JvdW5kLCBtYXRoX2FicywgUmVjdCwgcHJlcGFyZVRvb2x0aXAgfSBmcm9tICcuLy4uL2hlbHBlcnMnO1xuaW1wb3J0IHsgY29sb3JfZGlzYWJsZWQsIGNvbG9yX2NvdW50cmllcywgY29sb3Jfc3VwLCBjb2xvcl9pbmYsIGNvbG9yX2hpZ2hsaWdodCB9IGZyb20gJy4vLi4vb3B0aW9ucyc7XG5pbXBvcnQgeyBzdmdfbWFwIH0gZnJvbSAnLi8uLi9tYXAnO1xuaW1wb3J0IHsgYXBwbHlGaWx0ZXIsIGNoYW5nZVJlZ2lvbiB9IGZyb20gJy4vLi4vcHJlcGFyZV9kYXRhJztcbmltcG9ydCB7IGFwcCwgYmluZFRvcEJ1dHRvbnMgfSBmcm9tICcuLy4uLy4uL21haW4nO1xuXG5leHBvcnQgY29uc3Qgc3ZnX2JhciA9IGQzLnNlbGVjdCgnc3ZnI3N2Z19iYXInKSxcbiAgbWFyZ2luID0geyB0b3A6IDEwLCByaWdodDogMjAsIGJvdHRvbTogMTAwLCBsZWZ0OiAzMCB9LFxuICBtYXJnaW4yID0geyB0b3A6IDQzMCwgcmlnaHQ6IDIwLCBib3R0b206IDE1LCBsZWZ0OiAzMCB9LFxuICB3aWR0aCA9ICtzdmdfYmFyLmF0dHIoJ3dpZHRoJykgLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodCxcbiAgaGVpZ2h0ID0gK3N2Z19iYXIuYXR0cignaGVpZ2h0JykgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbSxcbiAgaGVpZ2h0MiA9ICtzdmdfYmFyLmF0dHIoJ2hlaWdodCcpIC0gbWFyZ2luMi50b3AgLSBtYXJnaW4yLmJvdHRvbTtcblxubGV0IG5iRnQ7XG5sZXQgbWVhbl92YWx1ZTtcbmxldCBjdXJyZW50X3JhbmdlX2JydXNoID0gWzAsIDBdO1xubGV0IGN1cnJlbnRfcmFuZ2UgPSBbMCwgMF07XG5sZXQgZGlzcGxheWVkO1xuXG5mdW5jdGlvbiBnZXRNZWFuUmFuaygpIHtcbiAgbGV0IG1lYW5fcmFuayA9IGFwcC5jdXJyZW50X2RhdGEubWFwKChkLCBpKSA9PiBbZC5yYXRpbywgbWF0aF9hYnMobWVhbl92YWx1ZSAtIGQucmF0aW8pLCBpXSk7XG4gIG1lYW5fcmFuay5zb3J0KChhLCBiKSA9PiBhWzFdIC0gYlsxXSk7XG4gIG1lYW5fcmFuayA9IG1lYW5fcmFua1swXTtcbiAgaWYgKG1lYW5fcmFua1sxXSA+IG1lYW5fdmFsdWUpIHtcbiAgICBtZWFuX3JhbmsgPSBtZWFuX3JhbmtbMl0gLSAxO1xuICB9IGVsc2Uge1xuICAgIG1lYW5fcmFuayA9IG1lYW5fcmFua1syXTtcbiAgfVxuICByZXR1cm4gbWVhbl9yYW5rO1xufVxuXG5cbmV4cG9ydCBjbGFzcyBCYXJDaGFydDEge1xuICBjb25zdHJ1Y3RvcihyZWZfZGF0YSkge1xuICAgIHRoaXMuYnJ1c2hlZCA9ICgpID0+IHtcbiAgICAgIGlmIChkMy5ldmVudC5zb3VyY2VFdmVudCAmJiBkMy5ldmVudC5zb3VyY2VFdmVudC50eXBlID09PSAnem9vbScpIHJldHVybjsgLy8gaWdub3JlIGJydXNoLWJ5LXpvb21cbiAgICAgIGlmICghdGhpcy54KSB7IGNvbnNvbGUubG9nKCdhJyk7IHJldHVybjsgfVxuICAgICAgY29uc3QgcyA9IGQzLmV2ZW50LnNlbGVjdGlvbiB8fCB0aGlzLngyLnJhbmdlKCk7XG4gICAgICBjdXJyZW50X3JhbmdlID0gW21hdGhfcm91bmQoc1swXSAvICh3aWR0aCAvIG5iRnQpKSwgbWF0aF9yb3VuZChzWzFdIC8gKHdpZHRoIC8gbmJGdCkpXTtcbiAgICAgIHRoaXMueC5kb21haW4oYXBwLmN1cnJlbnRfZGF0YS5zbGljZShjdXJyZW50X3JhbmdlWzBdLCBjdXJyZW50X3JhbmdlWzFdKS5tYXAoZnQgPT4gZnQuaWQpKTtcbiAgICAgIHN2Z19iYXIuc2VsZWN0KCcuem9vbScpLmNhbGwodGhpcy56b29tLnRyYW5zZm9ybSwgZDMuem9vbUlkZW50aXR5XG4gICAgICAgIC5zY2FsZSh3aWR0aCAvIChjdXJyZW50X3JhbmdlWzFdIC0gY3VycmVudF9yYW5nZVswXSkpXG4gICAgICAgIC50cmFuc2xhdGUoLWN1cnJlbnRfcmFuZ2VbMF0sIDApKTtcbiAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICB0aGlzLnVwZGF0ZUNvbnRleHQoY3VycmVudF9yYW5nZVswXSwgY3VycmVudF9yYW5nZVsxXSk7XG4gICAgICBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX3RvcCcpLmNhbGwodGhpcy5icnVzaF90b3AubW92ZSwgbnVsbCk7XG4gICAgICB0aGlzLmJydXNoZWRfdG9wKCk7XG4gICAgfTtcblxuICAgIHRoaXMuYnJ1c2hlZF90b3AgPSAoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuX2ZvY3VzKSB7IGNvbnNvbGUubG9nKCdiJyk7IHJldHVybjsgfVxuICAgICAgaWYgKCF0aGlzLm1hcF9lbGVtKSB7IGNvbnNvbGUubG9nKCdjJyk7IHJldHVybjsgfVxuICAgICAgY29uc3QgZDNfZXZlbnQgPSBkMy5ldmVudDtcbiAgICAgIGlmIChkM19ldmVudCAmJiBkM19ldmVudC5zZWxlY3Rpb25cbiAgICAgICAgICAgICYmIGQzX2V2ZW50LnNvdXJjZUV2ZW50ICYmIGQzX2V2ZW50LnNvdXJjZUV2ZW50LnRhcmdldCA9PT0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJydXNoX3RvcCA+IHJlY3Qub3ZlcmxheScpKSB7XG4gICAgICAgIHRoaXMubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gICAgICAgIGNvbnN0IHMgPSBkM19ldmVudC5zZWxlY3Rpb247XG4gICAgICAgIGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbXG4gICAgICAgICAgY3VycmVudF9yYW5nZVswXSArIG1hdGhfcm91bmQoc1swXSAvICh3aWR0aCAvIGRpc3BsYXllZCkpIC0gMSxcbiAgICAgICAgICBjdXJyZW50X3JhbmdlWzBdICsgbWF0aF9yb3VuZChzWzFdIC8gKHdpZHRoIC8gZGlzcGxheWVkKSksXG4gICAgICAgIF07XG4gICAgICAgIHRoaXMueC5kb21haW4oYXBwLmN1cnJlbnRfZGF0YS5zbGljZShjdXJyZW50X3JhbmdlX2JydXNoWzBdICsgMSwgY3VycmVudF9yYW5nZV9icnVzaFsxXSlcbiAgICAgICAgICAubWFwKGZ0ID0+IGZ0LmlkKSk7XG4gICAgICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICAgICAgdGhpcy5fZm9jdXMuc2VsZWN0QWxsKCcuYmFyJylcbiAgICAgICAgICAuc3R5bGUoJ2ZpbGwnLCAoZCwgaSkgPT4ge1xuICAgICAgICAgICAgaWYgKGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pIHtcbiAgICAgICAgICAgICAgYXBwLmNvbG9yc1tkLmlkXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yX2hpZ2hsaWdodDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA+IGN1cnJlbnRfcmFuZ2VfYnJ1c2hbMF0gJiYgaSA8IGN1cnJlbnRfcmFuZ2VfYnJ1c2hbMV0pIHtcbiAgICAgICAgICAgICAgY29uc3QgY29sb3IgPSBjb21wKGQucmF0aW8sIGFwcC5jdXJyZW50X2NvbmZpZy5yZWZfdmFsdWUsIGFwcC5zZXJpZV9pbnZlcnNlZCk7XG4gICAgICAgICAgICAgIGFwcC5jb2xvcnNbZC5pZF0gPSBjb2xvcjtcbiAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbG9yX2NvdW50cmllcztcbiAgICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGQzX2V2ZW50ICYmICFkM19ldmVudC5zZWxlY3Rpb25cbiAgICAgICAgICAgICYmIGQzX2V2ZW50LnNvdXJjZUV2ZW50ICYmIGQzX2V2ZW50LnNvdXJjZUV2ZW50LmRldGFpbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGhpcy5tYXBfZWxlbS5yZW1vdmVSZWN0QnJ1c2goKTtcbiAgICAgICAgICBhcHAuY29sb3JzID0ge307XG4gICAgICAgICAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICAgICAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZm9jdXMuc2VsZWN0QWxsKCcuYmFyJylcbiAgICAgICAgICAuc3R5bGUoJ2ZpbGwnLCBkID0+IGFwcC5jb2xvcnNbZC5pZF0gfHwgY29sb3JfY291bnRyaWVzKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHggPSBkMy5zY2FsZUJhbmQoKS5yYW5nZShbMCwgd2lkdGhdKS5wYWRkaW5nKDAuMSksXG4gICAgICB4MiA9IGQzLnNjYWxlQmFuZCgpLnJhbmdlKFswLCB3aWR0aF0pLnBhZGRpbmcoMC4xKSxcbiAgICAgIHkgPSBkMy5zY2FsZUxpbmVhcigpLnJhbmdlKFtoZWlnaHQsIDBdKSxcbiAgICAgIHkyID0gZDMuc2NhbGVMaW5lYXIoKS5yYW5nZShbaGVpZ2h0MiwgMF0pO1xuXG4gICAgY29uc3QgeEF4aXMgPSBkMy5heGlzQm90dG9tKHgpO1xuICAgIGNvbnN0IHhBeGlzMiA9IGQzLmF4aXNCb3R0b20oeDIpO1xuICAgIGNvbnN0IHlBeGlzID0gZDMuYXhpc0xlZnQoeSk7XG5cbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueDIgPSB4MjtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHRoaXMueTIgPSB5MjtcbiAgICB0aGlzLnhBeGlzID0geEF4aXM7XG4gICAgdGhpcy55QXhpcyA9IHlBeGlzO1xuICAgIHRoaXMueEF4aXMyID0geEF4aXMyO1xuXG4gICAgbGV0IGRhdGEgPSByZWZfZGF0YTtcbiAgICBkYXRhLnNvcnQoKGEsIGIpID0+IGEucmF0aW8gLSBiLnJhdGlvKTtcbiAgICBhcHAuY3VycmVudF9pZHMgPSBkYXRhLm1hcChkID0+IGQuaWQpO1xuICAgIGFwcC5jdXJyZW50X3JhbmtzID0gZGF0YS5tYXAoKGQsIGkpID0+IGkgKyAxKTtcbiAgICBuYkZ0ID0gZGF0YS5sZW5ndGg7XG4gICAgbWVhbl92YWx1ZSA9IGQzLm1lYW4oZGF0YS5tYXAoZCA9PiBkLnJhdGlvKSk7XG5cbiAgICBzdmdfYmFyLmFwcGVuZCgnZGVmcycpXG4gICAgICAuYXBwZW5kKCdjbGlwUGF0aCcpXG4gICAgICAuYXR0cignaWQnLCAnY2xpcCcpXG4gICAgICAuYXBwZW5kKCdyZWN0JylcbiAgICAgIC5hdHRycyh7IHdpZHRoLCBoZWlnaHQgfSk7XG5cbiAgICBjb25zdCBmb2N1cyA9IHN2Z19iYXIuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdmb2N1cycpXG4gICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke21hcmdpbi5sZWZ0fSwgJHttYXJnaW4udG9wfSlgKTtcblxuICAgIGNvbnN0IGNvbnRleHQgPSBzdmdfYmFyLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignY2xhc3MnLCAnY29udGV4dCcpXG4gICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke21hcmdpbjIubGVmdH0sICR7bWFyZ2luMi50b3B9KWApO1xuXG4gICAgdGhpcy5fZm9jdXMgPSBmb2N1cztcbiAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuXG4gICAgeC5kb21haW4oZGF0YS5tYXAoZnQgPT4gZnQuaWQpKTtcbiAgICB5LmRvbWFpbihbXG4gICAgICBkMy5taW4oZGF0YSwgZCA9PiBkLnJhdGlvKSAtIDIsXG4gICAgICBkMy5tYXgoZGF0YSwgZCA9PiBkLnJhdGlvKSxcbiAgICBdKTtcbiAgICB4Mi5kb21haW4oeC5kb21haW4oKSk7XG4gICAgeTIuZG9tYWluKHkuZG9tYWluKCkpO1xuXG4gICAgY29uc3QgYnJ1c2hfYm90dG9tID0gZDMuYnJ1c2hYKClcbiAgICAgIC5leHRlbnQoW1swLCAwXSwgW3dpZHRoLCBoZWlnaHQyXV0pXG4gICAgICAub24oJ2JydXNoIGVuZCcsIHRoaXMuYnJ1c2hlZCk7XG5cbiAgICBjb25zdCBicnVzaF90b3AgPSBkMy5icnVzaFgoKVxuICAgICAgLmV4dGVudChbWzAsIDBdLCBbd2lkdGgsIGhlaWdodF1dKVxuICAgICAgLm9uKCdicnVzaCBlbmQnLCB0aGlzLmJydXNoZWRfdG9wKTtcblxuICAgIGNvbnN0IHpvb20gPSBkMy56b29tKClcbiAgICAgIC5zY2FsZUV4dGVudChbMSwgSW5maW5pdHldKVxuICAgICAgLnRyYW5zbGF0ZUV4dGVudChbWzAsIDBdLCBbd2lkdGgsIGhlaWdodF1dKVxuICAgICAgLmV4dGVudChbWzAsIDBdLCBbd2lkdGgsIGhlaWdodF1dKTtcbiAgICAgIC8vIC5vbihcInpvb21cIiwgem9vbWVkKTtcbiAgICB0aGlzLmJydXNoX3RvcCA9IGJydXNoX3RvcDtcbiAgICB0aGlzLmJydXNoX2JvdHRvbSA9IGJydXNoX2JvdHRvbTtcbiAgICB0aGlzLnpvb20gPSB6b29tO1xuXG4gICAgZm9jdXMuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAnYXhpcyBheGlzLS14JywgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKDAsICR7aGVpZ2h0fSlgIH0pXG4gICAgICAuY2FsbCh4QXhpcyk7XG5cbiAgICBmb2N1cy5zZWxlY3QoJy5heGlzLS14JylcbiAgICAgIC5zZWxlY3RBbGwoJ3RleHQnKVxuICAgICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdlbmQnKVxuICAgICAgLmF0dHJzKHsgZHg6ICctMC44ZW0nLCBkeTogJzAuMTVlbScsIHRyYW5zZm9ybTogJ3JvdGF0ZSgtNjUpJyB9KTtcblxuICAgIGZvY3VzLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignY2xhc3MnLCAnYXhpcyBheGlzLS15JylcbiAgICAgIC5jYWxsKHlBeGlzKTtcblxuICAgIHRoaXMuZ19iYXIgPSBmb2N1cy5hcHBlbmQoJ2cnKTtcblxuICAgIGNvbnN0IGdyb3VwZV9saW5lX21lYW4gPSBmb2N1cy5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdtZWFuJyk7XG4gICAgZ3JvdXBlX2xpbmVfbWVhbi5hcHBlbmQoJ3RleHQnKVxuICAgICAgLmF0dHJzKHsgeDogNjAsIHk6IHkobWVhbl92YWx1ZSkgKyAyMCB9KVxuICAgICAgLnN0eWxlcyh7XG4gICAgICAgIGRpc3BsYXk6ICdub25lJyxcbiAgICAgICAgZmlsbDogJ3JlZCcsXG4gICAgICAgICdmaWxsLW9wYWNpdHknOiAnMC44JyxcbiAgICAgICAgJ2ZvbnQtZmFtaWx5JzogJ1xcJ1NpZ25pa2FcXCcsIHNhbnMtc2VyaWYnLFxuICAgICAgfSlcbiAgICAgIC50ZXh0KCdWYWxldXIgbW95ZW5uZScpO1xuXG4gICAgZ3JvdXBlX2xpbmVfbWVhbi5hcHBlbmQoJ2xpbmUnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgeDE6IDAsXG4gICAgICAgIHgyOiB3aWR0aCxcbiAgICAgICAgeTE6IHkobWVhbl92YWx1ZSksXG4gICAgICAgIHkyOiB5KG1lYW5fdmFsdWUpLFxuICAgICAgICAnc3Ryb2tlLWRhc2hhcnJheSc6ICcxMCwgNScsXG4gICAgICAgICdzdHJva2Utd2lkdGgnOiAnMnB4JyxcbiAgICAgICAgY2xhc3M6ICdtZWFuX2xpbmUnLFxuICAgICAgfSlcbiAgICAgIC5zdHlsZSgnc3Ryb2tlJywgJ3JlZCcpO1xuXG4gICAgZ3JvdXBlX2xpbmVfbWVhbi5hcHBlbmQoJ2xpbmUnKVxuICAgICAgLmF0dHJzKHsgeDE6IDAsIHgyOiB3aWR0aCwgeTE6IHkobWVhbl92YWx1ZSksIHkyOiB5KG1lYW5fdmFsdWUpLCAnc3Ryb2tlLXdpZHRoJzogJzE0cHgnIH0pXG4gICAgICAuc3R5bGUoJ3N0cm9rZScsICd0cmFuc3BhcmVudCcpXG4gICAgICAub24oJ21vdXNlb3ZlcicsICgpID0+IHtcbiAgICAgICAgZ3JvdXBlX2xpbmVfbWVhbi5zZWxlY3QoJ3RleHQnKVxuICAgICAgICAgIC5zdHlsZSgnZGlzcGxheScsICdpbml0aWFsJyk7XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZW91dCcsICgpID0+IHtcbiAgICAgICAgZ3JvdXBlX2xpbmVfbWVhbi5zZWxlY3QoJ3RleHQnKVxuICAgICAgICAgIC5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICB9KTtcblxuICAgIHRoaXMudXBkYXRlTWluaUJhcnMoKTtcblxuICAgIGNvbnRleHQuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdicnVzaF9ib3R0b20nKVxuICAgICAgLmNhbGwoYnJ1c2hfYm90dG9tKVxuICAgICAgLmNhbGwoYnJ1c2hfYm90dG9tLm1vdmUsIHgucmFuZ2UoKSk7XG5cbiAgICBmb2N1cy5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2JydXNoX3RvcCcpXG4gICAgICAuY2FsbChicnVzaF90b3ApXG4gICAgICAuY2FsbChicnVzaF90b3AubW92ZSwgbnVsbCk7XG5cbiAgICB0aGlzLmNvbXBsZXR1ZGUgPSBzdmdfYmFyLmFwcGVuZCgndGV4dCcpXG4gICAgICAuYXR0cnMoeyBpZDogJ2NoYXJ0X2NvbXBsZXR1ZGUnLCB4OiA2MCwgeTogNDAgfSlcbiAgICAgIC5zdHlsZXMoeyAnZm9udC1mYW1pbHknOiAnXFwnU2lnbmlrYVxcJywgc2Fucy1zZXJpZicgfSlcbiAgICAgIC50ZXh0KGBDb21wbMOpdHVkZSA6ICR7YXBwLmNvbXBsZXR1ZGV9JWApO1xuXG4gICAgc3ZnX2Jhci5hcHBlbmQoJ2ltYWdlJylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIHg6IHdpZHRoICsgbWFyZ2luLmxlZnQgKyA1LFxuICAgICAgICB5OiAzODUsXG4gICAgICAgIHdpZHRoOiAxNSxcbiAgICAgICAgaGVpZ2h0OiAxNSxcbiAgICAgICAgJ3hsaW5rOmhyZWYnOiAnaW1nL3JldmVyc2VfYmx1ZS5wbmcnLFxuICAgICAgICBpZDogJ2ltZ19yZXZlcnNlJyxcbiAgICAgIH0pXG4gICAgICAub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBkYXRhID0gYXBwLmN1cnJlbnRfZGF0YTtcbiAgICAgICAgYXBwLnNlcmllX2ludmVyc2VkID0gIWFwcC5zZXJpZV9pbnZlcnNlZDtcbiAgICAgICAgaWYgKGRhdGFbMF0ucmF0aW8gPCBkYXRhW2RhdGEubGVuZ3RoIC0gMV0ucmF0aW8pIHtcbiAgICAgICAgICBkYXRhLnNvcnQoKGEsIGIpID0+IGIucmF0aW8gLSBhLnJhdGlvKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkYXRhLnNvcnQoKGEsIGIpID0+IGEucmF0aW8gLSBiLnJhdGlvKTtcbiAgICAgICAgfVxuICAgICAgICB4LmRvbWFpbihkYXRhLnNsaWNlKGN1cnJlbnRfcmFuZ2VbMF0sIGN1cnJlbnRfcmFuZ2VbMV0pLm1hcChmdCA9PiBmdC5pZCkpO1xuICAgICAgICB4Mi5kb21haW4oZGF0YS5tYXAoZnQgPT4gZnQuaWQpKTtcbiAgICAgICAgLy8gc3ZnX2Jhci5zZWxlY3QoXCIuem9vbVwiKS5jYWxsKHpvb20udHJhbnNmb3JtLCBkMy56b29tSWRlbnRpdHlcbiAgICAgICAgLy8gICAgIC5zY2FsZSh3aWR0aCAvIChjdXJyZW50X3JhbmdlWzFdIC0gY3VycmVudF9yYW5nZVswXSkpXG4gICAgICAgIC8vICAgICAudHJhbnNsYXRlKC1jdXJyZW50X3JhbmdlWzBdLCAwKSk7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIC8vIHRoaXMudXBkYXRlTWluaUJhcnMoKTtcbiAgICAgICAgdGhpcy51cGRhdGVDb250ZXh0KGN1cnJlbnRfcmFuZ2VbMF0sIGN1cnJlbnRfcmFuZ2VbMV0pO1xuICAgICAgICBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX3RvcCcpLmNhbGwoYnJ1c2hfdG9wLm1vdmUsIG51bGwpO1xuICAgICAgICB0aGlzLm1hcF9lbGVtLnJlbW92ZVJlY3RCcnVzaCgpO1xuICAgICAgICBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX2JvdHRvbScpLmNhbGwoYnJ1c2hfYm90dG9tLm1vdmUsIHgucmFuZ2UoKSk7XG4gICAgICB9KTtcblxuICAgIGNvbnN0IHRvb2x0aXAgPSBwcmVwYXJlVG9vbHRpcChzdmdfYmFyKTtcblxuICAgIC8vIERlYWN0aXZhdGUgdGhlIGJydXNoIHJlY3Qgc2VsZWN0aW9uIG9uIHRoZSBtYXAgKyBvbiB0aGUgY2hhcnRcbiAgICAvLyB3aGVuIGhlIHVzZXIgcHJlc3MgdGhlIEN0cmwga2V5OlxuICAgIGRvY3VtZW50Lm9ua2V5ZG93biA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50LmtleSA9PT0gJ0NvbnRyb2wnKSB7XG4gICAgICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfdG9wJylcbiAgICAgICAgICAuc2VsZWN0QWxsKCcuc2VsZWN0aW9uLCAub3ZlcmxheScpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKVxuICAgICAgICAgIC5zZWxlY3RBbGwoJy5zZWxlY3Rpb24sIC5vdmVybGF5JylcbiAgICAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgfVxuICAgIH07XG4gICAgZG9jdW1lbnQub25rZXl1cCA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50LmtleSA9PT0gJ0NvbnRyb2wnKSB7XG4gICAgICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfdG9wJylcbiAgICAgICAgICAuc2VsZWN0QWxsKCcuc2VsZWN0aW9uLCAub3ZlcmxheScpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7XG4gICAgICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJylcbiAgICAgICAgICAuc2VsZWN0QWxsKCcuc2VsZWN0aW9uLCAub3ZlcmxheScpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHVwZGF0ZUNvbXBsZXR1ZGUoKSB7XG4gICAgY29uc29sZS5sb2coYXBwLmNvbXBsZXR1ZGUpO1xuICAgIHRoaXMuY29tcGxldHVkZVxuICAgICAgLnRleHQoYENvbXBsw6l0dWRlIDogJHthcHAuY29tcGxldHVkZX0lYCk7XG4gIH1cblxuICB1cGRhdGVDb250ZXh0KG1pbiwgbWF4KSB7XG4gICAgdGhpcy5jb250ZXh0LnNlbGVjdEFsbCgnLmJhcicpXG4gICAgICAgLnN0eWxlKCdmaWxsLW9wYWNpdHknLCAoXywgaSkgPT4gKGkgPj0gbWluICYmIGkgPCBtYXggPyAnMScgOiAnMC4zJykpO1xuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIGRpc3BsYXllZCA9IDA7XG5cbiAgICBjb25zdCBiYXIgPSB0aGlzLmdfYmFyLnNlbGVjdEFsbCgnLmJhcicpXG4gICAgICAuZGF0YShhcHAuY3VycmVudF9kYXRhKTtcblxuICAgIGJhclxuICAgICAgLmF0dHIoJ3gnLCBkID0+IHRoaXMueChkLmlkKSlcbiAgICAgIC5hdHRyKCd3aWR0aCcsIHRoaXMueC5iYW5kd2lkdGgoKSlcbiAgICAgIC5hdHRyKCd5JywgZCA9PiB0aGlzLnkoZC5yYXRpbykpXG4gICAgICAuYXR0cignaGVpZ2h0JywgZCA9PiBoZWlnaHQgLSB0aGlzLnkoZC5yYXRpbykpXG4gICAgICAuc3R5bGUoJ2ZpbGwnLCBkID0+IGFwcC5jb2xvcnNbZC5pZF0gfHwgY29sb3JfY291bnRyaWVzKVxuICAgICAgLnN0eWxlKCdkaXNwbGF5JywgKGQpID0+IHtcbiAgICAgICAgY29uc3QgdG9fZGlzcGxheSA9IHRoaXMueChkLmlkKSAhPSBudWxsO1xuICAgICAgICBpZiAodG9fZGlzcGxheSkge1xuICAgICAgICAgIGRpc3BsYXllZCArPSAxO1xuICAgICAgICAgIHJldHVybiAnaW5pdGlhbCc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICdub25lJztcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlb3ZlcicsICgpID0+IHtcbiAgICAgICAgc3ZnX2Jhci5zZWxlY3QoJy50b29sdGlwJykuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTtcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlb3V0JywgKCkgPT4ge1xuICAgICAgICBzdmdfYmFyLnNlbGVjdCgnLnRvb2x0aXAnKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICBjb25zdCB0b29sdGlwID0gc3ZnX2Jhci5zZWxlY3QoJy50b29sdGlwJyk7XG4gICAgICAgIHRvb2x0aXBcbiAgICAgICAgICAuc2VsZWN0KCd0ZXh0LmlkX2ZlYXR1cmUnKVxuICAgICAgICAgIC50ZXh0KGAke2QuaWR9YCk7XG4gICAgICAgIHRvb2x0aXAuc2VsZWN0KCd0ZXh0LnZhbHVlX2ZlYXR1cmUxJylcbiAgICAgICAgICAudGV4dChgJHttYXRoX3JvdW5kKGQucmF0aW8gKiAxMCkgLyAxMH1gKTtcbiAgICAgICAgdG9vbHRpcFxuICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7W2QzLm1vdXNlKHRoaXMpWzBdIC0gNSwgZDMubW91c2UodGhpcylbMV0gLSA0NV19KWApO1xuICAgICAgfSk7XG5cbiAgICBiYXIuZW50ZXIoKVxuICAgICAgLmluc2VydCgncmVjdCcsICcubWVhbicpXG4gICAgICAuYXR0cignY2xhc3MnLCAnYmFyJylcbiAgICAgIC5hdHRyKCd4JywgZCA9PiB0aGlzLngoZC5pZCkpXG4gICAgICAuYXR0cignd2lkdGgnLCB0aGlzLnguYmFuZHdpZHRoKCkpXG4gICAgICAuYXR0cigneScsIGQgPT4gdGhpcy55KGQucmF0aW8pKVxuICAgICAgLmF0dHIoJ2hlaWdodCcsIGQgPT4gaGVpZ2h0IC0gdGhpcy55KGQucmF0aW8pKTtcblxuICAgIGJhci5leGl0KCkucmVtb3ZlKCk7XG5cbiAgICB0aGlzLl9mb2N1cy5zZWxlY3QoJy5heGlzLS15JylcbiAgICAgIC5jYWxsKHRoaXMueUF4aXMpO1xuXG4gICAgdGhpcy5fZm9jdXMuc2VsZWN0KCcubWVhbl9saW5lJylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIHkxOiB0aGlzLnkobWVhbl92YWx1ZSksXG4gICAgICAgIHkyOiB0aGlzLnkobWVhbl92YWx1ZSksXG4gICAgICB9KTtcblxuICAgIGNvbnN0IGF4aXNfeCA9IHRoaXMuX2ZvY3VzLnNlbGVjdCgnLmF4aXMtLXgnKVxuICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsICgpID0+IChkaXNwbGF5ZWQgPiA3NSA/IDYgOiAxMCkpXG4gICAgICAuY2FsbCh0aGlzLnhBeGlzKTtcbiAgICBheGlzX3hcbiAgICAgIC5zZWxlY3RBbGwoJ3RleHQnKVxuICAgICAgLmF0dHJzKCgpID0+IHtcbiAgICAgICAgaWYgKGRpc3BsYXllZCA+IDEwMCkge1xuICAgICAgICAgIHJldHVybiB7IGR4OiAnLTAuOGVtJywgZHk6ICcwLjE1ZW0nLCB0cmFuc2Zvcm06ICdyb3RhdGUoLTY1KScgfTtcbiAgICAgICAgfSBlbHNlIGlmIChkaXNwbGF5ZWQgPiAyMCkge1xuICAgICAgICAgIHJldHVybiB7IGR4OiAnLTAuOGVtJywgZHk6ICcwLjE1ZW0nLCB0cmFuc2Zvcm06ICdyb3RhdGUoLTY1KScgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4geyBkeDogJzAnLCBkeTogJzAuNzFlbScsIHRyYW5zZm9ybTogbnVsbCB9O1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICgpID0+IChkaXNwbGF5ZWQgPiAyMCA/ICdlbmQnIDogJ21pZGRsZScpKTtcblxuICAgIHRoaXMudXBkYXRlTWluaUJhcnMoKTtcbiAgfVxuXG5cbiAgdXBkYXRlTWluaUJhcnMoKSB7XG4gICAgY29uc3QgbWluaV9iYXJzID0gdGhpcy5jb250ZXh0LnNlbGVjdEFsbCgnLmJhcicpXG4gICAgICAuZGF0YShhcHAuY3VycmVudF9kYXRhKTtcblxuICAgIG1pbmlfYmFyc1xuICAgICAgLmF0dHIoJ3gnLCBkID0+IHRoaXMueDIoZC5pZCkpXG4gICAgICAuYXR0cignd2lkdGgnLCB0aGlzLngyLmJhbmR3aWR0aCgpKVxuICAgICAgLmF0dHIoJ3knLCBkID0+IHRoaXMueTIoZC5yYXRpbykpXG4gICAgICAuYXR0cignaGVpZ2h0JywgZCA9PiBoZWlnaHQyIC0gdGhpcy55MihkLnJhdGlvKSlcbiAgICAgIC5zdHlsZSgnZmlsbCcsIGQgPT4gKGQuaWQgIT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24gPyBjb2xvcl9jb3VudHJpZXMgOiBjb2xvcl9oaWdobGlnaHQpKTtcblxuICAgIG1pbmlfYmFyc1xuICAgICAgLmVudGVyKClcbiAgICAgIC5pbnNlcnQoJ3JlY3QnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2JhcicpXG4gICAgICAuYXR0cigneCcsIGQgPT4gdGhpcy54MihkLmlkKSlcbiAgICAgIC5hdHRyKCd3aWR0aCcsIHRoaXMueDIuYmFuZHdpZHRoKCkpXG4gICAgICAuYXR0cigneScsIGQgPT4gdGhpcy55MihkLnJhdGlvKSlcbiAgICAgIC5hdHRyKCdoZWlnaHQnLCBkID0+IGhlaWdodDIgLSB0aGlzLnkyKGQucmF0aW8pKVxuICAgICAgLnN0eWxlKCdmaWxsJywgZCA9PiAoZC5pZCAhPT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbiA/IGNvbG9yX2NvdW50cmllcyA6IGNvbG9yX2hpZ2hsaWdodCkpO1xuICAgIG1pbmlfYmFycy5leGl0KCkucmVtb3ZlKCk7XG4gIH1cblxuICB1cGRhdGVNYXBSZWdpbygpIHtcbiAgICB0aGlzLm1hcF9lbGVtLnRhcmdldF9sYXllci5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCBkID0+IChhcHAuY3VycmVudF9pZHMuaW5kZXhPZihkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dKSA+IC0xXG4gICAgICAgID8gKGFwcC5jb2xvcnNbZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXV0gfHwgY29sb3JfY291bnRyaWVzKVxuICAgICAgICA6IGNvbG9yX2Rpc2FibGVkKSk7XG4gIH1cblxuICBzZWxlY3RBYm92ZU15UmVnaW9uKCkge1xuICAgIGNvbnN0IG15X3JhbmsgPSBhcHAuY3VycmVudF9kYXRhLm1hcCgoZCwgaSkgPT4gW2QuaWQsIGldKVxuICAgICAgLmZpbHRlcihkID0+IGRbMF0gPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pWzBdWzFdO1xuICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgIGlmICghYXBwLnNlcmllX2ludmVyc2VkKSB7XG4gICAgICBjdXJyZW50X3JhbmdlX2JydXNoID0gW215X3JhbmssIGFwcC5jdXJyZW50X2RhdGEubGVuZ3RoXTtcbiAgICAgIGFwcC5jdXJyZW50X2RhdGFcbiAgICAgICAgLmZpbHRlcigoZCwgaSkgPT4gaSA+IG15X3JhbmspXG4gICAgICAgIC5tYXAoZCA9PiBkLmlkKVxuICAgICAgICAuZm9yRWFjaCgoZnQpID0+IHsgYXBwLmNvbG9yc1tmdF0gPSBjb2xvcl9zdXA7IH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X3JhbmdlX2JydXNoID0gWzAsIG15X3JhbmtdO1xuICAgICAgYXBwLmN1cnJlbnRfZGF0YVxuICAgICAgICAuZmlsdGVyKChkLCBpKSA9PiBpIDwgbXlfcmFuaylcbiAgICAgICAgLm1hcChkID0+IGQuaWQpXG4gICAgICAgIC5mb3JFYWNoKChmdCkgPT4geyBhcHAuY29sb3JzW2Z0XSA9IGNvbG9yX2luZjsgfSk7XG4gICAgfVxuICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfdG9wJykuY2FsbCh0aGlzLmJydXNoX3RvcC5tb3ZlLCBjdXJyZW50X3JhbmdlX2JydXNoLm1hcChkID0+IGQgKiAod2lkdGggLyBuYkZ0KSkpO1xuICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgfVxuXG4gIHNlbGVjdEJlbG93TXlSZWdpb24oKSB7XG4gICAgY29uc3QgbXlfcmFuayA9IGFwcC5jdXJyZW50X2RhdGEubWFwKChkLCBpKSA9PiBbZC5pZCwgaV0pXG4gICAgICAuZmlsdGVyKGQgPT4gZFswXSA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbilbMF1bMV07XG4gICAgYXBwLmNvbG9ycyA9IHt9O1xuICAgIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgaWYgKCFhcHAuc2VyaWVfaW52ZXJzZWQpIHtcbiAgICAgIGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbMCwgbXlfcmFua107XG4gICAgICBhcHAuY3VycmVudF9kYXRhXG4gICAgICAgIC5maWx0ZXIoKGQsIGkpID0+IGkgPCBteV9yYW5rKVxuICAgICAgICAubWFwKGQgPT4gZC5pZClcbiAgICAgICAgLmZvckVhY2goKGZ0KSA9PiB7IGFwcC5jb2xvcnNbZnRdID0gY29sb3JfaW5mOyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9yYW5nZV9icnVzaCA9IFtteV9yYW5rLCBhcHAuY3VycmVudF9kYXRhLmxlbmd0aF07XG4gICAgICBhcHAuY3VycmVudF9kYXRhXG4gICAgICAgIC5maWx0ZXIoKGQsIGkpID0+IGkgPiBteV9yYW5rKVxuICAgICAgICAubWFwKGQgPT4gZC5pZClcbiAgICAgICAgLmZvckVhY2goKGZ0KSA9PiB7IGFwcC5jb2xvcnNbZnRdID0gY29sb3Jfc3VwOyB9KTtcbiAgICB9XG4gICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF90b3AnKS5jYWxsKHRoaXMuYnJ1c2hfdG9wLm1vdmUsIGN1cnJlbnRfcmFuZ2VfYnJ1c2gubWFwKGQgPT4gZCAqICh3aWR0aCAvIG5iRnQpKSk7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICB9XG5cbiAgc2VsZWN0QWJvdmVNZWFuKCkge1xuICAgIGNvbnN0IG1lYW5fcmFuayA9IGdldE1lYW5SYW5rKCk7XG4gICAgYXBwLmNvbG9ycyA9IHt9O1xuICAgIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgaWYgKCFhcHAuc2VyaWVfaW52ZXJzZWQpIHtcbiAgICAgIGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbbWVhbl9yYW5rLCBhcHAuY3VycmVudF9kYXRhLmxlbmd0aF07XG4gICAgICBhcHAuY3VycmVudF9kYXRhLmZpbHRlcihkID0+IGQucmF0aW8gPiBtZWFuX3ZhbHVlKS5mb3JFYWNoKChmdCkgPT4ge1xuICAgICAgICBpZiAoZnQucmF0aW8gPiBhcHAuY3VycmVudF9jb25maWcucmVmX3ZhbHVlKSBhcHAuY29sb3JzW2Z0LmlkXSA9IGNvbG9yX3N1cDtcbiAgICAgICAgZWxzZSBhcHAuY29sb3JzW2Z0LmlkXSA9IGNvbG9yX2luZjtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X3JhbmdlX2JydXNoID0gWzAsIG1lYW5fcmFuayArIDFdO1xuICAgICAgYXBwLmN1cnJlbnRfZGF0YS5maWx0ZXIoZCA9PiBkLnJhdGlvID4gbWVhbl92YWx1ZSkuZm9yRWFjaCgoZnQpID0+IHtcbiAgICAgICAgaWYgKGZ0LnJhdGlvID4gYXBwLmN1cnJlbnRfY29uZmlnLnJlZl92YWx1ZSkgYXBwLmNvbG9yc1tmdC5pZF0gPSBjb2xvcl9pbmY7XG4gICAgICAgIGVsc2UgYXBwLmNvbG9yc1tmdC5pZF0gPSBjb2xvcl9zdXA7XG4gICAgICB9KTtcbiAgICB9XG4gICAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX3RvcCcpLmNhbGwodGhpcy5icnVzaF90b3AubW92ZSwgY3VycmVudF9yYW5nZV9icnVzaC5tYXAoZCA9PiBkICogKHdpZHRoIC8gbmJGdCkpKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gIH1cblxuICBzZWxlY3RCZWxvd01lYW4oKSB7XG4gICAgY29uc3QgbWVhbl9yYW5rID0gZ2V0TWVhblJhbmsoKTtcbiAgICBhcHAuY29sb3JzID0ge307XG4gICAgaWYgKCFhcHAuc2VyaWVfaW52ZXJzZWQpIHtcbiAgICAgIGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbMCwgbWVhbl9yYW5rXTtcbiAgICAgIGFwcC5jdXJyZW50X2RhdGEuZmlsdGVyKGQgPT4gZC5yYXRpbyA8IG1lYW5fdmFsdWUpLmZvckVhY2goKGZ0KSA9PiB7XG4gICAgICAgIGlmIChmdC5yYXRpbyA8IGFwcC5jdXJyZW50X2NvbmZpZy5yZWZfdmFsdWUpIGFwcC5jb2xvcnNbZnQuaWRdID0gY29sb3JfaW5mO1xuICAgICAgICBlbHNlIGFwcC5jb2xvcnNbZnQuaWRdID0gY29sb3Jfc3VwO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbbWVhbl9yYW5rICsgMSwgYXBwLmN1cnJlbnRfZGF0YS5sZW5ndGhdO1xuICAgICAgYXBwLmN1cnJlbnRfZGF0YS5maWx0ZXIoZCA9PiBkLnJhdGlvIDwgbWVhbl92YWx1ZSkuZm9yRWFjaCgoZnQpID0+IHtcbiAgICAgICAgaWYgKGZ0LnJhdGlvIDwgYXBwLmN1cnJlbnRfY29uZmlnLnJlZl92YWx1ZSkgYXBwLmNvbG9yc1tmdC5pZF0gPSBjb2xvcl9zdXA7XG4gICAgICAgIGVsc2UgYXBwLmNvbG9yc1tmdC5pZF0gPSBjb2xvcl9pbmY7XG4gICAgICB9KTtcbiAgICB9XG4gICAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX3RvcCcpLmNhbGwodGhpcy5icnVzaF90b3AubW92ZSwgY3VycmVudF9yYW5nZV9icnVzaC5tYXAoZCA9PiBkICogKHdpZHRoIC8gbmJGdCkpKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gIH1cblxuICBoYW5kbGVfYnJ1c2hfbWFwKGV2ZW50KSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF90b3AnKS5jYWxsKHNlbGYuYnJ1c2hfdG9wLm1vdmUsIG51bGwpO1xuICAgIGNvbnN0IFt0b3BsZWZ0LCBib3R0b21yaWdodF0gPSBldmVudC5zZWxlY3Rpb247XG4gICAgLy8gY29uc3QgdHJhbnNmb3JtID0gc3ZnX21hcC5ub2RlKCkuX196b29tO1xuICAgIC8vIHRvcGxlZnRbMF0gPSAodG9wbGVmdFswXSAtIHRyYW5zZm9ybS54KSAvIHRyYW5zZm9ybS5rO1xuICAgIC8vIHRvcGxlZnRbMV0gPSAodG9wbGVmdFsxXSAtIHRyYW5zZm9ybS55KSAvIHRyYW5zZm9ybS5rO1xuICAgIC8vIGJvdHRvbXJpZ2h0WzBdID0gKGJvdHRvbXJpZ2h0WzBdIC0gdHJhbnNmb3JtLngpIC8gdHJhbnNmb3JtLms7XG4gICAgLy8gYm90dG9tcmlnaHRbMV0gPSAoYm90dG9tcmlnaHRbMV0gLSB0cmFuc2Zvcm0ueSkgLyB0cmFuc2Zvcm0uaztcbiAgICBjb25zdCByZWN0ID0gbmV3IFJlY3QodG9wbGVmdCwgYm90dG9tcmlnaHQpO1xuICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICBzZWxmLm1hcF9lbGVtLnRhcmdldF9sYXllci5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICBjb25zdCBpZCA9IGQucHJvcGVydGllcy5OVVRTMV8yMDE2O1xuICAgICAgICBpZiAoaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pIHtcbiAgICAgICAgICBhcHAuY29sb3JzW2lkXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICAgICAgICByZXR1cm4gY29sb3JfaGlnaGxpZ2h0O1xuICAgICAgICB9IGVsc2UgaWYgKGFwcC5jdXJyZW50X2lkcy5pbmRleE9mKGlkKSA8IDApIHtcbiAgICAgICAgICByZXR1cm4gY29sb3JfZGlzYWJsZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9wdHMpIHtcbiAgICAgICAgICB0aGlzLl9wdHMgPSB0aGlzLmdldEF0dHJpYnV0ZSgnZCcpLnNsaWNlKDEpLnNwbGl0KCdMJykubWFwKHB0ID0+IHB0LnNwbGl0KCcsJykubWFwKGEgPT4gK2EpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwdHMgPSB0aGlzLl9wdHM7XG4gICAgICAgIGZvciAobGV0IGl4ID0gMCwgbmJfcHRzID0gcHRzLmxlbmd0aDsgaXggPCBuYl9wdHM7IGl4KyspIHtcbiAgICAgICAgICBpZiAocmVjdC5jb250YWlucyhwdHNbaXhdKSkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvXTtcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gY29tcCh2YWx1ZSwgYXBwLmN1cnJlbnRfY29uZmlnLnJlZl92YWx1ZSwgYXBwLnNlcmllX2ludmVyc2VkKTtcbiAgICAgICAgICAgIGFwcC5jb2xvcnNbaWRdID0gY29sb3I7XG4gICAgICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2xvcl9jb3VudHJpZXM7XG4gICAgICB9KTtcbiAgICBzZWxmLl9mb2N1cy5zZWxlY3RBbGwoJy5iYXInKVxuICAgICAgLnN0eWxlKCdmaWxsJywgZCA9PiBhcHAuY29sb3JzW2QuaWRdIHx8IGNvbG9yX2NvdW50cmllcyk7XG4gICAgY29uc3QgaWRzID0gT2JqZWN0LmtleXMoYXBwLmNvbG9ycyk7XG4gICAgY29uc3QgcmFua3MgPSBpZHMubWFwKGQgPT4gYXBwLmN1cnJlbnRfaWRzLmluZGV4T2YoZC5pZCkgPiAtMSkubWFwKGQgPT4gYXBwLmN1cnJlbnRfcmFua3NbZF0pO1xuICAgIGlmIChyYW5rcy5sZW5ndGggPiAxKSB7XG4gICAgICBjb25zdCBjMSA9IHJhbmtzWzBdIC0gMTtcbiAgICAgIGNvbnN0IGMyID0gcmFua3NbcmFua3MubGVuZ3RoIC0gMV07XG4gICAgICBpZiAoYzEgPCBjdXJyZW50X3JhbmdlWzBdIHx8IGMyID4gY3VycmVudF9yYW5nZVsxXSkge1xuICAgICAgICBjdXJyZW50X3JhbmdlID0gW1xuICAgICAgICAgIHJhbmtzWzBdIC0gMSxcbiAgICAgICAgICByYW5rc1tyYW5rcy5sZW5ndGggLSAxXSxcbiAgICAgICAgXTtcbiAgICAgICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF9ib3R0b20nKS5jYWxsKFxuICAgICAgICAgIHNlbGYuYnJ1c2hfYm90dG9tLm1vdmUsXG4gICAgICAgICAgW2N1cnJlbnRfcmFuZ2VbMF0gKiAod2lkdGggLyBuYkZ0KSwgY3VycmVudF9yYW5nZVsxXSAqICh3aWR0aCAvIG5iRnQpXSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfcmFuZ2UgPSBbMCwgYXBwLmN1cnJlbnRfZGF0YS5sZW5ndGhdO1xuICAgICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF9ib3R0b20nKS5jYWxsKFxuICAgICAgICBzZWxmLmJydXNoX2JvdHRvbS5tb3ZlLCBzZWxmLngucmFuZ2UoKSk7XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlQ2hhbmdlUmVnaW9uKCkge1xuICAgIHRoaXMudXBkYXRlKCk7XG4gICAgLy8gdGhpcy51cGRhdGVNaW5pQmFycygpO1xuICAgIHRoaXMudXBkYXRlQ29udGV4dCgwLCBhcHAuY3VycmVudF9kYXRhLmxlbmd0aCk7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfYm90dG9tJykuY2FsbCh0aGlzLmJydXNoX2JvdHRvbS5tb3ZlLCB0aGlzLngucmFuZ2UoKSk7XG4gICAgdGhpcy5tYXBfZWxlbS5yZW1vdmVSZWN0QnJ1c2goKTtcbiAgICB0aGlzLm1hcF9lbGVtLnVwZGF0ZUxlZ2VuZCgpO1xuICB9XG5cbiAgY2hhbmdlU3R1ZHlab25lKCkge1xuICAgIG5iRnQgPSBhcHAuY3VycmVudF9kYXRhLmxlbmd0aDtcbiAgICB0aGlzLnguZG9tYWluKGFwcC5jdXJyZW50X2RhdGEubWFwKGZ0ID0+IGZ0LmlkKSk7XG4gICAgdGhpcy55LmRvbWFpbihbXG4gICAgICBkMy5taW4oYXBwLmN1cnJlbnRfZGF0YSwgZCA9PiBkLnJhdGlvKSAtIDIsXG4gICAgICBkMy5tYXgoYXBwLmN1cnJlbnRfZGF0YSwgZCA9PiBkLnJhdGlvKSxcbiAgICBdKTtcbiAgICB0aGlzLngyLmRvbWFpbih0aGlzLnguZG9tYWluKCkpO1xuICAgIHRoaXMueTIuZG9tYWluKHRoaXMueS5kb21haW4oKSk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgICAvLyB0aGlzLnVwZGF0ZU1pbmlCYXJzKCk7XG4gICAgdGhpcy51cGRhdGVDb250ZXh0KDAsIGFwcC5jdXJyZW50X2RhdGEubGVuZ3RoKTtcbiAgICAvLyBicnVzaF9ib3R0b20uZXh0ZW50KGN1cnJlbnRfcmFuZ2UpXG4gICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF9ib3R0b20nKS5jYWxsKHRoaXMuYnJ1c2hfYm90dG9tLm1vdmUsIHRoaXMueDIucmFuZ2UoKSk7XG4gICAgdGhpcy5tYXBfZWxlbS5yZW1vdmVSZWN0QnJ1c2goKTtcbiAgICBhcHAuY29sb3JzID0ge307XG4gICAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gIH1cblxuICByZW1vdmUoKSB7XG4gICAgdGhpcy5fZm9jdXMucmVtb3ZlKCk7XG4gICAgdGhpcy5jb250ZXh0LnJlbW92ZSgpO1xuICAgIHRoaXMubWFwX2VsZW0udW5iaW5kQnJ1c2goKTtcbiAgICB0aGlzLm1hcF9lbGVtID0gbnVsbDtcbiAgICBzdmdfYmFyLmh0bWwoJycpO1xuICB9XG5cbiAgYmluZE1hcChtYXBfZWxlbSkge1xuICAgIHRoaXMubWFwX2VsZW0gPSBtYXBfZWxlbTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYmluZFVJX0JhckNoYXJ0MShjaGFydCwgbWFwX2VsZW0pIHtcbiAgZDMuc2VsZWN0QWxsKCdzcGFuLmZpbHRlcl92JylcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCF0aGlzLmNsYXNzTGlzdC5jb250YWlucygnY2hlY2tlZCcpKSB7XG4gICAgICAgIGQzLnNlbGVjdEFsbCgnc3Bhbi5maWx0ZXJfdicpLmF0dHIoJ2NsYXNzJywgJ2ZpbHRlcl92IHNxdWFyZScpO1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2NoZWNrZWQnKTtcbiAgICAgICAgY29uc3QgZmlsdGVyX3R5cGUgPSB0aGlzLmdldEF0dHJpYnV0ZSgnZmlsdGVyLXZhbHVlJyk7XG4gICAgICAgIGFwcGx5RmlsdGVyKGFwcCwgZmlsdGVyX3R5cGUpO1xuICAgICAgICBjaGFydC51cGRhdGVDb21wbGV0dWRlKCk7XG4gICAgICAgIGNoYXJ0LmNoYW5nZVN0dWR5Wm9uZSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIGQzLnNlbGVjdEFsbCgnc3Bhbi50YXJnZXRfcmVnaW9uJylcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCF0aGlzLmNsYXNzTGlzdC5jb250YWlucygnY2hlY2tlZCcpKSB7XG4gICAgICAgIGQzLnNlbGVjdEFsbCgnc3Bhbi50YXJnZXRfcmVnaW9uJykuYXR0cignY2xhc3MnLCAndGFyZ2V0X3JlZ2lvbiBzcXVhcmUnKTtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XG4gICAgICAgIGNvbnN0IGlkX3JlZ2lvbiA9IHRoaXMuZ2V0QXR0cmlidXRlKCd2YWx1ZScpO1xuICAgICAgICBjaGFuZ2VSZWdpb24oYXBwLCBpZF9yZWdpb24pO1xuICAgICAgICBjaGFydC51cGRhdGVDaGFuZ2VSZWdpb24oKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICBkMy5zZWxlY3RBbGwoJ3NwYW4ubGFiZWxfY2hrJylcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5wcmV2aW91c1NpYmxpbmcuY2xpY2soKTtcbiAgICB9KTtcblxuICBjb25zdCBoZWFkZXJfbWFwX3NlY3Rpb24gPSBkMy5zZWxlY3QoJyNtYXBfc2VjdGlvbiA+ICNoZWFkZXJfbWFwJyk7XG5cbiAgaGVhZGVyX21hcF9zZWN0aW9uLnNlbGVjdCgnI2ltZ19yZWN0X3NlbGVjJylcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCF0aGlzLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgLy8gdGhpcy5zdHlsZS5maWx0ZXIgPSAnJztcbiAgICAgICAgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19tYXBfem9vbScpLnN0eWxlLmZpbHRlciA9ICdvcGFjaXR5KDI1JSknO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX21hcF96b29tJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfbWFwX3NlbGVjdCcpLnN0eWxlLmZpbHRlciA9ICdvcGFjaXR5KDI1JSknO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX21hcF9zZWxlY3QnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgc3ZnX21hcC5vbignLnpvb20nLCBudWxsKTtcbiAgICAgICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKS5zdHlsZSgnZGlzcGxheScsIG51bGwpO1xuICAgICAgICBtYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJykub24oJ2NsaWNrJywgbnVsbCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgaGVhZGVyX21hcF9zZWN0aW9uLnNlbGVjdCgnI2ltZ19tYXBfem9vbScpXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIC8vIHRoaXMuc3R5bGUuZmlsdGVyID0gJyc7XG4gICAgICAgIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfcmVjdF9zZWxlYycpLnN0eWxlLmZpbHRlciA9ICdvcGFjaXR5KDI1JSknO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX3JlY3Rfc2VsZWMnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19tYXBfc2VsZWN0Jykuc3R5bGUuZmlsdGVyID0gJ29wYWNpdHkoMjUlKSc7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfbWFwX3NlbGVjdCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICBzdmdfbWFwLmNhbGwobWFwX2VsZW0uem9vbV9tYXApO1xuICAgICAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpLmNhbGwobWFwX2VsZW0uYnJ1c2hfbWFwLm1vdmUsIG51bGwpO1xuICAgICAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgbWFwX2VsZW0udGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpLm9uKCdjbGljaycsIG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIGhlYWRlcl9tYXBfc2VjdGlvbi5zZWxlY3QoJyNpbWdfbWFwX3NlbGVjdCcpXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIC8vIHRoaXMuc3R5bGUuZmlsdGVyID0gJyc7XG4gICAgICAgIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfcmVjdF9zZWxlYycpLnN0eWxlLmZpbHRlciA9ICdvcGFjaXR5KDI1JSknO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX3JlY3Rfc2VsZWMnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19tYXBfem9vbScpLnN0eWxlLmZpbHRlciA9ICdvcGFjaXR5KDI1JSknO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX21hcF96b29tJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgIHN2Z19tYXAub24oJy56b29tJywgbnVsbCk7XG4gICAgICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJykuY2FsbChtYXBfZWxlbS5icnVzaF9tYXAubW92ZSwgbnVsbCk7XG4gICAgICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJykuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICBtYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXTtcbiAgICAgICAgICAgIGlmIChhcHAuY3VycmVudF9pZHMuaW5kZXhPZihpZCkgPCAwIHx8IGlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKSByZXR1cm47XG4gICAgICAgICAgICBpZiAoYXBwLmNvbG9yc1tpZF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBhcHAuY29sb3JzW2lkXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMpLmF0dHIoJ2ZpbGwnLCBjb2xvcl9jb3VudHJpZXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc3QgY29sb3IgPSBjb21wKFxuICAgICAgICAgICAgICAgIGQucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcucmF0aW9dLFxuICAgICAgICAgICAgICAgIGFwcC5jdXJyZW50X2NvbmZpZy5yZWZfdmFsdWUsXG4gICAgICAgICAgICAgICAgYXBwLnNlcmllX2ludmVyc2VkKTtcbiAgICAgICAgICAgICAgYXBwLmNvbG9yc1tpZF0gPSBjb2xvcjtcbiAgICAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMpLmF0dHIoJ2ZpbGwnLCBjb2xvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGFydC51cGRhdGUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICBjb25zdCBoZWFkZXJfdGFibGVfc2VjdGlvbiA9IGQzLnNlbGVjdCgnI21hcF9zZWN0aW9uJylcbiAgICAgIC5pbnNlcnQoJ3AnLCAnc3ZnJylcbiAgICAgIC5hdHRyKCdpZCcsICdoZWFkZXJfdGFibGUnKVxuICAgICAgLnN0eWxlcyh7IGRpc3BsYXk6ICdub25lJywgbWFyZ2luOiAnYXV0bycsICd0ZXh0LWFsaWduJzogJ3JpZ2h0JyB9KTtcblxuICBoZWFkZXJfdGFibGVfc2VjdGlvbi5hcHBlbmQoJ3NwYW4nKVxuICAgIC5hdHRyKCdjbGFzcycsICdidXR0b25fYmx1ZScpXG4gICAgLmh0bWwoJ0NTVicpXG4gICAgLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBbXG4gICAgICAgICdpZCxOdW3DqXJhdGV1cixEw6lub21pbmF0ZXVyLFJhdGlvLFJhbmdcXHJcXG4nLFxuICAgICAgICBhcHAuY3VycmVudF9kYXRhLm1hcChkID0+IFtkLmlkLCBkLm51bSwgZC5kZW51bSwgZC5yYXRpbywgZC5yYW5nXS5qb2luKCcsJykpLmpvaW4oJ1xcclxcbicpLFxuICAgICAgXS5qb2luKCcnKTtcbiAgICAgIGNvbnN0IGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICBlbGVtLnNldEF0dHJpYnV0ZSgnaHJlZicsIGBkYXRhOnRleHQvcGxhaW47Y2hhcnNldD11dGYtOCwke2VuY29kZVVSSUNvbXBvbmVudChjb250ZW50KX1gKTtcbiAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsICd0YWJsZS5jc3YnKTtcbiAgICAgIGVsZW0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWxlbSk7XG4gICAgICBlbGVtLmNsaWNrKCk7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGVsZW0pO1xuICAgIH0pO1xuXG4gIGNvbnN0IGJ1dHRvbnNfdW5kZXJfY2hhcnQgPSBkMy5zZWxlY3QoJyNiYXJfc2VjdGlvbicpXG4gICAgLmFwcGVuZCgnZGl2JylcbiAgICAuYXR0cignaWQnLCAnYnV0dG9uc191bmRlcl9jaGFydCcpXG4gICAgLnN0eWxlcyh7IHBhZGRpbmc6ICcwIDEwcHggMTBweCAxMHB4JywgJ3RleHQtYWxpZ24nOiAnY2VudGVyJyB9KTtcblxuICBidXR0b25zX3VuZGVyX2NoYXJ0LmFwcGVuZCgnYnV0dG9uJylcbiAgICAuYXR0cnMoeyBjbGFzczogJ2J1dHRvbl9ibHVlJywgaWQ6ICdidG5fYWJvdmVfbWVhbicgfSlcbiAgICAudGV4dCgnPCDDoCBsYSBtb3llbm5lJylcbiAgICAub24oJ2NsaWNrJywgKCkgPT4gY2hhcnQuc2VsZWN0QmVsb3dNZWFuKCkpO1xuXG4gIGJ1dHRvbnNfdW5kZXJfY2hhcnQuYXBwZW5kKCdidXR0b24nKVxuICAgIC5hdHRycyh7IGNsYXNzOiAnYnV0dG9uX2JsdWUnLCBpZDogJ2J0bl9iZWxvd19tZWFuJyB9KVxuICAgIC50ZXh0KCc+IMOgIGxhIG1veWVubmUnKVxuICAgIC5vbignY2xpY2snLCAoKSA9PiBjaGFydC5zZWxlY3RBYm92ZU1lYW4oKSk7XG5cbiAgYnV0dG9uc191bmRlcl9jaGFydC5hcHBlbmQoJ2J1dHRvbicpXG4gICAgLmF0dHJzKHsgY2xhc3M6ICdidXR0b25fYmx1ZScsIGlkOiAnYnRuX2Fib3ZlX215X3JlZ2lvbicgfSlcbiAgICAudGV4dCgnPCDDoCBtYSByw6lnaW9uJylcbiAgICAub24oJ2NsaWNrJywgKCkgPT4gY2hhcnQuc2VsZWN0QmVsb3dNeVJlZ2lvbigpKTtcblxuICBidXR0b25zX3VuZGVyX2NoYXJ0LmFwcGVuZCgnYnV0dG9uJylcbiAgICAuYXR0cnMoeyBjbGFzczogJ2J1dHRvbl9ibHVlJywgaWQ6ICdidG5fYmVsb3dfbXlfcmVnaW9uJyB9KVxuICAgIC50ZXh0KCc+IMOgIG1hIHLDqWdpb24nKVxuICAgIC5vbignY2xpY2snLCAoKSA9PiBjaGFydC5zZWxlY3RBYm92ZU15UmVnaW9uKCkpO1xuXG4gIGJpbmRUb3BCdXR0b25zKGNoYXJ0LCBtYXBfZWxlbSk7XG59XG4iLCJpbXBvcnQgeyBhcHAgfSBmcm9tICcuLy4uL21haW4nO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlVG9wTWVudSgpIHtcbiAgY29uc3QgdG9wX21lbnUgPSBkMy5zZWxlY3QoJyNtZW51dG9wJylcbiAgICAuc3R5bGVzKHsgJ2ZvbnQtZmFtaWx5JzogXCInU2lnbmlrYScsIHNhbnMtc2VyaWZcIiwgJ2ZvbnQtc2l6ZSc6ICcwLjgwZW0nLCBwYWRkaW5nOiAnMC4zcHgnIH0pO1xuXG4gIHRvcF9tZW51XG4gICAgLmFwcGVuZCgnZGl2JylcbiAgICAuYXR0cnMoeyBjbGFzczogJ3RpdGxlX21lbnUgdHlwZV9jaGFydCcsIHZhbHVlOiAnQmFyQ2hhcnQxJyB9KVxuICAgIC5zdHlsZXMoeyB3aWR0aDogJzgwcHgnLCBmbG9hdDogJ2xlZnQnLCBtYXJnaW46ICcwIDNweCcsIGN1cnNvcjogJ3BvaW50ZXInIH0pXG4gICAgLmh0bWwoJ1Jhbmc8YnI+KDEgaW5kaXZpZHUpJyk7XG5cbiAgdG9wX21lbnVcbiAgICAuYXBwZW5kKCdkaXYnKVxuICAgIC5hdHRyKCdjbGFzcycsICd0aXRsZV9tZW51IHR5cGVfY2hhcnQnKVxuICAgIC5zdHlsZXMoeyB3aWR0aDogJzgwcHgnLCBmbG9hdDogJ2xlZnQnLCBtYXJnaW46ICcwIDNweCcsIGN1cnNvcjogJ3BvaW50ZXInIH0pXG4gICAgLmh0bWwoJ1Jhbmc8YnI+KDIgaW5kaXZpZHVzKScpO1xuXG4gIHRvcF9tZW51XG4gICAgLmFwcGVuZCgnZGl2JylcbiAgICAuYXR0cnMoeyBjbGFzczogJ3RpdGxlX21lbnUgdHlwZV9jaGFydCcsIHZhbHVlOiAnQnViYmxlQ2hhcnQxJyB9KVxuICAgIC5zdHlsZXMoeyB3aWR0aDogJzgwcHgnLCBmbG9hdDogJ2xlZnQnLCBtYXJnaW46ICcwIDNweCcsIGN1cnNvcjogJ3BvaW50ZXInIH0pXG4gICAgLmh0bWwoJ1Jhbmc8YnI+KDIrIGluZGl2aWR1cyknKTtcblxuICB0b3BfbWVudVxuICAgIC5hcHBlbmQoJ2RpdicpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ3RpdGxlX21lbnUgdHlwZV9jaGFydCcpXG4gICAgLnN0eWxlcyh7IHdpZHRoOiAnODBweCcsIGZsb2F0OiAnbGVmdCcsIG1hcmdpbjogJzAgM3B4JywgY3Vyc29yOiAncG9pbnRlcicgfSlcbiAgICAuaHRtbCgnUG9zaXRpb248YnI+KDEgaW5kaXZpZHUpJyk7XG5cbiAgdG9wX21lbnVcbiAgICAuYXBwZW5kKCdkaXYnKVxuICAgIC5hdHRyKCdjbGFzcycsICd0aXRsZV9tZW51IHR5cGVfY2hhcnQnKVxuICAgIC5zdHlsZXMoeyB3aWR0aDogJzgwcHgnLCBmbG9hdDogJ2xlZnQnLCBtYXJnaW46ICcwIDNweCcsIGN1cnNvcjogJ3BvaW50ZXInIH0pXG4gICAgLmh0bWwoJ1Bvc2l0aW9uPGJyPigyIGluZGl2aWR1cyknKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VIZWFkZXJNYXBTZWN0aW9uKCkge1xuICBjb25zdCBoZWFkZXJfbWFwX3NlY3Rpb24gPSBkMy5zZWxlY3QoJyNtYXBfc2VjdGlvbicpXG4gICAgLmluc2VydCgncCcsICdzdmcnKVxuICAgIC5hdHRyKCdpZCcsICdoZWFkZXJfbWFwJylcbiAgICAuc3R5bGUoJ21hcmdpbicsICcwIDAgMCAxMHB4Jyk7XG5cbiAgaGVhZGVyX21hcF9zZWN0aW9uLmluc2VydCgnaW1nJylcbiAgICAuYXR0cnMoe1xuICAgICAgY2xhc3M6ICdtYXBfYnV0dG9uIGFjdGl2ZScsXG4gICAgICB3aWR0aDogMjAsXG4gICAgICBoZWlnaHQ6IDIwLFxuICAgICAgc3JjOiAnaW1nL2dpbXAtdG9vbC1yZWN0LXNlbGVjdC5wbmcnLFxuICAgICAgaWQ6ICdpbWdfcmVjdF9zZWxlYycsXG4gICAgfSk7XG5cbiAgaGVhZGVyX21hcF9zZWN0aW9uLmluc2VydCgnaW1nJylcbiAgICAuYXR0cnMoe1xuICAgICAgY2xhc3M6ICdtYXBfYnV0dG9uJyxcbiAgICAgIHdpZHRoOiAyMCxcbiAgICAgIGhlaWdodDogMjAsXG4gICAgICBzcmM6ICdpbWcvZ2ltcC10b29sLXpvb20ucG5nJyxcbiAgICAgIGlkOiAnaW1nX21hcF96b29tJyxcbiAgICB9KTtcblxuICBoZWFkZXJfbWFwX3NlY3Rpb24uaW5zZXJ0KCdpbWcnKVxuICAgIC5hdHRycyh7XG4gICAgICBjbGFzczogJ21hcF9idXR0b24nLFxuICAgICAgd2lkdGg6IDIwLFxuICAgICAgaGVpZ2h0OiAyMCxcbiAgICAgIHNyYzogJ2ltZy9naW1wLWN1cnNvci5wbmcnLFxuICAgICAgaWQ6ICdpbWdfbWFwX3NlbGVjdCcsXG4gICAgfSk7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VIZWFkZXJDaGFydCgpIHtcbiAgY29uc3QgaGVhZGVyX2Jhcl9zZWN0aW9uID0gZDMuc2VsZWN0KCcjYmFyX3NlY3Rpb24nKVxuICAgIC5pbnNlcnQoJ3AnLCAnc3ZnJylcbiAgICAuc3R5bGUoJ21hcmdpbi1ib3R0b20nLCAnMCcpXG4gICAgLnN0eWxlKCdjbGVhcicsICdib3RoJyk7XG5cbiAgaGVhZGVyX2Jhcl9zZWN0aW9uLmluc2VydCgnc3BhbicpXG4gICAgLnN0eWxlcyh7XG4gICAgICAnZm9udC1mYW1pbHknOiAnXFwnU2lnbmlrYVxcJywgc2Fucy1zZXJpZicsXG4gICAgICAnZm9udC13ZWlnaHQnOiAnODAwJyxcbiAgICAgICdmb250LXNpemUnOiAnMTRweCcsXG4gICAgICAnbWFyZ2luLXRvcCc6ICcxMnB4JyxcbiAgICAgICdtYXJnaW4tbGVmdCc6ICc0MHB4JyxcbiAgICAgIGZsb2F0OiAnbGVmdCcsXG4gICAgfSlcbiAgICAuYXR0cignY2xhc3MnLCAndGl0bGVfdmFyaWFibGUnKVxuICAgIC5odG1sKGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpb19wcmV0dHlfbmFtZSk7XG5cbiAgaGVhZGVyX2Jhcl9zZWN0aW9uLmluc2VydCgnaW1nJylcbiAgICAuYXR0cnMoe1xuICAgICAgd2lkdGg6IDI0LFxuICAgICAgaGVpZ2h0OiAyNCxcbiAgICAgIHNyYzogJ2ltZy9lZGl0LXRhYmxlLWluc2VydC1yb3ctYWJvdmUuc3ZnJyxcbiAgICAgIGlkOiAnaW1nX3RhYmxlJyxcbiAgICB9KVxuICAgIC5zdHlsZXMoeyBtYXJnaW46ICczcHgnLCBmbG9hdDogJ3JpZ2h0JyB9KVxuICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRhdGFUYWJsZS13cmFwcGVyJykuc3R5bGUuZGlzcGxheSkge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3ZnX21hcCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzdmdfbGVnZW5kJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2hlYWRlcl9tYXAnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaGVhZGVyX3RhYmxlJykuc3R5bGUuZGlzcGxheSA9IG51bGw7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kYXRhVGFibGUtd3JhcHBlcicpLnN0eWxlLmRpc3BsYXkgPSBudWxsO1xuICAgICAgICB0aGlzLnN0eWxlLmZpbHRlciA9ICdpbnZlcnQoNzUlKSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3ZnX21hcCcpLnN0eWxlLmRpc3BsYXkgPSBudWxsO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3ZnX2xlZ2VuZCcpLnN0eWxlLmRpc3BsYXkgPSBudWxsO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaGVhZGVyX21hcCcpLnN0eWxlLmRpc3BsYXkgPSBudWxsO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaGVhZGVyX3RhYmxlJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRhdGFUYWJsZS13cmFwcGVyJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgdGhpcy5zdHlsZS5maWx0ZXIgPSBudWxsO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIGhlYWRlcl9iYXJfc2VjdGlvbi5pbnNlcnQoJ2ltZycpXG4gICAgLmF0dHJzKHtcbiAgICAgIHdpZHRoOiAyNCxcbiAgICAgIGhlaWdodDogMjQsXG4gICAgICBzcmM6ICdpbWcvcHJpbnRlci5zdmcnLFxuICAgICAgaWQ6ICdpbWdfcHJpbnRlcicsXG4gICAgfSlcbiAgICAuc3R5bGVzKHsgbWFyZ2luOiAnM3B4JywgZmxvYXQ6ICdyaWdodCcgfSk7XG5cbiAgaGVhZGVyX2Jhcl9zZWN0aW9uLmluc2VydCgnaW1nJylcbiAgICAuYXR0cnMoe1xuICAgICAgd2lkdGg6IDI0LFxuICAgICAgaGVpZ2h0OiAyNCxcbiAgICAgIHNyYzogJ2ltZy9ndGstaW5mby5zdmcnLFxuICAgICAgaWQ6ICdpbWdfaW5mbycsXG4gICAgfSlcbiAgICAuc3R5bGVzKHsgbWFyZ2luOiAnM3B4JywgZmxvYXQ6ICdyaWdodCcgfSk7XG59XG4iLCJpbXBvcnQgeyBjb21wLCBtYXRoX3JvdW5kLCBtYXRoX2FicywgUmVjdCwgUHJvcFNpemVyLCBwcmVwYXJlVG9vbHRpcCB9IGZyb20gJy4vLi4vaGVscGVycyc7XG5pbXBvcnQgeyBjb2xvcl9kaXNhYmxlZCwgY29sb3JfY291bnRyaWVzLCBjb2xvcl9zdXAsIGNvbG9yX2luZiwgY29sb3JfaGlnaGxpZ2h0IH0gZnJvbSAnLi8uLi9vcHRpb25zJztcbmltcG9ydCB7IHN2Z19tYXAgfSBmcm9tICcuLy4uL21hcCc7XG5pbXBvcnQgeyBhcHBseUZpbHRlciwgY2hhbmdlUmVnaW9uIH0gZnJvbSAnLi8uLi9wcmVwYXJlX2RhdGEnO1xuaW1wb3J0IHsgYXBwLCBiaW5kVG9wQnV0dG9ucyB9IGZyb20gJy4vLi4vLi4vbWFpbic7XG5cbmNvbnN0IHN2Z19iYXIgPSBkMy5zZWxlY3QoJyNzdmdfYmFyJyk7XG5jb25zdCBtYXJnaW4gPSB7IHRvcDogMjAsIHJpZ2h0OiAyMCwgYm90dG9tOiA0MCwgbGVmdDogMzAgfTtcblxuY29uc3Qgd2lkdGggPSArc3ZnX2Jhci5hdHRyKCd3aWR0aCcpIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQsXG4gIGhlaWdodCA9ICtzdmdfYmFyLmF0dHIoJ2hlaWdodCcpIC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XG5cbmV4cG9ydCBjbGFzcyBCdWJibGVDaGFydDEge1xuICBjb25zdHJ1Y3RvcihyZWZfZGF0YSkge1xuICAgIHRoaXMuZGF0YSA9IHJlZl9kYXRhLnNsaWNlKCkuc29ydChcbiAgICAgIChhLCBiKSA9PiBiW2FwcC5jdXJyZW50X2NvbmZpZy5udW1dIC0gYVthcHAuY3VycmVudF9jb25maWcubnVtXSk7XG4gICAgdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uID0gW107XG4gICAgY29uc3QgZHJhd19ncm91cCA9IHN2Z19iYXJcbiAgICAgIC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHttYXJnaW4ubGVmdH0sICR7bWFyZ2luLnRvcH0pYCk7XG4gICAgZHJhd19ncm91cC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHsgY2xhc3M6ICdheGlzIGF4aXMtLXgnLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoMCwgJHtoZWlnaHQgLyAyfSlgIH0pO1xuICAgIHRoaXMuZHJhd19ncm91cCA9IGRyYXdfZ3JvdXA7XG4gICAgcHJlcGFyZVRvb2x0aXAoc3ZnX2Jhcik7XG5cbiAgICBjb25zdCBzZWxlY3Rpb25fY2xvc2UgPSBkMy5zZWxlY3Qoc3ZnX2Jhci5ub2RlKCkucGFyZW50RWxlbWVudClcbiAgICAgIC5hcHBlbmQoJ2RpdicpXG4gICAgICAuYXR0cignaWQnLCAnbWVudV9zZWxlY3Rpb24nKVxuICAgICAgLnN0eWxlcyh7IHRvcDogJy0xMDBweCcsICdtYXJnaW4tbGVmdCc6ICczMHB4JywgcG9zaXRpb246ICdyZWxhdGl2ZScgfSlcbiAgICAgIC5hcHBlbmQoJ3AnKTtcblxuICAgIHNlbGVjdGlvbl9jbG9zZS5hcHBlbmQoJ3NwYW4nKVxuICAgICAgLmF0dHJzKHsgdmFsdWU6ICdjbG9zZScsIGNsYXNzOiAndHlwZV9zZWxlY3Rpb24gc3F1YXJlIGNoZWNrZWQnIH0pO1xuICAgIHNlbGVjdGlvbl9jbG9zZS5hcHBlbmQoJ3NwYW4nKVxuICAgICAgLmF0dHJzKHsgY2xhc3M6ICdsYWJlbF9jaGsnIH0pXG4gICAgICAuaHRtbCgnTGVzJyk7XG4gICAgc2VsZWN0aW9uX2Nsb3NlLmFwcGVuZCgnaW5wdXQnKVxuICAgICAgLmF0dHJzKHsgY2xhc3M6ICduYl9zZWxlY3QnLCB0eXBlOiAnbnVtYmVyJyB9KVxuICAgICAgLnByb3BlcnR5KCd2YWx1ZScsIDUpO1xuICAgIHNlbGVjdGlvbl9jbG9zZS5hcHBlbmQoJ3NwYW4nKVxuICAgICAgLmF0dHJzKHsgY2xhc3M6ICdsYWJlbF9jaGsnIH0pXG4gICAgICAuaHRtbCgncsOpZ2lvbnMgbGVzIHBsdXMgcHJvY2hlcycpO1xuICAgIHRoaXMubXlfcmVnaW9uX3ZhbHVlID0gdGhpcy5kYXRhXG4gICAgICAgIC5maWx0ZXIoZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVxuICAgICAgICAubWFwKGQgPT4gZC5yYXRpbylbMF07XG4gICAgdGhpcy5iaW5kTWVudSgpO1xuICAgIHRoaXMuYXBwbHlTZWxlY3Rpb24oNSwgJ2Nsb3NlJyk7XG5cbiAgICAvLyBEZWFjdGl2YXRlIHRoZSByZWN0IGJydXNoIHNlbGVjdGlvbiBvbiB0aGUgbWFwXG4gICAgLy8gd2hlbiB0aGUgdXNlciBwcmVzcyB0aGUgQ3RybCBrZXk6XG4gICAgZG9jdW1lbnQub25rZXlkb3duID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQgJiYgZXZlbnQua2V5ID09PSAnQ29udHJvbCcpIHtcbiAgICAgICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKVxuICAgICAgICAgIC5zZWxlY3RBbGwoJy5zZWxlY3Rpb24sIC5vdmVybGF5JylcbiAgICAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgfVxuICAgIH07XG4gICAgZG9jdW1lbnQub25rZXl1cCA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50LmtleSA9PT0gJ0NvbnRyb2wnKSB7XG4gICAgICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJylcbiAgICAgICAgICAuc2VsZWN0QWxsKCcuc2VsZWN0aW9uLCAub3ZlcmxheScpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7XG4gICAgICB9XG4gICAgfTtcblxuICB9XG5cbiAgYXBwbHlTZWxlY3Rpb24obmIsIHR5cGVfc2VsZWN0aW9uID0gJ2Nsb3NlJykge1xuICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICBpZiAobmIgPiAwKSB7XG4gICAgICBjb25zdCBteV9yZWdpb25fdmFsdWUgPSB0aGlzLm15X3JlZ2lvbl92YWx1ZTtcbiAgICAgIHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbiA9IHRoaXMuZGF0YS5tYXAoZCA9PiAoe1xuICAgICAgICBkaXN0OiBtYXRoX2FicyhkLnJhdGlvIC0gbXlfcmVnaW9uX3ZhbHVlKSxcbiAgICAgICAgcmF0aW86IGQucmF0aW8sXG4gICAgICAgIGlkOiBkLmlkIH0pKTtcbiAgICAgIGlmICh0eXBlX3NlbGVjdGlvbiA9PT0gJ2Nsb3NlJykge1xuICAgICAgICB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24uc29ydCgoYSwgYikgPT4gYS5kaXN0IC0gYi5kaXN0KTtcbiAgICAgICAgdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uID0gdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uLnNsaWNlKDEsIG5iICsgMSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVfc2VsZWN0aW9uID09PSAnZGlzdGFudCcpIHtcbiAgICAgICAgdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uLnNvcnQoKGEsIGIpID0+IGIuZGlzdCAtIGEuZGlzdCk7XG4gICAgICAgIHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbiA9IHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbi5zbGljZSgwLCBuYik7XG4gICAgICB9XG4gICAgICB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24uZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgICBhcHAuY29sb3JzW2VsZW0uaWRdID0gZWxlbS5yYXRpbyA8IG15X3JlZ2lvbl92YWx1ZSA/IGNvbG9yX2luZiA6IGNvbG9yX3N1cDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24gPSBbXTtcbiAgICB9XG4gICAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhO1xuICAgIGNvbnN0IGhpZ2hsaWdodF9zZWxlY3Rpb24gPSB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb247XG4gICAgY29uc3QgbXlfcmVnaW9uX3ZhbHVlID0gdGhpcy5teV9yZWdpb25fdmFsdWU7XG4gICAgbGV0IF9taW47XG4gICAgbGV0IF9tYXg7XG4gICAgaWYgKGhpZ2hsaWdodF9zZWxlY3Rpb24ubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgZGlzdF9taW4gPSBteV9yZWdpb25fdmFsdWUgLSBkMy5taW4oaGlnaGxpZ2h0X3NlbGVjdGlvbiwgZCA9PiBkLnJhdGlvKTtcbiAgICAgIGNvbnN0IGRpc3RfbWF4ID0gZDMubWF4KGhpZ2hsaWdodF9zZWxlY3Rpb24sIGQgPT4gZC5yYXRpbykgLSBteV9yZWdpb25fdmFsdWU7XG4gICAgICBjb25zdCBkaXN0X2F4aXMgPSBNYXRoLm1heChkaXN0X21pbiwgZGlzdF9tYXgpO1xuICAgICAgY29uc3QgbWFyZ2luX21pbl9tYXggPSBtYXRoX3JvdW5kKGRpc3RfYXhpcykgLyA4O1xuICAgICAgX21pbiA9IG15X3JlZ2lvbl92YWx1ZSAtIGRpc3RfYXhpcyAtIG1hcmdpbl9taW5fbWF4O1xuICAgICAgX21heCA9IG15X3JlZ2lvbl92YWx1ZSArIGRpc3RfYXhpcyArIG1hcmdpbl9taW5fbWF4O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBkaXN0X21pbiA9IG15X3JlZ2lvbl92YWx1ZSAtIGQzLm1pbihkYXRhLCBkID0+IGQucmF0aW8pO1xuICAgICAgY29uc3QgZGlzdF9tYXggPSBkMy5tYXgoZGF0YSwgZCA9PiBkLnJhdGlvKSAtIG15X3JlZ2lvbl92YWx1ZTtcbiAgICAgIGNvbnN0IGRpc3RfYXhpcyA9IE1hdGgubWF4KGRpc3RfbWluLCBkaXN0X21heCk7XG4gICAgICBjb25zdCBtYXJnaW5fbWluX21heCA9IG1hdGhfcm91bmQoZGlzdF9heGlzKSAvIDg7XG4gICAgICBfbWluID0gbXlfcmVnaW9uX3ZhbHVlIC0gZGlzdF9heGlzIC0gbWFyZ2luX21pbl9tYXg7XG4gICAgICBfbWF4ID0gbXlfcmVnaW9uX3ZhbHVlICsgZGlzdF9heGlzICsgbWFyZ2luX21pbl9tYXg7XG4gICAgfVxuXG4gICAgY29uc3QgcHJvcF9zaXplciA9IG5ldyBQcm9wU2l6ZXIoZDMubWF4KGRhdGEsIGQgPT4gZC5udW0pLCAzMCk7XG4gICAgY29uc3QgeFNjYWxlID0gZDMuc2NhbGVMaW5lYXIoKVxuICAgICAgLmRvbWFpbihbX21pbiwgX21heF0pXG4gICAgICAucmFuZ2UoWzAsIHdpZHRoXSk7XG5cbiAgICB0aGlzLmRyYXdfZ3JvdXAuc2VsZWN0KCdnLmF4aXMtLXgnKVxuICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgLmR1cmF0aW9uKDIyNSlcbiAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeFNjYWxlKSk7XG5cbiAgICBjb25zdCBidWJibGVzID0gdGhpcy5kcmF3X2dyb3VwLnNlbGVjdEFsbCgnLmJ1YmJsZScpXG4gICAgICAuZGF0YShkYXRhKTtcblxuICAgIGJ1YmJsZXNcbiAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgIC5kdXJhdGlvbigyMjUpXG4gICAgICAuYXR0cnMoKGQpID0+IHtcbiAgICAgICAgbGV0IHhfdmFsdWUgPSB4U2NhbGUoZC5yYXRpbyk7XG4gICAgICAgIGlmICh4X3ZhbHVlID4gd2lkdGgpIHhfdmFsdWUgPSB3aWR0aCArIDIwMDtcbiAgICAgICAgZWxzZSBpZiAoeF92YWx1ZSA8IDApIHhfdmFsdWUgPSAtMjAwO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGN4OiB4X3ZhbHVlLFxuICAgICAgICAgIGN5OiBoZWlnaHQgLyAyLFxuICAgICAgICAgIHI6IHByb3Bfc2l6ZXIuc2NhbGUoZC5udW0pLFxuICAgICAgICB9O1xuICAgICAgfSlcbiAgICAgIC5zdHlsZXMoZCA9PiAoe1xuICAgICAgICBmaWxsOiBhcHAuY29sb3JzW2QuaWRdIHx8IGNvbG9yX2NvdW50cmllcyxcbiAgICAgIH0pKTtcblxuICAgIGJ1YmJsZXNcbiAgICAgIC5lbnRlcigpXG4gICAgICAuaW5zZXJ0KCdjaXJjbGUnKVxuICAgICAgLnN0eWxlcyhkID0+ICh7XG4gICAgICAgIGZpbGw6IGFwcC5jb2xvcnNbZC5pZF0gfHwgY29sb3JfY291bnRyaWVzLFxuICAgICAgfSkpXG4gICAgICAudHJhbnNpdGlvbigpXG4gICAgICAuZHVyYXRpb24oMjI1KVxuICAgICAgLmF0dHJzKChkKSA9PiB7XG4gICAgICAgIGxldCB4X3ZhbHVlID0geFNjYWxlKGQucmF0aW8pO1xuICAgICAgICBpZiAoeF92YWx1ZSA+IHdpZHRoKSB4X3ZhbHVlID0gd2lkdGggKyAyMDA7XG4gICAgICAgIGVsc2UgaWYgKHhfdmFsdWUgPCAwKSB4X3ZhbHVlID0gLTIwMDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBjbGFzczogJ2J1YmJsZScsXG4gICAgICAgICAgY3g6IHhfdmFsdWUsXG4gICAgICAgICAgY3k6IGhlaWdodCAvIDIsXG4gICAgICAgICAgcjogcHJvcF9zaXplci5zY2FsZShkLm51bSksXG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgIGJ1YmJsZXMuZXhpdCgpLnRyYW5zaXRpb24oKS5kdXJhdGlvbigyMjUpLnJlbW92ZSgpO1xuXG4gICAgdGhpcy5kcmF3X2dyb3VwLnNlbGVjdEFsbCgnLmJ1YmJsZScpXG4gICAgICAub24oJ21vdXNlb3ZlcicsICgpID0+IHtcbiAgICAgICAgc3ZnX2Jhci5zZWxlY3QoJy50b29sdGlwJykuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTtcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlb3V0JywgKCkgPT4ge1xuICAgICAgICBzdmdfYmFyLnNlbGVjdCgnLnRvb2x0aXAnKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICBjb25zdCB0b29sdGlwID0gc3ZnX2Jhci5zZWxlY3QoJy50b29sdGlwJyk7XG4gICAgICAgIHRvb2x0aXBcbiAgICAgICAgICAuc2VsZWN0KCd0ZXh0LmlkX2ZlYXR1cmUnKVxuICAgICAgICAgIC50ZXh0KGAke2QuaWR9YCk7XG4gICAgICAgIHRvb2x0aXAuc2VsZWN0KCd0ZXh0LnZhbHVlX2ZlYXR1cmUxJylcbiAgICAgICAgICAudGV4dChgUmF0aW86ICR7TWF0aC5yb3VuZChkLnJhdGlvKX1gKTtcbiAgICAgICAgdG9vbHRpcC5zZWxlY3QoJ3RleHQudmFsdWVfZmVhdHVyZTInKVxuICAgICAgICAgIC50ZXh0KGBTdG9jazogJHtNYXRoLnJvdW5kKGQubnVtKX1gKTtcbiAgICAgICAgdG9vbHRpcFxuICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7W2QzLm1vdXNlKHRoaXMpWzBdIC0gNSwgZDMubW91c2UodGhpcylbMV0gLSA0NV19KWApO1xuICAgICAgfSk7XG4gIH1cbiAgdXBkYXRlQ29tcGxldHVkZSgpIHtcbiAgICB0aGlzLmNvbXBsZXR1ZGVcbiAgICAgIC50ZXh0KGBDb21wbMOpdHVkZSA6ICR7YXBwLmNvbXBsZXR1ZGV9JWApO1xuICB9XG5cbiAgdXBkYXRlTWFwUmVnaW8oKSB7XG4gICAgaWYgKCF0aGlzLm1hcF9lbGVtKSByZXR1cm47XG4gICAgdGhpcy5tYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5hdHRyKCdmaWxsJywgZCA9PiAoYXBwLmN1cnJlbnRfaWRzLmluZGV4T2YoZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXSkgPiAtMVxuICAgICAgICA/IChhcHAuY29sb3JzW2QucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV1dIHx8IGNvbG9yX2NvdW50cmllcylcbiAgICAgICAgOiBjb2xvcl9kaXNhYmxlZCkpO1xuICB9XG5cbiAgaGFuZGxlX2JydXNoX21hcChldmVudCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IFt0b3BsZWZ0LCBib3R0b21yaWdodF0gPSBldmVudC5zZWxlY3Rpb247XG4gICAgY29uc3QgcmVjdCA9IG5ldyBSZWN0KHRvcGxlZnQsIGJvdHRvbXJpZ2h0KTtcbiAgICBhcHAuY29sb3JzID0ge307XG4gICAgc2VsZi5oaWdobGlnaHRfc2VsZWN0aW9uID0gW107XG4gICAgc2VsZi5tYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5hdHRyKCdmaWxsJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgY29uc3QgaWQgPSBkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dO1xuICAgICAgICBpZiAoaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pIHtcbiAgICAgICAgICBhcHAuY29sb3JzW2lkXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICAgICAgICByZXR1cm4gY29sb3JfaGlnaGxpZ2h0O1xuICAgICAgICB9IGVsc2UgaWYgKGFwcC5jdXJyZW50X2lkcy5pbmRleE9mKGlkKSA8IDApIHtcbiAgICAgICAgICByZXR1cm4gY29sb3JfZGlzYWJsZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9wdHMpIHtcbiAgICAgICAgICB0aGlzLl9wdHMgPSB0aGlzLmdldEF0dHJpYnV0ZSgnZCcpLnNsaWNlKDEpLnNwbGl0KCdMJykubWFwKHB0ID0+IHB0LnNwbGl0KCcsJykubWFwKGEgPT4gK2EpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwdHMgPSB0aGlzLl9wdHM7XG4gICAgICAgIGZvciAobGV0IGl4ID0gMCwgbmJfcHRzID0gcHRzLmxlbmd0aDsgaXggPCBuYl9wdHM7IGl4KyspIHtcbiAgICAgICAgICBpZiAocmVjdC5jb250YWlucyhwdHNbaXhdKSkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvXTtcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gY29tcCh2YWx1ZSwgYXBwLmN1cnJlbnRfY29uZmlnLnJlZl92YWx1ZSwgYXBwLnNlcmllX2ludmVyc2VkKTtcbiAgICAgICAgICAgIGFwcC5jb2xvcnNbaWRdID0gY29sb3I7XG4gICAgICAgICAgICBzZWxmLmhpZ2hsaWdodF9zZWxlY3Rpb24ucHVzaCh7XG4gICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICByYXRpbzogdmFsdWUsXG4gICAgICAgICAgICAgIGRpc3Q6IG1hdGhfYWJzKHZhbHVlIC0gc2VsZi5teV9yZWdpb25fdmFsdWUpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2xvcl9jb3VudHJpZXM7XG4gICAgICB9KTtcbiAgICBzZWxmLnVwZGF0ZSgpO1xuICB9XG5cblxuICB1cGRhdGVDaGFuZ2VSZWdpb24oKSB7XG4gICAgdGhpcy5hcHBseVNlbGVjdGlvbih0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24ubGVuZ3RoLCAnY2xvc2UnKTtcbiAgICB0aGlzLm1hcF9lbGVtLnJlbW92ZVJlY3RCcnVzaCgpO1xuICAgIHRoaXMubWFwX2VsZW0udXBkYXRlTGVnZW5kKCk7XG4gICAgdGhpcy5teV9yZWdpb25fdmFsdWUgPSBhcHAuY3VycmVudF9jb25maWcucmVmX3ZhbHVlO1xuICB9XG5cbiAgY2hhbmdlU3R1ZHlab25lKCkge1xuICAgIHRoaXMuZGF0YSA9IGFwcC5jdXJyZW50X2RhdGEuc2xpY2UoKS5zb3J0KFxuICAgICAgKGEsIGIpID0+IGJbYXBwLmN1cnJlbnRfY29uZmlnLm51bV0gLSBhW2FwcC5jdXJyZW50X2NvbmZpZy5udW1dKTtcbiAgICB0aGlzLmFwcGx5U2VsZWN0aW9uKHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbi5sZW5ndGgsICdjbG9zZScpO1xuICB9XG5cbiAgYmluZE1lbnUoKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgbWVudSA9IGQzLnNlbGVjdCgnI21lbnVfc2VsZWN0aW9uJyk7XG4gICAgbWVudS5zZWxlY3RBbGwoJy50eXBlX3NlbGVjdGlvbicpXG4gICAgICAuZWFjaChmdW5jdGlvbiAoXywgaSkge1xuICAgICAgICB0aGlzLnZhbHVlID0gaSA9PT0gMCA/ICdjbG9zZScgOiAnZGlzdGFudCc7XG4gICAgICB9KTtcbiAgICAvLyBtZW51LnNlbGVjdEFsbCgnLnR5cGVfc2VsZWN0aW9uJylcbiAgICAvLyAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgLy8gICAgIGlmICh0aGlzLmNsYXNzTGlzdC5jb250YWlucygnY2hlY2tlZCcpKSB7XG4gICAgLy8gICAgICAgcmV0dXJuO1xuICAgIC8vICAgICB9XG4gICAgLy8gICAgIG1lbnUuc2VsZWN0QWxsKCcudHlwZV9zZWxlY3Rpb24nKS5hdHRyKCdjbGFzcycsICd0eXBlX3NlbGVjdGlvbiBzcXVhcmUnKTtcbiAgICAvLyAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XG4gICAgLy8gICAgIGNvbnN0IHZhbHVlID0gK3RoaXMucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcubmJfc2VsZWN0JykudmFsdWU7XG4gICAgLy8gICAgIGNvbnN0IHR5cGUgPSB0aGlzLnZhbHVlO1xuICAgIC8vICAgICBzZWxmLmFwcGx5U2VsZWN0aW9uKHZhbHVlLCB0eXBlKTtcbiAgICAvLyAgIH0pO1xuICAgIC8vIG1lbnUuc2VsZWN0QWxsKCcubGFiZWxfY2hrLCAubmJfc2VsZWN0JylcbiAgICAvLyAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgLy8gICAgIHRoaXMucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcudHlwZV9zZWxlY3Rpb24nKS5jbGljaygpO1xuICAgIC8vICAgfSk7XG4gICAgbWVudS5zZWxlY3RBbGwoJy5uYl9zZWxlY3QnKVxuICAgICAgLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlbGYubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gICAgICAgIGNvbnN0IHR5cGUgPSB0aGlzLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcignLnR5cGVfc2VsZWN0aW9uJykudmFsdWU7XG4gICAgICAgIGxldCB2YWx1ZSA9ICt0aGlzLnZhbHVlO1xuICAgICAgICAvLyBpZiAoISh2YWx1ZSA+IC0xICYmIHZhbHVlIDwgNTApKSB7XG4gICAgICAgIGlmICghKHZhbHVlID4gLTEpKSB7XG4gICAgICAgICAgdGhpcy52YWx1ZSA9IDU7XG4gICAgICAgICAgdmFsdWUgPSA1O1xuICAgICAgICB9XG4gICAgICAgIHNlbGYuYXBwbHlTZWxlY3Rpb24odmFsdWUsIHR5cGUpO1xuICAgICAgfSk7XG4gIH1cblxuICByZW1vdmUoKSB7XG4gICAgdGhpcy5tYXBfZWxlbS51bmJpbmRCcnVzaCgpO1xuICAgIHRoaXMubWFwX2VsZW0gPSBudWxsO1xuICAgIGQzLnNlbGVjdCgnI21lbnVfc2VsZWN0aW9uJykucmVtb3ZlKCk7XG4gICAgc3ZnX2Jhci5odG1sKCcnKTtcbiAgfVxuXG4gIGJpbmRNYXAobWFwX2VsZW0pIHtcbiAgICB0aGlzLm1hcF9lbGVtID0gbWFwX2VsZW07XG4gICAgZDMuc2VsZWN0KCcjbWVudV9zZWxlY3Rpb24nKS5zZWxlY3QoJy5uYl9zZWxlY3QnKS5kaXNwYXRjaCgnY2hhbmdlJyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJpbmRVSV9CdWJibGVDaGFydDEoY2hhcnQsIG1hcF9lbGVtKSB7XG4gIGQzLnNlbGVjdEFsbCgnc3Bhbi5maWx0ZXJfdicpXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2NoZWNrZWQnKSkge1xuICAgICAgICBkMy5zZWxlY3RBbGwoJ3NwYW4uZmlsdGVyX3YnKS5hdHRyKCdjbGFzcycsICdmaWx0ZXJfdiBzcXVhcmUnKTtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XG4gICAgICAgIGNvbnN0IGZpbHRlcl90eXBlID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2ZpbHRlci12YWx1ZScpO1xuICAgICAgICBhcHBseUZpbHRlcihhcHAsIGZpbHRlcl90eXBlKTtcbiAgICAgICAgY2hhcnQuY2hhbmdlU3R1ZHlab25lKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgZDMuc2VsZWN0QWxsKCdzcGFuLnRhcmdldF9yZWdpb24nKVxuICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdjaGVja2VkJykpIHtcbiAgICAgICAgZDMuc2VsZWN0QWxsKCdzcGFuLnRhcmdldF9yZWdpb24nKS5hdHRyKCdjbGFzcycsICd0YXJnZXRfcmVnaW9uIHNxdWFyZScpO1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2NoZWNrZWQnKTtcbiAgICAgICAgY29uc3QgaWRfcmVnaW9uID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG4gICAgICAgIGNoYW5nZVJlZ2lvbihhcHAsIGlkX3JlZ2lvbik7XG4gICAgICAgIGNoYXJ0LnVwZGF0ZUNoYW5nZVJlZ2lvbigpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIGQzLnNlbGVjdEFsbCgnc3Bhbi5sYWJlbF9jaGsnKVxuICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLnByZXZpb3VzU2libGluZy5jbGljaygpO1xuICAgIH0pO1xuXG4gIGNvbnN0IGhlYWRlcl9tYXBfc2VjdGlvbiA9IGQzLnNlbGVjdCgnI21hcF9zZWN0aW9uID4gI2hlYWRlcl9tYXAnKTtcblxuICBoZWFkZXJfbWFwX3NlY3Rpb24uc2VsZWN0KCcjaW1nX3JlY3Rfc2VsZWMnKVxuICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICAvLyB0aGlzLnN0eWxlLmZpbHRlciA9ICcnO1xuICAgICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX21hcF96b29tJykuc3R5bGUuZmlsdGVyID0gJ29wYWNpdHkoMjUlKSc7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfbWFwX3pvb20nKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19tYXBfc2VsZWN0Jykuc3R5bGUuZmlsdGVyID0gJ29wYWNpdHkoMjUlKSc7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfbWFwX3NlbGVjdCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICBzdmdfbWFwLm9uKCcuem9vbScsIG51bGwpO1xuICAgICAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpLnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7XG4gICAgICAgIG1hcF9lbGVtLnRhcmdldF9sYXllci5zZWxlY3RBbGwoJ3BhdGgnKS5vbignY2xpY2snLCBudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICBoZWFkZXJfbWFwX3NlY3Rpb24uc2VsZWN0KCcjaW1nX21hcF96b29tJylcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCF0aGlzLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgLy8gdGhpcy5zdHlsZS5maWx0ZXIgPSAnJztcbiAgICAgICAgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19yZWN0X3NlbGVjJykuc3R5bGUuZmlsdGVyID0gJ29wYWNpdHkoMjUlKSc7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfcmVjdF9zZWxlYycpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX21hcF9zZWxlY3QnKS5zdHlsZS5maWx0ZXIgPSAnb3BhY2l0eSgyNSUpJztcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19tYXBfc2VsZWN0JykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgIHN2Z19tYXAuY2FsbChtYXBfZWxlbS56b29tX21hcCk7XG4gICAgICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJykuY2FsbChtYXBfZWxlbS5icnVzaF9tYXAubW92ZSwgbnVsbCk7XG4gICAgICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJykuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICBtYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJykub24oJ2NsaWNrJywgbnVsbCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgaGVhZGVyX21hcF9zZWN0aW9uLnNlbGVjdCgnI2ltZ19tYXBfc2VsZWN0JylcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCF0aGlzLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19yZWN0X3NlbGVjJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfbWFwX3pvb20nKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgc3ZnX21hcC5vbignLnpvb20nLCBudWxsKTtcbiAgICAgICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKS5jYWxsKG1hcF9lbGVtLmJydXNoX21hcC5tb3ZlLCBudWxsKTtcbiAgICAgICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgIG1hcF9lbGVtLnRhcmdldF9sYXllci5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgY29uc3QgaWQgPSBkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dO1xuICAgICAgICAgICAgaWYgKGFwcC5jdXJyZW50X2lkcy5pbmRleE9mKGlkKSA8IDAgfHwgaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pIHJldHVybjtcbiAgICAgICAgICAgIGlmIChhcHAuY29sb3JzW2lkXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgY2xpY2tlZCBmZWF0dXJlIGZyb20gdGhlIGNvbG9yZWQgc2VsZWN0aW9uIG9uIHRoZSBjaGFydDpcbiAgICAgICAgICAgICAgY29uc3QgaWRfdG9fcmVtb3ZlID0gY2hhcnQuaGlnaGxpZ2h0X3NlbGVjdGlvblxuICAgICAgICAgICAgICAgIC5tYXAoKGZ0LCBpKSA9PiAoZnQuaWQgPT09IGlkID8gaSA6IG51bGwpKS5maWx0ZXIoZnQgPT4gZnQpO1xuICAgICAgICAgICAgICBjaGFydC5oaWdobGlnaHRfc2VsZWN0aW9uLnNwbGljZShpZF90b19yZW1vdmUsIDEpO1xuICAgICAgICAgICAgICAvLyBDaGFuZ2UgaXRzIGNvbG9yIGluIHRoZSBnbG9iYWwgY29sb3JzIG9iamVjdDpcbiAgICAgICAgICAgICAgYXBwLmNvbG9yc1tpZF0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgIC8vIENoYW5nZSB0aGUgY29sb3Igb24gdGhlIG1hcDpcbiAgICAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMpLmF0dHIoJ2ZpbGwnLCBjb2xvcl9jb3VudHJpZXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvXTtcbiAgICAgICAgICAgICAgY29uc3QgY29sb3IgPSBjb21wKHZhbHVlLCBhcHAuY3VycmVudF9jb25maWcucmVmX3ZhbHVlLCBhcHAuc2VyaWVfaW52ZXJzZWQpO1xuICAgICAgICAgICAgICBhcHAuY29sb3JzW2lkXSA9IGNvbG9yO1xuICAgICAgICAgICAgICAvLyBDaGFuZ2UgdGhlIGNvbG9yIG9uIHRoZSBtYXA6XG4gICAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKS5hdHRyKCdmaWxsJywgY29sb3IpO1xuICAgICAgICAgICAgICAvLyBBZGQgdGhlIGNsaWNrZWQgZmVhdHVyZSBvbiB0aGUgY29sb3JlZCBzZWxlY3Rpb24gb24gdGhlIGNoYXJ0OlxuICAgICAgICAgICAgICBjaGFydC5oaWdobGlnaHRfc2VsZWN0aW9uLnB1c2goe1xuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIHJhdGlvOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICBkaXN0OiBtYXRoX2Ficyh2YWx1ZSAtIGFwcC5jdXJyZW50X2NvbmZpZy5yZWZfdmFsdWUpLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoYXJ0LnVwZGF0ZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIGNvbnN0IGhlYWRlcl90YWJsZV9zZWN0aW9uID0gZDMuc2VsZWN0KCcjbWFwX3NlY3Rpb24nKVxuICAgICAgLmluc2VydCgncCcsICdzdmcnKVxuICAgICAgLmF0dHIoJ2lkJywgJ2hlYWRlcl90YWJsZScpXG4gICAgICAuc3R5bGVzKHsgZGlzcGxheTogJ25vbmUnLCBtYXJnaW46ICdhdXRvJywgJ3RleHQtYWxpZ24nOiAncmlnaHQnIH0pO1xuXG4gIGhlYWRlcl90YWJsZV9zZWN0aW9uLmFwcGVuZCgnc3BhbicpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ2J1dHRvbl9ibHVlJylcbiAgICAuaHRtbCgnQ1NWJylcbiAgICAub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgY29udGVudCA9IFtcbiAgICAgICAgJ2lkLE51bcOpcmF0ZXVyLETDqW5vbWluYXRldXIsUmF0aW8sUmFuZ1xcclxcbicsXG4gICAgICAgIGFwcC5jdXJyZW50X2RhdGEubWFwKGQgPT4gW2QuaWQsIGQubnVtLCBkLmRlbnVtLCBkLnJhdGlvLCBkLnJhbmddLmpvaW4oJywnKSkuam9pbignXFxyXFxuJyksXG4gICAgICBdLmpvaW4oJycpO1xuICAgICAgY29uc3QgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCdocmVmJywgYGRhdGE6dGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04LCR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbnRlbnQpfWApO1xuICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ2Rvd25sb2FkJywgJ3RhYmxlLmNzdicpO1xuICAgICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbGVtKTtcbiAgICAgIGVsZW0uY2xpY2soKTtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZWxlbSk7XG4gICAgfSk7XG4gIGJpbmRUb3BCdXR0b25zKGNoYXJ0LCBtYXBfZWxlbSk7XG59XG4iLCJpbXBvcnQgZGVidWcgZnJvbSAnZGVidWcnO1xuaW1wb3J0IHsgY3JlYXRlTWVudSB9IGZyb20gJy4vbW9kdWxlcy9tZW51bGVmdCc7XG5pbXBvcnQgeyBtYWtlVGFibGUgfSBmcm9tICcuL21vZHVsZXMvdGFibGUnO1xuaW1wb3J0IHsgcHJlcGFyZV9kYXRhc2V0LCBmaWx0ZXJfbm9fZW1wdHkgfSBmcm9tICcuL21vZHVsZXMvcHJlcGFyZV9kYXRhJztcbmltcG9ydCB7IE1hcFNlbGVjdCwgbWFrZVNvdXJjZVNlY3Rpb24sIG1ha2VNYXBMZWdlbmQgfSBmcm9tICcuL21vZHVsZXMvbWFwJztcbmltcG9ydCB7IGNvbG9yX2NvdW50cmllcywgY29sb3JfaGlnaGxpZ2h0IH0gZnJvbSAnLi9tb2R1bGVzL29wdGlvbnMnO1xuaW1wb3J0IHsgQmFyQ2hhcnQxLCBiaW5kVUlfQmFyQ2hhcnQxIH0gZnJvbSAnLi9tb2R1bGVzL2NoYXJ0cy9iYXJDaGFydF8xdic7XG5pbXBvcnQgeyBtYWtlVG9wTWVudSwgbWFrZUhlYWRlckNoYXJ0LCBtYWtlSGVhZGVyTWFwU2VjdGlvbiB9IGZyb20gJy4vbW9kdWxlcy9tZW51dG9wJztcbmltcG9ydCB7IEJ1YmJsZUNoYXJ0MSwgYmluZFVJX0J1YmJsZUNoYXJ0MSB9IGZyb20gJy4vbW9kdWxlcy9jaGFydHMvYnViYmxlQ2hhcnRfMXYnO1xuaW1wb3J0IHsgdW5iaW5kVUkgfSBmcm9tICcuL21vZHVsZXMvaGVscGVycyc7XG5cbmRlYnVnKCdhcHA6bG9nJyk7XG5cbmNvbnN0IHZhcmlhYmxlcyA9IHtcbiAgJ1BhdXZyZXTDqSBleGNsdXNpb24nOiB7XG4gICAgJ1RhdXggZFxcJ2VtcGxvaSAoMjAxNSknOiAnVFhfRU1QXzIwMTQnLFxuICAgICdUYXV4IGRlIGNob21hZ2UgKDIwMTUpJzogJ1BDX0NIT01fMTUyNF8yMDE1JyxcbiAgfSxcbiAgJ0dyb3VwZSAyJzoge1xuICAgICdJbmRpY2F0ZXVyIDEnOiAnSU5EXzEnLFxuICAgICdJbmRpY2F0ZXVyIDInOiAnSU5EXzInLFxuICB9LFxufTtcblxuY29uc3Qgc3R1ZHlfem9uZXMgPSBbXG4gIHsgaWQ6ICdub19maWx0ZXInLCBuYW1lOiAnVUUyOCcgfSxcbiAgeyBpZDogJ2ZpbHRlcl9GUicsIG5hbWU6ICdGaWx0cmUgbmF0aW9uYWwgKEZyYW5jZSknIH0sXG4gIHsgaWQ6ICdmaWx0ZXJfcGFyYW0yJywgbmFtZTogJ0VzcGFjZSBkZSBjb21wYXJhaXNvbiBuwrAyJyB9LFxuXTtcblxuY29uc3QgdGVycml0b3JpYWxfbWVzaCA9IFtcbiAgeyBpZDogJ05VVFMxJywgbmFtZTogJ05VVFMxJyB9LFxuICB7IGlkOiAnTlVUUzEyc3RhdCcsIG5hbWU6ICdOVVRTMS8yIChzdGF0aXN0aXF1ZSknIH0sXG5dO1xuXG5leHBvcnQgY29uc3QgYXBwID0ge1xuICBjb2xvcnM6IHt9LFxuICBjdXJyZW50X2RhdGE6IFtdLFxuICBmdWxsX2RhdGFzZXQ6IFtdLFxuICBjdXJyZW50X2lkczogW10sXG4gIGN1cnJlbnRfcmFua3M6IFtdLFxuICBzZXJpZV9pbnZlcnNlZDogZmFsc2UsXG59O1xuXG5mdW5jdGlvbiBzZXREZWZhdWx0Q29uZmlnKGNvZGUgPSAnRlJFJywgdmFyaWFibGUgPSAnUENfQ0hPTV8xNTI0XzIwMTUnKSB7IC8vIH0sIGxldmVsID0gJ05VVFMxJykge1xuICBhcHAuY3VycmVudF9jb25maWcgPSB7XG4gICAgaWRfZmllbGQ6ICdnZW8nLFxuICAgIGlkX2ZpZWxkX2dlb206ICdOVVRTMV8yMDE2JyxcbiAgICBudW06ICdDSE9NXzE1MjRfMjAxNScsXG4gICAgZGVudW06ICdBQ1RfMTUyNF8yMDE1JyxcbiAgICByYXRpbzogdmFyaWFibGUsXG4gICAgcmF0aW9fcHJldHR5X25hbWU6ICdUYXV4IGRlIGNow7RtYWdlIGRlcyBqZXVuZXMgKDIwMTUpJyxcbiAgICBjdXJyZW50X2xldmVsOiAxLFxuICAgIG15X3JlZ2lvbjogY29kZSxcbiAgICBteV9yZWdpb25fcHJldHR5X25hbWU6IGFwcC5mZWF0dXJlX25hbWVzW2NvZGVdLFxuICB9O1xuICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xufVxuXG5mdW5jdGlvbiBzZXREZWZhdWx0Q29uZmlnTWVudShjb2RlID0gJ0ZSRScsIHZhcmlhYmxlID0gJ1BDX0NIT01fMTUyNF8yMDE1JywgbGV2ZWwgPSAnTlVUUzEnKSB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC50YXJnZXRfcmVnaW9uLnNxdWFyZVt2YWx1ZT1cIiR7Y29kZX1cIl1gKS5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC50YXJnZXRfdmFyaWFibGUuc21hbGxfc3F1YXJlW3ZhbHVlPVwiJHt2YXJpYWJsZX1cIl1gKS5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5maWx0ZXJfdi5zcXVhcmVbZmlsdGVyLXZhbHVlPVwibm9fZmlsdGVyXCJdJykuY2xhc3NMaXN0LmFkZCgnY2hlY2tlZCcpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAudGVycml0X2xldmVsLnNxdWFyZVt2YWx1ZT1cIiR7bGV2ZWx9XCJdYCkuY2xhc3NMaXN0LmFkZCgnY2hlY2tlZCcpO1xufVxuXG5mdW5jdGlvbiBsb2FkRGF0YSgpIHtcbiAgZDMucXVldWUoNClcbiAgICAuZGVmZXIoZDMuY3N2LCAnZGF0YS9SRUdJT1ZJWl9EQVRBX2FnZ3JlZ2F0ZWQuY3N2JylcbiAgICAuZGVmZXIoZDMuanNvbiwgJ2RhdGEvY2dldC1udXRzMS0zMDM1Lmdlb2pzb24nKVxuICAgIC5kZWZlcihkMy5qc29uLCAnZGF0YS9jb3VudHJpZXMzMDM1Lmdlb2pzb24nKVxuICAgIC5kZWZlcihkMy5qc29uLCAnZGF0YS9yZW1vdGUzMDM1Lmdlb2pzb24nKVxuICAgIC5kZWZlcihkMy5qc29uLCAnZGF0YS90ZW1wbGF0ZTMwMzUuZ2VvanNvbicpXG4gICAgLmRlZmVyKGQzLmpzb24sICdkYXRhL3NlYV9ib3hlcy5nZW9qc29uJylcbiAgICAuYXdhaXRBbGwoKGVycm9yLCByZXN1bHRzKSA9PiB7XG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICAgICAgY29uc3QgW2Z1bGxfZGF0YXNldCwgbnV0czEsIGNvdW50cmllcywgcmVtb3RlLCB0ZW1wbGF0ZSwgc2VhYm94ZXNdID0gcmVzdWx0cztcbiAgICAgIHByZXBhcmVfZGF0YXNldChmdWxsX2RhdGFzZXQsIGFwcCk7XG4gICAgICBzZXREZWZhdWx0Q29uZmlnKCdGUkInLCAnUENfQ0hPTV8xNTI0XzIwMTUnLCAnTlVUUzEnKTtcbiAgICAgIGNvbnN0IGZlYXR1cmVzX21lbnUgPSBmdWxsX2RhdGFzZXQuZmlsdGVyKGZ0ID0+IGZ0Lmdlby5pbmRleE9mKCdGUicpID4gLTFcbiAgICAgICAgJiYgK2Z0LmxldmVsID09PSBhcHAuY3VycmVudF9jb25maWcuY3VycmVudF9sZXZlbCk7XG4gICAgICBjcmVhdGVNZW51KGZlYXR1cmVzX21lbnUsIHZhcmlhYmxlcywgc3R1ZHlfem9uZXMsIHRlcnJpdG9yaWFsX21lc2gpO1xuICAgICAgbWFrZVRvcE1lbnUoKTtcbiAgICAgIG1ha2VIZWFkZXJDaGFydCgpO1xuICAgICAgc2V0RGVmYXVsdENvbmZpZ01lbnUoJ0ZSQicsICdQQ19DSE9NXzE1MjRfMjAxNScsICdOVVRTMScpO1xuICAgICAgYXBwLmN1cnJlbnRfZGF0YSA9IGZpbHRlcl9ub19lbXB0eShhcHApO1xuICAgICAgY29uc3QgbWFwX2VsZW0gPSBuZXcgTWFwU2VsZWN0KG51dHMxLCBjb3VudHJpZXMsIHJlbW90ZSwgdGVtcGxhdGUsIHNlYWJveGVzKTtcbiAgICAgIGNvbnN0IGNoYXJ0ID0gbmV3IEJhckNoYXJ0MShhcHAuY3VycmVudF9kYXRhKTtcbiAgICAgIG1ha2VUYWJsZShhcHAuY3VycmVudF9kYXRhLCBhcHAuY3VycmVudF9jb25maWcpO1xuICAgICAgbWFrZUhlYWRlck1hcFNlY3Rpb24oKTtcbiAgICAgIG1ha2VTb3VyY2VTZWN0aW9uKCk7XG4gICAgICBtYWtlTWFwTGVnZW5kKCk7XG4gICAgICBiaW5kVUlfQmFyQ2hhcnQxKGNoYXJ0LCBtYXBfZWxlbSk7XG4gICAgICBjaGFydC5iaW5kTWFwKG1hcF9lbGVtKTtcbiAgICAgIG1hcF9lbGVtLmJpbmRCcnVzaChjaGFydCk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlc2V0Q29sb3JzKCkge1xuICBjb25zdCBpZHMgPSBhcHAuY3VycmVudF9pZHM7XG4gIGNvbnN0IG15X3JlZ2lvbiA9IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb247XG4gIGFwcC5jb2xvcnMgPSB7fTtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gaWRzLmxlbmd0aDsgaSA8IGxlbl9pOyBpKyspIHtcbiAgICBhcHAuY29sb3JzW2lkc1tpXV0gPSBpZHNbaV0gPT09IG15X3JlZ2lvbiA/IGNvbG9yX2hpZ2hsaWdodCA6IGNvbG9yX2NvdW50cmllcztcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYmluZFRvcEJ1dHRvbnMoY2hhcnQsIG1hcF9lbGVtKSB7XG4gIGQzLnNlbGVjdEFsbCgnLnR5cGVfY2hhcnQudGl0bGVfbWVudScpXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNoYXJ0LnJlbW92ZSgpO1xuICAgICAgY2hhcnQgPSBudWxsOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICB1bmJpbmRVSSgpO1xuICAgICAgbWFwX2VsZW0ucmVzZXRab29tKCk7XG4gICAgICBhcHAuY29sb3JzID0ge307XG4gICAgICBhcHAuc2VyaWVfaW52ZXJzZWQgPSBmYWxzZTtcbiAgICAgIC8vIGFwcC5jdXJyZW50X2RhdGEgPSBmaWx0ZXJfbm9fZW1wdHkoYXBwKTtcbiAgICAgIC8vIGFwcC5jdXJyZW50X2lkcyA9IGFwcC5jdXJyZW50X2RhdGEubWFwKGQgPT4gZC5pZCk7XG4gICAgICAvLyBhcHAuY3VycmVudF9yYW5rcyA9IGFwcC5jdXJyZW50X2RhdGEubWFwKChkLCBpKSA9PiBpICsgMSk7XG4gICAgICByZXNldENvbG9ycygpO1xuICAgICAgbWFwX2VsZW0ucmVzZXRDb2xvcnMoKTtcbiAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG4gICAgICBpZiAodmFsdWUgPT09ICdCYXJDaGFydDEnKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdCYXJDaGFydDEnKTtcbiAgICAgICAgbWFrZVRhYmxlKGFwcC5jdXJyZW50X2RhdGEsIGFwcC5jdXJyZW50X2NvbmZpZyk7XG4gICAgICAgIGNoYXJ0ID0gbmV3IEJhckNoYXJ0MShhcHAuY3VycmVudF9kYXRhKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICBiaW5kVUlfQmFyQ2hhcnQxKGNoYXJ0LCBtYXBfZWxlbSk7XG4gICAgICAgIG1hcF9lbGVtLmJpbmRCcnVzaChjaGFydCk7XG4gICAgICAgIGNoYXJ0LmJpbmRNYXAobWFwX2VsZW0pO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJ0J1YmJsZUNoYXJ0MScpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0J1YmJsZUNoYXJ0MScpO1xuICAgICAgICBtYWtlVGFibGUoYXBwLmN1cnJlbnRfZGF0YSwgYXBwLmN1cnJlbnRfY29uZmlnKTtcbiAgICAgICAgY2hhcnQgPSBuZXcgQnViYmxlQ2hhcnQxKGFwcC5jdXJyZW50X2RhdGEpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIGJpbmRVSV9CdWJibGVDaGFydDEoY2hhcnQsIG1hcF9lbGVtKTtcbiAgICAgICAgbWFwX2VsZW0uYmluZEJydXNoKGNoYXJ0KTtcbiAgICAgICAgY2hhcnQuYmluZE1hcChtYXBfZWxlbSk7XG4gICAgICB9XG4gICAgfSk7XG59XG5cbmxvYWREYXRhKCk7XG4iXSwibmFtZXMiOlsicmVxdWlyZSQkMCIsIm1zIiwiY3JlYXRlTWVudSIsIm5hbWVzIiwidmFyaWFibGVzIiwic3R1ZHlfem9uZXMiLCJ0ZXJyaXRvcmlhbF9tZXNoIiwidGl0bGVfc2VjdGlvbjEiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJpbm5lckhUTUwiLCJzZWN0aW9uMSIsInN0eWxlIiwib3ZlcmZsb3ciLCJoZWlnaHQiLCJpIiwibGVuX2kiLCJsZW5ndGgiLCJpZCIsImdlbyIsIm5hbWUiLCJOb20iLCJlbnRyeSIsImFwcGVuZENoaWxkIiwidGl0bGVfc2VjdGlvbjIiLCJzZWN0aW9uMiIsImdyb3Vwc192YXIiLCJPYmplY3QiLCJrZXlzIiwiZ3BfbmFtZSIsInZhcl9uYW1lcyIsImoiLCJsZW5faiIsIm5hbWVfdmFyIiwiY29kZV92YXIiLCJzdWJfZW50cnkiLCJ0aXRsZV9zZWN0aW9uMyIsInNlY3Rpb24zIiwiem9uZSIsInRpdGxlX3NlY3Rpb240Iiwic2VjdGlvbjQiLCJ0ZXJyaXRfbGV2ZWwiLCJtZW51IiwiZ2V0RWxlbWVudEJ5SWQiLCJ3aWR0aCIsImZsb2F0IiwiZGVmaW5lIiwidGhpcyIsImNvbG9yX2NvdW50cmllcyIsImNvbG9yX2Rpc2FibGVkIiwiY29sb3Jfc3VwIiwiY29sb3JfaW5mIiwiY29sb3JfaGlnaGxpZ2h0IiwiY3JlYXRlVGFibGVET00iLCJkYXRhIiwib3B0cyIsImNvbmZpZyIsIm51bSIsImRlbnVtIiwicmF0aW8iLCJteV9yZWdpb24iLCJvcHRpb25zIiwiZG9jIiwibmJfZmVhdHVyZXMiLCJjb2x1bW5fbmFtZXMiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwibmJfY29sdW1ucyIsIm15VGFibGUiLCJoZWFkZXJzIiwiYm9keSIsImhlYWRlcnNfcm93IiwiY2VsbCIsImNvbF9uYW1lIiwicm93IiwiTWF0aCIsInJvdW5kIiwic2V0QXR0cmlidXRlIiwibWFrZVRhYmxlIiwiZGF0YV9ub19lbXB0eSIsInRhYmxlIiwidW5kZWZpbmVkIiwicXVlcnlTZWxlY3RvciIsImRhdGFUYWJsZSIsIkRhdGFUYWJsZSIsInQiLCJtYXJnaW5Ub3AiLCJkaXNwbGF5IiwiZm9udFNpemUiLCJwcm90b3R5cGUiLCJzbGljZSIsImNhbGwiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImVsIiwib25jbGljayIsInBhcmVudEVsZW1lbnQiLCJjbGljayIsIm1hdGhfYWJzIiwiYWJzIiwibWF0aF9yb3VuZCIsInByZXBhcmVUb29sdGlwIiwicGFyZW50X3N2Z19lbGVtIiwidG9vbHRpcCIsImFwcGVuZCIsImF0dHIiLCJhdHRycyIsImZpbGwiLCJjbGFzcyIsIngiLCJkeSIsInVuYmluZFVJIiwic2VsZWN0QWxsIiwib24iLCJzZWxlY3QiLCJyZW1vdmUiLCJvbmtleXVwIiwib25rZXlkb3duIiwiY29tcCIsInRlc3RfdmFsdWUiLCJyZWZfdmFsdWUiLCJzZXJpZV9pbnZlcnNlZCIsIlJlY3QiLCJ0b3BsZWZ0IiwiYm90dG9tcmlnaHQiLCJ4bWluIiwieG1heCIsInltaW4iLCJ5bWF4IiwicHQiLCJQcm9wU2l6ZXIiLCJmaXhlZF92YWx1ZSIsImZpeGVkX3NpemUiLCJzcXJ0IiwiUEkiLCJzbWF4Iiwic2NhbGUiLCJ2YWwiLCJnZXRfdmFsdWUiLCJwb3ciLCJzaXplIiwicHJlcGFyZV9kYXRhc2V0IiwiZnVsbF9kYXRhc2V0IiwiYXBwIiwiZmVhdHVyZV9uYW1lcyIsImVsZW0iLCJmaWx0ZXJfbm9fZW1wdHkiLCJjdXJyZW50X2NvbmZpZyIsImN1cnJlbnRfbGV2ZWwiLCJ0ZW1wIiwiZmlsdGVyIiwiZnQiLCJsZXZlbCIsIm1hcCIsImZpbHRlcmVkX2RhdGEiLCJzb3J0IiwiYSIsImIiLCJkIiwicmFuZyIsImNvbXBsZXR1ZGUiLCJhcHBseUZpbHRlciIsImZpbHRlcl90eXBlIiwiY3VycmVudF9kYXRhIiwiaW5kZXhPZiIsInJhbmRvbSIsIm1heWJlX215X3JlZ2lvbiIsInB1c2giLCJjdXJyZW50X2lkcyIsImN1cnJlbnRfcmFua3MiLCJjb2xvcnMiLCJjaGFuZ2VSZWdpb24iLCJpZF9yZWdpb24iLCJteV9yZWdpb25fcHJldHR5X25hbWUiLCJzdmdfbWFwIiwiZDMiLCJtYXJnaW5fbWFwIiwidG9wIiwicmlnaHQiLCJib3R0b20iLCJsZWZ0Iiwid2lkdGhfbWFwIiwiaGVpZ2h0X21hcCIsInN0eWxlcyIsInN0cm9rZSIsInByb2plY3Rpb24iLCJwYXRoIiwiZ2V0X2Jib3hfbGF5ZXJfcGF0aCIsImJib3hfbGF5ZXIiLCJJbmZpbml0eSIsImVhY2giLCJiYm94X3BhdGgiLCJib3VuZHMiLCJnZW9tZXRyeSIsImZpdExheWVyIiwidHJhbnNsYXRlIiwicyIsIm1heCIsIm1hcF96b29tZWQiLCJ0cmFuc2Zvcm0iLCJldmVudCIsImsiLCJ5IiwibGF5ZXJzIiwidHJhbnNpdGlvbiIsImR1cmF0aW9uIiwiTWFwU2VsZWN0IiwibnV0czEiLCJjb3VudHJpZXMiLCJyZW1vdGUiLCJ0ZW1wbGF0ZSIsInNlYWJveGVzIiwiZ2VvSWRlbnRpdHkiLCJmaXRFeHRlbnQiLCJyZWZsZWN0WSIsImZlYXR1cmVzIiwicHJvcGVydGllcyIsIm5vX2RhdGFfZmVhdHVyZXMiLCJpc05hTiIsImdlb1BhdGgiLCJ6b29tX21hcCIsInpvb20iLCJzY2FsZUV4dGVudCIsInRyYW5zbGF0ZUV4dGVudCIsImVudGVyIiwic2VhYm94ZXMyIiwibnV0czFfbm9fZGF0YSIsInRhcmdldF9sYXllciIsIk5VVFMxXzIwMTYiLCJiaW5kVG9vbHRpcCIsImlkX2ZpZWxkX2dlb20iLCJ0ZXh0IiwibW91c2UiLCJ6b29tSWRlbnRpdHkiLCJicnVzaF9tYXAiLCJtb3ZlIiwiY2hhcnQiLCJicnVzaCIsImV4dGVudCIsInNlbGVjdGlvbiIsImhhbmRsZV9icnVzaF9tYXAiLCJtYWtlU291cmNlU2VjdGlvbiIsInRleHRfem9uZSIsIm1ha2VNYXBMZWdlbmQiLCJsZWdlbmRfZWxlbXMiLCJjb2xvciIsInJlY3Rfc2l6ZSIsInNwYWNpbmciLCJsZ2RfaGVpZ2h0Iiwib2Zmc2V0IiwiZ3JwX2xnZCIsImxlZ2VuZHMiLCJ0eCIsInR5Iiwic3ZnX2JhciIsIm1hcmdpbiIsIm1hcmdpbjIiLCJoZWlnaHQyIiwibmJGdCIsIm1lYW5fdmFsdWUiLCJjdXJyZW50X3JhbmdlX2JydXNoIiwiY3VycmVudF9yYW5nZSIsImRpc3BsYXllZCIsImdldE1lYW5SYW5rIiwibWVhbl9yYW5rIiwiQmFyQ2hhcnQxIiwicmVmX2RhdGEiLCJicnVzaGVkIiwic291cmNlRXZlbnQiLCJ0eXBlIiwibG9nIiwieDIiLCJyYW5nZSIsImRvbWFpbiIsInVwZGF0ZSIsInVwZGF0ZUNvbnRleHQiLCJicnVzaF90b3AiLCJicnVzaGVkX3RvcCIsIl9mb2N1cyIsIm1hcF9lbGVtIiwiZDNfZXZlbnQiLCJ0YXJnZXQiLCJyZW1vdmVSZWN0QnJ1c2giLCJ1cGRhdGVNYXBSZWdpbyIsImRldGFpbCIsInNjYWxlQmFuZCIsInBhZGRpbmciLCJzY2FsZUxpbmVhciIsInkyIiwieEF4aXMiLCJheGlzQm90dG9tIiwieEF4aXMyIiwieUF4aXMiLCJheGlzTGVmdCIsIm1lYW4iLCJmb2N1cyIsImNvbnRleHQiLCJtaW4iLCJicnVzaF9ib3R0b20iLCJicnVzaFgiLCJkeCIsImdfYmFyIiwiZ3JvdXBlX2xpbmVfbWVhbiIsIngxIiwieTEiLCJ1cGRhdGVNaW5pQmFycyIsImtleSIsIl8iLCJiYXIiLCJiYW5kd2lkdGgiLCJ0b19kaXNwbGF5IiwiaW5zZXJ0IiwiZXhpdCIsImF4aXNfeCIsIm1pbmlfYmFycyIsIm15X3JhbmsiLCJzZWxmIiwicmVjdCIsIl9wdHMiLCJnZXRBdHRyaWJ1dGUiLCJzcGxpdCIsInB0cyIsIml4IiwibmJfcHRzIiwiY29udGFpbnMiLCJ2YWx1ZSIsImlkcyIsInJhbmtzIiwiYzEiLCJjMiIsInVwZGF0ZUxlZ2VuZCIsInVuYmluZEJydXNoIiwiaHRtbCIsImJpbmRVSV9CYXJDaGFydDEiLCJjbGFzc0xpc3QiLCJhZGQiLCJ1cGRhdGVDb21wbGV0dWRlIiwiY2hhbmdlU3R1ZHlab25lIiwidXBkYXRlQ2hhbmdlUmVnaW9uIiwicHJldmlvdXNTaWJsaW5nIiwiaGVhZGVyX21hcF9zZWN0aW9uIiwiaGVhZGVyX3RhYmxlX3NlY3Rpb24iLCJjb250ZW50Iiwiam9pbiIsImVuY29kZVVSSUNvbXBvbmVudCIsInJlbW92ZUNoaWxkIiwiYnV0dG9uc191bmRlcl9jaGFydCIsInNlbGVjdEJlbG93TWVhbiIsInNlbGVjdEFib3ZlTWVhbiIsInNlbGVjdEJlbG93TXlSZWdpb24iLCJzZWxlY3RBYm92ZU15UmVnaW9uIiwibWFrZVRvcE1lbnUiLCJ0b3BfbWVudSIsImN1cnNvciIsIm1ha2VIZWFkZXJNYXBTZWN0aW9uIiwibWFrZUhlYWRlckNoYXJ0IiwiaGVhZGVyX2Jhcl9zZWN0aW9uIiwicmF0aW9fcHJldHR5X25hbWUiLCJCdWJibGVDaGFydDEiLCJoaWdobGlnaHRfc2VsZWN0aW9uIiwiZHJhd19ncm91cCIsInNlbGVjdGlvbl9jbG9zZSIsIm5vZGUiLCJwb3NpdGlvbiIsInByb3BlcnR5IiwibXlfcmVnaW9uX3ZhbHVlIiwiYmluZE1lbnUiLCJhcHBseVNlbGVjdGlvbiIsIm5iIiwidHlwZV9zZWxlY3Rpb24iLCJkaXN0IiwiX21pbiIsIl9tYXgiLCJkaXN0X21pbiIsImRpc3RfbWF4IiwiZGlzdF9heGlzIiwibWFyZ2luX21pbl9tYXgiLCJwcm9wX3NpemVyIiwieFNjYWxlIiwiYnViYmxlcyIsInhfdmFsdWUiLCJkaXNwYXRjaCIsImJpbmRVSV9CdWJibGVDaGFydDEiLCJpZF90b19yZW1vdmUiLCJzcGxpY2UiLCJkZWJ1ZyIsInNldERlZmF1bHRDb25maWciLCJjb2RlIiwidmFyaWFibGUiLCJzZXREZWZhdWx0Q29uZmlnTWVudSIsImxvYWREYXRhIiwicXVldWUiLCJkZWZlciIsImNzdiIsImpzb24iLCJhd2FpdEFsbCIsImVycm9yIiwicmVzdWx0cyIsImZlYXR1cmVzX21lbnUiLCJiaW5kTWFwIiwiYmluZEJydXNoIiwicmVzZXRDb2xvcnMiLCJiaW5kVG9wQnV0dG9ucyIsInJlc2V0Wm9vbSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0FBSUEsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDO0FBQ2IsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUNmLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7QUFDZixJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO0FBQ2YsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQzs7Ozs7Ozs7Ozs7Ozs7OztBQWdCbkIsTUFBYyxHQUFHLFNBQVMsR0FBRyxFQUFFLE9BQU8sRUFBRTtFQUN0QyxPQUFPLEdBQUcsT0FBTyxJQUFJLEVBQUUsQ0FBQztFQUN4QixJQUFJLElBQUksR0FBRyxPQUFPLEdBQUcsQ0FBQztFQUN0QixJQUFJLElBQUksS0FBSyxRQUFRLElBQUksR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7SUFDdkMsT0FBTyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7R0FDbkIsTUFBTSxJQUFJLElBQUksS0FBSyxRQUFRLElBQUksS0FBSyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEtBQUssRUFBRTtJQUNwRCxPQUFPLE9BQU8sQ0FBQyxJQUFJLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztHQUNwRDtFQUNELE1BQU0sSUFBSSxLQUFLO0lBQ2IsdURBQXVEO01BQ3JELElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDO0dBQ3RCLENBQUM7Q0FDSCxDQUFDOzs7Ozs7Ozs7O0FBVUYsU0FBUyxLQUFLLENBQUMsR0FBRyxFQUFFO0VBQ2xCLEdBQUcsR0FB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
