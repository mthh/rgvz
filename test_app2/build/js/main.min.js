(function (exports) {
'use strict';

var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};





function createCommonjsModule(fn, module) {
	return module = { exports: {} }, fn(module, module.exports), module.exports;
}

var tingle_min = createCommonjsModule(function (module, exports) {
!function(t,o){"function"==typeof undefined&&undefined.amd?undefined(o):module.exports=o();}(commonjsGlobal,function(){function t(t){var o={onClose:null,onOpen:null,beforeOpen:null,beforeClose:null,stickyFooter:!1,footer:!1,cssClass:[],closeLabel:"Close",closeMethods:["overlay","button","escape"]};this.opts=r({},o,t),this.init();}function o(){this.modalBoxFooter&&(this.modalBoxFooter.style.width=this.modalBox.clientWidth+"px",this.modalBoxFooter.style.left=this.modalBox.offsetLeft+"px");}function e(){this.modal=document.createElement("div"),this.modal.classList.add("tingle-modal"),0!==this.opts.closeMethods.length&&this.opts.closeMethods.indexOf("overlay")!==-1||this.modal.classList.add("tingle-modal--noOverlayClose"),this.modal.style.display="none",this.opts.cssClass.forEach(function(t){"string"==typeof t&&this.modal.classList.add(t);},this),this.opts.closeMethods.indexOf("button")!==-1&&(this.modalCloseBtn=document.createElement("button"),this.modalCloseBtn.classList.add("tingle-modal__close"),this.modalCloseBtnIcon=document.createElement("span"),this.modalCloseBtnIcon.classList.add("tingle-modal__closeIcon"),this.modalCloseBtnIcon.innerHTML="Ã—",this.modalCloseBtnLabel=document.createElement("span"),this.modalCloseBtnLabel.classList.add("tingle-modal__closeLabel"),this.modalCloseBtnLabel.innerHTML=this.opts.closeLabel,this.modalCloseBtn.appendChild(this.modalCloseBtnIcon),this.modalCloseBtn.appendChild(this.modalCloseBtnLabel)),this.modalBox=document.createElement("div"),this.modalBox.classList.add("tingle-modal-box"),this.modalBoxContent=document.createElement("div"),this.modalBoxContent.classList.add("tingle-modal-box__content"),this.modalBox.appendChild(this.modalBoxContent),this.opts.closeMethods.indexOf("button")!==-1&&this.modal.appendChild(this.modalCloseBtn),this.modal.appendChild(this.modalBox);}function s(){this.modalBoxFooter=document.createElement("div"),this.modalBoxFooter.classList.add("tingle-modal-box__footer"),this.modalBox.appendChild(this.modalBoxFooter);}function i(){this._events={clickCloseBtn:this.close.bind(this),clickOverlay:l.bind(this),resize:this.checkOverflow.bind(this),keyboardNav:n.bind(this)},this.opts.closeMethods.indexOf("button")!==-1&&this.modalCloseBtn.addEventListener("click",this._events.clickCloseBtn),this.modal.addEventListener("mousedown",this._events.clickOverlay),window.addEventListener("resize",this._events.resize),document.addEventListener("keydown",this._events.keyboardNav);}function n(t){this.opts.closeMethods.indexOf("escape")!==-1&&27===t.which&&this.isOpen()&&this.close();}function l(t){this.opts.closeMethods.indexOf("overlay")!==-1&&!d(t.target,"tingle-modal")&&t.clientX<this.modal.clientWidth&&this.close();}function d(t,o){for(;(t=t.parentElement)&&!t.classList.contains(o););return t}function a(){this.opts.closeMethods.indexOf("button")!==-1&&this.modalCloseBtn.removeEventListener("click",this._events.clickCloseBtn),this.modal.removeEventListener("mousedown",this._events.clickOverlay),window.removeEventListener("resize",this._events.resize),document.removeEventListener("keydown",this._events.keyboardNav);}function r(){for(var t=1;t<arguments.length;t++)for(var o in arguments[t])arguments[t].hasOwnProperty(o)&&(arguments[0][o]=arguments[t][o]);return arguments[0]}function h(){var t,o=document.createElement("tingle-test-transition"),e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in e)if(void 0!==o.style[t])return e[t]}var c=h();return t.prototype.init=function(){this.modal||(e.call(this),i.call(this),document.body.insertBefore(this.modal,document.body.firstChild),this.opts.footer&&this.addFooter());},t.prototype.destroy=function(){null!==this.modal&&(a.call(this),this.modal.parentNode.removeChild(this.modal),this.modal=null);},t.prototype.open=function(){var t=this;"function"==typeof t.opts.beforeOpen&&t.opts.beforeOpen(),this.modal.style.removeProperty?this.modal.style.removeProperty("display"):this.modal.style.removeAttribute("display"),document.body.classList.add("tingle-enabled"),this.setStickyFooter(this.opts.stickyFooter),this.modal.classList.add("tingle-modal--visible"),c?this.modal.addEventListener(c,function o(){"function"==typeof t.opts.onOpen&&t.opts.onOpen.call(t),t.modal.removeEventListener(c,o,!1);},!1):"function"==typeof t.opts.onOpen&&t.opts.onOpen.call(t),this.checkOverflow();},t.prototype.isOpen=function(){return!!this.modal.classList.contains("tingle-modal--visible")},t.prototype.close=function(){if("function"==typeof this.opts.beforeClose){var t=this.opts.beforeClose.call(this);if(!t)return}document.body.classList.remove("tingle-enabled"),this.modal.classList.remove("tingle-modal--visible");var o=this;c?this.modal.addEventListener(c,function t(){o.modal.removeEventListener(c,t,!1),o.modal.style.display="none","function"==typeof o.opts.onClose&&o.opts.onClose.call(this);},!1):(o.modal.style.display="none","function"==typeof o.opts.onClose&&o.opts.onClose.call(this));},t.prototype.setContent=function(t){"string"==typeof t?this.modalBoxContent.innerHTML=t:(this.modalBoxContent.innerHTML="",this.modalBoxContent.appendChild(t));},t.prototype.getContent=function(){return this.modalBoxContent},t.prototype.addFooter=function(){s.call(this);},t.prototype.setFooterContent=function(t){this.modalBoxFooter.innerHTML=t;},t.prototype.getFooterContent=function(){return this.modalBoxFooter},t.prototype.setStickyFooter=function(t){this.isOverflow()||(t=!1),t?this.modalBox.contains(this.modalBoxFooter)&&(this.modalBox.removeChild(this.modalBoxFooter),this.modal.appendChild(this.modalBoxFooter),this.modalBoxFooter.classList.add("tingle-modal-box__footer--sticky"),o.call(this),this.modalBoxContent.style["padding-bottom"]=this.modalBoxFooter.clientHeight+20+"px"):this.modalBoxFooter&&(this.modalBox.contains(this.modalBoxFooter)||(this.modal.removeChild(this.modalBoxFooter),this.modalBox.appendChild(this.modalBoxFooter),this.modalBoxFooter.style.width="auto",this.modalBoxFooter.style.left="",this.modalBoxContent.style["padding-bottom"]="",this.modalBoxFooter.classList.remove("tingle-modal-box__footer--sticky")));},t.prototype.addFooterBtn=function(t,o,e){var s=document.createElement("button");return s.innerHTML=t,s.addEventListener("click",e),"string"==typeof o&&o.length&&o.split(" ").forEach(function(t){s.classList.add(t);}),this.modalBoxFooter.appendChild(s),s},t.prototype.resize=function(){console.warn("Resize is deprecated and will be removed in version 1.0");},t.prototype.isOverflow=function(){var t=window.innerHeight,o=this.modalBox.clientHeight;return o>=t},t.prototype.checkOverflow=function(){this.modal.classList.contains("tingle-modal--visible")&&(this.isOverflow()?this.modal.classList.add("tingle-modal--overflow"):this.modal.classList.remove("tingle-modal--overflow"),!this.isOverflow()&&this.opts.stickyFooter?this.setStickyFooter(!1):this.isOverflow()&&this.opts.stickyFooter&&(o.call(this),this.setStickyFooter(!0)));},{modal:t}});
});

var alertify = createCommonjsModule(function (module) {
/**
 * alertifyjs 1.11.0 http://alertifyjs.com
 * AlertifyJS is a javascript framework for developing pretty browser dialogs and notifications.
 * Copyright 2017 Mohammad Younes <Mohammad@alertifyjs.com> (http://alertifyjs.com) 
 * Licensed under GPL 3 <https://opensource.org/licenses/gpl-3.0>*/
( function ( window ) {
    'use strict';
    
    /**
     * Keys enum
     * @type {Object}
     */
    var keys = {
        ENTER: 13,
        ESC: 27,
        F1: 112,
        F12: 123,
        LEFT: 37,
        RIGHT: 39
    };
    /**
     * Default options 
     * @type {Object}
     */
    var defaults = {
        autoReset:true,
        basic:false,
        closable:true,
        closableByDimmer:true,
        frameless:false,
        maintainFocus:true, //global default not per instance, applies to all dialogs
        maximizable:true,
        modal:true,
        movable:true,
        moveBounded:false,
        overflow:true,
        padding: true,
        pinnable:true,
        pinned:true,
        preventBodyShift:false, //global default not per instance, applies to all dialogs
        resizable:true,
        startMaximized:false,
        transition:'pulse',
        notifier:{
            delay:5,
            position:'bottom-right',
            closeButton:false
        },
        glossary:{
            title:'AlertifyJS',
            ok: 'OK',
            cancel: 'Cancel',
            acccpt: 'Accept',
            deny: 'Deny',
            confirm: 'Confirm',
            decline: 'Decline',
            close: 'Close',
            maximize: 'Maximize',
            restore: 'Restore',
        },
        theme:{
            input:'ajs-input',
            ok:'ajs-ok',
            cancel:'ajs-cancel',
        }
    };
    
    //holds open dialogs instances
    var openDialogs = [];

    /**
     * [Helper]  Adds the specified class(es) to the element.
     *
     * @element {node}      The element
     * @className {string}  One or more space-separated classes to be added to the class attribute of the element.
     * 
     * @return {undefined}
     */
    function addClass(element,classNames){
        element.className += ' ' + classNames;
    }
    
    /**
     * [Helper]  Removes the specified class(es) from the element.
     *
     * @element {node}      The element
     * @className {string}  One or more space-separated classes to be removed from the class attribute of the element.
     * 
     * @return {undefined}
     */
    function removeClass(element, classNames) {
        var original = element.className.split(' ');
        var toBeRemoved = classNames.split(' ');
        for (var x = 0; x < toBeRemoved.length; x += 1) {
            var index = original.indexOf(toBeRemoved[x]);
            if (index > -1){
                original.splice(index,1);
            }
        }
        element.className = original.join(' ');
    }

    /**
     * [Helper]  Checks if the document is RTL
     *
     * @return {Boolean} True if the document is RTL, false otherwise.
     */
    function isRightToLeft(){
        return window.getComputedStyle(document.body).direction === 'rtl';
    }
    /**
     * [Helper]  Get the document current scrollTop
     *
     * @return {Number} current document scrollTop value
     */
    function getScrollTop(){
        return ((document.documentElement && document.documentElement.scrollTop) || document.body.scrollTop);
    }

    /**
     * [Helper]  Get the document current scrollLeft
     *
     * @return {Number} current document scrollLeft value
     */
    function getScrollLeft(){
        return ((document.documentElement && document.documentElement.scrollLeft) || document.body.scrollLeft);
    }

    /**
    * Helper: clear contents
    *
    */
    function clearContents(element){
        while (element.lastChild) {
            element.removeChild(element.lastChild);
        }
    }
    /**
     * Extends a given prototype by merging properties from base into sub.
     *
     * @sub {Object} sub The prototype being overwritten.
     * @base {Object} base The prototype being written.
     *
     * @return {Object} The extended prototype.
     */
    function copy(src) {
        if(null === src){
            return src;
        }
        var cpy;
        if(Array.isArray(src)){
            cpy = [];
            for(var x=0;x<src.length;x+=1){
                cpy.push(copy(src[x]));
            }
            return cpy;
        }
      
        if(src instanceof Date){
            return new Date(src.getTime());
        }
      
        if(src instanceof RegExp){
            cpy = new RegExp(src.source);
            cpy.global = src.global;
            cpy.ignoreCase = src.ignoreCase;
            cpy.multiline = src.multiline;
            cpy.lastIndex = src.lastIndex;
            return cpy;
        }
        
        if(typeof src === 'object'){
            cpy = {};
            // copy dialog pototype over definition.
            for (var prop in src) {
                if (src.hasOwnProperty(prop)) {
                    cpy[prop] = copy(src[prop]);
                }
            }
            return cpy;
        }
        return src;
    }
    /**
      * Helper: destruct the dialog
      *
      */
    function destruct(instance, initialize){
        //delete the dom and it's references.
        var root = instance.elements.root;
        root.parentNode.removeChild(root);
        delete instance.elements;
        //copy back initial settings.
        instance.settings = copy(instance.__settings);
        //re-reference init function.
        instance.__init = initialize;
        //delete __internal variable to allow re-initialization.
        delete instance.__internal;
    }

    /**
     * Use a closure to return proper event listener method. Try to use
     * `addEventListener` by default but fallback to `attachEvent` for
     * unsupported browser. The closure simply ensures that the test doesn't
     * happen every time the method is called.
     *
     * @param    {Node}     el    Node element
     * @param    {String}   event Event type
     * @param    {Function} fn    Callback of event
     * @return   {Function}
     */
    var on = (function () {
        if (document.addEventListener) {
            return function (el, event, fn, useCapture) {
                el.addEventListener(event, fn, useCapture === true);
            };
        } else if (document.attachEvent) {
            return function (el, event, fn) {
                el.attachEvent('on' + event, fn);
            };
        }
    }());

    /**
     * Use a closure to return proper event listener method. Try to use
     * `removeEventListener` by default but fallback to `detachEvent` for
     * unsupported browser. The closure simply ensures that the test doesn't
     * happen every time the method is called.
     *
     * @param    {Node}     el    Node element
     * @param    {String}   event Event type
     * @param    {Function} fn    Callback of event
     * @return   {Function}
     */
    var off = (function () {
        if (document.removeEventListener) {
            return function (el, event, fn, useCapture) {
                el.removeEventListener(event, fn, useCapture === true);
            };
        } else if (document.detachEvent) {
            return function (el, event, fn) {
                el.detachEvent('on' + event, fn);
            };
        }
    }());

    /**
     * Prevent default event from firing
     *
     * @param  {Event} event Event object
     * @return {undefined}

    function prevent ( event ) {
        if ( event ) {
            if ( event.preventDefault ) {
                event.preventDefault();
            } else {
                event.returnValue = false;
            }
        }
    }
    */
    var transition = (function () {
        var t, type;
        var supported = false;
        var transitions = {
            'animation'        : 'animationend',
            'OAnimation'       : 'oAnimationEnd oanimationend',
            'msAnimation'      : 'MSAnimationEnd',
            'MozAnimation'     : 'animationend',
            'WebkitAnimation'  : 'webkitAnimationEnd'
        };

        for (t in transitions) {
            if (document.documentElement.style[t] !== undefined) {
                type = transitions[t];
                supported = true;
                break;
            }
        }

        return {
            type: type,
            supported: supported
        };
    }());

    /**
    * Creates event handler delegate that sends the instance as last argument.
    * 
    * @return {Function}    a function wrapper which sends the instance as last argument.
    */
    function delegate(context, method) {
        return function () {
            if (arguments.length > 0) {
                var args = [];
                for (var x = 0; x < arguments.length; x += 1) {
                    args.push(arguments[x]);
                }
                args.push(context);
                return method.apply(context, args);
            }
            return method.apply(context, [null, context]);
        };
    }
    /**
    * Helper for creating a dialog close event.
    * 
    * @return {object}
    */
    function createCloseEvent(index, button) {
        return {
            index: index,
            button: button,
            cancel: false
        };
    }
    /**
    * Helper for dispatching events.
    *
    * @param  {string} evenType The type of the event to disptach.
    * @param  {object} instance The dialog instance disptaching the event.
    *
    * @return   {any}   The result of the invoked function.
    */
    function dispatchEvent(eventType, instance) {
        if ( typeof instance.get(eventType) === 'function' ) {
            return instance.get(eventType).call(instance);
        }
    }


    /**
     * Super class for all dialogs
     *
     * @return {Object}		base dialog prototype
     */
    var dialog = (function () {
        var //holds the list of used keys.
            usedKeys = [],
            //dummy variable, used to trigger dom reflow.
            reflow = null,
            //condition for detecting safari
            isSafari = window.navigator.userAgent.indexOf('Safari') > -1 && window.navigator.userAgent.indexOf('Chrome') < 0,
            //dialog building blocks
            templates = {
                dimmer:'<div class="ajs-dimmer"></div>',
                /*tab index required to fire click event before body focus*/
                modal: '<div class="ajs-modal" tabindex="0"></div>',
                dialog: '<div class="ajs-dialog" tabindex="0"></div>',
                reset: '<button class="ajs-reset"></button>',
                commands: '<div class="ajs-commands"><button class="ajs-pin"></button><button class="ajs-maximize"></button><button class="ajs-close"></button></div>',
                header: '<div class="ajs-header"></div>',
                body: '<div class="ajs-body"></div>',
                content: '<div class="ajs-content"></div>',
                footer: '<div class="ajs-footer"></div>',
                buttons: { primary: '<div class="ajs-primary ajs-buttons"></div>', auxiliary: '<div class="ajs-auxiliary ajs-buttons"></div>' },
                button: '<button class="ajs-button"></button>',
                resizeHandle: '<div class="ajs-handle"></div>',
            },
            //common class names
            classes = {
                animationIn: 'ajs-in',
                animationOut: 'ajs-out',
                base: 'alertify',
                basic:'ajs-basic',
                capture: 'ajs-capture',
                closable:'ajs-closable',
                fixed: 'ajs-fixed',
                frameless:'ajs-frameless',
                hidden: 'ajs-hidden',
                maximize: 'ajs-maximize',
                maximized: 'ajs-maximized',
                maximizable:'ajs-maximizable',
                modeless: 'ajs-modeless',
                movable: 'ajs-movable',
                noSelection: 'ajs-no-selection',
                noOverflow: 'ajs-no-overflow',
                noPadding:'ajs-no-padding',
                pin:'ajs-pin',
                pinnable:'ajs-pinnable',
                prefix: 'ajs-',
                resizable: 'ajs-resizable',
                restore: 'ajs-restore',
                shake:'ajs-shake',
                unpinned:'ajs-unpinned',
            };

        /**
         * Helper: initializes the dialog instance
         * 
         * @return	{Number}	The total count of currently open modals.
         */
        function initialize(instance){
            
            if(!instance.__internal){

                //no need to expose init after this.
                delete instance.__init;
              
                //keep a copy of initial dialog settings
                if(!instance.__settings){
                    instance.__settings = copy(instance.settings);
                }
                //in case the script was included before body.
                //after first dialog gets initialized, it won't be null anymore!
                if(null === reflow){
                    // set tabindex attribute on body element this allows script to give it
                    // focus after the dialog is closed
                    document.body.setAttribute( 'tabindex', '0' );
                }

                //get dialog buttons/focus setup
                var setup;
                if(typeof instance.setup === 'function'){
                    setup = instance.setup();
                    setup.options = setup.options  || {};
                    setup.focus = setup.focus  || {};
                }else{
                    setup = {
                        buttons:[],
                        focus:{
                            element:null,
                            select:false
                        },
                        options:{
                        }
                    };
                }
                
                //initialize hooks object.
                if(typeof instance.hooks !== 'object'){
                    instance.hooks = {};
                }

                //copy buttons defintion
                var buttonsDefinition = [];
                if(Array.isArray(setup.buttons)){
                    for(var b=0;b<setup.buttons.length;b+=1){
                        var ref  = setup.buttons[b],
                            cpy = {};
                        for (var i in ref) {
                            if (ref.hasOwnProperty(i)) {
                                cpy[i] = ref[i];
                            }
                        }
                        buttonsDefinition.push(cpy);
                    }
                }

                var internal = instance.__internal = {
                    /**
                     * Flag holding the open state of the dialog
                     * 
                     * @type {Boolean}
                     */
                    isOpen:false,
                    /**
                     * Active element is the element that will receive focus after
                     * closing the dialog. It defaults as the body tag, but gets updated
                     * to the last focused element before the dialog was opened.
                     *
                     * @type {Node}
                     */
                    activeElement:document.body,
                    timerIn:undefined,
                    timerOut:undefined,
                    buttons: buttonsDefinition,
                    focus: setup.focus,
                    options: {
                        title: undefined,
                        modal: undefined,
                        basic:undefined,
                        frameless:undefined,
                        pinned: undefined,
                        movable: undefined,
                        moveBounded:undefined,
                        resizable: undefined,
                        autoReset: undefined,
                        closable: undefined,
                        closableByDimmer: undefined,
                        maximizable: undefined,
                        startMaximized: undefined,
                        pinnable: undefined,
                        transition: undefined,
                        padding:undefined,
                        overflow:undefined,
                        onshow:undefined,
                        onclosing:undefined,
                        onclose:undefined,
                        onfocus:undefined,
                        onmove:undefined,
                        onmoved:undefined,
                        onresize:undefined,
                        onresized:undefined,
                        onmaximize:undefined,
                        onmaximized:undefined,
                        onrestore:undefined,
                        onrestored:undefined
                    },
                    resetHandler:undefined,
                    beginMoveHandler:undefined,
                    beginResizeHandler:undefined,
                    bringToFrontHandler:undefined,
                    modalClickHandler:undefined,
                    buttonsClickHandler:undefined,
                    commandsClickHandler:undefined,
                    transitionInHandler:undefined,
                    transitionOutHandler:undefined,
                    destroy:undefined
                };

                var elements = {};
                //root node
                elements.root = document.createElement('div');
                
                elements.root.className = classes.base + ' ' + classes.hidden + ' ';

                elements.root.innerHTML = templates.dimmer + templates.modal;
                
                //dimmer
                elements.dimmer = elements.root.firstChild;

                //dialog
                elements.modal = elements.root.lastChild;
                elements.modal.innerHTML = templates.dialog;
                elements.dialog = elements.modal.firstChild;
                elements.dialog.innerHTML = templates.reset + templates.commands + templates.header + templates.body + templates.footer + templates.resizeHandle + templates.reset;

                //reset links
                elements.reset = [];
                elements.reset.push(elements.dialog.firstChild);
                elements.reset.push(elements.dialog.lastChild);
                
                //commands
                elements.commands = {};
                elements.commands.container = elements.reset[0].nextSibling;
                elements.commands.pin = elements.commands.container.firstChild;
                elements.commands.maximize = elements.commands.pin.nextSibling;
                elements.commands.close = elements.commands.maximize.nextSibling;
                
                //header
                elements.header = elements.commands.container.nextSibling;

                //body
                elements.body = elements.header.nextSibling;
                elements.body.innerHTML = templates.content;
                elements.content = elements.body.firstChild;

                //footer
                elements.footer = elements.body.nextSibling;
                elements.footer.innerHTML = templates.buttons.auxiliary + templates.buttons.primary;
                
                //resize handle
                elements.resizeHandle = elements.footer.nextSibling;

                //buttons
                elements.buttons = {};
                elements.buttons.auxiliary = elements.footer.firstChild;
                elements.buttons.primary = elements.buttons.auxiliary.nextSibling;
                elements.buttons.primary.innerHTML = templates.button;
                elements.buttonTemplate = elements.buttons.primary.firstChild;
                //remove button template
                elements.buttons.primary.removeChild(elements.buttonTemplate);
                               
                for(var x=0; x < instance.__internal.buttons.length; x+=1) {
                    var button = instance.__internal.buttons[x];
                    
                    // add to the list of used keys.
                    if(usedKeys.indexOf(button.key) < 0){
                        usedKeys.push(button.key);
                    }

                    button.element = elements.buttonTemplate.cloneNode();
                    button.element.innerHTML = button.text;
                    if(typeof button.className === 'string' &&  button.className !== ''){
                        addClass(button.element, button.className);
                    }
                    for(var key in button.attrs){
                        if(key !== 'className' && button.attrs.hasOwnProperty(key)){
                            button.element.setAttribute(key, button.attrs[key]);
                        }
                    }
                    if(button.scope === 'auxiliary'){
                        elements.buttons.auxiliary.appendChild(button.element);
                    }else{
                        elements.buttons.primary.appendChild(button.element);
                    }
                }
                //make elements pubic
                instance.elements = elements;
                
                //save event handlers delegates
                internal.resetHandler = delegate(instance, onReset);
                internal.beginMoveHandler = delegate(instance, beginMove);
                internal.beginResizeHandler = delegate(instance, beginResize);
                internal.bringToFrontHandler = delegate(instance, bringToFront);
                internal.modalClickHandler = delegate(instance, modalClickHandler);
                internal.buttonsClickHandler = delegate(instance, buttonsClickHandler);
                internal.commandsClickHandler = delegate(instance, commandsClickHandler);
                internal.transitionInHandler = delegate(instance, handleTransitionInEvent);
                internal.transitionOutHandler = delegate(instance, handleTransitionOutEvent);

                //settings
                for(var opKey in internal.options){
                    if(setup.options[opKey] !== undefined){
                        // if found in user options
                        instance.set(opKey, setup.options[opKey]);
                    }else if(alertify.defaults.hasOwnProperty(opKey)) {
                        // else if found in defaults options
                        instance.set(opKey, alertify.defaults[opKey]);
                    }else if(opKey === 'title' ) {
                        // else if title key, use alertify.defaults.glossary
                        instance.set(opKey, alertify.defaults.glossary[opKey]);
                    }
                }

                // allow dom customization
                if(typeof instance.build === 'function'){
                    instance.build();
                }
            }
            
            //add to the end of the DOM tree.
            document.body.appendChild(instance.elements.root);
        }

        /**
         * Helper: maintains scroll position
         *
         */
        var scrollX, scrollY;
        function saveScrollPosition(){
            scrollX = getScrollLeft();
            scrollY = getScrollTop();
        }
        function restoreScrollPosition(){
            window.scrollTo(scrollX, scrollY);
        }

        /**
         * Helper: adds/removes no-overflow class from body
         *
         */
        function ensureNoOverflow(){
            var requiresNoOverflow = 0;
            for(var x=0;x<openDialogs.length;x+=1){
                var instance = openDialogs[x];
                if(instance.isModal() || instance.isMaximized()){
                    requiresNoOverflow+=1;
                }
            }
            if(requiresNoOverflow === 0 && document.body.className.indexOf(classes.noOverflow) >= 0){
                //last open modal or last maximized one
                removeClass(document.body, classes.noOverflow);
                preventBodyShift(false);
            }else if(requiresNoOverflow > 0 && document.body.className.indexOf(classes.noOverflow) < 0){
                //first open modal or first maximized one
                preventBodyShift(true);
                addClass(document.body, classes.noOverflow);
            }
        }
        var top = '', topScroll = 0;
        /**
         * Helper: prevents body shift.
         *
         */
        function preventBodyShift(add){
            if(alertify.defaults.preventBodyShift && document.documentElement.scrollHeight > document.documentElement.clientHeight){
                if(add ){//&& openDialogs[openDialogs.length-1].elements.dialog.clientHeight <= document.documentElement.clientHeight){
                    topScroll = scrollY;
                    top = window.getComputedStyle(document.body).top;
                    addClass(document.body, classes.fixed);
                    document.body.style.top = -scrollY + 'px';
                } else {
                    scrollY = topScroll;
                    document.body.style.top = top;
                    removeClass(document.body, classes.fixed);
                    restoreScrollPosition();
                }
            }
        }
		
        /**
         * Sets the name of the transition used to show/hide the dialog
         * 
         * @param {Object} instance The dilog instance.
         *
         */
        function updateTransition(instance, value, oldValue){
            if(typeof oldValue === 'string'){
                removeClass(instance.elements.root,classes.prefix +  oldValue);
            }
            addClass(instance.elements.root, classes.prefix + value);
            reflow = instance.elements.root.offsetWidth;
        }
		
        /**
         * Toggles the dialog display mode
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function updateDisplayMode(instance){
            if(instance.get('modal')){

                //make modal
                removeClass(instance.elements.root, classes.modeless);

                //only if open
                if(instance.isOpen()){
                    unbindModelessEvents(instance);

                    //in case a pinned modless dialog was made modal while open.
                    updateAbsPositionFix(instance);

                    ensureNoOverflow();
                }
            }else{
                //make modelss
                addClass(instance.elements.root, classes.modeless);

                //only if open
                if(instance.isOpen()){
                    bindModelessEvents(instance);

                    //in case pin/unpin was called while a modal is open
                    updateAbsPositionFix(instance);

                    ensureNoOverflow();
                }
            }
        }

        /**
         * Toggles the dialog basic view mode 
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function updateBasicMode(instance){
            if (instance.get('basic')) {
                // add class
                addClass(instance.elements.root, classes.basic);
            } else {
                // remove class
                removeClass(instance.elements.root, classes.basic);
            }
        }

        /**
         * Toggles the dialog frameless view mode 
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function updateFramelessMode(instance){
            if (instance.get('frameless')) {
                // add class
                addClass(instance.elements.root, classes.frameless);
            } else {
                // remove class
                removeClass(instance.elements.root, classes.frameless);
            }
        }
		
        /**
         * Helper: Brings the modeless dialog to front, attached to modeless dialogs.
         *
         * @param {Event} event Focus event
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function bringToFront(event, instance){
            
            // Do not bring to front if preceeded by an open modal
            var index = openDialogs.indexOf(instance);
            for(var x=index+1;x<openDialogs.length;x+=1){
                if(openDialogs[x].isModal()){
                    return;
                }
            }
			
            // Bring to front by making it the last child.
            if(document.body.lastChild !== instance.elements.root){
                document.body.appendChild(instance.elements.root);
                //also make sure its at the end of the list
                openDialogs.splice(openDialogs.indexOf(instance),1);
                openDialogs.push(instance);
                setFocus(instance);
            }
			
            return false;
        }
		
        /**
         * Helper: reflects dialogs options updates
         *
         * @param {Object} instance The dilog instance.
         * @param {String} option The updated option name.
         *
         * @return	{undefined}	
         */
        function optionUpdated(instance, option, oldValue, newValue){
            switch(option){
            case 'title':
                instance.setHeader(newValue);
                break;
            case 'modal':
                updateDisplayMode(instance);
                break;
            case 'basic':
                updateBasicMode(instance);
                break;
            case 'frameless':
                updateFramelessMode(instance);
                break;
            case 'pinned':
                updatePinned(instance);
                break;
            case 'closable':
                updateClosable(instance);
                break;
            case 'maximizable':
                updateMaximizable(instance);
                break;
            case 'pinnable':
                updatePinnable(instance);
                break;
            case 'movable':
                updateMovable(instance);
                break;
            case 'resizable':
                updateResizable(instance);
                break;
            case 'transition':
                updateTransition(instance,newValue, oldValue);
                break;
            case 'padding':
                if(newValue){
                    removeClass(instance.elements.root, classes.noPadding);
                }else if(instance.elements.root.className.indexOf(classes.noPadding) < 0){
                    addClass(instance.elements.root, classes.noPadding);
                }
                break;
            case 'overflow':
                if(newValue){
                    removeClass(instance.elements.root, classes.noOverflow);
                }else if(instance.elements.root.className.indexOf(classes.noOverflow) < 0){
                    addClass(instance.elements.root, classes.noOverflow);
                }
                break;
            case 'transition':
                updateTransition(instance,newValue, oldValue);
                break;
            }

            // internal on option updated event
            if(typeof instance.hooks.onupdate === 'function'){
                instance.hooks.onupdate.call(instance, option, oldValue, newValue);
            }
        }
		
        /**
         * Helper: reflects dialogs options updates
         *
         * @param {Object} instance The dilog instance.
         * @param {Object} obj The object to set/get a value on/from.
         * @param {Function} callback The callback function to call if the key was found.
         * @param {String|Object} key A string specifying a propery name or a collection of key value pairs.
         * @param {Object} value Optional, the value associated with the key (in case it was a string).
         * @param {String} option The updated option name.
         *
         * @return	{Object} result object 
         *	The result objects has an 'op' property, indicating of this is a SET or GET operation.
         *		GET: 
         *		- found: a flag indicating if the key was found or not.
         *		- value: the property value.
         *		SET:
         *		- items: a list of key value pairs of the properties being set.
         *				each contains:
         *					- found: a flag indicating if the key was found or not.
         *					- key: the property key.
         *					- value: the property value.
         */
        function update(instance, obj, callback, key, value){
            var result = {op:undefined, items: [] };
            if(typeof value === 'undefined' && typeof key === 'string') {
                //get
                result.op = 'get';
                if(obj.hasOwnProperty(key)){
                    result.found = true;
                    result.value = obj[key];
                }else{
                    result.found = false;
                    result.value = undefined;
                }
            }
            else
            {
                var old;
                //set
                result.op = 'set';
                if(typeof key === 'object'){
                    //set multiple
                    var args = key;
                    for (var prop in args) {
                        if (obj.hasOwnProperty(prop)) {
                            if(obj[prop] !== args[prop]){
                                old = obj[prop];
                                obj[prop] = args[prop];
                                callback.call(instance,prop, old, args[prop]);
                            }
                            result.items.push({ 'key': prop, 'value': args[prop], 'found':true});
                        }else{
                            result.items.push({ 'key': prop, 'value': args[prop], 'found':false});
                        }
                    }
                } else if (typeof key === 'string'){
                    //set single
                    if (obj.hasOwnProperty(key)) {
                        if(obj[key] !== value){
                            old  = obj[key];
                            obj[key] = value;
                            callback.call(instance,key, old, value);
                        }
                        result.items.push({'key': key, 'value': value , 'found':true});

                    }else{
                        result.items.push({'key': key, 'value': value , 'found':false});
                    }
                } else {
                    //invalid params
                    throw new Error('args must be a string or object');
                }
            }
            return result;
        }


        /**
         * Triggers a close event.
         *
         * @param {Object} instance	The dilog instance.
         * 
         * @return {undefined}
         */
        function triggerClose(instance) {
            var found;
            triggerCallback(instance, function (button) {
                return found = (button.invokeOnClose === true);
            });
            //none of the buttons registered as onclose callback
            //close the dialog
            if (!found && instance.isOpen()) {
                instance.close();
            }
        }

        /**
         * Dialogs commands event handler, attached to the dialog commands element.
         *
         * @param {Event} event	DOM event object.
         * @param {Object} instance	The dilog instance.
         * 
         * @return {undefined}
         */
        function commandsClickHandler(event, instance) {
            var target = event.srcElement || event.target;
            switch (target) {
            case instance.elements.commands.pin:
                if (!instance.isPinned()) {
                    pin(instance);
                } else {
                    unpin(instance);
                }
                break;
            case instance.elements.commands.maximize:
                if (!instance.isMaximized()) {
                    maximize(instance);
                } else {
                    restore(instance);
                }
                break;
            case instance.elements.commands.close:
                triggerClose(instance);
                break;
            }
            return false;
        }

        /**
         * Helper: pins the modeless dialog.
         *
         * @param {Object} instance	The dialog instance.
         * 
         * @return {undefined}
         */
        function pin(instance) {
            //pin the dialog
            instance.set('pinned', true);
        }

        /**
         * Helper: unpins the modeless dialog.
         *
         * @param {Object} instance	The dilog instance.
         * 
         * @return {undefined}
         */
        function unpin(instance) {
            //unpin the dialog 
            instance.set('pinned', false);
        }


        /**
         * Helper: enlarges the dialog to fill the entire screen.
         *
         * @param {Object} instance	The dilog instance.
         * 
         * @return {undefined}
         */
        function maximize(instance) {
            // allow custom `onmaximize` method
            dispatchEvent('onmaximize', instance);
            //maximize the dialog 
            addClass(instance.elements.root, classes.maximized);
            if (instance.isOpen()) {
                ensureNoOverflow();
            }
            // allow custom `onmaximized` method
            dispatchEvent('onmaximized', instance);
        }

        /**
         * Helper: returns the dialog to its former size.
         *
         * @param {Object} instance	The dilog instance.
         * 
         * @return {undefined}
         */
        function restore(instance) {
            // allow custom `onrestore` method
            dispatchEvent('onrestore', instance);
            //maximize the dialog 
            removeClass(instance.elements.root, classes.maximized);
            if (instance.isOpen()) {
                ensureNoOverflow();
            }
            // allow custom `onrestored` method
            dispatchEvent('onrestored', instance);
        }

        /**
         * Show or hide the maximize box.
         *
         * @param {Object} instance The dilog instance.
         * @param {Boolean} on True to add the behavior, removes it otherwise.
         *
         * @return {undefined}
         */
        function updatePinnable(instance) {
            if (instance.get('pinnable')) {
                // add class
                addClass(instance.elements.root, classes.pinnable);
            } else {
                // remove class
                removeClass(instance.elements.root, classes.pinnable);
            }
        }

        /**
         * Helper: Fixes the absolutly positioned modal div position.
         *
         * @param {Object} instance The dialog instance.
         *
         * @return {undefined}
         */
        function addAbsPositionFix(instance) {
            var scrollLeft = getScrollLeft();
            instance.elements.modal.style.marginTop = getScrollTop() + 'px';
            instance.elements.modal.style.marginLeft = scrollLeft + 'px';
            instance.elements.modal.style.marginRight = (-scrollLeft) + 'px';
        }

        /**
         * Helper: Removes the absolutly positioned modal div position fix.
         *
         * @param {Object} instance The dialog instance.
         *
         * @return {undefined}
         */
        function removeAbsPositionFix(instance) {
            var marginTop = parseInt(instance.elements.modal.style.marginTop, 10);
            var marginLeft = parseInt(instance.elements.modal.style.marginLeft, 10);
            instance.elements.modal.style.marginTop = '';
            instance.elements.modal.style.marginLeft = '';
            instance.elements.modal.style.marginRight = '';

            if (instance.isOpen()) {
                var top = 0,
                    left = 0;
                if (instance.elements.dialog.style.top !== '') {
                    top = parseInt(instance.elements.dialog.style.top, 10);
                }
                instance.elements.dialog.style.top = (top + (marginTop - getScrollTop())) + 'px';

                if (instance.elements.dialog.style.left !== '') {
                    left = parseInt(instance.elements.dialog.style.left, 10);
                }
                instance.elements.dialog.style.left = (left + (marginLeft - getScrollLeft())) + 'px';
            }
        }
        /**
         * Helper: Adds/Removes the absolutly positioned modal div position fix based on its pinned setting.
         *
         * @param {Object} instance The dialog instance.
         *
         * @return {undefined}
         */
        function updateAbsPositionFix(instance) {
            // if modeless and unpinned add fix
            if (!instance.get('modal') && !instance.get('pinned')) {
                addAbsPositionFix(instance);
            } else {
                removeAbsPositionFix(instance);
            }
        }
        /**
         * Toggles the dialog position lock | modeless only.
         *
         * @param {Object} instance The dilog instance.
         * @param {Boolean} on True to make it modal, false otherwise.
         *
         * @return {undefined}
         */
        function updatePinned(instance) {
            if (instance.get('pinned')) {
                removeClass(instance.elements.root, classes.unpinned);
                if (instance.isOpen()) {
                    removeAbsPositionFix(instance);
                }
            } else {
                addClass(instance.elements.root, classes.unpinned);
                if (instance.isOpen() && !instance.isModal()) {
                    addAbsPositionFix(instance);
                }
            }
        }

        /**
         * Show or hide the maximize box.
         *
         * @param {Object} instance The dilog instance.
         * @param {Boolean} on True to add the behavior, removes it otherwise.
         *
         * @return {undefined}
         */
        function updateMaximizable(instance) {
            if (instance.get('maximizable')) {
                // add class
                addClass(instance.elements.root, classes.maximizable);
            } else {
                // remove class
                removeClass(instance.elements.root, classes.maximizable);
            }
        }

        /**
         * Show or hide the close box.
         *
         * @param {Object} instance The dilog instance.
         * @param {Boolean} on True to add the behavior, removes it otherwise.
         *
         * @return {undefined}
         */
        function updateClosable(instance) {
            if (instance.get('closable')) {
                // add class
                addClass(instance.elements.root, classes.closable);
                bindClosableEvents(instance);
            } else {
                // remove class
                removeClass(instance.elements.root, classes.closable);
                unbindClosableEvents(instance);
            }
        }

        // flag to cancel click event if already handled by end resize event (the mousedown, mousemove, mouseup sequence fires a click event.).
        var cancelClick = false;

        /**
         * Helper: closes the modal dialog when clicking the modal
         *
         * @param {Event} event	DOM event object.
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function modalClickHandler(event, instance) {
            var target = event.srcElement || event.target;
            if (!cancelClick && target === instance.elements.modal && instance.get('closableByDimmer') === true) {
                triggerClose(instance);
            }
            cancelClick = false;
            return false;
        }

        // flag to cancel keyup event if already handled by click event (pressing Enter on a focusted button).
        var cancelKeyup = false;
        /** 
         * Helper: triggers a button callback
         *
         * @param {Object}		The dilog instance.
         * @param {Function}	Callback to check which button triggered the event.
         *
         * @return {undefined}
         */
        function triggerCallback(instance, check) {
            for (var idx = 0; idx < instance.__internal.buttons.length; idx += 1) {
                var button = instance.__internal.buttons[idx];
                if (!button.element.disabled && check(button)) {
                    var closeEvent = createCloseEvent(idx, button);
                    if (typeof instance.callback === 'function') {
                        instance.callback.apply(instance, [closeEvent]);
                    }
                    //close the dialog only if not canceled.
                    if (closeEvent.cancel === false) {
                        instance.close();
                    }
                    break;
                }
            }
        }

        /**
         * Clicks event handler, attached to the dialog footer.
         *
         * @param {Event}		DOM event object.
         * @param {Object}		The dilog instance.
         * 
         * @return {undefined}
         */
        function buttonsClickHandler(event, instance) {
            var target = event.srcElement || event.target;
            triggerCallback(instance, function (button) {
                // if this button caused the click, cancel keyup event
                return button.element === target && (cancelKeyup = true);
            });
        }

        /**
         * Keyup event handler, attached to the document.body
         *
         * @param {Event}		DOM event object.
         * @param {Object}		The dilog instance.
         * 
         * @return {undefined}
         */
        function keyupHandler(event) {
            //hitting enter while button has focus will trigger keyup too.
            //ignore if handled by clickHandler
            if (cancelKeyup) {
                cancelKeyup = false;
                return;
            }
            var instance = openDialogs[openDialogs.length - 1];
            var keyCode = event.keyCode;
            if (instance.__internal.buttons.length === 0 && keyCode === keys.ESC && instance.get('closable') === true) {
                triggerClose(instance);
                return false;
            }else if (usedKeys.indexOf(keyCode) > -1) {
                triggerCallback(instance, function (button) {
                    return button.key === keyCode;
                });
                return false;
            }
        }
        /**
        * Keydown event handler, attached to the document.body
        *
        * @param {Event}		DOM event object.
        * @param {Object}		The dilog instance.
        * 
        * @return {undefined}
        */
        function keydownHandler(event) {
            var instance = openDialogs[openDialogs.length - 1];
            var keyCode = event.keyCode;
            if (keyCode === keys.LEFT || keyCode === keys.RIGHT) {
                var buttons = instance.__internal.buttons;
                for (var x = 0; x < buttons.length; x += 1) {
                    if (document.activeElement === buttons[x].element) {
                        switch (keyCode) {
                        case keys.LEFT:
                            buttons[(x || buttons.length) - 1].element.focus();
                            return;
                        case keys.RIGHT:
                            buttons[(x + 1) % buttons.length].element.focus();
                            return;
                        }
                    }
                }
            }else if (keyCode < keys.F12 + 1 && keyCode > keys.F1 - 1 && usedKeys.indexOf(keyCode) > -1) {
                event.preventDefault();
                event.stopPropagation();
                triggerCallback(instance, function (button) {
                    return button.key === keyCode;
                });
                return false;
            }
        }


        /**
         * Sets focus to proper dialog element
         *
         * @param {Object} instance The dilog instance.
         * @param {Node} [resetTarget=undefined] DOM element to reset focus to.
         *
         * @return {undefined}
         */
        function setFocus(instance, resetTarget) {
            // reset target has already been determined.
            if (resetTarget) {
                resetTarget.focus();
            } else {
                // current instance focus settings
                var focus = instance.__internal.focus;
                // the focus element.
                var element = focus.element;

                switch (typeof focus.element) {
                // a number means a button index
                case 'number':
                    if (instance.__internal.buttons.length > focus.element) {
                        //in basic view, skip focusing the buttons.
                        if (instance.get('basic') === true) {
                            element = instance.elements.reset[0];
                        } else {
                            element = instance.__internal.buttons[focus.element].element;
                        }
                    }
                    break;
                // a string means querySelector to select from dialog body contents.
                case 'string':
                    element = instance.elements.body.querySelector(focus.element);
                    break;
                // a function should return the focus element.
                case 'function':
                    element = focus.element.call(instance);
                    break;
                }
                
                // if no focus element, default to first reset element.
                if ((typeof element === 'undefined' || element === null) && instance.__internal.buttons.length === 0) {
                    element = instance.elements.reset[0];
                }
                // focus
                if (element && element.focus) {
                    element.focus();
                    // if selectable
                    if (focus.select && element.select) {
                        element.select();
                    }
                }
            }
        }

        /**
         * Focus event handler, attached to document.body and dialogs own reset links.
         * handles the focus for modal dialogs only.
         *
         * @param {Event} event DOM focus event object.
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function onReset(event, instance) {

            // should work on last modal if triggered from document.body 
            if (!instance) {
                for (var x = openDialogs.length - 1; x > -1; x -= 1) {
                    if (openDialogs[x].isModal()) {
                        instance = openDialogs[x];
                        break;
                    }
                }
            }
            // if modal
            if (instance && instance.isModal()) {
                // determine reset target to enable forward/backward tab cycle.
                var resetTarget, target = event.srcElement || event.target;
                var lastResetElement = target === instance.elements.reset[1] || (instance.__internal.buttons.length === 0 && target === document.body);

                // if last reset link, then go to maximize or close
                if (lastResetElement) {
                    if (instance.get('maximizable')) {
                        resetTarget = instance.elements.commands.maximize;
                    } else if (instance.get('closable')) {
                        resetTarget = instance.elements.commands.close;
                    }
                }
                // if no reset target found, try finding the best button
                if (resetTarget === undefined) {
                    if (typeof instance.__internal.focus.element === 'number') {
                        // button focus element, go to first available button
                        if (target === instance.elements.reset[0]) {
                            resetTarget = instance.elements.buttons.auxiliary.firstChild || instance.elements.buttons.primary.firstChild;
                        } else if (lastResetElement) {
                            //restart the cycle by going to first reset link
                            resetTarget = instance.elements.reset[0];
                        }
                    } else {
                        // will reach here when tapping backwards, so go to last child
                        // The focus element SHOULD NOT be a button (logically!).
                        if (target === instance.elements.reset[0]) {
                            resetTarget = instance.elements.buttons.primary.lastChild || instance.elements.buttons.auxiliary.lastChild;
                        }
                    }
                }
                // focus
                setFocus(instance, resetTarget);
            }
        }
        /**
         * Transition in transitionend event handler. 
         *
         * @param {Event}		TransitionEnd event object.
         * @param {Object}		The dilog instance.
         *
         * @return {undefined}
         */
        function handleTransitionInEvent(event, instance) {
            // clear the timer
            clearTimeout(instance.__internal.timerIn);

            // once transition is complete, set focus
            setFocus(instance);

            //restore scroll to prevent document jump
            restoreScrollPosition();

            // allow handling key up after transition ended.
            cancelKeyup = false;

            // allow custom `onfocus` method
            dispatchEvent('onfocus', instance);

            // unbind the event
            off(instance.elements.dialog, transition.type, instance.__internal.transitionInHandler);

            removeClass(instance.elements.root, classes.animationIn);
        }

        /**
         * Transition out transitionend event handler. 
         *
         * @param {Event}		TransitionEnd event object.
         * @param {Object}		The dilog instance.
         *
         * @return {undefined}
         */
        function handleTransitionOutEvent(event, instance) {
            // clear the timer
            clearTimeout(instance.__internal.timerOut);
            // unbind the event
            off(instance.elements.dialog, transition.type, instance.__internal.transitionOutHandler);

            // reset move updates
            resetMove(instance);
            // reset resize updates
            resetResize(instance);

            // restore if maximized
            if (instance.isMaximized() && !instance.get('startMaximized')) {
                restore(instance);
            }

            // return focus to the last active element
            if (alertify.defaults.maintainFocus && instance.__internal.activeElement) {
                instance.__internal.activeElement.focus();
                instance.__internal.activeElement = null;
            }
            
            //destory the instance
            if (typeof instance.__internal.destroy === 'function') {
                instance.__internal.destroy.apply(instance);
            }
        }
        /* Controls moving a dialog around */
        //holde the current moving instance
        var movable = null,
            //holds the current X offset when move starts
            offsetX = 0,
            //holds the current Y offset when move starts
            offsetY = 0,
            xProp = 'pageX',
            yProp = 'pageY',
            bounds = null,
            refreshTop = false,
            moveDelegate = null;

        /**
         * Helper: sets the element top/left coordinates
         *
         * @param {Event} event	DOM event object.
         * @param {Node} element The element being moved.
         * 
         * @return {undefined}
         */
        function moveElement(event, element) {
            var left = (event[xProp] - offsetX),
                top  = (event[yProp] - offsetY);

            if(refreshTop){
                top -= document.body.scrollTop;
            }
           
            element.style.left = left + 'px';
            element.style.top = top + 'px';
           
        }
        /**
         * Helper: sets the element top/left coordinates within screen bounds
         *
         * @param {Event} event	DOM event object.
         * @param {Node} element The element being moved.
         * 
         * @return {undefined}
         */
        function moveElementBounded(event, element) {
            var left = (event[xProp] - offsetX),
                top  = (event[yProp] - offsetY);

            if(refreshTop){
                top -= document.body.scrollTop;
            }
            
            element.style.left = Math.min(bounds.maxLeft, Math.max(bounds.minLeft, left)) + 'px';
            if(refreshTop){
                element.style.top = Math.min(bounds.maxTop, Math.max(bounds.minTop, top)) + 'px';
            }else{
                element.style.top = Math.max(bounds.minTop, top) + 'px';
            }
        }
            

        /**
         * Triggers the start of a move event, attached to the header element mouse down event.
         * Adds no-selection class to the body, disabling selection while moving.
         *
         * @param {Event} event	DOM event object.
         * @param {Object} instance The dilog instance.
         * 
         * @return {Boolean} false
         */
        function beginMove(event, instance) {
            if (resizable === null && !instance.isMaximized() && instance.get('movable')) {
                var eventSrc, left=0, top=0;
                if (event.type === 'touchstart') {
                    event.preventDefault();
                    eventSrc = event.targetTouches[0];
                    xProp = 'clientX';
                    yProp = 'clientY';
                } else if (event.button === 0) {
                    eventSrc = event;
                }

                if (eventSrc) {

                    var element = instance.elements.dialog;
                    addClass(element, classes.capture);

                    if (element.style.left) {
                        left = parseInt(element.style.left, 10);
                    }

                    if (element.style.top) {
                        top = parseInt(element.style.top, 10);
                    }
                    
                    offsetX = eventSrc[xProp] - left;
                    offsetY = eventSrc[yProp] - top;

                    if(instance.isModal()){
                        offsetY += instance.elements.modal.scrollTop;
                    }else if(instance.isPinned()){
                        offsetY -= document.body.scrollTop;
                    }
                    
                    if(instance.get('moveBounded')){
                        var current = element,
                            offsetLeft = -left,
                            offsetTop = -top;
                        
                        //calc offset
                        do {
                            offsetLeft += current.offsetLeft;
                            offsetTop += current.offsetTop;
                        } while (current = current.offsetParent);
                        
                        bounds = {
                            maxLeft : offsetLeft,
                            minLeft : -offsetLeft,
                            maxTop  : document.documentElement.clientHeight - element.clientHeight - offsetTop,
                            minTop  : -offsetTop
                        };
                        moveDelegate = moveElementBounded;
                    }else{
                        bounds = null;
                        moveDelegate = moveElement;
                    }
                    
                    // allow custom `onmove` method
                    dispatchEvent('onmove', instance);

                    refreshTop = !instance.isModal() && instance.isPinned();
                    movable = instance;
                    moveDelegate(eventSrc, element);
                    addClass(document.body, classes.noSelection);
                    return false;
                }
            }
        }

        /**
         * The actual move handler,  attached to document.body mousemove event.
         *
         * @param {Event} event	DOM event object.
         * 
         * @return {undefined}
         */
        function move(event) {
            if (movable) {
                var eventSrc;
                if (event.type === 'touchmove') {
                    event.preventDefault();
                    eventSrc = event.targetTouches[0];
                } else if (event.button === 0) {
                    eventSrc = event;
                }
                if (eventSrc) {
                    moveDelegate(eventSrc, movable.elements.dialog);
                }
            }
        }

        /**
         * Triggers the end of a move event,  attached to document.body mouseup event.
         * Removes no-selection class from document.body, allowing selection.
         *
         * @return {undefined}
         */
        function endMove() {
            if (movable) {
                var instance = movable;
                movable = bounds = null;
                removeClass(document.body, classes.noSelection);
                removeClass(instance.elements.dialog, classes.capture);
                // allow custom `onmoved` method
                dispatchEvent('onmoved', instance);
            }
        }

        /**
         * Resets any changes made by moving the element to its original state,
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function resetMove(instance) {
            movable = null;
            var element = instance.elements.dialog;
            element.style.left = element.style.top = '';
        }

        /**
         * Updates the dialog move behavior.
         *
         * @param {Object} instance The dilog instance.
         * @param {Boolean} on True to add the behavior, removes it otherwise.
         *
         * @return {undefined}
         */
        function updateMovable(instance) {
            if (instance.get('movable')) {
                // add class
                addClass(instance.elements.root, classes.movable);
                if (instance.isOpen()) {
                    bindMovableEvents(instance);
                }
            } else {

                //reset
                resetMove(instance);
                // remove class
                removeClass(instance.elements.root, classes.movable);
                if (instance.isOpen()) {
                    unbindMovableEvents(instance);
                }
            }
        }

        /* Controls moving a dialog around */
        //holde the current instance being resized		
        var resizable = null,
            //holds the staring left offset when resize starts.
            startingLeft = Number.Nan,
            //holds the staring width when resize starts.
            startingWidth = 0,
            //holds the initial width when resized for the first time.
            minWidth = 0,
            //holds the offset of the resize handle.
            handleOffset = 0;

        /**
         * Helper: sets the element width/height and updates left coordinate if neccessary.
         *
         * @param {Event} event	DOM mousemove event object.
         * @param {Node} element The element being moved.
         * @param {Boolean} pinned A flag indicating if the element being resized is pinned to the screen.
         * 
         * @return {undefined}
         */
        function resizeElement(event, element, pageRelative) {

            //calculate offsets from 0,0
            var current = element;
            var offsetLeft = 0;
            var offsetTop = 0;
            do {
                offsetLeft += current.offsetLeft;
                offsetTop += current.offsetTop;
            } while (current = current.offsetParent);

            // determine X,Y coordinates.
            var X, Y;
            if (pageRelative === true) {
                X = event.pageX;
                Y = event.pageY;
            } else {
                X = event.clientX;
                Y = event.clientY;
            }
            // rtl handling
            var isRTL = isRightToLeft();
            if (isRTL) {
                // reverse X 
                X = document.body.offsetWidth - X;
                // if has a starting left, calculate offsetRight
                if (!isNaN(startingLeft)) {
                    offsetLeft = document.body.offsetWidth - offsetLeft - element.offsetWidth;
                }
            }

            // set width/height
            element.style.height = (Y - offsetTop + handleOffset) + 'px';
            element.style.width = (X - offsetLeft + handleOffset) + 'px';

            // if the element being resized has a starting left, maintain it.
            // the dialog is centered, divide by half the offset to maintain the margins.
            if (!isNaN(startingLeft)) {
                var diff = Math.abs(element.offsetWidth - startingWidth) * 0.5;
                if (isRTL) {
                    //negate the diff, why?
                    //when growing it should decrease left
                    //when shrinking it should increase left
                    diff *= -1;
                }
                if (element.offsetWidth > startingWidth) {
                    //growing
                    element.style.left = (startingLeft + diff) + 'px';
                } else if (element.offsetWidth >= minWidth) {
                    //shrinking
                    element.style.left = (startingLeft - diff) + 'px';
                }
            }
        }

        /**
         * Triggers the start of a resize event, attached to the resize handle element mouse down event.
         * Adds no-selection class to the body, disabling selection while moving.
         *
         * @param {Event} event	DOM event object.
         * @param {Object} instance The dilog instance.
         * 
         * @return {Boolean} false
         */
        function beginResize(event, instance) {
            if (!instance.isMaximized()) {
                var eventSrc;
                if (event.type === 'touchstart') {
                    event.preventDefault();
                    eventSrc = event.targetTouches[0];
                } else if (event.button === 0) {
                    eventSrc = event;
                }
                if (eventSrc) {
                    // allow custom `onresize` method
                    dispatchEvent('onresize', instance);
                    
                    resizable = instance;
                    handleOffset = instance.elements.resizeHandle.offsetHeight / 2;
                    var element = instance.elements.dialog;
                    addClass(element, classes.capture);
                    startingLeft = parseInt(element.style.left, 10);
                    element.style.height = element.offsetHeight + 'px';
                    element.style.minHeight = instance.elements.header.offsetHeight + instance.elements.footer.offsetHeight + 'px';
                    element.style.width = (startingWidth = element.offsetWidth) + 'px';

                    if (element.style.maxWidth !== 'none') {
                        element.style.minWidth = (minWidth = element.offsetWidth) + 'px';
                    }
                    element.style.maxWidth = 'none';
                    addClass(document.body, classes.noSelection);
                    return false;
                }
            }
        }

        /**
         * The actual resize handler,  attached to document.body mousemove event.
         *
         * @param {Event} event	DOM event object.
         * 
         * @return {undefined}
         */
        function resize(event) {
            if (resizable) {
                var eventSrc;
                if (event.type === 'touchmove') {
                    event.preventDefault();
                    eventSrc = event.targetTouches[0];
                } else if (event.button === 0) {
                    eventSrc = event;
                }
                if (eventSrc) {
                    resizeElement(eventSrc, resizable.elements.dialog, !resizable.get('modal') && !resizable.get('pinned'));
                }
            }
        }

        /**
         * Triggers the end of a resize event,  attached to document.body mouseup event.
         * Removes no-selection class from document.body, allowing selection.
         *
         * @return {undefined}
         */
        function endResize() {
            if (resizable) {
                var instance = resizable;
                resizable = null;
                removeClass(document.body, classes.noSelection);
                removeClass(instance.elements.dialog, classes.capture);
                cancelClick = true;
                // allow custom `onresized` method
                dispatchEvent('onresized', instance);
            }
        }

        /**
         * Resets any changes made by resizing the element to its original state.
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function resetResize(instance) {
            resizable = null;
            var element = instance.elements.dialog;
            if (element.style.maxWidth === 'none') {
                //clear inline styles.
                element.style.maxWidth = element.style.minWidth = element.style.width = element.style.height = element.style.minHeight = element.style.left = '';
                //reset variables.
                startingLeft = Number.Nan;
                startingWidth = minWidth = handleOffset = 0;
            }
        }


        /**
         * Updates the dialog move behavior.
         *
         * @param {Object} instance The dilog instance.
         * @param {Boolean} on True to add the behavior, removes it otherwise.
         *
         * @return {undefined}
         */
        function updateResizable(instance) {
            if (instance.get('resizable')) {
                // add class
                addClass(instance.elements.root, classes.resizable);
                if (instance.isOpen()) {
                    bindResizableEvents(instance);
                }
            } else {
                //reset
                resetResize(instance);
                // remove class
                removeClass(instance.elements.root, classes.resizable);
                if (instance.isOpen()) {
                    unbindResizableEvents(instance);
                }
            }
        }

        /**
         * Reset move/resize on window resize.
         *
         * @param {Event} event	window resize event object.
         *
         * @return {undefined}
         */
        function windowResize(/*event*/) {
            for (var x = 0; x < openDialogs.length; x += 1) {
                var instance = openDialogs[x];
                if (instance.get('autoReset')) {
                    resetMove(instance);
                    resetResize(instance);
                }
            }
        }
        /**
         * Bind dialogs events
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function bindEvents(instance) {
            // if first dialog, hook global handlers
            if (openDialogs.length === 1) {
                //global
                on(window, 'resize', windowResize);
                on(document.body, 'keyup', keyupHandler);
                on(document.body, 'keydown', keydownHandler);
                on(document.body, 'focus', onReset);

                //move
                on(document.documentElement, 'mousemove', move);
                on(document.documentElement, 'touchmove', move);
                on(document.documentElement, 'mouseup', endMove);
                on(document.documentElement, 'touchend', endMove);
                //resize
                on(document.documentElement, 'mousemove', resize);
                on(document.documentElement, 'touchmove', resize);
                on(document.documentElement, 'mouseup', endResize);
                on(document.documentElement, 'touchend', endResize);
            }

            // common events
            on(instance.elements.commands.container, 'click', instance.__internal.commandsClickHandler);
            on(instance.elements.footer, 'click', instance.__internal.buttonsClickHandler);
            on(instance.elements.reset[0], 'focus', instance.__internal.resetHandler);
            on(instance.elements.reset[1], 'focus', instance.__internal.resetHandler);

            //prevent handling key up when dialog is being opened by a key stroke.
            cancelKeyup = true;
            // hook in transition handler
            on(instance.elements.dialog, transition.type, instance.__internal.transitionInHandler);

            // modelss only events
            if (!instance.get('modal')) {
                bindModelessEvents(instance);
            }

            // resizable
            if (instance.get('resizable')) {
                bindResizableEvents(instance);
            }

            // movable
            if (instance.get('movable')) {
                bindMovableEvents(instance);
            }
        }

        /**
         * Unbind dialogs events
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function unbindEvents(instance) {
            // if last dialog, remove global handlers
            if (openDialogs.length === 1) {
                //global
                off(window, 'resize', windowResize);
                off(document.body, 'keyup', keyupHandler);
                off(document.body, 'keydown', keydownHandler);
                off(document.body, 'focus', onReset);
                //move
                off(document.documentElement, 'mousemove', move);
                off(document.documentElement, 'mouseup', endMove);
                //resize
                off(document.documentElement, 'mousemove', resize);
                off(document.documentElement, 'mouseup', endResize);
            }

            // common events
            off(instance.elements.commands.container, 'click', instance.__internal.commandsClickHandler);
            off(instance.elements.footer, 'click', instance.__internal.buttonsClickHandler);
            off(instance.elements.reset[0], 'focus', instance.__internal.resetHandler);
            off(instance.elements.reset[1], 'focus', instance.__internal.resetHandler);

            // hook out transition handler
            on(instance.elements.dialog, transition.type, instance.__internal.transitionOutHandler);

            // modelss only events
            if (!instance.get('modal')) {
                unbindModelessEvents(instance);
            }

            // movable
            if (instance.get('movable')) {
                unbindMovableEvents(instance);
            }

            // resizable
            if (instance.get('resizable')) {
                unbindResizableEvents(instance);
            }

        }

        /**
         * Bind modeless specific events
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function bindModelessEvents(instance) {
            on(instance.elements.dialog, 'focus', instance.__internal.bringToFrontHandler, true);
        }

        /**
         * Unbind modeless specific events
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function unbindModelessEvents(instance) {
            off(instance.elements.dialog, 'focus', instance.__internal.bringToFrontHandler, true);
        }



        /**
         * Bind movable specific events
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function bindMovableEvents(instance) {
            on(instance.elements.header, 'mousedown', instance.__internal.beginMoveHandler);
            on(instance.elements.header, 'touchstart', instance.__internal.beginMoveHandler);
        }

        /**
         * Unbind movable specific events
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function unbindMovableEvents(instance) {
            off(instance.elements.header, 'mousedown', instance.__internal.beginMoveHandler);
            off(instance.elements.header, 'touchstart', instance.__internal.beginMoveHandler);
        }



        /**
         * Bind resizable specific events
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function bindResizableEvents(instance) {
            on(instance.elements.resizeHandle, 'mousedown', instance.__internal.beginResizeHandler);
            on(instance.elements.resizeHandle, 'touchstart', instance.__internal.beginResizeHandler);
        }

        /**
         * Unbind resizable specific events
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function unbindResizableEvents(instance) {
            off(instance.elements.resizeHandle, 'mousedown', instance.__internal.beginResizeHandler);
            off(instance.elements.resizeHandle, 'touchstart', instance.__internal.beginResizeHandler);
        }

        /**
         * Bind closable events
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function bindClosableEvents(instance) {
            on(instance.elements.modal, 'click', instance.__internal.modalClickHandler);
        }

        /**
         * Unbind closable specific events
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function unbindClosableEvents(instance) {
            off(instance.elements.modal, 'click', instance.__internal.modalClickHandler);
        }
        // dialog API
        return {
            __init:initialize,
            /**
             * Check if dialog is currently open
             *
             * @return {Boolean}
             */
            isOpen: function () {
                return this.__internal.isOpen;
            },
            isModal: function (){
                return this.elements.root.className.indexOf(classes.modeless) < 0;
            },
            isMaximized:function(){
                return this.elements.root.className.indexOf(classes.maximized) > -1;
            },
            isPinned:function(){
                return this.elements.root.className.indexOf(classes.unpinned) < 0;
            },
            maximize:function(){
                if(!this.isMaximized()){
                    maximize(this);
                }
                return this;
            },
            restore:function(){
                if(this.isMaximized()){
                    restore(this);
                }
                return this;
            },
            pin:function(){
                if(!this.isPinned()){
                    pin(this);
                }
                return this;
            },
            unpin:function(){
                if(this.isPinned()){
                    unpin(this);
                }
                return this;
            },
            bringToFront:function(){
                bringToFront(null, this);
                return this;
            },
            /**
             * Move the dialog to a specific x/y coordinates
             *
             * @param {Number} x    The new dialog x coordinate in pixels.
             * @param {Number} y    The new dialog y coordinate in pixels.
             *
             * @return {Object} The dialog instance.
             */
            moveTo:function(x,y){
                if(!isNaN(x) && !isNaN(y)){
                    // allow custom `onmove` method
                    dispatchEvent('onmove', this);
                    
                    var element = this.elements.dialog,
                        current = element,
                        offsetLeft = 0,
                        offsetTop = 0;
                    
                    //subtract existing left,top
                    if (element.style.left) {
                        offsetLeft -= parseInt(element.style.left, 10);
                    }
                    if (element.style.top) {
                        offsetTop -= parseInt(element.style.top, 10);
                    }
                    //calc offset
                    do {
                        offsetLeft += current.offsetLeft;
                        offsetTop += current.offsetTop;
                    } while (current = current.offsetParent);

                    //calc left, top
                    var left = (x - offsetLeft);
                    var top  = (y - offsetTop);

                    //// rtl handling
                    if (isRightToLeft()) {
                        left *= -1;
                    }

                    element.style.left = left + 'px';
                    element.style.top = top + 'px';
                    
                    // allow custom `onmoved` method
                    dispatchEvent('onmoved', this);
                }
                return this;
            },
            /**
             * Resize the dialog to a specific width/height (the dialog must be 'resizable').
             * The dialog can be resized to:
             *  A minimum width equal to the initial display width
             *  A minimum height equal to the sum of header/footer heights.
             *
             *
             * @param {Number or String} width    The new dialog width in pixels or in percent.
             * @param {Number or String} height   The new dialog height in pixels or in percent.
             *
             * @return {Object} The dialog instance.
             */
            resizeTo:function(width,height){
                var w = parseFloat(width),
                    h = parseFloat(height),
                    regex = /(\d*\.\d+|\d+)%/;

                if(!isNaN(w) && !isNaN(h) && this.get('resizable') === true){
                    
                    // allow custom `onresize` method
                    dispatchEvent('onresize', this);
                    
                    if(('' + width).match(regex)){
                        w = w / 100 * document.documentElement.clientWidth ;
                    }

                    if(('' + height).match(regex)){
                        h = h / 100 * document.documentElement.clientHeight;
                    }

                    var element = this.elements.dialog;
                    if (element.style.maxWidth !== 'none') {
                        element.style.minWidth = (minWidth = element.offsetWidth) + 'px';
                    }
                    element.style.maxWidth = 'none';
                    element.style.minHeight = this.elements.header.offsetHeight + this.elements.footer.offsetHeight + 'px';
                    element.style.width = w + 'px';
                    element.style.height = h + 'px';
                    
                    // allow custom `onresized` method
                    dispatchEvent('onresized', this);
                }
                return this;
            },
            /**
             * Gets or Sets dialog settings/options 
             *
             * @param {String|Object} key A string specifying a propery name or a collection of key/value pairs.
             * @param {Object} value Optional, the value associated with the key (in case it was a string).
             *
             * @return {undefined}
             */
            setting : function (key, value) {
                var self = this;
                var result = update(this, this.__internal.options, function(k,o,n){ optionUpdated(self,k,o,n); }, key, value);
                if(result.op === 'get'){
                    if(result.found){
                        return result.value;
                    }else if(typeof this.settings !== 'undefined'){
                        return update(this, this.settings, this.settingUpdated || function(){}, key, value).value;
                    }else{
                        return undefined;
                    }
                }else if(result.op === 'set'){
                    if(result.items.length > 0){
                        var callback = this.settingUpdated || function(){};
                        for(var x=0;x<result.items.length;x+=1){
                            var item = result.items[x];
                            if(!item.found && typeof this.settings !== 'undefined'){
                                update(this, this.settings, callback, item.key, item.value);
                            }
                        }
                    }
                    return this;
                }
            },
            /**
             * [Alias] Sets dialog settings/options 
             */
            set:function(key, value){
                this.setting(key,value);
                return this;
            },
            /**
             * [Alias] Gets dialog settings/options 
             */
            get:function(key){
                return this.setting(key);
            },
            /**
            * Sets dialog header
            * @content {string or element}
            *
            * @return {undefined}
            */
            setHeader:function(content){
                if(typeof content === 'string'){
                    clearContents(this.elements.header);
                    this.elements.header.innerHTML = content;
                }else if (content instanceof window.HTMLElement && this.elements.header.firstChild !== content){
                    clearContents(this.elements.header);
                    this.elements.header.appendChild(content);
                }
                return this;
            },
            /**
            * Sets dialog contents
            * @content {string or element}
            *
            * @return {undefined}
            */
            setContent:function(content){
                if(typeof content === 'string'){
                    clearContents(this.elements.content);
                    this.elements.content.innerHTML = content;
                }else if (content instanceof window.HTMLElement && this.elements.content.firstChild !== content){
                    clearContents(this.elements.content);
                    this.elements.content.appendChild(content);
                }
                return this;
            },
            /**
             * Show the dialog as modal
             *
             * @return {Object} the dialog instance.
             */
            showModal: function(className){
                return this.show(true, className);
            },
            /**
             * Show the dialog
             *
             * @return {Object} the dialog instance.
             */
            show: function (modal, className) {
                
                // ensure initialization
                initialize(this);

                if ( !this.__internal.isOpen ) {

                    // add to open dialogs
                    this.__internal.isOpen = true;
                    openDialogs.push(this);

                    // save last focused element
                    if(alertify.defaults.maintainFocus){
                        this.__internal.activeElement = document.activeElement;
                    }

                    //allow custom dom manipulation updates before showing the dialog.
                    if(typeof this.prepare === 'function'){
                        this.prepare();
                    }

                    bindEvents(this);

                    if(modal !== undefined){
                        this.set('modal', modal);
                    }

                    //save scroll to prevent document jump
                    saveScrollPosition();

                    ensureNoOverflow();

                    // allow custom dialog class on show
                    if(typeof className === 'string' && className !== ''){
                        this.__internal.className = className;
                        addClass(this.elements.root, className);
                    }

                    // maximize if start maximized
                    if ( this.get('startMaximized')) {
                        this.maximize();
                    }else if(this.isMaximized()){
                        restore(this);
                    }

                    updateAbsPositionFix(this);

                    removeClass(this.elements.root, classes.animationOut);
                    addClass(this.elements.root, classes.animationIn);

                    // set 1s fallback in case transition event doesn't fire
                    clearTimeout( this.__internal.timerIn);
                    this.__internal.timerIn = setTimeout( this.__internal.transitionInHandler, transition.supported ? 1000 : 100 );

                    if(isSafari){
                        // force desktop safari reflow
                        var root = this.elements.root;
                        root.style.display  = 'none';
                        setTimeout(function(){root.style.display  = 'block';}, 0);
                    }

                    //reflow
                    reflow = this.elements.root.offsetWidth;
                  
                    // show dialog
                    removeClass(this.elements.root, classes.hidden);

                    // internal on show event
                    if(typeof this.hooks.onshow === 'function'){
                        this.hooks.onshow.call(this);
                    }

                    // allow custom `onshow` method
                    dispatchEvent('onshow', this);

                }else{
                    // reset move updates
                    resetMove(this);
                    // reset resize updates
                    resetResize(this);
                    // shake the dialog to indicate its already open
                    addClass(this.elements.dialog, classes.shake);
                    var self = this;
                    setTimeout(function(){
                        removeClass(self.elements.dialog, classes.shake);
                    },200);
                }
                return this;
            },
            /**
             * Close the dialog
             *
             * @return {Object} The dialog instance
             */
            close: function () {
                if (this.__internal.isOpen ) {
                    // custom `onclosing` event
                    if(dispatchEvent('onclosing', this) !== false){

                        unbindEvents(this);

                        removeClass(this.elements.root, classes.animationIn);
                        addClass(this.elements.root, classes.animationOut);

                        // set 1s fallback in case transition event doesn't fire
                        clearTimeout( this.__internal.timerOut );
                        this.__internal.timerOut = setTimeout( this.__internal.transitionOutHandler, transition.supported ? 1000 : 100 );
                        // hide dialog
                        addClass(this.elements.root, classes.hidden);
                        //reflow
                        reflow = this.elements.modal.offsetWidth;

                        // remove custom dialog class on hide
                        if (typeof this.__internal.className !== 'undefined' && this.__internal.className !== '') {
                            removeClass(this.elements.root, this.__internal.className);
                        }

                        // internal on close event
                        if(typeof this.hooks.onclose === 'function'){
                            this.hooks.onclose.call(this);
                        }

                        // allow custom `onclose` method
                        dispatchEvent('onclose', this);

                        //remove from open dialogs
                        openDialogs.splice(openDialogs.indexOf(this),1);
                        this.__internal.isOpen = false;

                        ensureNoOverflow();
                    }

                }
                return this;
            },
            /**
             * Close all open dialogs except this.
             *
             * @return {undefined}
             */
            closeOthers:function(){
                alertify.closeAll(this);
                return this;
            },
            /**
             * Destroys this dialog instance
             *
             * @return {undefined}
             */
            destroy:function(){
                if (this.__internal.isOpen ) {
                    //mark dialog for destruction, this will be called on tranistionOut event.
                    this.__internal.destroy = function(){
                        destruct(this, initialize);
                    };
                    //close the dialog to unbind all events.
                    this.close();
                }else{
                    destruct(this, initialize);
                }
                return this;
            },
        };
	} () );
    var notifier = (function () {
        var reflow,
            element,
            openInstances = [],
            classes = {
                base: 'alertify-notifier',
                message: 'ajs-message',
                top: 'ajs-top',
                right: 'ajs-right',
                bottom: 'ajs-bottom',
                left: 'ajs-left',
                center: 'ajs-center',
                visible: 'ajs-visible',
                hidden: 'ajs-hidden',
                close: 'ajs-close'
            };
        /**
         * Helper: initializes the notifier instance
         *
         */
        function initialize(instance) {

            if (!instance.__internal) {
                instance.__internal = {
                    position: alertify.defaults.notifier.position,
                    delay: alertify.defaults.notifier.delay,
                };

                element = document.createElement('DIV');

                updatePosition(instance);
            }

            //add to DOM tree.
            if (element.parentNode !== document.body) {
                document.body.appendChild(element);
            }
        }

        function pushInstance(instance) {
            instance.__internal.pushed = true;
            openInstances.push(instance);
        }
        function popInstance(instance) {
            openInstances.splice(openInstances.indexOf(instance), 1);
            instance.__internal.pushed = false;
        }
        /**
         * Helper: update the notifier instance position
         *
         */
        function updatePosition(instance) {
            element.className = classes.base;
            switch (instance.__internal.position) {
            case 'top-right':
                addClass(element, classes.top + ' ' + classes.right);
                break;
            case 'top-left':
                addClass(element, classes.top + ' ' + classes.left);
                break;
            case 'top-center':
                addClass(element, classes.top + ' ' + classes.center);
                break;
            case 'bottom-left':
                addClass(element, classes.bottom + ' ' + classes.left);
                break;
            case 'bottom-center':
                addClass(element, classes.bottom + ' ' + classes.center);
                break;

            default:
            case 'bottom-right':
                addClass(element, classes.bottom + ' ' + classes.right);
                break;
            }
        }

        /**
        * creates a new notification message
        *
        * @param  {DOMElement} message	The notifier message element
        * @param  {Number} wait   Time (in ms) to wait before the message is dismissed, a value of 0 means keep open till clicked.
        * @param  {Function} callback A callback function to be invoked when the message is dismissed.
        *
        * @return {undefined}
        */
        function create(div, callback) {

            function clickDelegate(event, instance) {
                if(!instance.__internal.closeButton || event.target.getAttribute('data-close') === 'true'){
                    instance.dismiss(true);
                }
            }

            function transitionDone(event, instance) {
                // unbind event
                off(instance.element, transition.type, transitionDone);
                // remove the message
                element.removeChild(instance.element);
            }

            function initialize(instance) {
                if (!instance.__internal) {
                    instance.__internal = {
                        pushed: false,
                        delay : undefined,
                        timer: undefined,
                        clickHandler: undefined,
                        transitionEndHandler: undefined,
                        transitionTimeout: undefined
                    };
                    instance.__internal.clickHandler = delegate(instance, clickDelegate);
                    instance.__internal.transitionEndHandler = delegate(instance, transitionDone);
                }
                return instance;
            }
            function clearTimers(instance) {
                clearTimeout(instance.__internal.timer);
                clearTimeout(instance.__internal.transitionTimeout);
            }
            return initialize({
                /* notification DOM element*/
                element: div,
                /*
                 * Pushes a notification message
                 * @param {string or DOMElement} content The notification message content
                 * @param {Number} wait The time (in seconds) to wait before the message is dismissed, a value of 0 means keep open till clicked.
                 *
                 */
                push: function (_content, _wait) {
                    if (!this.__internal.pushed) {

                        pushInstance(this);
                        clearTimers(this);

                        var content, wait;
                        switch (arguments.length) {
                        case 0:
                            wait = this.__internal.delay;
                            break;
                        case 1:
                            if (typeof (_content) === 'number') {
                                wait = _content;
                            } else {
                                content = _content;
                                wait = this.__internal.delay;
                            }
                            break;
                        case 2:
                            content = _content;
                            wait = _wait;
                            break;
                        }
                        this.__internal.closeButton = alertify.defaults.notifier.closeButton;
                        // set contents
                        if (typeof content !== 'undefined') {
                            this.setContent(content);
                        }
                        // append or insert
                        if (notifier.__internal.position.indexOf('top') < 0) {
                            element.appendChild(this.element);
                        } else {
                            element.insertBefore(this.element, element.firstChild);
                        }
                        reflow = this.element.offsetWidth;
                        addClass(this.element, classes.visible);
                        // attach click event
                        on(this.element, 'click', this.__internal.clickHandler);
                        return this.delay(wait);
                    }
                    return this;
                },
                /*
                 * {Function} callback function to be invoked before dismissing the notification message.
                 * Remarks: A return value === 'false' will cancel the dismissal
                 *
                 */
                ondismiss: function () { },
                /*
                 * {Function} callback function to be invoked when the message is dismissed.
                 *
                 */
                callback: callback,
                /*
                 * Dismisses the notification message
                 * @param {Boolean} clicked A flag indicating if the dismissal was caused by a click.
                 *
                 */
                dismiss: function (clicked) {
                    if (this.__internal.pushed) {
                        clearTimers(this);
                        if (!(typeof this.ondismiss === 'function' && this.ondismiss.call(this) === false)) {
                            //detach click event
                            off(this.element, 'click', this.__internal.clickHandler);
                            // ensure element exists
                            if (typeof this.element !== 'undefined' && this.element.parentNode === element) {
                                //transition end or fallback
                                this.__internal.transitionTimeout = setTimeout(this.__internal.transitionEndHandler, transition.supported ? 1000 : 100);
                                removeClass(this.element, classes.visible);

                                // custom callback on dismiss
                                if (typeof this.callback === 'function') {
                                    this.callback.call(this, clicked);
                                }
                            }
                            popInstance(this);
                        }
                    }
                    return this;
                },
                /*
                 * Delays the notification message dismissal
                 * @param {Number} wait The time (in seconds) to wait before the message is dismissed, a value of 0 means keep open till clicked.
                 *
                 */
                delay: function (wait) {
                    clearTimers(this);
                    this.__internal.delay = typeof wait !== 'undefined' && !isNaN(+wait) ? +wait : notifier.__internal.delay;
                    if (this.__internal.delay > 0) {
                        var  self = this;
                        this.__internal.timer = setTimeout(function () { self.dismiss(); }, this.__internal.delay * 1000);
                    }
                    return this;
                },
                /*
                 * Sets the notification message contents
                 * @param {string or DOMElement} content The notification message content
                 *
                 */
                setContent: function (content) {
                    if (typeof content === 'string') {
                        clearContents(this.element);
                        this.element.innerHTML = content;
                    } else if (content instanceof window.HTMLElement && this.element.firstChild !== content) {
                        clearContents(this.element);
                        this.element.appendChild(content);
                    }
                    if(this.__internal.closeButton){
                        var close = document.createElement('span');
                        addClass(close, classes.close);
                        close.setAttribute('data-close', true);
                        this.element.appendChild(close);
                    }
                    return this;
                },
                /*
                 * Dismisses all open notifications except this.
                 *
                 */
                dismissOthers: function () {
                    notifier.dismissAll(this);
                    return this;
                }
            });
        }

        //notifier api
        return {
            /**
             * Gets or Sets notifier settings.
             *
             * @param {string} key The setting name
             * @param {Variant} value The setting value.
             *
             * @return {Object}	if the called as a setter, return the notifier instance.
             */
            setting: function (key, value) {
                //ensure init
                initialize(this);

                if (typeof value === 'undefined') {
                    //get
                    return this.__internal[key];
                } else {
                    //set
                    switch (key) {
                    case 'position':
                        this.__internal.position = value;
                        updatePosition(this);
                        break;
                    case 'delay':
                        this.__internal.delay = value;
                        break;
                    }
                }
                return this;
            },
            /**
             * [Alias] Sets dialog settings/options
             */
            set:function(key,value){
                this.setting(key,value);
                return this;
            },
            /**
             * [Alias] Gets dialog settings/options
             */
            get:function(key){
                return this.setting(key);
            },
            /**
             * Creates a new notification message
             *
             * @param {string} type The type of notification message (simply a CSS class name 'ajs-{type}' to be added).
             * @param {Function} callback  A callback function to be invoked when the message is dismissed.
             *
             * @return {undefined}
             */
            create: function (type, callback) {
                //ensure notifier init
                initialize(this);
                //create new notification message
                var div = document.createElement('div');
                div.className = classes.message + ((typeof type === 'string' && type !== '') ? ' ajs-' + type : '');
                return create(div, callback);
            },
            /**
             * Dismisses all open notifications.
             *
             * @param {Object} excpet [optional] The notification object to exclude from dismissal.
             *
             */
            dismissAll: function (except) {
                var clone = openInstances.slice(0);
                for (var x = 0; x < clone.length; x += 1) {
                    var  instance = clone[x];
                    if (except === undefined || except !== instance) {
                        instance.dismiss();
                    }
                }
            }
        };
    })();

    /**
     * Alertify public API
     * This contains everything that is exposed through the alertify object.
     *
     * @return {Object}
     */
    function Alertify() {

        // holds a references of created dialogs
        var dialogs = {};

        /**
         * Extends a given prototype by merging properties from base into sub.
         *
         * @sub {Object} sub The prototype being overwritten.
         * @base {Object} base The prototype being written.
         *
         * @return {Object} The extended prototype.
         */
        function extend(sub, base) {
            // copy dialog pototype over definition.
            for (var prop in base) {
                if (base.hasOwnProperty(prop)) {
                    sub[prop] = base[prop];
                }
            }
            return sub;
        }


        /**
        * Helper: returns a dialog instance from saved dialogs.
        * and initializes the dialog if its not already initialized.
        *
        * @name {String} name The dialog name.
        *
        * @return {Object} The dialog instance.
        */
        function get_dialog(name) {
            var dialog = dialogs[name].dialog;
            //initialize the dialog if its not already initialized.
            if (dialog && typeof dialog.__init === 'function') {
                dialog.__init(dialog);
            }
            return dialog;
        }

        /**
         * Helper:  registers a new dialog definition.
         *
         * @name {String} name The dialog name.
         * @Factory {Function} Factory a function resposible for creating dialog prototype.
         * @transient {Boolean} transient True to create a new dialog instance each time the dialog is invoked, false otherwise.
         * @base {String} base the name of another dialog to inherit from.
         *
         * @return {Object} The dialog definition.
         */
        function register(name, Factory, transient, base) {
            var definition = {
                dialog: null,
                factory: Factory
            };

            //if this is based on an existing dialog, create a new definition
            //by applying the new protoype over the existing one.
            if (base !== undefined) {
                definition.factory = function () {
                    return extend(new dialogs[base].factory(), new Factory());
                };
            }

            if (!transient) {
                //create a new definition based on dialog
                definition.dialog = extend(new definition.factory(), dialog);
            }
            return dialogs[name] = definition;
        }

        return {
            /**
             * Alertify defaults
             * 
             * @type {Object}
             */
            defaults: defaults,
            /**
             * Dialogs factory 
             *
             * @param {string}      Dialog name.
             * @param {Function}    A Dialog factory function.
             * @param {Boolean}     Indicates whether to create a singleton or transient dialog.
             * @param {String}      The name of the base type to inherit from.
             */
            dialog: function (name, Factory, transient, base) {

                // get request, create a new instance and return it.
                if (typeof Factory !== 'function') {
                    return get_dialog(name);
                }

                if (this.hasOwnProperty(name)) {
                    throw new Error('alertify.dialog: name already exists');
                }

                // register the dialog
                var definition = register(name, Factory, transient, base);

                if (transient) {

                    // make it public
                    this[name] = function () {
                        //if passed with no params, consider it a get request
                        if (arguments.length === 0) {
                            return definition.dialog;
                        } else {
                            var instance = extend(new definition.factory(), dialog);
                            //ensure init
                            if (instance && typeof instance.__init === 'function') {
                                instance.__init(instance);
                            }
                            instance['main'].apply(instance, arguments);
                            return instance['show'].apply(instance);
                        }
                    };
                } else {
                    // make it public
                    this[name] = function () {
                        //ensure init
                        if (definition.dialog && typeof definition.dialog.__init === 'function') {
                            definition.dialog.__init(definition.dialog);
                        }
                        //if passed with no params, consider it a get request
                        if (arguments.length === 0) {
                            return definition.dialog;
                        } else {
                            var dialog = definition.dialog;
                            dialog['main'].apply(definition.dialog, arguments);
                            return dialog['show'].apply(definition.dialog);
                        }
                    };
                }
            },
            /**
             * Close all open dialogs.
             *
             * @param {Object} excpet [optional] The dialog object to exclude from closing.
             *
             * @return {undefined}
             */
            closeAll: function (except) {
                var clone = openDialogs.slice(0);
                for (var x = 0; x < clone.length; x += 1) {
                    var instance = clone[x];
                    if (except === undefined || except !== instance) {
                        instance.close();
                    }
                }
            },
            /**
             * Gets or Sets dialog settings/options. if the dialog is transient, this call does nothing.
             *
             * @param {string} name The dialog name.
             * @param {String|Object} key A string specifying a propery name or a collection of key/value pairs.
             * @param {Variant} value Optional, the value associated with the key (in case it was a string).
             *
             * @return {undefined}
             */
            setting: function (name, key, value) {

                if (name === 'notifier') {
                    return notifier.setting(key, value);
                }

                var dialog = get_dialog(name);
                if (dialog) {
                    return dialog.setting(key, value);
                }
            },
            /**
             * [Alias] Sets dialog settings/options 
             */
            set: function(name,key,value){
                return this.setting(name, key,value);
            },
            /**
             * [Alias] Gets dialog settings/options 
             */
            get: function(name, key){
                return this.setting(name, key);
            },
            /**
             * Creates a new notification message.
             * If a type is passed, a class name "ajs-{type}" will be added.
             * This allows for custom look and feel for various types of notifications.
             *
             * @param  {String | DOMElement}    [message=undefined]		Message text
             * @param  {String}                 [type='']				Type of log message
             * @param  {String}                 [wait='']				Time (in seconds) to wait before auto-close
             * @param  {Function}               [callback=undefined]	A callback function to be invoked when the log is closed.
             *
             * @return {Object} Notification object.
             */
            notify: function (message, type, wait, callback) {
                return notifier.create(type, callback).push(message, wait);
            },
            /**
             * Creates a new notification message.
             *
             * @param  {String}		[message=undefined]		Message text
             * @param  {String}     [wait='']				Time (in seconds) to wait before auto-close
             * @param  {Function}	[callback=undefined]	A callback function to be invoked when the log is closed.
             *
             * @return {Object} Notification object.
             */
            message: function (message, wait, callback) {
                return notifier.create(null, callback).push(message, wait);
            },
            /**
             * Creates a new notification message of type 'success'.
             *
             * @param  {String}		[message=undefined]		Message text
             * @param  {String}     [wait='']				Time (in seconds) to wait before auto-close
             * @param  {Function}	[callback=undefined]	A callback function to be invoked when the log is closed.
             *
             * @return {Object} Notification object.
             */
            success: function (message, wait, callback) {
                return notifier.create('success', callback).push(message, wait);
            },
            /**
             * Creates a new notification message of type 'error'.
             *
             * @param  {String}		[message=undefined]		Message text
             * @param  {String}     [wait='']				Time (in seconds) to wait before auto-close
             * @param  {Function}	[callback=undefined]	A callback function to be invoked when the log is closed.
             *
             * @return {Object} Notification object.
             */
            error: function (message, wait, callback) {
                return notifier.create('error', callback).push(message, wait);
            },
            /**
             * Creates a new notification message of type 'warning'.
             *
             * @param  {String}		[message=undefined]		Message text
             * @param  {String}     [wait='']				Time (in seconds) to wait before auto-close
             * @param  {Function}	[callback=undefined]	A callback function to be invoked when the log is closed.
             *
             * @return {Object} Notification object.
             */
            warning: function (message, wait, callback) {
                return notifier.create('warning', callback).push(message, wait);
            },
            /**
             * Dismisses all open notifications
             *
             * @return {undefined}
             */
            dismissAll: function () {
                notifier.dismissAll();
            }
        };
    }
    var alertify = new Alertify();

    /**
    * Alert dialog definition
    *
    * invoked by:
    *	alertify.alert(message);
    *	alertify.alert(title, message);
    *	alertify.alert(message, onok);
    *	alertify.alert(title, message, onok);
     */
    alertify.dialog('alert', function () {
        return {
            main: function (_title, _message, _onok) {
                var title, message, onok;
                switch (arguments.length) {
                case 1:
                    message = _title;
                    break;
                case 2:
                    if (typeof _message === 'function') {
                        message = _title;
                        onok = _message;
                    } else {
                        title = _title;
                        message = _message;
                    }
                    break;
                case 3:
                    title = _title;
                    message = _message;
                    onok = _onok;
                    break;
                }
                this.set('title', title);
                this.set('message', message);
                this.set('onok', onok);
                return this;
            },
            setup: function () {
                return {
                    buttons: [
                        {
                            text: alertify.defaults.glossary.ok,
                            key: keys.ESC,
                            invokeOnClose: true,
                            className: alertify.defaults.theme.ok,
                        }
                    ],
                    focus: {
                        element: 0,
                        select: false
                    },
                    options: {
                        maximizable: false,
                        resizable: false
                    }
                };
            },
            build: function () {
                // nothing
            },
            prepare: function () {
                //nothing
            },
            setMessage: function (message) {
                this.setContent(message);
            },
            settings: {
                message: undefined,
                onok: undefined,
                label: undefined,
            },
            settingUpdated: function (key, oldValue, newValue) {
                switch (key) {
                case 'message':
                    this.setMessage(newValue);
                    break;
                case 'label':
                    if (this.__internal.buttons[0].element) {
                        this.__internal.buttons[0].element.innerHTML = newValue;
                    }
                    break;
                }
            },
            callback: function (closeEvent) {
                if (typeof this.get('onok') === 'function') {
                    var returnValue = this.get('onok').call(this, closeEvent);
                    if (typeof returnValue !== 'undefined') {
                        closeEvent.cancel = !returnValue;
                    }
                }
            }
        };
    });
    /**
     * Confirm dialog object
     *
     *	alertify.confirm(message);
     *	alertify.confirm(message, onok);
     *	alertify.confirm(message, onok, oncancel);
     *	alertify.confirm(title, message, onok, oncancel);
     */
    alertify.dialog('confirm', function () {

        var autoConfirm = {
            timer: null,
            index: null,
            text: null,
            duration: null,
            task: function (event, self) {
                if (self.isOpen()) {
                    self.__internal.buttons[autoConfirm.index].element.innerHTML = autoConfirm.text + ' (&#8207;' + autoConfirm.duration + '&#8207;) ';
                    autoConfirm.duration -= 1;
                    if (autoConfirm.duration === -1) {
                        clearAutoConfirm(self);
                        var button = self.__internal.buttons[autoConfirm.index];
                        var closeEvent = createCloseEvent(autoConfirm.index, button);

                        if (typeof self.callback === 'function') {
                            self.callback.apply(self, [closeEvent]);
                        }
                        //close the dialog.
                        if (closeEvent.close !== false) {
                            self.close();
                        }
                    }
                } else {
                    clearAutoConfirm(self);
                }
            }
        };

        function clearAutoConfirm(self) {
            if (autoConfirm.timer !== null) {
                clearInterval(autoConfirm.timer);
                autoConfirm.timer = null;
                self.__internal.buttons[autoConfirm.index].element.innerHTML = autoConfirm.text;
            }
        }

        function startAutoConfirm(self, index, duration) {
            clearAutoConfirm(self);
            autoConfirm.duration = duration;
            autoConfirm.index = index;
            autoConfirm.text = self.__internal.buttons[index].element.innerHTML;
            autoConfirm.timer = setInterval(delegate(self, autoConfirm.task), 1000);
            autoConfirm.task(null, self);
        }


        return {
            main: function (_title, _message, _onok, _oncancel) {
                var title, message, onok, oncancel;
                switch (arguments.length) {
                case 1:
                    message = _title;
                    break;
                case 2:
                    message = _title;
                    onok = _message;
                    break;
                case 3:
                    message = _title;
                    onok = _message;
                    oncancel = _onok;
                    break;
                case 4:
                    title = _title;
                    message = _message;
                    onok = _onok;
                    oncancel = _oncancel;
                    break;
                }
                this.set('title', title);
                this.set('message', message);
                this.set('onok', onok);
                this.set('oncancel', oncancel);
                return this;
            },
            setup: function () {
                return {
                    buttons: [
                        {
                            text: alertify.defaults.glossary.ok,
                            key: keys.ENTER,
                            className: alertify.defaults.theme.ok,
                        },
                        {
                            text: alertify.defaults.glossary.cancel,
                            key: keys.ESC,
                            invokeOnClose: true,
                            className: alertify.defaults.theme.cancel,
                        }
                    ],
                    focus: {
                        element: 0,
                        select: false
                    },
                    options: {
                        maximizable: false,
                        resizable: false
                    }
                };
            },
            build: function () {
                //nothing
            },
            prepare: function () {
                //nothing
            },
            setMessage: function (message) {
                this.setContent(message);
            },
            settings: {
                message: null,
                labels: null,
                onok: null,
                oncancel: null,
                defaultFocus: null,
                reverseButtons: null,
            },
            settingUpdated: function (key, oldValue, newValue) {
                switch (key) {
                case 'message':
                    this.setMessage(newValue);
                    break;
                case 'labels':
                    if ('ok' in newValue && this.__internal.buttons[0].element) {
                        this.__internal.buttons[0].text = newValue.ok;
                        this.__internal.buttons[0].element.innerHTML = newValue.ok;
                    }
                    if ('cancel' in newValue && this.__internal.buttons[1].element) {
                        this.__internal.buttons[1].text = newValue.cancel;
                        this.__internal.buttons[1].element.innerHTML = newValue.cancel;
                    }
                    break;
                case 'reverseButtons':
                    if (newValue === true) {
                        this.elements.buttons.primary.appendChild(this.__internal.buttons[0].element);
                    } else {
                        this.elements.buttons.primary.appendChild(this.__internal.buttons[1].element);
                    }
                    break;
                case 'defaultFocus':
                    this.__internal.focus.element = newValue === 'ok' ? 0 : 1;
                    break;
                }
            },
            callback: function (closeEvent) {
                clearAutoConfirm(this);
                var returnValue;
                switch (closeEvent.index) {
                case 0:
                    if (typeof this.get('onok') === 'function') {
                        returnValue = this.get('onok').call(this, closeEvent);
                        if (typeof returnValue !== 'undefined') {
                            closeEvent.cancel = !returnValue;
                        }
                    }
                    break;
                case 1:
                    if (typeof this.get('oncancel') === 'function') {
                        returnValue = this.get('oncancel').call(this, closeEvent);
                        if (typeof returnValue !== 'undefined') {
                            closeEvent.cancel = !returnValue;
                        }
                    }
                    break;
                }
            },
            autoOk: function (duration) {
                startAutoConfirm(this, 0, duration);
                return this;
            },
            autoCancel: function (duration) {
                startAutoConfirm(this, 1, duration);
                return this;
            }
        };
    });
    /**
     * Prompt dialog object
     *
     * invoked by:
     *	alertify.prompt(message);
     *	alertify.prompt(message, value);
     *	alertify.prompt(message, value, onok);
     *	alertify.prompt(message, value, onok, oncancel);
     *	alertify.prompt(title, message, value, onok, oncancel);
     */
    alertify.dialog('prompt', function () {
        var input = document.createElement('INPUT');
        var p = document.createElement('P');
        return {
            main: function (_title, _message, _value, _onok, _oncancel) {
                var title, message, value, onok, oncancel;
                switch (arguments.length) {
                case 1:
                    message = _title;
                    break;
                case 2:
                    message = _title;
                    value = _message;
                    break;
                case 3:
                    message = _title;
                    value = _message;
                    onok = _value;
                    break;
                case 4:
                    message = _title;
                    value = _message;
                    onok = _value;
                    oncancel = _onok;
                    break;
                case 5:
                    title = _title;
                    message = _message;
                    value = _value;
                    onok = _onok;
                    oncancel = _oncancel;
                    break;
                }
                this.set('title', title);
                this.set('message', message);
                this.set('value', value);
                this.set('onok', onok);
                this.set('oncancel', oncancel);
                return this;
            },
            setup: function () {
                return {
                    buttons: [
                        {
                            text: alertify.defaults.glossary.ok,
                            key: keys.ENTER,
                            className: alertify.defaults.theme.ok,
                        },
                        {
                            text: alertify.defaults.glossary.cancel,
                            key: keys.ESC,
                            invokeOnClose: true,
                            className: alertify.defaults.theme.cancel,
                        }
                    ],
                    focus: {
                        element: input,
                        select: true
                    },
                    options: {
                        maximizable: false,
                        resizable: false
                    }
                };
            },
            build: function () {
                input.className = alertify.defaults.theme.input;
                input.setAttribute('type', 'text');
                input.value = this.get('value');
                this.elements.content.appendChild(p);
                this.elements.content.appendChild(input);
            },
            prepare: function () {
                //nothing
            },
            setMessage: function (message) {
                if (typeof message === 'string') {
                    clearContents(p);
                    p.innerHTML = message;
                } else if (message instanceof window.HTMLElement && p.firstChild !== message) {
                    clearContents(p);
                    p.appendChild(message);
                }
            },
            settings: {
                message: undefined,
                labels: undefined,
                onok: undefined,
                oncancel: undefined,
                value: '',
                type:'text',
                reverseButtons: undefined,
            },
            settingUpdated: function (key, oldValue, newValue) {
                switch (key) {
                case 'message':
                    this.setMessage(newValue);
                    break;
                case 'value':
                    input.value = newValue;
                    break;
                case 'type':
                    switch (newValue) {
                    case 'text':
                    case 'color':
                    case 'date':
                    case 'datetime-local':
                    case 'email':
                    case 'month':
                    case 'number':
                    case 'password':
                    case 'search':
                    case 'tel':
                    case 'time':
                    case 'week':
                        input.type = newValue;
                        break;
                    default:
                        input.type = 'text';
                        break;
                    }
                    break;
                case 'labels':
                    if (newValue.ok && this.__internal.buttons[0].element) {
                        this.__internal.buttons[0].element.innerHTML = newValue.ok;
                    }
                    if (newValue.cancel && this.__internal.buttons[1].element) {
                        this.__internal.buttons[1].element.innerHTML = newValue.cancel;
                    }
                    break;
                case 'reverseButtons':
                    if (newValue === true) {
                        this.elements.buttons.primary.appendChild(this.__internal.buttons[0].element);
                    } else {
                        this.elements.buttons.primary.appendChild(this.__internal.buttons[1].element);
                    }
                    break;
                }
            },
            callback: function (closeEvent) {
                var returnValue;
                switch (closeEvent.index) {
                case 0:
                    this.settings.value = input.value;
                    if (typeof this.get('onok') === 'function') {
                        returnValue = this.get('onok').call(this, closeEvent, this.settings.value);
                        if (typeof returnValue !== 'undefined') {
                            closeEvent.cancel = !returnValue;
                        }
                    }
                    break;
                case 1:
                    if (typeof this.get('oncancel') === 'function') {
                        returnValue = this.get('oncancel').call(this, closeEvent);
                        if (typeof returnValue !== 'undefined') {
                            closeEvent.cancel = !returnValue;
                        }
                    }
                    if(!closeEvent.cancel){
                        input.value = this.settings.value;
                    }
                    break;
                }
            }
        };
    });

    // CommonJS
    {
        module.exports = alertify;
    // AMD
    }

} ( typeof window !== 'undefined' ? window : commonjsGlobal ) );
});

/*
*  Color options (applied on the map and on the chart):
*/
var color_countries = 'rgb(147, 144, 252)'; // Color for features within the study zone but not highlighted
var color_disabled = 'rgb(214, 214, 214)'; // Color for features outside the study zone / without data
var color_sup = 'green'; // Color for selected feature with "better" values than the reference feature
var color_inf = 'red'; // Color for selected feature with "worse" values than the reference feature
var color_highlight = 'yellow'; // Color for the reference feature ("Ma rÃ©gion")
var color_default_dissim = 'darkred'; // Neutral color for selected features when green/red can't be used

/*
*  Misc. options:
*/
var MAX_VARIABLES = 7; // The maximum number of variables that can be selected simultaneously.

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
  return typeof obj;
} : function (obj) {
  return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
};











var classCallCheck = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

var createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();



























var slicedToArray = function () {
  function sliceIterator(arr, i) {
    var _arr = [];
    var _n = true;
    var _d = false;
    var _e = undefined;

    try {
      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
        _arr.push(_s.value);

        if (i && _arr.length === i) break;
      }
    } catch (err) {
      _d = true;
      _e = err;
    } finally {
      try {
        if (!_n && _i["return"]) _i["return"]();
      } finally {
        if (_d) throw _e;
      }
    }

    return _arr;
  }

  return function (arr, i) {
    if (Array.isArray(arr)) {
      return arr;
    } else if (Symbol.iterator in Object(arr)) {
      return sliceIterator(arr, i);
    } else {
      throw new TypeError("Invalid attempt to destructure non-iterable instance");
    }
  };
}();

var math_abs = Math.abs;
var math_round = Math.round;
var math_max = Math.max;
var math_sin = Math.sin;
var math_cos = Math.cos;
var math_sqrt = Math.sqrt;
var HALF_PI = Math.PI / 2;

function prepareTooltip(parent_svg_elem) {
  var tooltip = parent_svg_elem.append('g').attr('class', 'tooltip').style('display', 'none');

  tooltip.append('rect').attrs({ x: 15, width: 0, height: 0, fill: 'beige' }).style('opacity', 0.75);

  tooltip.append('text').attrs({ class: 'id_feature', x: 25, dy: '1.2em', 'font-size': '14px' }).style('font-weight', 'bold');

  tooltip.append('text').attrs({
    class: 'value_feature1',
    x: 25,
    dy: '2.4em',
    'font-size': '14px'
  });

  tooltip.append('text').attrs({
    class: 'value_feature2',
    x: 25,
    dy: '3.5em',
    'font-size': '14px'
  });

  tooltip.append('text').attrs({
    class: 'value_feature3',
    x: 25,
    dy: '4.6em',
    'font-size': '14px'
  });

  tooltip.append('text').attrs({
    class: 'value_feature4',
    x: 25,
    dy: '5.7em',
    'font-size': '14px'
  });

  tooltip.append('text').attrs({
    class: 'value_feature5',
    x: 25,
    dy: '6.8em',
    'font-size': '14px'
  });

  return tooltip;
}

function unbindUI() {
  // Removes the current behavior corresponding to clicking on the left menu:
  d3.selectAll('span.filter_v').on('click', null);
  d3.selectAll('span.target_region').on('click', null);
  d3.selectAll('span.label_chk').on('click', null);

  // Remove the table:
  d3.select('.dataTable-wrapper').remove();

  // Unbind buttons on the top of the map:
  d3.select('#header_map').selectAll('img').on('click', null);

  // Remove the selection menu (or buttons) under the chart:
  d3.select('#bar_section > #menu_selection').remove();

  // Removes the current behavior corresponding to clicking on the top menu:
  d3.selectAll('.type_chart.title_menu').on('click', null);

  // Removes the current behavior corresponding to pressing the Control key:
  document.onkeyup = null;
  document.onkeydown = null;
}

/**
* Function to compare the value of a feature to the reference value (i.e. the value of "my region")
* and return the appropriate color (serie may be inversed)
*
* @param {Number} test_value - The value to be compared to the value of "my region".
* @param {Number} ref_value - The value of my region.
* @param {Boolean} serie_inversed - Whether the serie is inversed or not in the current chart.
* @return {String} - A string containing the color to be used for this value.
*
*/
var comp = function comp(test_value, ref_value, serie_inversed) {
  if (test_value < ref_value) {
    return serie_inversed ? color_sup : color_inf;
  }
  return serie_inversed ? color_inf : color_sup;
};

/**
* Function to compare the value of a feature to the reference value (i.e. the value of "my region")
* and return the appropriate color (serie may be inversed)
*
* @param {Number} val1 - The value to be compared to the value of "my region" for the 1st variable.
* @param {Number} val2 - The value to be compared to the value of "my region" for the 2nd variable.
* @param {Number} ref_val1 - The value of my region for he first variable.
* @param {Number} ref_val2 - The value of my region for the second variable.
* @param {Boolean} xInversed - Whether the serie is inversed on the x axis in the current chart.
* @param {Boolean} yInversed - Whether the serie is inversed on the y axis in the current chart.
* @return {String} - A string containing the color to be used for theses values.
*
*/
var comp2 = function comp2(val1, val2, ref_val1, ref_val2, xInversed, yInversed) {
  if (val1 < ref_val1 && !xInversed || val1 > ref_val1 && xInversed) {
    // val1 is inferior:
    if (val2 < ref_val2) {
      return yInversed ? 'rgb(160, 30, 160)' : color_inf;
    }
    return yInversed ? color_inf : 'rgb(160, 30, 160)';
  }
  // val1 is superior :
  if (val2 > ref_val2) {
    return !yInversed ? color_sup : 'orange';
  }
  return !yInversed ? 'orange' : color_sup;
};

var Rect = function () {
  function Rect(topleft, bottomright) {
    classCallCheck(this, Rect);

    this.xmin = topleft[0];
    this.xmax = bottomright[0];
    this.ymin = topleft[1];
    this.ymax = bottomright[1];
  }

  createClass(Rect, [{
    key: 'contains',
    value: function contains(pt) {
      if (pt[0] >= this.xmin && pt[0] <= this.xmax && pt[1] >= this.ymin && pt[1] <= this.ymax) {
        return true;
      }
      return false;
    }
  }]);
  return Rect;
}();

var PropSizer = function PropSizer(fixed_value, fixed_size) {
  var _this = this;

  this.fixed_value = fixed_value;
  var sqrt = Math.sqrt;
  var abs = Math.abs;
  var PI = Math.PI;
  this.smax = fixed_size * fixed_size * PI;
  this.scale = function (val) {
    return sqrt(abs(val) * _this.smax / _this.fixed_value) / PI;
  };
  // this.get_value = size => ((size * PI) ** 2) / this.smax * this.fixed_value;
  // Use Math pow to support browser without ** operator:
  // eslint-disable-next-line no-restricted-properties
  this.get_value = function (size) {
    return Math.pow(size * PI, 2) / _this.smax * _this.fixed_value;
  };
};

var removeDuplicates = function removeDuplicates(arr) {
  var tmp = [];
  for (var i = 0, len_arr = arr.length; i < len_arr; i++) {
    if (tmp.indexOf(arr[i]) === -1) {
      tmp.push(arr[i]);
    }
  }
  return tmp;
};

var getSvgPathType = function getSvgPathType(path) {
  if (path.indexOf('M ') > -1 && path.indexOf(' L ') > -1) {
    return 2;
  }
  return 1;
};

var svgPathToCoords = function svgPathToCoords(path, type_path) {
  if (type_path === 1) {
    return path.slice(1).split('L').map(function (pt) {
      return pt.split(',').map(function (a) {
        return +a;
      });
    });
  }
  return path.slice(2).split(' L ').map(function (pt) {
    return pt.split(' ').map(function (a) {
      return +a;
    });
  });
};

function computePercentileRank(obj, field_name, result_field_name) {
  var values = obj.map(function (d) {
    return d[field_name];
  });
  var len_values = values.length;
  var getPR = function getPR(v) {
    var count = 0;
    for (var i = 0; i < len_values; i++) {
      if (values[i] <= v) {
        count += 1;
      }
    }
    return 100 * count / len_values;
  };
  for (var ix = 0; ix < len_values; ix++) {
    // eslint-disable-next-line no-param-reassign
    obj[ix][result_field_name] = getPR(values[ix]);
  }
}

var _getPR = function _getPR(v, serie) {
  var count = 0;
  for (var i = 0; i < serie.length; i++) {
    if (serie[i] <= v) {
      count += 1;
    }
  }
  return 100 * count / serie.length;
};

var getMean = function getMean(serie) {
  var nb_values = serie.length;
  var sum = 0;
  for (var i = 0; i < nb_values; i++) {
    sum += serie[i];
  }
  return sum / nb_values;
};

function euclidian_distance(feature1, feature2) {
  var _feature1$geometry$co = slicedToArray(feature1.geometry.coordinates, 2),
      x1 = _feature1$geometry$co[0],
      y1 = _feature1$geometry$co[1];

  var _feature2$geometry$co = slicedToArray(feature2.geometry.coordinates, 2),
      x2 = _feature2$geometry$co[0],
      y2 = _feature2$geometry$co[1];

  var a = x1 - x2;
  var b = y1 - y2;
  return math_sqrt(a * a + b * b);
}

/**
* Function to select the first variable on the left menu
* (triggered after changing region, if no more variable was selected)
*
* @return {void}
*/
function selectFirstAvailableVar() {
  var menu = document.querySelector('#menu');
  var v = menu.querySelectorAll('.target_variable');
  for (var i = 0; i < v.length; i++) {
    if (!v[i].classList.contains('disabled')) {
      v[i].classList.add('checked');
      return v[i].getAttribute('value');
    }
  }
}

var createMenu = function createMenu(names, variables, study_zones, territorial_mesh) {
  // First section, regions names:
  var title_section1 = document.createElement('p');
  title_section1.className = 'title_menu';
  title_section1.innerHTML = 'Ma rÃ©gion';
  var section1 = document.createElement('div');
  section1.className = 'box';
  section1.style.overflow = 'auto';
  section1.style.height = '180px';
  for (var i = 0, len_i = names.length; i < len_i; i++) {
    var id = names[i].geo;
    var name = names[i].Nom;
    var entry = document.createElement('p');
    entry.innerHTML = '<span value="' + id + '" class=\'target_region square\'></span><span class="label_chk">' + name + '</span>';
    section1.appendChild(entry);
  }

  // Second section, groups of variables:
  var title_section2 = document.createElement('p');
  title_section2.className = 'title_menu';
  title_section2.innerHTML = 'Mon/mes indicateurs';
  var section2 = document.createElement('div');
  section2.id = 'menu_variables';
  section2.className = 'box';
  section2.style.overflow = 'auto';
  section2.style.height = '170px';

  // Filter the "variables" variable to fetch the group names :
  var groups_var = removeDuplicates(variables.map(function (d) {
    return d.group;
  }).filter(function (d) {
    return d !== 'Num/dÃ©nom';
  }));

  var _loop = function _loop(_i, _len_i) {
    var gp_name = groups_var[_i];
    var entry = document.createElement('p');
    entry.className = 'name_group_var';
    entry.innerHTML = '<span class=\'square\'></span><span>' + gp_name + '</span>';
    section2.appendChild(entry);
    var div_grp = document.createElement('div');
    div_grp.style.display = _i === 0 ? null : 'none';
    var var_names = variables.filter(function (d) {
      return d.group === gp_name;
    });
    for (var j = 0, len_j = var_names.length; j < len_j; j++) {
      var name_var = var_names[j].name;
      var code_var = var_names[j].ratio;
      var sub_entry = document.createElement('p');
      sub_entry.className = 'small';
      sub_entry.innerHTML = '<span value="' + code_var + '" class="target_variable small_square"></span><span class="label_chk">' + name_var + '</span><span class="i_info">i</span>';
      div_grp.appendChild(sub_entry);
    }
    section2.appendChild(div_grp);
  };

  for (var _i = 0, _len_i = groups_var.length; _i < _len_i; _i++) {
    _loop(_i, _len_i);
  }

  // Third section, study zone:
  var title_section3 = document.createElement('p');
  title_section3.className = 'title_menu';
  title_section3.innerHTML = 'Mon espace d\'Ã©tude';
  var section3 = document.createElement('div');
  section3.id = 'menu_studyzone';
  section3.className = 'box';
  for (var _i2 = 0, _len_i2 = study_zones.length; _i2 < _len_i2; _i2++) {
    var _entry = document.createElement('p');
    var zone = study_zones[_i2];
    if (zone.id === 'filter_dist') {
      _entry.innerHTML = '<span filter-value="' + zone.id + '" class=\'filter_v square\'></span><span class="label_chk">' + zone.name + '</span><input value="450" disabled="disabled" style="width: 55px; height: 13px;" type="number" min="0" max="100000" id="dist_filter"></input><span> km</span><span class="i_info">i</span>';
    } else {
      _entry.innerHTML = '<span filter-value="' + zone.id + '" class=\'filter_v square\'></span><span class="label_chk">' + zone.name + '</span><span class="i_info">i</span>';
    }
    section3.appendChild(_entry);
  }

  // Fourth section:
  var title_section4 = document.createElement('p');
  title_section4.className = 'title_menu';
  title_section4.innerHTML = 'Maillage territorial d\'analyse';
  var section4 = document.createElement('div');
  section4.id = 'menu_territ_level';
  section4.className = 'box';
  for (var _i3 = 0, _len_i3 = territorial_mesh.length; _i3 < _len_i3; _i3++) {
    var _entry2 = document.createElement('p');
    var territ_level = territorial_mesh[_i3];
    _entry2.innerHTML = '<span value="' + territ_level.id + '" class=\'territ_level square\'></span><span class="label_chk">' + territ_level.name + '</span><span class="i_info">i</span>';
    section4.appendChild(_entry2);
  }

  // The actual menu containing these 4 sections:
  var menu = document.getElementById('menu');
  menu.id = 'menu';
  menu.style.width = '340px';
  menu.style.float = 'left';
  menu.appendChild(title_section1);
  menu.appendChild(section1);
  menu.appendChild(title_section2);
  menu.appendChild(section2);
  menu.appendChild(title_section3);
  menu.appendChild(section3);
  menu.appendChild(title_section4);
  menu.appendChild(section4);
};

function makeTopMenu() {
  var top_menu = d3.select('#menutop').styles({ 'font-family': "'Signika', sans-serif", 'font-size': '0.80em', padding: '0.3px' });
  var width_left = document.querySelector('#menu').getBoundingClientRect().width + 25 + 'px';
  var t = document.querySelector('#bar_section').getBoundingClientRect().width;
  var width_central_chart = t + 'px';
  var width_map = document.querySelector('#map_section').getBoundingClientRect().width - 35 + 'px';
  var width_type_comp = (t - 80) / 2 - 2 + 'px';
  top_menu.append('div').attrs({ class: 'title_section' }).styles({ width: width_left, float: 'left', margin: '0 3px' }).html('SÃ‰LECTION');

  var type_chart = top_menu.append('div').attr('class', 'top_section').styles({ width: width_central_chart, float: 'left', margin: '0 3px', 'text-align': 'center' });

  var position = type_chart.append('div').attr('class', 'type_comparaison').styles({ width: width_type_comp });

  position.append('p').attr('class', 'title_type_comp').html('POSITION');

  position.append('span').attrs({ class: 'type_chart chart_t1 selected', value: 'BarChart1' }).html('1 ind.');

  position.append('span').attrs({ class: 'type_chart chart_t2 disabled', value: 'ScatterPlot2' }).html('2 ind.');

  position.append('span').attrs({ class: 'type_chart chart_t3 disabled', value: 'RadarChart3' }).html('+3 ind.');

  var ressemblance = type_chart.append('div').attr('class', 'type_comparaison').styles({ width: width_type_comp });

  ressemblance.append('p').attr('class', 'title_type_comp').html('RESSEMBLANCES');

  // ressemblance.append('span')
  //   .attrs({ class: 'type_chart chart_t1', value: 'BubbleChart1' })
  //   .html('1 ind.');
  //
  // ressemblance.append('span')
  //   .attrs({ class: 'type_chart chart_t2 disabled', value: 'SimilarityChart' })
  //   .html('+2 ind.');

  ressemblance.append('span').attrs({ class: 'type_chart chart_t1', value: 'Similarity1plus' }).html('+1 ind.');

  // const inegalite = type_chart
  //   .append('div')
  //   .attr('class', 'type_comparaison')
  //   .styles({ width: width_type_comp });
  //
  // inegalite.append('p')
  //   .attr('class', 'title_type_comp')
  //   .html('INÃ‰GALITÃ‰S');
  //
  // inegalite.append('span')
  //   .attrs({ class: 'type_chart chart_t1', value: 'BoxPlot1' })
  //   .html('1 ind.');
  //
  // inegalite.append('span')
  //   .attrs({ class: 'type_chart chart_t2 disabled', value: 'ParallelCoords2' })
  //   .html('+2 ind.');

  top_menu.append('div').attrs({ class: 'title_section' }).styles({ width: width_map, float: 'left', margin: '0 0 0 20px' }).html('QUELLES REGIONS ?');
}

function makeHeaderMapSection() {
  var header_map_section = d3.select('#map_section').insert('p', 'svg').attr('id', 'header_map').style('margin', '0 0 0 10px');

  header_map_section.insert('img').attrs({
    class: 'map_button active',
    width: 20,
    height: 20,
    src: 'img/gimp-tool-rect-select.png',
    id: 'img_rect_selec'
  });

  header_map_section.insert('img').attrs({
    class: 'map_button',
    width: 20,
    height: 20,
    src: 'img/gimp-tool-zoom.png',
    id: 'img_map_zoom'
  });

  header_map_section.insert('img').attrs({
    class: 'map_button',
    width: 20,
    height: 20,
    src: 'img/gimp-cursor.png',
    id: 'img_map_select'
  });
}

function makeHeaderChart() {
  var header_bar_section = d3.select('#bar_section').insert('p', 'svg').attr('id', 'header_chart').style('margin-bottom', '0').style('clear', 'both');

  header_bar_section.insert('img').attrs({
    width: 24,
    height: 24,
    src: 'img/edit-table-insert-row-above.svg',
    id: 'img_table'
  }).styles({ margin: '3px', float: 'right' }).on('click', function () {
    var columns = Object.keys(app.current_data[0]);
    var content = [columns.join(','), '\r\n', app.current_data.map(function (d) {
      return columns.map(function (c) {
        return d[c];
      }).join(',');
    }).join('\r\n')].join('');
    var elem = document.createElement('a');
    elem.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(content));
    elem.setAttribute('download', 'Regioviz_export.csv');
    elem.style.display = 'none';
    document.body.appendChild(elem);
    elem.click();
    document.body.removeChild(elem);
    // if (document.querySelector('.dataTable-wrapper').style.display) {
    //   document.querySelector('#svg_map').style.display = 'none';
    //   document.querySelector('#svg_legend').style.display = 'none';
    //   document.querySelector('#header_map').style.display = 'none';
    //   document.querySelector('#header_table').style.display = null;
    //   document.querySelector('.dataTable-wrapper').style.display = null;
    //   this.style.filter = 'invert(75%)';
    // } else {
    //   document.querySelector('#svg_map').style.display = null;
    //   document.querySelector('#svg_legend').style.display = null;
    //   document.querySelector('#header_map').style.display = null;
    //   document.querySelector('#header_table').style.display = 'none';
    //   document.querySelector('.dataTable-wrapper').style.display = 'none';
    //   this.style.filter = null;
    // }
  });

  header_bar_section.insert('img').attrs({
    width: 24,
    height: 24,
    src: 'img/printer.svg',
    id: 'img_printer'
  }).styles({ margin: '3px', float: 'right' });

  header_bar_section.insert('img').attrs({
    width: 24,
    height: 24,
    src: 'img/gtk-info.svg',
    id: 'img_info'
  }).styles({ margin: '3px', float: 'right' });
}

var tippy = createCommonjsModule(function (module, exports) {
(function (global, factory) {
	module.exports = factory();
}(commonjsGlobal, (function () { 'use strict';

var Browser = {};

if (typeof window !== 'undefined') {
  Browser.SUPPORTED = 'requestAnimationFrame' in window;
  Browser.SUPPORTS_TOUCH = 'ontouchstart' in window;
  Browser.touch = false;
  Browser.dynamicInputDetection = true;
  // Chrome device/touch emulation can make this dynamic
  Browser.iOS = function () {
    return (/iPhone|iPad|iPod/.test(navigator.userAgent) && !window.MSStream
    );
  };
}

/**
* The global storage array which holds all data reference objects
* from every instance
* This allows us to hide tooltips from all instances, finding the ref when
* clicking on the body, and for followCursor
*/
var Store = [];

/**
* Selector constants used for grabbing elements
*/
var Selectors = {
  POPPER: '.tippy-popper',
  TOOLTIP: '.tippy-tooltip',
  CONTENT: '.tippy-tooltip-content',
  CIRCLE: '[x-circle]',
  ARROW: '[x-arrow]',
  TOOLTIPPED_EL: '[data-tooltipped]',
  CONTROLLER: '[data-tippy-controller]'

  /**
  * The default settings applied to each instance
  */
};var Defaults = {
  html: false,
  position: 'top',
  animation: 'shift',
  animateFill: true,
  arrow: false,
  arrowSize: 'regular',
  delay: 0,
  trigger: 'mouseenter focus',
  duration: 350,
  interactive: false,
  interactiveBorder: 2,
  theme: 'dark',
  size: 'regular',
  distance: 10,
  offset: 0,
  hideOnClick: true,
  multiple: false,
  followCursor: false,
  inertia: false,
  flipDuration: 350,
  sticky: false,
  stickyDuration: 200,
  appendTo: function appendTo() {
    return document.body;
  },
  zIndex: 9999,
  touchHold: false,
  performance: false,
  dynamicTitle: false,
  popperOptions: {}

  /**
  * The keys of the defaults object for reducing down into a new object
  * Used in `getIndividualSettings()`
  */
};var DefaultsKeys = Browser.SUPPORTED && Object.keys(Defaults);

/**
* Hides all poppers
* @param {Object} exclude - refData to exclude if needed
*/
function hideAllPoppers(exclude) {
  Store.forEach(function (refData) {
    var popper = refData.popper,
        tippyInstance = refData.tippyInstance,
        _refData$settings = refData.settings,
        appendTo = _refData$settings.appendTo,
        hideOnClick = _refData$settings.hideOnClick,
        trigger = _refData$settings.trigger;

    // Don't hide already hidden ones

    if (!appendTo.contains(popper)) return;

    // hideOnClick can have the truthy value of 'persistent', so strict check is needed
    var isHideOnClick = hideOnClick === true || trigger.indexOf('focus') !== -1;
    var isNotCurrentRef = !exclude || popper !== exclude.popper;

    if (isHideOnClick && isNotCurrentRef) {
      tippyInstance.hide(popper);
    }
  });
}

var matches = {};

if (typeof Element !== 'undefined') {
  var e = Element.prototype;
  matches = e.matches || e.matchesSelector || e.webkitMatchesSelector || e.mozMatchesSelector || e.msMatchesSelector || function (s) {
    var matches = (this.document || this.ownerDocument).querySelectorAll(s),
        i = matches.length;
    while (--i >= 0 && matches.item(i) !== this) {}
    return i > -1;
  };
}

var matches$1 = matches;

/**
* Ponyfill to get the closest parent element
* @param {Element} element - child of parent to be returned
* @param {String} parentSelector - selector to match the parent if found
* @return {Element}
*/
function closest(element, parentSelector) {
  var _closest = Element.prototype.closest || function (selector) {
    var el = this;
    while (el) {
      if (matches$1.call(el, selector)) {
        return el;
      }
      el = el.parentElement;
    }
  };

  return _closest.call(element, parentSelector);
}

/**
* Ponyfill for Array.prototype.find
* @param {Array} arr
* @param {Function} checkFn
* @return item in the array
*/
function find(arr, checkFn) {
  if (Array.prototype.find) {
    return arr.find(checkFn);
  }

  // use `filter` as fallback
  return arr.filter(checkFn)[0];
}

/**
* Adds the needed event listeners
*/
function bindEventListeners() {
  var touchHandler = function touchHandler() {
    Browser.touch = true;

    if (Browser.iOS()) {
      document.body.classList.add('tippy-touch');
    }

    if (Browser.dynamicInputDetection && window.performance) {
      document.addEventListener('mousemove', mousemoveHandler);
    }
  };

  var mousemoveHandler = function () {
    var time = void 0;

    return function () {
      var now = performance.now();

      // Chrome 60+ is 1 mousemove per rAF, use 20ms time difference
      if (now - time < 20) {
        Browser.touch = false;
        document.removeEventListener('mousemove', mousemoveHandler);
        if (!Browser.iOS()) {
          document.body.classList.remove('tippy-touch');
        }
      }

      time = now;
    };
  }();

  var clickHandler = function clickHandler(event) {
    // Simulated events dispatched on the document
    if (!(event.target instanceof Element)) {
      return hideAllPoppers();
    }

    var el = closest(event.target, Selectors.TOOLTIPPED_EL);
    var popper = closest(event.target, Selectors.POPPER);

    if (popper) {
      var ref = find(Store, function (ref) {
        return ref.popper === popper;
      });
      var interactive = ref.settings.interactive;

      if (interactive) return;
    }

    if (el) {
      var _ref = find(Store, function (ref) {
        return ref.el === el;
      });
      var _ref$settings = _ref.settings,
          hideOnClick = _ref$settings.hideOnClick,
          multiple = _ref$settings.multiple,
          trigger = _ref$settings.trigger;

      // Hide all poppers except the one belonging to the element that was clicked IF
      // `multiple` is false AND they are a touch user, OR
      // `multiple` is false AND it's triggered by a click

      if (!multiple && Browser.touch || !multiple && trigger.indexOf('click') !== -1) {
        return hideAllPoppers(_ref);
      }

      // If hideOnClick is not strictly true or triggered by a click don't hide poppers
      if (hideOnClick !== true || trigger.indexOf('click') !== -1) return;
    }

    // Don't trigger a hide for tippy controllers, and don't needlessly run loop
    if (closest(event.target, Selectors.CONTROLLER) || !document.querySelector(Selectors.POPPER)) return;

    hideAllPoppers();
  };

  var blurHandler = function blurHandler(event) {
    var _document = document,
        el = _document.activeElement;

    if (el && el.blur && matches$1.call(el, Selectors.TOOLTIPPED_EL)) {
      el.blur();
    }
  };

  // Hook events
  document.addEventListener('click', clickHandler);
  document.addEventListener('touchstart', touchHandler);
  window.addEventListener('blur', blurHandler);

  if (!Browser.SUPPORTS_TOUCH && (navigator.maxTouchPoints > 0 || navigator.msMaxTouchPoints > 0)) {
    document.addEventListener('pointerdown', touchHandler);
  }
}

/**
* To run a single time, once DOM is presumed to be ready
* @return {Boolean} whether the function has run or not
*/
function init() {
  if (init.done) return false;
  init.done = true;

  bindEventListeners();

  return true;
}

/**
* Waits until next repaint to execute a fn
* @param {Function} fn
*/
function defer(fn) {
  window.requestAnimationFrame(function () {
    setTimeout(fn, 0);
  });
}

/**
* Returns the supported prefixed property - only `webkit` is needed, `moz`, `ms` and `o` are obsolete
* @param {String} property
* @return {String} - browser supported prefixed property
*/
function prefix(property) {
  var prefixes = [false, 'webkit'];
  var upperProp = property.charAt(0).toUpperCase() + property.slice(1);

  for (var i = 0; i < prefixes.length; i++) {
    var _prefix = prefixes[i];
    var prefixedProp = _prefix ? '' + _prefix + upperProp : property;
    if (typeof window.document.body.style[prefixedProp] !== 'undefined') {
      return prefixedProp;
    }
  }

  return null;
}

/**
* Ponyfill for Array.prototype.findIndex
* @param {Array} arr
* @param {Function} checkFn
* @return index of the item in the array
*/
function findIndex(arr, checkFn) {
  if (Array.prototype.findIndex) {
    return arr.findIndex(checkFn);
  }

  // fallback
  return arr.indexOf(find(arr, checkFn));
}

/**
* Removes the title from the tooltipped element, setting `data-original-title`
* appropriately
* @param {Element} el
*/
function removeTitle(el) {
  var title = el.getAttribute('title');

  // Only set `data-original-title` attr if there is a title
  if (title) {
    el.setAttribute('data-original-title', title);
  }

  el.removeAttribute('title');
}

/**
* Determines if an element is visible in the viewport
* @param {Element} el
* @return {Boolean}
*/
function elementIsInViewport(el) {
  var rect = el.getBoundingClientRect();

  return rect.top >= 0 && rect.left >= 0 && rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) && rect.right <= (window.innerWidth || document.documentElement.clientWidth);
}

/**
* Triggers a document repaint or reflow for CSS transition
* @param {Element} tooltip
* @param {Element} circle
*/
function triggerReflow(tooltip, circle) {
  // Safari needs the specific 'transform' property to be accessed
  circle ? window.getComputedStyle(circle)[prefix('transform')] : window.getComputedStyle(tooltip).opacity;
}

/**
* Modifies elements' class lists
* @param {Element[]} els - Array of elements
* @param {Function} callback
*/
function modifyClassList(els, callback) {
  els.forEach(function (el) {
    if (!el) return;
    callback(el.classList);
  });
}

/**
* Returns inner elements of the popper element
* @param {Element} popper
* @return {Object}
*/
function getInnerElements(popper) {
  return {
    tooltip: popper.querySelector(Selectors.TOOLTIP),
    circle: popper.querySelector(Selectors.CIRCLE),
    content: popper.querySelector(Selectors.CONTENT)
  };
}

/**
* Applies the transition duration to each element
* @param {Element[]} els - Array of elements
* @param {Number} duration
*/
function applyTransitionDuration(els, duration) {
  els.forEach(function (el) {
    if (!el) return;

    var isContent = matches$1.call(el, Selectors.CONTENT);

    var _duration = isContent ? Math.round(duration / 1.3) : duration;

    el.style[prefix('transitionDuration')] = _duration + 'ms';
  });
}

/**
* Determines if a popper is currently visible
* @param {Element} popper
* @return {Boolean}
*/
function isVisible(popper) {
  return popper.style.visibility === 'visible';
}

function noop() {}

function isObjectLiteral(input) {
  return !!input && input.toString() === '[object Object]';
}

/**
* Returns the non-shifted placement (e.g., 'bottom-start' => 'bottom')
* @param {String} placement
* @return {String}
*/
function getCorePlacement(placement) {
  return placement.replace(/-.+/, '');
}

/**
* Mousemove event listener callback method for follow cursor setting
* @param {MouseEvent} e
*/
function followCursorHandler(e) {
  var _this = this;

  var data = find(Store, function (data) {
    return data.el === _this;
  });

  var popper = data.popper,
      offset = data.settings.offset;


  var position = getCorePlacement(popper.getAttribute('x-placement'));
  var halfPopperWidth = Math.round(popper.offsetWidth / 2);
  var halfPopperHeight = Math.round(popper.offsetHeight / 2);
  var viewportPadding = 5;
  var pageWidth = document.documentElement.offsetWidth || document.body.offsetWidth;

  var pageX = e.pageX,
      pageY = e.pageY;


  var x = void 0,
      y = void 0;

  switch (position) {
    case 'top':
      x = pageX - halfPopperWidth + offset;
      y = pageY - 2 * halfPopperHeight;
      break;
    case 'bottom':
      x = pageX - halfPopperWidth + offset;
      y = pageY + 10;
      break;
    case 'left':
      x = pageX - 2 * halfPopperWidth;
      y = pageY - halfPopperHeight + offset;
      break;
    case 'right':
      x = pageX + 5;
      y = pageY - halfPopperHeight + offset;
      break;
  }

  var isRightOverflowing = pageX + viewportPadding + halfPopperWidth + offset > pageWidth;
  var isLeftOverflowing = pageX - viewportPadding - halfPopperWidth + offset < 0;

  // Prevent left/right overflow
  if (position === 'top' || position === 'bottom') {
    if (isRightOverflowing) {
      x = pageWidth - viewportPadding - 2 * halfPopperWidth;
    }

    if (isLeftOverflowing) {
      x = viewportPadding;
    }
  }

  popper.style[prefix('transform')] = 'translate3d(' + x + 'px, ' + y + 'px, 0)';
}

/**
* Returns an array of elements based on the selector input
* @param {String|Element|Element[]} selector
* @return {Element[]}
*/
function getArrayOfElements(selector) {
  if (selector instanceof Element || isObjectLiteral(selector)) {
    return [selector];
  }

  if (selector instanceof NodeList) {
    return [].slice.call(selector);
  }

  if (Array.isArray(selector)) {
    return selector;
  }

  try {
    return [].slice.call(document.querySelectorAll(selector));
  } catch (_) {
    return [];
  }
}

/**
* Prepares the callback functions for `show` and `hide` methods
* @param {Object} data
* @param {Number} duration
* @param {Function} callback - callback function to fire once transitions complete
*/
function onTransitionEnd(data, duration, callback) {
  // Make callback synchronous if duration is 0
  if (!duration) {
    return callback();
  }

  var _getInnerElements = getInnerElements(data.popper),
      tooltip = _getInnerElements.tooltip;

  var transitionendFired = false;

  var listenerCallback = function listenerCallback(e) {
    if (e.target === tooltip && !transitionendFired) {
      transitionendFired = true;
      callback();
    }
  };

  // Fire callback upon transition completion
  tooltip.addEventListener('webkitTransitionEnd', listenerCallback);
  tooltip.addEventListener('transitionend', listenerCallback);

  // Fallback: transitionend listener sometimes may not fire
  clearTimeout(data._transitionendTimeout);
  data._transitionendTimeout = setTimeout(function () {
    if (!transitionendFired) {
      callback();
    }
  }, duration);
}

/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.12.4
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var nativeHints = ['native code', '[object MutationObserverConstructor]'];

/**
 * Determine if a function is implemented natively (as opposed to a polyfill).
 * @method
 * @memberof Popper.Utils
 * @argument {Function | undefined} fn the function to check
 * @returns {Boolean}
 */
var isNative = function isNative(fn) {
  return nativeHints.some(function (hint) {
    return (fn || '').toString().indexOf(hint) > -1;
  });
};

var isBrowser = typeof window !== 'undefined';
var longerTimeoutBrowsers = ['Edge', 'Trident', 'Firefox'];
var timeoutDuration = 0;
for (var i = 0; i < longerTimeoutBrowsers.length; i += 1) {
  if (isBrowser && navigator.userAgent.indexOf(longerTimeoutBrowsers[i]) >= 0) {
    timeoutDuration = 1;
    break;
  }
}

function microtaskDebounce(fn) {
  var scheduled = false;
  var i = 0;
  var elem = document.createElement('span');

  // MutationObserver provides a mechanism for scheduling microtasks, which
  // are scheduled *before* the next task. This gives us a way to debounce
  // a function but ensure it's called *before* the next paint.
  var observer = new MutationObserver(function () {
    fn();
    scheduled = false;
  });

  observer.observe(elem, { attributes: true });

  return function () {
    if (!scheduled) {
      scheduled = true;
      elem.setAttribute('x-index', i);
      i = i + 1; // don't use compund (+=) because it doesn't get optimized in V8
    }
  };
}

function taskDebounce(fn) {
  var scheduled = false;
  return function () {
    if (!scheduled) {
      scheduled = true;
      setTimeout(function () {
        scheduled = false;
        fn();
      }, timeoutDuration);
    }
  };
}

// It's common for MutationObserver polyfills to be seen in the wild, however
// these rely on Mutation Events which only occur when an element is connected
// to the DOM. The algorithm used in this module does not use a connected element,
// and so we must ensure that a *native* MutationObserver is available.
var supportsNativeMutationObserver = isBrowser && isNative(window.MutationObserver);

/**
* Create a debounced version of a method, that's asynchronously deferred
* but called in the minimum time possible.
*
* @method
* @memberof Popper.Utils
* @argument {Function} fn
* @returns {Function}
*/
var debounce = supportsNativeMutationObserver ? microtaskDebounce : taskDebounce;

/**
 * Check if the given variable is a function
 * @method
 * @memberof Popper.Utils
 * @argument {Any} functionToCheck - variable to check
 * @returns {Boolean} answer to: is a function?
 */
function isFunction(functionToCheck) {
  var getType = {};
  return functionToCheck && getType.toString.call(functionToCheck) === '[object Function]';
}

/**
 * Get CSS computed property of the given element
 * @method
 * @memberof Popper.Utils
 * @argument {Eement} element
 * @argument {String} property
 */
function getStyleComputedProperty(element, property) {
  if (element.nodeType !== 1) {
    return [];
  }
  // NOTE: 1 DOM access here
  var css = window.getComputedStyle(element, null);
  return property ? css[property] : css;
}

/**
 * Returns the parentNode or the host of the element
 * @method
 * @memberof Popper.Utils
 * @argument {Element} element
 * @returns {Element} parent
 */
function getParentNode(element) {
  if (element.nodeName === 'HTML') {
    return element;
  }
  return element.parentNode || element.host;
}

/**
 * Returns the scrolling parent of the given element
 * @method
 * @memberof Popper.Utils
 * @argument {Element} element
 * @returns {Element} scroll parent
 */
function getScrollParent(element) {
  // Return body, `getScroll` will take care to get the correct `scrollTop` from it
  if (!element || ['HTML', 'BODY', '#document'].indexOf(element.nodeName) !== -1) {
    return window.document.body;
  }

  // Firefox want us to check `-x` and `-y` variations as well

  var _getStyleComputedProp = getStyleComputedProperty(element),
      overflow = _getStyleComputedProp.overflow,
      overflowX = _getStyleComputedProp.overflowX,
      overflowY = _getStyleComputedProp.overflowY;

  if (/(auto|scroll)/.test(overflow + overflowY + overflowX)) {
    return element;
  }

  return getScrollParent(getParentNode(element));
}

/**
 * Returns the offset parent of the given element
 * @method
 * @memberof Popper.Utils
 * @argument {Element} element
 * @returns {Element} offset parent
 */
function getOffsetParent(element) {
  // NOTE: 1 DOM access here
  var offsetParent = element && element.offsetParent;
  var nodeName = offsetParent && offsetParent.nodeName;

  if (!nodeName || nodeName === 'BODY' || nodeName === 'HTML') {
    return window.document.documentElement;
  }

  // .offsetParent will return the closest TD or TABLE in case
  // no offsetParent is present, I hate this job...
  if (['TD', 'TABLE'].indexOf(offsetParent.nodeName) !== -1 && getStyleComputedProperty(offsetParent, 'position') === 'static') {
    return getOffsetParent(offsetParent);
  }

  return offsetParent;
}

function isOffsetContainer(element) {
  var nodeName = element.nodeName;

  if (nodeName === 'BODY') {
    return false;
  }
  return nodeName === 'HTML' || getOffsetParent(element.firstElementChild) === element;
}

/**
 * Finds the root node (document, shadowDOM root) of the given element
 * @method
 * @memberof Popper.Utils
 * @argument {Element} node
 * @returns {Element} root node
 */
function getRoot(node) {
  if (node.parentNode !== null) {
    return getRoot(node.parentNode);
  }

  return node;
}

/**
 * Finds the offset parent common to the two provided nodes
 * @method
 * @memberof Popper.Utils
 * @argument {Element} element1
 * @argument {Element} element2
 * @returns {Element} common offset parent
 */
function findCommonOffsetParent(element1, element2) {
  // This check is needed to avoid errors in case one of the elements isn't defined for any reason
  if (!element1 || !element1.nodeType || !element2 || !element2.nodeType) {
    return window.document.documentElement;
  }

  // Here we make sure to give as "start" the element that comes first in the DOM
  var order = element1.compareDocumentPosition(element2) & Node.DOCUMENT_POSITION_FOLLOWING;
  var start = order ? element1 : element2;
  var end = order ? element2 : element1;

  // Get common ancestor container
  var range = document.createRange();
  range.setStart(start, 0);
  range.setEnd(end, 0);
  var commonAncestorContainer = range.commonAncestorContainer;

  // Both nodes are inside #document

  if (element1 !== commonAncestorContainer && element2 !== commonAncestorContainer || start.contains(end)) {
    if (isOffsetContainer(commonAncestorContainer)) {
      return commonAncestorContainer;
    }

    return getOffsetParent(commonAncestorContainer);
  }

  // one of the nodes is inside shadowDOM, find which one
  var element1root = getRoot(element1);
  if (element1root.host) {
    return findCommonOffsetParent(element1root.host, element2);
  } else {
    return findCommonOffsetParent(element1, getRoot(element2).host);
  }
}

/**
 * Gets the scroll value of the given element in the given side (top and left)
 * @method
 * @memberof Popper.Utils
 * @argument {Element} element
 * @argument {String} side `top` or `left`
 * @returns {number} amount of scrolled pixels
 */
function getScroll(element) {
  var side = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'top';

  var upperSide = side === 'top' ? 'scrollTop' : 'scrollLeft';
  var nodeName = element.nodeName;

  if (nodeName === 'BODY' || nodeName === 'HTML') {
    var html = window.document.documentElement;
    var scrollingElement = window.document.scrollingElement || html;
    return scrollingElement[upperSide];
  }

  return element[upperSide];
}

/*
 * Sum or subtract the element scroll values (left and top) from a given rect object
 * @method
 * @memberof Popper.Utils
 * @param {Object} rect - Rect object you want to change
 * @param {HTMLElement} element - The element from the function reads the scroll values
 * @param {Boolean} subtract - set to true if you want to subtract the scroll values
 * @return {Object} rect - The modifier rect object
 */
function includeScroll(rect, element) {
  var subtract = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;

  var scrollTop = getScroll(element, 'top');
  var scrollLeft = getScroll(element, 'left');
  var modifier = subtract ? -1 : 1;
  rect.top += scrollTop * modifier;
  rect.bottom += scrollTop * modifier;
  rect.left += scrollLeft * modifier;
  rect.right += scrollLeft * modifier;
  return rect;
}

/*
 * Helper to detect borders of a given element
 * @method
 * @memberof Popper.Utils
 * @param {CSSStyleDeclaration} styles
 * Result of `getStyleComputedProperty` on the given element
 * @param {String} axis - `x` or `y`
 * @return {number} borders - The borders size of the given axis
 */

function getBordersSize(styles, axis) {
  var sideA = axis === 'x' ? 'Left' : 'Top';
  var sideB = sideA === 'Left' ? 'Right' : 'Bottom';

  return +styles['border' + sideA + 'Width'].split('px')[0] + +styles['border' + sideB + 'Width'].split('px')[0];
}

/**
 * Tells if you are running Internet Explorer 10
 * @method
 * @memberof Popper.Utils
 * @returns {Boolean} isIE10
 */
var isIE10 = undefined;

var isIE10$1 = function isIE10$1() {
  if (isIE10 === undefined) {
    isIE10 = navigator.appVersion.indexOf('MSIE 10') !== -1;
  }
  return isIE10;
};

function getSize(axis, body, html, computedStyle, includeScroll) {
  return Math.max(body['offset' + axis], includeScroll ? body['scroll' + axis] : 0, html['client' + axis], html['offset' + axis], includeScroll ? html['scroll' + axis] : 0, isIE10$1() ? html['offset' + axis] + computedStyle['margin' + (axis === 'Height' ? 'Top' : 'Left')] + computedStyle['margin' + (axis === 'Height' ? 'Bottom' : 'Right')] : 0);
}

function getWindowSizes() {
  var includeScroll = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;

  var body = window.document.body;
  var html = window.document.documentElement;
  var computedStyle = isIE10$1() && window.getComputedStyle(html);

  return {
    height: getSize('Height', body, html, computedStyle, includeScroll),
    width: getSize('Width', body, html, computedStyle, includeScroll)
  };
}

var classCallCheck = function classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

var createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();

var defineProperty = function defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
};

var _extends = Object.assign || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];

    for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }

  return target;
};

/**
 * Given element offsets, generate an output similar to getBoundingClientRect
 * @method
 * @memberof Popper.Utils
 * @argument {Object} offsets
 * @returns {Object} ClientRect like output
 */
function getClientRect(offsets) {
  return _extends({}, offsets, {
    right: offsets.left + offsets.width,
    bottom: offsets.top + offsets.height
  });
}

/**
 * Get bounding client rect of given element
 * @method
 * @memberof Popper.Utils
 * @param {HTMLElement} element
 * @return {Object} client rect
 */
function getBoundingClientRect(element) {
  var rect = {};

  // IE10 10 FIX: Please, don't ask, the element isn't
  // considered in DOM in some circumstances...
  // This isn't reproducible in IE10 compatibility mode of IE11
  if (isIE10$1()) {
    try {
      rect = element.getBoundingClientRect();
      var scrollTop = getScroll(element, 'top');
      var scrollLeft = getScroll(element, 'left');
      rect.top += scrollTop;
      rect.left += scrollLeft;
      rect.bottom += scrollTop;
      rect.right += scrollLeft;
    } catch (err) {}
  } else {
    rect = element.getBoundingClientRect();
  }

  var result = {
    left: rect.left,
    top: rect.top,
    width: rect.right - rect.left,
    height: rect.bottom - rect.top
  };

  // subtract scrollbar size from sizes
  var sizes = element.nodeName === 'HTML' ? getWindowSizes() : {};
  var width = sizes.width || element.clientWidth || result.right - result.left;
  var height = sizes.height || element.clientHeight || result.bottom - result.top;

  var horizScrollbar = element.offsetWidth - width;
  var vertScrollbar = element.offsetHeight - height;

  // if an hypothetical scrollbar is detected, we must be sure it's not a `border`
  // we make this check conditional for performance reasons
  if (horizScrollbar || vertScrollbar) {
    var styles = getStyleComputedProperty(element);
    horizScrollbar -= getBordersSize(styles, 'x');
    vertScrollbar -= getBordersSize(styles, 'y');

    result.width -= horizScrollbar;
    result.height -= vertScrollbar;
  }

  return getClientRect(result);
}

function getOffsetRectRelativeToArbitraryNode(children, parent) {
  var isIE10 = isIE10$1();
  var isHTML = parent.nodeName === 'HTML';
  var childrenRect = getBoundingClientRect(children);
  var parentRect = getBoundingClientRect(parent);
  var scrollParent = getScrollParent(children);

  var styles = getStyleComputedProperty(parent);
  var borderTopWidth = +styles.borderTopWidth.split('px')[0];
  var borderLeftWidth = +styles.borderLeftWidth.split('px')[0];

  var offsets = getClientRect({
    top: childrenRect.top - parentRect.top - borderTopWidth,
    left: childrenRect.left - parentRect.left - borderLeftWidth,
    width: childrenRect.width,
    height: childrenRect.height
  });
  offsets.marginTop = 0;
  offsets.marginLeft = 0;

  // Subtract margins of documentElement in case it's being used as parent
  // we do this only on HTML because it's the only element that behaves
  // differently when margins are applied to it. The margins are included in
  // the box of the documentElement, in the other cases not.
  if (!isIE10 && isHTML) {
    var marginTop = +styles.marginTop.split('px')[0];
    var marginLeft = +styles.marginLeft.split('px')[0];

    offsets.top -= borderTopWidth - marginTop;
    offsets.bottom -= borderTopWidth - marginTop;
    offsets.left -= borderLeftWidth - marginLeft;
    offsets.right -= borderLeftWidth - marginLeft;

    // Attach marginTop and marginLeft because in some circumstances we may need them
    offsets.marginTop = marginTop;
    offsets.marginLeft = marginLeft;
  }

  if (isIE10 ? parent.contains(scrollParent) : parent === scrollParent && scrollParent.nodeName !== 'BODY') {
    offsets = includeScroll(offsets, parent);
  }

  return offsets;
}

function getViewportOffsetRectRelativeToArtbitraryNode(element) {
  var html = window.document.documentElement;
  var relativeOffset = getOffsetRectRelativeToArbitraryNode(element, html);
  var width = Math.max(html.clientWidth, window.innerWidth || 0);
  var height = Math.max(html.clientHeight, window.innerHeight || 0);

  var scrollTop = getScroll(html);
  var scrollLeft = getScroll(html, 'left');

  var offset = {
    top: scrollTop - relativeOffset.top + relativeOffset.marginTop,
    left: scrollLeft - relativeOffset.left + relativeOffset.marginLeft,
    width: width,
    height: height
  };

  return getClientRect(offset);
}

/**
 * Check if the given element is fixed or is inside a fixed parent
 * @method
 * @memberof Popper.Utils
 * @argument {Element} element
 * @argument {Element} customContainer
 * @returns {Boolean} answer to "isFixed?"
 */
function isFixed(element) {
  var nodeName = element.nodeName;
  if (nodeName === 'BODY' || nodeName === 'HTML') {
    return false;
  }
  if (getStyleComputedProperty(element, 'position') === 'fixed') {
    return true;
  }
  return isFixed(getParentNode(element));
}

/**
 * Computed the boundaries limits and return them
 * @method
 * @memberof Popper.Utils
 * @param {HTMLElement} popper
 * @param {HTMLElement} reference
 * @param {number} padding
 * @param {HTMLElement} boundariesElement - Element used to define the boundaries
 * @returns {Object} Coordinates of the boundaries
 */
function getBoundaries(popper, reference, padding, boundariesElement) {
  // NOTE: 1 DOM access here
  var boundaries = { top: 0, left: 0 };
  var offsetParent = findCommonOffsetParent(popper, reference);

  // Handle viewport case
  if (boundariesElement === 'viewport') {
    boundaries = getViewportOffsetRectRelativeToArtbitraryNode(offsetParent);
  } else {
    // Handle other cases based on DOM element used as boundaries
    var boundariesNode = void 0;
    if (boundariesElement === 'scrollParent') {
      boundariesNode = getScrollParent(getParentNode(popper));
      if (boundariesNode.nodeName === 'BODY') {
        boundariesNode = window.document.documentElement;
      }
    } else if (boundariesElement === 'window') {
      boundariesNode = window.document.documentElement;
    } else {
      boundariesNode = boundariesElement;
    }

    var offsets = getOffsetRectRelativeToArbitraryNode(boundariesNode, offsetParent);

    // In case of HTML, we need a different computation
    if (boundariesNode.nodeName === 'HTML' && !isFixed(offsetParent)) {
      var _getWindowSizes = getWindowSizes(false),
          height = _getWindowSizes.height,
          width = _getWindowSizes.width;

      boundaries.top += offsets.top - offsets.marginTop;
      boundaries.bottom = height + offsets.top;
      boundaries.left += offsets.left - offsets.marginLeft;
      boundaries.right = width + offsets.left;
    } else {
      // for all the other DOM elements, this one is good
      boundaries = offsets;
    }
  }

  // Add paddings
  boundaries.left += padding;
  boundaries.top += padding;
  boundaries.right -= padding;
  boundaries.bottom -= padding;

  return boundaries;
}

function getArea(_ref) {
  var width = _ref.width,
      height = _ref.height;

  return width * height;
}

/**
 * Utility used to transform the `auto` placement to the placement with more
 * available space.
 * @method
 * @memberof Popper.Utils
 * @argument {Object} data - The data object generated by update method
 * @argument {Object} options - Modifiers configuration and options
 * @returns {Object} The data object, properly modified
 */
function computeAutoPlacement(placement, refRect, popper, reference, boundariesElement) {
  var padding = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;

  if (placement.indexOf('auto') === -1) {
    return placement;
  }

  var boundaries = getBoundaries(popper, reference, padding, boundariesElement);

  var rects = {
    top: {
      width: boundaries.width,
      height: refRect.top - boundaries.top
    },
    right: {
      width: boundaries.right - refRect.right,
      height: boundaries.height
    },
    bottom: {
      width: boundaries.width,
      height: boundaries.bottom - refRect.bottom
    },
    left: {
      width: refRect.left - boundaries.left,
      height: boundaries.height
    }
  };

  var sortedAreas = Object.keys(rects).map(function (key) {
    return _extends({
      key: key
    }, rects[key], {
      area: getArea(rects[key])
    });
  }).sort(function (a, b) {
    return b.area - a.area;
  });

  var filteredAreas = sortedAreas.filter(function (_ref2) {
    var width = _ref2.width,
        height = _ref2.height;
    return width >= popper.clientWidth && height >= popper.clientHeight;
  });

  var computedPlacement = filteredAreas.length > 0 ? filteredAreas[0].key : sortedAreas[0].key;

  var variation = placement.split('-')[1];

  return computedPlacement + (variation ? '-' + variation : '');
}

/**
 * Get offsets to the reference element
 * @method
 * @memberof Popper.Utils
 * @param {Object} state
 * @param {Element} popper - the popper element
 * @param {Element} reference - the reference element (the popper will be relative to this)
 * @returns {Object} An object containing the offsets which will be applied to the popper
 */
function getReferenceOffsets(state, popper, reference) {
  var commonOffsetParent = findCommonOffsetParent(popper, reference);
  return getOffsetRectRelativeToArbitraryNode(reference, commonOffsetParent);
}

/**
 * Get the outer sizes of the given element (offset size + margins)
 * @method
 * @memberof Popper.Utils
 * @argument {Element} element
 * @returns {Object} object containing width and height properties
 */
function getOuterSizes(element) {
  var styles = window.getComputedStyle(element);
  var x = parseFloat(styles.marginTop) + parseFloat(styles.marginBottom);
  var y = parseFloat(styles.marginLeft) + parseFloat(styles.marginRight);
  var result = {
    width: element.offsetWidth + y,
    height: element.offsetHeight + x
  };
  return result;
}

/**
 * Get the opposite placement of the given one
 * @method
 * @memberof Popper.Utils
 * @argument {String} placement
 * @returns {String} flipped placement
 */
function getOppositePlacement(placement) {
  var hash = { left: 'right', right: 'left', bottom: 'top', top: 'bottom' };
  return placement.replace(/left|right|bottom|top/g, function (matched) {
    return hash[matched];
  });
}

/**
 * Get offsets to the popper
 * @method
 * @memberof Popper.Utils
 * @param {Object} position - CSS position the Popper will get applied
 * @param {HTMLElement} popper - the popper element
 * @param {Object} referenceOffsets - the reference offsets (the popper will be relative to this)
 * @param {String} placement - one of the valid placement options
 * @returns {Object} popperOffsets - An object containing the offsets which will be applied to the popper
 */
function getPopperOffsets(popper, referenceOffsets, placement) {
  placement = placement.split('-')[0];

  // Get popper node sizes
  var popperRect = getOuterSizes(popper);

  // Add position, width and height to our offsets object
  var popperOffsets = {
    width: popperRect.width,
    height: popperRect.height
  };

  // depending by the popper placement we have to compute its offsets slightly differently
  var isHoriz = ['right', 'left'].indexOf(placement) !== -1;
  var mainSide = isHoriz ? 'top' : 'left';
  var secondarySide = isHoriz ? 'left' : 'top';
  var measurement = isHoriz ? 'height' : 'width';
  var secondaryMeasurement = !isHoriz ? 'height' : 'width';

  popperOffsets[mainSide] = referenceOffsets[mainSide] + referenceOffsets[measurement] / 2 - popperRect[measurement] / 2;
  if (placement === secondarySide) {
    popperOffsets[secondarySide] = referenceOffsets[secondarySide] - popperRect[secondaryMeasurement];
  } else {
    popperOffsets[secondarySide] = referenceOffsets[getOppositePlacement(secondarySide)];
  }

  return popperOffsets;
}

/**
 * Mimics the `find` method of Array
 * @method
 * @memberof Popper.Utils
 * @argument {Array} arr
 * @argument prop
 * @argument value
 * @returns index or -1
 */
function find$1(arr, check) {
  // use native find if supported
  if (Array.prototype.find) {
    return arr.find(check);
  }

  // use `filter` to obtain the same behavior of `find`
  return arr.filter(check)[0];
}

/**
 * Return the index of the matching object
 * @method
 * @memberof Popper.Utils
 * @argument {Array} arr
 * @argument prop
 * @argument value
 * @returns index or -1
 */
function findIndex$1(arr, prop, value) {
  // use native findIndex if supported
  if (Array.prototype.findIndex) {
    return arr.findIndex(function (cur) {
      return cur[prop] === value;
    });
  }

  // use `find` + `indexOf` if `findIndex` isn't supported
  var match = find$1(arr, function (obj) {
    return obj[prop] === value;
  });
  return arr.indexOf(match);
}

/**
 * Loop trough the list of modifiers and run them in order,
 * each of them will then edit the data object.
 * @method
 * @memberof Popper.Utils
 * @param {dataObject} data
 * @param {Array} modifiers
 * @param {String} ends - Optional modifier name used as stopper
 * @returns {dataObject}
 */
function runModifiers(modifiers, data, ends) {
  var modifiersToRun = ends === undefined ? modifiers : modifiers.slice(0, findIndex$1(modifiers, 'name', ends));

  modifiersToRun.forEach(function (modifier) {
    if (modifier.function) {
      console.warn('`modifier.function` is deprecated, use `modifier.fn`!');
    }
    var fn = modifier.function || modifier.fn;
    if (modifier.enabled && isFunction(fn)) {
      // Add properties to offsets to make them a complete clientRect object
      // we do this before each modifier to make sure the previous one doesn't
      // mess with these values
      data.offsets.popper = getClientRect(data.offsets.popper);
      data.offsets.reference = getClientRect(data.offsets.reference);

      data = fn(data, modifier);
    }
  });

  return data;
}

/**
 * Updates the position of the popper, computing the new offsets and applying
 * the new style.<br />
 * Prefer `scheduleUpdate` over `update` because of performance reasons.
 * @method
 * @memberof Popper
 */
function update() {
  // if popper is destroyed, don't perform any further update
  if (this.state.isDestroyed) {
    return;
  }

  var data = {
    instance: this,
    styles: {},
    arrowStyles: {},
    attributes: {},
    flipped: false,
    offsets: {}
  };

  // compute reference element offsets
  data.offsets.reference = getReferenceOffsets(this.state, this.popper, this.reference);

  // compute auto placement, store placement inside the data object,
  // modifiers will be able to edit `placement` if needed
  // and refer to originalPlacement to know the original value
  data.placement = computeAutoPlacement(this.options.placement, data.offsets.reference, this.popper, this.reference, this.options.modifiers.flip.boundariesElement, this.options.modifiers.flip.padding);

  // store the computed placement inside `originalPlacement`
  data.originalPlacement = data.placement;

  // compute the popper offsets
  data.offsets.popper = getPopperOffsets(this.popper, data.offsets.reference, data.placement);
  data.offsets.popper.position = 'absolute';

  // run the modifiers
  data = runModifiers(this.modifiers, data);

  // the first `update` will call `onCreate` callback
  // the other ones will call `onUpdate` callback
  if (!this.state.isCreated) {
    this.state.isCreated = true;
    this.options.onCreate(data);
  } else {
    this.options.onUpdate(data);
  }
}

/**
 * Helper used to know if the given modifier is enabled.
 * @method
 * @memberof Popper.Utils
 * @returns {Boolean}
 */
function isModifierEnabled(modifiers, modifierName) {
  return modifiers.some(function (_ref) {
    var name = _ref.name,
        enabled = _ref.enabled;
    return enabled && name === modifierName;
  });
}

/**
 * Get the prefixed supported property name
 * @method
 * @memberof Popper.Utils
 * @argument {String} property (camelCase)
 * @returns {String} prefixed property (camelCase or PascalCase, depending on the vendor prefix)
 */
function getSupportedPropertyName(property) {
  var prefixes = [false, 'ms', 'Webkit', 'Moz', 'O'];
  var upperProp = property.charAt(0).toUpperCase() + property.slice(1);

  for (var i = 0; i < prefixes.length - 1; i++) {
    var prefix = prefixes[i];
    var toCheck = prefix ? '' + prefix + upperProp : property;
    if (typeof window.document.body.style[toCheck] !== 'undefined') {
      return toCheck;
    }
  }
  return null;
}

/**
 * Destroy the popper
 * @method
 * @memberof Popper
 */
function destroy() {
  this.state.isDestroyed = true;

  // touch DOM only if `applyStyle` modifier is enabled
  if (isModifierEnabled(this.modifiers, 'applyStyle')) {
    this.popper.removeAttribute('x-placement');
    this.popper.style.left = '';
    this.popper.style.position = '';
    this.popper.style.top = '';
    this.popper.style[getSupportedPropertyName('transform')] = '';
  }

  this.disableEventListeners();

  // remove the popper if user explicity asked for the deletion on destroy
  // do not use `remove` because IE11 doesn't support it
  if (this.options.removeOnDestroy) {
    this.popper.parentNode.removeChild(this.popper);
  }
  return this;
}

function attachToScrollParents(scrollParent, event, callback, scrollParents) {
  var isBody = scrollParent.nodeName === 'BODY';
  var target = isBody ? window : scrollParent;
  target.addEventListener(event, callback, { passive: true });

  if (!isBody) {
    attachToScrollParents(getScrollParent(target.parentNode), event, callback, scrollParents);
  }
  scrollParents.push(target);
}

/**
 * Setup needed event listeners used to update the popper position
 * @method
 * @memberof Popper.Utils
 * @private
 */
function setupEventListeners(reference, options, state, updateBound) {
  // Resize event listener on window
  state.updateBound = updateBound;
  window.addEventListener('resize', state.updateBound, { passive: true });

  // Scroll event listener on scroll parents
  var scrollElement = getScrollParent(reference);
  attachToScrollParents(scrollElement, 'scroll', state.updateBound, state.scrollParents);
  state.scrollElement = scrollElement;
  state.eventsEnabled = true;

  return state;
}

/**
 * It will add resize/scroll events and start recalculating
 * position of the popper element when they are triggered.
 * @method
 * @memberof Popper
 */
function enableEventListeners() {
  if (!this.state.eventsEnabled) {
    this.state = setupEventListeners(this.reference, this.options, this.state, this.scheduleUpdate);
  }
}

/**
 * Remove event listeners used to update the popper position
 * @method
 * @memberof Popper.Utils
 * @private
 */
function removeEventListeners(reference, state) {
  // Remove resize event listener on window
  window.removeEventListener('resize', state.updateBound);

  // Remove scroll event listener on scroll parents
  state.scrollParents.forEach(function (target) {
    target.removeEventListener('scroll', state.updateBound);
  });

  // Reset state
  state.updateBound = null;
  state.scrollParents = [];
  state.scrollElement = null;
  state.eventsEnabled = false;
  return state;
}

/**
 * It will remove resize/scroll events and won't recalculate popper position
 * when they are triggered. It also won't trigger onUpdate callback anymore,
 * unless you call `update` method manually.
 * @method
 * @memberof Popper
 */
function disableEventListeners() {
  if (this.state.eventsEnabled) {
    window.cancelAnimationFrame(this.scheduleUpdate);
    this.state = removeEventListeners(this.reference, this.state);
  }
}

/**
 * Tells if a given input is a number
 * @method
 * @memberof Popper.Utils
 * @param {*} input to check
 * @return {Boolean}
 */
function isNumeric(n) {
  return n !== '' && !isNaN(parseFloat(n)) && isFinite(n);
}

/**
 * Set the style to the given popper
 * @method
 * @memberof Popper.Utils
 * @argument {Element} element - Element to apply the style to
 * @argument {Object} styles
 * Object with a list of properties and values which will be applied to the element
 */
function setStyles(element, styles) {
  Object.keys(styles).forEach(function (prop) {
    var unit = '';
    // add unit if the value is numeric and is one of the following
    if (['width', 'height', 'top', 'right', 'bottom', 'left'].indexOf(prop) !== -1 && isNumeric(styles[prop])) {
      unit = 'px';
    }
    element.style[prop] = styles[prop] + unit;
  });
}

/**
 * Set the attributes to the given popper
 * @method
 * @memberof Popper.Utils
 * @argument {Element} element - Element to apply the attributes to
 * @argument {Object} styles
 * Object with a list of properties and values which will be applied to the element
 */
function setAttributes(element, attributes) {
  Object.keys(attributes).forEach(function (prop) {
    var value = attributes[prop];
    if (value !== false) {
      element.setAttribute(prop, attributes[prop]);
    } else {
      element.removeAttribute(prop);
    }
  });
}

/**
 * @function
 * @memberof Modifiers
 * @argument {Object} data - The data object generated by `update` method
 * @argument {Object} data.styles - List of style properties - values to apply to popper element
 * @argument {Object} data.attributes - List of attribute properties - values to apply to popper element
 * @argument {Object} options - Modifiers configuration and options
 * @returns {Object} The same data object
 */
function applyStyle(data) {
  // any property present in `data.styles` will be applied to the popper,
  // in this way we can make the 3rd party modifiers add custom styles to it
  // Be aware, modifiers could override the properties defined in the previous
  // lines of this modifier!
  setStyles(data.instance.popper, data.styles);

  // any property present in `data.attributes` will be applied to the popper,
  // they will be set as HTML attributes of the element
  setAttributes(data.instance.popper, data.attributes);

  // if arrowElement is defined and arrowStyles has some properties
  if (data.arrowElement && Object.keys(data.arrowStyles).length) {
    setStyles(data.arrowElement, data.arrowStyles);
  }

  return data;
}

/**
 * Set the x-placement attribute before everything else because it could be used
 * to add margins to the popper margins needs to be calculated to get the
 * correct popper offsets.
 * @method
 * @memberof Popper.modifiers
 * @param {HTMLElement} reference - The reference element used to position the popper
 * @param {HTMLElement} popper - The HTML element used as popper.
 * @param {Object} options - Popper.js options
 */
function applyStyleOnLoad(reference, popper, options, modifierOptions, state) {
  // compute reference element offsets
  var referenceOffsets = getReferenceOffsets(state, popper, reference);

  // compute auto placement, store placement inside the data object,
  // modifiers will be able to edit `placement` if needed
  // and refer to originalPlacement to know the original value
  var placement = computeAutoPlacement(options.placement, referenceOffsets, popper, reference, options.modifiers.flip.boundariesElement, options.modifiers.flip.padding);

  popper.setAttribute('x-placement', placement);

  // Apply `position` to popper before anything else because
  // without the position applied we can't guarantee correct computations
  setStyles(popper, { position: 'absolute' });

  return options;
}

/**
 * @function
 * @memberof Modifiers
 * @argument {Object} data - The data object generated by `update` method
 * @argument {Object} options - Modifiers configuration and options
 * @returns {Object} The data object, properly modified
 */
function computeStyle(data, options) {
  var x = options.x,
      y = options.y;
  var popper = data.offsets.popper;

  // Remove this legacy support in Popper.js v2

  var legacyGpuAccelerationOption = find$1(data.instance.modifiers, function (modifier) {
    return modifier.name === 'applyStyle';
  }).gpuAcceleration;
  if (legacyGpuAccelerationOption !== undefined) {
    console.warn('WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!');
  }
  var gpuAcceleration = legacyGpuAccelerationOption !== undefined ? legacyGpuAccelerationOption : options.gpuAcceleration;

  var offsetParent = getOffsetParent(data.instance.popper);
  var offsetParentRect = getBoundingClientRect(offsetParent);

  // Styles
  var styles = {
    position: popper.position
  };

  // floor sides to avoid blurry text
  var offsets = {
    left: Math.floor(popper.left),
    top: Math.floor(popper.top),
    bottom: Math.floor(popper.bottom),
    right: Math.floor(popper.right)
  };

  var sideA = x === 'bottom' ? 'top' : 'bottom';
  var sideB = y === 'right' ? 'left' : 'right';

  // if gpuAcceleration is set to `true` and transform is supported,
  //  we use `translate3d` to apply the position to the popper we
  // automatically use the supported prefixed version if needed
  var prefixedProperty = getSupportedPropertyName('transform');

  // now, let's make a step back and look at this code closely (wtf?)
  // If the content of the popper grows once it's been positioned, it
  // may happen that the popper gets misplaced because of the new content
  // overflowing its reference element
  // To avoid this problem, we provide two options (x and y), which allow
  // the consumer to define the offset origin.
  // If we position a popper on top of a reference element, we can set
  // `x` to `top` to make the popper grow towards its top instead of
  // its bottom.
  var left = void 0,
      top = void 0;
  if (sideA === 'bottom') {
    top = -offsetParentRect.height + offsets.bottom;
  } else {
    top = offsets.top;
  }
  if (sideB === 'right') {
    left = -offsetParentRect.width + offsets.right;
  } else {
    left = offsets.left;
  }
  if (gpuAcceleration && prefixedProperty) {
    styles[prefixedProperty] = 'translate3d(' + left + 'px, ' + top + 'px, 0)';
    styles[sideA] = 0;
    styles[sideB] = 0;
    styles.willChange = 'transform';
  } else {
    // othwerise, we use the standard `top`, `left`, `bottom` and `right` properties
    var invertTop = sideA === 'bottom' ? -1 : 1;
    var invertLeft = sideB === 'right' ? -1 : 1;
    styles[sideA] = top * invertTop;
    styles[sideB] = left * invertLeft;
    styles.willChange = sideA + ', ' + sideB;
  }

  // Attributes
  var attributes = {
    'x-placement': data.placement
  };

  // Update `data` attributes, styles and arrowStyles
  data.attributes = _extends({}, attributes, data.attributes);
  data.styles = _extends({}, styles, data.styles);
  data.arrowStyles = _extends({}, data.offsets.arrow, data.arrowStyles);

  return data;
}

/**
 * Helper used to know if the given modifier depends from another one.<br />
 * It checks if the needed modifier is listed and enabled.
 * @method
 * @memberof Popper.Utils
 * @param {Array} modifiers - list of modifiers
 * @param {String} requestingName - name of requesting modifier
 * @param {String} requestedName - name of requested modifier
 * @returns {Boolean}
 */
function isModifierRequired(modifiers, requestingName, requestedName) {
  var requesting = find$1(modifiers, function (_ref) {
    var name = _ref.name;
    return name === requestingName;
  });

  var isRequired = !!requesting && modifiers.some(function (modifier) {
    return modifier.name === requestedName && modifier.enabled && modifier.order < requesting.order;
  });

  if (!isRequired) {
    var _requesting = '`' + requestingName + '`';
    var requested = '`' + requestedName + '`';
    console.warn(requested + ' modifier is required by ' + _requesting + ' modifier in order to work, be sure to include it before ' + _requesting + '!');
  }
  return isRequired;
}

/**
 * @function
 * @memberof Modifiers
 * @argument {Object} data - The data object generated by update method
 * @argument {Object} options - Modifiers configuration and options
 * @returns {Object} The data object, properly modified
 */
function arrow(data, options) {
  // arrow depends on keepTogether in order to work
  if (!isModifierRequired(data.instance.modifiers, 'arrow', 'keepTogether')) {
    return data;
  }

  var arrowElement = options.element;

  // if arrowElement is a string, suppose it's a CSS selector
  if (typeof arrowElement === 'string') {
    arrowElement = data.instance.popper.querySelector(arrowElement);

    // if arrowElement is not found, don't run the modifier
    if (!arrowElement) {
      return data;
    }
  } else {
    // if the arrowElement isn't a query selector we must check that the
    // provided DOM node is child of its popper node
    if (!data.instance.popper.contains(arrowElement)) {
      console.warn('WARNING: `arrow.element` must be child of its popper element!');
      return data;
    }
  }

  var placement = data.placement.split('-')[0];
  var _data$offsets = data.offsets,
      popper = _data$offsets.popper,
      reference = _data$offsets.reference;

  var isVertical = ['left', 'right'].indexOf(placement) !== -1;

  var len = isVertical ? 'height' : 'width';
  var sideCapitalized = isVertical ? 'Top' : 'Left';
  var side = sideCapitalized.toLowerCase();
  var altSide = isVertical ? 'left' : 'top';
  var opSide = isVertical ? 'bottom' : 'right';
  var arrowElementSize = getOuterSizes(arrowElement)[len];

  //
  // extends keepTogether behavior making sure the popper and its
  // reference have enough pixels in conjuction
  //

  // top/left side
  if (reference[opSide] - arrowElementSize < popper[side]) {
    data.offsets.popper[side] -= popper[side] - (reference[opSide] - arrowElementSize);
  }
  // bottom/right side
  if (reference[side] + arrowElementSize > popper[opSide]) {
    data.offsets.popper[side] += reference[side] + arrowElementSize - popper[opSide];
  }

  // compute center of the popper
  var center = reference[side] + reference[len] / 2 - arrowElementSize / 2;

  // Compute the sideValue using the updated popper offsets
  // take popper margin in account because we don't have this info available
  var popperMarginSide = getStyleComputedProperty(data.instance.popper, 'margin' + sideCapitalized).replace('px', '');
  var sideValue = center - getClientRect(data.offsets.popper)[side] - popperMarginSide;

  // prevent arrowElement from being placed not contiguously to its popper
  sideValue = Math.max(Math.min(popper[len] - arrowElementSize, sideValue), 0);

  data.arrowElement = arrowElement;
  data.offsets.arrow = {};
  data.offsets.arrow[side] = Math.round(sideValue);
  data.offsets.arrow[altSide] = ''; // make sure to unset any eventual altSide value from the DOM node

  return data;
}

/**
 * Get the opposite placement variation of the given one
 * @method
 * @memberof Popper.Utils
 * @argument {String} placement variation
 * @returns {String} flipped placement variation
 */
function getOppositeVariation(variation) {
  if (variation === 'end') {
    return 'start';
  } else if (variation === 'start') {
    return 'end';
  }
  return variation;
}

/**
 * List of accepted placements to use as values of the `placement` option.<br />
 * Valid placements are:
 * - `auto`
 * - `top`
 * - `right`
 * - `bottom`
 * - `left`
 *
 * Each placement can have a variation from this list:
 * - `-start`
 * - `-end`
 *
 * Variations are interpreted easily if you think of them as the left to right
 * written languages. Horizontally (`top` and `bottom`), `start` is left and `end`
 * is right.<br />
 * Vertically (`left` and `right`), `start` is top and `end` is bottom.
 *
 * Some valid examples are:
 * - `top-end` (on top of reference, right aligned)
 * - `right-start` (on right of reference, top aligned)
 * - `bottom` (on bottom, centered)
 * - `auto-right` (on the side with more space available, alignment depends by placement)
 *
 * @static
 * @type {Array}
 * @enum {String}
 * @readonly
 * @method placements
 * @memberof Popper
 */
var placements = ['auto-start', 'auto', 'auto-end', 'top-start', 'top', 'top-end', 'right-start', 'right', 'right-end', 'bottom-end', 'bottom', 'bottom-start', 'left-end', 'left', 'left-start'];

// Get rid of `auto` `auto-start` and `auto-end`
var validPlacements = placements.slice(3);

/**
 * Given an initial placement, returns all the subsequent placements
 * clockwise (or counter-clockwise).
 *
 * @method
 * @memberof Popper.Utils
 * @argument {String} placement - A valid placement (it accepts variations)
 * @argument {Boolean} counter - Set to true to walk the placements counterclockwise
 * @returns {Array} placements including their variations
 */
function clockwise(placement) {
  var counter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

  var index = validPlacements.indexOf(placement);
  var arr = validPlacements.slice(index + 1).concat(validPlacements.slice(0, index));
  return counter ? arr.reverse() : arr;
}

var BEHAVIORS = {
  FLIP: 'flip',
  CLOCKWISE: 'clockwise',
  COUNTERCLOCKWISE: 'counterclockwise'
};

/**
 * @function
 * @memberof Modifiers
 * @argument {Object} data - The data object generated by update method
 * @argument {Object} options - Modifiers configuration and options
 * @returns {Object} The data object, properly modified
 */
function flip(data, options) {
  // if `inner` modifier is enabled, we can't use the `flip` modifier
  if (isModifierEnabled(data.instance.modifiers, 'inner')) {
    return data;
  }

  if (data.flipped && data.placement === data.originalPlacement) {
    // seems like flip is trying to loop, probably there's not enough space on any of the flippable sides
    return data;
  }

  var boundaries = getBoundaries(data.instance.popper, data.instance.reference, options.padding, options.boundariesElement);

  var placement = data.placement.split('-')[0];
  var placementOpposite = getOppositePlacement(placement);
  var variation = data.placement.split('-')[1] || '';

  var flipOrder = [];

  switch (options.behavior) {
    case BEHAVIORS.FLIP:
      flipOrder = [placement, placementOpposite];
      break;
    case BEHAVIORS.CLOCKWISE:
      flipOrder = clockwise(placement);
      break;
    case BEHAVIORS.COUNTERCLOCKWISE:
      flipOrder = clockwise(placement, true);
      break;
    default:
      flipOrder = options.behavior;
  }

  flipOrder.forEach(function (step, index) {
    if (placement !== step || flipOrder.length === index + 1) {
      return data;
    }

    placement = data.placement.split('-')[0];
    placementOpposite = getOppositePlacement(placement);

    var popperOffsets = data.offsets.popper;
    var refOffsets = data.offsets.reference;

    // using floor because the reference offsets may contain decimals we are not going to consider here
    var floor = Math.floor;
    var overlapsRef = placement === 'left' && floor(popperOffsets.right) > floor(refOffsets.left) || placement === 'right' && floor(popperOffsets.left) < floor(refOffsets.right) || placement === 'top' && floor(popperOffsets.bottom) > floor(refOffsets.top) || placement === 'bottom' && floor(popperOffsets.top) < floor(refOffsets.bottom);

    var overflowsLeft = floor(popperOffsets.left) < floor(boundaries.left);
    var overflowsRight = floor(popperOffsets.right) > floor(boundaries.right);
    var overflowsTop = floor(popperOffsets.top) < floor(boundaries.top);
    var overflowsBottom = floor(popperOffsets.bottom) > floor(boundaries.bottom);

    var overflowsBoundaries = placement === 'left' && overflowsLeft || placement === 'right' && overflowsRight || placement === 'top' && overflowsTop || placement === 'bottom' && overflowsBottom;

    // flip the variation if required
    var isVertical = ['top', 'bottom'].indexOf(placement) !== -1;
    var flippedVariation = !!options.flipVariations && (isVertical && variation === 'start' && overflowsLeft || isVertical && variation === 'end' && overflowsRight || !isVertical && variation === 'start' && overflowsTop || !isVertical && variation === 'end' && overflowsBottom);

    if (overlapsRef || overflowsBoundaries || flippedVariation) {
      // this boolean to detect any flip loop
      data.flipped = true;

      if (overlapsRef || overflowsBoundaries) {
        placement = flipOrder[index + 1];
      }

      if (flippedVariation) {
        variation = getOppositeVariation(variation);
      }

      data.placement = placement + (variation ? '-' + variation : '');

      // this object contains `position`, we want to preserve it along with
      // any additional property we may add in the future
      data.offsets.popper = _extends({}, data.offsets.popper, getPopperOffsets(data.instance.popper, data.offsets.reference, data.placement));

      data = runModifiers(data.instance.modifiers, data, 'flip');
    }
  });
  return data;
}

/**
 * @function
 * @memberof Modifiers
 * @argument {Object} data - The data object generated by update method
 * @argument {Object} options - Modifiers configuration and options
 * @returns {Object} The data object, properly modified
 */
function keepTogether(data) {
  var _data$offsets = data.offsets,
      popper = _data$offsets.popper,
      reference = _data$offsets.reference;

  var placement = data.placement.split('-')[0];
  var floor = Math.floor;
  var isVertical = ['top', 'bottom'].indexOf(placement) !== -1;
  var side = isVertical ? 'right' : 'bottom';
  var opSide = isVertical ? 'left' : 'top';
  var measurement = isVertical ? 'width' : 'height';

  if (popper[side] < floor(reference[opSide])) {
    data.offsets.popper[opSide] = floor(reference[opSide]) - popper[measurement];
  }
  if (popper[opSide] > floor(reference[side])) {
    data.offsets.popper[opSide] = floor(reference[side]);
  }

  return data;
}

/**
 * Converts a string containing value + unit into a px value number
 * @function
 * @memberof {modifiers~offset}
 * @private
 * @argument {String} str - Value + unit string
 * @argument {String} measurement - `height` or `width`
 * @argument {Object} popperOffsets
 * @argument {Object} referenceOffsets
 * @returns {Number|String}
 * Value in pixels, or original string if no values were extracted
 */
function toValue(str, measurement, popperOffsets, referenceOffsets) {
  // separate value from unit
  var split = str.match(/((?:\-|\+)?\d*\.?\d*)(.*)/);
  var value = +split[1];
  var unit = split[2];

  // If it's not a number it's an operator, I guess
  if (!value) {
    return str;
  }

  if (unit.indexOf('%') === 0) {
    var element = void 0;
    switch (unit) {
      case '%p':
        element = popperOffsets;
        break;
      case '%':
      case '%r':
      default:
        element = referenceOffsets;
    }

    var rect = getClientRect(element);
    return rect[measurement] / 100 * value;
  } else if (unit === 'vh' || unit === 'vw') {
    // if is a vh or vw, we calculate the size based on the viewport
    var size = void 0;
    if (unit === 'vh') {
      size = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
    } else {
      size = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
    }
    return size / 100 * value;
  } else {
    // if is an explicit pixel unit, we get rid of the unit and keep the value
    // if is an implicit unit, it's px, and we return just the value
    return value;
  }
}

/**
 * Parse an `offset` string to extrapolate `x` and `y` numeric offsets.
 * @function
 * @memberof {modifiers~offset}
 * @private
 * @argument {String} offset
 * @argument {Object} popperOffsets
 * @argument {Object} referenceOffsets
 * @argument {String} basePlacement
 * @returns {Array} a two cells array with x and y offsets in numbers
 */
function parseOffset(offset, popperOffsets, referenceOffsets, basePlacement) {
  var offsets = [0, 0];

  // Use height if placement is left or right and index is 0 otherwise use width
  // in this way the first offset will use an axis and the second one
  // will use the other one
  var useHeight = ['right', 'left'].indexOf(basePlacement) !== -1;

  // Split the offset string to obtain a list of values and operands
  // The regex addresses values with the plus or minus sign in front (+10, -20, etc)
  var fragments = offset.split(/(\+|\-)/).map(function (frag) {
    return frag.trim();
  });

  // Detect if the offset string contains a pair of values or a single one
  // they could be separated by comma or space
  var divider = fragments.indexOf(find$1(fragments, function (frag) {
    return frag.search(/,|\s/) !== -1;
  }));

  if (fragments[divider] && fragments[divider].indexOf(',') === -1) {
    console.warn('Offsets separated by white space(s) are deprecated, use a comma (,) instead.');
  }

  // If divider is found, we divide the list of values and operands to divide
  // them by ofset X and Y.
  var splitRegex = /\s*,\s*|\s+/;
  var ops = divider !== -1 ? [fragments.slice(0, divider).concat([fragments[divider].split(splitRegex)[0]]), [fragments[divider].split(splitRegex)[1]].concat(fragments.slice(divider + 1))] : [fragments];

  // Convert the values with units to absolute pixels to allow our computations
  ops = ops.map(function (op, index) {
    // Most of the units rely on the orientation of the popper
    var measurement = (index === 1 ? !useHeight : useHeight) ? 'height' : 'width';
    var mergeWithPrevious = false;
    return op
    // This aggregates any `+` or `-` sign that aren't considered operators
    // e.g.: 10 + +5 => [10, +, +5]
    .reduce(function (a, b) {
      if (a[a.length - 1] === '' && ['+', '-'].indexOf(b) !== -1) {
        a[a.length - 1] = b;
        mergeWithPrevious = true;
        return a;
      } else if (mergeWithPrevious) {
        a[a.length - 1] += b;
        mergeWithPrevious = false;
        return a;
      } else {
        return a.concat(b);
      }
    }, [])
    // Here we convert the string values into number values (in px)
    .map(function (str) {
      return toValue(str, measurement, popperOffsets, referenceOffsets);
    });
  });

  // Loop trough the offsets arrays and execute the operations
  ops.forEach(function (op, index) {
    op.forEach(function (frag, index2) {
      if (isNumeric(frag)) {
        offsets[index] += frag * (op[index2 - 1] === '-' ? -1 : 1);
      }
    });
  });
  return offsets;
}

/**
 * @function
 * @memberof Modifiers
 * @argument {Object} data - The data object generated by update method
 * @argument {Object} options - Modifiers configuration and options
 * @argument {Number|String} options.offset=0
 * The offset value as described in the modifier description
 * @returns {Object} The data object, properly modified
 */
function offset(data, _ref) {
  var offset = _ref.offset;
  var placement = data.placement,
      _data$offsets = data.offsets,
      popper = _data$offsets.popper,
      reference = _data$offsets.reference;

  var basePlacement = placement.split('-')[0];

  var offsets = void 0;
  if (isNumeric(+offset)) {
    offsets = [+offset, 0];
  } else {
    offsets = parseOffset(offset, popper, reference, basePlacement);
  }

  if (basePlacement === 'left') {
    popper.top += offsets[0];
    popper.left -= offsets[1];
  } else if (basePlacement === 'right') {
    popper.top += offsets[0];
    popper.left += offsets[1];
  } else if (basePlacement === 'top') {
    popper.left += offsets[0];
    popper.top -= offsets[1];
  } else if (basePlacement === 'bottom') {
    popper.left += offsets[0];
    popper.top += offsets[1];
  }

  data.popper = popper;
  return data;
}

/**
 * @function
 * @memberof Modifiers
 * @argument {Object} data - The data object generated by `update` method
 * @argument {Object} options - Modifiers configuration and options
 * @returns {Object} The data object, properly modified
 */
function preventOverflow(data, options) {
  var boundariesElement = options.boundariesElement || getOffsetParent(data.instance.popper);

  // If offsetParent is the reference element, we really want to
  // go one step up and use the next offsetParent as reference to
  // avoid to make this modifier completely useless and look like broken
  if (data.instance.reference === boundariesElement) {
    boundariesElement = getOffsetParent(boundariesElement);
  }

  var boundaries = getBoundaries(data.instance.popper, data.instance.reference, options.padding, boundariesElement);
  options.boundaries = boundaries;

  var order = options.priority;
  var popper = data.offsets.popper;

  var check = {
    primary: function primary(placement) {
      var value = popper[placement];
      if (popper[placement] < boundaries[placement] && !options.escapeWithReference) {
        value = Math.max(popper[placement], boundaries[placement]);
      }
      return defineProperty({}, placement, value);
    },
    secondary: function secondary(placement) {
      var mainSide = placement === 'right' ? 'left' : 'top';
      var value = popper[mainSide];
      if (popper[placement] > boundaries[placement] && !options.escapeWithReference) {
        value = Math.min(popper[mainSide], boundaries[placement] - (placement === 'right' ? popper.width : popper.height));
      }
      return defineProperty({}, mainSide, value);
    }
  };

  order.forEach(function (placement) {
    var side = ['left', 'top'].indexOf(placement) !== -1 ? 'primary' : 'secondary';
    popper = _extends({}, popper, check[side](placement));
  });

  data.offsets.popper = popper;

  return data;
}

/**
 * @function
 * @memberof Modifiers
 * @argument {Object} data - The data object generated by `update` method
 * @argument {Object} options - Modifiers configuration and options
 * @returns {Object} The data object, properly modified
 */
function shift(data) {
  var placement = data.placement;
  var basePlacement = placement.split('-')[0];
  var shiftvariation = placement.split('-')[1];

  // if shift shiftvariation is specified, run the modifier
  if (shiftvariation) {
    var _data$offsets = data.offsets,
        reference = _data$offsets.reference,
        popper = _data$offsets.popper;

    var isVertical = ['bottom', 'top'].indexOf(basePlacement) !== -1;
    var side = isVertical ? 'left' : 'top';
    var measurement = isVertical ? 'width' : 'height';

    var shiftOffsets = {
      start: defineProperty({}, side, reference[side]),
      end: defineProperty({}, side, reference[side] + reference[measurement] - popper[measurement])
    };

    data.offsets.popper = _extends({}, popper, shiftOffsets[shiftvariation]);
  }

  return data;
}

/**
 * @function
 * @memberof Modifiers
 * @argument {Object} data - The data object generated by update method
 * @argument {Object} options - Modifiers configuration and options
 * @returns {Object} The data object, properly modified
 */
function hide(data) {
  if (!isModifierRequired(data.instance.modifiers, 'hide', 'preventOverflow')) {
    return data;
  }

  var refRect = data.offsets.reference;
  var bound = find$1(data.instance.modifiers, function (modifier) {
    return modifier.name === 'preventOverflow';
  }).boundaries;

  if (refRect.bottom < bound.top || refRect.left > bound.right || refRect.top > bound.bottom || refRect.right < bound.left) {
    // Avoid unnecessary DOM access if visibility hasn't changed
    if (data.hide === true) {
      return data;
    }

    data.hide = true;
    data.attributes['x-out-of-boundaries'] = '';
  } else {
    // Avoid unnecessary DOM access if visibility hasn't changed
    if (data.hide === false) {
      return data;
    }

    data.hide = false;
    data.attributes['x-out-of-boundaries'] = false;
  }

  return data;
}

/**
 * @function
 * @memberof Modifiers
 * @argument {Object} data - The data object generated by `update` method
 * @argument {Object} options - Modifiers configuration and options
 * @returns {Object} The data object, properly modified
 */
function inner(data) {
  var placement = data.placement;
  var basePlacement = placement.split('-')[0];
  var _data$offsets = data.offsets,
      popper = _data$offsets.popper,
      reference = _data$offsets.reference;

  var isHoriz = ['left', 'right'].indexOf(basePlacement) !== -1;

  var subtractLength = ['top', 'left'].indexOf(basePlacement) === -1;

  popper[isHoriz ? 'left' : 'top'] = reference[basePlacement] - (subtractLength ? popper[isHoriz ? 'width' : 'height'] : 0);

  data.placement = getOppositePlacement(placement);
  data.offsets.popper = getClientRect(popper);

  return data;
}

/**
 * Modifier function, each modifier can have a function of this type assigned
 * to its `fn` property.<br />
 * These functions will be called on each update, this means that you must
 * make sure they are performant enough to avoid performance bottlenecks.
 *
 * @function ModifierFn
 * @argument {dataObject} data - The data object generated by `update` method
 * @argument {Object} options - Modifiers configuration and options
 * @returns {dataObject} The data object, properly modified
 */

/**
 * Modifiers are plugins used to alter the behavior of your poppers.<br />
 * Popper.js uses a set of 9 modifiers to provide all the basic functionalities
 * needed by the library.
 *
 * Usually you don't want to override the `order`, `fn` and `onLoad` props.
 * All the other properties are configurations that could be tweaked.
 * @namespace modifiers
 */
var modifiers = {
  /**
   * Modifier used to shift the popper on the start or end of its reference
   * element.<br />
   * It will read the variation of the `placement` property.<br />
   * It can be one either `-end` or `-start`.
   * @memberof modifiers
   * @inner
   */
  shift: {
    /** @prop {number} order=100 - Index used to define the order of execution */
    order: 100,
    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */
    enabled: true,
    /** @prop {ModifierFn} */
    fn: shift
  },

  /**
   * The `offset` modifier can shift your popper on both its axis.
   *
   * It accepts the following units:
   * - `px` or unitless, interpreted as pixels
   * - `%` or `%r`, percentage relative to the length of the reference element
   * - `%p`, percentage relative to the length of the popper element
   * - `vw`, CSS viewport width unit
   * - `vh`, CSS viewport height unit
   *
   * For length is intended the main axis relative to the placement of the popper.<br />
   * This means that if the placement is `top` or `bottom`, the length will be the
   * `width`. In case of `left` or `right`, it will be the height.
   *
   * You can provide a single value (as `Number` or `String`), or a pair of values
   * as `String` divided by a comma or one (or more) white spaces.<br />
   * The latter is a deprecated method because it leads to confusion and will be
   * removed in v2.<br />
   * Additionally, it accepts additions and subtractions between different units.
   * Note that multiplications and divisions aren't supported.
   *
   * Valid examples are:
   * ```
   * 10
   * '10%'
   * '10, 10'
   * '10%, 10'
   * '10 + 10%'
   * '10 - 5vh + 3%'
   * '-10px + 5vh, 5px - 6%'
   * ```
   * > **NB**: If you desire to apply offsets to your poppers in a way that may make them overlap
   * > with their reference element, unfortunately, you will have to disable the `flip` modifier.
   * > More on this [reading this issue](https://github.com/FezVrasta/popper.js/issues/373)
   *
   * @memberof modifiers
   * @inner
   */
  offset: {
    /** @prop {number} order=200 - Index used to define the order of execution */
    order: 200,
    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */
    enabled: true,
    /** @prop {ModifierFn} */
    fn: offset,
    /** @prop {Number|String} offset=0
     * The offset value as described in the modifier description
     */
    offset: 0
  },

  /**
   * Modifier used to prevent the popper from being positioned outside the boundary.
   *
   * An scenario exists where the reference itself is not within the boundaries.<br />
   * We can say it has "escaped the boundaries" â€” or just "escaped".<br />
   * In this case we need to decide whether the popper should either:
   *
   * - detach from the reference and remain "trapped" in the boundaries, or
   * - if it should ignore the boundary and "escape with its reference"
   *
   * When `escapeWithReference` is set to`true` and reference is completely
   * outside its boundaries, the popper will overflow (or completely leave)
   * the boundaries in order to remain attached to the edge of the reference.
   *
   * @memberof modifiers
   * @inner
   */
  preventOverflow: {
    /** @prop {number} order=300 - Index used to define the order of execution */
    order: 300,
    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */
    enabled: true,
    /** @prop {ModifierFn} */
    fn: preventOverflow,
    /**
     * @prop {Array} [priority=['left','right','top','bottom']]
     * Popper will try to prevent overflow following these priorities by default,
     * then, it could overflow on the left and on top of the `boundariesElement`
     */
    priority: ['left', 'right', 'top', 'bottom'],
    /**
     * @prop {number} padding=5
     * Amount of pixel used to define a minimum distance between the boundaries
     * and the popper this makes sure the popper has always a little padding
     * between the edges of its container
     */
    padding: 5,
    /**
     * @prop {String|HTMLElement} boundariesElement='scrollParent'
     * Boundaries used by the modifier, can be `scrollParent`, `window`,
     * `viewport` or any DOM element.
     */
    boundariesElement: 'scrollParent'
  },

  /**
   * Modifier used to make sure the reference and its popper stay near eachothers
   * without leaving any gap between the two. Expecially useful when the arrow is
   * enabled and you want to assure it to point to its reference element.
   * It cares only about the first axis, you can still have poppers with margin
   * between the popper and its reference element.
   * @memberof modifiers
   * @inner
   */
  keepTogether: {
    /** @prop {number} order=400 - Index used to define the order of execution */
    order: 400,
    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */
    enabled: true,
    /** @prop {ModifierFn} */
    fn: keepTogether
  },

  /**
   * This modifier is used to move the `arrowElement` of the popper to make
   * sure it is positioned between the reference element and its popper element.
   * It will read the outer size of the `arrowElement` node to detect how many
   * pixels of conjuction are needed.
   *
   * It has no effect if no `arrowElement` is provided.
   * @memberof modifiers
   * @inner
   */
  arrow: {
    /** @prop {number} order=500 - Index used to define the order of execution */
    order: 500,
    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */
    enabled: true,
    /** @prop {ModifierFn} */
    fn: arrow,
    /** @prop {String|HTMLElement} element='[x-arrow]' - Selector or node used as arrow */
    element: '[x-arrow]'
  },

  /**
   * Modifier used to flip the popper's placement when it starts to overlap its
   * reference element.
   *
   * Requires the `preventOverflow` modifier before it in order to work.
   *
   * **NOTE:** this modifier will interrupt the current update cycle and will
   * restart it if it detects the need to flip the placement.
   * @memberof modifiers
   * @inner
   */
  flip: {
    /** @prop {number} order=600 - Index used to define the order of execution */
    order: 600,
    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */
    enabled: true,
    /** @prop {ModifierFn} */
    fn: flip,
    /**
     * @prop {String|Array} behavior='flip'
     * The behavior used to change the popper's placement. It can be one of
     * `flip`, `clockwise`, `counterclockwise` or an array with a list of valid
     * placements (with optional variations).
     */
    behavior: 'flip',
    /**
     * @prop {number} padding=5
     * The popper will flip if it hits the edges of the `boundariesElement`
     */
    padding: 5,
    /**
     * @prop {String|HTMLElement} boundariesElement='viewport'
     * The element which will define the boundaries of the popper position,
     * the popper will never be placed outside of the defined boundaries
     * (except if keepTogether is enabled)
     */
    boundariesElement: 'viewport'
  },

  /**
   * Modifier used to make the popper flow toward the inner of the reference element.
   * By default, when this modifier is disabled, the popper will be placed outside
   * the reference element.
   * @memberof modifiers
   * @inner
   */
  inner: {
    /** @prop {number} order=700 - Index used to define the order of execution */
    order: 700,
    /** @prop {Boolean} enabled=false - Whether the modifier is enabled or not */
    enabled: false,
    /** @prop {ModifierFn} */
    fn: inner
  },

  /**
   * Modifier used to hide the popper when its reference element is outside of the
   * popper boundaries. It will set a `x-out-of-boundaries` attribute which can
   * be used to hide with a CSS selector the popper when its reference is
   * out of boundaries.
   *
   * Requires the `preventOverflow` modifier before it in order to work.
   * @memberof modifiers
   * @inner
   */
  hide: {
    /** @prop {number} order=800 - Index used to define the order of execution */
    order: 800,
    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */
    enabled: true,
    /** @prop {ModifierFn} */
    fn: hide
  },

  /**
   * Computes the style that will be applied to the popper element to gets
   * properly positioned.
   *
   * Note that this modifier will not touch the DOM, it just prepares the styles
   * so that `applyStyle` modifier can apply it. This separation is useful
   * in case you need to replace `applyStyle` with a custom implementation.
   *
   * This modifier has `850` as `order` value to maintain backward compatibility
   * with previous versions of Popper.js. Expect the modifiers ordering method
   * to change in future major versions of the library.
   *
   * @memberof modifiers
   * @inner
   */
  computeStyle: {
    /** @prop {number} order=850 - Index used to define the order of execution */
    order: 850,
    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */
    enabled: true,
    /** @prop {ModifierFn} */
    fn: computeStyle,
    /**
     * @prop {Boolean} gpuAcceleration=true
     * If true, it uses the CSS 3d transformation to position the popper.
     * Otherwise, it will use the `top` and `left` properties.
     */
    gpuAcceleration: true,
    /**
     * @prop {string} [x='bottom']
     * Where to anchor the X axis (`bottom` or `top`). AKA X offset origin.
     * Change this if your popper should grow in a direction different from `bottom`
     */
    x: 'bottom',
    /**
     * @prop {string} [x='left']
     * Where to anchor the Y axis (`left` or `right`). AKA Y offset origin.
     * Change this if your popper should grow in a direction different from `right`
     */
    y: 'right'
  },

  /**
   * Applies the computed styles to the popper element.
   *
   * All the DOM manipulations are limited to this modifier. This is useful in case
   * you want to integrate Popper.js inside a framework or view library and you
   * want to delegate all the DOM manipulations to it.
   *
   * Note that if you disable this modifier, you must make sure the popper element
   * has its position set to `absolute` before Popper.js can do its work!
   *
   * Just disable this modifier and define you own to achieve the desired effect.
   *
   * @memberof modifiers
   * @inner
   */
  applyStyle: {
    /** @prop {number} order=900 - Index used to define the order of execution */
    order: 900,
    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */
    enabled: true,
    /** @prop {ModifierFn} */
    fn: applyStyle,
    /** @prop {Function} */
    onLoad: applyStyleOnLoad,
    /**
     * @deprecated since version 1.10.0, the property moved to `computeStyle` modifier
     * @prop {Boolean} gpuAcceleration=true
     * If true, it uses the CSS 3d transformation to position the popper.
     * Otherwise, it will use the `top` and `left` properties.
     */
    gpuAcceleration: undefined
  }
};

/**
 * The `dataObject` is an object containing all the informations used by Popper.js
 * this object get passed to modifiers and to the `onCreate` and `onUpdate` callbacks.
 * @name dataObject
 * @property {Object} data.instance The Popper.js instance
 * @property {String} data.placement Placement applied to popper
 * @property {String} data.originalPlacement Placement originally defined on init
 * @property {Boolean} data.flipped True if popper has been flipped by flip modifier
 * @property {Boolean} data.hide True if the reference element is out of boundaries, useful to know when to hide the popper.
 * @property {HTMLElement} data.arrowElement Node used as arrow by arrow modifier
 * @property {Object} data.styles Any CSS property defined here will be applied to the popper, it expects the JavaScript nomenclature (eg. `marginBottom`)
 * @property {Object} data.arrowStyles Any CSS property defined here will be applied to the popper arrow, it expects the JavaScript nomenclature (eg. `marginBottom`)
 * @property {Object} data.boundaries Offsets of the popper boundaries
 * @property {Object} data.offsets The measurements of popper, reference and arrow elements.
 * @property {Object} data.offsets.popper `top`, `left`, `width`, `height` values
 * @property {Object} data.offsets.reference `top`, `left`, `width`, `height` values
 * @property {Object} data.offsets.arrow] `top` and `left` offsets, only one of them will be different from 0
 */

/**
 * Default options provided to Popper.js constructor.<br />
 * These can be overriden using the `options` argument of Popper.js.<br />
 * To override an option, simply pass as 3rd argument an object with the same
 * structure of this object, example:
 * ```
 * new Popper(ref, pop, {
 *   modifiers: {
 *     preventOverflow: { enabled: false }
 *   }
 * })
 * ```
 * @type {Object}
 * @static
 * @memberof Popper
 */
var Defaults$1 = {
  /**
   * Popper's placement
   * @prop {Popper.placements} placement='bottom'
   */
  placement: 'bottom',

  /**
   * Whether events (resize, scroll) are initially enabled
   * @prop {Boolean} eventsEnabled=true
   */
  eventsEnabled: true,

  /**
   * Set to true if you want to automatically remove the popper when
   * you call the `destroy` method.
   * @prop {Boolean} removeOnDestroy=false
   */
  removeOnDestroy: false,

  /**
   * Callback called when the popper is created.<br />
   * By default, is set to no-op.<br />
   * Access Popper.js instance with `data.instance`.
   * @prop {onCreate}
   */
  onCreate: function onCreate() {},

  /**
   * Callback called when the popper is updated, this callback is not called
   * on the initialization/creation of the popper, but only on subsequent
   * updates.<br />
   * By default, is set to no-op.<br />
   * Access Popper.js instance with `data.instance`.
   * @prop {onUpdate}
   */
  onUpdate: function onUpdate() {},

  /**
   * List of modifiers used to modify the offsets before they are applied to the popper.
   * They provide most of the functionalities of Popper.js
   * @prop {modifiers}
   */
  modifiers: modifiers
};

/**
 * @callback onCreate
 * @param {dataObject} data
 */

/**
 * @callback onUpdate
 * @param {dataObject} data
 */

// Utils
// Methods
var Popper = function () {
  /**
   * Create a new Popper.js instance
   * @class Popper
   * @param {HTMLElement|referenceObject} reference - The reference element used to position the popper
   * @param {HTMLElement} popper - The HTML element used as popper.
   * @param {Object} options - Your custom options to override the ones defined in [Defaults](#defaults)
   * @return {Object} instance - The generated Popper.js instance
   */
  function Popper(reference, popper) {
    var _this = this;

    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    classCallCheck(this, Popper);

    this.scheduleUpdate = function () {
      return requestAnimationFrame(_this.update);
    };

    // make update() debounced, so that it only runs at most once-per-tick
    this.update = debounce(this.update.bind(this));

    // with {} we create a new object with the options inside it
    this.options = _extends({}, Popper.Defaults, options);

    // init state
    this.state = {
      isDestroyed: false,
      isCreated: false,
      scrollParents: []
    };

    // get reference and popper elements (allow jQuery wrappers)
    this.reference = reference.jquery ? reference[0] : reference;
    this.popper = popper.jquery ? popper[0] : popper;

    // Deep merge modifiers options
    this.options.modifiers = {};
    Object.keys(_extends({}, Popper.Defaults.modifiers, options.modifiers)).forEach(function (name) {
      _this.options.modifiers[name] = _extends({}, Popper.Defaults.modifiers[name] || {}, options.modifiers ? options.modifiers[name] : {});
    });

    // Refactoring modifiers' list (Object => Array)
    this.modifiers = Object.keys(this.options.modifiers).map(function (name) {
      return _extends({
        name: name
      }, _this.options.modifiers[name]);
    })
    // sort the modifiers by order
    .sort(function (a, b) {
      return a.order - b.order;
    });

    // modifiers have the ability to execute arbitrary code when Popper.js get inited
    // such code is executed in the same order of its modifier
    // they could add new properties to their options configuration
    // BE AWARE: don't add options to `options.modifiers.name` but to `modifierOptions`!
    this.modifiers.forEach(function (modifierOptions) {
      if (modifierOptions.enabled && isFunction(modifierOptions.onLoad)) {
        modifierOptions.onLoad(_this.reference, _this.popper, _this.options, modifierOptions, _this.state);
      }
    });

    // fire the first update to position the popper in the right place
    this.update();

    var eventsEnabled = this.options.eventsEnabled;
    if (eventsEnabled) {
      // setup event listeners, they will take care of update the position in specific situations
      this.enableEventListeners();
    }

    this.state.eventsEnabled = eventsEnabled;
  }

  // We can't use class properties because they don't get listed in the
  // class prototype and break stuff like Sinon stubs


  createClass(Popper, [{
    key: 'update',
    value: function update$$1() {
      return update.call(this);
    }
  }, {
    key: 'destroy',
    value: function destroy$$1() {
      return destroy.call(this);
    }
  }, {
    key: 'enableEventListeners',
    value: function enableEventListeners$$1() {
      return enableEventListeners.call(this);
    }
  }, {
    key: 'disableEventListeners',
    value: function disableEventListeners$$1() {
      return disableEventListeners.call(this);
    }

    /**
     * Schedule an update, it will run on the next UI update available
     * @method scheduleUpdate
     * @memberof Popper
     */

    /**
     * Collection of utilities useful when writing custom modifiers.
     * Starting from version 1.7, this method is available only if you
     * include `popper-utils.js` before `popper.js`.
     *
     * **DEPRECATION**: This way to access PopperUtils is deprecated
     * and will be removed in v2! Use the PopperUtils module directly instead.
     * Due to the high instability of the methods contained in Utils, we can't
     * guarantee them to follow semver. Use them at your own risk!
     * @static
     * @private
     * @type {Object}
     * @deprecated since version 1.8
     * @member Utils
     * @memberof Popper
     */

  }]);
  return Popper;
}();

/**
 * The `referenceObject` is an object that provides an interface compatible with Popper.js
 * and lets you use it as replacement of a real DOM node.<br />
 * You can use this method to position a popper relatively to a set of coordinates
 * in case you don't have a DOM node to use as reference.
 *
 * ```
 * new Popper(referenceObject, popperNode);
 * ```
 *
 * NB: This feature isn't supported in Internet Explorer 10
 * @name referenceObject
 * @property {Function} data.getBoundingClientRect
 * A function that returns a set of coordinates compatible with the native `getBoundingClientRect` method.
 * @property {number} data.clientWidth
 * An ES6 getter that will return the width of the virtual reference element.
 * @property {number} data.clientHeight
 * An ES6 getter that will return the height of the virtual reference element.
 */

Popper.Utils = (typeof window !== 'undefined' ? window : commonjsGlobal).PopperUtils;
Popper.placements = placements;
Popper.Defaults = Defaults$1;

/**
* Returns the distance taking into account the default distance due to
* the transform: translate setting in CSS
* @param {Number} distance
* @return {String}
*/
function getOffsetDistanceInPx(distance) {
  return -(distance - Defaults.distance) + 'px';
}

var classCallCheck$1 = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

var createClass$1 = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();







var _extends$1 = Object.assign || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];

    for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }

  return target;
};

/**
* Creates a new popper instance
* @param {Object} data
* @return {Object} - the popper instance
*/
function createPopperInstance(data) {
  var el = data.el,
      popper = data.popper,
      _data$settings = data.settings,
      position = _data$settings.position,
      popperOptions = _data$settings.popperOptions,
      offset = _data$settings.offset,
      distance = _data$settings.distance,
      flipDuration = _data$settings.flipDuration;

  var _getInnerElements = getInnerElements(popper),
      tooltip = _getInnerElements.tooltip;

  var config = _extends$1({
    placement: position
  }, popperOptions || {}, {
    modifiers: _extends$1({}, popperOptions ? popperOptions.modifiers : {}, {
      flip: _extends$1({
        padding: distance + 5 /* 5px from viewport boundary */
      }, popperOptions && popperOptions.modifiers ? popperOptions.modifiers.flip : {}),
      offset: _extends$1({
        offset: offset
      }, popperOptions && popperOptions.modifiers ? popperOptions.modifiers.offset : {})
    }),
    onUpdate: function onUpdate() {
      var styles = tooltip.style;
      styles.top = '';
      styles.bottom = '';
      styles.left = '';
      styles.right = '';
      styles[getCorePlacement(popper.getAttribute('x-placement'))] = getOffsetDistanceInPx(distance);
    }
  });

  // Update the popper's position whenever its content changes
  // Not supported in IE10 unless polyfilled
  if (window.MutationObserver) {
    var styles = popper.style;

    var observer = new MutationObserver(function () {
      styles[prefix('transitionDuration')] = '0ms';
      data.popperInstance.update();
      defer(function () {
        styles[prefix('transitionDuration')] = flipDuration + 'ms';
      });
    });

    observer.observe(popper, {
      childList: true,
      subtree: true,
      characterData: true
    });

    data._mutationObservers.push(observer);
  }

  return new Popper(el, popper, config);
}

/**
* Appends the popper and creates a popper instance if one does not exist
* Also updates its position if need be and enables event listeners
* @param {Object} data -  the element/popper reference data
*/
function mountPopper(data) {
  var el = data.el,
      popper = data.popper,
      _data$settings = data.settings,
      appendTo = _data$settings.appendTo,
      followCursor = _data$settings.followCursor;

  // Already on the DOM

  if (appendTo.contains(popper)) return;

  appendTo.appendChild(popper);

  if (!data.popperInstance) {
    data.popperInstance = createPopperInstance(data);
  } else {
    data.popperInstance.update();
    if (!followCursor || Browser.touch) {
      data.popperInstance.enableEventListeners();
    }
  }

  // Since touch is determined dynamically, followCursor is set on mount
  if (followCursor && !Browser.touch) {
    el.addEventListener('mousemove', followCursorHandler);
    data.popperInstance.disableEventListeners();
  }
}

/**
* Updates a popper's position on each animation frame to make it stick to a moving element
* @param {Object} refData
*/
function makeSticky(refData) {
  var popper = refData.popper,
      popperInstance = refData.popperInstance,
      stickyDuration = refData.settings.stickyDuration;


  var applyTransitionDuration = function applyTransitionDuration() {
    return popper.style[prefix('transitionDuration')] = stickyDuration + 'ms';
  };

  var removeTransitionDuration = function removeTransitionDuration() {
    return popper.style[prefix('transitionDuration')] = '';
  };

  var updatePosition = function updatePosition() {
    popperInstance && popperInstance.scheduleUpdate();

    applyTransitionDuration();

    isVisible(popper) ? window.requestAnimationFrame(updatePosition) : removeTransitionDuration();
  };

  // Wait until Popper's position has been updated initially
  defer(updatePosition);
}

/**
* Returns an object of settings to override global settings
* @param {Element} el - the tooltipped element
* @param {Object} instanceSettings
* @return {Object} - individual settings
*/
function getIndividualSettings(el, instanceSettings) {
  var settings = DefaultsKeys.reduce(function (acc, key) {
    var val = el.getAttribute('data-' + key.toLowerCase()) || instanceSettings[key];

    // Convert strings to booleans
    if (val === 'false') val = false;
    if (val === 'true') val = true;

    // Convert number strings to true numbers
    if (isFinite(val) && !isNaN(parseFloat(val))) {
      val = parseFloat(val);
    }

    // Convert array strings to actual arrays
    if (typeof val === 'string' && val.trim().charAt(0) === '[') {
      val = JSON.parse(val);
    }

    acc[key] = val;

    return acc;
  }, {});

  return _extends$1({}, instanceSettings, settings);
}

/**
* Creates a popper element then returns it
* @param {Number} id - the popper id
* @param {String} title - the tooltip's `title` attribute
* @param {Object} settings - individual settings
* @return {Element} - the popper element
*/
function createPopperElement(id, title, settings) {
  var position = settings.position,
      distance = settings.distance,
      arrow = settings.arrow,
      animateFill = settings.animateFill,
      inertia = settings.inertia,
      animation = settings.animation,
      arrowSize = settings.arrowSize,
      size = settings.size,
      theme = settings.theme,
      html = settings.html,
      zIndex = settings.zIndex,
      interactive = settings.interactive;


  var popper = document.createElement('div');
  popper.setAttribute('class', 'tippy-popper');
  popper.setAttribute('role', 'tooltip');
  popper.setAttribute('aria-hidden', 'true');
  popper.setAttribute('id', 'tippy-tooltip-' + id);
  popper.style.zIndex = zIndex;

  var tooltip = document.createElement('div');
  tooltip.setAttribute('class', 'tippy-tooltip tippy-tooltip--' + size + ' leave');
  tooltip.setAttribute('data-animation', animation);

  theme.split(' ').forEach(function (t) {
    tooltip.classList.add(t + '-theme');
  });

  if (arrow) {
    // Add an arrow
    var _arrow = document.createElement('div');
    _arrow.setAttribute('class', 'arrow-' + arrowSize);
    _arrow.setAttribute('x-arrow', '');
    tooltip.appendChild(_arrow);
  }

  if (animateFill) {
    // Create animateFill circle element for animation
    tooltip.setAttribute('data-animatefill', '');
    var circle = document.createElement('div');
    circle.setAttribute('class', 'leave');
    circle.setAttribute('x-circle', '');
    tooltip.appendChild(circle);
  }

  if (inertia) {
    // Change transition timing function cubic bezier
    tooltip.setAttribute('data-inertia', '');
  }

  if (interactive) {
    tooltip.setAttribute('data-interactive', '');
  }

  // Tooltip content (text or HTML)
  var content = document.createElement('div');
  content.setAttribute('class', 'tippy-tooltip-content');

  if (html) {
    var templateId = void 0;

    if (html instanceof Element) {
      content.appendChild(html);
      templateId = '#' + html.id || 'tippy-html-template';
    } else {
      content.innerHTML = document.getElementById(html.replace('#', '')).innerHTML;
      templateId = html;
    }

    popper.classList.add('html-template');
    interactive && popper.setAttribute('tabindex', '-1');
    tooltip.setAttribute('data-template-id', templateId);
  } else {
    content.innerHTML = title;
  }

  // Init distance. Further updates are made in the popper instance's `onUpdate()` method
  tooltip.style[getCorePlacement(position)] = getOffsetDistanceInPx(distance);

  tooltip.appendChild(content);
  popper.appendChild(tooltip);

  return popper;
}

/**
* Creates a trigger
* @param {Object} event - the custom event specified in the `trigger` setting
* @param {Element} el - tooltipped element
* @param {Object} handlers - the handlers for each listener
* @param {Boolean} touchHold
* @return {Array} - array of listener objects
*/
function createTrigger(event, el, handlers, touchHold) {
  var listeners = [];

  if (event === 'manual') return listeners;

  // Enter
  el.addEventListener(event, handlers.handleTrigger);
  listeners.push({
    event: event,
    handler: handlers.handleTrigger
  });

  // Leave
  if (event === 'mouseenter') {
    if (Browser.SUPPORTS_TOUCH && touchHold) {
      el.addEventListener('touchstart', handlers.handleTrigger);
      listeners.push({
        event: 'touchstart',
        handler: handlers.handleTrigger
      });
      el.addEventListener('touchend', handlers.handleMouseleave);
      listeners.push({
        event: 'touchend',
        handler: handlers.handleMouseleave
      });
    }

    el.addEventListener('mouseleave', handlers.handleMouseleave);
    listeners.push({
      event: 'mouseleave',
      handler: handlers.handleMouseleave
    });
  }

  if (event === 'focus') {
    el.addEventListener('blur', handlers.handleBlur);
    listeners.push({
      event: 'blur',
      handler: handlers.handleBlur
    });
  }

  return listeners;
}

/**
* Determines if the mouse's cursor is outside the interactive border
* @param {MouseEvent} event
* @param {Element} popper
* @param {Object} settings
* @return {Boolean}
*/
function cursorIsOutsideInteractiveBorder(event, popper, settings) {
  if (!popper.getAttribute('x-placement')) return true;

  var x = event.clientX,
      y = event.clientY;
  var interactiveBorder = settings.interactiveBorder,
      distance = settings.distance;


  var rect = popper.getBoundingClientRect();
  var corePosition = getCorePlacement(popper.getAttribute('x-placement'));
  var borderWithDistance = interactiveBorder + distance;

  var exceeds = {
    top: rect.top - y > interactiveBorder,
    bottom: y - rect.bottom > interactiveBorder,
    left: rect.left - x > interactiveBorder,
    right: x - rect.right > interactiveBorder
  };

  switch (corePosition) {
    case 'top':
      exceeds.top = rect.top - y > borderWithDistance;
      break;
    case 'bottom':
      exceeds.bottom = y - rect.bottom > borderWithDistance;
      break;
    case 'left':
      exceeds.left = rect.left - x > borderWithDistance;
      break;
    case 'right':
      exceeds.right = x - rect.right > borderWithDistance;
      break;
  }

  return exceeds.top || exceeds.bottom || exceeds.left || exceeds.right;
}

/**
* Returns relevant listener callbacks for each ref
* @param {Element} el
* @param {Element} popper
* @param {Object} settings
* @return {Object} - relevant listener handlers
*/
function getEventListenerHandlers(el, popper, settings) {
  var _this = this;

  var position = settings.position,
      delay = settings.delay,
      duration = settings.duration,
      interactive = settings.interactive,
      interactiveBorder = settings.interactiveBorder,
      distance = settings.distance,
      hideOnClick = settings.hideOnClick,
      trigger = settings.trigger,
      touchHold = settings.touchHold,
      touchWait = settings.touchWait;


  var showDelay = void 0,
      hideDelay = void 0;

  var clearTimeouts = function clearTimeouts() {
    clearTimeout(showDelay);
    clearTimeout(hideDelay);
  };

  var _show = function _show() {
    clearTimeouts();

    // Not hidden. For clicking when it also has a `focus` event listener
    if (isVisible(popper)) return;

    var _delay = Array.isArray(delay) ? delay[0] : delay;

    if (delay) {
      showDelay = setTimeout(function () {
        return _this.show(popper);
      }, _delay);
    } else {
      _this.show(popper);
    }
  };

  var show = function show(event) {
    return _this.callbacks.wait ? _this.callbacks.wait.call(popper, _show, event) : _show();
  };

  var hide = function hide() {
    clearTimeouts();

    var _delay = Array.isArray(delay) ? delay[1] : delay;

    if (delay) {
      hideDelay = setTimeout(function () {
        return _this.hide(popper);
      }, _delay);
    } else {
      _this.hide(popper);
    }
  };

  var handleTrigger = function handleTrigger(event) {
    var mouseenterTouch = event.type === 'mouseenter' && Browser.SUPPORTS_TOUCH && Browser.touch;

    if (mouseenterTouch && touchHold) return;

    // Toggle show/hide when clicking click-triggered tooltips
    var isClick = event.type === 'click';
    var isNotPersistent = hideOnClick !== 'persistent';

    isClick && isVisible(popper) && isNotPersistent ? hide() : show(event);

    if (mouseenterTouch && Browser.iOS() && el.click) {
      el.click();
    }
  };

  var handleMouseleave = function handleMouseleave(event) {

    // Don't fire 'mouseleave', use the 'touchend'
    if (event.type === 'mouseleave' && Browser.SUPPORTS_TOUCH && Browser.touch && touchHold) {
      return;
    }

    if (interactive) {
      // Temporarily handle mousemove to check if the mouse left somewhere
      // other than its popper
      var handleMousemove = function handleMousemove(event) {

        var triggerHide = function triggerHide() {
          document.body.removeEventListener('mouseleave', hide);
          document.removeEventListener('mousemove', handleMousemove);
          hide();
        };

        var closestTooltippedEl = closest(event.target, Selectors.TOOLTIPPED_EL);

        var isOverPopper = closest(event.target, Selectors.POPPER) === popper;
        var isOverEl = closestTooltippedEl === el;
        var isClickTriggered = trigger.indexOf('click') !== -1;
        var isOverOtherTooltippedEl = closestTooltippedEl && closestTooltippedEl !== el;

        if (isOverOtherTooltippedEl) {
          return triggerHide();
        }

        if (isOverPopper || isOverEl || isClickTriggered) return;

        if (cursorIsOutsideInteractiveBorder(event, popper, settings)) {
          triggerHide();
        }
      };

      document.body.addEventListener('mouseleave', hide);
      document.addEventListener('mousemove', handleMousemove);

      return;
    }

    // If it's not interactive, just hide it
    hide();
  };

  var handleBlur = function handleBlur(event) {
    // Ignore blur on touch devices, if there is no `relatedTarget`, hide
    // If the related target is a popper, ignore
    if (!event.relatedTarget || Browser.touch) return;
    if (closest(event.relatedTarget, Selectors.POPPER)) return;

    hide();
  };

  return {
    handleTrigger: handleTrigger,
    handleMouseleave: handleMouseleave,
    handleBlur: handleBlur
  };
}

/**
* Evaluates/modifies the settings object for appropriate behavior
* @param {Object} settings
* @return {Object} modified/evaluated settings
*/
function evaluateSettings(settings) {
  // animateFill is disabled if an arrow is true
  if (settings.arrow) {
    settings.animateFill = false;
  }

  // reassign appendTo into the result of evaluating appendTo
  // if it's set as a function instead of Element
  if (settings.appendTo && typeof settings.appendTo === 'function') {
    settings.appendTo = settings.appendTo();
  }

  return settings;
}

var idCounter = 1;

/**
* Creates tooltips for all el elements that match the instance's selector
* @param {Element[]} els
* @return {Object[]} Array of ref data objects
*/
function createTooltips(els) {
  var _this = this;

  return els.reduce(function (acc, el) {
    var id = idCounter;

    var settings = _extends$1({}, evaluateSettings(_this.settings.performance ? _this.settings : getIndividualSettings(el, _this.settings)));

    if (typeof settings.html === 'function') settings.html = settings.html(el);

    var html = settings.html,
        trigger = settings.trigger,
        touchHold = settings.touchHold,
        dynamicTitle = settings.dynamicTitle;


    var title = el.getAttribute('title');
    if (!title && !html) return acc;

    el.setAttribute('data-tooltipped', '');
    el.setAttribute('aria-describedby', 'tippy-tooltip-' + id);
    removeTitle(el);

    var popper = createPopperElement(id, title, settings);
    var handlers = getEventListenerHandlers.call(_this, el, popper, settings);

    var listeners = [];

    trigger.trim().split(' ').forEach(function (event) {
      return listeners = listeners.concat(createTrigger(event, el, handlers, touchHold));
    });

    // Add a mutation observer to observe the reference element for `title`
    // attribute changes, then automatically update tooltip content
    var observer = void 0;

    if (dynamicTitle && window.MutationObserver) {
      var _getInnerElements = getInnerElements(popper),
          content = _getInnerElements.content;

      observer = new MutationObserver(function () {
        var title = el.getAttribute('title');
        if (title) {
          content.innerHTML = title;
          removeTitle(el);
        }
      });

      observer.observe(el, { attributes: true });
    }

    acc.push({
      id: id,
      el: el,
      popper: popper,
      settings: settings,
      listeners: listeners,
      tippyInstance: _this,
      _mutationObservers: [observer]
    });

    idCounter++;

    return acc;
  }, []);
}

/* Utility functions */
/* Core library functions */
/**
* @param {String|Element|Element[]} selector
* @param {Object} settings (optional) - the object of settings to be applied to the instance
*/

var Tippy = function () {
  function Tippy(selector) {
    var settings = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    classCallCheck$1(this, Tippy);

    // Use default browser tooltip on unsupported browsers
    if (!Browser.SUPPORTED) return;

    init();

    this.state = {
      destroyed: false
    };

    this.selector = selector;

    this.settings = _extends$1({}, Defaults, settings);

    if (settings.show || settings.shown || settings.hide || settings.hidden) {
      console.warn('Callbacks without the `on` prefix are deprecated (with the exception of `wait`).' + ' Use onShow, onShown, onHide, and onHidden instead.');
    }

    this.callbacks = {
      wait: settings.wait,
      show: settings.onShow || settings.show || noop,
      shown: settings.onShown || settings.shown || noop,
      hide: settings.onHide || settings.hide || noop,
      hidden: settings.onHidden || settings.hidden || noop
    };

    this.store = createTooltips.call(this, getArrayOfElements(selector));
    Store.push.apply(Store, this.store);
  }

  /**
  * Returns the reference element's popper element
  * @param {Element} el
  * @return {Element}
  */


  createClass$1(Tippy, [{
    key: 'getPopperElement',
    value: function getPopperElement(el) {
      try {
        return find(this.store, function (data) {
          return data.el === el;
        }).popper;
      } catch (e) {
        console.error('[getPopperElement]: Element passed as the argument does not exist in the instance');
      }
    }

    /**
    * Returns a popper's reference element
    * @param {Element} popper
    * @return {Element}
    */

  }, {
    key: 'getReferenceElement',
    value: function getReferenceElement(popper) {
      try {
        return find(this.store, function (data) {
          return data.popper === popper;
        }).el;
      } catch (e) {
        console.error('[getReferenceElement]: Popper passed as the argument does not exist in the instance');
      }
    }

    /**
    * Returns the reference data object from either the reference element or popper element
    * @param {Element} x (reference element or popper)
    * @return {Object}
    */

  }, {
    key: 'getReferenceData',
    value: function getReferenceData(x) {
      return find(this.store, function (data) {
        return data.el === x || data.popper === x;
      });
    }

    /**
    * Shows a popper
    * @param {Element} popper
    * @param {Number} customDuration (optional)
    */

  }, {
    key: 'show',
    value: function show(popper, customDuration) {
      var _this = this;

      if (this.state.destroyed) return;

      var data = find(this.store, function (data) {
        return data.popper === popper;
      });

      var _getInnerElements = getInnerElements(popper),
          tooltip = _getInnerElements.tooltip,
          circle = _getInnerElements.circle,
          content = _getInnerElements.content;

      // Destroy popper if its reference is no longer on the DOM (excluding refObjs)


      if (!this.selector.refObj && !document.body.contains(data.el)) {
        this.destroy(popper);
        return;
      }

      this.callbacks.show.call(popper);

      var el = data.el,
          _data$settings = data.settings,
          appendTo = _data$settings.appendTo,
          sticky = _data$settings.sticky,
          interactive = _data$settings.interactive,
          followCursor = _data$settings.followCursor,
          flipDuration = _data$settings.flipDuration,
          duration = _data$settings.duration;


      var _duration = customDuration !== undefined ? customDuration : Array.isArray(duration) ? duration[0] : duration;

      // Prevent a transition when popper changes position
      applyTransitionDuration([popper, tooltip, circle], 0);

      mountPopper(data);

      popper.style.visibility = 'visible';
      popper.setAttribute('aria-hidden', 'false');

      // Wait for popper's position to update
      defer(function () {
        if (!isVisible(popper)) return;

        // Sometimes the arrow will not be in the correct position, force another update
        if (!followCursor || Browser.touch) {
          data.popperInstance.update();
          applyTransitionDuration([popper], flipDuration);
        }

        // Re-apply transition durations
        applyTransitionDuration([tooltip, circle], _duration);

        // Make content fade out a bit faster than the tooltip if `animateFill`
        if (circle) content.style.opacity = 1;

        // Interactive tooltips receive a class of 'active'
        interactive && el.classList.add('active');

        // Update popper's position on every animation frame
        sticky && makeSticky(data);

        // Repaint/reflow is required for CSS transition when appending
        triggerReflow(tooltip, circle);

        modifyClassList([tooltip, circle], function (list) {
          list.contains('tippy-notransition') && list.remove('tippy-notransition');
          list.remove('leave');
          list.add('enter');
        });

        // Wait for transitions to complete
        onTransitionEnd(data, _duration, function () {
          if (!isVisible(popper) || data._onShownFired) return;

          // Focus interactive tooltips only
          interactive && popper.focus();
          // Remove transitions from tooltip
          tooltip.classList.add('tippy-notransition');
          // Prevents shown() from firing more than once from early transition cancellations
          data._onShownFired = true;

          _this.callbacks.shown.call(popper);
        });
      });
    }

    /**
    * Hides a popper
    * @param {Element} popper
    * @param {Number} customDuration (optional)
    */

  }, {
    key: 'hide',
    value: function hide(popper, customDuration) {
      var _this2 = this;

      if (this.state.destroyed) return;

      this.callbacks.hide.call(popper);

      var data = find(this.store, function (data) {
        return data.popper === popper;
      });

      var _getInnerElements2 = getInnerElements(popper),
          tooltip = _getInnerElements2.tooltip,
          circle = _getInnerElements2.circle,
          content = _getInnerElements2.content;

      var el = data.el,
          _data$settings2 = data.settings,
          appendTo = _data$settings2.appendTo,
          sticky = _data$settings2.sticky,
          interactive = _data$settings2.interactive,
          followCursor = _data$settings2.followCursor,
          html = _data$settings2.html,
          trigger = _data$settings2.trigger,
          duration = _data$settings2.duration;


      var _duration = customDuration !== undefined ? customDuration : Array.isArray(duration) ? duration[1] : duration;

      data._onShownFired = false;
      interactive && el.classList.remove('active');

      popper.style.visibility = 'hidden';
      popper.setAttribute('aria-hidden', 'true');

      applyTransitionDuration([tooltip, circle, circle ? content : null], _duration);

      if (circle) content.style.opacity = 0;

      modifyClassList([tooltip, circle], function (list) {
        list.contains('tippy-tooltip') && list.remove('tippy-notransition');
        list.remove('enter');
        list.add('leave');
      });

      // Re-focus click-triggered html elements
      // and the tooltipped element IS in the viewport (otherwise it causes unsightly scrolling
      // if the tooltip is closed and the element isn't in the viewport anymore)
      if (html && trigger.indexOf('click') !== -1 && elementIsInViewport(el)) {
        el.focus();
      }

      // Wait for transitions to complete
      onTransitionEnd(data, _duration, function () {
        // `isVisible` is not completely reliable to determine if we shouldn't
        // run the hidden callback, we need to check the computed opacity style.
        // This prevents glitchy behavior of the transition when quickly showing
        // and hiding a tooltip.
        if (isVisible(popper) || !appendTo.contains(popper) || getComputedStyle(tooltip).opacity === '1') return;

        el.removeEventListener('mousemove', followCursorHandler);
        data.popperInstance.disableEventListeners();
        appendTo.removeChild(popper);

        _this2.callbacks.hidden.call(popper);
      });
    }

    /**
    * Updates a popper with new content
    * @param {Element} popper
    */

  }, {
    key: 'update',
    value: function update(popper) {
      if (this.state.destroyed) return;

      var data = find(this.store, function (data) {
        return data.popper === popper;
      });

      var _getInnerElements3 = getInnerElements(popper),
          content = _getInnerElements3.content;

      var el = data.el,
          html = data.settings.html;


      if (html instanceof Element) {
        console.warn('Aborted: update() should not be used if `html` is a DOM element');
        return;
      }

      content.innerHTML = html ? document.getElementById(html.replace('#', '')).innerHTML : el.getAttribute('title') || el.getAttribute('data-original-title');

      if (!html) removeTitle(el);
    }

    /**
    * Destroys a popper
    * @param {Element} popper
    * @param {Boolean} _isLast - private param used by destroyAll to optimize
    */

  }, {
    key: 'destroy',
    value: function destroy(popper, _isLast) {
      var _this3 = this;

      if (this.state.destroyed) return;

      var data = find(this.store, function (data) {
        return data.popper === popper;
      });

      var el = data.el,
          popperInstance = data.popperInstance,
          listeners = data.listeners,
          _mutationObservers = data._mutationObservers;

      // Ensure the popper is hidden

      if (isVisible(popper)) {
        this.hide(popper, 0);
      }

      // Remove Tippy-only event listeners from tooltipped element
      listeners.forEach(function (listener) {
        return el.removeEventListener(listener.event, listener.handler);
      });

      // Restore original title
      el.setAttribute('title', el.getAttribute('data-original-title'));

      el.removeAttribute('data-original-title');
      el.removeAttribute('data-tooltipped');
      el.removeAttribute('aria-describedby');

      popperInstance && popperInstance.destroy();

      _mutationObservers.forEach(function (observer) {
        observer && observer.disconnect();
      });

      // Remove from store
      Store.splice(findIndex(Store, function (data) {
        return data.popper === popper;
      }), 1);

      // Ensure filter is called only once
      if (_isLast === undefined || _isLast) {
        this.store = Store.filter(function (data) {
          return data.tippyInstance === _this3;
        });
      }
    }

    /**
    * Destroys all tooltips created by the instance
    */

  }, {
    key: 'destroyAll',
    value: function destroyAll() {
      var _this4 = this;

      if (this.state.destroyed) return;

      var storeLength = this.store.length;

      this.store.forEach(function (_ref, index) {
        var popper = _ref.popper;

        _this4.destroy(popper, index === storeLength - 1);
      });

      this.store = null;
      this.state.destroyed = true;
    }
  }]);
  return Tippy;
}();

function tippy$2(selector, settings) {
  // Create a virtual object for custom positioning
  if (isObjectLiteral(selector)) {
    selector = {
      refObj: true,
      attributes: selector.attributes || {},
      getBoundingClientRect: selector.getBoundingClientRect,
      clientWidth: selector.clientWidth,
      clientHeight: selector.clientHeight,
      setAttribute: function setAttribute(key, val) {
        selector.attributes[key] = val;
      },
      getAttribute: function getAttribute(key) {
        return selector.attributes[key];
      },
      removeAttribute: function removeAttribute(key) {
        delete selector.attributes[key];
      },
      addEventListener: function addEventListener() {},
      removeEventListener: function removeEventListener() {},
      classList: {
        classNames: {},
        add: function add(key) {
          selector.classList.classNames[key] = true;
        },
        remove: function remove(key) {
          selector.classList.classNames[key] = false;
          return true;
        },
        contains: function contains(key) {
          return !!selector.classList.classNames[key];
        }
      }
    };
  }

  return new Tippy(selector, settings);
}

tippy$2.Browser = Browser;
tippy$2.Defaults = Defaults;
tippy$2.disableDynamicInputDetection = function () {
  return Browser.dynamicInputDetection = false;
};
tippy$2.enableDynamicInputDetection = function () {
  return Browser.dynamicInputDetection = true;
};

return tippy$2;

})));
});

function prepare_dataset(full_dataset, app$$1) {
  app$$1.full_dataset = full_dataset;
  // Create an Object feature_id ->  feature_name for easier lookup:
  app$$1.feature_names = {};
  full_dataset.forEach(function (elem) {
    app$$1.feature_names[elem.geo] = elem.Nom;
  });
}

/**
*
* @param {Object} app - The variable containing the global parameters about
*   the current state of the application.
* @return {Array} - The filtered data, containing only the requested variables
*   for the feature of the current study zone,
*    without features containing empty ratios.
*
*/
function filterLevelVar(app$$1) {
  // Fetch the name(s) of the ratio (and associated num and denum variable),
  // the name of the targeted region and the current level :
  var _app$current_config = app$$1.current_config,
      num = _app$current_config.num,
      denum = _app$current_config.denum,
      ratio = _app$current_config.ratio,
      current_level = _app$current_config.current_level,
      id_field = _app$current_config.id_field,
      filter_key = _app$current_config.filter_key,
      name_field = _app$current_config.name_field,
      my_region = _app$current_config.my_region;


  var all_variables = ratio.concat(num).concat(denum);
  // Prepare the data:
  var temp = void 0;
  if (filter_key instanceof Array) {
    temp = app$$1.full_dataset.filter(function (ft) {
      return +ft[current_level] && filter_key.indexOf(ft[id_field]) > -1;
    });
  } else if (filter_key) {
    var my_category = app$$1.full_dataset.filter(function (ft) {
      return ft[id_field] === my_region;
    })[0][filter_key];
    temp = app$$1.full_dataset.filter(function (ft) {
      return +ft[current_level] && ft[filter_key] === my_category;
    });
  } else {
    temp = app$$1.full_dataset.filter(function (ft) {
      return +ft[current_level];
    });
  }
  temp = temp.map(function (ft) {
    var props_feature = {
      id: ft[id_field],
      name: ft[name_field]
    };
    for (var i = 0, len_i = all_variables.length; i < len_i; i++) {
      props_feature[all_variables[i]] = +ft[all_variables[i]];
    }
    return props_feature;
  });
  app$$1.current_data = temp;
}

/**
* TODO
*/
function filterLevelGeom(nuts_features) {
  var filter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'NUTS1';

  return nuts_features.filter(function (d) {
    return !!d.properties[filter];
  });
}

/**
* Function to prepare the global "variables_info" Array of objects from the array
* containing the readed 'metadata.csv' file.
*
* @param {Array} metadata_indicateurs - The array return by d3.csv.
* @return {void}
*
*/
function prepareVariablesInfo(metadata_indicateurs) {
  return metadata_indicateurs.filter(function (ft) {
    return ft['Type statistique'] === 'Ratio';
  }).map(function (ft) {
    return {
      ratio: ft.id,
      num: ft.id1 + '_' + parseInt(ft.AnnÃ©e, 10),
      denum: ft.id2 + '_' + parseInt(ft.AnnÃ©e, 10),
      name: ft.Nom + ' (' + parseInt(ft.AnnÃ©e, 10) + ')',
      unit: '' + ft['UnitÃ©'],
      group: ft['ThÃ¨me'],
      methodo: ft['MÃ©thodologie'],
      source: ft.Source,
      last_update: ft['DerniÃ¨re mise Ã  jour']
    };
  });
}

/**
* Set and apply a new filter (ie. restrict the study zone) on the dataset to be used.
*
* @param {String} filter_type - The name of the filter to use.
* @return {void}
*
*/
function applyFilter(app$$1, filter_type) {
  if (filter_type === 'filter_country') {
    app$$1.current_config.filter_key = 'Pays';
  } else if (filter_type === 'no_filter') {
    app$$1.current_config.filter_key = undefined;
  } else if (filter_type instanceof Array) {
    app$$1.current_config.filter_key = filter_type;
  } else {
    app$$1.current_config.filter_key = 'type_test';
  }
  filterLevelVar(app$$1);
  app$$1.colors = {};
  app$$1.colors[app$$1.current_config.my_region] = color_highlight;
}

// TODO : Doc
function changeRegion(app$$1, id_region, map_elem) {
  app$$1.current_config.my_region = id_region;
  app$$1.current_config.my_region_pretty_name = app$$1.feature_names[app$$1.current_config.my_region];
  if (app$$1.current_config.filter_key instanceof Array) {
    map_elem.computeDistMat();
    app$$1.current_config.filter_key = map_elem.getUnitsWithin(+d3.select('#dist_filter').property('value'));
    filterLevelVar(app$$1);
  } else if (app$$1.current_config.filter_key) {
    filterLevelVar(app$$1);
  }
  // Reset the color to use on the chart/map:
  app$$1.colors = {};
  app$$1.colors[app$$1.current_config.my_region] = color_highlight;
}

/**
*
* @param app -
* @param code_ratio - The code of the variable to be added.
* @return {void}
*/
function addVariable(app$$1, code_ratio) {
  var variable_info = exports.variables_info.filter(function (d) {
    return d.ratio === code_ratio;
  })[0];
  app$$1.colors = {};
  app$$1.colors[app$$1.current_config.my_region] = color_highlight;
  app$$1.current_config.num.push(variable_info.num);
  app$$1.current_config.denum.push(variable_info.denum);
  app$$1.current_config.ratio.push(variable_info.ratio);
  app$$1.current_config.ratio_pretty_name.push(variable_info.name);
  app$$1.current_config.ratio_unit.push(variable_info.unit);
  filterLevelVar(app$$1);
}

/**
*
* @param app -
* @param code_ratio - The code of the variable to be remove.
* @return {void}
*/
function removeVariable(app$$1, code_ratio) {
  var ix = app$$1.current_config.ratio.indexOf(code_ratio);
  app$$1.current_config.num.splice(ix, 1);
  app$$1.current_config.denum.splice(ix, 1);
  app$$1.current_config.ratio.splice(ix, 1);
  app$$1.current_config.ratio_pretty_name.splice(ix, 1);
  app$$1.current_config.ratio_unit.splice(ix, 1);
  filterLevelVar(app$$1);
}

/**
* Reset the current variables in use.
*
* @param app -
* @param codes_ratio -
* @return {void}
*/
function resetVariables(app$$1, codes_ratio) {
  app$$1.colors = {};
  app$$1.colors[app$$1.current_config.my_region] = color_highlight;
  app$$1.current_config.num = [];
  app$$1.current_config.denum = [];
  app$$1.current_config.ratio = [];
  app$$1.current_config.ratio_pretty_name = [];
  app$$1.current_config.ratio_unit = [];

  var _loop = function _loop(i, len) {
    var code_ratio = codes_ratio[i];
    var variable_info = exports.variables_info.filter(function (d) {
      return d.ratio === code_ratio;
    })[0];
    app$$1.current_config.num.push(variable_info.num);
    app$$1.current_config.denum.push(variable_info.denum);
    app$$1.current_config.ratio.push(variable_info.ratio);
    app$$1.current_config.ratio_pretty_name.push(variable_info.name);
    app$$1.current_config.ratio_unit.push(variable_info.unit);
  };

  for (var i = 0, len = codes_ratio.length; i < len; i++) {
    _loop(i, len);
  }
  filterLevelVar(app$$1);
}

/**
* Compute the ratio of available (= not empty) values (the "complÃ©tude") within
* the subset currently in use for all the variables in "vars".
*
* @param {Object} app - The variable containing the global parameters about
*   the current state of the application.
* @param {Array} vars - A list of variable names for which completeness will be calculated.
* @param {String} output - Whether to output the result as a Number or as an Array
* @return {Number or Array} - Number: The ratios of features with available values within
*    the study zone (in %) or, Array : the number of features with available values
*    and the total number of features.
*/
function calcCompletudeSubset(app$$1, vars) {
  var output = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'ratio';
  var _app$current_config2 = app$$1.current_config,
      current_level = _app$current_config2.current_level,
      id_field = _app$current_config2.id_field,
      filter_key = _app$current_config2.filter_key,
      my_region = _app$current_config2.my_region;

  // Compute the length of the dataset (within the "study zone" if any):

  var temp = void 0;
  if (filter_key instanceof Array) {
    temp = app$$1.full_dataset.filter(function (ft) {
      return !!+ft[current_level] && filter_key.indexOf(ft[id_field]) > -1;
    });
  } else if (filter_key) {
    var my_category = app$$1.full_dataset.find(function (ft) {
      return ft[id_field] === my_region;
    })[filter_key];
    temp = app$$1.full_dataset.filter(function (ft) {
      return !!+ft[current_level] && ft[filter_key] === my_category;
    });
  } else {
    temp = app$$1.full_dataset.filter(function (ft) {
      return !!+ft[current_level];
    });
  }
  var total_length = temp.length;

  // Compute the length of the dataset if we filter empty features
  // on all the variables of "vars":
  temp = temp.map(function (ft) {
    var props_feature = {
      id: ft[id_field]
    };
    for (var i = 0, len_i = vars.length; i < len_i; i++) {
      props_feature[vars[i]] = +ft[vars[i]];
    }
    return props_feature;
  }).filter(function (ft) {
    return vars.map(function (ratio_name) {
      return !!ft[ratio_name];
    }).every(function (v) {
      return v === true;
    });
  });
  var filtered_length = temp.length;

  if (!(output === 'ratio')) {
    // Return the number of features with available values within
    // the study zone, and the total number of features of the study zone
    return [filtered_length, total_length];
  }
  // Return the ratio of available values ("complÃ©tude") within
  // the study zone selected by the user:
  return Math.round(filtered_length / total_length * 10000) / 100;
}

/**
* Compute the ratio of population covered by features on which all the variables
* of "vars" are available.
*
* @param {Object} app -The variable containing the global parameters about
*   the current state of the application.
* @param {Array} vars - A list of variable names for which completeness will be calculated.
* @return {Number} - The ratio (in %) of population covered by features for which
*   are available within the study zone.
*
*/
function calcPopCompletudeSubset(app$$1, vars) {
  var _app$current_config3 = app$$1.current_config,
      current_level = _app$current_config3.current_level,
      id_field = _app$current_config3.id_field,
      filter_key = _app$current_config3.filter_key,
      my_region = _app$current_config3.my_region,
      pop_field = _app$current_config3.pop_field;

  // Compute the total population stock of the data (within the "study zone" if any):

  var temp = void 0;
  if (filter_key instanceof Array) {
    temp = app$$1.full_dataset.filter(function (ft) {
      return !!+ft[current_level] && filter_key.indexOf(ft[id_field]) > -1;
    });
  } else if (filter_key) {
    var my_category = app$$1.full_dataset.find(function (ft) {
      return ft[id_field] === my_region;
    })[filter_key];
    temp = app$$1.full_dataset.filter(function (ft) {
      return !!+ft[current_level] && ft[filter_key] === my_category;
    });
  } else {
    temp = app$$1.full_dataset.filter(function (ft) {
      return !!+ft[current_level];
    });
  }
  var total_pop = 0;
  for (var i = 0, len = temp.length; i < len; i++) {
    total_pop += isNaN(+temp[i][pop_field]) ? 0 : +temp[i][pop_field];
  }
  // Compute the population stock of the dataset if we filter empty features
  // on all the variables of "vars":
  temp = temp.map(function (ft) {
    var props_feature = {
      id: ft[id_field],
      pop: +ft[pop_field]
    };
    for (var _i = 0, len_i = vars.length; _i < len_i; _i++) {
      props_feature[vars[_i]] = +ft[vars[_i]];
    }
    return props_feature;
  }).filter(function (ft) {
    return vars.map(function (ratio_name) {
      return !!ft[ratio_name];
    }).every(function (v) {
      return v === true;
    });
  });
  var subset_pop = 0;
  for (var _i2 = 0, _len = temp.length; _i2 < _len; _i2++) {
    subset_pop += isNaN(temp[_i2].pop) ? 0 : temp[_i2].pop;
  }
  // Return the ratio of population values ("complÃ©tude") within
  // the study zone selected by the user:
  return Math.round(subset_pop / total_pop * 10000) / 100;
}
/* eslint-enable no-param-reassign */

var svg_map = d3.select('svg#svg_map');
var margin_map = { top: 0, right: 0, bottom: 0, left: 0 };
var width_map = +svg_map.attr('width') - margin_map.left - margin_map.right;
var height_map = +svg_map.attr('height') - margin_map.top - margin_map.bottom;

var styles = {
  frame: { id: 'frame', fill: '#e9f4fe', 'fill-opacity': 1 },
  countries: { id: 'countries', fill: '#bebecd', 'fill-opacity': 1 },
  boxes: { id: 'boxes', fill: '#e9f4fe', 'fill-opacity': 1 },
  nuts: { id: 'nuts', fill: '#9390fc', 'fill-opacity': 1, 'stroke-width': 0.5, stroke: '#f7fcfe', 'stroke-opacity': 0.9 },
  countries_remote: { id: 'countries_remote', fill: '#bebecd', 'fill-opacity': 1 },
  cyprus_non_espon_space: { id: 'cyprus_non_espon_space', fill: '#ffffff', 'fill-opacity': 1 },
  borders: { id: 'borders', fill: 'none', 'stroke-width': 1, stroke: '#ffffff' },
  countries_remote_boundaries: { id: 'countries_remote_boundaries', fill: 'none', 'stroke-width': 1, stroke: '#ffffff' },
  coasts: { id: 'coasts', fill: 'none', stroke: '#d2dbef', 'stroke-width': 0.5 },
  coasts_remote: { id: 'coasts_remote', fill: 'none', stroke: '#d2dbef', 'stroke-width': 0.5 },
  boxes2: { id: 'boxes2', stroke: '#7a7a7a', 'stroke-width': 1, fill: 'none' },
  line: { id: 'line', stroke: '#bebecd', 'stroke-width': 1.5, fill: 'none' }
};

var projection = void 0;
var path = void 0;

function get_bbox_layer_path(name) {
  var bbox_layer = [[Infinity, Infinity], [-Infinity, -Infinity]];
  svg_map.select('#' + name).selectAll('path').each(function (d) {
    var bbox_path = path.bounds(d.geometry);
    bbox_layer[0][0] = bbox_path[0][0] < bbox_layer[0][0] ? bbox_path[0][0] : bbox_layer[0][0];
    bbox_layer[0][1] = bbox_path[0][1] < bbox_layer[0][1] ? bbox_path[0][1] : bbox_layer[0][1];
    bbox_layer[1][0] = bbox_path[1][0] > bbox_layer[1][0] ? bbox_path[1][0] : bbox_layer[1][0];
    bbox_layer[1][1] = bbox_path[1][1] > bbox_layer[1][1] ? bbox_path[1][1] : bbox_layer[1][1];
  });
  return bbox_layer;
}

function fitLayer() {
  projection.scale(1).translate([0, 0]);
  var b = get_bbox_layer_path('frame');
  var s = 1 / Math.max((b[1][0] - b[0][0]) / width_map, (b[1][1] - b[0][1]) / height_map);
  var t = [(width_map - s * (b[1][0] + b[0][0])) / 2, (height_map - s * (b[1][1] + b[0][1])) / 2];
  projection.scale(s).translate(t);
  svg_map.selectAll('path').attr('d', path);
}

function map_zoomed() {
  var transform = d3.event.transform;
  if (transform.k === 1) {
    transform.x = 0;
    transform.y = 0;
  }
  var layers = svg_map.select('#layers');
  var t = layers.selectAll('g').transition().duration(225);

  layers.selectAll('g').transition(t).style('stroke-width', function () {
    return styles[this.id]['stroke-width'] / transform.k + 'px';
  });

  layers.selectAll('g').transition(t).attr('transform', transform);

  svg_map.select('.brush_map').transition(t).attr('transform', transform);
}

var MapSelect = function () {
  function MapSelect(nuts, other_layers) {
    var filter = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'NUTS1';
    classCallCheck(this, MapSelect);

    var _other_layers = slicedToArray(other_layers, 10),
        borders = _other_layers[0],
        countries = _other_layers[1],
        countries_remote = _other_layers[2],
        coasts = _other_layers[3],
        coasts_remote = _other_layers[4],
        cyprus_non_espon_space = _other_layers[5],
        countries_remote_boundaries = _other_layers[6],
        frame = _other_layers[7],
        boxes = _other_layers[8],
        line = _other_layers[9];

    projection = d3.geoIdentity().fitExtent([[0, 0], [width_map, height_map]], frame).reflectY(true);

    path = d3.geoPath().projection(projection);
    var layers = svg_map.append('g').attr('id', 'layers');
    this.nuts = nuts;
    this.zoom_map = d3.zoom().scaleExtent([1, 5]).translateExtent([[0, 0], [width_map, height_map]]).on('zoom', map_zoomed);

    svg_map.call(this.zoom_map);

    layers.append('g').attrs(styles.frame).selectAll('path').data(frame.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs(styles.countries).attr('id', 'countries').selectAll('path').data(countries.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs(styles.boxes).selectAll('path').data(boxes.features).enter().append('path').attrs({ d: path });

    this.target_layer = layers.append('g').attrs(styles.nuts);
    this.target_layer.selectAll('path').data(filterLevelGeom(this.nuts.features, filter), function (d) {
      return d.properties[app.current_config.id_field_geom];
    }).enter().append('path').attr('title', function (d) {
      return d.properties[app.current_config.name_field] + ' (' + d.properties[app.current_config.id_field_geom] + ')';
    }).attr('fill', function (d) {
      return d.properties[app.current_config.id_field_geom] !== app.current_config.my_region ? color_countries : color_highlight;
    }).attr('d', path);

    layers.append('g').attrs(styles.countries_remote).selectAll('path').data(countries_remote.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs(styles.cyprus_non_espon_space).selectAll('path').data(cyprus_non_espon_space.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs(styles.borders).selectAll('path').data(borders.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs(styles.countries_remote_boundaries).selectAll('path').data(countries_remote_boundaries.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs(styles.coasts).selectAll('path').data(coasts.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs(styles.coasts_remote).selectAll('path').data(coasts_remote.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs(styles.boxes2).selectAll('path').data(boxes.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs(styles.line).selectAll('path').data(line.features).enter().append('path').attrs({ d: path });

    fitLayer();
    app.type_path = getSvgPathType(this.target_layer.select('path').node().getAttribute('d'));
    this.target_layer.selectAll('path').each(function () {
      this._pts = svgPathToCoords(this.getAttribute('d'), app.type_path);
    });
    this.tooltips = tippy(this.target_layer.node().querySelectorAll('path'), {
      animation: 'fade',
      duration: 0,
      followCursor: true
      // performance: true,
    });
  }

  createClass(MapSelect, [{
    key: 'updateLevelRegion',
    value: function updateLevelRegion() {
      var filter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'NUTS1';

      this.tooltips.destroyAll();
      var new_selection = filterLevelGeom(this.nuts.features, filter);
      var selection = this.target_layer.selectAll('path').data(new_selection, function (d) {
        return d.properties[app.current_config.id_field_geom];
      });
      selection.enter().append('path').attrs(function (d) {
        return {
          title: d.properties[app.current_config.name_field] + ' (' + d.properties[app.current_config.id_field_geom] + ')',
          fill: d.properties[app.current_config.id_field_geom] !== app.current_config.my_region ? color_countries : color_highlight,
          d: path
        };
      });
      selection.attr('d', path);
      selection.exit().remove();
      this.resetColors(new_selection.map(function (d) {
        return d.properties[app.current_config.id_field_geom];
      }));
      this.computeDistMat();
      this.target_layer.selectAll('path').each(function () {
        this._pts = undefined;
      });
      this.tooltips = tippy(this.target_layer.node().querySelectorAll('path'), {
        animation: 'fade',
        duration: 0,
        followCursor: true
        // performance: true,
      });
    }
  }, {
    key: 'resetColors',
    value: function resetColors$$1(current_ids) {
      var id_field_geom = app.current_config.id_field_geom;
      this.target_layer.selectAll('path').attr('fill', function (d) {
        var id = d.properties[id_field_geom];
        if (id === app.current_config.my_region) {
          return color_highlight;
        } else if (current_ids.indexOf(id) > -1) {
          return app.colors[id] || color_countries;
        }
        return color_disabled;
      });
    }
  }, {
    key: 'resetZoom',
    value: function resetZoom() {
      svg_map.transition().duration(250).call(this.zoom_map.transform, d3.zoomIdentity);
    }
  }, {
    key: 'updateLegend',
    value: function updateLegend() {
      d3.select('#svg_legend > g > .legend > text').text('Ma r\xE9gion : ' + app.current_config.my_region_pretty_name);
    }
  }, {
    key: 'removeRectBrush',
    value: function removeRectBrush() {
      svg_map.select('.brush_map').call(this.brush_map.move, null);
    }
  }, {
    key: 'callBrush',
    value: function callBrush(selection) {
      svg_map.select('.brush_map').call(this.brush_map.move, selection);
    }
  }, {
    key: 'bindBrushClick',
    value: function bindBrushClick(chart) {
      if (chart.handleClickMap) {
        document.getElementById('img_map_select').classList.remove('disabled');
        document.getElementById('img_map_select').classList.add('active');
      } else {
        document.getElementById('img_map_select').classList.add('disabled');
      }
      if (chart.handle_brush_map) {
        document.getElementById('img_rect_selec').classList.remove('disabled');
        document.getElementById('img_rect_selec').classList.add('active');
        document.getElementById('img_map_zoom').classList.remove('active');
        document.getElementById('img_map_select').classList.remove('active');
        this.brush_map = d3.brush().extent([[0, 0], [width_map, height_map]]).on('start brush', function () {
          chart.handle_brush_map(d3.event);
        });
        svg_map.append('g').attr('class', 'brush_map').call(this.brush_map);
      } else {
        document.getElementById('img_rect_selec').classList.remove('active');
        document.getElementById('img_rect_selec').classList.add('disabled');
        document.getElementById('img_map_zoom').classList.remove('active');
        document.getElementById('img_map_select').classList.add('active');
      }
      if (chart.handleClickMap && !chart.handle_brush_map) {
        this.target_layer.selectAll('path').on('click', function (d) {
          chart.handleClickMap(d, this);
        });
      }
    }
  }, {
    key: 'getUnitsWithin',
    value: function getUnitsWithin(dist_km) {
      var dist = dist_km * 1000;
      if (!this.dist_to_my_region) this.computeDistMat();
      return this.dist_to_my_region.filter(function (d) {
        return d.dist <= dist;
      }).map(function (d) {
        return d.id;
      });
    }
  }, {
    key: 'computeDistMat',
    value: function computeDistMat() {
      var features = Array.prototype.slice.call(this.target_layer.node().querySelectorAll('path'));
      var nb_ft = features.length;
      var my_region_geom = features.find(function (d) {
        return d.__data__.properties[app.current_config.id_field_geom] === app.current_config.my_region;
      }).__data__.geometry;
      var my_region_centroid = turf.centroid(my_region_geom);
      var result_dist = [];
      for (var i = 0; i < nb_ft; i++) {
        var id = features[i].__data__.properties[app.current_config.id_field_geom];
        var dist = euclidian_distance(my_region_centroid, turf.centroid(features[i].__data__.geometry));
        result_dist.push({ id: id, dist: dist });
      }
      this.dist_to_my_region = result_dist;
    }
  }, {
    key: 'unbindBrushClick',
    value: function unbindBrushClick() {
      this.brush_map = null;
      svg_map.select('.brush_map').remove();
    }
  }]);
  return MapSelect;
}();

function makeSourceSection() {
  var xmax = +svg_map.attr('width');
  var text_zone = d3.select('#svg_legend').append('text').attrs({ y: 32.5, 'text-anchor': 'end' }).style('font-size', '11px').style('font-family', '\'Signika\', sans-serif');
  text_zone.append('tspan').attrs({ x: xmax, dy: 12 }).text('Niveau rÃ©gional : NUTS 1 (version 2016)');
  text_zone.append('tspan').attrs({ x: xmax, dy: 12 }).text('Origine des donnÃ©es : Eurostat, 2016');
  text_zone.append('tspan').attrs({ x: xmax, dy: 12 }).text('Limite administrative: UMS RIATE, CC-BY-SA');
}

function makeMapLegend() {
  var legend_elems = [{ color: color_highlight, text: 'Ma r\xE9gion : ' + app.current_config.my_region_pretty_name }, { color: color_countries, text: 'Autres rÃ©gions du filtre de comparaison' }, { color: color_sup, text: 'Rang plus Ã©levÃ© que ma rÃ©gion' }, { color: color_inf, text: 'Rang moins Ã©levÃ© que ma rÃ©gion' }];

  var rect_size = 14;
  var spacing = 4;
  var lgd_height = rect_size + spacing;
  var offset = lgd_height * legend_elems.length / 2;

  var grp_lgd = d3.select('#svg_legend').append('g').attr('transform', 'translate(50, 40)').styles({ 'font-size': '11px', 'font-family': '\'Signika\', sans-serif' });

  var legends = grp_lgd.selectAll('.legend').data(legend_elems).enter().append('g').attr('class', 'legend').attr('transform', function (d, i) {
    var tx = -2 * rect_size;
    var ty = i * lgd_height - offset;
    return 'translate(' + [tx, ty] + ')';
  });

  legends.append('rect').attrs({ width: rect_size, height: rect_size }).styles(function (d) {
    return { fill: d.color, stroke: d.color };
  });

  legends.append('text').attrs({ x: rect_size + spacing, y: rect_size - spacing }).text(function (d) {
    return d.text;
  });
}

var TableResumeStat = function () {
  function TableResumeStat(summary_features) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    classCallCheck(this, TableResumeStat);

    var doc = document;
    var nb_features = summary_features.length;
    var column_names = ['Variable', 'Min', 'Moyenne', 'Max', 'Ma rÃ©gion'];
    var nb_columns = column_names.length;
    var container_div = doc.createElement('div');
    var myTable = doc.createElement('table');
    var headers = doc.createElement('thead');
    var table_body = doc.createElement('tbody');
    var headers_row = doc.createElement('tr');
    myTable.className = 'minitable';
    container_div.className = 'minitable_container';
    for (var i = 0; i < nb_columns; i++) {
      var cell = doc.createElement('th');
      cell.innerHTML = column_names[i];
      headers_row.appendChild(cell);
    }
    headers.appendChild(headers_row);
    myTable.appendChild(headers);
    for (var _i = 0; _i < nb_features; _i++) {
      var row = doc.createElement('tr');
      row.id = 'row_' + summary_features[_i].id;
      for (var j = 0; j < nb_columns; j++) {
        var _cell = doc.createElement('td');
        var col_name = column_names[j];
        if (col_name !== 'Variable') {
          _cell.innerHTML = Math.round(summary_features[_i][col_name] * 10) / 10;
        } else {
          _cell.innerHTML = summary_features[_i][col_name];
        }
        row.appendChild(_cell);
      }
      table_body.appendChild(row);
    }
    myTable.appendChild(table_body);
    myTable.setAttribute('id', options.id || 'table_summary');
    container_div.appendChild(myTable);
    document.querySelector('#map_section').appendChild(container_div);
    this.nb_columns = nb_columns;
    this.column_names = column_names;
    this.table_body = table_body;
  }

  createClass(TableResumeStat, [{
    key: 'addFeatures',
    value: function addFeatures(summary_features) {
      for (var i = 0, len = summary_features.length; i < len; i++) {
        this.addFeature(summary_features[i]);
      }
    }
  }, {
    key: 'addFeature',
    value: function addFeature(summary) {
      var row = document.createElement('tr');
      row.id = 'row_' + summary.id;
      for (var j = 0; j < this.nb_columns; j++) {
        var cell = document.createElement('td');
        var col_name = this.column_names[j];
        if (col_name !== 'Variable') {
          cell.innerHTML = Math.round(summary[col_name] * 10) / 10;
        } else {
          cell.innerHTML = summary[col_name];
        }
        row.appendChild(cell);
      }
      this.table_body.appendChild(row);
    }
  }, {
    key: 'removeFeature',
    value: function removeFeature(id_variable) {
      var row = this.table_body.querySelector('tr#row_' + id_variable);
      if (row) row.remove();
    }
  }, {
    key: 'removeAll',
    value: function removeAll() {
      var rows = this.table_body.querySelectorAll('tr');
      for (var i = rows.length - 1; i > -1; i--) {
        rows[i].remove();
      }
    }
  }, {
    key: 'remove',
    value: function remove() {
      this.table_body.parentElement.parentElement.remove();
      this.table_body = null;
    }
  }]);
  return TableResumeStat;
}();

var CompletudeSection = function () {
  function CompletudeSection(parent) {
    classCallCheck(this, CompletudeSection);

    this.section = document.createElement('div');
    this.section.className = 'completude_section';
    this.completude_population = document.createElement('p');
    this.completude_features = document.createElement('p');
    this.completude_features.className = 'active';
    this.section.appendChild(this.completude_features);
    this.section.appendChild(this.completude_population);
    var self = this;
    parent.appendChild(this.section);
    this.completude_features.onclick = function () {
      this.classList.remove('active');
      self.completude_population.classList.add('active');
    };
    this.completude_population.onclick = function () {
      this.classList.remove('active');
      self.completude_features.classList.add('active');
    };
  }

  createClass(CompletudeSection, [{
    key: 'update',
    value: function update(value_features, value_pop) {
      this.completude_features.innerHTML = 'Donn\xE9es disponibles pour ' + value_features[0] + '/' + value_features[1] + ' entit\xE9s.';
      this.completude_population.innerHTML = 'Donn\xE9es disponibles pour ' + value_pop + '% de la population de l\'espace d\'\xE9tude.';
    }
  }, {
    key: 'remove',
    value: function remove() {
      this.section.remove();
      this.section = null;
      this.completude_population = null;
      this.completude_features = null;
    }
  }]);
  return CompletudeSection;
}();

var svg_bar = d3.select('svg#svg_bar');
var margin = { top: 10, right: 20, bottom: 100, left: 45 };
var margin2 = { top: 430, right: 20, bottom: 15, left: 45 };
var width = +svg_bar.attr('width') - margin.left - margin.right;
var height = +svg_bar.attr('height') - margin.top - margin.bottom;
var height2 = +svg_bar.attr('height') - margin2.top - margin2.bottom;

var nbFt = void 0;
var current_range_brush = [0, 0];
var current_range = [0, 0];
var displayed = void 0;

function getMeanRank(mean_value, ratio_to_use) {
  var mean_rank = app.current_data.map(function (d, i) {
    return [d[ratio_to_use], math_abs(mean_value - d[ratio_to_use]), i];
  });
  mean_rank.sort(function (a, b) {
    return a[1] - b[1];
  });
  mean_rank = mean_rank[0];
  if (mean_rank[1] > mean_value) {
    mean_rank = mean_rank[2] - 1;
  } else {
    mean_rank = mean_rank[2];
  }
  return mean_rank;
}

var BarChart1 = function () {
  function BarChart1(ref_data) {
    var _this = this;

    classCallCheck(this, BarChart1);

    this.brushed = function () {
      if (d3.event.sourceEvent && d3.event.sourceEvent.type === 'zoom') return; // ignore brush-by-zoom
      if (!_this.x) {
        console.log('a');return;
      }
      var s = d3.event.selection || _this.x2.range();
      current_range = [math_round(s[0] / (width / nbFt)), math_round(s[1] / (width / nbFt))];
      _this.x.domain(_this.data.slice(current_range[0], current_range[1]).map(function (ft) {
        return ft.id;
      }));
      svg_bar.select('.zoom').call(_this.zoom.transform, d3.zoomIdentity.scale(width / (current_range[1] - current_range[0])).translate(-current_range[0], 0));
      _this.update();
      _this.updateContext(current_range[0], current_range[1]);
      svg_bar.select('.brush_top').call(_this.brush_top.move, null);
      // this.brushed_top();
    };

    this.brushed_top = function () {
      if (!_this._focus) {
        console.log('b');return;
      }
      if (!_this.map_elem) {
        console.log('c');return;
      }
      var d3_event = d3.event;
      var ratio_to_use = _this.ratio_to_use;
      var ref_value = _this.ref_value;
      // if (d3_event && d3_event.selection
      //       && d3_event.sourceEvent && d3_event.sourceEvent.target === document.querySelector('.brush_top > rect.overlay')) {
      if (d3_event && d3_event.selection && d3_event.sourceEvent && d3_event.sourceEvent.target) {
        _this.map_elem.removeRectBrush();
        var s = d3_event.selection;
        current_range_brush = [current_range[0] + math_round(s[0] / (width / displayed)) - 1, current_range[0] + math_round(s[1] / (width / displayed))];
        _this.x.domain(_this.data.slice(current_range_brush[0] + 1, current_range_brush[1]).map(function (ft) {
          return ft.id;
        }));
        app.colors = {};
        _this._focus.selectAll('.bar').style('fill', function (d, i) {
          if (d.id === app.current_config.my_region) {
            app.colors[d.id] = color_highlight;
            return color_highlight;
          } else if (i > current_range_brush[0] && i < current_range_brush[1]) {
            var color = comp(d[ratio_to_use], ref_value, _this.serie_inversed);
            app.colors[d.id] = color;
            return color;
          }
          return color_countries;
        });
        _this.updateMapRegio();
      } else {
        if (d3_event && !d3_event.selection && d3_event.sourceEvent && d3_event.sourceEvent.detail !== undefined) {
          _this.map_elem.removeRectBrush();
          app.colors = {};
          app.colors[app.current_config.my_region] = color_highlight;
          _this.updateMapRegio();
        }
        _this._focus.selectAll('.bar').style('fill', function (d) {
          return app.colors[d.id] || color_countries;
        });
      }
    };

    // Set the minimum number of variables to keep selected for this kind of chart:
    app.current_config.nb_var = 1;
    var x = d3.scaleBand().range([0, width]).padding(0.1),
        x2 = d3.scaleBand().range([0, width]).padding(0.1),
        y = d3.scaleLinear().range([height, 0]),
        y2 = d3.scaleLinear().range([height2, 0]);

    var xAxis = d3.axisBottom(x);
    var xAxis2 = d3.axisBottom(x2);
    var yAxis = d3.axisLeft(y);

    this.x = x;
    this.x2 = x2;
    this.y = y;
    this.y2 = y2;
    this.xAxis = xAxis;
    this.yAxis = yAxis;
    this.xAxis2 = xAxis2;
    var self = this;
    var available_ratios = app.current_config.ratio;
    var ratio_to_use = available_ratios[0];
    this.ratio_to_use = ratio_to_use;
    this.unit = exports.variables_info.find(function (ft) {
      return ft.ratio === ratio_to_use;
    }).unit;
    this.data = ref_data.filter(function (ft) {
      return !!ft[ratio_to_use];
    });
    this.data.sort(function (a, b) {
      return a[ratio_to_use] - b[ratio_to_use];
    });
    this.current_ids = this.data.map(function (d) {
      return d.id;
    });
    resetColors();
    this.current_ranks = this.data.map(function (d, i) {
      return i + 1;
    });
    nbFt = this.data.length;
    this.mean_value = getMean(this.data.map(function (d) {
      return d[ratio_to_use];
    }));
    this.ref_value = this.data.filter(function (ft) {
      return ft.id === app.current_config.my_region;
    })[0][ratio_to_use];
    svg_bar.append('defs').append('clipPath').attr('id', 'clip').append('rect').attrs({ width: width, height: height });

    var focus = svg_bar.append('g').attrs({
      class: 'focus',
      transform: 'translate(' + margin.left + ', ' + margin.top + ')'
    });

    var context = svg_bar.append('g').attrs({
      class: 'context',
      transform: 'translate(' + margin2.left + ', ' + margin2.top + ')'
    });

    this._focus = focus;
    this.context = context;

    x.domain(this.current_ids);
    y.domain([0, d3.max(this.data, function (d) {
      return d[ratio_to_use];
    })]);
    x2.domain(x.domain());
    y2.domain(y.domain());

    var brush_bottom = d3.brushX().extent([[0, 0], [width, height2]]).on('brush end', this.brushed);

    var brush_top = d3.brushX().extent([[0, 0], [width, height]]).on('brush end', this.brushed_top);

    var zoom = d3.zoom().scaleExtent([1, Infinity]).translateExtent([[0, 0], [width, height]]).extent([[0, 0], [width, height]]);
    // .on("zoom", zoomed);
    this.brush_top = brush_top;
    this.brush_bottom = brush_bottom;
    this.zoom = zoom;

    focus.append('g').attrs({ class: 'axis axis--x', transform: 'translate(0, ' + height + ')' }).call(xAxis);

    focus.select('.axis--x').selectAll('text').style('text-anchor', 'end').attrs({ dx: '-0.8em', dy: '0.15em', transform: 'rotate(-65)' });

    focus.append('g').attr('class', 'axis axis--y').call(yAxis);

    this.g_bar = focus.append('g');

    var groupe_line_mean = focus.append('g').attr('class', 'mean');
    groupe_line_mean.append('text').attrs({ x: 60, y: y(this.mean_value) + 20 }).styles({
      display: 'none',
      fill: 'red',
      'fill-opacity': '0.8',
      'font-family': '\'Signika\', sans-serif'
    }).text('Valeur moyenne : ' + Math.round(this.mean_value * 10) / 10 + ' ' + this.unit);

    groupe_line_mean.append('line').attrs({
      x1: 0,
      x2: width,
      y1: y(this.mean_value),
      y2: y(this.mean_value),
      'stroke-dasharray': '10, 5',
      'stroke-width': '2px',
      class: 'mean_line'
    }).style('stroke', 'red');

    groupe_line_mean.append('line').attrs({ x1: 0, x2: width, y1: y(this.mean_value), y2: y(this.mean_value), 'stroke-width': '14px', class: 'transp_mean_line' }).style('stroke', 'transparent').on('mouseover', function () {
      groupe_line_mean.select('text').style('display', 'initial');
    }).on('mouseout', function () {
      groupe_line_mean.select('text').style('display', 'none');
    });

    this.updateMiniBars();

    context.append('g').attr('class', 'brush_bottom').call(brush_bottom).call(brush_bottom.move, x.range());

    focus.append('g').attr('class', 'brush_top').call(brush_top).call(brush_top.move, null);

    this.completude = new CompletudeSection(svg_bar.node().parentElement);
    this.completude.update(calcCompletudeSubset(app, [this.ratio_to_use], 'array'), calcPopCompletudeSubset(app, [this.ratio_to_use]));

    svg_bar.append('image').attrs({
      x: width + margin.left + 5,
      y: 385,
      width: 15,
      height: 15,
      'xlink:href': 'img/reverse_plus.png',
      id: 'img_reverse'
    }).on('click', function () {
      // this.data = app.current_data.slice();
      if (!_this.serie_inversed) {
        _this.data.sort(function (a, b) {
          return b[_this.ratio_to_use] - a[_this.ratio_to_use];
        });
      } else {
        _this.data.sort(function (a, b) {
          return a[_this.ratio_to_use] - b[_this.ratio_to_use];
        });
      }
      _this.serie_inversed = !_this.serie_inversed;
      x.domain(_this.data.slice(current_range[0], current_range[1]).map(function (ft) {
        return ft.id;
      }));
      x2.domain(_this.data.map(function (ft) {
        return ft.id;
      }));
      // svg_bar.select(".zoom").call(zoom.transform, d3.zoomIdentity
      //     .scale(width / (current_range[1] - current_range[0]))
      //     .translate(-current_range[0], 0));
      _this.update();
      // this.updateMiniBars();
      _this.updateContext(current_range[0], current_range[1]);
      svg_bar.select('.brush_top').call(brush_top.move, null);
      _this.map_elem.removeRectBrush();
      svg_bar.select('.brush_bottom').call(brush_bottom.move, x.range());
    });

    // Prepare the tooltip displayed on mouseover:
    var tooltip = prepareTooltip(svg_bar);

    // Deactivate the brush rect selection on the map + on the chart
    // when he user press the Ctrl key:
    document.onkeydown = function (event) {
      if (event && event.key === 'Control') {
        svg_bar.select('.brush_top').selectAll('.selection, .overlay').style('display', 'none');
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', 'none');
      }
    };
    document.onkeyup = function (event) {
      if (event && event.key === 'Control') {
        svg_bar.select('.brush_top').selectAll('.selection, .overlay').style('display', null);
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', null);
      }
    };

    var header_bar_section = d3.select('#header_chart');

    this.selec_var = header_bar_section.insert('select', '#img_table').attrs({ class: 'title_variable' }).styles({
      'font-family': '\'Signika\', sans-serif',
      'font-weight': '800',
      'font-size': '14px',
      'margin-top': '12px',
      'margin-left': '40px',
      float: 'left'
    });

    for (var i = 0, len_i = available_ratios.length; i < len_i; i++) {
      this.selec_var.append('option').attr('value', available_ratios[i]).text(app.current_config.ratio_pretty_name[i]);
    }

    this.selec_var.on('change', function () {
      var code_variable = this.value;
      self.changeVariable(code_variable);
      self.changeStudyZone();
      self.updateCompletude();
    });

    // Create the menu under the chart allowing to use some useful selections
    // (above or below the mean value and above or below my_region)
    var menu_selection = d3.select('#bar_section').append('div').attr('id', 'menu_selection').styles({ padding: '0 10px 10px 10px', 'text-align': 'center' });

    menu_selection.append('button').attrs({ class: 'button_blue', id: 'btn_above_mean' }).text('< Ã  la moyenne').on('click', function () {
      return _this.selectBelowMean();
    });

    menu_selection.append('button').attrs({ class: 'button_blue', id: 'btn_below_mean' }).text('> Ã  la moyenne').on('click', function () {
      return _this.selectAboveMean();
    });

    menu_selection.append('button').attrs({ class: 'button_blue', id: 'btn_above_my_region' }).text('< Ã  ma rÃ©gion').on('click', function () {
      return _this.selectBelowMyRegion();
    });

    menu_selection.append('button').attrs({ class: 'button_blue', id: 'btn_below_my_region' }).text('> Ã  ma rÃ©gion').on('click', function () {
      return _this.selectAboveMyRegion();
    });

    this.makeTableStat();
  }

  createClass(BarChart1, [{
    key: 'updateCompletude',
    value: function updateCompletude() {
      this.completude.update(calcCompletudeSubset(app, [this.ratio_to_use], 'array'), calcPopCompletudeSubset(app, [this.ratio_to_use]));
    }
  }, {
    key: 'updateContext',
    value: function updateContext(min, max) {
      this.context.selectAll('.bar').style('fill-opacity', function (_, i) {
        return i >= min && i < max ? '1' : '0.3';
      });
    }
  }, {
    key: 'update',
    value: function update() {
      var _this2 = this;

      displayed = 0;
      var ratio_to_use = this.ratio_to_use;
      var self = this;
      var bar = this.g_bar.selectAll('.bar').data(this.data);

      bar.attrs(function (d) {
        return {
          x: _this2.x(d.id),
          y: _this2.y(d[ratio_to_use]),
          width: _this2.x.bandwidth(),
          height: height - _this2.y(d[ratio_to_use])
        };
      }).style('fill', function (d) {
        return app.colors[d.id] || color_countries;
      }).style('display', function (d) {
        var to_display = _this2.x(d.id) != null;
        if (to_display) {
          displayed += 1;
          return 'initial';
        }
        return 'none';
      }).on('mouseover', function () {
        svg_bar.select('.tooltip').style('display', null);
      }).on('mouseout', function () {
        svg_bar.select('.tooltip').style('display', 'none');
      }).on('mousemove', function (d) {
        var tooltip = svg_bar.select('.tooltip');
        tooltip.select('rect').attrs({ width: 0, height: 0 });
        tooltip.select('text.id_feature').text('' + d.id);
        tooltip.select('text.value_feature1').text(math_round(d[self.ratio_to_use] * 10) / 10 + ' ' + self.unit);
        var b = tooltip.node().getBoundingClientRect();
        tooltip.select('rect').attrs({
          width: b.width + 20,
          height: b.height + 7.5
        });
        tooltip.attr('transform', 'translate(' + [d3.mouse(this)[0] - 5, d3.mouse(this)[1] - 45] + ')');
      });

      bar.enter().insert('rect', '.mean').attrs(function (d) {
        return {
          class: 'bar',
          x: _this2.x(d.id),
          y: _this2.y(d[ratio_to_use]),
          width: _this2.x.bandwidth(),
          height: height - _this2.y(d[ratio_to_use])
        };
      });

      bar.exit().remove();

      this._focus.select('.axis--y').call(this.yAxis);

      var axis_x = this._focus.select('.axis--x').attr('font-size', function () {
        return displayed > 75 ? 6 : 10;
      }).call(this.xAxis);
      axis_x.selectAll('text').attrs(function () {
        if (displayed > 100) {
          return { dx: '-0.8em', dy: '0.15em', transform: 'rotate(-65)' };
        } else if (displayed > 20) {
          return { dx: '-0.8em', dy: '0.15em', transform: 'rotate(-65)' };
        } else {
          return { dx: '0', dy: '0.71em', transform: null };
        }
      }).style('text-anchor', function () {
        return displayed > 20 ? 'end' : 'middle';
      });

      this.updateMiniBars();
    }
  }, {
    key: 'updateMiniBars',
    value: function updateMiniBars() {
      var _this3 = this;

      var ratio_to_use = this.ratio_to_use;
      var mini_bars = this.context.selectAll('.bar').data(this.data);

      mini_bars.attrs(function (d) {
        return {
          x: _this3.x2(d.id),
          y: _this3.y2(d[ratio_to_use]),
          width: _this3.x2.bandwidth(),
          height: height2 - _this3.y2(d[ratio_to_use])
        };
      }).style('fill', function (d) {
        return d.id !== app.current_config.my_region ? color_countries : color_highlight;
      });

      mini_bars.enter().insert('rect').attrs(function (d) {
        return {
          class: 'bar',
          x: _this3.x2(d.id),
          y: _this3.y2(d[ratio_to_use]),
          width: _this3.x2.bandwidth(),
          height: height2 - _this3.y2(d[ratio_to_use])
        };
      }).style('fill', function (d) {
        return d.id !== app.current_config.my_region ? color_countries : color_highlight;
      });
      mini_bars.exit().remove();
    }
  }, {
    key: 'updateMapRegio',
    value: function updateMapRegio() {
      var _this4 = this;

      this.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        return _this4.current_ids.indexOf(d.properties[app.current_config.id_field_geom]) > -1 ? app.colors[d.properties[app.current_config.id_field_geom]] || color_countries : color_disabled;
      });
    }
  }, {
    key: 'selectAboveMyRegion',
    value: function selectAboveMyRegion() {
      var my_rank = this.data.map(function (d, i) {
        return [d.id, i];
      }).filter(function (d) {
        return d[0] === app.current_config.my_region;
      })[0][1];
      app.colors = {};
      app.colors[app.current_config.my_region] = color_highlight;
      if (!this.serie_inversed) {
        current_range_brush = [my_rank, this.data.length];
        this.data.filter(function (d, i) {
          return i > my_rank;
        }).map(function (d) {
          return d.id;
        }).forEach(function (ft) {
          app.colors[ft] = color_sup;
        });
      } else {
        current_range_brush = [0, my_rank];
        this.data.filter(function (d, i) {
          return i < my_rank;
        }).map(function (d) {
          return d.id;
        }).forEach(function (ft) {
          app.colors[ft] = color_inf;
        });
      }
      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.update();
      // svg_bar.select('.brush_top').call(this.brush_top.move, current_range_brush.map(d => d * (width / nbFt)));
      this.updateMapRegio();
    }
  }, {
    key: 'selectBelowMyRegion',
    value: function selectBelowMyRegion() {
      var my_rank = this.data.map(function (d, i) {
        return [d.id, i];
      }).filter(function (d) {
        return d[0] === app.current_config.my_region;
      })[0][1];

      app.colors = {};
      app.colors[app.current_config.my_region] = color_highlight;
      if (!this.serie_inversed) {
        current_range_brush = [0, my_rank];
        this.data.filter(function (d, i) {
          return i < my_rank;
        }).map(function (d) {
          return d.id;
        }).forEach(function (ft) {
          app.colors[ft] = color_inf;
        });
      } else {
        current_range_brush = [my_rank, this.data.length];
        this.data.filter(function (d, i) {
          return i > my_rank;
        }).map(function (d) {
          return d.id;
        }).forEach(function (ft) {
          app.colors[ft] = color_sup;
        });
      }
      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.update();
      // svg_bar.select('.brush_top').call(this.brush_top.move, current_range_brush.map(d => d * (width / nbFt)));
      this.updateMapRegio();
    }
  }, {
    key: 'selectAboveMean',
    value: function selectAboveMean() {
      var _this5 = this;

      var mean_rank = getMeanRank(this.mean_value, this.ratio_to_use);
      var ratio_to_use = this.ratio_to_use;
      var ref_value = this.ref_value;

      app.colors = {};
      app.colors[app.current_config.my_region] = color_highlight;
      if (!this.serie_inversed) {
        current_range_brush = [mean_rank, this.data.length];
        this.data.filter(function (d) {
          return d[ratio_to_use] > _this5.mean_value;
        }).forEach(function (ft) {
          if (ft[ratio_to_use] > ref_value) app.colors[ft.id] = color_sup;else app.colors[ft.id] = color_inf;
        });
      } else {
        current_range_brush = [0, mean_rank + 1];
        this.data.filter(function (d) {
          return d[ratio_to_use] > _this5.mean_value;
        }).forEach(function (ft) {
          if (ft[ratio_to_use] > ref_value) app.colors[ft.id] = color_inf;else app.colors[ft.id] = color_sup;
        });
      }
      app.colors[app.current_config.my_region] = color_highlight;
      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.update();
      // svg_bar.select('.brush_top').call(this.brush_top.move, current_range_brush.map(d => d * (width / nbFt)));
      this.updateMapRegio();
    }
  }, {
    key: 'selectBelowMean',
    value: function selectBelowMean() {
      var _this6 = this;

      var mean_rank = getMeanRank(this.mean_value, this.ratio_to_use);
      var ratio_to_use = this.ratio_to_use;
      var ref_value = this.ref_value;
      app.colors = {};
      if (!this.serie_inversed) {
        current_range_brush = [0, mean_rank];
        this.data.filter(function (d) {
          return d[ratio_to_use] < _this6.mean_value;
        }).forEach(function (ft) {
          if (ft[ratio_to_use] < ref_value) app.colors[ft.id] = color_inf;else app.colors[ft.id] = color_sup;
        });
      } else {
        current_range_brush = [mean_rank + 1, this.data.length];
        this.data.filter(function (d) {
          return d[ratio_to_use] < _this6.mean_value;
        }).forEach(function (ft) {
          if (ft[ratio_to_use] < ref_value) app.colors[ft.id] = color_sup;else app.colors[ft.id] = color_inf;
        });
      }
      app.colors[app.current_config.my_region] = color_highlight;
      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.update();
      // svg_bar.select('.brush_top').call(this.brush_top.move, current_range_brush.map(d => d * (width / nbFt)));
      this.updateMapRegio();
    }
  }, {
    key: 'handle_brush_map',
    value: function handle_brush_map(event) {
      var _this7 = this;

      if (!event || !event.selection) {
        this.last_map_selection = undefined;
        return;
      }
      var ratio_to_use = this.ratio_to_use;
      var ref_value = this.ref_value;
      var self = this;
      svg_bar.select('.brush_top').call(self.brush_top.move, null);

      var _event$selection = slicedToArray(event.selection, 2),
          topleft = _event$selection[0],
          bottomright = _event$selection[1];

      this.last_map_selection = [topleft, bottomright];
      // const transform = svg_map.node().__zoom;
      // topleft[0] = (topleft[0] - transform.x) / transform.k;
      // topleft[1] = (topleft[1] - transform.y) / transform.k;
      // bottomright[0] = (bottomright[0] - transform.x) / transform.k;
      // bottomright[1] = (bottomright[1] - transform.y) / transform.k;
      var rect = new Rect(topleft, bottomright);
      app.colors = {};
      self.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        var id = d.properties[app.current_config.id_field_geom];
        if (id === app.current_config.my_region) {
          app.colors[id] = color_highlight;
          return color_highlight;
        } else if (self.current_ids.indexOf(id) < 0) {
          return color_disabled;
        }
        if (!this._pts) {
          this._pts = svgPathToCoords(this.getAttribute('d'), app.type_path);
        }
        var pts = this._pts;
        for (var ix = 0, nb_pts = pts.length; ix < nb_pts; ix++) {
          if (rect.contains(pts[ix])) {
            var value = d.properties[ratio_to_use];
            var color = comp(value, ref_value, this.serie_inversed);
            app.colors[id] = color;
            return color;
          }
        }
        return color_countries;
      });
      self._focus.selectAll('.bar').style('fill', function (d) {
        return app.colors[d.id] || color_countries;
      });
      var ids = Object.keys(app.colors);
      var ranks = ids.map(function (d) {
        return _this7.current_ids.indexOf(d.id) > -1;
      }).map(function (d) {
        return _this7.current_ranks[d];
      });
      if (ranks.length > 1) {
        var c1 = ranks[0] - 1;
        var c2 = ranks[ranks.length - 1];
        if (c1 < current_range[0] || c2 > current_range[1]) {
          current_range = [ranks[0] - 1, ranks[ranks.length - 1]];
          svg_bar.select('.brush_bottom').call(self.brush_bottom.move, [current_range[0] * (width / nbFt), current_range[1] * (width / nbFt)]);
        }
      } else {
        current_range = [0, this.data.length];
        svg_bar.select('.brush_bottom').call(self.brush_bottom.move, self.x.range());
      }
    }
  }, {
    key: 'handleClickMap',
    value: function handleClickMap(d, parent) {
      var id = d.properties[app.current_config.id_field_geom];
      if (this.current_ids.indexOf(id) < 0 || id === app.current_config.my_region) return;
      if (app.colors[id] !== undefined) {
        app.colors[id] = undefined;
        d3.select(parent).attr('fill', color_countries);
      } else {
        var color = comp(d.properties[this.ratio_to_use], this.ref_value, this.serie_inversed);
        app.colors[id] = color;
        d3.select(parent).attr('fill', color);
      }
      this.update();
    }
  }, {
    key: 'updateChangeRegion',
    value: function updateChangeRegion() {
      if (app.current_config.filter_key !== undefined) {
        this.changeStudyZone();
      } else {
        this.ref_value = this.data.find(function (ft) {
          return ft.id === app.current_config.my_region;
        })[this.ratio_to_use];
        this.update();
        this.updateContext(0, this.data.length);
        this.updateMapRegio();
        this.updateTableStats();
        svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x.range());
        this.map_elem.removeRectBrush();
        this.map_elem.updateLegend();
      }
    }
  }, {
    key: 'updateMeanValue',
    value: function updateMeanValue() {
      var y = this.y;
      var ratio_to_use = this.ratio_to_use;
      var grp_mean = this._focus.select('.mean');
      this.mean_value = getMean(this.data.map(function (d) {
        return d[ratio_to_use];
      }));
      grp_mean.select('text').attr('y', y(this.mean_value) + 20).text('Valeur moyenne : ' + Math.round(this.mean_value * 10) / 10 + ' ' + this.unit);
      grp_mean.select('.mean_line').attrs({ y1: y(this.mean_value), y2: y(this.mean_value) });
      grp_mean.select('.transp_mean_line').attrs({ y1: y(this.mean_value), y2: y(this.mean_value) });
    }
  }, {
    key: 'changeStudyZone',
    value: function changeStudyZone() {
      var ratio_to_use = this.ratio_to_use;
      this.data = app.current_data.filter(function (ft) {
        return !!ft[ratio_to_use];
      });
      this.ref_value = this.data.find(function (ft) {
        return ft.id === app.current_config.my_region;
      })[ratio_to_use];
      this.current_ranks = this.data.map(function (d, i) {
        return i + 1;
      });
      if (this.serie_inversed) {
        this.data.sort(function (a, b) {
          return b[ratio_to_use] - a[ratio_to_use];
        });
      } else {
        this.data.sort(function (a, b) {
          return a[ratio_to_use] - b[ratio_to_use];
        });
      }
      this.current_ids = this.data.map(function (d) {
        return d.id;
      });
      nbFt = this.data.length;
      this.ref_value = this.data.find(function (ft) {
        return ft.id === app.current_config.my_region;
      })[ratio_to_use];
      this.x.domain(this.current_ids);
      // const min_serie = d3.min(this.data, d => d[ratio_to_use]);
      var max_serie = d3.max(this.data, function (d) {
        return d[ratio_to_use];
      });
      // const offset_y = (max_serie - min_serie) / 20;
      this.y.domain([
      // min_serie - offset_y, max_serie,
      0, max_serie]);
      this.x2.domain(this.x.domain());
      this.y2.domain(this.y.domain());
      this.updateMeanValue();
      this.update();
      this.updateContext(0, this.data.length);

      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.map_elem.removeRectBrush();
      app.colors = {};
      app.colors[app.current_config.my_region] = color_highlight;
      this.updateTableStats();
      this.updateCompletude();
      this.updateMapRegio();
    }
  }, {
    key: 'addVariable',
    value: function addVariable$$1(code_variable, name_variable) {
      // Add the variable to the input element allowing to choose variables:
      this.selec_var.append('option').attr('value', code_variable).text(name_variable);

      // And use it immediatly:
      this.selec_var.node().value = code_variable;
      this.selec_var.dispatch('change');
    }
  }, {
    key: 'removeVariable',
    value: function removeVariable$$1(code_variable) {
      // Add the variable to the input element allowing to choose variables:
      this.selec_var.select('option[value=' + code_variable + ']').remove();
      if (this.ratio_to_use === code_variable) {
        this.selec_var.node().value = this.selec_var.select('option').node().value;
        this.selec_var.dispatch('change');
      }
    }
  }, {
    key: 'changeVariable',
    value: function changeVariable(code_variable) {
      this.ratio_to_use = code_variable;
      this.unit = exports.variables_info.find(function (ft) {
        return ft.ratio === code_variable;
      }).unit;
    }
  }, {
    key: 'remove',
    value: function remove() {
      this._focus.remove();
      this.context.remove();
      this.selec_var.remove();
      this.table_stats.remove();
      this.table_stats = null;
      this.map_elem.unbindBrushClick();
      this.map_elem = null;
      this.completude.remove();
      this.completude = null;
      svg_bar.html('');
    }
  }, {
    key: 'bindMap',
    value: function bindMap(map_elem) {
      this.map_elem = map_elem;
      this.map_elem.resetColors(this.current_ids);
    }
  }, {
    key: 'updateTableStats',
    value: function updateTableStats() {
      this.table_stats.removeAll();
      this.table_stats.addFeature(this.prepareTableStat());
    }
  }, {
    key: 'prepareTableStat',
    value: function prepareTableStat() {
      var _this8 = this;

      var values = this.data.map(function (d) {
        return d[_this8.ratio_to_use];
      });
      return {
        Min: d3.min(values),
        Max: d3.max(values),
        Moyenne: getMean(values),
        id: this.ratio_to_use,
        Variable: this.ratio_to_use,
        'Ma rÃ©gion': this.ref_value
      };
    }
  }, {
    key: 'makeTableStat',
    value: function makeTableStat() {
      var feature = this.prepareTableStat();
      this.table_stats = new TableResumeStat([feature]);
    }
  }]);
  return BarChart1;
}();

var contextMenu = function () {
  function contextMenu(items) {
    classCallCheck(this, contextMenu);

    if (items) {
      this.setItems(items);
    } else {
      this.items = [];
    }
  }

  createClass(contextMenu, [{
    key: 'addItem',
    value: function addItem(item) {
      this.items.push({
        name: item.name,
        action: item.action
      });
    }
  }, {
    key: 'removeItem',
    value: function removeItem(name) {
      for (var i = this.items.length - 1; i > 0; i--) {
        if (this.items[i].name === name) {
          this.items.splice(i, 1);
          break;
        }
      }
    }
  }, {
    key: 'setItems',
    value: function setItems(items) {
      this.items = [];
      for (var i = 0, nb_items = items.length; i < nb_items; i++) {
        if (items[i].name && items[i].action) {
          this.addItem(items[i]);
        }
      }
    }
  }, {
    key: 'showMenu',
    value: function showMenu(event, parent, items, position) {
      var _this = this;

      if (event.preventDefault) event.preventDefault();
      if (event.stopPropagation) event.stopPropagation();
      if (this.DOMobj) {
        this.hideMenu();
        return;
      }
      if (items) {
        this.setItems(items);
      }

      this.initMenu(parent);
      if (!position) {
        this.DOMobj.style.top = event.clientY + document.body.scrollTop + 'px';
        this.DOMobj.style.left = event.clientX + 'px';
      } else {
        this.DOMobj.style.top = position[1] + 'px';
        this.DOMobj.style.left = position[0] + 'px';
      }
      this.displayed = true;
      setTimeout(function () {
        document.addEventListener('click', function () {
          return _this.hideMenu();
        });
      }, 150);
    }
  }, {
    key: 'hideMenu',
    value: function hideMenu() {
      if (this.DOMobj && this.DOMobj.parentElement && this.DOMobj.parentElement.removeChild) {
        this.DOMobj.parentElement.removeChild(this.DOMobj);
        this.DOMobj = null;
      }
      this.displayed = false;
      document.removeEventListener('click', this.hideMenu);
    }
  }, {
    key: 'initMenu',
    value: function initMenu(parent) {
      if (this.DOMobj && this.DOMobj.parentElement && this.DOMobj.parentElement.removeChild) {
        this.DOMobj.parentElement.removeChild(this.DOMobj);
        this.DOMobj = null;
      }
      var self = this;
      var menu = document.createElement('div');
      var list = document.createElement('ul');
      menu.className = 'context-menu';
      menu.appendChild(list);
      for (var i = 0, nb_item = this.items.length; i < nb_item; i++) {
        var item = document.createElement('li');
        item.setAttribute('data-index', i);
        item.innerHTML = '<span class="context-menu-item-name">' + this.items[i].name + '</span>';
        list.appendChild(item);
        item.onclick = function () {
          var ix = this.getAttribute('data-index');
          self.items[ix].action();
        };
      }
      this.DOMobj = menu;
      parent.appendChild(menu);
    }
  }]);
  return contextMenu;
}();

var svg_bar$1 = d3.select('#svg_bar');
var margin$1 = { top: 20, right: 20, bottom: 40, left: 40 };

var width$1 = +svg_bar$1.attr('width') - margin$1.left - margin$1.right;
var height$1 = +svg_bar$1.attr('height') - margin$1.top - margin$1.bottom;

/** Class representing a scatterplot */
var ScatterPlot2 = function () {
  /**
   * Create a the scatterplot on the `svg_bar` svg element previously defined
   * @param {Array} ref_data - A reference to the subset of the dataset to be used
   * to create the scatterplot (should contain at least two field flagged as ratio
   * in the `app.current_config.ratio` Object).
   */
  function ScatterPlot2(ref_data) {
    var _this = this;

    classCallCheck(this, ScatterPlot2);

    this.brushed = function () {
      if (d3.event && !d3.event.selection) {
        if (d3.event.type === 'end' && d3.event.sourceEvent.type === 'mouseup') {
          _this.map_elem.removeRectBrush();
        }
        app.colors = {};
        app.colors[app.current_config.my_region] = color_highlight;
        _this.updateLight();
        _this.updateMapRegio();
        return;
      }

      resetColors();
      // const self = this;

      var _d3$event$selection = slicedToArray(d3.event.selection, 2),
          topleft = _d3$event$selection[0],
          bottomright = _d3$event$selection[1];

      var range_x = [_this.x.invert(topleft[0]), _this.x.invert(bottomright[0])];
      var range_y = [_this.y.invert(bottomright[1]), _this.y.invert(topleft[1])];
      if (_this.xInversed) range_x.reverse();
      if (_this.yInversed) range_y.reverse();
      var t1 = void 0;
      var t2 = void 0;
      if (_this.type === 'value') {
        t1 = _this.variable1;
        t2 = _this.variable2;
      } else {
        t1 = _this.rank_variable1;
        t2 = _this.rank_variable2;
      }

      for (var i = 0, len_i = _this.data.length; i < len_i; i++) {
        var ft = _this.data[i];
        if (ft[t1] > range_x[0] && ft[t1] < range_x[1] && ft[t2] > range_y[0] && ft[t2] < range_y[1]) {
          app.colors[ft.id] = comp2(ft[_this.variable1], ft[_this.variable2], _this.ref_value1, _this.ref_value2, _this.xInversed, _this.yInversed);
        }
      }
      app.colors[app.current_config.my_region] = color_highlight;
      _this.updateLight();
      _this.updateMapRegio();
      _this.map_elem.removeRectBrush();
    };

    // Set the minimum number of variables to keep selected for this kind of chart:
    app.current_config.nb_var = 2;
    var self = this;
    this.type = 'rank';
    this.variable1 = app.current_config.ratio[0];
    this.variable2 = app.current_config.ratio[1];
    this.rank_variable1 = 'pr_' + this.variable1;
    this.rank_variable2 = 'pr_' + this.variable2;
    this.unit1 = exports.variables_info.find(function (ft) {
      return ft.ratio === _this.variable1;
    }).unit;
    this.unit2 = exports.variables_info.find(function (ft) {
      return ft.ratio === _this.variable2;
    }).unit;
    this.pretty_name1 = app.current_config.ratio_pretty_name[0];
    this.pretty_name2 = app.current_config.ratio_pretty_name[1];
    this.data = ref_data.filter(function (ft) {
      return !!ft[_this.variable1] && !!ft[_this.variable2];
    }).map(function (d) {
      var res = { id: d.id };
      res[_this.variable1] = d[_this.variable1];
      res[_this.variable2] = d[_this.variable2];
      return res;
    });
    this.current_ids = this.data.map(function (d) {
      return d.id;
    });
    resetColors(this.current_ids);
    this.nbFt = this.data.length;
    computePercentileRank(this.data, this.variable1, this.rank_variable1);
    computePercentileRank(this.data, this.variable2, this.rank_variable2);

    this.x = d3.scaleLinear().range([0, width$1]).nice();
    this.y = d3.scaleLinear().range([height$1, 0]).nice();
    this.xAxis = d3.axisBottom(this.x).ticks(12);
    this.yAxis = d3.axisLeft(this.y).ticks(12 * height$1 / width$1);
    this.xAxis2 = d3.axisBottom(this.x).ticks(12);
    this.yAxis2 = d3.axisLeft(this.y).ticks(12 * height$1 / width$1);

    this.brush = d3.brush().extent([[0, 0], [width$1, height$1]]).on('brush end', this.brushed);

    this.xInversed = false;
    this.yInversed = false;
    this.ref_value1 = this.data.find(function (d) {
      return d.id === app.current_config.my_region;
    })[this.variable1];
    this.ref_value2 = this.data.find(function (d) {
      return d.id === app.current_config.my_region;
    })[this.variable2];

    this.plot = svg_bar$1.append('g').attr('transform', 'translate(' + [margin$1.left, margin$1.top] + ')');

    this.plot.append('defs').append('svg:clipPath').attr('id', 'clip').append('svg:rect').attrs({
      width: width$1,
      height: height$1,
      x: 0,
      y: 0
    });

    this.scatter = this.plot.append('g').attr('id', 'scatterplot').attr('clip-path', 'url(#clip)');

    this.scatter.append('g').attr('class', 'brush').call(this.brush);

    this.makeGrid();

    var groupe_line_mean = this.plot.append('g').attr('clip-path', 'url(#clip)').attr('class', 'mean');
    groupe_line_mean.append('line').attr('clip-path', 'url(#clip)').attrs({
      id: 'mean_x',
      x1: this.x(this.mean_variable1),
      x2: this.x(this.mean_variable1),
      y1: 0,
      y2: width$1,
      'stroke-dasharray': '10, 5',
      'stroke-width': '2px'
    }).style('stroke', 'red');
    groupe_line_mean.append('line').style('stroke', 'red').attrs({
      id: 'mean_y',
      x1: 0,
      x2: width$1,
      y1: this.y(this.mean_variable2),
      y2: this.y(this.mean_variable2),
      'clip-path': 'url(#clip)',
      'stroke-dasharray': '10, 5',
      'stroke-width': '2px'
    });

    this.plot.append('g').attrs({
      class: 'x axis', id: 'axis--x', transform: 'translate(0, ' + height$1 + ')'
    }).call(this.xAxis);

    this.plot.append('g').attrs({ class: 'y axis', id: 'axis--y', opacity: 0.9 }).call(this.yAxis);

    // Prepare the tooltip displayed on mouseover:
    prepareTooltip(this.plot);

    this.prepareTitleAxis();

    svg_bar$1.append('image').attrs({
      x: margin$1.left + width$1 / 2 - 20 - svg_bar$1.select('#title-axis-x').node().getBoundingClientRect().width / 2,
      y: margin$1.top + height$1 + margin$1.bottom / 2 - 2.5,
      width: 15,
      height: 15,
      'xlink:href': 'img/reverse_plus.png',
      id: 'img_reverse_x'
    }).on('click', function () {
      _this.xInversed = !_this.xInversed;
      // for (let i = 0; i < this.nbFt; i++) {
      //   self.data[i][self.rank_variable1] = 100 - self.data[i][self.rank_variable1];
      // }

      if (_this.last_map_selection) {
        _this.map_elem.callBrush(_this.last_map_selection);
      } else {
        _this.update();
      }
    });

    svg_bar$1.append('image').attrs({
      x: margin$1.left / 2 - 20,
      y: margin$1.top + height$1 / 2 + svg_bar$1.select('#title-axis-y').node().getBoundingClientRect().height / 2 + 5,
      width: 15,
      height: 15,
      'xlink:href': 'img/reverse_plus.png',
      id: 'img_reverse_y'
    }).on('click', function () {
      _this.yInversed = !_this.yInversed;
      // for (let i = 0; i < this.nbFt; i++) {
      //   this.data[i][this.rank_variable2] = 100 - this.data[i][this.rank_variable2];
      // }
      if (_this.last_map_selection) {
        _this.map_elem.callBrush(_this.last_map_selection);
      } else {
        _this.update();
      }
    });

    this.completude = new CompletudeSection(svg_bar$1.node().parentElement);
    this.completude.update(calcCompletudeSubset(app, [this.variable1, this.variable2], 'array'), calcPopCompletudeSubset(app, [this.variable1, this.variable2]));

    // Deactivate the rect brush selection on the map
    // while the user press the Ctrl key:
    document.onkeydown = function (event) {
      if (event && event.key === 'Control') {
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', 'none');
      }
    };
    // Reactivate the rect brush selection on the map
    // when the user doesn't press the Ctrl key anymore
    document.onkeyup = function (event) {
      if (event && event.key === 'Control') {
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', null);
      }
    };

    var menu_selection = d3.select(svg_bar$1.node().parentElement).append('div').attr('id', 'menu_selection').styles({ top: '-20px', 'margin-left': '30px', position: 'relative' });

    var chart_type = menu_selection.append('p').styles({
      float: 'right',
      display: 'inline-grid'
    });

    chart_type.append('span').attrs({
      id: 'ind_raw_values',
      class: 'choice_ind'
    }).text('Valeurs brutes');

    chart_type.append('span').attrs({
      id: 'ind_ranks',
      class: 'choice_ind active'
    }).text('Valeurs de rang');

    this.bindMenu();

    // this.update();
    this.makeTableStat();
  }

  /**
   * Create the underlying grey grid
   */


  createClass(ScatterPlot2, [{
    key: 'makeGrid',
    value: function makeGrid() {
      this.plot.insert('g', '#scatterplot').attrs({
        class: 'grid grid-x', transform: 'translate(0, ' + height$1 + ')'
      }).call(this.xAxis2.tickSize(-height$1).tickFormat(''));
      this.plot.insert('g', '#scatterplot').attr('class', 'grid grid-y').call(this.yAxis2.tickSize(-width$1).tickFormat(''));
    }
  }, {
    key: 'updateAxisGrid',
    value: function updateAxisGrid() {
      this.plot.select('.grid-x').transition().duration(125).call(this.xAxis2.tickSize(-height$1).tickFormat(''));
      this.plot.select('.grid-y').transition().duration(125).call(this.yAxis2.tickSize(-width$1).tickFormat(''));
      this.plot.select('#axis--x').transition().duration(125).call(this.xAxis);
      this.plot.select('#axis--y').transition().duration(125).call(this.yAxis);
      this.plot.selectAll('.grid').selectAll('line').attr('stroke', 'lightgray');
    }

    /**
     * Create the title of the X and Y axis with the associated context menu
     * displayed when they are clicked and allowing to select an other variable
     * for this axis.
     */

  }, {
    key: 'prepareTitleAxis',
    value: function prepareTitleAxis() {
      var _this2 = this;

      var self = this;
      this.menuX = new contextMenu();
      this.menuY = new contextMenu();
      this.itemsX = app.current_config.ratio.filter(function (elem) {
        return elem !== _this2.variable2;
      }).map(function (elem) {
        return {
          name: elem,
          action: function action() {
            return _this2.changeVariableX(elem);
          }
        };
      });
      this.itemsY = app.current_config.ratio.filter(function (elem) {
        return elem !== _this2.variable1;
      }).map(function (elem) {
        return {
          name: elem,
          action: function action() {
            return _this2.changeVariableY(elem);
          }
        };
      });

      svg_bar$1.append('text').attrs({
        id: 'title-axis-x',
        x: margin$1.left + width$1 / 2,
        y: margin$1.top + height$1 + margin$1.bottom / 2 + 10
      }).styles({ 'font-family': 'sans-serif', 'font-size': '12px', 'text-anchor': 'middle' }).text(this.variable1).on('click', function () {
        var bbox = this.getBoundingClientRect();
        if (self.menuY.displayed) {
          self.menuY.hideMenu();
        }
        self.menuX.showMenu(d3.event, document.body, self.itemsX, [bbox.left - 20, bbox.top + 20]);
      });

      svg_bar$1.append('text').attrs({
        id: 'title-axis-y',
        x: margin$1.left / 2,
        y: margin$1.top + height$1 / 2 - 10,
        transform: 'rotate(-90, ' + margin$1.left / 2 + ', ' + (margin$1.top + height$1 / 2) + ')'
      }).styles({ 'font-family': 'sans-serif', 'font-size': '12px', 'text-anchor': 'middle' }).text(this.variable2).on('click', function () {
        var bbox = this.getBoundingClientRect();
        if (self.menuX.displayed) {
          self.menuX.hideMenu();
        }
        self.menuY.showMenu(d3.event, document.body, self.itemsY, [bbox.left, bbox.bottom + 10]);
      });
    }
  }, {
    key: 'updateLight',
    value: function updateLight() {
      var default_color = 'gray';
      this.scatter.selectAll('.dot').transition().duration(125).styles(function (d) {
        return {
          fill: app.colors[d.id] || default_color
        };
      });
    }
  }, {
    key: 'update',
    value: function update() {
      var _this3 = this;

      var self = this;
      var data = self.data;

      if (this.type === 'rank') {
        var rank_variable1 = this.rank_variable1;
        var rank_variable2 = this.rank_variable2;
        var range_x = this.xInversed ? d3.extent(this.data, function (d) {
          return d[rank_variable1];
        }).reverse() : d3.extent(this.data, function (d) {
          return d[rank_variable1];
        });
        var range_y = this.yInversed ? d3.extent(this.data, function (d) {
          return d[rank_variable2];
        }).reverse() : d3.extent(this.data, function (d) {
          return d[rank_variable2];
        });
        var serie_x = this.data.map(function (d) {
          return d[_this3.variable1];
        });
        var serie_y = this.data.map(function (d) {
          return d[_this3.variable2];
        });
        this.x.domain(range_x).nice();
        this.y.domain(range_y).nice();
        this.mean_variable1 = _getPR(getMean(serie_x), serie_x);
        this.mean_variable2 = _getPR(getMean(serie_y), serie_y);

        var x = this.x;
        var y = this.y;
        var default_color = 'gray';

        var dots = this.scatter.selectAll('.dot').data(data, function (d) {
          return d.id;
        });

        dots.transition().duration(125).attrs(function (d) {
          return {
            r: 5,
            cx: x(d[rank_variable1]),
            cy: y(d[rank_variable2])
          };
        }).styles(function (d) {
          return {
            fill: app.colors[d.id] || default_color
          };
        });

        dots.enter().insert('circle').transition().duration(125).styles(function (d) {
          return {
            fill: app.colors[d.id] || default_color
          };
        }).attrs(function (d) {
          return {
            r: 5,
            cx: x(d[rank_variable1]),
            cy: y(d[rank_variable2]),
            class: 'dot'
          };
        }).on('end', function () {
          _this3.scatter.selectAll('.dot').on('mouseover.tooltip', function () {
            svg_bar$1.select('.tooltip').style('display', null);
          }).on('mousemove.tooltip', function (d) {
            var tooltip = svg_bar$1.select('.tooltip').attr('transform', 'translate(' + [d3.mouse(this)[0] - 5, d3.mouse(this)[1] - 35] + ')');
            tooltip.select('rect').attrs({ width: 0, height: 0 });
            tooltip.select('text.id_feature').text('' + d.id);
            tooltip.select('text.value_feature1').text(self.variable1 + ' (rang) : ' + Math.round(d[self.rank_variable1] * 10) / 10 + '/100');
            tooltip.select('text.value_feature2').text(self.variable1 + ' (valeur) : ' + Math.round(d[self.variable1] * 10) / 10 + ' ' + self.unit1);
            tooltip.select('text.value_feature3').text(self.variable2 + ' (rang) : ' + Math.round(d[self.rank_variable2] * 10) / 10 + '/100');
            tooltip.select('text.value_feature4').text(self.variable2 + ' (valeur) : ' + Math.round(d[self.variable2] * 10) / 10 + ' ' + self.unit2);
            var b = tooltip.node().getBoundingClientRect();
            tooltip.select('rect').attrs({ width: b.width + 20, height: b.height + 7.5 });
          }).on('mouseout.tooltip', function () {
            svg_bar$1.select('.tooltip').style('display', 'none');
          });
        });
        dots.exit().transition().duration(125).remove();
      } else if (this.type === 'value') {
        var variable1 = this.variable1;
        var variable2 = this.variable2;
        var _serie_x = this.data.map(function (d) {
          return d[variable1];
        });
        var _serie_y = this.data.map(function (d) {
          return d[variable2];
        });
        var _range_x = this.xInversed ? d3.extent(_serie_x).reverse() : d3.extent(_serie_x);
        var _range_y = this.yInversed ? d3.extent(_serie_y).reverse() : d3.extent(_serie_y);
        this.x.domain(_range_x).nice();
        this.y.domain(_range_y).nice();
        this.mean_variable1 = getMean(_serie_x);
        this.mean_variable2 = getMean(_serie_y);

        var _x = this.x;
        var _y = this.y;
        var _default_color = 'gray';

        this.plot.select('#axis--x').transition().duration(125).call(this.xAxis);
        this.plot.select('#axis--y').transition().duration(125).call(this.yAxis);

        var _dots = this.scatter.selectAll('.dot').data(data, function (d) {
          return d.id;
        });

        _dots.transition().duration(125).attrs(function (d) {
          return {
            r: 5,
            cx: _x(d[variable1]),
            cy: _y(d[variable2])
          };
        }).styles(function (d) {
          return {
            fill: app.colors[d.id] || _default_color
          };
        });

        _dots.enter().insert('circle').transition().duration(125).styles(function (d) {
          return {
            fill: app.colors[d.id] || _default_color
          };
        }).attrs(function (d) {
          return {
            r: 5,
            cx: _x(d[variable1]),
            cy: _y(d[variable2]),
            class: 'dot'
          };
        }).on('end', function () {
          _this3.scatter.selectAll('.dot').on('mouseover.tooltip', function () {
            svg_bar$1.select('.tooltip').style('display', null);
          }).on('mousemove.tooltip', function (d) {
            var tooltip = svg_bar$1.select('.tooltip').attr('transform', 'translate(' + [d3.mouse(this)[0] - 5, d3.mouse(this)[1] - 35] + ')');
            tooltip.select('rect').attrs({ width: 0, height: 0 });
            tooltip.select('text.id_feature').text('' + d.id);
            tooltip.select('text.value_feature1').text(self.variable1 + ' (rang) : ' + Math.round(d[self.rank_variable1] * 10) / 10 + '/100');
            tooltip.select('text.value_feature2').text(self.variable1 + ' (valeur) : ' + Math.round(d[self.variable1] * 10) / 10 + ' ' + self.unit1);
            tooltip.select('text.value_feature3').text(self.variable2 + ' (rang) : ' + Math.round(d[self.rank_variable2] * 10) / 10 + '/100');
            tooltip.select('text.value_feature4').text(self.variable2 + ' (valeur) : ' + Math.round(d[self.variable2] * 10) / 10 + ' ' + self.unit2);
            var b = tooltip.node().getBoundingClientRect();
            tooltip.select('rect').attrs({ width: b.width + 20, height: b.height + 7.5 });
          }).on('mouseout.tooltip', function () {
            svg_bar$1.select('.tooltip').style('display', 'none');
          });
        });

        _dots.exit().transition().duration(125).remove();
      }
      this.updateMeanValue();
      this.updateAxisGrid();
    }
  }, {
    key: 'updateCompletude',
    value: function updateCompletude() {
      this.completude.update(calcCompletudeSubset(app, [this.variable1, this.variable2], 'array'), calcPopCompletudeSubset(app, [this.ratio_to_use]));
    }
  }, {
    key: 'updateMapRegio',
    value: function updateMapRegio() {
      var _this4 = this;

      if (!this.map_elem) return;
      this.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        return _this4.current_ids.indexOf(d.properties[app.current_config.id_field_geom]) > -1 ? app.colors[d.properties[app.current_config.id_field_geom]] || color_countries : color_disabled;
      });
    }
  }, {
    key: 'handle_brush_map',
    value: function handle_brush_map(event) {
      if (!event || !event.selection) {
        this.last_map_selection = undefined;
        return;
      }
      svg_bar$1.select('.brush').call(this.brush.move, null);
      var self = this;

      var _event$selection = slicedToArray(event.selection, 2),
          topleft = _event$selection[0],
          bottomright = _event$selection[1];

      this.last_map_selection = [topleft, bottomright];
      var rect = new Rect(topleft, bottomright);
      app.colors = {};
      self.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        var id = d.properties[app.current_config.id_field_geom];
        if (id === app.current_config.my_region) {
          app.colors[id] = color_highlight;
          return color_highlight;
        } else if (self.current_ids.indexOf(id) < 0) {
          return color_disabled;
        }
        if (!this._pts) {
          this._pts = svgPathToCoords(this.getAttribute('d'), app.type_path);
        }
        var pts = this._pts;
        for (var ix = 0, nb_pts = pts.length; ix < nb_pts; ix++) {
          if (rect.contains(pts[ix])) {
            var value1 = d.properties[self.variable1];
            var value2 = d.properties[self.variable2];
            var color = comp2(value1, value2, self.ref_value1, self.ref_value2, self.xInversed, self.yInversed);
            app.colors[id] = color;
            return color;
          }
        }
        return color_countries;
      });
      self.updateLight();
    }
  }, {
    key: 'handleClickMap',
    value: function handleClickMap(d, parent) {
      var id = d.properties[app.current_config.id_field_geom];
      if (this.current_ids.indexOf(id) < 0 || id === app.current_config.my_region) return;
      if (app.colors[id] !== undefined) {
        // Change its color in the global colors object:
        app.colors[id] = undefined;
        // Change the color on the map:
        d3.select(parent).attr('fill', color_countries);
      } else {
        var value1 = d.properties[this.variable1];
        var value2 = d.properties[this.variable2];
        var color = comp2(value1, value2, this.ref_value1, this.ref_value2, this.xInversed, this.yInversed);
        app.colors[id] = color;
        // Change the color on the map:
        d3.select(parent).attr('fill', color);
        // Add the clicked feature on the colored selection on the chart:
      }
      this.updateLight();
    }
  }, {
    key: 'updateMeanValue',
    value: function updateMeanValue() {
      var _this5 = this;

      if (this.type === 'value') {
        this.mean_variable1 = getMean(this.data.map(function (d) {
          return d[_this5.variable1];
        }));
        this.mean_variable2 = getMean(this.data.map(function (d) {
          return d[_this5.variable2];
        }));
      } else if (this.type === 'rank') {
        this.mean_variable1 = _getPR(getMean(this.data.map(function (d) {
          return d[_this5.variable1];
        })), this.data.map(function (d) {
          return d[_this5.variable1];
        }));
        this.mean_variable2 = _getPR(getMean(this.data.map(function (d) {
          return d[_this5.variable2];
        })), this.data.map(function (d) {
          return d[_this5.variable2];
        }));
      }
      var grp_mean = this.plot.select('g.mean');
      grp_mean.select('#mean_x').transition().duration(125).attrs({
        x1: this.x(this.mean_variable1),
        x2: this.x(this.mean_variable1)
      });
      grp_mean.select('#mean_y').transition().duration(125).attrs({
        y1: this.y(this.mean_variable2),
        y2: this.y(this.mean_variable2)
      });
    }
  }, {
    key: 'updateChangeRegion',
    value: function updateChangeRegion() {
      if (app.current_config.filter_key !== undefined) {
        this.changeStudyZone();
      } else {
        this.ref_value1 = this.data.find(function (d) {
          return d.id === app.current_config.my_region;
        })[this.variable1];
        this.ref_value2 = this.data.find(function (d) {
          return d.id === app.current_config.my_region;
        })[this.variable2];
        this.map_elem.removeRectBrush();
        this.map_elem.updateLegend();
        this.map_elem.resetColors(this.current_ids);
        this.update();
      }
    }
  }, {
    key: 'changeStudyZone',
    value: function changeStudyZone() {
      var _this6 = this;

      this.data = app.current_data.filter(function (ft) {
        return !!ft[_this6.variable1] && !!ft[_this6.variable2];
      }).map(function (d) {
        var res = { id: d.id };
        res[_this6.variable1] = d[_this6.variable1];
        res[_this6.variable2] = d[_this6.variable2];
        return res;
      });
      this.current_ids = this.data.map(function (d) {
        return d.id;
      });
      resetColors();
      this.nbFt = this.data.length;
      computePercentileRank(this.data, this.variable1, this.rank_variable1);
      computePercentileRank(this.data, this.variable2, this.rank_variable2);

      this.xInversed = false;
      this.yInversed = false;
      var tmp_my_region = this.data.filter(function (d) {
        return d.id === app.current_config.my_region;
      })[0];
      this.ref_value1 = tmp_my_region[this.variable1];
      this.ref_value2 = tmp_my_region[this.variable2];

      this.map_elem.removeRectBrush();
      this.updateItemsCtxMenu();
      this.updateMapRegio();
      this.updateTableStat();
      this.updateCompletude();
      this.update();
    }
  }, {
    key: 'changeVariableX',
    value: function changeVariableX(code_variable) {
      var _this7 = this;

      this.variable1 = code_variable;
      this.rank_variable1 = 'pr_' + this.variable1;
      var var_info = exports.variables_info.find(function (ft) {
        return ft.ratio === code_variable;
      });
      this.pretty_name1 = var_info.name;
      this.unit1 = var_info.unit;
      svg_bar$1.select('#title-axis-x').text(code_variable);
      // TODO: Also change the position of the button alowing to inverse the serie
      this.updateItemsCtxMenu();
      this.data = app.current_data.filter(function (ft) {
        return !!ft[_this7.variable1] && !!ft[_this7.variable2];
      }).map(function (d) {
        var res = { id: d.id };
        res[_this7.variable1] = d[_this7.variable1];
        res[_this7.variable2] = d[_this7.variable2];
        return res;
      });
      this.current_ids = this.data.map(function (d) {
        return d.id;
      });
      resetColors();
      this.nbFt = this.data.length;
      computePercentileRank(this.data, this.variable1, this.rank_variable1);
      computePercentileRank(this.data, this.variable2, this.rank_variable2);
      this.ref_value1 = this.data.find(function (d) {
        return d.id === app.current_config.my_region;
      })[this.variable1];
      this.updateCompletude();
      this.updateMapRegio();
      this.updateTableStat();
      this.update();
    }
  }, {
    key: 'changeVariableY',
    value: function changeVariableY(code_variable) {
      var _this8 = this;

      this.variable2 = code_variable;
      this.rank_variable2 = 'pr_' + this.variable2;
      var var_info = exports.variables_info.find(function (ft) {
        return ft.ratio === code_variable;
      });
      this.pretty_name2 = var_info.name;
      this.unit2 = var_info.unit;
      svg_bar$1.select('#title-axis-y').text(code_variable);
      // TODO: Also change the position of the button alowing to inverse the serie
      this.updateItemsCtxMenu();
      this.data = app.current_data.filter(function (ft) {
        return !!ft[_this8.variable1] && !!ft[_this8.variable2];
      }).map(function (d) {
        var res = { id: d.id };
        res[_this8.variable1] = d[_this8.variable1];
        res[_this8.variable2] = d[_this8.variable2];
        return res;
      });
      this.current_ids = this.data.map(function (d) {
        return d.id;
      });
      resetColors();
      this.nbFt = this.data.length;
      computePercentileRank(this.data, this.variable1, this.rank_variable1);
      computePercentileRank(this.data, this.variable2, this.rank_variable2);
      this.ref_value2 = this.data.find(function (d) {
        return d.id === app.current_config.my_region;
      })[this.variable2];
      this.updateCompletude();
      this.updateMapRegio();
      this.updateTableStat();
      this.update();
    }
  }, {
    key: 'updateItemsCtxMenu',
    value: function updateItemsCtxMenu() {
      var _this9 = this;

      this.itemsX = app.current_config.ratio.filter(function (elem) {
        return elem !== _this9.variable2;
      }).map(function (elem) {
        return {
          name: elem,
          action: function action() {
            return _this9.changeVariableX(elem);
          }
        };
      });
      this.itemsY = app.current_config.ratio.filter(function (elem) {
        return elem !== _this9.variable1;
      }).map(function (elem) {
        return {
          name: elem,
          action: function action() {
            return _this9.changeVariableY(elem);
          }
        };
      });
    }
  }, {
    key: 'addVariable',
    value: function addVariable$$1(code_variable, name_variable) {
      var _this10 = this;

      this.itemsX.push({
        name: code_variable,
        action: function action() {
          return _this10.changeVariableX(code_variable);
        }
      });
      this.itemsY.push({
        name: code_variable,
        action: function action() {
          return _this10.changeVariableY(code_variable);
        }
      });
    }
  }, {
    key: 'removeVariable',
    value: function removeVariable$$1(code_variable) {
      var _this11 = this;

      // Remove the variable from the X and Y list of items:
      for (var i = this.itemsX.length - 1; i > -1; i--) {
        if (this.itemsX[i].name === code_variable) {
          this.itemsX.splice(i, 1);
          break;
        }
      }
      for (var _i = this.itemsY.length - 1; _i > -1; _i--) {
        if (this.itemsY[_i].name === code_variable) {
          this.itemsY.splice(_i, 1);
          break;
        }
      }

      // If the variable to remove was currently used for drawing this chart,
      // set a new variable for this axis and redraw the chart:
      if (code_variable === this.variable1) {
        var new_var_x = this.itemsX.filter(function (ft) {
          return ft.name !== _this11.variable2;
        })[0].name;
        this.changeVariableX(new_var_x);
      } else if (code_variable === this.variable2) {
        var new_var_y = this.itemsY.filter(function (ft) {
          return ft.name !== _this11.variable1;
        })[0].name;
        this.changeVariableY(new_var_y);
      }
    }
  }, {
    key: 'remove',
    value: function remove() {
      this.table_stats.remove();
      this.map_elem.unbindBrushClick();
      this.map_elem = null;
      this.completude.remove();
      this.completude = null;
      svg_bar$1.html('');
    }
  }, {
    key: 'bindMap',
    value: function bindMap(map_elem) {
      this.map_elem = map_elem;
      this.updateMapRegio();
      this.update();
    }
  }, {
    key: 'bindMenu',
    value: function bindMenu() {
      var self = this;
      var menu = d3.select('#menu_selection');

      menu.select('#ind_raw_values').on('click', function () {
        if (this.classList.contains('active')) {
          return;
        }
        self.type = 'value';
        this.classList.add('active');
        menu.select('#ind_ranks').attr('class', 'choice_ind');
        // self.g_bar.selectAll('g').remove();
        self.update();
      });

      menu.select('#ind_ranks').on('click', function () {
        if (this.classList.contains('active')) {
          return;
        }
        self.type = 'rank';
        this.classList.add('active');
        menu.select('#ind_raw_values').attr('class', 'choice_ind');
        // self.g_bar.selectAll('rect').remove();
        self.update();
      });
    }
  }, {
    key: 'prepareTableStat',
    value: function prepareTableStat() {
      var _this12 = this;

      var values1 = this.data.map(function (d) {
        return d[_this12.variable1];
      });
      var values2 = this.data.map(function (d) {
        return d[_this12.variable2];
      });
      var features = [{
        Min: d3.min(values1),
        Max: d3.max(values1),
        Moyenne: getMean(values1),
        id: this.variable1,
        Variable: this.variable1,
        'Ma rÃ©gion': this.ref_value1
      }, {
        Min: d3.min(values2),
        Max: d3.max(values2),
        Moyenne: getMean(values2),
        id: this.variable2,
        Variable: this.variable2,
        'Ma rÃ©gion': this.ref_value2
      }];
      return features;
    }
  }, {
    key: 'updateTableStat',
    value: function updateTableStat() {
      this.table_stats.removeAll();
      this.table_stats.addFeatures(this.prepareTableStat());
    }
  }, {
    key: 'makeTableStat',
    value: function makeTableStat() {
      var features = this.prepareTableStat();
      this.table_stats = new TableResumeStat(features);
    }
  }]);
  return ScatterPlot2;
}();

var svg_bar$2 = d3.select('#svg_bar');
var margin$2 = { top: 70, right: 70, bottom: 80, left: 70 };

var width$2 = +svg_bar$2.attr('width') - margin$2.left - margin$2.right;
var height$2 = +svg_bar$2.attr('height') - margin$2.top - margin$2.bottom;

var wrap = function wrap(_text, _width) {
  _text.each(function () {
    var text = d3.select(this),
        words = text.text().split(/\s+/).reverse(),
        lineHeight = 1.4,
        x = +text.attr('x'),
        dy = parseFloat(text.attr('dy')); // ems
    var y = +text.attr('y');
    var line = [];
    var lineNumber = 0;
    if (y > height$2 / 2 - 35) {
      y -= 40;
    }
    var tspan = text.text(null).append('tspan').attr('x', x).attr('y', y).attr('dy', dy + 'em');
    var word = words.pop();
    while (word) {
      line.push(word);
      tspan.text(line.join(' '));
      if (tspan.node().getComputedTextLength() > _width) {
        line.pop();
        tspan.text(line.join(' '));
        line = [word];
        tspan = text.append('tspan').attr('x', x).attr('y', y).attr('dy', ++lineNumber * lineHeight + dy + 'em').text(word);
      }
      word = words.pop();
    }
  });
};

var move = function move(array, from, to) {
  array.splice(to, 0, array.splice(from, 1)[0]);
  return array;
};

var swap = function swap(array, ix1, ix2) {
  // eslint-disable-line no-param-reassign
  var _ref = [array[ix2], array[ix1]];
  array[ix1] = _ref[0];
  array[ix2] = _ref[1];
  return array;
};

var prepare_data_radar_default = function prepare_data_radar_default(data, variables) {
  // Prepare the data for "My RÃ©gion":
  var v_my_region = data.find(function (d) {
    return d.id === app.current_config.my_region;
  });
  var ojb_my_region = {
    name: app.current_config.my_region,
    axes: []
  };
  variables.forEach(function (v) {
    var t = exports.variables_info.find(function (d) {
      return d.ratio === v;
    }).name;
    var _v = 'pr_' + v;
    ojb_my_region.axes.push({
      axis: t, value: v_my_region[_v]
    });
  });
  return ojb_my_region;
};

var prepare_data_radar_ft = function prepare_data_radar_ft(data, variables, ft) {
  var ft_values = data.find(function (d) {
    return d.id === ft;
  });
  if (!ft_values) {
    return null;
  }
  var obj = {
    name: ft,
    axes: []
  };
  variables.forEach(function (v) {
    var t = exports.variables_info.find(function (d) {
      return d.ratio === v;
    }).name;
    var _v = 'pr_' + v;
    obj.axes.push({
      axis: t, value: ft_values[_v]
    });
  });
  return obj;
};

var RadarChart3 = function () {
  function RadarChart3(data, options) {
    var _this = this;

    classCallCheck(this, RadarChart3);

    var cfg = {
      w: width$2 - 20, // Width of the circle
      h: height$2 - 20, // Height of the circle
      margin: margin$2, // The margins of the SVG
      levels: 10, // How many levels or inner circles should there be drawn
      maxValue: 100, // What is the value that the biggest circle will represent
      labelFactor: 1.3, // How much farther than the radius of the outer circle should the labels be placed
      wrapWidth: 95, // The number of pixels after which a label needs to be given a new line
      opacityArea: 0.10, // The opacity of the area of the blob
      dotRadius: 4, // The size of the colored circles of each blog
      opacityCircles: 0.1, // The opacity of the circles of each blob
      strokeWidth: 2, // The width of the stroke around each blob
      roundStrokes: true, // If true the area and stroke will follow a round path (cardinal-closed)
      color: d3.scaleOrdinal([color_highlight].concat(d3.schemeCategory10)), // Color function,
      format: '.2', // The format string to be used by d3.format
      unit: '%', // The unit to display after the number on the axis and point tooltips (like $, â‚¬, %, etc)
      legend: false,
      allowInverseData: true
    };
    this.cfg = cfg;
    // Put all of the options into a variable called cfg
    if (typeof options !== 'undefined') {
      var opts_key = Object.keys(options);
      for (var i = 0, len_i = opts_key.length; i < len_i; i++) {
        var k = opts_key[i];
        if (typeof options[k] !== 'undefined') {
          cfg[k] = options[k];
        }
      }
    }

    this.g = svg_bar$2.append('g').attr('id', 'RadarGrp').attr('transform', 'translate(' + (cfg.w / 2 + cfg.margin.left) + ',' + (cfg.h / 2 + cfg.margin.top) + ')');

    this.prepareData(data);
    this.drawAxisGrid();
    this.drawArea();
    this.handleLegend();

    this.completude = new CompletudeSection(svg_bar$2.node().parentElement);
    // Compute the "complÃ©tude" value for these ratios:
    this.completude.update(calcCompletudeSubset(app, this.variables, 'array'), calcPopCompletudeSubset(app, this.variables));

    if (cfg.allowInverseData) {
      this.inverse_data = function (field) {
        var data_length = _this.data.length;
        if (!field) {
          for (var _i = 0; _i < data_length; _i++) {
            var ax = _this.data[_i].axes;
            for (var j = 0; j < ax.length; j++) {
              ax[j].value = 100 - ax[j].value;
            }
          }
        } else {
          for (var _i2 = 0; _i2 < data_length; _i2++) {
            var _ax = _this.data[_i2].axes;
            for (var _j = 0; _j < _ax.length; _j++) {
              if (_ax[_j].axis === field) {
                _ax[_j].value = 100 - _ax[_j].value;
              }
            }
          }
        }
        _this.update();
      };
    }
    this.makeTableStat();
  }

  createClass(RadarChart3, [{
    key: 'add_element',
    value: function add_element(elem) {
      var _this2 = this;

      var n_axis = elem.axes.map(function (i) {
        return i.axis;
      });
      if (!(JSON.stringify(n_axis) === JSON.stringify(this.allAxis))) {
        throw new Error('Expected element with same axes name than existing data.');
      }
      this.data.push(elem);
      this.displayed_ids.push(elem.name);
      for (var j = 0; j < this.data.length; j++) {
        var on_axes = [];
        for (var i = 0; i < this.data[j].axes.length; i++) {
          this.data[j].axes[i].id = this.data[j].name;
          on_axes.push(this.data[j].name);
        }
      }

      var self = this;
      var cfg = this.cfg;
      var n = this.data.length - 1;
      var blobWrapper = this.g.insert('g', '.radarCircleWrapper').attr('id', elem.name.indexOf(' ') > -1 ? 'ctx' : elem.name).attr('class', 'radarWrapper');

      // Append the backgrounds
      blobWrapper.append('path').attr('class', 'radarArea').attr('d', this.radarLine(elem.axes)).style('fill', cfg.color(n)).style('fill-opacity', cfg.opacityArea).on('mouseover', function () {
        // Dim all blobs
        self.g.selectAll('.radarArea').transition().duration(200).style('fill-opacity', 0);
        // Bring back the hovered over blob
        d3.select(this).transition().duration(200).style('fill-opacity', 0.3);
      }).on('mouseout', function () {
        // Bring back all blobs
        self.g.selectAll('.radarArea').transition().duration(200).style('fill-opacity', cfg.opacityArea);
      });
      // .on('click', function () {
      //   const p = this.parentElement;
      //   if (p.previousSibling.className !== 'tooltip') {
      //     const group = g.node();
      //     group.insertBefore(p, group.querySelector('.tooltip'));
      //     const new_order = [];
      //     g.selectAll('.radarWrapper').each(d => new_order.push(d.name));
      //     new_order.reverse();
      //     updateLegend(new_order);
      //   }
      // });

      // Create the outlines
      blobWrapper.append('path').attr('class', 'radarStroke').attr('d', this.radarLine(elem.axes)).style('stroke-width', cfg.strokeWidth + 'px').style('stroke', cfg.color(n)).style('fill', 'none').style('filter', 'url(#glow)');

      // Append the circles
      blobWrapper.selectAll('.radarCircle').data(elem.axes).enter().append('circle').attr('class', 'radarCircle').attr('r', cfg.dotRadius).attr('cx', function (d, i) {
        return _this2.rScale(d.value) * math_cos(_this2.angleSlice * i - HALF_PI);
      }).attr('cy', function (d, i) {
        return _this2.rScale(d.value) * math_sin(_this2.angleSlice * i - HALF_PI);
      }).style('fill', cfg.color(n)).style('fill-opacity', 0.8);

      blobWrapper.node().__data__ = elem;

      // ///////////////////////////////////////////////////////
      // ////// Append invisible circles for tooltip ///////////
      // ///////////////////////////////////////////////////////

      // Wrapper for the invisible circles on top
      var blobCircleWrapper = this.g.insert('g', '.tooltip').attr('id', elem.name.indexOf(' ') > -1 ? 'ctx' : elem.name).attr('class', 'radarCircleWrapper');

      blobCircleWrapper.node().__data__ = elem;

      // Append a set of invisible circles on top for the mouseover pop-up
      blobCircleWrapper.selectAll('.radarInvisibleCircle').data(elem.axes).enter().append('circle').attr('class', 'radarInvisibleCircle').attr('r', cfg.dotRadius * 1.5).attr('cx', function (d, i) {
        return _this2.rScale(d.value) * math_cos(_this2.angleSlice * i - HALF_PI);
      }).attr('cy', function (d, i) {
        return _this2.rScale(d.value) * math_sin(_this2.angleSlice * i - HALF_PI);
      }).style('fill', 'none').style('pointer-events', 'all').on('mouseover', function (d) {
        self.g.select('.tooltip').attr('x', this.cx.baseVal.value - 10).attr('y', this.cy.baseVal.value - 10).transition().style('display', 'block').text(self.Format(d.value) + cfg.unit);
      }).on('mouseout', function () {
        self.g.select('.tooltip').transition().style('display', 'none').text('');
      });
    }
  }, {
    key: 'changeOrder',
    value: function changeOrder() {
      this.data = this.data.slice(1, this.data.length).concat(this.data.slice(0, 1));
      this.update();
    }
  }, {
    key: 'prepareData',
    value: function prepareData(data) {
      var _this3 = this;

      // Set the minimum number of variables to keep selected for this kind of chart:
      app.current_config.nb_var = 3;
      this.variables = app.current_config.ratio;
      this.ref_data = data.slice().filter(function (ft) {
        return _this3.variables.map(function (v) {
          return !!ft[v];
        }).every(function (d) {
          return d === true;
        });
      });
      this.rank_variables = this.variables.map(function (d) {
        return 'pr_' + d;
      });
      this.variables.forEach(function (d, i) {
        computePercentileRank(_this3.ref_data, d, _this3.rank_variables[i]);
      });
      this.data = [prepare_data_radar_default(this.ref_data, this.variables)];
      this.displayed_ids = this.data.map(function (d) {
        return d.name;
      });
      this.current_ids = this.ref_data.map(function (d) {
        return d.id;
      });
      this.id_my_region = app.current_config.my_region;

      // If the supplied maxValue is smaller than the actual one, replace by the max in the data
      var maxValue = 0;
      for (var j = 0; j < this.data.length; j++) {
        for (var i = 0; i < this.data[j].axes.length; i++) {
          this.data[j].axes[i].id = this.data[j].name;
          if (this.data[j].axes[i].value > maxValue) {
            maxValue = this.data[j].axes[i].value;
          }
        }
      }

      this.maxValue = math_max(this.cfg.maxValue, maxValue);
      this.allAxis = this.data[0].axes.map(function (i) {
        return i.axis;
      }); // Names of each axis
      this.total = this.allAxis.length; // The number of different axes
      this.radius = Math.min(this.cfg.w / 2, this.cfg.h / 2); // Radius of the outermost circle
      this.Format = d3.format(this.cfg.format); // Formatting
      this.angleSlice = Math.PI * 2 / this.total; // The width in radians of each "slice"
      // Scale for the radius
      this.rScale = d3.scaleLinear().range([0, this.radius]).domain([0, this.maxValue]);
      // The radial line function
      this.radarLine = d3.radialLine().curve(this.cfg.roundStrokes ? d3.curveCardinalClosed : d3.curveLinearClosed).radius(function (d) {
        return _this3.rScale(d.value);
      }).angle(function (d, i) {
        return i * _this3.angleSlice;
      });
    }
  }, {
    key: 'drawAxisGrid',
    value: function drawAxisGrid() {
      var self = this;
      var cfg = this.cfg;
      var g = this.g;
      var radius = this.radius;
      var maxValue = this.maxValue;
      var rScale = this.rScale;
      var angleSlice = this.angleSlice;

      var labelClicked = function labelClicked() {
        var ix = +this.id;
        if (ix + 1 === self.allAxis.length) {
          for (var i = 0; i < self.data.length; i++) {
            swap(self.data[i].axes, ix, 0);
          }
        } else {
          var new_ix = ix + 1;
          for (var _i3 = 0; _i3 < self.data.length; _i3++) {
            move(self.data[_i3].axes, ix, new_ix);
          }
        }
        self.update();
      };

      var labelCtxMenu = function labelCtxMenu(label) {
        d3.event.stopPropagation();
        d3.event.preventDefault();
        self.inverse_data(label);
      };

      var axisGrid = g.append('g').attr('class', 'axisWrapper');

      // Draw the background circles
      axisGrid.selectAll('.levels').data(d3.range(1, cfg.levels + 1).reverse()).enter().append('circle').attrs(function (d) {
        return {
          class: 'gridCircle',
          r: radius / cfg.levels * d
        };
      }).styles(function (d) {
        if (d === 5) {
          return {
            fill: '#CDCDCD',
            stroke: 'rgb(245, 138, 138)',
            'stroke-dasharray': '5, 5',
            'fill-opacity': cfg.opacityCircles,
            filter: 'url(#glow)'
          };
        }
        return {
          fill: '#CDCDCD',
          stroke: '#CDCDCD',
          'fill-opacity': cfg.opacityCircles,
          filter: 'url(#glow)'
        };
      });

      // // Text indicating at what % each level is
      // axisGrid.selectAll('.axisLabel')
      //   .data(d3.range(1, (cfg.levels + 1)).reverse())
      //   .enter().append('text')
      //   .attr('class', 'axisLabel')
      //   .attr('x', 4)
      //   .attr('y', d => -d * radius / cfg.levels)
      //   .attr('dy', '0.4em')
      //   .style('font-size', '10px')
      //   .attr('fill', '#737373')
      //   .text(d => Format(maxValue * d / cfg.levels) + cfg.unit);

      // Create the straight lines radiating outward from the center
      var axis = axisGrid.selectAll('.axis').data(this.allAxis).enter().append('g').attr('class', 'axis');
      // Append the lines
      axis.append('line').attr('x1', 0).attr('y1', 0).attr('x2', function (d, i) {
        return rScale(maxValue * 1.1) * math_cos(angleSlice * i - HALF_PI);
      }).attr('y2', function (d, i) {
        return rScale(maxValue * 1.1) * math_sin(angleSlice * i - HALF_PI);
      }).attr('class', 'line').style('stroke', 'white').style('stroke-width', '2px');

      // Append the labels at each axis
      axis.append('text').attr('class', 'legend').style('font-size', '11px').attr('id', function (d, i) {
        return i;
      }).attr('text-anchor', 'middle').attr('dy', '0.35em').attr('x', function (d, i) {
        return rScale(maxValue * cfg.labelFactor) * math_cos(angleSlice * i - HALF_PI);
      }).attr('y', function (d, i) {
        return rScale(maxValue * cfg.labelFactor) * math_sin(angleSlice * i - HALF_PI);
      }).text(function (d) {
        return d;
      }).on('click', labelClicked).on('contextmenu', cfg.allowInverseData ? labelCtxMenu : null).call(wrap, cfg.wrapWidth);

      // Filter for the outside glow
      var filter = g.append('defs').append('filter').attr('id', 'glow');
      filter.append('feGaussianBlur').attr('stdDeviation', '2.5').attr('result', 'coloredBlur');
      var feMerge = filter.append('feMerge');
      feMerge.append('feMergeNode').attr('in', 'coloredBlur');
      feMerge.append('feMergeNode').attr('in', 'SourceGraphic');

      this.axisGrid = axisGrid;
    }
  }, {
    key: 'handleLegend',
    value: function handleLegend() {
      var cfg = this.cfg;
      if (cfg.legend !== false && _typeof(cfg.legend) === 'object') {
        var names = this.data.map(function (el) {
          return el.name;
        });
        if (cfg.legend.title) {
          this.legendZone.append('text').attr('class', 'title').attr('transform', 'translate(0, -20)').attr('x', cfg.w - 70).attr('y', 10).attr('font-size', '12px').attr('fill', '#404040').text(cfg.legend.title);
        }
        var legend = this.legendZone.selectAll('g').data(names);
        var legendEnter = legend.enter().append('g');

        // Create rectangles markers
        legendEnter.append('rect').attrs(function (d, i) {
          return {
            x: cfg.w - 65,
            y: i * 20,
            width: 10,
            height: 10
          };
        }).style('fill', function (d) {
          return cfg.color(d);
        });

        // Create labels
        legendEnter.append('text').attrs(function (d, i) {
          return {
            x: cfg.w - 52,
            y: i * 20 + 9,
            fill: '#737373',
            'font-size': '11px'
          };
        }).text(function (d) {
          return d;
        });

        legend.merge(legendEnter).selectAll('rect').attr('y', function (d, i) {
          return i * 20;
        }).style('fill', function (d) {
          return cfg.color(d);
        });

        legend.merge(legendEnter).selectAll('text').attrs(function (d, i) {
          return {
            x: cfg.w - 52,
            y: i * 20 + 9
          };
        }).text(function (d) {
          return d;
        });

        legend.exit().remove();
      }
    }
  }, {
    key: 'drawArea',
    value: function drawArea() {
      var _this4 = this;

      var cfg = this.cfg;
      var g = this.g;
      var Format = this.Format;
      var rScale = this.rScale;
      var angleSlice = this.angleSlice;

      // Create a wrapper for the blobs
      var blobWrapper = g.selectAll('.radarWrapper').data(this.data, function (d) {
        return d.name;
      }).enter().append('g').attr('id', function (d) {
        return d.name.indexOf(' ') > -1 ? 'ctx' : d.name;
      }).attr('class', 'radarWrapper');

      // Append the backgrounds
      blobWrapper.append('path').attr('class', 'radarArea').attr('d', function (d) {
        return _this4.radarLine(d.axes);
      }).style('fill', function (d, i) {
        return cfg.color(i);
      }).style('fill-opacity', cfg.opacityArea).on('mouseover', function () {
        // Dim all blobs
        g.selectAll('.radarArea').transition().duration(200).style('fill-opacity', 0.1);
        // Bring back the hovered over blob
        d3.select(this).transition().duration(200).style('fill-opacity', 0.7);
      }).on('mouseout', function () {
        g.selectAll('.radarArea').transition().duration(200).style('fill-opacity', cfg.opacityArea);
      });

      // Create the outlines
      blobWrapper.append('path').attr('class', 'radarStroke').attr('d', function (d) {
        return _this4.radarLine(d.axes);
      }).style('stroke-width', cfg.strokeWidth + 'px').style('stroke', function (d, i) {
        return cfg.color(i);
      }).style('fill', 'none').style('filter', 'url(#glow)');

      // Append the circles
      blobWrapper.selectAll('.radarCircle').data(function (d) {
        return d.axes;
      }).enter().append('circle').attr('class', 'radarCircle').attr('r', cfg.dotRadius).attr('cx', function (d, i) {
        return rScale(d.value) * math_cos(angleSlice * i - HALF_PI);
      }).attr('cy', function (d, i) {
        return rScale(d.value) * math_sin(angleSlice * i - HALF_PI);
      }).style('fill', cfg.color(0)).style('fill-opacity', 0.8);

      // ///////////////////////////////////////////////////////
      // ////// Append invisible circles for tooltip ///////////
      // ///////////////////////////////////////////////////////

      // Wrapper for the invisible circles on top
      var blobCircleWrapper = g.selectAll('.radarCircleWrapper').data(this.data, function (d) {
        return d.name;
      }).enter().append('g').attr('id', function (d) {
        return d.name.indexOf(' ') > -1 ? 'ctx' : d.name;
      }).attr('class', 'radarCircleWrapper');

      // Append a set of invisible circles on top for the mouseover pop-up
      blobCircleWrapper.selectAll('.radarInvisibleCircle').data(function (d) {
        return d.axes;
      }).enter().append('circle').attr('class', 'radarInvisibleCircle').attr('r', cfg.dotRadius * 1.5).attr('cx', function (d, i) {
        return rScale(d.value) * math_cos(angleSlice * i - HALF_PI);
      }).attr('cy', function (d, i) {
        return rScale(d.value) * math_sin(angleSlice * i - HALF_PI);
      }).style('fill', 'none').style('pointer-events', 'all').on('mouseover', function (d) {
        g.select('.tooltip').attr('x', this.cx.baseVal.value - 10).attr('y', this.cy.baseVal.value - 10).transition().style('display', 'block').text(Format(d.value) + cfg.unit);
      }).on('mouseout', function () {
        g.select('.tooltip').transition().style('display', 'none').text('');
      });

      var tooltip = g.append('text').attrs({ class: 'tooltip', x: 0, y: 0, dy: '0.35em', 'text-anchor': 'middle' }).styles({ 'font-size': '12px', display: 'none' });

      this.legendZone = svg_bar$2.append('g').attrs({
        id: 'legendZone',
        class: 'legend',
        transform: 'translate(' + cfg.legend.translateX + ',' + (cfg.legend.translateY + 20) + ')'
      });
    }
  }, {
    key: 'update',
    value: function update() {
      var _this5 = this;

      var rScale = this.rScale;
      var maxValue = this.maxValue;
      var cfg = this.cfg;
      var angleSlice = this.angleSlice;
      // console.log(this.current_ids);
      // if (new_data) {
      //   const new_axis = new_data[0].axes.map(elem => elem.axis);
      //   if (!(JSON.stringify(new_axis) === JSON.stringify(this.allAxis))) {
      //     throw new Error('Expected element with same axes name than existing data.');
      //   }
      //   this.data = new_data;
      //   this.allAxis = new_axis;
      // } else {
      this.allAxis = this.data[0].axes.map(function (elem) {
        return elem.axis;
      });
      // }
      var update_axis = this.axisGrid.selectAll('.axis').data(this.allAxis);

      var t = this.g.selectAll('.radarWrapper').transition().duration(225);
      // .on('end', () => {
      //   parent.selectAll('text.legend')
      //     .text(d => d)
      //     .call(wrap, cfg.wrapWidth);
      //   // wrap(parent.selectAll('text.legend'), cfg.wrapWidth);
      // });
      update_axis.select('text.legend').attrs(function (d, i) {
        return {
          id: i,
          x: rScale(maxValue * cfg.labelFactor) * math_cos(angleSlice * i - HALF_PI),
          y: rScale(maxValue * cfg.labelFactor) * math_sin(angleSlice * i - HALF_PI)
        };
      }).text(function (d) {
        return d;
      }).call(wrap, cfg.wrapWidth);

      var update_blobWrapper = this.g.selectAll('.radarWrapper').data(this.data, function (d) {
        return d.name;
      });

      update_blobWrapper.select('.radarArea').transition(t).attr('d', function (d) {
        return _this5.radarLine(d.axes);
      });

      update_blobWrapper.select('.radarStroke').transition(t).attr('d', function (d) {
        return _this5.radarLine(d.axes);
      });

      var circle = update_blobWrapper.selectAll('.radarCircle').data(function (d) {
        return d.axes;
      });
      circle.transition(t).attrs(function (d, i) {
        return {
          cx: rScale(d.value) * math_cos(angleSlice * i - HALF_PI),
          cy: rScale(d.value) * math_sin(angleSlice * i - HALF_PI)
        };
      }).styles(function (d, i) {
        return {
          fill: cfg.color(i),
          'fill-opacity': 0.8
        };
      });

      var update_blobCircleWrapper = this.g.selectAll('.radarCircleWrapper').data(this.data, function (d) {
        return d.name;
      });

      var invisibleCircle = update_blobCircleWrapper.selectAll('.radarInvisibleCircle').data(function (d) {
        return d.axes;
      });
      invisibleCircle.transition(t).attrs(function (d, i) {
        return {
          cx: rScale(d.value) * math_cos(angleSlice * i - HALF_PI),
          cy: rScale(d.value) * math_sin(angleSlice * i - HALF_PI)
        };
      });
    }
  }, {
    key: 'round_stroke',
    value: function round_stroke(val) {
      var _this6 = this;

      if (val === undefined) {
        return this.cfg.roundStrokes;
      } else if (val !== this.cfg.roundStrokes) {
        this.cfg.roundStrokes = val;
        this.radarLine = d3.radialLine().curve(this.cfg.roundStrokes ? d3.curveCardinalClosed : d3.curveLinearClosed).radius(function (d) {
          return _this6.rScale(d.value);
        }).angle(function (d, i) {
          return i * _this6.angleSlice;
        });
        this.update();
      }
      return val;
    }
  }, {
    key: 'bindMap',
    value: function bindMap(map_elem) {
      this.map_elem = map_elem;
      this.map_elem.resetColors(this.current_ids);
      this.updateMapRegio();
    }
  }, {
    key: 'remove',
    value: function remove() {
      this.table_stats.remove();
      this.table_stats = null;
      this.map_elem.unbindBrushClick();
      this.map_elem = null;
      this.completude.remove();
      this.completude = null;
      svg_bar$2.html('');
    }
  }, {
    key: 'updateChangeRegion',
    value: function updateChangeRegion() {
      this.changeStudyZone();
    }
  }, {
    key: 'changeStudyZone',
    value: function changeStudyZone() {
      var _this7 = this;

      var old_my_region = this.id_my_region;
      var other_features = this.displayed_ids.filter(function (d) {
        return d !== old_my_region;
      });
      this.g.remove();
      this.g = svg_bar$2.append('g').attr('id', 'RadarGrp').attr('transform', 'translate(' + (this.cfg.w / 2 + this.cfg.margin.left) + ',' + (this.cfg.h / 2 + this.cfg.margin.top) + ')');

      this.id_my_region = app.current_config.my_region;
      this.prepareData(app.current_data);
      this.drawAxisGrid();
      this.drawArea();
      this.handleLegend();
      other_features.forEach(function (id) {
        var a = prepare_data_radar_ft(_this7.ref_data, _this7.variables, id);
        _this7.add_element(a);
      });
      this.updateMapRegio();
      this.updateCompletude();
      this.updateTableStat();
    }
  }, {
    key: 'addVariable',
    value: function addVariable$$1(code_variable, name_variable) {
      var _this8 = this;

      var other_features = this.displayed_ids.filter(function (d) {
        return d !== _this8.id_my_region;
      });
      this.g.remove();
      this.g = svg_bar$2.append('g').attr('id', 'RadarGrp').attr('transform', 'translate(' + (this.cfg.w / 2 + this.cfg.margin.left) + ',' + (this.cfg.h / 2 + this.cfg.margin.top) + ')');

      this.prepareData(app.current_data);
      this.drawAxisGrid();
      this.drawArea();
      this.handleLegend();
      other_features.forEach(function (id) {
        var a = prepare_data_radar_ft(_this8.ref_data, _this8.variables, id);
        _this8.add_element(a);
      });
      this.updateCompletude();
      this.updateMapRegio();
      this.updateTableStat();
    }
  }, {
    key: 'removeVariable',
    value: function removeVariable$$1(code_variable) {
      var _this9 = this;

      var other_features = this.displayed_ids.filter(function (d) {
        return d !== _this9.id_my_region;
      });
      this.g.remove();
      this.g = svg_bar$2.append('g').attr('id', 'RadarGrp').attr('transform', 'translate(' + (this.cfg.w / 2 + this.cfg.margin.left) + ',' + (this.cfg.h / 2 + this.cfg.margin.top) + ')');

      this.prepareData(app.current_data);
      this.drawAxisGrid();
      this.drawArea();
      this.handleLegend();
      other_features.forEach(function (id) {
        var a = prepare_data_radar_ft(_this9.ref_data, _this9.variables, id);
        _this9.add_element(a);
      });
      this.updateCompletude();
      this.updateMapRegio();
      this.updateTableStat();
    }
  }, {
    key: 'prepareTableStat',
    value: function prepareTableStat() {
      var _this10 = this;

      var all_values = this.variables.map(function (v) {
        return _this10.ref_data.map(function (d) {
          return d[v];
        });
      });
      var my_region = this.ref_data.find(function (d) {
        return d.id === _this10.id_my_region;
      });
      var features = all_values.map(function (values, i) {
        return {
          Min: d3.min(values),
          Max: d3.max(values),
          Moyenne: getMean(values),
          id: _this10.variables[i],
          Variable: _this10.variables[i],
          'Ma rÃ©gion': my_region[_this10.variables[i]]
        };
      });
      return features;
    }
  }, {
    key: 'handleClickMap',
    value: function handleClickMap(d, parent) {
      var id = d.properties[app.current_config.id_field_geom];
      if (this.current_ids.indexOf(id) < 0 || id === this.id_my_region) return;
      if (this.displayed_ids.indexOf(id) < 0) {
        var a = prepare_data_radar_ft(this.ref_data, this.variables, id);
        this.add_element(a);
        this.update();
      } else {
        this.g.selectAll('#' + id + '.radarWrapper').remove();
        this.g.selectAll('#' + id + '.radarCircleWrapper').remove();
        var ix = this.data.map(function (_d, i) {
          return [i, _d.name === id];
        }).find(function (_d) {
          return _d[1] === true;
        })[0];
        this.data.splice(ix, 1);
        this.displayed_ids = this.data.map(function (_d) {
          return _d.name;
        });
        this.update();
      }
      this.updateMapRegio();
    }
  }, {
    key: 'updateCompletude',
    value: function updateCompletude() {
      this.completude.update(calcCompletudeSubset(app, this.variables, 'array'), calcPopCompletudeSubset(app, this.variables));
    }
  }, {
    key: 'updateMapRegio',
    value: function updateMapRegio() {
      var _this11 = this;

      if (!this.map_elem) return;
      this.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        return d.properties[app.current_config.id_field_geom] === _this11.id_my_region ? color_highlight : _this11.current_ids.indexOf(d.properties[app.current_config.id_field_geom]) > -1 ? _this11.displayed_ids.indexOf(d.properties[app.current_config.id_field_geom]) > -1 ? color_default_dissim : color_countries : color_disabled;
      });
    }
  }, {
    key: 'updateTableStat',
    value: function updateTableStat() {
      this.table_stats.removeAll();
      this.table_stats.addFeatures(this.prepareTableStat());
    }
  }, {
    key: 'makeTableStat',
    value: function makeTableStat() {
      var features = this.prepareTableStat();
      this.table_stats = new TableResumeStat(features);
    }
  }]);
  return RadarChart3;
}();

var svg_bar$3 = d3.select('#svg_bar');
var margin$3 = { top: 20, right: 20, bottom: 40, left: 30 };

var width$3 = +svg_bar$3.attr('width') - margin$3.left - margin$3.right;
var height$3 = +svg_bar$3.attr('height') - margin$3.top - margin$3.bottom;

var Similarity1plus = function () {
  function Similarity1plus(ref_data) {
    var _this = this;

    classCallCheck(this, Similarity1plus);

    // Set the minimum number of variables to keep selected for this kind of chart:
    app.current_config.nb_var = 1;
    this.ratios = app.current_config.ratio;
    this.nums = app.current_config.num;
    this.data = ref_data.filter(function (ft) {
      return _this.ratios.map(function (v) {
        return !!ft[v];
      }).every(function (v) {
        return v === true;
      });
    }).slice();
    this.my_region = this.data.find(function (d) {
      return d.id === app.current_config.my_region;
    });
    this.data.forEach(function (ft) {
      _this.ratios.forEach(function (v) {
        // eslint-disable-next-line no-param-reassign
        ft['dist_' + v] = math_abs(+ft[v] - +_this.my_region[v]);
      });
    });
    this.current_ids = this.data.map(function (d) {
      return d.id;
    });
    resetColors();
    this.highlight_selection = [];
    this.serie_inversed = false;
    this.draw_group = svg_bar$3.append('g').attr('transform', 'translate(' + margin$3.left + ', ' + margin$3.top + ')');

    // Prepare the tooltip displayed on mouseover:
    prepareTooltip(svg_bar$3);

    this.completude = new CompletudeSection(svg_bar$3.node().parentElement);
    this.completude.update(calcCompletudeSubset(app, this.ratios, 'array'), calcPopCompletudeSubset(app, this.ratios));

    // Create the button allowing to choose
    // if the colors are inversed
    // (like green/red for superior/inferior regions)
    svg_bar$3.append('image').attrs({
      x: width$3 + margin$3.left + 5,
      y: 232.5,
      width: 15,
      height: 15,
      'xlink:href': 'img/reverse_plus.png',
      id: 'img_reverse'
    }).on('click', function () {
      _this.serie_inversed = !_this.serie_inversed;
      _this.applySelection(_this.highlight_selection.length);
    });

    // Create the section containing the input element allowing to chose
    // how many "close" regions we want to highlight.
    var selection_close = d3.select(svg_bar$3.node().parentElement).append('div').attr('id', 'menu_selection').styles({ top: '-10px', 'margin-left': '30px', position: 'relative' }).append('p');

    selection_close.append('span').property('value', 'close').attrs({ value: 'close', class: 'type_selection square checked' });
    selection_close.append('span').attrs({ class: 'label_chk' }).html('Les');
    selection_close.append('input').attrs({ class: 'nb_select', type: 'number' }).property('value', 5);
    selection_close.append('span').attrs({ class: 'label_chk' }).html('rÃ©gions les plus proches');

    this.bindMenu();
    this.makeTableStat();
  }

  createClass(Similarity1plus, [{
    key: 'applySelection',
    value: function applySelection(nb) {
      var _this2 = this;

      app.colors = {};
      if (nb > 0) {
        this.highlight_selection = this.data.map(function (ft) {
          // eslint-disable-next-line no-restricted-properties
          var global_dist = math_sqrt(_this2.ratios.map(function (v) {
            return 'dist_' + v;
          }).map(function (v) {
            return Math.pow(ft[v], 2);
          }).reduce(function (a, b) {
            return a + b;
          }));
          var obj = {
            id: ft.id,
            dist: global_dist
          };
          _this2.ratios.forEach(function (v) {
            obj[v] = ft[v];
          });
          return obj;
        });
        this.highlight_selection.sort(function (a, b) {
          return a.dist - b.dist;
        });
        this.highlight_selection = this.highlight_selection.slice(1, nb + 1);
      } else {
        this.highlight_selection = [];
      }
      this.removeLines();
      this.update();
      this.updateMapRegio();
    }
  }, {
    key: 'update',
    value: function update() {
      var _this3 = this;

      var self = this;
      var data = self.data;
      var highlight_selection = self.highlight_selection;
      var nb_variables = self.ratios.length;
      var offset = height$3 / nb_variables + 1;
      var height_to_use = offset / 2;

      var _loop = function _loop(i) {
        var ratio_name = self.ratios[i];
        var num_name = self.nums[i];
        var my_region_value = self.my_region[ratio_name];
        var ratio_values = _this3.data.map(function (d) {
          return d[ratio_name];
        });
        var g = _this3.draw_group.select('#' + ratio_name);
        var axis = _this3.draw_group.select('g.axis--x.' + ratio_name);
        if (!g.node()) {
          g = _this3.draw_group.append('g').attrs({
            id: ratio_name,
            num: num_name,
            class: 'grp_var'
          });
          axis = g.append('g').attrs({
            class: 'axis axis--x ' + ratio_name,
            transform: 'translate(0, 10)'
          });
        }
        g.attr('transform', 'translate(0, ' + height_to_use + ')');
        var _min = void 0;
        var _max = void 0;
        _this3.data.sort(function (a, b) {
          return b['dist_' + ratio_name] - a['dist_' + ratio_name];
        });
        if (highlight_selection.length > 0) {
          var dist_axis = Math.max(math_abs(my_region_value - +d3.min(highlight_selection, function (d) {
            return d[ratio_name];
          })), math_abs(+d3.max(highlight_selection, function (d) {
            return d[ratio_name];
          }) - my_region_value));
          var margin_min_max = math_round(dist_axis) / 8;
          _min = my_region_value - dist_axis - margin_min_max;
          _max = my_region_value + dist_axis + margin_min_max;
          // if (_min > _max) { [_min, _max] = [_max, _min]; }
        } else {
          var _dist_axis = Math.max(math_abs(my_region_value - d3.min(ratio_values)), math_abs(d3.max(ratio_values) - my_region_value));
          var _margin_min_max = math_round(_dist_axis) / 8;
          _min = my_region_value - _dist_axis - _margin_min_max;
          _max = my_region_value + _dist_axis + _margin_min_max;
        }
        _this3.highlight_selection.forEach(function (elem) {
          app.colors[elem.id] = comp(elem[ratio_name], my_region_value, _this3.serie_inversed);
        });

        app.colors[app.current_config.my_region] = color_highlight;
        var prop_sizer = new PropSizer(d3.max(data, function (d) {
          return d[num_name];
        }), 30);
        var xScale = d3.scaleLinear().domain([_min, _max]).range([0, width$3]);

        axis.transition().duration(125).call(d3.axisBottom(xScale));

        var bubbles = g.selectAll('.bubble').data(data, function (d) {
          return d.id;
        });

        bubbles.transition().duration(125).attrs(function (d) {
          var x_value = xScale(d[ratio_name]);
          if (x_value > width$3) x_value = width$3 + 200;else if (x_value < 0) x_value = -200;
          return {
            cx: x_value,
            cy: 10,
            r: prop_sizer.scale(d[num_name])
          };
        }).styles(function (d) {
          return {
            fill: app.colors[d.id] || color_countries,
            'fill-opacity': d.id === app.current_config.my_region ? 1 : app.colors[d.id] ? 0.7 : 0.1,
            stroke: 'darkgray',
            'stroke-width': 0.75,
            'stroke-opacity': 0.75
          };
        });

        bubbles.enter().insert('circle').styles(function (d) {
          return {
            fill: app.colors[d.id] || color_countries,
            'fill-opacity': d.id === app.current_config.my_region ? 1 : app.colors[d.id] ? 0.7 : 0.1,
            stroke: 'darkgray',
            'stroke-width': 0.75,
            'stroke-opacity': 0.75
          };
        }).transition().duration(125).attrs(function (d) {
          var x_value = xScale(d[ratio_name]);
          if (x_value > width$3) x_value = width$3 + 200;else if (x_value < 0) x_value = -200;
          return {
            id: d.id,
            class: 'bubble',
            cx: x_value,
            cy: 10,
            r: prop_sizer.scale(d[num_name])
          };
        });

        bubbles.exit().transition().duration(125).remove();
        height_to_use += offset;
      };

      for (var i = 0; i < nb_variables; i++) {
        _loop(i);
      }
      setTimeout(function () {
        _this3.makeTooltips();
      }, 125);
    }
  }, {
    key: 'updateCompletude',
    value: function updateCompletude() {
      this.completude.update(calcCompletudeSubset(app, this.ratios, 'array'), calcPopCompletudeSubset(app, this.ratios));
    }
  }, {
    key: 'updateMapRegio',
    value: function updateMapRegio() {
      var _this4 = this;

      if (!this.map_elem) return;
      this.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        var _id = d.properties[app.current_config.id_field_geom];
        if (_id === app.current_config.my_region) {
          return color_highlight;
        } else if (_this4.current_ids.indexOf(_id) > -1) {
          if (app.colors[_id]) return color_default_dissim;
          return color_countries;
        }
        return color_disabled;
      });
    }
  }, {
    key: 'handleClickMap',
    value: function handleClickMap(d, parent) {
      var _this5 = this;

      var to_display = false;
      var id = d.properties[app.current_config.id_field_geom];
      if (this.current_ids.indexOf(id) < 0 || id === app.current_config.my_region) return;
      if (app.colors[id] !== undefined) {
        // Remove the clicked feature from the colored selection on the chart:
        var id_to_remove = this.highlight_selection.map(function (ft, i) {
          return ft.id === id ? i : null;
        }).filter(function (ft) {
          return ft;
        })[0];
        this.highlight_selection.splice(id_to_remove, 1);
        // Change its color in the global colors object:
        app.colors[id] = undefined;
        // Change the color on the map:
        d3.select(parent).attr('fill', color_countries);
      } else {
        app.colors[id] = color_default_dissim;
        // Change the color on the map:
        d3.select(parent).attr('fill', color_default_dissim);
        // Add the clicked feature on the colored selection on the chart:
        // eslint-disable-next-line no-restricted-properties
        var global_dist = math_sqrt(this.ratios.map(function (v) {
          return 'dist_' + v;
        }).map(function (v) {
          return Math.pow(+d.properties[v], 2);
        }).reduce(function (a, b) {
          return a + b;
        }));
        var obj = {
          id: id,
          dist: global_dist
        };
        this.ratios.forEach(function (v) {
          obj[v] = +d.properties[v];
        });
        this.highlight_selection.push(obj);
        to_display = true;
      }
      this.highlight_selection.sort(function (a, b) {
        return a.dist - b.dist;
      });
      this.removeLines();
      this.update();
      if (to_display) setTimeout(function () {
        _this5.displayLine(id);
      }, 150);
    }
  }, {
    key: 'makeTooltips',
    value: function makeTooltips() {
      var self = this;
      this.draw_group.selectAll('g.grp_var').selectAll('circle').on('mouseover', function () {
        svg_bar$3.select('.tooltip').style('display', null);
      }).on('mouseout', function () {
        svg_bar$3.select('.tooltip').style('display', 'none');
      }).on('mousemove', function (d) {
        var tooltip = svg_bar$3.select('.tooltip');
        var ratio_n = this.parentElement.id;
        var num_n = this.parentElement.getAttribute('num');
        var ty = +this.parentElement.getAttribute('transform').split('translate(0, ')[1].split(')')[0];
        tooltip.select('rect').attrs({ width: 0, height: 0 });
        tooltip.select('text.id_feature').text('' + d.id);
        tooltip.select('text.value_feature1').text('Ratio: ' + Math.round(d[ratio_n] * 10) / 10);
        tooltip.select('text.value_feature2').text('Stock: ' + Math.round(d[num_n] * 10) / 10);
        var b = tooltip.node().getBoundingClientRect();
        tooltip.select('rect').attrs({
          width: b.width + 20,
          height: b.height + 7.5
        });
        tooltip.attr('transform', 'translate(' + [d3.mouse(this)[0] - 5, d3.mouse(this)[1] - 45 + ty] + ')');
      }).on('click', function (d) {
        if (this.style.fill !== color_countries) self.displayLine(d.id);
      });
    }
  }, {
    key: 'displayLine',
    value: function displayLine(id_region) {
      if (this.ratios.length === 1) return;
      var coords = [];
      svg_bar$3.selectAll('.grp_var').selectAll('#' + id_region + '.bubble').each(function () {
        var ty = +this.parentElement.getAttribute('transform').split('translate(0, ')[1].replace(')', '');
        coords.push([this.cx.baseVal.value, this.cy.baseVal.value + ty]);
      });

      var l = this.draw_group.append('path').datum(coords).attrs({
        class: 'regio_line',
        fill: 'none',
        stroke: 'steelblue',
        'stroke-linejoin': 'round',
        'stroke-linecap': 'round',
        'stroke-width': 1.5,
        d: d3.line().x(function (_d) {
          return _d[0];
        }).y(function (_d) {
          return _d[1];
        })
      });
      setTimeout(function () {
        l.remove();
      }, 5000);
    }
  }, {
    key: 'updateChangeRegion',
    value: function updateChangeRegion() {
      var _this6 = this;

      this.removeLines();
      if (app.current_config.filter_key !== undefined) {
        this.changeStudyZone();
      } else {
        this.map_elem.updateLegend();
        this.my_region = this.data.find(function (d) {
          return d.id === app.current_config.my_region;
        });
        this.data.forEach(function (ft) {
          _this6.ratios.forEach(function (v) {
            // eslint-disable-next-line no-param-reassign
            ft['dist_' + v] = math_abs(+ft[v] - +_this6.my_region[v]);
          });
        });
        this.updateTableStat();
        this.update();
        this.updateMapRegio();
        // this.applySelection(this.highlight_selection.length);
      }
    }
  }, {
    key: 'changeStudyZone',
    value: function changeStudyZone() {
      var _this7 = this;

      this.removeLines();
      this.map_elem.updateLegend();
      this.ratios = app.current_config.ratio;
      this.nums = app.current_config.num;
      this.data = app.current_data.filter(function (ft) {
        return _this7.ratios.map(function (v) {
          return !!ft[v];
        }).every(function (v) {
          return v === true;
        });
      }).slice();
      this.my_region = this.data.find(function (d) {
        return d.id === app.current_config.my_region;
      });
      this.data.forEach(function (ft) {
        _this7.ratios.forEach(function (v) {
          // eslint-disable-next-line no-param-reassign
          ft['dist_' + v] = math_abs(+ft[v] - +_this7.my_region[v]);
        });
      });
      this.current_ids = this.data.map(function (d) {
        return d.id;
      });
      var temp = this.highlight_selection.length;
      this.highlight_selection = [];
      this.updateTableStat();
      this.updateCompletude();
      this.applySelection(temp);
      this.updateMapRegio();
    }
  }, {
    key: 'addVariable',
    value: function addVariable$$1(code_variable, name_variable) {
      var _this8 = this;

      this.removeLines();
      this.ratios = app.current_config.ratio.slice();
      this.nums = app.current_config.num.slice();
      this.data = app.current_data.filter(function (ft) {
        return _this8.ratios.map(function (v) {
          return !!ft[v];
        }).every(function (v) {
          return v === true;
        });
      }).slice();
      this.current_ids = this.data.map(function (d) {
        return d.id;
      });
      this.my_region = this.data.find(function (d) {
        return d.id === app.current_config.my_region;
      });
      this.data.forEach(function (ft) {
        _this8.ratios.forEach(function (v) {
          // eslint-disable-next-line no-param-reassign
          ft['dist_' + v] = math_abs(+ft[v] - +_this8.my_region[v]);
        });
      });
      this.highlight_selection = this.highlight_selection.map(function (d) {
        var obj = Object.assign(d, {});
        var ft = _this8.data.find(function (elem) {
          return elem.id === obj.id;
        });
        if (!ft) return undefined;
        _this8.ratios.forEach(function (v) {
          obj[v] = +ft[v];
          obj['dist_' + v] = +ft['dist_' + v];
        });
        return obj;
      }).filter(function (d) {
        return !!d;
      });
      // And use it immediatly:
      this.updateTableStat();
      this.update();
      this.updateMapRegio();
    }
  }, {
    key: 'removeVariable',
    value: function removeVariable$$1(code_variable) {
      var _this9 = this;

      this.removeLines();
      this.ratios = app.current_config.ratio.slice();
      this.nums = app.current_config.num.slice();
      this.data = app.current_data.filter(function (ft) {
        return _this9.ratios.map(function (v) {
          return !!ft[v];
        }).every(function (v) {
          return v === true;
        });
      }).slice();
      this.my_region = this.data.find(function (d) {
        return d.id === app.current_config.my_region;
      });

      this.draw_group.select('g#' + code_variable).remove();
      // And use it immediatly:
      this.updateTableStat();
      this.update();
      this.updateMapRegio();
    }
  }, {
    key: 'bindMenu',
    value: function bindMenu() {
      var self = this;
      var menu = d3.select('#menu_selection');
      var applychange = function applychange() {
        // self.map_elem.removeRectBrush();
        var value = +this.value;
        if (value < 1) {
          this.value = 1;
          return;
        }
        self.applySelection(value);
      };
      menu.select('.nb_select').on('change', applychange);
      menu.select('.nb_select').on('wheel', applychange);
      menu.select('.nb_select').on('keyup', applychange);
    }
  }, {
    key: 'removeLines',
    value: function removeLines() {
      this.draw_group.selectAll('.regio_line').remove();
    }
  }, {
    key: 'remove',
    value: function remove() {
      this.map_elem.unbindBrushClick();
      this.map_elem = null;
      this.table_stats.remove();
      this.table_stats = null;
      this.completude.remove();
      this.completude = null;
      svg_bar$3.html('');
    }
  }, {
    key: 'bindMap',
    value: function bindMap(map_elem) {
      this.map_elem = map_elem;
      this.map_elem.resetColors(this.current_ids);
      this.applySelection(5);
    }
  }, {
    key: 'prepareTableStat',
    value: function prepareTableStat() {
      var _this10 = this;

      var ratios = this.ratios;
      var all_values = ratios.map(function (v) {
        return _this10.data.map(function (d) {
          return +d[v];
        });
      });
      var my_region = this.my_region;
      var features = all_values.map(function (values, i) {
        return {
          Min: d3.min(values),
          Max: d3.max(values),
          Moyenne: getMean(values),
          id: _this10.ratios[i],
          Variable: _this10.ratios[i],
          'Ma rÃ©gion': my_region[_this10.ratios[i]]
        };
      });
      return features;
    }
  }, {
    key: 'updateTableStat',
    value: function updateTableStat() {
      this.table_stats.removeAll();
      this.table_stats.addFeatures(this.prepareTableStat());
    }
  }, {
    key: 'makeTableStat',
    value: function makeTableStat() {
      var features = this.prepareTableStat();
      this.table_stats = new TableResumeStat(features);
    }
  }]);
  return Similarity1plus;
}();

// import debug from 'debug';
exports.variables_info = void 0;

var study_zones = [{ id: 'no_filter', name: 'UE28' }, { id: 'filter_country', name: 'Filtre national (France)' },
// { id: 'filter_param2', name: 'Espace de comparaison nÂ°2' },
{ id: 'filter_dist', name: 'RÃ©gion dans un rayon de ' }];

var territorial_mesh = [{ id: 'NUTS1', name: 'NUTS1' }, { id: 'NUTS_decision', name: 'NUTS1/2 (niveau de dÃ©cision)' }];

var app = {
  // A mapping id -> color, containing the color to use for each
  // feature not using the default color or the disabled color
  colors: {},
  // The filtered dataset (acccording to: the current territorial level,
  // the filter key (if any) and the ratio(s) selected on the left menu:
  current_data: [],
  // The full dataset provided (containing all the features at any level in one table)
  // Row without data are expected to be empty or to contain the "NA" string.
  full_dataset: [],
  // The ids of the current feature in use (acccording to: the current territorial level,
  // the filter key (if any) and the ratio(s) used in the current chart; filtered
  // to not contain feature with empty ratio values within the ratios in use).
  current_ids: []
};

function setDefaultConfig() {
  var code = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'FRE';
  var variable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'RT_CHOM_1574';
  // }, level = 'NUTS1') {
  app.current_config = {
    // The name of the field of the dataset containing the ID of each feature:
    id_field: 'geo',
    // The name of the field of the dataset containing the name of each feature:
    name_field: 'Nom',
    // The name of the field of the dataset containing the population of each feature:
    pop_field: 'POP_AGE_T_2016',
    // The name of the field of the geojson layer containing the ID of each feature
    // (these values should match with the values of the "id_field" in the
    // tabular dataset)
    id_field_geom: 'id',
    num: ['CHOM_1574_2016'],
    denum: ['ACT_1574_2016'],
    ratio: [variable],
    ratio_pretty_name: ['Taux de chÃ´mage (15-74 ans) (2016)'],
    ratio_unit: ['%'],
    // The level currently in use:
    current_level: 'NUTS1',
    // The ID of the region currently in use:
    my_region: code,
    // The name of the region currently in use:
    my_region_pretty_name: app.feature_names[code],
    // How many ratio on the current chart:
    nb_var: 1
  };
  app.colors[app.current_config.my_region] = color_highlight;
}

function setDefaultConfigMenu() {
  var code = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'FRE';
  var variable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'RT_CHOM_1574';
  var level = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'NUTS1';

  document.querySelector('.target_region.square[value="' + code + '"]').classList.add('checked');
  document.querySelector('.target_variable.small_square[value="' + variable + '"]').classList.add('checked');
  document.querySelector('.filter_v.square[filter-value="no_filter"]').classList.add('checked');
  document.querySelector('.territ_level.square[value="' + level + '"]').classList.add('checked');
}

function resetColors() {
  app.colors = {};
  // for (let i = 0, len_i = current_ids.length; i < len_i; i++) {
  //   app.colors[current_ids[i]] = color_countries;
  // }
  app.colors[app.current_config.my_region] = color_highlight;
}

/**
* Function to update the availables ratios in the left menu (after changing region)
* If a selected variable is not available anymore it will be deselected.
* If there selected variable (all the previously selected variables are unavailable for this region)
* the first variable on the menu will be selected.
* If the new number of selected feature is inferior to the number of variables on the current
* chart, a new chart (suitable for only 1 variable) will be selected.
*
*
* @param {String} my_region - The ID of the newly selected region.
* @return {Number} - The new number of selected ratios.
*
*/
function updateAvailableRatios(my_region) {
  var data_my_feature = app.full_dataset.filter(function (ft) {
    return ft[app.current_config.id_field] === my_region;
  })[0];
  var menu = document.querySelector('#menu');
  var lines = menu.querySelectorAll('.target_variable');
  for (var i = 0, nb_lines = lines.length; i < nb_lines; i++) {
    var code_variable = lines[i].getAttribute('value');
    if (data_my_feature[code_variable] !== undefined && data_my_feature[code_variable] !== 'NA') {
      lines[i].classList.remove('disabled');
      lines[i].nextSibling.classList.remove('disabled');
    } else {
      lines[i].classList.remove('checked');
      lines[i].classList.add('disabled');
      lines[i].nextSibling.classList.add('disabled');
    }
  }
  var new_var = menu.querySelectorAll('.target_variable.checked');
  if (new_var.length !== app.current_config.ratio.length) {
    var new_var_names = void 0;
    if (new_var.length === 0) {
      var name = selectFirstAvailableVar();
      new_var_names = [name];
    } else {
      new_var_names = Array.prototype.slice.call(new_var).map(function (elem) {
        return elem.getAttribute('value');
      });
    }
    resetVariables(app, new_var_names);
  }
  return new_var.length;
}

/**
*
*
*
*
*/
function updateAvailableCharts(nb_var) {
  if (nb_var === 1) {
    // Allow all kind of vizu with 1 variable:
    d3.selectAll('.chart_t1').each(function () {
      this.classList.remove('disabled');
    });
    d3.selectAll('.chart_t2, .chart_t3').each(function () {
      this.classList.add('disabled');
    });
  } else if (nb_var === 2) {
    // Allow all kind of vizu with 2 variables:
    d3.selectAll('.chart_t1, .chart_t2').each(function () {
      this.classList.remove('disabled');
    });
    d3.selectAll('.chart_t3').each(function () {
      this.classList.add('disabled');
    });
  } else if (nb_var > 2) {
    // Allow all kind of vizu with 3 variables:
    d3.selectAll('.chart_t1, .chart_t2, .chart_t3').each(function () {
      this.classList.remove('disabled');
    });
  }
}

/**
* Create handlers for user event on the left menu and on the map for charts only
* allowing to use 1 variable.
*
* @param {Object} chart - The chart object.
* @param {Object} map_elem - The map object.
* @return {void}
*
*/
function bindUI_chart(chart, map_elem) {
  // User change the study zone:
  d3.selectAll('span.filter_v').on('click', function () {
    if (!this.classList.contains('checked')) {
      d3.selectAll('span.filter_v').attr('class', 'filter_v square');
      this.classList.add('checked');
      var filter_type = this.getAttribute('filter-value');
      if (filter_type === 'filter_dist') {
        var input_elem = document.getElementById('dist_filter');
        input_elem.removeAttribute('disabled');
        var dist = +input_elem.value;
        var ids = map_elem.getUnitsWithin(dist);
        applyFilter(app, ids);
      } else {
        document.getElementById('dist_filter').setAttribute('disabled', 'disabled');
        applyFilter(app, filter_type);
      }
      // makeTable(app.current_data, app.current_config);
      chart.changeStudyZone();
      chart.updateCompletude();
    }
  });

  d3.select('#dist_filter').on('change, keyup', function () {
    var ids = map_elem.getUnitsWithin(+this.value);
    applyFilter(app, ids);
    // makeTable(app.current_data, app.current_config);
    chart.changeStudyZone();
    chart.updateCompletude();
  });

  // User change the targeted region:
  d3.selectAll('span.target_region').on('click', function () {
    if (!this.classList.contains('checked')) {
      d3.selectAll('span.target_region').attr('class', 'target_region square');
      this.classList.add('checked');
      var id_region = this.getAttribute('value');
      var old_nb_var = app.current_config.ratio.length;
      changeRegion(app, id_region, map_elem);
      // Update the availables ratio on the left menu
      // (this may change the current selected ratio(s) as some variables are
      // not available for some features) and fetch the number of selected
      // variables after that:
      var new_nb_var = updateAvailableRatios(id_region);
      updateAvailableCharts(new_nb_var);
      if (new_nb_var >= app.current_config.nb_var) {
        if (old_nb_var === new_nb_var) {
          chart.updateChangeRegion();
        } else {
          d3.select('span.type_chart.selected').dispatch('click');
          alertify.warning('Une variable prÃ©cÃ©demment sÃ©lectionnÃ©e n\'est pas disponible pour cette rÃ©gion.');
        }
      } else {
        // If there fewer selected variables than requested by the current chart,
        // redraw the first (default) kind of chart:
        d3.select('span.chart_t1[value="BarChart1"]').dispatch('click');
        alertify.warning('Des variables sÃ©lectionnÃ©es sont indisponibles pour cette rÃ©gion. Un changement de reprÃ©sentation est nÃ©cessaire.');
      }
    }
  });

  // User click on the name of a group of variables
  // to expand or collapse its content:
  d3.selectAll('.name_group_var').on('click', function () {
    var group_var = this.nextSibling;
    if (group_var.style.display === 'none') {
      group_var.style.display = null;
    } else {
      group_var.style.display = 'none';
    }
  });

  // User click to add/remove a variable from the comparison:
  d3.selectAll('span.target_variable').on('click', function () {
    if (this.classList.contains('disabled')) return;
    var nb_var = Array.prototype.slice.call(document.querySelectorAll('span.target_variable')).filter(function (elem) {
      return !!elem.classList.contains('checked');
    }).length;
    // Select a new variable and trigger the appropriate changes on the current chart:
    if (!this.classList.contains('checked')) {
      // We don't want the user to be able to select more than
      // MAX_VARIABLES (default = 7) variables simultaneously:
      if (nb_var >= MAX_VARIABLES) {
        alertify.warning('Le nombre maximal de variables sÃ©lectionnÃ©es est atteint.');
        return;
      }
      this.classList.add('checked');
      var code_variable = this.getAttribute('value');
      var name_variable = exports.variables_info.find(function (d) {
        return d.ratio === code_variable;
      }).name;
      addVariable(app, code_variable);
      // makeTable(app.current_data, app.current_config);
      chart.addVariable(code_variable, name_variable);
      nb_var += 1;
    } else {
      // Remove a variable from the selection:
      nb_var -= 1;
      // We don't want to let the user remove the variable if
      // it's the only one selected or if the currently displayed
      // chart need a minimum number of variables:
      if (nb_var < app.current_config.nb_var) {
        return;
      }
      var _code_variable = this.getAttribute('value');
      this.classList.remove('checked');
      removeVariable(app, _code_variable);
      chart.removeVariable(_code_variable);
      // makeTable(app.current_data, app.current_config);
    }
    // Update the top menu to display available charts according to the current
    // number of available variables:
    updateAvailableCharts(nb_var);
  });

  d3.selectAll('span.territ_level').on('click', function () {
    if (!this.classList.contains('checked')) {
      // Reset the study zone :
      d3.select('span.filter_v[filter-value="no_filter"]').dispatch('click');
      d3.selectAll('span.territ_level').attr('class', 'territ_level square');
      this.classList.add('checked');
      var level_value = this.getAttribute('value');
      app.current_config.current_level = level_value;
      filterLevelVar(app);
      resetColors();
      map_elem.updateLevelRegion(level_value);
      map_elem.unbindBrushClick();
      map_elem.bindBrushClick(chart);
      chart.changeStudyZone();
    }
  });

  // Dispatch a click event on the associated checkbox when the text is clicked:
  d3.selectAll('span.label_chk').on('click', function () {
    this.previousSibling.click();
  });

  var header_map_section = d3.select('#map_section > #header_map');

  header_map_section.select('#img_rect_selec').on('click', function () {
    if (!this.classList.contains('active')) {
      this.classList.add('active');
      document.getElementById('img_map_zoom').classList.remove('active');
      document.getElementById('img_map_select').classList.remove('active');
      svg_map.on('.zoom', null);
      if (map_elem.brush_map) {
        svg_map.select('.brush_map').style('display', null);
      }
      map_elem.target_layer.selectAll('path').on('click', null);
    }
  });

  header_map_section.select('#img_map_zoom').on('click', function () {
    if (!this.classList.contains('active')) {
      this.classList.add('active');
      document.getElementById('img_rect_selec').classList.remove('active');
      document.getElementById('img_map_select').classList.remove('active');
      svg_map.call(map_elem.zoom_map);
      if (map_elem.brush_map) {
        svg_map.select('.brush_map').call(map_elem.brush_map.move, null);
        svg_map.select('.brush_map').style('display', 'none');
      }
      map_elem.target_layer.selectAll('path').on('click', null);
    }
  });

  header_map_section.select('#img_map_select').on('click', function () {
    if (!this.classList.contains('active')) {
      this.classList.add('active');
      document.getElementById('img_rect_selec').classList.remove('active');
      document.getElementById('img_map_zoom').classList.remove('active');
      svg_map.on('.zoom', null);
      if (map_elem.brush_map) {
        svg_map.select('.brush_map').call(map_elem.brush_map.move, null);
        svg_map.select('.brush_map').style('display', 'none');
      }
      map_elem.target_layer.selectAll('path').on('click', function (d) {
        chart.handleClickMap(d, this);
      });
    }
  });

  if (!map_elem.brush_map) {
    if (chart.handleClickMap) {
      map_elem.target_layer.selectAll('path').on('click', function (d) {
        chart.handleClickMap(d, this);
      });
    } else {
      map_elem.target_layer.selectAll('path').on('click', null);
    }
  }

  // const header_table_section = d3.select('#map_section')
  //     .insert('p', 'svg')
  //     .attr('id', 'header_table')
  //     .styles({ display: 'none', margin: 'auto', 'text-align': 'right' });

  // header_table_section.append('span')
  //   .attr('class', 'button_blue')
  //   .html('CSV')
  //   .on('click', () => {
  //     const columns = Object.keys(app.current_data[0]);
  //     const content = [
  //       'id,NumÃ©rateur,DÃ©nominateur,Ratio,Rang\r\n',
  //       app.current_data.map(d => columns.map(c => d[c]).join(',')).join('\r\n'),
  //     ].join('');
  //     const elem = document.createElement('a');
  //     elem.setAttribute('href', `data:text/plain;charset=utf-8,${encodeURIComponent(content)}`);
  //     elem.setAttribute('download', 'Regioviz_export.csv');
  //     elem.style.display = 'none';
  //     document.body.appendChild(elem);
  //     elem.click();
  //     document.body.removeChild(elem);
  //   });
  bindTopButtons(chart, map_elem);
}

/**
* Function to handle click on the top menu, in order to choose
* the kind of availables representation
*
* @param {Object} chart -
* @param {Object} map_elem -
* @return {void}
*/
function bindTopButtons(chart, map_elem) {
  d3.selectAll('.type_chart').on('click', function () {
    if (this.classList.contains('disabled')) return;
    // if (this.classList.contains('selected')) return;
    document.querySelector('.type_chart.selected').classList.remove('selected');
    this.classList.add('selected');
    chart.remove();
    chart = null; // eslint-disable-line no-param-reassign
    unbindUI();
    map_elem.resetZoom();
    app.colors = {};
    var value = this.getAttribute('value');
    if (value === 'BarChart1') {
      console.log('BarChart1');
      // makeTable(app.current_data, app.current_config);
      chart = new BarChart1(app.current_data); // eslint-disable-line no-param-reassign
      bindUI_chart(chart, map_elem);
      map_elem.bindBrushClick(chart);
      chart.bindMap(map_elem);
    } else if (value === 'ScatterPlot2') {
      console.log('ScatterPlot2');
      // makeTable(app.current_data, app.current_config);
      chart = new ScatterPlot2(app.current_data); // eslint-disable-line no-param-reassign
      bindUI_chart(chart, map_elem);
      map_elem.bindBrushClick(chart);
      chart.bindMap(map_elem);
    } else if (value === 'RadarChart3') {
      console.log('RadarChart3');
      // makeTable(app.current_data, app.current_config);
      chart = new RadarChart3(app.current_data);
      bindUI_chart(chart, map_elem);
      map_elem.bindBrushClick(chart);
      chart.bindMap(map_elem);
    } else if (value === 'Similarity1plus') {
      console.log('Similarity1plus');
      // makeTable(app.current_data, app.current_config);
      chart = new Similarity1plus(app.current_data);
      bindUI_chart(chart, map_elem);
      map_elem.bindBrushClick(chart);
      chart.bindMap(map_elem);
    }
  });
}

function loadData() {
  d3.queue(4).defer(d3.csv, 'data/REGIOVIZ_DATA.csv').defer(d3.json, 'data/CGET_nuts_all3035.geojson').defer(d3.json, 'data/borders3035.geojson').defer(d3.json, 'data/countries3035.geojson').defer(d3.json, 'data/countries-remote3035.geojson').defer(d3.json, 'data/coasts3035.geojson').defer(d3.json, 'data/coasts-remote3035.geojson').defer(d3.json, 'data/cyprus_non_espon_space3035.geojson').defer(d3.json, 'data/countries-remote-boundaries3035.geojson').defer(d3.json, 'data/frame3035.geojson').defer(d3.json, 'data/boxes3035.geojson').defer(d3.json, 'data/line3035.geojson').defer(d3.csv, 'data/indicateurs_meta.csv').awaitAll(function (error, results) {
    if (error) throw error;
    document.body.classList.remove('loading');
    document.querySelector('.spinner').remove();

    var _results = slicedToArray(results, 13),
        full_dataset = _results[0],
        nuts = _results[1],
        borders = _results[2],
        countries = _results[3],
        countries_remote = _results[4],
        coasts = _results[5],
        coasts_remote = _results[6],
        cyprus_non_espon_space = _results[7],
        countries_remote_boundaries = _results[8],
        frame = _results[9],
        boxes = _results[10],
        line = _results[11],
        metadata_indicateurs = _results[12];

    alertify.set('notifier', 'position', 'bottom-left');
    exports.variables_info = prepareVariablesInfo(metadata_indicateurs);
    prepare_dataset(full_dataset, app);
    setDefaultConfig('FRB', 'RT_CHOM_1574', 'NUTS1');
    var features_menu = full_dataset.filter(function (ft) {
      return ft.geo.indexOf('FR') > -1 && +ft.level === 1;
    });
    createMenu(features_menu, exports.variables_info, study_zones, territorial_mesh);
    bindHelpMenu();
    makeTopMenu();
    makeHeaderChart();
    setDefaultConfigMenu('FRB', 'RT_CHOM_1574', 'NUTS1');
    filterLevelVar(app);
    var map_elem = new MapSelect(nuts, [borders, countries, countries_remote, coasts, coasts_remote, cyprus_non_espon_space, countries_remote_boundaries, frame, boxes, line]);
    var chart = new BarChart1(app.current_data);
    // makeTable(app.current_data, app.current_config);
    makeHeaderMapSection();
    makeSourceSection();
    makeMapLegend();
    bindUI_chart(chart, map_elem);
    map_elem.bindBrushClick(chart);
    chart.bindMap(map_elem);
  });
}

function bindHelpMenu() {
  var help_buttons_var = document.querySelector('#menu_variables').querySelectorAll('span.i_info');
  Array.prototype.slice.call(help_buttons_var).forEach(function (btn_i) {
    // eslint-disable-next-line no-param-reassign
    btn_i.onclick = function () {
      var code_variable = this.previousSibling.previousSibling.getAttribute('value');
      var o = exports.variables_info.find(function (d) {
        return d.ratio === code_variable;
      });
      // eslint-disable-next-line new-cap
      var modal = new tingle_min.modal({
        stickyFooter: false,
        closeMethods: ['overlay', 'button', 'escape'],
        closeLabel: 'Close',
        onOpen: function onOpen() {
          document.querySelector('div.tingle-modal.tingle-modal--visible').style.background = 'rgba(0,0,0,0.4)';
        },
        onClose: function onClose() {
          modal.destroy();
        }
      });
      modal.setContent('<p style="font-family: \'Signika\',sans-serif;color: #4f81bd;font-size: 1.3rem;">Description de l\'indicateur</p>\n        <p style="font-family: \'Signika\',sans-serif;text-align: justify;">' + o.methodo.split('\n').join('<br>') + '</p>\n        <p style="font-family: \'Signika\',sans-serif;font-size: 0.8em">' + o.source + '</p>\n        <p style="font-family: \'Signika\',sans-serif;font-size: 0.8em">Date de t\xE9l\xE9chargement de la donn\xE9es : ' + o.last_update + '</p>');
      modal.open();
    };
  });

  var helps_buttons_study_zone = document.querySelector('#menu_studyzone').querySelectorAll('span.i_info');
  Array.prototype.slice.call(helps_buttons_study_zone).forEach(function (btn_i) {
    // eslint-disable-next-line no-param-reassign
    btn_i.onclick = function () {
      var filter_name = this.previousSibling.previousSibling.getAttribute('filter-value');
      // eslint-disable-next-line new-cap
      var modal = new tingle_min.modal({
        stickyFooter: false,
        closeMethods: ['overlay', 'button', 'escape'],
        closeLabel: 'Close',
        onOpen: function onOpen() {
          document.querySelector('div.tingle-modal.tingle-modal--visible').style.background = 'rgba(0,0,0,0.4)';
        },
        onClose: function onClose() {
          modal.destroy();
        }
      });
      modal.setContent('<p style="font-family: \'Signika\',sans-serif;color: #4f81bd;font-size: 1.3rem;">M\xE9thodologie</p>\n        <p style="font-family: \'Signika\',sans-serif;text-align: justify;">' + filter_name + '</p>');
      modal.open();
    };
  });

  var helps_buttons_territ_unit = document.querySelector('#menu_territ_level').querySelectorAll('span.i_info');
  Array.prototype.slice.call(helps_buttons_territ_unit).forEach(function (btn_i) {
    // eslint-disable-next-line no-param-reassign
    btn_i.onclick = function () {
      var territ_level_name = this.previousSibling.previousSibling.getAttribute('value');
      // eslint-disable-next-line new-cap
      var modal = new tingle_min.modal({
        stickyFooter: false,
        closeMethods: ['overlay', 'button', 'escape'],
        closeLabel: 'Close',
        onOpen: function onOpen() {
          document.querySelector('div.tingle-modal.tingle-modal--visible').style.background = 'rgba(0,0,0,0,0.4)';
        },
        onClose: function onClose() {
          modal.destroy();
        }
      });
      modal.setContent('\n        <p style="font-family: \'Signika\',sans-serif; color: #4f81bd;font-size: 1.3rem;">Titre</p>\n        <p style="font-family: \'Signika\',sans-serif;text-align: justify;">' + territ_level_name + '</p>');
      modal.open();
    };
  });
}

loadData();

exports.app = app;
exports.resetColors = resetColors;
exports.bindTopButtons = bindTopButtons;

}((this.App = this.App || {})));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy90aW5nbGUuanMvZGlzdC90aW5nbGUubWluLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2FsZXJ0aWZ5anMvYnVpbGQvYWxlcnRpZnkuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL29wdGlvbnMuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL2hlbHBlcnMuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL21lbnVsZWZ0LmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9tZW51dG9wLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3RpcHB5LmpzL2Rpc3QvdGlwcHkuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL3ByZXBhcmVfZGF0YS5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvbWFwLmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy90YWJsZVJlc3VtZVN0YXQuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL2NvbXBsZXR1ZGUuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL2NoYXJ0cy9iYXJDaGFydF8xdi5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvY29udGV4dE1lbnUuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL2NoYXJ0cy9zY2F0dGVyUGxvdF8ydi5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvY2hhcnRzL3JhZGFyQ2hhcnRfM3YuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL2NoYXJ0cy9zaW1pbGFyaXR5MXYuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbih0LG8pe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUobyk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9bygpOnQudGluZ2xlPW8oKX0odGhpcyxmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dmFyIG89e29uQ2xvc2U6bnVsbCxvbk9wZW46bnVsbCxiZWZvcmVPcGVuOm51bGwsYmVmb3JlQ2xvc2U6bnVsbCxzdGlja3lGb290ZXI6ITEsZm9vdGVyOiExLGNzc0NsYXNzOltdLGNsb3NlTGFiZWw6XCJDbG9zZVwiLGNsb3NlTWV0aG9kczpbXCJvdmVybGF5XCIsXCJidXR0b25cIixcImVzY2FwZVwiXX07dGhpcy5vcHRzPXIoe30sbyx0KSx0aGlzLmluaXQoKX1mdW5jdGlvbiBvKCl7dGhpcy5tb2RhbEJveEZvb3RlciYmKHRoaXMubW9kYWxCb3hGb290ZXIuc3R5bGUud2lkdGg9dGhpcy5tb2RhbEJveC5jbGllbnRXaWR0aCtcInB4XCIsdGhpcy5tb2RhbEJveEZvb3Rlci5zdHlsZS5sZWZ0PXRoaXMubW9kYWxCb3gub2Zmc2V0TGVmdCtcInB4XCIpfWZ1bmN0aW9uIGUoKXt0aGlzLm1vZGFsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5tb2RhbC5jbGFzc0xpc3QuYWRkKFwidGluZ2xlLW1vZGFsXCIpLDAhPT10aGlzLm9wdHMuY2xvc2VNZXRob2RzLmxlbmd0aCYmdGhpcy5vcHRzLmNsb3NlTWV0aG9kcy5pbmRleE9mKFwib3ZlcmxheVwiKSE9PS0xfHx0aGlzLm1vZGFsLmNsYXNzTGlzdC5hZGQoXCJ0aW5nbGUtbW9kYWwtLW5vT3ZlcmxheUNsb3NlXCIpLHRoaXMubW9kYWwuc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0aGlzLm9wdHMuY3NzQ2xhc3MuZm9yRWFjaChmdW5jdGlvbih0KXtcInN0cmluZ1wiPT10eXBlb2YgdCYmdGhpcy5tb2RhbC5jbGFzc0xpc3QuYWRkKHQpfSx0aGlzKSx0aGlzLm9wdHMuY2xvc2VNZXRob2RzLmluZGV4T2YoXCJidXR0b25cIikhPT0tMSYmKHRoaXMubW9kYWxDbG9zZUJ0bj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpLHRoaXMubW9kYWxDbG9zZUJ0bi5jbGFzc0xpc3QuYWRkKFwidGluZ2xlLW1vZGFsX19jbG9zZVwiKSx0aGlzLm1vZGFsQ2xvc2VCdG5JY29uPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpLHRoaXMubW9kYWxDbG9zZUJ0bkljb24uY2xhc3NMaXN0LmFkZChcInRpbmdsZS1tb2RhbF9fY2xvc2VJY29uXCIpLHRoaXMubW9kYWxDbG9zZUJ0bkljb24uaW5uZXJIVE1MPVwiw5dcIix0aGlzLm1vZGFsQ2xvc2VCdG5MYWJlbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSx0aGlzLm1vZGFsQ2xvc2VCdG5MYWJlbC5jbGFzc0xpc3QuYWRkKFwidGluZ2xlLW1vZGFsX19jbG9zZUxhYmVsXCIpLHRoaXMubW9kYWxDbG9zZUJ0bkxhYmVsLmlubmVySFRNTD10aGlzLm9wdHMuY2xvc2VMYWJlbCx0aGlzLm1vZGFsQ2xvc2VCdG4uYXBwZW5kQ2hpbGQodGhpcy5tb2RhbENsb3NlQnRuSWNvbiksdGhpcy5tb2RhbENsb3NlQnRuLmFwcGVuZENoaWxkKHRoaXMubW9kYWxDbG9zZUJ0bkxhYmVsKSksdGhpcy5tb2RhbEJveD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMubW9kYWxCb3guY2xhc3NMaXN0LmFkZChcInRpbmdsZS1tb2RhbC1ib3hcIiksdGhpcy5tb2RhbEJveENvbnRlbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLm1vZGFsQm94Q29udGVudC5jbGFzc0xpc3QuYWRkKFwidGluZ2xlLW1vZGFsLWJveF9fY29udGVudFwiKSx0aGlzLm1vZGFsQm94LmFwcGVuZENoaWxkKHRoaXMubW9kYWxCb3hDb250ZW50KSx0aGlzLm9wdHMuY2xvc2VNZXRob2RzLmluZGV4T2YoXCJidXR0b25cIikhPT0tMSYmdGhpcy5tb2RhbC5hcHBlbmRDaGlsZCh0aGlzLm1vZGFsQ2xvc2VCdG4pLHRoaXMubW9kYWwuYXBwZW5kQ2hpbGQodGhpcy5tb2RhbEJveCl9ZnVuY3Rpb24gcygpe3RoaXMubW9kYWxCb3hGb290ZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLm1vZGFsQm94Rm9vdGVyLmNsYXNzTGlzdC5hZGQoXCJ0aW5nbGUtbW9kYWwtYm94X19mb290ZXJcIiksdGhpcy5tb2RhbEJveC5hcHBlbmRDaGlsZCh0aGlzLm1vZGFsQm94Rm9vdGVyKX1mdW5jdGlvbiBpKCl7dGhpcy5fZXZlbnRzPXtjbGlja0Nsb3NlQnRuOnRoaXMuY2xvc2UuYmluZCh0aGlzKSxjbGlja092ZXJsYXk6bC5iaW5kKHRoaXMpLHJlc2l6ZTp0aGlzLmNoZWNrT3ZlcmZsb3cuYmluZCh0aGlzKSxrZXlib2FyZE5hdjpuLmJpbmQodGhpcyl9LHRoaXMub3B0cy5jbG9zZU1ldGhvZHMuaW5kZXhPZihcImJ1dHRvblwiKSE9PS0xJiZ0aGlzLm1vZGFsQ2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5fZXZlbnRzLmNsaWNrQ2xvc2VCdG4pLHRoaXMubW9kYWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMuX2V2ZW50cy5jbGlja092ZXJsYXkpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsdGhpcy5fZXZlbnRzLnJlc2l6ZSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix0aGlzLl9ldmVudHMua2V5Ym9hcmROYXYpfWZ1bmN0aW9uIG4odCl7dGhpcy5vcHRzLmNsb3NlTWV0aG9kcy5pbmRleE9mKFwiZXNjYXBlXCIpIT09LTEmJjI3PT09dC53aGljaCYmdGhpcy5pc09wZW4oKSYmdGhpcy5jbG9zZSgpfWZ1bmN0aW9uIGwodCl7dGhpcy5vcHRzLmNsb3NlTWV0aG9kcy5pbmRleE9mKFwib3ZlcmxheVwiKSE9PS0xJiYhZCh0LnRhcmdldCxcInRpbmdsZS1tb2RhbFwiKSYmdC5jbGllbnRYPHRoaXMubW9kYWwuY2xpZW50V2lkdGgmJnRoaXMuY2xvc2UoKX1mdW5jdGlvbiBkKHQsbyl7Zm9yKDsodD10LnBhcmVudEVsZW1lbnQpJiYhdC5jbGFzc0xpc3QuY29udGFpbnMobyk7KTtyZXR1cm4gdH1mdW5jdGlvbiBhKCl7dGhpcy5vcHRzLmNsb3NlTWV0aG9kcy5pbmRleE9mKFwiYnV0dG9uXCIpIT09LTEmJnRoaXMubW9kYWxDbG9zZUJ0bi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLl9ldmVudHMuY2xpY2tDbG9zZUJ0biksdGhpcy5tb2RhbC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsdGhpcy5fZXZlbnRzLmNsaWNrT3ZlcmxheSksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLl9ldmVudHMucmVzaXplKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLHRoaXMuX2V2ZW50cy5rZXlib2FyZE5hdil9ZnVuY3Rpb24gcigpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZm9yKHZhciBvIGluIGFyZ3VtZW50c1t0XSlhcmd1bWVudHNbdF0uaGFzT3duUHJvcGVydHkobykmJihhcmd1bWVudHNbMF1bb109YXJndW1lbnRzW3RdW29dKTtyZXR1cm4gYXJndW1lbnRzWzBdfWZ1bmN0aW9uIGgoKXt2YXIgdCxvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0aW5nbGUtdGVzdC10cmFuc2l0aW9uXCIpLGU9e3RyYW5zaXRpb246XCJ0cmFuc2l0aW9uZW5kXCIsT1RyYW5zaXRpb246XCJvVHJhbnNpdGlvbkVuZFwiLE1velRyYW5zaXRpb246XCJ0cmFuc2l0aW9uZW5kXCIsV2Via2l0VHJhbnNpdGlvbjpcIndlYmtpdFRyYW5zaXRpb25FbmRcIn07Zm9yKHQgaW4gZSlpZih2b2lkIDAhPT1vLnN0eWxlW3RdKXJldHVybiBlW3RdfXZhciBjPWgoKTtyZXR1cm4gdC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3RoaXMubW9kYWx8fChlLmNhbGwodGhpcyksaS5jYWxsKHRoaXMpLGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKHRoaXMubW9kYWwsZG9jdW1lbnQuYm9keS5maXJzdENoaWxkKSx0aGlzLm9wdHMuZm9vdGVyJiZ0aGlzLmFkZEZvb3RlcigpKX0sdC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe251bGwhPT10aGlzLm1vZGFsJiYoYS5jYWxsKHRoaXMpLHRoaXMubW9kYWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLm1vZGFsKSx0aGlzLm1vZGFsPW51bGwpfSx0LnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztcImZ1bmN0aW9uXCI9PXR5cGVvZiB0Lm9wdHMuYmVmb3JlT3BlbiYmdC5vcHRzLmJlZm9yZU9wZW4oKSx0aGlzLm1vZGFsLnN0eWxlLnJlbW92ZVByb3BlcnR5P3RoaXMubW9kYWwuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJkaXNwbGF5XCIpOnRoaXMubW9kYWwuc3R5bGUucmVtb3ZlQXR0cmlidXRlKFwiZGlzcGxheVwiKSxkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoXCJ0aW5nbGUtZW5hYmxlZFwiKSx0aGlzLnNldFN0aWNreUZvb3Rlcih0aGlzLm9wdHMuc3RpY2t5Rm9vdGVyKSx0aGlzLm1vZGFsLmNsYXNzTGlzdC5hZGQoXCJ0aW5nbGUtbW9kYWwtLXZpc2libGVcIiksYz90aGlzLm1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoYyxmdW5jdGlvbiBvKCl7XCJmdW5jdGlvblwiPT10eXBlb2YgdC5vcHRzLm9uT3BlbiYmdC5vcHRzLm9uT3Blbi5jYWxsKHQpLHQubW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihjLG8sITEpfSwhMSk6XCJmdW5jdGlvblwiPT10eXBlb2YgdC5vcHRzLm9uT3BlbiYmdC5vcHRzLm9uT3Blbi5jYWxsKHQpLHRoaXMuY2hlY2tPdmVyZmxvdygpfSx0LnByb3RvdHlwZS5pc09wZW49ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMubW9kYWwuY2xhc3NMaXN0LmNvbnRhaW5zKFwidGluZ2xlLW1vZGFsLS12aXNpYmxlXCIpfSx0LnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMub3B0cy5iZWZvcmVDbG9zZSl7dmFyIHQ9dGhpcy5vcHRzLmJlZm9yZUNsb3NlLmNhbGwodGhpcyk7aWYoIXQpcmV0dXJufWRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShcInRpbmdsZS1lbmFibGVkXCIpLHRoaXMubW9kYWwuY2xhc3NMaXN0LnJlbW92ZShcInRpbmdsZS1tb2RhbC0tdmlzaWJsZVwiKTt2YXIgbz10aGlzO2M/dGhpcy5tb2RhbC5hZGRFdmVudExpc3RlbmVyKGMsZnVuY3Rpb24gdCgpe28ubW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihjLHQsITEpLG8ubW9kYWwuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixcImZ1bmN0aW9uXCI9PXR5cGVvZiBvLm9wdHMub25DbG9zZSYmby5vcHRzLm9uQ2xvc2UuY2FsbCh0aGlzKX0sITEpOihvLm1vZGFsLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsXCJmdW5jdGlvblwiPT10eXBlb2Ygby5vcHRzLm9uQ2xvc2UmJm8ub3B0cy5vbkNsb3NlLmNhbGwodGhpcykpfSx0LnByb3RvdHlwZS5zZXRDb250ZW50PWZ1bmN0aW9uKHQpe1wic3RyaW5nXCI9PXR5cGVvZiB0P3RoaXMubW9kYWxCb3hDb250ZW50LmlubmVySFRNTD10Oih0aGlzLm1vZGFsQm94Q29udGVudC5pbm5lckhUTUw9XCJcIix0aGlzLm1vZGFsQm94Q29udGVudC5hcHBlbmRDaGlsZCh0KSl9LHQucHJvdG90eXBlLmdldENvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb2RhbEJveENvbnRlbnR9LHQucHJvdG90eXBlLmFkZEZvb3Rlcj1mdW5jdGlvbigpe3MuY2FsbCh0aGlzKX0sdC5wcm90b3R5cGUuc2V0Rm9vdGVyQ29udGVudD1mdW5jdGlvbih0KXt0aGlzLm1vZGFsQm94Rm9vdGVyLmlubmVySFRNTD10fSx0LnByb3RvdHlwZS5nZXRGb290ZXJDb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW9kYWxCb3hGb290ZXJ9LHQucHJvdG90eXBlLnNldFN0aWNreUZvb3Rlcj1mdW5jdGlvbih0KXt0aGlzLmlzT3ZlcmZsb3coKXx8KHQ9ITEpLHQ/dGhpcy5tb2RhbEJveC5jb250YWlucyh0aGlzLm1vZGFsQm94Rm9vdGVyKSYmKHRoaXMubW9kYWxCb3gucmVtb3ZlQ2hpbGQodGhpcy5tb2RhbEJveEZvb3RlciksdGhpcy5tb2RhbC5hcHBlbmRDaGlsZCh0aGlzLm1vZGFsQm94Rm9vdGVyKSx0aGlzLm1vZGFsQm94Rm9vdGVyLmNsYXNzTGlzdC5hZGQoXCJ0aW5nbGUtbW9kYWwtYm94X19mb290ZXItLXN0aWNreVwiKSxvLmNhbGwodGhpcyksdGhpcy5tb2RhbEJveENvbnRlbnQuc3R5bGVbXCJwYWRkaW5nLWJvdHRvbVwiXT10aGlzLm1vZGFsQm94Rm9vdGVyLmNsaWVudEhlaWdodCsyMCtcInB4XCIpOnRoaXMubW9kYWxCb3hGb290ZXImJih0aGlzLm1vZGFsQm94LmNvbnRhaW5zKHRoaXMubW9kYWxCb3hGb290ZXIpfHwodGhpcy5tb2RhbC5yZW1vdmVDaGlsZCh0aGlzLm1vZGFsQm94Rm9vdGVyKSx0aGlzLm1vZGFsQm94LmFwcGVuZENoaWxkKHRoaXMubW9kYWxCb3hGb290ZXIpLHRoaXMubW9kYWxCb3hGb290ZXIuc3R5bGUud2lkdGg9XCJhdXRvXCIsdGhpcy5tb2RhbEJveEZvb3Rlci5zdHlsZS5sZWZ0PVwiXCIsdGhpcy5tb2RhbEJveENvbnRlbnQuc3R5bGVbXCJwYWRkaW5nLWJvdHRvbVwiXT1cIlwiLHRoaXMubW9kYWxCb3hGb290ZXIuY2xhc3NMaXN0LnJlbW92ZShcInRpbmdsZS1tb2RhbC1ib3hfX2Zvb3Rlci0tc3RpY2t5XCIpKSl9LHQucHJvdG90eXBlLmFkZEZvb3RlckJ0bj1mdW5jdGlvbih0LG8sZSl7dmFyIHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtyZXR1cm4gcy5pbm5lckhUTUw9dCxzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGUpLFwic3RyaW5nXCI9PXR5cGVvZiBvJiZvLmxlbmd0aCYmby5zcGxpdChcIiBcIikuZm9yRWFjaChmdW5jdGlvbih0KXtzLmNsYXNzTGlzdC5hZGQodCl9KSx0aGlzLm1vZGFsQm94Rm9vdGVyLmFwcGVuZENoaWxkKHMpLHN9LHQucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlJlc2l6ZSBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdmVyc2lvbiAxLjBcIil9LHQucHJvdG90eXBlLmlzT3ZlcmZsb3c9ZnVuY3Rpb24oKXt2YXIgdD13aW5kb3cuaW5uZXJIZWlnaHQsbz10aGlzLm1vZGFsQm94LmNsaWVudEhlaWdodDtyZXR1cm4gbz49dH0sdC5wcm90b3R5cGUuY2hlY2tPdmVyZmxvdz1mdW5jdGlvbigpe3RoaXMubW9kYWwuY2xhc3NMaXN0LmNvbnRhaW5zKFwidGluZ2xlLW1vZGFsLS12aXNpYmxlXCIpJiYodGhpcy5pc092ZXJmbG93KCk/dGhpcy5tb2RhbC5jbGFzc0xpc3QuYWRkKFwidGluZ2xlLW1vZGFsLS1vdmVyZmxvd1wiKTp0aGlzLm1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXCJ0aW5nbGUtbW9kYWwtLW92ZXJmbG93XCIpLCF0aGlzLmlzT3ZlcmZsb3coKSYmdGhpcy5vcHRzLnN0aWNreUZvb3Rlcj90aGlzLnNldFN0aWNreUZvb3RlcighMSk6dGhpcy5pc092ZXJmbG93KCkmJnRoaXMub3B0cy5zdGlja3lGb290ZXImJihvLmNhbGwodGhpcyksdGhpcy5zZXRTdGlja3lGb290ZXIoITApKSl9LHttb2RhbDp0fX0pOyIsIi8qKlxyXG4gKiBhbGVydGlmeWpzIDEuMTEuMCBodHRwOi8vYWxlcnRpZnlqcy5jb21cclxuICogQWxlcnRpZnlKUyBpcyBhIGphdmFzY3JpcHQgZnJhbWV3b3JrIGZvciBkZXZlbG9waW5nIHByZXR0eSBicm93c2VyIGRpYWxvZ3MgYW5kIG5vdGlmaWNhdGlvbnMuXHJcbiAqIENvcHlyaWdodCAyMDE3IE1vaGFtbWFkIFlvdW5lcyA8TW9oYW1tYWRAYWxlcnRpZnlqcy5jb20+IChodHRwOi8vYWxlcnRpZnlqcy5jb20pIFxyXG4gKiBMaWNlbnNlZCB1bmRlciBHUEwgMyA8aHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9ncGwtMy4wPiovXHJcbiggZnVuY3Rpb24gKCB3aW5kb3cgKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogS2V5cyBlbnVtXHJcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICB2YXIga2V5cyA9IHtcclxuICAgICAgICBFTlRFUjogMTMsXHJcbiAgICAgICAgRVNDOiAyNyxcclxuICAgICAgICBGMTogMTEyLFxyXG4gICAgICAgIEYxMjogMTIzLFxyXG4gICAgICAgIExFRlQ6IDM3LFxyXG4gICAgICAgIFJJR0hUOiAzOVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRGVmYXVsdCBvcHRpb25zIFxyXG4gICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgdmFyIGRlZmF1bHRzID0ge1xyXG4gICAgICAgIGF1dG9SZXNldDp0cnVlLFxyXG4gICAgICAgIGJhc2ljOmZhbHNlLFxyXG4gICAgICAgIGNsb3NhYmxlOnRydWUsXHJcbiAgICAgICAgY2xvc2FibGVCeURpbW1lcjp0cnVlLFxyXG4gICAgICAgIGZyYW1lbGVzczpmYWxzZSxcclxuICAgICAgICBtYWludGFpbkZvY3VzOnRydWUsIC8vZ2xvYmFsIGRlZmF1bHQgbm90IHBlciBpbnN0YW5jZSwgYXBwbGllcyB0byBhbGwgZGlhbG9nc1xyXG4gICAgICAgIG1heGltaXphYmxlOnRydWUsXHJcbiAgICAgICAgbW9kYWw6dHJ1ZSxcclxuICAgICAgICBtb3ZhYmxlOnRydWUsXHJcbiAgICAgICAgbW92ZUJvdW5kZWQ6ZmFsc2UsXHJcbiAgICAgICAgb3ZlcmZsb3c6dHJ1ZSxcclxuICAgICAgICBwYWRkaW5nOiB0cnVlLFxyXG4gICAgICAgIHBpbm5hYmxlOnRydWUsXHJcbiAgICAgICAgcGlubmVkOnRydWUsXHJcbiAgICAgICAgcHJldmVudEJvZHlTaGlmdDpmYWxzZSwgLy9nbG9iYWwgZGVmYXVsdCBub3QgcGVyIGluc3RhbmNlLCBhcHBsaWVzIHRvIGFsbCBkaWFsb2dzXHJcbiAgICAgICAgcmVzaXphYmxlOnRydWUsXHJcbiAgICAgICAgc3RhcnRNYXhpbWl6ZWQ6ZmFsc2UsXHJcbiAgICAgICAgdHJhbnNpdGlvbjoncHVsc2UnLFxyXG4gICAgICAgIG5vdGlmaWVyOntcclxuICAgICAgICAgICAgZGVsYXk6NSxcclxuICAgICAgICAgICAgcG9zaXRpb246J2JvdHRvbS1yaWdodCcsXHJcbiAgICAgICAgICAgIGNsb3NlQnV0dG9uOmZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICBnbG9zc2FyeTp7XHJcbiAgICAgICAgICAgIHRpdGxlOidBbGVydGlmeUpTJyxcclxuICAgICAgICAgICAgb2s6ICdPSycsXHJcbiAgICAgICAgICAgIGNhbmNlbDogJ0NhbmNlbCcsXHJcbiAgICAgICAgICAgIGFjY2NwdDogJ0FjY2VwdCcsXHJcbiAgICAgICAgICAgIGRlbnk6ICdEZW55JyxcclxuICAgICAgICAgICAgY29uZmlybTogJ0NvbmZpcm0nLFxyXG4gICAgICAgICAgICBkZWNsaW5lOiAnRGVjbGluZScsXHJcbiAgICAgICAgICAgIGNsb3NlOiAnQ2xvc2UnLFxyXG4gICAgICAgICAgICBtYXhpbWl6ZTogJ01heGltaXplJyxcclxuICAgICAgICAgICAgcmVzdG9yZTogJ1Jlc3RvcmUnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdGhlbWU6e1xyXG4gICAgICAgICAgICBpbnB1dDonYWpzLWlucHV0JyxcclxuICAgICAgICAgICAgb2s6J2Fqcy1vaycsXHJcbiAgICAgICAgICAgIGNhbmNlbDonYWpzLWNhbmNlbCcsXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy9ob2xkcyBvcGVuIGRpYWxvZ3MgaW5zdGFuY2VzXHJcbiAgICB2YXIgb3BlbkRpYWxvZ3MgPSBbXTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFtIZWxwZXJdICBBZGRzIHRoZSBzcGVjaWZpZWQgY2xhc3MoZXMpIHRvIHRoZSBlbGVtZW50LlxyXG4gICAgICpcclxuICAgICAqIEBlbGVtZW50IHtub2RlfSAgICAgIFRoZSBlbGVtZW50XHJcbiAgICAgKiBAY2xhc3NOYW1lIHtzdHJpbmd9ICBPbmUgb3IgbW9yZSBzcGFjZS1zZXBhcmF0ZWQgY2xhc3NlcyB0byBiZSBhZGRlZCB0byB0aGUgY2xhc3MgYXR0cmlidXRlIG9mIHRoZSBlbGVtZW50LlxyXG4gICAgICogXHJcbiAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGFkZENsYXNzKGVsZW1lbnQsY2xhc3NOYW1lcyl7XHJcbiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgKz0gJyAnICsgY2xhc3NOYW1lcztcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBbSGVscGVyXSAgUmVtb3ZlcyB0aGUgc3BlY2lmaWVkIGNsYXNzKGVzKSBmcm9tIHRoZSBlbGVtZW50LlxyXG4gICAgICpcclxuICAgICAqIEBlbGVtZW50IHtub2RlfSAgICAgIFRoZSBlbGVtZW50XHJcbiAgICAgKiBAY2xhc3NOYW1lIHtzdHJpbmd9ICBPbmUgb3IgbW9yZSBzcGFjZS1zZXBhcmF0ZWQgY2xhc3NlcyB0byBiZSByZW1vdmVkIGZyb20gdGhlIGNsYXNzIGF0dHJpYnV0ZSBvZiB0aGUgZWxlbWVudC5cclxuICAgICAqIFxyXG4gICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiByZW1vdmVDbGFzcyhlbGVtZW50LCBjbGFzc05hbWVzKSB7XHJcbiAgICAgICAgdmFyIG9yaWdpbmFsID0gZWxlbWVudC5jbGFzc05hbWUuc3BsaXQoJyAnKTtcclxuICAgICAgICB2YXIgdG9CZVJlbW92ZWQgPSBjbGFzc05hbWVzLnNwbGl0KCcgJyk7XHJcbiAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB0b0JlUmVtb3ZlZC5sZW5ndGg7IHggKz0gMSkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBvcmlnaW5hbC5pbmRleE9mKHRvQmVSZW1vdmVkW3hdKTtcclxuICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpe1xyXG4gICAgICAgICAgICAgICAgb3JpZ2luYWwuc3BsaWNlKGluZGV4LDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gb3JpZ2luYWwuam9pbignICcpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogW0hlbHBlcl0gIENoZWNrcyBpZiB0aGUgZG9jdW1lbnQgaXMgUlRMXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgZG9jdW1lbnQgaXMgUlRMLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGlzUmlnaHRUb0xlZnQoKXtcclxuICAgICAgICByZXR1cm4gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuYm9keSkuZGlyZWN0aW9uID09PSAncnRsJztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogW0hlbHBlcl0gIEdldCB0aGUgZG9jdW1lbnQgY3VycmVudCBzY3JvbGxUb3BcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGN1cnJlbnQgZG9jdW1lbnQgc2Nyb2xsVG9wIHZhbHVlXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGdldFNjcm9sbFRvcCgpe1xyXG4gICAgICAgIHJldHVybiAoKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKSB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBbSGVscGVyXSAgR2V0IHRoZSBkb2N1bWVudCBjdXJyZW50IHNjcm9sbExlZnRcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGN1cnJlbnQgZG9jdW1lbnQgc2Nyb2xsTGVmdCB2YWx1ZVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRTY3JvbGxMZWZ0KCl7XHJcbiAgICAgICAgcmV0dXJuICgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0KSB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBIZWxwZXI6IGNsZWFyIGNvbnRlbnRzXHJcbiAgICAqXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gY2xlYXJDb250ZW50cyhlbGVtZW50KXtcclxuICAgICAgICB3aGlsZSAoZWxlbWVudC5sYXN0Q2hpbGQpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVDaGlsZChlbGVtZW50Lmxhc3RDaGlsZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBFeHRlbmRzIGEgZ2l2ZW4gcHJvdG90eXBlIGJ5IG1lcmdpbmcgcHJvcGVydGllcyBmcm9tIGJhc2UgaW50byBzdWIuXHJcbiAgICAgKlxyXG4gICAgICogQHN1YiB7T2JqZWN0fSBzdWIgVGhlIHByb3RvdHlwZSBiZWluZyBvdmVyd3JpdHRlbi5cclxuICAgICAqIEBiYXNlIHtPYmplY3R9IGJhc2UgVGhlIHByb3RvdHlwZSBiZWluZyB3cml0dGVuLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGV4dGVuZGVkIHByb3RvdHlwZS5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gY29weShzcmMpIHtcclxuICAgICAgICBpZihudWxsID09PSBzcmMpe1xyXG4gICAgICAgICAgICByZXR1cm4gc3JjO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgY3B5O1xyXG4gICAgICAgIGlmKEFycmF5LmlzQXJyYXkoc3JjKSl7XHJcbiAgICAgICAgICAgIGNweSA9IFtdO1xyXG4gICAgICAgICAgICBmb3IodmFyIHg9MDt4PHNyYy5sZW5ndGg7eCs9MSl7XHJcbiAgICAgICAgICAgICAgICBjcHkucHVzaChjb3B5KHNyY1t4XSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjcHk7XHJcbiAgICAgICAgfVxyXG4gICAgICBcclxuICAgICAgICBpZihzcmMgaW5zdGFuY2VvZiBEYXRlKXtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHNyYy5nZXRUaW1lKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgXHJcbiAgICAgICAgaWYoc3JjIGluc3RhbmNlb2YgUmVnRXhwKXtcclxuICAgICAgICAgICAgY3B5ID0gbmV3IFJlZ0V4cChzcmMuc291cmNlKTtcclxuICAgICAgICAgICAgY3B5Lmdsb2JhbCA9IHNyYy5nbG9iYWw7XHJcbiAgICAgICAgICAgIGNweS5pZ25vcmVDYXNlID0gc3JjLmlnbm9yZUNhc2U7XHJcbiAgICAgICAgICAgIGNweS5tdWx0aWxpbmUgPSBzcmMubXVsdGlsaW5lO1xyXG4gICAgICAgICAgICBjcHkubGFzdEluZGV4ID0gc3JjLmxhc3RJbmRleDtcclxuICAgICAgICAgICAgcmV0dXJuIGNweTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYodHlwZW9mIHNyYyA9PT0gJ29iamVjdCcpe1xyXG4gICAgICAgICAgICBjcHkgPSB7fTtcclxuICAgICAgICAgICAgLy8gY29weSBkaWFsb2cgcG90b3R5cGUgb3ZlciBkZWZpbml0aW9uLlxyXG4gICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHNyYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNyYy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNweVtwcm9wXSA9IGNvcHkoc3JjW3Byb3BdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY3B5O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3JjO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgICogSGVscGVyOiBkZXN0cnVjdCB0aGUgZGlhbG9nXHJcbiAgICAgICpcclxuICAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGRlc3RydWN0KGluc3RhbmNlLCBpbml0aWFsaXplKXtcclxuICAgICAgICAvL2RlbGV0ZSB0aGUgZG9tIGFuZCBpdCdzIHJlZmVyZW5jZXMuXHJcbiAgICAgICAgdmFyIHJvb3QgPSBpbnN0YW5jZS5lbGVtZW50cy5yb290O1xyXG4gICAgICAgIHJvb3QucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyb290KTtcclxuICAgICAgICBkZWxldGUgaW5zdGFuY2UuZWxlbWVudHM7XHJcbiAgICAgICAgLy9jb3B5IGJhY2sgaW5pdGlhbCBzZXR0aW5ncy5cclxuICAgICAgICBpbnN0YW5jZS5zZXR0aW5ncyA9IGNvcHkoaW5zdGFuY2UuX19zZXR0aW5ncyk7XHJcbiAgICAgICAgLy9yZS1yZWZlcmVuY2UgaW5pdCBmdW5jdGlvbi5cclxuICAgICAgICBpbnN0YW5jZS5fX2luaXQgPSBpbml0aWFsaXplO1xyXG4gICAgICAgIC8vZGVsZXRlIF9faW50ZXJuYWwgdmFyaWFibGUgdG8gYWxsb3cgcmUtaW5pdGlhbGl6YXRpb24uXHJcbiAgICAgICAgZGVsZXRlIGluc3RhbmNlLl9faW50ZXJuYWw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVc2UgYSBjbG9zdXJlIHRvIHJldHVybiBwcm9wZXIgZXZlbnQgbGlzdGVuZXIgbWV0aG9kLiBUcnkgdG8gdXNlXHJcbiAgICAgKiBgYWRkRXZlbnRMaXN0ZW5lcmAgYnkgZGVmYXVsdCBidXQgZmFsbGJhY2sgdG8gYGF0dGFjaEV2ZW50YCBmb3JcclxuICAgICAqIHVuc3VwcG9ydGVkIGJyb3dzZXIuIFRoZSBjbG9zdXJlIHNpbXBseSBlbnN1cmVzIHRoYXQgdGhlIHRlc3QgZG9lc24ndFxyXG4gICAgICogaGFwcGVuIGV2ZXJ5IHRpbWUgdGhlIG1ldGhvZCBpcyBjYWxsZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICAgIHtOb2RlfSAgICAgZWwgICAgTm9kZSBlbGVtZW50XHJcbiAgICAgKiBAcGFyYW0gICAge1N0cmluZ30gICBldmVudCBFdmVudCB0eXBlXHJcbiAgICAgKiBAcGFyYW0gICAge0Z1bmN0aW9ufSBmbiAgICBDYWxsYmFjayBvZiBldmVudFxyXG4gICAgICogQHJldHVybiAgIHtGdW5jdGlvbn1cclxuICAgICAqL1xyXG4gICAgdmFyIG9uID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcikge1xyXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGVsLCBldmVudCwgZm4sIHVzZUNhcHR1cmUpIHtcclxuICAgICAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGZuLCB1c2VDYXB0dXJlID09PSB0cnVlKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmF0dGFjaEV2ZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoZWwsIGV2ZW50LCBmbikge1xyXG4gICAgICAgICAgICAgICAgZWwuYXR0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBmbik7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfSgpKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFVzZSBhIGNsb3N1cmUgdG8gcmV0dXJuIHByb3BlciBldmVudCBsaXN0ZW5lciBtZXRob2QuIFRyeSB0byB1c2VcclxuICAgICAqIGByZW1vdmVFdmVudExpc3RlbmVyYCBieSBkZWZhdWx0IGJ1dCBmYWxsYmFjayB0byBgZGV0YWNoRXZlbnRgIGZvclxyXG4gICAgICogdW5zdXBwb3J0ZWQgYnJvd3Nlci4gVGhlIGNsb3N1cmUgc2ltcGx5IGVuc3VyZXMgdGhhdCB0aGUgdGVzdCBkb2Vzbid0XHJcbiAgICAgKiBoYXBwZW4gZXZlcnkgdGltZSB0aGUgbWV0aG9kIGlzIGNhbGxlZC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICAge05vZGV9ICAgICBlbCAgICBOb2RlIGVsZW1lbnRcclxuICAgICAqIEBwYXJhbSAgICB7U3RyaW5nfSAgIGV2ZW50IEV2ZW50IHR5cGVcclxuICAgICAqIEBwYXJhbSAgICB7RnVuY3Rpb259IGZuICAgIENhbGxiYWNrIG9mIGV2ZW50XHJcbiAgICAgKiBAcmV0dXJuICAge0Z1bmN0aW9ufVxyXG4gICAgICovXHJcbiAgICB2YXIgb2ZmID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xyXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGVsLCBldmVudCwgZm4sIHVzZUNhcHR1cmUpIHtcclxuICAgICAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGZuLCB1c2VDYXB0dXJlID09PSB0cnVlKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmRldGFjaEV2ZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoZWwsIGV2ZW50LCBmbikge1xyXG4gICAgICAgICAgICAgICAgZWwuZGV0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBmbik7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfSgpKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFByZXZlbnQgZGVmYXVsdCBldmVudCBmcm9tIGZpcmluZ1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAge0V2ZW50fSBldmVudCBFdmVudCBvYmplY3RcclxuICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuXHJcbiAgICBmdW5jdGlvbiBwcmV2ZW50ICggZXZlbnQgKSB7XHJcbiAgICAgICAgaWYgKCBldmVudCApIHtcclxuICAgICAgICAgICAgaWYgKCBldmVudC5wcmV2ZW50RGVmYXVsdCApIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBldmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgKi9cclxuICAgIHZhciB0cmFuc2l0aW9uID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdCwgdHlwZTtcclxuICAgICAgICB2YXIgc3VwcG9ydGVkID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIHRyYW5zaXRpb25zID0ge1xyXG4gICAgICAgICAgICAnYW5pbWF0aW9uJyAgICAgICAgOiAnYW5pbWF0aW9uZW5kJyxcclxuICAgICAgICAgICAgJ09BbmltYXRpb24nICAgICAgIDogJ29BbmltYXRpb25FbmQgb2FuaW1hdGlvbmVuZCcsXHJcbiAgICAgICAgICAgICdtc0FuaW1hdGlvbicgICAgICA6ICdNU0FuaW1hdGlvbkVuZCcsXHJcbiAgICAgICAgICAgICdNb3pBbmltYXRpb24nICAgICA6ICdhbmltYXRpb25lbmQnLFxyXG4gICAgICAgICAgICAnV2Via2l0QW5pbWF0aW9uJyAgOiAnd2Via2l0QW5pbWF0aW9uRW5kJ1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZvciAodCBpbiB0cmFuc2l0aW9ucykge1xyXG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlW3RdICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHR5cGUgPSB0cmFuc2l0aW9uc1t0XTtcclxuICAgICAgICAgICAgICAgIHN1cHBvcnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICAgICAgc3VwcG9ydGVkOiBzdXBwb3J0ZWRcclxuICAgICAgICB9O1xyXG4gICAgfSgpKTtcclxuXHJcbiAgICAvKipcclxuICAgICogQ3JlYXRlcyBldmVudCBoYW5kbGVyIGRlbGVnYXRlIHRoYXQgc2VuZHMgdGhlIGluc3RhbmNlIGFzIGxhc3QgYXJndW1lbnQuXHJcbiAgICAqIFxyXG4gICAgKiBAcmV0dXJuIHtGdW5jdGlvbn0gICAgYSBmdW5jdGlvbiB3cmFwcGVyIHdoaWNoIHNlbmRzIHRoZSBpbnN0YW5jZSBhcyBsYXN0IGFyZ3VtZW50LlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGRlbGVnYXRlKGNvbnRleHQsIG1ldGhvZCkge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgYXJndW1lbnRzLmxlbmd0aDsgeCArPSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKGFyZ3VtZW50c1t4XSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBhcmdzLnB1c2goY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbWV0aG9kLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkoY29udGV4dCwgW251bGwsIGNvbnRleHRdKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAqIEhlbHBlciBmb3IgY3JlYXRpbmcgYSBkaWFsb2cgY2xvc2UgZXZlbnQuXHJcbiAgICAqIFxyXG4gICAgKiBAcmV0dXJuIHtvYmplY3R9XHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gY3JlYXRlQ2xvc2VFdmVudChpbmRleCwgYnV0dG9uKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxyXG4gICAgICAgICAgICBidXR0b246IGJ1dHRvbixcclxuICAgICAgICAgICAgY2FuY2VsOiBmYWxzZVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICogSGVscGVyIGZvciBkaXNwYXRjaGluZyBldmVudHMuXHJcbiAgICAqXHJcbiAgICAqIEBwYXJhbSAge3N0cmluZ30gZXZlblR5cGUgVGhlIHR5cGUgb2YgdGhlIGV2ZW50IHRvIGRpc3B0YWNoLlxyXG4gICAgKiBAcGFyYW0gIHtvYmplY3R9IGluc3RhbmNlIFRoZSBkaWFsb2cgaW5zdGFuY2UgZGlzcHRhY2hpbmcgdGhlIGV2ZW50LlxyXG4gICAgKlxyXG4gICAgKiBAcmV0dXJuICAge2FueX0gICBUaGUgcmVzdWx0IG9mIHRoZSBpbnZva2VkIGZ1bmN0aW9uLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGRpc3BhdGNoRXZlbnQoZXZlbnRUeXBlLCBpbnN0YW5jZSkge1xyXG4gICAgICAgIGlmICggdHlwZW9mIGluc3RhbmNlLmdldChldmVudFR5cGUpID09PSAnZnVuY3Rpb24nICkge1xyXG4gICAgICAgICAgICByZXR1cm4gaW5zdGFuY2UuZ2V0KGV2ZW50VHlwZSkuY2FsbChpbnN0YW5jZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIFN1cGVyIGNsYXNzIGZvciBhbGwgZGlhbG9nc1xyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4ge09iamVjdH1cdFx0YmFzZSBkaWFsb2cgcHJvdG90eXBlXHJcbiAgICAgKi9cclxuICAgIHZhciBkaWFsb2cgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciAvL2hvbGRzIHRoZSBsaXN0IG9mIHVzZWQga2V5cy5cclxuICAgICAgICAgICAgdXNlZEtleXMgPSBbXSxcclxuICAgICAgICAgICAgLy9kdW1teSB2YXJpYWJsZSwgdXNlZCB0byB0cmlnZ2VyIGRvbSByZWZsb3cuXHJcbiAgICAgICAgICAgIHJlZmxvdyA9IG51bGwsXHJcbiAgICAgICAgICAgIC8vY29uZGl0aW9uIGZvciBkZXRlY3Rpbmcgc2FmYXJpXHJcbiAgICAgICAgICAgIGlzU2FmYXJpID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignU2FmYXJpJykgPiAtMSAmJiB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdDaHJvbWUnKSA8IDAsXHJcbiAgICAgICAgICAgIC8vZGlhbG9nIGJ1aWxkaW5nIGJsb2Nrc1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZXMgPSB7XHJcbiAgICAgICAgICAgICAgICBkaW1tZXI6JzxkaXYgY2xhc3M9XCJhanMtZGltbWVyXCI+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgIC8qdGFiIGluZGV4IHJlcXVpcmVkIHRvIGZpcmUgY2xpY2sgZXZlbnQgYmVmb3JlIGJvZHkgZm9jdXMqL1xyXG4gICAgICAgICAgICAgICAgbW9kYWw6ICc8ZGl2IGNsYXNzPVwiYWpzLW1vZGFsXCIgdGFiaW5kZXg9XCIwXCI+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgIGRpYWxvZzogJzxkaXYgY2xhc3M9XCJhanMtZGlhbG9nXCIgdGFiaW5kZXg9XCIwXCI+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgIHJlc2V0OiAnPGJ1dHRvbiBjbGFzcz1cImFqcy1yZXNldFwiPjwvYnV0dG9uPicsXHJcbiAgICAgICAgICAgICAgICBjb21tYW5kczogJzxkaXYgY2xhc3M9XCJhanMtY29tbWFuZHNcIj48YnV0dG9uIGNsYXNzPVwiYWpzLXBpblwiPjwvYnV0dG9uPjxidXR0b24gY2xhc3M9XCJhanMtbWF4aW1pemVcIj48L2J1dHRvbj48YnV0dG9uIGNsYXNzPVwiYWpzLWNsb3NlXCI+PC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgIGhlYWRlcjogJzxkaXYgY2xhc3M9XCJhanMtaGVhZGVyXCI+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgIGJvZHk6ICc8ZGl2IGNsYXNzPVwiYWpzLWJvZHlcIj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgY29udGVudDogJzxkaXYgY2xhc3M9XCJhanMtY29udGVudFwiPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICBmb290ZXI6ICc8ZGl2IGNsYXNzPVwiYWpzLWZvb3RlclwiPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICBidXR0b25zOiB7IHByaW1hcnk6ICc8ZGl2IGNsYXNzPVwiYWpzLXByaW1hcnkgYWpzLWJ1dHRvbnNcIj48L2Rpdj4nLCBhdXhpbGlhcnk6ICc8ZGl2IGNsYXNzPVwiYWpzLWF1eGlsaWFyeSBhanMtYnV0dG9uc1wiPjwvZGl2PicgfSxcclxuICAgICAgICAgICAgICAgIGJ1dHRvbjogJzxidXR0b24gY2xhc3M9XCJhanMtYnV0dG9uXCI+PC9idXR0b24+JyxcclxuICAgICAgICAgICAgICAgIHJlc2l6ZUhhbmRsZTogJzxkaXYgY2xhc3M9XCJhanMtaGFuZGxlXCI+PC9kaXY+JyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLy9jb21tb24gY2xhc3MgbmFtZXNcclxuICAgICAgICAgICAgY2xhc3NlcyA9IHtcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbkluOiAnYWpzLWluJyxcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbk91dDogJ2Fqcy1vdXQnLFxyXG4gICAgICAgICAgICAgICAgYmFzZTogJ2FsZXJ0aWZ5JyxcclxuICAgICAgICAgICAgICAgIGJhc2ljOidhanMtYmFzaWMnLFxyXG4gICAgICAgICAgICAgICAgY2FwdHVyZTogJ2Fqcy1jYXB0dXJlJyxcclxuICAgICAgICAgICAgICAgIGNsb3NhYmxlOidhanMtY2xvc2FibGUnLFxyXG4gICAgICAgICAgICAgICAgZml4ZWQ6ICdhanMtZml4ZWQnLFxyXG4gICAgICAgICAgICAgICAgZnJhbWVsZXNzOidhanMtZnJhbWVsZXNzJyxcclxuICAgICAgICAgICAgICAgIGhpZGRlbjogJ2Fqcy1oaWRkZW4nLFxyXG4gICAgICAgICAgICAgICAgbWF4aW1pemU6ICdhanMtbWF4aW1pemUnLFxyXG4gICAgICAgICAgICAgICAgbWF4aW1pemVkOiAnYWpzLW1heGltaXplZCcsXHJcbiAgICAgICAgICAgICAgICBtYXhpbWl6YWJsZTonYWpzLW1heGltaXphYmxlJyxcclxuICAgICAgICAgICAgICAgIG1vZGVsZXNzOiAnYWpzLW1vZGVsZXNzJyxcclxuICAgICAgICAgICAgICAgIG1vdmFibGU6ICdhanMtbW92YWJsZScsXHJcbiAgICAgICAgICAgICAgICBub1NlbGVjdGlvbjogJ2Fqcy1uby1zZWxlY3Rpb24nLFxyXG4gICAgICAgICAgICAgICAgbm9PdmVyZmxvdzogJ2Fqcy1uby1vdmVyZmxvdycsXHJcbiAgICAgICAgICAgICAgICBub1BhZGRpbmc6J2Fqcy1uby1wYWRkaW5nJyxcclxuICAgICAgICAgICAgICAgIHBpbjonYWpzLXBpbicsXHJcbiAgICAgICAgICAgICAgICBwaW5uYWJsZTonYWpzLXBpbm5hYmxlJyxcclxuICAgICAgICAgICAgICAgIHByZWZpeDogJ2Fqcy0nLFxyXG4gICAgICAgICAgICAgICAgcmVzaXphYmxlOiAnYWpzLXJlc2l6YWJsZScsXHJcbiAgICAgICAgICAgICAgICByZXN0b3JlOiAnYWpzLXJlc3RvcmUnLFxyXG4gICAgICAgICAgICAgICAgc2hha2U6J2Fqcy1zaGFrZScsXHJcbiAgICAgICAgICAgICAgICB1bnBpbm5lZDonYWpzLXVucGlubmVkJyxcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSGVscGVyOiBpbml0aWFsaXplcyB0aGUgZGlhbG9nIGluc3RhbmNlXHJcbiAgICAgICAgICogXHJcbiAgICAgICAgICogQHJldHVyblx0e051bWJlcn1cdFRoZSB0b3RhbCBjb3VudCBvZiBjdXJyZW50bHkgb3BlbiBtb2RhbHMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZShpbnN0YW5jZSl7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZighaW5zdGFuY2UuX19pbnRlcm5hbCl7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9ubyBuZWVkIHRvIGV4cG9zZSBpbml0IGFmdGVyIHRoaXMuXHJcbiAgICAgICAgICAgICAgICBkZWxldGUgaW5zdGFuY2UuX19pbml0O1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy9rZWVwIGEgY29weSBvZiBpbml0aWFsIGRpYWxvZyBzZXR0aW5nc1xyXG4gICAgICAgICAgICAgICAgaWYoIWluc3RhbmNlLl9fc2V0dGluZ3Mpe1xyXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLl9fc2V0dGluZ3MgPSBjb3B5KGluc3RhbmNlLnNldHRpbmdzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vaW4gY2FzZSB0aGUgc2NyaXB0IHdhcyBpbmNsdWRlZCBiZWZvcmUgYm9keS5cclxuICAgICAgICAgICAgICAgIC8vYWZ0ZXIgZmlyc3QgZGlhbG9nIGdldHMgaW5pdGlhbGl6ZWQsIGl0IHdvbid0IGJlIG51bGwgYW55bW9yZSFcclxuICAgICAgICAgICAgICAgIGlmKG51bGwgPT09IHJlZmxvdyl7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2V0IHRhYmluZGV4IGF0dHJpYnV0ZSBvbiBib2R5IGVsZW1lbnQgdGhpcyBhbGxvd3Mgc2NyaXB0IHRvIGdpdmUgaXRcclxuICAgICAgICAgICAgICAgICAgICAvLyBmb2N1cyBhZnRlciB0aGUgZGlhbG9nIGlzIGNsb3NlZFxyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc2V0QXR0cmlidXRlKCAndGFiaW5kZXgnLCAnMCcgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL2dldCBkaWFsb2cgYnV0dG9ucy9mb2N1cyBzZXR1cFxyXG4gICAgICAgICAgICAgICAgdmFyIHNldHVwO1xyXG4gICAgICAgICAgICAgICAgaWYodHlwZW9mIGluc3RhbmNlLnNldHVwID09PSAnZnVuY3Rpb24nKXtcclxuICAgICAgICAgICAgICAgICAgICBzZXR1cCA9IGluc3RhbmNlLnNldHVwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0dXAub3B0aW9ucyA9IHNldHVwLm9wdGlvbnMgIHx8IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIHNldHVwLmZvY3VzID0gc2V0dXAuZm9jdXMgIHx8IHt9O1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0dXAgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbnM6W10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzOntcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6bnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdDpmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOntcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vaW5pdGlhbGl6ZSBob29rcyBvYmplY3QuXHJcbiAgICAgICAgICAgICAgICBpZih0eXBlb2YgaW5zdGFuY2UuaG9va3MgIT09ICdvYmplY3QnKXtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5ob29rcyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vY29weSBidXR0b25zIGRlZmludGlvblxyXG4gICAgICAgICAgICAgICAgdmFyIGJ1dHRvbnNEZWZpbml0aW9uID0gW107XHJcbiAgICAgICAgICAgICAgICBpZihBcnJheS5pc0FycmF5KHNldHVwLmJ1dHRvbnMpKXtcclxuICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGI9MDtiPHNldHVwLmJ1dHRvbnMubGVuZ3RoO2IrPTEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVmICA9IHNldHVwLmJ1dHRvbnNbYl0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHkgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSBpbiByZWYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWYuaGFzT3duUHJvcGVydHkoaSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHlbaV0gPSByZWZbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uc0RlZmluaXRpb24ucHVzaChjcHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJuYWwgPSBpbnN0YW5jZS5fX2ludGVybmFsID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgICAgICAgICAqIEZsYWcgaG9sZGluZyB0aGUgb3BlbiBzdGF0ZSBvZiB0aGUgZGlhbG9nXHJcbiAgICAgICAgICAgICAgICAgICAgICogXHJcbiAgICAgICAgICAgICAgICAgICAgICogQHR5cGUge0Jvb2xlYW59XHJcbiAgICAgICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICAgICAgaXNPcGVuOmZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgICAgICAgICAqIEFjdGl2ZSBlbGVtZW50IGlzIHRoZSBlbGVtZW50IHRoYXQgd2lsbCByZWNlaXZlIGZvY3VzIGFmdGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICogY2xvc2luZyB0aGUgZGlhbG9nLiBJdCBkZWZhdWx0cyBhcyB0aGUgYm9keSB0YWcsIGJ1dCBnZXRzIHVwZGF0ZWRcclxuICAgICAgICAgICAgICAgICAgICAgKiB0byB0aGUgbGFzdCBmb2N1c2VkIGVsZW1lbnQgYmVmb3JlIHRoZSBkaWFsb2cgd2FzIG9wZW5lZC5cclxuICAgICAgICAgICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgICAgICAgICAqIEB0eXBlIHtOb2RlfVxyXG4gICAgICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUVsZW1lbnQ6ZG9jdW1lbnQuYm9keSxcclxuICAgICAgICAgICAgICAgICAgICB0aW1lckluOnVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICB0aW1lck91dDp1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uczogYnV0dG9uc0RlZmluaXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgZm9jdXM6IHNldHVwLmZvY3VzLFxyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWw6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFzaWM6dW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFtZWxlc3M6dW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwaW5uZWQ6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW92YWJsZTogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlQm91bmRlZDp1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2l6YWJsZTogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRvUmVzZXQ6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2FibGU6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2FibGVCeURpbW1lcjogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhpbWl6YWJsZTogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydE1heGltaXplZDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwaW5uYWJsZTogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6dW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdzp1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uc2hvdzp1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uY2xvc2luZzp1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uY2xvc2U6dW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmZvY3VzOnVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25tb3ZlOnVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25tb3ZlZDp1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ucmVzaXplOnVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25yZXNpemVkOnVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25tYXhpbWl6ZTp1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ubWF4aW1pemVkOnVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25yZXN0b3JlOnVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25yZXN0b3JlZDp1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc2V0SGFuZGxlcjp1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgYmVnaW5Nb3ZlSGFuZGxlcjp1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgYmVnaW5SZXNpemVIYW5kbGVyOnVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICBicmluZ1RvRnJvbnRIYW5kbGVyOnVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbENsaWNrSGFuZGxlcjp1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uc0NsaWNrSGFuZGxlcjp1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgY29tbWFuZHNDbGlja0hhbmRsZXI6dW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25JbkhhbmRsZXI6dW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25PdXRIYW5kbGVyOnVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICBkZXN0cm95OnVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudHMgPSB7fTtcclxuICAgICAgICAgICAgICAgIC8vcm9vdCBub2RlXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5yb290ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRzLnJvb3QuY2xhc3NOYW1lID0gY2xhc3Nlcy5iYXNlICsgJyAnICsgY2xhc3Nlcy5oaWRkZW4gKyAnICc7XHJcblxyXG4gICAgICAgICAgICAgICAgZWxlbWVudHMucm9vdC5pbm5lckhUTUwgPSB0ZW1wbGF0ZXMuZGltbWVyICsgdGVtcGxhdGVzLm1vZGFsO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvL2RpbW1lclxyXG4gICAgICAgICAgICAgICAgZWxlbWVudHMuZGltbWVyID0gZWxlbWVudHMucm9vdC5maXJzdENoaWxkO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vZGlhbG9nXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5tb2RhbCA9IGVsZW1lbnRzLnJvb3QubGFzdENoaWxkO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudHMubW9kYWwuaW5uZXJIVE1MID0gdGVtcGxhdGVzLmRpYWxvZztcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRzLmRpYWxvZyA9IGVsZW1lbnRzLm1vZGFsLmZpcnN0Q2hpbGQ7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5kaWFsb2cuaW5uZXJIVE1MID0gdGVtcGxhdGVzLnJlc2V0ICsgdGVtcGxhdGVzLmNvbW1hbmRzICsgdGVtcGxhdGVzLmhlYWRlciArIHRlbXBsYXRlcy5ib2R5ICsgdGVtcGxhdGVzLmZvb3RlciArIHRlbXBsYXRlcy5yZXNpemVIYW5kbGUgKyB0ZW1wbGF0ZXMucmVzZXQ7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9yZXNldCBsaW5rc1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudHMucmVzZXQgPSBbXTtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRzLnJlc2V0LnB1c2goZWxlbWVudHMuZGlhbG9nLmZpcnN0Q2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudHMucmVzZXQucHVzaChlbGVtZW50cy5kaWFsb2cubGFzdENoaWxkKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy9jb21tYW5kc1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudHMuY29tbWFuZHMgPSB7fTtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRzLmNvbW1hbmRzLmNvbnRhaW5lciA9IGVsZW1lbnRzLnJlc2V0WzBdLm5leHRTaWJsaW5nO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudHMuY29tbWFuZHMucGluID0gZWxlbWVudHMuY29tbWFuZHMuY29udGFpbmVyLmZpcnN0Q2hpbGQ7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5jb21tYW5kcy5tYXhpbWl6ZSA9IGVsZW1lbnRzLmNvbW1hbmRzLnBpbi5uZXh0U2libGluZztcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRzLmNvbW1hbmRzLmNsb3NlID0gZWxlbWVudHMuY29tbWFuZHMubWF4aW1pemUubmV4dFNpYmxpbmc7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vaGVhZGVyXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5oZWFkZXIgPSBlbGVtZW50cy5jb21tYW5kcy5jb250YWluZXIubmV4dFNpYmxpbmc7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9ib2R5XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5ib2R5ID0gZWxlbWVudHMuaGVhZGVyLm5leHRTaWJsaW5nO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudHMuYm9keS5pbm5lckhUTUwgPSB0ZW1wbGF0ZXMuY29udGVudDtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRzLmNvbnRlbnQgPSBlbGVtZW50cy5ib2R5LmZpcnN0Q2hpbGQ7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9mb290ZXJcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRzLmZvb3RlciA9IGVsZW1lbnRzLmJvZHkubmV4dFNpYmxpbmc7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5mb290ZXIuaW5uZXJIVE1MID0gdGVtcGxhdGVzLmJ1dHRvbnMuYXV4aWxpYXJ5ICsgdGVtcGxhdGVzLmJ1dHRvbnMucHJpbWFyeTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy9yZXNpemUgaGFuZGxlXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5yZXNpemVIYW5kbGUgPSBlbGVtZW50cy5mb290ZXIubmV4dFNpYmxpbmc7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9idXR0b25zXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5idXR0b25zID0ge307XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5idXR0b25zLmF1eGlsaWFyeSA9IGVsZW1lbnRzLmZvb3Rlci5maXJzdENoaWxkO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudHMuYnV0dG9ucy5wcmltYXJ5ID0gZWxlbWVudHMuYnV0dG9ucy5hdXhpbGlhcnkubmV4dFNpYmxpbmc7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5idXR0b25zLnByaW1hcnkuaW5uZXJIVE1MID0gdGVtcGxhdGVzLmJ1dHRvbjtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRzLmJ1dHRvblRlbXBsYXRlID0gZWxlbWVudHMuYnV0dG9ucy5wcmltYXJ5LmZpcnN0Q2hpbGQ7XHJcbiAgICAgICAgICAgICAgICAvL3JlbW92ZSBidXR0b24gdGVtcGxhdGVcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRzLmJ1dHRvbnMucHJpbWFyeS5yZW1vdmVDaGlsZChlbGVtZW50cy5idXR0b25UZW1wbGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGZvcih2YXIgeD0wOyB4IDwgaW5zdGFuY2UuX19pbnRlcm5hbC5idXR0b25zLmxlbmd0aDsgeCs9MSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBidXR0b24gPSBpbnN0YW5jZS5fX2ludGVybmFsLmJ1dHRvbnNbeF07XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIHRvIHRoZSBsaXN0IG9mIHVzZWQga2V5cy5cclxuICAgICAgICAgICAgICAgICAgICBpZih1c2VkS2V5cy5pbmRleE9mKGJ1dHRvbi5rZXkpIDwgMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZWRLZXlzLnB1c2goYnV0dG9uLmtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBidXR0b24uZWxlbWVudCA9IGVsZW1lbnRzLmJ1dHRvblRlbXBsYXRlLmNsb25lTm9kZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5lbGVtZW50LmlubmVySFRNTCA9IGJ1dHRvbi50ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBidXR0b24uY2xhc3NOYW1lID09PSAnc3RyaW5nJyAmJiAgYnV0dG9uLmNsYXNzTmFtZSAhPT0gJycpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcyhidXR0b24uZWxlbWVudCwgYnV0dG9uLmNsYXNzTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGZvcih2YXIga2V5IGluIGJ1dHRvbi5hdHRycyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGtleSAhPT0gJ2NsYXNzTmFtZScgJiYgYnV0dG9uLmF0dHJzLmhhc093blByb3BlcnR5KGtleSkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmVsZW1lbnQuc2V0QXR0cmlidXRlKGtleSwgYnV0dG9uLmF0dHJzW2tleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKGJ1dHRvbi5zY29wZSA9PT0gJ2F1eGlsaWFyeScpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50cy5idXR0b25zLmF1eGlsaWFyeS5hcHBlbmRDaGlsZChidXR0b24uZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzLmJ1dHRvbnMucHJpbWFyeS5hcHBlbmRDaGlsZChidXR0b24uZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy9tYWtlIGVsZW1lbnRzIHB1YmljXHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5lbGVtZW50cyA9IGVsZW1lbnRzO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvL3NhdmUgZXZlbnQgaGFuZGxlcnMgZGVsZWdhdGVzXHJcbiAgICAgICAgICAgICAgICBpbnRlcm5hbC5yZXNldEhhbmRsZXIgPSBkZWxlZ2F0ZShpbnN0YW5jZSwgb25SZXNldCk7XHJcbiAgICAgICAgICAgICAgICBpbnRlcm5hbC5iZWdpbk1vdmVIYW5kbGVyID0gZGVsZWdhdGUoaW5zdGFuY2UsIGJlZ2luTW92ZSk7XHJcbiAgICAgICAgICAgICAgICBpbnRlcm5hbC5iZWdpblJlc2l6ZUhhbmRsZXIgPSBkZWxlZ2F0ZShpbnN0YW5jZSwgYmVnaW5SZXNpemUpO1xyXG4gICAgICAgICAgICAgICAgaW50ZXJuYWwuYnJpbmdUb0Zyb250SGFuZGxlciA9IGRlbGVnYXRlKGluc3RhbmNlLCBicmluZ1RvRnJvbnQpO1xyXG4gICAgICAgICAgICAgICAgaW50ZXJuYWwubW9kYWxDbGlja0hhbmRsZXIgPSBkZWxlZ2F0ZShpbnN0YW5jZSwgbW9kYWxDbGlja0hhbmRsZXIpO1xyXG4gICAgICAgICAgICAgICAgaW50ZXJuYWwuYnV0dG9uc0NsaWNrSGFuZGxlciA9IGRlbGVnYXRlKGluc3RhbmNlLCBidXR0b25zQ2xpY2tIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgIGludGVybmFsLmNvbW1hbmRzQ2xpY2tIYW5kbGVyID0gZGVsZWdhdGUoaW5zdGFuY2UsIGNvbW1hbmRzQ2xpY2tIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgIGludGVybmFsLnRyYW5zaXRpb25JbkhhbmRsZXIgPSBkZWxlZ2F0ZShpbnN0YW5jZSwgaGFuZGxlVHJhbnNpdGlvbkluRXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgaW50ZXJuYWwudHJhbnNpdGlvbk91dEhhbmRsZXIgPSBkZWxlZ2F0ZShpbnN0YW5jZSwgaGFuZGxlVHJhbnNpdGlvbk91dEV2ZW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3NldHRpbmdzXHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIG9wS2V5IGluIGludGVybmFsLm9wdGlvbnMpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHNldHVwLm9wdGlvbnNbb3BLZXldICE9PSB1bmRlZmluZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBmb3VuZCBpbiB1c2VyIG9wdGlvbnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2Uuc2V0KG9wS2V5LCBzZXR1cC5vcHRpb25zW29wS2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoYWxlcnRpZnkuZGVmYXVsdHMuaGFzT3duUHJvcGVydHkob3BLZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVsc2UgaWYgZm91bmQgaW4gZGVmYXVsdHMgb3B0aW9uc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5zZXQob3BLZXksIGFsZXJ0aWZ5LmRlZmF1bHRzW29wS2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYob3BLZXkgPT09ICd0aXRsZScgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVsc2UgaWYgdGl0bGUga2V5LCB1c2UgYWxlcnRpZnkuZGVmYXVsdHMuZ2xvc3NhcnlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2Uuc2V0KG9wS2V5LCBhbGVydGlmeS5kZWZhdWx0cy5nbG9zc2FyeVtvcEtleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBhbGxvdyBkb20gY3VzdG9taXphdGlvblxyXG4gICAgICAgICAgICAgICAgaWYodHlwZW9mIGluc3RhbmNlLmJ1aWxkID09PSAnZnVuY3Rpb24nKXtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5idWlsZCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvL2FkZCB0byB0aGUgZW5kIG9mIHRoZSBET00gdHJlZS5cclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpbnN0YW5jZS5lbGVtZW50cy5yb290KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEhlbHBlcjogbWFpbnRhaW5zIHNjcm9sbCBwb3NpdGlvblxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdmFyIHNjcm9sbFgsIHNjcm9sbFk7XHJcbiAgICAgICAgZnVuY3Rpb24gc2F2ZVNjcm9sbFBvc2l0aW9uKCl7XHJcbiAgICAgICAgICAgIHNjcm9sbFggPSBnZXRTY3JvbGxMZWZ0KCk7XHJcbiAgICAgICAgICAgIHNjcm9sbFkgPSBnZXRTY3JvbGxUb3AoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVzdG9yZVNjcm9sbFBvc2l0aW9uKCl7XHJcbiAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbyhzY3JvbGxYLCBzY3JvbGxZKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEhlbHBlcjogYWRkcy9yZW1vdmVzIG5vLW92ZXJmbG93IGNsYXNzIGZyb20gYm9keVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gZW5zdXJlTm9PdmVyZmxvdygpe1xyXG4gICAgICAgICAgICB2YXIgcmVxdWlyZXNOb092ZXJmbG93ID0gMDtcclxuICAgICAgICAgICAgZm9yKHZhciB4PTA7eDxvcGVuRGlhbG9ncy5sZW5ndGg7eCs9MSl7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBvcGVuRGlhbG9nc1t4XTtcclxuICAgICAgICAgICAgICAgIGlmKGluc3RhbmNlLmlzTW9kYWwoKSB8fCBpbnN0YW5jZS5pc01heGltaXplZCgpKXtcclxuICAgICAgICAgICAgICAgICAgICByZXF1aXJlc05vT3ZlcmZsb3crPTE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYocmVxdWlyZXNOb092ZXJmbG93ID09PSAwICYmIGRvY3VtZW50LmJvZHkuY2xhc3NOYW1lLmluZGV4T2YoY2xhc3Nlcy5ub092ZXJmbG93KSA+PSAwKXtcclxuICAgICAgICAgICAgICAgIC8vbGFzdCBvcGVuIG1vZGFsIG9yIGxhc3QgbWF4aW1pemVkIG9uZVxyXG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoZG9jdW1lbnQuYm9keSwgY2xhc3Nlcy5ub092ZXJmbG93KTtcclxuICAgICAgICAgICAgICAgIHByZXZlbnRCb2R5U2hpZnQoZmFsc2UpO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZihyZXF1aXJlc05vT3ZlcmZsb3cgPiAwICYmIGRvY3VtZW50LmJvZHkuY2xhc3NOYW1lLmluZGV4T2YoY2xhc3Nlcy5ub092ZXJmbG93KSA8IDApe1xyXG4gICAgICAgICAgICAgICAgLy9maXJzdCBvcGVuIG1vZGFsIG9yIGZpcnN0IG1heGltaXplZCBvbmVcclxuICAgICAgICAgICAgICAgIHByZXZlbnRCb2R5U2hpZnQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhkb2N1bWVudC5ib2R5LCBjbGFzc2VzLm5vT3ZlcmZsb3cpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB0b3AgPSAnJywgdG9wU2Nyb2xsID0gMDtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBIZWxwZXI6IHByZXZlbnRzIGJvZHkgc2hpZnQuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBwcmV2ZW50Qm9keVNoaWZ0KGFkZCl7XHJcbiAgICAgICAgICAgIGlmKGFsZXJ0aWZ5LmRlZmF1bHRzLnByZXZlbnRCb2R5U2hpZnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCA+IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpe1xyXG4gICAgICAgICAgICAgICAgaWYoYWRkICl7Ly8mJiBvcGVuRGlhbG9nc1tvcGVuRGlhbG9ncy5sZW5ndGgtMV0uZWxlbWVudHMuZGlhbG9nLmNsaWVudEhlaWdodCA8PSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KXtcclxuICAgICAgICAgICAgICAgICAgICB0b3BTY3JvbGwgPSBzY3JvbGxZO1xyXG4gICAgICAgICAgICAgICAgICAgIHRvcCA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmJvZHkpLnRvcDtcclxuICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcyhkb2N1bWVudC5ib2R5LCBjbGFzc2VzLmZpeGVkKTtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnRvcCA9IC1zY3JvbGxZICsgJ3B4JztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsWSA9IHRvcFNjcm9sbDtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnRvcCA9IHRvcDtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhkb2N1bWVudC5ib2R5LCBjbGFzc2VzLmZpeGVkKTtcclxuICAgICAgICAgICAgICAgICAgICByZXN0b3JlU2Nyb2xsUG9zaXRpb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHRcdFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNldHMgdGhlIG5hbWUgb2YgdGhlIHRyYW5zaXRpb24gdXNlZCB0byBzaG93L2hpZGUgdGhlIGRpYWxvZ1xyXG4gICAgICAgICAqIFxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVUcmFuc2l0aW9uKGluc3RhbmNlLCB2YWx1ZSwgb2xkVmFsdWUpe1xyXG4gICAgICAgICAgICBpZih0eXBlb2Ygb2xkVmFsdWUgPT09ICdzdHJpbmcnKXtcclxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGluc3RhbmNlLmVsZW1lbnRzLnJvb3QsY2xhc3Nlcy5wcmVmaXggKyAgb2xkVmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFkZENsYXNzKGluc3RhbmNlLmVsZW1lbnRzLnJvb3QsIGNsYXNzZXMucHJlZml4ICsgdmFsdWUpO1xyXG4gICAgICAgICAgICByZWZsb3cgPSBpbnN0YW5jZS5lbGVtZW50cy5yb290Lm9mZnNldFdpZHRoO1xyXG4gICAgICAgIH1cclxuXHRcdFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRvZ2dsZXMgdGhlIGRpYWxvZyBkaXNwbGF5IG1vZGVcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlRGlzcGxheU1vZGUoaW5zdGFuY2Upe1xyXG4gICAgICAgICAgICBpZihpbnN0YW5jZS5nZXQoJ21vZGFsJykpe1xyXG5cclxuICAgICAgICAgICAgICAgIC8vbWFrZSBtb2RhbFxyXG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoaW5zdGFuY2UuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy5tb2RlbGVzcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9vbmx5IGlmIG9wZW5cclxuICAgICAgICAgICAgICAgIGlmKGluc3RhbmNlLmlzT3BlbigpKXtcclxuICAgICAgICAgICAgICAgICAgICB1bmJpbmRNb2RlbGVzc0V2ZW50cyhpbnN0YW5jZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vaW4gY2FzZSBhIHBpbm5lZCBtb2RsZXNzIGRpYWxvZyB3YXMgbWFkZSBtb2RhbCB3aGlsZSBvcGVuLlxyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUFic1Bvc2l0aW9uRml4KGluc3RhbmNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZW5zdXJlTm9PdmVyZmxvdygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIC8vbWFrZSBtb2RlbHNzXHJcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhpbnN0YW5jZS5lbGVtZW50cy5yb290LCBjbGFzc2VzLm1vZGVsZXNzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL29ubHkgaWYgb3BlblxyXG4gICAgICAgICAgICAgICAgaWYoaW5zdGFuY2UuaXNPcGVuKCkpe1xyXG4gICAgICAgICAgICAgICAgICAgIGJpbmRNb2RlbGVzc0V2ZW50cyhpbnN0YW5jZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vaW4gY2FzZSBwaW4vdW5waW4gd2FzIGNhbGxlZCB3aGlsZSBhIG1vZGFsIGlzIG9wZW5cclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVBYnNQb3NpdGlvbkZpeChpbnN0YW5jZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGVuc3VyZU5vT3ZlcmZsb3coKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVG9nZ2xlcyB0aGUgZGlhbG9nIGJhc2ljIHZpZXcgbW9kZSBcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlQmFzaWNNb2RlKGluc3RhbmNlKXtcclxuICAgICAgICAgICAgaWYgKGluc3RhbmNlLmdldCgnYmFzaWMnKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gYWRkIGNsYXNzXHJcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhpbnN0YW5jZS5lbGVtZW50cy5yb290LCBjbGFzc2VzLmJhc2ljKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBjbGFzc1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoaW5zdGFuY2UuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy5iYXNpYyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRvZ2dsZXMgdGhlIGRpYWxvZyBmcmFtZWxlc3MgdmlldyBtb2RlIFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVGcmFtZWxlc3NNb2RlKGluc3RhbmNlKXtcclxuICAgICAgICAgICAgaWYgKGluc3RhbmNlLmdldCgnZnJhbWVsZXNzJykpIHtcclxuICAgICAgICAgICAgICAgIC8vIGFkZCBjbGFzc1xyXG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoaW5zdGFuY2UuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy5mcmFtZWxlc3MpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGNsYXNzXHJcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhpbnN0YW5jZS5lbGVtZW50cy5yb290LCBjbGFzc2VzLmZyYW1lbGVzcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblx0XHRcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBIZWxwZXI6IEJyaW5ncyB0aGUgbW9kZWxlc3MgZGlhbG9nIHRvIGZyb250LCBhdHRhY2hlZCB0byBtb2RlbGVzcyBkaWFsb2dzLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgRm9jdXMgZXZlbnRcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2UgVGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGJyaW5nVG9Gcm9udChldmVudCwgaW5zdGFuY2Upe1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gRG8gbm90IGJyaW5nIHRvIGZyb250IGlmIHByZWNlZWRlZCBieSBhbiBvcGVuIG1vZGFsXHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IG9wZW5EaWFsb2dzLmluZGV4T2YoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICBmb3IodmFyIHg9aW5kZXgrMTt4PG9wZW5EaWFsb2dzLmxlbmd0aDt4Kz0xKXtcclxuICAgICAgICAgICAgICAgIGlmKG9wZW5EaWFsb2dzW3hdLmlzTW9kYWwoKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblx0XHRcdFxyXG4gICAgICAgICAgICAvLyBCcmluZyB0byBmcm9udCBieSBtYWtpbmcgaXQgdGhlIGxhc3QgY2hpbGQuXHJcbiAgICAgICAgICAgIGlmKGRvY3VtZW50LmJvZHkubGFzdENoaWxkICE9PSBpbnN0YW5jZS5lbGVtZW50cy5yb290KXtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaW5zdGFuY2UuZWxlbWVudHMucm9vdCk7XHJcbiAgICAgICAgICAgICAgICAvL2Fsc28gbWFrZSBzdXJlIGl0cyBhdCB0aGUgZW5kIG9mIHRoZSBsaXN0XHJcbiAgICAgICAgICAgICAgICBvcGVuRGlhbG9ncy5zcGxpY2Uob3BlbkRpYWxvZ3MuaW5kZXhPZihpbnN0YW5jZSksMSk7XHJcbiAgICAgICAgICAgICAgICBvcGVuRGlhbG9ncy5wdXNoKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIHNldEZvY3VzKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgfVxyXG5cdFx0XHRcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHRcdFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEhlbHBlcjogcmVmbGVjdHMgZGlhbG9ncyBvcHRpb25zIHVwZGF0ZXNcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbiBUaGUgdXBkYXRlZCBvcHRpb24gbmFtZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm5cdHt1bmRlZmluZWR9XHRcclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBvcHRpb25VcGRhdGVkKGluc3RhbmNlLCBvcHRpb24sIG9sZFZhbHVlLCBuZXdWYWx1ZSl7XHJcbiAgICAgICAgICAgIHN3aXRjaChvcHRpb24pe1xyXG4gICAgICAgICAgICBjYXNlICd0aXRsZSc6XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5zZXRIZWFkZXIobmV3VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ21vZGFsJzpcclxuICAgICAgICAgICAgICAgIHVwZGF0ZURpc3BsYXlNb2RlKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdiYXNpYyc6XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVCYXNpY01vZGUoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2ZyYW1lbGVzcyc6XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVGcmFtZWxlc3NNb2RlKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdwaW5uZWQnOlxyXG4gICAgICAgICAgICAgICAgdXBkYXRlUGlubmVkKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdjbG9zYWJsZSc6XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVDbG9zYWJsZShpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnbWF4aW1pemFibGUnOlxyXG4gICAgICAgICAgICAgICAgdXBkYXRlTWF4aW1pemFibGUoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3Bpbm5hYmxlJzpcclxuICAgICAgICAgICAgICAgIHVwZGF0ZVBpbm5hYmxlKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdtb3ZhYmxlJzpcclxuICAgICAgICAgICAgICAgIHVwZGF0ZU1vdmFibGUoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3Jlc2l6YWJsZSc6XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVSZXNpemFibGUoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3RyYW5zaXRpb24nOlxyXG4gICAgICAgICAgICAgICAgdXBkYXRlVHJhbnNpdGlvbihpbnN0YW5jZSxuZXdWYWx1ZSwgb2xkVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3BhZGRpbmcnOlxyXG4gICAgICAgICAgICAgICAgaWYobmV3VmFsdWUpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGluc3RhbmNlLmVsZW1lbnRzLnJvb3QsIGNsYXNzZXMubm9QYWRkaW5nKTtcclxuICAgICAgICAgICAgICAgIH1lbHNlIGlmKGluc3RhbmNlLmVsZW1lbnRzLnJvb3QuY2xhc3NOYW1lLmluZGV4T2YoY2xhc3Nlcy5ub1BhZGRpbmcpIDwgMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkQ2xhc3MoaW5zdGFuY2UuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy5ub1BhZGRpbmcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ292ZXJmbG93JzpcclxuICAgICAgICAgICAgICAgIGlmKG5ld1ZhbHVlKXtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhpbnN0YW5jZS5lbGVtZW50cy5yb290LCBjbGFzc2VzLm5vT3ZlcmZsb3cpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2UgaWYoaW5zdGFuY2UuZWxlbWVudHMucm9vdC5jbGFzc05hbWUuaW5kZXhPZihjbGFzc2VzLm5vT3ZlcmZsb3cpIDwgMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkQ2xhc3MoaW5zdGFuY2UuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy5ub092ZXJmbG93KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICd0cmFuc2l0aW9uJzpcclxuICAgICAgICAgICAgICAgIHVwZGF0ZVRyYW5zaXRpb24oaW5zdGFuY2UsbmV3VmFsdWUsIG9sZFZhbHVlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBpbnRlcm5hbCBvbiBvcHRpb24gdXBkYXRlZCBldmVudFxyXG4gICAgICAgICAgICBpZih0eXBlb2YgaW5zdGFuY2UuaG9va3Mub251cGRhdGUgPT09ICdmdW5jdGlvbicpe1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuaG9va3Mub251cGRhdGUuY2FsbChpbnN0YW5jZSwgb3B0aW9uLCBvbGRWYWx1ZSwgbmV3VmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cdFx0XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSGVscGVyOiByZWZsZWN0cyBkaWFsb2dzIG9wdGlvbnMgdXBkYXRlc1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgdG8gc2V0L2dldCBhIHZhbHVlIG9uL2Zyb20uXHJcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGNhbGwgaWYgdGhlIGtleSB3YXMgZm91bmQuXHJcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBrZXkgQSBzdHJpbmcgc3BlY2lmeWluZyBhIHByb3BlcnkgbmFtZSBvciBhIGNvbGxlY3Rpb24gb2Yga2V5IHZhbHVlIHBhaXJzLlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZSBPcHRpb25hbCwgdGhlIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCB0aGUga2V5IChpbiBjYXNlIGl0IHdhcyBhIHN0cmluZykuXHJcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbiBUaGUgdXBkYXRlZCBvcHRpb24gbmFtZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm5cdHtPYmplY3R9IHJlc3VsdCBvYmplY3QgXHJcbiAgICAgICAgICpcdFRoZSByZXN1bHQgb2JqZWN0cyBoYXMgYW4gJ29wJyBwcm9wZXJ0eSwgaW5kaWNhdGluZyBvZiB0aGlzIGlzIGEgU0VUIG9yIEdFVCBvcGVyYXRpb24uXHJcbiAgICAgICAgICpcdFx0R0VUOiBcclxuICAgICAgICAgKlx0XHQtIGZvdW5kOiBhIGZsYWcgaW5kaWNhdGluZyBpZiB0aGUga2V5IHdhcyBmb3VuZCBvciBub3QuXHJcbiAgICAgICAgICpcdFx0LSB2YWx1ZTogdGhlIHByb3BlcnR5IHZhbHVlLlxyXG4gICAgICAgICAqXHRcdFNFVDpcclxuICAgICAgICAgKlx0XHQtIGl0ZW1zOiBhIGxpc3Qgb2Yga2V5IHZhbHVlIHBhaXJzIG9mIHRoZSBwcm9wZXJ0aWVzIGJlaW5nIHNldC5cclxuICAgICAgICAgKlx0XHRcdFx0ZWFjaCBjb250YWluczpcclxuICAgICAgICAgKlx0XHRcdFx0XHQtIGZvdW5kOiBhIGZsYWcgaW5kaWNhdGluZyBpZiB0aGUga2V5IHdhcyBmb3VuZCBvciBub3QuXHJcbiAgICAgICAgICpcdFx0XHRcdFx0LSBrZXk6IHRoZSBwcm9wZXJ0eSBrZXkuXHJcbiAgICAgICAgICpcdFx0XHRcdFx0LSB2YWx1ZTogdGhlIHByb3BlcnR5IHZhbHVlLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZShpbnN0YW5jZSwgb2JqLCBjYWxsYmFjaywga2V5LCB2YWx1ZSl7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB7b3A6dW5kZWZpbmVkLCBpdGVtczogW10gfTtcclxuICAgICAgICAgICAgaWYodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Yga2V5ID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgLy9nZXRcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5vcCA9ICdnZXQnO1xyXG4gICAgICAgICAgICAgICAgaWYob2JqLmhhc093blByb3BlcnR5KGtleSkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5mb3VuZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnZhbHVlID0gb2JqW2tleV07XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQuZm91bmQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQudmFsdWUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb2xkO1xyXG4gICAgICAgICAgICAgICAgLy9zZXRcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5vcCA9ICdzZXQnO1xyXG4gICAgICAgICAgICAgICAgaWYodHlwZW9mIGtleSA9PT0gJ29iamVjdCcpe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vc2V0IG11bHRpcGxlXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBrZXk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBhcmdzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKG9ialtwcm9wXSAhPT0gYXJnc1twcm9wXSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkID0gb2JqW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ialtwcm9wXSA9IGFyZ3NbcHJvcF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbChpbnN0YW5jZSxwcm9wLCBvbGQsIGFyZ3NbcHJvcF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lml0ZW1zLnB1c2goeyAna2V5JzogcHJvcCwgJ3ZhbHVlJzogYXJnc1twcm9wXSwgJ2ZvdW5kJzp0cnVlfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lml0ZW1zLnB1c2goeyAna2V5JzogcHJvcCwgJ3ZhbHVlJzogYXJnc1twcm9wXSwgJ2ZvdW5kJzpmYWxzZX0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Yga2V5ID09PSAnc3RyaW5nJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9zZXQgc2luZ2xlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKG9ialtrZXldICE9PSB2YWx1ZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGQgID0gb2JqW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbChpbnN0YW5jZSxrZXksIG9sZCwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5pdGVtcy5wdXNoKHsna2V5Jzoga2V5LCAndmFsdWUnOiB2YWx1ZSAsICdmb3VuZCc6dHJ1ZX0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lml0ZW1zLnB1c2goeydrZXknOiBrZXksICd2YWx1ZSc6IHZhbHVlICwgJ2ZvdW5kJzpmYWxzZX0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9pbnZhbGlkIHBhcmFtc1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYXJncyBtdXN0IGJlIGEgc3RyaW5nIG9yIG9iamVjdCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVHJpZ2dlcnMgYSBjbG9zZSBldmVudC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZVx0VGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqIFxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiB0cmlnZ2VyQ2xvc2UoaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgdmFyIGZvdW5kO1xyXG4gICAgICAgICAgICB0cmlnZ2VyQ2FsbGJhY2soaW5zdGFuY2UsIGZ1bmN0aW9uIChidXR0b24pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmb3VuZCA9IChidXR0b24uaW52b2tlT25DbG9zZSA9PT0gdHJ1ZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvL25vbmUgb2YgdGhlIGJ1dHRvbnMgcmVnaXN0ZXJlZCBhcyBvbmNsb3NlIGNhbGxiYWNrXHJcbiAgICAgICAgICAgIC8vY2xvc2UgdGhlIGRpYWxvZ1xyXG4gICAgICAgICAgICBpZiAoIWZvdW5kICYmIGluc3RhbmNlLmlzT3BlbigpKSB7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBEaWFsb2dzIGNvbW1hbmRzIGV2ZW50IGhhbmRsZXIsIGF0dGFjaGVkIHRvIHRoZSBkaWFsb2cgY29tbWFuZHMgZWxlbWVudC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XHRET00gZXZlbnQgb2JqZWN0LlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZVx0VGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqIFxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBjb21tYW5kc0NsaWNrSGFuZGxlcihldmVudCwgaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgdmFyIHRhcmdldCA9IGV2ZW50LnNyY0VsZW1lbnQgfHwgZXZlbnQudGFyZ2V0O1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHRhcmdldCkge1xyXG4gICAgICAgICAgICBjYXNlIGluc3RhbmNlLmVsZW1lbnRzLmNvbW1hbmRzLnBpbjpcclxuICAgICAgICAgICAgICAgIGlmICghaW5zdGFuY2UuaXNQaW5uZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBpbihpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHVucGluKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGluc3RhbmNlLmVsZW1lbnRzLmNvbW1hbmRzLm1heGltaXplOlxyXG4gICAgICAgICAgICAgICAgaWYgKCFpbnN0YW5jZS5pc01heGltaXplZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4aW1pemUoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN0b3JlKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGluc3RhbmNlLmVsZW1lbnRzLmNvbW1hbmRzLmNsb3NlOlxyXG4gICAgICAgICAgICAgICAgdHJpZ2dlckNsb3NlKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEhlbHBlcjogcGlucyB0aGUgbW9kZWxlc3MgZGlhbG9nLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlXHRUaGUgZGlhbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqIFxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBwaW4oaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgLy9waW4gdGhlIGRpYWxvZ1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5zZXQoJ3Bpbm5lZCcsIHRydWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSGVscGVyOiB1bnBpbnMgdGhlIG1vZGVsZXNzIGRpYWxvZy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZVx0VGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqIFxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiB1bnBpbihpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAvL3VucGluIHRoZSBkaWFsb2cgXHJcbiAgICAgICAgICAgIGluc3RhbmNlLnNldCgncGlubmVkJywgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEhlbHBlcjogZW5sYXJnZXMgdGhlIGRpYWxvZyB0byBmaWxsIHRoZSBlbnRpcmUgc2NyZWVuLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlXHRUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICogXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIG1heGltaXplKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIC8vIGFsbG93IGN1c3RvbSBgb25tYXhpbWl6ZWAgbWV0aG9kXHJcbiAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQoJ29ubWF4aW1pemUnLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIC8vbWF4aW1pemUgdGhlIGRpYWxvZyBcclxuICAgICAgICAgICAgYWRkQ2xhc3MoaW5zdGFuY2UuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy5tYXhpbWl6ZWQpO1xyXG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UuaXNPcGVuKCkpIHtcclxuICAgICAgICAgICAgICAgIGVuc3VyZU5vT3ZlcmZsb3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBhbGxvdyBjdXN0b20gYG9ubWF4aW1pemVkYCBtZXRob2RcclxuICAgICAgICAgICAgZGlzcGF0Y2hFdmVudCgnb25tYXhpbWl6ZWQnLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBIZWxwZXI6IHJldHVybnMgdGhlIGRpYWxvZyB0byBpdHMgZm9ybWVyIHNpemUuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2VcdFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKiBcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gcmVzdG9yZShpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAvLyBhbGxvdyBjdXN0b20gYG9ucmVzdG9yZWAgbWV0aG9kXHJcbiAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQoJ29ucmVzdG9yZScsIGluc3RhbmNlKTtcclxuICAgICAgICAgICAgLy9tYXhpbWl6ZSB0aGUgZGlhbG9nIFxyXG4gICAgICAgICAgICByZW1vdmVDbGFzcyhpbnN0YW5jZS5lbGVtZW50cy5yb290LCBjbGFzc2VzLm1heGltaXplZCk7XHJcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZS5pc09wZW4oKSkge1xyXG4gICAgICAgICAgICAgICAgZW5zdXJlTm9PdmVyZmxvdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGFsbG93IGN1c3RvbSBgb25yZXN0b3JlZGAgbWV0aG9kXHJcbiAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQoJ29ucmVzdG9yZWQnLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTaG93IG9yIGhpZGUgdGhlIG1heGltaXplIGJveC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBvbiBUcnVlIHRvIGFkZCB0aGUgYmVoYXZpb3IsIHJlbW92ZXMgaXQgb3RoZXJ3aXNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVBpbm5hYmxlKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZS5nZXQoJ3Bpbm5hYmxlJykpIHtcclxuICAgICAgICAgICAgICAgIC8vIGFkZCBjbGFzc1xyXG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoaW5zdGFuY2UuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy5waW5uYWJsZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgY2xhc3NcclxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGluc3RhbmNlLmVsZW1lbnRzLnJvb3QsIGNsYXNzZXMucGlubmFibGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBIZWxwZXI6IEZpeGVzIHRoZSBhYnNvbHV0bHkgcG9zaXRpb25lZCBtb2RhbCBkaXYgcG9zaXRpb24uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2UgVGhlIGRpYWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBhZGRBYnNQb3NpdGlvbkZpeChpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICB2YXIgc2Nyb2xsTGVmdCA9IGdldFNjcm9sbExlZnQoKTtcclxuICAgICAgICAgICAgaW5zdGFuY2UuZWxlbWVudHMubW9kYWwuc3R5bGUubWFyZ2luVG9wID0gZ2V0U2Nyb2xsVG9wKCkgKyAncHgnO1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5lbGVtZW50cy5tb2RhbC5zdHlsZS5tYXJnaW5MZWZ0ID0gc2Nyb2xsTGVmdCArICdweCc7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLmVsZW1lbnRzLm1vZGFsLnN0eWxlLm1hcmdpblJpZ2h0ID0gKC1zY3JvbGxMZWZ0KSArICdweCc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBIZWxwZXI6IFJlbW92ZXMgdGhlIGFic29sdXRseSBwb3NpdGlvbmVkIG1vZGFsIGRpdiBwb3NpdGlvbiBmaXguXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2UgVGhlIGRpYWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiByZW1vdmVBYnNQb3NpdGlvbkZpeChpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICB2YXIgbWFyZ2luVG9wID0gcGFyc2VJbnQoaW5zdGFuY2UuZWxlbWVudHMubW9kYWwuc3R5bGUubWFyZ2luVG9wLCAxMCk7XHJcbiAgICAgICAgICAgIHZhciBtYXJnaW5MZWZ0ID0gcGFyc2VJbnQoaW5zdGFuY2UuZWxlbWVudHMubW9kYWwuc3R5bGUubWFyZ2luTGVmdCwgMTApO1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5lbGVtZW50cy5tb2RhbC5zdHlsZS5tYXJnaW5Ub3AgPSAnJztcclxuICAgICAgICAgICAgaW5zdGFuY2UuZWxlbWVudHMubW9kYWwuc3R5bGUubWFyZ2luTGVmdCA9ICcnO1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5lbGVtZW50cy5tb2RhbC5zdHlsZS5tYXJnaW5SaWdodCA9ICcnO1xyXG5cclxuICAgICAgICAgICAgaWYgKGluc3RhbmNlLmlzT3BlbigpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdG9wID0gMCxcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gMFxyXG4gICAgICAgICAgICAgICAgO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlLmVsZW1lbnRzLmRpYWxvZy5zdHlsZS50b3AgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9wID0gcGFyc2VJbnQoaW5zdGFuY2UuZWxlbWVudHMuZGlhbG9nLnN0eWxlLnRvcCwgMTApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuZWxlbWVudHMuZGlhbG9nLnN0eWxlLnRvcCA9ICh0b3AgKyAobWFyZ2luVG9wIC0gZ2V0U2Nyb2xsVG9wKCkpKSArICdweCc7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlLmVsZW1lbnRzLmRpYWxvZy5zdHlsZS5sZWZ0ICE9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQgPSBwYXJzZUludChpbnN0YW5jZS5lbGVtZW50cy5kaWFsb2cuc3R5bGUubGVmdCwgMTApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuZWxlbWVudHMuZGlhbG9nLnN0eWxlLmxlZnQgPSAobGVmdCArIChtYXJnaW5MZWZ0IC0gZ2V0U2Nyb2xsTGVmdCgpKSkgKyAncHgnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEhlbHBlcjogQWRkcy9SZW1vdmVzIHRoZSBhYnNvbHV0bHkgcG9zaXRpb25lZCBtb2RhbCBkaXYgcG9zaXRpb24gZml4IGJhc2VkIG9uIGl0cyBwaW5uZWQgc2V0dGluZy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlhbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUFic1Bvc2l0aW9uRml4KGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIC8vIGlmIG1vZGVsZXNzIGFuZCB1bnBpbm5lZCBhZGQgZml4XHJcbiAgICAgICAgICAgIGlmICghaW5zdGFuY2UuZ2V0KCdtb2RhbCcpICYmICFpbnN0YW5jZS5nZXQoJ3Bpbm5lZCcpKSB7XHJcbiAgICAgICAgICAgICAgICBhZGRBYnNQb3NpdGlvbkZpeChpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVBYnNQb3NpdGlvbkZpeChpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVG9nZ2xlcyB0aGUgZGlhbG9nIHBvc2l0aW9uIGxvY2sgfCBtb2RlbGVzcyBvbmx5LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IG9uIFRydWUgdG8gbWFrZSBpdCBtb2RhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVBpbm5lZChpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UuZ2V0KCdwaW5uZWQnKSkge1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoaW5zdGFuY2UuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy51bnBpbm5lZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UuaXNPcGVuKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmVBYnNQb3NpdGlvbkZpeChpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhpbnN0YW5jZS5lbGVtZW50cy5yb290LCBjbGFzc2VzLnVucGlubmVkKTtcclxuICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZS5pc09wZW4oKSAmJiAhaW5zdGFuY2UuaXNNb2RhbCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkQWJzUG9zaXRpb25GaXgoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTaG93IG9yIGhpZGUgdGhlIG1heGltaXplIGJveC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBvbiBUcnVlIHRvIGFkZCB0aGUgYmVoYXZpb3IsIHJlbW92ZXMgaXQgb3RoZXJ3aXNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZU1heGltaXphYmxlKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZS5nZXQoJ21heGltaXphYmxlJykpIHtcclxuICAgICAgICAgICAgICAgIC8vIGFkZCBjbGFzc1xyXG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoaW5zdGFuY2UuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy5tYXhpbWl6YWJsZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgY2xhc3NcclxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGluc3RhbmNlLmVsZW1lbnRzLnJvb3QsIGNsYXNzZXMubWF4aW1pemFibGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTaG93IG9yIGhpZGUgdGhlIGNsb3NlIGJveC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBvbiBUcnVlIHRvIGFkZCB0aGUgYmVoYXZpb3IsIHJlbW92ZXMgaXQgb3RoZXJ3aXNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUNsb3NhYmxlKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZS5nZXQoJ2Nsb3NhYmxlJykpIHtcclxuICAgICAgICAgICAgICAgIC8vIGFkZCBjbGFzc1xyXG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoaW5zdGFuY2UuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy5jbG9zYWJsZSk7XHJcbiAgICAgICAgICAgICAgICBiaW5kQ2xvc2FibGVFdmVudHMoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGNsYXNzXHJcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhpbnN0YW5jZS5lbGVtZW50cy5yb290LCBjbGFzc2VzLmNsb3NhYmxlKTtcclxuICAgICAgICAgICAgICAgIHVuYmluZENsb3NhYmxlRXZlbnRzKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gZmxhZyB0byBjYW5jZWwgY2xpY2sgZXZlbnQgaWYgYWxyZWFkeSBoYW5kbGVkIGJ5IGVuZCByZXNpemUgZXZlbnQgKHRoZSBtb3VzZWRvd24sIG1vdXNlbW92ZSwgbW91c2V1cCBzZXF1ZW5jZSBmaXJlcyBhIGNsaWNrIGV2ZW50LikuXHJcbiAgICAgICAgdmFyIGNhbmNlbENsaWNrID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEhlbHBlcjogY2xvc2VzIHRoZSBtb2RhbCBkaWFsb2cgd2hlbiBjbGlja2luZyB0aGUgbW9kYWxcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XHRET00gZXZlbnQgb2JqZWN0LlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gbW9kYWxDbGlja0hhbmRsZXIoZXZlbnQsIGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBldmVudC5zcmNFbGVtZW50IHx8IGV2ZW50LnRhcmdldDtcclxuICAgICAgICAgICAgaWYgKCFjYW5jZWxDbGljayAmJiB0YXJnZXQgPT09IGluc3RhbmNlLmVsZW1lbnRzLm1vZGFsICYmIGluc3RhbmNlLmdldCgnY2xvc2FibGVCeURpbW1lcicpID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VyQ2xvc2UoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhbmNlbENsaWNrID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGZsYWcgdG8gY2FuY2VsIGtleXVwIGV2ZW50IGlmIGFscmVhZHkgaGFuZGxlZCBieSBjbGljayBldmVudCAocHJlc3NpbmcgRW50ZXIgb24gYSBmb2N1c3RlZCBidXR0b24pLlxyXG4gICAgICAgIHZhciBjYW5jZWxLZXl1cCA9IGZhbHNlO1xyXG4gICAgICAgIC8qKiBcclxuICAgICAgICAgKiBIZWxwZXI6IHRyaWdnZXJzIGEgYnV0dG9uIGNhbGxiYWNrXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH1cdFx0VGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259XHRDYWxsYmFjayB0byBjaGVjayB3aGljaCBidXR0b24gdHJpZ2dlcmVkIHRoZSBldmVudC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiB0cmlnZ2VyQ2FsbGJhY2soaW5zdGFuY2UsIGNoZWNrKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGlkeCA9IDA7IGlkeCA8IGluc3RhbmNlLl9faW50ZXJuYWwuYnV0dG9ucy5sZW5ndGg7IGlkeCArPSAxKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYnV0dG9uID0gaW5zdGFuY2UuX19pbnRlcm5hbC5idXR0b25zW2lkeF07XHJcbiAgICAgICAgICAgICAgICBpZiAoIWJ1dHRvbi5lbGVtZW50LmRpc2FibGVkICYmIGNoZWNrKGJ1dHRvbikpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2xvc2VFdmVudCA9IGNyZWF0ZUNsb3NlRXZlbnQoaWR4LCBidXR0b24pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuY2FsbGJhY2suYXBwbHkoaW5zdGFuY2UsIFtjbG9zZUV2ZW50XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vY2xvc2UgdGhlIGRpYWxvZyBvbmx5IGlmIG5vdCBjYW5jZWxlZC5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2xvc2VFdmVudC5jYW5jZWwgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDbGlja3MgZXZlbnQgaGFuZGxlciwgYXR0YWNoZWQgdG8gdGhlIGRpYWxvZyBmb290ZXIuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge0V2ZW50fVx0XHRET00gZXZlbnQgb2JqZWN0LlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fVx0XHRUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICogXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGJ1dHRvbnNDbGlja0hhbmRsZXIoZXZlbnQsIGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBldmVudC5zcmNFbGVtZW50IHx8IGV2ZW50LnRhcmdldDtcclxuICAgICAgICAgICAgdHJpZ2dlckNhbGxiYWNrKGluc3RhbmNlLCBmdW5jdGlvbiAoYnV0dG9uKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGlzIGJ1dHRvbiBjYXVzZWQgdGhlIGNsaWNrLCBjYW5jZWwga2V5dXAgZXZlbnRcclxuICAgICAgICAgICAgICAgIHJldHVybiBidXR0b24uZWxlbWVudCA9PT0gdGFyZ2V0ICYmIChjYW5jZWxLZXl1cCA9IHRydWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEtleXVwIGV2ZW50IGhhbmRsZXIsIGF0dGFjaGVkIHRvIHRoZSBkb2N1bWVudC5ib2R5XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge0V2ZW50fVx0XHRET00gZXZlbnQgb2JqZWN0LlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fVx0XHRUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICogXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGtleXVwSGFuZGxlcihldmVudCkge1xyXG4gICAgICAgICAgICAvL2hpdHRpbmcgZW50ZXIgd2hpbGUgYnV0dG9uIGhhcyBmb2N1cyB3aWxsIHRyaWdnZXIga2V5dXAgdG9vLlxyXG4gICAgICAgICAgICAvL2lnbm9yZSBpZiBoYW5kbGVkIGJ5IGNsaWNrSGFuZGxlclxyXG4gICAgICAgICAgICBpZiAoY2FuY2VsS2V5dXApIHtcclxuICAgICAgICAgICAgICAgIGNhbmNlbEtleXVwID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gb3BlbkRpYWxvZ3Nbb3BlbkRpYWxvZ3MubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgIHZhciBrZXlDb2RlID0gZXZlbnQua2V5Q29kZTtcclxuICAgICAgICAgICAgaWYgKGluc3RhbmNlLl9faW50ZXJuYWwuYnV0dG9ucy5sZW5ndGggPT09IDAgJiYga2V5Q29kZSA9PT0ga2V5cy5FU0MgJiYgaW5zdGFuY2UuZ2V0KCdjbG9zYWJsZScpID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VyQ2xvc2UoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZiAodXNlZEtleXMuaW5kZXhPZihrZXlDb2RlKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VyQ2FsbGJhY2soaW5zdGFuY2UsIGZ1bmN0aW9uIChidXR0b24pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYnV0dG9uLmtleSA9PT0ga2V5Q29kZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogS2V5ZG93biBldmVudCBoYW5kbGVyLCBhdHRhY2hlZCB0byB0aGUgZG9jdW1lbnQuYm9keVxyXG4gICAgICAgICpcclxuICAgICAgICAqIEBwYXJhbSB7RXZlbnR9XHRcdERPTSBldmVudCBvYmplY3QuXHJcbiAgICAgICAgKiBAcGFyYW0ge09iamVjdH1cdFx0VGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICogXHJcbiAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBrZXlkb3duSGFuZGxlcihldmVudCkge1xyXG4gICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBvcGVuRGlhbG9nc1tvcGVuRGlhbG9ncy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgdmFyIGtleUNvZGUgPSBldmVudC5rZXlDb2RlO1xyXG4gICAgICAgICAgICBpZiAoa2V5Q29kZSA9PT0ga2V5cy5MRUZUIHx8IGtleUNvZGUgPT09IGtleXMuUklHSFQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBidXR0b25zID0gaW5zdGFuY2UuX19pbnRlcm5hbC5idXR0b25zO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBidXR0b25zLmxlbmd0aDsgeCArPSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGJ1dHRvbnNbeF0uZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGtleUNvZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBrZXlzLkxFRlQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zWyh4IHx8IGJ1dHRvbnMubGVuZ3RoKSAtIDFdLmVsZW1lbnQuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBrZXlzLlJJR0hUOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uc1soeCArIDEpICUgYnV0dG9ucy5sZW5ndGhdLmVsZW1lbnQuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWVsc2UgaWYgKGtleUNvZGUgPCBrZXlzLkYxMiArIDEgJiYga2V5Q29kZSA+IGtleXMuRjEgLSAxICYmIHVzZWRLZXlzLmluZGV4T2Yoa2V5Q29kZSkgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgdHJpZ2dlckNhbGxiYWNrKGluc3RhbmNlLCBmdW5jdGlvbiAoYnV0dG9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJ1dHRvbi5rZXkgPT09IGtleUNvZGU7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNldHMgZm9jdXMgdG8gcHJvcGVyIGRpYWxvZyBlbGVtZW50XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2UgVGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqIEBwYXJhbSB7Tm9kZX0gW3Jlc2V0VGFyZ2V0PXVuZGVmaW5lZF0gRE9NIGVsZW1lbnQgdG8gcmVzZXQgZm9jdXMgdG8uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0Rm9jdXMoaW5zdGFuY2UsIHJlc2V0VGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIC8vIHJlc2V0IHRhcmdldCBoYXMgYWxyZWFkeSBiZWVuIGRldGVybWluZWQuXHJcbiAgICAgICAgICAgIGlmIChyZXNldFRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgcmVzZXRUYXJnZXQuZm9jdXMoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIGN1cnJlbnQgaW5zdGFuY2UgZm9jdXMgc2V0dGluZ3NcclxuICAgICAgICAgICAgICAgIHZhciBmb2N1cyA9IGluc3RhbmNlLl9faW50ZXJuYWwuZm9jdXM7XHJcbiAgICAgICAgICAgICAgICAvLyB0aGUgZm9jdXMgZWxlbWVudC5cclxuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gZm9jdXMuZWxlbWVudDtcclxuXHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiBmb2N1cy5lbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBhIG51bWJlciBtZWFucyBhIGJ1dHRvbiBpbmRleFxyXG4gICAgICAgICAgICAgICAgY2FzZSAnbnVtYmVyJzpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UuX19pbnRlcm5hbC5idXR0b25zLmxlbmd0aCA+IGZvY3VzLmVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pbiBiYXNpYyB2aWV3LCBza2lwIGZvY3VzaW5nIHRoZSBidXR0b25zLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UuZ2V0KCdiYXNpYycpID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gaW5zdGFuY2UuZWxlbWVudHMucmVzZXRbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gaW5zdGFuY2UuX19pbnRlcm5hbC5idXR0b25zW2ZvY3VzLmVsZW1lbnRdLmVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAvLyBhIHN0cmluZyBtZWFucyBxdWVyeVNlbGVjdG9yIHRvIHNlbGVjdCBmcm9tIGRpYWxvZyBib2R5IGNvbnRlbnRzLlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzpcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gaW5zdGFuY2UuZWxlbWVudHMuYm9keS5xdWVyeVNlbGVjdG9yKGZvY3VzLmVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgLy8gYSBmdW5jdGlvbiBzaG91bGQgcmV0dXJuIHRoZSBmb2N1cyBlbGVtZW50LlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBmb2N1cy5lbGVtZW50LmNhbGwoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBpZiBubyBmb2N1cyBlbGVtZW50LCBkZWZhdWx0IHRvIGZpcnN0IHJlc2V0IGVsZW1lbnQuXHJcbiAgICAgICAgICAgICAgICBpZiAoKHR5cGVvZiBlbGVtZW50ID09PSAndW5kZWZpbmVkJyB8fCBlbGVtZW50ID09PSBudWxsKSAmJiBpbnN0YW5jZS5fX2ludGVybmFsLmJ1dHRvbnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IGluc3RhbmNlLmVsZW1lbnRzLnJlc2V0WzBdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gZm9jdXNcclxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50ICYmIGVsZW1lbnQuZm9jdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgc2VsZWN0YWJsZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmb2N1cy5zZWxlY3QgJiYgZWxlbWVudC5zZWxlY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zZWxlY3QoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEZvY3VzIGV2ZW50IGhhbmRsZXIsIGF0dGFjaGVkIHRvIGRvY3VtZW50LmJvZHkgYW5kIGRpYWxvZ3Mgb3duIHJlc2V0IGxpbmtzLlxyXG4gICAgICAgICAqIGhhbmRsZXMgdGhlIGZvY3VzIGZvciBtb2RhbCBkaWFsb2dzIG9ubHkuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBET00gZm9jdXMgZXZlbnQgb2JqZWN0LlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gb25SZXNldChldmVudCwgaW5zdGFuY2UpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIHNob3VsZCB3b3JrIG9uIGxhc3QgbW9kYWwgaWYgdHJpZ2dlcmVkIGZyb20gZG9jdW1lbnQuYm9keSBcclxuICAgICAgICAgICAgaWYgKCFpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IG9wZW5EaWFsb2dzLmxlbmd0aCAtIDE7IHggPiAtMTsgeCAtPSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wZW5EaWFsb2dzW3hdLmlzTW9kYWwoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IG9wZW5EaWFsb2dzW3hdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gaWYgbW9kYWxcclxuICAgICAgICAgICAgaWYgKGluc3RhbmNlICYmIGluc3RhbmNlLmlzTW9kYWwoKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gZGV0ZXJtaW5lIHJlc2V0IHRhcmdldCB0byBlbmFibGUgZm9yd2FyZC9iYWNrd2FyZCB0YWIgY3ljbGUuXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzZXRUYXJnZXQsIHRhcmdldCA9IGV2ZW50LnNyY0VsZW1lbnQgfHwgZXZlbnQudGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgdmFyIGxhc3RSZXNldEVsZW1lbnQgPSB0YXJnZXQgPT09IGluc3RhbmNlLmVsZW1lbnRzLnJlc2V0WzFdIHx8IChpbnN0YW5jZS5fX2ludGVybmFsLmJ1dHRvbnMubGVuZ3RoID09PSAwICYmIHRhcmdldCA9PT0gZG9jdW1lbnQuYm9keSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaWYgbGFzdCByZXNldCBsaW5rLCB0aGVuIGdvIHRvIG1heGltaXplIG9yIGNsb3NlXHJcbiAgICAgICAgICAgICAgICBpZiAobGFzdFJlc2V0RWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZS5nZXQoJ21heGltaXphYmxlJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRUYXJnZXQgPSBpbnN0YW5jZS5lbGVtZW50cy5jb21tYW5kcy5tYXhpbWl6ZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGluc3RhbmNlLmdldCgnY2xvc2FibGUnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNldFRhcmdldCA9IGluc3RhbmNlLmVsZW1lbnRzLmNvbW1hbmRzLmNsb3NlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGlmIG5vIHJlc2V0IHRhcmdldCBmb3VuZCwgdHJ5IGZpbmRpbmcgdGhlIGJlc3QgYnV0dG9uXHJcbiAgICAgICAgICAgICAgICBpZiAocmVzZXRUYXJnZXQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuX19pbnRlcm5hbC5mb2N1cy5lbGVtZW50ID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBidXR0b24gZm9jdXMgZWxlbWVudCwgZ28gdG8gZmlyc3QgYXZhaWxhYmxlIGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ID09PSBpbnN0YW5jZS5lbGVtZW50cy5yZXNldFswXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRUYXJnZXQgPSBpbnN0YW5jZS5lbGVtZW50cy5idXR0b25zLmF1eGlsaWFyeS5maXJzdENoaWxkIHx8IGluc3RhbmNlLmVsZW1lbnRzLmJ1dHRvbnMucHJpbWFyeS5maXJzdENoaWxkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxhc3RSZXNldEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcmVzdGFydCB0aGUgY3ljbGUgYnkgZ29pbmcgdG8gZmlyc3QgcmVzZXQgbGlua1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRUYXJnZXQgPSBpbnN0YW5jZS5lbGVtZW50cy5yZXNldFswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdpbGwgcmVhY2ggaGVyZSB3aGVuIHRhcHBpbmcgYmFja3dhcmRzLCBzbyBnbyB0byBsYXN0IGNoaWxkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBmb2N1cyBlbGVtZW50IFNIT1VMRCBOT1QgYmUgYSBidXR0b24gKGxvZ2ljYWxseSEpLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ID09PSBpbnN0YW5jZS5lbGVtZW50cy5yZXNldFswXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRUYXJnZXQgPSBpbnN0YW5jZS5lbGVtZW50cy5idXR0b25zLnByaW1hcnkubGFzdENoaWxkIHx8IGluc3RhbmNlLmVsZW1lbnRzLmJ1dHRvbnMuYXV4aWxpYXJ5Lmxhc3RDaGlsZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGZvY3VzXHJcbiAgICAgICAgICAgICAgICBzZXRGb2N1cyhpbnN0YW5jZSwgcmVzZXRUYXJnZXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRyYW5zaXRpb24gaW4gdHJhbnNpdGlvbmVuZCBldmVudCBoYW5kbGVyLiBcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7RXZlbnR9XHRcdFRyYW5zaXRpb25FbmQgZXZlbnQgb2JqZWN0LlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fVx0XHRUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlVHJhbnNpdGlvbkluRXZlbnQoZXZlbnQsIGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIC8vIGNsZWFyIHRoZSB0aW1lclxyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoaW5zdGFuY2UuX19pbnRlcm5hbC50aW1lckluKTtcclxuXHJcbiAgICAgICAgICAgIC8vIG9uY2UgdHJhbnNpdGlvbiBpcyBjb21wbGV0ZSwgc2V0IGZvY3VzXHJcbiAgICAgICAgICAgIHNldEZvY3VzKGluc3RhbmNlKTtcclxuXHJcbiAgICAgICAgICAgIC8vcmVzdG9yZSBzY3JvbGwgdG8gcHJldmVudCBkb2N1bWVudCBqdW1wXHJcbiAgICAgICAgICAgIHJlc3RvcmVTY3JvbGxQb3NpdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgLy8gYWxsb3cgaGFuZGxpbmcga2V5IHVwIGFmdGVyIHRyYW5zaXRpb24gZW5kZWQuXHJcbiAgICAgICAgICAgIGNhbmNlbEtleXVwID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAvLyBhbGxvdyBjdXN0b20gYG9uZm9jdXNgIG1ldGhvZFxyXG4gICAgICAgICAgICBkaXNwYXRjaEV2ZW50KCdvbmZvY3VzJywgaW5zdGFuY2UpO1xyXG5cclxuICAgICAgICAgICAgLy8gdW5iaW5kIHRoZSBldmVudFxyXG4gICAgICAgICAgICBvZmYoaW5zdGFuY2UuZWxlbWVudHMuZGlhbG9nLCB0cmFuc2l0aW9uLnR5cGUsIGluc3RhbmNlLl9faW50ZXJuYWwudHJhbnNpdGlvbkluSGFuZGxlcik7XHJcblxyXG4gICAgICAgICAgICByZW1vdmVDbGFzcyhpbnN0YW5jZS5lbGVtZW50cy5yb290LCBjbGFzc2VzLmFuaW1hdGlvbkluKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRyYW5zaXRpb24gb3V0IHRyYW5zaXRpb25lbmQgZXZlbnQgaGFuZGxlci4gXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge0V2ZW50fVx0XHRUcmFuc2l0aW9uRW5kIGV2ZW50IG9iamVjdC5cclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH1cdFx0VGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZVRyYW5zaXRpb25PdXRFdmVudChldmVudCwgaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgLy8gY2xlYXIgdGhlIHRpbWVyXHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChpbnN0YW5jZS5fX2ludGVybmFsLnRpbWVyT3V0KTtcclxuICAgICAgICAgICAgLy8gdW5iaW5kIHRoZSBldmVudFxyXG4gICAgICAgICAgICBvZmYoaW5zdGFuY2UuZWxlbWVudHMuZGlhbG9nLCB0cmFuc2l0aW9uLnR5cGUsIGluc3RhbmNlLl9faW50ZXJuYWwudHJhbnNpdGlvbk91dEhhbmRsZXIpO1xyXG5cclxuICAgICAgICAgICAgLy8gcmVzZXQgbW92ZSB1cGRhdGVzXHJcbiAgICAgICAgICAgIHJlc2V0TW92ZShpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIC8vIHJlc2V0IHJlc2l6ZSB1cGRhdGVzXHJcbiAgICAgICAgICAgIHJlc2V0UmVzaXplKGluc3RhbmNlKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHJlc3RvcmUgaWYgbWF4aW1pemVkXHJcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZS5pc01heGltaXplZCgpICYmICFpbnN0YW5jZS5nZXQoJ3N0YXJ0TWF4aW1pemVkJykpIHtcclxuICAgICAgICAgICAgICAgIHJlc3RvcmUoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyByZXR1cm4gZm9jdXMgdG8gdGhlIGxhc3QgYWN0aXZlIGVsZW1lbnRcclxuICAgICAgICAgICAgaWYgKGFsZXJ0aWZ5LmRlZmF1bHRzLm1haW50YWluRm9jdXMgJiYgaW5zdGFuY2UuX19pbnRlcm5hbC5hY3RpdmVFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5fX2ludGVybmFsLmFjdGl2ZUVsZW1lbnQuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLl9faW50ZXJuYWwuYWN0aXZlRWxlbWVudCA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vZGVzdG9yeSB0aGUgaW5zdGFuY2VcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5fX2ludGVybmFsLmRlc3Ryb3kgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLl9faW50ZXJuYWwuZGVzdHJveS5hcHBseShpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLyogQ29udHJvbHMgbW92aW5nIGEgZGlhbG9nIGFyb3VuZCAqL1xyXG4gICAgICAgIC8vaG9sZGUgdGhlIGN1cnJlbnQgbW92aW5nIGluc3RhbmNlXHJcbiAgICAgICAgdmFyIG1vdmFibGUgPSBudWxsLFxyXG4gICAgICAgICAgICAvL2hvbGRzIHRoZSBjdXJyZW50IFggb2Zmc2V0IHdoZW4gbW92ZSBzdGFydHNcclxuICAgICAgICAgICAgb2Zmc2V0WCA9IDAsXHJcbiAgICAgICAgICAgIC8vaG9sZHMgdGhlIGN1cnJlbnQgWSBvZmZzZXQgd2hlbiBtb3ZlIHN0YXJ0c1xyXG4gICAgICAgICAgICBvZmZzZXRZID0gMCxcclxuICAgICAgICAgICAgeFByb3AgPSAncGFnZVgnLFxyXG4gICAgICAgICAgICB5UHJvcCA9ICdwYWdlWScsXHJcbiAgICAgICAgICAgIGJvdW5kcyA9IG51bGwsXHJcbiAgICAgICAgICAgIHJlZnJlc2hUb3AgPSBmYWxzZSxcclxuICAgICAgICAgICAgbW92ZURlbGVnYXRlID0gbnVsbFxyXG4gICAgICAgIDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSGVscGVyOiBzZXRzIHRoZSBlbGVtZW50IHRvcC9sZWZ0IGNvb3JkaW5hdGVzXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudFx0RE9NIGV2ZW50IG9iamVjdC5cclxuICAgICAgICAgKiBAcGFyYW0ge05vZGV9IGVsZW1lbnQgVGhlIGVsZW1lbnQgYmVpbmcgbW92ZWQuXHJcbiAgICAgICAgICogXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIG1vdmVFbGVtZW50KGV2ZW50LCBlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBsZWZ0ID0gKGV2ZW50W3hQcm9wXSAtIG9mZnNldFgpLFxyXG4gICAgICAgICAgICAgICAgdG9wICA9IChldmVudFt5UHJvcF0gLSBvZmZzZXRZKTtcclxuXHJcbiAgICAgICAgICAgIGlmKHJlZnJlc2hUb3Ape1xyXG4gICAgICAgICAgICAgICAgdG9wIC09IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUubGVmdCA9IGxlZnQgKyAncHgnO1xyXG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLnRvcCA9IHRvcCArICdweCc7XHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEhlbHBlcjogc2V0cyB0aGUgZWxlbWVudCB0b3AvbGVmdCBjb29yZGluYXRlcyB3aXRoaW4gc2NyZWVuIGJvdW5kc1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnRcdERPTSBldmVudCBvYmplY3QuXHJcbiAgICAgICAgICogQHBhcmFtIHtOb2RlfSBlbGVtZW50IFRoZSBlbGVtZW50IGJlaW5nIG1vdmVkLlxyXG4gICAgICAgICAqIFxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBtb3ZlRWxlbWVudEJvdW5kZWQoZXZlbnQsIGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdmFyIGxlZnQgPSAoZXZlbnRbeFByb3BdIC0gb2Zmc2V0WCksXHJcbiAgICAgICAgICAgICAgICB0b3AgID0gKGV2ZW50W3lQcm9wXSAtIG9mZnNldFkpO1xyXG5cclxuICAgICAgICAgICAgaWYocmVmcmVzaFRvcCl7XHJcbiAgICAgICAgICAgICAgICB0b3AgLT0gZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUubGVmdCA9IE1hdGgubWluKGJvdW5kcy5tYXhMZWZ0LCBNYXRoLm1heChib3VuZHMubWluTGVmdCwgbGVmdCkpICsgJ3B4JztcclxuICAgICAgICAgICAgaWYocmVmcmVzaFRvcCl7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnRvcCA9IE1hdGgubWluKGJvdW5kcy5tYXhUb3AsIE1hdGgubWF4KGJvdW5kcy5taW5Ub3AsIHRvcCkpICsgJ3B4JztcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnRvcCA9IE1hdGgubWF4KGJvdW5kcy5taW5Ub3AsIHRvcCkgKyAncHgnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVHJpZ2dlcnMgdGhlIHN0YXJ0IG9mIGEgbW92ZSBldmVudCwgYXR0YWNoZWQgdG8gdGhlIGhlYWRlciBlbGVtZW50IG1vdXNlIGRvd24gZXZlbnQuXHJcbiAgICAgICAgICogQWRkcyBuby1zZWxlY3Rpb24gY2xhc3MgdG8gdGhlIGJvZHksIGRpc2FibGluZyBzZWxlY3Rpb24gd2hpbGUgbW92aW5nLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnRcdERPTSBldmVudCBvYmplY3QuXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKiBcclxuICAgICAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBmYWxzZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGJlZ2luTW92ZShldmVudCwgaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgaWYgKHJlc2l6YWJsZSA9PT0gbnVsbCAmJiAhaW5zdGFuY2UuaXNNYXhpbWl6ZWQoKSAmJiBpbnN0YW5jZS5nZXQoJ21vdmFibGUnKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50U3JjLCBsZWZ0PTAsIHRvcD0wO1xyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICd0b3VjaHN0YXJ0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRTcmMgPSBldmVudC50YXJnZXRUb3VjaGVzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHhQcm9wID0gJ2NsaWVudFgnO1xyXG4gICAgICAgICAgICAgICAgICAgIHlQcm9wID0gJ2NsaWVudFknO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC5idXR0b24gPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudFNyYyA9IGV2ZW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChldmVudFNyYykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IGluc3RhbmNlLmVsZW1lbnRzLmRpYWxvZztcclxuICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcyhlbGVtZW50LCBjbGFzc2VzLmNhcHR1cmUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zdHlsZS5sZWZ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQgPSBwYXJzZUludChlbGVtZW50LnN0eWxlLmxlZnQsIDEwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnN0eWxlLnRvcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3AgPSBwYXJzZUludChlbGVtZW50LnN0eWxlLnRvcCwgMTApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBvZmZzZXRYID0gZXZlbnRTcmNbeFByb3BdIC0gbGVmdDtcclxuICAgICAgICAgICAgICAgICAgICBvZmZzZXRZID0gZXZlbnRTcmNbeVByb3BdIC0gdG9wO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZihpbnN0YW5jZS5pc01vZGFsKCkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRZICs9IGluc3RhbmNlLmVsZW1lbnRzLm1vZGFsLnNjcm9sbFRvcDtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihpbnN0YW5jZS5pc1Bpbm5lZCgpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0WSAtPSBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaW5zdGFuY2UuZ2V0KCdtb3ZlQm91bmRlZCcpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSBlbGVtZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0TGVmdCA9IC1sZWZ0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0VG9wID0gLXRvcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY2FsYyBvZmZzZXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0TGVmdCArPSBjdXJyZW50Lm9mZnNldExlZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRUb3AgKz0gY3VycmVudC5vZmZzZXRUb3A7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKGN1cnJlbnQgPSBjdXJyZW50Lm9mZnNldFBhcmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3VuZHMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhMZWZ0IDogb2Zmc2V0TGVmdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbkxlZnQgOiAtb2Zmc2V0TGVmdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heFRvcCAgOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IC0gZWxlbWVudC5jbGllbnRIZWlnaHQgLSBvZmZzZXRUb3AsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5Ub3AgIDogLW9mZnNldFRvcFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlRGVsZWdhdGUgPSBtb3ZlRWxlbWVudEJvdW5kZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kcyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVEZWxlZ2F0ZSA9IG1vdmVFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAvLyBhbGxvdyBjdXN0b20gYG9ubW92ZWAgbWV0aG9kXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hFdmVudCgnb25tb3ZlJywgaW5zdGFuY2UpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZWZyZXNoVG9wID0gIWluc3RhbmNlLmlzTW9kYWwoKSAmJiBpbnN0YW5jZS5pc1Bpbm5lZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vdmFibGUgPSBpbnN0YW5jZTtcclxuICAgICAgICAgICAgICAgICAgICBtb3ZlRGVsZWdhdGUoZXZlbnRTcmMsIGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKGRvY3VtZW50LmJvZHksIGNsYXNzZXMubm9TZWxlY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGhlIGFjdHVhbCBtb3ZlIGhhbmRsZXIsICBhdHRhY2hlZCB0byBkb2N1bWVudC5ib2R5IG1vdXNlbW92ZSBldmVudC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XHRET00gZXZlbnQgb2JqZWN0LlxyXG4gICAgICAgICAqIFxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBtb3ZlKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChtb3ZhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnRTcmM7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3RvdWNobW92ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50U3JjID0gZXZlbnQudGFyZ2V0VG91Y2hlc1swXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuYnV0dG9uID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRTcmMgPSBldmVudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChldmVudFNyYykge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vdmVEZWxlZ2F0ZShldmVudFNyYywgbW92YWJsZS5lbGVtZW50cy5kaWFsb2cpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUcmlnZ2VycyB0aGUgZW5kIG9mIGEgbW92ZSBldmVudCwgIGF0dGFjaGVkIHRvIGRvY3VtZW50LmJvZHkgbW91c2V1cCBldmVudC5cclxuICAgICAgICAgKiBSZW1vdmVzIG5vLXNlbGVjdGlvbiBjbGFzcyBmcm9tIGRvY3VtZW50LmJvZHksIGFsbG93aW5nIHNlbGVjdGlvbi5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBlbmRNb3ZlKCkge1xyXG4gICAgICAgICAgICBpZiAobW92YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gbW92YWJsZTtcclxuICAgICAgICAgICAgICAgIG1vdmFibGUgPSBib3VuZHMgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoZG9jdW1lbnQuYm9keSwgY2xhc3Nlcy5ub1NlbGVjdGlvbik7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhpbnN0YW5jZS5lbGVtZW50cy5kaWFsb2csIGNsYXNzZXMuY2FwdHVyZSk7XHJcbiAgICAgICAgICAgICAgICAvLyBhbGxvdyBjdXN0b20gYG9ubW92ZWRgIG1ldGhvZFxyXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2hFdmVudCgnb25tb3ZlZCcsIGluc3RhbmNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmVzZXRzIGFueSBjaGFuZ2VzIG1hZGUgYnkgbW92aW5nIHRoZSBlbGVtZW50IHRvIGl0cyBvcmlnaW5hbCBzdGF0ZSxcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gcmVzZXRNb3ZlKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIG1vdmFibGUgPSBudWxsO1xyXG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGluc3RhbmNlLmVsZW1lbnRzLmRpYWxvZztcclxuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5sZWZ0ID0gZWxlbWVudC5zdHlsZS50b3AgPSAnJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFVwZGF0ZXMgdGhlIGRpYWxvZyBtb3ZlIGJlaGF2aW9yLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IG9uIFRydWUgdG8gYWRkIHRoZSBiZWhhdmlvciwgcmVtb3ZlcyBpdCBvdGhlcndpc2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlTW92YWJsZShpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UuZ2V0KCdtb3ZhYmxlJykpIHtcclxuICAgICAgICAgICAgICAgIC8vIGFkZCBjbGFzc1xyXG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoaW5zdGFuY2UuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy5tb3ZhYmxlKTtcclxuICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZS5pc09wZW4oKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJpbmRNb3ZhYmxlRXZlbnRzKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3Jlc2V0XHJcbiAgICAgICAgICAgICAgICByZXNldE1vdmUoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGNsYXNzXHJcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhpbnN0YW5jZS5lbGVtZW50cy5yb290LCBjbGFzc2VzLm1vdmFibGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlLmlzT3BlbigpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdW5iaW5kTW92YWJsZUV2ZW50cyhpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIENvbnRyb2xzIG1vdmluZyBhIGRpYWxvZyBhcm91bmQgKi9cclxuICAgICAgICAvL2hvbGRlIHRoZSBjdXJyZW50IGluc3RhbmNlIGJlaW5nIHJlc2l6ZWRcdFx0XHJcbiAgICAgICAgdmFyIHJlc2l6YWJsZSA9IG51bGwsXHJcbiAgICAgICAgICAgIC8vaG9sZHMgdGhlIHN0YXJpbmcgbGVmdCBvZmZzZXQgd2hlbiByZXNpemUgc3RhcnRzLlxyXG4gICAgICAgICAgICBzdGFydGluZ0xlZnQgPSBOdW1iZXIuTmFuLFxyXG4gICAgICAgICAgICAvL2hvbGRzIHRoZSBzdGFyaW5nIHdpZHRoIHdoZW4gcmVzaXplIHN0YXJ0cy5cclxuICAgICAgICAgICAgc3RhcnRpbmdXaWR0aCA9IDAsXHJcbiAgICAgICAgICAgIC8vaG9sZHMgdGhlIGluaXRpYWwgd2lkdGggd2hlbiByZXNpemVkIGZvciB0aGUgZmlyc3QgdGltZS5cclxuICAgICAgICAgICAgbWluV2lkdGggPSAwLFxyXG4gICAgICAgICAgICAvL2hvbGRzIHRoZSBvZmZzZXQgb2YgdGhlIHJlc2l6ZSBoYW5kbGUuXHJcbiAgICAgICAgICAgIGhhbmRsZU9mZnNldCA9IDBcclxuICAgICAgICA7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEhlbHBlcjogc2V0cyB0aGUgZWxlbWVudCB3aWR0aC9oZWlnaHQgYW5kIHVwZGF0ZXMgbGVmdCBjb29yZGluYXRlIGlmIG5lY2Nlc3NhcnkuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudFx0RE9NIG1vdXNlbW92ZSBldmVudCBvYmplY3QuXHJcbiAgICAgICAgICogQHBhcmFtIHtOb2RlfSBlbGVtZW50IFRoZSBlbGVtZW50IGJlaW5nIG1vdmVkLlxyXG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gcGlubmVkIEEgZmxhZyBpbmRpY2F0aW5nIGlmIHRoZSBlbGVtZW50IGJlaW5nIHJlc2l6ZWQgaXMgcGlubmVkIHRvIHRoZSBzY3JlZW4uXHJcbiAgICAgICAgICogXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHJlc2l6ZUVsZW1lbnQoZXZlbnQsIGVsZW1lbnQsIHBhZ2VSZWxhdGl2ZSkge1xyXG5cclxuICAgICAgICAgICAgLy9jYWxjdWxhdGUgb2Zmc2V0cyBmcm9tIDAsMFxyXG4gICAgICAgICAgICB2YXIgY3VycmVudCA9IGVsZW1lbnQ7XHJcbiAgICAgICAgICAgIHZhciBvZmZzZXRMZWZ0ID0gMDtcclxuICAgICAgICAgICAgdmFyIG9mZnNldFRvcCA9IDA7XHJcbiAgICAgICAgICAgIGRvIHtcclxuICAgICAgICAgICAgICAgIG9mZnNldExlZnQgKz0gY3VycmVudC5vZmZzZXRMZWZ0O1xyXG4gICAgICAgICAgICAgICAgb2Zmc2V0VG9wICs9IGN1cnJlbnQub2Zmc2V0VG9wO1xyXG4gICAgICAgICAgICB9IHdoaWxlIChjdXJyZW50ID0gY3VycmVudC5vZmZzZXRQYXJlbnQpO1xyXG5cclxuICAgICAgICAgICAgLy8gZGV0ZXJtaW5lIFgsWSBjb29yZGluYXRlcy5cclxuICAgICAgICAgICAgdmFyIFgsIFk7XHJcbiAgICAgICAgICAgIGlmIChwYWdlUmVsYXRpdmUgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIFggPSBldmVudC5wYWdlWDtcclxuICAgICAgICAgICAgICAgIFkgPSBldmVudC5wYWdlWTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIFggPSBldmVudC5jbGllbnRYO1xyXG4gICAgICAgICAgICAgICAgWSA9IGV2ZW50LmNsaWVudFk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gcnRsIGhhbmRsaW5nXHJcbiAgICAgICAgICAgIHZhciBpc1JUTCA9IGlzUmlnaHRUb0xlZnQoKTtcclxuICAgICAgICAgICAgaWYgKGlzUlRMKSB7XHJcbiAgICAgICAgICAgICAgICAvLyByZXZlcnNlIFggXHJcbiAgICAgICAgICAgICAgICBYID0gZG9jdW1lbnQuYm9keS5vZmZzZXRXaWR0aCAtIFg7XHJcbiAgICAgICAgICAgICAgICAvLyBpZiBoYXMgYSBzdGFydGluZyBsZWZ0LCBjYWxjdWxhdGUgb2Zmc2V0UmlnaHRcclxuICAgICAgICAgICAgICAgIGlmICghaXNOYU4oc3RhcnRpbmdMZWZ0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldExlZnQgPSBkb2N1bWVudC5ib2R5Lm9mZnNldFdpZHRoIC0gb2Zmc2V0TGVmdCAtIGVsZW1lbnQub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHNldCB3aWR0aC9oZWlnaHRcclxuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5oZWlnaHQgPSAoWSAtIG9mZnNldFRvcCArIGhhbmRsZU9mZnNldCkgKyAncHgnO1xyXG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLndpZHRoID0gKFggLSBvZmZzZXRMZWZ0ICsgaGFuZGxlT2Zmc2V0KSArICdweCc7XHJcblxyXG4gICAgICAgICAgICAvLyBpZiB0aGUgZWxlbWVudCBiZWluZyByZXNpemVkIGhhcyBhIHN0YXJ0aW5nIGxlZnQsIG1haW50YWluIGl0LlxyXG4gICAgICAgICAgICAvLyB0aGUgZGlhbG9nIGlzIGNlbnRlcmVkLCBkaXZpZGUgYnkgaGFsZiB0aGUgb2Zmc2V0IHRvIG1haW50YWluIHRoZSBtYXJnaW5zLlxyXG4gICAgICAgICAgICBpZiAoIWlzTmFOKHN0YXJ0aW5nTGVmdCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBkaWZmID0gTWF0aC5hYnMoZWxlbWVudC5vZmZzZXRXaWR0aCAtIHN0YXJ0aW5nV2lkdGgpICogMC41O1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzUlRMKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9uZWdhdGUgdGhlIGRpZmYsIHdoeT9cclxuICAgICAgICAgICAgICAgICAgICAvL3doZW4gZ3Jvd2luZyBpdCBzaG91bGQgZGVjcmVhc2UgbGVmdFxyXG4gICAgICAgICAgICAgICAgICAgIC8vd2hlbiBzaHJpbmtpbmcgaXQgc2hvdWxkIGluY3JlYXNlIGxlZnRcclxuICAgICAgICAgICAgICAgICAgICBkaWZmICo9IC0xO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQub2Zmc2V0V2lkdGggPiBzdGFydGluZ1dpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9ncm93aW5nXHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5sZWZ0ID0gKHN0YXJ0aW5nTGVmdCArIGRpZmYpICsgJ3B4JztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC5vZmZzZXRXaWR0aCA+PSBtaW5XaWR0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vc2hyaW5raW5nXHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5sZWZ0ID0gKHN0YXJ0aW5nTGVmdCAtIGRpZmYpICsgJ3B4JztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVHJpZ2dlcnMgdGhlIHN0YXJ0IG9mIGEgcmVzaXplIGV2ZW50LCBhdHRhY2hlZCB0byB0aGUgcmVzaXplIGhhbmRsZSBlbGVtZW50IG1vdXNlIGRvd24gZXZlbnQuXHJcbiAgICAgICAgICogQWRkcyBuby1zZWxlY3Rpb24gY2xhc3MgdG8gdGhlIGJvZHksIGRpc2FibGluZyBzZWxlY3Rpb24gd2hpbGUgbW92aW5nLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnRcdERPTSBldmVudCBvYmplY3QuXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKiBcclxuICAgICAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBmYWxzZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGJlZ2luUmVzaXplKGV2ZW50LCBpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBpZiAoIWluc3RhbmNlLmlzTWF4aW1pemVkKCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBldmVudFNyYztcclxuICAgICAgICAgICAgICAgIGlmIChldmVudC50eXBlID09PSAndG91Y2hzdGFydCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50U3JjID0gZXZlbnQudGFyZ2V0VG91Y2hlc1swXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuYnV0dG9uID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRTcmMgPSBldmVudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChldmVudFNyYykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFsbG93IGN1c3RvbSBgb25yZXNpemVgIG1ldGhvZFxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQoJ29ucmVzaXplJywgaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6YWJsZSA9IGluc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZU9mZnNldCA9IGluc3RhbmNlLmVsZW1lbnRzLnJlc2l6ZUhhbmRsZS5vZmZzZXRIZWlnaHQgLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gaW5zdGFuY2UuZWxlbWVudHMuZGlhbG9nO1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzZXMuY2FwdHVyZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRpbmdMZWZ0ID0gcGFyc2VJbnQoZWxlbWVudC5zdHlsZS5sZWZ0LCAxMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5oZWlnaHQgPSBlbGVtZW50Lm9mZnNldEhlaWdodCArICdweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5taW5IZWlnaHQgPSBpbnN0YW5jZS5lbGVtZW50cy5oZWFkZXIub2Zmc2V0SGVpZ2h0ICsgaW5zdGFuY2UuZWxlbWVudHMuZm9vdGVyLm9mZnNldEhlaWdodCArICdweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS53aWR0aCA9IChzdGFydGluZ1dpZHRoID0gZWxlbWVudC5vZmZzZXRXaWR0aCkgKyAncHgnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zdHlsZS5tYXhXaWR0aCAhPT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUubWluV2lkdGggPSAobWluV2lkdGggPSBlbGVtZW50Lm9mZnNldFdpZHRoKSArICdweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUubWF4V2lkdGggPSAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkQ2xhc3MoZG9jdW1lbnQuYm9keSwgY2xhc3Nlcy5ub1NlbGVjdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGUgYWN0dWFsIHJlc2l6ZSBoYW5kbGVyLCAgYXR0YWNoZWQgdG8gZG9jdW1lbnQuYm9keSBtb3VzZW1vdmUgZXZlbnQuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudFx0RE9NIGV2ZW50IG9iamVjdC5cclxuICAgICAgICAgKiBcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gcmVzaXplKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChyZXNpemFibGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBldmVudFNyYztcclxuICAgICAgICAgICAgICAgIGlmIChldmVudC50eXBlID09PSAndG91Y2htb3ZlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRTcmMgPSBldmVudC50YXJnZXRUb3VjaGVzWzBdO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC5idXR0b24gPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudFNyYyA9IGV2ZW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50U3JjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplRWxlbWVudChldmVudFNyYywgcmVzaXphYmxlLmVsZW1lbnRzLmRpYWxvZywgIXJlc2l6YWJsZS5nZXQoJ21vZGFsJykgJiYgIXJlc2l6YWJsZS5nZXQoJ3Bpbm5lZCcpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVHJpZ2dlcnMgdGhlIGVuZCBvZiBhIHJlc2l6ZSBldmVudCwgIGF0dGFjaGVkIHRvIGRvY3VtZW50LmJvZHkgbW91c2V1cCBldmVudC5cclxuICAgICAgICAgKiBSZW1vdmVzIG5vLXNlbGVjdGlvbiBjbGFzcyBmcm9tIGRvY3VtZW50LmJvZHksIGFsbG93aW5nIHNlbGVjdGlvbi5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBlbmRSZXNpemUoKSB7XHJcbiAgICAgICAgICAgIGlmIChyZXNpemFibGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IHJlc2l6YWJsZTtcclxuICAgICAgICAgICAgICAgIHJlc2l6YWJsZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhkb2N1bWVudC5ib2R5LCBjbGFzc2VzLm5vU2VsZWN0aW9uKTtcclxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGluc3RhbmNlLmVsZW1lbnRzLmRpYWxvZywgY2xhc3Nlcy5jYXB0dXJlKTtcclxuICAgICAgICAgICAgICAgIGNhbmNlbENsaWNrID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIC8vIGFsbG93IGN1c3RvbSBgb25yZXNpemVkYCBtZXRob2RcclxuICAgICAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQoJ29ucmVzaXplZCcsIGluc3RhbmNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmVzZXRzIGFueSBjaGFuZ2VzIG1hZGUgYnkgcmVzaXppbmcgdGhlIGVsZW1lbnQgdG8gaXRzIG9yaWdpbmFsIHN0YXRlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiByZXNldFJlc2l6ZShpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICByZXNpemFibGUgPSBudWxsO1xyXG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGluc3RhbmNlLmVsZW1lbnRzLmRpYWxvZztcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnQuc3R5bGUubWF4V2lkdGggPT09ICdub25lJykge1xyXG4gICAgICAgICAgICAgICAgLy9jbGVhciBpbmxpbmUgc3R5bGVzLlxyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5tYXhXaWR0aCA9IGVsZW1lbnQuc3R5bGUubWluV2lkdGggPSBlbGVtZW50LnN0eWxlLndpZHRoID0gZWxlbWVudC5zdHlsZS5oZWlnaHQgPSBlbGVtZW50LnN0eWxlLm1pbkhlaWdodCA9IGVsZW1lbnQuc3R5bGUubGVmdCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgLy9yZXNldCB2YXJpYWJsZXMuXHJcbiAgICAgICAgICAgICAgICBzdGFydGluZ0xlZnQgPSBOdW1iZXIuTmFuO1xyXG4gICAgICAgICAgICAgICAgc3RhcnRpbmdXaWR0aCA9IG1pbldpZHRoID0gaGFuZGxlT2Zmc2V0ID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFVwZGF0ZXMgdGhlIGRpYWxvZyBtb3ZlIGJlaGF2aW9yLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IG9uIFRydWUgdG8gYWRkIHRoZSBiZWhhdmlvciwgcmVtb3ZlcyBpdCBvdGhlcndpc2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlUmVzaXphYmxlKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZS5nZXQoJ3Jlc2l6YWJsZScpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBhZGQgY2xhc3NcclxuICAgICAgICAgICAgICAgIGFkZENsYXNzKGluc3RhbmNlLmVsZW1lbnRzLnJvb3QsIGNsYXNzZXMucmVzaXphYmxlKTtcclxuICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZS5pc09wZW4oKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJpbmRSZXNpemFibGVFdmVudHMoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy9yZXNldFxyXG4gICAgICAgICAgICAgICAgcmVzZXRSZXNpemUoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGNsYXNzXHJcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhpbnN0YW5jZS5lbGVtZW50cy5yb290LCBjbGFzc2VzLnJlc2l6YWJsZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UuaXNPcGVuKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB1bmJpbmRSZXNpemFibGVFdmVudHMoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZXNldCBtb3ZlL3Jlc2l6ZSBvbiB3aW5kb3cgcmVzaXplLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnRcdHdpbmRvdyByZXNpemUgZXZlbnQgb2JqZWN0LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHdpbmRvd1Jlc2l6ZSgvKmV2ZW50Ki8pIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBvcGVuRGlhbG9ncy5sZW5ndGg7IHggKz0gMSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gb3BlbkRpYWxvZ3NbeF07XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UuZ2V0KCdhdXRvUmVzZXQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc2V0TW92ZShpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzZXRSZXNpemUoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEJpbmQgZGlhbG9ncyBldmVudHNcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gYmluZEV2ZW50cyhpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAvLyBpZiBmaXJzdCBkaWFsb2csIGhvb2sgZ2xvYmFsIGhhbmRsZXJzXHJcbiAgICAgICAgICAgIGlmIChvcGVuRGlhbG9ncy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIC8vZ2xvYmFsXHJcbiAgICAgICAgICAgICAgICBvbih3aW5kb3csICdyZXNpemUnLCB3aW5kb3dSZXNpemUpO1xyXG4gICAgICAgICAgICAgICAgb24oZG9jdW1lbnQuYm9keSwgJ2tleXVwJywga2V5dXBIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgIG9uKGRvY3VtZW50LmJvZHksICdrZXlkb3duJywga2V5ZG93bkhhbmRsZXIpO1xyXG4gICAgICAgICAgICAgICAgb24oZG9jdW1lbnQuYm9keSwgJ2ZvY3VzJywgb25SZXNldCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9tb3ZlXHJcbiAgICAgICAgICAgICAgICBvbihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsICdtb3VzZW1vdmUnLCBtb3ZlKTtcclxuICAgICAgICAgICAgICAgIG9uKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgJ3RvdWNobW92ZScsIG1vdmUpO1xyXG4gICAgICAgICAgICAgICAgb24oZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCAnbW91c2V1cCcsIGVuZE1vdmUpO1xyXG4gICAgICAgICAgICAgICAgb24oZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCAndG91Y2hlbmQnLCBlbmRNb3ZlKTtcclxuICAgICAgICAgICAgICAgIC8vcmVzaXplXHJcbiAgICAgICAgICAgICAgICBvbihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsICdtb3VzZW1vdmUnLCByZXNpemUpO1xyXG4gICAgICAgICAgICAgICAgb24oZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCAndG91Y2htb3ZlJywgcmVzaXplKTtcclxuICAgICAgICAgICAgICAgIG9uKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgJ21vdXNldXAnLCBlbmRSZXNpemUpO1xyXG4gICAgICAgICAgICAgICAgb24oZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCAndG91Y2hlbmQnLCBlbmRSZXNpemUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBjb21tb24gZXZlbnRzXHJcbiAgICAgICAgICAgIG9uKGluc3RhbmNlLmVsZW1lbnRzLmNvbW1hbmRzLmNvbnRhaW5lciwgJ2NsaWNrJywgaW5zdGFuY2UuX19pbnRlcm5hbC5jb21tYW5kc0NsaWNrSGFuZGxlcik7XHJcbiAgICAgICAgICAgIG9uKGluc3RhbmNlLmVsZW1lbnRzLmZvb3RlciwgJ2NsaWNrJywgaW5zdGFuY2UuX19pbnRlcm5hbC5idXR0b25zQ2xpY2tIYW5kbGVyKTtcclxuICAgICAgICAgICAgb24oaW5zdGFuY2UuZWxlbWVudHMucmVzZXRbMF0sICdmb2N1cycsIGluc3RhbmNlLl9faW50ZXJuYWwucmVzZXRIYW5kbGVyKTtcclxuICAgICAgICAgICAgb24oaW5zdGFuY2UuZWxlbWVudHMucmVzZXRbMV0sICdmb2N1cycsIGluc3RhbmNlLl9faW50ZXJuYWwucmVzZXRIYW5kbGVyKTtcclxuXHJcbiAgICAgICAgICAgIC8vcHJldmVudCBoYW5kbGluZyBrZXkgdXAgd2hlbiBkaWFsb2cgaXMgYmVpbmcgb3BlbmVkIGJ5IGEga2V5IHN0cm9rZS5cclxuICAgICAgICAgICAgY2FuY2VsS2V5dXAgPSB0cnVlO1xyXG4gICAgICAgICAgICAvLyBob29rIGluIHRyYW5zaXRpb24gaGFuZGxlclxyXG4gICAgICAgICAgICBvbihpbnN0YW5jZS5lbGVtZW50cy5kaWFsb2csIHRyYW5zaXRpb24udHlwZSwgaW5zdGFuY2UuX19pbnRlcm5hbC50cmFuc2l0aW9uSW5IYW5kbGVyKTtcclxuXHJcbiAgICAgICAgICAgIC8vIG1vZGVsc3Mgb25seSBldmVudHNcclxuICAgICAgICAgICAgaWYgKCFpbnN0YW5jZS5nZXQoJ21vZGFsJykpIHtcclxuICAgICAgICAgICAgICAgIGJpbmRNb2RlbGVzc0V2ZW50cyhpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHJlc2l6YWJsZVxyXG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UuZ2V0KCdyZXNpemFibGUnKSkge1xyXG4gICAgICAgICAgICAgICAgYmluZFJlc2l6YWJsZUV2ZW50cyhpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIG1vdmFibGVcclxuICAgICAgICAgICAgaWYgKGluc3RhbmNlLmdldCgnbW92YWJsZScpKSB7XHJcbiAgICAgICAgICAgICAgICBiaW5kTW92YWJsZUV2ZW50cyhpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFVuYmluZCBkaWFsb2dzIGV2ZW50c1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiB1bmJpbmRFdmVudHMoaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgLy8gaWYgbGFzdCBkaWFsb2csIHJlbW92ZSBnbG9iYWwgaGFuZGxlcnNcclxuICAgICAgICAgICAgaWYgKG9wZW5EaWFsb2dzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgLy9nbG9iYWxcclxuICAgICAgICAgICAgICAgIG9mZih3aW5kb3csICdyZXNpemUnLCB3aW5kb3dSZXNpemUpO1xyXG4gICAgICAgICAgICAgICAgb2ZmKGRvY3VtZW50LmJvZHksICdrZXl1cCcsIGtleXVwSGFuZGxlcik7XHJcbiAgICAgICAgICAgICAgICBvZmYoZG9jdW1lbnQuYm9keSwgJ2tleWRvd24nLCBrZXlkb3duSGFuZGxlcik7XHJcbiAgICAgICAgICAgICAgICBvZmYoZG9jdW1lbnQuYm9keSwgJ2ZvY3VzJywgb25SZXNldCk7XHJcbiAgICAgICAgICAgICAgICAvL21vdmVcclxuICAgICAgICAgICAgICAgIG9mZihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsICdtb3VzZW1vdmUnLCBtb3ZlKTtcclxuICAgICAgICAgICAgICAgIG9mZihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsICdtb3VzZXVwJywgZW5kTW92ZSk7XHJcbiAgICAgICAgICAgICAgICAvL3Jlc2l6ZVxyXG4gICAgICAgICAgICAgICAgb2ZmKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgJ21vdXNlbW92ZScsIHJlc2l6ZSk7XHJcbiAgICAgICAgICAgICAgICBvZmYoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCAnbW91c2V1cCcsIGVuZFJlc2l6ZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGNvbW1vbiBldmVudHNcclxuICAgICAgICAgICAgb2ZmKGluc3RhbmNlLmVsZW1lbnRzLmNvbW1hbmRzLmNvbnRhaW5lciwgJ2NsaWNrJywgaW5zdGFuY2UuX19pbnRlcm5hbC5jb21tYW5kc0NsaWNrSGFuZGxlcik7XHJcbiAgICAgICAgICAgIG9mZihpbnN0YW5jZS5lbGVtZW50cy5mb290ZXIsICdjbGljaycsIGluc3RhbmNlLl9faW50ZXJuYWwuYnV0dG9uc0NsaWNrSGFuZGxlcik7XHJcbiAgICAgICAgICAgIG9mZihpbnN0YW5jZS5lbGVtZW50cy5yZXNldFswXSwgJ2ZvY3VzJywgaW5zdGFuY2UuX19pbnRlcm5hbC5yZXNldEhhbmRsZXIpO1xyXG4gICAgICAgICAgICBvZmYoaW5zdGFuY2UuZWxlbWVudHMucmVzZXRbMV0sICdmb2N1cycsIGluc3RhbmNlLl9faW50ZXJuYWwucmVzZXRIYW5kbGVyKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGhvb2sgb3V0IHRyYW5zaXRpb24gaGFuZGxlclxyXG4gICAgICAgICAgICBvbihpbnN0YW5jZS5lbGVtZW50cy5kaWFsb2csIHRyYW5zaXRpb24udHlwZSwgaW5zdGFuY2UuX19pbnRlcm5hbC50cmFuc2l0aW9uT3V0SGFuZGxlcik7XHJcblxyXG4gICAgICAgICAgICAvLyBtb2RlbHNzIG9ubHkgZXZlbnRzXHJcbiAgICAgICAgICAgIGlmICghaW5zdGFuY2UuZ2V0KCdtb2RhbCcpKSB7XHJcbiAgICAgICAgICAgICAgICB1bmJpbmRNb2RlbGVzc0V2ZW50cyhpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIG1vdmFibGVcclxuICAgICAgICAgICAgaWYgKGluc3RhbmNlLmdldCgnbW92YWJsZScpKSB7XHJcbiAgICAgICAgICAgICAgICB1bmJpbmRNb3ZhYmxlRXZlbnRzKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gcmVzaXphYmxlXHJcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZS5nZXQoJ3Jlc2l6YWJsZScpKSB7XHJcbiAgICAgICAgICAgICAgICB1bmJpbmRSZXNpemFibGVFdmVudHMoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQmluZCBtb2RlbGVzcyBzcGVjaWZpYyBldmVudHNcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gYmluZE1vZGVsZXNzRXZlbnRzKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIG9uKGluc3RhbmNlLmVsZW1lbnRzLmRpYWxvZywgJ2ZvY3VzJywgaW5zdGFuY2UuX19pbnRlcm5hbC5icmluZ1RvRnJvbnRIYW5kbGVyLCB0cnVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFVuYmluZCBtb2RlbGVzcyBzcGVjaWZpYyBldmVudHNcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gdW5iaW5kTW9kZWxlc3NFdmVudHMoaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgb2ZmKGluc3RhbmNlLmVsZW1lbnRzLmRpYWxvZywgJ2ZvY3VzJywgaW5zdGFuY2UuX19pbnRlcm5hbC5icmluZ1RvRnJvbnRIYW5kbGVyLCB0cnVlKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQmluZCBtb3ZhYmxlIHNwZWNpZmljIGV2ZW50c1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBiaW5kTW92YWJsZUV2ZW50cyhpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBvbihpbnN0YW5jZS5lbGVtZW50cy5oZWFkZXIsICdtb3VzZWRvd24nLCBpbnN0YW5jZS5fX2ludGVybmFsLmJlZ2luTW92ZUhhbmRsZXIpO1xyXG4gICAgICAgICAgICBvbihpbnN0YW5jZS5lbGVtZW50cy5oZWFkZXIsICd0b3VjaHN0YXJ0JywgaW5zdGFuY2UuX19pbnRlcm5hbC5iZWdpbk1vdmVIYW5kbGVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFVuYmluZCBtb3ZhYmxlIHNwZWNpZmljIGV2ZW50c1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiB1bmJpbmRNb3ZhYmxlRXZlbnRzKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIG9mZihpbnN0YW5jZS5lbGVtZW50cy5oZWFkZXIsICdtb3VzZWRvd24nLCBpbnN0YW5jZS5fX2ludGVybmFsLmJlZ2luTW92ZUhhbmRsZXIpO1xyXG4gICAgICAgICAgICBvZmYoaW5zdGFuY2UuZWxlbWVudHMuaGVhZGVyLCAndG91Y2hzdGFydCcsIGluc3RhbmNlLl9faW50ZXJuYWwuYmVnaW5Nb3ZlSGFuZGxlcik7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEJpbmQgcmVzaXphYmxlIHNwZWNpZmljIGV2ZW50c1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBiaW5kUmVzaXphYmxlRXZlbnRzKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIG9uKGluc3RhbmNlLmVsZW1lbnRzLnJlc2l6ZUhhbmRsZSwgJ21vdXNlZG93bicsIGluc3RhbmNlLl9faW50ZXJuYWwuYmVnaW5SZXNpemVIYW5kbGVyKTtcclxuICAgICAgICAgICAgb24oaW5zdGFuY2UuZWxlbWVudHMucmVzaXplSGFuZGxlLCAndG91Y2hzdGFydCcsIGluc3RhbmNlLl9faW50ZXJuYWwuYmVnaW5SZXNpemVIYW5kbGVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFVuYmluZCByZXNpemFibGUgc3BlY2lmaWMgZXZlbnRzXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2UgVGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHVuYmluZFJlc2l6YWJsZUV2ZW50cyhpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBvZmYoaW5zdGFuY2UuZWxlbWVudHMucmVzaXplSGFuZGxlLCAnbW91c2Vkb3duJywgaW5zdGFuY2UuX19pbnRlcm5hbC5iZWdpblJlc2l6ZUhhbmRsZXIpO1xyXG4gICAgICAgICAgICBvZmYoaW5zdGFuY2UuZWxlbWVudHMucmVzaXplSGFuZGxlLCAndG91Y2hzdGFydCcsIGluc3RhbmNlLl9faW50ZXJuYWwuYmVnaW5SZXNpemVIYW5kbGVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEJpbmQgY2xvc2FibGUgZXZlbnRzXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2UgVGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGJpbmRDbG9zYWJsZUV2ZW50cyhpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBvbihpbnN0YW5jZS5lbGVtZW50cy5tb2RhbCwgJ2NsaWNrJywgaW5zdGFuY2UuX19pbnRlcm5hbC5tb2RhbENsaWNrSGFuZGxlcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBVbmJpbmQgY2xvc2FibGUgc3BlY2lmaWMgZXZlbnRzXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2UgVGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHVuYmluZENsb3NhYmxlRXZlbnRzKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIG9mZihpbnN0YW5jZS5lbGVtZW50cy5tb2RhbCwgJ2NsaWNrJywgaW5zdGFuY2UuX19pbnRlcm5hbC5tb2RhbENsaWNrSGFuZGxlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGRpYWxvZyBBUElcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBfX2luaXQ6aW5pdGlhbGl6ZSxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIENoZWNrIGlmIGRpYWxvZyBpcyBjdXJyZW50bHkgb3BlblxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgaXNPcGVuOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fX2ludGVybmFsLmlzT3BlbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaXNNb2RhbDogZnVuY3Rpb24gKCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50cy5yb290LmNsYXNzTmFtZS5pbmRleE9mKGNsYXNzZXMubW9kZWxlc3MpIDwgMDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaXNNYXhpbWl6ZWQ6ZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzLnJvb3QuY2xhc3NOYW1lLmluZGV4T2YoY2xhc3Nlcy5tYXhpbWl6ZWQpID4gLTE7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGlzUGlubmVkOmZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50cy5yb290LmNsYXNzTmFtZS5pbmRleE9mKGNsYXNzZXMudW5waW5uZWQpIDwgMDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbWF4aW1pemU6ZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGlmKCF0aGlzLmlzTWF4aW1pemVkKCkpe1xyXG4gICAgICAgICAgICAgICAgICAgIG1heGltaXplKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJlc3RvcmU6ZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuaXNNYXhpbWl6ZWQoKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdG9yZSh0aGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwaW46ZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGlmKCF0aGlzLmlzUGlubmVkKCkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHBpbih0aGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB1bnBpbjpmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5pc1Bpbm5lZCgpKXtcclxuICAgICAgICAgICAgICAgICAgICB1bnBpbih0aGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBicmluZ1RvRnJvbnQ6ZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGJyaW5nVG9Gcm9udChudWxsLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogTW92ZSB0aGUgZGlhbG9nIHRvIGEgc3BlY2lmaWMgeC95IGNvb3JkaW5hdGVzXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4ICAgIFRoZSBuZXcgZGlhbG9nIHggY29vcmRpbmF0ZSBpbiBwaXhlbHMuXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5ICAgIFRoZSBuZXcgZGlhbG9nIHkgY29vcmRpbmF0ZSBpbiBwaXhlbHMuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRpYWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIG1vdmVUbzpmdW5jdGlvbih4LHkpe1xyXG4gICAgICAgICAgICAgICAgaWYoIWlzTmFOKHgpICYmICFpc05hTih5KSl7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWxsb3cgY3VzdG9tIGBvbm1vdmVgIG1ldGhvZFxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQoJ29ubW92ZScsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5lbGVtZW50cy5kaWFsb2csXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBlbGVtZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRMZWZ0ID0gMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0VG9wID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAvL3N1YnRyYWN0IGV4aXN0aW5nIGxlZnQsdG9wXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuc3R5bGUubGVmdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRMZWZ0IC09IHBhcnNlSW50KGVsZW1lbnQuc3R5bGUubGVmdCwgMTApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zdHlsZS50b3ApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0VG9wIC09IHBhcnNlSW50KGVsZW1lbnQuc3R5bGUudG9wLCAxMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vY2FsYyBvZmZzZXRcclxuICAgICAgICAgICAgICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldExlZnQgKz0gY3VycmVudC5vZmZzZXRMZWZ0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRUb3AgKz0gY3VycmVudC5vZmZzZXRUb3A7XHJcbiAgICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoY3VycmVudCA9IGN1cnJlbnQub2Zmc2V0UGFyZW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy9jYWxjIGxlZnQsIHRvcFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBsZWZ0ID0gKHggLSBvZmZzZXRMZWZ0KTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdG9wICA9ICh5IC0gb2Zmc2V0VG9wKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8vLyBydGwgaGFuZGxpbmdcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNSaWdodFRvTGVmdCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQgKj0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLmxlZnQgPSBsZWZ0ICsgJ3B4JztcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnRvcCA9IHRvcCArICdweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWxsb3cgY3VzdG9tIGBvbm1vdmVkYCBtZXRob2RcclxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaEV2ZW50KCdvbm1vdmVkJywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIFJlc2l6ZSB0aGUgZGlhbG9nIHRvIGEgc3BlY2lmaWMgd2lkdGgvaGVpZ2h0ICh0aGUgZGlhbG9nIG11c3QgYmUgJ3Jlc2l6YWJsZScpLlxyXG4gICAgICAgICAgICAgKiBUaGUgZGlhbG9nIGNhbiBiZSByZXNpemVkIHRvOlxyXG4gICAgICAgICAgICAgKiAgQSBtaW5pbXVtIHdpZHRoIGVxdWFsIHRvIHRoZSBpbml0aWFsIGRpc3BsYXkgd2lkdGhcclxuICAgICAgICAgICAgICogIEEgbWluaW11bSBoZWlnaHQgZXF1YWwgdG8gdGhlIHN1bSBvZiBoZWFkZXIvZm9vdGVyIGhlaWdodHMuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7TnVtYmVyIG9yIFN0cmluZ30gd2lkdGggICAgVGhlIG5ldyBkaWFsb2cgd2lkdGggaW4gcGl4ZWxzIG9yIGluIHBlcmNlbnQuXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7TnVtYmVyIG9yIFN0cmluZ30gaGVpZ2h0ICAgVGhlIG5ldyBkaWFsb2cgaGVpZ2h0IGluIHBpeGVscyBvciBpbiBwZXJjZW50LlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkaWFsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICByZXNpemVUbzpmdW5jdGlvbih3aWR0aCxoZWlnaHQpe1xyXG4gICAgICAgICAgICAgICAgdmFyIHcgPSBwYXJzZUZsb2F0KHdpZHRoKSxcclxuICAgICAgICAgICAgICAgICAgICBoID0gcGFyc2VGbG9hdChoZWlnaHQpLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlZ2V4ID0gLyhcXGQqXFwuXFxkK3xcXGQrKSUvXHJcbiAgICAgICAgICAgICAgICA7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoIWlzTmFOKHcpICYmICFpc05hTihoKSAmJiB0aGlzLmdldCgncmVzaXphYmxlJykgPT09IHRydWUpe1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFsbG93IGN1c3RvbSBgb25yZXNpemVgIG1ldGhvZFxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQoJ29ucmVzaXplJywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoKCcnICsgd2lkdGgpLm1hdGNoKHJlZ2V4KSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHcgPSB3IC8gMTAwICogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCgnJyArIGhlaWdodCkubWF0Y2gocmVnZXgpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaCA9IGggLyAxMDAgKiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnRzLmRpYWxvZztcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zdHlsZS5tYXhXaWR0aCAhPT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUubWluV2lkdGggPSAobWluV2lkdGggPSBlbGVtZW50Lm9mZnNldFdpZHRoKSArICdweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUubWF4V2lkdGggPSAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5taW5IZWlnaHQgPSB0aGlzLmVsZW1lbnRzLmhlYWRlci5vZmZzZXRIZWlnaHQgKyB0aGlzLmVsZW1lbnRzLmZvb3Rlci5vZmZzZXRIZWlnaHQgKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUud2lkdGggPSB3ICsgJ3B4JztcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLmhlaWdodCA9IGggKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFsbG93IGN1c3RvbSBgb25yZXNpemVkYCBtZXRob2RcclxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaEV2ZW50KCdvbnJlc2l6ZWQnLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogR2V0cyBvciBTZXRzIGRpYWxvZyBzZXR0aW5ncy9vcHRpb25zIFxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IGtleSBBIHN0cmluZyBzcGVjaWZ5aW5nIGEgcHJvcGVyeSBuYW1lIG9yIGEgY29sbGVjdGlvbiBvZiBrZXkvdmFsdWUgcGFpcnMuXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZSBPcHRpb25hbCwgdGhlIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCB0aGUga2V5IChpbiBjYXNlIGl0IHdhcyBhIHN0cmluZykuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHNldHRpbmcgOiBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHVwZGF0ZSh0aGlzLCB0aGlzLl9faW50ZXJuYWwub3B0aW9ucywgZnVuY3Rpb24oayxvLG4peyBvcHRpb25VcGRhdGVkKHNlbGYsayxvLG4pOyB9LCBrZXksIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIGlmKHJlc3VsdC5vcCA9PT0gJ2dldCcpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHJlc3VsdC5mb3VuZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYodHlwZW9mIHRoaXMuc2V0dGluZ3MgIT09ICd1bmRlZmluZWQnKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZSh0aGlzLCB0aGlzLnNldHRpbmdzLCB0aGlzLnNldHRpbmdVcGRhdGVkIHx8IGZ1bmN0aW9uKCl7fSwga2V5LCB2YWx1ZSkudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfWVsc2UgaWYocmVzdWx0Lm9wID09PSAnc2V0Jyl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0Lml0ZW1zLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSB0aGlzLnNldHRpbmdVcGRhdGVkIHx8IGZ1bmN0aW9uKCl7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciB4PTA7eDxyZXN1bHQuaXRlbXMubGVuZ3RoO3grPTEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSByZXN1bHQuaXRlbXNbeF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighaXRlbS5mb3VuZCAmJiB0eXBlb2YgdGhpcy5zZXR0aW5ncyAhPT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZSh0aGlzLCB0aGlzLnNldHRpbmdzLCBjYWxsYmFjaywgaXRlbS5rZXksIGl0ZW0udmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogW0FsaWFzXSBTZXRzIGRpYWxvZyBzZXR0aW5ncy9vcHRpb25zIFxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgc2V0OmZ1bmN0aW9uKGtleSwgdmFsdWUpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5nKGtleSx2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIFtBbGlhc10gR2V0cyBkaWFsb2cgc2V0dGluZ3Mvb3B0aW9ucyBcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGdldDpmdW5jdGlvbihrZXkpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZyhrZXkpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgKiBTZXRzIGRpYWxvZyBoZWFkZXJcclxuICAgICAgICAgICAgKiBAY29udGVudCB7c3RyaW5nIG9yIGVsZW1lbnR9XHJcbiAgICAgICAgICAgICpcclxuICAgICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHNldEhlYWRlcjpmdW5jdGlvbihjb250ZW50KXtcclxuICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJDb250ZW50cyh0aGlzLmVsZW1lbnRzLmhlYWRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50cy5oZWFkZXIuaW5uZXJIVE1MID0gY29udGVudDtcclxuICAgICAgICAgICAgICAgIH1lbHNlIGlmIChjb250ZW50IGluc3RhbmNlb2Ygd2luZG93LkhUTUxFbGVtZW50ICYmIHRoaXMuZWxlbWVudHMuaGVhZGVyLmZpcnN0Q2hpbGQgIT09IGNvbnRlbnQpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyQ29udGVudHModGhpcy5lbGVtZW50cy5oZWFkZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHMuaGVhZGVyLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAqIFNldHMgZGlhbG9nIGNvbnRlbnRzXHJcbiAgICAgICAgICAgICogQGNvbnRlbnQge3N0cmluZyBvciBlbGVtZW50fVxyXG4gICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBzZXRDb250ZW50OmZ1bmN0aW9uKGNvbnRlbnQpe1xyXG4gICAgICAgICAgICAgICAgaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKXtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhckNvbnRlbnRzKHRoaXMuZWxlbWVudHMuY29udGVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50cy5jb250ZW50LmlubmVySFRNTCA9IGNvbnRlbnQ7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZiAoY29udGVudCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MRWxlbWVudCAmJiB0aGlzLmVsZW1lbnRzLmNvbnRlbnQuZmlyc3RDaGlsZCAhPT0gY29udGVudCl7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJDb250ZW50cyh0aGlzLmVsZW1lbnRzLmNvbnRlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHMuY29udGVudC5hcHBlbmRDaGlsZChjb250ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogU2hvdyB0aGUgZGlhbG9nIGFzIG1vZGFsXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEByZXR1cm4ge09iamVjdH0gdGhlIGRpYWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHNob3dNb2RhbDogZnVuY3Rpb24oY2xhc3NOYW1lKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNob3codHJ1ZSwgY2xhc3NOYW1lKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIFNob3cgdGhlIGRpYWxvZ1xyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHRoZSBkaWFsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBzaG93OiBmdW5jdGlvbiAobW9kYWwsIGNsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBlbnN1cmUgaW5pdGlhbGl6YXRpb25cclxuICAgICAgICAgICAgICAgIGluaXRpYWxpemUodGhpcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCAhdGhpcy5fX2ludGVybmFsLmlzT3BlbiApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIHRvIG9wZW4gZGlhbG9nc1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX19pbnRlcm5hbC5pc09wZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIG9wZW5EaWFsb2dzLnB1c2godGhpcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNhdmUgbGFzdCBmb2N1c2VkIGVsZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICBpZihhbGVydGlmeS5kZWZhdWx0cy5tYWludGFpbkZvY3VzKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fX2ludGVybmFsLmFjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy9hbGxvdyBjdXN0b20gZG9tIG1hbmlwdWxhdGlvbiB1cGRhdGVzIGJlZm9yZSBzaG93aW5nIHRoZSBkaWFsb2cuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYodHlwZW9mIHRoaXMucHJlcGFyZSA9PT0gJ2Z1bmN0aW9uJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJlcGFyZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYmluZEV2ZW50cyh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYobW9kYWwgIT09IHVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0KCdtb2RhbCcsIG1vZGFsKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vc2F2ZSBzY3JvbGwgdG8gcHJldmVudCBkb2N1bWVudCBqdW1wXHJcbiAgICAgICAgICAgICAgICAgICAgc2F2ZVNjcm9sbFBvc2l0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGVuc3VyZU5vT3ZlcmZsb3coKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWxsb3cgY3VzdG9tIGRpYWxvZyBjbGFzcyBvbiBzaG93XHJcbiAgICAgICAgICAgICAgICAgICAgaWYodHlwZW9mIGNsYXNzTmFtZSA9PT0gJ3N0cmluZycgJiYgY2xhc3NOYW1lICE9PSAnJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX19pbnRlcm5hbC5jbGFzc05hbWUgPSBjbGFzc05hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKHRoaXMuZWxlbWVudHMucm9vdCwgY2xhc3NOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1heGltaXplIGlmIHN0YXJ0IG1heGltaXplZFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICggdGhpcy5nZXQoJ3N0YXJ0TWF4aW1pemVkJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXhpbWl6ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKHRoaXMuaXNNYXhpbWl6ZWQoKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RvcmUodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVBYnNQb3NpdGlvbkZpeCh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3ModGhpcy5lbGVtZW50cy5yb290LCBjbGFzc2VzLmFuaW1hdGlvbk91dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkQ2xhc3ModGhpcy5lbGVtZW50cy5yb290LCBjbGFzc2VzLmFuaW1hdGlvbkluKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2V0IDFzIGZhbGxiYWNrIGluIGNhc2UgdHJhbnNpdGlvbiBldmVudCBkb2Vzbid0IGZpcmVcclxuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoIHRoaXMuX19pbnRlcm5hbC50aW1lckluKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9faW50ZXJuYWwudGltZXJJbiA9IHNldFRpbWVvdXQoIHRoaXMuX19pbnRlcm5hbC50cmFuc2l0aW9uSW5IYW5kbGVyLCB0cmFuc2l0aW9uLnN1cHBvcnRlZCA/IDEwMDAgOiAxMDAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaXNTYWZhcmkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3JjZSBkZXNrdG9wIHNhZmFyaSByZWZsb3dcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJvb3QgPSB0aGlzLmVsZW1lbnRzLnJvb3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvb3Quc3R5bGUuZGlzcGxheSAgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyb290LnN0eWxlLmRpc3BsYXkgID0gJ2Jsb2NrJzt9LCAwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vcmVmbG93XHJcbiAgICAgICAgICAgICAgICAgICAgcmVmbG93ID0gdGhpcy5lbGVtZW50cy5yb290Lm9mZnNldFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAvLyBzaG93IGRpYWxvZ1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKHRoaXMuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy5oaWRkZW4pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBpbnRlcm5hbCBvbiBzaG93IGV2ZW50XHJcbiAgICAgICAgICAgICAgICAgICAgaWYodHlwZW9mIHRoaXMuaG9va3Mub25zaG93ID09PSAnZnVuY3Rpb24nKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ob29rcy5vbnNob3cuY2FsbCh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFsbG93IGN1c3RvbSBgb25zaG93YCBtZXRob2RcclxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaEV2ZW50KCdvbnNob3cnLCB0aGlzKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAvLyByZXNldCBtb3ZlIHVwZGF0ZXNcclxuICAgICAgICAgICAgICAgICAgICByZXNldE1vdmUodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzZXQgcmVzaXplIHVwZGF0ZXNcclxuICAgICAgICAgICAgICAgICAgICByZXNldFJlc2l6ZSh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBzaGFrZSB0aGUgZGlhbG9nIHRvIGluZGljYXRlIGl0cyBhbHJlYWR5IG9wZW5cclxuICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcyh0aGlzLmVsZW1lbnRzLmRpYWxvZywgY2xhc3Nlcy5zaGFrZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3Moc2VsZi5lbGVtZW50cy5kaWFsb2csIGNsYXNzZXMuc2hha2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sMjAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogQ2xvc2UgdGhlIGRpYWxvZ1xyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkaWFsb2cgaW5zdGFuY2VcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGNsb3NlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fX2ludGVybmFsLmlzT3BlbiApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjdXN0b20gYG9uY2xvc2luZ2AgZXZlbnRcclxuICAgICAgICAgICAgICAgICAgICBpZihkaXNwYXRjaEV2ZW50KCdvbmNsb3NpbmcnLCB0aGlzKSAhPT0gZmFsc2Upe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdW5iaW5kRXZlbnRzKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3ModGhpcy5lbGVtZW50cy5yb290LCBjbGFzc2VzLmFuaW1hdGlvbkluKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkQ2xhc3ModGhpcy5lbGVtZW50cy5yb290LCBjbGFzc2VzLmFuaW1hdGlvbk91dCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXQgMXMgZmFsbGJhY2sgaW4gY2FzZSB0cmFuc2l0aW9uIGV2ZW50IGRvZXNuJ3QgZmlyZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoIHRoaXMuX19pbnRlcm5hbC50aW1lck91dCApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9faW50ZXJuYWwudGltZXJPdXQgPSBzZXRUaW1lb3V0KCB0aGlzLl9faW50ZXJuYWwudHJhbnNpdGlvbk91dEhhbmRsZXIsIHRyYW5zaXRpb24uc3VwcG9ydGVkID8gMTAwMCA6IDEwMCApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBoaWRlIGRpYWxvZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcyh0aGlzLmVsZW1lbnRzLnJvb3QsIGNsYXNzZXMuaGlkZGVuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9yZWZsb3dcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmbG93ID0gdGhpcy5lbGVtZW50cy5tb2RhbC5vZmZzZXRXaWR0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBjdXN0b20gZGlhbG9nIGNsYXNzIG9uIGhpZGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9faW50ZXJuYWwuY2xhc3NOYW1lICE9PSAndW5kZWZpbmVkJyAmJiB0aGlzLl9faW50ZXJuYWwuY2xhc3NOYW1lICE9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3ModGhpcy5lbGVtZW50cy5yb290LCB0aGlzLl9faW50ZXJuYWwuY2xhc3NOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW50ZXJuYWwgb24gY2xvc2UgZXZlbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYodHlwZW9mIHRoaXMuaG9va3Mub25jbG9zZSA9PT0gJ2Z1bmN0aW9uJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhvb2tzLm9uY2xvc2UuY2FsbCh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWxsb3cgY3VzdG9tIGBvbmNsb3NlYCBtZXRob2RcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hFdmVudCgnb25jbG9zZScsIHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9yZW1vdmUgZnJvbSBvcGVuIGRpYWxvZ3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkRpYWxvZ3Muc3BsaWNlKG9wZW5EaWFsb2dzLmluZGV4T2YodGhpcyksMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX19pbnRlcm5hbC5pc09wZW4gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuc3VyZU5vT3ZlcmZsb3coKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBDbG9zZSBhbGwgb3BlbiBkaWFsb2dzIGV4Y2VwdCB0aGlzLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBjbG9zZU90aGVyczpmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgYWxlcnRpZnkuY2xvc2VBbGwodGhpcyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIERlc3Ryb3lzIHRoaXMgZGlhbG9nIGluc3RhbmNlXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGRlc3Ryb3k6ZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9faW50ZXJuYWwuaXNPcGVuICkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbWFyayBkaWFsb2cgZm9yIGRlc3RydWN0aW9uLCB0aGlzIHdpbGwgYmUgY2FsbGVkIG9uIHRyYW5pc3Rpb25PdXQgZXZlbnQuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX2ludGVybmFsLmRlc3Ryb3kgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0cnVjdCh0aGlzLCBpbml0aWFsaXplKTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY2xvc2UgdGhlIGRpYWxvZyB0byB1bmJpbmQgYWxsIGV2ZW50cy5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBkZXN0cnVjdCh0aGlzLCBpbml0aWFsaXplKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH07XHJcblx0fSAoKSApO1xyXG4gICAgdmFyIG5vdGlmaWVyID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcmVmbG93LFxyXG4gICAgICAgICAgICBlbGVtZW50LFxyXG4gICAgICAgICAgICBvcGVuSW5zdGFuY2VzID0gW10sXHJcbiAgICAgICAgICAgIGNsYXNzZXMgPSB7XHJcbiAgICAgICAgICAgICAgICBiYXNlOiAnYWxlcnRpZnktbm90aWZpZXInLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ2Fqcy1tZXNzYWdlJyxcclxuICAgICAgICAgICAgICAgIHRvcDogJ2Fqcy10b3AnLFxyXG4gICAgICAgICAgICAgICAgcmlnaHQ6ICdhanMtcmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgYm90dG9tOiAnYWpzLWJvdHRvbScsXHJcbiAgICAgICAgICAgICAgICBsZWZ0OiAnYWpzLWxlZnQnLFxyXG4gICAgICAgICAgICAgICAgY2VudGVyOiAnYWpzLWNlbnRlcicsXHJcbiAgICAgICAgICAgICAgICB2aXNpYmxlOiAnYWpzLXZpc2libGUnLFxyXG4gICAgICAgICAgICAgICAgaGlkZGVuOiAnYWpzLWhpZGRlbicsXHJcbiAgICAgICAgICAgICAgICBjbG9zZTogJ2Fqcy1jbG9zZSdcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBIZWxwZXI6IGluaXRpYWxpemVzIHRoZSBub3RpZmllciBpbnN0YW5jZVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZShpbnN0YW5jZSkge1xyXG5cclxuICAgICAgICAgICAgaWYgKCFpbnN0YW5jZS5fX2ludGVybmFsKSB7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5fX2ludGVybmFsID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhbGVydGlmeS5kZWZhdWx0cy5ub3RpZmllci5wb3NpdGlvbixcclxuICAgICAgICAgICAgICAgICAgICBkZWxheTogYWxlcnRpZnkuZGVmYXVsdHMubm90aWZpZXIuZGVsYXksXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdESVYnKTtcclxuXHJcbiAgICAgICAgICAgICAgICB1cGRhdGVQb3NpdGlvbihpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vYWRkIHRvIERPTSB0cmVlLlxyXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5wYXJlbnROb2RlICE9PSBkb2N1bWVudC5ib2R5KSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBwdXNoSW5zdGFuY2UoaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgaW5zdGFuY2UuX19pbnRlcm5hbC5wdXNoZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBvcGVuSW5zdGFuY2VzLnB1c2goaW5zdGFuY2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBwb3BJbnN0YW5jZShpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBvcGVuSW5zdGFuY2VzLnNwbGljZShvcGVuSW5zdGFuY2VzLmluZGV4T2YoaW5zdGFuY2UpLCAxKTtcclxuICAgICAgICAgICAgaW5zdGFuY2UuX19pbnRlcm5hbC5wdXNoZWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSGVscGVyOiB1cGRhdGUgdGhlIG5vdGlmaWVyIGluc3RhbmNlIHBvc2l0aW9uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVQb3NpdGlvbihpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGNsYXNzZXMuYmFzZTtcclxuICAgICAgICAgICAgc3dpdGNoIChpbnN0YW5jZS5fX2ludGVybmFsLnBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3RvcC1yaWdodCc6XHJcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhlbGVtZW50LCBjbGFzc2VzLnRvcCArICcgJyArIGNsYXNzZXMucmlnaHQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3RvcC1sZWZ0JzpcclxuICAgICAgICAgICAgICAgIGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzZXMudG9wICsgJyAnICsgY2xhc3Nlcy5sZWZ0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICd0b3AtY2VudGVyJzpcclxuICAgICAgICAgICAgICAgIGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzZXMudG9wICsgJyAnICsgY2xhc3Nlcy5jZW50ZXIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2JvdHRvbS1sZWZ0JzpcclxuICAgICAgICAgICAgICAgIGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzZXMuYm90dG9tICsgJyAnICsgY2xhc3Nlcy5sZWZ0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdib3R0b20tY2VudGVyJzpcclxuICAgICAgICAgICAgICAgIGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzZXMuYm90dG9tICsgJyAnICsgY2xhc3Nlcy5jZW50ZXIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBjYXNlICdib3R0b20tcmlnaHQnOlxyXG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoZWxlbWVudCwgY2xhc3Nlcy5ib3R0b20gKyAnICcgKyBjbGFzc2VzLnJpZ2h0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIGNyZWF0ZXMgYSBuZXcgbm90aWZpY2F0aW9uIG1lc3NhZ2VcclxuICAgICAgICAqXHJcbiAgICAgICAgKiBAcGFyYW0gIHtET01FbGVtZW50fSBtZXNzYWdlXHRUaGUgbm90aWZpZXIgbWVzc2FnZSBlbGVtZW50XHJcbiAgICAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHdhaXQgICBUaW1lIChpbiBtcykgdG8gd2FpdCBiZWZvcmUgdGhlIG1lc3NhZ2UgaXMgZGlzbWlzc2VkLCBhIHZhbHVlIG9mIDAgbWVhbnMga2VlcCBvcGVuIHRpbGwgY2xpY2tlZC5cclxuICAgICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBjYWxsYmFjayBBIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGludm9rZWQgd2hlbiB0aGUgbWVzc2FnZSBpcyBkaXNtaXNzZWQuXHJcbiAgICAgICAgKlxyXG4gICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlKGRpdiwgY2FsbGJhY2spIHtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNsaWNrRGVsZWdhdGUoZXZlbnQsIGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZighaW5zdGFuY2UuX19pbnRlcm5hbC5jbG9zZUJ1dHRvbiB8fCBldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNsb3NlJykgPT09ICd0cnVlJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuZGlzbWlzcyh0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gdHJhbnNpdGlvbkRvbmUoZXZlbnQsIGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB1bmJpbmQgZXZlbnRcclxuICAgICAgICAgICAgICAgIG9mZihpbnN0YW5jZS5lbGVtZW50LCB0cmFuc2l0aW9uLnR5cGUsIHRyYW5zaXRpb25Eb25lKTtcclxuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgbWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVDaGlsZChpbnN0YW5jZS5lbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZShpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbnN0YW5jZS5fX2ludGVybmFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuX19pbnRlcm5hbCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHVzaGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsYXkgOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrSGFuZGxlcjogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uRW5kSGFuZGxlcjogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uVGltZW91dDogdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5fX2ludGVybmFsLmNsaWNrSGFuZGxlciA9IGRlbGVnYXRlKGluc3RhbmNlLCBjbGlja0RlbGVnYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5fX2ludGVybmFsLnRyYW5zaXRpb25FbmRIYW5kbGVyID0gZGVsZWdhdGUoaW5zdGFuY2UsIHRyYW5zaXRpb25Eb25lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiBjbGVhclRpbWVycyhpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGluc3RhbmNlLl9faW50ZXJuYWwudGltZXIpO1xyXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGluc3RhbmNlLl9faW50ZXJuYWwudHJhbnNpdGlvblRpbWVvdXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBpbml0aWFsaXplKHtcclxuICAgICAgICAgICAgICAgIC8qIG5vdGlmaWNhdGlvbiBET00gZWxlbWVudCovXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50OiBkaXYsXHJcbiAgICAgICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgICogUHVzaGVzIGEgbm90aWZpY2F0aW9uIG1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nIG9yIERPTUVsZW1lbnR9IGNvbnRlbnQgVGhlIG5vdGlmaWNhdGlvbiBtZXNzYWdlIGNvbnRlbnRcclxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSB3YWl0IFRoZSB0aW1lIChpbiBzZWNvbmRzKSB0byB3YWl0IGJlZm9yZSB0aGUgbWVzc2FnZSBpcyBkaXNtaXNzZWQsIGEgdmFsdWUgb2YgMCBtZWFucyBrZWVwIG9wZW4gdGlsbCBjbGlja2VkLlxyXG4gICAgICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgcHVzaDogZnVuY3Rpb24gKF9jb250ZW50LCBfd2FpdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5fX2ludGVybmFsLnB1c2hlZCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcHVzaEluc3RhbmNlKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVycyh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb250ZW50LCB3YWl0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCA9IHRoaXMuX19pbnRlcm5hbC5kZWxheTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIChfY29udGVudCkgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCA9IF9jb250ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gX2NvbnRlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCA9IHRoaXMuX19pbnRlcm5hbC5kZWxheTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gX2NvbnRlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWl0ID0gX3dhaXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9faW50ZXJuYWwuY2xvc2VCdXR0b24gPSBhbGVydGlmeS5kZWZhdWx0cy5ub3RpZmllci5jbG9zZUJ1dHRvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0IGNvbnRlbnRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q29udGVudChjb250ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhcHBlbmQgb3IgaW5zZXJ0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3RpZmllci5fX2ludGVybmFsLnBvc2l0aW9uLmluZGV4T2YoJ3RvcCcpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5pbnNlcnRCZWZvcmUodGhpcy5lbGVtZW50LCBlbGVtZW50LmZpcnN0Q2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZmxvdyA9IHRoaXMuZWxlbWVudC5vZmZzZXRXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkQ2xhc3ModGhpcy5lbGVtZW50LCBjbGFzc2VzLnZpc2libGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhdHRhY2ggY2xpY2sgZXZlbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgb24odGhpcy5lbGVtZW50LCAnY2xpY2snLCB0aGlzLl9faW50ZXJuYWwuY2xpY2tIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVsYXkod2FpdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICAgKiB7RnVuY3Rpb259IGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGludm9rZWQgYmVmb3JlIGRpc21pc3NpbmcgdGhlIG5vdGlmaWNhdGlvbiBtZXNzYWdlLlxyXG4gICAgICAgICAgICAgICAgICogUmVtYXJrczogQSByZXR1cm4gdmFsdWUgPT09ICdmYWxzZScgd2lsbCBjYW5jZWwgdGhlIGRpc21pc3NhbFxyXG4gICAgICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgb25kaXNtaXNzOiBmdW5jdGlvbiAoKSB7IH0sXHJcbiAgICAgICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgICoge0Z1bmN0aW9ufSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBpbnZva2VkIHdoZW4gdGhlIG1lc3NhZ2UgaXMgZGlzbWlzc2VkLlxyXG4gICAgICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxyXG4gICAgICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICAgICAqIERpc21pc3NlcyB0aGUgbm90aWZpY2F0aW9uIG1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gY2xpY2tlZCBBIGZsYWcgaW5kaWNhdGluZyBpZiB0aGUgZGlzbWlzc2FsIHdhcyBjYXVzZWQgYnkgYSBjbGljay5cclxuICAgICAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgIGRpc21pc3M6IGZ1bmN0aW9uIChjbGlja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX19pbnRlcm5hbC5wdXNoZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lcnModGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHR5cGVvZiB0aGlzLm9uZGlzbWlzcyA9PT0gJ2Z1bmN0aW9uJyAmJiB0aGlzLm9uZGlzbWlzcy5jYWxsKHRoaXMpID09PSBmYWxzZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZGV0YWNoIGNsaWNrIGV2ZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmYodGhpcy5lbGVtZW50LCAnY2xpY2snLCB0aGlzLl9faW50ZXJuYWwuY2xpY2tIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVuc3VyZSBlbGVtZW50IGV4aXN0c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmVsZW1lbnQgIT09ICd1bmRlZmluZWQnICYmIHRoaXMuZWxlbWVudC5wYXJlbnROb2RlID09PSBlbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90cmFuc2l0aW9uIGVuZCBvciBmYWxsYmFja1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX19pbnRlcm5hbC50cmFuc2l0aW9uVGltZW91dCA9IHNldFRpbWVvdXQodGhpcy5fX2ludGVybmFsLnRyYW5zaXRpb25FbmRIYW5kbGVyLCB0cmFuc2l0aW9uLnN1cHBvcnRlZCA/IDEwMDAgOiAxMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKHRoaXMuZWxlbWVudCwgY2xhc3Nlcy52aXNpYmxlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY3VzdG9tIGNhbGxiYWNrIG9uIGRpc21pc3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFjay5jYWxsKHRoaXMsIGNsaWNrZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcEluc3RhbmNlKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICAgKiBEZWxheXMgdGhlIG5vdGlmaWNhdGlvbiBtZXNzYWdlIGRpc21pc3NhbFxyXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHdhaXQgVGhlIHRpbWUgKGluIHNlY29uZHMpIHRvIHdhaXQgYmVmb3JlIHRoZSBtZXNzYWdlIGlzIGRpc21pc3NlZCwgYSB2YWx1ZSBvZiAwIG1lYW5zIGtlZXAgb3BlbiB0aWxsIGNsaWNrZWQuXHJcbiAgICAgICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICBkZWxheTogZnVuY3Rpb24gKHdhaXQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVycyh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9faW50ZXJuYWwuZGVsYXkgPSB0eXBlb2Ygd2FpdCAhPT0gJ3VuZGVmaW5lZCcgJiYgIWlzTmFOKCt3YWl0KSA/ICt3YWl0IDogbm90aWZpZXIuX19pbnRlcm5hbC5kZWxheTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fX2ludGVybmFsLmRlbGF5ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9faW50ZXJuYWwudGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgc2VsZi5kaXNtaXNzKCk7IH0sIHRoaXMuX19pbnRlcm5hbC5kZWxheSAqIDEwMDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgICogU2V0cyB0aGUgbm90aWZpY2F0aW9uIG1lc3NhZ2UgY29udGVudHNcclxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nIG9yIERPTUVsZW1lbnR9IGNvbnRlbnQgVGhlIG5vdGlmaWNhdGlvbiBtZXNzYWdlIGNvbnRlbnRcclxuICAgICAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgIHNldENvbnRlbnQ6IGZ1bmN0aW9uIChjb250ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhckNvbnRlbnRzKHRoaXMuZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5pbm5lckhUTUwgPSBjb250ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29udGVudCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MRWxlbWVudCAmJiB0aGlzLmVsZW1lbnQuZmlyc3RDaGlsZCAhPT0gY29udGVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhckNvbnRlbnRzKHRoaXMuZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZChjb250ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5fX2ludGVybmFsLmNsb3NlQnV0dG9uKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNsb3NlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcyhjbG9zZSwgY2xhc3Nlcy5jbG9zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlLnNldEF0dHJpYnV0ZSgnZGF0YS1jbG9zZScsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoY2xvc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgICogRGlzbWlzc2VzIGFsbCBvcGVuIG5vdGlmaWNhdGlvbnMgZXhjZXB0IHRoaXMuXHJcbiAgICAgICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICBkaXNtaXNzT3RoZXJzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbm90aWZpZXIuZGlzbWlzc0FsbCh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL25vdGlmaWVyIGFwaVxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBHZXRzIG9yIFNldHMgbm90aWZpZXIgc2V0dGluZ3MuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHNldHRpbmcgbmFtZVxyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge1ZhcmlhbnR9IHZhbHVlIFRoZSBzZXR0aW5nIHZhbHVlLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9XHRpZiB0aGUgY2FsbGVkIGFzIGEgc2V0dGVyLCByZXR1cm4gdGhlIG5vdGlmaWVyIGluc3RhbmNlLlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgc2V0dGluZzogZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIC8vZW5zdXJlIGluaXRcclxuICAgICAgICAgICAgICAgIGluaXRpYWxpemUodGhpcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2dldFxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9faW50ZXJuYWxba2V5XTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9zZXRcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Bvc2l0aW9uJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fX2ludGVybmFsLnBvc2l0aW9uID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVBvc2l0aW9uKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdkZWxheSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX19pbnRlcm5hbC5kZWxheSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIFtBbGlhc10gU2V0cyBkaWFsb2cgc2V0dGluZ3Mvb3B0aW9uc1xyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgc2V0OmZ1bmN0aW9uKGtleSx2YWx1ZSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmcoa2V5LHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogW0FsaWFzXSBHZXRzIGRpYWxvZyBzZXR0aW5ncy9vcHRpb25zXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBnZXQ6ZnVuY3Rpb24oa2V5KXtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNldHRpbmcoa2V5KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIENyZWF0ZXMgYSBuZXcgbm90aWZpY2F0aW9uIG1lc3NhZ2VcclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIHR5cGUgb2Ygbm90aWZpY2F0aW9uIG1lc3NhZ2UgKHNpbXBseSBhIENTUyBjbGFzcyBuYW1lICdhanMte3R5cGV9JyB0byBiZSBhZGRlZCkuXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICBBIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGludm9rZWQgd2hlbiB0aGUgbWVzc2FnZSBpcyBkaXNtaXNzZWQuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGNyZWF0ZTogZnVuY3Rpb24gKHR5cGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAvL2Vuc3VyZSBub3RpZmllciBpbml0XHJcbiAgICAgICAgICAgICAgICBpbml0aWFsaXplKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgLy9jcmVhdGUgbmV3IG5vdGlmaWNhdGlvbiBtZXNzYWdlXHJcbiAgICAgICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICBkaXYuY2xhc3NOYW1lID0gY2xhc3Nlcy5tZXNzYWdlICsgKCh0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgJiYgdHlwZSAhPT0gJycpID8gJyBhanMtJyArIHR5cGUgOiAnJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlKGRpdiwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogRGlzbWlzc2VzIGFsbCBvcGVuIG5vdGlmaWNhdGlvbnMuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBleGNwZXQgW29wdGlvbmFsXSBUaGUgbm90aWZpY2F0aW9uIG9iamVjdCB0byBleGNsdWRlIGZyb20gZGlzbWlzc2FsLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgZGlzbWlzc0FsbDogZnVuY3Rpb24gKGV4Y2VwdCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNsb25lID0gb3Blbkluc3RhbmNlcy5zbGljZSgwKTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgY2xvbmUubGVuZ3RoOyB4ICs9IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgIGluc3RhbmNlID0gY2xvbmVbeF07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4Y2VwdCA9PT0gdW5kZWZpbmVkIHx8IGV4Y2VwdCAhPT0gaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9KSgpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWxlcnRpZnkgcHVibGljIEFQSVxyXG4gICAgICogVGhpcyBjb250YWlucyBldmVyeXRoaW5nIHRoYXQgaXMgZXhwb3NlZCB0aHJvdWdoIHRoZSBhbGVydGlmeSBvYmplY3QuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBBbGVydGlmeSgpIHtcclxuXHJcbiAgICAgICAgLy8gaG9sZHMgYSByZWZlcmVuY2VzIG9mIGNyZWF0ZWQgZGlhbG9nc1xyXG4gICAgICAgIHZhciBkaWFsb2dzID0ge307XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEV4dGVuZHMgYSBnaXZlbiBwcm90b3R5cGUgYnkgbWVyZ2luZyBwcm9wZXJ0aWVzIGZyb20gYmFzZSBpbnRvIHN1Yi5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBzdWIge09iamVjdH0gc3ViIFRoZSBwcm90b3R5cGUgYmVpbmcgb3ZlcndyaXR0ZW4uXHJcbiAgICAgICAgICogQGJhc2Uge09iamVjdH0gYmFzZSBUaGUgcHJvdG90eXBlIGJlaW5nIHdyaXR0ZW4uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBleHRlbmRlZCBwcm90b3R5cGUuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gZXh0ZW5kKHN1YiwgYmFzZSkge1xyXG4gICAgICAgICAgICAvLyBjb3B5IGRpYWxvZyBwb3RvdHlwZSBvdmVyIGRlZmluaXRpb24uXHJcbiAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gYmFzZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJhc2UuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdWJbcHJvcF0gPSBiYXNlW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBzdWI7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBIZWxwZXI6IHJldHVybnMgYSBkaWFsb2cgaW5zdGFuY2UgZnJvbSBzYXZlZCBkaWFsb2dzLlxyXG4gICAgICAgICogYW5kIGluaXRpYWxpemVzIHRoZSBkaWFsb2cgaWYgaXRzIG5vdCBhbHJlYWR5IGluaXRpYWxpemVkLlxyXG4gICAgICAgICpcclxuICAgICAgICAqIEBuYW1lIHtTdHJpbmd9IG5hbWUgVGhlIGRpYWxvZyBuYW1lLlxyXG4gICAgICAgICpcclxuICAgICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRpYWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGdldF9kaWFsb2cobmFtZSkge1xyXG4gICAgICAgICAgICB2YXIgZGlhbG9nID0gZGlhbG9nc1tuYW1lXS5kaWFsb2c7XHJcbiAgICAgICAgICAgIC8vaW5pdGlhbGl6ZSB0aGUgZGlhbG9nIGlmIGl0cyBub3QgYWxyZWFkeSBpbml0aWFsaXplZC5cclxuICAgICAgICAgICAgaWYgKGRpYWxvZyAmJiB0eXBlb2YgZGlhbG9nLl9faW5pdCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgZGlhbG9nLl9faW5pdChkaWFsb2cpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBkaWFsb2c7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBIZWxwZXI6ICByZWdpc3RlcnMgYSBuZXcgZGlhbG9nIGRlZmluaXRpb24uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAbmFtZSB7U3RyaW5nfSBuYW1lIFRoZSBkaWFsb2cgbmFtZS5cclxuICAgICAgICAgKiBARmFjdG9yeSB7RnVuY3Rpb259IEZhY3RvcnkgYSBmdW5jdGlvbiByZXNwb3NpYmxlIGZvciBjcmVhdGluZyBkaWFsb2cgcHJvdG90eXBlLlxyXG4gICAgICAgICAqIEB0cmFuc2llbnQge0Jvb2xlYW59IHRyYW5zaWVudCBUcnVlIHRvIGNyZWF0ZSBhIG5ldyBkaWFsb2cgaW5zdGFuY2UgZWFjaCB0aW1lIHRoZSBkaWFsb2cgaXMgaW52b2tlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gICAgICAgICAqIEBiYXNlIHtTdHJpbmd9IGJhc2UgdGhlIG5hbWUgb2YgYW5vdGhlciBkaWFsb2cgdG8gaW5oZXJpdCBmcm9tLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGlhbG9nIGRlZmluaXRpb24uXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gcmVnaXN0ZXIobmFtZSwgRmFjdG9yeSwgdHJhbnNpZW50LCBiYXNlKSB7XHJcbiAgICAgICAgICAgIHZhciBkZWZpbml0aW9uID0ge1xyXG4gICAgICAgICAgICAgICAgZGlhbG9nOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgZmFjdG9yeTogRmFjdG9yeVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9pZiB0aGlzIGlzIGJhc2VkIG9uIGFuIGV4aXN0aW5nIGRpYWxvZywgY3JlYXRlIGEgbmV3IGRlZmluaXRpb25cclxuICAgICAgICAgICAgLy9ieSBhcHBseWluZyB0aGUgbmV3IHByb3RveXBlIG92ZXIgdGhlIGV4aXN0aW5nIG9uZS5cclxuICAgICAgICAgICAgaWYgKGJhc2UgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgZGVmaW5pdGlvbi5mYWN0b3J5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBleHRlbmQobmV3IGRpYWxvZ3NbYmFzZV0uZmFjdG9yeSgpLCBuZXcgRmFjdG9yeSgpKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghdHJhbnNpZW50KSB7XHJcbiAgICAgICAgICAgICAgICAvL2NyZWF0ZSBhIG5ldyBkZWZpbml0aW9uIGJhc2VkIG9uIGRpYWxvZ1xyXG4gICAgICAgICAgICAgICAgZGVmaW5pdGlvbi5kaWFsb2cgPSBleHRlbmQobmV3IGRlZmluaXRpb24uZmFjdG9yeSgpLCBkaWFsb2cpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBkaWFsb2dzW25hbWVdID0gZGVmaW5pdGlvbjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBBbGVydGlmeSBkZWZhdWx0c1xyXG4gICAgICAgICAgICAgKiBcclxuICAgICAgICAgICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGRlZmF1bHRzOiBkZWZhdWx0cyxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIERpYWxvZ3MgZmFjdG9yeSBcclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9ICAgICAgRGlhbG9nIG5hbWUuXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259ICAgIEEgRGlhbG9nIGZhY3RvcnkgZnVuY3Rpb24uXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gICAgIEluZGljYXRlcyB3aGV0aGVyIHRvIGNyZWF0ZSBhIHNpbmdsZXRvbiBvciB0cmFuc2llbnQgZGlhbG9nLlxyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gICAgICBUaGUgbmFtZSBvZiB0aGUgYmFzZSB0eXBlIHRvIGluaGVyaXQgZnJvbS5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGRpYWxvZzogZnVuY3Rpb24gKG5hbWUsIEZhY3RvcnksIHRyYW5zaWVudCwgYmFzZSkge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGdldCByZXF1ZXN0LCBjcmVhdGUgYSBuZXcgaW5zdGFuY2UgYW5kIHJldHVybiBpdC5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgRmFjdG9yeSAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRfZGlhbG9nKG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdhbGVydGlmeS5kaWFsb2c6IG5hbWUgYWxyZWFkeSBleGlzdHMnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyByZWdpc3RlciB0aGUgZGlhbG9nXHJcbiAgICAgICAgICAgICAgICB2YXIgZGVmaW5pdGlvbiA9IHJlZ2lzdGVyKG5hbWUsIEZhY3RvcnksIHRyYW5zaWVudCwgYmFzZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRyYW5zaWVudCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIGl0IHB1YmxpY1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXNbbmFtZV0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgcGFzc2VkIHdpdGggbm8gcGFyYW1zLCBjb25zaWRlciBpdCBhIGdldCByZXF1ZXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVmaW5pdGlvbi5kaWFsb2c7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBleHRlbmQobmV3IGRlZmluaXRpb24uZmFjdG9yeSgpLCBkaWFsb2cpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9lbnN1cmUgaW5pdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlICYmIHR5cGVvZiBpbnN0YW5jZS5fX2luaXQgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5fX2luaXQoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2VbJ21haW4nXS5hcHBseShpbnN0YW5jZSwgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZVsnc2hvdyddLmFwcGx5KGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1ha2UgaXQgcHVibGljXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpc1tuYW1lXSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9lbnN1cmUgaW5pdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVmaW5pdGlvbi5kaWFsb2cgJiYgdHlwZW9mIGRlZmluaXRpb24uZGlhbG9nLl9faW5pdCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmaW5pdGlvbi5kaWFsb2cuX19pbml0KGRlZmluaXRpb24uZGlhbG9nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIHBhc3NlZCB3aXRoIG5vIHBhcmFtcywgY29uc2lkZXIgaXQgYSBnZXQgcmVxdWVzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlZmluaXRpb24uZGlhbG9nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpYWxvZyA9IGRlZmluaXRpb24uZGlhbG9nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlhbG9nWydtYWluJ10uYXBwbHkoZGVmaW5pdGlvbi5kaWFsb2csIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGlhbG9nWydzaG93J10uYXBwbHkoZGVmaW5pdGlvbi5kaWFsb2cpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIENsb3NlIGFsbCBvcGVuIGRpYWxvZ3MuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBleGNwZXQgW29wdGlvbmFsXSBUaGUgZGlhbG9nIG9iamVjdCB0byBleGNsdWRlIGZyb20gY2xvc2luZy5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgY2xvc2VBbGw6IGZ1bmN0aW9uIChleGNlcHQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjbG9uZSA9IG9wZW5EaWFsb2dzLnNsaWNlKDApO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBjbG9uZS5sZW5ndGg7IHggKz0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IGNsb25lW3hdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChleGNlcHQgPT09IHVuZGVmaW5lZCB8fCBleGNlcHQgIT09IGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogR2V0cyBvciBTZXRzIGRpYWxvZyBzZXR0aW5ncy9vcHRpb25zLiBpZiB0aGUgZGlhbG9nIGlzIHRyYW5zaWVudCwgdGhpcyBjYWxsIGRvZXMgbm90aGluZy5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIGRpYWxvZyBuYW1lLlxyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IGtleSBBIHN0cmluZyBzcGVjaWZ5aW5nIGEgcHJvcGVyeSBuYW1lIG9yIGEgY29sbGVjdGlvbiBvZiBrZXkvdmFsdWUgcGFpcnMuXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7VmFyaWFudH0gdmFsdWUgT3B0aW9uYWwsIHRoZSB2YWx1ZSBhc3NvY2lhdGVkIHdpdGggdGhlIGtleSAoaW4gY2FzZSBpdCB3YXMgYSBzdHJpbmcpLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBzZXR0aW5nOiBmdW5jdGlvbiAobmFtZSwga2V5LCB2YWx1ZSkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChuYW1lID09PSAnbm90aWZpZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vdGlmaWVyLnNldHRpbmcoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGRpYWxvZyA9IGdldF9kaWFsb2cobmFtZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGlhbG9nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRpYWxvZy5zZXR0aW5nKGtleSwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogW0FsaWFzXSBTZXRzIGRpYWxvZyBzZXR0aW5ncy9vcHRpb25zIFxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbihuYW1lLGtleSx2YWx1ZSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5nKG5hbWUsIGtleSx2YWx1ZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBbQWxpYXNdIEdldHMgZGlhbG9nIHNldHRpbmdzL29wdGlvbnMgXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKG5hbWUsIGtleSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5nKG5hbWUsIGtleSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IG5vdGlmaWNhdGlvbiBtZXNzYWdlLlxyXG4gICAgICAgICAgICAgKiBJZiBhIHR5cGUgaXMgcGFzc2VkLCBhIGNsYXNzIG5hbWUgXCJhanMte3R5cGV9XCIgd2lsbCBiZSBhZGRlZC5cclxuICAgICAgICAgICAgICogVGhpcyBhbGxvd3MgZm9yIGN1c3RvbSBsb29rIGFuZCBmZWVsIGZvciB2YXJpb3VzIHR5cGVzIG9mIG5vdGlmaWNhdGlvbnMuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSAge1N0cmluZyB8IERPTUVsZW1lbnR9ICAgIFttZXNzYWdlPXVuZGVmaW5lZF1cdFx0TWVzc2FnZSB0ZXh0XHJcbiAgICAgICAgICAgICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgICAgICAgIFt0eXBlPScnXVx0XHRcdFx0VHlwZSBvZiBsb2cgbWVzc2FnZVxyXG4gICAgICAgICAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgICAgICAgICAgICBbd2FpdD0nJ11cdFx0XHRcdFRpbWUgKGluIHNlY29uZHMpIHRvIHdhaXQgYmVmb3JlIGF1dG8tY2xvc2VcclxuICAgICAgICAgICAgICogQHBhcmFtICB7RnVuY3Rpb259ICAgICAgICAgICAgICAgW2NhbGxiYWNrPXVuZGVmaW5lZF1cdEEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgaW52b2tlZCB3aGVuIHRoZSBsb2cgaXMgY2xvc2VkLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IE5vdGlmaWNhdGlvbiBvYmplY3QuXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBub3RpZnk6IGZ1bmN0aW9uIChtZXNzYWdlLCB0eXBlLCB3YWl0LCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vdGlmaWVyLmNyZWF0ZSh0eXBlLCBjYWxsYmFjaykucHVzaChtZXNzYWdlLCB3YWl0KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIENyZWF0ZXMgYSBuZXcgbm90aWZpY2F0aW9uIG1lc3NhZ2UuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSAge1N0cmluZ31cdFx0W21lc3NhZ2U9dW5kZWZpbmVkXVx0XHRNZXNzYWdlIHRleHRcclxuICAgICAgICAgICAgICogQHBhcmFtICB7U3RyaW5nfSAgICAgW3dhaXQ9JyddXHRcdFx0XHRUaW1lIChpbiBzZWNvbmRzKSB0byB3YWl0IGJlZm9yZSBhdXRvLWNsb3NlXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufVx0W2NhbGxiYWNrPXVuZGVmaW5lZF1cdEEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgaW52b2tlZCB3aGVuIHRoZSBsb2cgaXMgY2xvc2VkLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IE5vdGlmaWNhdGlvbiBvYmplY3QuXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBtZXNzYWdlOiBmdW5jdGlvbiAobWVzc2FnZSwgd2FpdCwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBub3RpZmllci5jcmVhdGUobnVsbCwgY2FsbGJhY2spLnB1c2gobWVzc2FnZSwgd2FpdCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IG5vdGlmaWNhdGlvbiBtZXNzYWdlIG9mIHR5cGUgJ3N1Y2Nlc3MnLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcGFyYW0gIHtTdHJpbmd9XHRcdFttZXNzYWdlPXVuZGVmaW5lZF1cdFx0TWVzc2FnZSB0ZXh0XHJcbiAgICAgICAgICAgICAqIEBwYXJhbSAge1N0cmluZ30gICAgIFt3YWl0PScnXVx0XHRcdFx0VGltZSAoaW4gc2Vjb25kcykgdG8gd2FpdCBiZWZvcmUgYXV0by1jbG9zZVxyXG4gICAgICAgICAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn1cdFtjYWxsYmFjaz11bmRlZmluZWRdXHRBIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGludm9rZWQgd2hlbiB0aGUgbG9nIGlzIGNsb3NlZC5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQHJldHVybiB7T2JqZWN0fSBOb3RpZmljYXRpb24gb2JqZWN0LlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKG1lc3NhZ2UsIHdhaXQsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbm90aWZpZXIuY3JlYXRlKCdzdWNjZXNzJywgY2FsbGJhY2spLnB1c2gobWVzc2FnZSwgd2FpdCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IG5vdGlmaWNhdGlvbiBtZXNzYWdlIG9mIHR5cGUgJ2Vycm9yJy5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQHBhcmFtICB7U3RyaW5nfVx0XHRbbWVzc2FnZT11bmRlZmluZWRdXHRcdE1lc3NhZ2UgdGV4dFxyXG4gICAgICAgICAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICBbd2FpdD0nJ11cdFx0XHRcdFRpbWUgKGluIHNlY29uZHMpIHRvIHdhaXQgYmVmb3JlIGF1dG8tY2xvc2VcclxuICAgICAgICAgICAgICogQHBhcmFtICB7RnVuY3Rpb259XHRbY2FsbGJhY2s9dW5kZWZpbmVkXVx0QSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBpbnZva2VkIHdoZW4gdGhlIGxvZyBpcyBjbG9zZWQuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEByZXR1cm4ge09iamVjdH0gTm90aWZpY2F0aW9uIG9iamVjdC5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAobWVzc2FnZSwgd2FpdCwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBub3RpZmllci5jcmVhdGUoJ2Vycm9yJywgY2FsbGJhY2spLnB1c2gobWVzc2FnZSwgd2FpdCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IG5vdGlmaWNhdGlvbiBtZXNzYWdlIG9mIHR5cGUgJ3dhcm5pbmcnLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcGFyYW0gIHtTdHJpbmd9XHRcdFttZXNzYWdlPXVuZGVmaW5lZF1cdFx0TWVzc2FnZSB0ZXh0XHJcbiAgICAgICAgICAgICAqIEBwYXJhbSAge1N0cmluZ30gICAgIFt3YWl0PScnXVx0XHRcdFx0VGltZSAoaW4gc2Vjb25kcykgdG8gd2FpdCBiZWZvcmUgYXV0by1jbG9zZVxyXG4gICAgICAgICAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn1cdFtjYWxsYmFjaz11bmRlZmluZWRdXHRBIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGludm9rZWQgd2hlbiB0aGUgbG9nIGlzIGNsb3NlZC5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQHJldHVybiB7T2JqZWN0fSBOb3RpZmljYXRpb24gb2JqZWN0LlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgd2FybmluZzogZnVuY3Rpb24gKG1lc3NhZ2UsIHdhaXQsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbm90aWZpZXIuY3JlYXRlKCd3YXJuaW5nJywgY2FsbGJhY2spLnB1c2gobWVzc2FnZSwgd2FpdCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBEaXNtaXNzZXMgYWxsIG9wZW4gbm90aWZpY2F0aW9uc1xyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBkaXNtaXNzQWxsOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBub3RpZmllci5kaXNtaXNzQWxsKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgdmFyIGFsZXJ0aWZ5ID0gbmV3IEFsZXJ0aWZ5KCk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEFsZXJ0IGRpYWxvZyBkZWZpbml0aW9uXHJcbiAgICAqXHJcbiAgICAqIGludm9rZWQgYnk6XHJcbiAgICAqXHRhbGVydGlmeS5hbGVydChtZXNzYWdlKTtcclxuICAgICpcdGFsZXJ0aWZ5LmFsZXJ0KHRpdGxlLCBtZXNzYWdlKTtcclxuICAgICpcdGFsZXJ0aWZ5LmFsZXJ0KG1lc3NhZ2UsIG9ub2spO1xyXG4gICAgKlx0YWxlcnRpZnkuYWxlcnQodGl0bGUsIG1lc3NhZ2UsIG9ub2spO1xyXG4gICAgICovXHJcbiAgICBhbGVydGlmeS5kaWFsb2coJ2FsZXJ0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG1haW46IGZ1bmN0aW9uIChfdGl0bGUsIF9tZXNzYWdlLCBfb25vaykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRpdGxlLCBtZXNzYWdlLCBvbm9rO1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IF90aXRsZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIF9tZXNzYWdlID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBfdGl0bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ub2sgPSBfbWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA9IF90aXRsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IF9tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZSA9IF90aXRsZTtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gX21lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgb25vayA9IF9vbm9rO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoJ3RpdGxlJywgdGl0bGUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoJ21lc3NhZ2UnLCBtZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0KCdvbm9rJywgb25vayk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0dXA6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uczogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBhbGVydGlmeS5kZWZhdWx0cy5nbG9zc2FyeS5vayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleToga2V5cy5FU0MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZva2VPbkNsb3NlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBhbGVydGlmeS5kZWZhdWx0cy50aGVtZS5vayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgZm9jdXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0OiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhpbWl6YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2l6YWJsZTogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBidWlsZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy8gbm90aGluZ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwcmVwYXJlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvL25vdGhpbmdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0TWVzc2FnZTogZnVuY3Rpb24gKG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q29udGVudChtZXNzYWdlKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgIG9ub2s6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgIGxhYmVsOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldHRpbmdVcGRhdGVkOiBmdW5jdGlvbiAoa2V5LCBvbGRWYWx1ZSwgbmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoa2V5KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdtZXNzYWdlJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldE1lc3NhZ2UobmV3VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbGFiZWwnOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9faW50ZXJuYWwuYnV0dG9uc1swXS5lbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX19pbnRlcm5hbC5idXR0b25zWzBdLmVsZW1lbnQuaW5uZXJIVE1MID0gbmV3VmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKGNsb3NlRXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5nZXQoJ29ub2snKSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR1cm5WYWx1ZSA9IHRoaXMuZ2V0KCdvbm9rJykuY2FsbCh0aGlzLCBjbG9zZUV2ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJldHVyblZhbHVlICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9zZUV2ZW50LmNhbmNlbCA9ICFyZXR1cm5WYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfSk7XHJcbiAgICAvKipcclxuICAgICAqIENvbmZpcm0gZGlhbG9nIG9iamVjdFxyXG4gICAgICpcclxuICAgICAqXHRhbGVydGlmeS5jb25maXJtKG1lc3NhZ2UpO1xyXG4gICAgICpcdGFsZXJ0aWZ5LmNvbmZpcm0obWVzc2FnZSwgb25vayk7XHJcbiAgICAgKlx0YWxlcnRpZnkuY29uZmlybShtZXNzYWdlLCBvbm9rLCBvbmNhbmNlbCk7XHJcbiAgICAgKlx0YWxlcnRpZnkuY29uZmlybSh0aXRsZSwgbWVzc2FnZSwgb25vaywgb25jYW5jZWwpO1xyXG4gICAgICovXHJcbiAgICBhbGVydGlmeS5kaWFsb2coJ2NvbmZpcm0nLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIHZhciBhdXRvQ29uZmlybSA9IHtcclxuICAgICAgICAgICAgdGltZXI6IG51bGwsXHJcbiAgICAgICAgICAgIGluZGV4OiBudWxsLFxyXG4gICAgICAgICAgICB0ZXh0OiBudWxsLFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogbnVsbCxcclxuICAgICAgICAgICAgdGFzazogZnVuY3Rpb24gKGV2ZW50LCBzZWxmKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5pc09wZW4oKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX19pbnRlcm5hbC5idXR0b25zW2F1dG9Db25maXJtLmluZGV4XS5lbGVtZW50LmlubmVySFRNTCA9IGF1dG9Db25maXJtLnRleHQgKyAnICgmIzgyMDc7JyArIGF1dG9Db25maXJtLmR1cmF0aW9uICsgJyYjODIwNzspICc7XHJcbiAgICAgICAgICAgICAgICAgICAgYXV0b0NvbmZpcm0uZHVyYXRpb24gLT0gMTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXV0b0NvbmZpcm0uZHVyYXRpb24gPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyQXV0b0NvbmZpcm0oc2VsZik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBidXR0b24gPSBzZWxmLl9faW50ZXJuYWwuYnV0dG9uc1thdXRvQ29uZmlybS5pbmRleF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjbG9zZUV2ZW50ID0gY3JlYXRlQ2xvc2VFdmVudChhdXRvQ29uZmlybS5pbmRleCwgYnV0dG9uKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2VsZi5jYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jYWxsYmFjay5hcHBseShzZWxmLCBbY2xvc2VFdmVudF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY2xvc2UgdGhlIGRpYWxvZy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsb3NlRXZlbnQuY2xvc2UgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyQXV0b0NvbmZpcm0oc2VsZik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBjbGVhckF1dG9Db25maXJtKHNlbGYpIHtcclxuICAgICAgICAgICAgaWYgKGF1dG9Db25maXJtLnRpbWVyICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGF1dG9Db25maXJtLnRpbWVyKTtcclxuICAgICAgICAgICAgICAgIGF1dG9Db25maXJtLnRpbWVyID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHNlbGYuX19pbnRlcm5hbC5idXR0b25zW2F1dG9Db25maXJtLmluZGV4XS5lbGVtZW50LmlubmVySFRNTCA9IGF1dG9Db25maXJtLnRleHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHN0YXJ0QXV0b0NvbmZpcm0oc2VsZiwgaW5kZXgsIGR1cmF0aW9uKSB7XHJcbiAgICAgICAgICAgIGNsZWFyQXV0b0NvbmZpcm0oc2VsZik7XHJcbiAgICAgICAgICAgIGF1dG9Db25maXJtLmR1cmF0aW9uID0gZHVyYXRpb247XHJcbiAgICAgICAgICAgIGF1dG9Db25maXJtLmluZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgICAgIGF1dG9Db25maXJtLnRleHQgPSBzZWxmLl9faW50ZXJuYWwuYnV0dG9uc1tpbmRleF0uZWxlbWVudC5pbm5lckhUTUw7XHJcbiAgICAgICAgICAgIGF1dG9Db25maXJtLnRpbWVyID0gc2V0SW50ZXJ2YWwoZGVsZWdhdGUoc2VsZiwgYXV0b0NvbmZpcm0udGFzayksIDEwMDApO1xyXG4gICAgICAgICAgICBhdXRvQ29uZmlybS50YXNrKG51bGwsIHNlbGYpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG1haW46IGZ1bmN0aW9uIChfdGl0bGUsIF9tZXNzYWdlLCBfb25vaywgX29uY2FuY2VsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGl0bGUsIG1lc3NhZ2UsIG9ub2ssIG9uY2FuY2VsO1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IF90aXRsZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gX3RpdGxlO1xyXG4gICAgICAgICAgICAgICAgICAgIG9ub2sgPSBfbWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gX3RpdGxlO1xyXG4gICAgICAgICAgICAgICAgICAgIG9ub2sgPSBfbWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICBvbmNhbmNlbCA9IF9vbm9rO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlID0gX3RpdGxlO1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBfbWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICBvbm9rID0gX29ub2s7XHJcbiAgICAgICAgICAgICAgICAgICAgb25jYW5jZWwgPSBfb25jYW5jZWw7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldCgndGl0bGUnLCB0aXRsZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldCgnbWVzc2FnZScsIG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoJ29ub2snLCBvbm9rKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0KCdvbmNhbmNlbCcsIG9uY2FuY2VsKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXR1cDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBidXR0b25zOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGFsZXJ0aWZ5LmRlZmF1bHRzLmdsb3NzYXJ5Lm9rLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBrZXlzLkVOVEVSLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBhbGVydGlmeS5kZWZhdWx0cy50aGVtZS5vayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogYWxlcnRpZnkuZGVmYXVsdHMuZ2xvc3NhcnkuY2FuY2VsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBrZXlzLkVTQyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludm9rZU9uQ2xvc2U6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGFsZXJ0aWZ5LmRlZmF1bHRzLnRoZW1lLmNhbmNlbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgZm9jdXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0OiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhpbWl6YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2l6YWJsZTogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBidWlsZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy9ub3RoaW5nXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHByZXBhcmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vbm90aGluZ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXRNZXNzYWdlOiBmdW5jdGlvbiAobWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDb250ZW50KG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogbnVsbCxcclxuICAgICAgICAgICAgICAgIGxhYmVsczogbnVsbCxcclxuICAgICAgICAgICAgICAgIG9ub2s6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBvbmNhbmNlbDogbnVsbCxcclxuICAgICAgICAgICAgICAgIGRlZmF1bHRGb2N1czogbnVsbCxcclxuICAgICAgICAgICAgICAgIHJldmVyc2VCdXR0b25zOiBudWxsLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXR0aW5nVXBkYXRlZDogZnVuY3Rpb24gKGtleSwgb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGtleSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbWVzc2FnZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRNZXNzYWdlKG5ld1ZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2xhYmVscyc6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCdvaycgaW4gbmV3VmFsdWUgJiYgdGhpcy5fX2ludGVybmFsLmJ1dHRvbnNbMF0uZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9faW50ZXJuYWwuYnV0dG9uc1swXS50ZXh0ID0gbmV3VmFsdWUub2s7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX19pbnRlcm5hbC5idXR0b25zWzBdLmVsZW1lbnQuaW5uZXJIVE1MID0gbmV3VmFsdWUub2s7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgnY2FuY2VsJyBpbiBuZXdWYWx1ZSAmJiB0aGlzLl9faW50ZXJuYWwuYnV0dG9uc1sxXS5lbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX19pbnRlcm5hbC5idXR0b25zWzFdLnRleHQgPSBuZXdWYWx1ZS5jYW5jZWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX19pbnRlcm5hbC5idXR0b25zWzFdLmVsZW1lbnQuaW5uZXJIVE1MID0gbmV3VmFsdWUuY2FuY2VsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3JldmVyc2VCdXR0b25zJzpcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50cy5idXR0b25zLnByaW1hcnkuYXBwZW5kQ2hpbGQodGhpcy5fX2ludGVybmFsLmJ1dHRvbnNbMF0uZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50cy5idXR0b25zLnByaW1hcnkuYXBwZW5kQ2hpbGQodGhpcy5fX2ludGVybmFsLmJ1dHRvbnNbMV0uZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnZGVmYXVsdEZvY3VzJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9faW50ZXJuYWwuZm9jdXMuZWxlbWVudCA9IG5ld1ZhbHVlID09PSAnb2snID8gMCA6IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoY2xvc2VFdmVudCkge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJBdXRvQ29uZmlybSh0aGlzKTtcclxuICAgICAgICAgICAgICAgIHZhciByZXR1cm5WYWx1ZTtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoY2xvc2VFdmVudC5pbmRleCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5nZXQoJ29ub2snKSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSA9IHRoaXMuZ2V0KCdvbm9rJykuY2FsbCh0aGlzLCBjbG9zZUV2ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXR1cm5WYWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlRXZlbnQuY2FuY2VsID0gIXJldHVyblZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5nZXQoJ29uY2FuY2VsJykgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSB0aGlzLmdldCgnb25jYW5jZWwnKS5jYWxsKHRoaXMsIGNsb3NlRXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJldHVyblZhbHVlICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VFdmVudC5jYW5jZWwgPSAhcmV0dXJuVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGF1dG9PazogZnVuY3Rpb24gKGR1cmF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBzdGFydEF1dG9Db25maXJtKHRoaXMsIDAsIGR1cmF0aW9uKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBhdXRvQ2FuY2VsOiBmdW5jdGlvbiAoZHVyYXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0QXV0b0NvbmZpcm0odGhpcywgMSwgZHVyYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfSk7XHJcbiAgICAvKipcclxuICAgICAqIFByb21wdCBkaWFsb2cgb2JqZWN0XHJcbiAgICAgKlxyXG4gICAgICogaW52b2tlZCBieTpcclxuICAgICAqXHRhbGVydGlmeS5wcm9tcHQobWVzc2FnZSk7XHJcbiAgICAgKlx0YWxlcnRpZnkucHJvbXB0KG1lc3NhZ2UsIHZhbHVlKTtcclxuICAgICAqXHRhbGVydGlmeS5wcm9tcHQobWVzc2FnZSwgdmFsdWUsIG9ub2spO1xyXG4gICAgICpcdGFsZXJ0aWZ5LnByb21wdChtZXNzYWdlLCB2YWx1ZSwgb25vaywgb25jYW5jZWwpO1xyXG4gICAgICpcdGFsZXJ0aWZ5LnByb21wdCh0aXRsZSwgbWVzc2FnZSwgdmFsdWUsIG9ub2ssIG9uY2FuY2VsKTtcclxuICAgICAqL1xyXG4gICAgYWxlcnRpZnkuZGlhbG9nKCdwcm9tcHQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnSU5QVVQnKTtcclxuICAgICAgICB2YXIgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ1AnKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBtYWluOiBmdW5jdGlvbiAoX3RpdGxlLCBfbWVzc2FnZSwgX3ZhbHVlLCBfb25vaywgX29uY2FuY2VsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGl0bGUsIG1lc3NhZ2UsIHZhbHVlLCBvbm9rLCBvbmNhbmNlbDtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBfdGl0bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IF90aXRsZTtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IF9tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBfdGl0bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBfbWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICBvbm9rID0gX3ZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBfdGl0bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBfbWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICBvbm9rID0gX3ZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIG9uY2FuY2VsID0gX29ub2s7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGUgPSBfdGl0bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IF9tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gX3ZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIG9ub2sgPSBfb25vaztcclxuICAgICAgICAgICAgICAgICAgICBvbmNhbmNlbCA9IF9vbmNhbmNlbDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0KCd0aXRsZScsIHRpdGxlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0KCdtZXNzYWdlJywgbWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldCgndmFsdWUnLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldCgnb25vaycsIG9ub2spO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoJ29uY2FuY2VsJywgb25jYW5jZWwpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldHVwOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbnM6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogYWxlcnRpZnkuZGVmYXVsdHMuZ2xvc3Nhcnkub2ssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IGtleXMuRU5URVIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGFsZXJ0aWZ5LmRlZmF1bHRzLnRoZW1lLm9rLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBhbGVydGlmeS5kZWZhdWx0cy5nbG9zc2FyeS5jYW5jZWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IGtleXMuRVNDLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52b2tlT25DbG9zZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogYWxlcnRpZnkuZGVmYXVsdHMudGhlbWUuY2FuY2VsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgICAgICBmb2N1czoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiBpbnB1dCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0OiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltaXphYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzaXphYmxlOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGJ1aWxkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dC5jbGFzc05hbWUgPSBhbGVydGlmeS5kZWZhdWx0cy50aGVtZS5pbnB1dDtcclxuICAgICAgICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0Jyk7XHJcbiAgICAgICAgICAgICAgICBpbnB1dC52YWx1ZSA9IHRoaXMuZ2V0KCd2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50cy5jb250ZW50LmFwcGVuZENoaWxkKHApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50cy5jb250ZW50LmFwcGVuZENoaWxkKGlucHV0KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcHJlcGFyZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy9ub3RoaW5nXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldE1lc3NhZ2U6IGZ1bmN0aW9uIChtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJDb250ZW50cyhwKTtcclxuICAgICAgICAgICAgICAgICAgICBwLmlubmVySFRNTCA9IG1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTEVsZW1lbnQgJiYgcC5maXJzdENoaWxkICE9PSBtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJDb250ZW50cyhwKTtcclxuICAgICAgICAgICAgICAgICAgICBwLmFwcGVuZENoaWxkKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgbGFiZWxzOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICBvbm9rOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICBvbmNhbmNlbDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6ICcnLFxyXG4gICAgICAgICAgICAgICAgdHlwZTondGV4dCcsXHJcbiAgICAgICAgICAgICAgICByZXZlcnNlQnV0dG9uczogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXR0aW5nVXBkYXRlZDogZnVuY3Rpb24gKGtleSwgb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGtleSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbWVzc2FnZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRNZXNzYWdlKG5ld1ZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3ZhbHVlJzpcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dC52YWx1ZSA9IG5ld1ZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAndHlwZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3RleHQnOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NvbG9yJzpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdkYXRlJzpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdkYXRldGltZS1sb2NhbCc6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZW1haWwnOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ21vbnRoJzpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdudW1iZXInOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Bhc3N3b3JkJzpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdzZWFyY2gnOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3RlbCc6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndGltZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnd2Vlayc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0LnR5cGUgPSBuZXdWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQudHlwZSA9ICd0ZXh0JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbGFiZWxzJzpcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUub2sgJiYgdGhpcy5fX2ludGVybmFsLmJ1dHRvbnNbMF0uZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9faW50ZXJuYWwuYnV0dG9uc1swXS5lbGVtZW50LmlubmVySFRNTCA9IG5ld1ZhbHVlLm9rO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUuY2FuY2VsICYmIHRoaXMuX19pbnRlcm5hbC5idXR0b25zWzFdLmVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fX2ludGVybmFsLmJ1dHRvbnNbMV0uZWxlbWVudC5pbm5lckhUTUwgPSBuZXdWYWx1ZS5jYW5jZWw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAncmV2ZXJzZUJ1dHRvbnMnOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRzLmJ1dHRvbnMucHJpbWFyeS5hcHBlbmRDaGlsZCh0aGlzLl9faW50ZXJuYWwuYnV0dG9uc1swXS5lbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRzLmJ1dHRvbnMucHJpbWFyeS5hcHBlbmRDaGlsZCh0aGlzLl9faW50ZXJuYWwuYnV0dG9uc1sxXS5lbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoY2xvc2VFdmVudCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJldHVyblZhbHVlO1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChjbG9zZUV2ZW50LmluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy52YWx1ZSA9IGlucHV0LnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5nZXQoJ29ub2snKSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSA9IHRoaXMuZ2V0KCdvbm9rJykuY2FsbCh0aGlzLCBjbG9zZUV2ZW50LCB0aGlzLnNldHRpbmdzLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXR1cm5WYWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlRXZlbnQuY2FuY2VsID0gIXJldHVyblZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5nZXQoJ29uY2FuY2VsJykgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSB0aGlzLmdldCgnb25jYW5jZWwnKS5jYWxsKHRoaXMsIGNsb3NlRXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJldHVyblZhbHVlICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VFdmVudC5jYW5jZWwgPSAhcmV0dXJuVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIWNsb3NlRXZlbnQuY2FuY2VsKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQudmFsdWUgPSB0aGlzLnNldHRpbmdzLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBDb21tb25KU1xyXG4gICAgaWYgKCB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09ICdvYmplY3QnICkge1xyXG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gYWxlcnRpZnk7XHJcbiAgICAvLyBBTURcclxuICAgIH0gZWxzZSBpZiAoIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xyXG4gICAgICAgIGRlZmluZSggW10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFsZXJ0aWZ5O1xyXG4gICAgICAgIH0gKTtcclxuICAgIC8vIHdpbmRvd1xyXG4gICAgfSBlbHNlIGlmICggIXdpbmRvdy5hbGVydGlmeSApIHtcclxuICAgICAgICB3aW5kb3cuYWxlcnRpZnkgPSBhbGVydGlmeTtcclxuICAgIH1cclxuXHJcbn0gKCB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHRoaXMgKSApO1xyXG4iLCIvKlxuKiAgQ29sb3Igb3B0aW9ucyAoYXBwbGllZCBvbiB0aGUgbWFwIGFuZCBvbiB0aGUgY2hhcnQpOlxuKi9cbmV4cG9ydCBjb25zdCBjb2xvcl9jb3VudHJpZXMgPSAncmdiKDE0NywgMTQ0LCAyNTIpJzsgLy8gQ29sb3IgZm9yIGZlYXR1cmVzIHdpdGhpbiB0aGUgc3R1ZHkgem9uZSBidXQgbm90IGhpZ2hsaWdodGVkXG5leHBvcnQgY29uc3QgY29sb3JfZGlzYWJsZWQgPSAncmdiKDIxNCwgMjE0LCAyMTQpJzsgLy8gQ29sb3IgZm9yIGZlYXR1cmVzIG91dHNpZGUgdGhlIHN0dWR5IHpvbmUgLyB3aXRob3V0IGRhdGFcbmV4cG9ydCBjb25zdCBjb2xvcl9zdXAgPSAnZ3JlZW4nOyAvLyBDb2xvciBmb3Igc2VsZWN0ZWQgZmVhdHVyZSB3aXRoIFwiYmV0dGVyXCIgdmFsdWVzIHRoYW4gdGhlIHJlZmVyZW5jZSBmZWF0dXJlXG5leHBvcnQgY29uc3QgY29sb3JfaW5mID0gJ3JlZCc7IC8vIENvbG9yIGZvciBzZWxlY3RlZCBmZWF0dXJlIHdpdGggXCJ3b3JzZVwiIHZhbHVlcyB0aGFuIHRoZSByZWZlcmVuY2UgZmVhdHVyZVxuZXhwb3J0IGNvbnN0IGNvbG9yX2hpZ2hsaWdodCA9ICd5ZWxsb3cnOyAvLyBDb2xvciBmb3IgdGhlIHJlZmVyZW5jZSBmZWF0dXJlIChcIk1hIHLDqWdpb25cIilcbmV4cG9ydCBjb25zdCBjb2xvcl9kZWZhdWx0X2Rpc3NpbSA9ICdkYXJrcmVkJzsgIC8vIE5ldXRyYWwgY29sb3IgZm9yIHNlbGVjdGVkIGZlYXR1cmVzIHdoZW4gZ3JlZW4vcmVkIGNhbid0IGJlIHVzZWRcblxuLypcbiogIE1pc2MuIG9wdGlvbnM6XG4qL1xuZXhwb3J0IGNvbnN0IE1BWF9WQVJJQUJMRVMgPSA3OyAvLyBUaGUgbWF4aW11bSBudW1iZXIgb2YgdmFyaWFibGVzIHRoYXQgY2FuIGJlIHNlbGVjdGVkIHNpbXVsdGFuZW91c2x5LlxuIiwiaW1wb3J0IHsgY29sb3JfaW5mLCBjb2xvcl9zdXAgfSBmcm9tICcuL29wdGlvbnMnO1xuXG5jb25zdCBtYXRoX3BvdyA9IE1hdGgucG93O1xuY29uc3QgbWF0aF9hYnMgPSBNYXRoLmFicztcbmNvbnN0IG1hdGhfcm91bmQgPSBNYXRoLnJvdW5kO1xuY29uc3QgbWF0aF9tYXggPSBNYXRoLm1heDtcbmNvbnN0IG1hdGhfc2luID0gTWF0aC5zaW47XG5jb25zdCBtYXRoX2NvcyA9IE1hdGguY29zO1xuY29uc3QgbWF0aF9zcXJ0ID0gTWF0aC5zcXJ0O1xuY29uc3QgSEFMRl9QSSA9IE1hdGguUEkgLyAyO1xuXG5mdW5jdGlvbiBwcmVwYXJlVG9vbHRpcChwYXJlbnRfc3ZnX2VsZW0pIHtcbiAgY29uc3QgdG9vbHRpcCA9IHBhcmVudF9zdmdfZWxlbS5hcHBlbmQoJ2cnKVxuICAgIC5hdHRyKCdjbGFzcycsICd0b29sdGlwJylcbiAgICAuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuXG4gIHRvb2x0aXAuYXBwZW5kKCdyZWN0JylcbiAgICAuYXR0cnMoeyB4OiAxNSwgd2lkdGg6IDAsIGhlaWdodDogMCwgZmlsbDogJ2JlaWdlJyB9KVxuICAgIC5zdHlsZSgnb3BhY2l0eScsIDAuNzUpO1xuXG4gIHRvb2x0aXAuYXBwZW5kKCd0ZXh0JylcbiAgICAuYXR0cnMoeyBjbGFzczogJ2lkX2ZlYXR1cmUnLCB4OiAyNSwgZHk6ICcxLjJlbScsICdmb250LXNpemUnOiAnMTRweCcgfSlcbiAgICAuc3R5bGUoJ2ZvbnQtd2VpZ2h0JywgJ2JvbGQnKTtcblxuICB0b29sdGlwLmFwcGVuZCgndGV4dCcpXG4gICAgLmF0dHJzKHtcbiAgICAgIGNsYXNzOiAndmFsdWVfZmVhdHVyZTEnLFxuICAgICAgeDogMjUsXG4gICAgICBkeTogJzIuNGVtJyxcbiAgICAgICdmb250LXNpemUnOiAnMTRweCcsXG4gICAgfSk7XG5cbiAgdG9vbHRpcC5hcHBlbmQoJ3RleHQnKVxuICAgIC5hdHRycyh7XG4gICAgICBjbGFzczogJ3ZhbHVlX2ZlYXR1cmUyJyxcbiAgICAgIHg6IDI1LFxuICAgICAgZHk6ICczLjVlbScsXG4gICAgICAnZm9udC1zaXplJzogJzE0cHgnLFxuICAgIH0pO1xuXG4gIHRvb2x0aXAuYXBwZW5kKCd0ZXh0JylcbiAgICAuYXR0cnMoe1xuICAgICAgY2xhc3M6ICd2YWx1ZV9mZWF0dXJlMycsXG4gICAgICB4OiAyNSxcbiAgICAgIGR5OiAnNC42ZW0nLFxuICAgICAgJ2ZvbnQtc2l6ZSc6ICcxNHB4JyxcbiAgICB9KTtcblxuICB0b29sdGlwLmFwcGVuZCgndGV4dCcpXG4gICAgLmF0dHJzKHtcbiAgICAgIGNsYXNzOiAndmFsdWVfZmVhdHVyZTQnLFxuICAgICAgeDogMjUsXG4gICAgICBkeTogJzUuN2VtJyxcbiAgICAgICdmb250LXNpemUnOiAnMTRweCcsXG4gICAgfSk7XG5cbiAgdG9vbHRpcC5hcHBlbmQoJ3RleHQnKVxuICAgIC5hdHRycyh7XG4gICAgICBjbGFzczogJ3ZhbHVlX2ZlYXR1cmU1JyxcbiAgICAgIHg6IDI1LFxuICAgICAgZHk6ICc2LjhlbScsXG4gICAgICAnZm9udC1zaXplJzogJzE0cHgnLFxuICAgIH0pO1xuXG4gIHJldHVybiB0b29sdGlwO1xufVxuXG5mdW5jdGlvbiB1bmJpbmRVSSgpIHtcbiAgLy8gUmVtb3ZlcyB0aGUgY3VycmVudCBiZWhhdmlvciBjb3JyZXNwb25kaW5nIHRvIGNsaWNraW5nIG9uIHRoZSBsZWZ0IG1lbnU6XG4gIGQzLnNlbGVjdEFsbCgnc3Bhbi5maWx0ZXJfdicpXG4gICAgLm9uKCdjbGljaycsIG51bGwpO1xuICBkMy5zZWxlY3RBbGwoJ3NwYW4udGFyZ2V0X3JlZ2lvbicpXG4gICAgLm9uKCdjbGljaycsIG51bGwpO1xuICBkMy5zZWxlY3RBbGwoJ3NwYW4ubGFiZWxfY2hrJylcbiAgICAub24oJ2NsaWNrJywgbnVsbCk7XG5cbiAgLy8gUmVtb3ZlIHRoZSB0YWJsZTpcbiAgZDMuc2VsZWN0KCcuZGF0YVRhYmxlLXdyYXBwZXInKS5yZW1vdmUoKTtcblxuICAvLyBVbmJpbmQgYnV0dG9ucyBvbiB0aGUgdG9wIG9mIHRoZSBtYXA6XG4gIGQzLnNlbGVjdCgnI2hlYWRlcl9tYXAnKVxuICAgIC5zZWxlY3RBbGwoJ2ltZycpXG4gICAgLm9uKCdjbGljaycsIG51bGwpO1xuXG4gIC8vIFJlbW92ZSB0aGUgc2VsZWN0aW9uIG1lbnUgKG9yIGJ1dHRvbnMpIHVuZGVyIHRoZSBjaGFydDpcbiAgZDMuc2VsZWN0KCcjYmFyX3NlY3Rpb24gPiAjbWVudV9zZWxlY3Rpb24nKS5yZW1vdmUoKTtcblxuICAvLyBSZW1vdmVzIHRoZSBjdXJyZW50IGJlaGF2aW9yIGNvcnJlc3BvbmRpbmcgdG8gY2xpY2tpbmcgb24gdGhlIHRvcCBtZW51OlxuICBkMy5zZWxlY3RBbGwoJy50eXBlX2NoYXJ0LnRpdGxlX21lbnUnKS5vbignY2xpY2snLCBudWxsKTtcblxuICAvLyBSZW1vdmVzIHRoZSBjdXJyZW50IGJlaGF2aW9yIGNvcnJlc3BvbmRpbmcgdG8gcHJlc3NpbmcgdGhlIENvbnRyb2wga2V5OlxuICBkb2N1bWVudC5vbmtleXVwID0gbnVsbDtcbiAgZG9jdW1lbnQub25rZXlkb3duID0gbnVsbDtcbn1cblxuLyoqXG4qIEZ1bmN0aW9uIHRvIGNvbXBhcmUgdGhlIHZhbHVlIG9mIGEgZmVhdHVyZSB0byB0aGUgcmVmZXJlbmNlIHZhbHVlIChpLmUuIHRoZSB2YWx1ZSBvZiBcIm15IHJlZ2lvblwiKVxuKiBhbmQgcmV0dXJuIHRoZSBhcHByb3ByaWF0ZSBjb2xvciAoc2VyaWUgbWF5IGJlIGludmVyc2VkKVxuKlxuKiBAcGFyYW0ge051bWJlcn0gdGVzdF92YWx1ZSAtIFRoZSB2YWx1ZSB0byBiZSBjb21wYXJlZCB0byB0aGUgdmFsdWUgb2YgXCJteSByZWdpb25cIi5cbiogQHBhcmFtIHtOdW1iZXJ9IHJlZl92YWx1ZSAtIFRoZSB2YWx1ZSBvZiBteSByZWdpb24uXG4qIEBwYXJhbSB7Qm9vbGVhbn0gc2VyaWVfaW52ZXJzZWQgLSBXaGV0aGVyIHRoZSBzZXJpZSBpcyBpbnZlcnNlZCBvciBub3QgaW4gdGhlIGN1cnJlbnQgY2hhcnQuXG4qIEByZXR1cm4ge1N0cmluZ30gLSBBIHN0cmluZyBjb250YWluaW5nIHRoZSBjb2xvciB0byBiZSB1c2VkIGZvciB0aGlzIHZhbHVlLlxuKlxuKi9cbmNvbnN0IGNvbXAgPSAodGVzdF92YWx1ZSwgcmVmX3ZhbHVlLCBzZXJpZV9pbnZlcnNlZCkgPT4ge1xuICBpZiAodGVzdF92YWx1ZSA8IHJlZl92YWx1ZSkge1xuICAgIHJldHVybiBzZXJpZV9pbnZlcnNlZCA/IGNvbG9yX3N1cCA6IGNvbG9yX2luZjtcbiAgfVxuICByZXR1cm4gc2VyaWVfaW52ZXJzZWQgPyBjb2xvcl9pbmYgOiBjb2xvcl9zdXA7XG59O1xuXG5cbi8qKlxuKiBGdW5jdGlvbiB0byBjb21wYXJlIHRoZSB2YWx1ZSBvZiBhIGZlYXR1cmUgdG8gdGhlIHJlZmVyZW5jZSB2YWx1ZSAoaS5lLiB0aGUgdmFsdWUgb2YgXCJteSByZWdpb25cIilcbiogYW5kIHJldHVybiB0aGUgYXBwcm9wcmlhdGUgY29sb3IgKHNlcmllIG1heSBiZSBpbnZlcnNlZClcbipcbiogQHBhcmFtIHtOdW1iZXJ9IHZhbDEgLSBUaGUgdmFsdWUgdG8gYmUgY29tcGFyZWQgdG8gdGhlIHZhbHVlIG9mIFwibXkgcmVnaW9uXCIgZm9yIHRoZSAxc3QgdmFyaWFibGUuXG4qIEBwYXJhbSB7TnVtYmVyfSB2YWwyIC0gVGhlIHZhbHVlIHRvIGJlIGNvbXBhcmVkIHRvIHRoZSB2YWx1ZSBvZiBcIm15IHJlZ2lvblwiIGZvciB0aGUgMm5kIHZhcmlhYmxlLlxuKiBAcGFyYW0ge051bWJlcn0gcmVmX3ZhbDEgLSBUaGUgdmFsdWUgb2YgbXkgcmVnaW9uIGZvciBoZSBmaXJzdCB2YXJpYWJsZS5cbiogQHBhcmFtIHtOdW1iZXJ9IHJlZl92YWwyIC0gVGhlIHZhbHVlIG9mIG15IHJlZ2lvbiBmb3IgdGhlIHNlY29uZCB2YXJpYWJsZS5cbiogQHBhcmFtIHtCb29sZWFufSB4SW52ZXJzZWQgLSBXaGV0aGVyIHRoZSBzZXJpZSBpcyBpbnZlcnNlZCBvbiB0aGUgeCBheGlzIGluIHRoZSBjdXJyZW50IGNoYXJ0LlxuKiBAcGFyYW0ge0Jvb2xlYW59IHlJbnZlcnNlZCAtIFdoZXRoZXIgdGhlIHNlcmllIGlzIGludmVyc2VkIG9uIHRoZSB5IGF4aXMgaW4gdGhlIGN1cnJlbnQgY2hhcnQuXG4qIEByZXR1cm4ge1N0cmluZ30gLSBBIHN0cmluZyBjb250YWluaW5nIHRoZSBjb2xvciB0byBiZSB1c2VkIGZvciB0aGVzZXMgdmFsdWVzLlxuKlxuKi9cbmNvbnN0IGNvbXAyID0gKHZhbDEsIHZhbDIsIHJlZl92YWwxLCByZWZfdmFsMiwgeEludmVyc2VkLCB5SW52ZXJzZWQpID0+IHtcbiAgaWYgKCh2YWwxIDwgcmVmX3ZhbDEgJiYgIXhJbnZlcnNlZCkgfHwgKHZhbDEgPiByZWZfdmFsMSAmJiB4SW52ZXJzZWQpKSB7IC8vIHZhbDEgaXMgaW5mZXJpb3I6XG4gICAgaWYgKHZhbDIgPCByZWZfdmFsMikge1xuICAgICAgcmV0dXJuIHlJbnZlcnNlZCA/ICdyZ2IoMTYwLCAzMCwgMTYwKScgOiBjb2xvcl9pbmY7XG4gICAgfVxuICAgIHJldHVybiB5SW52ZXJzZWQgPyBjb2xvcl9pbmYgOiAncmdiKDE2MCwgMzAsIDE2MCknO1xuICB9XG4gIC8vIHZhbDEgaXMgc3VwZXJpb3IgOlxuICBpZiAodmFsMiA+IHJlZl92YWwyKSB7XG4gICAgcmV0dXJuICF5SW52ZXJzZWQgPyBjb2xvcl9zdXAgOiAnb3JhbmdlJztcbiAgfVxuICByZXR1cm4gIXlJbnZlcnNlZCA/ICdvcmFuZ2UnIDogY29sb3Jfc3VwO1xufTtcblxuY2xhc3MgUmVjdCB7XG4gIGNvbnN0cnVjdG9yKHRvcGxlZnQsIGJvdHRvbXJpZ2h0KSB7XG4gICAgdGhpcy54bWluID0gdG9wbGVmdFswXTtcbiAgICB0aGlzLnhtYXggPSBib3R0b21yaWdodFswXTtcbiAgICB0aGlzLnltaW4gPSB0b3BsZWZ0WzFdO1xuICAgIHRoaXMueW1heCA9IGJvdHRvbXJpZ2h0WzFdO1xuICB9XG5cbiAgY29udGFpbnMocHQpIHtcbiAgICBpZiAocHRbMF0gPj0gdGhpcy54bWluICYmIHB0WzBdIDw9IHRoaXMueG1heFxuICAgICAgICAmJiBwdFsxXSA+PSB0aGlzLnltaW4gJiYgcHRbMV0gPD0gdGhpcy55bWF4KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmNvbnN0IFByb3BTaXplciA9IGZ1bmN0aW9uIFByb3BTaXplcihmaXhlZF92YWx1ZSwgZml4ZWRfc2l6ZSkge1xuICB0aGlzLmZpeGVkX3ZhbHVlID0gZml4ZWRfdmFsdWU7XG4gIGNvbnN0IHNxcnQgPSBNYXRoLnNxcnQ7XG4gIGNvbnN0IGFicyA9IE1hdGguYWJzO1xuICBjb25zdCBQSSA9IE1hdGguUEk7XG4gIHRoaXMuc21heCA9IGZpeGVkX3NpemUgKiBmaXhlZF9zaXplICogUEk7XG4gIHRoaXMuc2NhbGUgPSB2YWwgPT4gc3FydChhYnModmFsKSAqIHRoaXMuc21heCAvIHRoaXMuZml4ZWRfdmFsdWUpIC8gUEk7XG4gIC8vIHRoaXMuZ2V0X3ZhbHVlID0gc2l6ZSA9PiAoKHNpemUgKiBQSSkgKiogMikgLyB0aGlzLnNtYXggKiB0aGlzLmZpeGVkX3ZhbHVlO1xuICAvLyBVc2UgTWF0aCBwb3cgdG8gc3VwcG9ydCBicm93c2VyIHdpdGhvdXQgKiogb3BlcmF0b3I6XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXByb3BlcnRpZXNcbiAgdGhpcy5nZXRfdmFsdWUgPSBzaXplID0+IE1hdGgucG93KHNpemUgKiBQSSwgMikgLyB0aGlzLnNtYXggKiB0aGlzLmZpeGVkX3ZhbHVlO1xufTtcblxuY29uc3QgcmVtb3ZlRHVwbGljYXRlcyA9IGZ1bmN0aW9uIHJlbW92ZUR1cGxpY2F0ZXMoYXJyKSB7XG4gIGNvbnN0IHRtcCA9IFtdO1xuICBmb3IgKGxldCBpID0gMCwgbGVuX2FyciA9IGFyci5sZW5ndGg7IGkgPCBsZW5fYXJyOyBpKyspIHtcbiAgICBpZiAodG1wLmluZGV4T2YoYXJyW2ldKSA9PT0gLTEpIHtcbiAgICAgIHRtcC5wdXNoKGFycltpXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB0bXA7XG59O1xuXG5jb25zdCBnZXRTdmdQYXRoVHlwZSA9IChwYXRoKSA9PiB7XG4gIGlmIChwYXRoLmluZGV4T2YoJ00gJykgPiAtMSAmJiBwYXRoLmluZGV4T2YoJyBMICcpID4gLTEpIHtcbiAgICByZXR1cm4gMjtcbiAgfVxuICByZXR1cm4gMTtcbn07XG5cbmNvbnN0IHN2Z1BhdGhUb0Nvb3JkcyA9IChwYXRoLCB0eXBlX3BhdGgpID0+IHtcbiAgaWYgKHR5cGVfcGF0aCA9PT0gMSkge1xuICAgIHJldHVybiBwYXRoLnNsaWNlKDEpLnNwbGl0KCdMJykubWFwKHB0ID0+IHB0LnNwbGl0KCcsJykubWFwKGEgPT4gK2EpKTtcbiAgfVxuICByZXR1cm4gcGF0aC5zbGljZSgyKS5zcGxpdCgnIEwgJykubWFwKHB0ID0+IHB0LnNwbGl0KCcgJykubWFwKGEgPT4gK2EpKTtcbn07XG5cbmZ1bmN0aW9uIGNvbXB1dGVQZXJjZW50aWxlUmFuayhvYmosIGZpZWxkX25hbWUsIHJlc3VsdF9maWVsZF9uYW1lKSB7XG4gIGNvbnN0IHZhbHVlcyA9IG9iai5tYXAoZCA9PiBkW2ZpZWxkX25hbWVdKTtcbiAgY29uc3QgbGVuX3ZhbHVlcyA9IHZhbHVlcy5sZW5ndGg7XG4gIGNvbnN0IGdldFBSID0gKHYpID0+IHtcbiAgICBsZXQgY291bnQgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuX3ZhbHVlczsgaSsrKSB7XG4gICAgICBpZiAodmFsdWVzW2ldIDw9IHYpIHtcbiAgICAgICAgY291bnQgKz0gMTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIDEwMCAqIGNvdW50IC8gbGVuX3ZhbHVlcztcbiAgfTtcbiAgZm9yIChsZXQgaXggPSAwOyBpeCA8IGxlbl92YWx1ZXM7IGl4KyspIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICBvYmpbaXhdW3Jlc3VsdF9maWVsZF9uYW1lXSA9IGdldFBSKHZhbHVlc1tpeF0pO1xuICB9XG59XG5cbmNvbnN0IF9nZXRQUiA9ICh2LCBzZXJpZSkgPT4ge1xuICBsZXQgY291bnQgPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNlcmllLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHNlcmllW2ldIDw9IHYpIHtcbiAgICAgIGNvdW50ICs9IDE7XG4gICAgfVxuICB9XG4gIHJldHVybiAxMDAgKiBjb3VudCAvIHNlcmllLmxlbmd0aDtcbn07XG5cbmNvbnN0IGdldE1lYW4gPSAoc2VyaWUpID0+IHtcbiAgY29uc3QgbmJfdmFsdWVzID0gc2VyaWUubGVuZ3RoO1xuICBsZXQgc3VtID0gMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYl92YWx1ZXM7IGkrKykge1xuICAgIHN1bSArPSBzZXJpZVtpXTtcbiAgfVxuICByZXR1cm4gc3VtIC8gbmJfdmFsdWVzO1xufTtcblxuY29uc3QgZ2V0U3RkRGV2ID0gKHNlcmllLCBtZWFuX3ZhbHVlKSA9PiB7XG4gIGNvbnN0IG5iX3ZhbHVlcyA9IHNlcmllLmxlbmd0aDtcbiAgaWYgKCFtZWFuX3ZhbHVlKSB7XG4gICAgbWVhbl92YWx1ZSA9IGdldE1lYW4oc2VyaWUpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIH1cbiAgbGV0IHN1bSA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbmJfdmFsdWVzOyBpKyspIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1wcm9wZXJ0aWVzXG4gICAgc3VtICs9IG1hdGhfcG93KHNlcmllW2ldIC0gbWVhbl92YWx1ZSwgMik7XG4gIH1cbiAgcmV0dXJuIG1hdGhfc3FydCgoMSAvIG5iX3ZhbHVlcykgKiBzdW0pO1xufTtcblxuY29uc3QgZ2V0U3RhbmRhcmRpemVkTWVhblN0ZERldiA9IChzZXJpZSkgPT4ge1xuICBjb25zdCBtZWFuID0gZ2V0TWVhbihzZXJpZSk7XG4gIGNvbnN0IHN0ZGRldiA9IGdldFN0ZERldihzZXJpZSwgbWVhbik7XG4gIHJldHVybiBzZXJpZS5tYXAodmFsID0+ICh2YWwgLSBtZWFuKSAvIHN0ZGRldik7XG59O1xuXG5jb25zdCBzaHVmZmxlID0gKGFycmF5KSA9PiB7XG4gIGZvciAobGV0IGkgPSBhcnJheS5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7XG4gICAgY29uc3QgaiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChpICsgMSkpO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIFthcnJheVtpXSwgYXJyYXlbal1dID0gW2FycmF5W2pdLCBhcnJheVtpXV07XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufTtcblxuZnVuY3Rpb24gZXVjbGlkaWFuX2Rpc3RhbmNlKGZlYXR1cmUxLCBmZWF0dXJlMikge1xuICBjb25zdCBbeDEsIHkxXSA9IGZlYXR1cmUxLmdlb21ldHJ5LmNvb3JkaW5hdGVzO1xuICBjb25zdCBbeDIsIHkyXSA9IGZlYXR1cmUyLmdlb21ldHJ5LmNvb3JkaW5hdGVzO1xuICBjb25zdCBhID0geDEgLSB4MjtcbiAgY29uc3QgYiA9IHkxIC0geTI7XG4gIHJldHVybiBtYXRoX3NxcnQoYSAqIGEgKyBiICogYik7XG59XG5cbi8qKlxuKiBGdW5jdGlvbiB0byBzZWxlY3QgdGhlIGZpcnN0IHZhcmlhYmxlIG9uIHRoZSBsZWZ0IG1lbnVcbiogKHRyaWdnZXJlZCBhZnRlciBjaGFuZ2luZyByZWdpb24sIGlmIG5vIG1vcmUgdmFyaWFibGUgd2FzIHNlbGVjdGVkKVxuKlxuKiBAcmV0dXJuIHt2b2lkfVxuKi9cbmZ1bmN0aW9uIHNlbGVjdEZpcnN0QXZhaWxhYmxlVmFyKCkge1xuICBjb25zdCBtZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21lbnUnKTtcbiAgY29uc3QgdiA9IG1lbnUucXVlcnlTZWxlY3RvckFsbCgnLnRhcmdldF92YXJpYWJsZScpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHYubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIXZbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXNhYmxlZCcpKSB7XG4gICAgICB2W2ldLmNsYXNzTGlzdC5hZGQoJ2NoZWNrZWQnKTtcbiAgICAgIHJldHVybiB2W2ldLmdldEF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHtcbiAgY29tcCxcbiAgY29tcDIsXG4gIG1hdGhfYWJzLFxuICBtYXRoX3JvdW5kLFxuICBtYXRoX3NpbixcbiAgbWF0aF9jb3MsXG4gIG1hdGhfbWF4LFxuICBtYXRoX3NxcnQsXG4gIG1hdGhfcG93LFxuICBIQUxGX1BJLFxuICBSZWN0LFxuICBQcm9wU2l6ZXIsXG4gIHVuYmluZFVJLFxuICBwcmVwYXJlVG9vbHRpcCxcbiAgcmVtb3ZlRHVwbGljYXRlcyxcbiAgZ2V0U3ZnUGF0aFR5cGUsXG4gIHN2Z1BhdGhUb0Nvb3JkcyxcbiAgY29tcHV0ZVBlcmNlbnRpbGVSYW5rLFxuICBfZ2V0UFIsXG4gIGdldE1lYW4sXG4gIGdldFN0ZERldixcbiAgZ2V0U3RhbmRhcmRpemVkTWVhblN0ZERldixcbiAgc2h1ZmZsZSxcbiAgZXVjbGlkaWFuX2Rpc3RhbmNlLFxuICBzZWxlY3RGaXJzdEF2YWlsYWJsZVZhcixcbn07XG4iLCJpbXBvcnQgeyByZW1vdmVEdXBsaWNhdGVzIH0gZnJvbSAnLi9oZWxwZXJzJztcblxuY29uc3QgY3JlYXRlTWVudSA9IGZ1bmN0aW9uIGNyZWF0ZU1lbnUobmFtZXMsIHZhcmlhYmxlcywgc3R1ZHlfem9uZXMsIHRlcnJpdG9yaWFsX21lc2gpIHtcbiAgLy8gRmlyc3Qgc2VjdGlvbiwgcmVnaW9ucyBuYW1lczpcbiAgY29uc3QgdGl0bGVfc2VjdGlvbjEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gIHRpdGxlX3NlY3Rpb24xLmNsYXNzTmFtZSA9ICd0aXRsZV9tZW51JztcbiAgdGl0bGVfc2VjdGlvbjEuaW5uZXJIVE1MID0gJ01hIHLDqWdpb24nO1xuICBjb25zdCBzZWN0aW9uMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBzZWN0aW9uMS5jbGFzc05hbWUgPSAnYm94JztcbiAgc2VjdGlvbjEuc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7XG4gIHNlY3Rpb24xLnN0eWxlLmhlaWdodCA9ICcxODBweCc7XG4gIGZvciAobGV0IGkgPSAwLCBsZW5faSA9IG5hbWVzLmxlbmd0aDsgaSA8IGxlbl9pOyBpKyspIHtcbiAgICBjb25zdCBpZCA9IG5hbWVzW2ldLmdlbztcbiAgICBjb25zdCBuYW1lID0gbmFtZXNbaV0uTm9tO1xuICAgIGNvbnN0IGVudHJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGVudHJ5LmlubmVySFRNTCA9IGA8c3BhbiB2YWx1ZT1cIiR7aWR9XCIgY2xhc3M9J3RhcmdldF9yZWdpb24gc3F1YXJlJz48L3NwYW4+PHNwYW4gY2xhc3M9XCJsYWJlbF9jaGtcIj4ke25hbWV9PC9zcGFuPmA7XG4gICAgc2VjdGlvbjEuYXBwZW5kQ2hpbGQoZW50cnkpO1xuICB9XG5cbiAgLy8gU2Vjb25kIHNlY3Rpb24sIGdyb3VwcyBvZiB2YXJpYWJsZXM6XG4gIGNvbnN0IHRpdGxlX3NlY3Rpb24yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICB0aXRsZV9zZWN0aW9uMi5jbGFzc05hbWUgPSAndGl0bGVfbWVudSc7XG4gIHRpdGxlX3NlY3Rpb24yLmlubmVySFRNTCA9ICdNb24vbWVzIGluZGljYXRldXJzJztcbiAgY29uc3Qgc2VjdGlvbjIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgc2VjdGlvbjIuaWQgPSAnbWVudV92YXJpYWJsZXMnO1xuICBzZWN0aW9uMi5jbGFzc05hbWUgPSAnYm94JztcbiAgc2VjdGlvbjIuc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7XG4gIHNlY3Rpb24yLnN0eWxlLmhlaWdodCA9ICcxNzBweCc7XG5cbiAgLy8gRmlsdGVyIHRoZSBcInZhcmlhYmxlc1wiIHZhcmlhYmxlIHRvIGZldGNoIHRoZSBncm91cCBuYW1lcyA6XG4gIGNvbnN0IGdyb3Vwc192YXIgPSByZW1vdmVEdXBsaWNhdGVzKHZhcmlhYmxlcy5tYXAoZCA9PiBkLmdyb3VwKS5maWx0ZXIoZCA9PiBkICE9PSAnTnVtL2TDqW5vbScpKTtcblxuICBmb3IgKGxldCBpID0gMCwgbGVuX2kgPSBncm91cHNfdmFyLmxlbmd0aDsgaSA8IGxlbl9pOyBpKyspIHtcbiAgICBjb25zdCBncF9uYW1lID0gZ3JvdXBzX3ZhcltpXTtcbiAgICBjb25zdCBlbnRyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBlbnRyeS5jbGFzc05hbWUgPSAnbmFtZV9ncm91cF92YXInO1xuICAgIGVudHJ5LmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz0nc3F1YXJlJz48L3NwYW4+PHNwYW4+JHtncF9uYW1lfTwvc3Bhbj5gO1xuICAgIHNlY3Rpb24yLmFwcGVuZENoaWxkKGVudHJ5KTtcbiAgICBjb25zdCBkaXZfZ3JwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGl2X2dycC5zdHlsZS5kaXNwbGF5ID0gaSA9PT0gMCA/IG51bGwgOiAnbm9uZSc7XG4gICAgY29uc3QgdmFyX25hbWVzID0gdmFyaWFibGVzLmZpbHRlcihkID0+IGQuZ3JvdXAgPT09IGdwX25hbWUpO1xuICAgIGZvciAobGV0IGogPSAwLCBsZW5faiA9IHZhcl9uYW1lcy5sZW5ndGg7IGogPCBsZW5fajsgaisrKSB7XG4gICAgICBjb25zdCBuYW1lX3ZhciA9IHZhcl9uYW1lc1tqXS5uYW1lO1xuICAgICAgY29uc3QgY29kZV92YXIgPSB2YXJfbmFtZXNbal0ucmF0aW87XG4gICAgICBjb25zdCBzdWJfZW50cnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICBzdWJfZW50cnkuY2xhc3NOYW1lID0gJ3NtYWxsJztcbiAgICAgIHN1Yl9lbnRyeS5pbm5lckhUTUwgPSBgPHNwYW4gdmFsdWU9XCIke2NvZGVfdmFyfVwiIGNsYXNzPVwidGFyZ2V0X3ZhcmlhYmxlIHNtYWxsX3NxdWFyZVwiPjwvc3Bhbj48c3BhbiBjbGFzcz1cImxhYmVsX2Noa1wiPiR7bmFtZV92YXJ9PC9zcGFuPjxzcGFuIGNsYXNzPVwiaV9pbmZvXCI+aTwvc3Bhbj5gO1xuICAgICAgZGl2X2dycC5hcHBlbmRDaGlsZChzdWJfZW50cnkpO1xuICAgIH1cbiAgICBzZWN0aW9uMi5hcHBlbmRDaGlsZChkaXZfZ3JwKTtcbiAgfVxuXG4gIC8vIFRoaXJkIHNlY3Rpb24sIHN0dWR5IHpvbmU6XG4gIGNvbnN0IHRpdGxlX3NlY3Rpb24zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICB0aXRsZV9zZWN0aW9uMy5jbGFzc05hbWUgPSAndGl0bGVfbWVudSc7XG4gIHRpdGxlX3NlY3Rpb24zLmlubmVySFRNTCA9ICdNb24gZXNwYWNlIGRcXCfDqXR1ZGUnO1xuICBjb25zdCBzZWN0aW9uMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBzZWN0aW9uMy5pZCA9ICdtZW51X3N0dWR5em9uZSc7XG4gIHNlY3Rpb24zLmNsYXNzTmFtZSA9ICdib3gnO1xuICBmb3IgKGxldCBpID0gMCwgbGVuX2kgPSBzdHVkeV96b25lcy5sZW5ndGg7IGkgPCBsZW5faTsgaSsrKSB7XG4gICAgY29uc3QgZW50cnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgY29uc3Qgem9uZSA9IHN0dWR5X3pvbmVzW2ldO1xuICAgIGlmICh6b25lLmlkID09PSAnZmlsdGVyX2Rpc3QnKSB7XG4gICAgICBlbnRyeS5pbm5lckhUTUwgPSBgPHNwYW4gZmlsdGVyLXZhbHVlPVwiJHt6b25lLmlkfVwiIGNsYXNzPSdmaWx0ZXJfdiBzcXVhcmUnPjwvc3Bhbj48c3BhbiBjbGFzcz1cImxhYmVsX2Noa1wiPiR7em9uZS5uYW1lfTwvc3Bhbj48aW5wdXQgdmFsdWU9XCI0NTBcIiBkaXNhYmxlZD1cImRpc2FibGVkXCIgc3R5bGU9XCJ3aWR0aDogNTVweDsgaGVpZ2h0OiAxM3B4O1wiIHR5cGU9XCJudW1iZXJcIiBtaW49XCIwXCIgbWF4PVwiMTAwMDAwXCIgaWQ9XCJkaXN0X2ZpbHRlclwiPjwvaW5wdXQ+PHNwYW4+IGttPC9zcGFuPjxzcGFuIGNsYXNzPVwiaV9pbmZvXCI+aTwvc3Bhbj5gO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbnRyeS5pbm5lckhUTUwgPSBgPHNwYW4gZmlsdGVyLXZhbHVlPVwiJHt6b25lLmlkfVwiIGNsYXNzPSdmaWx0ZXJfdiBzcXVhcmUnPjwvc3Bhbj48c3BhbiBjbGFzcz1cImxhYmVsX2Noa1wiPiR7em9uZS5uYW1lfTwvc3Bhbj48c3BhbiBjbGFzcz1cImlfaW5mb1wiPmk8L3NwYW4+YDtcbiAgICB9XG4gICAgc2VjdGlvbjMuYXBwZW5kQ2hpbGQoZW50cnkpO1xuICB9XG5cbiAgLy8gRm91cnRoIHNlY3Rpb246XG4gIGNvbnN0IHRpdGxlX3NlY3Rpb240ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICB0aXRsZV9zZWN0aW9uNC5jbGFzc05hbWUgPSAndGl0bGVfbWVudSc7XG4gIHRpdGxlX3NlY3Rpb240LmlubmVySFRNTCA9ICdNYWlsbGFnZSB0ZXJyaXRvcmlhbCBkXFwnYW5hbHlzZSc7XG4gIGNvbnN0IHNlY3Rpb240ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHNlY3Rpb240LmlkID0gJ21lbnVfdGVycml0X2xldmVsJztcbiAgc2VjdGlvbjQuY2xhc3NOYW1lID0gJ2JveCc7XG4gIGZvciAobGV0IGkgPSAwLCBsZW5faSA9IHRlcnJpdG9yaWFsX21lc2gubGVuZ3RoOyBpIDwgbGVuX2k7IGkrKykge1xuICAgIGNvbnN0IGVudHJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGNvbnN0IHRlcnJpdF9sZXZlbCA9IHRlcnJpdG9yaWFsX21lc2hbaV07XG4gICAgZW50cnkuaW5uZXJIVE1MID0gYDxzcGFuIHZhbHVlPVwiJHt0ZXJyaXRfbGV2ZWwuaWR9XCIgY2xhc3M9J3RlcnJpdF9sZXZlbCBzcXVhcmUnPjwvc3Bhbj48c3BhbiBjbGFzcz1cImxhYmVsX2Noa1wiPiR7dGVycml0X2xldmVsLm5hbWV9PC9zcGFuPjxzcGFuIGNsYXNzPVwiaV9pbmZvXCI+aTwvc3Bhbj5gO1xuICAgIHNlY3Rpb240LmFwcGVuZENoaWxkKGVudHJ5KTtcbiAgfVxuXG4gIC8vIFRoZSBhY3R1YWwgbWVudSBjb250YWluaW5nIHRoZXNlIDQgc2VjdGlvbnM6XG4gIGNvbnN0IG1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVudScpO1xuICBtZW51LmlkID0gJ21lbnUnO1xuICBtZW51LnN0eWxlLndpZHRoID0gJzM0MHB4JztcbiAgbWVudS5zdHlsZS5mbG9hdCA9ICdsZWZ0JztcbiAgbWVudS5hcHBlbmRDaGlsZCh0aXRsZV9zZWN0aW9uMSk7XG4gIG1lbnUuYXBwZW5kQ2hpbGQoc2VjdGlvbjEpO1xuICBtZW51LmFwcGVuZENoaWxkKHRpdGxlX3NlY3Rpb24yKTtcbiAgbWVudS5hcHBlbmRDaGlsZChzZWN0aW9uMik7XG4gIG1lbnUuYXBwZW5kQ2hpbGQodGl0bGVfc2VjdGlvbjMpO1xuICBtZW51LmFwcGVuZENoaWxkKHNlY3Rpb24zKTtcbiAgbWVudS5hcHBlbmRDaGlsZCh0aXRsZV9zZWN0aW9uNCk7XG4gIG1lbnUuYXBwZW5kQ2hpbGQoc2VjdGlvbjQpO1xufTtcblxuZXhwb3J0IHsgY3JlYXRlTWVudSB9O1xuIiwiaW1wb3J0IHsgYXBwIH0gZnJvbSAnLi8uLi9tYWluJztcblxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZVRvcE1lbnUoKSB7XG4gIGNvbnN0IHRvcF9tZW51ID0gZDMuc2VsZWN0KCcjbWVudXRvcCcpXG4gICAgLnN0eWxlcyh7ICdmb250LWZhbWlseSc6IFwiJ1NpZ25pa2EnLCBzYW5zLXNlcmlmXCIsICdmb250LXNpemUnOiAnMC44MGVtJywgcGFkZGluZzogJzAuM3B4JyB9KTtcbiAgY29uc3Qgd2lkdGhfbGVmdCA9IGAke2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtZW51JykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKyAyNX1weGA7XG4gIGNvbnN0IHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYmFyX3NlY3Rpb24nKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgY29uc3Qgd2lkdGhfY2VudHJhbF9jaGFydCA9IGAke3R9cHhgO1xuICBjb25zdCB3aWR0aF9tYXAgPSBgJHtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWFwX3NlY3Rpb24nKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCAtIDM1fXB4YDtcbiAgY29uc3Qgd2lkdGhfdHlwZV9jb21wID0gYCR7KHQgLSA4MCkgLyAyIC0gMn1weGA7XG4gIHRvcF9tZW51XG4gICAgLmFwcGVuZCgnZGl2JylcbiAgICAuYXR0cnMoeyBjbGFzczogJ3RpdGxlX3NlY3Rpb24nIH0pXG4gICAgLnN0eWxlcyh7IHdpZHRoOiB3aWR0aF9sZWZ0LCBmbG9hdDogJ2xlZnQnLCBtYXJnaW46ICcwIDNweCcgfSlcbiAgICAuaHRtbCgnU8OJTEVDVElPTicpO1xuXG4gIGNvbnN0IHR5cGVfY2hhcnQgPSB0b3BfbWVudVxuICAgIC5hcHBlbmQoJ2RpdicpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ3RvcF9zZWN0aW9uJylcbiAgICAuc3R5bGVzKHsgd2lkdGg6IHdpZHRoX2NlbnRyYWxfY2hhcnQsIGZsb2F0OiAnbGVmdCcsIG1hcmdpbjogJzAgM3B4JywgJ3RleHQtYWxpZ24nOiAnY2VudGVyJyB9KTtcblxuICBjb25zdCBwb3NpdGlvbiA9IHR5cGVfY2hhcnRcbiAgICAuYXBwZW5kKCdkaXYnKVxuICAgIC5hdHRyKCdjbGFzcycsICd0eXBlX2NvbXBhcmFpc29uJylcbiAgICAuc3R5bGVzKHsgd2lkdGg6IHdpZHRoX3R5cGVfY29tcCB9KTtcblxuICBwb3NpdGlvbi5hcHBlbmQoJ3AnKVxuICAgIC5hdHRyKCdjbGFzcycsICd0aXRsZV90eXBlX2NvbXAnKVxuICAgIC5odG1sKCdQT1NJVElPTicpO1xuXG4gIHBvc2l0aW9uLmFwcGVuZCgnc3BhbicpXG4gICAgLmF0dHJzKHsgY2xhc3M6ICd0eXBlX2NoYXJ0IGNoYXJ0X3QxIHNlbGVjdGVkJywgdmFsdWU6ICdCYXJDaGFydDEnIH0pXG4gICAgLmh0bWwoJzEgaW5kLicpO1xuXG4gIHBvc2l0aW9uLmFwcGVuZCgnc3BhbicpXG4gICAgLmF0dHJzKHsgY2xhc3M6ICd0eXBlX2NoYXJ0IGNoYXJ0X3QyIGRpc2FibGVkJywgdmFsdWU6ICdTY2F0dGVyUGxvdDInIH0pXG4gICAgLmh0bWwoJzIgaW5kLicpO1xuXG4gIHBvc2l0aW9uLmFwcGVuZCgnc3BhbicpXG4gICAgLmF0dHJzKHsgY2xhc3M6ICd0eXBlX2NoYXJ0IGNoYXJ0X3QzIGRpc2FibGVkJywgdmFsdWU6ICdSYWRhckNoYXJ0MycgfSlcbiAgICAuaHRtbCgnKzMgaW5kLicpO1xuXG4gIGNvbnN0IHJlc3NlbWJsYW5jZSA9IHR5cGVfY2hhcnRcbiAgICAuYXBwZW5kKCdkaXYnKVxuICAgIC5hdHRyKCdjbGFzcycsICd0eXBlX2NvbXBhcmFpc29uJylcbiAgICAuc3R5bGVzKHsgd2lkdGg6IHdpZHRoX3R5cGVfY29tcCB9KTtcblxuICByZXNzZW1ibGFuY2UuYXBwZW5kKCdwJylcbiAgICAuYXR0cignY2xhc3MnLCAndGl0bGVfdHlwZV9jb21wJylcbiAgICAuaHRtbCgnUkVTU0VNQkxBTkNFUycpO1xuXG4gIC8vIHJlc3NlbWJsYW5jZS5hcHBlbmQoJ3NwYW4nKVxuICAvLyAgIC5hdHRycyh7IGNsYXNzOiAndHlwZV9jaGFydCBjaGFydF90MScsIHZhbHVlOiAnQnViYmxlQ2hhcnQxJyB9KVxuICAvLyAgIC5odG1sKCcxIGluZC4nKTtcbiAgLy9cbiAgLy8gcmVzc2VtYmxhbmNlLmFwcGVuZCgnc3BhbicpXG4gIC8vICAgLmF0dHJzKHsgY2xhc3M6ICd0eXBlX2NoYXJ0IGNoYXJ0X3QyIGRpc2FibGVkJywgdmFsdWU6ICdTaW1pbGFyaXR5Q2hhcnQnIH0pXG4gIC8vICAgLmh0bWwoJysyIGluZC4nKTtcblxuICByZXNzZW1ibGFuY2UuYXBwZW5kKCdzcGFuJylcbiAgICAuYXR0cnMoeyBjbGFzczogJ3R5cGVfY2hhcnQgY2hhcnRfdDEnLCB2YWx1ZTogJ1NpbWlsYXJpdHkxcGx1cycgfSlcbiAgICAuaHRtbCgnKzEgaW5kLicpO1xuXG4gIC8vIGNvbnN0IGluZWdhbGl0ZSA9IHR5cGVfY2hhcnRcbiAgLy8gICAuYXBwZW5kKCdkaXYnKVxuICAvLyAgIC5hdHRyKCdjbGFzcycsICd0eXBlX2NvbXBhcmFpc29uJylcbiAgLy8gICAuc3R5bGVzKHsgd2lkdGg6IHdpZHRoX3R5cGVfY29tcCB9KTtcbiAgLy9cbiAgLy8gaW5lZ2FsaXRlLmFwcGVuZCgncCcpXG4gIC8vICAgLmF0dHIoJ2NsYXNzJywgJ3RpdGxlX3R5cGVfY29tcCcpXG4gIC8vICAgLmh0bWwoJ0lOw4lHQUxJVMOJUycpO1xuICAvL1xuICAvLyBpbmVnYWxpdGUuYXBwZW5kKCdzcGFuJylcbiAgLy8gICAuYXR0cnMoeyBjbGFzczogJ3R5cGVfY2hhcnQgY2hhcnRfdDEnLCB2YWx1ZTogJ0JveFBsb3QxJyB9KVxuICAvLyAgIC5odG1sKCcxIGluZC4nKTtcbiAgLy9cbiAgLy8gaW5lZ2FsaXRlLmFwcGVuZCgnc3BhbicpXG4gIC8vICAgLmF0dHJzKHsgY2xhc3M6ICd0eXBlX2NoYXJ0IGNoYXJ0X3QyIGRpc2FibGVkJywgdmFsdWU6ICdQYXJhbGxlbENvb3JkczInIH0pXG4gIC8vICAgLmh0bWwoJysyIGluZC4nKTtcblxuICB0b3BfbWVudVxuICAgIC5hcHBlbmQoJ2RpdicpXG4gICAgLmF0dHJzKHsgY2xhc3M6ICd0aXRsZV9zZWN0aW9uJyB9KVxuICAgIC5zdHlsZXMoeyB3aWR0aDogd2lkdGhfbWFwLCBmbG9hdDogJ2xlZnQnLCBtYXJnaW46ICcwIDAgMCAyMHB4JyB9KVxuICAgIC5odG1sKCdRVUVMTEVTIFJFR0lPTlMgPycpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZUhlYWRlck1hcFNlY3Rpb24oKSB7XG4gIGNvbnN0IGhlYWRlcl9tYXBfc2VjdGlvbiA9IGQzLnNlbGVjdCgnI21hcF9zZWN0aW9uJylcbiAgICAuaW5zZXJ0KCdwJywgJ3N2ZycpXG4gICAgLmF0dHIoJ2lkJywgJ2hlYWRlcl9tYXAnKVxuICAgIC5zdHlsZSgnbWFyZ2luJywgJzAgMCAwIDEwcHgnKTtcblxuICBoZWFkZXJfbWFwX3NlY3Rpb24uaW5zZXJ0KCdpbWcnKVxuICAgIC5hdHRycyh7XG4gICAgICBjbGFzczogJ21hcF9idXR0b24gYWN0aXZlJyxcbiAgICAgIHdpZHRoOiAyMCxcbiAgICAgIGhlaWdodDogMjAsXG4gICAgICBzcmM6ICdpbWcvZ2ltcC10b29sLXJlY3Qtc2VsZWN0LnBuZycsXG4gICAgICBpZDogJ2ltZ19yZWN0X3NlbGVjJyxcbiAgICB9KTtcblxuICBoZWFkZXJfbWFwX3NlY3Rpb24uaW5zZXJ0KCdpbWcnKVxuICAgIC5hdHRycyh7XG4gICAgICBjbGFzczogJ21hcF9idXR0b24nLFxuICAgICAgd2lkdGg6IDIwLFxuICAgICAgaGVpZ2h0OiAyMCxcbiAgICAgIHNyYzogJ2ltZy9naW1wLXRvb2wtem9vbS5wbmcnLFxuICAgICAgaWQ6ICdpbWdfbWFwX3pvb20nLFxuICAgIH0pO1xuXG4gIGhlYWRlcl9tYXBfc2VjdGlvbi5pbnNlcnQoJ2ltZycpXG4gICAgLmF0dHJzKHtcbiAgICAgIGNsYXNzOiAnbWFwX2J1dHRvbicsXG4gICAgICB3aWR0aDogMjAsXG4gICAgICBoZWlnaHQ6IDIwLFxuICAgICAgc3JjOiAnaW1nL2dpbXAtY3Vyc29yLnBuZycsXG4gICAgICBpZDogJ2ltZ19tYXBfc2VsZWN0JyxcbiAgICB9KTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZUhlYWRlckNoYXJ0KCkge1xuICBjb25zdCBoZWFkZXJfYmFyX3NlY3Rpb24gPSBkMy5zZWxlY3QoJyNiYXJfc2VjdGlvbicpXG4gICAgLmluc2VydCgncCcsICdzdmcnKVxuICAgIC5hdHRyKCdpZCcsICdoZWFkZXJfY2hhcnQnKVxuICAgIC5zdHlsZSgnbWFyZ2luLWJvdHRvbScsICcwJylcbiAgICAuc3R5bGUoJ2NsZWFyJywgJ2JvdGgnKTtcblxuICBoZWFkZXJfYmFyX3NlY3Rpb24uaW5zZXJ0KCdpbWcnKVxuICAgIC5hdHRycyh7XG4gICAgICB3aWR0aDogMjQsXG4gICAgICBoZWlnaHQ6IDI0LFxuICAgICAgc3JjOiAnaW1nL2VkaXQtdGFibGUtaW5zZXJ0LXJvdy1hYm92ZS5zdmcnLFxuICAgICAgaWQ6ICdpbWdfdGFibGUnLFxuICAgIH0pXG4gICAgLnN0eWxlcyh7IG1hcmdpbjogJzNweCcsIGZsb2F0OiAncmlnaHQnIH0pXG4gICAgLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbHVtbnMgPSBPYmplY3Qua2V5cyhhcHAuY3VycmVudF9kYXRhWzBdKTtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBbXG4gICAgICAgIGNvbHVtbnMuam9pbignLCcpLCAnXFxyXFxuJyxcbiAgICAgICAgYXBwLmN1cnJlbnRfZGF0YS5tYXAoZCA9PiBjb2x1bW5zLm1hcChjID0+IGRbY10pLmpvaW4oJywnKSkuam9pbignXFxyXFxuJyksXG4gICAgICBdLmpvaW4oJycpO1xuICAgICAgY29uc3QgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCdocmVmJywgYGRhdGE6dGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04LCR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbnRlbnQpfWApO1xuICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ2Rvd25sb2FkJywgJ1JlZ2lvdml6X2V4cG9ydC5jc3YnKTtcbiAgICAgIGVsZW0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWxlbSk7XG4gICAgICBlbGVtLmNsaWNrKCk7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGVsZW0pO1xuICAgICAgLy8gaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kYXRhVGFibGUtd3JhcHBlcicpLnN0eWxlLmRpc3BsYXkpIHtcbiAgICAgIC8vICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N2Z19tYXAnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgLy8gICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3ZnX2xlZ2VuZCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAvLyAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNoZWFkZXJfbWFwJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIC8vICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2hlYWRlcl90YWJsZScpLnN0eWxlLmRpc3BsYXkgPSBudWxsO1xuICAgICAgLy8gICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGF0YVRhYmxlLXdyYXBwZXInKS5zdHlsZS5kaXNwbGF5ID0gbnVsbDtcbiAgICAgIC8vICAgdGhpcy5zdHlsZS5maWx0ZXIgPSAnaW52ZXJ0KDc1JSknO1xuICAgICAgLy8gfSBlbHNlIHtcbiAgICAgIC8vICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N2Z19tYXAnKS5zdHlsZS5kaXNwbGF5ID0gbnVsbDtcbiAgICAgIC8vICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N2Z19sZWdlbmQnKS5zdHlsZS5kaXNwbGF5ID0gbnVsbDtcbiAgICAgIC8vICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2hlYWRlcl9tYXAnKS5zdHlsZS5kaXNwbGF5ID0gbnVsbDtcbiAgICAgIC8vICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2hlYWRlcl90YWJsZScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAvLyAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kYXRhVGFibGUtd3JhcHBlcicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAvLyAgIHRoaXMuc3R5bGUuZmlsdGVyID0gbnVsbDtcbiAgICAgIC8vIH1cbiAgICB9KTtcblxuICBoZWFkZXJfYmFyX3NlY3Rpb24uaW5zZXJ0KCdpbWcnKVxuICAgIC5hdHRycyh7XG4gICAgICB3aWR0aDogMjQsXG4gICAgICBoZWlnaHQ6IDI0LFxuICAgICAgc3JjOiAnaW1nL3ByaW50ZXIuc3ZnJyxcbiAgICAgIGlkOiAnaW1nX3ByaW50ZXInLFxuICAgIH0pXG4gICAgLnN0eWxlcyh7IG1hcmdpbjogJzNweCcsIGZsb2F0OiAncmlnaHQnIH0pO1xuXG4gIGhlYWRlcl9iYXJfc2VjdGlvbi5pbnNlcnQoJ2ltZycpXG4gICAgLmF0dHJzKHtcbiAgICAgIHdpZHRoOiAyNCxcbiAgICAgIGhlaWdodDogMjQsXG4gICAgICBzcmM6ICdpbWcvZ3RrLWluZm8uc3ZnJyxcbiAgICAgIGlkOiAnaW1nX2luZm8nLFxuICAgIH0pXG4gICAgLnN0eWxlcyh7IG1hcmdpbjogJzNweCcsIGZsb2F0OiAncmlnaHQnIH0pO1xufVxuIiwiKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcblx0dHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuXHR0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxuXHQoZ2xvYmFsLnRpcHB5ID0gZmFjdG9yeSgpKTtcbn0odGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG52YXIgQnJvd3NlciA9IHt9O1xuXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgQnJvd3Nlci5TVVBQT1JURUQgPSAncmVxdWVzdEFuaW1hdGlvbkZyYW1lJyBpbiB3aW5kb3c7XG4gIEJyb3dzZXIuU1VQUE9SVFNfVE9VQ0ggPSAnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3c7XG4gIEJyb3dzZXIudG91Y2ggPSBmYWxzZTtcbiAgQnJvd3Nlci5keW5hbWljSW5wdXREZXRlY3Rpb24gPSB0cnVlO1xuICAvLyBDaHJvbWUgZGV2aWNlL3RvdWNoIGVtdWxhdGlvbiBjYW4gbWFrZSB0aGlzIGR5bmFtaWNcbiAgQnJvd3Nlci5pT1MgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICgvaVBob25lfGlQYWR8aVBvZC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJiAhd2luZG93Lk1TU3RyZWFtXG4gICAgKTtcbiAgfTtcbn1cblxuLyoqXG4qIFRoZSBnbG9iYWwgc3RvcmFnZSBhcnJheSB3aGljaCBob2xkcyBhbGwgZGF0YSByZWZlcmVuY2Ugb2JqZWN0c1xuKiBmcm9tIGV2ZXJ5IGluc3RhbmNlXG4qIFRoaXMgYWxsb3dzIHVzIHRvIGhpZGUgdG9vbHRpcHMgZnJvbSBhbGwgaW5zdGFuY2VzLCBmaW5kaW5nIHRoZSByZWYgd2hlblxuKiBjbGlja2luZyBvbiB0aGUgYm9keSwgYW5kIGZvciBmb2xsb3dDdXJzb3JcbiovXG52YXIgU3RvcmUgPSBbXTtcblxuLyoqXG4qIFNlbGVjdG9yIGNvbnN0YW50cyB1c2VkIGZvciBncmFiYmluZyBlbGVtZW50c1xuKi9cbnZhciBTZWxlY3RvcnMgPSB7XG4gIFBPUFBFUjogJy50aXBweS1wb3BwZXInLFxuICBUT09MVElQOiAnLnRpcHB5LXRvb2x0aXAnLFxuICBDT05URU5UOiAnLnRpcHB5LXRvb2x0aXAtY29udGVudCcsXG4gIENJUkNMRTogJ1t4LWNpcmNsZV0nLFxuICBBUlJPVzogJ1t4LWFycm93XScsXG4gIFRPT0xUSVBQRURfRUw6ICdbZGF0YS10b29sdGlwcGVkXScsXG4gIENPTlRST0xMRVI6ICdbZGF0YS10aXBweS1jb250cm9sbGVyXSdcblxuICAvKipcbiAgKiBUaGUgZGVmYXVsdCBzZXR0aW5ncyBhcHBsaWVkIHRvIGVhY2ggaW5zdGFuY2VcbiAgKi9cbn07dmFyIERlZmF1bHRzID0ge1xuICBodG1sOiBmYWxzZSxcbiAgcG9zaXRpb246ICd0b3AnLFxuICBhbmltYXRpb246ICdzaGlmdCcsXG4gIGFuaW1hdGVGaWxsOiB0cnVlLFxuICBhcnJvdzogZmFsc2UsXG4gIGFycm93U2l6ZTogJ3JlZ3VsYXInLFxuICBkZWxheTogMCxcbiAgdHJpZ2dlcjogJ21vdXNlZW50ZXIgZm9jdXMnLFxuICBkdXJhdGlvbjogMzUwLFxuICBpbnRlcmFjdGl2ZTogZmFsc2UsXG4gIGludGVyYWN0aXZlQm9yZGVyOiAyLFxuICB0aGVtZTogJ2RhcmsnLFxuICBzaXplOiAncmVndWxhcicsXG4gIGRpc3RhbmNlOiAxMCxcbiAgb2Zmc2V0OiAwLFxuICBoaWRlT25DbGljazogdHJ1ZSxcbiAgbXVsdGlwbGU6IGZhbHNlLFxuICBmb2xsb3dDdXJzb3I6IGZhbHNlLFxuICBpbmVydGlhOiBmYWxzZSxcbiAgZmxpcER1cmF0aW9uOiAzNTAsXG4gIHN0aWNreTogZmFsc2UsXG4gIHN0aWNreUR1cmF0aW9uOiAyMDAsXG4gIGFwcGVuZFRvOiBmdW5jdGlvbiBhcHBlbmRUbygpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuYm9keTtcbiAgfSxcbiAgekluZGV4OiA5OTk5LFxuICB0b3VjaEhvbGQ6IGZhbHNlLFxuICBwZXJmb3JtYW5jZTogZmFsc2UsXG4gIGR5bmFtaWNUaXRsZTogZmFsc2UsXG4gIHBvcHBlck9wdGlvbnM6IHt9XG5cbiAgLyoqXG4gICogVGhlIGtleXMgb2YgdGhlIGRlZmF1bHRzIG9iamVjdCBmb3IgcmVkdWNpbmcgZG93biBpbnRvIGEgbmV3IG9iamVjdFxuICAqIFVzZWQgaW4gYGdldEluZGl2aWR1YWxTZXR0aW5ncygpYFxuICAqL1xufTt2YXIgRGVmYXVsdHNLZXlzID0gQnJvd3Nlci5TVVBQT1JURUQgJiYgT2JqZWN0LmtleXMoRGVmYXVsdHMpO1xuXG4vKipcbiogSGlkZXMgYWxsIHBvcHBlcnNcbiogQHBhcmFtIHtPYmplY3R9IGV4Y2x1ZGUgLSByZWZEYXRhIHRvIGV4Y2x1ZGUgaWYgbmVlZGVkXG4qL1xuZnVuY3Rpb24gaGlkZUFsbFBvcHBlcnMoZXhjbHVkZSkge1xuICBTdG9yZS5mb3JFYWNoKGZ1bmN0aW9uIChyZWZEYXRhKSB7XG4gICAgdmFyIHBvcHBlciA9IHJlZkRhdGEucG9wcGVyLFxuICAgICAgICB0aXBweUluc3RhbmNlID0gcmVmRGF0YS50aXBweUluc3RhbmNlLFxuICAgICAgICBfcmVmRGF0YSRzZXR0aW5ncyA9IHJlZkRhdGEuc2V0dGluZ3MsXG4gICAgICAgIGFwcGVuZFRvID0gX3JlZkRhdGEkc2V0dGluZ3MuYXBwZW5kVG8sXG4gICAgICAgIGhpZGVPbkNsaWNrID0gX3JlZkRhdGEkc2V0dGluZ3MuaGlkZU9uQ2xpY2ssXG4gICAgICAgIHRyaWdnZXIgPSBfcmVmRGF0YSRzZXR0aW5ncy50cmlnZ2VyO1xuXG4gICAgLy8gRG9uJ3QgaGlkZSBhbHJlYWR5IGhpZGRlbiBvbmVzXG5cbiAgICBpZiAoIWFwcGVuZFRvLmNvbnRhaW5zKHBvcHBlcikpIHJldHVybjtcblxuICAgIC8vIGhpZGVPbkNsaWNrIGNhbiBoYXZlIHRoZSB0cnV0aHkgdmFsdWUgb2YgJ3BlcnNpc3RlbnQnLCBzbyBzdHJpY3QgY2hlY2sgaXMgbmVlZGVkXG4gICAgdmFyIGlzSGlkZU9uQ2xpY2sgPSBoaWRlT25DbGljayA9PT0gdHJ1ZSB8fCB0cmlnZ2VyLmluZGV4T2YoJ2ZvY3VzJykgIT09IC0xO1xuICAgIHZhciBpc05vdEN1cnJlbnRSZWYgPSAhZXhjbHVkZSB8fCBwb3BwZXIgIT09IGV4Y2x1ZGUucG9wcGVyO1xuXG4gICAgaWYgKGlzSGlkZU9uQ2xpY2sgJiYgaXNOb3RDdXJyZW50UmVmKSB7XG4gICAgICB0aXBweUluc3RhbmNlLmhpZGUocG9wcGVyKTtcbiAgICB9XG4gIH0pO1xufVxuXG52YXIgbWF0Y2hlcyA9IHt9O1xuXG5pZiAodHlwZW9mIEVsZW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gIHZhciBlID0gRWxlbWVudC5wcm90b3R5cGU7XG4gIG1hdGNoZXMgPSBlLm1hdGNoZXMgfHwgZS5tYXRjaGVzU2VsZWN0b3IgfHwgZS53ZWJraXRNYXRjaGVzU2VsZWN0b3IgfHwgZS5tb3pNYXRjaGVzU2VsZWN0b3IgfHwgZS5tc01hdGNoZXNTZWxlY3RvciB8fCBmdW5jdGlvbiAocykge1xuICAgIHZhciBtYXRjaGVzID0gKHRoaXMuZG9jdW1lbnQgfHwgdGhpcy5vd25lckRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKHMpLFxuICAgICAgICBpID0gbWF0Y2hlcy5sZW5ndGg7XG4gICAgd2hpbGUgKC0taSA+PSAwICYmIG1hdGNoZXMuaXRlbShpKSAhPT0gdGhpcykge31cbiAgICByZXR1cm4gaSA+IC0xO1xuICB9O1xufVxuXG52YXIgbWF0Y2hlcyQxID0gbWF0Y2hlcztcblxuLyoqXG4qIFBvbnlmaWxsIHRvIGdldCB0aGUgY2xvc2VzdCBwYXJlbnQgZWxlbWVudFxuKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBjaGlsZCBvZiBwYXJlbnQgdG8gYmUgcmV0dXJuZWRcbiogQHBhcmFtIHtTdHJpbmd9IHBhcmVudFNlbGVjdG9yIC0gc2VsZWN0b3IgdG8gbWF0Y2ggdGhlIHBhcmVudCBpZiBmb3VuZFxuKiBAcmV0dXJuIHtFbGVtZW50fVxuKi9cbmZ1bmN0aW9uIGNsb3Nlc3QoZWxlbWVudCwgcGFyZW50U2VsZWN0b3IpIHtcbiAgdmFyIF9jbG9zZXN0ID0gRWxlbWVudC5wcm90b3R5cGUuY2xvc2VzdCB8fCBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICB2YXIgZWwgPSB0aGlzO1xuICAgIHdoaWxlIChlbCkge1xuICAgICAgaWYgKG1hdGNoZXMkMS5jYWxsKGVsLCBzZWxlY3RvcikpIHtcbiAgICAgICAgcmV0dXJuIGVsO1xuICAgICAgfVxuICAgICAgZWwgPSBlbC5wYXJlbnRFbGVtZW50O1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gX2Nsb3Nlc3QuY2FsbChlbGVtZW50LCBwYXJlbnRTZWxlY3Rvcik7XG59XG5cbi8qKlxuKiBQb255ZmlsbCBmb3IgQXJyYXkucHJvdG90eXBlLmZpbmRcbiogQHBhcmFtIHtBcnJheX0gYXJyXG4qIEBwYXJhbSB7RnVuY3Rpb259IGNoZWNrRm5cbiogQHJldHVybiBpdGVtIGluIHRoZSBhcnJheVxuKi9cbmZ1bmN0aW9uIGZpbmQoYXJyLCBjaGVja0ZuKSB7XG4gIGlmIChBcnJheS5wcm90b3R5cGUuZmluZCkge1xuICAgIHJldHVybiBhcnIuZmluZChjaGVja0ZuKTtcbiAgfVxuXG4gIC8vIHVzZSBgZmlsdGVyYCBhcyBmYWxsYmFja1xuICByZXR1cm4gYXJyLmZpbHRlcihjaGVja0ZuKVswXTtcbn1cblxuLyoqXG4qIEFkZHMgdGhlIG5lZWRlZCBldmVudCBsaXN0ZW5lcnNcbiovXG5mdW5jdGlvbiBiaW5kRXZlbnRMaXN0ZW5lcnMoKSB7XG4gIHZhciB0b3VjaEhhbmRsZXIgPSBmdW5jdGlvbiB0b3VjaEhhbmRsZXIoKSB7XG4gICAgQnJvd3Nlci50b3VjaCA9IHRydWU7XG5cbiAgICBpZiAoQnJvd3Nlci5pT1MoKSkge1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCd0aXBweS10b3VjaCcpO1xuICAgIH1cblxuICAgIGlmIChCcm93c2VyLmR5bmFtaWNJbnB1dERldGVjdGlvbiAmJiB3aW5kb3cucGVyZm9ybWFuY2UpIHtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG1vdXNlbW92ZUhhbmRsZXIpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgbW91c2Vtb3ZlSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGltZSA9IHZvaWQgMDtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7XG5cbiAgICAgIC8vIENocm9tZSA2MCsgaXMgMSBtb3VzZW1vdmUgcGVyIHJBRiwgdXNlIDIwbXMgdGltZSBkaWZmZXJlbmNlXG4gICAgICBpZiAobm93IC0gdGltZSA8IDIwKSB7XG4gICAgICAgIEJyb3dzZXIudG91Y2ggPSBmYWxzZTtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgbW91c2Vtb3ZlSGFuZGxlcik7XG4gICAgICAgIGlmICghQnJvd3Nlci5pT1MoKSkge1xuICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgndGlwcHktdG91Y2gnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aW1lID0gbm93O1xuICAgIH07XG4gIH0oKTtcblxuICB2YXIgY2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gY2xpY2tIYW5kbGVyKGV2ZW50KSB7XG4gICAgLy8gU2ltdWxhdGVkIGV2ZW50cyBkaXNwYXRjaGVkIG9uIHRoZSBkb2N1bWVudFxuICAgIGlmICghKGV2ZW50LnRhcmdldCBpbnN0YW5jZW9mIEVsZW1lbnQpKSB7XG4gICAgICByZXR1cm4gaGlkZUFsbFBvcHBlcnMoKTtcbiAgICB9XG5cbiAgICB2YXIgZWwgPSBjbG9zZXN0KGV2ZW50LnRhcmdldCwgU2VsZWN0b3JzLlRPT0xUSVBQRURfRUwpO1xuICAgIHZhciBwb3BwZXIgPSBjbG9zZXN0KGV2ZW50LnRhcmdldCwgU2VsZWN0b3JzLlBPUFBFUik7XG5cbiAgICBpZiAocG9wcGVyKSB7XG4gICAgICB2YXIgcmVmID0gZmluZChTdG9yZSwgZnVuY3Rpb24gKHJlZikge1xuICAgICAgICByZXR1cm4gcmVmLnBvcHBlciA9PT0gcG9wcGVyO1xuICAgICAgfSk7XG4gICAgICB2YXIgaW50ZXJhY3RpdmUgPSByZWYuc2V0dGluZ3MuaW50ZXJhY3RpdmU7XG5cbiAgICAgIGlmIChpbnRlcmFjdGl2ZSkgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChlbCkge1xuICAgICAgdmFyIF9yZWYgPSBmaW5kKFN0b3JlLCBmdW5jdGlvbiAocmVmKSB7XG4gICAgICAgIHJldHVybiByZWYuZWwgPT09IGVsO1xuICAgICAgfSk7XG4gICAgICB2YXIgX3JlZiRzZXR0aW5ncyA9IF9yZWYuc2V0dGluZ3MsXG4gICAgICAgICAgaGlkZU9uQ2xpY2sgPSBfcmVmJHNldHRpbmdzLmhpZGVPbkNsaWNrLFxuICAgICAgICAgIG11bHRpcGxlID0gX3JlZiRzZXR0aW5ncy5tdWx0aXBsZSxcbiAgICAgICAgICB0cmlnZ2VyID0gX3JlZiRzZXR0aW5ncy50cmlnZ2VyO1xuXG4gICAgICAvLyBIaWRlIGFsbCBwb3BwZXJzIGV4Y2VwdCB0aGUgb25lIGJlbG9uZ2luZyB0byB0aGUgZWxlbWVudCB0aGF0IHdhcyBjbGlja2VkIElGXG4gICAgICAvLyBgbXVsdGlwbGVgIGlzIGZhbHNlIEFORCB0aGV5IGFyZSBhIHRvdWNoIHVzZXIsIE9SXG4gICAgICAvLyBgbXVsdGlwbGVgIGlzIGZhbHNlIEFORCBpdCdzIHRyaWdnZXJlZCBieSBhIGNsaWNrXG5cbiAgICAgIGlmICghbXVsdGlwbGUgJiYgQnJvd3Nlci50b3VjaCB8fCAhbXVsdGlwbGUgJiYgdHJpZ2dlci5pbmRleE9mKCdjbGljaycpICE9PSAtMSkge1xuICAgICAgICByZXR1cm4gaGlkZUFsbFBvcHBlcnMoX3JlZik7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIGhpZGVPbkNsaWNrIGlzIG5vdCBzdHJpY3RseSB0cnVlIG9yIHRyaWdnZXJlZCBieSBhIGNsaWNrIGRvbid0IGhpZGUgcG9wcGVyc1xuICAgICAgaWYgKGhpZGVPbkNsaWNrICE9PSB0cnVlIHx8IHRyaWdnZXIuaW5kZXhPZignY2xpY2snKSAhPT0gLTEpIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBEb24ndCB0cmlnZ2VyIGEgaGlkZSBmb3IgdGlwcHkgY29udHJvbGxlcnMsIGFuZCBkb24ndCBuZWVkbGVzc2x5IHJ1biBsb29wXG4gICAgaWYgKGNsb3Nlc3QoZXZlbnQudGFyZ2V0LCBTZWxlY3RvcnMuQ09OVFJPTExFUikgfHwgIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU2VsZWN0b3JzLlBPUFBFUikpIHJldHVybjtcblxuICAgIGhpZGVBbGxQb3BwZXJzKCk7XG4gIH07XG5cbiAgdmFyIGJsdXJIYW5kbGVyID0gZnVuY3Rpb24gYmx1ckhhbmRsZXIoZXZlbnQpIHtcbiAgICB2YXIgX2RvY3VtZW50ID0gZG9jdW1lbnQsXG4gICAgICAgIGVsID0gX2RvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cbiAgICBpZiAoZWwgJiYgZWwuYmx1ciAmJiBtYXRjaGVzJDEuY2FsbChlbCwgU2VsZWN0b3JzLlRPT0xUSVBQRURfRUwpKSB7XG4gICAgICBlbC5ibHVyKCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEhvb2sgZXZlbnRzXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xpY2tIYW5kbGVyKTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRvdWNoSGFuZGxlcik7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgYmx1ckhhbmRsZXIpO1xuXG4gIGlmICghQnJvd3Nlci5TVVBQT1JUU19UT1VDSCAmJiAobmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMCB8fCBuYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cyA+IDApKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCB0b3VjaEhhbmRsZXIpO1xuICB9XG59XG5cbi8qKlxuKiBUbyBydW4gYSBzaW5nbGUgdGltZSwgb25jZSBET00gaXMgcHJlc3VtZWQgdG8gYmUgcmVhZHlcbiogQHJldHVybiB7Qm9vbGVhbn0gd2hldGhlciB0aGUgZnVuY3Rpb24gaGFzIHJ1biBvciBub3RcbiovXG5mdW5jdGlvbiBpbml0KCkge1xuICBpZiAoaW5pdC5kb25lKSByZXR1cm4gZmFsc2U7XG4gIGluaXQuZG9uZSA9IHRydWU7XG5cbiAgYmluZEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuKiBXYWl0cyB1bnRpbCBuZXh0IHJlcGFpbnQgdG8gZXhlY3V0ZSBhIGZuXG4qIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4qL1xuZnVuY3Rpb24gZGVmZXIoZm4pIHtcbiAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgc2V0VGltZW91dChmbiwgMCk7XG4gIH0pO1xufVxuXG4vKipcbiogUmV0dXJucyB0aGUgc3VwcG9ydGVkIHByZWZpeGVkIHByb3BlcnR5IC0gb25seSBgd2Via2l0YCBpcyBuZWVkZWQsIGBtb3pgLCBgbXNgIGFuZCBgb2AgYXJlIG9ic29sZXRlXG4qIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eVxuKiBAcmV0dXJuIHtTdHJpbmd9IC0gYnJvd3NlciBzdXBwb3J0ZWQgcHJlZml4ZWQgcHJvcGVydHlcbiovXG5mdW5jdGlvbiBwcmVmaXgocHJvcGVydHkpIHtcbiAgdmFyIHByZWZpeGVzID0gW2ZhbHNlLCAnd2Via2l0J107XG4gIHZhciB1cHBlclByb3AgPSBwcm9wZXJ0eS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHByb3BlcnR5LnNsaWNlKDEpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJlZml4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgX3ByZWZpeCA9IHByZWZpeGVzW2ldO1xuICAgIHZhciBwcmVmaXhlZFByb3AgPSBfcHJlZml4ID8gJycgKyBfcHJlZml4ICsgdXBwZXJQcm9wIDogcHJvcGVydHk7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQuYm9keS5zdHlsZVtwcmVmaXhlZFByb3BdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIHByZWZpeGVkUHJvcDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4qIFBvbnlmaWxsIGZvciBBcnJheS5wcm90b3R5cGUuZmluZEluZGV4XG4qIEBwYXJhbSB7QXJyYXl9IGFyclxuKiBAcGFyYW0ge0Z1bmN0aW9ufSBjaGVja0ZuXG4qIEByZXR1cm4gaW5kZXggb2YgdGhlIGl0ZW0gaW4gdGhlIGFycmF5XG4qL1xuZnVuY3Rpb24gZmluZEluZGV4KGFyciwgY2hlY2tGbikge1xuICBpZiAoQXJyYXkucHJvdG90eXBlLmZpbmRJbmRleCkge1xuICAgIHJldHVybiBhcnIuZmluZEluZGV4KGNoZWNrRm4pO1xuICB9XG5cbiAgLy8gZmFsbGJhY2tcbiAgcmV0dXJuIGFyci5pbmRleE9mKGZpbmQoYXJyLCBjaGVja0ZuKSk7XG59XG5cbi8qKlxuKiBSZW1vdmVzIHRoZSB0aXRsZSBmcm9tIHRoZSB0b29sdGlwcGVkIGVsZW1lbnQsIHNldHRpbmcgYGRhdGEtb3JpZ2luYWwtdGl0bGVgXG4qIGFwcHJvcHJpYXRlbHlcbiogQHBhcmFtIHtFbGVtZW50fSBlbFxuKi9cbmZ1bmN0aW9uIHJlbW92ZVRpdGxlKGVsKSB7XG4gIHZhciB0aXRsZSA9IGVsLmdldEF0dHJpYnV0ZSgndGl0bGUnKTtcblxuICAvLyBPbmx5IHNldCBgZGF0YS1vcmlnaW5hbC10aXRsZWAgYXR0ciBpZiB0aGVyZSBpcyBhIHRpdGxlXG4gIGlmICh0aXRsZSkge1xuICAgIGVsLnNldEF0dHJpYnV0ZSgnZGF0YS1vcmlnaW5hbC10aXRsZScsIHRpdGxlKTtcbiAgfVxuXG4gIGVsLnJlbW92ZUF0dHJpYnV0ZSgndGl0bGUnKTtcbn1cblxuLyoqXG4qIERldGVybWluZXMgaWYgYW4gZWxlbWVudCBpcyB2aXNpYmxlIGluIHRoZSB2aWV3cG9ydFxuKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4qIEByZXR1cm4ge0Jvb2xlYW59XG4qL1xuZnVuY3Rpb24gZWxlbWVudElzSW5WaWV3cG9ydChlbCkge1xuICB2YXIgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gIHJldHVybiByZWN0LnRvcCA+PSAwICYmIHJlY3QubGVmdCA+PSAwICYmIHJlY3QuYm90dG9tIDw9ICh3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCkgJiYgcmVjdC5yaWdodCA8PSAod2luZG93LmlubmVyV2lkdGggfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKTtcbn1cblxuLyoqXG4qIFRyaWdnZXJzIGEgZG9jdW1lbnQgcmVwYWludCBvciByZWZsb3cgZm9yIENTUyB0cmFuc2l0aW9uXG4qIEBwYXJhbSB7RWxlbWVudH0gdG9vbHRpcFxuKiBAcGFyYW0ge0VsZW1lbnR9IGNpcmNsZVxuKi9cbmZ1bmN0aW9uIHRyaWdnZXJSZWZsb3codG9vbHRpcCwgY2lyY2xlKSB7XG4gIC8vIFNhZmFyaSBuZWVkcyB0aGUgc3BlY2lmaWMgJ3RyYW5zZm9ybScgcHJvcGVydHkgdG8gYmUgYWNjZXNzZWRcbiAgY2lyY2xlID8gd2luZG93LmdldENvbXB1dGVkU3R5bGUoY2lyY2xlKVtwcmVmaXgoJ3RyYW5zZm9ybScpXSA6IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRvb2x0aXApLm9wYWNpdHk7XG59XG5cbi8qKlxuKiBNb2RpZmllcyBlbGVtZW50cycgY2xhc3MgbGlzdHNcbiogQHBhcmFtIHtFbGVtZW50W119IGVscyAtIEFycmF5IG9mIGVsZW1lbnRzXG4qIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4qL1xuZnVuY3Rpb24gbW9kaWZ5Q2xhc3NMaXN0KGVscywgY2FsbGJhY2spIHtcbiAgZWxzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgaWYgKCFlbCkgcmV0dXJuO1xuICAgIGNhbGxiYWNrKGVsLmNsYXNzTGlzdCk7XG4gIH0pO1xufVxuXG4vKipcbiogUmV0dXJucyBpbm5lciBlbGVtZW50cyBvZiB0aGUgcG9wcGVyIGVsZW1lbnRcbiogQHBhcmFtIHtFbGVtZW50fSBwb3BwZXJcbiogQHJldHVybiB7T2JqZWN0fVxuKi9cbmZ1bmN0aW9uIGdldElubmVyRWxlbWVudHMocG9wcGVyKSB7XG4gIHJldHVybiB7XG4gICAgdG9vbHRpcDogcG9wcGVyLnF1ZXJ5U2VsZWN0b3IoU2VsZWN0b3JzLlRPT0xUSVApLFxuICAgIGNpcmNsZTogcG9wcGVyLnF1ZXJ5U2VsZWN0b3IoU2VsZWN0b3JzLkNJUkNMRSksXG4gICAgY29udGVudDogcG9wcGVyLnF1ZXJ5U2VsZWN0b3IoU2VsZWN0b3JzLkNPTlRFTlQpXG4gIH07XG59XG5cbi8qKlxuKiBBcHBsaWVzIHRoZSB0cmFuc2l0aW9uIGR1cmF0aW9uIHRvIGVhY2ggZWxlbWVudFxuKiBAcGFyYW0ge0VsZW1lbnRbXX0gZWxzIC0gQXJyYXkgb2YgZWxlbWVudHNcbiogQHBhcmFtIHtOdW1iZXJ9IGR1cmF0aW9uXG4qL1xuZnVuY3Rpb24gYXBwbHlUcmFuc2l0aW9uRHVyYXRpb24oZWxzLCBkdXJhdGlvbikge1xuICBlbHMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICBpZiAoIWVsKSByZXR1cm47XG5cbiAgICB2YXIgaXNDb250ZW50ID0gbWF0Y2hlcyQxLmNhbGwoZWwsIFNlbGVjdG9ycy5DT05URU5UKTtcblxuICAgIHZhciBfZHVyYXRpb24gPSBpc0NvbnRlbnQgPyBNYXRoLnJvdW5kKGR1cmF0aW9uIC8gMS4zKSA6IGR1cmF0aW9uO1xuXG4gICAgZWwuc3R5bGVbcHJlZml4KCd0cmFuc2l0aW9uRHVyYXRpb24nKV0gPSBfZHVyYXRpb24gKyAnbXMnO1xuICB9KTtcbn1cblxuLyoqXG4qIERldGVybWluZXMgaWYgYSBwb3BwZXIgaXMgY3VycmVudGx5IHZpc2libGVcbiogQHBhcmFtIHtFbGVtZW50fSBwb3BwZXJcbiogQHJldHVybiB7Qm9vbGVhbn1cbiovXG5mdW5jdGlvbiBpc1Zpc2libGUocG9wcGVyKSB7XG4gIHJldHVybiBwb3BwZXIuc3R5bGUudmlzaWJpbGl0eSA9PT0gJ3Zpc2libGUnO1xufVxuXG5mdW5jdGlvbiBub29wKCkge31cblxuZnVuY3Rpb24gaXNPYmplY3RMaXRlcmFsKGlucHV0KSB7XG4gIHJldHVybiAhIWlucHV0ICYmIGlucHV0LnRvU3RyaW5nKCkgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xufVxuXG4vKipcbiogUmV0dXJucyB0aGUgbm9uLXNoaWZ0ZWQgcGxhY2VtZW50IChlLmcuLCAnYm90dG9tLXN0YXJ0JyA9PiAnYm90dG9tJylcbiogQHBhcmFtIHtTdHJpbmd9IHBsYWNlbWVudFxuKiBAcmV0dXJuIHtTdHJpbmd9XG4qL1xuZnVuY3Rpb24gZ2V0Q29yZVBsYWNlbWVudChwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIHBsYWNlbWVudC5yZXBsYWNlKC8tLisvLCAnJyk7XG59XG5cbi8qKlxuKiBNb3VzZW1vdmUgZXZlbnQgbGlzdGVuZXIgY2FsbGJhY2sgbWV0aG9kIGZvciBmb2xsb3cgY3Vyc29yIHNldHRpbmdcbiogQHBhcmFtIHtNb3VzZUV2ZW50fSBlXG4qL1xuZnVuY3Rpb24gZm9sbG93Q3Vyc29ySGFuZGxlcihlKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgdmFyIGRhdGEgPSBmaW5kKFN0b3JlLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgIHJldHVybiBkYXRhLmVsID09PSBfdGhpcztcbiAgfSk7XG5cbiAgdmFyIHBvcHBlciA9IGRhdGEucG9wcGVyLFxuICAgICAgb2Zmc2V0ID0gZGF0YS5zZXR0aW5ncy5vZmZzZXQ7XG5cblxuICB2YXIgcG9zaXRpb24gPSBnZXRDb3JlUGxhY2VtZW50KHBvcHBlci5nZXRBdHRyaWJ1dGUoJ3gtcGxhY2VtZW50JykpO1xuICB2YXIgaGFsZlBvcHBlcldpZHRoID0gTWF0aC5yb3VuZChwb3BwZXIub2Zmc2V0V2lkdGggLyAyKTtcbiAgdmFyIGhhbGZQb3BwZXJIZWlnaHQgPSBNYXRoLnJvdW5kKHBvcHBlci5vZmZzZXRIZWlnaHQgLyAyKTtcbiAgdmFyIHZpZXdwb3J0UGFkZGluZyA9IDU7XG4gIHZhciBwYWdlV2lkdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0V2lkdGggfHwgZG9jdW1lbnQuYm9keS5vZmZzZXRXaWR0aDtcblxuICB2YXIgcGFnZVggPSBlLnBhZ2VYLFxuICAgICAgcGFnZVkgPSBlLnBhZ2VZO1xuXG5cbiAgdmFyIHggPSB2b2lkIDAsXG4gICAgICB5ID0gdm9pZCAwO1xuXG4gIHN3aXRjaCAocG9zaXRpb24pIHtcbiAgICBjYXNlICd0b3AnOlxuICAgICAgeCA9IHBhZ2VYIC0gaGFsZlBvcHBlcldpZHRoICsgb2Zmc2V0O1xuICAgICAgeSA9IHBhZ2VZIC0gMiAqIGhhbGZQb3BwZXJIZWlnaHQ7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdib3R0b20nOlxuICAgICAgeCA9IHBhZ2VYIC0gaGFsZlBvcHBlcldpZHRoICsgb2Zmc2V0O1xuICAgICAgeSA9IHBhZ2VZICsgMTA7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdsZWZ0JzpcbiAgICAgIHggPSBwYWdlWCAtIDIgKiBoYWxmUG9wcGVyV2lkdGg7XG4gICAgICB5ID0gcGFnZVkgLSBoYWxmUG9wcGVySGVpZ2h0ICsgb2Zmc2V0O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAncmlnaHQnOlxuICAgICAgeCA9IHBhZ2VYICsgNTtcbiAgICAgIHkgPSBwYWdlWSAtIGhhbGZQb3BwZXJIZWlnaHQgKyBvZmZzZXQ7XG4gICAgICBicmVhaztcbiAgfVxuXG4gIHZhciBpc1JpZ2h0T3ZlcmZsb3dpbmcgPSBwYWdlWCArIHZpZXdwb3J0UGFkZGluZyArIGhhbGZQb3BwZXJXaWR0aCArIG9mZnNldCA+IHBhZ2VXaWR0aDtcbiAgdmFyIGlzTGVmdE92ZXJmbG93aW5nID0gcGFnZVggLSB2aWV3cG9ydFBhZGRpbmcgLSBoYWxmUG9wcGVyV2lkdGggKyBvZmZzZXQgPCAwO1xuXG4gIC8vIFByZXZlbnQgbGVmdC9yaWdodCBvdmVyZmxvd1xuICBpZiAocG9zaXRpb24gPT09ICd0b3AnIHx8IHBvc2l0aW9uID09PSAnYm90dG9tJykge1xuICAgIGlmIChpc1JpZ2h0T3ZlcmZsb3dpbmcpIHtcbiAgICAgIHggPSBwYWdlV2lkdGggLSB2aWV3cG9ydFBhZGRpbmcgLSAyICogaGFsZlBvcHBlcldpZHRoO1xuICAgIH1cblxuICAgIGlmIChpc0xlZnRPdmVyZmxvd2luZykge1xuICAgICAgeCA9IHZpZXdwb3J0UGFkZGluZztcbiAgICB9XG4gIH1cblxuICBwb3BwZXIuc3R5bGVbcHJlZml4KCd0cmFuc2Zvcm0nKV0gPSAndHJhbnNsYXRlM2QoJyArIHggKyAncHgsICcgKyB5ICsgJ3B4LCAwKSc7XG59XG5cbi8qKlxuKiBSZXR1cm5zIGFuIGFycmF5IG9mIGVsZW1lbnRzIGJhc2VkIG9uIHRoZSBzZWxlY3RvciBpbnB1dFxuKiBAcGFyYW0ge1N0cmluZ3xFbGVtZW50fEVsZW1lbnRbXX0gc2VsZWN0b3JcbiogQHJldHVybiB7RWxlbWVudFtdfVxuKi9cbmZ1bmN0aW9uIGdldEFycmF5T2ZFbGVtZW50cyhzZWxlY3Rvcikge1xuICBpZiAoc2VsZWN0b3IgaW5zdGFuY2VvZiBFbGVtZW50IHx8IGlzT2JqZWN0TGl0ZXJhbChzZWxlY3RvcikpIHtcbiAgICByZXR1cm4gW3NlbGVjdG9yXTtcbiAgfVxuXG4gIGlmIChzZWxlY3RvciBpbnN0YW5jZW9mIE5vZGVMaXN0KSB7XG4gICAgcmV0dXJuIFtdLnNsaWNlLmNhbGwoc2VsZWN0b3IpO1xuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoc2VsZWN0b3IpKSB7XG4gICAgcmV0dXJuIHNlbGVjdG9yO1xuICB9XG5cbiAgdHJ5IHtcbiAgICByZXR1cm4gW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSk7XG4gIH0gY2F0Y2ggKF8pIHtcbiAgICByZXR1cm4gW107XG4gIH1cbn1cblxuLyoqXG4qIFByZXBhcmVzIHRoZSBjYWxsYmFjayBmdW5jdGlvbnMgZm9yIGBzaG93YCBhbmQgYGhpZGVgIG1ldGhvZHNcbiogQHBhcmFtIHtPYmplY3R9IGRhdGFcbiogQHBhcmFtIHtOdW1iZXJ9IGR1cmF0aW9uXG4qIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gY2FsbGJhY2sgZnVuY3Rpb24gdG8gZmlyZSBvbmNlIHRyYW5zaXRpb25zIGNvbXBsZXRlXG4qL1xuZnVuY3Rpb24gb25UcmFuc2l0aW9uRW5kKGRhdGEsIGR1cmF0aW9uLCBjYWxsYmFjaykge1xuICAvLyBNYWtlIGNhbGxiYWNrIHN5bmNocm9ub3VzIGlmIGR1cmF0aW9uIGlzIDBcbiAgaWYgKCFkdXJhdGlvbikge1xuICAgIHJldHVybiBjYWxsYmFjaygpO1xuICB9XG5cbiAgdmFyIF9nZXRJbm5lckVsZW1lbnRzID0gZ2V0SW5uZXJFbGVtZW50cyhkYXRhLnBvcHBlciksXG4gICAgICB0b29sdGlwID0gX2dldElubmVyRWxlbWVudHMudG9vbHRpcDtcblxuICB2YXIgdHJhbnNpdGlvbmVuZEZpcmVkID0gZmFsc2U7XG5cbiAgdmFyIGxpc3RlbmVyQ2FsbGJhY2sgPSBmdW5jdGlvbiBsaXN0ZW5lckNhbGxiYWNrKGUpIHtcbiAgICBpZiAoZS50YXJnZXQgPT09IHRvb2x0aXAgJiYgIXRyYW5zaXRpb25lbmRGaXJlZCkge1xuICAgICAgdHJhbnNpdGlvbmVuZEZpcmVkID0gdHJ1ZTtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEZpcmUgY2FsbGJhY2sgdXBvbiB0cmFuc2l0aW9uIGNvbXBsZXRpb25cbiAgdG9vbHRpcC5hZGRFdmVudExpc3RlbmVyKCd3ZWJraXRUcmFuc2l0aW9uRW5kJywgbGlzdGVuZXJDYWxsYmFjayk7XG4gIHRvb2x0aXAuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGxpc3RlbmVyQ2FsbGJhY2spO1xuXG4gIC8vIEZhbGxiYWNrOiB0cmFuc2l0aW9uZW5kIGxpc3RlbmVyIHNvbWV0aW1lcyBtYXkgbm90IGZpcmVcbiAgY2xlYXJUaW1lb3V0KGRhdGEuX3RyYW5zaXRpb25lbmRUaW1lb3V0KTtcbiAgZGF0YS5fdHJhbnNpdGlvbmVuZFRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRyYW5zaXRpb25lbmRGaXJlZCkge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH0sIGR1cmF0aW9uKTtcbn1cblxuLyoqIVxuICogQGZpbGVPdmVydmlldyBLaWNrYXNzIGxpYnJhcnkgdG8gY3JlYXRlIGFuZCBwbGFjZSBwb3BwZXJzIG5lYXIgdGhlaXIgcmVmZXJlbmNlIGVsZW1lbnRzLlxuICogQHZlcnNpb24gMS4xMi40XG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE2IEZlZGVyaWNvIFppdm9sbyBhbmQgY29udHJpYnV0b3JzXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbFxuICogY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFXG4gKiBTT0ZUV0FSRS5cbiAqL1xudmFyIG5hdGl2ZUhpbnRzID0gWyduYXRpdmUgY29kZScsICdbb2JqZWN0IE11dGF0aW9uT2JzZXJ2ZXJDb25zdHJ1Y3Rvcl0nXTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSBmdW5jdGlvbiBpcyBpbXBsZW1lbnRlZCBuYXRpdmVseSAoYXMgb3Bwb3NlZCB0byBhIHBvbHlmaWxsKS5cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7RnVuY3Rpb24gfCB1bmRlZmluZWR9IGZuIHRoZSBmdW5jdGlvbiB0byBjaGVja1xuICogQHJldHVybnMge0Jvb2xlYW59XG4gKi9cbnZhciBpc05hdGl2ZSA9IGZ1bmN0aW9uIGlzTmF0aXZlKGZuKSB7XG4gIHJldHVybiBuYXRpdmVIaW50cy5zb21lKGZ1bmN0aW9uIChoaW50KSB7XG4gICAgcmV0dXJuIChmbiB8fCAnJykudG9TdHJpbmcoKS5pbmRleE9mKGhpbnQpID4gLTE7XG4gIH0pO1xufTtcblxudmFyIGlzQnJvd3NlciA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnO1xudmFyIGxvbmdlclRpbWVvdXRCcm93c2VycyA9IFsnRWRnZScsICdUcmlkZW50JywgJ0ZpcmVmb3gnXTtcbnZhciB0aW1lb3V0RHVyYXRpb24gPSAwO1xuZm9yICh2YXIgaSA9IDA7IGkgPCBsb25nZXJUaW1lb3V0QnJvd3NlcnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgaWYgKGlzQnJvd3NlciAmJiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YobG9uZ2VyVGltZW91dEJyb3dzZXJzW2ldKSA+PSAwKSB7XG4gICAgdGltZW91dER1cmF0aW9uID0gMTtcbiAgICBicmVhaztcbiAgfVxufVxuXG5mdW5jdGlvbiBtaWNyb3Rhc2tEZWJvdW5jZShmbikge1xuICB2YXIgc2NoZWR1bGVkID0gZmFsc2U7XG4gIHZhciBpID0gMDtcbiAgdmFyIGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG5cbiAgLy8gTXV0YXRpb25PYnNlcnZlciBwcm92aWRlcyBhIG1lY2hhbmlzbSBmb3Igc2NoZWR1bGluZyBtaWNyb3Rhc2tzLCB3aGljaFxuICAvLyBhcmUgc2NoZWR1bGVkICpiZWZvcmUqIHRoZSBuZXh0IHRhc2suIFRoaXMgZ2l2ZXMgdXMgYSB3YXkgdG8gZGVib3VuY2VcbiAgLy8gYSBmdW5jdGlvbiBidXQgZW5zdXJlIGl0J3MgY2FsbGVkICpiZWZvcmUqIHRoZSBuZXh0IHBhaW50LlxuICB2YXIgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAoKSB7XG4gICAgZm4oKTtcbiAgICBzY2hlZHVsZWQgPSBmYWxzZTtcbiAgfSk7XG5cbiAgb2JzZXJ2ZXIub2JzZXJ2ZShlbGVtLCB7IGF0dHJpYnV0ZXM6IHRydWUgfSk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXNjaGVkdWxlZCkge1xuICAgICAgc2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCd4LWluZGV4JywgaSk7XG4gICAgICBpID0gaSArIDE7IC8vIGRvbid0IHVzZSBjb21wdW5kICgrPSkgYmVjYXVzZSBpdCBkb2Vzbid0IGdldCBvcHRpbWl6ZWQgaW4gVjhcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIHRhc2tEZWJvdW5jZShmbikge1xuICB2YXIgc2NoZWR1bGVkID0gZmFsc2U7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFzY2hlZHVsZWQpIHtcbiAgICAgIHNjaGVkdWxlZCA9IHRydWU7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2NoZWR1bGVkID0gZmFsc2U7XG4gICAgICAgIGZuKCk7XG4gICAgICB9LCB0aW1lb3V0RHVyYXRpb24pO1xuICAgIH1cbiAgfTtcbn1cblxuLy8gSXQncyBjb21tb24gZm9yIE11dGF0aW9uT2JzZXJ2ZXIgcG9seWZpbGxzIHRvIGJlIHNlZW4gaW4gdGhlIHdpbGQsIGhvd2V2ZXJcbi8vIHRoZXNlIHJlbHkgb24gTXV0YXRpb24gRXZlbnRzIHdoaWNoIG9ubHkgb2NjdXIgd2hlbiBhbiBlbGVtZW50IGlzIGNvbm5lY3RlZFxuLy8gdG8gdGhlIERPTS4gVGhlIGFsZ29yaXRobSB1c2VkIGluIHRoaXMgbW9kdWxlIGRvZXMgbm90IHVzZSBhIGNvbm5lY3RlZCBlbGVtZW50LFxuLy8gYW5kIHNvIHdlIG11c3QgZW5zdXJlIHRoYXQgYSAqbmF0aXZlKiBNdXRhdGlvbk9ic2VydmVyIGlzIGF2YWlsYWJsZS5cbnZhciBzdXBwb3J0c05hdGl2ZU11dGF0aW9uT2JzZXJ2ZXIgPSBpc0Jyb3dzZXIgJiYgaXNOYXRpdmUod2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIpO1xuXG4vKipcbiogQ3JlYXRlIGEgZGVib3VuY2VkIHZlcnNpb24gb2YgYSBtZXRob2QsIHRoYXQncyBhc3luY2hyb25vdXNseSBkZWZlcnJlZFxuKiBidXQgY2FsbGVkIGluIHRoZSBtaW5pbXVtIHRpbWUgcG9zc2libGUuXG4qXG4qIEBtZXRob2RcbiogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuKiBAYXJndW1lbnQge0Z1bmN0aW9ufSBmblxuKiBAcmV0dXJucyB7RnVuY3Rpb259XG4qL1xudmFyIGRlYm91bmNlID0gc3VwcG9ydHNOYXRpdmVNdXRhdGlvbk9ic2VydmVyID8gbWljcm90YXNrRGVib3VuY2UgOiB0YXNrRGVib3VuY2U7XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIGdpdmVuIHZhcmlhYmxlIGlzIGEgZnVuY3Rpb25cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7QW55fSBmdW5jdGlvblRvQ2hlY2sgLSB2YXJpYWJsZSB0byBjaGVja1xuICogQHJldHVybnMge0Jvb2xlYW59IGFuc3dlciB0bzogaXMgYSBmdW5jdGlvbj9cbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbihmdW5jdGlvblRvQ2hlY2spIHtcbiAgdmFyIGdldFR5cGUgPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uVG9DaGVjayAmJiBnZXRUeXBlLnRvU3RyaW5nLmNhbGwoZnVuY3Rpb25Ub0NoZWNrKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbn1cblxuLyoqXG4gKiBHZXQgQ1NTIGNvbXB1dGVkIHByb3BlcnR5IG9mIHRoZSBnaXZlbiBlbGVtZW50XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VlbWVudH0gZWxlbWVudFxuICogQGFyZ3VtZW50IHtTdHJpbmd9IHByb3BlcnR5XG4gKi9cbmZ1bmN0aW9uIGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eShlbGVtZW50LCBwcm9wZXJ0eSkge1xuICBpZiAoZWxlbWVudC5ub2RlVHlwZSAhPT0gMSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICAvLyBOT1RFOiAxIERPTSBhY2Nlc3MgaGVyZVxuICB2YXIgY3NzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgbnVsbCk7XG4gIHJldHVybiBwcm9wZXJ0eSA/IGNzc1twcm9wZXJ0eV0gOiBjc3M7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgcGFyZW50Tm9kZSBvciB0aGUgaG9zdCBvZiB0aGUgZWxlbWVudFxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJucyB7RWxlbWVudH0gcGFyZW50XG4gKi9cbmZ1bmN0aW9uIGdldFBhcmVudE5vZGUoZWxlbWVudCkge1xuICBpZiAoZWxlbWVudC5ub2RlTmFtZSA9PT0gJ0hUTUwnKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cbiAgcmV0dXJuIGVsZW1lbnQucGFyZW50Tm9kZSB8fCBlbGVtZW50Lmhvc3Q7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgc2Nyb2xsaW5nIHBhcmVudCBvZiB0aGUgZ2l2ZW4gZWxlbWVudFxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJucyB7RWxlbWVudH0gc2Nyb2xsIHBhcmVudFxuICovXG5mdW5jdGlvbiBnZXRTY3JvbGxQYXJlbnQoZWxlbWVudCkge1xuICAvLyBSZXR1cm4gYm9keSwgYGdldFNjcm9sbGAgd2lsbCB0YWtlIGNhcmUgdG8gZ2V0IHRoZSBjb3JyZWN0IGBzY3JvbGxUb3BgIGZyb20gaXRcbiAgaWYgKCFlbGVtZW50IHx8IFsnSFRNTCcsICdCT0RZJywgJyNkb2N1bWVudCddLmluZGV4T2YoZWxlbWVudC5ub2RlTmFtZSkgIT09IC0xKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5kb2N1bWVudC5ib2R5O1xuICB9XG5cbiAgLy8gRmlyZWZveCB3YW50IHVzIHRvIGNoZWNrIGAteGAgYW5kIGAteWAgdmFyaWF0aW9ucyBhcyB3ZWxsXG5cbiAgdmFyIF9nZXRTdHlsZUNvbXB1dGVkUHJvcCA9IGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eShlbGVtZW50KSxcbiAgICAgIG92ZXJmbG93ID0gX2dldFN0eWxlQ29tcHV0ZWRQcm9wLm92ZXJmbG93LFxuICAgICAgb3ZlcmZsb3dYID0gX2dldFN0eWxlQ29tcHV0ZWRQcm9wLm92ZXJmbG93WCxcbiAgICAgIG92ZXJmbG93WSA9IF9nZXRTdHlsZUNvbXB1dGVkUHJvcC5vdmVyZmxvd1k7XG5cbiAgaWYgKC8oYXV0b3xzY3JvbGwpLy50ZXN0KG92ZXJmbG93ICsgb3ZlcmZsb3dZICsgb3ZlcmZsb3dYKSkge1xuICAgIHJldHVybiBlbGVtZW50O1xuICB9XG5cbiAgcmV0dXJuIGdldFNjcm9sbFBhcmVudChnZXRQYXJlbnROb2RlKGVsZW1lbnQpKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBvZmZzZXQgcGFyZW50IG9mIHRoZSBnaXZlbiBlbGVtZW50XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtFbGVtZW50fSBvZmZzZXQgcGFyZW50XG4gKi9cbmZ1bmN0aW9uIGdldE9mZnNldFBhcmVudChlbGVtZW50KSB7XG4gIC8vIE5PVEU6IDEgRE9NIGFjY2VzcyBoZXJlXG4gIHZhciBvZmZzZXRQYXJlbnQgPSBlbGVtZW50ICYmIGVsZW1lbnQub2Zmc2V0UGFyZW50O1xuICB2YXIgbm9kZU5hbWUgPSBvZmZzZXRQYXJlbnQgJiYgb2Zmc2V0UGFyZW50Lm5vZGVOYW1lO1xuXG4gIGlmICghbm9kZU5hbWUgfHwgbm9kZU5hbWUgPT09ICdCT0RZJyB8fCBub2RlTmFtZSA9PT0gJ0hUTUwnKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIH1cblxuICAvLyAub2Zmc2V0UGFyZW50IHdpbGwgcmV0dXJuIHRoZSBjbG9zZXN0IFREIG9yIFRBQkxFIGluIGNhc2VcbiAgLy8gbm8gb2Zmc2V0UGFyZW50IGlzIHByZXNlbnQsIEkgaGF0ZSB0aGlzIGpvYi4uLlxuICBpZiAoWydURCcsICdUQUJMRSddLmluZGV4T2Yob2Zmc2V0UGFyZW50Lm5vZGVOYW1lKSAhPT0gLTEgJiYgZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5KG9mZnNldFBhcmVudCwgJ3Bvc2l0aW9uJykgPT09ICdzdGF0aWMnKSB7XG4gICAgcmV0dXJuIGdldE9mZnNldFBhcmVudChvZmZzZXRQYXJlbnQpO1xuICB9XG5cbiAgcmV0dXJuIG9mZnNldFBhcmVudDtcbn1cblxuZnVuY3Rpb24gaXNPZmZzZXRDb250YWluZXIoZWxlbWVudCkge1xuICB2YXIgbm9kZU5hbWUgPSBlbGVtZW50Lm5vZGVOYW1lO1xuXG4gIGlmIChub2RlTmFtZSA9PT0gJ0JPRFknKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBub2RlTmFtZSA9PT0gJ0hUTUwnIHx8IGdldE9mZnNldFBhcmVudChlbGVtZW50LmZpcnN0RWxlbWVudENoaWxkKSA9PT0gZWxlbWVudDtcbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgcm9vdCBub2RlIChkb2N1bWVudCwgc2hhZG93RE9NIHJvb3QpIG9mIHRoZSBnaXZlbiBlbGVtZW50XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IG5vZGVcbiAqIEByZXR1cm5zIHtFbGVtZW50fSByb290IG5vZGVcbiAqL1xuZnVuY3Rpb24gZ2V0Um9vdChub2RlKSB7XG4gIGlmIChub2RlLnBhcmVudE5vZGUgIT09IG51bGwpIHtcbiAgICByZXR1cm4gZ2V0Um9vdChub2RlLnBhcmVudE5vZGUpO1xuICB9XG5cbiAgcmV0dXJuIG5vZGU7XG59XG5cbi8qKlxuICogRmluZHMgdGhlIG9mZnNldCBwYXJlbnQgY29tbW9uIHRvIHRoZSB0d28gcHJvdmlkZWQgbm9kZXNcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudDFcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudDJcbiAqIEByZXR1cm5zIHtFbGVtZW50fSBjb21tb24gb2Zmc2V0IHBhcmVudFxuICovXG5mdW5jdGlvbiBmaW5kQ29tbW9uT2Zmc2V0UGFyZW50KGVsZW1lbnQxLCBlbGVtZW50Mikge1xuICAvLyBUaGlzIGNoZWNrIGlzIG5lZWRlZCB0byBhdm9pZCBlcnJvcnMgaW4gY2FzZSBvbmUgb2YgdGhlIGVsZW1lbnRzIGlzbid0IGRlZmluZWQgZm9yIGFueSByZWFzb25cbiAgaWYgKCFlbGVtZW50MSB8fCAhZWxlbWVudDEubm9kZVR5cGUgfHwgIWVsZW1lbnQyIHx8ICFlbGVtZW50Mi5ub2RlVHlwZSkge1xuICAgIHJldHVybiB3aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICB9XG5cbiAgLy8gSGVyZSB3ZSBtYWtlIHN1cmUgdG8gZ2l2ZSBhcyBcInN0YXJ0XCIgdGhlIGVsZW1lbnQgdGhhdCBjb21lcyBmaXJzdCBpbiB0aGUgRE9NXG4gIHZhciBvcmRlciA9IGVsZW1lbnQxLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGVsZW1lbnQyKSAmIE5vZGUuRE9DVU1FTlRfUE9TSVRJT05fRk9MTE9XSU5HO1xuICB2YXIgc3RhcnQgPSBvcmRlciA/IGVsZW1lbnQxIDogZWxlbWVudDI7XG4gIHZhciBlbmQgPSBvcmRlciA/IGVsZW1lbnQyIDogZWxlbWVudDE7XG5cbiAgLy8gR2V0IGNvbW1vbiBhbmNlc3RvciBjb250YWluZXJcbiAgdmFyIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgcmFuZ2Uuc2V0U3RhcnQoc3RhcnQsIDApO1xuICByYW5nZS5zZXRFbmQoZW5kLCAwKTtcbiAgdmFyIGNvbW1vbkFuY2VzdG9yQ29udGFpbmVyID0gcmFuZ2UuY29tbW9uQW5jZXN0b3JDb250YWluZXI7XG5cbiAgLy8gQm90aCBub2RlcyBhcmUgaW5zaWRlICNkb2N1bWVudFxuXG4gIGlmIChlbGVtZW50MSAhPT0gY29tbW9uQW5jZXN0b3JDb250YWluZXIgJiYgZWxlbWVudDIgIT09IGNvbW1vbkFuY2VzdG9yQ29udGFpbmVyIHx8IHN0YXJ0LmNvbnRhaW5zKGVuZCkpIHtcbiAgICBpZiAoaXNPZmZzZXRDb250YWluZXIoY29tbW9uQW5jZXN0b3JDb250YWluZXIpKSB7XG4gICAgICByZXR1cm4gY29tbW9uQW5jZXN0b3JDb250YWluZXI7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldE9mZnNldFBhcmVudChjb21tb25BbmNlc3RvckNvbnRhaW5lcik7XG4gIH1cblxuICAvLyBvbmUgb2YgdGhlIG5vZGVzIGlzIGluc2lkZSBzaGFkb3dET00sIGZpbmQgd2hpY2ggb25lXG4gIHZhciBlbGVtZW50MXJvb3QgPSBnZXRSb290KGVsZW1lbnQxKTtcbiAgaWYgKGVsZW1lbnQxcm9vdC5ob3N0KSB7XG4gICAgcmV0dXJuIGZpbmRDb21tb25PZmZzZXRQYXJlbnQoZWxlbWVudDFyb290Lmhvc3QsIGVsZW1lbnQyKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmluZENvbW1vbk9mZnNldFBhcmVudChlbGVtZW50MSwgZ2V0Um9vdChlbGVtZW50MikuaG9zdCk7XG4gIH1cbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBzY3JvbGwgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQgaW4gdGhlIGdpdmVuIHNpZGUgKHRvcCBhbmQgbGVmdClcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudFxuICogQGFyZ3VtZW50IHtTdHJpbmd9IHNpZGUgYHRvcGAgb3IgYGxlZnRgXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBhbW91bnQgb2Ygc2Nyb2xsZWQgcGl4ZWxzXG4gKi9cbmZ1bmN0aW9uIGdldFNjcm9sbChlbGVtZW50KSB7XG4gIHZhciBzaWRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAndG9wJztcblxuICB2YXIgdXBwZXJTaWRlID0gc2lkZSA9PT0gJ3RvcCcgPyAnc2Nyb2xsVG9wJyA6ICdzY3JvbGxMZWZ0JztcbiAgdmFyIG5vZGVOYW1lID0gZWxlbWVudC5ub2RlTmFtZTtcblxuICBpZiAobm9kZU5hbWUgPT09ICdCT0RZJyB8fCBub2RlTmFtZSA9PT0gJ0hUTUwnKSB7XG4gICAgdmFyIGh0bWwgPSB3aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgIHZhciBzY3JvbGxpbmdFbGVtZW50ID0gd2luZG93LmRvY3VtZW50LnNjcm9sbGluZ0VsZW1lbnQgfHwgaHRtbDtcbiAgICByZXR1cm4gc2Nyb2xsaW5nRWxlbWVudFt1cHBlclNpZGVdO1xuICB9XG5cbiAgcmV0dXJuIGVsZW1lbnRbdXBwZXJTaWRlXTtcbn1cblxuLypcbiAqIFN1bSBvciBzdWJ0cmFjdCB0aGUgZWxlbWVudCBzY3JvbGwgdmFsdWVzIChsZWZ0IGFuZCB0b3ApIGZyb20gYSBnaXZlbiByZWN0IG9iamVjdFxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQHBhcmFtIHtPYmplY3R9IHJlY3QgLSBSZWN0IG9iamVjdCB5b3Ugd2FudCB0byBjaGFuZ2VcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBUaGUgZWxlbWVudCBmcm9tIHRoZSBmdW5jdGlvbiByZWFkcyB0aGUgc2Nyb2xsIHZhbHVlc1xuICogQHBhcmFtIHtCb29sZWFufSBzdWJ0cmFjdCAtIHNldCB0byB0cnVlIGlmIHlvdSB3YW50IHRvIHN1YnRyYWN0IHRoZSBzY3JvbGwgdmFsdWVzXG4gKiBAcmV0dXJuIHtPYmplY3R9IHJlY3QgLSBUaGUgbW9kaWZpZXIgcmVjdCBvYmplY3RcbiAqL1xuZnVuY3Rpb24gaW5jbHVkZVNjcm9sbChyZWN0LCBlbGVtZW50KSB7XG4gIHZhciBzdWJ0cmFjdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7XG5cbiAgdmFyIHNjcm9sbFRvcCA9IGdldFNjcm9sbChlbGVtZW50LCAndG9wJyk7XG4gIHZhciBzY3JvbGxMZWZ0ID0gZ2V0U2Nyb2xsKGVsZW1lbnQsICdsZWZ0Jyk7XG4gIHZhciBtb2RpZmllciA9IHN1YnRyYWN0ID8gLTEgOiAxO1xuICByZWN0LnRvcCArPSBzY3JvbGxUb3AgKiBtb2RpZmllcjtcbiAgcmVjdC5ib3R0b20gKz0gc2Nyb2xsVG9wICogbW9kaWZpZXI7XG4gIHJlY3QubGVmdCArPSBzY3JvbGxMZWZ0ICogbW9kaWZpZXI7XG4gIHJlY3QucmlnaHQgKz0gc2Nyb2xsTGVmdCAqIG1vZGlmaWVyO1xuICByZXR1cm4gcmVjdDtcbn1cblxuLypcbiAqIEhlbHBlciB0byBkZXRlY3QgYm9yZGVycyBvZiBhIGdpdmVuIGVsZW1lbnRcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBwYXJhbSB7Q1NTU3R5bGVEZWNsYXJhdGlvbn0gc3R5bGVzXG4gKiBSZXN1bHQgb2YgYGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eWAgb24gdGhlIGdpdmVuIGVsZW1lbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBheGlzIC0gYHhgIG9yIGB5YFxuICogQHJldHVybiB7bnVtYmVyfSBib3JkZXJzIC0gVGhlIGJvcmRlcnMgc2l6ZSBvZiB0aGUgZ2l2ZW4gYXhpc1xuICovXG5cbmZ1bmN0aW9uIGdldEJvcmRlcnNTaXplKHN0eWxlcywgYXhpcykge1xuICB2YXIgc2lkZUEgPSBheGlzID09PSAneCcgPyAnTGVmdCcgOiAnVG9wJztcbiAgdmFyIHNpZGVCID0gc2lkZUEgPT09ICdMZWZ0JyA/ICdSaWdodCcgOiAnQm90dG9tJztcblxuICByZXR1cm4gK3N0eWxlc1snYm9yZGVyJyArIHNpZGVBICsgJ1dpZHRoJ10uc3BsaXQoJ3B4JylbMF0gKyArc3R5bGVzWydib3JkZXInICsgc2lkZUIgKyAnV2lkdGgnXS5zcGxpdCgncHgnKVswXTtcbn1cblxuLyoqXG4gKiBUZWxscyBpZiB5b3UgYXJlIHJ1bm5pbmcgSW50ZXJuZXQgRXhwbG9yZXIgMTBcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEByZXR1cm5zIHtCb29sZWFufSBpc0lFMTBcbiAqL1xudmFyIGlzSUUxMCA9IHVuZGVmaW5lZDtcblxudmFyIGlzSUUxMCQxID0gZnVuY3Rpb24gaXNJRTEwJDEoKSB7XG4gIGlmIChpc0lFMTAgPT09IHVuZGVmaW5lZCkge1xuICAgIGlzSUUxMCA9IG5hdmlnYXRvci5hcHBWZXJzaW9uLmluZGV4T2YoJ01TSUUgMTAnKSAhPT0gLTE7XG4gIH1cbiAgcmV0dXJuIGlzSUUxMDtcbn07XG5cbmZ1bmN0aW9uIGdldFNpemUoYXhpcywgYm9keSwgaHRtbCwgY29tcHV0ZWRTdHlsZSwgaW5jbHVkZVNjcm9sbCkge1xuICByZXR1cm4gTWF0aC5tYXgoYm9keVsnb2Zmc2V0JyArIGF4aXNdLCBpbmNsdWRlU2Nyb2xsID8gYm9keVsnc2Nyb2xsJyArIGF4aXNdIDogMCwgaHRtbFsnY2xpZW50JyArIGF4aXNdLCBodG1sWydvZmZzZXQnICsgYXhpc10sIGluY2x1ZGVTY3JvbGwgPyBodG1sWydzY3JvbGwnICsgYXhpc10gOiAwLCBpc0lFMTAkMSgpID8gaHRtbFsnb2Zmc2V0JyArIGF4aXNdICsgY29tcHV0ZWRTdHlsZVsnbWFyZ2luJyArIChheGlzID09PSAnSGVpZ2h0JyA/ICdUb3AnIDogJ0xlZnQnKV0gKyBjb21wdXRlZFN0eWxlWydtYXJnaW4nICsgKGF4aXMgPT09ICdIZWlnaHQnID8gJ0JvdHRvbScgOiAnUmlnaHQnKV0gOiAwKTtcbn1cblxuZnVuY3Rpb24gZ2V0V2luZG93U2l6ZXMoKSB7XG4gIHZhciBpbmNsdWRlU2Nyb2xsID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0cnVlO1xuXG4gIHZhciBib2R5ID0gd2luZG93LmRvY3VtZW50LmJvZHk7XG4gIHZhciBodG1sID0gd2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgdmFyIGNvbXB1dGVkU3R5bGUgPSBpc0lFMTAkMSgpICYmIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGh0bWwpO1xuXG4gIHJldHVybiB7XG4gICAgaGVpZ2h0OiBnZXRTaXplKCdIZWlnaHQnLCBib2R5LCBodG1sLCBjb21wdXRlZFN0eWxlLCBpbmNsdWRlU2Nyb2xsKSxcbiAgICB3aWR0aDogZ2V0U2l6ZSgnV2lkdGgnLCBib2R5LCBodG1sLCBjb21wdXRlZFN0eWxlLCBpbmNsdWRlU2Nyb2xsKVxuICB9O1xufVxuXG52YXIgY2xhc3NDYWxsQ2hlY2sgPSBmdW5jdGlvbiBjbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59O1xuXG52YXIgY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH07XG59KCk7XG5cbnZhciBkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59O1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufTtcblxuLyoqXG4gKiBHaXZlbiBlbGVtZW50IG9mZnNldHMsIGdlbmVyYXRlIGFuIG91dHB1dCBzaW1pbGFyIHRvIGdldEJvdW5kaW5nQ2xpZW50UmVjdFxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IG9mZnNldHNcbiAqIEByZXR1cm5zIHtPYmplY3R9IENsaWVudFJlY3QgbGlrZSBvdXRwdXRcbiAqL1xuZnVuY3Rpb24gZ2V0Q2xpZW50UmVjdChvZmZzZXRzKSB7XG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgb2Zmc2V0cywge1xuICAgIHJpZ2h0OiBvZmZzZXRzLmxlZnQgKyBvZmZzZXRzLndpZHRoLFxuICAgIGJvdHRvbTogb2Zmc2V0cy50b3AgKyBvZmZzZXRzLmhlaWdodFxuICB9KTtcbn1cblxuLyoqXG4gKiBHZXQgYm91bmRpbmcgY2xpZW50IHJlY3Qgb2YgZ2l2ZW4gZWxlbWVudFxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybiB7T2JqZWN0fSBjbGllbnQgcmVjdFxuICovXG5mdW5jdGlvbiBnZXRCb3VuZGluZ0NsaWVudFJlY3QoZWxlbWVudCkge1xuICB2YXIgcmVjdCA9IHt9O1xuXG4gIC8vIElFMTAgMTAgRklYOiBQbGVhc2UsIGRvbid0IGFzaywgdGhlIGVsZW1lbnQgaXNuJ3RcbiAgLy8gY29uc2lkZXJlZCBpbiBET00gaW4gc29tZSBjaXJjdW1zdGFuY2VzLi4uXG4gIC8vIFRoaXMgaXNuJ3QgcmVwcm9kdWNpYmxlIGluIElFMTAgY29tcGF0aWJpbGl0eSBtb2RlIG9mIElFMTFcbiAgaWYgKGlzSUUxMCQxKCkpIHtcbiAgICB0cnkge1xuICAgICAgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB2YXIgc2Nyb2xsVG9wID0gZ2V0U2Nyb2xsKGVsZW1lbnQsICd0b3AnKTtcbiAgICAgIHZhciBzY3JvbGxMZWZ0ID0gZ2V0U2Nyb2xsKGVsZW1lbnQsICdsZWZ0Jyk7XG4gICAgICByZWN0LnRvcCArPSBzY3JvbGxUb3A7XG4gICAgICByZWN0LmxlZnQgKz0gc2Nyb2xsTGVmdDtcbiAgICAgIHJlY3QuYm90dG9tICs9IHNjcm9sbFRvcDtcbiAgICAgIHJlY3QucmlnaHQgKz0gc2Nyb2xsTGVmdDtcbiAgICB9IGNhdGNoIChlcnIpIHt9XG4gIH0gZWxzZSB7XG4gICAgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIH1cblxuICB2YXIgcmVzdWx0ID0ge1xuICAgIGxlZnQ6IHJlY3QubGVmdCxcbiAgICB0b3A6IHJlY3QudG9wLFxuICAgIHdpZHRoOiByZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0LFxuICAgIGhlaWdodDogcmVjdC5ib3R0b20gLSByZWN0LnRvcFxuICB9O1xuXG4gIC8vIHN1YnRyYWN0IHNjcm9sbGJhciBzaXplIGZyb20gc2l6ZXNcbiAgdmFyIHNpemVzID0gZWxlbWVudC5ub2RlTmFtZSA9PT0gJ0hUTUwnID8gZ2V0V2luZG93U2l6ZXMoKSA6IHt9O1xuICB2YXIgd2lkdGggPSBzaXplcy53aWR0aCB8fCBlbGVtZW50LmNsaWVudFdpZHRoIHx8IHJlc3VsdC5yaWdodCAtIHJlc3VsdC5sZWZ0O1xuICB2YXIgaGVpZ2h0ID0gc2l6ZXMuaGVpZ2h0IHx8IGVsZW1lbnQuY2xpZW50SGVpZ2h0IHx8IHJlc3VsdC5ib3R0b20gLSByZXN1bHQudG9wO1xuXG4gIHZhciBob3JpelNjcm9sbGJhciA9IGVsZW1lbnQub2Zmc2V0V2lkdGggLSB3aWR0aDtcbiAgdmFyIHZlcnRTY3JvbGxiYXIgPSBlbGVtZW50Lm9mZnNldEhlaWdodCAtIGhlaWdodDtcblxuICAvLyBpZiBhbiBoeXBvdGhldGljYWwgc2Nyb2xsYmFyIGlzIGRldGVjdGVkLCB3ZSBtdXN0IGJlIHN1cmUgaXQncyBub3QgYSBgYm9yZGVyYFxuICAvLyB3ZSBtYWtlIHRoaXMgY2hlY2sgY29uZGl0aW9uYWwgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnNcbiAgaWYgKGhvcml6U2Nyb2xsYmFyIHx8IHZlcnRTY3JvbGxiYXIpIHtcbiAgICB2YXIgc3R5bGVzID0gZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5KGVsZW1lbnQpO1xuICAgIGhvcml6U2Nyb2xsYmFyIC09IGdldEJvcmRlcnNTaXplKHN0eWxlcywgJ3gnKTtcbiAgICB2ZXJ0U2Nyb2xsYmFyIC09IGdldEJvcmRlcnNTaXplKHN0eWxlcywgJ3knKTtcblxuICAgIHJlc3VsdC53aWR0aCAtPSBob3JpelNjcm9sbGJhcjtcbiAgICByZXN1bHQuaGVpZ2h0IC09IHZlcnRTY3JvbGxiYXI7XG4gIH1cblxuICByZXR1cm4gZ2V0Q2xpZW50UmVjdChyZXN1bHQpO1xufVxuXG5mdW5jdGlvbiBnZXRPZmZzZXRSZWN0UmVsYXRpdmVUb0FyYml0cmFyeU5vZGUoY2hpbGRyZW4sIHBhcmVudCkge1xuICB2YXIgaXNJRTEwID0gaXNJRTEwJDEoKTtcbiAgdmFyIGlzSFRNTCA9IHBhcmVudC5ub2RlTmFtZSA9PT0gJ0hUTUwnO1xuICB2YXIgY2hpbGRyZW5SZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGNoaWxkcmVuKTtcbiAgdmFyIHBhcmVudFJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QocGFyZW50KTtcbiAgdmFyIHNjcm9sbFBhcmVudCA9IGdldFNjcm9sbFBhcmVudChjaGlsZHJlbik7XG5cbiAgdmFyIHN0eWxlcyA9IGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eShwYXJlbnQpO1xuICB2YXIgYm9yZGVyVG9wV2lkdGggPSArc3R5bGVzLmJvcmRlclRvcFdpZHRoLnNwbGl0KCdweCcpWzBdO1xuICB2YXIgYm9yZGVyTGVmdFdpZHRoID0gK3N0eWxlcy5ib3JkZXJMZWZ0V2lkdGguc3BsaXQoJ3B4JylbMF07XG5cbiAgdmFyIG9mZnNldHMgPSBnZXRDbGllbnRSZWN0KHtcbiAgICB0b3A6IGNoaWxkcmVuUmVjdC50b3AgLSBwYXJlbnRSZWN0LnRvcCAtIGJvcmRlclRvcFdpZHRoLFxuICAgIGxlZnQ6IGNoaWxkcmVuUmVjdC5sZWZ0IC0gcGFyZW50UmVjdC5sZWZ0IC0gYm9yZGVyTGVmdFdpZHRoLFxuICAgIHdpZHRoOiBjaGlsZHJlblJlY3Qud2lkdGgsXG4gICAgaGVpZ2h0OiBjaGlsZHJlblJlY3QuaGVpZ2h0XG4gIH0pO1xuICBvZmZzZXRzLm1hcmdpblRvcCA9IDA7XG4gIG9mZnNldHMubWFyZ2luTGVmdCA9IDA7XG5cbiAgLy8gU3VidHJhY3QgbWFyZ2lucyBvZiBkb2N1bWVudEVsZW1lbnQgaW4gY2FzZSBpdCdzIGJlaW5nIHVzZWQgYXMgcGFyZW50XG4gIC8vIHdlIGRvIHRoaXMgb25seSBvbiBIVE1MIGJlY2F1c2UgaXQncyB0aGUgb25seSBlbGVtZW50IHRoYXQgYmVoYXZlc1xuICAvLyBkaWZmZXJlbnRseSB3aGVuIG1hcmdpbnMgYXJlIGFwcGxpZWQgdG8gaXQuIFRoZSBtYXJnaW5zIGFyZSBpbmNsdWRlZCBpblxuICAvLyB0aGUgYm94IG9mIHRoZSBkb2N1bWVudEVsZW1lbnQsIGluIHRoZSBvdGhlciBjYXNlcyBub3QuXG4gIGlmICghaXNJRTEwICYmIGlzSFRNTCkge1xuICAgIHZhciBtYXJnaW5Ub3AgPSArc3R5bGVzLm1hcmdpblRvcC5zcGxpdCgncHgnKVswXTtcbiAgICB2YXIgbWFyZ2luTGVmdCA9ICtzdHlsZXMubWFyZ2luTGVmdC5zcGxpdCgncHgnKVswXTtcblxuICAgIG9mZnNldHMudG9wIC09IGJvcmRlclRvcFdpZHRoIC0gbWFyZ2luVG9wO1xuICAgIG9mZnNldHMuYm90dG9tIC09IGJvcmRlclRvcFdpZHRoIC0gbWFyZ2luVG9wO1xuICAgIG9mZnNldHMubGVmdCAtPSBib3JkZXJMZWZ0V2lkdGggLSBtYXJnaW5MZWZ0O1xuICAgIG9mZnNldHMucmlnaHQgLT0gYm9yZGVyTGVmdFdpZHRoIC0gbWFyZ2luTGVmdDtcblxuICAgIC8vIEF0dGFjaCBtYXJnaW5Ub3AgYW5kIG1hcmdpbkxlZnQgYmVjYXVzZSBpbiBzb21lIGNpcmN1bXN0YW5jZXMgd2UgbWF5IG5lZWQgdGhlbVxuICAgIG9mZnNldHMubWFyZ2luVG9wID0gbWFyZ2luVG9wO1xuICAgIG9mZnNldHMubWFyZ2luTGVmdCA9IG1hcmdpbkxlZnQ7XG4gIH1cblxuICBpZiAoaXNJRTEwID8gcGFyZW50LmNvbnRhaW5zKHNjcm9sbFBhcmVudCkgOiBwYXJlbnQgPT09IHNjcm9sbFBhcmVudCAmJiBzY3JvbGxQYXJlbnQubm9kZU5hbWUgIT09ICdCT0RZJykge1xuICAgIG9mZnNldHMgPSBpbmNsdWRlU2Nyb2xsKG9mZnNldHMsIHBhcmVudCk7XG4gIH1cblxuICByZXR1cm4gb2Zmc2V0cztcbn1cblxuZnVuY3Rpb24gZ2V0Vmlld3BvcnRPZmZzZXRSZWN0UmVsYXRpdmVUb0FydGJpdHJhcnlOb2RlKGVsZW1lbnQpIHtcbiAgdmFyIGh0bWwgPSB3aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICB2YXIgcmVsYXRpdmVPZmZzZXQgPSBnZXRPZmZzZXRSZWN0UmVsYXRpdmVUb0FyYml0cmFyeU5vZGUoZWxlbWVudCwgaHRtbCk7XG4gIHZhciB3aWR0aCA9IE1hdGgubWF4KGh0bWwuY2xpZW50V2lkdGgsIHdpbmRvdy5pbm5lcldpZHRoIHx8IDApO1xuICB2YXIgaGVpZ2h0ID0gTWF0aC5tYXgoaHRtbC5jbGllbnRIZWlnaHQsIHdpbmRvdy5pbm5lckhlaWdodCB8fCAwKTtcblxuICB2YXIgc2Nyb2xsVG9wID0gZ2V0U2Nyb2xsKGh0bWwpO1xuICB2YXIgc2Nyb2xsTGVmdCA9IGdldFNjcm9sbChodG1sLCAnbGVmdCcpO1xuXG4gIHZhciBvZmZzZXQgPSB7XG4gICAgdG9wOiBzY3JvbGxUb3AgLSByZWxhdGl2ZU9mZnNldC50b3AgKyByZWxhdGl2ZU9mZnNldC5tYXJnaW5Ub3AsXG4gICAgbGVmdDogc2Nyb2xsTGVmdCAtIHJlbGF0aXZlT2Zmc2V0LmxlZnQgKyByZWxhdGl2ZU9mZnNldC5tYXJnaW5MZWZ0LFxuICAgIHdpZHRoOiB3aWR0aCxcbiAgICBoZWlnaHQ6IGhlaWdodFxuICB9O1xuXG4gIHJldHVybiBnZXRDbGllbnRSZWN0KG9mZnNldCk7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIGdpdmVuIGVsZW1lbnQgaXMgZml4ZWQgb3IgaXMgaW5zaWRlIGEgZml4ZWQgcGFyZW50XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gY3VzdG9tQ29udGFpbmVyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gYW5zd2VyIHRvIFwiaXNGaXhlZD9cIlxuICovXG5mdW5jdGlvbiBpc0ZpeGVkKGVsZW1lbnQpIHtcbiAgdmFyIG5vZGVOYW1lID0gZWxlbWVudC5ub2RlTmFtZTtcbiAgaWYgKG5vZGVOYW1lID09PSAnQk9EWScgfHwgbm9kZU5hbWUgPT09ICdIVE1MJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5KGVsZW1lbnQsICdwb3NpdGlvbicpID09PSAnZml4ZWQnKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGlzRml4ZWQoZ2V0UGFyZW50Tm9kZShlbGVtZW50KSk7XG59XG5cbi8qKlxuICogQ29tcHV0ZWQgdGhlIGJvdW5kYXJpZXMgbGltaXRzIGFuZCByZXR1cm4gdGhlbVxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcG9wcGVyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSByZWZlcmVuY2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBwYWRkaW5nXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBib3VuZGFyaWVzRWxlbWVudCAtIEVsZW1lbnQgdXNlZCB0byBkZWZpbmUgdGhlIGJvdW5kYXJpZXNcbiAqIEByZXR1cm5zIHtPYmplY3R9IENvb3JkaW5hdGVzIG9mIHRoZSBib3VuZGFyaWVzXG4gKi9cbmZ1bmN0aW9uIGdldEJvdW5kYXJpZXMocG9wcGVyLCByZWZlcmVuY2UsIHBhZGRpbmcsIGJvdW5kYXJpZXNFbGVtZW50KSB7XG4gIC8vIE5PVEU6IDEgRE9NIGFjY2VzcyBoZXJlXG4gIHZhciBib3VuZGFyaWVzID0geyB0b3A6IDAsIGxlZnQ6IDAgfTtcbiAgdmFyIG9mZnNldFBhcmVudCA9IGZpbmRDb21tb25PZmZzZXRQYXJlbnQocG9wcGVyLCByZWZlcmVuY2UpO1xuXG4gIC8vIEhhbmRsZSB2aWV3cG9ydCBjYXNlXG4gIGlmIChib3VuZGFyaWVzRWxlbWVudCA9PT0gJ3ZpZXdwb3J0Jykge1xuICAgIGJvdW5kYXJpZXMgPSBnZXRWaWV3cG9ydE9mZnNldFJlY3RSZWxhdGl2ZVRvQXJ0Yml0cmFyeU5vZGUob2Zmc2V0UGFyZW50KTtcbiAgfSBlbHNlIHtcbiAgICAvLyBIYW5kbGUgb3RoZXIgY2FzZXMgYmFzZWQgb24gRE9NIGVsZW1lbnQgdXNlZCBhcyBib3VuZGFyaWVzXG4gICAgdmFyIGJvdW5kYXJpZXNOb2RlID0gdm9pZCAwO1xuICAgIGlmIChib3VuZGFyaWVzRWxlbWVudCA9PT0gJ3Njcm9sbFBhcmVudCcpIHtcbiAgICAgIGJvdW5kYXJpZXNOb2RlID0gZ2V0U2Nyb2xsUGFyZW50KGdldFBhcmVudE5vZGUocG9wcGVyKSk7XG4gICAgICBpZiAoYm91bmRhcmllc05vZGUubm9kZU5hbWUgPT09ICdCT0RZJykge1xuICAgICAgICBib3VuZGFyaWVzTm9kZSA9IHdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChib3VuZGFyaWVzRWxlbWVudCA9PT0gJ3dpbmRvdycpIHtcbiAgICAgIGJvdW5kYXJpZXNOb2RlID0gd2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgYm91bmRhcmllc05vZGUgPSBib3VuZGFyaWVzRWxlbWVudDtcbiAgICB9XG5cbiAgICB2YXIgb2Zmc2V0cyA9IGdldE9mZnNldFJlY3RSZWxhdGl2ZVRvQXJiaXRyYXJ5Tm9kZShib3VuZGFyaWVzTm9kZSwgb2Zmc2V0UGFyZW50KTtcblxuICAgIC8vIEluIGNhc2Ugb2YgSFRNTCwgd2UgbmVlZCBhIGRpZmZlcmVudCBjb21wdXRhdGlvblxuICAgIGlmIChib3VuZGFyaWVzTm9kZS5ub2RlTmFtZSA9PT0gJ0hUTUwnICYmICFpc0ZpeGVkKG9mZnNldFBhcmVudCkpIHtcbiAgICAgIHZhciBfZ2V0V2luZG93U2l6ZXMgPSBnZXRXaW5kb3dTaXplcyhmYWxzZSksXG4gICAgICAgICAgaGVpZ2h0ID0gX2dldFdpbmRvd1NpemVzLmhlaWdodCxcbiAgICAgICAgICB3aWR0aCA9IF9nZXRXaW5kb3dTaXplcy53aWR0aDtcblxuICAgICAgYm91bmRhcmllcy50b3AgKz0gb2Zmc2V0cy50b3AgLSBvZmZzZXRzLm1hcmdpblRvcDtcbiAgICAgIGJvdW5kYXJpZXMuYm90dG9tID0gaGVpZ2h0ICsgb2Zmc2V0cy50b3A7XG4gICAgICBib3VuZGFyaWVzLmxlZnQgKz0gb2Zmc2V0cy5sZWZ0IC0gb2Zmc2V0cy5tYXJnaW5MZWZ0O1xuICAgICAgYm91bmRhcmllcy5yaWdodCA9IHdpZHRoICsgb2Zmc2V0cy5sZWZ0O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBmb3IgYWxsIHRoZSBvdGhlciBET00gZWxlbWVudHMsIHRoaXMgb25lIGlzIGdvb2RcbiAgICAgIGJvdW5kYXJpZXMgPSBvZmZzZXRzO1xuICAgIH1cbiAgfVxuXG4gIC8vIEFkZCBwYWRkaW5nc1xuICBib3VuZGFyaWVzLmxlZnQgKz0gcGFkZGluZztcbiAgYm91bmRhcmllcy50b3AgKz0gcGFkZGluZztcbiAgYm91bmRhcmllcy5yaWdodCAtPSBwYWRkaW5nO1xuICBib3VuZGFyaWVzLmJvdHRvbSAtPSBwYWRkaW5nO1xuXG4gIHJldHVybiBib3VuZGFyaWVzO1xufVxuXG5mdW5jdGlvbiBnZXRBcmVhKF9yZWYpIHtcbiAgdmFyIHdpZHRoID0gX3JlZi53aWR0aCxcbiAgICAgIGhlaWdodCA9IF9yZWYuaGVpZ2h0O1xuXG4gIHJldHVybiB3aWR0aCAqIGhlaWdodDtcbn1cblxuLyoqXG4gKiBVdGlsaXR5IHVzZWQgdG8gdHJhbnNmb3JtIHRoZSBgYXV0b2AgcGxhY2VtZW50IHRvIHRoZSBwbGFjZW1lbnQgd2l0aCBtb3JlXG4gKiBhdmFpbGFibGUgc3BhY2UuXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgdXBkYXRlIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBjb21wdXRlQXV0b1BsYWNlbWVudChwbGFjZW1lbnQsIHJlZlJlY3QsIHBvcHBlciwgcmVmZXJlbmNlLCBib3VuZGFyaWVzRWxlbWVudCkge1xuICB2YXIgcGFkZGluZyA9IGFyZ3VtZW50cy5sZW5ndGggPiA1ICYmIGFyZ3VtZW50c1s1XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzVdIDogMDtcblxuICBpZiAocGxhY2VtZW50LmluZGV4T2YoJ2F1dG8nKSA9PT0gLTEpIHtcbiAgICByZXR1cm4gcGxhY2VtZW50O1xuICB9XG5cbiAgdmFyIGJvdW5kYXJpZXMgPSBnZXRCb3VuZGFyaWVzKHBvcHBlciwgcmVmZXJlbmNlLCBwYWRkaW5nLCBib3VuZGFyaWVzRWxlbWVudCk7XG5cbiAgdmFyIHJlY3RzID0ge1xuICAgIHRvcDoge1xuICAgICAgd2lkdGg6IGJvdW5kYXJpZXMud2lkdGgsXG4gICAgICBoZWlnaHQ6IHJlZlJlY3QudG9wIC0gYm91bmRhcmllcy50b3BcbiAgICB9LFxuICAgIHJpZ2h0OiB7XG4gICAgICB3aWR0aDogYm91bmRhcmllcy5yaWdodCAtIHJlZlJlY3QucmlnaHQsXG4gICAgICBoZWlnaHQ6IGJvdW5kYXJpZXMuaGVpZ2h0XG4gICAgfSxcbiAgICBib3R0b206IHtcbiAgICAgIHdpZHRoOiBib3VuZGFyaWVzLndpZHRoLFxuICAgICAgaGVpZ2h0OiBib3VuZGFyaWVzLmJvdHRvbSAtIHJlZlJlY3QuYm90dG9tXG4gICAgfSxcbiAgICBsZWZ0OiB7XG4gICAgICB3aWR0aDogcmVmUmVjdC5sZWZ0IC0gYm91bmRhcmllcy5sZWZ0LFxuICAgICAgaGVpZ2h0OiBib3VuZGFyaWVzLmhlaWdodFxuICAgIH1cbiAgfTtcblxuICB2YXIgc29ydGVkQXJlYXMgPSBPYmplY3Qua2V5cyhyZWN0cykubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gX2V4dGVuZHMoe1xuICAgICAga2V5OiBrZXlcbiAgICB9LCByZWN0c1trZXldLCB7XG4gICAgICBhcmVhOiBnZXRBcmVhKHJlY3RzW2tleV0pXG4gICAgfSk7XG4gIH0pLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gYi5hcmVhIC0gYS5hcmVhO1xuICB9KTtcblxuICB2YXIgZmlsdGVyZWRBcmVhcyA9IHNvcnRlZEFyZWFzLmZpbHRlcihmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICB2YXIgd2lkdGggPSBfcmVmMi53aWR0aCxcbiAgICAgICAgaGVpZ2h0ID0gX3JlZjIuaGVpZ2h0O1xuICAgIHJldHVybiB3aWR0aCA+PSBwb3BwZXIuY2xpZW50V2lkdGggJiYgaGVpZ2h0ID49IHBvcHBlci5jbGllbnRIZWlnaHQ7XG4gIH0pO1xuXG4gIHZhciBjb21wdXRlZFBsYWNlbWVudCA9IGZpbHRlcmVkQXJlYXMubGVuZ3RoID4gMCA/IGZpbHRlcmVkQXJlYXNbMF0ua2V5IDogc29ydGVkQXJlYXNbMF0ua2V5O1xuXG4gIHZhciB2YXJpYXRpb24gPSBwbGFjZW1lbnQuc3BsaXQoJy0nKVsxXTtcblxuICByZXR1cm4gY29tcHV0ZWRQbGFjZW1lbnQgKyAodmFyaWF0aW9uID8gJy0nICsgdmFyaWF0aW9uIDogJycpO1xufVxuXG4vKipcbiAqIEdldCBvZmZzZXRzIHRvIHRoZSByZWZlcmVuY2UgZWxlbWVudFxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQHBhcmFtIHtPYmplY3R9IHN0YXRlXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHBvcHBlciAtIHRoZSBwb3BwZXIgZWxlbWVudFxuICogQHBhcmFtIHtFbGVtZW50fSByZWZlcmVuY2UgLSB0aGUgcmVmZXJlbmNlIGVsZW1lbnQgKHRoZSBwb3BwZXIgd2lsbCBiZSByZWxhdGl2ZSB0byB0aGlzKVxuICogQHJldHVybnMge09iamVjdH0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIG9mZnNldHMgd2hpY2ggd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBwb3BwZXJcbiAqL1xuZnVuY3Rpb24gZ2V0UmVmZXJlbmNlT2Zmc2V0cyhzdGF0ZSwgcG9wcGVyLCByZWZlcmVuY2UpIHtcbiAgdmFyIGNvbW1vbk9mZnNldFBhcmVudCA9IGZpbmRDb21tb25PZmZzZXRQYXJlbnQocG9wcGVyLCByZWZlcmVuY2UpO1xuICByZXR1cm4gZ2V0T2Zmc2V0UmVjdFJlbGF0aXZlVG9BcmJpdHJhcnlOb2RlKHJlZmVyZW5jZSwgY29tbW9uT2Zmc2V0UGFyZW50KTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIG91dGVyIHNpemVzIG9mIHRoZSBnaXZlbiBlbGVtZW50IChvZmZzZXQgc2l6ZSArIG1hcmdpbnMpXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtPYmplY3R9IG9iamVjdCBjb250YWluaW5nIHdpZHRoIGFuZCBoZWlnaHQgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBnZXRPdXRlclNpemVzKGVsZW1lbnQpIHtcbiAgdmFyIHN0eWxlcyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICB2YXIgeCA9IHBhcnNlRmxvYXQoc3R5bGVzLm1hcmdpblRvcCkgKyBwYXJzZUZsb2F0KHN0eWxlcy5tYXJnaW5Cb3R0b20pO1xuICB2YXIgeSA9IHBhcnNlRmxvYXQoc3R5bGVzLm1hcmdpbkxlZnQpICsgcGFyc2VGbG9hdChzdHlsZXMubWFyZ2luUmlnaHQpO1xuICB2YXIgcmVzdWx0ID0ge1xuICAgIHdpZHRoOiBlbGVtZW50Lm9mZnNldFdpZHRoICsgeSxcbiAgICBoZWlnaHQ6IGVsZW1lbnQub2Zmc2V0SGVpZ2h0ICsgeFxuICB9O1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldCB0aGUgb3Bwb3NpdGUgcGxhY2VtZW50IG9mIHRoZSBnaXZlbiBvbmVcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7U3RyaW5nfSBwbGFjZW1lbnRcbiAqIEByZXR1cm5zIHtTdHJpbmd9IGZsaXBwZWQgcGxhY2VtZW50XG4gKi9cbmZ1bmN0aW9uIGdldE9wcG9zaXRlUGxhY2VtZW50KHBsYWNlbWVudCkge1xuICB2YXIgaGFzaCA9IHsgbGVmdDogJ3JpZ2h0JywgcmlnaHQ6ICdsZWZ0JywgYm90dG9tOiAndG9wJywgdG9wOiAnYm90dG9tJyB9O1xuICByZXR1cm4gcGxhY2VtZW50LnJlcGxhY2UoL2xlZnR8cmlnaHR8Ym90dG9tfHRvcC9nLCBmdW5jdGlvbiAobWF0Y2hlZCkge1xuICAgIHJldHVybiBoYXNoW21hdGNoZWRdO1xuICB9KTtcbn1cblxuLyoqXG4gKiBHZXQgb2Zmc2V0cyB0byB0aGUgcG9wcGVyXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0ge09iamVjdH0gcG9zaXRpb24gLSBDU1MgcG9zaXRpb24gdGhlIFBvcHBlciB3aWxsIGdldCBhcHBsaWVkXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwb3BwZXIgLSB0aGUgcG9wcGVyIGVsZW1lbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSByZWZlcmVuY2VPZmZzZXRzIC0gdGhlIHJlZmVyZW5jZSBvZmZzZXRzICh0aGUgcG9wcGVyIHdpbGwgYmUgcmVsYXRpdmUgdG8gdGhpcylcbiAqIEBwYXJhbSB7U3RyaW5nfSBwbGFjZW1lbnQgLSBvbmUgb2YgdGhlIHZhbGlkIHBsYWNlbWVudCBvcHRpb25zXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBwb3BwZXJPZmZzZXRzIC0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIG9mZnNldHMgd2hpY2ggd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBwb3BwZXJcbiAqL1xuZnVuY3Rpb24gZ2V0UG9wcGVyT2Zmc2V0cyhwb3BwZXIsIHJlZmVyZW5jZU9mZnNldHMsIHBsYWNlbWVudCkge1xuICBwbGFjZW1lbnQgPSBwbGFjZW1lbnQuc3BsaXQoJy0nKVswXTtcblxuICAvLyBHZXQgcG9wcGVyIG5vZGUgc2l6ZXNcbiAgdmFyIHBvcHBlclJlY3QgPSBnZXRPdXRlclNpemVzKHBvcHBlcik7XG5cbiAgLy8gQWRkIHBvc2l0aW9uLCB3aWR0aCBhbmQgaGVpZ2h0IHRvIG91ciBvZmZzZXRzIG9iamVjdFxuICB2YXIgcG9wcGVyT2Zmc2V0cyA9IHtcbiAgICB3aWR0aDogcG9wcGVyUmVjdC53aWR0aCxcbiAgICBoZWlnaHQ6IHBvcHBlclJlY3QuaGVpZ2h0XG4gIH07XG5cbiAgLy8gZGVwZW5kaW5nIGJ5IHRoZSBwb3BwZXIgcGxhY2VtZW50IHdlIGhhdmUgdG8gY29tcHV0ZSBpdHMgb2Zmc2V0cyBzbGlnaHRseSBkaWZmZXJlbnRseVxuICB2YXIgaXNIb3JpeiA9IFsncmlnaHQnLCAnbGVmdCddLmluZGV4T2YocGxhY2VtZW50KSAhPT0gLTE7XG4gIHZhciBtYWluU2lkZSA9IGlzSG9yaXogPyAndG9wJyA6ICdsZWZ0JztcbiAgdmFyIHNlY29uZGFyeVNpZGUgPSBpc0hvcml6ID8gJ2xlZnQnIDogJ3RvcCc7XG4gIHZhciBtZWFzdXJlbWVudCA9IGlzSG9yaXogPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG4gIHZhciBzZWNvbmRhcnlNZWFzdXJlbWVudCA9ICFpc0hvcml6ID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuXG4gIHBvcHBlck9mZnNldHNbbWFpblNpZGVdID0gcmVmZXJlbmNlT2Zmc2V0c1ttYWluU2lkZV0gKyByZWZlcmVuY2VPZmZzZXRzW21lYXN1cmVtZW50XSAvIDIgLSBwb3BwZXJSZWN0W21lYXN1cmVtZW50XSAvIDI7XG4gIGlmIChwbGFjZW1lbnQgPT09IHNlY29uZGFyeVNpZGUpIHtcbiAgICBwb3BwZXJPZmZzZXRzW3NlY29uZGFyeVNpZGVdID0gcmVmZXJlbmNlT2Zmc2V0c1tzZWNvbmRhcnlTaWRlXSAtIHBvcHBlclJlY3Rbc2Vjb25kYXJ5TWVhc3VyZW1lbnRdO1xuICB9IGVsc2Uge1xuICAgIHBvcHBlck9mZnNldHNbc2Vjb25kYXJ5U2lkZV0gPSByZWZlcmVuY2VPZmZzZXRzW2dldE9wcG9zaXRlUGxhY2VtZW50KHNlY29uZGFyeVNpZGUpXTtcbiAgfVxuXG4gIHJldHVybiBwb3BwZXJPZmZzZXRzO1xufVxuXG4vKipcbiAqIE1pbWljcyB0aGUgYGZpbmRgIG1ldGhvZCBvZiBBcnJheVxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtBcnJheX0gYXJyXG4gKiBAYXJndW1lbnQgcHJvcFxuICogQGFyZ3VtZW50IHZhbHVlXG4gKiBAcmV0dXJucyBpbmRleCBvciAtMVxuICovXG5mdW5jdGlvbiBmaW5kJDEoYXJyLCBjaGVjaykge1xuICAvLyB1c2UgbmF0aXZlIGZpbmQgaWYgc3VwcG9ydGVkXG4gIGlmIChBcnJheS5wcm90b3R5cGUuZmluZCkge1xuICAgIHJldHVybiBhcnIuZmluZChjaGVjayk7XG4gIH1cblxuICAvLyB1c2UgYGZpbHRlcmAgdG8gb2J0YWluIHRoZSBzYW1lIGJlaGF2aW9yIG9mIGBmaW5kYFxuICByZXR1cm4gYXJyLmZpbHRlcihjaGVjaylbMF07XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hpbmcgb2JqZWN0XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0FycmF5fSBhcnJcbiAqIEBhcmd1bWVudCBwcm9wXG4gKiBAYXJndW1lbnQgdmFsdWVcbiAqIEByZXR1cm5zIGluZGV4IG9yIC0xXG4gKi9cbmZ1bmN0aW9uIGZpbmRJbmRleCQxKGFyciwgcHJvcCwgdmFsdWUpIHtcbiAgLy8gdXNlIG5hdGl2ZSBmaW5kSW5kZXggaWYgc3VwcG9ydGVkXG4gIGlmIChBcnJheS5wcm90b3R5cGUuZmluZEluZGV4KSB7XG4gICAgcmV0dXJuIGFyci5maW5kSW5kZXgoZnVuY3Rpb24gKGN1cikge1xuICAgICAgcmV0dXJuIGN1cltwcm9wXSA9PT0gdmFsdWU7XG4gICAgfSk7XG4gIH1cblxuICAvLyB1c2UgYGZpbmRgICsgYGluZGV4T2ZgIGlmIGBmaW5kSW5kZXhgIGlzbid0IHN1cHBvcnRlZFxuICB2YXIgbWF0Y2ggPSBmaW5kJDEoYXJyLCBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIG9ialtwcm9wXSA9PT0gdmFsdWU7XG4gIH0pO1xuICByZXR1cm4gYXJyLmluZGV4T2YobWF0Y2gpO1xufVxuXG4vKipcbiAqIExvb3AgdHJvdWdoIHRoZSBsaXN0IG9mIG1vZGlmaWVycyBhbmQgcnVuIHRoZW0gaW4gb3JkZXIsXG4gKiBlYWNoIG9mIHRoZW0gd2lsbCB0aGVuIGVkaXQgdGhlIGRhdGEgb2JqZWN0LlxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQHBhcmFtIHtkYXRhT2JqZWN0fSBkYXRhXG4gKiBAcGFyYW0ge0FycmF5fSBtb2RpZmllcnNcbiAqIEBwYXJhbSB7U3RyaW5nfSBlbmRzIC0gT3B0aW9uYWwgbW9kaWZpZXIgbmFtZSB1c2VkIGFzIHN0b3BwZXJcbiAqIEByZXR1cm5zIHtkYXRhT2JqZWN0fVxuICovXG5mdW5jdGlvbiBydW5Nb2RpZmllcnMobW9kaWZpZXJzLCBkYXRhLCBlbmRzKSB7XG4gIHZhciBtb2RpZmllcnNUb1J1biA9IGVuZHMgPT09IHVuZGVmaW5lZCA/IG1vZGlmaWVycyA6IG1vZGlmaWVycy5zbGljZSgwLCBmaW5kSW5kZXgkMShtb2RpZmllcnMsICduYW1lJywgZW5kcykpO1xuXG4gIG1vZGlmaWVyc1RvUnVuLmZvckVhY2goZnVuY3Rpb24gKG1vZGlmaWVyKSB7XG4gICAgaWYgKG1vZGlmaWVyLmZ1bmN0aW9uKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ2Btb2RpZmllci5mdW5jdGlvbmAgaXMgZGVwcmVjYXRlZCwgdXNlIGBtb2RpZmllci5mbmAhJyk7XG4gICAgfVxuICAgIHZhciBmbiA9IG1vZGlmaWVyLmZ1bmN0aW9uIHx8IG1vZGlmaWVyLmZuO1xuICAgIGlmIChtb2RpZmllci5lbmFibGVkICYmIGlzRnVuY3Rpb24oZm4pKSB7XG4gICAgICAvLyBBZGQgcHJvcGVydGllcyB0byBvZmZzZXRzIHRvIG1ha2UgdGhlbSBhIGNvbXBsZXRlIGNsaWVudFJlY3Qgb2JqZWN0XG4gICAgICAvLyB3ZSBkbyB0aGlzIGJlZm9yZSBlYWNoIG1vZGlmaWVyIHRvIG1ha2Ugc3VyZSB0aGUgcHJldmlvdXMgb25lIGRvZXNuJ3RcbiAgICAgIC8vIG1lc3Mgd2l0aCB0aGVzZSB2YWx1ZXNcbiAgICAgIGRhdGEub2Zmc2V0cy5wb3BwZXIgPSBnZXRDbGllbnRSZWN0KGRhdGEub2Zmc2V0cy5wb3BwZXIpO1xuICAgICAgZGF0YS5vZmZzZXRzLnJlZmVyZW5jZSA9IGdldENsaWVudFJlY3QoZGF0YS5vZmZzZXRzLnJlZmVyZW5jZSk7XG5cbiAgICAgIGRhdGEgPSBmbihkYXRhLCBtb2RpZmllcik7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBVcGRhdGVzIHRoZSBwb3NpdGlvbiBvZiB0aGUgcG9wcGVyLCBjb21wdXRpbmcgdGhlIG5ldyBvZmZzZXRzIGFuZCBhcHBseWluZ1xuICogdGhlIG5ldyBzdHlsZS48YnIgLz5cbiAqIFByZWZlciBgc2NoZWR1bGVVcGRhdGVgIG92ZXIgYHVwZGF0ZWAgYmVjYXVzZSBvZiBwZXJmb3JtYW5jZSByZWFzb25zLlxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlclxuICovXG5mdW5jdGlvbiB1cGRhdGUoKSB7XG4gIC8vIGlmIHBvcHBlciBpcyBkZXN0cm95ZWQsIGRvbid0IHBlcmZvcm0gYW55IGZ1cnRoZXIgdXBkYXRlXG4gIGlmICh0aGlzLnN0YXRlLmlzRGVzdHJveWVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGRhdGEgPSB7XG4gICAgaW5zdGFuY2U6IHRoaXMsXG4gICAgc3R5bGVzOiB7fSxcbiAgICBhcnJvd1N0eWxlczoge30sXG4gICAgYXR0cmlidXRlczoge30sXG4gICAgZmxpcHBlZDogZmFsc2UsXG4gICAgb2Zmc2V0czoge31cbiAgfTtcblxuICAvLyBjb21wdXRlIHJlZmVyZW5jZSBlbGVtZW50IG9mZnNldHNcbiAgZGF0YS5vZmZzZXRzLnJlZmVyZW5jZSA9IGdldFJlZmVyZW5jZU9mZnNldHModGhpcy5zdGF0ZSwgdGhpcy5wb3BwZXIsIHRoaXMucmVmZXJlbmNlKTtcblxuICAvLyBjb21wdXRlIGF1dG8gcGxhY2VtZW50LCBzdG9yZSBwbGFjZW1lbnQgaW5zaWRlIHRoZSBkYXRhIG9iamVjdCxcbiAgLy8gbW9kaWZpZXJzIHdpbGwgYmUgYWJsZSB0byBlZGl0IGBwbGFjZW1lbnRgIGlmIG5lZWRlZFxuICAvLyBhbmQgcmVmZXIgdG8gb3JpZ2luYWxQbGFjZW1lbnQgdG8ga25vdyB0aGUgb3JpZ2luYWwgdmFsdWVcbiAgZGF0YS5wbGFjZW1lbnQgPSBjb21wdXRlQXV0b1BsYWNlbWVudCh0aGlzLm9wdGlvbnMucGxhY2VtZW50LCBkYXRhLm9mZnNldHMucmVmZXJlbmNlLCB0aGlzLnBvcHBlciwgdGhpcy5yZWZlcmVuY2UsIHRoaXMub3B0aW9ucy5tb2RpZmllcnMuZmxpcC5ib3VuZGFyaWVzRWxlbWVudCwgdGhpcy5vcHRpb25zLm1vZGlmaWVycy5mbGlwLnBhZGRpbmcpO1xuXG4gIC8vIHN0b3JlIHRoZSBjb21wdXRlZCBwbGFjZW1lbnQgaW5zaWRlIGBvcmlnaW5hbFBsYWNlbWVudGBcbiAgZGF0YS5vcmlnaW5hbFBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50O1xuXG4gIC8vIGNvbXB1dGUgdGhlIHBvcHBlciBvZmZzZXRzXG4gIGRhdGEub2Zmc2V0cy5wb3BwZXIgPSBnZXRQb3BwZXJPZmZzZXRzKHRoaXMucG9wcGVyLCBkYXRhLm9mZnNldHMucmVmZXJlbmNlLCBkYXRhLnBsYWNlbWVudCk7XG4gIGRhdGEub2Zmc2V0cy5wb3BwZXIucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuXG4gIC8vIHJ1biB0aGUgbW9kaWZpZXJzXG4gIGRhdGEgPSBydW5Nb2RpZmllcnModGhpcy5tb2RpZmllcnMsIGRhdGEpO1xuXG4gIC8vIHRoZSBmaXJzdCBgdXBkYXRlYCB3aWxsIGNhbGwgYG9uQ3JlYXRlYCBjYWxsYmFja1xuICAvLyB0aGUgb3RoZXIgb25lcyB3aWxsIGNhbGwgYG9uVXBkYXRlYCBjYWxsYmFja1xuICBpZiAoIXRoaXMuc3RhdGUuaXNDcmVhdGVkKSB7XG4gICAgdGhpcy5zdGF0ZS5pc0NyZWF0ZWQgPSB0cnVlO1xuICAgIHRoaXMub3B0aW9ucy5vbkNyZWF0ZShkYXRhKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLm9wdGlvbnMub25VcGRhdGUoZGF0YSk7XG4gIH1cbn1cblxuLyoqXG4gKiBIZWxwZXIgdXNlZCB0byBrbm93IGlmIHRoZSBnaXZlbiBtb2RpZmllciBpcyBlbmFibGVkLlxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQHJldHVybnMge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzTW9kaWZpZXJFbmFibGVkKG1vZGlmaWVycywgbW9kaWZpZXJOYW1lKSB7XG4gIHJldHVybiBtb2RpZmllcnMuc29tZShmdW5jdGlvbiAoX3JlZikge1xuICAgIHZhciBuYW1lID0gX3JlZi5uYW1lLFxuICAgICAgICBlbmFibGVkID0gX3JlZi5lbmFibGVkO1xuICAgIHJldHVybiBlbmFibGVkICYmIG5hbWUgPT09IG1vZGlmaWVyTmFtZTtcbiAgfSk7XG59XG5cbi8qKlxuICogR2V0IHRoZSBwcmVmaXhlZCBzdXBwb3J0ZWQgcHJvcGVydHkgbmFtZVxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtTdHJpbmd9IHByb3BlcnR5IChjYW1lbENhc2UpXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBwcmVmaXhlZCBwcm9wZXJ0eSAoY2FtZWxDYXNlIG9yIFBhc2NhbENhc2UsIGRlcGVuZGluZyBvbiB0aGUgdmVuZG9yIHByZWZpeClcbiAqL1xuZnVuY3Rpb24gZ2V0U3VwcG9ydGVkUHJvcGVydHlOYW1lKHByb3BlcnR5KSB7XG4gIHZhciBwcmVmaXhlcyA9IFtmYWxzZSwgJ21zJywgJ1dlYmtpdCcsICdNb3onLCAnTyddO1xuICB2YXIgdXBwZXJQcm9wID0gcHJvcGVydHkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBwcm9wZXJ0eS5zbGljZSgxKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHByZWZpeGVzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgIHZhciBwcmVmaXggPSBwcmVmaXhlc1tpXTtcbiAgICB2YXIgdG9DaGVjayA9IHByZWZpeCA/ICcnICsgcHJlZml4ICsgdXBwZXJQcm9wIDogcHJvcGVydHk7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQuYm9keS5zdHlsZVt0b0NoZWNrXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiB0b0NoZWNrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBEZXN0cm95IHRoZSBwb3BwZXJcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXJcbiAqL1xuZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgdGhpcy5zdGF0ZS5pc0Rlc3Ryb3llZCA9IHRydWU7XG5cbiAgLy8gdG91Y2ggRE9NIG9ubHkgaWYgYGFwcGx5U3R5bGVgIG1vZGlmaWVyIGlzIGVuYWJsZWRcbiAgaWYgKGlzTW9kaWZpZXJFbmFibGVkKHRoaXMubW9kaWZpZXJzLCAnYXBwbHlTdHlsZScpKSB7XG4gICAgdGhpcy5wb3BwZXIucmVtb3ZlQXR0cmlidXRlKCd4LXBsYWNlbWVudCcpO1xuICAgIHRoaXMucG9wcGVyLnN0eWxlLmxlZnQgPSAnJztcbiAgICB0aGlzLnBvcHBlci5zdHlsZS5wb3NpdGlvbiA9ICcnO1xuICAgIHRoaXMucG9wcGVyLnN0eWxlLnRvcCA9ICcnO1xuICAgIHRoaXMucG9wcGVyLnN0eWxlW2dldFN1cHBvcnRlZFByb3BlcnR5TmFtZSgndHJhbnNmb3JtJyldID0gJyc7XG4gIH1cblxuICB0aGlzLmRpc2FibGVFdmVudExpc3RlbmVycygpO1xuXG4gIC8vIHJlbW92ZSB0aGUgcG9wcGVyIGlmIHVzZXIgZXhwbGljaXR5IGFza2VkIGZvciB0aGUgZGVsZXRpb24gb24gZGVzdHJveVxuICAvLyBkbyBub3QgdXNlIGByZW1vdmVgIGJlY2F1c2UgSUUxMSBkb2Vzbid0IHN1cHBvcnQgaXRcbiAgaWYgKHRoaXMub3B0aW9ucy5yZW1vdmVPbkRlc3Ryb3kpIHtcbiAgICB0aGlzLnBvcHBlci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucG9wcGVyKTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gYXR0YWNoVG9TY3JvbGxQYXJlbnRzKHNjcm9sbFBhcmVudCwgZXZlbnQsIGNhbGxiYWNrLCBzY3JvbGxQYXJlbnRzKSB7XG4gIHZhciBpc0JvZHkgPSBzY3JvbGxQYXJlbnQubm9kZU5hbWUgPT09ICdCT0RZJztcbiAgdmFyIHRhcmdldCA9IGlzQm9keSA/IHdpbmRvdyA6IHNjcm9sbFBhcmVudDtcbiAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGNhbGxiYWNrLCB7IHBhc3NpdmU6IHRydWUgfSk7XG5cbiAgaWYgKCFpc0JvZHkpIHtcbiAgICBhdHRhY2hUb1Njcm9sbFBhcmVudHMoZ2V0U2Nyb2xsUGFyZW50KHRhcmdldC5wYXJlbnROb2RlKSwgZXZlbnQsIGNhbGxiYWNrLCBzY3JvbGxQYXJlbnRzKTtcbiAgfVxuICBzY3JvbGxQYXJlbnRzLnB1c2godGFyZ2V0KTtcbn1cblxuLyoqXG4gKiBTZXR1cCBuZWVkZWQgZXZlbnQgbGlzdGVuZXJzIHVzZWQgdG8gdXBkYXRlIHRoZSBwb3BwZXIgcG9zaXRpb25cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHNldHVwRXZlbnRMaXN0ZW5lcnMocmVmZXJlbmNlLCBvcHRpb25zLCBzdGF0ZSwgdXBkYXRlQm91bmQpIHtcbiAgLy8gUmVzaXplIGV2ZW50IGxpc3RlbmVyIG9uIHdpbmRvd1xuICBzdGF0ZS51cGRhdGVCb3VuZCA9IHVwZGF0ZUJvdW5kO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgc3RhdGUudXBkYXRlQm91bmQsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcblxuICAvLyBTY3JvbGwgZXZlbnQgbGlzdGVuZXIgb24gc2Nyb2xsIHBhcmVudHNcbiAgdmFyIHNjcm9sbEVsZW1lbnQgPSBnZXRTY3JvbGxQYXJlbnQocmVmZXJlbmNlKTtcbiAgYXR0YWNoVG9TY3JvbGxQYXJlbnRzKHNjcm9sbEVsZW1lbnQsICdzY3JvbGwnLCBzdGF0ZS51cGRhdGVCb3VuZCwgc3RhdGUuc2Nyb2xsUGFyZW50cyk7XG4gIHN0YXRlLnNjcm9sbEVsZW1lbnQgPSBzY3JvbGxFbGVtZW50O1xuICBzdGF0ZS5ldmVudHNFbmFibGVkID0gdHJ1ZTtcblxuICByZXR1cm4gc3RhdGU7XG59XG5cbi8qKlxuICogSXQgd2lsbCBhZGQgcmVzaXplL3Njcm9sbCBldmVudHMgYW5kIHN0YXJ0IHJlY2FsY3VsYXRpbmdcbiAqIHBvc2l0aW9uIG9mIHRoZSBwb3BwZXIgZWxlbWVudCB3aGVuIHRoZXkgYXJlIHRyaWdnZXJlZC5cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXJcbiAqL1xuZnVuY3Rpb24gZW5hYmxlRXZlbnRMaXN0ZW5lcnMoKSB7XG4gIGlmICghdGhpcy5zdGF0ZS5ldmVudHNFbmFibGVkKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHNldHVwRXZlbnRMaXN0ZW5lcnModGhpcy5yZWZlcmVuY2UsIHRoaXMub3B0aW9ucywgdGhpcy5zdGF0ZSwgdGhpcy5zY2hlZHVsZVVwZGF0ZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmUgZXZlbnQgbGlzdGVuZXJzIHVzZWQgdG8gdXBkYXRlIHRoZSBwb3BwZXIgcG9zaXRpb25cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHJlZmVyZW5jZSwgc3RhdGUpIHtcbiAgLy8gUmVtb3ZlIHJlc2l6ZSBldmVudCBsaXN0ZW5lciBvbiB3aW5kb3dcbiAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHN0YXRlLnVwZGF0ZUJvdW5kKTtcblxuICAvLyBSZW1vdmUgc2Nyb2xsIGV2ZW50IGxpc3RlbmVyIG9uIHNjcm9sbCBwYXJlbnRzXG4gIHN0YXRlLnNjcm9sbFBhcmVudHMuZm9yRWFjaChmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHN0YXRlLnVwZGF0ZUJvdW5kKTtcbiAgfSk7XG5cbiAgLy8gUmVzZXQgc3RhdGVcbiAgc3RhdGUudXBkYXRlQm91bmQgPSBudWxsO1xuICBzdGF0ZS5zY3JvbGxQYXJlbnRzID0gW107XG4gIHN0YXRlLnNjcm9sbEVsZW1lbnQgPSBudWxsO1xuICBzdGF0ZS5ldmVudHNFbmFibGVkID0gZmFsc2U7XG4gIHJldHVybiBzdGF0ZTtcbn1cblxuLyoqXG4gKiBJdCB3aWxsIHJlbW92ZSByZXNpemUvc2Nyb2xsIGV2ZW50cyBhbmQgd29uJ3QgcmVjYWxjdWxhdGUgcG9wcGVyIHBvc2l0aW9uXG4gKiB3aGVuIHRoZXkgYXJlIHRyaWdnZXJlZC4gSXQgYWxzbyB3b24ndCB0cmlnZ2VyIG9uVXBkYXRlIGNhbGxiYWNrIGFueW1vcmUsXG4gKiB1bmxlc3MgeW91IGNhbGwgYHVwZGF0ZWAgbWV0aG9kIG1hbnVhbGx5LlxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlclxuICovXG5mdW5jdGlvbiBkaXNhYmxlRXZlbnRMaXN0ZW5lcnMoKSB7XG4gIGlmICh0aGlzLnN0YXRlLmV2ZW50c0VuYWJsZWQpIHtcbiAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5zY2hlZHVsZVVwZGF0ZSk7XG4gICAgdGhpcy5zdGF0ZSA9IHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRoaXMucmVmZXJlbmNlLCB0aGlzLnN0YXRlKTtcbiAgfVxufVxuXG4vKipcbiAqIFRlbGxzIGlmIGEgZ2l2ZW4gaW5wdXQgaXMgYSBudW1iZXJcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBwYXJhbSB7Kn0gaW5wdXQgdG8gY2hlY2tcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzTnVtZXJpYyhuKSB7XG4gIHJldHVybiBuICE9PSAnJyAmJiAhaXNOYU4ocGFyc2VGbG9hdChuKSkgJiYgaXNGaW5pdGUobik7XG59XG5cbi8qKlxuICogU2V0IHRoZSBzdHlsZSB0byB0aGUgZ2l2ZW4gcG9wcGVyXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50IHRvIGFwcGx5IHRoZSBzdHlsZSB0b1xuICogQGFyZ3VtZW50IHtPYmplY3R9IHN0eWxlc1xuICogT2JqZWN0IHdpdGggYSBsaXN0IG9mIHByb3BlcnRpZXMgYW5kIHZhbHVlcyB3aGljaCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gc2V0U3R5bGVzKGVsZW1lbnQsIHN0eWxlcykge1xuICBPYmplY3Qua2V5cyhzdHlsZXMpLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICB2YXIgdW5pdCA9ICcnO1xuICAgIC8vIGFkZCB1bml0IGlmIHRoZSB2YWx1ZSBpcyBudW1lcmljIGFuZCBpcyBvbmUgb2YgdGhlIGZvbGxvd2luZ1xuICAgIGlmIChbJ3dpZHRoJywgJ2hlaWdodCcsICd0b3AnLCAncmlnaHQnLCAnYm90dG9tJywgJ2xlZnQnXS5pbmRleE9mKHByb3ApICE9PSAtMSAmJiBpc051bWVyaWMoc3R5bGVzW3Byb3BdKSkge1xuICAgICAgdW5pdCA9ICdweCc7XG4gICAgfVxuICAgIGVsZW1lbnQuc3R5bGVbcHJvcF0gPSBzdHlsZXNbcHJvcF0gKyB1bml0O1xuICB9KTtcbn1cblxuLyoqXG4gKiBTZXQgdGhlIGF0dHJpYnV0ZXMgdG8gdGhlIGdpdmVuIHBvcHBlclxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50IC0gRWxlbWVudCB0byBhcHBseSB0aGUgYXR0cmlidXRlcyB0b1xuICogQGFyZ3VtZW50IHtPYmplY3R9IHN0eWxlc1xuICogT2JqZWN0IHdpdGggYSBsaXN0IG9mIHByb3BlcnRpZXMgYW5kIHZhbHVlcyB3aGljaCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gc2V0QXR0cmlidXRlcyhlbGVtZW50LCBhdHRyaWJ1dGVzKSB7XG4gIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICB2YXIgdmFsdWUgPSBhdHRyaWJ1dGVzW3Byb3BdO1xuICAgIGlmICh2YWx1ZSAhPT0gZmFsc2UpIHtcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKHByb3AsIGF0dHJpYnV0ZXNbcHJvcF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShwcm9wKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IGB1cGRhdGVgIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEuc3R5bGVzIC0gTGlzdCBvZiBzdHlsZSBwcm9wZXJ0aWVzIC0gdmFsdWVzIHRvIGFwcGx5IHRvIHBvcHBlciBlbGVtZW50XG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YS5hdHRyaWJ1dGVzIC0gTGlzdCBvZiBhdHRyaWJ1dGUgcHJvcGVydGllcyAtIHZhbHVlcyB0byBhcHBseSB0byBwb3BwZXIgZWxlbWVudFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIHNhbWUgZGF0YSBvYmplY3RcbiAqL1xuZnVuY3Rpb24gYXBwbHlTdHlsZShkYXRhKSB7XG4gIC8vIGFueSBwcm9wZXJ0eSBwcmVzZW50IGluIGBkYXRhLnN0eWxlc2Agd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBwb3BwZXIsXG4gIC8vIGluIHRoaXMgd2F5IHdlIGNhbiBtYWtlIHRoZSAzcmQgcGFydHkgbW9kaWZpZXJzIGFkZCBjdXN0b20gc3R5bGVzIHRvIGl0XG4gIC8vIEJlIGF3YXJlLCBtb2RpZmllcnMgY291bGQgb3ZlcnJpZGUgdGhlIHByb3BlcnRpZXMgZGVmaW5lZCBpbiB0aGUgcHJldmlvdXNcbiAgLy8gbGluZXMgb2YgdGhpcyBtb2RpZmllciFcbiAgc2V0U3R5bGVzKGRhdGEuaW5zdGFuY2UucG9wcGVyLCBkYXRhLnN0eWxlcyk7XG5cbiAgLy8gYW55IHByb3BlcnR5IHByZXNlbnQgaW4gYGRhdGEuYXR0cmlidXRlc2Agd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBwb3BwZXIsXG4gIC8vIHRoZXkgd2lsbCBiZSBzZXQgYXMgSFRNTCBhdHRyaWJ1dGVzIG9mIHRoZSBlbGVtZW50XG4gIHNldEF0dHJpYnV0ZXMoZGF0YS5pbnN0YW5jZS5wb3BwZXIsIGRhdGEuYXR0cmlidXRlcyk7XG5cbiAgLy8gaWYgYXJyb3dFbGVtZW50IGlzIGRlZmluZWQgYW5kIGFycm93U3R5bGVzIGhhcyBzb21lIHByb3BlcnRpZXNcbiAgaWYgKGRhdGEuYXJyb3dFbGVtZW50ICYmIE9iamVjdC5rZXlzKGRhdGEuYXJyb3dTdHlsZXMpLmxlbmd0aCkge1xuICAgIHNldFN0eWxlcyhkYXRhLmFycm93RWxlbWVudCwgZGF0YS5hcnJvd1N0eWxlcyk7XG4gIH1cblxuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBTZXQgdGhlIHgtcGxhY2VtZW50IGF0dHJpYnV0ZSBiZWZvcmUgZXZlcnl0aGluZyBlbHNlIGJlY2F1c2UgaXQgY291bGQgYmUgdXNlZFxuICogdG8gYWRkIG1hcmdpbnMgdG8gdGhlIHBvcHBlciBtYXJnaW5zIG5lZWRzIHRvIGJlIGNhbGN1bGF0ZWQgdG8gZ2V0IHRoZVxuICogY29ycmVjdCBwb3BwZXIgb2Zmc2V0cy5cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIubW9kaWZpZXJzXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSByZWZlcmVuY2UgLSBUaGUgcmVmZXJlbmNlIGVsZW1lbnQgdXNlZCB0byBwb3NpdGlvbiB0aGUgcG9wcGVyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwb3BwZXIgLSBUaGUgSFRNTCBlbGVtZW50IHVzZWQgYXMgcG9wcGVyLlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBQb3BwZXIuanMgb3B0aW9uc1xuICovXG5mdW5jdGlvbiBhcHBseVN0eWxlT25Mb2FkKHJlZmVyZW5jZSwgcG9wcGVyLCBvcHRpb25zLCBtb2RpZmllck9wdGlvbnMsIHN0YXRlKSB7XG4gIC8vIGNvbXB1dGUgcmVmZXJlbmNlIGVsZW1lbnQgb2Zmc2V0c1xuICB2YXIgcmVmZXJlbmNlT2Zmc2V0cyA9IGdldFJlZmVyZW5jZU9mZnNldHMoc3RhdGUsIHBvcHBlciwgcmVmZXJlbmNlKTtcblxuICAvLyBjb21wdXRlIGF1dG8gcGxhY2VtZW50LCBzdG9yZSBwbGFjZW1lbnQgaW5zaWRlIHRoZSBkYXRhIG9iamVjdCxcbiAgLy8gbW9kaWZpZXJzIHdpbGwgYmUgYWJsZSB0byBlZGl0IGBwbGFjZW1lbnRgIGlmIG5lZWRlZFxuICAvLyBhbmQgcmVmZXIgdG8gb3JpZ2luYWxQbGFjZW1lbnQgdG8ga25vdyB0aGUgb3JpZ2luYWwgdmFsdWVcbiAgdmFyIHBsYWNlbWVudCA9IGNvbXB1dGVBdXRvUGxhY2VtZW50KG9wdGlvbnMucGxhY2VtZW50LCByZWZlcmVuY2VPZmZzZXRzLCBwb3BwZXIsIHJlZmVyZW5jZSwgb3B0aW9ucy5tb2RpZmllcnMuZmxpcC5ib3VuZGFyaWVzRWxlbWVudCwgb3B0aW9ucy5tb2RpZmllcnMuZmxpcC5wYWRkaW5nKTtcblxuICBwb3BwZXIuc2V0QXR0cmlidXRlKCd4LXBsYWNlbWVudCcsIHBsYWNlbWVudCk7XG5cbiAgLy8gQXBwbHkgYHBvc2l0aW9uYCB0byBwb3BwZXIgYmVmb3JlIGFueXRoaW5nIGVsc2UgYmVjYXVzZVxuICAvLyB3aXRob3V0IHRoZSBwb3NpdGlvbiBhcHBsaWVkIHdlIGNhbid0IGd1YXJhbnRlZSBjb3JyZWN0IGNvbXB1dGF0aW9uc1xuICBzZXRTdHlsZXMocG9wcGVyLCB7IHBvc2l0aW9uOiAnYWJzb2x1dGUnIH0pO1xuXG4gIHJldHVybiBvcHRpb25zO1xufVxuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IGB1cGRhdGVgIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBjb21wdXRlU3R5bGUoZGF0YSwgb3B0aW9ucykge1xuICB2YXIgeCA9IG9wdGlvbnMueCxcbiAgICAgIHkgPSBvcHRpb25zLnk7XG4gIHZhciBwb3BwZXIgPSBkYXRhLm9mZnNldHMucG9wcGVyO1xuXG4gIC8vIFJlbW92ZSB0aGlzIGxlZ2FjeSBzdXBwb3J0IGluIFBvcHBlci5qcyB2MlxuXG4gIHZhciBsZWdhY3lHcHVBY2NlbGVyYXRpb25PcHRpb24gPSBmaW5kJDEoZGF0YS5pbnN0YW5jZS5tb2RpZmllcnMsIGZ1bmN0aW9uIChtb2RpZmllcikge1xuICAgIHJldHVybiBtb2RpZmllci5uYW1lID09PSAnYXBwbHlTdHlsZSc7XG4gIH0pLmdwdUFjY2VsZXJhdGlvbjtcbiAgaWYgKGxlZ2FjeUdwdUFjY2VsZXJhdGlvbk9wdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29uc29sZS53YXJuKCdXQVJOSU5HOiBgZ3B1QWNjZWxlcmF0aW9uYCBvcHRpb24gbW92ZWQgdG8gYGNvbXB1dGVTdHlsZWAgbW9kaWZpZXIgYW5kIHdpbGwgbm90IGJlIHN1cHBvcnRlZCBpbiBmdXR1cmUgdmVyc2lvbnMgb2YgUG9wcGVyLmpzIScpO1xuICB9XG4gIHZhciBncHVBY2NlbGVyYXRpb24gPSBsZWdhY3lHcHVBY2NlbGVyYXRpb25PcHRpb24gIT09IHVuZGVmaW5lZCA/IGxlZ2FjeUdwdUFjY2VsZXJhdGlvbk9wdGlvbiA6IG9wdGlvbnMuZ3B1QWNjZWxlcmF0aW9uO1xuXG4gIHZhciBvZmZzZXRQYXJlbnQgPSBnZXRPZmZzZXRQYXJlbnQoZGF0YS5pbnN0YW5jZS5wb3BwZXIpO1xuICB2YXIgb2Zmc2V0UGFyZW50UmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChvZmZzZXRQYXJlbnQpO1xuXG4gIC8vIFN0eWxlc1xuICB2YXIgc3R5bGVzID0ge1xuICAgIHBvc2l0aW9uOiBwb3BwZXIucG9zaXRpb25cbiAgfTtcblxuICAvLyBmbG9vciBzaWRlcyB0byBhdm9pZCBibHVycnkgdGV4dFxuICB2YXIgb2Zmc2V0cyA9IHtcbiAgICBsZWZ0OiBNYXRoLmZsb29yKHBvcHBlci5sZWZ0KSxcbiAgICB0b3A6IE1hdGguZmxvb3IocG9wcGVyLnRvcCksXG4gICAgYm90dG9tOiBNYXRoLmZsb29yKHBvcHBlci5ib3R0b20pLFxuICAgIHJpZ2h0OiBNYXRoLmZsb29yKHBvcHBlci5yaWdodClcbiAgfTtcblxuICB2YXIgc2lkZUEgPSB4ID09PSAnYm90dG9tJyA/ICd0b3AnIDogJ2JvdHRvbSc7XG4gIHZhciBzaWRlQiA9IHkgPT09ICdyaWdodCcgPyAnbGVmdCcgOiAncmlnaHQnO1xuXG4gIC8vIGlmIGdwdUFjY2VsZXJhdGlvbiBpcyBzZXQgdG8gYHRydWVgIGFuZCB0cmFuc2Zvcm0gaXMgc3VwcG9ydGVkLFxuICAvLyAgd2UgdXNlIGB0cmFuc2xhdGUzZGAgdG8gYXBwbHkgdGhlIHBvc2l0aW9uIHRvIHRoZSBwb3BwZXIgd2VcbiAgLy8gYXV0b21hdGljYWxseSB1c2UgdGhlIHN1cHBvcnRlZCBwcmVmaXhlZCB2ZXJzaW9uIGlmIG5lZWRlZFxuICB2YXIgcHJlZml4ZWRQcm9wZXJ0eSA9IGdldFN1cHBvcnRlZFByb3BlcnR5TmFtZSgndHJhbnNmb3JtJyk7XG5cbiAgLy8gbm93LCBsZXQncyBtYWtlIGEgc3RlcCBiYWNrIGFuZCBsb29rIGF0IHRoaXMgY29kZSBjbG9zZWx5ICh3dGY/KVxuICAvLyBJZiB0aGUgY29udGVudCBvZiB0aGUgcG9wcGVyIGdyb3dzIG9uY2UgaXQncyBiZWVuIHBvc2l0aW9uZWQsIGl0XG4gIC8vIG1heSBoYXBwZW4gdGhhdCB0aGUgcG9wcGVyIGdldHMgbWlzcGxhY2VkIGJlY2F1c2Ugb2YgdGhlIG5ldyBjb250ZW50XG4gIC8vIG92ZXJmbG93aW5nIGl0cyByZWZlcmVuY2UgZWxlbWVudFxuICAvLyBUbyBhdm9pZCB0aGlzIHByb2JsZW0sIHdlIHByb3ZpZGUgdHdvIG9wdGlvbnMgKHggYW5kIHkpLCB3aGljaCBhbGxvd1xuICAvLyB0aGUgY29uc3VtZXIgdG8gZGVmaW5lIHRoZSBvZmZzZXQgb3JpZ2luLlxuICAvLyBJZiB3ZSBwb3NpdGlvbiBhIHBvcHBlciBvbiB0b3Agb2YgYSByZWZlcmVuY2UgZWxlbWVudCwgd2UgY2FuIHNldFxuICAvLyBgeGAgdG8gYHRvcGAgdG8gbWFrZSB0aGUgcG9wcGVyIGdyb3cgdG93YXJkcyBpdHMgdG9wIGluc3RlYWQgb2ZcbiAgLy8gaXRzIGJvdHRvbS5cbiAgdmFyIGxlZnQgPSB2b2lkIDAsXG4gICAgICB0b3AgPSB2b2lkIDA7XG4gIGlmIChzaWRlQSA9PT0gJ2JvdHRvbScpIHtcbiAgICB0b3AgPSAtb2Zmc2V0UGFyZW50UmVjdC5oZWlnaHQgKyBvZmZzZXRzLmJvdHRvbTtcbiAgfSBlbHNlIHtcbiAgICB0b3AgPSBvZmZzZXRzLnRvcDtcbiAgfVxuICBpZiAoc2lkZUIgPT09ICdyaWdodCcpIHtcbiAgICBsZWZ0ID0gLW9mZnNldFBhcmVudFJlY3Qud2lkdGggKyBvZmZzZXRzLnJpZ2h0O1xuICB9IGVsc2Uge1xuICAgIGxlZnQgPSBvZmZzZXRzLmxlZnQ7XG4gIH1cbiAgaWYgKGdwdUFjY2VsZXJhdGlvbiAmJiBwcmVmaXhlZFByb3BlcnR5KSB7XG4gICAgc3R5bGVzW3ByZWZpeGVkUHJvcGVydHldID0gJ3RyYW5zbGF0ZTNkKCcgKyBsZWZ0ICsgJ3B4LCAnICsgdG9wICsgJ3B4LCAwKSc7XG4gICAgc3R5bGVzW3NpZGVBXSA9IDA7XG4gICAgc3R5bGVzW3NpZGVCXSA9IDA7XG4gICAgc3R5bGVzLndpbGxDaGFuZ2UgPSAndHJhbnNmb3JtJztcbiAgfSBlbHNlIHtcbiAgICAvLyBvdGh3ZXJpc2UsIHdlIHVzZSB0aGUgc3RhbmRhcmQgYHRvcGAsIGBsZWZ0YCwgYGJvdHRvbWAgYW5kIGByaWdodGAgcHJvcGVydGllc1xuICAgIHZhciBpbnZlcnRUb3AgPSBzaWRlQSA9PT0gJ2JvdHRvbScgPyAtMSA6IDE7XG4gICAgdmFyIGludmVydExlZnQgPSBzaWRlQiA9PT0gJ3JpZ2h0JyA/IC0xIDogMTtcbiAgICBzdHlsZXNbc2lkZUFdID0gdG9wICogaW52ZXJ0VG9wO1xuICAgIHN0eWxlc1tzaWRlQl0gPSBsZWZ0ICogaW52ZXJ0TGVmdDtcbiAgICBzdHlsZXMud2lsbENoYW5nZSA9IHNpZGVBICsgJywgJyArIHNpZGVCO1xuICB9XG5cbiAgLy8gQXR0cmlidXRlc1xuICB2YXIgYXR0cmlidXRlcyA9IHtcbiAgICAneC1wbGFjZW1lbnQnOiBkYXRhLnBsYWNlbWVudFxuICB9O1xuXG4gIC8vIFVwZGF0ZSBgZGF0YWAgYXR0cmlidXRlcywgc3R5bGVzIGFuZCBhcnJvd1N0eWxlc1xuICBkYXRhLmF0dHJpYnV0ZXMgPSBfZXh0ZW5kcyh7fSwgYXR0cmlidXRlcywgZGF0YS5hdHRyaWJ1dGVzKTtcbiAgZGF0YS5zdHlsZXMgPSBfZXh0ZW5kcyh7fSwgc3R5bGVzLCBkYXRhLnN0eWxlcyk7XG4gIGRhdGEuYXJyb3dTdHlsZXMgPSBfZXh0ZW5kcyh7fSwgZGF0YS5vZmZzZXRzLmFycm93LCBkYXRhLmFycm93U3R5bGVzKTtcblxuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgdXNlZCB0byBrbm93IGlmIHRoZSBnaXZlbiBtb2RpZmllciBkZXBlbmRzIGZyb20gYW5vdGhlciBvbmUuPGJyIC8+XG4gKiBJdCBjaGVja3MgaWYgdGhlIG5lZWRlZCBtb2RpZmllciBpcyBsaXN0ZWQgYW5kIGVuYWJsZWQuXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0ge0FycmF5fSBtb2RpZmllcnMgLSBsaXN0IG9mIG1vZGlmaWVyc1xuICogQHBhcmFtIHtTdHJpbmd9IHJlcXVlc3RpbmdOYW1lIC0gbmFtZSBvZiByZXF1ZXN0aW5nIG1vZGlmaWVyXG4gKiBAcGFyYW0ge1N0cmluZ30gcmVxdWVzdGVkTmFtZSAtIG5hbWUgb2YgcmVxdWVzdGVkIG1vZGlmaWVyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNNb2RpZmllclJlcXVpcmVkKG1vZGlmaWVycywgcmVxdWVzdGluZ05hbWUsIHJlcXVlc3RlZE5hbWUpIHtcbiAgdmFyIHJlcXVlc3RpbmcgPSBmaW5kJDEobW9kaWZpZXJzLCBmdW5jdGlvbiAoX3JlZikge1xuICAgIHZhciBuYW1lID0gX3JlZi5uYW1lO1xuICAgIHJldHVybiBuYW1lID09PSByZXF1ZXN0aW5nTmFtZTtcbiAgfSk7XG5cbiAgdmFyIGlzUmVxdWlyZWQgPSAhIXJlcXVlc3RpbmcgJiYgbW9kaWZpZXJzLnNvbWUoZnVuY3Rpb24gKG1vZGlmaWVyKSB7XG4gICAgcmV0dXJuIG1vZGlmaWVyLm5hbWUgPT09IHJlcXVlc3RlZE5hbWUgJiYgbW9kaWZpZXIuZW5hYmxlZCAmJiBtb2RpZmllci5vcmRlciA8IHJlcXVlc3Rpbmcub3JkZXI7XG4gIH0pO1xuXG4gIGlmICghaXNSZXF1aXJlZCkge1xuICAgIHZhciBfcmVxdWVzdGluZyA9ICdgJyArIHJlcXVlc3RpbmdOYW1lICsgJ2AnO1xuICAgIHZhciByZXF1ZXN0ZWQgPSAnYCcgKyByZXF1ZXN0ZWROYW1lICsgJ2AnO1xuICAgIGNvbnNvbGUud2FybihyZXF1ZXN0ZWQgKyAnIG1vZGlmaWVyIGlzIHJlcXVpcmVkIGJ5ICcgKyBfcmVxdWVzdGluZyArICcgbW9kaWZpZXIgaW4gb3JkZXIgdG8gd29yaywgYmUgc3VyZSB0byBpbmNsdWRlIGl0IGJlZm9yZSAnICsgX3JlcXVlc3RpbmcgKyAnIScpO1xuICB9XG4gIHJldHVybiBpc1JlcXVpcmVkO1xufVxuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IHVwZGF0ZSBtZXRob2RcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBkYXRhIG9iamVjdCwgcHJvcGVybHkgbW9kaWZpZWRcbiAqL1xuZnVuY3Rpb24gYXJyb3coZGF0YSwgb3B0aW9ucykge1xuICAvLyBhcnJvdyBkZXBlbmRzIG9uIGtlZXBUb2dldGhlciBpbiBvcmRlciB0byB3b3JrXG4gIGlmICghaXNNb2RpZmllclJlcXVpcmVkKGRhdGEuaW5zdGFuY2UubW9kaWZpZXJzLCAnYXJyb3cnLCAna2VlcFRvZ2V0aGVyJykpIHtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIHZhciBhcnJvd0VsZW1lbnQgPSBvcHRpb25zLmVsZW1lbnQ7XG5cbiAgLy8gaWYgYXJyb3dFbGVtZW50IGlzIGEgc3RyaW5nLCBzdXBwb3NlIGl0J3MgYSBDU1Mgc2VsZWN0b3JcbiAgaWYgKHR5cGVvZiBhcnJvd0VsZW1lbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgYXJyb3dFbGVtZW50ID0gZGF0YS5pbnN0YW5jZS5wb3BwZXIucXVlcnlTZWxlY3RvcihhcnJvd0VsZW1lbnQpO1xuXG4gICAgLy8gaWYgYXJyb3dFbGVtZW50IGlzIG5vdCBmb3VuZCwgZG9uJ3QgcnVuIHRoZSBtb2RpZmllclxuICAgIGlmICghYXJyb3dFbGVtZW50KSB7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gaWYgdGhlIGFycm93RWxlbWVudCBpc24ndCBhIHF1ZXJ5IHNlbGVjdG9yIHdlIG11c3QgY2hlY2sgdGhhdCB0aGVcbiAgICAvLyBwcm92aWRlZCBET00gbm9kZSBpcyBjaGlsZCBvZiBpdHMgcG9wcGVyIG5vZGVcbiAgICBpZiAoIWRhdGEuaW5zdGFuY2UucG9wcGVyLmNvbnRhaW5zKGFycm93RWxlbWVudCkpIHtcbiAgICAgIGNvbnNvbGUud2FybignV0FSTklORzogYGFycm93LmVsZW1lbnRgIG11c3QgYmUgY2hpbGQgb2YgaXRzIHBvcHBlciBlbGVtZW50IScpO1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICB9XG5cbiAgdmFyIHBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50LnNwbGl0KCctJylbMF07XG4gIHZhciBfZGF0YSRvZmZzZXRzID0gZGF0YS5vZmZzZXRzLFxuICAgICAgcG9wcGVyID0gX2RhdGEkb2Zmc2V0cy5wb3BwZXIsXG4gICAgICByZWZlcmVuY2UgPSBfZGF0YSRvZmZzZXRzLnJlZmVyZW5jZTtcblxuICB2YXIgaXNWZXJ0aWNhbCA9IFsnbGVmdCcsICdyaWdodCddLmluZGV4T2YocGxhY2VtZW50KSAhPT0gLTE7XG5cbiAgdmFyIGxlbiA9IGlzVmVydGljYWwgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG4gIHZhciBzaWRlQ2FwaXRhbGl6ZWQgPSBpc1ZlcnRpY2FsID8gJ1RvcCcgOiAnTGVmdCc7XG4gIHZhciBzaWRlID0gc2lkZUNhcGl0YWxpemVkLnRvTG93ZXJDYXNlKCk7XG4gIHZhciBhbHRTaWRlID0gaXNWZXJ0aWNhbCA/ICdsZWZ0JyA6ICd0b3AnO1xuICB2YXIgb3BTaWRlID0gaXNWZXJ0aWNhbCA/ICdib3R0b20nIDogJ3JpZ2h0JztcbiAgdmFyIGFycm93RWxlbWVudFNpemUgPSBnZXRPdXRlclNpemVzKGFycm93RWxlbWVudClbbGVuXTtcblxuICAvL1xuICAvLyBleHRlbmRzIGtlZXBUb2dldGhlciBiZWhhdmlvciBtYWtpbmcgc3VyZSB0aGUgcG9wcGVyIGFuZCBpdHNcbiAgLy8gcmVmZXJlbmNlIGhhdmUgZW5vdWdoIHBpeGVscyBpbiBjb25qdWN0aW9uXG4gIC8vXG5cbiAgLy8gdG9wL2xlZnQgc2lkZVxuICBpZiAocmVmZXJlbmNlW29wU2lkZV0gLSBhcnJvd0VsZW1lbnRTaXplIDwgcG9wcGVyW3NpZGVdKSB7XG4gICAgZGF0YS5vZmZzZXRzLnBvcHBlcltzaWRlXSAtPSBwb3BwZXJbc2lkZV0gLSAocmVmZXJlbmNlW29wU2lkZV0gLSBhcnJvd0VsZW1lbnRTaXplKTtcbiAgfVxuICAvLyBib3R0b20vcmlnaHQgc2lkZVxuICBpZiAocmVmZXJlbmNlW3NpZGVdICsgYXJyb3dFbGVtZW50U2l6ZSA+IHBvcHBlcltvcFNpZGVdKSB7XG4gICAgZGF0YS5vZmZzZXRzLnBvcHBlcltzaWRlXSArPSByZWZlcmVuY2Vbc2lkZV0gKyBhcnJvd0VsZW1lbnRTaXplIC0gcG9wcGVyW29wU2lkZV07XG4gIH1cblxuICAvLyBjb21wdXRlIGNlbnRlciBvZiB0aGUgcG9wcGVyXG4gIHZhciBjZW50ZXIgPSByZWZlcmVuY2Vbc2lkZV0gKyByZWZlcmVuY2VbbGVuXSAvIDIgLSBhcnJvd0VsZW1lbnRTaXplIC8gMjtcblxuICAvLyBDb21wdXRlIHRoZSBzaWRlVmFsdWUgdXNpbmcgdGhlIHVwZGF0ZWQgcG9wcGVyIG9mZnNldHNcbiAgLy8gdGFrZSBwb3BwZXIgbWFyZ2luIGluIGFjY291bnQgYmVjYXVzZSB3ZSBkb24ndCBoYXZlIHRoaXMgaW5mbyBhdmFpbGFibGVcbiAgdmFyIHBvcHBlck1hcmdpblNpZGUgPSBnZXRTdHlsZUNvbXB1dGVkUHJvcGVydHkoZGF0YS5pbnN0YW5jZS5wb3BwZXIsICdtYXJnaW4nICsgc2lkZUNhcGl0YWxpemVkKS5yZXBsYWNlKCdweCcsICcnKTtcbiAgdmFyIHNpZGVWYWx1ZSA9IGNlbnRlciAtIGdldENsaWVudFJlY3QoZGF0YS5vZmZzZXRzLnBvcHBlcilbc2lkZV0gLSBwb3BwZXJNYXJnaW5TaWRlO1xuXG4gIC8vIHByZXZlbnQgYXJyb3dFbGVtZW50IGZyb20gYmVpbmcgcGxhY2VkIG5vdCBjb250aWd1b3VzbHkgdG8gaXRzIHBvcHBlclxuICBzaWRlVmFsdWUgPSBNYXRoLm1heChNYXRoLm1pbihwb3BwZXJbbGVuXSAtIGFycm93RWxlbWVudFNpemUsIHNpZGVWYWx1ZSksIDApO1xuXG4gIGRhdGEuYXJyb3dFbGVtZW50ID0gYXJyb3dFbGVtZW50O1xuICBkYXRhLm9mZnNldHMuYXJyb3cgPSB7fTtcbiAgZGF0YS5vZmZzZXRzLmFycm93W3NpZGVdID0gTWF0aC5yb3VuZChzaWRlVmFsdWUpO1xuICBkYXRhLm9mZnNldHMuYXJyb3dbYWx0U2lkZV0gPSAnJzsgLy8gbWFrZSBzdXJlIHRvIHVuc2V0IGFueSBldmVudHVhbCBhbHRTaWRlIHZhbHVlIGZyb20gdGhlIERPTSBub2RlXG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogR2V0IHRoZSBvcHBvc2l0ZSBwbGFjZW1lbnQgdmFyaWF0aW9uIG9mIHRoZSBnaXZlbiBvbmVcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7U3RyaW5nfSBwbGFjZW1lbnQgdmFyaWF0aW9uXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBmbGlwcGVkIHBsYWNlbWVudCB2YXJpYXRpb25cbiAqL1xuZnVuY3Rpb24gZ2V0T3Bwb3NpdGVWYXJpYXRpb24odmFyaWF0aW9uKSB7XG4gIGlmICh2YXJpYXRpb24gPT09ICdlbmQnKSB7XG4gICAgcmV0dXJuICdzdGFydCc7XG4gIH0gZWxzZSBpZiAodmFyaWF0aW9uID09PSAnc3RhcnQnKSB7XG4gICAgcmV0dXJuICdlbmQnO1xuICB9XG4gIHJldHVybiB2YXJpYXRpb247XG59XG5cbi8qKlxuICogTGlzdCBvZiBhY2NlcHRlZCBwbGFjZW1lbnRzIHRvIHVzZSBhcyB2YWx1ZXMgb2YgdGhlIGBwbGFjZW1lbnRgIG9wdGlvbi48YnIgLz5cbiAqIFZhbGlkIHBsYWNlbWVudHMgYXJlOlxuICogLSBgYXV0b2BcbiAqIC0gYHRvcGBcbiAqIC0gYHJpZ2h0YFxuICogLSBgYm90dG9tYFxuICogLSBgbGVmdGBcbiAqXG4gKiBFYWNoIHBsYWNlbWVudCBjYW4gaGF2ZSBhIHZhcmlhdGlvbiBmcm9tIHRoaXMgbGlzdDpcbiAqIC0gYC1zdGFydGBcbiAqIC0gYC1lbmRgXG4gKlxuICogVmFyaWF0aW9ucyBhcmUgaW50ZXJwcmV0ZWQgZWFzaWx5IGlmIHlvdSB0aGluayBvZiB0aGVtIGFzIHRoZSBsZWZ0IHRvIHJpZ2h0XG4gKiB3cml0dGVuIGxhbmd1YWdlcy4gSG9yaXpvbnRhbGx5IChgdG9wYCBhbmQgYGJvdHRvbWApLCBgc3RhcnRgIGlzIGxlZnQgYW5kIGBlbmRgXG4gKiBpcyByaWdodC48YnIgLz5cbiAqIFZlcnRpY2FsbHkgKGBsZWZ0YCBhbmQgYHJpZ2h0YCksIGBzdGFydGAgaXMgdG9wIGFuZCBgZW5kYCBpcyBib3R0b20uXG4gKlxuICogU29tZSB2YWxpZCBleGFtcGxlcyBhcmU6XG4gKiAtIGB0b3AtZW5kYCAob24gdG9wIG9mIHJlZmVyZW5jZSwgcmlnaHQgYWxpZ25lZClcbiAqIC0gYHJpZ2h0LXN0YXJ0YCAob24gcmlnaHQgb2YgcmVmZXJlbmNlLCB0b3AgYWxpZ25lZClcbiAqIC0gYGJvdHRvbWAgKG9uIGJvdHRvbSwgY2VudGVyZWQpXG4gKiAtIGBhdXRvLXJpZ2h0YCAob24gdGhlIHNpZGUgd2l0aCBtb3JlIHNwYWNlIGF2YWlsYWJsZSwgYWxpZ25tZW50IGRlcGVuZHMgYnkgcGxhY2VtZW50KVxuICpcbiAqIEBzdGF0aWNcbiAqIEB0eXBlIHtBcnJheX1cbiAqIEBlbnVtIHtTdHJpbmd9XG4gKiBAcmVhZG9ubHlcbiAqIEBtZXRob2QgcGxhY2VtZW50c1xuICogQG1lbWJlcm9mIFBvcHBlclxuICovXG52YXIgcGxhY2VtZW50cyA9IFsnYXV0by1zdGFydCcsICdhdXRvJywgJ2F1dG8tZW5kJywgJ3RvcC1zdGFydCcsICd0b3AnLCAndG9wLWVuZCcsICdyaWdodC1zdGFydCcsICdyaWdodCcsICdyaWdodC1lbmQnLCAnYm90dG9tLWVuZCcsICdib3R0b20nLCAnYm90dG9tLXN0YXJ0JywgJ2xlZnQtZW5kJywgJ2xlZnQnLCAnbGVmdC1zdGFydCddO1xuXG4vLyBHZXQgcmlkIG9mIGBhdXRvYCBgYXV0by1zdGFydGAgYW5kIGBhdXRvLWVuZGBcbnZhciB2YWxpZFBsYWNlbWVudHMgPSBwbGFjZW1lbnRzLnNsaWNlKDMpO1xuXG4vKipcbiAqIEdpdmVuIGFuIGluaXRpYWwgcGxhY2VtZW50LCByZXR1cm5zIGFsbCB0aGUgc3Vic2VxdWVudCBwbGFjZW1lbnRzXG4gKiBjbG9ja3dpc2UgKG9yIGNvdW50ZXItY2xvY2t3aXNlKS5cbiAqXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge1N0cmluZ30gcGxhY2VtZW50IC0gQSB2YWxpZCBwbGFjZW1lbnQgKGl0IGFjY2VwdHMgdmFyaWF0aW9ucylcbiAqIEBhcmd1bWVudCB7Qm9vbGVhbn0gY291bnRlciAtIFNldCB0byB0cnVlIHRvIHdhbGsgdGhlIHBsYWNlbWVudHMgY291bnRlcmNsb2Nrd2lzZVxuICogQHJldHVybnMge0FycmF5fSBwbGFjZW1lbnRzIGluY2x1ZGluZyB0aGVpciB2YXJpYXRpb25zXG4gKi9cbmZ1bmN0aW9uIGNsb2Nrd2lzZShwbGFjZW1lbnQpIHtcbiAgdmFyIGNvdW50ZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuXG4gIHZhciBpbmRleCA9IHZhbGlkUGxhY2VtZW50cy5pbmRleE9mKHBsYWNlbWVudCk7XG4gIHZhciBhcnIgPSB2YWxpZFBsYWNlbWVudHMuc2xpY2UoaW5kZXggKyAxKS5jb25jYXQodmFsaWRQbGFjZW1lbnRzLnNsaWNlKDAsIGluZGV4KSk7XG4gIHJldHVybiBjb3VudGVyID8gYXJyLnJldmVyc2UoKSA6IGFycjtcbn1cblxudmFyIEJFSEFWSU9SUyA9IHtcbiAgRkxJUDogJ2ZsaXAnLFxuICBDTE9DS1dJU0U6ICdjbG9ja3dpc2UnLFxuICBDT1VOVEVSQ0xPQ0tXSVNFOiAnY291bnRlcmNsb2Nrd2lzZSdcbn07XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgTW9kaWZpZXJzXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgdXBkYXRlIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBmbGlwKGRhdGEsIG9wdGlvbnMpIHtcbiAgLy8gaWYgYGlubmVyYCBtb2RpZmllciBpcyBlbmFibGVkLCB3ZSBjYW4ndCB1c2UgdGhlIGBmbGlwYCBtb2RpZmllclxuICBpZiAoaXNNb2RpZmllckVuYWJsZWQoZGF0YS5pbnN0YW5jZS5tb2RpZmllcnMsICdpbm5lcicpKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICBpZiAoZGF0YS5mbGlwcGVkICYmIGRhdGEucGxhY2VtZW50ID09PSBkYXRhLm9yaWdpbmFsUGxhY2VtZW50KSB7XG4gICAgLy8gc2VlbXMgbGlrZSBmbGlwIGlzIHRyeWluZyB0byBsb29wLCBwcm9iYWJseSB0aGVyZSdzIG5vdCBlbm91Z2ggc3BhY2Ugb24gYW55IG9mIHRoZSBmbGlwcGFibGUgc2lkZXNcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIHZhciBib3VuZGFyaWVzID0gZ2V0Qm91bmRhcmllcyhkYXRhLmluc3RhbmNlLnBvcHBlciwgZGF0YS5pbnN0YW5jZS5yZWZlcmVuY2UsIG9wdGlvbnMucGFkZGluZywgb3B0aW9ucy5ib3VuZGFyaWVzRWxlbWVudCk7XG5cbiAgdmFyIHBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50LnNwbGl0KCctJylbMF07XG4gIHZhciBwbGFjZW1lbnRPcHBvc2l0ZSA9IGdldE9wcG9zaXRlUGxhY2VtZW50KHBsYWNlbWVudCk7XG4gIHZhciB2YXJpYXRpb24gPSBkYXRhLnBsYWNlbWVudC5zcGxpdCgnLScpWzFdIHx8ICcnO1xuXG4gIHZhciBmbGlwT3JkZXIgPSBbXTtcblxuICBzd2l0Y2ggKG9wdGlvbnMuYmVoYXZpb3IpIHtcbiAgICBjYXNlIEJFSEFWSU9SUy5GTElQOlxuICAgICAgZmxpcE9yZGVyID0gW3BsYWNlbWVudCwgcGxhY2VtZW50T3Bwb3NpdGVdO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBCRUhBVklPUlMuQ0xPQ0tXSVNFOlxuICAgICAgZmxpcE9yZGVyID0gY2xvY2t3aXNlKHBsYWNlbWVudCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIEJFSEFWSU9SUy5DT1VOVEVSQ0xPQ0tXSVNFOlxuICAgICAgZmxpcE9yZGVyID0gY2xvY2t3aXNlKHBsYWNlbWVudCwgdHJ1ZSk7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgZmxpcE9yZGVyID0gb3B0aW9ucy5iZWhhdmlvcjtcbiAgfVxuXG4gIGZsaXBPcmRlci5mb3JFYWNoKGZ1bmN0aW9uIChzdGVwLCBpbmRleCkge1xuICAgIGlmIChwbGFjZW1lbnQgIT09IHN0ZXAgfHwgZmxpcE9yZGVyLmxlbmd0aCA9PT0gaW5kZXggKyAxKSB7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICBwbGFjZW1lbnQgPSBkYXRhLnBsYWNlbWVudC5zcGxpdCgnLScpWzBdO1xuICAgIHBsYWNlbWVudE9wcG9zaXRlID0gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQocGxhY2VtZW50KTtcblxuICAgIHZhciBwb3BwZXJPZmZzZXRzID0gZGF0YS5vZmZzZXRzLnBvcHBlcjtcbiAgICB2YXIgcmVmT2Zmc2V0cyA9IGRhdGEub2Zmc2V0cy5yZWZlcmVuY2U7XG5cbiAgICAvLyB1c2luZyBmbG9vciBiZWNhdXNlIHRoZSByZWZlcmVuY2Ugb2Zmc2V0cyBtYXkgY29udGFpbiBkZWNpbWFscyB3ZSBhcmUgbm90IGdvaW5nIHRvIGNvbnNpZGVyIGhlcmVcbiAgICB2YXIgZmxvb3IgPSBNYXRoLmZsb29yO1xuICAgIHZhciBvdmVybGFwc1JlZiA9IHBsYWNlbWVudCA9PT0gJ2xlZnQnICYmIGZsb29yKHBvcHBlck9mZnNldHMucmlnaHQpID4gZmxvb3IocmVmT2Zmc2V0cy5sZWZ0KSB8fCBwbGFjZW1lbnQgPT09ICdyaWdodCcgJiYgZmxvb3IocG9wcGVyT2Zmc2V0cy5sZWZ0KSA8IGZsb29yKHJlZk9mZnNldHMucmlnaHQpIHx8IHBsYWNlbWVudCA9PT0gJ3RvcCcgJiYgZmxvb3IocG9wcGVyT2Zmc2V0cy5ib3R0b20pID4gZmxvb3IocmVmT2Zmc2V0cy50b3ApIHx8IHBsYWNlbWVudCA9PT0gJ2JvdHRvbScgJiYgZmxvb3IocG9wcGVyT2Zmc2V0cy50b3ApIDwgZmxvb3IocmVmT2Zmc2V0cy5ib3R0b20pO1xuXG4gICAgdmFyIG92ZXJmbG93c0xlZnQgPSBmbG9vcihwb3BwZXJPZmZzZXRzLmxlZnQpIDwgZmxvb3IoYm91bmRhcmllcy5sZWZ0KTtcbiAgICB2YXIgb3ZlcmZsb3dzUmlnaHQgPSBmbG9vcihwb3BwZXJPZmZzZXRzLnJpZ2h0KSA+IGZsb29yKGJvdW5kYXJpZXMucmlnaHQpO1xuICAgIHZhciBvdmVyZmxvd3NUb3AgPSBmbG9vcihwb3BwZXJPZmZzZXRzLnRvcCkgPCBmbG9vcihib3VuZGFyaWVzLnRvcCk7XG4gICAgdmFyIG92ZXJmbG93c0JvdHRvbSA9IGZsb29yKHBvcHBlck9mZnNldHMuYm90dG9tKSA+IGZsb29yKGJvdW5kYXJpZXMuYm90dG9tKTtcblxuICAgIHZhciBvdmVyZmxvd3NCb3VuZGFyaWVzID0gcGxhY2VtZW50ID09PSAnbGVmdCcgJiYgb3ZlcmZsb3dzTGVmdCB8fCBwbGFjZW1lbnQgPT09ICdyaWdodCcgJiYgb3ZlcmZsb3dzUmlnaHQgfHwgcGxhY2VtZW50ID09PSAndG9wJyAmJiBvdmVyZmxvd3NUb3AgfHwgcGxhY2VtZW50ID09PSAnYm90dG9tJyAmJiBvdmVyZmxvd3NCb3R0b207XG5cbiAgICAvLyBmbGlwIHRoZSB2YXJpYXRpb24gaWYgcmVxdWlyZWRcbiAgICB2YXIgaXNWZXJ0aWNhbCA9IFsndG9wJywgJ2JvdHRvbSddLmluZGV4T2YocGxhY2VtZW50KSAhPT0gLTE7XG4gICAgdmFyIGZsaXBwZWRWYXJpYXRpb24gPSAhIW9wdGlvbnMuZmxpcFZhcmlhdGlvbnMgJiYgKGlzVmVydGljYWwgJiYgdmFyaWF0aW9uID09PSAnc3RhcnQnICYmIG92ZXJmbG93c0xlZnQgfHwgaXNWZXJ0aWNhbCAmJiB2YXJpYXRpb24gPT09ICdlbmQnICYmIG92ZXJmbG93c1JpZ2h0IHx8ICFpc1ZlcnRpY2FsICYmIHZhcmlhdGlvbiA9PT0gJ3N0YXJ0JyAmJiBvdmVyZmxvd3NUb3AgfHwgIWlzVmVydGljYWwgJiYgdmFyaWF0aW9uID09PSAnZW5kJyAmJiBvdmVyZmxvd3NCb3R0b20pO1xuXG4gICAgaWYgKG92ZXJsYXBzUmVmIHx8IG92ZXJmbG93c0JvdW5kYXJpZXMgfHwgZmxpcHBlZFZhcmlhdGlvbikge1xuICAgICAgLy8gdGhpcyBib29sZWFuIHRvIGRldGVjdCBhbnkgZmxpcCBsb29wXG4gICAgICBkYXRhLmZsaXBwZWQgPSB0cnVlO1xuXG4gICAgICBpZiAob3ZlcmxhcHNSZWYgfHwgb3ZlcmZsb3dzQm91bmRhcmllcykge1xuICAgICAgICBwbGFjZW1lbnQgPSBmbGlwT3JkZXJbaW5kZXggKyAxXTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZsaXBwZWRWYXJpYXRpb24pIHtcbiAgICAgICAgdmFyaWF0aW9uID0gZ2V0T3Bwb3NpdGVWYXJpYXRpb24odmFyaWF0aW9uKTtcbiAgICAgIH1cblxuICAgICAgZGF0YS5wbGFjZW1lbnQgPSBwbGFjZW1lbnQgKyAodmFyaWF0aW9uID8gJy0nICsgdmFyaWF0aW9uIDogJycpO1xuXG4gICAgICAvLyB0aGlzIG9iamVjdCBjb250YWlucyBgcG9zaXRpb25gLCB3ZSB3YW50IHRvIHByZXNlcnZlIGl0IGFsb25nIHdpdGhcbiAgICAgIC8vIGFueSBhZGRpdGlvbmFsIHByb3BlcnR5IHdlIG1heSBhZGQgaW4gdGhlIGZ1dHVyZVxuICAgICAgZGF0YS5vZmZzZXRzLnBvcHBlciA9IF9leHRlbmRzKHt9LCBkYXRhLm9mZnNldHMucG9wcGVyLCBnZXRQb3BwZXJPZmZzZXRzKGRhdGEuaW5zdGFuY2UucG9wcGVyLCBkYXRhLm9mZnNldHMucmVmZXJlbmNlLCBkYXRhLnBsYWNlbWVudCkpO1xuXG4gICAgICBkYXRhID0gcnVuTW9kaWZpZXJzKGRhdGEuaW5zdGFuY2UubW9kaWZpZXJzLCBkYXRhLCAnZmxpcCcpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IHVwZGF0ZSBtZXRob2RcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBkYXRhIG9iamVjdCwgcHJvcGVybHkgbW9kaWZpZWRcbiAqL1xuZnVuY3Rpb24ga2VlcFRvZ2V0aGVyKGRhdGEpIHtcbiAgdmFyIF9kYXRhJG9mZnNldHMgPSBkYXRhLm9mZnNldHMsXG4gICAgICBwb3BwZXIgPSBfZGF0YSRvZmZzZXRzLnBvcHBlcixcbiAgICAgIHJlZmVyZW5jZSA9IF9kYXRhJG9mZnNldHMucmVmZXJlbmNlO1xuXG4gIHZhciBwbGFjZW1lbnQgPSBkYXRhLnBsYWNlbWVudC5zcGxpdCgnLScpWzBdO1xuICB2YXIgZmxvb3IgPSBNYXRoLmZsb29yO1xuICB2YXIgaXNWZXJ0aWNhbCA9IFsndG9wJywgJ2JvdHRvbSddLmluZGV4T2YocGxhY2VtZW50KSAhPT0gLTE7XG4gIHZhciBzaWRlID0gaXNWZXJ0aWNhbCA/ICdyaWdodCcgOiAnYm90dG9tJztcbiAgdmFyIG9wU2lkZSA9IGlzVmVydGljYWwgPyAnbGVmdCcgOiAndG9wJztcbiAgdmFyIG1lYXN1cmVtZW50ID0gaXNWZXJ0aWNhbCA/ICd3aWR0aCcgOiAnaGVpZ2h0JztcblxuICBpZiAocG9wcGVyW3NpZGVdIDwgZmxvb3IocmVmZXJlbmNlW29wU2lkZV0pKSB7XG4gICAgZGF0YS5vZmZzZXRzLnBvcHBlcltvcFNpZGVdID0gZmxvb3IocmVmZXJlbmNlW29wU2lkZV0pIC0gcG9wcGVyW21lYXN1cmVtZW50XTtcbiAgfVxuICBpZiAocG9wcGVyW29wU2lkZV0gPiBmbG9vcihyZWZlcmVuY2Vbc2lkZV0pKSB7XG4gICAgZGF0YS5vZmZzZXRzLnBvcHBlcltvcFNpZGVdID0gZmxvb3IocmVmZXJlbmNlW3NpZGVdKTtcbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgc3RyaW5nIGNvbnRhaW5pbmcgdmFsdWUgKyB1bml0IGludG8gYSBweCB2YWx1ZSBudW1iZXJcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIHttb2RpZmllcnN+b2Zmc2V0fVxuICogQHByaXZhdGVcbiAqIEBhcmd1bWVudCB7U3RyaW5nfSBzdHIgLSBWYWx1ZSArIHVuaXQgc3RyaW5nXG4gKiBAYXJndW1lbnQge1N0cmluZ30gbWVhc3VyZW1lbnQgLSBgaGVpZ2h0YCBvciBgd2lkdGhgXG4gKiBAYXJndW1lbnQge09iamVjdH0gcG9wcGVyT2Zmc2V0c1xuICogQGFyZ3VtZW50IHtPYmplY3R9IHJlZmVyZW5jZU9mZnNldHNcbiAqIEByZXR1cm5zIHtOdW1iZXJ8U3RyaW5nfVxuICogVmFsdWUgaW4gcGl4ZWxzLCBvciBvcmlnaW5hbCBzdHJpbmcgaWYgbm8gdmFsdWVzIHdlcmUgZXh0cmFjdGVkXG4gKi9cbmZ1bmN0aW9uIHRvVmFsdWUoc3RyLCBtZWFzdXJlbWVudCwgcG9wcGVyT2Zmc2V0cywgcmVmZXJlbmNlT2Zmc2V0cykge1xuICAvLyBzZXBhcmF0ZSB2YWx1ZSBmcm9tIHVuaXRcbiAgdmFyIHNwbGl0ID0gc3RyLm1hdGNoKC8oKD86XFwtfFxcKyk/XFxkKlxcLj9cXGQqKSguKikvKTtcbiAgdmFyIHZhbHVlID0gK3NwbGl0WzFdO1xuICB2YXIgdW5pdCA9IHNwbGl0WzJdO1xuXG4gIC8vIElmIGl0J3Mgbm90IGEgbnVtYmVyIGl0J3MgYW4gb3BlcmF0b3IsIEkgZ3Vlc3NcbiAgaWYgKCF2YWx1ZSkge1xuICAgIHJldHVybiBzdHI7XG4gIH1cblxuICBpZiAodW5pdC5pbmRleE9mKCclJykgPT09IDApIHtcbiAgICB2YXIgZWxlbWVudCA9IHZvaWQgMDtcbiAgICBzd2l0Y2ggKHVuaXQpIHtcbiAgICAgIGNhc2UgJyVwJzpcbiAgICAgICAgZWxlbWVudCA9IHBvcHBlck9mZnNldHM7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnJSc6XG4gICAgICBjYXNlICclcic6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBlbGVtZW50ID0gcmVmZXJlbmNlT2Zmc2V0cztcbiAgICB9XG5cbiAgICB2YXIgcmVjdCA9IGdldENsaWVudFJlY3QoZWxlbWVudCk7XG4gICAgcmV0dXJuIHJlY3RbbWVhc3VyZW1lbnRdIC8gMTAwICogdmFsdWU7XG4gIH0gZWxzZSBpZiAodW5pdCA9PT0gJ3ZoJyB8fCB1bml0ID09PSAndncnKSB7XG4gICAgLy8gaWYgaXMgYSB2aCBvciB2dywgd2UgY2FsY3VsYXRlIHRoZSBzaXplIGJhc2VkIG9uIHRoZSB2aWV3cG9ydFxuICAgIHZhciBzaXplID0gdm9pZCAwO1xuICAgIGlmICh1bml0ID09PSAndmgnKSB7XG4gICAgICBzaXplID0gTWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCwgd2luZG93LmlubmVySGVpZ2h0IHx8IDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBzaXplID0gTWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLCB3aW5kb3cuaW5uZXJXaWR0aCB8fCAwKTtcbiAgICB9XG4gICAgcmV0dXJuIHNpemUgLyAxMDAgKiB2YWx1ZTtcbiAgfSBlbHNlIHtcbiAgICAvLyBpZiBpcyBhbiBleHBsaWNpdCBwaXhlbCB1bml0LCB3ZSBnZXQgcmlkIG9mIHRoZSB1bml0IGFuZCBrZWVwIHRoZSB2YWx1ZVxuICAgIC8vIGlmIGlzIGFuIGltcGxpY2l0IHVuaXQsIGl0J3MgcHgsIGFuZCB3ZSByZXR1cm4ganVzdCB0aGUgdmFsdWVcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn1cblxuLyoqXG4gKiBQYXJzZSBhbiBgb2Zmc2V0YCBzdHJpbmcgdG8gZXh0cmFwb2xhdGUgYHhgIGFuZCBgeWAgbnVtZXJpYyBvZmZzZXRzLlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2Yge21vZGlmaWVyc35vZmZzZXR9XG4gKiBAcHJpdmF0ZVxuICogQGFyZ3VtZW50IHtTdHJpbmd9IG9mZnNldFxuICogQGFyZ3VtZW50IHtPYmplY3R9IHBvcHBlck9mZnNldHNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSByZWZlcmVuY2VPZmZzZXRzXG4gKiBAYXJndW1lbnQge1N0cmluZ30gYmFzZVBsYWNlbWVudFxuICogQHJldHVybnMge0FycmF5fSBhIHR3byBjZWxscyBhcnJheSB3aXRoIHggYW5kIHkgb2Zmc2V0cyBpbiBudW1iZXJzXG4gKi9cbmZ1bmN0aW9uIHBhcnNlT2Zmc2V0KG9mZnNldCwgcG9wcGVyT2Zmc2V0cywgcmVmZXJlbmNlT2Zmc2V0cywgYmFzZVBsYWNlbWVudCkge1xuICB2YXIgb2Zmc2V0cyA9IFswLCAwXTtcblxuICAvLyBVc2UgaGVpZ2h0IGlmIHBsYWNlbWVudCBpcyBsZWZ0IG9yIHJpZ2h0IGFuZCBpbmRleCBpcyAwIG90aGVyd2lzZSB1c2Ugd2lkdGhcbiAgLy8gaW4gdGhpcyB3YXkgdGhlIGZpcnN0IG9mZnNldCB3aWxsIHVzZSBhbiBheGlzIGFuZCB0aGUgc2Vjb25kIG9uZVxuICAvLyB3aWxsIHVzZSB0aGUgb3RoZXIgb25lXG4gIHZhciB1c2VIZWlnaHQgPSBbJ3JpZ2h0JywgJ2xlZnQnXS5pbmRleE9mKGJhc2VQbGFjZW1lbnQpICE9PSAtMTtcblxuICAvLyBTcGxpdCB0aGUgb2Zmc2V0IHN0cmluZyB0byBvYnRhaW4gYSBsaXN0IG9mIHZhbHVlcyBhbmQgb3BlcmFuZHNcbiAgLy8gVGhlIHJlZ2V4IGFkZHJlc3NlcyB2YWx1ZXMgd2l0aCB0aGUgcGx1cyBvciBtaW51cyBzaWduIGluIGZyb250ICgrMTAsIC0yMCwgZXRjKVxuICB2YXIgZnJhZ21lbnRzID0gb2Zmc2V0LnNwbGl0KC8oXFwrfFxcLSkvKS5tYXAoZnVuY3Rpb24gKGZyYWcpIHtcbiAgICByZXR1cm4gZnJhZy50cmltKCk7XG4gIH0pO1xuXG4gIC8vIERldGVjdCBpZiB0aGUgb2Zmc2V0IHN0cmluZyBjb250YWlucyBhIHBhaXIgb2YgdmFsdWVzIG9yIGEgc2luZ2xlIG9uZVxuICAvLyB0aGV5IGNvdWxkIGJlIHNlcGFyYXRlZCBieSBjb21tYSBvciBzcGFjZVxuICB2YXIgZGl2aWRlciA9IGZyYWdtZW50cy5pbmRleE9mKGZpbmQkMShmcmFnbWVudHMsIGZ1bmN0aW9uIChmcmFnKSB7XG4gICAgcmV0dXJuIGZyYWcuc2VhcmNoKC8sfFxccy8pICE9PSAtMTtcbiAgfSkpO1xuXG4gIGlmIChmcmFnbWVudHNbZGl2aWRlcl0gJiYgZnJhZ21lbnRzW2RpdmlkZXJdLmluZGV4T2YoJywnKSA9PT0gLTEpIHtcbiAgICBjb25zb2xlLndhcm4oJ09mZnNldHMgc2VwYXJhdGVkIGJ5IHdoaXRlIHNwYWNlKHMpIGFyZSBkZXByZWNhdGVkLCB1c2UgYSBjb21tYSAoLCkgaW5zdGVhZC4nKTtcbiAgfVxuXG4gIC8vIElmIGRpdmlkZXIgaXMgZm91bmQsIHdlIGRpdmlkZSB0aGUgbGlzdCBvZiB2YWx1ZXMgYW5kIG9wZXJhbmRzIHRvIGRpdmlkZVxuICAvLyB0aGVtIGJ5IG9mc2V0IFggYW5kIFkuXG4gIHZhciBzcGxpdFJlZ2V4ID0gL1xccyosXFxzKnxcXHMrLztcbiAgdmFyIG9wcyA9IGRpdmlkZXIgIT09IC0xID8gW2ZyYWdtZW50cy5zbGljZSgwLCBkaXZpZGVyKS5jb25jYXQoW2ZyYWdtZW50c1tkaXZpZGVyXS5zcGxpdChzcGxpdFJlZ2V4KVswXV0pLCBbZnJhZ21lbnRzW2RpdmlkZXJdLnNwbGl0KHNwbGl0UmVnZXgpWzFdXS5jb25jYXQoZnJhZ21lbnRzLnNsaWNlKGRpdmlkZXIgKyAxKSldIDogW2ZyYWdtZW50c107XG5cbiAgLy8gQ29udmVydCB0aGUgdmFsdWVzIHdpdGggdW5pdHMgdG8gYWJzb2x1dGUgcGl4ZWxzIHRvIGFsbG93IG91ciBjb21wdXRhdGlvbnNcbiAgb3BzID0gb3BzLm1hcChmdW5jdGlvbiAob3AsIGluZGV4KSB7XG4gICAgLy8gTW9zdCBvZiB0aGUgdW5pdHMgcmVseSBvbiB0aGUgb3JpZW50YXRpb24gb2YgdGhlIHBvcHBlclxuICAgIHZhciBtZWFzdXJlbWVudCA9IChpbmRleCA9PT0gMSA/ICF1c2VIZWlnaHQgOiB1c2VIZWlnaHQpID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuICAgIHZhciBtZXJnZVdpdGhQcmV2aW91cyA9IGZhbHNlO1xuICAgIHJldHVybiBvcFxuICAgIC8vIFRoaXMgYWdncmVnYXRlcyBhbnkgYCtgIG9yIGAtYCBzaWduIHRoYXQgYXJlbid0IGNvbnNpZGVyZWQgb3BlcmF0b3JzXG4gICAgLy8gZS5nLjogMTAgKyArNSA9PiBbMTAsICssICs1XVxuICAgIC5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIGlmIChhW2EubGVuZ3RoIC0gMV0gPT09ICcnICYmIFsnKycsICctJ10uaW5kZXhPZihiKSAhPT0gLTEpIHtcbiAgICAgICAgYVthLmxlbmd0aCAtIDFdID0gYjtcbiAgICAgICAgbWVyZ2VXaXRoUHJldmlvdXMgPSB0cnVlO1xuICAgICAgICByZXR1cm4gYTtcbiAgICAgIH0gZWxzZSBpZiAobWVyZ2VXaXRoUHJldmlvdXMpIHtcbiAgICAgICAgYVthLmxlbmd0aCAtIDFdICs9IGI7XG4gICAgICAgIG1lcmdlV2l0aFByZXZpb3VzID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBhO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGEuY29uY2F0KGIpO1xuICAgICAgfVxuICAgIH0sIFtdKVxuICAgIC8vIEhlcmUgd2UgY29udmVydCB0aGUgc3RyaW5nIHZhbHVlcyBpbnRvIG51bWJlciB2YWx1ZXMgKGluIHB4KVxuICAgIC5tYXAoZnVuY3Rpb24gKHN0cikge1xuICAgICAgcmV0dXJuIHRvVmFsdWUoc3RyLCBtZWFzdXJlbWVudCwgcG9wcGVyT2Zmc2V0cywgcmVmZXJlbmNlT2Zmc2V0cyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIExvb3AgdHJvdWdoIHRoZSBvZmZzZXRzIGFycmF5cyBhbmQgZXhlY3V0ZSB0aGUgb3BlcmF0aW9uc1xuICBvcHMuZm9yRWFjaChmdW5jdGlvbiAob3AsIGluZGV4KSB7XG4gICAgb3AuZm9yRWFjaChmdW5jdGlvbiAoZnJhZywgaW5kZXgyKSB7XG4gICAgICBpZiAoaXNOdW1lcmljKGZyYWcpKSB7XG4gICAgICAgIG9mZnNldHNbaW5kZXhdICs9IGZyYWcgKiAob3BbaW5kZXgyIC0gMV0gPT09ICctJyA/IC0xIDogMSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gb2Zmc2V0cztcbn1cblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBNb2RpZmllcnNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSB1cGRhdGUgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAYXJndW1lbnQge051bWJlcnxTdHJpbmd9IG9wdGlvbnMub2Zmc2V0PTBcbiAqIFRoZSBvZmZzZXQgdmFsdWUgYXMgZGVzY3JpYmVkIGluIHRoZSBtb2RpZmllciBkZXNjcmlwdGlvblxuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBvZmZzZXQoZGF0YSwgX3JlZikge1xuICB2YXIgb2Zmc2V0ID0gX3JlZi5vZmZzZXQ7XG4gIHZhciBwbGFjZW1lbnQgPSBkYXRhLnBsYWNlbWVudCxcbiAgICAgIF9kYXRhJG9mZnNldHMgPSBkYXRhLm9mZnNldHMsXG4gICAgICBwb3BwZXIgPSBfZGF0YSRvZmZzZXRzLnBvcHBlcixcbiAgICAgIHJlZmVyZW5jZSA9IF9kYXRhJG9mZnNldHMucmVmZXJlbmNlO1xuXG4gIHZhciBiYXNlUGxhY2VtZW50ID0gcGxhY2VtZW50LnNwbGl0KCctJylbMF07XG5cbiAgdmFyIG9mZnNldHMgPSB2b2lkIDA7XG4gIGlmIChpc051bWVyaWMoK29mZnNldCkpIHtcbiAgICBvZmZzZXRzID0gWytvZmZzZXQsIDBdO1xuICB9IGVsc2Uge1xuICAgIG9mZnNldHMgPSBwYXJzZU9mZnNldChvZmZzZXQsIHBvcHBlciwgcmVmZXJlbmNlLCBiYXNlUGxhY2VtZW50KTtcbiAgfVxuXG4gIGlmIChiYXNlUGxhY2VtZW50ID09PSAnbGVmdCcpIHtcbiAgICBwb3BwZXIudG9wICs9IG9mZnNldHNbMF07XG4gICAgcG9wcGVyLmxlZnQgLT0gb2Zmc2V0c1sxXTtcbiAgfSBlbHNlIGlmIChiYXNlUGxhY2VtZW50ID09PSAncmlnaHQnKSB7XG4gICAgcG9wcGVyLnRvcCArPSBvZmZzZXRzWzBdO1xuICAgIHBvcHBlci5sZWZ0ICs9IG9mZnNldHNbMV07XG4gIH0gZWxzZSBpZiAoYmFzZVBsYWNlbWVudCA9PT0gJ3RvcCcpIHtcbiAgICBwb3BwZXIubGVmdCArPSBvZmZzZXRzWzBdO1xuICAgIHBvcHBlci50b3AgLT0gb2Zmc2V0c1sxXTtcbiAgfSBlbHNlIGlmIChiYXNlUGxhY2VtZW50ID09PSAnYm90dG9tJykge1xuICAgIHBvcHBlci5sZWZ0ICs9IG9mZnNldHNbMF07XG4gICAgcG9wcGVyLnRvcCArPSBvZmZzZXRzWzFdO1xuICB9XG5cbiAgZGF0YS5wb3BwZXIgPSBwb3BwZXI7XG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IGB1cGRhdGVgIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBwcmV2ZW50T3ZlcmZsb3coZGF0YSwgb3B0aW9ucykge1xuICB2YXIgYm91bmRhcmllc0VsZW1lbnQgPSBvcHRpb25zLmJvdW5kYXJpZXNFbGVtZW50IHx8IGdldE9mZnNldFBhcmVudChkYXRhLmluc3RhbmNlLnBvcHBlcik7XG5cbiAgLy8gSWYgb2Zmc2V0UGFyZW50IGlzIHRoZSByZWZlcmVuY2UgZWxlbWVudCwgd2UgcmVhbGx5IHdhbnQgdG9cbiAgLy8gZ28gb25lIHN0ZXAgdXAgYW5kIHVzZSB0aGUgbmV4dCBvZmZzZXRQYXJlbnQgYXMgcmVmZXJlbmNlIHRvXG4gIC8vIGF2b2lkIHRvIG1ha2UgdGhpcyBtb2RpZmllciBjb21wbGV0ZWx5IHVzZWxlc3MgYW5kIGxvb2sgbGlrZSBicm9rZW5cbiAgaWYgKGRhdGEuaW5zdGFuY2UucmVmZXJlbmNlID09PSBib3VuZGFyaWVzRWxlbWVudCkge1xuICAgIGJvdW5kYXJpZXNFbGVtZW50ID0gZ2V0T2Zmc2V0UGFyZW50KGJvdW5kYXJpZXNFbGVtZW50KTtcbiAgfVxuXG4gIHZhciBib3VuZGFyaWVzID0gZ2V0Qm91bmRhcmllcyhkYXRhLmluc3RhbmNlLnBvcHBlciwgZGF0YS5pbnN0YW5jZS5yZWZlcmVuY2UsIG9wdGlvbnMucGFkZGluZywgYm91bmRhcmllc0VsZW1lbnQpO1xuICBvcHRpb25zLmJvdW5kYXJpZXMgPSBib3VuZGFyaWVzO1xuXG4gIHZhciBvcmRlciA9IG9wdGlvbnMucHJpb3JpdHk7XG4gIHZhciBwb3BwZXIgPSBkYXRhLm9mZnNldHMucG9wcGVyO1xuXG4gIHZhciBjaGVjayA9IHtcbiAgICBwcmltYXJ5OiBmdW5jdGlvbiBwcmltYXJ5KHBsYWNlbWVudCkge1xuICAgICAgdmFyIHZhbHVlID0gcG9wcGVyW3BsYWNlbWVudF07XG4gICAgICBpZiAocG9wcGVyW3BsYWNlbWVudF0gPCBib3VuZGFyaWVzW3BsYWNlbWVudF0gJiYgIW9wdGlvbnMuZXNjYXBlV2l0aFJlZmVyZW5jZSkge1xuICAgICAgICB2YWx1ZSA9IE1hdGgubWF4KHBvcHBlcltwbGFjZW1lbnRdLCBib3VuZGFyaWVzW3BsYWNlbWVudF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlZmluZVByb3BlcnR5KHt9LCBwbGFjZW1lbnQsIHZhbHVlKTtcbiAgICB9LFxuICAgIHNlY29uZGFyeTogZnVuY3Rpb24gc2Vjb25kYXJ5KHBsYWNlbWVudCkge1xuICAgICAgdmFyIG1haW5TaWRlID0gcGxhY2VtZW50ID09PSAncmlnaHQnID8gJ2xlZnQnIDogJ3RvcCc7XG4gICAgICB2YXIgdmFsdWUgPSBwb3BwZXJbbWFpblNpZGVdO1xuICAgICAgaWYgKHBvcHBlcltwbGFjZW1lbnRdID4gYm91bmRhcmllc1twbGFjZW1lbnRdICYmICFvcHRpb25zLmVzY2FwZVdpdGhSZWZlcmVuY2UpIHtcbiAgICAgICAgdmFsdWUgPSBNYXRoLm1pbihwb3BwZXJbbWFpblNpZGVdLCBib3VuZGFyaWVzW3BsYWNlbWVudF0gLSAocGxhY2VtZW50ID09PSAncmlnaHQnID8gcG9wcGVyLndpZHRoIDogcG9wcGVyLmhlaWdodCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlZmluZVByb3BlcnR5KHt9LCBtYWluU2lkZSwgdmFsdWUpO1xuICAgIH1cbiAgfTtcblxuICBvcmRlci5mb3JFYWNoKGZ1bmN0aW9uIChwbGFjZW1lbnQpIHtcbiAgICB2YXIgc2lkZSA9IFsnbGVmdCcsICd0b3AnXS5pbmRleE9mKHBsYWNlbWVudCkgIT09IC0xID8gJ3ByaW1hcnknIDogJ3NlY29uZGFyeSc7XG4gICAgcG9wcGVyID0gX2V4dGVuZHMoe30sIHBvcHBlciwgY2hlY2tbc2lkZV0ocGxhY2VtZW50KSk7XG4gIH0pO1xuXG4gIGRhdGEub2Zmc2V0cy5wb3BwZXIgPSBwb3BwZXI7XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgTW9kaWZpZXJzXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgYHVwZGF0ZWAgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkXG4gKi9cbmZ1bmN0aW9uIHNoaWZ0KGRhdGEpIHtcbiAgdmFyIHBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50O1xuICB2YXIgYmFzZVBsYWNlbWVudCA9IHBsYWNlbWVudC5zcGxpdCgnLScpWzBdO1xuICB2YXIgc2hpZnR2YXJpYXRpb24gPSBwbGFjZW1lbnQuc3BsaXQoJy0nKVsxXTtcblxuICAvLyBpZiBzaGlmdCBzaGlmdHZhcmlhdGlvbiBpcyBzcGVjaWZpZWQsIHJ1biB0aGUgbW9kaWZpZXJcbiAgaWYgKHNoaWZ0dmFyaWF0aW9uKSB7XG4gICAgdmFyIF9kYXRhJG9mZnNldHMgPSBkYXRhLm9mZnNldHMsXG4gICAgICAgIHJlZmVyZW5jZSA9IF9kYXRhJG9mZnNldHMucmVmZXJlbmNlLFxuICAgICAgICBwb3BwZXIgPSBfZGF0YSRvZmZzZXRzLnBvcHBlcjtcblxuICAgIHZhciBpc1ZlcnRpY2FsID0gWydib3R0b20nLCAndG9wJ10uaW5kZXhPZihiYXNlUGxhY2VtZW50KSAhPT0gLTE7XG4gICAgdmFyIHNpZGUgPSBpc1ZlcnRpY2FsID8gJ2xlZnQnIDogJ3RvcCc7XG4gICAgdmFyIG1lYXN1cmVtZW50ID0gaXNWZXJ0aWNhbCA/ICd3aWR0aCcgOiAnaGVpZ2h0JztcblxuICAgIHZhciBzaGlmdE9mZnNldHMgPSB7XG4gICAgICBzdGFydDogZGVmaW5lUHJvcGVydHkoe30sIHNpZGUsIHJlZmVyZW5jZVtzaWRlXSksXG4gICAgICBlbmQ6IGRlZmluZVByb3BlcnR5KHt9LCBzaWRlLCByZWZlcmVuY2Vbc2lkZV0gKyByZWZlcmVuY2VbbWVhc3VyZW1lbnRdIC0gcG9wcGVyW21lYXN1cmVtZW50XSlcbiAgICB9O1xuXG4gICAgZGF0YS5vZmZzZXRzLnBvcHBlciA9IF9leHRlbmRzKHt9LCBwb3BwZXIsIHNoaWZ0T2Zmc2V0c1tzaGlmdHZhcmlhdGlvbl0pO1xuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgTW9kaWZpZXJzXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgdXBkYXRlIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBoaWRlKGRhdGEpIHtcbiAgaWYgKCFpc01vZGlmaWVyUmVxdWlyZWQoZGF0YS5pbnN0YW5jZS5tb2RpZmllcnMsICdoaWRlJywgJ3ByZXZlbnRPdmVyZmxvdycpKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICB2YXIgcmVmUmVjdCA9IGRhdGEub2Zmc2V0cy5yZWZlcmVuY2U7XG4gIHZhciBib3VuZCA9IGZpbmQkMShkYXRhLmluc3RhbmNlLm1vZGlmaWVycywgZnVuY3Rpb24gKG1vZGlmaWVyKSB7XG4gICAgcmV0dXJuIG1vZGlmaWVyLm5hbWUgPT09ICdwcmV2ZW50T3ZlcmZsb3cnO1xuICB9KS5ib3VuZGFyaWVzO1xuXG4gIGlmIChyZWZSZWN0LmJvdHRvbSA8IGJvdW5kLnRvcCB8fCByZWZSZWN0LmxlZnQgPiBib3VuZC5yaWdodCB8fCByZWZSZWN0LnRvcCA+IGJvdW5kLmJvdHRvbSB8fCByZWZSZWN0LnJpZ2h0IDwgYm91bmQubGVmdCkge1xuICAgIC8vIEF2b2lkIHVubmVjZXNzYXJ5IERPTSBhY2Nlc3MgaWYgdmlzaWJpbGl0eSBoYXNuJ3QgY2hhbmdlZFxuICAgIGlmIChkYXRhLmhpZGUgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIGRhdGEuaGlkZSA9IHRydWU7XG4gICAgZGF0YS5hdHRyaWJ1dGVzWyd4LW91dC1vZi1ib3VuZGFyaWVzJ10gPSAnJztcbiAgfSBlbHNlIHtcbiAgICAvLyBBdm9pZCB1bm5lY2Vzc2FyeSBET00gYWNjZXNzIGlmIHZpc2liaWxpdHkgaGFzbid0IGNoYW5nZWRcbiAgICBpZiAoZGF0YS5oaWRlID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgZGF0YS5oaWRlID0gZmFsc2U7XG4gICAgZGF0YS5hdHRyaWJ1dGVzWyd4LW91dC1vZi1ib3VuZGFyaWVzJ10gPSBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IGB1cGRhdGVgIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBpbm5lcihkYXRhKSB7XG4gIHZhciBwbGFjZW1lbnQgPSBkYXRhLnBsYWNlbWVudDtcbiAgdmFyIGJhc2VQbGFjZW1lbnQgPSBwbGFjZW1lbnQuc3BsaXQoJy0nKVswXTtcbiAgdmFyIF9kYXRhJG9mZnNldHMgPSBkYXRhLm9mZnNldHMsXG4gICAgICBwb3BwZXIgPSBfZGF0YSRvZmZzZXRzLnBvcHBlcixcbiAgICAgIHJlZmVyZW5jZSA9IF9kYXRhJG9mZnNldHMucmVmZXJlbmNlO1xuXG4gIHZhciBpc0hvcml6ID0gWydsZWZ0JywgJ3JpZ2h0J10uaW5kZXhPZihiYXNlUGxhY2VtZW50KSAhPT0gLTE7XG5cbiAgdmFyIHN1YnRyYWN0TGVuZ3RoID0gWyd0b3AnLCAnbGVmdCddLmluZGV4T2YoYmFzZVBsYWNlbWVudCkgPT09IC0xO1xuXG4gIHBvcHBlcltpc0hvcml6ID8gJ2xlZnQnIDogJ3RvcCddID0gcmVmZXJlbmNlW2Jhc2VQbGFjZW1lbnRdIC0gKHN1YnRyYWN0TGVuZ3RoID8gcG9wcGVyW2lzSG9yaXogPyAnd2lkdGgnIDogJ2hlaWdodCddIDogMCk7XG5cbiAgZGF0YS5wbGFjZW1lbnQgPSBnZXRPcHBvc2l0ZVBsYWNlbWVudChwbGFjZW1lbnQpO1xuICBkYXRhLm9mZnNldHMucG9wcGVyID0gZ2V0Q2xpZW50UmVjdChwb3BwZXIpO1xuXG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIE1vZGlmaWVyIGZ1bmN0aW9uLCBlYWNoIG1vZGlmaWVyIGNhbiBoYXZlIGEgZnVuY3Rpb24gb2YgdGhpcyB0eXBlIGFzc2lnbmVkXG4gKiB0byBpdHMgYGZuYCBwcm9wZXJ0eS48YnIgLz5cbiAqIFRoZXNlIGZ1bmN0aW9ucyB3aWxsIGJlIGNhbGxlZCBvbiBlYWNoIHVwZGF0ZSwgdGhpcyBtZWFucyB0aGF0IHlvdSBtdXN0XG4gKiBtYWtlIHN1cmUgdGhleSBhcmUgcGVyZm9ybWFudCBlbm91Z2ggdG8gYXZvaWQgcGVyZm9ybWFuY2UgYm90dGxlbmVja3MuXG4gKlxuICogQGZ1bmN0aW9uIE1vZGlmaWVyRm5cbiAqIEBhcmd1bWVudCB7ZGF0YU9iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgYHVwZGF0ZWAgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAcmV0dXJucyB7ZGF0YU9iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5cbi8qKlxuICogTW9kaWZpZXJzIGFyZSBwbHVnaW5zIHVzZWQgdG8gYWx0ZXIgdGhlIGJlaGF2aW9yIG9mIHlvdXIgcG9wcGVycy48YnIgLz5cbiAqIFBvcHBlci5qcyB1c2VzIGEgc2V0IG9mIDkgbW9kaWZpZXJzIHRvIHByb3ZpZGUgYWxsIHRoZSBiYXNpYyBmdW5jdGlvbmFsaXRpZXNcbiAqIG5lZWRlZCBieSB0aGUgbGlicmFyeS5cbiAqXG4gKiBVc3VhbGx5IHlvdSBkb24ndCB3YW50IHRvIG92ZXJyaWRlIHRoZSBgb3JkZXJgLCBgZm5gIGFuZCBgb25Mb2FkYCBwcm9wcy5cbiAqIEFsbCB0aGUgb3RoZXIgcHJvcGVydGllcyBhcmUgY29uZmlndXJhdGlvbnMgdGhhdCBjb3VsZCBiZSB0d2Vha2VkLlxuICogQG5hbWVzcGFjZSBtb2RpZmllcnNcbiAqL1xudmFyIG1vZGlmaWVycyA9IHtcbiAgLyoqXG4gICAqIE1vZGlmaWVyIHVzZWQgdG8gc2hpZnQgdGhlIHBvcHBlciBvbiB0aGUgc3RhcnQgb3IgZW5kIG9mIGl0cyByZWZlcmVuY2VcbiAgICogZWxlbWVudC48YnIgLz5cbiAgICogSXQgd2lsbCByZWFkIHRoZSB2YXJpYXRpb24gb2YgdGhlIGBwbGFjZW1lbnRgIHByb3BlcnR5LjxiciAvPlxuICAgKiBJdCBjYW4gYmUgb25lIGVpdGhlciBgLWVuZGAgb3IgYC1zdGFydGAuXG4gICAqIEBtZW1iZXJvZiBtb2RpZmllcnNcbiAgICogQGlubmVyXG4gICAqL1xuICBzaGlmdDoge1xuICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj0xMDAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovXG4gICAgb3JkZXI6IDEwMCxcbiAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9dHJ1ZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovXG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovXG4gICAgZm46IHNoaWZ0XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRoZSBgb2Zmc2V0YCBtb2RpZmllciBjYW4gc2hpZnQgeW91ciBwb3BwZXIgb24gYm90aCBpdHMgYXhpcy5cbiAgICpcbiAgICogSXQgYWNjZXB0cyB0aGUgZm9sbG93aW5nIHVuaXRzOlxuICAgKiAtIGBweGAgb3IgdW5pdGxlc3MsIGludGVycHJldGVkIGFzIHBpeGVsc1xuICAgKiAtIGAlYCBvciBgJXJgLCBwZXJjZW50YWdlIHJlbGF0aXZlIHRvIHRoZSBsZW5ndGggb2YgdGhlIHJlZmVyZW5jZSBlbGVtZW50XG4gICAqIC0gYCVwYCwgcGVyY2VudGFnZSByZWxhdGl2ZSB0byB0aGUgbGVuZ3RoIG9mIHRoZSBwb3BwZXIgZWxlbWVudFxuICAgKiAtIGB2d2AsIENTUyB2aWV3cG9ydCB3aWR0aCB1bml0XG4gICAqIC0gYHZoYCwgQ1NTIHZpZXdwb3J0IGhlaWdodCB1bml0XG4gICAqXG4gICAqIEZvciBsZW5ndGggaXMgaW50ZW5kZWQgdGhlIG1haW4gYXhpcyByZWxhdGl2ZSB0byB0aGUgcGxhY2VtZW50IG9mIHRoZSBwb3BwZXIuPGJyIC8+XG4gICAqIFRoaXMgbWVhbnMgdGhhdCBpZiB0aGUgcGxhY2VtZW50IGlzIGB0b3BgIG9yIGBib3R0b21gLCB0aGUgbGVuZ3RoIHdpbGwgYmUgdGhlXG4gICAqIGB3aWR0aGAuIEluIGNhc2Ugb2YgYGxlZnRgIG9yIGByaWdodGAsIGl0IHdpbGwgYmUgdGhlIGhlaWdodC5cbiAgICpcbiAgICogWW91IGNhbiBwcm92aWRlIGEgc2luZ2xlIHZhbHVlIChhcyBgTnVtYmVyYCBvciBgU3RyaW5nYCksIG9yIGEgcGFpciBvZiB2YWx1ZXNcbiAgICogYXMgYFN0cmluZ2AgZGl2aWRlZCBieSBhIGNvbW1hIG9yIG9uZSAob3IgbW9yZSkgd2hpdGUgc3BhY2VzLjxiciAvPlxuICAgKiBUaGUgbGF0dGVyIGlzIGEgZGVwcmVjYXRlZCBtZXRob2QgYmVjYXVzZSBpdCBsZWFkcyB0byBjb25mdXNpb24gYW5kIHdpbGwgYmVcbiAgICogcmVtb3ZlZCBpbiB2Mi48YnIgLz5cbiAgICogQWRkaXRpb25hbGx5LCBpdCBhY2NlcHRzIGFkZGl0aW9ucyBhbmQgc3VidHJhY3Rpb25zIGJldHdlZW4gZGlmZmVyZW50IHVuaXRzLlxuICAgKiBOb3RlIHRoYXQgbXVsdGlwbGljYXRpb25zIGFuZCBkaXZpc2lvbnMgYXJlbid0IHN1cHBvcnRlZC5cbiAgICpcbiAgICogVmFsaWQgZXhhbXBsZXMgYXJlOlxuICAgKiBgYGBcbiAgICogMTBcbiAgICogJzEwJSdcbiAgICogJzEwLCAxMCdcbiAgICogJzEwJSwgMTAnXG4gICAqICcxMCArIDEwJSdcbiAgICogJzEwIC0gNXZoICsgMyUnXG4gICAqICctMTBweCArIDV2aCwgNXB4IC0gNiUnXG4gICAqIGBgYFxuICAgKiA+ICoqTkIqKjogSWYgeW91IGRlc2lyZSB0byBhcHBseSBvZmZzZXRzIHRvIHlvdXIgcG9wcGVycyBpbiBhIHdheSB0aGF0IG1heSBtYWtlIHRoZW0gb3ZlcmxhcFxuICAgKiA+IHdpdGggdGhlaXIgcmVmZXJlbmNlIGVsZW1lbnQsIHVuZm9ydHVuYXRlbHksIHlvdSB3aWxsIGhhdmUgdG8gZGlzYWJsZSB0aGUgYGZsaXBgIG1vZGlmaWVyLlxuICAgKiA+IE1vcmUgb24gdGhpcyBbcmVhZGluZyB0aGlzIGlzc3VlXShodHRwczovL2dpdGh1Yi5jb20vRmV6VnJhc3RhL3BvcHBlci5qcy9pc3N1ZXMvMzczKVxuICAgKlxuICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAqIEBpbm5lclxuICAgKi9cbiAgb2Zmc2V0OiB7XG4gICAgLyoqIEBwcm9wIHtudW1iZXJ9IG9yZGVyPTIwMCAtIEluZGV4IHVzZWQgdG8gZGVmaW5lIHRoZSBvcmRlciBvZiBleGVjdXRpb24gKi9cbiAgICBvcmRlcjogMjAwLFxuICAgIC8qKiBAcHJvcCB7Qm9vbGVhbn0gZW5hYmxlZD10cnVlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi9cbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIC8qKiBAcHJvcCB7TW9kaWZpZXJGbn0gKi9cbiAgICBmbjogb2Zmc2V0LFxuICAgIC8qKiBAcHJvcCB7TnVtYmVyfFN0cmluZ30gb2Zmc2V0PTBcbiAgICAgKiBUaGUgb2Zmc2V0IHZhbHVlIGFzIGRlc2NyaWJlZCBpbiB0aGUgbW9kaWZpZXIgZGVzY3JpcHRpb25cbiAgICAgKi9cbiAgICBvZmZzZXQ6IDBcbiAgfSxcblxuICAvKipcbiAgICogTW9kaWZpZXIgdXNlZCB0byBwcmV2ZW50IHRoZSBwb3BwZXIgZnJvbSBiZWluZyBwb3NpdGlvbmVkIG91dHNpZGUgdGhlIGJvdW5kYXJ5LlxuICAgKlxuICAgKiBBbiBzY2VuYXJpbyBleGlzdHMgd2hlcmUgdGhlIHJlZmVyZW5jZSBpdHNlbGYgaXMgbm90IHdpdGhpbiB0aGUgYm91bmRhcmllcy48YnIgLz5cbiAgICogV2UgY2FuIHNheSBpdCBoYXMgXCJlc2NhcGVkIHRoZSBib3VuZGFyaWVzXCIg4oCUIG9yIGp1c3QgXCJlc2NhcGVkXCIuPGJyIC8+XG4gICAqIEluIHRoaXMgY2FzZSB3ZSBuZWVkIHRvIGRlY2lkZSB3aGV0aGVyIHRoZSBwb3BwZXIgc2hvdWxkIGVpdGhlcjpcbiAgICpcbiAgICogLSBkZXRhY2ggZnJvbSB0aGUgcmVmZXJlbmNlIGFuZCByZW1haW4gXCJ0cmFwcGVkXCIgaW4gdGhlIGJvdW5kYXJpZXMsIG9yXG4gICAqIC0gaWYgaXQgc2hvdWxkIGlnbm9yZSB0aGUgYm91bmRhcnkgYW5kIFwiZXNjYXBlIHdpdGggaXRzIHJlZmVyZW5jZVwiXG4gICAqXG4gICAqIFdoZW4gYGVzY2FwZVdpdGhSZWZlcmVuY2VgIGlzIHNldCB0b2B0cnVlYCBhbmQgcmVmZXJlbmNlIGlzIGNvbXBsZXRlbHlcbiAgICogb3V0c2lkZSBpdHMgYm91bmRhcmllcywgdGhlIHBvcHBlciB3aWxsIG92ZXJmbG93IChvciBjb21wbGV0ZWx5IGxlYXZlKVxuICAgKiB0aGUgYm91bmRhcmllcyBpbiBvcmRlciB0byByZW1haW4gYXR0YWNoZWQgdG8gdGhlIGVkZ2Ugb2YgdGhlIHJlZmVyZW5jZS5cbiAgICpcbiAgICogQG1lbWJlcm9mIG1vZGlmaWVyc1xuICAgKiBAaW5uZXJcbiAgICovXG4gIHByZXZlbnRPdmVyZmxvdzoge1xuICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj0zMDAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovXG4gICAgb3JkZXI6IDMwMCxcbiAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9dHJ1ZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovXG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovXG4gICAgZm46IHByZXZlbnRPdmVyZmxvdyxcbiAgICAvKipcbiAgICAgKiBAcHJvcCB7QXJyYXl9IFtwcmlvcml0eT1bJ2xlZnQnLCdyaWdodCcsJ3RvcCcsJ2JvdHRvbSddXVxuICAgICAqIFBvcHBlciB3aWxsIHRyeSB0byBwcmV2ZW50IG92ZXJmbG93IGZvbGxvd2luZyB0aGVzZSBwcmlvcml0aWVzIGJ5IGRlZmF1bHQsXG4gICAgICogdGhlbiwgaXQgY291bGQgb3ZlcmZsb3cgb24gdGhlIGxlZnQgYW5kIG9uIHRvcCBvZiB0aGUgYGJvdW5kYXJpZXNFbGVtZW50YFxuICAgICAqL1xuICAgIHByaW9yaXR5OiBbJ2xlZnQnLCAncmlnaHQnLCAndG9wJywgJ2JvdHRvbSddLFxuICAgIC8qKlxuICAgICAqIEBwcm9wIHtudW1iZXJ9IHBhZGRpbmc9NVxuICAgICAqIEFtb3VudCBvZiBwaXhlbCB1c2VkIHRvIGRlZmluZSBhIG1pbmltdW0gZGlzdGFuY2UgYmV0d2VlbiB0aGUgYm91bmRhcmllc1xuICAgICAqIGFuZCB0aGUgcG9wcGVyIHRoaXMgbWFrZXMgc3VyZSB0aGUgcG9wcGVyIGhhcyBhbHdheXMgYSBsaXR0bGUgcGFkZGluZ1xuICAgICAqIGJldHdlZW4gdGhlIGVkZ2VzIG9mIGl0cyBjb250YWluZXJcbiAgICAgKi9cbiAgICBwYWRkaW5nOiA1LFxuICAgIC8qKlxuICAgICAqIEBwcm9wIHtTdHJpbmd8SFRNTEVsZW1lbnR9IGJvdW5kYXJpZXNFbGVtZW50PSdzY3JvbGxQYXJlbnQnXG4gICAgICogQm91bmRhcmllcyB1c2VkIGJ5IHRoZSBtb2RpZmllciwgY2FuIGJlIGBzY3JvbGxQYXJlbnRgLCBgd2luZG93YCxcbiAgICAgKiBgdmlld3BvcnRgIG9yIGFueSBET00gZWxlbWVudC5cbiAgICAgKi9cbiAgICBib3VuZGFyaWVzRWxlbWVudDogJ3Njcm9sbFBhcmVudCdcbiAgfSxcblxuICAvKipcbiAgICogTW9kaWZpZXIgdXNlZCB0byBtYWtlIHN1cmUgdGhlIHJlZmVyZW5jZSBhbmQgaXRzIHBvcHBlciBzdGF5IG5lYXIgZWFjaG90aGVyc1xuICAgKiB3aXRob3V0IGxlYXZpbmcgYW55IGdhcCBiZXR3ZWVuIHRoZSB0d28uIEV4cGVjaWFsbHkgdXNlZnVsIHdoZW4gdGhlIGFycm93IGlzXG4gICAqIGVuYWJsZWQgYW5kIHlvdSB3YW50IHRvIGFzc3VyZSBpdCB0byBwb2ludCB0byBpdHMgcmVmZXJlbmNlIGVsZW1lbnQuXG4gICAqIEl0IGNhcmVzIG9ubHkgYWJvdXQgdGhlIGZpcnN0IGF4aXMsIHlvdSBjYW4gc3RpbGwgaGF2ZSBwb3BwZXJzIHdpdGggbWFyZ2luXG4gICAqIGJldHdlZW4gdGhlIHBvcHBlciBhbmQgaXRzIHJlZmVyZW5jZSBlbGVtZW50LlxuICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAqIEBpbm5lclxuICAgKi9cbiAga2VlcFRvZ2V0aGVyOiB7XG4gICAgLyoqIEBwcm9wIHtudW1iZXJ9IG9yZGVyPTQwMCAtIEluZGV4IHVzZWQgdG8gZGVmaW5lIHRoZSBvcmRlciBvZiBleGVjdXRpb24gKi9cbiAgICBvcmRlcjogNDAwLFxuICAgIC8qKiBAcHJvcCB7Qm9vbGVhbn0gZW5hYmxlZD10cnVlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi9cbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIC8qKiBAcHJvcCB7TW9kaWZpZXJGbn0gKi9cbiAgICBmbjoga2VlcFRvZ2V0aGVyXG4gIH0sXG5cbiAgLyoqXG4gICAqIFRoaXMgbW9kaWZpZXIgaXMgdXNlZCB0byBtb3ZlIHRoZSBgYXJyb3dFbGVtZW50YCBvZiB0aGUgcG9wcGVyIHRvIG1ha2VcbiAgICogc3VyZSBpdCBpcyBwb3NpdGlvbmVkIGJldHdlZW4gdGhlIHJlZmVyZW5jZSBlbGVtZW50IGFuZCBpdHMgcG9wcGVyIGVsZW1lbnQuXG4gICAqIEl0IHdpbGwgcmVhZCB0aGUgb3V0ZXIgc2l6ZSBvZiB0aGUgYGFycm93RWxlbWVudGAgbm9kZSB0byBkZXRlY3QgaG93IG1hbnlcbiAgICogcGl4ZWxzIG9mIGNvbmp1Y3Rpb24gYXJlIG5lZWRlZC5cbiAgICpcbiAgICogSXQgaGFzIG5vIGVmZmVjdCBpZiBubyBgYXJyb3dFbGVtZW50YCBpcyBwcm92aWRlZC5cbiAgICogQG1lbWJlcm9mIG1vZGlmaWVyc1xuICAgKiBAaW5uZXJcbiAgICovXG4gIGFycm93OiB7XG4gICAgLyoqIEBwcm9wIHtudW1iZXJ9IG9yZGVyPTUwMCAtIEluZGV4IHVzZWQgdG8gZGVmaW5lIHRoZSBvcmRlciBvZiBleGVjdXRpb24gKi9cbiAgICBvcmRlcjogNTAwLFxuICAgIC8qKiBAcHJvcCB7Qm9vbGVhbn0gZW5hYmxlZD10cnVlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi9cbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIC8qKiBAcHJvcCB7TW9kaWZpZXJGbn0gKi9cbiAgICBmbjogYXJyb3csXG4gICAgLyoqIEBwcm9wIHtTdHJpbmd8SFRNTEVsZW1lbnR9IGVsZW1lbnQ9J1t4LWFycm93XScgLSBTZWxlY3RvciBvciBub2RlIHVzZWQgYXMgYXJyb3cgKi9cbiAgICBlbGVtZW50OiAnW3gtYXJyb3ddJ1xuICB9LFxuXG4gIC8qKlxuICAgKiBNb2RpZmllciB1c2VkIHRvIGZsaXAgdGhlIHBvcHBlcidzIHBsYWNlbWVudCB3aGVuIGl0IHN0YXJ0cyB0byBvdmVybGFwIGl0c1xuICAgKiByZWZlcmVuY2UgZWxlbWVudC5cbiAgICpcbiAgICogUmVxdWlyZXMgdGhlIGBwcmV2ZW50T3ZlcmZsb3dgIG1vZGlmaWVyIGJlZm9yZSBpdCBpbiBvcmRlciB0byB3b3JrLlxuICAgKlxuICAgKiAqKk5PVEU6KiogdGhpcyBtb2RpZmllciB3aWxsIGludGVycnVwdCB0aGUgY3VycmVudCB1cGRhdGUgY3ljbGUgYW5kIHdpbGxcbiAgICogcmVzdGFydCBpdCBpZiBpdCBkZXRlY3RzIHRoZSBuZWVkIHRvIGZsaXAgdGhlIHBsYWNlbWVudC5cbiAgICogQG1lbWJlcm9mIG1vZGlmaWVyc1xuICAgKiBAaW5uZXJcbiAgICovXG4gIGZsaXA6IHtcbiAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9NjAwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgIG9yZGVyOiA2MDAsXG4gICAgLyoqIEBwcm9wIHtCb29sZWFufSBlbmFibGVkPXRydWUgLSBXaGV0aGVyIHRoZSBtb2RpZmllciBpcyBlbmFibGVkIG9yIG5vdCAqL1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqL1xuICAgIGZuOiBmbGlwLFxuICAgIC8qKlxuICAgICAqIEBwcm9wIHtTdHJpbmd8QXJyYXl9IGJlaGF2aW9yPSdmbGlwJ1xuICAgICAqIFRoZSBiZWhhdmlvciB1c2VkIHRvIGNoYW5nZSB0aGUgcG9wcGVyJ3MgcGxhY2VtZW50LiBJdCBjYW4gYmUgb25lIG9mXG4gICAgICogYGZsaXBgLCBgY2xvY2t3aXNlYCwgYGNvdW50ZXJjbG9ja3dpc2VgIG9yIGFuIGFycmF5IHdpdGggYSBsaXN0IG9mIHZhbGlkXG4gICAgICogcGxhY2VtZW50cyAod2l0aCBvcHRpb25hbCB2YXJpYXRpb25zKS5cbiAgICAgKi9cbiAgICBiZWhhdmlvcjogJ2ZsaXAnLFxuICAgIC8qKlxuICAgICAqIEBwcm9wIHtudW1iZXJ9IHBhZGRpbmc9NVxuICAgICAqIFRoZSBwb3BwZXIgd2lsbCBmbGlwIGlmIGl0IGhpdHMgdGhlIGVkZ2VzIG9mIHRoZSBgYm91bmRhcmllc0VsZW1lbnRgXG4gICAgICovXG4gICAgcGFkZGluZzogNSxcbiAgICAvKipcbiAgICAgKiBAcHJvcCB7U3RyaW5nfEhUTUxFbGVtZW50fSBib3VuZGFyaWVzRWxlbWVudD0ndmlld3BvcnQnXG4gICAgICogVGhlIGVsZW1lbnQgd2hpY2ggd2lsbCBkZWZpbmUgdGhlIGJvdW5kYXJpZXMgb2YgdGhlIHBvcHBlciBwb3NpdGlvbixcbiAgICAgKiB0aGUgcG9wcGVyIHdpbGwgbmV2ZXIgYmUgcGxhY2VkIG91dHNpZGUgb2YgdGhlIGRlZmluZWQgYm91bmRhcmllc1xuICAgICAqIChleGNlcHQgaWYga2VlcFRvZ2V0aGVyIGlzIGVuYWJsZWQpXG4gICAgICovXG4gICAgYm91bmRhcmllc0VsZW1lbnQ6ICd2aWV3cG9ydCdcbiAgfSxcblxuICAvKipcbiAgICogTW9kaWZpZXIgdXNlZCB0byBtYWtlIHRoZSBwb3BwZXIgZmxvdyB0b3dhcmQgdGhlIGlubmVyIG9mIHRoZSByZWZlcmVuY2UgZWxlbWVudC5cbiAgICogQnkgZGVmYXVsdCwgd2hlbiB0aGlzIG1vZGlmaWVyIGlzIGRpc2FibGVkLCB0aGUgcG9wcGVyIHdpbGwgYmUgcGxhY2VkIG91dHNpZGVcbiAgICogdGhlIHJlZmVyZW5jZSBlbGVtZW50LlxuICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAqIEBpbm5lclxuICAgKi9cbiAgaW5uZXI6IHtcbiAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9NzAwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgIG9yZGVyOiA3MDAsXG4gICAgLyoqIEBwcm9wIHtCb29sZWFufSBlbmFibGVkPWZhbHNlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi9cbiAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovXG4gICAgZm46IGlubmVyXG4gIH0sXG5cbiAgLyoqXG4gICAqIE1vZGlmaWVyIHVzZWQgdG8gaGlkZSB0aGUgcG9wcGVyIHdoZW4gaXRzIHJlZmVyZW5jZSBlbGVtZW50IGlzIG91dHNpZGUgb2YgdGhlXG4gICAqIHBvcHBlciBib3VuZGFyaWVzLiBJdCB3aWxsIHNldCBhIGB4LW91dC1vZi1ib3VuZGFyaWVzYCBhdHRyaWJ1dGUgd2hpY2ggY2FuXG4gICAqIGJlIHVzZWQgdG8gaGlkZSB3aXRoIGEgQ1NTIHNlbGVjdG9yIHRoZSBwb3BwZXIgd2hlbiBpdHMgcmVmZXJlbmNlIGlzXG4gICAqIG91dCBvZiBib3VuZGFyaWVzLlxuICAgKlxuICAgKiBSZXF1aXJlcyB0aGUgYHByZXZlbnRPdmVyZmxvd2AgbW9kaWZpZXIgYmVmb3JlIGl0IGluIG9yZGVyIHRvIHdvcmsuXG4gICAqIEBtZW1iZXJvZiBtb2RpZmllcnNcbiAgICogQGlubmVyXG4gICAqL1xuICBoaWRlOiB7XG4gICAgLyoqIEBwcm9wIHtudW1iZXJ9IG9yZGVyPTgwMCAtIEluZGV4IHVzZWQgdG8gZGVmaW5lIHRoZSBvcmRlciBvZiBleGVjdXRpb24gKi9cbiAgICBvcmRlcjogODAwLFxuICAgIC8qKiBAcHJvcCB7Qm9vbGVhbn0gZW5hYmxlZD10cnVlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi9cbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIC8qKiBAcHJvcCB7TW9kaWZpZXJGbn0gKi9cbiAgICBmbjogaGlkZVxuICB9LFxuXG4gIC8qKlxuICAgKiBDb21wdXRlcyB0aGUgc3R5bGUgdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlciBlbGVtZW50IHRvIGdldHNcbiAgICogcHJvcGVybHkgcG9zaXRpb25lZC5cbiAgICpcbiAgICogTm90ZSB0aGF0IHRoaXMgbW9kaWZpZXIgd2lsbCBub3QgdG91Y2ggdGhlIERPTSwgaXQganVzdCBwcmVwYXJlcyB0aGUgc3R5bGVzXG4gICAqIHNvIHRoYXQgYGFwcGx5U3R5bGVgIG1vZGlmaWVyIGNhbiBhcHBseSBpdC4gVGhpcyBzZXBhcmF0aW9uIGlzIHVzZWZ1bFxuICAgKiBpbiBjYXNlIHlvdSBuZWVkIHRvIHJlcGxhY2UgYGFwcGx5U3R5bGVgIHdpdGggYSBjdXN0b20gaW1wbGVtZW50YXRpb24uXG4gICAqXG4gICAqIFRoaXMgbW9kaWZpZXIgaGFzIGA4NTBgIGFzIGBvcmRlcmAgdmFsdWUgdG8gbWFpbnRhaW4gYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICAgKiB3aXRoIHByZXZpb3VzIHZlcnNpb25zIG9mIFBvcHBlci5qcy4gRXhwZWN0IHRoZSBtb2RpZmllcnMgb3JkZXJpbmcgbWV0aG9kXG4gICAqIHRvIGNoYW5nZSBpbiBmdXR1cmUgbWFqb3IgdmVyc2lvbnMgb2YgdGhlIGxpYnJhcnkuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBtb2RpZmllcnNcbiAgICogQGlubmVyXG4gICAqL1xuICBjb21wdXRlU3R5bGU6IHtcbiAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9ODUwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgIG9yZGVyOiA4NTAsXG4gICAgLyoqIEBwcm9wIHtCb29sZWFufSBlbmFibGVkPXRydWUgLSBXaGV0aGVyIHRoZSBtb2RpZmllciBpcyBlbmFibGVkIG9yIG5vdCAqL1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqL1xuICAgIGZuOiBjb21wdXRlU3R5bGUsXG4gICAgLyoqXG4gICAgICogQHByb3Age0Jvb2xlYW59IGdwdUFjY2VsZXJhdGlvbj10cnVlXG4gICAgICogSWYgdHJ1ZSwgaXQgdXNlcyB0aGUgQ1NTIDNkIHRyYW5zZm9ybWF0aW9uIHRvIHBvc2l0aW9uIHRoZSBwb3BwZXIuXG4gICAgICogT3RoZXJ3aXNlLCBpdCB3aWxsIHVzZSB0aGUgYHRvcGAgYW5kIGBsZWZ0YCBwcm9wZXJ0aWVzLlxuICAgICAqL1xuICAgIGdwdUFjY2VsZXJhdGlvbjogdHJ1ZSxcbiAgICAvKipcbiAgICAgKiBAcHJvcCB7c3RyaW5nfSBbeD0nYm90dG9tJ11cbiAgICAgKiBXaGVyZSB0byBhbmNob3IgdGhlIFggYXhpcyAoYGJvdHRvbWAgb3IgYHRvcGApLiBBS0EgWCBvZmZzZXQgb3JpZ2luLlxuICAgICAqIENoYW5nZSB0aGlzIGlmIHlvdXIgcG9wcGVyIHNob3VsZCBncm93IGluIGEgZGlyZWN0aW9uIGRpZmZlcmVudCBmcm9tIGBib3R0b21gXG4gICAgICovXG4gICAgeDogJ2JvdHRvbScsXG4gICAgLyoqXG4gICAgICogQHByb3Age3N0cmluZ30gW3g9J2xlZnQnXVxuICAgICAqIFdoZXJlIHRvIGFuY2hvciB0aGUgWSBheGlzIChgbGVmdGAgb3IgYHJpZ2h0YCkuIEFLQSBZIG9mZnNldCBvcmlnaW4uXG4gICAgICogQ2hhbmdlIHRoaXMgaWYgeW91ciBwb3BwZXIgc2hvdWxkIGdyb3cgaW4gYSBkaXJlY3Rpb24gZGlmZmVyZW50IGZyb20gYHJpZ2h0YFxuICAgICAqL1xuICAgIHk6ICdyaWdodCdcbiAgfSxcblxuICAvKipcbiAgICogQXBwbGllcyB0aGUgY29tcHV0ZWQgc3R5bGVzIHRvIHRoZSBwb3BwZXIgZWxlbWVudC5cbiAgICpcbiAgICogQWxsIHRoZSBET00gbWFuaXB1bGF0aW9ucyBhcmUgbGltaXRlZCB0byB0aGlzIG1vZGlmaWVyLiBUaGlzIGlzIHVzZWZ1bCBpbiBjYXNlXG4gICAqIHlvdSB3YW50IHRvIGludGVncmF0ZSBQb3BwZXIuanMgaW5zaWRlIGEgZnJhbWV3b3JrIG9yIHZpZXcgbGlicmFyeSBhbmQgeW91XG4gICAqIHdhbnQgdG8gZGVsZWdhdGUgYWxsIHRoZSBET00gbWFuaXB1bGF0aW9ucyB0byBpdC5cbiAgICpcbiAgICogTm90ZSB0aGF0IGlmIHlvdSBkaXNhYmxlIHRoaXMgbW9kaWZpZXIsIHlvdSBtdXN0IG1ha2Ugc3VyZSB0aGUgcG9wcGVyIGVsZW1lbnRcbiAgICogaGFzIGl0cyBwb3NpdGlvbiBzZXQgdG8gYGFic29sdXRlYCBiZWZvcmUgUG9wcGVyLmpzIGNhbiBkbyBpdHMgd29yayFcbiAgICpcbiAgICogSnVzdCBkaXNhYmxlIHRoaXMgbW9kaWZpZXIgYW5kIGRlZmluZSB5b3Ugb3duIHRvIGFjaGlldmUgdGhlIGRlc2lyZWQgZWZmZWN0LlxuICAgKlxuICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAqIEBpbm5lclxuICAgKi9cbiAgYXBwbHlTdHlsZToge1xuICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj05MDAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovXG4gICAgb3JkZXI6IDkwMCxcbiAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9dHJ1ZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovXG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovXG4gICAgZm46IGFwcGx5U3R5bGUsXG4gICAgLyoqIEBwcm9wIHtGdW5jdGlvbn0gKi9cbiAgICBvbkxvYWQ6IGFwcGx5U3R5bGVPbkxvYWQsXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAxLjEwLjAsIHRoZSBwcm9wZXJ0eSBtb3ZlZCB0byBgY29tcHV0ZVN0eWxlYCBtb2RpZmllclxuICAgICAqIEBwcm9wIHtCb29sZWFufSBncHVBY2NlbGVyYXRpb249dHJ1ZVxuICAgICAqIElmIHRydWUsIGl0IHVzZXMgdGhlIENTUyAzZCB0cmFuc2Zvcm1hdGlvbiB0byBwb3NpdGlvbiB0aGUgcG9wcGVyLlxuICAgICAqIE90aGVyd2lzZSwgaXQgd2lsbCB1c2UgdGhlIGB0b3BgIGFuZCBgbGVmdGAgcHJvcGVydGllcy5cbiAgICAgKi9cbiAgICBncHVBY2NlbGVyYXRpb246IHVuZGVmaW5lZFxuICB9XG59O1xuXG4vKipcbiAqIFRoZSBgZGF0YU9iamVjdGAgaXMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBpbmZvcm1hdGlvbnMgdXNlZCBieSBQb3BwZXIuanNcbiAqIHRoaXMgb2JqZWN0IGdldCBwYXNzZWQgdG8gbW9kaWZpZXJzIGFuZCB0byB0aGUgYG9uQ3JlYXRlYCBhbmQgYG9uVXBkYXRlYCBjYWxsYmFja3MuXG4gKiBAbmFtZSBkYXRhT2JqZWN0XG4gKiBAcHJvcGVydHkge09iamVjdH0gZGF0YS5pbnN0YW5jZSBUaGUgUG9wcGVyLmpzIGluc3RhbmNlXG4gKiBAcHJvcGVydHkge1N0cmluZ30gZGF0YS5wbGFjZW1lbnQgUGxhY2VtZW50IGFwcGxpZWQgdG8gcG9wcGVyXG4gKiBAcHJvcGVydHkge1N0cmluZ30gZGF0YS5vcmlnaW5hbFBsYWNlbWVudCBQbGFjZW1lbnQgb3JpZ2luYWxseSBkZWZpbmVkIG9uIGluaXRcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gZGF0YS5mbGlwcGVkIFRydWUgaWYgcG9wcGVyIGhhcyBiZWVuIGZsaXBwZWQgYnkgZmxpcCBtb2RpZmllclxuICogQHByb3BlcnR5IHtCb29sZWFufSBkYXRhLmhpZGUgVHJ1ZSBpZiB0aGUgcmVmZXJlbmNlIGVsZW1lbnQgaXMgb3V0IG9mIGJvdW5kYXJpZXMsIHVzZWZ1bCB0byBrbm93IHdoZW4gdG8gaGlkZSB0aGUgcG9wcGVyLlxuICogQHByb3BlcnR5IHtIVE1MRWxlbWVudH0gZGF0YS5hcnJvd0VsZW1lbnQgTm9kZSB1c2VkIGFzIGFycm93IGJ5IGFycm93IG1vZGlmaWVyXG4gKiBAcHJvcGVydHkge09iamVjdH0gZGF0YS5zdHlsZXMgQW55IENTUyBwcm9wZXJ0eSBkZWZpbmVkIGhlcmUgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBwb3BwZXIsIGl0IGV4cGVjdHMgdGhlIEphdmFTY3JpcHQgbm9tZW5jbGF0dXJlIChlZy4gYG1hcmdpbkJvdHRvbWApXG4gKiBAcHJvcGVydHkge09iamVjdH0gZGF0YS5hcnJvd1N0eWxlcyBBbnkgQ1NTIHByb3BlcnR5IGRlZmluZWQgaGVyZSB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlciBhcnJvdywgaXQgZXhwZWN0cyB0aGUgSmF2YVNjcmlwdCBub21lbmNsYXR1cmUgKGVnLiBgbWFyZ2luQm90dG9tYClcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLmJvdW5kYXJpZXMgT2Zmc2V0cyBvZiB0aGUgcG9wcGVyIGJvdW5kYXJpZXNcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLm9mZnNldHMgVGhlIG1lYXN1cmVtZW50cyBvZiBwb3BwZXIsIHJlZmVyZW5jZSBhbmQgYXJyb3cgZWxlbWVudHMuXG4gKiBAcHJvcGVydHkge09iamVjdH0gZGF0YS5vZmZzZXRzLnBvcHBlciBgdG9wYCwgYGxlZnRgLCBgd2lkdGhgLCBgaGVpZ2h0YCB2YWx1ZXNcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLm9mZnNldHMucmVmZXJlbmNlIGB0b3BgLCBgbGVmdGAsIGB3aWR0aGAsIGBoZWlnaHRgIHZhbHVlc1xuICogQHByb3BlcnR5IHtPYmplY3R9IGRhdGEub2Zmc2V0cy5hcnJvd10gYHRvcGAgYW5kIGBsZWZ0YCBvZmZzZXRzLCBvbmx5IG9uZSBvZiB0aGVtIHdpbGwgYmUgZGlmZmVyZW50IGZyb20gMFxuICovXG5cbi8qKlxuICogRGVmYXVsdCBvcHRpb25zIHByb3ZpZGVkIHRvIFBvcHBlci5qcyBjb25zdHJ1Y3Rvci48YnIgLz5cbiAqIFRoZXNlIGNhbiBiZSBvdmVycmlkZW4gdXNpbmcgdGhlIGBvcHRpb25zYCBhcmd1bWVudCBvZiBQb3BwZXIuanMuPGJyIC8+XG4gKiBUbyBvdmVycmlkZSBhbiBvcHRpb24sIHNpbXBseSBwYXNzIGFzIDNyZCBhcmd1bWVudCBhbiBvYmplY3Qgd2l0aCB0aGUgc2FtZVxuICogc3RydWN0dXJlIG9mIHRoaXMgb2JqZWN0LCBleGFtcGxlOlxuICogYGBgXG4gKiBuZXcgUG9wcGVyKHJlZiwgcG9wLCB7XG4gKiAgIG1vZGlmaWVyczoge1xuICogICAgIHByZXZlbnRPdmVyZmxvdzogeyBlbmFibGVkOiBmYWxzZSB9XG4gKiAgIH1cbiAqIH0pXG4gKiBgYGBcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUG9wcGVyXG4gKi9cbnZhciBEZWZhdWx0cyQxID0ge1xuICAvKipcbiAgICogUG9wcGVyJ3MgcGxhY2VtZW50XG4gICAqIEBwcm9wIHtQb3BwZXIucGxhY2VtZW50c30gcGxhY2VtZW50PSdib3R0b20nXG4gICAqL1xuICBwbGFjZW1lbnQ6ICdib3R0b20nLFxuXG4gIC8qKlxuICAgKiBXaGV0aGVyIGV2ZW50cyAocmVzaXplLCBzY3JvbGwpIGFyZSBpbml0aWFsbHkgZW5hYmxlZFxuICAgKiBAcHJvcCB7Qm9vbGVhbn0gZXZlbnRzRW5hYmxlZD10cnVlXG4gICAqL1xuICBldmVudHNFbmFibGVkOiB0cnVlLFxuXG4gIC8qKlxuICAgKiBTZXQgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0byBhdXRvbWF0aWNhbGx5IHJlbW92ZSB0aGUgcG9wcGVyIHdoZW5cbiAgICogeW91IGNhbGwgdGhlIGBkZXN0cm95YCBtZXRob2QuXG4gICAqIEBwcm9wIHtCb29sZWFufSByZW1vdmVPbkRlc3Ryb3k9ZmFsc2VcbiAgICovXG4gIHJlbW92ZU9uRGVzdHJveTogZmFsc2UsXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGNhbGxlZCB3aGVuIHRoZSBwb3BwZXIgaXMgY3JlYXRlZC48YnIgLz5cbiAgICogQnkgZGVmYXVsdCwgaXMgc2V0IHRvIG5vLW9wLjxiciAvPlxuICAgKiBBY2Nlc3MgUG9wcGVyLmpzIGluc3RhbmNlIHdpdGggYGRhdGEuaW5zdGFuY2VgLlxuICAgKiBAcHJvcCB7b25DcmVhdGV9XG4gICAqL1xuICBvbkNyZWF0ZTogZnVuY3Rpb24gb25DcmVhdGUoKSB7fSxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgY2FsbGVkIHdoZW4gdGhlIHBvcHBlciBpcyB1cGRhdGVkLCB0aGlzIGNhbGxiYWNrIGlzIG5vdCBjYWxsZWRcbiAgICogb24gdGhlIGluaXRpYWxpemF0aW9uL2NyZWF0aW9uIG9mIHRoZSBwb3BwZXIsIGJ1dCBvbmx5IG9uIHN1YnNlcXVlbnRcbiAgICogdXBkYXRlcy48YnIgLz5cbiAgICogQnkgZGVmYXVsdCwgaXMgc2V0IHRvIG5vLW9wLjxiciAvPlxuICAgKiBBY2Nlc3MgUG9wcGVyLmpzIGluc3RhbmNlIHdpdGggYGRhdGEuaW5zdGFuY2VgLlxuICAgKiBAcHJvcCB7b25VcGRhdGV9XG4gICAqL1xuICBvblVwZGF0ZTogZnVuY3Rpb24gb25VcGRhdGUoKSB7fSxcblxuICAvKipcbiAgICogTGlzdCBvZiBtb2RpZmllcnMgdXNlZCB0byBtb2RpZnkgdGhlIG9mZnNldHMgYmVmb3JlIHRoZXkgYXJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlci5cbiAgICogVGhleSBwcm92aWRlIG1vc3Qgb2YgdGhlIGZ1bmN0aW9uYWxpdGllcyBvZiBQb3BwZXIuanNcbiAgICogQHByb3Age21vZGlmaWVyc31cbiAgICovXG4gIG1vZGlmaWVyczogbW9kaWZpZXJzXG59O1xuXG4vKipcbiAqIEBjYWxsYmFjayBvbkNyZWF0ZVxuICogQHBhcmFtIHtkYXRhT2JqZWN0fSBkYXRhXG4gKi9cblxuLyoqXG4gKiBAY2FsbGJhY2sgb25VcGRhdGVcbiAqIEBwYXJhbSB7ZGF0YU9iamVjdH0gZGF0YVxuICovXG5cbi8vIFV0aWxzXG4vLyBNZXRob2RzXG52YXIgUG9wcGVyID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IFBvcHBlci5qcyBpbnN0YW5jZVxuICAgKiBAY2xhc3MgUG9wcGVyXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8cmVmZXJlbmNlT2JqZWN0fSByZWZlcmVuY2UgLSBUaGUgcmVmZXJlbmNlIGVsZW1lbnQgdXNlZCB0byBwb3NpdGlvbiB0aGUgcG9wcGVyXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBvcHBlciAtIFRoZSBIVE1MIGVsZW1lbnQgdXNlZCBhcyBwb3BwZXIuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gWW91ciBjdXN0b20gb3B0aW9ucyB0byBvdmVycmlkZSB0aGUgb25lcyBkZWZpbmVkIGluIFtEZWZhdWx0c10oI2RlZmF1bHRzKVxuICAgKiBAcmV0dXJuIHtPYmplY3R9IGluc3RhbmNlIC0gVGhlIGdlbmVyYXRlZCBQb3BwZXIuanMgaW5zdGFuY2VcbiAgICovXG4gIGZ1bmN0aW9uIFBvcHBlcihyZWZlcmVuY2UsIHBvcHBlcikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgUG9wcGVyKTtcblxuICAgIHRoaXMuc2NoZWR1bGVVcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKF90aGlzLnVwZGF0ZSk7XG4gICAgfTtcblxuICAgIC8vIG1ha2UgdXBkYXRlKCkgZGVib3VuY2VkLCBzbyB0aGF0IGl0IG9ubHkgcnVucyBhdCBtb3N0IG9uY2UtcGVyLXRpY2tcbiAgICB0aGlzLnVwZGF0ZSA9IGRlYm91bmNlKHRoaXMudXBkYXRlLmJpbmQodGhpcykpO1xuXG4gICAgLy8gd2l0aCB7fSB3ZSBjcmVhdGUgYSBuZXcgb2JqZWN0IHdpdGggdGhlIG9wdGlvbnMgaW5zaWRlIGl0XG4gICAgdGhpcy5vcHRpb25zID0gX2V4dGVuZHMoe30sIFBvcHBlci5EZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAvLyBpbml0IHN0YXRlXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzRGVzdHJveWVkOiBmYWxzZSxcbiAgICAgIGlzQ3JlYXRlZDogZmFsc2UsXG4gICAgICBzY3JvbGxQYXJlbnRzOiBbXVxuICAgIH07XG5cbiAgICAvLyBnZXQgcmVmZXJlbmNlIGFuZCBwb3BwZXIgZWxlbWVudHMgKGFsbG93IGpRdWVyeSB3cmFwcGVycylcbiAgICB0aGlzLnJlZmVyZW5jZSA9IHJlZmVyZW5jZS5qcXVlcnkgPyByZWZlcmVuY2VbMF0gOiByZWZlcmVuY2U7XG4gICAgdGhpcy5wb3BwZXIgPSBwb3BwZXIuanF1ZXJ5ID8gcG9wcGVyWzBdIDogcG9wcGVyO1xuXG4gICAgLy8gRGVlcCBtZXJnZSBtb2RpZmllcnMgb3B0aW9uc1xuICAgIHRoaXMub3B0aW9ucy5tb2RpZmllcnMgPSB7fTtcbiAgICBPYmplY3Qua2V5cyhfZXh0ZW5kcyh7fSwgUG9wcGVyLkRlZmF1bHRzLm1vZGlmaWVycywgb3B0aW9ucy5tb2RpZmllcnMpKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICBfdGhpcy5vcHRpb25zLm1vZGlmaWVyc1tuYW1lXSA9IF9leHRlbmRzKHt9LCBQb3BwZXIuRGVmYXVsdHMubW9kaWZpZXJzW25hbWVdIHx8IHt9LCBvcHRpb25zLm1vZGlmaWVycyA/IG9wdGlvbnMubW9kaWZpZXJzW25hbWVdIDoge30pO1xuICAgIH0pO1xuXG4gICAgLy8gUmVmYWN0b3JpbmcgbW9kaWZpZXJzJyBsaXN0IChPYmplY3QgPT4gQXJyYXkpXG4gICAgdGhpcy5tb2RpZmllcnMgPSBPYmplY3Qua2V5cyh0aGlzLm9wdGlvbnMubW9kaWZpZXJzKS5tYXAoZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIHJldHVybiBfZXh0ZW5kcyh7XG4gICAgICAgIG5hbWU6IG5hbWVcbiAgICAgIH0sIF90aGlzLm9wdGlvbnMubW9kaWZpZXJzW25hbWVdKTtcbiAgICB9KVxuICAgIC8vIHNvcnQgdGhlIG1vZGlmaWVycyBieSBvcmRlclxuICAgIC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gYS5vcmRlciAtIGIub3JkZXI7XG4gICAgfSk7XG5cbiAgICAvLyBtb2RpZmllcnMgaGF2ZSB0aGUgYWJpbGl0eSB0byBleGVjdXRlIGFyYml0cmFyeSBjb2RlIHdoZW4gUG9wcGVyLmpzIGdldCBpbml0ZWRcbiAgICAvLyBzdWNoIGNvZGUgaXMgZXhlY3V0ZWQgaW4gdGhlIHNhbWUgb3JkZXIgb2YgaXRzIG1vZGlmaWVyXG4gICAgLy8gdGhleSBjb3VsZCBhZGQgbmV3IHByb3BlcnRpZXMgdG8gdGhlaXIgb3B0aW9ucyBjb25maWd1cmF0aW9uXG4gICAgLy8gQkUgQVdBUkU6IGRvbid0IGFkZCBvcHRpb25zIHRvIGBvcHRpb25zLm1vZGlmaWVycy5uYW1lYCBidXQgdG8gYG1vZGlmaWVyT3B0aW9uc2AhXG4gICAgdGhpcy5tb2RpZmllcnMuZm9yRWFjaChmdW5jdGlvbiAobW9kaWZpZXJPcHRpb25zKSB7XG4gICAgICBpZiAobW9kaWZpZXJPcHRpb25zLmVuYWJsZWQgJiYgaXNGdW5jdGlvbihtb2RpZmllck9wdGlvbnMub25Mb2FkKSkge1xuICAgICAgICBtb2RpZmllck9wdGlvbnMub25Mb2FkKF90aGlzLnJlZmVyZW5jZSwgX3RoaXMucG9wcGVyLCBfdGhpcy5vcHRpb25zLCBtb2RpZmllck9wdGlvbnMsIF90aGlzLnN0YXRlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIGZpcmUgdGhlIGZpcnN0IHVwZGF0ZSB0byBwb3NpdGlvbiB0aGUgcG9wcGVyIGluIHRoZSByaWdodCBwbGFjZVxuICAgIHRoaXMudXBkYXRlKCk7XG5cbiAgICB2YXIgZXZlbnRzRW5hYmxlZCA9IHRoaXMub3B0aW9ucy5ldmVudHNFbmFibGVkO1xuICAgIGlmIChldmVudHNFbmFibGVkKSB7XG4gICAgICAvLyBzZXR1cCBldmVudCBsaXN0ZW5lcnMsIHRoZXkgd2lsbCB0YWtlIGNhcmUgb2YgdXBkYXRlIHRoZSBwb3NpdGlvbiBpbiBzcGVjaWZpYyBzaXR1YXRpb25zXG4gICAgICB0aGlzLmVuYWJsZUV2ZW50TGlzdGVuZXJzKCk7XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0ZS5ldmVudHNFbmFibGVkID0gZXZlbnRzRW5hYmxlZDtcbiAgfVxuXG4gIC8vIFdlIGNhbid0IHVzZSBjbGFzcyBwcm9wZXJ0aWVzIGJlY2F1c2UgdGhleSBkb24ndCBnZXQgbGlzdGVkIGluIHRoZVxuICAvLyBjbGFzcyBwcm90b3R5cGUgYW5kIGJyZWFrIHN0dWZmIGxpa2UgU2lub24gc3R1YnNcblxuXG4gIGNyZWF0ZUNsYXNzKFBvcHBlciwgW3tcbiAgICBrZXk6ICd1cGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGUkJDEoKSB7XG4gICAgICByZXR1cm4gdXBkYXRlLmNhbGwodGhpcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGVzdHJveScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3kkJDEoKSB7XG4gICAgICByZXR1cm4gZGVzdHJveS5jYWxsKHRoaXMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2VuYWJsZUV2ZW50TGlzdGVuZXJzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZW5hYmxlRXZlbnRMaXN0ZW5lcnMkJDEoKSB7XG4gICAgICByZXR1cm4gZW5hYmxlRXZlbnRMaXN0ZW5lcnMuY2FsbCh0aGlzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkaXNhYmxlRXZlbnRMaXN0ZW5lcnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNhYmxlRXZlbnRMaXN0ZW5lcnMkJDEoKSB7XG4gICAgICByZXR1cm4gZGlzYWJsZUV2ZW50TGlzdGVuZXJzLmNhbGwodGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2NoZWR1bGUgYW4gdXBkYXRlLCBpdCB3aWxsIHJ1biBvbiB0aGUgbmV4dCBVSSB1cGRhdGUgYXZhaWxhYmxlXG4gICAgICogQG1ldGhvZCBzY2hlZHVsZVVwZGF0ZVxuICAgICAqIEBtZW1iZXJvZiBQb3BwZXJcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgdXRpbGl0aWVzIHVzZWZ1bCB3aGVuIHdyaXRpbmcgY3VzdG9tIG1vZGlmaWVycy5cbiAgICAgKiBTdGFydGluZyBmcm9tIHZlcnNpb24gMS43LCB0aGlzIG1ldGhvZCBpcyBhdmFpbGFibGUgb25seSBpZiB5b3VcbiAgICAgKiBpbmNsdWRlIGBwb3BwZXItdXRpbHMuanNgIGJlZm9yZSBgcG9wcGVyLmpzYC5cbiAgICAgKlxuICAgICAqICoqREVQUkVDQVRJT04qKjogVGhpcyB3YXkgdG8gYWNjZXNzIFBvcHBlclV0aWxzIGlzIGRlcHJlY2F0ZWRcbiAgICAgKiBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHYyISBVc2UgdGhlIFBvcHBlclV0aWxzIG1vZHVsZSBkaXJlY3RseSBpbnN0ZWFkLlxuICAgICAqIER1ZSB0byB0aGUgaGlnaCBpbnN0YWJpbGl0eSBvZiB0aGUgbWV0aG9kcyBjb250YWluZWQgaW4gVXRpbHMsIHdlIGNhbid0XG4gICAgICogZ3VhcmFudGVlIHRoZW0gdG8gZm9sbG93IHNlbXZlci4gVXNlIHRoZW0gYXQgeW91ciBvd24gcmlzayFcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMS44XG4gICAgICogQG1lbWJlciBVdGlsc1xuICAgICAqIEBtZW1iZXJvZiBQb3BwZXJcbiAgICAgKi9cblxuICB9XSk7XG4gIHJldHVybiBQb3BwZXI7XG59KCk7XG5cbi8qKlxuICogVGhlIGByZWZlcmVuY2VPYmplY3RgIGlzIGFuIG9iamVjdCB0aGF0IHByb3ZpZGVzIGFuIGludGVyZmFjZSBjb21wYXRpYmxlIHdpdGggUG9wcGVyLmpzXG4gKiBhbmQgbGV0cyB5b3UgdXNlIGl0IGFzIHJlcGxhY2VtZW50IG9mIGEgcmVhbCBET00gbm9kZS48YnIgLz5cbiAqIFlvdSBjYW4gdXNlIHRoaXMgbWV0aG9kIHRvIHBvc2l0aW9uIGEgcG9wcGVyIHJlbGF0aXZlbHkgdG8gYSBzZXQgb2YgY29vcmRpbmF0ZXNcbiAqIGluIGNhc2UgeW91IGRvbid0IGhhdmUgYSBET00gbm9kZSB0byB1c2UgYXMgcmVmZXJlbmNlLlxuICpcbiAqIGBgYFxuICogbmV3IFBvcHBlcihyZWZlcmVuY2VPYmplY3QsIHBvcHBlck5vZGUpO1xuICogYGBgXG4gKlxuICogTkI6IFRoaXMgZmVhdHVyZSBpc24ndCBzdXBwb3J0ZWQgaW4gSW50ZXJuZXQgRXhwbG9yZXIgMTBcbiAqIEBuYW1lIHJlZmVyZW5jZU9iamVjdFxuICogQHByb3BlcnR5IHtGdW5jdGlvbn0gZGF0YS5nZXRCb3VuZGluZ0NsaWVudFJlY3RcbiAqIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgc2V0IG9mIGNvb3JkaW5hdGVzIGNvbXBhdGlibGUgd2l0aCB0aGUgbmF0aXZlIGBnZXRCb3VuZGluZ0NsaWVudFJlY3RgIG1ldGhvZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkYXRhLmNsaWVudFdpZHRoXG4gKiBBbiBFUzYgZ2V0dGVyIHRoYXQgd2lsbCByZXR1cm4gdGhlIHdpZHRoIG9mIHRoZSB2aXJ0dWFsIHJlZmVyZW5jZSBlbGVtZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGRhdGEuY2xpZW50SGVpZ2h0XG4gKiBBbiBFUzYgZ2V0dGVyIHRoYXQgd2lsbCByZXR1cm4gdGhlIGhlaWdodCBvZiB0aGUgdmlydHVhbCByZWZlcmVuY2UgZWxlbWVudC5cbiAqL1xuXG5Qb3BwZXIuVXRpbHMgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiBnbG9iYWwpLlBvcHBlclV0aWxzO1xuUG9wcGVyLnBsYWNlbWVudHMgPSBwbGFjZW1lbnRzO1xuUG9wcGVyLkRlZmF1bHRzID0gRGVmYXVsdHMkMTtcblxuLyoqXG4qIFJldHVybnMgdGhlIGRpc3RhbmNlIHRha2luZyBpbnRvIGFjY291bnQgdGhlIGRlZmF1bHQgZGlzdGFuY2UgZHVlIHRvXG4qIHRoZSB0cmFuc2Zvcm06IHRyYW5zbGF0ZSBzZXR0aW5nIGluIENTU1xuKiBAcGFyYW0ge051bWJlcn0gZGlzdGFuY2VcbiogQHJldHVybiB7U3RyaW5nfVxuKi9cbmZ1bmN0aW9uIGdldE9mZnNldERpc3RhbmNlSW5QeChkaXN0YW5jZSkge1xuICByZXR1cm4gLShkaXN0YW5jZSAtIERlZmF1bHRzLmRpc3RhbmNlKSArICdweCc7XG59XG5cbnZhciBjbGFzc0NhbGxDaGVjayQxID0gZnVuY3Rpb24gKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn07XG5cbnZhciBjcmVhdGVDbGFzcyQxID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9O1xufSgpO1xuXG5cblxuXG5cblxuXG52YXIgX2V4dGVuZHMkMSA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59O1xuXG4vKipcbiogQ3JlYXRlcyBhIG5ldyBwb3BwZXIgaW5zdGFuY2VcbiogQHBhcmFtIHtPYmplY3R9IGRhdGFcbiogQHJldHVybiB7T2JqZWN0fSAtIHRoZSBwb3BwZXIgaW5zdGFuY2VcbiovXG5mdW5jdGlvbiBjcmVhdGVQb3BwZXJJbnN0YW5jZShkYXRhKSB7XG4gIHZhciBlbCA9IGRhdGEuZWwsXG4gICAgICBwb3BwZXIgPSBkYXRhLnBvcHBlcixcbiAgICAgIF9kYXRhJHNldHRpbmdzID0gZGF0YS5zZXR0aW5ncyxcbiAgICAgIHBvc2l0aW9uID0gX2RhdGEkc2V0dGluZ3MucG9zaXRpb24sXG4gICAgICBwb3BwZXJPcHRpb25zID0gX2RhdGEkc2V0dGluZ3MucG9wcGVyT3B0aW9ucyxcbiAgICAgIG9mZnNldCA9IF9kYXRhJHNldHRpbmdzLm9mZnNldCxcbiAgICAgIGRpc3RhbmNlID0gX2RhdGEkc2V0dGluZ3MuZGlzdGFuY2UsXG4gICAgICBmbGlwRHVyYXRpb24gPSBfZGF0YSRzZXR0aW5ncy5mbGlwRHVyYXRpb247XG5cbiAgdmFyIF9nZXRJbm5lckVsZW1lbnRzID0gZ2V0SW5uZXJFbGVtZW50cyhwb3BwZXIpLFxuICAgICAgdG9vbHRpcCA9IF9nZXRJbm5lckVsZW1lbnRzLnRvb2x0aXA7XG5cbiAgdmFyIGNvbmZpZyA9IF9leHRlbmRzJDEoe1xuICAgIHBsYWNlbWVudDogcG9zaXRpb25cbiAgfSwgcG9wcGVyT3B0aW9ucyB8fCB7fSwge1xuICAgIG1vZGlmaWVyczogX2V4dGVuZHMkMSh7fSwgcG9wcGVyT3B0aW9ucyA/IHBvcHBlck9wdGlvbnMubW9kaWZpZXJzIDoge30sIHtcbiAgICAgIGZsaXA6IF9leHRlbmRzJDEoe1xuICAgICAgICBwYWRkaW5nOiBkaXN0YW5jZSArIDUgLyogNXB4IGZyb20gdmlld3BvcnQgYm91bmRhcnkgKi9cbiAgICAgIH0sIHBvcHBlck9wdGlvbnMgJiYgcG9wcGVyT3B0aW9ucy5tb2RpZmllcnMgPyBwb3BwZXJPcHRpb25zLm1vZGlmaWVycy5mbGlwIDoge30pLFxuICAgICAgb2Zmc2V0OiBfZXh0ZW5kcyQxKHtcbiAgICAgICAgb2Zmc2V0OiBvZmZzZXRcbiAgICAgIH0sIHBvcHBlck9wdGlvbnMgJiYgcG9wcGVyT3B0aW9ucy5tb2RpZmllcnMgPyBwb3BwZXJPcHRpb25zLm1vZGlmaWVycy5vZmZzZXQgOiB7fSlcbiAgICB9KSxcbiAgICBvblVwZGF0ZTogZnVuY3Rpb24gb25VcGRhdGUoKSB7XG4gICAgICB2YXIgc3R5bGVzID0gdG9vbHRpcC5zdHlsZTtcbiAgICAgIHN0eWxlcy50b3AgPSAnJztcbiAgICAgIHN0eWxlcy5ib3R0b20gPSAnJztcbiAgICAgIHN0eWxlcy5sZWZ0ID0gJyc7XG4gICAgICBzdHlsZXMucmlnaHQgPSAnJztcbiAgICAgIHN0eWxlc1tnZXRDb3JlUGxhY2VtZW50KHBvcHBlci5nZXRBdHRyaWJ1dGUoJ3gtcGxhY2VtZW50JykpXSA9IGdldE9mZnNldERpc3RhbmNlSW5QeChkaXN0YW5jZSk7XG4gICAgfVxuICB9KTtcblxuICAvLyBVcGRhdGUgdGhlIHBvcHBlcidzIHBvc2l0aW9uIHdoZW5ldmVyIGl0cyBjb250ZW50IGNoYW5nZXNcbiAgLy8gTm90IHN1cHBvcnRlZCBpbiBJRTEwIHVubGVzcyBwb2x5ZmlsbGVkXG4gIGlmICh3aW5kb3cuTXV0YXRpb25PYnNlcnZlcikge1xuICAgIHZhciBzdHlsZXMgPSBwb3BwZXIuc3R5bGU7XG5cbiAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAoKSB7XG4gICAgICBzdHlsZXNbcHJlZml4KCd0cmFuc2l0aW9uRHVyYXRpb24nKV0gPSAnMG1zJztcbiAgICAgIGRhdGEucG9wcGVySW5zdGFuY2UudXBkYXRlKCk7XG4gICAgICBkZWZlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0eWxlc1twcmVmaXgoJ3RyYW5zaXRpb25EdXJhdGlvbicpXSA9IGZsaXBEdXJhdGlvbiArICdtcyc7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIG9ic2VydmVyLm9ic2VydmUocG9wcGVyLCB7XG4gICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICBzdWJ0cmVlOiB0cnVlLFxuICAgICAgY2hhcmFjdGVyRGF0YTogdHJ1ZVxuICAgIH0pO1xuXG4gICAgZGF0YS5fbXV0YXRpb25PYnNlcnZlcnMucHVzaChvYnNlcnZlcik7XG4gIH1cblxuICByZXR1cm4gbmV3IFBvcHBlcihlbCwgcG9wcGVyLCBjb25maWcpO1xufVxuXG4vKipcbiogQXBwZW5kcyB0aGUgcG9wcGVyIGFuZCBjcmVhdGVzIGEgcG9wcGVyIGluc3RhbmNlIGlmIG9uZSBkb2VzIG5vdCBleGlzdFxuKiBBbHNvIHVwZGF0ZXMgaXRzIHBvc2l0aW9uIGlmIG5lZWQgYmUgYW5kIGVuYWJsZXMgZXZlbnQgbGlzdGVuZXJzXG4qIEBwYXJhbSB7T2JqZWN0fSBkYXRhIC0gIHRoZSBlbGVtZW50L3BvcHBlciByZWZlcmVuY2UgZGF0YVxuKi9cbmZ1bmN0aW9uIG1vdW50UG9wcGVyKGRhdGEpIHtcbiAgdmFyIGVsID0gZGF0YS5lbCxcbiAgICAgIHBvcHBlciA9IGRhdGEucG9wcGVyLFxuICAgICAgX2RhdGEkc2V0dGluZ3MgPSBkYXRhLnNldHRpbmdzLFxuICAgICAgYXBwZW5kVG8gPSBfZGF0YSRzZXR0aW5ncy5hcHBlbmRUbyxcbiAgICAgIGZvbGxvd0N1cnNvciA9IF9kYXRhJHNldHRpbmdzLmZvbGxvd0N1cnNvcjtcblxuICAvLyBBbHJlYWR5IG9uIHRoZSBET01cblxuICBpZiAoYXBwZW5kVG8uY29udGFpbnMocG9wcGVyKSkgcmV0dXJuO1xuXG4gIGFwcGVuZFRvLmFwcGVuZENoaWxkKHBvcHBlcik7XG5cbiAgaWYgKCFkYXRhLnBvcHBlckluc3RhbmNlKSB7XG4gICAgZGF0YS5wb3BwZXJJbnN0YW5jZSA9IGNyZWF0ZVBvcHBlckluc3RhbmNlKGRhdGEpO1xuICB9IGVsc2Uge1xuICAgIGRhdGEucG9wcGVySW5zdGFuY2UudXBkYXRlKCk7XG4gICAgaWYgKCFmb2xsb3dDdXJzb3IgfHwgQnJvd3Nlci50b3VjaCkge1xuICAgICAgZGF0YS5wb3BwZXJJbnN0YW5jZS5lbmFibGVFdmVudExpc3RlbmVycygpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFNpbmNlIHRvdWNoIGlzIGRldGVybWluZWQgZHluYW1pY2FsbHksIGZvbGxvd0N1cnNvciBpcyBzZXQgb24gbW91bnRcbiAgaWYgKGZvbGxvd0N1cnNvciAmJiAhQnJvd3Nlci50b3VjaCkge1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGZvbGxvd0N1cnNvckhhbmRsZXIpO1xuICAgIGRhdGEucG9wcGVySW5zdGFuY2UuZGlzYWJsZUV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cblxuLyoqXG4qIFVwZGF0ZXMgYSBwb3BwZXIncyBwb3NpdGlvbiBvbiBlYWNoIGFuaW1hdGlvbiBmcmFtZSB0byBtYWtlIGl0IHN0aWNrIHRvIGEgbW92aW5nIGVsZW1lbnRcbiogQHBhcmFtIHtPYmplY3R9IHJlZkRhdGFcbiovXG5mdW5jdGlvbiBtYWtlU3RpY2t5KHJlZkRhdGEpIHtcbiAgdmFyIHBvcHBlciA9IHJlZkRhdGEucG9wcGVyLFxuICAgICAgcG9wcGVySW5zdGFuY2UgPSByZWZEYXRhLnBvcHBlckluc3RhbmNlLFxuICAgICAgc3RpY2t5RHVyYXRpb24gPSByZWZEYXRhLnNldHRpbmdzLnN0aWNreUR1cmF0aW9uO1xuXG5cbiAgdmFyIGFwcGx5VHJhbnNpdGlvbkR1cmF0aW9uID0gZnVuY3Rpb24gYXBwbHlUcmFuc2l0aW9uRHVyYXRpb24oKSB7XG4gICAgcmV0dXJuIHBvcHBlci5zdHlsZVtwcmVmaXgoJ3RyYW5zaXRpb25EdXJhdGlvbicpXSA9IHN0aWNreUR1cmF0aW9uICsgJ21zJztcbiAgfTtcblxuICB2YXIgcmVtb3ZlVHJhbnNpdGlvbkR1cmF0aW9uID0gZnVuY3Rpb24gcmVtb3ZlVHJhbnNpdGlvbkR1cmF0aW9uKCkge1xuICAgIHJldHVybiBwb3BwZXIuc3R5bGVbcHJlZml4KCd0cmFuc2l0aW9uRHVyYXRpb24nKV0gPSAnJztcbiAgfTtcblxuICB2YXIgdXBkYXRlUG9zaXRpb24gPSBmdW5jdGlvbiB1cGRhdGVQb3NpdGlvbigpIHtcbiAgICBwb3BwZXJJbnN0YW5jZSAmJiBwb3BwZXJJbnN0YW5jZS5zY2hlZHVsZVVwZGF0ZSgpO1xuXG4gICAgYXBwbHlUcmFuc2l0aW9uRHVyYXRpb24oKTtcblxuICAgIGlzVmlzaWJsZShwb3BwZXIpID8gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGVQb3NpdGlvbikgOiByZW1vdmVUcmFuc2l0aW9uRHVyYXRpb24oKTtcbiAgfTtcblxuICAvLyBXYWl0IHVudGlsIFBvcHBlcidzIHBvc2l0aW9uIGhhcyBiZWVuIHVwZGF0ZWQgaW5pdGlhbGx5XG4gIGRlZmVyKHVwZGF0ZVBvc2l0aW9uKTtcbn1cblxuLyoqXG4qIFJldHVybnMgYW4gb2JqZWN0IG9mIHNldHRpbmdzIHRvIG92ZXJyaWRlIGdsb2JhbCBzZXR0aW5nc1xuKiBAcGFyYW0ge0VsZW1lbnR9IGVsIC0gdGhlIHRvb2x0aXBwZWQgZWxlbWVudFxuKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2VTZXR0aW5nc1xuKiBAcmV0dXJuIHtPYmplY3R9IC0gaW5kaXZpZHVhbCBzZXR0aW5nc1xuKi9cbmZ1bmN0aW9uIGdldEluZGl2aWR1YWxTZXR0aW5ncyhlbCwgaW5zdGFuY2VTZXR0aW5ncykge1xuICB2YXIgc2V0dGluZ3MgPSBEZWZhdWx0c0tleXMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGtleSkge1xuICAgIHZhciB2YWwgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtJyArIGtleS50b0xvd2VyQ2FzZSgpKSB8fCBpbnN0YW5jZVNldHRpbmdzW2tleV07XG5cbiAgICAvLyBDb252ZXJ0IHN0cmluZ3MgdG8gYm9vbGVhbnNcbiAgICBpZiAodmFsID09PSAnZmFsc2UnKSB2YWwgPSBmYWxzZTtcbiAgICBpZiAodmFsID09PSAndHJ1ZScpIHZhbCA9IHRydWU7XG5cbiAgICAvLyBDb252ZXJ0IG51bWJlciBzdHJpbmdzIHRvIHRydWUgbnVtYmVyc1xuICAgIGlmIChpc0Zpbml0ZSh2YWwpICYmICFpc05hTihwYXJzZUZsb2F0KHZhbCkpKSB7XG4gICAgICB2YWwgPSBwYXJzZUZsb2F0KHZhbCk7XG4gICAgfVxuXG4gICAgLy8gQ29udmVydCBhcnJheSBzdHJpbmdzIHRvIGFjdHVhbCBhcnJheXNcbiAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgJiYgdmFsLnRyaW0oKS5jaGFyQXQoMCkgPT09ICdbJykge1xuICAgICAgdmFsID0gSlNPTi5wYXJzZSh2YWwpO1xuICAgIH1cblxuICAgIGFjY1trZXldID0gdmFsO1xuXG4gICAgcmV0dXJuIGFjYztcbiAgfSwge30pO1xuXG4gIHJldHVybiBfZXh0ZW5kcyQxKHt9LCBpbnN0YW5jZVNldHRpbmdzLCBzZXR0aW5ncyk7XG59XG5cbi8qKlxuKiBDcmVhdGVzIGEgcG9wcGVyIGVsZW1lbnQgdGhlbiByZXR1cm5zIGl0XG4qIEBwYXJhbSB7TnVtYmVyfSBpZCAtIHRoZSBwb3BwZXIgaWRcbiogQHBhcmFtIHtTdHJpbmd9IHRpdGxlIC0gdGhlIHRvb2x0aXAncyBgdGl0bGVgIGF0dHJpYnV0ZVxuKiBAcGFyYW0ge09iamVjdH0gc2V0dGluZ3MgLSBpbmRpdmlkdWFsIHNldHRpbmdzXG4qIEByZXR1cm4ge0VsZW1lbnR9IC0gdGhlIHBvcHBlciBlbGVtZW50XG4qL1xuZnVuY3Rpb24gY3JlYXRlUG9wcGVyRWxlbWVudChpZCwgdGl0bGUsIHNldHRpbmdzKSB7XG4gIHZhciBwb3NpdGlvbiA9IHNldHRpbmdzLnBvc2l0aW9uLFxuICAgICAgZGlzdGFuY2UgPSBzZXR0aW5ncy5kaXN0YW5jZSxcbiAgICAgIGFycm93ID0gc2V0dGluZ3MuYXJyb3csXG4gICAgICBhbmltYXRlRmlsbCA9IHNldHRpbmdzLmFuaW1hdGVGaWxsLFxuICAgICAgaW5lcnRpYSA9IHNldHRpbmdzLmluZXJ0aWEsXG4gICAgICBhbmltYXRpb24gPSBzZXR0aW5ncy5hbmltYXRpb24sXG4gICAgICBhcnJvd1NpemUgPSBzZXR0aW5ncy5hcnJvd1NpemUsXG4gICAgICBzaXplID0gc2V0dGluZ3Muc2l6ZSxcbiAgICAgIHRoZW1lID0gc2V0dGluZ3MudGhlbWUsXG4gICAgICBodG1sID0gc2V0dGluZ3MuaHRtbCxcbiAgICAgIHpJbmRleCA9IHNldHRpbmdzLnpJbmRleCxcbiAgICAgIGludGVyYWN0aXZlID0gc2V0dGluZ3MuaW50ZXJhY3RpdmU7XG5cblxuICB2YXIgcG9wcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHBvcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3RpcHB5LXBvcHBlcicpO1xuICBwb3BwZXIuc2V0QXR0cmlidXRlKCdyb2xlJywgJ3Rvb2x0aXAnKTtcbiAgcG9wcGVyLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICBwb3BwZXIuc2V0QXR0cmlidXRlKCdpZCcsICd0aXBweS10b29sdGlwLScgKyBpZCk7XG4gIHBvcHBlci5zdHlsZS56SW5kZXggPSB6SW5kZXg7XG5cbiAgdmFyIHRvb2x0aXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgdG9vbHRpcC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3RpcHB5LXRvb2x0aXAgdGlwcHktdG9vbHRpcC0tJyArIHNpemUgKyAnIGxlYXZlJyk7XG4gIHRvb2x0aXAuc2V0QXR0cmlidXRlKCdkYXRhLWFuaW1hdGlvbicsIGFuaW1hdGlvbik7XG5cbiAgdGhlbWUuc3BsaXQoJyAnKS5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7XG4gICAgdG9vbHRpcC5jbGFzc0xpc3QuYWRkKHQgKyAnLXRoZW1lJyk7XG4gIH0pO1xuXG4gIGlmIChhcnJvdykge1xuICAgIC8vIEFkZCBhbiBhcnJvd1xuICAgIHZhciBfYXJyb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBfYXJyb3cuc2V0QXR0cmlidXRlKCdjbGFzcycsICdhcnJvdy0nICsgYXJyb3dTaXplKTtcbiAgICBfYXJyb3cuc2V0QXR0cmlidXRlKCd4LWFycm93JywgJycpO1xuICAgIHRvb2x0aXAuYXBwZW5kQ2hpbGQoX2Fycm93KTtcbiAgfVxuXG4gIGlmIChhbmltYXRlRmlsbCkge1xuICAgIC8vIENyZWF0ZSBhbmltYXRlRmlsbCBjaXJjbGUgZWxlbWVudCBmb3IgYW5pbWF0aW9uXG4gICAgdG9vbHRpcC5zZXRBdHRyaWJ1dGUoJ2RhdGEtYW5pbWF0ZWZpbGwnLCAnJyk7XG4gICAgdmFyIGNpcmNsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNpcmNsZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2xlYXZlJyk7XG4gICAgY2lyY2xlLnNldEF0dHJpYnV0ZSgneC1jaXJjbGUnLCAnJyk7XG4gICAgdG9vbHRpcC5hcHBlbmRDaGlsZChjaXJjbGUpO1xuICB9XG5cbiAgaWYgKGluZXJ0aWEpIHtcbiAgICAvLyBDaGFuZ2UgdHJhbnNpdGlvbiB0aW1pbmcgZnVuY3Rpb24gY3ViaWMgYmV6aWVyXG4gICAgdG9vbHRpcC5zZXRBdHRyaWJ1dGUoJ2RhdGEtaW5lcnRpYScsICcnKTtcbiAgfVxuXG4gIGlmIChpbnRlcmFjdGl2ZSkge1xuICAgIHRvb2x0aXAuc2V0QXR0cmlidXRlKCdkYXRhLWludGVyYWN0aXZlJywgJycpO1xuICB9XG5cbiAgLy8gVG9vbHRpcCBjb250ZW50ICh0ZXh0IG9yIEhUTUwpXG4gIHZhciBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGNvbnRlbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsICd0aXBweS10b29sdGlwLWNvbnRlbnQnKTtcblxuICBpZiAoaHRtbCkge1xuICAgIHZhciB0ZW1wbGF0ZUlkID0gdm9pZCAwO1xuXG4gICAgaWYgKGh0bWwgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgICBjb250ZW50LmFwcGVuZENoaWxkKGh0bWwpO1xuICAgICAgdGVtcGxhdGVJZCA9ICcjJyArIGh0bWwuaWQgfHwgJ3RpcHB5LWh0bWwtdGVtcGxhdGUnO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250ZW50LmlubmVySFRNTCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGh0bWwucmVwbGFjZSgnIycsICcnKSkuaW5uZXJIVE1MO1xuICAgICAgdGVtcGxhdGVJZCA9IGh0bWw7XG4gICAgfVxuXG4gICAgcG9wcGVyLmNsYXNzTGlzdC5hZGQoJ2h0bWwtdGVtcGxhdGUnKTtcbiAgICBpbnRlcmFjdGl2ZSAmJiBwb3BwZXIuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICctMScpO1xuICAgIHRvb2x0aXAuc2V0QXR0cmlidXRlKCdkYXRhLXRlbXBsYXRlLWlkJywgdGVtcGxhdGVJZCk7XG4gIH0gZWxzZSB7XG4gICAgY29udGVudC5pbm5lckhUTUwgPSB0aXRsZTtcbiAgfVxuXG4gIC8vIEluaXQgZGlzdGFuY2UuIEZ1cnRoZXIgdXBkYXRlcyBhcmUgbWFkZSBpbiB0aGUgcG9wcGVyIGluc3RhbmNlJ3MgYG9uVXBkYXRlKClgIG1ldGhvZFxuICB0b29sdGlwLnN0eWxlW2dldENvcmVQbGFjZW1lbnQocG9zaXRpb24pXSA9IGdldE9mZnNldERpc3RhbmNlSW5QeChkaXN0YW5jZSk7XG5cbiAgdG9vbHRpcC5hcHBlbmRDaGlsZChjb250ZW50KTtcbiAgcG9wcGVyLmFwcGVuZENoaWxkKHRvb2x0aXApO1xuXG4gIHJldHVybiBwb3BwZXI7XG59XG5cbi8qKlxuKiBDcmVhdGVzIGEgdHJpZ2dlclxuKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgLSB0aGUgY3VzdG9tIGV2ZW50IHNwZWNpZmllZCBpbiB0aGUgYHRyaWdnZXJgIHNldHRpbmdcbiogQHBhcmFtIHtFbGVtZW50fSBlbCAtIHRvb2x0aXBwZWQgZWxlbWVudFxuKiBAcGFyYW0ge09iamVjdH0gaGFuZGxlcnMgLSB0aGUgaGFuZGxlcnMgZm9yIGVhY2ggbGlzdGVuZXJcbiogQHBhcmFtIHtCb29sZWFufSB0b3VjaEhvbGRcbiogQHJldHVybiB7QXJyYXl9IC0gYXJyYXkgb2YgbGlzdGVuZXIgb2JqZWN0c1xuKi9cbmZ1bmN0aW9uIGNyZWF0ZVRyaWdnZXIoZXZlbnQsIGVsLCBoYW5kbGVycywgdG91Y2hIb2xkKSB7XG4gIHZhciBsaXN0ZW5lcnMgPSBbXTtcblxuICBpZiAoZXZlbnQgPT09ICdtYW51YWwnKSByZXR1cm4gbGlzdGVuZXJzO1xuXG4gIC8vIEVudGVyXG4gIGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXJzLmhhbmRsZVRyaWdnZXIpO1xuICBsaXN0ZW5lcnMucHVzaCh7XG4gICAgZXZlbnQ6IGV2ZW50LFxuICAgIGhhbmRsZXI6IGhhbmRsZXJzLmhhbmRsZVRyaWdnZXJcbiAgfSk7XG5cbiAgLy8gTGVhdmVcbiAgaWYgKGV2ZW50ID09PSAnbW91c2VlbnRlcicpIHtcbiAgICBpZiAoQnJvd3Nlci5TVVBQT1JUU19UT1VDSCAmJiB0b3VjaEhvbGQpIHtcbiAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBoYW5kbGVycy5oYW5kbGVUcmlnZ2VyKTtcbiAgICAgIGxpc3RlbmVycy5wdXNoKHtcbiAgICAgICAgZXZlbnQ6ICd0b3VjaHN0YXJ0JyxcbiAgICAgICAgaGFuZGxlcjogaGFuZGxlcnMuaGFuZGxlVHJpZ2dlclxuICAgICAgfSk7XG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGhhbmRsZXJzLmhhbmRsZU1vdXNlbGVhdmUpO1xuICAgICAgbGlzdGVuZXJzLnB1c2goe1xuICAgICAgICBldmVudDogJ3RvdWNoZW5kJyxcbiAgICAgICAgaGFuZGxlcjogaGFuZGxlcnMuaGFuZGxlTW91c2VsZWF2ZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGhhbmRsZXJzLmhhbmRsZU1vdXNlbGVhdmUpO1xuICAgIGxpc3RlbmVycy5wdXNoKHtcbiAgICAgIGV2ZW50OiAnbW91c2VsZWF2ZScsXG4gICAgICBoYW5kbGVyOiBoYW5kbGVycy5oYW5kbGVNb3VzZWxlYXZlXG4gICAgfSk7XG4gIH1cblxuICBpZiAoZXZlbnQgPT09ICdmb2N1cycpIHtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgaGFuZGxlcnMuaGFuZGxlQmx1cik7XG4gICAgbGlzdGVuZXJzLnB1c2goe1xuICAgICAgZXZlbnQ6ICdibHVyJyxcbiAgICAgIGhhbmRsZXI6IGhhbmRsZXJzLmhhbmRsZUJsdXJcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBsaXN0ZW5lcnM7XG59XG5cbi8qKlxuKiBEZXRlcm1pbmVzIGlmIHRoZSBtb3VzZSdzIGN1cnNvciBpcyBvdXRzaWRlIHRoZSBpbnRlcmFjdGl2ZSBib3JkZXJcbiogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudFxuKiBAcGFyYW0ge0VsZW1lbnR9IHBvcHBlclxuKiBAcGFyYW0ge09iamVjdH0gc2V0dGluZ3NcbiogQHJldHVybiB7Qm9vbGVhbn1cbiovXG5mdW5jdGlvbiBjdXJzb3JJc091dHNpZGVJbnRlcmFjdGl2ZUJvcmRlcihldmVudCwgcG9wcGVyLCBzZXR0aW5ncykge1xuICBpZiAoIXBvcHBlci5nZXRBdHRyaWJ1dGUoJ3gtcGxhY2VtZW50JykpIHJldHVybiB0cnVlO1xuXG4gIHZhciB4ID0gZXZlbnQuY2xpZW50WCxcbiAgICAgIHkgPSBldmVudC5jbGllbnRZO1xuICB2YXIgaW50ZXJhY3RpdmVCb3JkZXIgPSBzZXR0aW5ncy5pbnRlcmFjdGl2ZUJvcmRlcixcbiAgICAgIGRpc3RhbmNlID0gc2V0dGluZ3MuZGlzdGFuY2U7XG5cblxuICB2YXIgcmVjdCA9IHBvcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgdmFyIGNvcmVQb3NpdGlvbiA9IGdldENvcmVQbGFjZW1lbnQocG9wcGVyLmdldEF0dHJpYnV0ZSgneC1wbGFjZW1lbnQnKSk7XG4gIHZhciBib3JkZXJXaXRoRGlzdGFuY2UgPSBpbnRlcmFjdGl2ZUJvcmRlciArIGRpc3RhbmNlO1xuXG4gIHZhciBleGNlZWRzID0ge1xuICAgIHRvcDogcmVjdC50b3AgLSB5ID4gaW50ZXJhY3RpdmVCb3JkZXIsXG4gICAgYm90dG9tOiB5IC0gcmVjdC5ib3R0b20gPiBpbnRlcmFjdGl2ZUJvcmRlcixcbiAgICBsZWZ0OiByZWN0LmxlZnQgLSB4ID4gaW50ZXJhY3RpdmVCb3JkZXIsXG4gICAgcmlnaHQ6IHggLSByZWN0LnJpZ2h0ID4gaW50ZXJhY3RpdmVCb3JkZXJcbiAgfTtcblxuICBzd2l0Y2ggKGNvcmVQb3NpdGlvbikge1xuICAgIGNhc2UgJ3RvcCc6XG4gICAgICBleGNlZWRzLnRvcCA9IHJlY3QudG9wIC0geSA+IGJvcmRlcldpdGhEaXN0YW5jZTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICBleGNlZWRzLmJvdHRvbSA9IHkgLSByZWN0LmJvdHRvbSA+IGJvcmRlcldpdGhEaXN0YW5jZTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgZXhjZWVkcy5sZWZ0ID0gcmVjdC5sZWZ0IC0geCA+IGJvcmRlcldpdGhEaXN0YW5jZTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgIGV4Y2VlZHMucmlnaHQgPSB4IC0gcmVjdC5yaWdodCA+IGJvcmRlcldpdGhEaXN0YW5jZTtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgcmV0dXJuIGV4Y2VlZHMudG9wIHx8IGV4Y2VlZHMuYm90dG9tIHx8IGV4Y2VlZHMubGVmdCB8fCBleGNlZWRzLnJpZ2h0O1xufVxuXG4vKipcbiogUmV0dXJucyByZWxldmFudCBsaXN0ZW5lciBjYWxsYmFja3MgZm9yIGVhY2ggcmVmXG4qIEBwYXJhbSB7RWxlbWVudH0gZWxcbiogQHBhcmFtIHtFbGVtZW50fSBwb3BwZXJcbiogQHBhcmFtIHtPYmplY3R9IHNldHRpbmdzXG4qIEByZXR1cm4ge09iamVjdH0gLSByZWxldmFudCBsaXN0ZW5lciBoYW5kbGVyc1xuKi9cbmZ1bmN0aW9uIGdldEV2ZW50TGlzdGVuZXJIYW5kbGVycyhlbCwgcG9wcGVyLCBzZXR0aW5ncykge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIHZhciBwb3NpdGlvbiA9IHNldHRpbmdzLnBvc2l0aW9uLFxuICAgICAgZGVsYXkgPSBzZXR0aW5ncy5kZWxheSxcbiAgICAgIGR1cmF0aW9uID0gc2V0dGluZ3MuZHVyYXRpb24sXG4gICAgICBpbnRlcmFjdGl2ZSA9IHNldHRpbmdzLmludGVyYWN0aXZlLFxuICAgICAgaW50ZXJhY3RpdmVCb3JkZXIgPSBzZXR0aW5ncy5pbnRlcmFjdGl2ZUJvcmRlcixcbiAgICAgIGRpc3RhbmNlID0gc2V0dGluZ3MuZGlzdGFuY2UsXG4gICAgICBoaWRlT25DbGljayA9IHNldHRpbmdzLmhpZGVPbkNsaWNrLFxuICAgICAgdHJpZ2dlciA9IHNldHRpbmdzLnRyaWdnZXIsXG4gICAgICB0b3VjaEhvbGQgPSBzZXR0aW5ncy50b3VjaEhvbGQsXG4gICAgICB0b3VjaFdhaXQgPSBzZXR0aW5ncy50b3VjaFdhaXQ7XG5cblxuICB2YXIgc2hvd0RlbGF5ID0gdm9pZCAwLFxuICAgICAgaGlkZURlbGF5ID0gdm9pZCAwO1xuXG4gIHZhciBjbGVhclRpbWVvdXRzID0gZnVuY3Rpb24gY2xlYXJUaW1lb3V0cygpIHtcbiAgICBjbGVhclRpbWVvdXQoc2hvd0RlbGF5KTtcbiAgICBjbGVhclRpbWVvdXQoaGlkZURlbGF5KTtcbiAgfTtcblxuICB2YXIgX3Nob3cgPSBmdW5jdGlvbiBfc2hvdygpIHtcbiAgICBjbGVhclRpbWVvdXRzKCk7XG5cbiAgICAvLyBOb3QgaGlkZGVuLiBGb3IgY2xpY2tpbmcgd2hlbiBpdCBhbHNvIGhhcyBhIGBmb2N1c2AgZXZlbnQgbGlzdGVuZXJcbiAgICBpZiAoaXNWaXNpYmxlKHBvcHBlcikpIHJldHVybjtcblxuICAgIHZhciBfZGVsYXkgPSBBcnJheS5pc0FycmF5KGRlbGF5KSA/IGRlbGF5WzBdIDogZGVsYXk7XG5cbiAgICBpZiAoZGVsYXkpIHtcbiAgICAgIHNob3dEZWxheSA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuc2hvdyhwb3BwZXIpO1xuICAgICAgfSwgX2RlbGF5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgX3RoaXMuc2hvdyhwb3BwZXIpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgc2hvdyA9IGZ1bmN0aW9uIHNob3coZXZlbnQpIHtcbiAgICByZXR1cm4gX3RoaXMuY2FsbGJhY2tzLndhaXQgPyBfdGhpcy5jYWxsYmFja3Mud2FpdC5jYWxsKHBvcHBlciwgX3Nob3csIGV2ZW50KSA6IF9zaG93KCk7XG4gIH07XG5cbiAgdmFyIGhpZGUgPSBmdW5jdGlvbiBoaWRlKCkge1xuICAgIGNsZWFyVGltZW91dHMoKTtcblxuICAgIHZhciBfZGVsYXkgPSBBcnJheS5pc0FycmF5KGRlbGF5KSA/IGRlbGF5WzFdIDogZGVsYXk7XG5cbiAgICBpZiAoZGVsYXkpIHtcbiAgICAgIGhpZGVEZWxheSA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuaGlkZShwb3BwZXIpO1xuICAgICAgfSwgX2RlbGF5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgX3RoaXMuaGlkZShwb3BwZXIpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgaGFuZGxlVHJpZ2dlciA9IGZ1bmN0aW9uIGhhbmRsZVRyaWdnZXIoZXZlbnQpIHtcbiAgICB2YXIgbW91c2VlbnRlclRvdWNoID0gZXZlbnQudHlwZSA9PT0gJ21vdXNlZW50ZXInICYmIEJyb3dzZXIuU1VQUE9SVFNfVE9VQ0ggJiYgQnJvd3Nlci50b3VjaDtcblxuICAgIGlmIChtb3VzZWVudGVyVG91Y2ggJiYgdG91Y2hIb2xkKSByZXR1cm47XG5cbiAgICAvLyBUb2dnbGUgc2hvdy9oaWRlIHdoZW4gY2xpY2tpbmcgY2xpY2stdHJpZ2dlcmVkIHRvb2x0aXBzXG4gICAgdmFyIGlzQ2xpY2sgPSBldmVudC50eXBlID09PSAnY2xpY2snO1xuICAgIHZhciBpc05vdFBlcnNpc3RlbnQgPSBoaWRlT25DbGljayAhPT0gJ3BlcnNpc3RlbnQnO1xuXG4gICAgaXNDbGljayAmJiBpc1Zpc2libGUocG9wcGVyKSAmJiBpc05vdFBlcnNpc3RlbnQgPyBoaWRlKCkgOiBzaG93KGV2ZW50KTtcblxuICAgIGlmIChtb3VzZWVudGVyVG91Y2ggJiYgQnJvd3Nlci5pT1MoKSAmJiBlbC5jbGljaykge1xuICAgICAgZWwuY2xpY2soKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGhhbmRsZU1vdXNlbGVhdmUgPSBmdW5jdGlvbiBoYW5kbGVNb3VzZWxlYXZlKGV2ZW50KSB7XG5cbiAgICAvLyBEb24ndCBmaXJlICdtb3VzZWxlYXZlJywgdXNlIHRoZSAndG91Y2hlbmQnXG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICdtb3VzZWxlYXZlJyAmJiBCcm93c2VyLlNVUFBPUlRTX1RPVUNIICYmIEJyb3dzZXIudG91Y2ggJiYgdG91Y2hIb2xkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGludGVyYWN0aXZlKSB7XG4gICAgICAvLyBUZW1wb3JhcmlseSBoYW5kbGUgbW91c2Vtb3ZlIHRvIGNoZWNrIGlmIHRoZSBtb3VzZSBsZWZ0IHNvbWV3aGVyZVxuICAgICAgLy8gb3RoZXIgdGhhbiBpdHMgcG9wcGVyXG4gICAgICB2YXIgaGFuZGxlTW91c2Vtb3ZlID0gZnVuY3Rpb24gaGFuZGxlTW91c2Vtb3ZlKGV2ZW50KSB7XG5cbiAgICAgICAgdmFyIHRyaWdnZXJIaWRlID0gZnVuY3Rpb24gdHJpZ2dlckhpZGUoKSB7XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgaGlkZSk7XG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgaGFuZGxlTW91c2Vtb3ZlKTtcbiAgICAgICAgICBoaWRlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGNsb3Nlc3RUb29sdGlwcGVkRWwgPSBjbG9zZXN0KGV2ZW50LnRhcmdldCwgU2VsZWN0b3JzLlRPT0xUSVBQRURfRUwpO1xuXG4gICAgICAgIHZhciBpc092ZXJQb3BwZXIgPSBjbG9zZXN0KGV2ZW50LnRhcmdldCwgU2VsZWN0b3JzLlBPUFBFUikgPT09IHBvcHBlcjtcbiAgICAgICAgdmFyIGlzT3ZlckVsID0gY2xvc2VzdFRvb2x0aXBwZWRFbCA9PT0gZWw7XG4gICAgICAgIHZhciBpc0NsaWNrVHJpZ2dlcmVkID0gdHJpZ2dlci5pbmRleE9mKCdjbGljaycpICE9PSAtMTtcbiAgICAgICAgdmFyIGlzT3Zlck90aGVyVG9vbHRpcHBlZEVsID0gY2xvc2VzdFRvb2x0aXBwZWRFbCAmJiBjbG9zZXN0VG9vbHRpcHBlZEVsICE9PSBlbDtcblxuICAgICAgICBpZiAoaXNPdmVyT3RoZXJUb29sdGlwcGVkRWwpIHtcbiAgICAgICAgICByZXR1cm4gdHJpZ2dlckhpZGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc092ZXJQb3BwZXIgfHwgaXNPdmVyRWwgfHwgaXNDbGlja1RyaWdnZXJlZCkgcmV0dXJuO1xuXG4gICAgICAgIGlmIChjdXJzb3JJc091dHNpZGVJbnRlcmFjdGl2ZUJvcmRlcihldmVudCwgcG9wcGVyLCBzZXR0aW5ncykpIHtcbiAgICAgICAgICB0cmlnZ2VySGlkZSgpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBoaWRlKTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGhhbmRsZU1vdXNlbW92ZSk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiBpdCdzIG5vdCBpbnRlcmFjdGl2ZSwganVzdCBoaWRlIGl0XG4gICAgaGlkZSgpO1xuICB9O1xuXG4gIHZhciBoYW5kbGVCbHVyID0gZnVuY3Rpb24gaGFuZGxlQmx1cihldmVudCkge1xuICAgIC8vIElnbm9yZSBibHVyIG9uIHRvdWNoIGRldmljZXMsIGlmIHRoZXJlIGlzIG5vIGByZWxhdGVkVGFyZ2V0YCwgaGlkZVxuICAgIC8vIElmIHRoZSByZWxhdGVkIHRhcmdldCBpcyBhIHBvcHBlciwgaWdub3JlXG4gICAgaWYgKCFldmVudC5yZWxhdGVkVGFyZ2V0IHx8IEJyb3dzZXIudG91Y2gpIHJldHVybjtcbiAgICBpZiAoY2xvc2VzdChldmVudC5yZWxhdGVkVGFyZ2V0LCBTZWxlY3RvcnMuUE9QUEVSKSkgcmV0dXJuO1xuXG4gICAgaGlkZSgpO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgaGFuZGxlVHJpZ2dlcjogaGFuZGxlVHJpZ2dlcixcbiAgICBoYW5kbGVNb3VzZWxlYXZlOiBoYW5kbGVNb3VzZWxlYXZlLFxuICAgIGhhbmRsZUJsdXI6IGhhbmRsZUJsdXJcbiAgfTtcbn1cblxuLyoqXG4qIEV2YWx1YXRlcy9tb2RpZmllcyB0aGUgc2V0dGluZ3Mgb2JqZWN0IGZvciBhcHByb3ByaWF0ZSBiZWhhdmlvclxuKiBAcGFyYW0ge09iamVjdH0gc2V0dGluZ3NcbiogQHJldHVybiB7T2JqZWN0fSBtb2RpZmllZC9ldmFsdWF0ZWQgc2V0dGluZ3NcbiovXG5mdW5jdGlvbiBldmFsdWF0ZVNldHRpbmdzKHNldHRpbmdzKSB7XG4gIC8vIGFuaW1hdGVGaWxsIGlzIGRpc2FibGVkIGlmIGFuIGFycm93IGlzIHRydWVcbiAgaWYgKHNldHRpbmdzLmFycm93KSB7XG4gICAgc2V0dGluZ3MuYW5pbWF0ZUZpbGwgPSBmYWxzZTtcbiAgfVxuXG4gIC8vIHJlYXNzaWduIGFwcGVuZFRvIGludG8gdGhlIHJlc3VsdCBvZiBldmFsdWF0aW5nIGFwcGVuZFRvXG4gIC8vIGlmIGl0J3Mgc2V0IGFzIGEgZnVuY3Rpb24gaW5zdGVhZCBvZiBFbGVtZW50XG4gIGlmIChzZXR0aW5ncy5hcHBlbmRUbyAmJiB0eXBlb2Ygc2V0dGluZ3MuYXBwZW5kVG8gPT09ICdmdW5jdGlvbicpIHtcbiAgICBzZXR0aW5ncy5hcHBlbmRUbyA9IHNldHRpbmdzLmFwcGVuZFRvKCk7XG4gIH1cblxuICByZXR1cm4gc2V0dGluZ3M7XG59XG5cbnZhciBpZENvdW50ZXIgPSAxO1xuXG4vKipcbiogQ3JlYXRlcyB0b29sdGlwcyBmb3IgYWxsIGVsIGVsZW1lbnRzIHRoYXQgbWF0Y2ggdGhlIGluc3RhbmNlJ3Mgc2VsZWN0b3JcbiogQHBhcmFtIHtFbGVtZW50W119IGVsc1xuKiBAcmV0dXJuIHtPYmplY3RbXX0gQXJyYXkgb2YgcmVmIGRhdGEgb2JqZWN0c1xuKi9cbmZ1bmN0aW9uIGNyZWF0ZVRvb2x0aXBzKGVscykge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIHJldHVybiBlbHMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGVsKSB7XG4gICAgdmFyIGlkID0gaWRDb3VudGVyO1xuXG4gICAgdmFyIHNldHRpbmdzID0gX2V4dGVuZHMkMSh7fSwgZXZhbHVhdGVTZXR0aW5ncyhfdGhpcy5zZXR0aW5ncy5wZXJmb3JtYW5jZSA/IF90aGlzLnNldHRpbmdzIDogZ2V0SW5kaXZpZHVhbFNldHRpbmdzKGVsLCBfdGhpcy5zZXR0aW5ncykpKTtcblxuICAgIGlmICh0eXBlb2Ygc2V0dGluZ3MuaHRtbCA9PT0gJ2Z1bmN0aW9uJykgc2V0dGluZ3MuaHRtbCA9IHNldHRpbmdzLmh0bWwoZWwpO1xuXG4gICAgdmFyIGh0bWwgPSBzZXR0aW5ncy5odG1sLFxuICAgICAgICB0cmlnZ2VyID0gc2V0dGluZ3MudHJpZ2dlcixcbiAgICAgICAgdG91Y2hIb2xkID0gc2V0dGluZ3MudG91Y2hIb2xkLFxuICAgICAgICBkeW5hbWljVGl0bGUgPSBzZXR0aW5ncy5keW5hbWljVGl0bGU7XG5cblxuICAgIHZhciB0aXRsZSA9IGVsLmdldEF0dHJpYnV0ZSgndGl0bGUnKTtcbiAgICBpZiAoIXRpdGxlICYmICFodG1sKSByZXR1cm4gYWNjO1xuXG4gICAgZWwuc2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXBwZWQnLCAnJyk7XG4gICAgZWwuc2V0QXR0cmlidXRlKCdhcmlhLWRlc2NyaWJlZGJ5JywgJ3RpcHB5LXRvb2x0aXAtJyArIGlkKTtcbiAgICByZW1vdmVUaXRsZShlbCk7XG5cbiAgICB2YXIgcG9wcGVyID0gY3JlYXRlUG9wcGVyRWxlbWVudChpZCwgdGl0bGUsIHNldHRpbmdzKTtcbiAgICB2YXIgaGFuZGxlcnMgPSBnZXRFdmVudExpc3RlbmVySGFuZGxlcnMuY2FsbChfdGhpcywgZWwsIHBvcHBlciwgc2V0dGluZ3MpO1xuXG4gICAgdmFyIGxpc3RlbmVycyA9IFtdO1xuXG4gICAgdHJpZ2dlci50cmltKCkuc3BsaXQoJyAnKS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgcmV0dXJuIGxpc3RlbmVycyA9IGxpc3RlbmVycy5jb25jYXQoY3JlYXRlVHJpZ2dlcihldmVudCwgZWwsIGhhbmRsZXJzLCB0b3VjaEhvbGQpKTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBhIG11dGF0aW9uIG9ic2VydmVyIHRvIG9ic2VydmUgdGhlIHJlZmVyZW5jZSBlbGVtZW50IGZvciBgdGl0bGVgXG4gICAgLy8gYXR0cmlidXRlIGNoYW5nZXMsIHRoZW4gYXV0b21hdGljYWxseSB1cGRhdGUgdG9vbHRpcCBjb250ZW50XG4gICAgdmFyIG9ic2VydmVyID0gdm9pZCAwO1xuXG4gICAgaWYgKGR5bmFtaWNUaXRsZSAmJiB3aW5kb3cuTXV0YXRpb25PYnNlcnZlcikge1xuICAgICAgdmFyIF9nZXRJbm5lckVsZW1lbnRzID0gZ2V0SW5uZXJFbGVtZW50cyhwb3BwZXIpLFxuICAgICAgICAgIGNvbnRlbnQgPSBfZ2V0SW5uZXJFbGVtZW50cy5jb250ZW50O1xuXG4gICAgICBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRpdGxlID0gZWwuZ2V0QXR0cmlidXRlKCd0aXRsZScpO1xuICAgICAgICBpZiAodGl0bGUpIHtcbiAgICAgICAgICBjb250ZW50LmlubmVySFRNTCA9IHRpdGxlO1xuICAgICAgICAgIHJlbW92ZVRpdGxlKGVsKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIG9ic2VydmVyLm9ic2VydmUoZWwsIHsgYXR0cmlidXRlczogdHJ1ZSB9KTtcbiAgICB9XG5cbiAgICBhY2MucHVzaCh7XG4gICAgICBpZDogaWQsXG4gICAgICBlbDogZWwsXG4gICAgICBwb3BwZXI6IHBvcHBlcixcbiAgICAgIHNldHRpbmdzOiBzZXR0aW5ncyxcbiAgICAgIGxpc3RlbmVyczogbGlzdGVuZXJzLFxuICAgICAgdGlwcHlJbnN0YW5jZTogX3RoaXMsXG4gICAgICBfbXV0YXRpb25PYnNlcnZlcnM6IFtvYnNlcnZlcl1cbiAgICB9KTtcblxuICAgIGlkQ291bnRlcisrO1xuXG4gICAgcmV0dXJuIGFjYztcbiAgfSwgW10pO1xufVxuXG4vKiBVdGlsaXR5IGZ1bmN0aW9ucyAqL1xuLyogQ29yZSBsaWJyYXJ5IGZ1bmN0aW9ucyAqL1xuLyoqXG4qIEBwYXJhbSB7U3RyaW5nfEVsZW1lbnR8RWxlbWVudFtdfSBzZWxlY3RvclxuKiBAcGFyYW0ge09iamVjdH0gc2V0dGluZ3MgKG9wdGlvbmFsKSAtIHRoZSBvYmplY3Qgb2Ygc2V0dGluZ3MgdG8gYmUgYXBwbGllZCB0byB0aGUgaW5zdGFuY2VcbiovXG5cbnZhciBUaXBweSA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gVGlwcHkoc2VsZWN0b3IpIHtcbiAgICB2YXIgc2V0dGluZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIGNsYXNzQ2FsbENoZWNrJDEodGhpcywgVGlwcHkpO1xuXG4gICAgLy8gVXNlIGRlZmF1bHQgYnJvd3NlciB0b29sdGlwIG9uIHVuc3VwcG9ydGVkIGJyb3dzZXJzXG4gICAgaWYgKCFCcm93c2VyLlNVUFBPUlRFRCkgcmV0dXJuO1xuXG4gICAgaW5pdCgpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGRlc3Ryb3llZDogZmFsc2VcbiAgICB9O1xuXG4gICAgdGhpcy5zZWxlY3RvciA9IHNlbGVjdG9yO1xuXG4gICAgdGhpcy5zZXR0aW5ncyA9IF9leHRlbmRzJDEoe30sIERlZmF1bHRzLCBzZXR0aW5ncyk7XG5cbiAgICBpZiAoc2V0dGluZ3Muc2hvdyB8fCBzZXR0aW5ncy5zaG93biB8fCBzZXR0aW5ncy5oaWRlIHx8IHNldHRpbmdzLmhpZGRlbikge1xuICAgICAgY29uc29sZS53YXJuKCdDYWxsYmFja3Mgd2l0aG91dCB0aGUgYG9uYCBwcmVmaXggYXJlIGRlcHJlY2F0ZWQgKHdpdGggdGhlIGV4Y2VwdGlvbiBvZiBgd2FpdGApLicgKyAnIFVzZSBvblNob3csIG9uU2hvd24sIG9uSGlkZSwgYW5kIG9uSGlkZGVuIGluc3RlYWQuJyk7XG4gICAgfVxuXG4gICAgdGhpcy5jYWxsYmFja3MgPSB7XG4gICAgICB3YWl0OiBzZXR0aW5ncy53YWl0LFxuICAgICAgc2hvdzogc2V0dGluZ3Mub25TaG93IHx8IHNldHRpbmdzLnNob3cgfHwgbm9vcCxcbiAgICAgIHNob3duOiBzZXR0aW5ncy5vblNob3duIHx8IHNldHRpbmdzLnNob3duIHx8IG5vb3AsXG4gICAgICBoaWRlOiBzZXR0aW5ncy5vbkhpZGUgfHwgc2V0dGluZ3MuaGlkZSB8fCBub29wLFxuICAgICAgaGlkZGVuOiBzZXR0aW5ncy5vbkhpZGRlbiB8fCBzZXR0aW5ncy5oaWRkZW4gfHwgbm9vcFxuICAgIH07XG5cbiAgICB0aGlzLnN0b3JlID0gY3JlYXRlVG9vbHRpcHMuY2FsbCh0aGlzLCBnZXRBcnJheU9mRWxlbWVudHMoc2VsZWN0b3IpKTtcbiAgICBTdG9yZS5wdXNoLmFwcGx5KFN0b3JlLCB0aGlzLnN0b3JlKTtcbiAgfVxuXG4gIC8qKlxuICAqIFJldHVybnMgdGhlIHJlZmVyZW5jZSBlbGVtZW50J3MgcG9wcGVyIGVsZW1lbnRcbiAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gICogQHJldHVybiB7RWxlbWVudH1cbiAgKi9cblxuXG4gIGNyZWF0ZUNsYXNzJDEoVGlwcHksIFt7XG4gICAga2V5OiAnZ2V0UG9wcGVyRWxlbWVudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBvcHBlckVsZW1lbnQoZWwpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBmaW5kKHRoaXMuc3RvcmUsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgcmV0dXJuIGRhdGEuZWwgPT09IGVsO1xuICAgICAgICB9KS5wb3BwZXI7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tnZXRQb3BwZXJFbGVtZW50XTogRWxlbWVudCBwYXNzZWQgYXMgdGhlIGFyZ3VtZW50IGRvZXMgbm90IGV4aXN0IGluIHRoZSBpbnN0YW5jZScpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICogUmV0dXJucyBhIHBvcHBlcidzIHJlZmVyZW5jZSBlbGVtZW50XG4gICAgKiBAcGFyYW0ge0VsZW1lbnR9IHBvcHBlclxuICAgICogQHJldHVybiB7RWxlbWVudH1cbiAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRSZWZlcmVuY2VFbGVtZW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UmVmZXJlbmNlRWxlbWVudChwb3BwZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBmaW5kKHRoaXMuc3RvcmUsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgcmV0dXJuIGRhdGEucG9wcGVyID09PSBwb3BwZXI7XG4gICAgICAgIH0pLmVsO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZ2V0UmVmZXJlbmNlRWxlbWVudF06IFBvcHBlciBwYXNzZWQgYXMgdGhlIGFyZ3VtZW50IGRvZXMgbm90IGV4aXN0IGluIHRoZSBpbnN0YW5jZScpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICogUmV0dXJucyB0aGUgcmVmZXJlbmNlIGRhdGEgb2JqZWN0IGZyb20gZWl0aGVyIHRoZSByZWZlcmVuY2UgZWxlbWVudCBvciBwb3BwZXIgZWxlbWVudFxuICAgICogQHBhcmFtIHtFbGVtZW50fSB4IChyZWZlcmVuY2UgZWxlbWVudCBvciBwb3BwZXIpXG4gICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZ2V0UmVmZXJlbmNlRGF0YScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFJlZmVyZW5jZURhdGEoeCkge1xuICAgICAgcmV0dXJuIGZpbmQodGhpcy5zdG9yZSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIGRhdGEuZWwgPT09IHggfHwgZGF0YS5wb3BwZXIgPT09IHg7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIFNob3dzIGEgcG9wcGVyXG4gICAgKiBAcGFyYW0ge0VsZW1lbnR9IHBvcHBlclxuICAgICogQHBhcmFtIHtOdW1iZXJ9IGN1c3RvbUR1cmF0aW9uIChvcHRpb25hbClcbiAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzaG93JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdyhwb3BwZXIsIGN1c3RvbUR1cmF0aW9uKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5zdGF0ZS5kZXN0cm95ZWQpIHJldHVybjtcblxuICAgICAgdmFyIGRhdGEgPSBmaW5kKHRoaXMuc3RvcmUsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHJldHVybiBkYXRhLnBvcHBlciA9PT0gcG9wcGVyO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBfZ2V0SW5uZXJFbGVtZW50cyA9IGdldElubmVyRWxlbWVudHMocG9wcGVyKSxcbiAgICAgICAgICB0b29sdGlwID0gX2dldElubmVyRWxlbWVudHMudG9vbHRpcCxcbiAgICAgICAgICBjaXJjbGUgPSBfZ2V0SW5uZXJFbGVtZW50cy5jaXJjbGUsXG4gICAgICAgICAgY29udGVudCA9IF9nZXRJbm5lckVsZW1lbnRzLmNvbnRlbnQ7XG5cbiAgICAgIC8vIERlc3Ryb3kgcG9wcGVyIGlmIGl0cyByZWZlcmVuY2UgaXMgbm8gbG9uZ2VyIG9uIHRoZSBET00gKGV4Y2x1ZGluZyByZWZPYmpzKVxuXG5cbiAgICAgIGlmICghdGhpcy5zZWxlY3Rvci5yZWZPYmogJiYgIWRvY3VtZW50LmJvZHkuY29udGFpbnMoZGF0YS5lbCkpIHtcbiAgICAgICAgdGhpcy5kZXN0cm95KHBvcHBlcik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jYWxsYmFja3Muc2hvdy5jYWxsKHBvcHBlcik7XG5cbiAgICAgIHZhciBlbCA9IGRhdGEuZWwsXG4gICAgICAgICAgX2RhdGEkc2V0dGluZ3MgPSBkYXRhLnNldHRpbmdzLFxuICAgICAgICAgIGFwcGVuZFRvID0gX2RhdGEkc2V0dGluZ3MuYXBwZW5kVG8sXG4gICAgICAgICAgc3RpY2t5ID0gX2RhdGEkc2V0dGluZ3Muc3RpY2t5LFxuICAgICAgICAgIGludGVyYWN0aXZlID0gX2RhdGEkc2V0dGluZ3MuaW50ZXJhY3RpdmUsXG4gICAgICAgICAgZm9sbG93Q3Vyc29yID0gX2RhdGEkc2V0dGluZ3MuZm9sbG93Q3Vyc29yLFxuICAgICAgICAgIGZsaXBEdXJhdGlvbiA9IF9kYXRhJHNldHRpbmdzLmZsaXBEdXJhdGlvbixcbiAgICAgICAgICBkdXJhdGlvbiA9IF9kYXRhJHNldHRpbmdzLmR1cmF0aW9uO1xuXG5cbiAgICAgIHZhciBfZHVyYXRpb24gPSBjdXN0b21EdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gY3VzdG9tRHVyYXRpb24gOiBBcnJheS5pc0FycmF5KGR1cmF0aW9uKSA/IGR1cmF0aW9uWzBdIDogZHVyYXRpb247XG5cbiAgICAgIC8vIFByZXZlbnQgYSB0cmFuc2l0aW9uIHdoZW4gcG9wcGVyIGNoYW5nZXMgcG9zaXRpb25cbiAgICAgIGFwcGx5VHJhbnNpdGlvbkR1cmF0aW9uKFtwb3BwZXIsIHRvb2x0aXAsIGNpcmNsZV0sIDApO1xuXG4gICAgICBtb3VudFBvcHBlcihkYXRhKTtcblxuICAgICAgcG9wcGVyLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgICBwb3BwZXIuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuXG4gICAgICAvLyBXYWl0IGZvciBwb3BwZXIncyBwb3NpdGlvbiB0byB1cGRhdGVcbiAgICAgIGRlZmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFpc1Zpc2libGUocG9wcGVyKSkgcmV0dXJuO1xuXG4gICAgICAgIC8vIFNvbWV0aW1lcyB0aGUgYXJyb3cgd2lsbCBub3QgYmUgaW4gdGhlIGNvcnJlY3QgcG9zaXRpb24sIGZvcmNlIGFub3RoZXIgdXBkYXRlXG4gICAgICAgIGlmICghZm9sbG93Q3Vyc29yIHx8IEJyb3dzZXIudG91Y2gpIHtcbiAgICAgICAgICBkYXRhLnBvcHBlckluc3RhbmNlLnVwZGF0ZSgpO1xuICAgICAgICAgIGFwcGx5VHJhbnNpdGlvbkR1cmF0aW9uKFtwb3BwZXJdLCBmbGlwRHVyYXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmUtYXBwbHkgdHJhbnNpdGlvbiBkdXJhdGlvbnNcbiAgICAgICAgYXBwbHlUcmFuc2l0aW9uRHVyYXRpb24oW3Rvb2x0aXAsIGNpcmNsZV0sIF9kdXJhdGlvbik7XG5cbiAgICAgICAgLy8gTWFrZSBjb250ZW50IGZhZGUgb3V0IGEgYml0IGZhc3RlciB0aGFuIHRoZSB0b29sdGlwIGlmIGBhbmltYXRlRmlsbGBcbiAgICAgICAgaWYgKGNpcmNsZSkgY29udGVudC5zdHlsZS5vcGFjaXR5ID0gMTtcblxuICAgICAgICAvLyBJbnRlcmFjdGl2ZSB0b29sdGlwcyByZWNlaXZlIGEgY2xhc3Mgb2YgJ2FjdGl2ZSdcbiAgICAgICAgaW50ZXJhY3RpdmUgJiYgZWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG5cbiAgICAgICAgLy8gVXBkYXRlIHBvcHBlcidzIHBvc2l0aW9uIG9uIGV2ZXJ5IGFuaW1hdGlvbiBmcmFtZVxuICAgICAgICBzdGlja3kgJiYgbWFrZVN0aWNreShkYXRhKTtcblxuICAgICAgICAvLyBSZXBhaW50L3JlZmxvdyBpcyByZXF1aXJlZCBmb3IgQ1NTIHRyYW5zaXRpb24gd2hlbiBhcHBlbmRpbmdcbiAgICAgICAgdHJpZ2dlclJlZmxvdyh0b29sdGlwLCBjaXJjbGUpO1xuXG4gICAgICAgIG1vZGlmeUNsYXNzTGlzdChbdG9vbHRpcCwgY2lyY2xlXSwgZnVuY3Rpb24gKGxpc3QpIHtcbiAgICAgICAgICBsaXN0LmNvbnRhaW5zKCd0aXBweS1ub3RyYW5zaXRpb24nKSAmJiBsaXN0LnJlbW92ZSgndGlwcHktbm90cmFuc2l0aW9uJyk7XG4gICAgICAgICAgbGlzdC5yZW1vdmUoJ2xlYXZlJyk7XG4gICAgICAgICAgbGlzdC5hZGQoJ2VudGVyJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFdhaXQgZm9yIHRyYW5zaXRpb25zIHRvIGNvbXBsZXRlXG4gICAgICAgIG9uVHJhbnNpdGlvbkVuZChkYXRhLCBfZHVyYXRpb24sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoIWlzVmlzaWJsZShwb3BwZXIpIHx8IGRhdGEuX29uU2hvd25GaXJlZCkgcmV0dXJuO1xuXG4gICAgICAgICAgLy8gRm9jdXMgaW50ZXJhY3RpdmUgdG9vbHRpcHMgb25seVxuICAgICAgICAgIGludGVyYWN0aXZlICYmIHBvcHBlci5mb2N1cygpO1xuICAgICAgICAgIC8vIFJlbW92ZSB0cmFuc2l0aW9ucyBmcm9tIHRvb2x0aXBcbiAgICAgICAgICB0b29sdGlwLmNsYXNzTGlzdC5hZGQoJ3RpcHB5LW5vdHJhbnNpdGlvbicpO1xuICAgICAgICAgIC8vIFByZXZlbnRzIHNob3duKCkgZnJvbSBmaXJpbmcgbW9yZSB0aGFuIG9uY2UgZnJvbSBlYXJseSB0cmFuc2l0aW9uIGNhbmNlbGxhdGlvbnNcbiAgICAgICAgICBkYXRhLl9vblNob3duRmlyZWQgPSB0cnVlO1xuXG4gICAgICAgICAgX3RoaXMuY2FsbGJhY2tzLnNob3duLmNhbGwocG9wcGVyKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIEhpZGVzIGEgcG9wcGVyXG4gICAgKiBAcGFyYW0ge0VsZW1lbnR9IHBvcHBlclxuICAgICogQHBhcmFtIHtOdW1iZXJ9IGN1c3RvbUR1cmF0aW9uIChvcHRpb25hbClcbiAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdoaWRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGlkZShwb3BwZXIsIGN1c3RvbUR1cmF0aW9uKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMuc3RhdGUuZGVzdHJveWVkKSByZXR1cm47XG5cbiAgICAgIHRoaXMuY2FsbGJhY2tzLmhpZGUuY2FsbChwb3BwZXIpO1xuXG4gICAgICB2YXIgZGF0YSA9IGZpbmQodGhpcy5zdG9yZSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIGRhdGEucG9wcGVyID09PSBwb3BwZXI7XG4gICAgICB9KTtcblxuICAgICAgdmFyIF9nZXRJbm5lckVsZW1lbnRzMiA9IGdldElubmVyRWxlbWVudHMocG9wcGVyKSxcbiAgICAgICAgICB0b29sdGlwID0gX2dldElubmVyRWxlbWVudHMyLnRvb2x0aXAsXG4gICAgICAgICAgY2lyY2xlID0gX2dldElubmVyRWxlbWVudHMyLmNpcmNsZSxcbiAgICAgICAgICBjb250ZW50ID0gX2dldElubmVyRWxlbWVudHMyLmNvbnRlbnQ7XG5cbiAgICAgIHZhciBlbCA9IGRhdGEuZWwsXG4gICAgICAgICAgX2RhdGEkc2V0dGluZ3MyID0gZGF0YS5zZXR0aW5ncyxcbiAgICAgICAgICBhcHBlbmRUbyA9IF9kYXRhJHNldHRpbmdzMi5hcHBlbmRUbyxcbiAgICAgICAgICBzdGlja3kgPSBfZGF0YSRzZXR0aW5nczIuc3RpY2t5LFxuICAgICAgICAgIGludGVyYWN0aXZlID0gX2RhdGEkc2V0dGluZ3MyLmludGVyYWN0aXZlLFxuICAgICAgICAgIGZvbGxvd0N1cnNvciA9IF9kYXRhJHNldHRpbmdzMi5mb2xsb3dDdXJzb3IsXG4gICAgICAgICAgaHRtbCA9IF9kYXRhJHNldHRpbmdzMi5odG1sLFxuICAgICAgICAgIHRyaWdnZXIgPSBfZGF0YSRzZXR0aW5nczIudHJpZ2dlcixcbiAgICAgICAgICBkdXJhdGlvbiA9IF9kYXRhJHNldHRpbmdzMi5kdXJhdGlvbjtcblxuXG4gICAgICB2YXIgX2R1cmF0aW9uID0gY3VzdG9tRHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IGN1c3RvbUR1cmF0aW9uIDogQXJyYXkuaXNBcnJheShkdXJhdGlvbikgPyBkdXJhdGlvblsxXSA6IGR1cmF0aW9uO1xuXG4gICAgICBkYXRhLl9vblNob3duRmlyZWQgPSBmYWxzZTtcbiAgICAgIGludGVyYWN0aXZlICYmIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuXG4gICAgICBwb3BwZXIuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgICAgcG9wcGVyLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuXG4gICAgICBhcHBseVRyYW5zaXRpb25EdXJhdGlvbihbdG9vbHRpcCwgY2lyY2xlLCBjaXJjbGUgPyBjb250ZW50IDogbnVsbF0sIF9kdXJhdGlvbik7XG5cbiAgICAgIGlmIChjaXJjbGUpIGNvbnRlbnQuc3R5bGUub3BhY2l0eSA9IDA7XG5cbiAgICAgIG1vZGlmeUNsYXNzTGlzdChbdG9vbHRpcCwgY2lyY2xlXSwgZnVuY3Rpb24gKGxpc3QpIHtcbiAgICAgICAgbGlzdC5jb250YWlucygndGlwcHktdG9vbHRpcCcpICYmIGxpc3QucmVtb3ZlKCd0aXBweS1ub3RyYW5zaXRpb24nKTtcbiAgICAgICAgbGlzdC5yZW1vdmUoJ2VudGVyJyk7XG4gICAgICAgIGxpc3QuYWRkKCdsZWF2ZScpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFJlLWZvY3VzIGNsaWNrLXRyaWdnZXJlZCBodG1sIGVsZW1lbnRzXG4gICAgICAvLyBhbmQgdGhlIHRvb2x0aXBwZWQgZWxlbWVudCBJUyBpbiB0aGUgdmlld3BvcnQgKG90aGVyd2lzZSBpdCBjYXVzZXMgdW5zaWdodGx5IHNjcm9sbGluZ1xuICAgICAgLy8gaWYgdGhlIHRvb2x0aXAgaXMgY2xvc2VkIGFuZCB0aGUgZWxlbWVudCBpc24ndCBpbiB0aGUgdmlld3BvcnQgYW55bW9yZSlcbiAgICAgIGlmIChodG1sICYmIHRyaWdnZXIuaW5kZXhPZignY2xpY2snKSAhPT0gLTEgJiYgZWxlbWVudElzSW5WaWV3cG9ydChlbCkpIHtcbiAgICAgICAgZWwuZm9jdXMoKTtcbiAgICAgIH1cblxuICAgICAgLy8gV2FpdCBmb3IgdHJhbnNpdGlvbnMgdG8gY29tcGxldGVcbiAgICAgIG9uVHJhbnNpdGlvbkVuZChkYXRhLCBfZHVyYXRpb24sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gYGlzVmlzaWJsZWAgaXMgbm90IGNvbXBsZXRlbHkgcmVsaWFibGUgdG8gZGV0ZXJtaW5lIGlmIHdlIHNob3VsZG4ndFxuICAgICAgICAvLyBydW4gdGhlIGhpZGRlbiBjYWxsYmFjaywgd2UgbmVlZCB0byBjaGVjayB0aGUgY29tcHV0ZWQgb3BhY2l0eSBzdHlsZS5cbiAgICAgICAgLy8gVGhpcyBwcmV2ZW50cyBnbGl0Y2h5IGJlaGF2aW9yIG9mIHRoZSB0cmFuc2l0aW9uIHdoZW4gcXVpY2tseSBzaG93aW5nXG4gICAgICAgIC8vIGFuZCBoaWRpbmcgYSB0b29sdGlwLlxuICAgICAgICBpZiAoaXNWaXNpYmxlKHBvcHBlcikgfHwgIWFwcGVuZFRvLmNvbnRhaW5zKHBvcHBlcikgfHwgZ2V0Q29tcHV0ZWRTdHlsZSh0b29sdGlwKS5vcGFjaXR5ID09PSAnMScpIHJldHVybjtcblxuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBmb2xsb3dDdXJzb3JIYW5kbGVyKTtcbiAgICAgICAgZGF0YS5wb3BwZXJJbnN0YW5jZS5kaXNhYmxlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgYXBwZW5kVG8ucmVtb3ZlQ2hpbGQocG9wcGVyKTtcblxuICAgICAgICBfdGhpczIuY2FsbGJhY2tzLmhpZGRlbi5jYWxsKHBvcHBlcik7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIFVwZGF0ZXMgYSBwb3BwZXIgd2l0aCBuZXcgY29udGVudFxuICAgICogQHBhcmFtIHtFbGVtZW50fSBwb3BwZXJcbiAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICd1cGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGUocG9wcGVyKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5kZXN0cm95ZWQpIHJldHVybjtcblxuICAgICAgdmFyIGRhdGEgPSBmaW5kKHRoaXMuc3RvcmUsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHJldHVybiBkYXRhLnBvcHBlciA9PT0gcG9wcGVyO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBfZ2V0SW5uZXJFbGVtZW50czMgPSBnZXRJbm5lckVsZW1lbnRzKHBvcHBlciksXG4gICAgICAgICAgY29udGVudCA9IF9nZXRJbm5lckVsZW1lbnRzMy5jb250ZW50O1xuXG4gICAgICB2YXIgZWwgPSBkYXRhLmVsLFxuICAgICAgICAgIGh0bWwgPSBkYXRhLnNldHRpbmdzLmh0bWw7XG5cblxuICAgICAgaWYgKGh0bWwgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgICAgIGNvbnNvbGUud2FybignQWJvcnRlZDogdXBkYXRlKCkgc2hvdWxkIG5vdCBiZSB1c2VkIGlmIGBodG1sYCBpcyBhIERPTSBlbGVtZW50Jyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29udGVudC5pbm5lckhUTUwgPSBodG1sID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaHRtbC5yZXBsYWNlKCcjJywgJycpKS5pbm5lckhUTUwgOiBlbC5nZXRBdHRyaWJ1dGUoJ3RpdGxlJykgfHwgZWwuZ2V0QXR0cmlidXRlKCdkYXRhLW9yaWdpbmFsLXRpdGxlJyk7XG5cbiAgICAgIGlmICghaHRtbCkgcmVtb3ZlVGl0bGUoZWwpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogRGVzdHJveXMgYSBwb3BwZXJcbiAgICAqIEBwYXJhbSB7RWxlbWVudH0gcG9wcGVyXG4gICAgKiBAcGFyYW0ge0Jvb2xlYW59IF9pc0xhc3QgLSBwcml2YXRlIHBhcmFtIHVzZWQgYnkgZGVzdHJveUFsbCB0byBvcHRpbWl6ZVxuICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2Rlc3Ryb3knLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KHBvcHBlciwgX2lzTGFzdCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLnN0YXRlLmRlc3Ryb3llZCkgcmV0dXJuO1xuXG4gICAgICB2YXIgZGF0YSA9IGZpbmQodGhpcy5zdG9yZSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIGRhdGEucG9wcGVyID09PSBwb3BwZXI7XG4gICAgICB9KTtcblxuICAgICAgdmFyIGVsID0gZGF0YS5lbCxcbiAgICAgICAgICBwb3BwZXJJbnN0YW5jZSA9IGRhdGEucG9wcGVySW5zdGFuY2UsXG4gICAgICAgICAgbGlzdGVuZXJzID0gZGF0YS5saXN0ZW5lcnMsXG4gICAgICAgICAgX211dGF0aW9uT2JzZXJ2ZXJzID0gZGF0YS5fbXV0YXRpb25PYnNlcnZlcnM7XG5cbiAgICAgIC8vIEVuc3VyZSB0aGUgcG9wcGVyIGlzIGhpZGRlblxuXG4gICAgICBpZiAoaXNWaXNpYmxlKHBvcHBlcikpIHtcbiAgICAgICAgdGhpcy5oaWRlKHBvcHBlciwgMCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFJlbW92ZSBUaXBweS1vbmx5IGV2ZW50IGxpc3RlbmVycyBmcm9tIHRvb2x0aXBwZWQgZWxlbWVudFxuICAgICAgbGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgIHJldHVybiBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGxpc3RlbmVyLmV2ZW50LCBsaXN0ZW5lci5oYW5kbGVyKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBSZXN0b3JlIG9yaWdpbmFsIHRpdGxlXG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgZWwuZ2V0QXR0cmlidXRlKCdkYXRhLW9yaWdpbmFsLXRpdGxlJykpO1xuXG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnKTtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS10b29sdGlwcGVkJyk7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtZGVzY3JpYmVkYnknKTtcblxuICAgICAgcG9wcGVySW5zdGFuY2UgJiYgcG9wcGVySW5zdGFuY2UuZGVzdHJveSgpO1xuXG4gICAgICBfbXV0YXRpb25PYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgb2JzZXJ2ZXIgJiYgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFJlbW92ZSBmcm9tIHN0b3JlXG4gICAgICBTdG9yZS5zcGxpY2UoZmluZEluZGV4KFN0b3JlLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gZGF0YS5wb3BwZXIgPT09IHBvcHBlcjtcbiAgICAgIH0pLCAxKTtcblxuICAgICAgLy8gRW5zdXJlIGZpbHRlciBpcyBjYWxsZWQgb25seSBvbmNlXG4gICAgICBpZiAoX2lzTGFzdCA9PT0gdW5kZWZpbmVkIHx8IF9pc0xhc3QpIHtcbiAgICAgICAgdGhpcy5zdG9yZSA9IFN0b3JlLmZpbHRlcihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgIHJldHVybiBkYXRhLnRpcHB5SW5zdGFuY2UgPT09IF90aGlzMztcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBEZXN0cm95cyBhbGwgdG9vbHRpcHMgY3JlYXRlZCBieSB0aGUgaW5zdGFuY2VcbiAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdkZXN0cm95QWxsJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveUFsbCgpIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5zdGF0ZS5kZXN0cm95ZWQpIHJldHVybjtcblxuICAgICAgdmFyIHN0b3JlTGVuZ3RoID0gdGhpcy5zdG9yZS5sZW5ndGg7XG5cbiAgICAgIHRoaXMuc3RvcmUuZm9yRWFjaChmdW5jdGlvbiAoX3JlZiwgaW5kZXgpIHtcbiAgICAgICAgdmFyIHBvcHBlciA9IF9yZWYucG9wcGVyO1xuXG4gICAgICAgIF90aGlzNC5kZXN0cm95KHBvcHBlciwgaW5kZXggPT09IHN0b3JlTGVuZ3RoIC0gMSk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5zdG9yZSA9IG51bGw7XG4gICAgICB0aGlzLnN0YXRlLmRlc3Ryb3llZCA9IHRydWU7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBUaXBweTtcbn0oKTtcblxuZnVuY3Rpb24gdGlwcHkkMihzZWxlY3Rvciwgc2V0dGluZ3MpIHtcbiAgLy8gQ3JlYXRlIGEgdmlydHVhbCBvYmplY3QgZm9yIGN1c3RvbSBwb3NpdGlvbmluZ1xuICBpZiAoaXNPYmplY3RMaXRlcmFsKHNlbGVjdG9yKSkge1xuICAgIHNlbGVjdG9yID0ge1xuICAgICAgcmVmT2JqOiB0cnVlLFxuICAgICAgYXR0cmlidXRlczogc2VsZWN0b3IuYXR0cmlidXRlcyB8fCB7fSxcbiAgICAgIGdldEJvdW5kaW5nQ2xpZW50UmVjdDogc2VsZWN0b3IuZ2V0Qm91bmRpbmdDbGllbnRSZWN0LFxuICAgICAgY2xpZW50V2lkdGg6IHNlbGVjdG9yLmNsaWVudFdpZHRoLFxuICAgICAgY2xpZW50SGVpZ2h0OiBzZWxlY3Rvci5jbGllbnRIZWlnaHQsXG4gICAgICBzZXRBdHRyaWJ1dGU6IGZ1bmN0aW9uIHNldEF0dHJpYnV0ZShrZXksIHZhbCkge1xuICAgICAgICBzZWxlY3Rvci5hdHRyaWJ1dGVzW2tleV0gPSB2YWw7XG4gICAgICB9LFxuICAgICAgZ2V0QXR0cmlidXRlOiBmdW5jdGlvbiBnZXRBdHRyaWJ1dGUoa2V5KSB7XG4gICAgICAgIHJldHVybiBzZWxlY3Rvci5hdHRyaWJ1dGVzW2tleV07XG4gICAgICB9LFxuICAgICAgcmVtb3ZlQXR0cmlidXRlOiBmdW5jdGlvbiByZW1vdmVBdHRyaWJ1dGUoa2V5KSB7XG4gICAgICAgIGRlbGV0ZSBzZWxlY3Rvci5hdHRyaWJ1dGVzW2tleV07XG4gICAgICB9LFxuICAgICAgYWRkRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcigpIHt9LFxuICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcigpIHt9LFxuICAgICAgY2xhc3NMaXN0OiB7XG4gICAgICAgIGNsYXNzTmFtZXM6IHt9LFxuICAgICAgICBhZGQ6IGZ1bmN0aW9uIGFkZChrZXkpIHtcbiAgICAgICAgICBzZWxlY3Rvci5jbGFzc0xpc3QuY2xhc3NOYW1lc1trZXldID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoa2V5KSB7XG4gICAgICAgICAgc2VsZWN0b3IuY2xhc3NMaXN0LmNsYXNzTmFtZXNba2V5XSA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBjb250YWluczogZnVuY3Rpb24gY29udGFpbnMoa2V5KSB7XG4gICAgICAgICAgcmV0dXJuICEhc2VsZWN0b3IuY2xhc3NMaXN0LmNsYXNzTmFtZXNba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICByZXR1cm4gbmV3IFRpcHB5KHNlbGVjdG9yLCBzZXR0aW5ncyk7XG59XG5cbnRpcHB5JDIuQnJvd3NlciA9IEJyb3dzZXI7XG50aXBweSQyLkRlZmF1bHRzID0gRGVmYXVsdHM7XG50aXBweSQyLmRpc2FibGVEeW5hbWljSW5wdXREZXRlY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBCcm93c2VyLmR5bmFtaWNJbnB1dERldGVjdGlvbiA9IGZhbHNlO1xufTtcbnRpcHB5JDIuZW5hYmxlRHluYW1pY0lucHV0RGV0ZWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gQnJvd3Nlci5keW5hbWljSW5wdXREZXRlY3Rpb24gPSB0cnVlO1xufTtcblxucmV0dXJuIHRpcHB5JDI7XG5cbn0pKSk7XG4iLCJpbXBvcnQgeyBjb2xvcl9oaWdobGlnaHQgfSBmcm9tICcuL29wdGlvbnMnO1xuaW1wb3J0IHsgdmFyaWFibGVzX2luZm8gfSBmcm9tICcuLy4uL21haW4nO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1wYXJhbS1yZWFzc2lnbiAqL1xuXG4vKipcbiogQXR0YWNoIHRoZSBmdWxsX2RhdGFzZXQgQXJyYXkgdG8gdGhlIGFwcCBPYmplY3QgYW5kIGNyZWF0ZSBhIGRpY3Rpb25uYXJ5XG4qIGFsbG93aW5nIHRvIG9idGFpbiB0ZXJyaXRvcmlhbCB1bml0cyBuYW1lIGZyb20gdGhlaXIgSWQuXG4qXG4qIEBwYXJhbSB7QXJyYXl9IGZ1bGxfZGF0YXNldCAtIFRoZSBkYXRhc2V0IGFzIGFuIEFycmF5IG9mIE9iamVjdFxuKiBAcGFyYW0ge09iamVjdH0gYXBwIC0gVGhlIHZhcmlhYmxlIGNvbnRhaW5pbmcgdGhlIGdsb2JhbCBwYXJhbWV0ZXJzIGFib3V0XG4qICAgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGFwcGxpY2F0aW9uLlxuKiBAcmV0dXJuIHt2b2lkfVxuKlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmVwYXJlX2RhdGFzZXQoZnVsbF9kYXRhc2V0LCBhcHApIHtcbiAgYXBwLmZ1bGxfZGF0YXNldCA9IGZ1bGxfZGF0YXNldDtcbiAgLy8gQ3JlYXRlIGFuIE9iamVjdCBmZWF0dXJlX2lkIC0+ICBmZWF0dXJlX25hbWUgZm9yIGVhc2llciBsb29rdXA6XG4gIGFwcC5mZWF0dXJlX25hbWVzID0ge307XG4gIGZ1bGxfZGF0YXNldC5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgYXBwLmZlYXR1cmVfbmFtZXNbZWxlbS5nZW9dID0gZWxlbS5Ob207XG4gIH0pO1xufVxuXG5cbi8qKlxuKlxuKiBAcGFyYW0ge09iamVjdH0gYXBwIC0gVGhlIHZhcmlhYmxlIGNvbnRhaW5pbmcgdGhlIGdsb2JhbCBwYXJhbWV0ZXJzIGFib3V0XG4qICAgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGFwcGxpY2F0aW9uLlxuKiBAcmV0dXJuIHtBcnJheX0gLSBUaGUgZmlsdGVyZWQgZGF0YSwgY29udGFpbmluZyBvbmx5IHRoZSByZXF1ZXN0ZWQgdmFyaWFibGVzXG4qICAgZm9yIHRoZSBmZWF0dXJlIG9mIHRoZSBjdXJyZW50IHN0dWR5IHpvbmUsXG4qICAgIHdpdGhvdXQgZmVhdHVyZXMgY29udGFpbmluZyBlbXB0eSByYXRpb3MuXG4qXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlckxldmVsVmFyKGFwcCkge1xuICAvLyBGZXRjaCB0aGUgbmFtZShzKSBvZiB0aGUgcmF0aW8gKGFuZCBhc3NvY2lhdGVkIG51bSBhbmQgZGVudW0gdmFyaWFibGUpLFxuICAvLyB0aGUgbmFtZSBvZiB0aGUgdGFyZ2V0ZWQgcmVnaW9uIGFuZCB0aGUgY3VycmVudCBsZXZlbCA6XG4gIGNvbnN0IHtcbiAgICBudW0sIGRlbnVtLCByYXRpbywgY3VycmVudF9sZXZlbCwgaWRfZmllbGQsIGZpbHRlcl9rZXksIG5hbWVfZmllbGQsIG15X3JlZ2lvbixcbiAgfSA9IGFwcC5jdXJyZW50X2NvbmZpZztcblxuICBjb25zdCBhbGxfdmFyaWFibGVzID0gcmF0aW8uY29uY2F0KG51bSkuY29uY2F0KGRlbnVtKTtcbiAgLy8gUHJlcGFyZSB0aGUgZGF0YTpcbiAgbGV0IHRlbXA7XG4gIGlmIChmaWx0ZXJfa2V5IGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICB0ZW1wID0gYXBwLmZ1bGxfZGF0YXNldFxuICAgICAgLmZpbHRlcihmdCA9PiArZnRbY3VycmVudF9sZXZlbF0gJiYgZmlsdGVyX2tleS5pbmRleE9mKGZ0W2lkX2ZpZWxkXSkgPiAtMSk7XG4gIH0gZWxzZSBpZiAoZmlsdGVyX2tleSkge1xuICAgIGNvbnN0IG15X2NhdGVnb3J5ID0gYXBwLmZ1bGxfZGF0YXNldC5maWx0ZXIoZnQgPT4gZnRbaWRfZmllbGRdID09PSBteV9yZWdpb24pWzBdW2ZpbHRlcl9rZXldO1xuICAgIHRlbXAgPSBhcHAuZnVsbF9kYXRhc2V0XG4gICAgICAuZmlsdGVyKGZ0ID0+ICtmdFtjdXJyZW50X2xldmVsXSAmJiBmdFtmaWx0ZXJfa2V5XSA9PT0gbXlfY2F0ZWdvcnkpO1xuICB9IGVsc2Uge1xuICAgIHRlbXAgPSBhcHAuZnVsbF9kYXRhc2V0XG4gICAgICAuZmlsdGVyKGZ0ID0+ICtmdFtjdXJyZW50X2xldmVsXSk7XG4gIH1cbiAgdGVtcCA9IHRlbXAubWFwKChmdCkgPT4ge1xuICAgIGNvbnN0IHByb3BzX2ZlYXR1cmUgPSB7XG4gICAgICBpZDogZnRbaWRfZmllbGRdLFxuICAgICAgbmFtZTogZnRbbmFtZV9maWVsZF0sXG4gICAgfTtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuX2kgPSBhbGxfdmFyaWFibGVzLmxlbmd0aDsgaSA8IGxlbl9pOyBpKyspIHtcbiAgICAgIHByb3BzX2ZlYXR1cmVbYWxsX3ZhcmlhYmxlc1tpXV0gPSArZnRbYWxsX3ZhcmlhYmxlc1tpXV07XG4gICAgfVxuICAgIHJldHVybiBwcm9wc19mZWF0dXJlO1xuICB9KTtcbiAgYXBwLmN1cnJlbnRfZGF0YSA9IHRlbXA7XG59XG5cblxuLyoqXG4qIFRPRE9cbiovXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyTGV2ZWxHZW9tKG51dHNfZmVhdHVyZXMsIGZpbHRlciA9ICdOVVRTMScpIHtcbiAgcmV0dXJuIG51dHNfZmVhdHVyZXMuZmlsdGVyKGQgPT4gISFkLnByb3BlcnRpZXNbZmlsdGVyXSk7XG59XG5cbi8qKlxuKiBGdW5jdGlvbiB0byBwcmVwYXJlIHRoZSBnbG9iYWwgXCJ2YXJpYWJsZXNfaW5mb1wiIEFycmF5IG9mIG9iamVjdHMgZnJvbSB0aGUgYXJyYXlcbiogY29udGFpbmluZyB0aGUgcmVhZGVkICdtZXRhZGF0YS5jc3YnIGZpbGUuXG4qXG4qIEBwYXJhbSB7QXJyYXl9IG1ldGFkYXRhX2luZGljYXRldXJzIC0gVGhlIGFycmF5IHJldHVybiBieSBkMy5jc3YuXG4qIEByZXR1cm4ge3ZvaWR9XG4qXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXBhcmVWYXJpYWJsZXNJbmZvKG1ldGFkYXRhX2luZGljYXRldXJzKSB7XG4gIHJldHVybiBtZXRhZGF0YV9pbmRpY2F0ZXVyc1xuICAgIC5maWx0ZXIoZnQgPT4gZnRbJ1R5cGUgc3RhdGlzdGlxdWUnXSA9PT0gJ1JhdGlvJylcbiAgICAubWFwKGZ0ID0+ICh7XG4gICAgICByYXRpbzogZnQuaWQsXG4gICAgICBudW06IGAke2Z0LmlkMX1fJHtwYXJzZUludChmdC5Bbm7DqWUsIDEwKX1gLFxuICAgICAgZGVudW06IGAke2Z0LmlkMn1fJHtwYXJzZUludChmdC5Bbm7DqWUsIDEwKX1gLFxuICAgICAgbmFtZTogYCR7ZnQuTm9tfSAoJHtwYXJzZUludChmdC5Bbm7DqWUsIDEwKX0pYCxcbiAgICAgIHVuaXQ6IGAke2Z0WydVbml0w6knXX1gLFxuICAgICAgZ3JvdXA6IGZ0WydUaMOobWUnXSxcbiAgICAgIG1ldGhvZG86IGZ0WydNw6l0aG9kb2xvZ2llJ10sXG4gICAgICBzb3VyY2U6IGZ0LlNvdXJjZSxcbiAgICAgIGxhc3RfdXBkYXRlOiBmdFsnRGVybmnDqHJlIG1pc2Ugw6Agam91ciddLFxuICAgIH0pKTtcbn1cblxuLyoqXG4qIFNldCBhbmQgYXBwbHkgYSBuZXcgZmlsdGVyIChpZS4gcmVzdHJpY3QgdGhlIHN0dWR5IHpvbmUpIG9uIHRoZSBkYXRhc2V0IHRvIGJlIHVzZWQuXG4qXG4qIEBwYXJhbSB7U3RyaW5nfSBmaWx0ZXJfdHlwZSAtIFRoZSBuYW1lIG9mIHRoZSBmaWx0ZXIgdG8gdXNlLlxuKiBAcmV0dXJuIHt2b2lkfVxuKlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBseUZpbHRlcihhcHAsIGZpbHRlcl90eXBlKSB7XG4gIGlmIChmaWx0ZXJfdHlwZSA9PT0gJ2ZpbHRlcl9jb3VudHJ5Jykge1xuICAgIGFwcC5jdXJyZW50X2NvbmZpZy5maWx0ZXJfa2V5ID0gJ1BheXMnO1xuICB9IGVsc2UgaWYgKGZpbHRlcl90eXBlID09PSAnbm9fZmlsdGVyJykge1xuICAgIGFwcC5jdXJyZW50X2NvbmZpZy5maWx0ZXJfa2V5ID0gdW5kZWZpbmVkO1xuICB9IGVsc2UgaWYgKGZpbHRlcl90eXBlIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICBhcHAuY3VycmVudF9jb25maWcuZmlsdGVyX2tleSA9IGZpbHRlcl90eXBlO1xuICB9IGVsc2Uge1xuICAgIGFwcC5jdXJyZW50X2NvbmZpZy5maWx0ZXJfa2V5ID0gJ3R5cGVfdGVzdCc7XG4gIH1cbiAgZmlsdGVyTGV2ZWxWYXIoYXBwKTtcbiAgYXBwLmNvbG9ycyA9IHt9O1xuICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xufVxuXG4vLyBUT0RPIDogRG9jXG5leHBvcnQgZnVuY3Rpb24gY2hhbmdlUmVnaW9uKGFwcCwgaWRfcmVnaW9uLCBtYXBfZWxlbSkge1xuICBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uID0gaWRfcmVnaW9uO1xuICBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uX3ByZXR0eV9uYW1lID0gYXBwLmZlYXR1cmVfbmFtZXNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl07XG4gIGlmIChhcHAuY3VycmVudF9jb25maWcuZmlsdGVyX2tleSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgbWFwX2VsZW0uY29tcHV0ZURpc3RNYXQoKTtcbiAgICBhcHAuY3VycmVudF9jb25maWcuZmlsdGVyX2tleSA9IG1hcF9lbGVtLmdldFVuaXRzV2l0aGluKCtkMy5zZWxlY3QoJyNkaXN0X2ZpbHRlcicpLnByb3BlcnR5KCd2YWx1ZScpKTtcbiAgICBmaWx0ZXJMZXZlbFZhcihhcHApO1xuICB9IGVsc2UgaWYgKGFwcC5jdXJyZW50X2NvbmZpZy5maWx0ZXJfa2V5KSB7XG4gICAgZmlsdGVyTGV2ZWxWYXIoYXBwKTtcbiAgfVxuICAvLyBSZXNldCB0aGUgY29sb3IgdG8gdXNlIG9uIHRoZSBjaGFydC9tYXA6XG4gIGFwcC5jb2xvcnMgPSB7fTtcbiAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbn1cblxuLyoqXG4qXG4qIEBwYXJhbSBhcHAgLVxuKiBAcGFyYW0gY29kZV9yYXRpbyAtIFRoZSBjb2RlIG9mIHRoZSB2YXJpYWJsZSB0byBiZSBhZGRlZC5cbiogQHJldHVybiB7dm9pZH1cbiovXG5leHBvcnQgZnVuY3Rpb24gYWRkVmFyaWFibGUoYXBwLCBjb2RlX3JhdGlvKSB7XG4gIGNvbnN0IHZhcmlhYmxlX2luZm8gPSB2YXJpYWJsZXNfaW5mby5maWx0ZXIoZCA9PiBkLnJhdGlvID09PSBjb2RlX3JhdGlvKVswXTtcbiAgYXBwLmNvbG9ycyA9IHt9O1xuICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICBhcHAuY3VycmVudF9jb25maWcubnVtLnB1c2godmFyaWFibGVfaW5mby5udW0pO1xuICBhcHAuY3VycmVudF9jb25maWcuZGVudW0ucHVzaCh2YXJpYWJsZV9pbmZvLmRlbnVtKTtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvLnB1c2godmFyaWFibGVfaW5mby5yYXRpbyk7XG4gIGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpb19wcmV0dHlfbmFtZS5wdXNoKHZhcmlhYmxlX2luZm8ubmFtZSk7XG4gIGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpb191bml0LnB1c2godmFyaWFibGVfaW5mby51bml0KTtcbiAgZmlsdGVyTGV2ZWxWYXIoYXBwKTtcbn1cblxuLyoqXG4qXG4qIEBwYXJhbSBhcHAgLVxuKiBAcGFyYW0gY29kZV9yYXRpbyAtIFRoZSBjb2RlIG9mIHRoZSB2YXJpYWJsZSB0byBiZSByZW1vdmUuXG4qIEByZXR1cm4ge3ZvaWR9XG4qL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVZhcmlhYmxlKGFwcCwgY29kZV9yYXRpbykge1xuICBjb25zdCBpeCA9IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpby5pbmRleE9mKGNvZGVfcmF0aW8pO1xuICBhcHAuY3VycmVudF9jb25maWcubnVtLnNwbGljZShpeCwgMSk7XG4gIGFwcC5jdXJyZW50X2NvbmZpZy5kZW51bS5zcGxpY2UoaXgsIDEpO1xuICBhcHAuY3VycmVudF9jb25maWcucmF0aW8uc3BsaWNlKGl4LCAxKTtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvX3ByZXR0eV9uYW1lLnNwbGljZShpeCwgMSk7XG4gIGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpb191bml0LnNwbGljZShpeCwgMSk7XG4gIGZpbHRlckxldmVsVmFyKGFwcCk7XG59XG5cbi8qKlxuKiBSZXNldCB0aGUgY3VycmVudCB2YXJpYWJsZXMgaW4gdXNlLlxuKlxuKiBAcGFyYW0gYXBwIC1cbiogQHBhcmFtIGNvZGVzX3JhdGlvIC1cbiogQHJldHVybiB7dm9pZH1cbiovXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRWYXJpYWJsZXMoYXBwLCBjb2Rlc19yYXRpbykge1xuICBhcHAuY29sb3JzID0ge307XG4gIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gIGFwcC5jdXJyZW50X2NvbmZpZy5udW0gPSBbXTtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLmRlbnVtID0gW107XG4gIGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpbyA9IFtdO1xuICBhcHAuY3VycmVudF9jb25maWcucmF0aW9fcHJldHR5X25hbWUgPSBbXTtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvX3VuaXQgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGNvZGVzX3JhdGlvLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgY29uc3QgY29kZV9yYXRpbyA9IGNvZGVzX3JhdGlvW2ldO1xuICAgIGNvbnN0IHZhcmlhYmxlX2luZm8gPSB2YXJpYWJsZXNfaW5mby5maWx0ZXIoZCA9PiBkLnJhdGlvID09PSBjb2RlX3JhdGlvKVswXTtcbiAgICBhcHAuY3VycmVudF9jb25maWcubnVtLnB1c2godmFyaWFibGVfaW5mby5udW0pO1xuICAgIGFwcC5jdXJyZW50X2NvbmZpZy5kZW51bS5wdXNoKHZhcmlhYmxlX2luZm8uZGVudW0pO1xuICAgIGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpby5wdXNoKHZhcmlhYmxlX2luZm8ucmF0aW8pO1xuICAgIGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpb19wcmV0dHlfbmFtZS5wdXNoKHZhcmlhYmxlX2luZm8ubmFtZSk7XG4gICAgYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvX3VuaXQucHVzaCh2YXJpYWJsZV9pbmZvLnVuaXQpO1xuICB9XG4gIGZpbHRlckxldmVsVmFyKGFwcCk7XG59XG5cbi8qKlxuKiBDb21wdXRlIHRoZSByYXRpbyBvZiBhdmFpbGFibGUgKD0gbm90IGVtcHR5KSB2YWx1ZXMgKHRoZSBcImNvbXBsw6l0dWRlXCIpIHdpdGhpblxuKiB0aGUgc3Vic2V0IGN1cnJlbnRseSBpbiB1c2UgZm9yIGFsbCB0aGUgdmFyaWFibGVzIGluIFwidmFyc1wiLlxuKlxuKiBAcGFyYW0ge09iamVjdH0gYXBwIC0gVGhlIHZhcmlhYmxlIGNvbnRhaW5pbmcgdGhlIGdsb2JhbCBwYXJhbWV0ZXJzIGFib3V0XG4qICAgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGFwcGxpY2F0aW9uLlxuKiBAcGFyYW0ge0FycmF5fSB2YXJzIC0gQSBsaXN0IG9mIHZhcmlhYmxlIG5hbWVzIGZvciB3aGljaCBjb21wbGV0ZW5lc3Mgd2lsbCBiZSBjYWxjdWxhdGVkLlxuKiBAcGFyYW0ge1N0cmluZ30gb3V0cHV0IC0gV2hldGhlciB0byBvdXRwdXQgdGhlIHJlc3VsdCBhcyBhIE51bWJlciBvciBhcyBhbiBBcnJheVxuKiBAcmV0dXJuIHtOdW1iZXIgb3IgQXJyYXl9IC0gTnVtYmVyOiBUaGUgcmF0aW9zIG9mIGZlYXR1cmVzIHdpdGggYXZhaWxhYmxlIHZhbHVlcyB3aXRoaW5cbiogICAgdGhlIHN0dWR5IHpvbmUgKGluICUpIG9yLCBBcnJheSA6IHRoZSBudW1iZXIgb2YgZmVhdHVyZXMgd2l0aCBhdmFpbGFibGUgdmFsdWVzXG4qICAgIGFuZCB0aGUgdG90YWwgbnVtYmVyIG9mIGZlYXR1cmVzLlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBjYWxjQ29tcGxldHVkZVN1YnNldChhcHAsIHZhcnMsIG91dHB1dCA9ICdyYXRpbycpIHtcbiAgY29uc3Qge1xuICAgIGN1cnJlbnRfbGV2ZWwsIGlkX2ZpZWxkLCBmaWx0ZXJfa2V5LCBteV9yZWdpb24sXG4gIH0gPSBhcHAuY3VycmVudF9jb25maWc7XG5cbiAgLy8gQ29tcHV0ZSB0aGUgbGVuZ3RoIG9mIHRoZSBkYXRhc2V0ICh3aXRoaW4gdGhlIFwic3R1ZHkgem9uZVwiIGlmIGFueSk6XG4gIGxldCB0ZW1wO1xuICBpZiAoZmlsdGVyX2tleSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgdGVtcCA9IGFwcC5mdWxsX2RhdGFzZXRcbiAgICAgIC5maWx0ZXIoZnQgPT4gISErZnRbY3VycmVudF9sZXZlbF0gJiYgZmlsdGVyX2tleS5pbmRleE9mKGZ0W2lkX2ZpZWxkXSkgPiAtMSk7XG4gIH0gZWxzZSBpZiAoZmlsdGVyX2tleSkge1xuICAgIGNvbnN0IG15X2NhdGVnb3J5ID0gYXBwLmZ1bGxfZGF0YXNldC5maW5kKGZ0ID0+IGZ0W2lkX2ZpZWxkXSA9PT0gbXlfcmVnaW9uKVtmaWx0ZXJfa2V5XTtcbiAgICB0ZW1wID0gYXBwLmZ1bGxfZGF0YXNldFxuICAgICAgLmZpbHRlcihmdCA9PiAhIStmdFtjdXJyZW50X2xldmVsXSAmJiBmdFtmaWx0ZXJfa2V5XSA9PT0gbXlfY2F0ZWdvcnkpO1xuICB9IGVsc2Uge1xuICAgIHRlbXAgPSBhcHAuZnVsbF9kYXRhc2V0XG4gICAgICAuZmlsdGVyKGZ0ID0+ICEhK2Z0W2N1cnJlbnRfbGV2ZWxdKTtcbiAgfVxuICBjb25zdCB0b3RhbF9sZW5ndGggPSB0ZW1wLmxlbmd0aDtcblxuICAvLyBDb21wdXRlIHRoZSBsZW5ndGggb2YgdGhlIGRhdGFzZXQgaWYgd2UgZmlsdGVyIGVtcHR5IGZlYXR1cmVzXG4gIC8vIG9uIGFsbCB0aGUgdmFyaWFibGVzIG9mIFwidmFyc1wiOlxuICB0ZW1wID0gdGVtcC5tYXAoKGZ0KSA9PiB7XG4gICAgY29uc3QgcHJvcHNfZmVhdHVyZSA9IHtcbiAgICAgIGlkOiBmdFtpZF9maWVsZF0sXG4gICAgfTtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuX2kgPSB2YXJzLmxlbmd0aDsgaSA8IGxlbl9pOyBpKyspIHtcbiAgICAgIHByb3BzX2ZlYXR1cmVbdmFyc1tpXV0gPSArZnRbdmFyc1tpXV07XG4gICAgfVxuICAgIHJldHVybiBwcm9wc19mZWF0dXJlO1xuICB9KS5maWx0ZXIoZnQgPT4gdmFycy5tYXAocmF0aW9fbmFtZSA9PiAhIWZ0W3JhdGlvX25hbWVdKS5ldmVyeSh2ID0+IHYgPT09IHRydWUpKTtcbiAgY29uc3QgZmlsdGVyZWRfbGVuZ3RoID0gdGVtcC5sZW5ndGg7XG5cbiAgaWYgKCEob3V0cHV0ID09PSAncmF0aW8nKSkge1xuICAgIC8vIFJldHVybiB0aGUgbnVtYmVyIG9mIGZlYXR1cmVzIHdpdGggYXZhaWxhYmxlIHZhbHVlcyB3aXRoaW5cbiAgICAvLyB0aGUgc3R1ZHkgem9uZSwgYW5kIHRoZSB0b3RhbCBudW1iZXIgb2YgZmVhdHVyZXMgb2YgdGhlIHN0dWR5IHpvbmVcbiAgICByZXR1cm4gW2ZpbHRlcmVkX2xlbmd0aCwgdG90YWxfbGVuZ3RoXTtcbiAgfVxuICAvLyBSZXR1cm4gdGhlIHJhdGlvIG9mIGF2YWlsYWJsZSB2YWx1ZXMgKFwiY29tcGzDqXR1ZGVcIikgd2l0aGluXG4gIC8vIHRoZSBzdHVkeSB6b25lIHNlbGVjdGVkIGJ5IHRoZSB1c2VyOlxuICByZXR1cm4gTWF0aC5yb3VuZCgoZmlsdGVyZWRfbGVuZ3RoIC8gdG90YWxfbGVuZ3RoKSAqIDEwMDAwKSAvIDEwMDtcbn1cblxuLyoqXG4qIENvbXB1dGUgdGhlIHJhdGlvIG9mIHBvcHVsYXRpb24gY292ZXJlZCBieSBmZWF0dXJlcyBvbiB3aGljaCBhbGwgdGhlIHZhcmlhYmxlc1xuKiBvZiBcInZhcnNcIiBhcmUgYXZhaWxhYmxlLlxuKlxuKiBAcGFyYW0ge09iamVjdH0gYXBwIC1UaGUgdmFyaWFibGUgY29udGFpbmluZyB0aGUgZ2xvYmFsIHBhcmFtZXRlcnMgYWJvdXRcbiogICB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgYXBwbGljYXRpb24uXG4qIEBwYXJhbSB7QXJyYXl9IHZhcnMgLSBBIGxpc3Qgb2YgdmFyaWFibGUgbmFtZXMgZm9yIHdoaWNoIGNvbXBsZXRlbmVzcyB3aWxsIGJlIGNhbGN1bGF0ZWQuXG4qIEByZXR1cm4ge051bWJlcn0gLSBUaGUgcmF0aW8gKGluICUpIG9mIHBvcHVsYXRpb24gY292ZXJlZCBieSBmZWF0dXJlcyBmb3Igd2hpY2hcbiogICBhcmUgYXZhaWxhYmxlIHdpdGhpbiB0aGUgc3R1ZHkgem9uZS5cbipcbiovXG5leHBvcnQgZnVuY3Rpb24gY2FsY1BvcENvbXBsZXR1ZGVTdWJzZXQoYXBwLCB2YXJzKSB7XG4gIGNvbnN0IHtcbiAgICBjdXJyZW50X2xldmVsLCBpZF9maWVsZCwgZmlsdGVyX2tleSwgbXlfcmVnaW9uLCBwb3BfZmllbGQsXG4gIH0gPSBhcHAuY3VycmVudF9jb25maWc7XG5cbiAgLy8gQ29tcHV0ZSB0aGUgdG90YWwgcG9wdWxhdGlvbiBzdG9jayBvZiB0aGUgZGF0YSAod2l0aGluIHRoZSBcInN0dWR5IHpvbmVcIiBpZiBhbnkpOlxuICBsZXQgdGVtcDtcbiAgaWYgKGZpbHRlcl9rZXkgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgIHRlbXAgPSBhcHAuZnVsbF9kYXRhc2V0XG4gICAgICAuZmlsdGVyKGZ0ID0+ICEhK2Z0W2N1cnJlbnRfbGV2ZWxdICYmIGZpbHRlcl9rZXkuaW5kZXhPZihmdFtpZF9maWVsZF0pID4gLTEpO1xuICB9IGVsc2UgaWYgKGZpbHRlcl9rZXkpIHtcbiAgICBjb25zdCBteV9jYXRlZ29yeSA9IGFwcC5mdWxsX2RhdGFzZXQuZmluZChmdCA9PiBmdFtpZF9maWVsZF0gPT09IG15X3JlZ2lvbilbZmlsdGVyX2tleV07XG4gICAgdGVtcCA9IGFwcC5mdWxsX2RhdGFzZXRcbiAgICAgIC5maWx0ZXIoZnQgPT4gISErZnRbY3VycmVudF9sZXZlbF0gJiYgZnRbZmlsdGVyX2tleV0gPT09IG15X2NhdGVnb3J5KTtcbiAgfSBlbHNlIHtcbiAgICB0ZW1wID0gYXBwLmZ1bGxfZGF0YXNldFxuICAgICAgLmZpbHRlcihmdCA9PiAhIStmdFtjdXJyZW50X2xldmVsXSk7XG4gIH1cbiAgbGV0IHRvdGFsX3BvcCA9IDA7XG4gIGZvciAobGV0IGkgPSAwLCBsZW4gPSB0ZW1wLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdG90YWxfcG9wICs9IGlzTmFOKCt0ZW1wW2ldW3BvcF9maWVsZF0pID8gMCA6ICt0ZW1wW2ldW3BvcF9maWVsZF07XG4gIH1cbiAgLy8gQ29tcHV0ZSB0aGUgcG9wdWxhdGlvbiBzdG9jayBvZiB0aGUgZGF0YXNldCBpZiB3ZSBmaWx0ZXIgZW1wdHkgZmVhdHVyZXNcbiAgLy8gb24gYWxsIHRoZSB2YXJpYWJsZXMgb2YgXCJ2YXJzXCI6XG4gIHRlbXAgPSB0ZW1wLm1hcCgoZnQpID0+IHtcbiAgICBjb25zdCBwcm9wc19mZWF0dXJlID0ge1xuICAgICAgaWQ6IGZ0W2lkX2ZpZWxkXSxcbiAgICAgIHBvcDogK2Z0W3BvcF9maWVsZF0sXG4gICAgfTtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuX2kgPSB2YXJzLmxlbmd0aDsgaSA8IGxlbl9pOyBpKyspIHtcbiAgICAgIHByb3BzX2ZlYXR1cmVbdmFyc1tpXV0gPSArZnRbdmFyc1tpXV07XG4gICAgfVxuICAgIHJldHVybiBwcm9wc19mZWF0dXJlO1xuICB9KS5maWx0ZXIoZnQgPT4gdmFycy5tYXAocmF0aW9fbmFtZSA9PiAhIWZ0W3JhdGlvX25hbWVdKS5ldmVyeSh2ID0+IHYgPT09IHRydWUpKTtcbiAgbGV0IHN1YnNldF9wb3AgPSAwO1xuICBmb3IgKGxldCBpID0gMCwgbGVuID0gdGVtcC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHN1YnNldF9wb3AgKz0gaXNOYU4odGVtcFtpXS5wb3ApID8gMCA6IHRlbXBbaV0ucG9wO1xuICB9XG4gIC8vIFJldHVybiB0aGUgcmF0aW8gb2YgcG9wdWxhdGlvbiB2YWx1ZXMgKFwiY29tcGzDqXR1ZGVcIikgd2l0aGluXG4gIC8vIHRoZSBzdHVkeSB6b25lIHNlbGVjdGVkIGJ5IHRoZSB1c2VyOlxuICByZXR1cm4gTWF0aC5yb3VuZCgoc3Vic2V0X3BvcCAvIHRvdGFsX3BvcCkgKiAxMDAwMCkgLyAxMDA7XG59XG4vKiBlc2xpbnQtZW5hYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG4iLCJpbXBvcnQgdGlwcHkgZnJvbSAndGlwcHkuanMnO1xuaW1wb3J0IHsgYXBwIH0gZnJvbSAnLi8uLi9tYWluJztcbmltcG9ydCB7IGNvbG9yX2Rpc2FibGVkLCBjb2xvcl9jb3VudHJpZXMsIGNvbG9yX3N1cCwgY29sb3JfaW5mLCBjb2xvcl9oaWdobGlnaHQgfSBmcm9tICcuL29wdGlvbnMnO1xuaW1wb3J0IHsgZ2V0U3ZnUGF0aFR5cGUsIHN2Z1BhdGhUb0Nvb3JkcywgZXVjbGlkaWFuX2Rpc3RhbmNlIH0gZnJvbSAnLi9oZWxwZXJzJztcbmltcG9ydCB7IGZpbHRlckxldmVsR2VvbSB9IGZyb20gJy4vcHJlcGFyZV9kYXRhJztcblxuY29uc3Qgc3ZnX21hcCA9IGQzLnNlbGVjdCgnc3ZnI3N2Z19tYXAnKSxcbiAgbWFyZ2luX21hcCA9IHsgdG9wOiAwLCByaWdodDogMCwgYm90dG9tOiAwLCBsZWZ0OiAwIH0sXG4gIHdpZHRoX21hcCA9ICtzdmdfbWFwLmF0dHIoJ3dpZHRoJykgLSBtYXJnaW5fbWFwLmxlZnQgLSBtYXJnaW5fbWFwLnJpZ2h0LFxuICBoZWlnaHRfbWFwID0gK3N2Z19tYXAuYXR0cignaGVpZ2h0JykgLSBtYXJnaW5fbWFwLnRvcCAtIG1hcmdpbl9tYXAuYm90dG9tO1xuXG5jb25zdCBzdHlsZXMgPSB7XG4gIGZyYW1lOiB7IGlkOiAnZnJhbWUnLCBmaWxsOiAnI2U5ZjRmZScsICdmaWxsLW9wYWNpdHknOiAxIH0sXG4gIGNvdW50cmllczogeyBpZDogJ2NvdW50cmllcycsIGZpbGw6ICcjYmViZWNkJywgJ2ZpbGwtb3BhY2l0eSc6IDEgfSxcbiAgYm94ZXM6IHsgaWQ6ICdib3hlcycsIGZpbGw6ICcjZTlmNGZlJywgJ2ZpbGwtb3BhY2l0eSc6IDEgfSxcbiAgbnV0czogeyBpZDogJ251dHMnLCBmaWxsOiAnIzkzOTBmYycsICdmaWxsLW9wYWNpdHknOiAxLCAnc3Ryb2tlLXdpZHRoJzogMC41LCBzdHJva2U6ICcjZjdmY2ZlJywgJ3N0cm9rZS1vcGFjaXR5JzogMC45IH0sXG4gIGNvdW50cmllc19yZW1vdGU6IHsgaWQ6ICdjb3VudHJpZXNfcmVtb3RlJywgZmlsbDogJyNiZWJlY2QnLCAnZmlsbC1vcGFjaXR5JzogMSB9LFxuICBjeXBydXNfbm9uX2VzcG9uX3NwYWNlOiB7IGlkOiAnY3lwcnVzX25vbl9lc3Bvbl9zcGFjZScsIGZpbGw6ICcjZmZmZmZmJywgJ2ZpbGwtb3BhY2l0eSc6IDEgfSxcbiAgYm9yZGVyczogeyBpZDogJ2JvcmRlcnMnLCBmaWxsOiAnbm9uZScsICdzdHJva2Utd2lkdGgnOiAxLCBzdHJva2U6ICcjZmZmZmZmJyB9LFxuICBjb3VudHJpZXNfcmVtb3RlX2JvdW5kYXJpZXM6IHsgaWQ6ICdjb3VudHJpZXNfcmVtb3RlX2JvdW5kYXJpZXMnLCBmaWxsOiAnbm9uZScsICdzdHJva2Utd2lkdGgnOiAxLCBzdHJva2U6ICcjZmZmZmZmJyB9LFxuICBjb2FzdHM6IHsgaWQ6ICdjb2FzdHMnLCBmaWxsOiAnbm9uZScsIHN0cm9rZTogJyNkMmRiZWYnLCAnc3Ryb2tlLXdpZHRoJzogMC41IH0sXG4gIGNvYXN0c19yZW1vdGU6IHsgaWQ6ICdjb2FzdHNfcmVtb3RlJywgZmlsbDogJ25vbmUnLCBzdHJva2U6ICcjZDJkYmVmJywgJ3N0cm9rZS13aWR0aCc6IDAuNSB9LFxuICBib3hlczI6IHsgaWQ6ICdib3hlczInLCBzdHJva2U6ICcjN2E3YTdhJywgJ3N0cm9rZS13aWR0aCc6IDEsIGZpbGw6ICdub25lJyB9LFxuICBsaW5lOiB7IGlkOiAnbGluZScsIHN0cm9rZTogJyNiZWJlY2QnLCAnc3Ryb2tlLXdpZHRoJzogMS41LCBmaWxsOiAnbm9uZScgfSxcbn07XG5cbmxldCBwcm9qZWN0aW9uO1xubGV0IHBhdGg7XG5cbmZ1bmN0aW9uIGdldF9iYm94X2xheWVyX3BhdGgobmFtZSkge1xuICBjb25zdCBiYm94X2xheWVyID0gW1tJbmZpbml0eSwgSW5maW5pdHldLCBbLUluZmluaXR5LCAtSW5maW5pdHldXTtcbiAgc3ZnX21hcC5zZWxlY3QoYCMke25hbWV9YClcbiAgICAuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAuZWFjaCgoZCkgPT4ge1xuICAgICAgY29uc3QgYmJveF9wYXRoID0gcGF0aC5ib3VuZHMoZC5nZW9tZXRyeSk7XG4gICAgICBiYm94X2xheWVyWzBdWzBdID0gYmJveF9wYXRoWzBdWzBdIDwgYmJveF9sYXllclswXVswXSA/IGJib3hfcGF0aFswXVswXSA6IGJib3hfbGF5ZXJbMF1bMF07XG4gICAgICBiYm94X2xheWVyWzBdWzFdID0gYmJveF9wYXRoWzBdWzFdIDwgYmJveF9sYXllclswXVsxXSA/IGJib3hfcGF0aFswXVsxXSA6IGJib3hfbGF5ZXJbMF1bMV07XG4gICAgICBiYm94X2xheWVyWzFdWzBdID0gYmJveF9wYXRoWzFdWzBdID4gYmJveF9sYXllclsxXVswXSA/IGJib3hfcGF0aFsxXVswXSA6IGJib3hfbGF5ZXJbMV1bMF07XG4gICAgICBiYm94X2xheWVyWzFdWzFdID0gYmJveF9wYXRoWzFdWzFdID4gYmJveF9sYXllclsxXVsxXSA/IGJib3hfcGF0aFsxXVsxXSA6IGJib3hfbGF5ZXJbMV1bMV07XG4gICAgfSk7XG4gIHJldHVybiBiYm94X2xheWVyO1xufVxuXG5mdW5jdGlvbiBmaXRMYXllcigpIHtcbiAgcHJvamVjdGlvbi5zY2FsZSgxKS50cmFuc2xhdGUoWzAsIDBdKTtcbiAgY29uc3QgYiA9IGdldF9iYm94X2xheWVyX3BhdGgoJ2ZyYW1lJyk7XG4gIGNvbnN0IHMgPSAxIC8gTWF0aC5tYXgoKGJbMV1bMF0gLSBiWzBdWzBdKSAvIHdpZHRoX21hcCwgKGJbMV1bMV0gLSBiWzBdWzFdKSAvIGhlaWdodF9tYXApO1xuICBjb25zdCB0ID0gWyh3aWR0aF9tYXAgLSBzICogKGJbMV1bMF0gKyBiWzBdWzBdKSkgLyAyLCAoaGVpZ2h0X21hcCAtIHMgKiAoYlsxXVsxXSArIGJbMF1bMV0pKSAvIDJdO1xuICBwcm9qZWN0aW9uLnNjYWxlKHMpLnRyYW5zbGF0ZSh0KTtcbiAgc3ZnX21hcC5zZWxlY3RBbGwoJ3BhdGgnKS5hdHRyKCdkJywgcGF0aCk7XG59XG5cbmZ1bmN0aW9uIG1hcF96b29tZWQoKSB7XG4gIGNvbnN0IHRyYW5zZm9ybSA9IGQzLmV2ZW50LnRyYW5zZm9ybTtcbiAgaWYgKHRyYW5zZm9ybS5rID09PSAxKSB7XG4gICAgdHJhbnNmb3JtLnggPSAwO1xuICAgIHRyYW5zZm9ybS55ID0gMDtcbiAgfVxuICBjb25zdCBsYXllcnMgPSBzdmdfbWFwLnNlbGVjdCgnI2xheWVycycpO1xuICBjb25zdCB0ID0gbGF5ZXJzXG4gICAgLnNlbGVjdEFsbCgnZycpXG4gICAgLnRyYW5zaXRpb24oKVxuICAgIC5kdXJhdGlvbigyMjUpO1xuXG4gIGxheWVycy5zZWxlY3RBbGwoJ2cnKVxuICAgIC50cmFuc2l0aW9uKHQpXG4gICAgLnN0eWxlKCdzdHJva2Utd2lkdGgnLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gYCR7c3R5bGVzW3RoaXMuaWRdWydzdHJva2Utd2lkdGgnXSAvIHRyYW5zZm9ybS5rfXB4YDtcbiAgICB9KTtcblxuICBsYXllcnMuc2VsZWN0QWxsKCdnJylcbiAgICAudHJhbnNpdGlvbih0KVxuICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCB0cmFuc2Zvcm0pO1xuXG4gIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJylcbiAgICAudHJhbnNpdGlvbih0KVxuICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCB0cmFuc2Zvcm0pO1xufVxuXG5jbGFzcyBNYXBTZWxlY3Qge1xuICBjb25zdHJ1Y3RvcihudXRzLCBvdGhlcl9sYXllcnMsIGZpbHRlciA9ICdOVVRTMScpIHtcbiAgICBjb25zdCBbYm9yZGVycywgY291bnRyaWVzLCBjb3VudHJpZXNfcmVtb3RlLCBjb2FzdHMsIGNvYXN0c19yZW1vdGUsIGN5cHJ1c19ub25fZXNwb25fc3BhY2UsIGNvdW50cmllc19yZW1vdGVfYm91bmRhcmllcywgZnJhbWUsIGJveGVzLCBsaW5lXSA9IG90aGVyX2xheWVycztcbiAgICBwcm9qZWN0aW9uID0gZDMuZ2VvSWRlbnRpdHkoKVxuICAgICAgLmZpdEV4dGVudChbWzAsIDBdLCBbd2lkdGhfbWFwLCBoZWlnaHRfbWFwXV0sIGZyYW1lKVxuICAgICAgLnJlZmxlY3RZKHRydWUpO1xuXG4gICAgcGF0aCA9IGQzLmdlb1BhdGgoKS5wcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgIGNvbnN0IGxheWVycyA9IHN2Z19tYXAuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdpZCcsICdsYXllcnMnKTtcbiAgICB0aGlzLm51dHMgPSBudXRzO1xuICAgIHRoaXMuem9vbV9tYXAgPSBkMy56b29tKClcbiAgICAgIC5zY2FsZUV4dGVudChbMSwgNV0pXG4gICAgICAudHJhbnNsYXRlRXh0ZW50KFtbMCwgMF0sIFt3aWR0aF9tYXAsIGhlaWdodF9tYXBdXSlcbiAgICAgIC5vbignem9vbScsIG1hcF96b29tZWQpO1xuXG4gICAgc3ZnX21hcC5jYWxsKHRoaXMuem9vbV9tYXApO1xuXG4gICAgbGF5ZXJzLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cnMoc3R5bGVzLmZyYW1lKVxuICAgICAgLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuZGF0YShmcmFtZS5mZWF0dXJlcylcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRycyh7IGQ6IHBhdGggfSk7XG5cbiAgICBsYXllcnMuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyhzdHlsZXMuY291bnRyaWVzKVxuICAgICAgLmF0dHIoJ2lkJywgJ2NvdW50cmllcycpXG4gICAgICAuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5kYXRhKGNvdW50cmllcy5mZWF0dXJlcylcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRycyh7IGQ6IHBhdGggfSk7XG5cbiAgICBsYXllcnMuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyhzdHlsZXMuYm94ZXMpXG4gICAgICAuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5kYXRhKGJveGVzLmZlYXR1cmVzKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHJzKHsgZDogcGF0aCB9KTtcblxuICAgIHRoaXMudGFyZ2V0X2xheWVyID0gbGF5ZXJzLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cnMoc3R5bGVzLm51dHMpO1xuICAgIHRoaXMudGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuZGF0YShmaWx0ZXJMZXZlbEdlb20odGhpcy5udXRzLmZlYXR1cmVzLCBmaWx0ZXIpLCBkID0+IGQucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV0pXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgncGF0aCcpXG4gICAgICAuYXR0cigndGl0bGUnLCBkID0+IGAke2QucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcubmFtZV9maWVsZF19ICgke2QucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV19KWApXG4gICAgICAuYXR0cignZmlsbCcsIGQgPT4gKGQucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV0gIT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24gPyBjb2xvcl9jb3VudHJpZXMgOiBjb2xvcl9oaWdobGlnaHQpKVxuICAgICAgLmF0dHIoJ2QnLCBwYXRoKTtcblxuICAgIGxheWVycy5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHN0eWxlcy5jb3VudHJpZXNfcmVtb3RlKVxuICAgICAgLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuZGF0YShjb3VudHJpZXNfcmVtb3RlLmZlYXR1cmVzKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHJzKHsgZDogcGF0aCB9KTtcblxuICAgIGxheWVycy5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHN0eWxlcy5jeXBydXNfbm9uX2VzcG9uX3NwYWNlKVxuICAgICAgLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuZGF0YShjeXBydXNfbm9uX2VzcG9uX3NwYWNlLmZlYXR1cmVzKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHJzKHsgZDogcGF0aCB9KTtcblxuICAgIGxheWVycy5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHN0eWxlcy5ib3JkZXJzKVxuICAgICAgLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuZGF0YShib3JkZXJzLmZlYXR1cmVzKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHJzKHsgZDogcGF0aCB9KTtcblxuICAgIGxheWVycy5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHN0eWxlcy5jb3VudHJpZXNfcmVtb3RlX2JvdW5kYXJpZXMpXG4gICAgICAuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5kYXRhKGNvdW50cmllc19yZW1vdGVfYm91bmRhcmllcy5mZWF0dXJlcylcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRycyh7IGQ6IHBhdGggfSk7XG5cbiAgICBsYXllcnMuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyhzdHlsZXMuY29hc3RzKVxuICAgICAgLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuZGF0YShjb2FzdHMuZmVhdHVyZXMpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgncGF0aCcpXG4gICAgICAuYXR0cnMoeyBkOiBwYXRoIH0pO1xuXG4gICAgbGF5ZXJzLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cnMoc3R5bGVzLmNvYXN0c19yZW1vdGUpXG4gICAgICAuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5kYXRhKGNvYXN0c19yZW1vdGUuZmVhdHVyZXMpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgncGF0aCcpXG4gICAgICAuYXR0cnMoeyBkOiBwYXRoIH0pO1xuXG4gICAgbGF5ZXJzLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cnMoc3R5bGVzLmJveGVzMilcbiAgICAgIC5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLmRhdGEoYm94ZXMuZmVhdHVyZXMpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgncGF0aCcpXG4gICAgICAuYXR0cnMoeyBkOiBwYXRoIH0pO1xuXG4gICAgbGF5ZXJzLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cnMoc3R5bGVzLmxpbmUpXG4gICAgICAuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5kYXRhKGxpbmUuZmVhdHVyZXMpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgncGF0aCcpXG4gICAgICAuYXR0cnMoeyBkOiBwYXRoIH0pO1xuXG4gICAgZml0TGF5ZXIoKTtcbiAgICBhcHAudHlwZV9wYXRoID0gZ2V0U3ZnUGF0aFR5cGUodGhpcy50YXJnZXRfbGF5ZXIuc2VsZWN0KCdwYXRoJykubm9kZSgpLmdldEF0dHJpYnV0ZSgnZCcpKTtcbiAgICB0aGlzLnRhcmdldF9sYXllci5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9wdHMgPSBzdmdQYXRoVG9Db29yZHModGhpcy5nZXRBdHRyaWJ1dGUoJ2QnKSwgYXBwLnR5cGVfcGF0aCk7XG4gICAgICB9KTtcbiAgICB0aGlzLnRvb2x0aXBzID0gdGlwcHkodGhpcy50YXJnZXRfbGF5ZXIubm9kZSgpLnF1ZXJ5U2VsZWN0b3JBbGwoJ3BhdGgnKSwge1xuICAgICAgYW5pbWF0aW9uOiAnZmFkZScsXG4gICAgICBkdXJhdGlvbjogMCxcbiAgICAgIGZvbGxvd0N1cnNvcjogdHJ1ZSxcbiAgICAgIC8vIHBlcmZvcm1hbmNlOiB0cnVlLFxuICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlTGV2ZWxSZWdpb24oZmlsdGVyID0gJ05VVFMxJykge1xuICAgIHRoaXMudG9vbHRpcHMuZGVzdHJveUFsbCgpO1xuICAgIGNvbnN0IG5ld19zZWxlY3Rpb24gPSBmaWx0ZXJMZXZlbEdlb20odGhpcy5udXRzLmZlYXR1cmVzLCBmaWx0ZXIpO1xuICAgIGNvbnN0IHNlbGVjdGlvbiA9IHRoaXMudGFyZ2V0X2xheWVyXG4gICAgICAuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5kYXRhKG5ld19zZWxlY3Rpb24sIGQgPT4gZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXSk7XG4gICAgc2VsZWN0aW9uLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHJzKGQgPT4gKHtcbiAgICAgICAgdGl0bGU6IGAke2QucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcubmFtZV9maWVsZF19ICgke2QucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV19KWAsXG4gICAgICAgIGZpbGw6IGQucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV0gIT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24gPyBjb2xvcl9jb3VudHJpZXMgOiBjb2xvcl9oaWdobGlnaHQsXG4gICAgICAgIGQ6IHBhdGgsXG4gICAgICB9KSk7XG4gICAgc2VsZWN0aW9uXG4gICAgICAuYXR0cignZCcsIHBhdGgpO1xuICAgIHNlbGVjdGlvblxuICAgICAgLmV4aXQoKVxuICAgICAgLnJlbW92ZSgpO1xuICAgIHRoaXMucmVzZXRDb2xvcnMobmV3X3NlbGVjdGlvbi5tYXAoZCA9PiBkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dKSk7XG4gICAgdGhpcy5jb21wdXRlRGlzdE1hdCgpO1xuICAgIHRoaXMudGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3B0cyA9IHVuZGVmaW5lZDtcbiAgICAgIH0pO1xuICAgIHRoaXMudG9vbHRpcHMgPSB0aXBweSh0aGlzLnRhcmdldF9sYXllci5ub2RlKCkucXVlcnlTZWxlY3RvckFsbCgncGF0aCcpLCB7XG4gICAgICBhbmltYXRpb246ICdmYWRlJyxcbiAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgZm9sbG93Q3Vyc29yOiB0cnVlLFxuICAgICAgLy8gcGVyZm9ybWFuY2U6IHRydWUsXG4gICAgfSk7XG4gIH1cblxuICByZXNldENvbG9ycyhjdXJyZW50X2lkcykge1xuICAgIGNvbnN0IGlkX2ZpZWxkX2dlb20gPSBhcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbTtcbiAgICB0aGlzLnRhcmdldF9sYXllci5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCAoZCkgPT4ge1xuICAgICAgICBjb25zdCBpZCA9IGQucHJvcGVydGllc1tpZF9maWVsZF9nZW9tXTtcbiAgICAgICAgaWYgKGlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbG9yX2hpZ2hsaWdodDtcbiAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50X2lkcy5pbmRleE9mKGlkKSA+IC0xKSB7XG4gICAgICAgICAgcmV0dXJuIGFwcC5jb2xvcnNbaWRdIHx8IGNvbG9yX2NvdW50cmllcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sb3JfZGlzYWJsZWQ7XG4gICAgICB9KTtcbiAgfVxuXG4gIHJlc2V0Wm9vbSgpIHtcbiAgICBzdmdfbWFwLnRyYW5zaXRpb24oKVxuICAgICAgLmR1cmF0aW9uKDI1MClcbiAgICAgIC5jYWxsKHRoaXMuem9vbV9tYXAudHJhbnNmb3JtLCBkMy56b29tSWRlbnRpdHkpO1xuICB9XG5cbiAgdXBkYXRlTGVnZW5kKCkge1xuICAgIGQzLnNlbGVjdCgnI3N2Z19sZWdlbmQgPiBnID4gLmxlZ2VuZCA+IHRleHQnKVxuICAgICAgLnRleHQoYE1hIHLDqWdpb24gOiAke2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25fcHJldHR5X25hbWV9YCk7XG4gIH1cblxuICByZW1vdmVSZWN0QnJ1c2goKSB7XG4gICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKS5jYWxsKHRoaXMuYnJ1c2hfbWFwLm1vdmUsIG51bGwpO1xuICB9XG5cbiAgY2FsbEJydXNoKHNlbGVjdGlvbikge1xuICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJykuY2FsbCh0aGlzLmJydXNoX21hcC5tb3ZlLCBzZWxlY3Rpb24pO1xuICB9XG5cbiAgYmluZEJydXNoQ2xpY2soY2hhcnQpIHtcbiAgICBpZiAoY2hhcnQuaGFuZGxlQ2xpY2tNYXApIHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfbWFwX3NlbGVjdCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVkJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX21hcF9zZWxlY3QnKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19tYXBfc2VsZWN0JykuY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKTtcbiAgICB9XG4gICAgaWYgKGNoYXJ0LmhhbmRsZV9icnVzaF9tYXApIHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfcmVjdF9zZWxlYycpLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVkJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX3JlY3Rfc2VsZWMnKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfbWFwX3pvb20nKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfbWFwX3NlbGVjdCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgdGhpcy5icnVzaF9tYXAgPSBkMy5icnVzaCgpXG4gICAgICAgIC5leHRlbnQoW1swLCAwXSwgW3dpZHRoX21hcCwgaGVpZ2h0X21hcF1dKVxuICAgICAgICAub24oJ3N0YXJ0IGJydXNoJywgKCkgPT4ge1xuICAgICAgICAgIGNoYXJ0LmhhbmRsZV9icnVzaF9tYXAoZDMuZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICAgIHN2Z19tYXAuYXBwZW5kKCdnJylcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2JydXNoX21hcCcpXG4gICAgICAgIC5jYWxsKHRoaXMuYnJ1c2hfbWFwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19yZWN0X3NlbGVjJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX3JlY3Rfc2VsZWMnKS5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19tYXBfem9vbScpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19tYXBfc2VsZWN0JykuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgfVxuICAgIGlmIChjaGFydC5oYW5kbGVDbGlja01hcCAmJiAhY2hhcnQuaGFuZGxlX2JydXNoX21hcCkge1xuICAgICAgdGhpcy50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgY2hhcnQuaGFuZGxlQ2xpY2tNYXAoZCwgdGhpcyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGdldFVuaXRzV2l0aGluKGRpc3Rfa20pIHtcbiAgICBjb25zdCBkaXN0ID0gZGlzdF9rbSAqIDEwMDA7XG4gICAgaWYgKCF0aGlzLmRpc3RfdG9fbXlfcmVnaW9uKSB0aGlzLmNvbXB1dGVEaXN0TWF0KCk7XG4gICAgcmV0dXJuIHRoaXMuZGlzdF90b19teV9yZWdpb24uZmlsdGVyKGQgPT4gZC5kaXN0IDw9IGRpc3QpLm1hcChkID0+IGQuaWQpO1xuICB9XG5cbiAgY29tcHV0ZURpc3RNYXQoKSB7XG4gICAgY29uc3QgZmVhdHVyZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2VcbiAgICAgIC5jYWxsKHRoaXMudGFyZ2V0X2xheWVyLm5vZGUoKS5xdWVyeVNlbGVjdG9yQWxsKCdwYXRoJykpO1xuICAgIGNvbnN0IG5iX2Z0ID0gZmVhdHVyZXMubGVuZ3RoO1xuICAgIGNvbnN0IG15X3JlZ2lvbl9nZW9tID0gZmVhdHVyZXMuZmluZChcbiAgICAgIGQgPT4gZC5fX2RhdGFfXy5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXSA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbixcbiAgICAgICkuX19kYXRhX18uZ2VvbWV0cnk7XG4gICAgY29uc3QgbXlfcmVnaW9uX2NlbnRyb2lkID0gdHVyZi5jZW50cm9pZChteV9yZWdpb25fZ2VvbSk7XG4gICAgY29uc3QgcmVzdWx0X2Rpc3QgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5iX2Z0OyBpKyspIHtcbiAgICAgIGNvbnN0IGlkID0gZmVhdHVyZXNbaV0uX19kYXRhX18ucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV07XG4gICAgICBjb25zdCBkaXN0ID0gZXVjbGlkaWFuX2Rpc3RhbmNlKFxuICAgICAgICBteV9yZWdpb25fY2VudHJvaWQsIHR1cmYuY2VudHJvaWQoZmVhdHVyZXNbaV0uX19kYXRhX18uZ2VvbWV0cnkpKTtcbiAgICAgIHJlc3VsdF9kaXN0LnB1c2goeyBpZCwgZGlzdCB9KTtcbiAgICB9XG4gICAgdGhpcy5kaXN0X3RvX215X3JlZ2lvbiA9IHJlc3VsdF9kaXN0O1xuICB9XG5cbiAgdW5iaW5kQnJ1c2hDbGljaygpIHtcbiAgICB0aGlzLmJydXNoX21hcCA9IG51bGw7XG4gICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKVxuICAgICAgLnJlbW92ZSgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG1ha2VTb3VyY2VTZWN0aW9uKCkge1xuICBjb25zdCB4bWF4ID0gK3N2Z19tYXAuYXR0cignd2lkdGgnKTtcbiAgY29uc3QgdGV4dF96b25lID0gZDMuc2VsZWN0KCcjc3ZnX2xlZ2VuZCcpXG4gICAgLmFwcGVuZCgndGV4dCcpXG4gICAgLmF0dHJzKHsgeTogMzIuNSwgJ3RleHQtYW5jaG9yJzogJ2VuZCcgfSlcbiAgICAuc3R5bGUoJ2ZvbnQtc2l6ZScsICcxMXB4JylcbiAgICAuc3R5bGUoJ2ZvbnQtZmFtaWx5JywgJ1xcJ1NpZ25pa2FcXCcsIHNhbnMtc2VyaWYnKTtcbiAgdGV4dF96b25lLmFwcGVuZCgndHNwYW4nKVxuICAgIC5hdHRycyh7IHg6IHhtYXgsIGR5OiAxMiB9KVxuICAgIC50ZXh0KCdOaXZlYXUgcsOpZ2lvbmFsIDogTlVUUyAxICh2ZXJzaW9uIDIwMTYpJyk7XG4gIHRleHRfem9uZS5hcHBlbmQoJ3RzcGFuJylcbiAgICAuYXR0cnMoeyB4OiB4bWF4LCBkeTogMTIgfSlcbiAgICAudGV4dCgnT3JpZ2luZSBkZXMgZG9ubsOpZXMgOiBFdXJvc3RhdCwgMjAxNicpO1xuICB0ZXh0X3pvbmUuYXBwZW5kKCd0c3BhbicpXG4gICAgLmF0dHJzKHsgeDogeG1heCwgZHk6IDEyIH0pXG4gICAgLnRleHQoJ0xpbWl0ZSBhZG1pbmlzdHJhdGl2ZTogVU1TIFJJQVRFLCBDQy1CWS1TQScpO1xufVxuXG5mdW5jdGlvbiBtYWtlTWFwTGVnZW5kKCkge1xuICBjb25zdCBsZWdlbmRfZWxlbXMgPSBbXG4gICAgeyBjb2xvcjogY29sb3JfaGlnaGxpZ2h0LCB0ZXh0OiBgTWEgcsOpZ2lvbiA6ICR7YXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl9wcmV0dHlfbmFtZX1gIH0sXG4gICAgeyBjb2xvcjogY29sb3JfY291bnRyaWVzLCB0ZXh0OiAnQXV0cmVzIHLDqWdpb25zIGR1IGZpbHRyZSBkZSBjb21wYXJhaXNvbicgfSxcbiAgICB7IGNvbG9yOiBjb2xvcl9zdXAsIHRleHQ6ICdSYW5nIHBsdXMgw6lsZXbDqSBxdWUgbWEgcsOpZ2lvbicgfSxcbiAgICB7IGNvbG9yOiBjb2xvcl9pbmYsIHRleHQ6ICdSYW5nIG1vaW5zIMOpbGV2w6kgcXVlIG1hIHLDqWdpb24nIH0sXG4gIF07XG5cbiAgY29uc3QgcmVjdF9zaXplID0gMTQ7XG4gIGNvbnN0IHNwYWNpbmcgPSA0O1xuICBjb25zdCBsZ2RfaGVpZ2h0ID0gcmVjdF9zaXplICsgc3BhY2luZztcbiAgY29uc3Qgb2Zmc2V0ID0gbGdkX2hlaWdodCAqIGxlZ2VuZF9lbGVtcy5sZW5ndGggLyAyO1xuXG4gIGNvbnN0IGdycF9sZ2QgPSBkMy5zZWxlY3QoJyNzdmdfbGVnZW5kJylcbiAgICAuYXBwZW5kKCdnJylcbiAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSg1MCwgNDApJylcbiAgICAuc3R5bGVzKHsgJ2ZvbnQtc2l6ZSc6ICcxMXB4JywgJ2ZvbnQtZmFtaWx5JzogJ1xcJ1NpZ25pa2FcXCcsIHNhbnMtc2VyaWYnIH0pO1xuXG4gIGNvbnN0IGxlZ2VuZHMgPSBncnBfbGdkLnNlbGVjdEFsbCgnLmxlZ2VuZCcpXG4gICAgLmRhdGEobGVnZW5kX2VsZW1zKVxuICAgIC5lbnRlcigpXG4gICAgLmFwcGVuZCgnZycpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ2xlZ2VuZCcpXG4gICAgLmF0dHIoJ3RyYW5zZm9ybScsIChkLCBpKSA9PiB7XG4gICAgICBjb25zdCB0eCA9IC0yICogcmVjdF9zaXplO1xuICAgICAgY29uc3QgdHkgPSBpICogbGdkX2hlaWdodCAtIG9mZnNldDtcbiAgICAgIHJldHVybiBgdHJhbnNsYXRlKCR7W3R4LCB0eV19KWA7XG4gICAgfSk7XG5cbiAgbGVnZW5kcy5hcHBlbmQoJ3JlY3QnKVxuICAgIC5hdHRycyh7IHdpZHRoOiByZWN0X3NpemUsIGhlaWdodDogcmVjdF9zaXplIH0pXG4gICAgLnN0eWxlcyhkID0+ICh7IGZpbGw6IGQuY29sb3IsIHN0cm9rZTogZC5jb2xvciB9KSk7XG5cbiAgbGVnZW5kcy5hcHBlbmQoJ3RleHQnKVxuICAgIC5hdHRycyh7IHg6IHJlY3Rfc2l6ZSArIHNwYWNpbmcsIHk6IHJlY3Rfc2l6ZSAtIHNwYWNpbmcgfSlcbiAgICAudGV4dChkID0+IGQudGV4dCk7XG59XG5cbmV4cG9ydCB7XG4gIE1hcFNlbGVjdCxcbiAgbWFrZVNvdXJjZVNlY3Rpb24sXG4gIG1ha2VNYXBMZWdlbmQsXG4gIHN2Z19tYXAsXG59O1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFibGVSZXN1bWVTdGF0IHtcbiAgY29uc3RydWN0b3Ioc3VtbWFyeV9mZWF0dXJlcywgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgZG9jID0gZG9jdW1lbnQ7XG4gICAgY29uc3QgbmJfZmVhdHVyZXMgPSBzdW1tYXJ5X2ZlYXR1cmVzLmxlbmd0aDtcbiAgICBjb25zdCBjb2x1bW5fbmFtZXMgPSBbJ1ZhcmlhYmxlJywgJ01pbicsICdNb3llbm5lJywgJ01heCcsICdNYSByw6lnaW9uJ107XG4gICAgY29uc3QgbmJfY29sdW1ucyA9IGNvbHVtbl9uYW1lcy5sZW5ndGg7XG4gICAgY29uc3QgY29udGFpbmVyX2RpdiA9IGRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdCBteVRhYmxlID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3RhYmxlJyk7XG4gICAgY29uc3QgaGVhZGVycyA9IGRvYy5jcmVhdGVFbGVtZW50KCd0aGVhZCcpO1xuICAgIGNvbnN0IHRhYmxlX2JvZHkgPSBkb2MuY3JlYXRlRWxlbWVudCgndGJvZHknKTtcbiAgICBjb25zdCBoZWFkZXJzX3JvdyA9IGRvYy5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgIG15VGFibGUuY2xhc3NOYW1lID0gJ21pbml0YWJsZSc7XG4gICAgY29udGFpbmVyX2Rpdi5jbGFzc05hbWUgPSAnbWluaXRhYmxlX2NvbnRhaW5lcic7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYl9jb2x1bW5zOyBpKyspIHtcbiAgICAgIGNvbnN0IGNlbGwgPSBkb2MuY3JlYXRlRWxlbWVudCgndGgnKTtcbiAgICAgIGNlbGwuaW5uZXJIVE1MID0gY29sdW1uX25hbWVzW2ldO1xuICAgICAgaGVhZGVyc19yb3cuYXBwZW5kQ2hpbGQoY2VsbCk7XG4gICAgfVxuICAgIGhlYWRlcnMuYXBwZW5kQ2hpbGQoaGVhZGVyc19yb3cpO1xuICAgIG15VGFibGUuYXBwZW5kQ2hpbGQoaGVhZGVycyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYl9mZWF0dXJlczsgaSsrKSB7XG4gICAgICBjb25zdCByb3cgPSBkb2MuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICAgIHJvdy5pZCA9IGByb3dfJHtzdW1tYXJ5X2ZlYXR1cmVzW2ldLmlkfWA7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG5iX2NvbHVtbnM7IGorKykge1xuICAgICAgICBjb25zdCBjZWxsID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgICAgIGNvbnN0IGNvbF9uYW1lID0gY29sdW1uX25hbWVzW2pdO1xuICAgICAgICBpZiAoY29sX25hbWUgIT09ICdWYXJpYWJsZScpIHtcbiAgICAgICAgICBjZWxsLmlubmVySFRNTCA9IE1hdGgucm91bmQoc3VtbWFyeV9mZWF0dXJlc1tpXVtjb2xfbmFtZV0gKiAxMCkgLyAxMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjZWxsLmlubmVySFRNTCA9IHN1bW1hcnlfZmVhdHVyZXNbaV1bY29sX25hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJvdy5hcHBlbmRDaGlsZChjZWxsKTtcbiAgICAgIH1cbiAgICAgIHRhYmxlX2JvZHkuYXBwZW5kQ2hpbGQocm93KTtcbiAgICB9XG4gICAgbXlUYWJsZS5hcHBlbmRDaGlsZCh0YWJsZV9ib2R5KTtcbiAgICBteVRhYmxlLnNldEF0dHJpYnV0ZSgnaWQnLCBvcHRpb25zLmlkIHx8ICd0YWJsZV9zdW1tYXJ5Jyk7XG4gICAgY29udGFpbmVyX2Rpdi5hcHBlbmRDaGlsZChteVRhYmxlKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWFwX3NlY3Rpb24nKS5hcHBlbmRDaGlsZChjb250YWluZXJfZGl2KTtcbiAgICB0aGlzLm5iX2NvbHVtbnMgPSBuYl9jb2x1bW5zO1xuICAgIHRoaXMuY29sdW1uX25hbWVzID0gY29sdW1uX25hbWVzO1xuICAgIHRoaXMudGFibGVfYm9keSA9IHRhYmxlX2JvZHk7XG4gIH1cblxuICBhZGRGZWF0dXJlcyhzdW1tYXJ5X2ZlYXR1cmVzKSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHN1bW1hcnlfZmVhdHVyZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHRoaXMuYWRkRmVhdHVyZShzdW1tYXJ5X2ZlYXR1cmVzW2ldKTtcbiAgICB9XG4gIH1cblxuICBhZGRGZWF0dXJlKHN1bW1hcnkpIHtcbiAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgIHJvdy5pZCA9IGByb3dfJHtzdW1tYXJ5LmlkfWA7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLm5iX2NvbHVtbnM7IGorKykge1xuICAgICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgICBjb25zdCBjb2xfbmFtZSA9IHRoaXMuY29sdW1uX25hbWVzW2pdO1xuICAgICAgaWYgKGNvbF9uYW1lICE9PSAnVmFyaWFibGUnKSB7XG4gICAgICAgIGNlbGwuaW5uZXJIVE1MID0gTWF0aC5yb3VuZChzdW1tYXJ5W2NvbF9uYW1lXSAqIDEwKSAvIDEwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2VsbC5pbm5lckhUTUwgPSBzdW1tYXJ5W2NvbF9uYW1lXTtcbiAgICAgIH1cbiAgICAgIHJvdy5hcHBlbmRDaGlsZChjZWxsKTtcbiAgICB9XG4gICAgdGhpcy50YWJsZV9ib2R5LmFwcGVuZENoaWxkKHJvdyk7XG4gIH1cblxuICByZW1vdmVGZWF0dXJlKGlkX3ZhcmlhYmxlKSB7XG4gICAgY29uc3Qgcm93ID0gdGhpcy50YWJsZV9ib2R5LnF1ZXJ5U2VsZWN0b3IoYHRyI3Jvd18ke2lkX3ZhcmlhYmxlfWApO1xuICAgIGlmIChyb3cpIHJvdy5yZW1vdmUoKTtcbiAgfVxuXG4gIHJlbW92ZUFsbCgpIHtcbiAgICBjb25zdCByb3dzID0gdGhpcy50YWJsZV9ib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoJ3RyJyk7XG4gICAgZm9yIChsZXQgaSA9IHJvd3MubGVuZ3RoIC0gMTsgaSA+IC0xOyBpLS0pIHtcbiAgICAgIHJvd3NbaV0ucmVtb3ZlKCk7XG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlKCkge1xuICAgIHRoaXMudGFibGVfYm9keS5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucmVtb3ZlKCk7XG4gICAgdGhpcy50YWJsZV9ib2R5ID0gbnVsbDtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29tcGxldHVkZVNlY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihwYXJlbnQpIHtcbiAgICB0aGlzLnNlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLnNlY3Rpb24uY2xhc3NOYW1lID0gJ2NvbXBsZXR1ZGVfc2VjdGlvbic7XG4gICAgdGhpcy5jb21wbGV0dWRlX3BvcHVsYXRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgdGhpcy5jb21wbGV0dWRlX2ZlYXR1cmVzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIHRoaXMuY29tcGxldHVkZV9mZWF0dXJlcy5jbGFzc05hbWUgPSAnYWN0aXZlJztcbiAgICB0aGlzLnNlY3Rpb24uYXBwZW5kQ2hpbGQodGhpcy5jb21wbGV0dWRlX2ZlYXR1cmVzKTtcbiAgICB0aGlzLnNlY3Rpb24uYXBwZW5kQ2hpbGQodGhpcy5jb21wbGV0dWRlX3BvcHVsYXRpb24pO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHBhcmVudC5hcHBlbmRDaGlsZCh0aGlzLnNlY3Rpb24pO1xuICAgIHRoaXMuY29tcGxldHVkZV9mZWF0dXJlcy5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIHNlbGYuY29tcGxldHVkZV9wb3B1bGF0aW9uLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIH07XG4gICAgdGhpcy5jb21wbGV0dWRlX3BvcHVsYXRpb24ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICBzZWxmLmNvbXBsZXR1ZGVfZmVhdHVyZXMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgfTtcbiAgfVxuXG4gIHVwZGF0ZSh2YWx1ZV9mZWF0dXJlcywgdmFsdWVfcG9wKSB7XG4gICAgdGhpcy5jb21wbGV0dWRlX2ZlYXR1cmVzLmlubmVySFRNTCA9IGBEb25uw6llcyBkaXNwb25pYmxlcyBwb3VyICR7dmFsdWVfZmVhdHVyZXNbMF19LyR7dmFsdWVfZmVhdHVyZXNbMV19IGVudGl0w6lzLmA7XG4gICAgdGhpcy5jb21wbGV0dWRlX3BvcHVsYXRpb24uaW5uZXJIVE1MID0gYERvbm7DqWVzIGRpc3BvbmlibGVzIHBvdXIgJHt2YWx1ZV9wb3B9JSBkZSBsYSBwb3B1bGF0aW9uIGRlIGwnZXNwYWNlIGQnw6l0dWRlLmA7XG4gIH1cblxuICByZW1vdmUoKSB7XG4gICAgdGhpcy5zZWN0aW9uLnJlbW92ZSgpO1xuICAgIHRoaXMuc2VjdGlvbiA9IG51bGw7XG4gICAgdGhpcy5jb21wbGV0dWRlX3BvcHVsYXRpb24gPSBudWxsO1xuICAgIHRoaXMuY29tcGxldHVkZV9mZWF0dXJlcyA9IG51bGw7XG4gIH1cbn1cbiIsImltcG9ydCB7IGNvbXAsIG1hdGhfcm91bmQsIG1hdGhfYWJzLCBSZWN0LCBwcmVwYXJlVG9vbHRpcCwgZ2V0TWVhbiwgc3ZnUGF0aFRvQ29vcmRzLCBzZWxlY3RGaXJzdEF2YWlsYWJsZVZhciB9IGZyb20gJy4vLi4vaGVscGVycyc7XG5pbXBvcnQgeyBjb2xvcl9kaXNhYmxlZCwgY29sb3JfY291bnRyaWVzLCBjb2xvcl9zdXAsIGNvbG9yX2luZiwgY29sb3JfaGlnaGxpZ2h0IH0gZnJvbSAnLi8uLi9vcHRpb25zJztcbmltcG9ydCB7IGNhbGNQb3BDb21wbGV0dWRlU3Vic2V0LCBjYWxjQ29tcGxldHVkZVN1YnNldCwgYWRkVmFyaWFibGUgfSBmcm9tICcuLy4uL3ByZXBhcmVfZGF0YSc7XG5pbXBvcnQgeyBzdmdfbWFwIH0gZnJvbSAnLi8uLi9tYXAnO1xuaW1wb3J0IHsgYXBwLCByZXNldENvbG9ycywgdmFyaWFibGVzX2luZm8gfSBmcm9tICcuLy4uLy4uL21haW4nO1xuaW1wb3J0IFRhYmxlUmVzdW1lU3RhdCBmcm9tICcuLy4uL3RhYmxlUmVzdW1lU3RhdCc7XG5pbXBvcnQgQ29tcGxldHVkZVNlY3Rpb24gZnJvbSAnLi8uLi9jb21wbGV0dWRlJztcblxuZXhwb3J0IGNvbnN0IHN2Z19iYXIgPSBkMy5zZWxlY3QoJ3N2ZyNzdmdfYmFyJyksXG4gIG1hcmdpbiA9IHsgdG9wOiAxMCwgcmlnaHQ6IDIwLCBib3R0b206IDEwMCwgbGVmdDogNDUgfSxcbiAgbWFyZ2luMiA9IHsgdG9wOiA0MzAsIHJpZ2h0OiAyMCwgYm90dG9tOiAxNSwgbGVmdDogNDUgfSxcbiAgd2lkdGggPSArc3ZnX2Jhci5hdHRyKCd3aWR0aCcpIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQsXG4gIGhlaWdodCA9ICtzdmdfYmFyLmF0dHIoJ2hlaWdodCcpIC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b20sXG4gIGhlaWdodDIgPSArc3ZnX2Jhci5hdHRyKCdoZWlnaHQnKSAtIG1hcmdpbjIudG9wIC0gbWFyZ2luMi5ib3R0b207XG5cbmxldCBuYkZ0O1xubGV0IGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbMCwgMF07XG5sZXQgY3VycmVudF9yYW5nZSA9IFswLCAwXTtcbmxldCBkaXNwbGF5ZWQ7XG5cbmZ1bmN0aW9uIGdldE1lYW5SYW5rKG1lYW5fdmFsdWUsIHJhdGlvX3RvX3VzZSkge1xuICBsZXQgbWVhbl9yYW5rID0gYXBwLmN1cnJlbnRfZGF0YS5tYXAoXG4gICAgKGQsIGkpID0+IFtkW3JhdGlvX3RvX3VzZV0sIG1hdGhfYWJzKG1lYW5fdmFsdWUgLSBkW3JhdGlvX3RvX3VzZV0pLCBpXSk7XG4gIG1lYW5fcmFuay5zb3J0KChhLCBiKSA9PiBhWzFdIC0gYlsxXSk7XG4gIG1lYW5fcmFuayA9IG1lYW5fcmFua1swXTtcbiAgaWYgKG1lYW5fcmFua1sxXSA+IG1lYW5fdmFsdWUpIHtcbiAgICBtZWFuX3JhbmsgPSBtZWFuX3JhbmtbMl0gLSAxO1xuICB9IGVsc2Uge1xuICAgIG1lYW5fcmFuayA9IG1lYW5fcmFua1syXTtcbiAgfVxuICByZXR1cm4gbWVhbl9yYW5rO1xufVxuXG5cbmV4cG9ydCBjbGFzcyBCYXJDaGFydDEge1xuICBjb25zdHJ1Y3RvcihyZWZfZGF0YSkge1xuICAgIHRoaXMuYnJ1c2hlZCA9ICgpID0+IHtcbiAgICAgIGlmIChkMy5ldmVudC5zb3VyY2VFdmVudCAmJiBkMy5ldmVudC5zb3VyY2VFdmVudC50eXBlID09PSAnem9vbScpIHJldHVybjsgLy8gaWdub3JlIGJydXNoLWJ5LXpvb21cbiAgICAgIGlmICghdGhpcy54KSB7IGNvbnNvbGUubG9nKCdhJyk7IHJldHVybjsgfVxuICAgICAgY29uc3QgcyA9IGQzLmV2ZW50LnNlbGVjdGlvbiB8fCB0aGlzLngyLnJhbmdlKCk7XG4gICAgICBjdXJyZW50X3JhbmdlID0gW21hdGhfcm91bmQoc1swXSAvICh3aWR0aCAvIG5iRnQpKSwgbWF0aF9yb3VuZChzWzFdIC8gKHdpZHRoIC8gbmJGdCkpXTtcbiAgICAgIHRoaXMueC5kb21haW4odGhpcy5kYXRhLnNsaWNlKGN1cnJlbnRfcmFuZ2VbMF0sIGN1cnJlbnRfcmFuZ2VbMV0pLm1hcChmdCA9PiBmdC5pZCkpO1xuICAgICAgc3ZnX2Jhci5zZWxlY3QoJy56b29tJykuY2FsbCh0aGlzLnpvb20udHJhbnNmb3JtLCBkMy56b29tSWRlbnRpdHlcbiAgICAgICAgLnNjYWxlKHdpZHRoIC8gKGN1cnJlbnRfcmFuZ2VbMV0gLSBjdXJyZW50X3JhbmdlWzBdKSlcbiAgICAgICAgLnRyYW5zbGF0ZSgtY3VycmVudF9yYW5nZVswXSwgMCkpO1xuICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgIHRoaXMudXBkYXRlQ29udGV4dChjdXJyZW50X3JhbmdlWzBdLCBjdXJyZW50X3JhbmdlWzFdKTtcbiAgICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfdG9wJykuY2FsbCh0aGlzLmJydXNoX3RvcC5tb3ZlLCBudWxsKTtcbiAgICAgIC8vIHRoaXMuYnJ1c2hlZF90b3AoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5icnVzaGVkX3RvcCA9ICgpID0+IHtcbiAgICAgIGlmICghdGhpcy5fZm9jdXMpIHsgY29uc29sZS5sb2coJ2InKTsgcmV0dXJuOyB9XG4gICAgICBpZiAoIXRoaXMubWFwX2VsZW0pIHsgY29uc29sZS5sb2coJ2MnKTsgcmV0dXJuOyB9XG4gICAgICBjb25zdCBkM19ldmVudCA9IGQzLmV2ZW50O1xuICAgICAgY29uc3QgcmF0aW9fdG9fdXNlID0gdGhpcy5yYXRpb190b191c2U7XG4gICAgICBjb25zdCByZWZfdmFsdWUgPSB0aGlzLnJlZl92YWx1ZTtcbiAgICAgIC8vIGlmIChkM19ldmVudCAmJiBkM19ldmVudC5zZWxlY3Rpb25cbiAgICAgIC8vICAgICAgICYmIGQzX2V2ZW50LnNvdXJjZUV2ZW50ICYmIGQzX2V2ZW50LnNvdXJjZUV2ZW50LnRhcmdldCA9PT0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJydXNoX3RvcCA+IHJlY3Qub3ZlcmxheScpKSB7XG4gICAgICBpZiAoZDNfZXZlbnQgJiYgZDNfZXZlbnQuc2VsZWN0aW9uICYmIGQzX2V2ZW50LnNvdXJjZUV2ZW50ICYmIGQzX2V2ZW50LnNvdXJjZUV2ZW50LnRhcmdldCkge1xuICAgICAgICB0aGlzLm1hcF9lbGVtLnJlbW92ZVJlY3RCcnVzaCgpO1xuICAgICAgICBjb25zdCBzID0gZDNfZXZlbnQuc2VsZWN0aW9uO1xuICAgICAgICBjdXJyZW50X3JhbmdlX2JydXNoID0gW1xuICAgICAgICAgIGN1cnJlbnRfcmFuZ2VbMF0gKyBtYXRoX3JvdW5kKHNbMF0gLyAod2lkdGggLyBkaXNwbGF5ZWQpKSAtIDEsXG4gICAgICAgICAgY3VycmVudF9yYW5nZVswXSArIG1hdGhfcm91bmQoc1sxXSAvICh3aWR0aCAvIGRpc3BsYXllZCkpLFxuICAgICAgICBdO1xuICAgICAgICB0aGlzLnguZG9tYWluKHRoaXMuZGF0YS5zbGljZShjdXJyZW50X3JhbmdlX2JydXNoWzBdICsgMSwgY3VycmVudF9yYW5nZV9icnVzaFsxXSlcbiAgICAgICAgICAubWFwKGZ0ID0+IGZ0LmlkKSk7XG4gICAgICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICAgICAgdGhpcy5fZm9jdXMuc2VsZWN0QWxsKCcuYmFyJylcbiAgICAgICAgICAuc3R5bGUoJ2ZpbGwnLCAoZCwgaSkgPT4ge1xuICAgICAgICAgICAgaWYgKGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pIHtcbiAgICAgICAgICAgICAgYXBwLmNvbG9yc1tkLmlkXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yX2hpZ2hsaWdodDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA+IGN1cnJlbnRfcmFuZ2VfYnJ1c2hbMF0gJiYgaSA8IGN1cnJlbnRfcmFuZ2VfYnJ1c2hbMV0pIHtcbiAgICAgICAgICAgICAgY29uc3QgY29sb3IgPSBjb21wKGRbcmF0aW9fdG9fdXNlXSwgcmVmX3ZhbHVlLCB0aGlzLnNlcmllX2ludmVyc2VkKTtcbiAgICAgICAgICAgICAgYXBwLmNvbG9yc1tkLmlkXSA9IGNvbG9yO1xuICAgICAgICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29sb3JfY291bnRyaWVzO1xuICAgICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZDNfZXZlbnQgJiYgIWQzX2V2ZW50LnNlbGVjdGlvblxuICAgICAgICAgICAgJiYgZDNfZXZlbnQuc291cmNlRXZlbnQgJiYgZDNfZXZlbnQuc291cmNlRXZlbnQuZGV0YWlsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aGlzLm1hcF9lbGVtLnJlbW92ZVJlY3RCcnVzaCgpO1xuICAgICAgICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICAgICAgICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgICAgICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9mb2N1cy5zZWxlY3RBbGwoJy5iYXInKVxuICAgICAgICAgIC5zdHlsZSgnZmlsbCcsIGQgPT4gYXBwLmNvbG9yc1tkLmlkXSB8fCBjb2xvcl9jb3VudHJpZXMpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBTZXQgdGhlIG1pbmltdW0gbnVtYmVyIG9mIHZhcmlhYmxlcyB0byBrZWVwIHNlbGVjdGVkIGZvciB0aGlzIGtpbmQgb2YgY2hhcnQ6XG4gICAgYXBwLmN1cnJlbnRfY29uZmlnLm5iX3ZhciA9IDE7XG4gICAgY29uc3QgeCA9IGQzLnNjYWxlQmFuZCgpLnJhbmdlKFswLCB3aWR0aF0pLnBhZGRpbmcoMC4xKSxcbiAgICAgIHgyID0gZDMuc2NhbGVCYW5kKCkucmFuZ2UoWzAsIHdpZHRoXSkucGFkZGluZygwLjEpLFxuICAgICAgeSA9IGQzLnNjYWxlTGluZWFyKCkucmFuZ2UoW2hlaWdodCwgMF0pLFxuICAgICAgeTIgPSBkMy5zY2FsZUxpbmVhcigpLnJhbmdlKFtoZWlnaHQyLCAwXSk7XG5cbiAgICBjb25zdCB4QXhpcyA9IGQzLmF4aXNCb3R0b20oeCk7XG4gICAgY29uc3QgeEF4aXMyID0gZDMuYXhpc0JvdHRvbSh4Mik7XG4gICAgY29uc3QgeUF4aXMgPSBkMy5heGlzTGVmdCh5KTtcblxuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy54MiA9IHgyO1xuICAgIHRoaXMueSA9IHk7XG4gICAgdGhpcy55MiA9IHkyO1xuICAgIHRoaXMueEF4aXMgPSB4QXhpcztcbiAgICB0aGlzLnlBeGlzID0geUF4aXM7XG4gICAgdGhpcy54QXhpczIgPSB4QXhpczI7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgYXZhaWxhYmxlX3JhdGlvcyA9IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpbztcbiAgICBjb25zdCByYXRpb190b191c2UgPSBhdmFpbGFibGVfcmF0aW9zWzBdO1xuICAgIHRoaXMucmF0aW9fdG9fdXNlID0gcmF0aW9fdG9fdXNlO1xuICAgIHRoaXMudW5pdCA9IHZhcmlhYmxlc19pbmZvLmZpbmQoZnQgPT4gZnQucmF0aW8gPT09IHJhdGlvX3RvX3VzZSkudW5pdDtcbiAgICB0aGlzLmRhdGEgPSByZWZfZGF0YS5maWx0ZXIoZnQgPT4gISFmdFtyYXRpb190b191c2VdKTtcbiAgICB0aGlzLmRhdGEuc29ydCgoYSwgYikgPT4gYVtyYXRpb190b191c2VdIC0gYltyYXRpb190b191c2VdKTtcbiAgICB0aGlzLmN1cnJlbnRfaWRzID0gdGhpcy5kYXRhLm1hcChkID0+IGQuaWQpO1xuICAgIHJlc2V0Q29sb3JzKCk7XG4gICAgdGhpcy5jdXJyZW50X3JhbmtzID0gdGhpcy5kYXRhLm1hcCgoZCwgaSkgPT4gaSArIDEpO1xuICAgIG5iRnQgPSB0aGlzLmRhdGEubGVuZ3RoO1xuICAgIHRoaXMubWVhbl92YWx1ZSA9IGdldE1lYW4odGhpcy5kYXRhLm1hcChkID0+IGRbcmF0aW9fdG9fdXNlXSkpO1xuICAgIHRoaXMucmVmX3ZhbHVlID0gdGhpcy5kYXRhLmZpbHRlcihcbiAgICAgIGZ0ID0+IGZ0LmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVswXVtyYXRpb190b191c2VdO1xuICAgIHN2Z19iYXIuYXBwZW5kKCdkZWZzJylcbiAgICAgIC5hcHBlbmQoJ2NsaXBQYXRoJylcbiAgICAgIC5hdHRyKCdpZCcsICdjbGlwJylcbiAgICAgIC5hcHBlbmQoJ3JlY3QnKVxuICAgICAgLmF0dHJzKHsgd2lkdGgsIGhlaWdodCB9KTtcblxuICAgIGNvbnN0IGZvY3VzID0gc3ZnX2Jhci5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgY2xhc3M6ICdmb2N1cycsXG4gICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke21hcmdpbi5sZWZ0fSwgJHttYXJnaW4udG9wfSlgLFxuICAgICAgfSk7XG5cbiAgICBjb25zdCBjb250ZXh0ID0gc3ZnX2Jhci5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgY2xhc3M6ICdjb250ZXh0JyxcbiAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7bWFyZ2luMi5sZWZ0fSwgJHttYXJnaW4yLnRvcH0pYCxcbiAgICAgIH0pO1xuXG4gICAgdGhpcy5fZm9jdXMgPSBmb2N1cztcbiAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuXG4gICAgeC5kb21haW4odGhpcy5jdXJyZW50X2lkcyk7XG4gICAgeS5kb21haW4oW1xuICAgICAgMCxcbiAgICAgIGQzLm1heCh0aGlzLmRhdGEsIGQgPT4gZFtyYXRpb190b191c2VdKSxcbiAgICBdKTtcbiAgICB4Mi5kb21haW4oeC5kb21haW4oKSk7XG4gICAgeTIuZG9tYWluKHkuZG9tYWluKCkpO1xuXG4gICAgY29uc3QgYnJ1c2hfYm90dG9tID0gZDMuYnJ1c2hYKClcbiAgICAgIC5leHRlbnQoW1swLCAwXSwgW3dpZHRoLCBoZWlnaHQyXV0pXG4gICAgICAub24oJ2JydXNoIGVuZCcsIHRoaXMuYnJ1c2hlZCk7XG5cbiAgICBjb25zdCBicnVzaF90b3AgPSBkMy5icnVzaFgoKVxuICAgICAgLmV4dGVudChbWzAsIDBdLCBbd2lkdGgsIGhlaWdodF1dKVxuICAgICAgLm9uKCdicnVzaCBlbmQnLCB0aGlzLmJydXNoZWRfdG9wKTtcblxuICAgIGNvbnN0IHpvb20gPSBkMy56b29tKClcbiAgICAgIC5zY2FsZUV4dGVudChbMSwgSW5maW5pdHldKVxuICAgICAgLnRyYW5zbGF0ZUV4dGVudChbWzAsIDBdLCBbd2lkdGgsIGhlaWdodF1dKVxuICAgICAgLmV4dGVudChbWzAsIDBdLCBbd2lkdGgsIGhlaWdodF1dKTtcbiAgICAgIC8vIC5vbihcInpvb21cIiwgem9vbWVkKTtcbiAgICB0aGlzLmJydXNoX3RvcCA9IGJydXNoX3RvcDtcbiAgICB0aGlzLmJydXNoX2JvdHRvbSA9IGJydXNoX2JvdHRvbTtcbiAgICB0aGlzLnpvb20gPSB6b29tO1xuXG4gICAgZm9jdXMuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAnYXhpcyBheGlzLS14JywgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKDAsICR7aGVpZ2h0fSlgIH0pXG4gICAgICAuY2FsbCh4QXhpcyk7XG5cbiAgICBmb2N1cy5zZWxlY3QoJy5heGlzLS14JylcbiAgICAgIC5zZWxlY3RBbGwoJ3RleHQnKVxuICAgICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdlbmQnKVxuICAgICAgLmF0dHJzKHsgZHg6ICctMC44ZW0nLCBkeTogJzAuMTVlbScsIHRyYW5zZm9ybTogJ3JvdGF0ZSgtNjUpJyB9KTtcblxuICAgIGZvY3VzLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignY2xhc3MnLCAnYXhpcyBheGlzLS15JylcbiAgICAgIC5jYWxsKHlBeGlzKTtcblxuICAgIHRoaXMuZ19iYXIgPSBmb2N1cy5hcHBlbmQoJ2cnKTtcblxuICAgIGNvbnN0IGdyb3VwZV9saW5lX21lYW4gPSBmb2N1cy5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdtZWFuJyk7XG4gICAgZ3JvdXBlX2xpbmVfbWVhbi5hcHBlbmQoJ3RleHQnKVxuICAgICAgLmF0dHJzKHsgeDogNjAsIHk6IHkodGhpcy5tZWFuX3ZhbHVlKSArIDIwIH0pXG4gICAgICAuc3R5bGVzKHtcbiAgICAgICAgZGlzcGxheTogJ25vbmUnLFxuICAgICAgICBmaWxsOiAncmVkJyxcbiAgICAgICAgJ2ZpbGwtb3BhY2l0eSc6ICcwLjgnLFxuICAgICAgICAnZm9udC1mYW1pbHknOiAnXFwnU2lnbmlrYVxcJywgc2Fucy1zZXJpZicsXG4gICAgICB9KVxuICAgICAgLnRleHQoYFZhbGV1ciBtb3llbm5lIDogJHtNYXRoLnJvdW5kKHRoaXMubWVhbl92YWx1ZSAqIDEwKSAvIDEwfSAke3RoaXMudW5pdH1gKTtcblxuICAgIGdyb3VwZV9saW5lX21lYW4uYXBwZW5kKCdsaW5lJylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIHgxOiAwLFxuICAgICAgICB4Mjogd2lkdGgsXG4gICAgICAgIHkxOiB5KHRoaXMubWVhbl92YWx1ZSksXG4gICAgICAgIHkyOiB5KHRoaXMubWVhbl92YWx1ZSksXG4gICAgICAgICdzdHJva2UtZGFzaGFycmF5JzogJzEwLCA1JyxcbiAgICAgICAgJ3N0cm9rZS13aWR0aCc6ICcycHgnLFxuICAgICAgICBjbGFzczogJ21lYW5fbGluZScsXG4gICAgICB9KVxuICAgICAgLnN0eWxlKCdzdHJva2UnLCAncmVkJyk7XG5cbiAgICBncm91cGVfbGluZV9tZWFuLmFwcGVuZCgnbGluZScpXG4gICAgICAuYXR0cnMoeyB4MTogMCwgeDI6IHdpZHRoLCB5MTogeSh0aGlzLm1lYW5fdmFsdWUpLCB5MjogeSh0aGlzLm1lYW5fdmFsdWUpLCAnc3Ryb2tlLXdpZHRoJzogJzE0cHgnLCBjbGFzczogJ3RyYW5zcF9tZWFuX2xpbmUnIH0pXG4gICAgICAuc3R5bGUoJ3N0cm9rZScsICd0cmFuc3BhcmVudCcpXG4gICAgICAub24oJ21vdXNlb3ZlcicsICgpID0+IHtcbiAgICAgICAgZ3JvdXBlX2xpbmVfbWVhbi5zZWxlY3QoJ3RleHQnKVxuICAgICAgICAgIC5zdHlsZSgnZGlzcGxheScsICdpbml0aWFsJyk7XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZW91dCcsICgpID0+IHtcbiAgICAgICAgZ3JvdXBlX2xpbmVfbWVhbi5zZWxlY3QoJ3RleHQnKVxuICAgICAgICAgIC5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICB9KTtcblxuICAgIHRoaXMudXBkYXRlTWluaUJhcnMoKTtcblxuICAgIGNvbnRleHQuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdicnVzaF9ib3R0b20nKVxuICAgICAgLmNhbGwoYnJ1c2hfYm90dG9tKVxuICAgICAgLmNhbGwoYnJ1c2hfYm90dG9tLm1vdmUsIHgucmFuZ2UoKSk7XG5cbiAgICBmb2N1cy5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2JydXNoX3RvcCcpXG4gICAgICAuY2FsbChicnVzaF90b3ApXG4gICAgICAuY2FsbChicnVzaF90b3AubW92ZSwgbnVsbCk7XG5cbiAgICB0aGlzLmNvbXBsZXR1ZGUgPSBuZXcgQ29tcGxldHVkZVNlY3Rpb24oc3ZnX2Jhci5ub2RlKCkucGFyZW50RWxlbWVudCk7XG4gICAgdGhpcy5jb21wbGV0dWRlLnVwZGF0ZShcbiAgICAgIGNhbGNDb21wbGV0dWRlU3Vic2V0KGFwcCwgW3RoaXMucmF0aW9fdG9fdXNlXSwgJ2FycmF5JyksXG4gICAgICBjYWxjUG9wQ29tcGxldHVkZVN1YnNldChhcHAsIFt0aGlzLnJhdGlvX3RvX3VzZV0pKTtcblxuICAgIHN2Z19iYXIuYXBwZW5kKCdpbWFnZScpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICB4OiB3aWR0aCArIG1hcmdpbi5sZWZ0ICsgNSxcbiAgICAgICAgeTogMzg1LFxuICAgICAgICB3aWR0aDogMTUsXG4gICAgICAgIGhlaWdodDogMTUsXG4gICAgICAgICd4bGluazpocmVmJzogJ2ltZy9yZXZlcnNlX3BsdXMucG5nJyxcbiAgICAgICAgaWQ6ICdpbWdfcmV2ZXJzZScsXG4gICAgICB9KVxuICAgICAgLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgLy8gdGhpcy5kYXRhID0gYXBwLmN1cnJlbnRfZGF0YS5zbGljZSgpO1xuICAgICAgICBpZiAoIXRoaXMuc2VyaWVfaW52ZXJzZWQpIHtcbiAgICAgICAgICB0aGlzLmRhdGEuc29ydCgoYSwgYikgPT4gYlt0aGlzLnJhdGlvX3RvX3VzZV0gLSBhW3RoaXMucmF0aW9fdG9fdXNlXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5kYXRhLnNvcnQoKGEsIGIpID0+IGFbdGhpcy5yYXRpb190b191c2VdIC0gYlt0aGlzLnJhdGlvX3RvX3VzZV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VyaWVfaW52ZXJzZWQgPSAhdGhpcy5zZXJpZV9pbnZlcnNlZDtcbiAgICAgICAgeC5kb21haW4odGhpcy5kYXRhLnNsaWNlKGN1cnJlbnRfcmFuZ2VbMF0sIGN1cnJlbnRfcmFuZ2VbMV0pLm1hcChmdCA9PiBmdC5pZCkpO1xuICAgICAgICB4Mi5kb21haW4odGhpcy5kYXRhLm1hcChmdCA9PiBmdC5pZCkpO1xuICAgICAgICAvLyBzdmdfYmFyLnNlbGVjdChcIi56b29tXCIpLmNhbGwoem9vbS50cmFuc2Zvcm0sIGQzLnpvb21JZGVudGl0eVxuICAgICAgICAvLyAgICAgLnNjYWxlKHdpZHRoIC8gKGN1cnJlbnRfcmFuZ2VbMV0gLSBjdXJyZW50X3JhbmdlWzBdKSlcbiAgICAgICAgLy8gICAgIC50cmFuc2xhdGUoLWN1cnJlbnRfcmFuZ2VbMF0sIDApKTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgLy8gdGhpcy51cGRhdGVNaW5pQmFycygpO1xuICAgICAgICB0aGlzLnVwZGF0ZUNvbnRleHQoY3VycmVudF9yYW5nZVswXSwgY3VycmVudF9yYW5nZVsxXSk7XG4gICAgICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfdG9wJykuY2FsbChicnVzaF90b3AubW92ZSwgbnVsbCk7XG4gICAgICAgIHRoaXMubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gICAgICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfYm90dG9tJykuY2FsbChicnVzaF9ib3R0b20ubW92ZSwgeC5yYW5nZSgpKTtcbiAgICAgIH0pO1xuXG4gICAgLy8gUHJlcGFyZSB0aGUgdG9vbHRpcCBkaXNwbGF5ZWQgb24gbW91c2VvdmVyOlxuICAgIGNvbnN0IHRvb2x0aXAgPSBwcmVwYXJlVG9vbHRpcChzdmdfYmFyKTtcblxuICAgIC8vIERlYWN0aXZhdGUgdGhlIGJydXNoIHJlY3Qgc2VsZWN0aW9uIG9uIHRoZSBtYXAgKyBvbiB0aGUgY2hhcnRcbiAgICAvLyB3aGVuIGhlIHVzZXIgcHJlc3MgdGhlIEN0cmwga2V5OlxuICAgIGRvY3VtZW50Lm9ua2V5ZG93biA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50LmtleSA9PT0gJ0NvbnRyb2wnKSB7XG4gICAgICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfdG9wJylcbiAgICAgICAgICAuc2VsZWN0QWxsKCcuc2VsZWN0aW9uLCAub3ZlcmxheScpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKVxuICAgICAgICAgIC5zZWxlY3RBbGwoJy5zZWxlY3Rpb24sIC5vdmVybGF5JylcbiAgICAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgfVxuICAgIH07XG4gICAgZG9jdW1lbnQub25rZXl1cCA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50LmtleSA9PT0gJ0NvbnRyb2wnKSB7XG4gICAgICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfdG9wJylcbiAgICAgICAgICAuc2VsZWN0QWxsKCcuc2VsZWN0aW9uLCAub3ZlcmxheScpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7XG4gICAgICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJylcbiAgICAgICAgICAuc2VsZWN0QWxsKCcuc2VsZWN0aW9uLCAub3ZlcmxheScpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGhlYWRlcl9iYXJfc2VjdGlvbiA9IGQzLnNlbGVjdCgnI2hlYWRlcl9jaGFydCcpO1xuXG4gICAgdGhpcy5zZWxlY192YXIgPSBoZWFkZXJfYmFyX3NlY3Rpb25cbiAgICAgIC5pbnNlcnQoJ3NlbGVjdCcsICcjaW1nX3RhYmxlJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAndGl0bGVfdmFyaWFibGUnIH0pXG4gICAgICAuc3R5bGVzKHtcbiAgICAgICAgJ2ZvbnQtZmFtaWx5JzogJ1xcJ1NpZ25pa2FcXCcsIHNhbnMtc2VyaWYnLFxuICAgICAgICAnZm9udC13ZWlnaHQnOiAnODAwJyxcbiAgICAgICAgJ2ZvbnQtc2l6ZSc6ICcxNHB4JyxcbiAgICAgICAgJ21hcmdpbi10b3AnOiAnMTJweCcsXG4gICAgICAgICdtYXJnaW4tbGVmdCc6ICc0MHB4JyxcbiAgICAgICAgZmxvYXQ6ICdsZWZ0JyxcbiAgICAgIH0pO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gYXZhaWxhYmxlX3JhdGlvcy5sZW5ndGg7IGkgPCBsZW5faTsgaSsrKSB7XG4gICAgICB0aGlzLnNlbGVjX3Zhci5hcHBlbmQoJ29wdGlvbicpXG4gICAgICAgIC5hdHRyKCd2YWx1ZScsIGF2YWlsYWJsZV9yYXRpb3NbaV0pXG4gICAgICAgIC50ZXh0KGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpb19wcmV0dHlfbmFtZVtpXSk7XG4gICAgfVxuXG4gICAgdGhpcy5zZWxlY192YXIub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IGNvZGVfdmFyaWFibGUgPSB0aGlzLnZhbHVlO1xuICAgICAgc2VsZi5jaGFuZ2VWYXJpYWJsZShjb2RlX3ZhcmlhYmxlKTtcbiAgICAgIHNlbGYuY2hhbmdlU3R1ZHlab25lKCk7XG4gICAgICBzZWxmLnVwZGF0ZUNvbXBsZXR1ZGUoKTtcbiAgICB9KTtcblxuICAgIC8vIENyZWF0ZSB0aGUgbWVudSB1bmRlciB0aGUgY2hhcnQgYWxsb3dpbmcgdG8gdXNlIHNvbWUgdXNlZnVsIHNlbGVjdGlvbnNcbiAgICAvLyAoYWJvdmUgb3IgYmVsb3cgdGhlIG1lYW4gdmFsdWUgYW5kIGFib3ZlIG9yIGJlbG93IG15X3JlZ2lvbilcbiAgICBjb25zdCBtZW51X3NlbGVjdGlvbiA9IGQzLnNlbGVjdCgnI2Jhcl9zZWN0aW9uJylcbiAgICAgIC5hcHBlbmQoJ2RpdicpXG4gICAgICAuYXR0cignaWQnLCAnbWVudV9zZWxlY3Rpb24nKVxuICAgICAgLnN0eWxlcyh7IHBhZGRpbmc6ICcwIDEwcHggMTBweCAxMHB4JywgJ3RleHQtYWxpZ24nOiAnY2VudGVyJyB9KTtcblxuICAgIG1lbnVfc2VsZWN0aW9uLmFwcGVuZCgnYnV0dG9uJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAnYnV0dG9uX2JsdWUnLCBpZDogJ2J0bl9hYm92ZV9tZWFuJyB9KVxuICAgICAgLnRleHQoJzwgw6AgbGEgbW95ZW5uZScpXG4gICAgICAub24oJ2NsaWNrJywgKCkgPT4gdGhpcy5zZWxlY3RCZWxvd01lYW4oKSk7XG5cbiAgICBtZW51X3NlbGVjdGlvbi5hcHBlbmQoJ2J1dHRvbicpXG4gICAgICAuYXR0cnMoeyBjbGFzczogJ2J1dHRvbl9ibHVlJywgaWQ6ICdidG5fYmVsb3dfbWVhbicgfSlcbiAgICAgIC50ZXh0KCc+IMOgIGxhIG1veWVubmUnKVxuICAgICAgLm9uKCdjbGljaycsICgpID0+IHRoaXMuc2VsZWN0QWJvdmVNZWFuKCkpO1xuXG4gICAgbWVudV9zZWxlY3Rpb24uYXBwZW5kKCdidXR0b24nKVxuICAgICAgLmF0dHJzKHsgY2xhc3M6ICdidXR0b25fYmx1ZScsIGlkOiAnYnRuX2Fib3ZlX215X3JlZ2lvbicgfSlcbiAgICAgIC50ZXh0KCc8IMOgIG1hIHLDqWdpb24nKVxuICAgICAgLm9uKCdjbGljaycsICgpID0+IHRoaXMuc2VsZWN0QmVsb3dNeVJlZ2lvbigpKTtcblxuICAgIG1lbnVfc2VsZWN0aW9uLmFwcGVuZCgnYnV0dG9uJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAnYnV0dG9uX2JsdWUnLCBpZDogJ2J0bl9iZWxvd19teV9yZWdpb24nIH0pXG4gICAgICAudGV4dCgnPiDDoCBtYSByw6lnaW9uJylcbiAgICAgIC5vbignY2xpY2snLCAoKSA9PiB0aGlzLnNlbGVjdEFib3ZlTXlSZWdpb24oKSk7XG5cbiAgICB0aGlzLm1ha2VUYWJsZVN0YXQoKTtcbiAgfVxuXG4gIHVwZGF0ZUNvbXBsZXR1ZGUoKSB7XG4gICAgdGhpcy5jb21wbGV0dWRlLnVwZGF0ZShcbiAgICAgIGNhbGNDb21wbGV0dWRlU3Vic2V0KGFwcCwgW3RoaXMucmF0aW9fdG9fdXNlXSwgJ2FycmF5JyksXG4gICAgICBjYWxjUG9wQ29tcGxldHVkZVN1YnNldChhcHAsIFt0aGlzLnJhdGlvX3RvX3VzZV0pKTtcbiAgfVxuXG4gIHVwZGF0ZUNvbnRleHQobWluLCBtYXgpIHtcbiAgICB0aGlzLmNvbnRleHQuc2VsZWN0QWxsKCcuYmFyJylcbiAgICAgICAuc3R5bGUoJ2ZpbGwtb3BhY2l0eScsIChfLCBpKSA9PiAoaSA+PSBtaW4gJiYgaSA8IG1heCA/ICcxJyA6ICcwLjMnKSk7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgZGlzcGxheWVkID0gMDtcbiAgICBjb25zdCByYXRpb190b191c2UgPSB0aGlzLnJhdGlvX3RvX3VzZTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBiYXIgPSB0aGlzLmdfYmFyLnNlbGVjdEFsbCgnLmJhcicpXG4gICAgICAuZGF0YSh0aGlzLmRhdGEpO1xuXG4gICAgYmFyXG4gICAgICAuYXR0cnMoZCA9PiAoe1xuICAgICAgICB4OiB0aGlzLngoZC5pZCksXG4gICAgICAgIHk6IHRoaXMueShkW3JhdGlvX3RvX3VzZV0pLFxuICAgICAgICB3aWR0aDogdGhpcy54LmJhbmR3aWR0aCgpLFxuICAgICAgICBoZWlnaHQ6IGhlaWdodCAtIHRoaXMueShkW3JhdGlvX3RvX3VzZV0pLFxuICAgICAgfSkpXG4gICAgICAuc3R5bGUoJ2ZpbGwnLCBkID0+IGFwcC5jb2xvcnNbZC5pZF0gfHwgY29sb3JfY291bnRyaWVzKVxuICAgICAgLnN0eWxlKCdkaXNwbGF5JywgKGQpID0+IHtcbiAgICAgICAgY29uc3QgdG9fZGlzcGxheSA9IHRoaXMueChkLmlkKSAhPSBudWxsO1xuICAgICAgICBpZiAodG9fZGlzcGxheSkge1xuICAgICAgICAgIGRpc3BsYXllZCArPSAxO1xuICAgICAgICAgIHJldHVybiAnaW5pdGlhbCc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICdub25lJztcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlb3ZlcicsICgpID0+IHtcbiAgICAgICAgc3ZnX2Jhci5zZWxlY3QoJy50b29sdGlwJykuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTtcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlb3V0JywgKCkgPT4ge1xuICAgICAgICBzdmdfYmFyLnNlbGVjdCgnLnRvb2x0aXAnKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICBjb25zdCB0b29sdGlwID0gc3ZnX2Jhci5zZWxlY3QoJy50b29sdGlwJyk7XG4gICAgICAgIHRvb2x0aXAuc2VsZWN0KCdyZWN0JykuYXR0cnMoeyB3aWR0aDogMCwgaGVpZ2h0OiAwIH0pO1xuICAgICAgICB0b29sdGlwXG4gICAgICAgICAgLnNlbGVjdCgndGV4dC5pZF9mZWF0dXJlJylcbiAgICAgICAgICAudGV4dChgJHtkLmlkfWApO1xuICAgICAgICB0b29sdGlwLnNlbGVjdCgndGV4dC52YWx1ZV9mZWF0dXJlMScpXG4gICAgICAgICAgLnRleHQoYCR7bWF0aF9yb3VuZChkW3NlbGYucmF0aW9fdG9fdXNlXSAqIDEwKSAvIDEwfSAke3NlbGYudW5pdH1gKTtcbiAgICAgICAgY29uc3QgYiA9IHRvb2x0aXAubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB0b29sdGlwLnNlbGVjdCgncmVjdCcpXG4gICAgICAgICAgLmF0dHJzKHtcbiAgICAgICAgICAgIHdpZHRoOiBiLndpZHRoICsgMjAsXG4gICAgICAgICAgICBoZWlnaHQ6IGIuaGVpZ2h0ICsgNy41LFxuICAgICAgICAgIH0pO1xuICAgICAgICB0b29sdGlwXG4gICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHtbZDMubW91c2UodGhpcylbMF0gLSA1LCBkMy5tb3VzZSh0aGlzKVsxXSAtIDQ1XX0pYCk7XG4gICAgICB9KTtcblxuICAgIGJhci5lbnRlcigpXG4gICAgICAuaW5zZXJ0KCdyZWN0JywgJy5tZWFuJylcbiAgICAgIC5hdHRycyhkID0+ICh7XG4gICAgICAgIGNsYXNzOiAnYmFyJyxcbiAgICAgICAgeDogdGhpcy54KGQuaWQpLFxuICAgICAgICB5OiB0aGlzLnkoZFtyYXRpb190b191c2VdKSxcbiAgICAgICAgd2lkdGg6IHRoaXMueC5iYW5kd2lkdGgoKSxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQgLSB0aGlzLnkoZFtyYXRpb190b191c2VdKSxcbiAgICAgIH0pKTtcblxuICAgIGJhci5leGl0KCkucmVtb3ZlKCk7XG5cbiAgICB0aGlzLl9mb2N1cy5zZWxlY3QoJy5heGlzLS15JylcbiAgICAgIC5jYWxsKHRoaXMueUF4aXMpO1xuXG4gICAgY29uc3QgYXhpc194ID0gdGhpcy5fZm9jdXMuc2VsZWN0KCcuYXhpcy0teCcpXG4gICAgICAuYXR0cignZm9udC1zaXplJywgKCkgPT4gKGRpc3BsYXllZCA+IDc1ID8gNiA6IDEwKSlcbiAgICAgIC5jYWxsKHRoaXMueEF4aXMpO1xuICAgIGF4aXNfeFxuICAgICAgLnNlbGVjdEFsbCgndGV4dCcpXG4gICAgICAuYXR0cnMoKCkgPT4ge1xuICAgICAgICBpZiAoZGlzcGxheWVkID4gMTAwKSB7XG4gICAgICAgICAgcmV0dXJuIHsgZHg6ICctMC44ZW0nLCBkeTogJzAuMTVlbScsIHRyYW5zZm9ybTogJ3JvdGF0ZSgtNjUpJyB9O1xuICAgICAgICB9IGVsc2UgaWYgKGRpc3BsYXllZCA+IDIwKSB7XG4gICAgICAgICAgcmV0dXJuIHsgZHg6ICctMC44ZW0nLCBkeTogJzAuMTVlbScsIHRyYW5zZm9ybTogJ3JvdGF0ZSgtNjUpJyB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB7IGR4OiAnMCcsIGR5OiAnMC43MWVtJywgdHJhbnNmb3JtOiBudWxsIH07XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgKCkgPT4gKGRpc3BsYXllZCA+IDIwID8gJ2VuZCcgOiAnbWlkZGxlJykpO1xuXG4gICAgdGhpcy51cGRhdGVNaW5pQmFycygpO1xuICB9XG5cblxuICB1cGRhdGVNaW5pQmFycygpIHtcbiAgICBjb25zdCByYXRpb190b191c2UgPSB0aGlzLnJhdGlvX3RvX3VzZTtcbiAgICBjb25zdCBtaW5pX2JhcnMgPSB0aGlzLmNvbnRleHQuc2VsZWN0QWxsKCcuYmFyJylcbiAgICAgIC5kYXRhKHRoaXMuZGF0YSk7XG5cbiAgICBtaW5pX2JhcnNcbiAgICAgIC5hdHRycyhkID0+ICh7XG4gICAgICAgIHg6IHRoaXMueDIoZC5pZCksXG4gICAgICAgIHk6IHRoaXMueTIoZFtyYXRpb190b191c2VdKSxcbiAgICAgICAgd2lkdGg6IHRoaXMueDIuYmFuZHdpZHRoKCksXG4gICAgICAgIGhlaWdodDogaGVpZ2h0MiAtIHRoaXMueTIoZFtyYXRpb190b191c2VdKSxcbiAgICAgIH0pKVxuICAgICAgLnN0eWxlKCdmaWxsJywgZCA9PiAoZC5pZCAhPT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbiA/IGNvbG9yX2NvdW50cmllcyA6IGNvbG9yX2hpZ2hsaWdodCkpO1xuXG4gICAgbWluaV9iYXJzXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmluc2VydCgncmVjdCcpXG4gICAgICAuYXR0cnMoZCA9PiAoe1xuICAgICAgICBjbGFzczogJ2JhcicsXG4gICAgICAgIHg6IHRoaXMueDIoZC5pZCksXG4gICAgICAgIHk6IHRoaXMueTIoZFtyYXRpb190b191c2VdKSxcbiAgICAgICAgd2lkdGg6IHRoaXMueDIuYmFuZHdpZHRoKCksXG4gICAgICAgIGhlaWdodDogaGVpZ2h0MiAtIHRoaXMueTIoZFtyYXRpb190b191c2VdKSxcbiAgICAgIH0pKVxuICAgICAgLnN0eWxlKCdmaWxsJywgZCA9PiAoZC5pZCAhPT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbiA/IGNvbG9yX2NvdW50cmllcyA6IGNvbG9yX2hpZ2hsaWdodCkpO1xuICAgIG1pbmlfYmFycy5leGl0KCkucmVtb3ZlKCk7XG4gIH1cblxuICB1cGRhdGVNYXBSZWdpbygpIHtcbiAgICB0aGlzLm1hcF9lbGVtLnRhcmdldF9sYXllci5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCBkID0+ICh0aGlzLmN1cnJlbnRfaWRzLmluZGV4T2YoZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXSkgPiAtMVxuICAgICAgICA/IChhcHAuY29sb3JzW2QucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV1dIHx8IGNvbG9yX2NvdW50cmllcylcbiAgICAgICAgOiBjb2xvcl9kaXNhYmxlZCkpO1xuICB9XG5cbiAgc2VsZWN0QWJvdmVNeVJlZ2lvbigpIHtcbiAgICBjb25zdCBteV9yYW5rID0gdGhpcy5kYXRhLm1hcCgoZCwgaSkgPT4gW2QuaWQsIGldKVxuICAgICAgLmZpbHRlcihkID0+IGRbMF0gPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pWzBdWzFdO1xuICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgIGlmICghdGhpcy5zZXJpZV9pbnZlcnNlZCkge1xuICAgICAgY3VycmVudF9yYW5nZV9icnVzaCA9IFtteV9yYW5rLCB0aGlzLmRhdGEubGVuZ3RoXTtcbiAgICAgIHRoaXMuZGF0YVxuICAgICAgICAuZmlsdGVyKChkLCBpKSA9PiBpID4gbXlfcmFuaylcbiAgICAgICAgLm1hcChkID0+IGQuaWQpXG4gICAgICAgIC5mb3JFYWNoKChmdCkgPT4geyBhcHAuY29sb3JzW2Z0XSA9IGNvbG9yX3N1cDsgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbMCwgbXlfcmFua107XG4gICAgICB0aGlzLmRhdGFcbiAgICAgICAgLmZpbHRlcigoZCwgaSkgPT4gaSA8IG15X3JhbmspXG4gICAgICAgIC5tYXAoZCA9PiBkLmlkKVxuICAgICAgICAuZm9yRWFjaCgoZnQpID0+IHsgYXBwLmNvbG9yc1tmdF0gPSBjb2xvcl9pbmY7IH0pO1xuICAgIH1cbiAgICBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX2JvdHRvbScpLmNhbGwoXG4gICAgICB0aGlzLmJydXNoX2JvdHRvbS5tb3ZlLCB0aGlzLngyLnJhbmdlKCkpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gICAgLy8gc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF90b3AnKS5jYWxsKHRoaXMuYnJ1c2hfdG9wLm1vdmUsIGN1cnJlbnRfcmFuZ2VfYnJ1c2gubWFwKGQgPT4gZCAqICh3aWR0aCAvIG5iRnQpKSk7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICB9XG5cbiAgc2VsZWN0QmVsb3dNeVJlZ2lvbigpIHtcbiAgICBjb25zdCBteV9yYW5rID0gdGhpcy5kYXRhLm1hcCgoZCwgaSkgPT4gW2QuaWQsIGldKVxuICAgICAgLmZpbHRlcihkID0+IGRbMF0gPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pWzBdWzFdO1xuXG4gICAgYXBwLmNvbG9ycyA9IHt9O1xuICAgIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgaWYgKCF0aGlzLnNlcmllX2ludmVyc2VkKSB7XG4gICAgICBjdXJyZW50X3JhbmdlX2JydXNoID0gWzAsIG15X3JhbmtdO1xuICAgICAgdGhpcy5kYXRhXG4gICAgICAgIC5maWx0ZXIoKGQsIGkpID0+IGkgPCBteV9yYW5rKVxuICAgICAgICAubWFwKGQgPT4gZC5pZClcbiAgICAgICAgLmZvckVhY2goKGZ0KSA9PiB7IGFwcC5jb2xvcnNbZnRdID0gY29sb3JfaW5mOyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9yYW5nZV9icnVzaCA9IFtteV9yYW5rLCB0aGlzLmRhdGEubGVuZ3RoXTtcbiAgICAgIHRoaXMuZGF0YVxuICAgICAgICAuZmlsdGVyKChkLCBpKSA9PiBpID4gbXlfcmFuaylcbiAgICAgICAgLm1hcChkID0+IGQuaWQpXG4gICAgICAgIC5mb3JFYWNoKChmdCkgPT4geyBhcHAuY29sb3JzW2Z0XSA9IGNvbG9yX3N1cDsgfSk7XG4gICAgfVxuICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfYm90dG9tJykuY2FsbChcbiAgICAgIHRoaXMuYnJ1c2hfYm90dG9tLm1vdmUsIHRoaXMueDIucmFuZ2UoKSk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgICAvLyBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX3RvcCcpLmNhbGwodGhpcy5icnVzaF90b3AubW92ZSwgY3VycmVudF9yYW5nZV9icnVzaC5tYXAoZCA9PiBkICogKHdpZHRoIC8gbmJGdCkpKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gIH1cblxuICBzZWxlY3RBYm92ZU1lYW4oKSB7XG4gICAgY29uc3QgbWVhbl9yYW5rID0gZ2V0TWVhblJhbmsodGhpcy5tZWFuX3ZhbHVlLCB0aGlzLnJhdGlvX3RvX3VzZSk7XG4gICAgY29uc3QgcmF0aW9fdG9fdXNlID0gdGhpcy5yYXRpb190b191c2U7XG4gICAgY29uc3QgcmVmX3ZhbHVlID0gdGhpcy5yZWZfdmFsdWU7XG5cbiAgICBhcHAuY29sb3JzID0ge307XG4gICAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICBpZiAoIXRoaXMuc2VyaWVfaW52ZXJzZWQpIHtcbiAgICAgIGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbbWVhbl9yYW5rLCB0aGlzLmRhdGEubGVuZ3RoXTtcbiAgICAgIHRoaXMuZGF0YS5maWx0ZXIoZCA9PiBkW3JhdGlvX3RvX3VzZV0gPiB0aGlzLm1lYW5fdmFsdWUpLmZvckVhY2goKGZ0KSA9PiB7XG4gICAgICAgIGlmIChmdFtyYXRpb190b191c2VdID4gcmVmX3ZhbHVlKSBhcHAuY29sb3JzW2Z0LmlkXSA9IGNvbG9yX3N1cDtcbiAgICAgICAgZWxzZSBhcHAuY29sb3JzW2Z0LmlkXSA9IGNvbG9yX2luZjtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X3JhbmdlX2JydXNoID0gWzAsIG1lYW5fcmFuayArIDFdO1xuICAgICAgdGhpcy5kYXRhLmZpbHRlcihkID0+IGRbcmF0aW9fdG9fdXNlXSA+IHRoaXMubWVhbl92YWx1ZSkuZm9yRWFjaCgoZnQpID0+IHtcbiAgICAgICAgaWYgKGZ0W3JhdGlvX3RvX3VzZV0gPiByZWZfdmFsdWUpIGFwcC5jb2xvcnNbZnQuaWRdID0gY29sb3JfaW5mO1xuICAgICAgICBlbHNlIGFwcC5jb2xvcnNbZnQuaWRdID0gY29sb3Jfc3VwO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF9ib3R0b20nKS5jYWxsKFxuICAgICAgdGhpcy5icnVzaF9ib3R0b20ubW92ZSwgdGhpcy54Mi5yYW5nZSgpKTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIC8vIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfdG9wJykuY2FsbCh0aGlzLmJydXNoX3RvcC5tb3ZlLCBjdXJyZW50X3JhbmdlX2JydXNoLm1hcChkID0+IGQgKiAod2lkdGggLyBuYkZ0KSkpO1xuICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgfVxuXG4gIHNlbGVjdEJlbG93TWVhbigpIHtcbiAgICBjb25zdCBtZWFuX3JhbmsgPSBnZXRNZWFuUmFuayh0aGlzLm1lYW5fdmFsdWUsIHRoaXMucmF0aW9fdG9fdXNlKTtcbiAgICBjb25zdCByYXRpb190b191c2UgPSB0aGlzLnJhdGlvX3RvX3VzZTtcbiAgICBjb25zdCByZWZfdmFsdWUgPSB0aGlzLnJlZl92YWx1ZTtcbiAgICBhcHAuY29sb3JzID0ge307XG4gICAgaWYgKCF0aGlzLnNlcmllX2ludmVyc2VkKSB7XG4gICAgICBjdXJyZW50X3JhbmdlX2JydXNoID0gWzAsIG1lYW5fcmFua107XG4gICAgICB0aGlzLmRhdGEuZmlsdGVyKGQgPT4gZFtyYXRpb190b191c2VdIDwgdGhpcy5tZWFuX3ZhbHVlKS5mb3JFYWNoKChmdCkgPT4ge1xuICAgICAgICBpZiAoZnRbcmF0aW9fdG9fdXNlXSA8IHJlZl92YWx1ZSkgYXBwLmNvbG9yc1tmdC5pZF0gPSBjb2xvcl9pbmY7XG4gICAgICAgIGVsc2UgYXBwLmNvbG9yc1tmdC5pZF0gPSBjb2xvcl9zdXA7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9yYW5nZV9icnVzaCA9IFttZWFuX3JhbmsgKyAxLCB0aGlzLmRhdGEubGVuZ3RoXTtcbiAgICAgIHRoaXMuZGF0YS5maWx0ZXIoZCA9PiBkW3JhdGlvX3RvX3VzZV0gPCB0aGlzLm1lYW5fdmFsdWUpLmZvckVhY2goKGZ0KSA9PiB7XG4gICAgICAgIGlmIChmdFtyYXRpb190b191c2VdIDwgcmVmX3ZhbHVlKSBhcHAuY29sb3JzW2Z0LmlkXSA9IGNvbG9yX3N1cDtcbiAgICAgICAgZWxzZSBhcHAuY29sb3JzW2Z0LmlkXSA9IGNvbG9yX2luZjtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfYm90dG9tJykuY2FsbChcbiAgICAgIHRoaXMuYnJ1c2hfYm90dG9tLm1vdmUsIHRoaXMueDIucmFuZ2UoKSk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgICAvLyBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX3RvcCcpLmNhbGwodGhpcy5icnVzaF90b3AubW92ZSwgY3VycmVudF9yYW5nZV9icnVzaC5tYXAoZCA9PiBkICogKHdpZHRoIC8gbmJGdCkpKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gIH1cblxuICBoYW5kbGVfYnJ1c2hfbWFwKGV2ZW50KSB7XG4gICAgaWYgKCFldmVudCB8fCAhZXZlbnQuc2VsZWN0aW9uKSB7XG4gICAgICB0aGlzLmxhc3RfbWFwX3NlbGVjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcmF0aW9fdG9fdXNlID0gdGhpcy5yYXRpb190b191c2U7XG4gICAgY29uc3QgcmVmX3ZhbHVlID0gdGhpcy5yZWZfdmFsdWU7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF90b3AnKS5jYWxsKHNlbGYuYnJ1c2hfdG9wLm1vdmUsIG51bGwpO1xuICAgIGNvbnN0IFt0b3BsZWZ0LCBib3R0b21yaWdodF0gPSBldmVudC5zZWxlY3Rpb247XG4gICAgdGhpcy5sYXN0X21hcF9zZWxlY3Rpb24gPSBbdG9wbGVmdCwgYm90dG9tcmlnaHRdO1xuICAgIC8vIGNvbnN0IHRyYW5zZm9ybSA9IHN2Z19tYXAubm9kZSgpLl9fem9vbTtcbiAgICAvLyB0b3BsZWZ0WzBdID0gKHRvcGxlZnRbMF0gLSB0cmFuc2Zvcm0ueCkgLyB0cmFuc2Zvcm0uaztcbiAgICAvLyB0b3BsZWZ0WzFdID0gKHRvcGxlZnRbMV0gLSB0cmFuc2Zvcm0ueSkgLyB0cmFuc2Zvcm0uaztcbiAgICAvLyBib3R0b21yaWdodFswXSA9IChib3R0b21yaWdodFswXSAtIHRyYW5zZm9ybS54KSAvIHRyYW5zZm9ybS5rO1xuICAgIC8vIGJvdHRvbXJpZ2h0WzFdID0gKGJvdHRvbXJpZ2h0WzFdIC0gdHJhbnNmb3JtLnkpIC8gdHJhbnNmb3JtLms7XG4gICAgY29uc3QgcmVjdCA9IG5ldyBSZWN0KHRvcGxlZnQsIGJvdHRvbXJpZ2h0KTtcbiAgICBhcHAuY29sb3JzID0ge307XG4gICAgc2VsZi5tYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5hdHRyKCdmaWxsJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgY29uc3QgaWQgPSBkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dO1xuICAgICAgICBpZiAoaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pIHtcbiAgICAgICAgICBhcHAuY29sb3JzW2lkXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICAgICAgICByZXR1cm4gY29sb3JfaGlnaGxpZ2h0O1xuICAgICAgICB9IGVsc2UgaWYgKHNlbGYuY3VycmVudF9pZHMuaW5kZXhPZihpZCkgPCAwKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbG9yX2Rpc2FibGVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fcHRzKSB7XG4gICAgICAgICAgdGhpcy5fcHRzID0gc3ZnUGF0aFRvQ29vcmRzKHRoaXMuZ2V0QXR0cmlidXRlKCdkJyksIGFwcC50eXBlX3BhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHB0cyA9IHRoaXMuX3B0cztcbiAgICAgICAgZm9yIChsZXQgaXggPSAwLCBuYl9wdHMgPSBwdHMubGVuZ3RoOyBpeCA8IG5iX3B0czsgaXgrKykge1xuICAgICAgICAgIGlmIChyZWN0LmNvbnRhaW5zKHB0c1tpeF0pKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGQucHJvcGVydGllc1tyYXRpb190b191c2VdO1xuICAgICAgICAgICAgY29uc3QgY29sb3IgPSBjb21wKHZhbHVlLCByZWZfdmFsdWUsIHRoaXMuc2VyaWVfaW52ZXJzZWQpO1xuICAgICAgICAgICAgYXBwLmNvbG9yc1tpZF0gPSBjb2xvcjtcbiAgICAgICAgICAgIHJldHVybiBjb2xvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbG9yX2NvdW50cmllcztcbiAgICAgIH0pO1xuICAgIHNlbGYuX2ZvY3VzLnNlbGVjdEFsbCgnLmJhcicpXG4gICAgICAuc3R5bGUoJ2ZpbGwnLCBkID0+IGFwcC5jb2xvcnNbZC5pZF0gfHwgY29sb3JfY291bnRyaWVzKTtcbiAgICBjb25zdCBpZHMgPSBPYmplY3Qua2V5cyhhcHAuY29sb3JzKTtcbiAgICBjb25zdCByYW5rcyA9IGlkcy5tYXAoZCA9PiB0aGlzLmN1cnJlbnRfaWRzLmluZGV4T2YoZC5pZCkgPiAtMSkubWFwKGQgPT4gdGhpcy5jdXJyZW50X3JhbmtzW2RdKTtcbiAgICBpZiAocmFua3MubGVuZ3RoID4gMSkge1xuICAgICAgY29uc3QgYzEgPSByYW5rc1swXSAtIDE7XG4gICAgICBjb25zdCBjMiA9IHJhbmtzW3JhbmtzLmxlbmd0aCAtIDFdO1xuICAgICAgaWYgKGMxIDwgY3VycmVudF9yYW5nZVswXSB8fCBjMiA+IGN1cnJlbnRfcmFuZ2VbMV0pIHtcbiAgICAgICAgY3VycmVudF9yYW5nZSA9IFtcbiAgICAgICAgICByYW5rc1swXSAtIDEsXG4gICAgICAgICAgcmFua3NbcmFua3MubGVuZ3RoIC0gMV0sXG4gICAgICAgIF07XG4gICAgICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfYm90dG9tJykuY2FsbChcbiAgICAgICAgICBzZWxmLmJydXNoX2JvdHRvbS5tb3ZlLFxuICAgICAgICAgIFtjdXJyZW50X3JhbmdlWzBdICogKHdpZHRoIC8gbmJGdCksIGN1cnJlbnRfcmFuZ2VbMV0gKiAod2lkdGggLyBuYkZ0KV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X3JhbmdlID0gWzAsIHRoaXMuZGF0YS5sZW5ndGhdO1xuICAgICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF9ib3R0b20nKS5jYWxsKFxuICAgICAgICBzZWxmLmJydXNoX2JvdHRvbS5tb3ZlLCBzZWxmLngucmFuZ2UoKSk7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlQ2xpY2tNYXAoZCwgcGFyZW50KSB7XG4gICAgY29uc3QgaWQgPSBkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dO1xuICAgIGlmICh0aGlzLmN1cnJlbnRfaWRzLmluZGV4T2YoaWQpIDwgMCB8fCBpZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbikgcmV0dXJuO1xuICAgIGlmIChhcHAuY29sb3JzW2lkXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBhcHAuY29sb3JzW2lkXSA9IHVuZGVmaW5lZDtcbiAgICAgIGQzLnNlbGVjdChwYXJlbnQpLmF0dHIoJ2ZpbGwnLCBjb2xvcl9jb3VudHJpZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBjb2xvciA9IGNvbXAoXG4gICAgICAgIGQucHJvcGVydGllc1t0aGlzLnJhdGlvX3RvX3VzZV0sXG4gICAgICAgIHRoaXMucmVmX3ZhbHVlLFxuICAgICAgICB0aGlzLnNlcmllX2ludmVyc2VkKTtcbiAgICAgIGFwcC5jb2xvcnNbaWRdID0gY29sb3I7XG4gICAgICBkMy5zZWxlY3QocGFyZW50KS5hdHRyKCdmaWxsJywgY29sb3IpO1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG5cbiAgdXBkYXRlQ2hhbmdlUmVnaW9uKCkge1xuICAgIGlmIChhcHAuY3VycmVudF9jb25maWcuZmlsdGVyX2tleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmNoYW5nZVN0dWR5Wm9uZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlZl92YWx1ZSA9IHRoaXMuZGF0YS5maW5kKFxuICAgICAgICBmdCA9PiBmdC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbilbdGhpcy5yYXRpb190b191c2VdO1xuICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgIHRoaXMudXBkYXRlQ29udGV4dCgwLCB0aGlzLmRhdGEubGVuZ3RoKTtcbiAgICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgICAgIHRoaXMudXBkYXRlVGFibGVTdGF0cygpO1xuICAgICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF9ib3R0b20nKS5jYWxsKHRoaXMuYnJ1c2hfYm90dG9tLm1vdmUsIHRoaXMueC5yYW5nZSgpKTtcbiAgICAgIHRoaXMubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gICAgICB0aGlzLm1hcF9lbGVtLnVwZGF0ZUxlZ2VuZCgpO1xuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZU1lYW5WYWx1ZSgpIHtcbiAgICBjb25zdCB5ID0gdGhpcy55O1xuICAgIGNvbnN0IHJhdGlvX3RvX3VzZSA9IHRoaXMucmF0aW9fdG9fdXNlO1xuICAgIGNvbnN0IGdycF9tZWFuID0gdGhpcy5fZm9jdXMuc2VsZWN0KCcubWVhbicpO1xuICAgIHRoaXMubWVhbl92YWx1ZSA9IGdldE1lYW4odGhpcy5kYXRhLm1hcChkID0+IGRbcmF0aW9fdG9fdXNlXSkpO1xuICAgIGdycF9tZWFuLnNlbGVjdCgndGV4dCcpXG4gICAgICAuYXR0cigneScsIHkodGhpcy5tZWFuX3ZhbHVlKSArIDIwKVxuICAgICAgLnRleHQoYFZhbGV1ciBtb3llbm5lIDogJHtNYXRoLnJvdW5kKHRoaXMubWVhbl92YWx1ZSAqIDEwKSAvIDEwfSAke3RoaXMudW5pdH1gKTtcbiAgICBncnBfbWVhbi5zZWxlY3QoJy5tZWFuX2xpbmUnKVxuICAgICAgLmF0dHJzKHsgeTE6IHkodGhpcy5tZWFuX3ZhbHVlKSwgeTI6IHkodGhpcy5tZWFuX3ZhbHVlKSB9KTtcbiAgICBncnBfbWVhbi5zZWxlY3QoJy50cmFuc3BfbWVhbl9saW5lJylcbiAgICAgIC5hdHRycyh7IHkxOiB5KHRoaXMubWVhbl92YWx1ZSksIHkyOiB5KHRoaXMubWVhbl92YWx1ZSkgfSk7XG4gIH1cblxuICBjaGFuZ2VTdHVkeVpvbmUoKSB7XG4gICAgY29uc3QgcmF0aW9fdG9fdXNlID0gdGhpcy5yYXRpb190b191c2U7XG4gICAgdGhpcy5kYXRhID0gYXBwLmN1cnJlbnRfZGF0YS5maWx0ZXIoZnQgPT4gISFmdFtyYXRpb190b191c2VdKTtcbiAgICB0aGlzLnJlZl92YWx1ZSA9IHRoaXMuZGF0YS5maW5kKFxuICAgICAgZnQgPT4gZnQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pW3JhdGlvX3RvX3VzZV07XG4gICAgdGhpcy5jdXJyZW50X3JhbmtzID0gdGhpcy5kYXRhLm1hcCgoZCwgaSkgPT4gaSArIDEpO1xuICAgIGlmICh0aGlzLnNlcmllX2ludmVyc2VkKSB7XG4gICAgICB0aGlzLmRhdGEuc29ydCgoYSwgYikgPT4gYltyYXRpb190b191c2VdIC0gYVtyYXRpb190b191c2VdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kYXRhLnNvcnQoKGEsIGIpID0+IGFbcmF0aW9fdG9fdXNlXSAtIGJbcmF0aW9fdG9fdXNlXSk7XG4gICAgfVxuICAgIHRoaXMuY3VycmVudF9pZHMgPSB0aGlzLmRhdGEubWFwKGQgPT4gZC5pZCk7XG4gICAgbmJGdCA9IHRoaXMuZGF0YS5sZW5ndGg7XG4gICAgdGhpcy5yZWZfdmFsdWUgPSB0aGlzLmRhdGEuZmluZChcbiAgICAgIGZ0ID0+IGZ0LmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVtyYXRpb190b191c2VdO1xuICAgIHRoaXMueC5kb21haW4odGhpcy5jdXJyZW50X2lkcyk7XG4gICAgLy8gY29uc3QgbWluX3NlcmllID0gZDMubWluKHRoaXMuZGF0YSwgZCA9PiBkW3JhdGlvX3RvX3VzZV0pO1xuICAgIGNvbnN0IG1heF9zZXJpZSA9IGQzLm1heCh0aGlzLmRhdGEsIGQgPT4gZFtyYXRpb190b191c2VdKTtcbiAgICAvLyBjb25zdCBvZmZzZXRfeSA9IChtYXhfc2VyaWUgLSBtaW5fc2VyaWUpIC8gMjA7XG4gICAgdGhpcy55LmRvbWFpbihbXG4gICAgICAvLyBtaW5fc2VyaWUgLSBvZmZzZXRfeSwgbWF4X3NlcmllLFxuICAgICAgMCwgbWF4X3NlcmllLFxuICAgIF0pO1xuICAgIHRoaXMueDIuZG9tYWluKHRoaXMueC5kb21haW4oKSk7XG4gICAgdGhpcy55Mi5kb21haW4odGhpcy55LmRvbWFpbigpKTtcbiAgICB0aGlzLnVwZGF0ZU1lYW5WYWx1ZSgpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gICAgdGhpcy51cGRhdGVDb250ZXh0KDAsIHRoaXMuZGF0YS5sZW5ndGgpO1xuXG4gICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF9ib3R0b20nKS5jYWxsKHRoaXMuYnJ1c2hfYm90dG9tLm1vdmUsIHRoaXMueDIucmFuZ2UoKSk7XG4gICAgdGhpcy5tYXBfZWxlbS5yZW1vdmVSZWN0QnJ1c2goKTtcbiAgICBhcHAuY29sb3JzID0ge307XG4gICAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICB0aGlzLnVwZGF0ZVRhYmxlU3RhdHMoKTtcbiAgICB0aGlzLnVwZGF0ZUNvbXBsZXR1ZGUoKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gIH1cblxuICBhZGRWYXJpYWJsZShjb2RlX3ZhcmlhYmxlLCBuYW1lX3ZhcmlhYmxlKSB7XG4gICAgLy8gQWRkIHRoZSB2YXJpYWJsZSB0byB0aGUgaW5wdXQgZWxlbWVudCBhbGxvd2luZyB0byBjaG9vc2UgdmFyaWFibGVzOlxuICAgIHRoaXMuc2VsZWNfdmFyLmFwcGVuZCgnb3B0aW9uJylcbiAgICAgIC5hdHRyKCd2YWx1ZScsIGNvZGVfdmFyaWFibGUpXG4gICAgICAudGV4dChuYW1lX3ZhcmlhYmxlKTtcblxuICAgIC8vIEFuZCB1c2UgaXQgaW1tZWRpYXRseTpcbiAgICB0aGlzLnNlbGVjX3Zhci5ub2RlKCkudmFsdWUgPSBjb2RlX3ZhcmlhYmxlO1xuICAgIHRoaXMuc2VsZWNfdmFyLmRpc3BhdGNoKCdjaGFuZ2UnKTtcbiAgfVxuXG4gIHJlbW92ZVZhcmlhYmxlKGNvZGVfdmFyaWFibGUpIHtcbiAgICAvLyBBZGQgdGhlIHZhcmlhYmxlIHRvIHRoZSBpbnB1dCBlbGVtZW50IGFsbG93aW5nIHRvIGNob29zZSB2YXJpYWJsZXM6XG4gICAgdGhpcy5zZWxlY192YXIuc2VsZWN0KGBvcHRpb25bdmFsdWU9JHtjb2RlX3ZhcmlhYmxlfV1gKS5yZW1vdmUoKTtcbiAgICBpZiAodGhpcy5yYXRpb190b191c2UgPT09IGNvZGVfdmFyaWFibGUpIHtcbiAgICAgIHRoaXMuc2VsZWNfdmFyLm5vZGUoKS52YWx1ZSA9IHRoaXMuc2VsZWNfdmFyLnNlbGVjdCgnb3B0aW9uJykubm9kZSgpLnZhbHVlO1xuICAgICAgdGhpcy5zZWxlY192YXIuZGlzcGF0Y2goJ2NoYW5nZScpO1xuICAgIH1cbiAgfVxuXG4gIGNoYW5nZVZhcmlhYmxlKGNvZGVfdmFyaWFibGUpIHtcbiAgICB0aGlzLnJhdGlvX3RvX3VzZSA9IGNvZGVfdmFyaWFibGU7XG4gICAgdGhpcy51bml0ID0gdmFyaWFibGVzX2luZm8uZmluZChmdCA9PiBmdC5yYXRpbyA9PT0gY29kZV92YXJpYWJsZSkudW5pdDtcbiAgfVxuXG4gIHJlbW92ZSgpIHtcbiAgICB0aGlzLl9mb2N1cy5yZW1vdmUoKTtcbiAgICB0aGlzLmNvbnRleHQucmVtb3ZlKCk7XG4gICAgdGhpcy5zZWxlY192YXIucmVtb3ZlKCk7XG4gICAgdGhpcy50YWJsZV9zdGF0cy5yZW1vdmUoKTtcbiAgICB0aGlzLnRhYmxlX3N0YXRzID0gbnVsbDtcbiAgICB0aGlzLm1hcF9lbGVtLnVuYmluZEJydXNoQ2xpY2soKTtcbiAgICB0aGlzLm1hcF9lbGVtID0gbnVsbDtcbiAgICB0aGlzLmNvbXBsZXR1ZGUucmVtb3ZlKCk7XG4gICAgdGhpcy5jb21wbGV0dWRlID0gbnVsbDtcbiAgICBzdmdfYmFyLmh0bWwoJycpO1xuICB9XG5cbiAgYmluZE1hcChtYXBfZWxlbSkge1xuICAgIHRoaXMubWFwX2VsZW0gPSBtYXBfZWxlbTtcbiAgICB0aGlzLm1hcF9lbGVtLnJlc2V0Q29sb3JzKHRoaXMuY3VycmVudF9pZHMpO1xuICB9XG5cbiAgdXBkYXRlVGFibGVTdGF0cygpIHtcbiAgICB0aGlzLnRhYmxlX3N0YXRzLnJlbW92ZUFsbCgpO1xuICAgIHRoaXMudGFibGVfc3RhdHMuYWRkRmVhdHVyZSh0aGlzLnByZXBhcmVUYWJsZVN0YXQoKSk7XG4gIH1cblxuICBwcmVwYXJlVGFibGVTdGF0KCkge1xuICAgIGNvbnN0IHZhbHVlcyA9IHRoaXMuZGF0YS5tYXAoZCA9PiBkW3RoaXMucmF0aW9fdG9fdXNlXSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIE1pbjogZDMubWluKHZhbHVlcyksXG4gICAgICBNYXg6IGQzLm1heCh2YWx1ZXMpLFxuICAgICAgTW95ZW5uZTogZ2V0TWVhbih2YWx1ZXMpLFxuICAgICAgaWQ6IHRoaXMucmF0aW9fdG9fdXNlLFxuICAgICAgVmFyaWFibGU6IHRoaXMucmF0aW9fdG9fdXNlLFxuICAgICAgJ01hIHLDqWdpb24nOiB0aGlzLnJlZl92YWx1ZSxcbiAgICB9O1xuICB9XG5cbiAgbWFrZVRhYmxlU3RhdCgpIHtcbiAgICBjb25zdCBmZWF0dXJlID0gdGhpcy5wcmVwYXJlVGFibGVTdGF0KCk7XG4gICAgdGhpcy50YWJsZV9zdGF0cyA9IG5ldyBUYWJsZVJlc3VtZVN0YXQoW2ZlYXR1cmVdKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgY29udGV4dE1lbnUge1xuICBjb25zdHJ1Y3RvcihpdGVtcykge1xuICAgIGlmIChpdGVtcykge1xuICAgICAgdGhpcy5zZXRJdGVtcyhpdGVtcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaXRlbXMgPSBbXTtcbiAgICB9XG4gIH1cblxuICBhZGRJdGVtKGl0ZW0pIHtcbiAgICB0aGlzLml0ZW1zLnB1c2goe1xuICAgICAgbmFtZTogaXRlbS5uYW1lLFxuICAgICAgYWN0aW9uOiBpdGVtLmFjdGlvbixcbiAgICB9KTtcbiAgfVxuXG4gIHJlbW92ZUl0ZW0obmFtZSkge1xuICAgIGZvciAobGV0IGkgPSB0aGlzLml0ZW1zLmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHtcbiAgICAgIGlmICh0aGlzLml0ZW1zW2ldLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgdGhpcy5pdGVtcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNldEl0ZW1zKGl0ZW1zKSB7XG4gICAgdGhpcy5pdGVtcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwLCBuYl9pdGVtcyA9IGl0ZW1zLmxlbmd0aDsgaSA8IG5iX2l0ZW1zOyBpKyspIHtcbiAgICAgIGlmIChpdGVtc1tpXS5uYW1lICYmIGl0ZW1zW2ldLmFjdGlvbikge1xuICAgICAgICB0aGlzLmFkZEl0ZW0oaXRlbXNbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNob3dNZW51KGV2ZW50LCBwYXJlbnQsIGl0ZW1zLCBwb3NpdGlvbikge1xuICAgIGlmIChldmVudC5wcmV2ZW50RGVmYXVsdCkgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoZXZlbnQuc3RvcFByb3BhZ2F0aW9uKSBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpZiAodGhpcy5ET01vYmopIHtcbiAgICAgIHRoaXMuaGlkZU1lbnUoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGl0ZW1zKSB7XG4gICAgICB0aGlzLnNldEl0ZW1zKGl0ZW1zKTtcbiAgICB9XG5cbiAgICB0aGlzLmluaXRNZW51KHBhcmVudCk7XG4gICAgaWYgKCFwb3NpdGlvbikge1xuICAgICAgdGhpcy5ET01vYmouc3R5bGUudG9wID0gYCR7ZXZlbnQuY2xpZW50WSArIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wfXB4YDtcbiAgICAgIHRoaXMuRE9Nb2JqLnN0eWxlLmxlZnQgPSBgJHtldmVudC5jbGllbnRYfXB4YDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5ET01vYmouc3R5bGUudG9wID0gYCR7cG9zaXRpb25bMV19cHhgO1xuICAgICAgdGhpcy5ET01vYmouc3R5bGUubGVmdCA9IGAke3Bvc2l0aW9uWzBdfXB4YDtcbiAgICB9XG4gICAgdGhpcy5kaXNwbGF5ZWQgPSB0cnVlO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmhpZGVNZW51KCkpO1xuICAgIH0sIDE1MCk7XG4gIH1cblxuICBoaWRlTWVudSgpIHtcbiAgICBpZiAodGhpcy5ET01vYmogJiYgdGhpcy5ET01vYmoucGFyZW50RWxlbWVudCAmJiB0aGlzLkRPTW9iai5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKSB7XG4gICAgICB0aGlzLkRPTW9iai5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuRE9Nb2JqKTtcbiAgICAgIHRoaXMuRE9Nb2JqID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5kaXNwbGF5ZWQgPSBmYWxzZTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGlkZU1lbnUpO1xuICB9XG5cbiAgaW5pdE1lbnUocGFyZW50KSB7XG4gICAgaWYgKHRoaXMuRE9Nb2JqICYmIHRoaXMuRE9Nb2JqLnBhcmVudEVsZW1lbnQgJiYgdGhpcy5ET01vYmoucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCkge1xuICAgICAgdGhpcy5ET01vYmoucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLkRPTW9iaik7XG4gICAgICB0aGlzLkRPTW9iaiA9IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IG1lbnUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdCBsaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcbiAgICBtZW51LmNsYXNzTmFtZSA9ICdjb250ZXh0LW1lbnUnO1xuICAgIG1lbnUuYXBwZW5kQ2hpbGQobGlzdCk7XG4gICAgZm9yIChsZXQgaSA9IDAsIG5iX2l0ZW0gPSB0aGlzLml0ZW1zLmxlbmd0aDsgaSA8IG5iX2l0ZW07IGkrKykge1xuICAgICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcsIGkpO1xuICAgICAgaXRlbS5pbm5lckhUTUwgPSBgPHNwYW4gY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS1uYW1lXCI+JHt0aGlzLml0ZW1zW2ldLm5hbWV9PC9zcGFuPmA7XG4gICAgICBsaXN0LmFwcGVuZENoaWxkKGl0ZW0pO1xuICAgICAgaXRlbS5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBpeCA9IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4Jyk7XG4gICAgICAgIHNlbGYuaXRlbXNbaXhdLmFjdGlvbigpO1xuICAgICAgfTtcbiAgICB9XG4gICAgdGhpcy5ET01vYmogPSBtZW51O1xuICAgIHBhcmVudC5hcHBlbmRDaGlsZChtZW51KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgUmVjdCwgY29tcDIsIHByZXBhcmVUb29sdGlwLCBzdmdQYXRoVG9Db29yZHMsIF9nZXRQUiwgY29tcHV0ZVBlcmNlbnRpbGVSYW5rLCBnZXRNZWFuIH0gZnJvbSAnLi8uLi9oZWxwZXJzJztcbmltcG9ydCB7IGNvbG9yX2Rpc2FibGVkLCBjb2xvcl9jb3VudHJpZXMsIGNvbG9yX2hpZ2hsaWdodCB9IGZyb20gJy4vLi4vb3B0aW9ucyc7XG5pbXBvcnQgeyBjYWxjUG9wQ29tcGxldHVkZVN1YnNldCwgY2FsY0NvbXBsZXR1ZGVTdWJzZXQgfSBmcm9tICcuLy4uL3ByZXBhcmVfZGF0YSc7XG5pbXBvcnQgeyBzdmdfbWFwIH0gZnJvbSAnLi8uLi9tYXAnO1xuaW1wb3J0IHsgYXBwLCB2YXJpYWJsZXNfaW5mbywgcmVzZXRDb2xvcnMgfSBmcm9tICcuLy4uLy4uL21haW4nO1xuaW1wb3J0IENvbnRleHRNZW51IGZyb20gJy4vLi4vY29udGV4dE1lbnUnO1xuaW1wb3J0IENvbXBsZXR1ZGVTZWN0aW9uIGZyb20gJy4vLi4vY29tcGxldHVkZSc7XG5pbXBvcnQgVGFibGVSZXN1bWVTdGF0IGZyb20gJy4vLi4vdGFibGVSZXN1bWVTdGF0JztcblxuY29uc3Qgc3ZnX2JhciA9IGQzLnNlbGVjdCgnI3N2Z19iYXInKTtcbmNvbnN0IG1hcmdpbiA9IHsgdG9wOiAyMCwgcmlnaHQ6IDIwLCBib3R0b206IDQwLCBsZWZ0OiA0MCB9O1xuXG5jb25zdCB3aWR0aCA9ICtzdmdfYmFyLmF0dHIoJ3dpZHRoJykgLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodCxcbiAgaGVpZ2h0ID0gK3N2Z19iYXIuYXR0cignaGVpZ2h0JykgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcblxuLyoqIENsYXNzIHJlcHJlc2VudGluZyBhIHNjYXR0ZXJwbG90ICovXG5leHBvcnQgY2xhc3MgU2NhdHRlclBsb3QyIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIHRoZSBzY2F0dGVycGxvdCBvbiB0aGUgYHN2Z19iYXJgIHN2ZyBlbGVtZW50IHByZXZpb3VzbHkgZGVmaW5lZFxuICAgKiBAcGFyYW0ge0FycmF5fSByZWZfZGF0YSAtIEEgcmVmZXJlbmNlIHRvIHRoZSBzdWJzZXQgb2YgdGhlIGRhdGFzZXQgdG8gYmUgdXNlZFxuICAgKiB0byBjcmVhdGUgdGhlIHNjYXR0ZXJwbG90IChzaG91bGQgY29udGFpbiBhdCBsZWFzdCB0d28gZmllbGQgZmxhZ2dlZCBhcyByYXRpb1xuICAgKiBpbiB0aGUgYGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpb2AgT2JqZWN0KS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHJlZl9kYXRhKSB7XG4gICAgdGhpcy5icnVzaGVkID0gKCkgPT4ge1xuICAgICAgaWYgKGQzLmV2ZW50ICYmICFkMy5ldmVudC5zZWxlY3Rpb24pIHtcbiAgICAgICAgaWYgKGQzLmV2ZW50LnR5cGUgPT09ICdlbmQnICYmIGQzLmV2ZW50LnNvdXJjZUV2ZW50LnR5cGUgPT09ICdtb3VzZXVwJykge1xuICAgICAgICAgIHRoaXMubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgYXBwLmNvbG9ycyA9IHt9O1xuICAgICAgICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgICAgICB0aGlzLnVwZGF0ZUxpZ2h0KCk7XG4gICAgICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByZXNldENvbG9ycygpO1xuICAgICAgLy8gY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICBjb25zdCBbdG9wbGVmdCwgYm90dG9tcmlnaHRdID0gZDMuZXZlbnQuc2VsZWN0aW9uO1xuICAgICAgY29uc3QgcmFuZ2VfeCA9IFtcbiAgICAgICAgdGhpcy54LmludmVydCh0b3BsZWZ0WzBdKSxcbiAgICAgICAgdGhpcy54LmludmVydChib3R0b21yaWdodFswXSksXG4gICAgICBdO1xuICAgICAgY29uc3QgcmFuZ2VfeSA9IFtcbiAgICAgICAgdGhpcy55LmludmVydChib3R0b21yaWdodFsxXSksXG4gICAgICAgIHRoaXMueS5pbnZlcnQodG9wbGVmdFsxXSksXG4gICAgICBdO1xuICAgICAgaWYgKHRoaXMueEludmVyc2VkKSByYW5nZV94LnJldmVyc2UoKTtcbiAgICAgIGlmICh0aGlzLnlJbnZlcnNlZCkgcmFuZ2VfeS5yZXZlcnNlKCk7XG4gICAgICBsZXQgdDE7XG4gICAgICBsZXQgdDI7XG4gICAgICBpZiAodGhpcy50eXBlID09PSAndmFsdWUnKSB7XG4gICAgICAgIHQxID0gdGhpcy52YXJpYWJsZTE7XG4gICAgICAgIHQyID0gdGhpcy52YXJpYWJsZTI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0MSA9IHRoaXMucmFua192YXJpYWJsZTE7XG4gICAgICAgIHQyID0gdGhpcy5yYW5rX3ZhcmlhYmxlMjtcbiAgICAgIH1cblxuICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gdGhpcy5kYXRhLmxlbmd0aDsgaSA8IGxlbl9pOyBpKyspIHtcbiAgICAgICAgY29uc3QgZnQgPSB0aGlzLmRhdGFbaV07XG4gICAgICAgIGlmIChmdFt0MV0gPiByYW5nZV94WzBdICYmIGZ0W3QxXSA8IHJhbmdlX3hbMV1cbiAgICAgICAgICAgICYmIGZ0W3QyXSA+IHJhbmdlX3lbMF0gJiYgZnRbdDJdIDwgcmFuZ2VfeVsxXSkge1xuICAgICAgICAgIGFwcC5jb2xvcnNbZnQuaWRdID0gY29tcDIoXG4gICAgICAgICAgICBmdFt0aGlzLnZhcmlhYmxlMV0sIGZ0W3RoaXMudmFyaWFibGUyXSxcbiAgICAgICAgICAgIHRoaXMucmVmX3ZhbHVlMSwgdGhpcy5yZWZfdmFsdWUyLFxuICAgICAgICAgICAgdGhpcy54SW52ZXJzZWQsIHRoaXMueUludmVyc2VkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICAgIHRoaXMudXBkYXRlTGlnaHQoKTtcbiAgICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgICAgIHRoaXMubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gICAgfTtcblxuICAgIC8vIFNldCB0aGUgbWluaW11bSBudW1iZXIgb2YgdmFyaWFibGVzIHRvIGtlZXAgc2VsZWN0ZWQgZm9yIHRoaXMga2luZCBvZiBjaGFydDpcbiAgICBhcHAuY3VycmVudF9jb25maWcubmJfdmFyID0gMjtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICB0aGlzLnR5cGUgPSAncmFuayc7XG4gICAgdGhpcy52YXJpYWJsZTEgPSBhcHAuY3VycmVudF9jb25maWcucmF0aW9bMF07XG4gICAgdGhpcy52YXJpYWJsZTIgPSBhcHAuY3VycmVudF9jb25maWcucmF0aW9bMV07XG4gICAgdGhpcy5yYW5rX3ZhcmlhYmxlMSA9IGBwcl8ke3RoaXMudmFyaWFibGUxfWA7XG4gICAgdGhpcy5yYW5rX3ZhcmlhYmxlMiA9IGBwcl8ke3RoaXMudmFyaWFibGUyfWA7XG4gICAgdGhpcy51bml0MSA9IHZhcmlhYmxlc19pbmZvLmZpbmQoZnQgPT4gZnQucmF0aW8gPT09IHRoaXMudmFyaWFibGUxKS51bml0O1xuICAgIHRoaXMudW5pdDIgPSB2YXJpYWJsZXNfaW5mby5maW5kKGZ0ID0+IGZ0LnJhdGlvID09PSB0aGlzLnZhcmlhYmxlMikudW5pdDtcbiAgICB0aGlzLnByZXR0eV9uYW1lMSA9IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpb19wcmV0dHlfbmFtZVswXTtcbiAgICB0aGlzLnByZXR0eV9uYW1lMiA9IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpb19wcmV0dHlfbmFtZVsxXTtcbiAgICB0aGlzLmRhdGEgPSByZWZfZGF0YS5maWx0ZXIoZnQgPT4gISFmdFt0aGlzLnZhcmlhYmxlMV0gJiYgISFmdFt0aGlzLnZhcmlhYmxlMl0pXG4gICAgICAubWFwKChkKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcyA9IHsgaWQ6IGQuaWQgfTtcbiAgICAgICAgcmVzW3RoaXMudmFyaWFibGUxXSA9IGRbdGhpcy52YXJpYWJsZTFdO1xuICAgICAgICByZXNbdGhpcy52YXJpYWJsZTJdID0gZFt0aGlzLnZhcmlhYmxlMl07XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgICB9KTtcbiAgICB0aGlzLmN1cnJlbnRfaWRzID0gdGhpcy5kYXRhLm1hcChkID0+IGQuaWQpO1xuICAgIHJlc2V0Q29sb3JzKHRoaXMuY3VycmVudF9pZHMpO1xuICAgIHRoaXMubmJGdCA9IHRoaXMuZGF0YS5sZW5ndGg7XG4gICAgY29tcHV0ZVBlcmNlbnRpbGVSYW5rKHRoaXMuZGF0YSwgdGhpcy52YXJpYWJsZTEsIHRoaXMucmFua192YXJpYWJsZTEpO1xuICAgIGNvbXB1dGVQZXJjZW50aWxlUmFuayh0aGlzLmRhdGEsIHRoaXMudmFyaWFibGUyLCB0aGlzLnJhbmtfdmFyaWFibGUyKTtcblxuICAgIHRoaXMueCA9IGQzLnNjYWxlTGluZWFyKClcbiAgICAgIC5yYW5nZShbMCwgd2lkdGhdKVxuICAgICAgLm5pY2UoKTtcbiAgICB0aGlzLnkgPSBkMy5zY2FsZUxpbmVhcigpXG4gICAgICAucmFuZ2UoW2hlaWdodCwgMF0pXG4gICAgICAubmljZSgpO1xuICAgIHRoaXMueEF4aXMgPSBkMy5heGlzQm90dG9tKHRoaXMueCkudGlja3MoMTIpO1xuICAgIHRoaXMueUF4aXMgPSBkMy5heGlzTGVmdCh0aGlzLnkpLnRpY2tzKDEyICogaGVpZ2h0IC8gd2lkdGgpO1xuICAgIHRoaXMueEF4aXMyID0gZDMuYXhpc0JvdHRvbSh0aGlzLngpLnRpY2tzKDEyKTtcbiAgICB0aGlzLnlBeGlzMiA9IGQzLmF4aXNMZWZ0KHRoaXMueSkudGlja3MoMTIgKiBoZWlnaHQgLyB3aWR0aCk7XG5cbiAgICB0aGlzLmJydXNoID0gZDMuYnJ1c2goKVxuICAgICAgLmV4dGVudChbWzAsIDBdLCBbd2lkdGgsIGhlaWdodF1dKVxuICAgICAgLm9uKCdicnVzaCBlbmQnLCB0aGlzLmJydXNoZWQpO1xuXG4gICAgdGhpcy54SW52ZXJzZWQgPSBmYWxzZTtcbiAgICB0aGlzLnlJbnZlcnNlZCA9IGZhbHNlO1xuICAgIHRoaXMucmVmX3ZhbHVlMSA9IHRoaXMuZGF0YS5maW5kKFxuICAgICAgZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVt0aGlzLnZhcmlhYmxlMV07XG4gICAgdGhpcy5yZWZfdmFsdWUyID0gdGhpcy5kYXRhLmZpbmQoXG4gICAgICBkID0+IGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pW3RoaXMudmFyaWFibGUyXTtcblxuICAgIHRoaXMucGxvdCA9IHN2Z19iYXIuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7W21hcmdpbi5sZWZ0LCBtYXJnaW4udG9wXX0pYCk7XG5cbiAgICB0aGlzLnBsb3QuYXBwZW5kKCdkZWZzJylcbiAgICAgIC5hcHBlbmQoJ3N2ZzpjbGlwUGF0aCcpXG4gICAgICAuYXR0cignaWQnLCAnY2xpcCcpXG4gICAgICAuYXBwZW5kKCdzdmc6cmVjdCcpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0LFxuICAgICAgICB4OiAwLFxuICAgICAgICB5OiAwLFxuICAgICAgfSk7XG5cbiAgICB0aGlzLnNjYXR0ZXIgPSB0aGlzLnBsb3QuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdpZCcsICdzY2F0dGVycGxvdCcpXG4gICAgICAuYXR0cignY2xpcC1wYXRoJywgJ3VybCgjY2xpcCknKTtcblxuICAgIHRoaXMuc2NhdHRlci5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2JydXNoJylcbiAgICAgIC5jYWxsKHRoaXMuYnJ1c2gpO1xuXG4gICAgdGhpcy5tYWtlR3JpZCgpO1xuXG4gICAgY29uc3QgZ3JvdXBlX2xpbmVfbWVhbiA9IHRoaXMucGxvdC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2NsaXAtcGF0aCcsICd1cmwoI2NsaXApJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdtZWFuJyk7XG4gICAgZ3JvdXBlX2xpbmVfbWVhbi5hcHBlbmQoJ2xpbmUnKVxuICAgICAgLmF0dHIoJ2NsaXAtcGF0aCcsICd1cmwoI2NsaXApJylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIGlkOiAnbWVhbl94JyxcbiAgICAgICAgeDE6IHRoaXMueCh0aGlzLm1lYW5fdmFyaWFibGUxKSxcbiAgICAgICAgeDI6IHRoaXMueCh0aGlzLm1lYW5fdmFyaWFibGUxKSxcbiAgICAgICAgeTE6IDAsXG4gICAgICAgIHkyOiB3aWR0aCxcbiAgICAgICAgJ3N0cm9rZS1kYXNoYXJyYXknOiAnMTAsIDUnLFxuICAgICAgICAnc3Ryb2tlLXdpZHRoJzogJzJweCcsXG4gICAgICB9KVxuICAgICAgLnN0eWxlKCdzdHJva2UnLCAncmVkJyk7XG4gICAgZ3JvdXBlX2xpbmVfbWVhbi5hcHBlbmQoJ2xpbmUnKVxuICAgICAgLnN0eWxlKCdzdHJva2UnLCAncmVkJylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIGlkOiAnbWVhbl95JyxcbiAgICAgICAgeDE6IDAsXG4gICAgICAgIHgyOiB3aWR0aCxcbiAgICAgICAgeTE6IHRoaXMueSh0aGlzLm1lYW5fdmFyaWFibGUyKSxcbiAgICAgICAgeTI6IHRoaXMueSh0aGlzLm1lYW5fdmFyaWFibGUyKSxcbiAgICAgICAgJ2NsaXAtcGF0aCc6ICd1cmwoI2NsaXApJyxcbiAgICAgICAgJ3N0cm9rZS1kYXNoYXJyYXknOiAnMTAsIDUnLFxuICAgICAgICAnc3Ryb2tlLXdpZHRoJzogJzJweCcsXG4gICAgICB9KTtcblxuICAgIHRoaXMucGxvdC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgY2xhc3M6ICd4IGF4aXMnLCBpZDogJ2F4aXMtLXgnLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoMCwgJHtoZWlnaHR9KWAsXG4gICAgICB9KVxuICAgICAgLmNhbGwodGhpcy54QXhpcyk7XG5cbiAgICB0aGlzLnBsb3QuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAneSBheGlzJywgaWQ6ICdheGlzLS15Jywgb3BhY2l0eTogMC45IH0pXG4gICAgICAuY2FsbCh0aGlzLnlBeGlzKTtcblxuICAgIC8vIFByZXBhcmUgdGhlIHRvb2x0aXAgZGlzcGxheWVkIG9uIG1vdXNlb3ZlcjpcbiAgICBwcmVwYXJlVG9vbHRpcCh0aGlzLnBsb3QpO1xuXG4gICAgdGhpcy5wcmVwYXJlVGl0bGVBeGlzKCk7XG5cbiAgICBzdmdfYmFyLmFwcGVuZCgnaW1hZ2UnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgeDogbWFyZ2luLmxlZnQgKyB3aWR0aCAvIDIgLSAyMCAtIHN2Z19iYXIuc2VsZWN0KCcjdGl0bGUtYXhpcy14Jykubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoIC8gMixcbiAgICAgICAgeTogbWFyZ2luLnRvcCArIGhlaWdodCArIG1hcmdpbi5ib3R0b20gLyAyIC0gMi41LFxuICAgICAgICB3aWR0aDogMTUsXG4gICAgICAgIGhlaWdodDogMTUsXG4gICAgICAgICd4bGluazpocmVmJzogJ2ltZy9yZXZlcnNlX3BsdXMucG5nJyxcbiAgICAgICAgaWQ6ICdpbWdfcmV2ZXJzZV94JyxcbiAgICAgIH0pXG4gICAgICAub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLnhJbnZlcnNlZCA9ICF0aGlzLnhJbnZlcnNlZDtcbiAgICAgICAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm5iRnQ7IGkrKykge1xuICAgICAgICAvLyAgIHNlbGYuZGF0YVtpXVtzZWxmLnJhbmtfdmFyaWFibGUxXSA9IDEwMCAtIHNlbGYuZGF0YVtpXVtzZWxmLnJhbmtfdmFyaWFibGUxXTtcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIGlmICh0aGlzLmxhc3RfbWFwX3NlbGVjdGlvbikge1xuICAgICAgICAgIHRoaXMubWFwX2VsZW0uY2FsbEJydXNoKHRoaXMubGFzdF9tYXBfc2VsZWN0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIHN2Z19iYXIuYXBwZW5kKCdpbWFnZScpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICB4OiBtYXJnaW4ubGVmdCAvIDIgLSAyMCxcbiAgICAgICAgeTogbWFyZ2luLnRvcCArIChoZWlnaHQgLyAyKSArIHN2Z19iYXIuc2VsZWN0KCcjdGl0bGUtYXhpcy15Jykubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCAvIDIgKyA1LFxuICAgICAgICB3aWR0aDogMTUsXG4gICAgICAgIGhlaWdodDogMTUsXG4gICAgICAgICd4bGluazpocmVmJzogJ2ltZy9yZXZlcnNlX3BsdXMucG5nJyxcbiAgICAgICAgaWQ6ICdpbWdfcmV2ZXJzZV95JyxcbiAgICAgIH0pXG4gICAgICAub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLnlJbnZlcnNlZCA9ICF0aGlzLnlJbnZlcnNlZDtcbiAgICAgICAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm5iRnQ7IGkrKykge1xuICAgICAgICAvLyAgIHRoaXMuZGF0YVtpXVt0aGlzLnJhbmtfdmFyaWFibGUyXSA9IDEwMCAtIHRoaXMuZGF0YVtpXVt0aGlzLnJhbmtfdmFyaWFibGUyXTtcbiAgICAgICAgLy8gfVxuICAgICAgICBpZiAodGhpcy5sYXN0X21hcF9zZWxlY3Rpb24pIHtcbiAgICAgICAgICB0aGlzLm1hcF9lbGVtLmNhbGxCcnVzaCh0aGlzLmxhc3RfbWFwX3NlbGVjdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICB0aGlzLmNvbXBsZXR1ZGUgPSBuZXcgQ29tcGxldHVkZVNlY3Rpb24oc3ZnX2Jhci5ub2RlKCkucGFyZW50RWxlbWVudCk7XG4gICAgdGhpcy5jb21wbGV0dWRlLnVwZGF0ZShcbiAgICAgIGNhbGNDb21wbGV0dWRlU3Vic2V0KGFwcCwgW3RoaXMudmFyaWFibGUxLCB0aGlzLnZhcmlhYmxlMl0sICdhcnJheScpLFxuICAgICAgY2FsY1BvcENvbXBsZXR1ZGVTdWJzZXQoYXBwLCBbdGhpcy52YXJpYWJsZTEsIHRoaXMudmFyaWFibGUyXSkpO1xuXG4gICAgLy8gRGVhY3RpdmF0ZSB0aGUgcmVjdCBicnVzaCBzZWxlY3Rpb24gb24gdGhlIG1hcFxuICAgIC8vIHdoaWxlIHRoZSB1c2VyIHByZXNzIHRoZSBDdHJsIGtleTpcbiAgICBkb2N1bWVudC5vbmtleWRvd24gPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudCAmJiBldmVudC5rZXkgPT09ICdDb250cm9sJykge1xuICAgICAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpXG4gICAgICAgICAgLnNlbGVjdEFsbCgnLnNlbGVjdGlvbiwgLm92ZXJsYXknKVxuICAgICAgICAgIC5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICAvLyBSZWFjdGl2YXRlIHRoZSByZWN0IGJydXNoIHNlbGVjdGlvbiBvbiB0aGUgbWFwXG4gICAgLy8gd2hlbiB0aGUgdXNlciBkb2Vzbid0IHByZXNzIHRoZSBDdHJsIGtleSBhbnltb3JlXG4gICAgZG9jdW1lbnQub25rZXl1cCA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50LmtleSA9PT0gJ0NvbnRyb2wnKSB7XG4gICAgICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJylcbiAgICAgICAgICAuc2VsZWN0QWxsKCcuc2VsZWN0aW9uLCAub3ZlcmxheScpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IG1lbnVfc2VsZWN0aW9uID0gZDMuc2VsZWN0KHN2Z19iYXIubm9kZSgpLnBhcmVudEVsZW1lbnQpXG4gICAgICAuYXBwZW5kKCdkaXYnKVxuICAgICAgLmF0dHIoJ2lkJywgJ21lbnVfc2VsZWN0aW9uJylcbiAgICAgIC5zdHlsZXMoeyB0b3A6ICctMjBweCcsICdtYXJnaW4tbGVmdCc6ICczMHB4JywgcG9zaXRpb246ICdyZWxhdGl2ZScgfSk7XG5cbiAgICBjb25zdCBjaGFydF90eXBlID0gbWVudV9zZWxlY3Rpb24uYXBwZW5kKCdwJylcbiAgICAgIC5zdHlsZXMoe1xuICAgICAgICBmbG9hdDogJ3JpZ2h0JyxcbiAgICAgICAgZGlzcGxheTogJ2lubGluZS1ncmlkJyxcbiAgICAgIH0pO1xuXG4gICAgY2hhcnRfdHlwZS5hcHBlbmQoJ3NwYW4nKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgaWQ6ICdpbmRfcmF3X3ZhbHVlcycsXG4gICAgICAgIGNsYXNzOiAnY2hvaWNlX2luZCcsXG4gICAgICB9KVxuICAgICAgLnRleHQoJ1ZhbGV1cnMgYnJ1dGVzJyk7XG5cbiAgICBjaGFydF90eXBlLmFwcGVuZCgnc3BhbicpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICBpZDogJ2luZF9yYW5rcycsXG4gICAgICAgIGNsYXNzOiAnY2hvaWNlX2luZCBhY3RpdmUnLFxuICAgICAgfSlcbiAgICAgIC50ZXh0KCdWYWxldXJzIGRlIHJhbmcnKTtcblxuICAgIHRoaXMuYmluZE1lbnUoKTtcblxuICAgIC8vIHRoaXMudXBkYXRlKCk7XG4gICAgdGhpcy5tYWtlVGFibGVTdGF0KCk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIHRoZSB1bmRlcmx5aW5nIGdyZXkgZ3JpZFxuICAgKi9cbiAgbWFrZUdyaWQoKSB7XG4gICAgdGhpcy5wbG90Lmluc2VydCgnZycsICcjc2NhdHRlcnBsb3QnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgY2xhc3M6ICdncmlkIGdyaWQteCcsIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgwLCAke2hlaWdodH0pYCxcbiAgICAgIH0pXG4gICAgICAuY2FsbCh0aGlzLnhBeGlzMlxuICAgICAgICAudGlja1NpemUoLWhlaWdodClcbiAgICAgICAgLnRpY2tGb3JtYXQoJycpKTtcbiAgICB0aGlzLnBsb3QuaW5zZXJ0KCdnJywgJyNzY2F0dGVycGxvdCcpXG4gICAgICAuYXR0cignY2xhc3MnLCAnZ3JpZCBncmlkLXknKVxuICAgICAgLmNhbGwodGhpcy55QXhpczJcbiAgICAgICAgLnRpY2tTaXplKC13aWR0aClcbiAgICAgICAgLnRpY2tGb3JtYXQoJycpKTtcbiAgfVxuXG5cbiAgdXBkYXRlQXhpc0dyaWQoKSB7XG4gICAgdGhpcy5wbG90LnNlbGVjdCgnLmdyaWQteCcpXG4gICAgICAudHJhbnNpdGlvbigpXG4gICAgICAuZHVyYXRpb24oMTI1KVxuICAgICAgLmNhbGwodGhpcy54QXhpczIudGlja1NpemUoLWhlaWdodCkudGlja0Zvcm1hdCgnJykpO1xuICAgIHRoaXMucGxvdC5zZWxlY3QoJy5ncmlkLXknKVxuICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgLmR1cmF0aW9uKDEyNSlcbiAgICAgIC5jYWxsKHRoaXMueUF4aXMyLnRpY2tTaXplKC13aWR0aCkudGlja0Zvcm1hdCgnJykpO1xuICAgIHRoaXMucGxvdC5zZWxlY3QoJyNheGlzLS14JylcbiAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgIC5kdXJhdGlvbigxMjUpXG4gICAgICAuY2FsbCh0aGlzLnhBeGlzKTtcbiAgICB0aGlzLnBsb3Quc2VsZWN0KCcjYXhpcy0teScpXG4gICAgICAudHJhbnNpdGlvbigpXG4gICAgICAuZHVyYXRpb24oMTI1KVxuICAgICAgLmNhbGwodGhpcy55QXhpcyk7XG4gICAgdGhpcy5wbG90LnNlbGVjdEFsbCgnLmdyaWQnKVxuICAgICAgLnNlbGVjdEFsbCgnbGluZScpXG4gICAgICAuYXR0cignc3Ryb2tlJywgJ2xpZ2h0Z3JheScpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSB0aGUgdGl0bGUgb2YgdGhlIFggYW5kIFkgYXhpcyB3aXRoIHRoZSBhc3NvY2lhdGVkIGNvbnRleHQgbWVudVxuICAgKiBkaXNwbGF5ZWQgd2hlbiB0aGV5IGFyZSBjbGlja2VkIGFuZCBhbGxvd2luZyB0byBzZWxlY3QgYW4gb3RoZXIgdmFyaWFibGVcbiAgICogZm9yIHRoaXMgYXhpcy5cbiAgICovXG4gIHByZXBhcmVUaXRsZUF4aXMoKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5tZW51WCA9IG5ldyBDb250ZXh0TWVudSgpO1xuICAgIHRoaXMubWVudVkgPSBuZXcgQ29udGV4dE1lbnUoKTtcbiAgICB0aGlzLml0ZW1zWCA9IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpby5maWx0ZXIoZWxlbSA9PiBlbGVtICE9PSB0aGlzLnZhcmlhYmxlMilcbiAgICAgIC5tYXAoZWxlbSA9PiAoe1xuICAgICAgICBuYW1lOiBlbGVtLFxuICAgICAgICBhY3Rpb246ICgpID0+IHRoaXMuY2hhbmdlVmFyaWFibGVYKGVsZW0pLFxuICAgICAgfSkpO1xuICAgIHRoaXMuaXRlbXNZID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvLmZpbHRlcihlbGVtID0+IGVsZW0gIT09IHRoaXMudmFyaWFibGUxKVxuICAgICAgLm1hcChlbGVtID0+ICh7XG4gICAgICAgIG5hbWU6IGVsZW0sXG4gICAgICAgIGFjdGlvbjogKCkgPT4gdGhpcy5jaGFuZ2VWYXJpYWJsZVkoZWxlbSksXG4gICAgICB9KSk7XG5cbiAgICBzdmdfYmFyLmFwcGVuZCgndGV4dCcpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICBpZDogJ3RpdGxlLWF4aXMteCcsXG4gICAgICAgIHg6IG1hcmdpbi5sZWZ0ICsgd2lkdGggLyAyLFxuICAgICAgICB5OiBtYXJnaW4udG9wICsgaGVpZ2h0ICsgbWFyZ2luLmJvdHRvbSAvIDIgKyAxMCxcbiAgICAgIH0pXG4gICAgICAuc3R5bGVzKHsgJ2ZvbnQtZmFtaWx5JzogJ3NhbnMtc2VyaWYnLCAnZm9udC1zaXplJzogJzEycHgnLCAndGV4dC1hbmNob3InOiAnbWlkZGxlJyB9KVxuICAgICAgLnRleHQodGhpcy52YXJpYWJsZTEpXG4gICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBiYm94ID0gdGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgaWYgKHNlbGYubWVudVkuZGlzcGxheWVkKSB7XG4gICAgICAgICAgc2VsZi5tZW51WS5oaWRlTWVudSgpO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYubWVudVguc2hvd01lbnUoZDMuZXZlbnQsIGRvY3VtZW50LmJvZHksIHNlbGYuaXRlbXNYLCBbYmJveC5sZWZ0IC0gMjAsIGJib3gudG9wICsgMjBdKTtcbiAgICAgIH0pO1xuXG4gICAgc3ZnX2Jhci5hcHBlbmQoJ3RleHQnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgaWQ6ICd0aXRsZS1heGlzLXknLFxuICAgICAgICB4OiBtYXJnaW4ubGVmdCAvIDIsXG4gICAgICAgIHk6IG1hcmdpbi50b3AgKyAoaGVpZ2h0IC8gMikgLSAxMCxcbiAgICAgICAgdHJhbnNmb3JtOiBgcm90YXRlKC05MCwgJHttYXJnaW4ubGVmdCAvIDJ9LCAke21hcmdpbi50b3AgKyAoaGVpZ2h0IC8gMil9KWAsXG4gICAgICB9KVxuICAgICAgLnN0eWxlcyh7ICdmb250LWZhbWlseSc6ICdzYW5zLXNlcmlmJywgJ2ZvbnQtc2l6ZSc6ICcxMnB4JywgJ3RleHQtYW5jaG9yJzogJ21pZGRsZScgfSlcbiAgICAgIC50ZXh0KHRoaXMudmFyaWFibGUyKVxuICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgYmJveCA9IHRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGlmIChzZWxmLm1lbnVYLmRpc3BsYXllZCkge1xuICAgICAgICAgIHNlbGYubWVudVguaGlkZU1lbnUoKTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLm1lbnVZLnNob3dNZW51KGQzLmV2ZW50LCBkb2N1bWVudC5ib2R5LCBzZWxmLml0ZW1zWSwgW2Jib3gubGVmdCwgYmJveC5ib3R0b20gKyAxMF0pO1xuICAgICAgfSk7XG4gIH1cblxuICB1cGRhdGVMaWdodCgpIHtcbiAgICBjb25zdCBkZWZhdWx0X2NvbG9yID0gJ2dyYXknO1xuICAgIHRoaXMuc2NhdHRlci5zZWxlY3RBbGwoJy5kb3QnKVxuICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgLmR1cmF0aW9uKDEyNSlcbiAgICAgIC5zdHlsZXMoZCA9PiAoe1xuICAgICAgICBmaWxsOiBhcHAuY29sb3JzW2QuaWRdIHx8IGRlZmF1bHRfY29sb3IsXG4gICAgICB9KSk7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZGF0YSA9IHNlbGYuZGF0YTtcblxuICAgIGlmICh0aGlzLnR5cGUgPT09ICdyYW5rJykge1xuICAgICAgY29uc3QgcmFua192YXJpYWJsZTEgPSB0aGlzLnJhbmtfdmFyaWFibGUxO1xuICAgICAgY29uc3QgcmFua192YXJpYWJsZTIgPSB0aGlzLnJhbmtfdmFyaWFibGUyO1xuICAgICAgY29uc3QgcmFuZ2VfeCA9IHRoaXMueEludmVyc2VkXG4gICAgICAgID8gZDMuZXh0ZW50KHRoaXMuZGF0YSwgZCA9PiBkW3JhbmtfdmFyaWFibGUxXSkucmV2ZXJzZSgpXG4gICAgICAgIDogZDMuZXh0ZW50KHRoaXMuZGF0YSwgZCA9PiBkW3JhbmtfdmFyaWFibGUxXSk7XG4gICAgICBjb25zdCByYW5nZV95ID0gdGhpcy55SW52ZXJzZWRcbiAgICAgICAgPyBkMy5leHRlbnQodGhpcy5kYXRhLCBkID0+IGRbcmFua192YXJpYWJsZTJdKS5yZXZlcnNlKClcbiAgICAgICAgOiBkMy5leHRlbnQodGhpcy5kYXRhLCBkID0+IGRbcmFua192YXJpYWJsZTJdKTtcbiAgICAgIGNvbnN0IHNlcmllX3ggPSB0aGlzLmRhdGEubWFwKGQgPT4gZFt0aGlzLnZhcmlhYmxlMV0pO1xuICAgICAgY29uc3Qgc2VyaWVfeSA9IHRoaXMuZGF0YS5tYXAoZCA9PiBkW3RoaXMudmFyaWFibGUyXSk7XG4gICAgICB0aGlzLnguZG9tYWluKHJhbmdlX3gpLm5pY2UoKTtcbiAgICAgIHRoaXMueS5kb21haW4ocmFuZ2VfeSkubmljZSgpO1xuICAgICAgdGhpcy5tZWFuX3ZhcmlhYmxlMSA9IF9nZXRQUihcbiAgICAgICAgZ2V0TWVhbihzZXJpZV94KSwgc2VyaWVfeCk7XG4gICAgICB0aGlzLm1lYW5fdmFyaWFibGUyID0gX2dldFBSKFxuICAgICAgICBnZXRNZWFuKHNlcmllX3kpLCBzZXJpZV95KTtcblxuICAgICAgY29uc3QgeCA9IHRoaXMueDtcbiAgICAgIGNvbnN0IHkgPSB0aGlzLnk7XG4gICAgICBjb25zdCBkZWZhdWx0X2NvbG9yID0gJ2dyYXknO1xuXG4gICAgICBjb25zdCBkb3RzID0gdGhpcy5zY2F0dGVyLnNlbGVjdEFsbCgnLmRvdCcpXG4gICAgICAgIC5kYXRhKGRhdGEsIGQgPT4gZC5pZCk7XG5cbiAgICAgIGRvdHNcbiAgICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgICAuZHVyYXRpb24oMTI1KVxuICAgICAgICAuYXR0cnMoZCA9PiAoe1xuICAgICAgICAgIHI6IDUsXG4gICAgICAgICAgY3g6IHgoZFtyYW5rX3ZhcmlhYmxlMV0pLFxuICAgICAgICAgIGN5OiB5KGRbcmFua192YXJpYWJsZTJdKSxcbiAgICAgICAgfSkpXG4gICAgICAgIC5zdHlsZXMoZCA9PiAoe1xuICAgICAgICAgIGZpbGw6IGFwcC5jb2xvcnNbZC5pZF0gfHwgZGVmYXVsdF9jb2xvcixcbiAgICAgICAgfSkpO1xuXG4gICAgICBkb3RzLmVudGVyKClcbiAgICAgICAgLmluc2VydCgnY2lyY2xlJylcbiAgICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgICAuZHVyYXRpb24oMTI1KVxuICAgICAgICAuc3R5bGVzKGQgPT4gKHtcbiAgICAgICAgICBmaWxsOiBhcHAuY29sb3JzW2QuaWRdIHx8IGRlZmF1bHRfY29sb3IsXG4gICAgICAgIH0pKVxuICAgICAgICAuYXR0cnMoZCA9PiAoe1xuICAgICAgICAgIHI6IDUsXG4gICAgICAgICAgY3g6IHgoZFtyYW5rX3ZhcmlhYmxlMV0pLFxuICAgICAgICAgIGN5OiB5KGRbcmFua192YXJpYWJsZTJdKSxcbiAgICAgICAgICBjbGFzczogJ2RvdCcsXG4gICAgICAgIH0pKVxuICAgICAgICAub24oJ2VuZCcsICgpID0+IHtcbiAgICAgICAgICB0aGlzLnNjYXR0ZXIuc2VsZWN0QWxsKCcuZG90JylcbiAgICAgICAgICAgIC5vbignbW91c2VvdmVyLnRvb2x0aXAnLCAoKSA9PiB7XG4gICAgICAgICAgICAgIHN2Z19iYXIuc2VsZWN0KCcudG9vbHRpcCcpLnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm9uKCdtb3VzZW1vdmUudG9vbHRpcCcsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHRvb2x0aXAgPSBzdmdfYmFyLnNlbGVjdCgnLnRvb2x0aXAnKVxuICAgICAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7W2QzLm1vdXNlKHRoaXMpWzBdIC0gNSwgZDMubW91c2UodGhpcylbMV0gLSAzNV19KWApO1xuICAgICAgICAgICAgICB0b29sdGlwLnNlbGVjdCgncmVjdCcpLmF0dHJzKHsgd2lkdGg6IDAsIGhlaWdodDogMCB9KTtcbiAgICAgICAgICAgICAgdG9vbHRpcC5zZWxlY3QoJ3RleHQuaWRfZmVhdHVyZScpXG4gICAgICAgICAgICAgICAgLnRleHQoYCR7ZC5pZH1gKTtcbiAgICAgICAgICAgICAgdG9vbHRpcC5zZWxlY3QoJ3RleHQudmFsdWVfZmVhdHVyZTEnKVxuICAgICAgICAgICAgICAgIC50ZXh0KGAke3NlbGYudmFyaWFibGUxfSAocmFuZykgOiAke01hdGgucm91bmQoZFtzZWxmLnJhbmtfdmFyaWFibGUxXSAqIDEwKSAvIDEwfS8xMDBgKTtcbiAgICAgICAgICAgICAgdG9vbHRpcC5zZWxlY3QoJ3RleHQudmFsdWVfZmVhdHVyZTInKVxuICAgICAgICAgICAgICAgIC50ZXh0KGAke3NlbGYudmFyaWFibGUxfSAodmFsZXVyKSA6ICR7TWF0aC5yb3VuZChkW3NlbGYudmFyaWFibGUxXSAqIDEwKSAvIDEwfSAke3NlbGYudW5pdDF9YCk7XG4gICAgICAgICAgICAgIHRvb2x0aXAuc2VsZWN0KCd0ZXh0LnZhbHVlX2ZlYXR1cmUzJylcbiAgICAgICAgICAgICAgICAudGV4dChgJHtzZWxmLnZhcmlhYmxlMn0gKHJhbmcpIDogJHtNYXRoLnJvdW5kKGRbc2VsZi5yYW5rX3ZhcmlhYmxlMl0gKiAxMCkgLyAxMH0vMTAwYCk7XG4gICAgICAgICAgICAgIHRvb2x0aXAuc2VsZWN0KCd0ZXh0LnZhbHVlX2ZlYXR1cmU0JylcbiAgICAgICAgICAgICAgLnRleHQoYCR7c2VsZi52YXJpYWJsZTJ9ICh2YWxldXIpIDogJHtNYXRoLnJvdW5kKGRbc2VsZi52YXJpYWJsZTJdICogMTApIC8gMTB9ICR7c2VsZi51bml0Mn1gKTtcbiAgICAgICAgICAgICAgY29uc3QgYiA9IHRvb2x0aXAubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICB0b29sdGlwLnNlbGVjdCgncmVjdCcpXG4gICAgICAgICAgICAgICAgLmF0dHJzKHsgd2lkdGg6IGIud2lkdGggKyAyMCwgaGVpZ2h0OiBiLmhlaWdodCArIDcuNSB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAub24oJ21vdXNlb3V0LnRvb2x0aXAnLCAoKSA9PiB7XG4gICAgICAgICAgICAgIHN2Z19iYXIuc2VsZWN0KCcudG9vbHRpcCcpLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIGRvdHMuZXhpdCgpLnRyYW5zaXRpb24oKS5kdXJhdGlvbigxMjUpLnJlbW92ZSgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy50eXBlID09PSAndmFsdWUnKSB7XG4gICAgICBjb25zdCB2YXJpYWJsZTEgPSB0aGlzLnZhcmlhYmxlMTtcbiAgICAgIGNvbnN0IHZhcmlhYmxlMiA9IHRoaXMudmFyaWFibGUyO1xuICAgICAgY29uc3Qgc2VyaWVfeCA9IHRoaXMuZGF0YS5tYXAoZCA9PiBkW3ZhcmlhYmxlMV0pO1xuICAgICAgY29uc3Qgc2VyaWVfeSA9IHRoaXMuZGF0YS5tYXAoZCA9PiBkW3ZhcmlhYmxlMl0pO1xuICAgICAgY29uc3QgcmFuZ2VfeCA9IHRoaXMueEludmVyc2VkXG4gICAgICAgID8gZDMuZXh0ZW50KHNlcmllX3gpLnJldmVyc2UoKVxuICAgICAgICA6IGQzLmV4dGVudChzZXJpZV94KTtcbiAgICAgIGNvbnN0IHJhbmdlX3kgPSB0aGlzLnlJbnZlcnNlZFxuICAgICAgICA/IGQzLmV4dGVudChzZXJpZV95KS5yZXZlcnNlKClcbiAgICAgICAgOiBkMy5leHRlbnQoc2VyaWVfeSk7XG4gICAgICB0aGlzLnguZG9tYWluKHJhbmdlX3gpLm5pY2UoKTtcbiAgICAgIHRoaXMueS5kb21haW4ocmFuZ2VfeSkubmljZSgpO1xuICAgICAgdGhpcy5tZWFuX3ZhcmlhYmxlMSA9IGdldE1lYW4oc2VyaWVfeCk7XG4gICAgICB0aGlzLm1lYW5fdmFyaWFibGUyID0gZ2V0TWVhbihzZXJpZV95KTtcblxuICAgICAgY29uc3QgeCA9IHRoaXMueDtcbiAgICAgIGNvbnN0IHkgPSB0aGlzLnk7XG4gICAgICBjb25zdCBkZWZhdWx0X2NvbG9yID0gJ2dyYXknO1xuXG4gICAgICB0aGlzLnBsb3Quc2VsZWN0KCcjYXhpcy0teCcpLnRyYW5zaXRpb24oKS5kdXJhdGlvbigxMjUpLmNhbGwodGhpcy54QXhpcyk7XG4gICAgICB0aGlzLnBsb3Quc2VsZWN0KCcjYXhpcy0teScpLnRyYW5zaXRpb24oKS5kdXJhdGlvbigxMjUpLmNhbGwodGhpcy55QXhpcyk7XG5cbiAgICAgIGNvbnN0IGRvdHMgPSB0aGlzLnNjYXR0ZXIuc2VsZWN0QWxsKCcuZG90JylcbiAgICAgICAgLmRhdGEoZGF0YSwgZCA9PiBkLmlkKTtcblxuICAgICAgZG90c1xuICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgIC5kdXJhdGlvbigxMjUpXG4gICAgICAgIC5hdHRycyhkID0+ICh7XG4gICAgICAgICAgcjogNSxcbiAgICAgICAgICBjeDogeChkW3ZhcmlhYmxlMV0pLFxuICAgICAgICAgIGN5OiB5KGRbdmFyaWFibGUyXSksXG4gICAgICAgIH0pKVxuICAgICAgICAuc3R5bGVzKGQgPT4gKHtcbiAgICAgICAgICBmaWxsOiBhcHAuY29sb3JzW2QuaWRdIHx8IGRlZmF1bHRfY29sb3IsXG4gICAgICAgIH0pKTtcblxuICAgICAgZG90cy5lbnRlcigpXG4gICAgICAgIC5pbnNlcnQoJ2NpcmNsZScpXG4gICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgLmR1cmF0aW9uKDEyNSlcbiAgICAgICAgLnN0eWxlcyhkID0+ICh7XG4gICAgICAgICAgZmlsbDogYXBwLmNvbG9yc1tkLmlkXSB8fCBkZWZhdWx0X2NvbG9yLFxuICAgICAgICB9KSlcbiAgICAgICAgLmF0dHJzKGQgPT4gKHtcbiAgICAgICAgICByOiA1LFxuICAgICAgICAgIGN4OiB4KGRbdmFyaWFibGUxXSksXG4gICAgICAgICAgY3k6IHkoZFt2YXJpYWJsZTJdKSxcbiAgICAgICAgICBjbGFzczogJ2RvdCcsXG4gICAgICAgIH0pKVxuICAgICAgICAub24oJ2VuZCcsICgpID0+IHtcbiAgICAgICAgICB0aGlzLnNjYXR0ZXIuc2VsZWN0QWxsKCcuZG90JylcbiAgICAgICAgICAgIC5vbignbW91c2VvdmVyLnRvb2x0aXAnLCAoKSA9PiB7XG4gICAgICAgICAgICAgIHN2Z19iYXIuc2VsZWN0KCcudG9vbHRpcCcpLnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm9uKCdtb3VzZW1vdmUudG9vbHRpcCcsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHRvb2x0aXAgPSBzdmdfYmFyLnNlbGVjdCgnLnRvb2x0aXAnKVxuICAgICAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7W2QzLm1vdXNlKHRoaXMpWzBdIC0gNSwgZDMubW91c2UodGhpcylbMV0gLSAzNV19KWApO1xuICAgICAgICAgICAgICB0b29sdGlwLnNlbGVjdCgncmVjdCcpLmF0dHJzKHsgd2lkdGg6IDAsIGhlaWdodDogMCB9KTtcbiAgICAgICAgICAgICAgdG9vbHRpcC5zZWxlY3QoJ3RleHQuaWRfZmVhdHVyZScpXG4gICAgICAgICAgICAgICAgLnRleHQoYCR7ZC5pZH1gKTtcbiAgICAgICAgICAgICAgdG9vbHRpcC5zZWxlY3QoJ3RleHQudmFsdWVfZmVhdHVyZTEnKVxuICAgICAgICAgICAgICAgIC50ZXh0KGAke3NlbGYudmFyaWFibGUxfSAocmFuZykgOiAke01hdGgucm91bmQoZFtzZWxmLnJhbmtfdmFyaWFibGUxXSAqIDEwKSAvIDEwfS8xMDBgKTtcbiAgICAgICAgICAgICAgdG9vbHRpcC5zZWxlY3QoJ3RleHQudmFsdWVfZmVhdHVyZTInKVxuICAgICAgICAgICAgICAgIC50ZXh0KGAke3NlbGYudmFyaWFibGUxfSAodmFsZXVyKSA6ICR7TWF0aC5yb3VuZChkW3NlbGYudmFyaWFibGUxXSAqIDEwKSAvIDEwfSAke3NlbGYudW5pdDF9YCk7XG4gICAgICAgICAgICAgIHRvb2x0aXAuc2VsZWN0KCd0ZXh0LnZhbHVlX2ZlYXR1cmUzJylcbiAgICAgICAgICAgICAgICAudGV4dChgJHtzZWxmLnZhcmlhYmxlMn0gKHJhbmcpIDogJHtNYXRoLnJvdW5kKGRbc2VsZi5yYW5rX3ZhcmlhYmxlMl0gKiAxMCkgLyAxMH0vMTAwYCk7XG4gICAgICAgICAgICAgIHRvb2x0aXAuc2VsZWN0KCd0ZXh0LnZhbHVlX2ZlYXR1cmU0JylcbiAgICAgICAgICAgICAgLnRleHQoYCR7c2VsZi52YXJpYWJsZTJ9ICh2YWxldXIpIDogJHtNYXRoLnJvdW5kKGRbc2VsZi52YXJpYWJsZTJdICogMTApIC8gMTB9ICR7c2VsZi51bml0Mn1gKTtcbiAgICAgICAgICAgICAgY29uc3QgYiA9IHRvb2x0aXAubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICB0b29sdGlwLnNlbGVjdCgncmVjdCcpXG4gICAgICAgICAgICAgICAgLmF0dHJzKHsgd2lkdGg6IGIud2lkdGggKyAyMCwgaGVpZ2h0OiBiLmhlaWdodCArIDcuNSB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAub24oJ21vdXNlb3V0LnRvb2x0aXAnLCAoKSA9PiB7XG4gICAgICAgICAgICAgIHN2Z19iYXIuc2VsZWN0KCcudG9vbHRpcCcpLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgZG90cy5leGl0KCkudHJhbnNpdGlvbigpLmR1cmF0aW9uKDEyNSkucmVtb3ZlKCk7XG4gICAgfVxuICAgIHRoaXMudXBkYXRlTWVhblZhbHVlKCk7XG4gICAgdGhpcy51cGRhdGVBeGlzR3JpZCgpO1xuICB9XG5cbiAgdXBkYXRlQ29tcGxldHVkZSgpIHtcbiAgICB0aGlzLmNvbXBsZXR1ZGUudXBkYXRlKFxuICAgICAgY2FsY0NvbXBsZXR1ZGVTdWJzZXQoYXBwLCBbdGhpcy52YXJpYWJsZTEsIHRoaXMudmFyaWFibGUyXSwgJ2FycmF5JyksXG4gICAgICBjYWxjUG9wQ29tcGxldHVkZVN1YnNldChhcHAsIFt0aGlzLnJhdGlvX3RvX3VzZV0pKTtcbiAgfVxuXG4gIHVwZGF0ZU1hcFJlZ2lvKCkge1xuICAgIGlmICghdGhpcy5tYXBfZWxlbSkgcmV0dXJuO1xuICAgIHRoaXMubWFwX2VsZW0udGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuYXR0cignZmlsbCcsIGQgPT4gKHRoaXMuY3VycmVudF9pZHMuaW5kZXhPZihkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dKSA+IC0xXG4gICAgICAgID8gKGFwcC5jb2xvcnNbZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXV0gfHwgY29sb3JfY291bnRyaWVzKVxuICAgICAgICA6IGNvbG9yX2Rpc2FibGVkKSk7XG4gIH1cblxuICBoYW5kbGVfYnJ1c2hfbWFwKGV2ZW50KSB7XG4gICAgaWYgKCFldmVudCB8fCAhZXZlbnQuc2VsZWN0aW9uKSB7XG4gICAgICB0aGlzLmxhc3RfbWFwX3NlbGVjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaCcpLmNhbGwodGhpcy5icnVzaC5tb3ZlLCBudWxsKTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBbdG9wbGVmdCwgYm90dG9tcmlnaHRdID0gZXZlbnQuc2VsZWN0aW9uO1xuICAgIHRoaXMubGFzdF9tYXBfc2VsZWN0aW9uID0gW3RvcGxlZnQsIGJvdHRvbXJpZ2h0XTtcbiAgICBjb25zdCByZWN0ID0gbmV3IFJlY3QodG9wbGVmdCwgYm90dG9tcmlnaHQpO1xuICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICBzZWxmLm1hcF9lbGVtLnRhcmdldF9sYXllci5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICBjb25zdCBpZCA9IGQucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV07XG4gICAgICAgIGlmIChpZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbikge1xuICAgICAgICAgIGFwcC5jb2xvcnNbaWRdID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgICAgICAgIHJldHVybiBjb2xvcl9oaWdobGlnaHQ7XG4gICAgICAgIH0gZWxzZSBpZiAoc2VsZi5jdXJyZW50X2lkcy5pbmRleE9mKGlkKSA8IDApIHtcbiAgICAgICAgICByZXR1cm4gY29sb3JfZGlzYWJsZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9wdHMpIHtcbiAgICAgICAgICB0aGlzLl9wdHMgPSBzdmdQYXRoVG9Db29yZHModGhpcy5nZXRBdHRyaWJ1dGUoJ2QnKSwgYXBwLnR5cGVfcGF0aCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHRzID0gdGhpcy5fcHRzO1xuICAgICAgICBmb3IgKGxldCBpeCA9IDAsIG5iX3B0cyA9IHB0cy5sZW5ndGg7IGl4IDwgbmJfcHRzOyBpeCsrKSB7XG4gICAgICAgICAgaWYgKHJlY3QuY29udGFpbnMocHRzW2l4XSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlMSA9IGQucHJvcGVydGllc1tzZWxmLnZhcmlhYmxlMV07XG4gICAgICAgICAgICBjb25zdCB2YWx1ZTIgPSBkLnByb3BlcnRpZXNbc2VsZi52YXJpYWJsZTJdO1xuICAgICAgICAgICAgY29uc3QgY29sb3IgPSBjb21wMihcbiAgICAgICAgICAgICAgdmFsdWUxLCB2YWx1ZTIsXG4gICAgICAgICAgICAgIHNlbGYucmVmX3ZhbHVlMSwgc2VsZi5yZWZfdmFsdWUyLFxuICAgICAgICAgICAgICBzZWxmLnhJbnZlcnNlZCwgc2VsZi55SW52ZXJzZWQpO1xuICAgICAgICAgICAgYXBwLmNvbG9yc1tpZF0gPSBjb2xvcjtcbiAgICAgICAgICAgIHJldHVybiBjb2xvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbG9yX2NvdW50cmllcztcbiAgICAgIH0pO1xuICAgIHNlbGYudXBkYXRlTGlnaHQoKTtcbiAgfVxuXG4gIGhhbmRsZUNsaWNrTWFwKGQsIHBhcmVudCkge1xuICAgIGNvbnN0IGlkID0gZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXTtcbiAgICBpZiAodGhpcy5jdXJyZW50X2lkcy5pbmRleE9mKGlkKSA8IDAgfHwgaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pIHJldHVybjtcbiAgICBpZiAoYXBwLmNvbG9yc1tpZF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gQ2hhbmdlIGl0cyBjb2xvciBpbiB0aGUgZ2xvYmFsIGNvbG9ycyBvYmplY3Q6XG4gICAgICBhcHAuY29sb3JzW2lkXSA9IHVuZGVmaW5lZDtcbiAgICAgIC8vIENoYW5nZSB0aGUgY29sb3Igb24gdGhlIG1hcDpcbiAgICAgIGQzLnNlbGVjdChwYXJlbnQpLmF0dHIoJ2ZpbGwnLCBjb2xvcl9jb3VudHJpZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB2YWx1ZTEgPSBkLnByb3BlcnRpZXNbdGhpcy52YXJpYWJsZTFdO1xuICAgICAgY29uc3QgdmFsdWUyID0gZC5wcm9wZXJ0aWVzW3RoaXMudmFyaWFibGUyXTtcbiAgICAgIGNvbnN0IGNvbG9yID0gY29tcDIoXG4gICAgICAgIHZhbHVlMSwgdmFsdWUyLFxuICAgICAgICB0aGlzLnJlZl92YWx1ZTEsIHRoaXMucmVmX3ZhbHVlMixcbiAgICAgICAgdGhpcy54SW52ZXJzZWQsIHRoaXMueUludmVyc2VkKTtcbiAgICAgIGFwcC5jb2xvcnNbaWRdID0gY29sb3I7XG4gICAgICAvLyBDaGFuZ2UgdGhlIGNvbG9yIG9uIHRoZSBtYXA6XG4gICAgICBkMy5zZWxlY3QocGFyZW50KS5hdHRyKCdmaWxsJywgY29sb3IpO1xuICAgICAgLy8gQWRkIHRoZSBjbGlja2VkIGZlYXR1cmUgb24gdGhlIGNvbG9yZWQgc2VsZWN0aW9uIG9uIHRoZSBjaGFydDpcbiAgICB9XG4gICAgdGhpcy51cGRhdGVMaWdodCgpO1xuICB9XG5cbiAgdXBkYXRlTWVhblZhbHVlKCkge1xuICAgIGlmICh0aGlzLnR5cGUgPT09ICd2YWx1ZScpIHtcbiAgICAgIHRoaXMubWVhbl92YXJpYWJsZTEgPSBnZXRNZWFuKHRoaXMuZGF0YS5tYXAoZCA9PiBkW3RoaXMudmFyaWFibGUxXSkpO1xuICAgICAgdGhpcy5tZWFuX3ZhcmlhYmxlMiA9IGdldE1lYW4odGhpcy5kYXRhLm1hcChkID0+IGRbdGhpcy52YXJpYWJsZTJdKSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnR5cGUgPT09ICdyYW5rJykge1xuICAgICAgdGhpcy5tZWFuX3ZhcmlhYmxlMSA9IF9nZXRQUihcbiAgICAgICAgZ2V0TWVhbih0aGlzLmRhdGEubWFwKGQgPT4gZFt0aGlzLnZhcmlhYmxlMV0pKSwgdGhpcy5kYXRhLm1hcChkID0+IGRbdGhpcy52YXJpYWJsZTFdKSk7XG4gICAgICB0aGlzLm1lYW5fdmFyaWFibGUyID0gX2dldFBSKFxuICAgICAgICBnZXRNZWFuKHRoaXMuZGF0YS5tYXAoZCA9PiBkW3RoaXMudmFyaWFibGUyXSkpLCB0aGlzLmRhdGEubWFwKGQgPT4gZFt0aGlzLnZhcmlhYmxlMl0pKTtcbiAgICB9XG4gICAgY29uc3QgZ3JwX21lYW4gPSB0aGlzLnBsb3Quc2VsZWN0KCdnLm1lYW4nKTtcbiAgICBncnBfbWVhbi5zZWxlY3QoJyNtZWFuX3gnKVxuICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgLmR1cmF0aW9uKDEyNSlcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIHgxOiB0aGlzLngodGhpcy5tZWFuX3ZhcmlhYmxlMSksXG4gICAgICAgIHgyOiB0aGlzLngodGhpcy5tZWFuX3ZhcmlhYmxlMSksXG4gICAgICB9KTtcbiAgICBncnBfbWVhbi5zZWxlY3QoJyNtZWFuX3knKVxuICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgLmR1cmF0aW9uKDEyNSlcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIHkxOiB0aGlzLnkodGhpcy5tZWFuX3ZhcmlhYmxlMiksXG4gICAgICAgIHkyOiB0aGlzLnkodGhpcy5tZWFuX3ZhcmlhYmxlMiksXG4gICAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZUNoYW5nZVJlZ2lvbigpIHtcbiAgICBpZiAoYXBwLmN1cnJlbnRfY29uZmlnLmZpbHRlcl9rZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5jaGFuZ2VTdHVkeVpvbmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZWZfdmFsdWUxID0gdGhpcy5kYXRhLmZpbmQoXG4gICAgICAgIGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbilbdGhpcy52YXJpYWJsZTFdO1xuICAgICAgdGhpcy5yZWZfdmFsdWUyID0gdGhpcy5kYXRhLmZpbmQoXG4gICAgICAgIGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbilbdGhpcy52YXJpYWJsZTJdO1xuICAgICAgdGhpcy5tYXBfZWxlbS5yZW1vdmVSZWN0QnJ1c2goKTtcbiAgICAgIHRoaXMubWFwX2VsZW0udXBkYXRlTGVnZW5kKCk7XG4gICAgICB0aGlzLm1hcF9lbGVtLnJlc2V0Q29sb3JzKHRoaXMuY3VycmVudF9pZHMpO1xuICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG4gIH1cblxuICBjaGFuZ2VTdHVkeVpvbmUoKSB7XG4gICAgdGhpcy5kYXRhID0gYXBwLmN1cnJlbnRfZGF0YS5maWx0ZXIoZnQgPT4gISFmdFt0aGlzLnZhcmlhYmxlMV0gJiYgISFmdFt0aGlzLnZhcmlhYmxlMl0pXG4gICAgICAubWFwKChkKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcyA9IHsgaWQ6IGQuaWQgfTtcbiAgICAgICAgcmVzW3RoaXMudmFyaWFibGUxXSA9IGRbdGhpcy52YXJpYWJsZTFdO1xuICAgICAgICByZXNbdGhpcy52YXJpYWJsZTJdID0gZFt0aGlzLnZhcmlhYmxlMl07XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgICB9KTtcbiAgICB0aGlzLmN1cnJlbnRfaWRzID0gdGhpcy5kYXRhLm1hcChkID0+IGQuaWQpO1xuICAgIHJlc2V0Q29sb3JzKCk7XG4gICAgdGhpcy5uYkZ0ID0gdGhpcy5kYXRhLmxlbmd0aDtcbiAgICBjb21wdXRlUGVyY2VudGlsZVJhbmsodGhpcy5kYXRhLCB0aGlzLnZhcmlhYmxlMSwgdGhpcy5yYW5rX3ZhcmlhYmxlMSk7XG4gICAgY29tcHV0ZVBlcmNlbnRpbGVSYW5rKHRoaXMuZGF0YSwgdGhpcy52YXJpYWJsZTIsIHRoaXMucmFua192YXJpYWJsZTIpO1xuXG4gICAgdGhpcy54SW52ZXJzZWQgPSBmYWxzZTtcbiAgICB0aGlzLnlJbnZlcnNlZCA9IGZhbHNlO1xuICAgIGNvbnN0IHRtcF9teV9yZWdpb24gPSB0aGlzLmRhdGEuZmlsdGVyKGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbilbMF07XG4gICAgdGhpcy5yZWZfdmFsdWUxID0gdG1wX215X3JlZ2lvblt0aGlzLnZhcmlhYmxlMV07XG4gICAgdGhpcy5yZWZfdmFsdWUyID0gdG1wX215X3JlZ2lvblt0aGlzLnZhcmlhYmxlMl07XG5cbiAgICB0aGlzLm1hcF9lbGVtLnJlbW92ZVJlY3RCcnVzaCgpO1xuICAgIHRoaXMudXBkYXRlSXRlbXNDdHhNZW51KCk7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICAgIHRoaXMudXBkYXRlVGFibGVTdGF0KCk7XG4gICAgdGhpcy51cGRhdGVDb21wbGV0dWRlKCk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIGNoYW5nZVZhcmlhYmxlWChjb2RlX3ZhcmlhYmxlKSB7XG4gICAgdGhpcy52YXJpYWJsZTEgPSBjb2RlX3ZhcmlhYmxlO1xuICAgIHRoaXMucmFua192YXJpYWJsZTEgPSBgcHJfJHt0aGlzLnZhcmlhYmxlMX1gO1xuICAgIGNvbnN0IHZhcl9pbmZvID0gdmFyaWFibGVzX2luZm8uZmluZChmdCA9PiBmdC5yYXRpbyA9PT0gY29kZV92YXJpYWJsZSk7XG4gICAgdGhpcy5wcmV0dHlfbmFtZTEgPSB2YXJfaW5mby5uYW1lO1xuICAgIHRoaXMudW5pdDEgPSB2YXJfaW5mby51bml0O1xuICAgIHN2Z19iYXIuc2VsZWN0KCcjdGl0bGUtYXhpcy14JylcbiAgICAgIC50ZXh0KGNvZGVfdmFyaWFibGUpO1xuICAgIC8vIFRPRE86IEFsc28gY2hhbmdlIHRoZSBwb3NpdGlvbiBvZiB0aGUgYnV0dG9uIGFsb3dpbmcgdG8gaW52ZXJzZSB0aGUgc2VyaWVcbiAgICB0aGlzLnVwZGF0ZUl0ZW1zQ3R4TWVudSgpO1xuICAgIHRoaXMuZGF0YSA9IGFwcC5jdXJyZW50X2RhdGEuZmlsdGVyKGZ0ID0+ICEhZnRbdGhpcy52YXJpYWJsZTFdICYmICEhZnRbdGhpcy52YXJpYWJsZTJdKVxuICAgICAgLm1hcCgoZCkgPT4ge1xuICAgICAgICBjb25zdCByZXMgPSB7IGlkOiBkLmlkIH07XG4gICAgICAgIHJlc1t0aGlzLnZhcmlhYmxlMV0gPSBkW3RoaXMudmFyaWFibGUxXTtcbiAgICAgICAgcmVzW3RoaXMudmFyaWFibGUyXSA9IGRbdGhpcy52YXJpYWJsZTJdO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfSk7XG4gICAgdGhpcy5jdXJyZW50X2lkcyA9IHRoaXMuZGF0YS5tYXAoZCA9PiBkLmlkKTtcbiAgICByZXNldENvbG9ycygpO1xuICAgIHRoaXMubmJGdCA9IHRoaXMuZGF0YS5sZW5ndGg7XG4gICAgY29tcHV0ZVBlcmNlbnRpbGVSYW5rKHRoaXMuZGF0YSwgdGhpcy52YXJpYWJsZTEsIHRoaXMucmFua192YXJpYWJsZTEpO1xuICAgIGNvbXB1dGVQZXJjZW50aWxlUmFuayh0aGlzLmRhdGEsIHRoaXMudmFyaWFibGUyLCB0aGlzLnJhbmtfdmFyaWFibGUyKTtcbiAgICB0aGlzLnJlZl92YWx1ZTEgPSB0aGlzLmRhdGEuZmluZChcbiAgICAgIGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbilbdGhpcy52YXJpYWJsZTFdO1xuICAgIHRoaXMudXBkYXRlQ29tcGxldHVkZSgpO1xuICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgICB0aGlzLnVwZGF0ZVRhYmxlU3RhdCgpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cblxuICBjaGFuZ2VWYXJpYWJsZVkoY29kZV92YXJpYWJsZSkge1xuICAgIHRoaXMudmFyaWFibGUyID0gY29kZV92YXJpYWJsZTtcbiAgICB0aGlzLnJhbmtfdmFyaWFibGUyID0gYHByXyR7dGhpcy52YXJpYWJsZTJ9YDtcbiAgICBjb25zdCB2YXJfaW5mbyA9IHZhcmlhYmxlc19pbmZvLmZpbmQoZnQgPT4gZnQucmF0aW8gPT09IGNvZGVfdmFyaWFibGUpO1xuICAgIHRoaXMucHJldHR5X25hbWUyID0gdmFyX2luZm8ubmFtZTtcbiAgICB0aGlzLnVuaXQyID0gdmFyX2luZm8udW5pdDtcbiAgICBzdmdfYmFyLnNlbGVjdCgnI3RpdGxlLWF4aXMteScpXG4gICAgICAudGV4dChjb2RlX3ZhcmlhYmxlKTtcbiAgICAvLyBUT0RPOiBBbHNvIGNoYW5nZSB0aGUgcG9zaXRpb24gb2YgdGhlIGJ1dHRvbiBhbG93aW5nIHRvIGludmVyc2UgdGhlIHNlcmllXG4gICAgdGhpcy51cGRhdGVJdGVtc0N0eE1lbnUoKTtcbiAgICB0aGlzLmRhdGEgPSBhcHAuY3VycmVudF9kYXRhLmZpbHRlcihmdCA9PiAhIWZ0W3RoaXMudmFyaWFibGUxXSAmJiAhIWZ0W3RoaXMudmFyaWFibGUyXSlcbiAgICAgIC5tYXAoKGQpID0+IHtcbiAgICAgICAgY29uc3QgcmVzID0geyBpZDogZC5pZCB9O1xuICAgICAgICByZXNbdGhpcy52YXJpYWJsZTFdID0gZFt0aGlzLnZhcmlhYmxlMV07XG4gICAgICAgIHJlc1t0aGlzLnZhcmlhYmxlMl0gPSBkW3RoaXMudmFyaWFibGUyXTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIH0pO1xuICAgIHRoaXMuY3VycmVudF9pZHMgPSB0aGlzLmRhdGEubWFwKGQgPT4gZC5pZCk7XG4gICAgcmVzZXRDb2xvcnMoKTtcbiAgICB0aGlzLm5iRnQgPSB0aGlzLmRhdGEubGVuZ3RoO1xuICAgIGNvbXB1dGVQZXJjZW50aWxlUmFuayh0aGlzLmRhdGEsIHRoaXMudmFyaWFibGUxLCB0aGlzLnJhbmtfdmFyaWFibGUxKTtcbiAgICBjb21wdXRlUGVyY2VudGlsZVJhbmsodGhpcy5kYXRhLCB0aGlzLnZhcmlhYmxlMiwgdGhpcy5yYW5rX3ZhcmlhYmxlMik7XG4gICAgdGhpcy5yZWZfdmFsdWUyID0gdGhpcy5kYXRhLmZpbmQoXG4gICAgICBkID0+IGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pW3RoaXMudmFyaWFibGUyXTtcbiAgICB0aGlzLnVwZGF0ZUNvbXBsZXR1ZGUoKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgdGhpcy51cGRhdGVUYWJsZVN0YXQoKTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG5cbiAgdXBkYXRlSXRlbXNDdHhNZW51KCkge1xuICAgIHRoaXMuaXRlbXNYID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvLmZpbHRlcihlbGVtID0+IGVsZW0gIT09IHRoaXMudmFyaWFibGUyKVxuICAgICAgLm1hcChlbGVtID0+ICh7XG4gICAgICAgIG5hbWU6IGVsZW0sXG4gICAgICAgIGFjdGlvbjogKCkgPT4gdGhpcy5jaGFuZ2VWYXJpYWJsZVgoZWxlbSksXG4gICAgICB9KSk7XG4gICAgdGhpcy5pdGVtc1kgPSBhcHAuY3VycmVudF9jb25maWcucmF0aW8uZmlsdGVyKGVsZW0gPT4gZWxlbSAhPT0gdGhpcy52YXJpYWJsZTEpXG4gICAgICAubWFwKGVsZW0gPT4gKHtcbiAgICAgICAgbmFtZTogZWxlbSxcbiAgICAgICAgYWN0aW9uOiAoKSA9PiB0aGlzLmNoYW5nZVZhcmlhYmxlWShlbGVtKSxcbiAgICAgIH0pKTtcbiAgfVxuXG4gIGFkZFZhcmlhYmxlKGNvZGVfdmFyaWFibGUsIG5hbWVfdmFyaWFibGUpIHtcbiAgICB0aGlzLml0ZW1zWC5wdXNoKHtcbiAgICAgIG5hbWU6IGNvZGVfdmFyaWFibGUsXG4gICAgICBhY3Rpb246ICgpID0+IHRoaXMuY2hhbmdlVmFyaWFibGVYKGNvZGVfdmFyaWFibGUpLFxuICAgIH0pO1xuICAgIHRoaXMuaXRlbXNZLnB1c2goe1xuICAgICAgbmFtZTogY29kZV92YXJpYWJsZSxcbiAgICAgIGFjdGlvbjogKCkgPT4gdGhpcy5jaGFuZ2VWYXJpYWJsZVkoY29kZV92YXJpYWJsZSksXG4gICAgfSk7XG4gIH1cblxuICByZW1vdmVWYXJpYWJsZShjb2RlX3ZhcmlhYmxlKSB7XG4gICAgLy8gUmVtb3ZlIHRoZSB2YXJpYWJsZSBmcm9tIHRoZSBYIGFuZCBZIGxpc3Qgb2YgaXRlbXM6XG4gICAgZm9yIChsZXQgaSA9IHRoaXMuaXRlbXNYLmxlbmd0aCAtIDE7IGkgPiAtMTsgaS0tKSB7XG4gICAgICBpZiAodGhpcy5pdGVtc1hbaV0ubmFtZSA9PT0gY29kZV92YXJpYWJsZSkge1xuICAgICAgICB0aGlzLml0ZW1zWC5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gdGhpcy5pdGVtc1kubGVuZ3RoIC0gMTsgaSA+IC0xOyBpLS0pIHtcbiAgICAgIGlmICh0aGlzLml0ZW1zWVtpXS5uYW1lID09PSBjb2RlX3ZhcmlhYmxlKSB7XG4gICAgICAgIHRoaXMuaXRlbXNZLnNwbGljZShpLCAxKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIHZhcmlhYmxlIHRvIHJlbW92ZSB3YXMgY3VycmVudGx5IHVzZWQgZm9yIGRyYXdpbmcgdGhpcyBjaGFydCxcbiAgICAvLyBzZXQgYSBuZXcgdmFyaWFibGUgZm9yIHRoaXMgYXhpcyBhbmQgcmVkcmF3IHRoZSBjaGFydDpcbiAgICBpZiAoY29kZV92YXJpYWJsZSA9PT0gdGhpcy52YXJpYWJsZTEpIHtcbiAgICAgIGNvbnN0IG5ld192YXJfeCA9IHRoaXMuaXRlbXNYLmZpbHRlcihmdCA9PiBmdC5uYW1lICE9PSB0aGlzLnZhcmlhYmxlMilbMF0ubmFtZTtcbiAgICAgIHRoaXMuY2hhbmdlVmFyaWFibGVYKG5ld192YXJfeCk7XG4gICAgfSBlbHNlIGlmIChjb2RlX3ZhcmlhYmxlID09PSB0aGlzLnZhcmlhYmxlMikge1xuICAgICAgY29uc3QgbmV3X3Zhcl95ID0gdGhpcy5pdGVtc1kuZmlsdGVyKGZ0ID0+IGZ0Lm5hbWUgIT09IHRoaXMudmFyaWFibGUxKVswXS5uYW1lO1xuICAgICAgdGhpcy5jaGFuZ2VWYXJpYWJsZVkobmV3X3Zhcl95KTtcbiAgICB9XG4gIH1cblxuICByZW1vdmUoKSB7XG4gICAgdGhpcy50YWJsZV9zdGF0cy5yZW1vdmUoKTtcbiAgICB0aGlzLm1hcF9lbGVtLnVuYmluZEJydXNoQ2xpY2soKTtcbiAgICB0aGlzLm1hcF9lbGVtID0gbnVsbDtcbiAgICB0aGlzLmNvbXBsZXR1ZGUucmVtb3ZlKCk7XG4gICAgdGhpcy5jb21wbGV0dWRlID0gbnVsbDtcbiAgICBzdmdfYmFyLmh0bWwoJycpO1xuICB9XG5cbiAgYmluZE1hcChtYXBfZWxlbSkge1xuICAgIHRoaXMubWFwX2VsZW0gPSBtYXBfZWxlbTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIGJpbmRNZW51KCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IG1lbnUgPSBkMy5zZWxlY3QoJyNtZW51X3NlbGVjdGlvbicpO1xuXG4gICAgbWVudS5zZWxlY3QoJyNpbmRfcmF3X3ZhbHVlcycpXG4gICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYudHlwZSA9ICd2YWx1ZSc7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIG1lbnUuc2VsZWN0KCcjaW5kX3JhbmtzJylcbiAgICAgICAgICAuYXR0cignY2xhc3MnLCAnY2hvaWNlX2luZCcpO1xuICAgICAgICAvLyBzZWxmLmdfYmFyLnNlbGVjdEFsbCgnZycpLnJlbW92ZSgpO1xuICAgICAgICBzZWxmLnVwZGF0ZSgpO1xuICAgICAgfSk7XG5cbiAgICBtZW51LnNlbGVjdCgnI2luZF9yYW5rcycpXG4gICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYudHlwZSA9ICdyYW5rJztcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgbWVudS5zZWxlY3QoJyNpbmRfcmF3X3ZhbHVlcycpXG4gICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2Nob2ljZV9pbmQnKTtcbiAgICAgICAgLy8gc2VsZi5nX2Jhci5zZWxlY3RBbGwoJ3JlY3QnKS5yZW1vdmUoKTtcbiAgICAgICAgc2VsZi51cGRhdGUoKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgcHJlcGFyZVRhYmxlU3RhdCgpIHtcbiAgICBjb25zdCB2YWx1ZXMxID0gdGhpcy5kYXRhLm1hcChkID0+IGRbdGhpcy52YXJpYWJsZTFdKTtcbiAgICBjb25zdCB2YWx1ZXMyID0gdGhpcy5kYXRhLm1hcChkID0+IGRbdGhpcy52YXJpYWJsZTJdKTtcbiAgICBjb25zdCBmZWF0dXJlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgTWluOiBkMy5taW4odmFsdWVzMSksXG4gICAgICAgIE1heDogZDMubWF4KHZhbHVlczEpLFxuICAgICAgICBNb3llbm5lOiBnZXRNZWFuKHZhbHVlczEpLFxuICAgICAgICBpZDogdGhpcy52YXJpYWJsZTEsXG4gICAgICAgIFZhcmlhYmxlOiB0aGlzLnZhcmlhYmxlMSxcbiAgICAgICAgJ01hIHLDqWdpb24nOiB0aGlzLnJlZl92YWx1ZTEsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBNaW46IGQzLm1pbih2YWx1ZXMyKSxcbiAgICAgICAgTWF4OiBkMy5tYXgodmFsdWVzMiksXG4gICAgICAgIE1veWVubmU6IGdldE1lYW4odmFsdWVzMiksXG4gICAgICAgIGlkOiB0aGlzLnZhcmlhYmxlMixcbiAgICAgICAgVmFyaWFibGU6IHRoaXMudmFyaWFibGUyLFxuICAgICAgICAnTWEgcsOpZ2lvbic6IHRoaXMucmVmX3ZhbHVlMixcbiAgICAgIH1dO1xuICAgIHJldHVybiBmZWF0dXJlcztcbiAgfVxuXG4gIHVwZGF0ZVRhYmxlU3RhdCgpIHtcbiAgICB0aGlzLnRhYmxlX3N0YXRzLnJlbW92ZUFsbCgpO1xuICAgIHRoaXMudGFibGVfc3RhdHMuYWRkRmVhdHVyZXModGhpcy5wcmVwYXJlVGFibGVTdGF0KCkpO1xuICB9XG5cbiAgbWFrZVRhYmxlU3RhdCgpIHtcbiAgICBjb25zdCBmZWF0dXJlcyA9IHRoaXMucHJlcGFyZVRhYmxlU3RhdCgpO1xuICAgIHRoaXMudGFibGVfc3RhdHMgPSBuZXcgVGFibGVSZXN1bWVTdGF0KGZlYXR1cmVzKTtcbiAgfVxuXG59XG4iLCJpbXBvcnQge1xuICBtYXRoX21heCwgbWF0aF9zaW4sIG1hdGhfY29zLCBIQUxGX1BJLCBjb21wdXRlUGVyY2VudGlsZVJhbmssIGdldE1lYW4gfSBmcm9tICcuLy4uL2hlbHBlcnMnO1xuaW1wb3J0IHsgY29sb3JfZGlzYWJsZWQsIGNvbG9yX2NvdW50cmllcywgY29sb3JfaGlnaGxpZ2h0LCBjb2xvcl9kZWZhdWx0X2Rpc3NpbSB9IGZyb20gJy4vLi4vb3B0aW9ucyc7XG5pbXBvcnQgeyBjYWxjUG9wQ29tcGxldHVkZVN1YnNldCwgY2FsY0NvbXBsZXR1ZGVTdWJzZXQgfSBmcm9tICcuLy4uL3ByZXBhcmVfZGF0YSc7XG5pbXBvcnQgeyBhcHAsIHZhcmlhYmxlc19pbmZvIH0gZnJvbSAnLi8uLi8uLi9tYWluJztcbmltcG9ydCBDb21wbGV0dWRlU2VjdGlvbiBmcm9tICcuLy4uL2NvbXBsZXR1ZGUnO1xuaW1wb3J0IFRhYmxlUmVzdW1lU3RhdCBmcm9tICcuLy4uL3RhYmxlUmVzdW1lU3RhdCc7XG5cbmNvbnN0IHN2Z19iYXIgPSBkMy5zZWxlY3QoJyNzdmdfYmFyJyk7XG5jb25zdCBtYXJnaW4gPSB7IHRvcDogNzAsIHJpZ2h0OiA3MCwgYm90dG9tOiA4MCwgbGVmdDogNzAgfTtcblxuY29uc3Qgd2lkdGggPSArc3ZnX2Jhci5hdHRyKCd3aWR0aCcpIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQsXG4gIGhlaWdodCA9ICtzdmdfYmFyLmF0dHIoJ2hlaWdodCcpIC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XG5cbmNvbnN0IHdyYXAgPSAoX3RleHQsIF93aWR0aCkgPT4ge1xuICBfdGV4dC5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCB0ZXh0ID0gZDMuc2VsZWN0KHRoaXMpLFxuICAgICAgd29yZHMgPSB0ZXh0LnRleHQoKS5zcGxpdCgvXFxzKy8pLnJldmVyc2UoKSxcbiAgICAgIGxpbmVIZWlnaHQgPSAxLjQsXG4gICAgICB4ID0gK3RleHQuYXR0cigneCcpLFxuICAgICAgZHkgPSBwYXJzZUZsb2F0KHRleHQuYXR0cignZHknKSk7IC8vIGVtc1xuICAgIGxldCB5ID0gK3RleHQuYXR0cigneScpO1xuICAgIGxldCBsaW5lID0gW107XG4gICAgbGV0IGxpbmVOdW1iZXIgPSAwO1xuICAgIGlmICh5ID4gaGVpZ2h0IC8gMiAtIDM1KSB7XG4gICAgICB5IC09IDQwO1xuICAgIH1cbiAgICBsZXQgdHNwYW4gPSB0ZXh0LnRleHQobnVsbClcbiAgICAgIC5hcHBlbmQoJ3RzcGFuJylcbiAgICAgIC5hdHRyKCd4JywgeClcbiAgICAgIC5hdHRyKCd5JywgeSlcbiAgICAgIC5hdHRyKCdkeScsIGAke2R5fWVtYCk7XG4gICAgbGV0IHdvcmQgPSB3b3Jkcy5wb3AoKTtcbiAgICB3aGlsZSAod29yZCkge1xuICAgICAgbGluZS5wdXNoKHdvcmQpO1xuICAgICAgdHNwYW4udGV4dChsaW5lLmpvaW4oJyAnKSk7XG4gICAgICBpZiAodHNwYW4ubm9kZSgpLmdldENvbXB1dGVkVGV4dExlbmd0aCgpID4gX3dpZHRoKSB7XG4gICAgICAgIGxpbmUucG9wKCk7XG4gICAgICAgIHRzcGFuLnRleHQobGluZS5qb2luKCcgJykpO1xuICAgICAgICBsaW5lID0gW3dvcmRdO1xuICAgICAgICB0c3BhbiA9IHRleHQuYXBwZW5kKCd0c3BhbicpXG4gICAgICAgICAgLmF0dHIoJ3gnLCB4KVxuICAgICAgICAgIC5hdHRyKCd5JywgeSlcbiAgICAgICAgICAuYXR0cignZHknLCBgJHsrK2xpbmVOdW1iZXIgKiBsaW5lSGVpZ2h0ICsgZHl9ZW1gKVxuICAgICAgICAgIC50ZXh0KHdvcmQpO1xuICAgICAgfVxuICAgICAgd29yZCA9IHdvcmRzLnBvcCgpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5jb25zdCBtb3ZlID0gZnVuY3Rpb24gbW92ZShhcnJheSwgZnJvbSwgdG8pIHtcbiAgYXJyYXkuc3BsaWNlKHRvLCAwLCBhcnJheS5zcGxpY2UoZnJvbSwgMSlbMF0pO1xuICByZXR1cm4gYXJyYXk7XG59O1xuXG5jb25zdCBzd2FwID0gZnVuY3Rpb24gc3dhcChhcnJheSwgaXgxLCBpeDIpIHtcbiAgW2FycmF5W2l4MV0sIGFycmF5W2l4Ml1dID0gW2FycmF5W2l4Ml0sIGFycmF5W2l4MV1dOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIHJldHVybiBhcnJheTtcbn07XG5cbmV4cG9ydCBjb25zdCBwcmVwYXJlX2RhdGFfcmFkYXJfZGVmYXVsdCA9IChkYXRhLCB2YXJpYWJsZXMpID0+IHtcbiAgLy8gUHJlcGFyZSB0aGUgZGF0YSBmb3IgXCJNeSBSw6lnaW9uXCI6XG4gIGNvbnN0IHZfbXlfcmVnaW9uID0gZGF0YS5maW5kKGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbik7XG4gIGNvbnN0IG9qYl9teV9yZWdpb24gPSB7XG4gICAgbmFtZTogYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbixcbiAgICBheGVzOiBbXSxcbiAgfTtcbiAgdmFyaWFibGVzLmZvckVhY2goKHYpID0+IHtcbiAgICBjb25zdCB0ID0gdmFyaWFibGVzX2luZm8uZmluZChkID0+IGQucmF0aW8gPT09IHYpLm5hbWU7XG4gICAgY29uc3QgX3YgPSBgcHJfJHt2fWA7XG4gICAgb2piX215X3JlZ2lvbi5heGVzLnB1c2goe1xuICAgICAgYXhpczogdCwgdmFsdWU6IHZfbXlfcmVnaW9uW192XSxcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBvamJfbXlfcmVnaW9uO1xufTtcblxuZXhwb3J0IGNvbnN0IHByZXBhcmVfZGF0YV9yYWRhcl9mdCA9IChkYXRhLCB2YXJpYWJsZXMsIGZ0KSA9PiB7XG4gIGNvbnN0IGZ0X3ZhbHVlcyA9IGRhdGEuZmluZChkID0+IGQuaWQgPT09IGZ0KTtcbiAgaWYgKCFmdF92YWx1ZXMpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBvYmogPSB7XG4gICAgbmFtZTogZnQsXG4gICAgYXhlczogW10sXG4gIH07XG4gIHZhcmlhYmxlcy5mb3JFYWNoKCh2KSA9PiB7XG4gICAgY29uc3QgdCA9IHZhcmlhYmxlc19pbmZvLmZpbmQoZCA9PiBkLnJhdGlvID09PSB2KS5uYW1lO1xuICAgIGNvbnN0IF92ID0gYHByXyR7dn1gO1xuICAgIG9iai5heGVzLnB1c2goe1xuICAgICAgYXhpczogdCwgdmFsdWU6IGZ0X3ZhbHVlc1tfdl0sXG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gb2JqO1xufTtcblxuZXhwb3J0IGNsYXNzIFJhZGFyQ2hhcnQzIHtcbiAgY29uc3RydWN0b3IoZGF0YSwgb3B0aW9ucykge1xuICAgIGNvbnN0IGNmZyA9IHtcbiAgICAgIHc6IHdpZHRoIC0gMjAsIC8vIFdpZHRoIG9mIHRoZSBjaXJjbGVcbiAgICAgIGg6IGhlaWdodCAtIDIwLCAvLyBIZWlnaHQgb2YgdGhlIGNpcmNsZVxuICAgICAgbWFyZ2luOiBtYXJnaW4sIC8vIFRoZSBtYXJnaW5zIG9mIHRoZSBTVkdcbiAgICAgIGxldmVsczogMTAsIC8vIEhvdyBtYW55IGxldmVscyBvciBpbm5lciBjaXJjbGVzIHNob3VsZCB0aGVyZSBiZSBkcmF3blxuICAgICAgbWF4VmFsdWU6IDEwMCwgLy8gV2hhdCBpcyB0aGUgdmFsdWUgdGhhdCB0aGUgYmlnZ2VzdCBjaXJjbGUgd2lsbCByZXByZXNlbnRcbiAgICAgIGxhYmVsRmFjdG9yOiAxLjMsIC8vIEhvdyBtdWNoIGZhcnRoZXIgdGhhbiB0aGUgcmFkaXVzIG9mIHRoZSBvdXRlciBjaXJjbGUgc2hvdWxkIHRoZSBsYWJlbHMgYmUgcGxhY2VkXG4gICAgICB3cmFwV2lkdGg6IDk1LCAvLyBUaGUgbnVtYmVyIG9mIHBpeGVscyBhZnRlciB3aGljaCBhIGxhYmVsIG5lZWRzIHRvIGJlIGdpdmVuIGEgbmV3IGxpbmVcbiAgICAgIG9wYWNpdHlBcmVhOiAwLjEwLCAvLyBUaGUgb3BhY2l0eSBvZiB0aGUgYXJlYSBvZiB0aGUgYmxvYlxuICAgICAgZG90UmFkaXVzOiA0LCAvLyBUaGUgc2l6ZSBvZiB0aGUgY29sb3JlZCBjaXJjbGVzIG9mIGVhY2ggYmxvZ1xuICAgICAgb3BhY2l0eUNpcmNsZXM6IDAuMSwgLy8gVGhlIG9wYWNpdHkgb2YgdGhlIGNpcmNsZXMgb2YgZWFjaCBibG9iXG4gICAgICBzdHJva2VXaWR0aDogMiwgLy8gVGhlIHdpZHRoIG9mIHRoZSBzdHJva2UgYXJvdW5kIGVhY2ggYmxvYlxuICAgICAgcm91bmRTdHJva2VzOiB0cnVlLCAvLyBJZiB0cnVlIHRoZSBhcmVhIGFuZCBzdHJva2Ugd2lsbCBmb2xsb3cgYSByb3VuZCBwYXRoIChjYXJkaW5hbC1jbG9zZWQpXG4gICAgICBjb2xvcjogZDMuc2NhbGVPcmRpbmFsKFtjb2xvcl9oaWdobGlnaHRdLmNvbmNhdChkMy5zY2hlbWVDYXRlZ29yeTEwKSksIC8vIENvbG9yIGZ1bmN0aW9uLFxuICAgICAgZm9ybWF0OiAnLjInLCAvLyBUaGUgZm9ybWF0IHN0cmluZyB0byBiZSB1c2VkIGJ5IGQzLmZvcm1hdFxuICAgICAgdW5pdDogJyUnLCAvLyBUaGUgdW5pdCB0byBkaXNwbGF5IGFmdGVyIHRoZSBudW1iZXIgb24gdGhlIGF4aXMgYW5kIHBvaW50IHRvb2x0aXBzIChsaWtlICQsIOKCrCwgJSwgZXRjKVxuICAgICAgbGVnZW5kOiBmYWxzZSxcbiAgICAgIGFsbG93SW52ZXJzZURhdGE6IHRydWUsXG4gICAgfTtcbiAgICB0aGlzLmNmZyA9IGNmZztcbiAgICAvLyBQdXQgYWxsIG9mIHRoZSBvcHRpb25zIGludG8gYSB2YXJpYWJsZSBjYWxsZWQgY2ZnXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc3Qgb3B0c19rZXkgPSBPYmplY3Qua2V5cyhvcHRpb25zKTtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBsZW5faSA9IG9wdHNfa2V5Lmxlbmd0aDsgaSA8IGxlbl9pOyBpKyspIHtcbiAgICAgICAgY29uc3QgayA9IG9wdHNfa2V5W2ldO1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnNba10gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgY2ZnW2tdID0gb3B0aW9uc1trXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZyA9IHN2Z19iYXIuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdpZCcsICdSYWRhckdycCcpXG4gICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke2NmZy53IC8gMiArIGNmZy5tYXJnaW4ubGVmdH0sJHtjZmcuaCAvIDIgKyBjZmcubWFyZ2luLnRvcH0pYCk7XG5cbiAgICB0aGlzLnByZXBhcmVEYXRhKGRhdGEpO1xuICAgIHRoaXMuZHJhd0F4aXNHcmlkKCk7XG4gICAgdGhpcy5kcmF3QXJlYSgpO1xuICAgIHRoaXMuaGFuZGxlTGVnZW5kKCk7XG5cbiAgICB0aGlzLmNvbXBsZXR1ZGUgPSBuZXcgQ29tcGxldHVkZVNlY3Rpb24oc3ZnX2Jhci5ub2RlKCkucGFyZW50RWxlbWVudCk7XG4gICAgLy8gQ29tcHV0ZSB0aGUgXCJjb21wbMOpdHVkZVwiIHZhbHVlIGZvciB0aGVzZSByYXRpb3M6XG4gICAgdGhpcy5jb21wbGV0dWRlLnVwZGF0ZShcbiAgICAgIGNhbGNDb21wbGV0dWRlU3Vic2V0KGFwcCwgdGhpcy52YXJpYWJsZXMsICdhcnJheScpLFxuICAgICAgY2FsY1BvcENvbXBsZXR1ZGVTdWJzZXQoYXBwLCB0aGlzLnZhcmlhYmxlcykpO1xuXG4gICAgaWYgKGNmZy5hbGxvd0ludmVyc2VEYXRhKSB7XG4gICAgICB0aGlzLmludmVyc2VfZGF0YSA9IChmaWVsZCkgPT4ge1xuICAgICAgICBjb25zdCBkYXRhX2xlbmd0aCA9IHRoaXMuZGF0YS5sZW5ndGg7XG4gICAgICAgIGlmICghZmllbGQpIHtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGFfbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF4ID0gdGhpcy5kYXRhW2ldLmF4ZXM7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGF4Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgIGF4W2pdLnZhbHVlID0gMTAwIC0gYXhbal0udmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YV9sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgYXggPSB0aGlzLmRhdGFbaV0uYXhlcztcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYXgubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgaWYgKGF4W2pdLmF4aXMgPT09IGZpZWxkKSB7XG4gICAgICAgICAgICAgICAgYXhbal0udmFsdWUgPSAxMDAgLSBheFtqXS52YWx1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgfTtcbiAgICB9XG4gICAgdGhpcy5tYWtlVGFibGVTdGF0KCk7XG4gIH1cblxuICBhZGRfZWxlbWVudChlbGVtKSB7XG4gICAgY29uc3Qgbl9heGlzID0gZWxlbS5heGVzLm1hcChpID0+IGkuYXhpcyk7XG4gICAgaWYgKCEoSlNPTi5zdHJpbmdpZnkobl9heGlzKSA9PT0gSlNPTi5zdHJpbmdpZnkodGhpcy5hbGxBeGlzKSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgZWxlbWVudCB3aXRoIHNhbWUgYXhlcyBuYW1lIHRoYW4gZXhpc3RpbmcgZGF0YS4nKTtcbiAgICB9XG4gICAgdGhpcy5kYXRhLnB1c2goZWxlbSk7XG4gICAgdGhpcy5kaXNwbGF5ZWRfaWRzLnB1c2goZWxlbS5uYW1lKTtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuZGF0YS5sZW5ndGg7IGorKykge1xuICAgICAgY29uc3Qgb25fYXhlcyA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmRhdGFbal0uYXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLmRhdGFbal0uYXhlc1tpXS5pZCA9IHRoaXMuZGF0YVtqXS5uYW1lO1xuICAgICAgICBvbl9heGVzLnB1c2godGhpcy5kYXRhW2pdLm5hbWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGNmZyA9IHRoaXMuY2ZnO1xuICAgIGNvbnN0IG4gPSB0aGlzLmRhdGEubGVuZ3RoIC0gMTtcbiAgICBjb25zdCBibG9iV3JhcHBlciA9IHRoaXMuZ1xuICAgICAgLmluc2VydCgnZycsICcucmFkYXJDaXJjbGVXcmFwcGVyJylcbiAgICAgIC5hdHRyKCdpZCcsIGVsZW0ubmFtZS5pbmRleE9mKCcgJykgPiAtMSA/ICdjdHgnIDogZWxlbS5uYW1lKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ3JhZGFyV3JhcHBlcicpO1xuXG4gICAgLy8gQXBwZW5kIHRoZSBiYWNrZ3JvdW5kc1xuICAgIGJsb2JXcmFwcGVyXG4gICAgICAuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdyYWRhckFyZWEnKVxuICAgICAgLmF0dHIoJ2QnLCB0aGlzLnJhZGFyTGluZShlbGVtLmF4ZXMpKVxuICAgICAgLnN0eWxlKCdmaWxsJywgY2ZnLmNvbG9yKG4pKVxuICAgICAgLnN0eWxlKCdmaWxsLW9wYWNpdHknLCBjZmcub3BhY2l0eUFyZWEpXG4gICAgICAub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gRGltIGFsbCBibG9ic1xuICAgICAgICBzZWxmLmcuc2VsZWN0QWxsKCcucmFkYXJBcmVhJylcbiAgICAgICAgICAudHJhbnNpdGlvbigpLmR1cmF0aW9uKDIwMClcbiAgICAgICAgICAuc3R5bGUoJ2ZpbGwtb3BhY2l0eScsIDApO1xuICAgICAgICAvLyBCcmluZyBiYWNrIHRoZSBob3ZlcmVkIG92ZXIgYmxvYlxuICAgICAgICBkMy5zZWxlY3QodGhpcylcbiAgICAgICAgICAudHJhbnNpdGlvbigpLmR1cmF0aW9uKDIwMClcbiAgICAgICAgICAuc3R5bGUoJ2ZpbGwtb3BhY2l0eScsIDAuMyk7XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZW91dCcsICgpID0+IHtcbiAgICAgICAgLy8gQnJpbmcgYmFjayBhbGwgYmxvYnNcbiAgICAgICAgc2VsZi5nLnNlbGVjdEFsbCgnLnJhZGFyQXJlYScpXG4gICAgICAgICAgLnRyYW5zaXRpb24oKS5kdXJhdGlvbigyMDApXG4gICAgICAgICAgLnN0eWxlKCdmaWxsLW9wYWNpdHknLCBjZmcub3BhY2l0eUFyZWEpO1xuICAgICAgfSk7XG4gICAgICAvLyAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgLy8gICBjb25zdCBwID0gdGhpcy5wYXJlbnRFbGVtZW50O1xuICAgICAgLy8gICBpZiAocC5wcmV2aW91c1NpYmxpbmcuY2xhc3NOYW1lICE9PSAndG9vbHRpcCcpIHtcbiAgICAgIC8vICAgICBjb25zdCBncm91cCA9IGcubm9kZSgpO1xuICAgICAgLy8gICAgIGdyb3VwLmluc2VydEJlZm9yZShwLCBncm91cC5xdWVyeVNlbGVjdG9yKCcudG9vbHRpcCcpKTtcbiAgICAgIC8vICAgICBjb25zdCBuZXdfb3JkZXIgPSBbXTtcbiAgICAgIC8vICAgICBnLnNlbGVjdEFsbCgnLnJhZGFyV3JhcHBlcicpLmVhY2goZCA9PiBuZXdfb3JkZXIucHVzaChkLm5hbWUpKTtcbiAgICAgIC8vICAgICBuZXdfb3JkZXIucmV2ZXJzZSgpO1xuICAgICAgLy8gICAgIHVwZGF0ZUxlZ2VuZChuZXdfb3JkZXIpO1xuICAgICAgLy8gICB9XG4gICAgICAvLyB9KTtcblxuICAgIC8vIENyZWF0ZSB0aGUgb3V0bGluZXNcbiAgICBibG9iV3JhcHBlci5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ3JhZGFyU3Ryb2tlJylcbiAgICAgIC5hdHRyKCdkJywgdGhpcy5yYWRhckxpbmUoZWxlbS5heGVzKSlcbiAgICAgIC5zdHlsZSgnc3Ryb2tlLXdpZHRoJywgYCR7Y2ZnLnN0cm9rZVdpZHRofXB4YClcbiAgICAgIC5zdHlsZSgnc3Ryb2tlJywgY2ZnLmNvbG9yKG4pKVxuICAgICAgLnN0eWxlKCdmaWxsJywgJ25vbmUnKVxuICAgICAgLnN0eWxlKCdmaWx0ZXInLCAndXJsKCNnbG93KScpO1xuXG4gICAgLy8gQXBwZW5kIHRoZSBjaXJjbGVzXG4gICAgYmxvYldyYXBwZXIuc2VsZWN0QWxsKCcucmFkYXJDaXJjbGUnKVxuICAgICAgLmRhdGEoZWxlbS5heGVzKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ2NpcmNsZScpXG4gICAgICAuYXR0cignY2xhc3MnLCAncmFkYXJDaXJjbGUnKVxuICAgICAgLmF0dHIoJ3InLCBjZmcuZG90UmFkaXVzKVxuICAgICAgLmF0dHIoJ2N4JywgKGQsIGkpID0+IHRoaXMuclNjYWxlKGQudmFsdWUpICogbWF0aF9jb3ModGhpcy5hbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpKVxuICAgICAgLmF0dHIoJ2N5JywgKGQsIGkpID0+IHRoaXMuclNjYWxlKGQudmFsdWUpICogbWF0aF9zaW4odGhpcy5hbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpKVxuICAgICAgLnN0eWxlKCdmaWxsJywgY2ZnLmNvbG9yKG4pKVxuICAgICAgLnN0eWxlKCdmaWxsLW9wYWNpdHknLCAwLjgpO1xuXG4gICAgYmxvYldyYXBwZXIubm9kZSgpLl9fZGF0YV9fID0gZWxlbTtcblxuICAgIC8vIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyAvLy8vLy8gQXBwZW5kIGludmlzaWJsZSBjaXJjbGVzIGZvciB0b29sdGlwIC8vLy8vLy8vLy8vXG4gICAgLy8gLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgLy8gV3JhcHBlciBmb3IgdGhlIGludmlzaWJsZSBjaXJjbGVzIG9uIHRvcFxuICAgIGNvbnN0IGJsb2JDaXJjbGVXcmFwcGVyID0gdGhpcy5nXG4gICAgICAuaW5zZXJ0KCdnJywgJy50b29sdGlwJylcbiAgICAgIC5hdHRyKCdpZCcsIGVsZW0ubmFtZS5pbmRleE9mKCcgJykgPiAtMSA/ICdjdHgnIDogZWxlbS5uYW1lKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ3JhZGFyQ2lyY2xlV3JhcHBlcicpO1xuXG4gICAgYmxvYkNpcmNsZVdyYXBwZXIubm9kZSgpLl9fZGF0YV9fID0gZWxlbTtcblxuICAgIC8vIEFwcGVuZCBhIHNldCBvZiBpbnZpc2libGUgY2lyY2xlcyBvbiB0b3AgZm9yIHRoZSBtb3VzZW92ZXIgcG9wLXVwXG4gICAgYmxvYkNpcmNsZVdyYXBwZXIuc2VsZWN0QWxsKCcucmFkYXJJbnZpc2libGVDaXJjbGUnKVxuICAgICAgLmRhdGEoZWxlbS5heGVzKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ2NpcmNsZScpXG4gICAgICAuYXR0cignY2xhc3MnLCAncmFkYXJJbnZpc2libGVDaXJjbGUnKVxuICAgICAgLmF0dHIoJ3InLCBjZmcuZG90UmFkaXVzICogMS41KVxuICAgICAgLmF0dHIoJ2N4JywgKGQsIGkpID0+IHRoaXMuclNjYWxlKGQudmFsdWUpICogbWF0aF9jb3ModGhpcy5hbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpKVxuICAgICAgLmF0dHIoJ2N5JywgKGQsIGkpID0+IHRoaXMuclNjYWxlKGQudmFsdWUpICogbWF0aF9zaW4odGhpcy5hbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpKVxuICAgICAgLnN0eWxlKCdmaWxsJywgJ25vbmUnKVxuICAgICAgLnN0eWxlKCdwb2ludGVyLWV2ZW50cycsICdhbGwnKVxuICAgICAgLm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICBzZWxmLmcuc2VsZWN0KCcudG9vbHRpcCcpXG4gICAgICAgICAgLmF0dHIoJ3gnLCB0aGlzLmN4LmJhc2VWYWwudmFsdWUgLSAxMClcbiAgICAgICAgICAuYXR0cigneScsIHRoaXMuY3kuYmFzZVZhbC52YWx1ZSAtIDEwKVxuICAgICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCAnYmxvY2snKVxuICAgICAgICAgIC50ZXh0KHNlbGYuRm9ybWF0KGQudmFsdWUpICsgY2ZnLnVuaXQpO1xuICAgICAgfSlcbiAgICAgIC5vbignbW91c2VvdXQnLCAoKSA9PiB7XG4gICAgICAgIHNlbGYuZy5zZWxlY3QoJy50b29sdGlwJykudHJhbnNpdGlvbigpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKS50ZXh0KCcnKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgY2hhbmdlT3JkZXIoKSB7XG4gICAgdGhpcy5kYXRhID0gdGhpcy5kYXRhLnNsaWNlKDEsIHRoaXMuZGF0YS5sZW5ndGgpLmNvbmNhdCh0aGlzLmRhdGEuc2xpY2UoMCwgMSkpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cblxuICBwcmVwYXJlRGF0YShkYXRhKSB7XG4gICAgLy8gU2V0IHRoZSBtaW5pbXVtIG51bWJlciBvZiB2YXJpYWJsZXMgdG8ga2VlcCBzZWxlY3RlZCBmb3IgdGhpcyBraW5kIG9mIGNoYXJ0OlxuICAgIGFwcC5jdXJyZW50X2NvbmZpZy5uYl92YXIgPSAzO1xuICAgIHRoaXMudmFyaWFibGVzID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvO1xuICAgIHRoaXMucmVmX2RhdGEgPSBkYXRhLnNsaWNlKCkuZmlsdGVyKFxuICAgICAgZnQgPT4gdGhpcy52YXJpYWJsZXMubWFwKHYgPT4gISFmdFt2XSkuZXZlcnkoZCA9PiBkID09PSB0cnVlKSk7XG4gICAgdGhpcy5yYW5rX3ZhcmlhYmxlcyA9IHRoaXMudmFyaWFibGVzLm1hcChkID0+IGBwcl8ke2R9YCk7XG4gICAgdGhpcy52YXJpYWJsZXMuZm9yRWFjaCgoZCwgaSkgPT4ge1xuICAgICAgY29tcHV0ZVBlcmNlbnRpbGVSYW5rKHRoaXMucmVmX2RhdGEsIGQsIHRoaXMucmFua192YXJpYWJsZXNbaV0pO1xuICAgIH0pO1xuICAgIHRoaXMuZGF0YSA9IFtwcmVwYXJlX2RhdGFfcmFkYXJfZGVmYXVsdCh0aGlzLnJlZl9kYXRhLCB0aGlzLnZhcmlhYmxlcyldO1xuICAgIHRoaXMuZGlzcGxheWVkX2lkcyA9IHRoaXMuZGF0YS5tYXAoZCA9PiBkLm5hbWUpO1xuICAgIHRoaXMuY3VycmVudF9pZHMgPSB0aGlzLnJlZl9kYXRhLm1hcChkID0+IGQuaWQpO1xuICAgIHRoaXMuaWRfbXlfcmVnaW9uID0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbjtcblxuICAgIC8vIElmIHRoZSBzdXBwbGllZCBtYXhWYWx1ZSBpcyBzbWFsbGVyIHRoYW4gdGhlIGFjdHVhbCBvbmUsIHJlcGxhY2UgYnkgdGhlIG1heCBpbiB0aGUgZGF0YVxuICAgIGxldCBtYXhWYWx1ZSA9IDA7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmRhdGEubGVuZ3RoOyBqKyspIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kYXRhW2pdLmF4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5kYXRhW2pdLmF4ZXNbaV0uaWQgPSB0aGlzLmRhdGFbal0ubmFtZTtcbiAgICAgICAgaWYgKHRoaXMuZGF0YVtqXS5heGVzW2ldLnZhbHVlID4gbWF4VmFsdWUpIHtcbiAgICAgICAgICBtYXhWYWx1ZSA9IHRoaXMuZGF0YVtqXS5heGVzW2ldLnZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5tYXhWYWx1ZSA9IG1hdGhfbWF4KHRoaXMuY2ZnLm1heFZhbHVlLCBtYXhWYWx1ZSk7XG4gICAgdGhpcy5hbGxBeGlzID0gdGhpcy5kYXRhWzBdLmF4ZXMubWFwKGkgPT4gaS5heGlzKTsgLy8gTmFtZXMgb2YgZWFjaCBheGlzXG4gICAgdGhpcy50b3RhbCA9IHRoaXMuYWxsQXhpcy5sZW5ndGg7IC8vIFRoZSBudW1iZXIgb2YgZGlmZmVyZW50IGF4ZXNcbiAgICB0aGlzLnJhZGl1cyA9IE1hdGgubWluKHRoaXMuY2ZnLncgLyAyLCB0aGlzLmNmZy5oIC8gMik7IC8vIFJhZGl1cyBvZiB0aGUgb3V0ZXJtb3N0IGNpcmNsZVxuICAgIHRoaXMuRm9ybWF0ID0gZDMuZm9ybWF0KHRoaXMuY2ZnLmZvcm1hdCk7IC8vIEZvcm1hdHRpbmdcbiAgICB0aGlzLmFuZ2xlU2xpY2UgPSBNYXRoLlBJICogMiAvIHRoaXMudG90YWw7IC8vIFRoZSB3aWR0aCBpbiByYWRpYW5zIG9mIGVhY2ggXCJzbGljZVwiXG4gICAgLy8gU2NhbGUgZm9yIHRoZSByYWRpdXNcbiAgICB0aGlzLnJTY2FsZSA9IGQzLnNjYWxlTGluZWFyKClcbiAgICAgIC5yYW5nZShbMCwgdGhpcy5yYWRpdXNdKVxuICAgICAgLmRvbWFpbihbMCwgdGhpcy5tYXhWYWx1ZV0pO1xuICAgIC8vIFRoZSByYWRpYWwgbGluZSBmdW5jdGlvblxuICAgIHRoaXMucmFkYXJMaW5lID0gZDMucmFkaWFsTGluZSgpXG4gICAgICAuY3VydmUodGhpcy5jZmcucm91bmRTdHJva2VzID8gZDMuY3VydmVDYXJkaW5hbENsb3NlZCA6IGQzLmN1cnZlTGluZWFyQ2xvc2VkKVxuICAgICAgLnJhZGl1cyhkID0+IHRoaXMuclNjYWxlKGQudmFsdWUpKVxuICAgICAgLmFuZ2xlKChkLCBpKSA9PiBpICogdGhpcy5hbmdsZVNsaWNlKTtcbiAgfVxuXG4gIGRyYXdBeGlzR3JpZCgpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBjZmcgPSB0aGlzLmNmZztcbiAgICBjb25zdCBnID0gdGhpcy5nO1xuICAgIGNvbnN0IHJhZGl1cyA9IHRoaXMucmFkaXVzO1xuICAgIGNvbnN0IG1heFZhbHVlID0gdGhpcy5tYXhWYWx1ZTtcbiAgICBjb25zdCByU2NhbGUgPSB0aGlzLnJTY2FsZTtcbiAgICBjb25zdCBhbmdsZVNsaWNlID0gdGhpcy5hbmdsZVNsaWNlO1xuXG4gICAgY29uc3QgbGFiZWxDbGlja2VkID0gZnVuY3Rpb24gbGFiZWxDbGlja2VkKCkge1xuICAgICAgY29uc3QgaXggPSArdGhpcy5pZDtcbiAgICAgIGlmIChpeCArIDEgPT09IHNlbGYuYWxsQXhpcy5sZW5ndGgpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxmLmRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBzd2FwKHNlbGYuZGF0YVtpXS5heGVzLCBpeCwgMCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG5ld19peCA9IGl4ICsgMTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxmLmRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBtb3ZlKHNlbGYuZGF0YVtpXS5heGVzLCBpeCwgbmV3X2l4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc2VsZi51cGRhdGUoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgbGFiZWxDdHhNZW51ID0gZnVuY3Rpb24gbGFiZWxDdHhNZW51KGxhYmVsKSB7XG4gICAgICBkMy5ldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGQzLmV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBzZWxmLmludmVyc2VfZGF0YShsYWJlbCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGF4aXNHcmlkID0gZy5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdheGlzV3JhcHBlcicpO1xuXG4gICAgLy8gRHJhdyB0aGUgYmFja2dyb3VuZCBjaXJjbGVzXG4gICAgYXhpc0dyaWQuc2VsZWN0QWxsKCcubGV2ZWxzJylcbiAgICAgIC5kYXRhKGQzLnJhbmdlKDEsIChjZmcubGV2ZWxzICsgMSkpLnJldmVyc2UoKSlcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdjaXJjbGUnKVxuICAgICAgLmF0dHJzKGQgPT4gKHtcbiAgICAgICAgY2xhc3M6ICdncmlkQ2lyY2xlJyxcbiAgICAgICAgcjogcmFkaXVzIC8gY2ZnLmxldmVscyAqIGQsXG4gICAgICB9KSlcbiAgICAgIC5zdHlsZXMoKGQpID0+IHtcbiAgICAgICAgaWYgKGQgPT09IDUpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZmlsbDogJyNDRENEQ0QnLFxuICAgICAgICAgICAgc3Ryb2tlOiAncmdiKDI0NSwgMTM4LCAxMzgpJyxcbiAgICAgICAgICAgICdzdHJva2UtZGFzaGFycmF5JzogJzUsIDUnLFxuICAgICAgICAgICAgJ2ZpbGwtb3BhY2l0eSc6IGNmZy5vcGFjaXR5Q2lyY2xlcyxcbiAgICAgICAgICAgIGZpbHRlcjogJ3VybCgjZ2xvdyknLFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBmaWxsOiAnI0NEQ0RDRCcsXG4gICAgICAgICAgc3Ryb2tlOiAnI0NEQ0RDRCcsXG4gICAgICAgICAgJ2ZpbGwtb3BhY2l0eSc6IGNmZy5vcGFjaXR5Q2lyY2xlcyxcbiAgICAgICAgICBmaWx0ZXI6ICd1cmwoI2dsb3cpJyxcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuXG5cbiAgICAvLyAvLyBUZXh0IGluZGljYXRpbmcgYXQgd2hhdCAlIGVhY2ggbGV2ZWwgaXNcbiAgICAvLyBheGlzR3JpZC5zZWxlY3RBbGwoJy5heGlzTGFiZWwnKVxuICAgIC8vICAgLmRhdGEoZDMucmFuZ2UoMSwgKGNmZy5sZXZlbHMgKyAxKSkucmV2ZXJzZSgpKVxuICAgIC8vICAgLmVudGVyKCkuYXBwZW5kKCd0ZXh0JylcbiAgICAvLyAgIC5hdHRyKCdjbGFzcycsICdheGlzTGFiZWwnKVxuICAgIC8vICAgLmF0dHIoJ3gnLCA0KVxuICAgIC8vICAgLmF0dHIoJ3knLCBkID0+IC1kICogcmFkaXVzIC8gY2ZnLmxldmVscylcbiAgICAvLyAgIC5hdHRyKCdkeScsICcwLjRlbScpXG4gICAgLy8gICAuc3R5bGUoJ2ZvbnQtc2l6ZScsICcxMHB4JylcbiAgICAvLyAgIC5hdHRyKCdmaWxsJywgJyM3MzczNzMnKVxuICAgIC8vICAgLnRleHQoZCA9PiBGb3JtYXQobWF4VmFsdWUgKiBkIC8gY2ZnLmxldmVscykgKyBjZmcudW5pdCk7XG5cbiAgICAvLyBDcmVhdGUgdGhlIHN0cmFpZ2h0IGxpbmVzIHJhZGlhdGluZyBvdXR3YXJkIGZyb20gdGhlIGNlbnRlclxuICAgIGNvbnN0IGF4aXMgPSBheGlzR3JpZC5zZWxlY3RBbGwoJy5heGlzJylcbiAgICAgIC5kYXRhKHRoaXMuYWxsQXhpcylcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdheGlzJyk7XG4gICAgLy8gQXBwZW5kIHRoZSBsaW5lc1xuICAgIGF4aXMuYXBwZW5kKCdsaW5lJylcbiAgICAgIC5hdHRyKCd4MScsIDApXG4gICAgICAuYXR0cigneTEnLCAwKVxuICAgICAgLmF0dHIoJ3gyJywgKGQsIGkpID0+IHJTY2FsZShtYXhWYWx1ZSAqIDEuMSkgKiBtYXRoX2NvcyhhbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpKVxuICAgICAgLmF0dHIoJ3kyJywgKGQsIGkpID0+IHJTY2FsZShtYXhWYWx1ZSAqIDEuMSkgKiBtYXRoX3NpbihhbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2xpbmUnKVxuICAgICAgLnN0eWxlKCdzdHJva2UnLCAnd2hpdGUnKVxuICAgICAgLnN0eWxlKCdzdHJva2Utd2lkdGgnLCAnMnB4Jyk7XG5cbiAgICAvLyBBcHBlbmQgdGhlIGxhYmVscyBhdCBlYWNoIGF4aXNcbiAgICBheGlzLmFwcGVuZCgndGV4dCcpXG4gICAgICAuYXR0cignY2xhc3MnLCAnbGVnZW5kJylcbiAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgJzExcHgnKVxuICAgICAgLmF0dHIoJ2lkJywgKGQsIGkpID0+IGkpXG4gICAgICAuYXR0cigndGV4dC1hbmNob3InLCAnbWlkZGxlJylcbiAgICAgIC5hdHRyKCdkeScsICcwLjM1ZW0nKVxuICAgICAgLmF0dHIoJ3gnLCAoZCwgaSkgPT4gclNjYWxlKG1heFZhbHVlICogY2ZnLmxhYmVsRmFjdG9yKSAqIG1hdGhfY29zKGFuZ2xlU2xpY2UgKiBpIC0gSEFMRl9QSSkpXG4gICAgICAuYXR0cigneScsIChkLCBpKSA9PiByU2NhbGUobWF4VmFsdWUgKiBjZmcubGFiZWxGYWN0b3IpICogbWF0aF9zaW4oYW5nbGVTbGljZSAqIGkgLSBIQUxGX1BJKSlcbiAgICAgIC50ZXh0KGQgPT4gZClcbiAgICAgIC5vbignY2xpY2snLCBsYWJlbENsaWNrZWQpXG4gICAgICAub24oJ2NvbnRleHRtZW51JywgY2ZnLmFsbG93SW52ZXJzZURhdGEgPyBsYWJlbEN0eE1lbnUgOiBudWxsKVxuICAgICAgLmNhbGwod3JhcCwgY2ZnLndyYXBXaWR0aCk7XG5cbiAgICAvLyBGaWx0ZXIgZm9yIHRoZSBvdXRzaWRlIGdsb3dcbiAgICBjb25zdCBmaWx0ZXIgPSBnLmFwcGVuZCgnZGVmcycpXG4gICAgICAuYXBwZW5kKCdmaWx0ZXInKVxuICAgICAgLmF0dHIoJ2lkJywgJ2dsb3cnKTtcbiAgICBmaWx0ZXIuYXBwZW5kKCdmZUdhdXNzaWFuQmx1cicpXG4gICAgICAuYXR0cignc3RkRGV2aWF0aW9uJywgJzIuNScpXG4gICAgICAuYXR0cigncmVzdWx0JywgJ2NvbG9yZWRCbHVyJyk7XG4gICAgY29uc3QgZmVNZXJnZSA9IGZpbHRlci5hcHBlbmQoJ2ZlTWVyZ2UnKTtcbiAgICBmZU1lcmdlLmFwcGVuZCgnZmVNZXJnZU5vZGUnKS5hdHRyKCdpbicsICdjb2xvcmVkQmx1cicpO1xuICAgIGZlTWVyZ2UuYXBwZW5kKCdmZU1lcmdlTm9kZScpLmF0dHIoJ2luJywgJ1NvdXJjZUdyYXBoaWMnKTtcblxuICAgIHRoaXMuYXhpc0dyaWQgPSBheGlzR3JpZDtcbiAgfVxuXG4gIGhhbmRsZUxlZ2VuZCgpIHtcbiAgICBjb25zdCBjZmcgPSB0aGlzLmNmZztcbiAgICBpZiAoY2ZnLmxlZ2VuZCAhPT0gZmFsc2UgJiYgdHlwZW9mIGNmZy5sZWdlbmQgPT09ICdvYmplY3QnKSB7XG4gICAgICBjb25zdCBuYW1lcyA9IHRoaXMuZGF0YS5tYXAoZWwgPT4gZWwubmFtZSk7XG4gICAgICBpZiAoY2ZnLmxlZ2VuZC50aXRsZSkge1xuICAgICAgICB0aGlzLmxlZ2VuZFpvbmUuYXBwZW5kKCd0ZXh0JylcbiAgICAgICAgICAuYXR0cignY2xhc3MnLCAndGl0bGUnKVxuICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDAsIC0yMCknKVxuICAgICAgICAgIC5hdHRyKCd4JywgY2ZnLncgLSA3MClcbiAgICAgICAgICAuYXR0cigneScsIDEwKVxuICAgICAgICAgIC5hdHRyKCdmb250LXNpemUnLCAnMTJweCcpXG4gICAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnIzQwNDA0MCcpXG4gICAgICAgICAgLnRleHQoY2ZnLmxlZ2VuZC50aXRsZSk7XG4gICAgICB9XG4gICAgICBjb25zdCBsZWdlbmQgPSB0aGlzLmxlZ2VuZFpvbmVcbiAgICAgICAgLnNlbGVjdEFsbCgnZycpXG4gICAgICAgIC5kYXRhKG5hbWVzKTtcbiAgICAgIGNvbnN0IGxlZ2VuZEVudGVyID0gbGVnZW5kXG4gICAgICAgIC5lbnRlcigpXG4gICAgICAgIC5hcHBlbmQoJ2cnKTtcblxuICAgICAgLy8gQ3JlYXRlIHJlY3RhbmdsZXMgbWFya2Vyc1xuICAgICAgbGVnZW5kRW50ZXJcbiAgICAgICAgLmFwcGVuZCgncmVjdCcpXG4gICAgICAgIC5hdHRycygoZCwgaSkgPT4gKHtcbiAgICAgICAgICB4OiBjZmcudyAtIDY1LFxuICAgICAgICAgIHk6IGkgKiAyMCxcbiAgICAgICAgICB3aWR0aDogMTAsXG4gICAgICAgICAgaGVpZ2h0OiAxMCxcbiAgICAgICAgfSkpXG4gICAgICAgIC5zdHlsZSgnZmlsbCcsIGQgPT4gY2ZnLmNvbG9yKGQpKTtcblxuICAgICAgLy8gQ3JlYXRlIGxhYmVsc1xuICAgICAgbGVnZW5kRW50ZXJcbiAgICAgICAgLmFwcGVuZCgndGV4dCcpXG4gICAgICAgIC5hdHRycygoZCwgaSkgPT4gKHtcbiAgICAgICAgICB4OiBjZmcudyAtIDUyLFxuICAgICAgICAgIHk6IGkgKiAyMCArIDksXG4gICAgICAgICAgZmlsbDogJyM3MzczNzMnLFxuICAgICAgICAgICdmb250LXNpemUnOiAnMTFweCcsXG4gICAgICAgIH0pKVxuICAgICAgICAudGV4dChkID0+IGQpO1xuXG4gICAgICBsZWdlbmQubWVyZ2UobGVnZW5kRW50ZXIpLnNlbGVjdEFsbCgncmVjdCcpXG4gICAgICAgIC5hdHRyKCd5JywgKGQsIGkpID0+IGkgKiAyMClcbiAgICAgICAgLnN0eWxlKCdmaWxsJywgZCA9PiBjZmcuY29sb3IoZCkpO1xuXG4gICAgICBsZWdlbmQubWVyZ2UobGVnZW5kRW50ZXIpLnNlbGVjdEFsbCgndGV4dCcpXG4gICAgICAgIC5hdHRycygoZCwgaSkgPT4gKHtcbiAgICAgICAgICB4OiBjZmcudyAtIDUyLFxuICAgICAgICAgIHk6IGkgKiAyMCArIDksXG4gICAgICAgIH0pKVxuICAgICAgICAudGV4dChkID0+IGQpO1xuXG4gICAgICBsZWdlbmQuZXhpdCgpLnJlbW92ZSgpO1xuICAgIH1cbiAgfVxuXG4gIGRyYXdBcmVhKCkge1xuICAgIGNvbnN0IGNmZyA9IHRoaXMuY2ZnO1xuICAgIGNvbnN0IGcgPSB0aGlzLmc7XG4gICAgY29uc3QgRm9ybWF0ID0gdGhpcy5Gb3JtYXQ7XG4gICAgY29uc3QgclNjYWxlID0gdGhpcy5yU2NhbGU7XG4gICAgY29uc3QgYW5nbGVTbGljZSA9IHRoaXMuYW5nbGVTbGljZTtcblxuICAgIC8vIENyZWF0ZSBhIHdyYXBwZXIgZm9yIHRoZSBibG9ic1xuICAgIGNvbnN0IGJsb2JXcmFwcGVyID0gZy5zZWxlY3RBbGwoJy5yYWRhcldyYXBwZXInKVxuICAgICAgLmRhdGEodGhpcy5kYXRhLCBkID0+IGQubmFtZSlcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdpZCcsIGQgPT4gKGQubmFtZS5pbmRleE9mKCcgJykgPiAtMSA/ICdjdHgnIDogZC5uYW1lKSlcbiAgICAgIC5hdHRyKCdjbGFzcycsICdyYWRhcldyYXBwZXInKTtcblxuICAgIC8vIEFwcGVuZCB0aGUgYmFja2dyb3VuZHNcbiAgICBibG9iV3JhcHBlclxuICAgICAgLmFwcGVuZCgncGF0aCcpXG4gICAgICAuYXR0cignY2xhc3MnLCAncmFkYXJBcmVhJylcbiAgICAgIC5hdHRyKCdkJywgZCA9PiB0aGlzLnJhZGFyTGluZShkLmF4ZXMpKVxuICAgICAgLnN0eWxlKCdmaWxsJywgKGQsIGkpID0+IGNmZy5jb2xvcihpKSlcbiAgICAgIC5zdHlsZSgnZmlsbC1vcGFjaXR5JywgY2ZnLm9wYWNpdHlBcmVhKVxuICAgICAgLm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIERpbSBhbGwgYmxvYnNcbiAgICAgICAgZy5zZWxlY3RBbGwoJy5yYWRhckFyZWEnKVxuICAgICAgICAgIC50cmFuc2l0aW9uKCkuZHVyYXRpb24oMjAwKVxuICAgICAgICAgIC5zdHlsZSgnZmlsbC1vcGFjaXR5JywgMC4xKTtcbiAgICAgICAgLy8gQnJpbmcgYmFjayB0aGUgaG92ZXJlZCBvdmVyIGJsb2JcbiAgICAgICAgZDMuc2VsZWN0KHRoaXMpXG4gICAgICAgICAgLnRyYW5zaXRpb24oKS5kdXJhdGlvbigyMDApXG4gICAgICAgICAgLnN0eWxlKCdmaWxsLW9wYWNpdHknLCAwLjcpO1xuICAgICAgfSlcbiAgICAgIC5vbignbW91c2VvdXQnLCAoKSA9PiB7XG4gICAgICAgIGcuc2VsZWN0QWxsKCcucmFkYXJBcmVhJylcbiAgICAgICAgICAudHJhbnNpdGlvbigpLmR1cmF0aW9uKDIwMClcbiAgICAgICAgICAuc3R5bGUoJ2ZpbGwtb3BhY2l0eScsIGNmZy5vcGFjaXR5QXJlYSk7XG4gICAgICB9KTtcblxuICAgIC8vIENyZWF0ZSB0aGUgb3V0bGluZXNcbiAgICBibG9iV3JhcHBlci5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ3JhZGFyU3Ryb2tlJylcbiAgICAgIC5hdHRyKCdkJywgZCA9PiB0aGlzLnJhZGFyTGluZShkLmF4ZXMpKVxuICAgICAgLnN0eWxlKCdzdHJva2Utd2lkdGgnLCBgJHtjZmcuc3Ryb2tlV2lkdGh9cHhgKVxuICAgICAgLnN0eWxlKCdzdHJva2UnLCAoZCwgaSkgPT4gY2ZnLmNvbG9yKGkpKVxuICAgICAgLnN0eWxlKCdmaWxsJywgJ25vbmUnKVxuICAgICAgLnN0eWxlKCdmaWx0ZXInLCAndXJsKCNnbG93KScpO1xuXG4gICAgLy8gQXBwZW5kIHRoZSBjaXJjbGVzXG4gICAgYmxvYldyYXBwZXIuc2VsZWN0QWxsKCcucmFkYXJDaXJjbGUnKVxuICAgICAgLmRhdGEoZCA9PiBkLmF4ZXMpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgnY2lyY2xlJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdyYWRhckNpcmNsZScpXG4gICAgICAuYXR0cigncicsIGNmZy5kb3RSYWRpdXMpXG4gICAgICAuYXR0cignY3gnLCAoZCwgaSkgPT4gclNjYWxlKGQudmFsdWUpICogbWF0aF9jb3MoYW5nbGVTbGljZSAqIGkgLSBIQUxGX1BJKSlcbiAgICAgIC5hdHRyKCdjeScsIChkLCBpKSA9PiByU2NhbGUoZC52YWx1ZSkgKiBtYXRoX3NpbihhbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpKVxuICAgICAgLnN0eWxlKCdmaWxsJywgY2ZnLmNvbG9yKDApKVxuICAgICAgLnN0eWxlKCdmaWxsLW9wYWNpdHknLCAwLjgpO1xuXG4gICAgLy8gLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIC8vIC8vLy8vLyBBcHBlbmQgaW52aXNpYmxlIGNpcmNsZXMgZm9yIHRvb2x0aXAgLy8vLy8vLy8vLy9cbiAgICAvLyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAvLyBXcmFwcGVyIGZvciB0aGUgaW52aXNpYmxlIGNpcmNsZXMgb24gdG9wXG4gICAgY29uc3QgYmxvYkNpcmNsZVdyYXBwZXIgPSBnLnNlbGVjdEFsbCgnLnJhZGFyQ2lyY2xlV3JhcHBlcicpXG4gICAgICAuZGF0YSh0aGlzLmRhdGEsIGQgPT4gZC5uYW1lKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2lkJywgZCA9PiAoZC5uYW1lLmluZGV4T2YoJyAnKSA+IC0xID8gJ2N0eCcgOiBkLm5hbWUpKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ3JhZGFyQ2lyY2xlV3JhcHBlcicpO1xuXG4gICAgLy8gQXBwZW5kIGEgc2V0IG9mIGludmlzaWJsZSBjaXJjbGVzIG9uIHRvcCBmb3IgdGhlIG1vdXNlb3ZlciBwb3AtdXBcbiAgICBibG9iQ2lyY2xlV3JhcHBlci5zZWxlY3RBbGwoJy5yYWRhckludmlzaWJsZUNpcmNsZScpXG4gICAgICAuZGF0YShkID0+IGQuYXhlcylcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdjaXJjbGUnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ3JhZGFySW52aXNpYmxlQ2lyY2xlJylcbiAgICAgIC5hdHRyKCdyJywgY2ZnLmRvdFJhZGl1cyAqIDEuNSlcbiAgICAgIC5hdHRyKCdjeCcsIChkLCBpKSA9PiByU2NhbGUoZC52YWx1ZSkgKiBtYXRoX2NvcyhhbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpKVxuICAgICAgLmF0dHIoJ2N5JywgKGQsIGkpID0+IHJTY2FsZShkLnZhbHVlKSAqIG1hdGhfc2luKGFuZ2xlU2xpY2UgKiBpIC0gSEFMRl9QSSkpXG4gICAgICAuc3R5bGUoJ2ZpbGwnLCAnbm9uZScpXG4gICAgICAuc3R5bGUoJ3BvaW50ZXItZXZlbnRzJywgJ2FsbCcpXG4gICAgICAub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgIGcuc2VsZWN0KCcudG9vbHRpcCcpXG4gICAgICAgICAgLmF0dHIoJ3gnLCB0aGlzLmN4LmJhc2VWYWwudmFsdWUgLSAxMClcbiAgICAgICAgICAuYXR0cigneScsIHRoaXMuY3kuYmFzZVZhbC52YWx1ZSAtIDEwKVxuICAgICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCAnYmxvY2snKVxuICAgICAgICAgIC50ZXh0KEZvcm1hdChkLnZhbHVlKSArIGNmZy51bml0KTtcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlb3V0JywgKCkgPT4ge1xuICAgICAgICBnLnNlbGVjdCgnLnRvb2x0aXAnKS50cmFuc2l0aW9uKClcbiAgICAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpLnRleHQoJycpO1xuICAgICAgfSk7XG5cbiAgICBjb25zdCB0b29sdGlwID0gZy5hcHBlbmQoJ3RleHQnKVxuICAgICAgLmF0dHJzKHsgY2xhc3M6ICd0b29sdGlwJywgeDogMCwgeTogMCwgZHk6ICcwLjM1ZW0nLCAndGV4dC1hbmNob3InOiAnbWlkZGxlJyB9KVxuICAgICAgLnN0eWxlcyh7ICdmb250LXNpemUnOiAnMTJweCcsIGRpc3BsYXk6ICdub25lJyB9KTtcblxuICAgIHRoaXMubGVnZW5kWm9uZSA9IHN2Z19iYXIuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIGlkOiAnbGVnZW5kWm9uZScsXG4gICAgICAgIGNsYXNzOiAnbGVnZW5kJyxcbiAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7Y2ZnLmxlZ2VuZC50cmFuc2xhdGVYfSwke2NmZy5sZWdlbmQudHJhbnNsYXRlWSArIDIwfSlgLFxuICAgICAgfSk7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgY29uc3QgclNjYWxlID0gdGhpcy5yU2NhbGU7XG4gICAgY29uc3QgbWF4VmFsdWUgPSB0aGlzLm1heFZhbHVlO1xuICAgIGNvbnN0IGNmZyA9IHRoaXMuY2ZnO1xuICAgIGNvbnN0IGFuZ2xlU2xpY2UgPSB0aGlzLmFuZ2xlU2xpY2U7XG4gICAgLy8gY29uc29sZS5sb2codGhpcy5jdXJyZW50X2lkcyk7XG4gICAgLy8gaWYgKG5ld19kYXRhKSB7XG4gICAgLy8gICBjb25zdCBuZXdfYXhpcyA9IG5ld19kYXRhWzBdLmF4ZXMubWFwKGVsZW0gPT4gZWxlbS5heGlzKTtcbiAgICAvLyAgIGlmICghKEpTT04uc3RyaW5naWZ5KG5ld19heGlzKSA9PT0gSlNPTi5zdHJpbmdpZnkodGhpcy5hbGxBeGlzKSkpIHtcbiAgICAvLyAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBlbGVtZW50IHdpdGggc2FtZSBheGVzIG5hbWUgdGhhbiBleGlzdGluZyBkYXRhLicpO1xuICAgIC8vICAgfVxuICAgIC8vICAgdGhpcy5kYXRhID0gbmV3X2RhdGE7XG4gICAgLy8gICB0aGlzLmFsbEF4aXMgPSBuZXdfYXhpcztcbiAgICAvLyB9IGVsc2Uge1xuICAgIHRoaXMuYWxsQXhpcyA9IHRoaXMuZGF0YVswXS5heGVzLm1hcChlbGVtID0+IGVsZW0uYXhpcyk7XG4gICAgLy8gfVxuICAgIGNvbnN0IHVwZGF0ZV9heGlzID0gdGhpcy5heGlzR3JpZC5zZWxlY3RBbGwoJy5heGlzJylcbiAgICAgIC5kYXRhKHRoaXMuYWxsQXhpcyk7XG5cbiAgICBjb25zdCB0ID0gdGhpcy5nLnNlbGVjdEFsbCgnLnJhZGFyV3JhcHBlcicpXG4gICAgICAudHJhbnNpdGlvbigpXG4gICAgICAuZHVyYXRpb24oMjI1KTtcbiAgICAgIC8vIC5vbignZW5kJywgKCkgPT4ge1xuICAgICAgLy8gICBwYXJlbnQuc2VsZWN0QWxsKCd0ZXh0LmxlZ2VuZCcpXG4gICAgICAvLyAgICAgLnRleHQoZCA9PiBkKVxuICAgICAgLy8gICAgIC5jYWxsKHdyYXAsIGNmZy53cmFwV2lkdGgpO1xuICAgICAgLy8gICAvLyB3cmFwKHBhcmVudC5zZWxlY3RBbGwoJ3RleHQubGVnZW5kJyksIGNmZy53cmFwV2lkdGgpO1xuICAgICAgLy8gfSk7XG4gICAgdXBkYXRlX2F4aXMuc2VsZWN0KCd0ZXh0LmxlZ2VuZCcpXG4gICAgICAuYXR0cnMoKGQsIGkpID0+ICh7XG4gICAgICAgIGlkOiBpLFxuICAgICAgICB4OiByU2NhbGUobWF4VmFsdWUgKiBjZmcubGFiZWxGYWN0b3IpICogbWF0aF9jb3MoYW5nbGVTbGljZSAqIGkgLSBIQUxGX1BJKSxcbiAgICAgICAgeTogclNjYWxlKG1heFZhbHVlICogY2ZnLmxhYmVsRmFjdG9yKSAqIG1hdGhfc2luKGFuZ2xlU2xpY2UgKiBpIC0gSEFMRl9QSSksXG4gICAgICB9KSlcbiAgICAgIC50ZXh0KGQgPT4gZClcbiAgICAgIC5jYWxsKHdyYXAsIGNmZy53cmFwV2lkdGgpO1xuXG4gICAgY29uc3QgdXBkYXRlX2Jsb2JXcmFwcGVyID0gdGhpcy5nLnNlbGVjdEFsbCgnLnJhZGFyV3JhcHBlcicpXG4gICAgICAuZGF0YSh0aGlzLmRhdGEsIGQgPT4gZC5uYW1lKTtcblxuICAgIHVwZGF0ZV9ibG9iV3JhcHBlci5zZWxlY3QoJy5yYWRhckFyZWEnKVxuICAgICAgLnRyYW5zaXRpb24odClcbiAgICAgIC5hdHRyKCdkJywgZCA9PiB0aGlzLnJhZGFyTGluZShkLmF4ZXMpKTtcblxuICAgIHVwZGF0ZV9ibG9iV3JhcHBlci5zZWxlY3QoJy5yYWRhclN0cm9rZScpXG4gICAgICAudHJhbnNpdGlvbih0KVxuICAgICAgLmF0dHIoJ2QnLCBkID0+IHRoaXMucmFkYXJMaW5lKGQuYXhlcykpO1xuXG4gICAgY29uc3QgY2lyY2xlID0gdXBkYXRlX2Jsb2JXcmFwcGVyLnNlbGVjdEFsbCgnLnJhZGFyQ2lyY2xlJylcbiAgICAgIC5kYXRhKGQgPT4gZC5heGVzKTtcbiAgICBjaXJjbGVcbiAgICAgIC50cmFuc2l0aW9uKHQpXG4gICAgICAuYXR0cnMoKGQsIGkpID0+ICh7XG4gICAgICAgIGN4OiByU2NhbGUoZC52YWx1ZSkgKiBtYXRoX2NvcyhhbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpLFxuICAgICAgICBjeTogclNjYWxlKGQudmFsdWUpICogbWF0aF9zaW4oYW5nbGVTbGljZSAqIGkgLSBIQUxGX1BJKSxcbiAgICAgIH0pKVxuICAgICAgLnN0eWxlcygoZCwgaSkgPT4gKHtcbiAgICAgICAgZmlsbDogY2ZnLmNvbG9yKGkpLFxuICAgICAgICAnZmlsbC1vcGFjaXR5JzogMC44LFxuICAgICAgfSkpO1xuXG4gICAgY29uc3QgdXBkYXRlX2Jsb2JDaXJjbGVXcmFwcGVyID0gdGhpcy5nLnNlbGVjdEFsbCgnLnJhZGFyQ2lyY2xlV3JhcHBlcicpXG4gICAgICAuZGF0YSh0aGlzLmRhdGEsIGQgPT4gZC5uYW1lKTtcblxuICAgIGNvbnN0IGludmlzaWJsZUNpcmNsZSA9IHVwZGF0ZV9ibG9iQ2lyY2xlV3JhcHBlci5zZWxlY3RBbGwoJy5yYWRhckludmlzaWJsZUNpcmNsZScpXG4gICAgICAuZGF0YShkID0+IGQuYXhlcyk7XG4gICAgaW52aXNpYmxlQ2lyY2xlXG4gICAgICAudHJhbnNpdGlvbih0KVxuICAgICAgLmF0dHJzKChkLCBpKSA9PiAoe1xuICAgICAgICBjeDogclNjYWxlKGQudmFsdWUpICogbWF0aF9jb3MoYW5nbGVTbGljZSAqIGkgLSBIQUxGX1BJKSxcbiAgICAgICAgY3k6IHJTY2FsZShkLnZhbHVlKSAqIG1hdGhfc2luKGFuZ2xlU2xpY2UgKiBpIC0gSEFMRl9QSSksXG4gICAgICB9KSk7XG4gIH1cblxuICByb3VuZF9zdHJva2UodmFsKSB7XG4gICAgaWYgKHZhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5jZmcucm91bmRTdHJva2VzO1xuICAgIH0gZWxzZSBpZiAodmFsICE9PSB0aGlzLmNmZy5yb3VuZFN0cm9rZXMpIHtcbiAgICAgIHRoaXMuY2ZnLnJvdW5kU3Ryb2tlcyA9IHZhbDtcbiAgICAgIHRoaXMucmFkYXJMaW5lID0gZDMucmFkaWFsTGluZSgpXG4gICAgICAgIC5jdXJ2ZSh0aGlzLmNmZy5yb3VuZFN0cm9rZXMgPyBkMy5jdXJ2ZUNhcmRpbmFsQ2xvc2VkIDogZDMuY3VydmVMaW5lYXJDbG9zZWQpXG4gICAgICAgIC5yYWRpdXMoZCA9PiB0aGlzLnJTY2FsZShkLnZhbHVlKSlcbiAgICAgICAgLmFuZ2xlKChkLCBpKSA9PiBpICogdGhpcy5hbmdsZVNsaWNlKTtcbiAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuICAgIHJldHVybiB2YWw7XG4gIH1cblxuICBiaW5kTWFwKG1hcF9lbGVtKSB7XG4gICAgdGhpcy5tYXBfZWxlbSA9IG1hcF9lbGVtO1xuICAgIHRoaXMubWFwX2VsZW0ucmVzZXRDb2xvcnModGhpcy5jdXJyZW50X2lkcyk7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICB9XG5cbiAgcmVtb3ZlKCkge1xuICAgIHRoaXMudGFibGVfc3RhdHMucmVtb3ZlKCk7XG4gICAgdGhpcy50YWJsZV9zdGF0cyA9IG51bGw7XG4gICAgdGhpcy5tYXBfZWxlbS51bmJpbmRCcnVzaENsaWNrKCk7XG4gICAgdGhpcy5tYXBfZWxlbSA9IG51bGw7XG4gICAgdGhpcy5jb21wbGV0dWRlLnJlbW92ZSgpO1xuICAgIHRoaXMuY29tcGxldHVkZSA9IG51bGw7XG4gICAgc3ZnX2Jhci5odG1sKCcnKTtcbiAgfVxuXG4gIHVwZGF0ZUNoYW5nZVJlZ2lvbigpIHtcbiAgICB0aGlzLmNoYW5nZVN0dWR5Wm9uZSgpO1xuICB9XG5cbiAgY2hhbmdlU3R1ZHlab25lKCkge1xuICAgIGNvbnN0IG9sZF9teV9yZWdpb24gPSB0aGlzLmlkX215X3JlZ2lvbjtcbiAgICBjb25zdCBvdGhlcl9mZWF0dXJlcyA9IHRoaXMuZGlzcGxheWVkX2lkcy5maWx0ZXIoZCA9PiBkICE9PSBvbGRfbXlfcmVnaW9uKTtcbiAgICB0aGlzLmcucmVtb3ZlKCk7XG4gICAgdGhpcy5nID0gc3ZnX2Jhci5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2lkJywgJ1JhZGFyR3JwJylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7dGhpcy5jZmcudyAvIDIgKyB0aGlzLmNmZy5tYXJnaW4ubGVmdH0sJHt0aGlzLmNmZy5oIC8gMiArIHRoaXMuY2ZnLm1hcmdpbi50b3B9KWApO1xuXG4gICAgdGhpcy5pZF9teV9yZWdpb24gPSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uO1xuICAgIHRoaXMucHJlcGFyZURhdGEoYXBwLmN1cnJlbnRfZGF0YSk7XG4gICAgdGhpcy5kcmF3QXhpc0dyaWQoKTtcbiAgICB0aGlzLmRyYXdBcmVhKCk7XG4gICAgdGhpcy5oYW5kbGVMZWdlbmQoKTtcbiAgICBvdGhlcl9mZWF0dXJlcy5mb3JFYWNoKChpZCkgPT4ge1xuICAgICAgY29uc3QgYSA9IHByZXBhcmVfZGF0YV9yYWRhcl9mdCh0aGlzLnJlZl9kYXRhLCB0aGlzLnZhcmlhYmxlcywgaWQpO1xuICAgICAgdGhpcy5hZGRfZWxlbWVudChhKTtcbiAgICB9KTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgdGhpcy51cGRhdGVDb21wbGV0dWRlKCk7XG4gICAgdGhpcy51cGRhdGVUYWJsZVN0YXQoKTtcbiAgfVxuXG4gIGFkZFZhcmlhYmxlKGNvZGVfdmFyaWFibGUsIG5hbWVfdmFyaWFibGUpIHtcbiAgICBjb25zdCBvdGhlcl9mZWF0dXJlcyA9IHRoaXMuZGlzcGxheWVkX2lkcy5maWx0ZXIoZCA9PiBkICE9PSB0aGlzLmlkX215X3JlZ2lvbik7XG4gICAgdGhpcy5nLnJlbW92ZSgpO1xuICAgIHRoaXMuZyA9IHN2Z19iYXIuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdpZCcsICdSYWRhckdycCcpXG4gICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3RoaXMuY2ZnLncgLyAyICsgdGhpcy5jZmcubWFyZ2luLmxlZnR9LCR7dGhpcy5jZmcuaCAvIDIgKyB0aGlzLmNmZy5tYXJnaW4udG9wfSlgKTtcblxuICAgIHRoaXMucHJlcGFyZURhdGEoYXBwLmN1cnJlbnRfZGF0YSk7XG4gICAgdGhpcy5kcmF3QXhpc0dyaWQoKTtcbiAgICB0aGlzLmRyYXdBcmVhKCk7XG4gICAgdGhpcy5oYW5kbGVMZWdlbmQoKTtcbiAgICBvdGhlcl9mZWF0dXJlcy5mb3JFYWNoKChpZCkgPT4ge1xuICAgICAgY29uc3QgYSA9IHByZXBhcmVfZGF0YV9yYWRhcl9mdCh0aGlzLnJlZl9kYXRhLCB0aGlzLnZhcmlhYmxlcywgaWQpO1xuICAgICAgdGhpcy5hZGRfZWxlbWVudChhKTtcbiAgICB9KTtcbiAgICB0aGlzLnVwZGF0ZUNvbXBsZXR1ZGUoKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgdGhpcy51cGRhdGVUYWJsZVN0YXQoKTtcbiAgfVxuXG4gIHJlbW92ZVZhcmlhYmxlKGNvZGVfdmFyaWFibGUpIHtcbiAgICBjb25zdCBvdGhlcl9mZWF0dXJlcyA9IHRoaXMuZGlzcGxheWVkX2lkcy5maWx0ZXIoZCA9PiBkICE9PSB0aGlzLmlkX215X3JlZ2lvbik7XG4gICAgdGhpcy5nLnJlbW92ZSgpO1xuICAgIHRoaXMuZyA9IHN2Z19iYXIuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdpZCcsICdSYWRhckdycCcpXG4gICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3RoaXMuY2ZnLncgLyAyICsgdGhpcy5jZmcubWFyZ2luLmxlZnR9LCR7dGhpcy5jZmcuaCAvIDIgKyB0aGlzLmNmZy5tYXJnaW4udG9wfSlgKTtcblxuICAgIHRoaXMucHJlcGFyZURhdGEoYXBwLmN1cnJlbnRfZGF0YSk7XG4gICAgdGhpcy5kcmF3QXhpc0dyaWQoKTtcbiAgICB0aGlzLmRyYXdBcmVhKCk7XG4gICAgdGhpcy5oYW5kbGVMZWdlbmQoKTtcbiAgICBvdGhlcl9mZWF0dXJlcy5mb3JFYWNoKChpZCkgPT4ge1xuICAgICAgY29uc3QgYSA9IHByZXBhcmVfZGF0YV9yYWRhcl9mdCh0aGlzLnJlZl9kYXRhLCB0aGlzLnZhcmlhYmxlcywgaWQpO1xuICAgICAgdGhpcy5hZGRfZWxlbWVudChhKTtcbiAgICB9KTtcbiAgICB0aGlzLnVwZGF0ZUNvbXBsZXR1ZGUoKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgdGhpcy51cGRhdGVUYWJsZVN0YXQoKTtcbiAgfVxuXG4gIHByZXBhcmVUYWJsZVN0YXQoKSB7XG4gICAgY29uc3QgYWxsX3ZhbHVlcyA9IHRoaXMudmFyaWFibGVzLm1hcCh2ID0+IHRoaXMucmVmX2RhdGEubWFwKGQgPT4gZFt2XSkpO1xuICAgIGNvbnN0IG15X3JlZ2lvbiA9IHRoaXMucmVmX2RhdGEuZmluZChkID0+IGQuaWQgPT09IHRoaXMuaWRfbXlfcmVnaW9uKTtcbiAgICBjb25zdCBmZWF0dXJlcyA9IGFsbF92YWx1ZXMubWFwKCh2YWx1ZXMsIGkpID0+ICh7XG4gICAgICBNaW46IGQzLm1pbih2YWx1ZXMpLFxuICAgICAgTWF4OiBkMy5tYXgodmFsdWVzKSxcbiAgICAgIE1veWVubmU6IGdldE1lYW4odmFsdWVzKSxcbiAgICAgIGlkOiB0aGlzLnZhcmlhYmxlc1tpXSxcbiAgICAgIFZhcmlhYmxlOiB0aGlzLnZhcmlhYmxlc1tpXSxcbiAgICAgICdNYSByw6lnaW9uJzogbXlfcmVnaW9uW3RoaXMudmFyaWFibGVzW2ldXSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIGZlYXR1cmVzO1xuICB9XG5cbiAgaGFuZGxlQ2xpY2tNYXAoZCwgcGFyZW50KSB7XG4gICAgY29uc3QgaWQgPSBkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dO1xuICAgIGlmICh0aGlzLmN1cnJlbnRfaWRzLmluZGV4T2YoaWQpIDwgMCB8fCBpZCA9PT0gdGhpcy5pZF9teV9yZWdpb24pIHJldHVybjtcbiAgICBpZiAodGhpcy5kaXNwbGF5ZWRfaWRzLmluZGV4T2YoaWQpIDwgMCkge1xuICAgICAgY29uc3QgYSA9IHByZXBhcmVfZGF0YV9yYWRhcl9mdCh0aGlzLnJlZl9kYXRhLCB0aGlzLnZhcmlhYmxlcywgaWQpO1xuICAgICAgdGhpcy5hZGRfZWxlbWVudChhKTtcbiAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZy5zZWxlY3RBbGwoYCMke2lkfS5yYWRhcldyYXBwZXJgKS5yZW1vdmUoKTtcbiAgICAgIHRoaXMuZy5zZWxlY3RBbGwoYCMke2lkfS5yYWRhckNpcmNsZVdyYXBwZXJgKS5yZW1vdmUoKTtcbiAgICAgIGNvbnN0IGl4ID0gdGhpcy5kYXRhLm1hcCgoX2QsIGkpID0+IFtpLCBfZC5uYW1lID09PSBpZF0pLmZpbmQoX2QgPT4gX2RbMV0gPT09IHRydWUpWzBdO1xuICAgICAgdGhpcy5kYXRhLnNwbGljZShpeCwgMSk7XG4gICAgICB0aGlzLmRpc3BsYXllZF9pZHMgPSB0aGlzLmRhdGEubWFwKF9kID0+IF9kLm5hbWUpO1xuICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICB9XG5cbiAgdXBkYXRlQ29tcGxldHVkZSgpIHtcbiAgICB0aGlzLmNvbXBsZXR1ZGUudXBkYXRlKFxuICAgICAgY2FsY0NvbXBsZXR1ZGVTdWJzZXQoYXBwLCB0aGlzLnZhcmlhYmxlcywgJ2FycmF5JyksXG4gICAgICBjYWxjUG9wQ29tcGxldHVkZVN1YnNldChhcHAsIHRoaXMudmFyaWFibGVzKSk7XG4gIH1cblxuICB1cGRhdGVNYXBSZWdpbygpIHtcbiAgICBpZiAoIXRoaXMubWFwX2VsZW0pIHJldHVybjtcbiAgICB0aGlzLm1hcF9lbGVtLnRhcmdldF9sYXllci5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCBkID0+IChkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dID09PSB0aGlzLmlkX215X3JlZ2lvblxuICAgICAgICA/IGNvbG9yX2hpZ2hsaWdodFxuICAgICAgICA6IHRoaXMuY3VycmVudF9pZHMuaW5kZXhPZihkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dKSA+IC0xXG4gICAgICAgID8gKHRoaXMuZGlzcGxheWVkX2lkcy5pbmRleE9mKGQucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV0pID4gLTFcbiAgICAgICAgPyBjb2xvcl9kZWZhdWx0X2Rpc3NpbSA6IGNvbG9yX2NvdW50cmllcykgOiBjb2xvcl9kaXNhYmxlZCkpO1xuICB9XG5cbiAgdXBkYXRlVGFibGVTdGF0KCkge1xuICAgIHRoaXMudGFibGVfc3RhdHMucmVtb3ZlQWxsKCk7XG4gICAgdGhpcy50YWJsZV9zdGF0cy5hZGRGZWF0dXJlcyh0aGlzLnByZXBhcmVUYWJsZVN0YXQoKSk7XG4gIH1cblxuICBtYWtlVGFibGVTdGF0KCkge1xuICAgIGNvbnN0IGZlYXR1cmVzID0gdGhpcy5wcmVwYXJlVGFibGVTdGF0KCk7XG4gICAgdGhpcy50YWJsZV9zdGF0cyA9IG5ldyBUYWJsZVJlc3VtZVN0YXQoZmVhdHVyZXMpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBjb21wLCBtYXRoX3JvdW5kLCBtYXRoX2FicywgbWF0aF9zcXJ0LCBQcm9wU2l6ZXIsIHByZXBhcmVUb29sdGlwLCBnZXRNZWFuIH0gZnJvbSAnLi8uLi9oZWxwZXJzJztcbmltcG9ydCB7IGNvbG9yX2Rpc2FibGVkLCBjb2xvcl9jb3VudHJpZXMsIGNvbG9yX2RlZmF1bHRfZGlzc2ltLCBjb2xvcl9oaWdobGlnaHQgfSBmcm9tICcuLy4uL29wdGlvbnMnO1xuaW1wb3J0IHsgY2FsY1BvcENvbXBsZXR1ZGVTdWJzZXQsIGNhbGNDb21wbGV0dWRlU3Vic2V0IH0gZnJvbSAnLi8uLi9wcmVwYXJlX2RhdGEnO1xuLy8gaW1wb3J0IHsgc3ZnX21hcCB9IGZyb20gJy4vLi4vbWFwJztcbmltcG9ydCB7IGFwcCwgcmVzZXRDb2xvcnMgfSBmcm9tICcuLy4uLy4uL21haW4nO1xuaW1wb3J0IFRhYmxlUmVzdW1lU3RhdCBmcm9tICcuLy4uL3RhYmxlUmVzdW1lU3RhdCc7XG5pbXBvcnQgQ29tcGxldHVkZVNlY3Rpb24gZnJvbSAnLi8uLi9jb21wbGV0dWRlJztcblxuY29uc3Qgc3ZnX2JhciA9IGQzLnNlbGVjdCgnI3N2Z19iYXInKTtcbmNvbnN0IG1hcmdpbiA9IHsgdG9wOiAyMCwgcmlnaHQ6IDIwLCBib3R0b206IDQwLCBsZWZ0OiAzMCB9O1xuXG5jb25zdCB3aWR0aCA9ICtzdmdfYmFyLmF0dHIoJ3dpZHRoJykgLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodDtcbmNvbnN0IGhlaWdodCA9ICtzdmdfYmFyLmF0dHIoJ2hlaWdodCcpIC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XG5cbmV4cG9ydCBjbGFzcyBTaW1pbGFyaXR5MXBsdXMge1xuICBjb25zdHJ1Y3RvcihyZWZfZGF0YSkge1xuICAgIC8vIFNldCB0aGUgbWluaW11bSBudW1iZXIgb2YgdmFyaWFibGVzIHRvIGtlZXAgc2VsZWN0ZWQgZm9yIHRoaXMga2luZCBvZiBjaGFydDpcbiAgICBhcHAuY3VycmVudF9jb25maWcubmJfdmFyID0gMTtcbiAgICB0aGlzLnJhdGlvcyA9IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpbztcbiAgICB0aGlzLm51bXMgPSBhcHAuY3VycmVudF9jb25maWcubnVtO1xuICAgIHRoaXMuZGF0YSA9IHJlZl9kYXRhLmZpbHRlcihmdCA9PiB0aGlzLnJhdGlvcy5tYXAodiA9PiAhIWZ0W3ZdKS5ldmVyeSh2ID0+IHYgPT09IHRydWUpKS5zbGljZSgpO1xuICAgIHRoaXMubXlfcmVnaW9uID0gdGhpcy5kYXRhLmZpbmQoZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKTtcbiAgICB0aGlzLmRhdGEuZm9yRWFjaCgoZnQpID0+IHtcbiAgICAgIHRoaXMucmF0aW9zLmZvckVhY2goKHYpID0+IHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIGZ0W2BkaXN0XyR7dn1gXSA9IG1hdGhfYWJzKCtmdFt2XSAtICt0aGlzLm15X3JlZ2lvblt2XSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICB0aGlzLmN1cnJlbnRfaWRzID0gdGhpcy5kYXRhLm1hcChkID0+IGQuaWQpO1xuICAgIHJlc2V0Q29sb3JzKCk7XG4gICAgdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uID0gW107XG4gICAgdGhpcy5zZXJpZV9pbnZlcnNlZCA9IGZhbHNlO1xuICAgIHRoaXMuZHJhd19ncm91cCA9IHN2Z19iYXJcbiAgICAgIC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHttYXJnaW4ubGVmdH0sICR7bWFyZ2luLnRvcH0pYCk7XG5cbiAgICAvLyBQcmVwYXJlIHRoZSB0b29sdGlwIGRpc3BsYXllZCBvbiBtb3VzZW92ZXI6XG4gICAgcHJlcGFyZVRvb2x0aXAoc3ZnX2Jhcik7XG5cblxuICAgIHRoaXMuY29tcGxldHVkZSA9IG5ldyBDb21wbGV0dWRlU2VjdGlvbihzdmdfYmFyLm5vZGUoKS5wYXJlbnRFbGVtZW50KTtcbiAgICB0aGlzLmNvbXBsZXR1ZGUudXBkYXRlKFxuICAgICAgY2FsY0NvbXBsZXR1ZGVTdWJzZXQoYXBwLCB0aGlzLnJhdGlvcywgJ2FycmF5JyksXG4gICAgICBjYWxjUG9wQ29tcGxldHVkZVN1YnNldChhcHAsIHRoaXMucmF0aW9zKSk7XG5cbiAgICAvLyBDcmVhdGUgdGhlIGJ1dHRvbiBhbGxvd2luZyB0byBjaG9vc2VcbiAgICAvLyBpZiB0aGUgY29sb3JzIGFyZSBpbnZlcnNlZFxuICAgIC8vIChsaWtlIGdyZWVuL3JlZCBmb3Igc3VwZXJpb3IvaW5mZXJpb3IgcmVnaW9ucylcbiAgICBzdmdfYmFyLmFwcGVuZCgnaW1hZ2UnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgeDogd2lkdGggKyBtYXJnaW4ubGVmdCArIDUsXG4gICAgICAgIHk6IDIzMi41LFxuICAgICAgICB3aWR0aDogMTUsXG4gICAgICAgIGhlaWdodDogMTUsXG4gICAgICAgICd4bGluazpocmVmJzogJ2ltZy9yZXZlcnNlX3BsdXMucG5nJyxcbiAgICAgICAgaWQ6ICdpbWdfcmV2ZXJzZScsXG4gICAgICB9KVxuICAgICAgLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGhpcy5zZXJpZV9pbnZlcnNlZCA9ICF0aGlzLnNlcmllX2ludmVyc2VkO1xuICAgICAgICB0aGlzLmFwcGx5U2VsZWN0aW9uKHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbi5sZW5ndGgpO1xuICAgICAgfSk7XG5cblxuICAgIC8vIENyZWF0ZSB0aGUgc2VjdGlvbiBjb250YWluaW5nIHRoZSBpbnB1dCBlbGVtZW50IGFsbG93aW5nIHRvIGNob3NlXG4gICAgLy8gaG93IG1hbnkgXCJjbG9zZVwiIHJlZ2lvbnMgd2Ugd2FudCB0byBoaWdobGlnaHQuXG4gICAgY29uc3Qgc2VsZWN0aW9uX2Nsb3NlID0gZDMuc2VsZWN0KHN2Z19iYXIubm9kZSgpLnBhcmVudEVsZW1lbnQpXG4gICAgICAuYXBwZW5kKCdkaXYnKVxuICAgICAgLmF0dHIoJ2lkJywgJ21lbnVfc2VsZWN0aW9uJylcbiAgICAgIC5zdHlsZXMoeyB0b3A6ICctMTBweCcsICdtYXJnaW4tbGVmdCc6ICczMHB4JywgcG9zaXRpb246ICdyZWxhdGl2ZScgfSlcbiAgICAgIC5hcHBlbmQoJ3AnKTtcblxuICAgIHNlbGVjdGlvbl9jbG9zZS5hcHBlbmQoJ3NwYW4nKVxuICAgICAgLnByb3BlcnR5KCd2YWx1ZScsICdjbG9zZScpXG4gICAgICAuYXR0cnMoeyB2YWx1ZTogJ2Nsb3NlJywgY2xhc3M6ICd0eXBlX3NlbGVjdGlvbiBzcXVhcmUgY2hlY2tlZCcgfSk7XG4gICAgc2VsZWN0aW9uX2Nsb3NlLmFwcGVuZCgnc3BhbicpXG4gICAgICAuYXR0cnMoeyBjbGFzczogJ2xhYmVsX2NoaycgfSlcbiAgICAgIC5odG1sKCdMZXMnKTtcbiAgICBzZWxlY3Rpb25fY2xvc2UuYXBwZW5kKCdpbnB1dCcpXG4gICAgICAuYXR0cnMoeyBjbGFzczogJ25iX3NlbGVjdCcsIHR5cGU6ICdudW1iZXInIH0pXG4gICAgICAucHJvcGVydHkoJ3ZhbHVlJywgNSk7XG4gICAgc2VsZWN0aW9uX2Nsb3NlLmFwcGVuZCgnc3BhbicpXG4gICAgICAuYXR0cnMoeyBjbGFzczogJ2xhYmVsX2NoaycgfSlcbiAgICAgIC5odG1sKCdyw6lnaW9ucyBsZXMgcGx1cyBwcm9jaGVzJyk7XG5cbiAgICB0aGlzLmJpbmRNZW51KCk7XG4gICAgdGhpcy5tYWtlVGFibGVTdGF0KCk7XG4gIH1cblxuICBhcHBseVNlbGVjdGlvbihuYikge1xuICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICBpZiAobmIgPiAwKSB7XG4gICAgICB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24gPSB0aGlzLmRhdGEubWFwKChmdCkgPT4ge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1wcm9wZXJ0aWVzXG4gICAgICAgIGNvbnN0IGdsb2JhbF9kaXN0ID0gbWF0aF9zcXJ0KHRoaXMucmF0aW9zLm1hcCh2ID0+IGBkaXN0XyR7dn1gKS5tYXAodiA9PiBNYXRoLnBvdyhmdFt2XSwgMikpLnJlZHVjZSgoYSwgYikgPT4gYSArIGIpKTtcbiAgICAgICAgY29uc3Qgb2JqID0ge1xuICAgICAgICAgIGlkOiBmdC5pZCxcbiAgICAgICAgICBkaXN0OiBnbG9iYWxfZGlzdCxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5yYXRpb3MuZm9yRWFjaCgodikgPT4geyBvYmpbdl0gPSBmdFt2XTsgfSk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbi5zb3J0KChhLCBiKSA9PiBhLmRpc3QgLSBiLmRpc3QpO1xuICAgICAgdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uID0gdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uLnNsaWNlKDEsIG5iICsgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbiA9IFtdO1xuICAgIH1cbiAgICB0aGlzLnJlbW92ZUxpbmVzKCk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZGF0YSA9IHNlbGYuZGF0YTtcbiAgICBjb25zdCBoaWdobGlnaHRfc2VsZWN0aW9uID0gc2VsZi5oaWdobGlnaHRfc2VsZWN0aW9uO1xuICAgIGNvbnN0IG5iX3ZhcmlhYmxlcyA9IHNlbGYucmF0aW9zLmxlbmd0aDtcbiAgICBjb25zdCBvZmZzZXQgPSBoZWlnaHQgLyBuYl92YXJpYWJsZXMgKyAxO1xuICAgIGxldCBoZWlnaHRfdG9fdXNlID0gb2Zmc2V0IC8gMjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5iX3ZhcmlhYmxlczsgaSsrKSB7XG4gICAgICBjb25zdCByYXRpb19uYW1lID0gc2VsZi5yYXRpb3NbaV07XG4gICAgICBjb25zdCBudW1fbmFtZSA9IHNlbGYubnVtc1tpXTtcbiAgICAgIGNvbnN0IG15X3JlZ2lvbl92YWx1ZSA9IHNlbGYubXlfcmVnaW9uW3JhdGlvX25hbWVdO1xuICAgICAgY29uc3QgcmF0aW9fdmFsdWVzID0gdGhpcy5kYXRhLm1hcChkID0+IGRbcmF0aW9fbmFtZV0pO1xuICAgICAgbGV0IGcgPSB0aGlzLmRyYXdfZ3JvdXAuc2VsZWN0KGAjJHtyYXRpb19uYW1lfWApO1xuICAgICAgbGV0IGF4aXMgPSB0aGlzLmRyYXdfZ3JvdXAuc2VsZWN0KGBnLmF4aXMtLXguJHtyYXRpb19uYW1lfWApO1xuICAgICAgaWYgKCFnLm5vZGUoKSkge1xuICAgICAgICBnID0gdGhpcy5kcmF3X2dyb3VwXG4gICAgICAgICAgLmFwcGVuZCgnZycpXG4gICAgICAgICAgLmF0dHJzKHtcbiAgICAgICAgICAgIGlkOiByYXRpb19uYW1lLFxuICAgICAgICAgICAgbnVtOiBudW1fbmFtZSxcbiAgICAgICAgICAgIGNsYXNzOiAnZ3JwX3ZhcicsXG4gICAgICAgICAgfSk7XG4gICAgICAgIGF4aXMgPSBnLmFwcGVuZCgnZycpXG4gICAgICAgICAgLmF0dHJzKHtcbiAgICAgICAgICAgIGNsYXNzOiBgYXhpcyBheGlzLS14ICR7cmF0aW9fbmFtZX1gLFxuICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKDAsIDEwKScsXG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBnLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoMCwgJHtoZWlnaHRfdG9fdXNlfSlgKTtcbiAgICAgIGxldCBfbWluO1xuICAgICAgbGV0IF9tYXg7XG4gICAgICB0aGlzLmRhdGEuc29ydCgoYSwgYikgPT4gYltgZGlzdF8ke3JhdGlvX25hbWV9YF0gLSBhW2BkaXN0XyR7cmF0aW9fbmFtZX1gXSk7XG4gICAgICBpZiAoaGlnaGxpZ2h0X3NlbGVjdGlvbi5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGRpc3RfYXhpcyA9IE1hdGgubWF4KFxuICAgICAgICAgIG1hdGhfYWJzKG15X3JlZ2lvbl92YWx1ZSAtICtkMy5taW4oaGlnaGxpZ2h0X3NlbGVjdGlvbiwgZCA9PiBkW3JhdGlvX25hbWVdKSksXG4gICAgICAgICAgbWF0aF9hYnMoK2QzLm1heChoaWdobGlnaHRfc2VsZWN0aW9uLCBkID0+IGRbcmF0aW9fbmFtZV0pIC0gbXlfcmVnaW9uX3ZhbHVlKSk7XG4gICAgICAgIGNvbnN0IG1hcmdpbl9taW5fbWF4ID0gbWF0aF9yb3VuZChkaXN0X2F4aXMpIC8gODtcbiAgICAgICAgX21pbiA9IG15X3JlZ2lvbl92YWx1ZSAtIGRpc3RfYXhpcyAtIG1hcmdpbl9taW5fbWF4O1xuICAgICAgICBfbWF4ID0gbXlfcmVnaW9uX3ZhbHVlICsgZGlzdF9heGlzICsgbWFyZ2luX21pbl9tYXg7XG4gICAgICAgIC8vIGlmIChfbWluID4gX21heCkgeyBbX21pbiwgX21heF0gPSBbX21heCwgX21pbl07IH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGRpc3RfYXhpcyA9IE1hdGgubWF4KFxuICAgICAgICAgIG1hdGhfYWJzKG15X3JlZ2lvbl92YWx1ZSAtIGQzLm1pbihyYXRpb192YWx1ZXMpKSxcbiAgICAgICAgICBtYXRoX2FicyhkMy5tYXgocmF0aW9fdmFsdWVzKSAtIG15X3JlZ2lvbl92YWx1ZSkpO1xuICAgICAgICBjb25zdCBtYXJnaW5fbWluX21heCA9IG1hdGhfcm91bmQoZGlzdF9heGlzKSAvIDg7XG4gICAgICAgIF9taW4gPSBteV9yZWdpb25fdmFsdWUgLSBkaXN0X2F4aXMgLSBtYXJnaW5fbWluX21heDtcbiAgICAgICAgX21heCA9IG15X3JlZ2lvbl92YWx1ZSArIGRpc3RfYXhpcyArIG1hcmdpbl9taW5fbWF4O1xuICAgICAgfVxuICAgICAgdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgICAgYXBwLmNvbG9yc1tlbGVtLmlkXSA9IGNvbXAoZWxlbVtyYXRpb19uYW1lXSwgbXlfcmVnaW9uX3ZhbHVlLCB0aGlzLnNlcmllX2ludmVyc2VkKTtcbiAgICAgIH0pO1xuXG4gICAgICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgICAgY29uc3QgcHJvcF9zaXplciA9IG5ldyBQcm9wU2l6ZXIoZDMubWF4KGRhdGEsIGQgPT4gZFtudW1fbmFtZV0pLCAzMCk7XG4gICAgICBjb25zdCB4U2NhbGUgPSBkMy5zY2FsZUxpbmVhcigpXG4gICAgICAgIC5kb21haW4oW19taW4sIF9tYXhdKVxuICAgICAgICAucmFuZ2UoWzAsIHdpZHRoXSk7XG5cbiAgICAgIGF4aXNcbiAgICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgICAuZHVyYXRpb24oMTI1KVxuICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHhTY2FsZSkpO1xuXG4gICAgICBjb25zdCBidWJibGVzID0gZy5zZWxlY3RBbGwoJy5idWJibGUnKVxuICAgICAgICAuZGF0YShkYXRhLCBkID0+IGQuaWQpO1xuXG4gICAgICBidWJibGVzXG4gICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgLmR1cmF0aW9uKDEyNSlcbiAgICAgICAgLmF0dHJzKChkKSA9PiB7XG4gICAgICAgICAgbGV0IHhfdmFsdWUgPSB4U2NhbGUoZFtyYXRpb19uYW1lXSk7XG4gICAgICAgICAgaWYgKHhfdmFsdWUgPiB3aWR0aCkgeF92YWx1ZSA9IHdpZHRoICsgMjAwO1xuICAgICAgICAgIGVsc2UgaWYgKHhfdmFsdWUgPCAwKSB4X3ZhbHVlID0gLTIwMDtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY3g6IHhfdmFsdWUsXG4gICAgICAgICAgICBjeTogMTAsXG4gICAgICAgICAgICByOiBwcm9wX3NpemVyLnNjYWxlKGRbbnVtX25hbWVdKSxcbiAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgICAgICAuc3R5bGVzKGQgPT4gKHtcbiAgICAgICAgICBmaWxsOiBhcHAuY29sb3JzW2QuaWRdIHx8IGNvbG9yX2NvdW50cmllcyxcbiAgICAgICAgICAnZmlsbC1vcGFjaXR5JzogZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbiA/IDEgOiBhcHAuY29sb3JzW2QuaWRdID8gMC43IDogMC4xLFxuICAgICAgICAgIHN0cm9rZTogJ2RhcmtncmF5JyxcbiAgICAgICAgICAnc3Ryb2tlLXdpZHRoJzogMC43NSxcbiAgICAgICAgICAnc3Ryb2tlLW9wYWNpdHknOiAwLjc1LFxuICAgICAgICB9KSk7XG5cbiAgICAgIGJ1YmJsZXNcbiAgICAgICAgLmVudGVyKClcbiAgICAgICAgLmluc2VydCgnY2lyY2xlJylcbiAgICAgICAgLnN0eWxlcyhkID0+ICh7XG4gICAgICAgICAgZmlsbDogYXBwLmNvbG9yc1tkLmlkXSB8fCBjb2xvcl9jb3VudHJpZXMsXG4gICAgICAgICAgJ2ZpbGwtb3BhY2l0eSc6IGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24gPyAxIDogYXBwLmNvbG9yc1tkLmlkXSA/IDAuNyA6IDAuMSxcbiAgICAgICAgICBzdHJva2U6ICdkYXJrZ3JheScsXG4gICAgICAgICAgJ3N0cm9rZS13aWR0aCc6IDAuNzUsXG4gICAgICAgICAgJ3N0cm9rZS1vcGFjaXR5JzogMC43NSxcbiAgICAgICAgfSkpXG4gICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgLmR1cmF0aW9uKDEyNSlcbiAgICAgICAgLmF0dHJzKChkKSA9PiB7XG4gICAgICAgICAgbGV0IHhfdmFsdWUgPSB4U2NhbGUoZFtyYXRpb19uYW1lXSk7XG4gICAgICAgICAgaWYgKHhfdmFsdWUgPiB3aWR0aCkgeF92YWx1ZSA9IHdpZHRoICsgMjAwO1xuICAgICAgICAgIGVsc2UgaWYgKHhfdmFsdWUgPCAwKSB4X3ZhbHVlID0gLTIwMDtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6IGQuaWQsXG4gICAgICAgICAgICBjbGFzczogJ2J1YmJsZScsXG4gICAgICAgICAgICBjeDogeF92YWx1ZSxcbiAgICAgICAgICAgIGN5OiAxMCxcbiAgICAgICAgICAgIHI6IHByb3Bfc2l6ZXIuc2NhbGUoZFtudW1fbmFtZV0pLFxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgICBidWJibGVzLmV4aXQoKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oMTI1KS5yZW1vdmUoKTtcbiAgICAgIGhlaWdodF90b191c2UgKz0gb2Zmc2V0O1xuICAgIH1cbiAgICBzZXRUaW1lb3V0KCgpID0+IHsgdGhpcy5tYWtlVG9vbHRpcHMoKTsgfSwgMTI1KTtcbiAgfVxuXG4gIHVwZGF0ZUNvbXBsZXR1ZGUoKSB7XG4gICAgdGhpcy5jb21wbGV0dWRlLnVwZGF0ZShcbiAgICAgIGNhbGNDb21wbGV0dWRlU3Vic2V0KGFwcCwgdGhpcy5yYXRpb3MsICdhcnJheScpLFxuICAgICAgY2FsY1BvcENvbXBsZXR1ZGVTdWJzZXQoYXBwLCB0aGlzLnJhdGlvcykpO1xuICB9XG5cbiAgdXBkYXRlTWFwUmVnaW8oKSB7XG4gICAgaWYgKCF0aGlzLm1hcF9lbGVtKSByZXR1cm47XG4gICAgdGhpcy5tYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5hdHRyKCdmaWxsJywgKGQpID0+IHtcbiAgICAgICAgY29uc3QgX2lkID0gZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXTtcbiAgICAgICAgaWYgKF9pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbikge1xuICAgICAgICAgIHJldHVybiBjb2xvcl9oaWdobGlnaHQ7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50X2lkcy5pbmRleE9mKF9pZCkgPiAtMSkge1xuICAgICAgICAgIGlmIChhcHAuY29sb3JzW19pZF0pIHJldHVybiBjb2xvcl9kZWZhdWx0X2Rpc3NpbTtcbiAgICAgICAgICByZXR1cm4gY29sb3JfY291bnRyaWVzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2xvcl9kaXNhYmxlZDtcbiAgICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlQ2xpY2tNYXAoZCwgcGFyZW50KSB7XG4gICAgbGV0IHRvX2Rpc3BsYXkgPSBmYWxzZTtcbiAgICBjb25zdCBpZCA9IGQucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV07XG4gICAgaWYgKHRoaXMuY3VycmVudF9pZHMuaW5kZXhPZihpZCkgPCAwIHx8IGlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKSByZXR1cm47XG4gICAgaWYgKGFwcC5jb2xvcnNbaWRdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIFJlbW92ZSB0aGUgY2xpY2tlZCBmZWF0dXJlIGZyb20gdGhlIGNvbG9yZWQgc2VsZWN0aW9uIG9uIHRoZSBjaGFydDpcbiAgICAgIGNvbnN0IGlkX3RvX3JlbW92ZSA9IHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvblxuICAgICAgICAubWFwKChmdCwgaSkgPT4gKGZ0LmlkID09PSBpZCA/IGkgOiBudWxsKSkuZmlsdGVyKGZ0ID0+IGZ0KVswXTtcbiAgICAgIHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbi5zcGxpY2UoaWRfdG9fcmVtb3ZlLCAxKTtcbiAgICAgIC8vIENoYW5nZSBpdHMgY29sb3IgaW4gdGhlIGdsb2JhbCBjb2xvcnMgb2JqZWN0OlxuICAgICAgYXBwLmNvbG9yc1tpZF0gPSB1bmRlZmluZWQ7XG4gICAgICAvLyBDaGFuZ2UgdGhlIGNvbG9yIG9uIHRoZSBtYXA6XG4gICAgICBkMy5zZWxlY3QocGFyZW50KS5hdHRyKCdmaWxsJywgY29sb3JfY291bnRyaWVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBwLmNvbG9yc1tpZF0gPSBjb2xvcl9kZWZhdWx0X2Rpc3NpbTtcbiAgICAgIC8vIENoYW5nZSB0aGUgY29sb3Igb24gdGhlIG1hcDpcbiAgICAgIGQzLnNlbGVjdChwYXJlbnQpLmF0dHIoJ2ZpbGwnLCBjb2xvcl9kZWZhdWx0X2Rpc3NpbSk7XG4gICAgICAvLyBBZGQgdGhlIGNsaWNrZWQgZmVhdHVyZSBvbiB0aGUgY29sb3JlZCBzZWxlY3Rpb24gb24gdGhlIGNoYXJ0OlxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtcHJvcGVydGllc1xuICAgICAgY29uc3QgZ2xvYmFsX2Rpc3QgPSBtYXRoX3NxcnQodGhpcy5yYXRpb3MubWFwKHYgPT4gYGRpc3RfJHt2fWApLm1hcCh2ID0+IE1hdGgucG93KCtkLnByb3BlcnRpZXNbdl0sIDIpKS5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiKSk7XG4gICAgICBjb25zdCBvYmogPSB7XG4gICAgICAgIGlkLFxuICAgICAgICBkaXN0OiBnbG9iYWxfZGlzdCxcbiAgICAgIH07XG4gICAgICB0aGlzLnJhdGlvcy5mb3JFYWNoKCh2KSA9PiB7IG9ialt2XSA9ICtkLnByb3BlcnRpZXNbdl07IH0pO1xuICAgICAgdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uLnB1c2gob2JqKTtcbiAgICAgIHRvX2Rpc3BsYXkgPSB0cnVlO1xuICAgIH1cbiAgICB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24uc29ydCgoYSwgYikgPT4gYS5kaXN0IC0gYi5kaXN0KTtcbiAgICB0aGlzLnJlbW92ZUxpbmVzKCk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgICBpZiAodG9fZGlzcGxheSkgc2V0VGltZW91dCgoKSA9PiB7IHRoaXMuZGlzcGxheUxpbmUoaWQpOyB9LCAxNTApO1xuICB9XG5cbiAgbWFrZVRvb2x0aXBzKCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHRoaXMuZHJhd19ncm91cC5zZWxlY3RBbGwoJ2cuZ3JwX3ZhcicpXG4gICAgICAuc2VsZWN0QWxsKCdjaXJjbGUnKVxuICAgICAgICAub24oJ21vdXNlb3ZlcicsICgpID0+IHtcbiAgICAgICAgICBzdmdfYmFyLnNlbGVjdCgnLnRvb2x0aXAnKS5zdHlsZSgnZGlzcGxheScsIG51bGwpO1xuICAgICAgICB9KVxuICAgICAgICAub24oJ21vdXNlb3V0JywgKCkgPT4ge1xuICAgICAgICAgIHN2Z19iYXIuc2VsZWN0KCcudG9vbHRpcCcpLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgIGNvbnN0IHRvb2x0aXAgPSBzdmdfYmFyLnNlbGVjdCgnLnRvb2x0aXAnKTtcbiAgICAgICAgICBjb25zdCByYXRpb19uID0gdGhpcy5wYXJlbnRFbGVtZW50LmlkO1xuICAgICAgICAgIGNvbnN0IG51bV9uID0gdGhpcy5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnbnVtJyk7XG4gICAgICAgICAgY29uc3QgdHkgPSArdGhpcy5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgndHJhbnNmb3JtJykuc3BsaXQoJ3RyYW5zbGF0ZSgwLCAnKVsxXS5zcGxpdCgnKScpWzBdO1xuICAgICAgICAgIHRvb2x0aXAuc2VsZWN0KCdyZWN0JykuYXR0cnMoeyB3aWR0aDogMCwgaGVpZ2h0OiAwIH0pO1xuICAgICAgICAgIHRvb2x0aXBcbiAgICAgICAgICAgIC5zZWxlY3QoJ3RleHQuaWRfZmVhdHVyZScpXG4gICAgICAgICAgICAudGV4dChgJHtkLmlkfWApO1xuICAgICAgICAgIHRvb2x0aXAuc2VsZWN0KCd0ZXh0LnZhbHVlX2ZlYXR1cmUxJylcbiAgICAgICAgICAgIC50ZXh0KGBSYXRpbzogJHtNYXRoLnJvdW5kKGRbcmF0aW9fbl0gKiAxMCkgLyAxMH1gKTtcbiAgICAgICAgICB0b29sdGlwLnNlbGVjdCgndGV4dC52YWx1ZV9mZWF0dXJlMicpXG4gICAgICAgICAgICAudGV4dChgU3RvY2s6ICR7TWF0aC5yb3VuZChkW251bV9uXSAqIDEwKSAvIDEwfWApO1xuICAgICAgICAgIGNvbnN0IGIgPSB0b29sdGlwLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICB0b29sdGlwLnNlbGVjdCgncmVjdCcpXG4gICAgICAgICAgICAuYXR0cnMoe1xuICAgICAgICAgICAgICB3aWR0aDogYi53aWR0aCArIDIwLFxuICAgICAgICAgICAgICBoZWlnaHQ6IGIuaGVpZ2h0ICsgNy41LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgdG9vbHRpcFxuICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHtbZDMubW91c2UodGhpcylbMF0gLSA1LCBkMy5tb3VzZSh0aGlzKVsxXSAtIDQ1ICsgdHldfSlgKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgaWYgKHRoaXMuc3R5bGUuZmlsbCAhPT0gY29sb3JfY291bnRyaWVzKSBzZWxmLmRpc3BsYXlMaW5lKGQuaWQpO1xuICAgICAgICB9KTtcbiAgfVxuXG4gIGRpc3BsYXlMaW5lKGlkX3JlZ2lvbikge1xuICAgIGlmICh0aGlzLnJhdGlvcy5sZW5ndGggPT09IDEpIHJldHVybjtcbiAgICBjb25zdCBjb29yZHMgPSBbXTtcbiAgICBzdmdfYmFyLnNlbGVjdEFsbCgnLmdycF92YXInKVxuICAgICAgLnNlbGVjdEFsbChgIyR7aWRfcmVnaW9ufS5idWJibGVgKVxuICAgICAgLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCB0eSA9ICt0aGlzLnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nKS5zcGxpdCgndHJhbnNsYXRlKDAsICcpWzFdLnJlcGxhY2UoJyknLCAnJyk7XG4gICAgICAgIGNvb3Jkcy5wdXNoKFt0aGlzLmN4LmJhc2VWYWwudmFsdWUsIHRoaXMuY3kuYmFzZVZhbC52YWx1ZSArIHR5XSk7XG4gICAgICB9KTtcblxuICAgIGNvbnN0IGwgPSB0aGlzLmRyYXdfZ3JvdXAuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5kYXR1bShjb29yZHMpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICBjbGFzczogJ3JlZ2lvX2xpbmUnLFxuICAgICAgICBmaWxsOiAnbm9uZScsXG4gICAgICAgIHN0cm9rZTogJ3N0ZWVsYmx1ZScsXG4gICAgICAgICdzdHJva2UtbGluZWpvaW4nOiAncm91bmQnLFxuICAgICAgICAnc3Ryb2tlLWxpbmVjYXAnOiAncm91bmQnLFxuICAgICAgICAnc3Ryb2tlLXdpZHRoJzogMS41LFxuICAgICAgICBkOiBkMy5saW5lKCkueChfZCA9PiBfZFswXSkueShfZCA9PiBfZFsxXSksXG4gICAgICB9KTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGwucmVtb3ZlKCk7XG4gICAgfSwgNTAwMCk7XG4gIH1cblxuICB1cGRhdGVDaGFuZ2VSZWdpb24oKSB7XG4gICAgdGhpcy5yZW1vdmVMaW5lcygpO1xuICAgIGlmIChhcHAuY3VycmVudF9jb25maWcuZmlsdGVyX2tleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmNoYW5nZVN0dWR5Wm9uZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm1hcF9lbGVtLnVwZGF0ZUxlZ2VuZCgpO1xuICAgICAgdGhpcy5teV9yZWdpb24gPSB0aGlzLmRhdGEuZmluZChkID0+IGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pO1xuICAgICAgdGhpcy5kYXRhXG4gICAgICAgIC5mb3JFYWNoKChmdCkgPT4ge1xuICAgICAgICAgIHRoaXMucmF0aW9zLmZvckVhY2goKHYpID0+IHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICAgICAgZnRbYGRpc3RfJHt2fWBdID0gbWF0aF9hYnMoK2Z0W3ZdIC0gK3RoaXMubXlfcmVnaW9uW3ZdKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB0aGlzLnVwZGF0ZVRhYmxlU3RhdCgpO1xuICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgICAgIC8vIHRoaXMuYXBwbHlTZWxlY3Rpb24odGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uLmxlbmd0aCk7XG4gICAgfVxuICB9XG5cbiAgY2hhbmdlU3R1ZHlab25lKCkge1xuICAgIHRoaXMucmVtb3ZlTGluZXMoKTtcbiAgICB0aGlzLm1hcF9lbGVtLnVwZGF0ZUxlZ2VuZCgpO1xuICAgIHRoaXMucmF0aW9zID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvO1xuICAgIHRoaXMubnVtcyA9IGFwcC5jdXJyZW50X2NvbmZpZy5udW07XG4gICAgdGhpcy5kYXRhID0gYXBwLmN1cnJlbnRfZGF0YS5maWx0ZXIoXG4gICAgICBmdCA9PiB0aGlzLnJhdGlvcy5tYXAodiA9PiAhIWZ0W3ZdKS5ldmVyeSh2ID0+IHYgPT09IHRydWUpKS5zbGljZSgpO1xuICAgIHRoaXMubXlfcmVnaW9uID0gdGhpcy5kYXRhLmZpbmQoZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKTtcbiAgICB0aGlzLmRhdGEuZm9yRWFjaCgoZnQpID0+IHtcbiAgICAgIHRoaXMucmF0aW9zLmZvckVhY2goKHYpID0+IHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIGZ0W2BkaXN0XyR7dn1gXSA9IG1hdGhfYWJzKCtmdFt2XSAtICt0aGlzLm15X3JlZ2lvblt2XSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICB0aGlzLmN1cnJlbnRfaWRzID0gdGhpcy5kYXRhLm1hcChkID0+IGQuaWQpO1xuICAgIGNvbnN0IHRlbXAgPSB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24ubGVuZ3RoO1xuICAgIHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbiA9IFtdO1xuICAgIHRoaXMudXBkYXRlVGFibGVTdGF0KCk7XG4gICAgdGhpcy51cGRhdGVDb21wbGV0dWRlKCk7XG4gICAgdGhpcy5hcHBseVNlbGVjdGlvbih0ZW1wKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gIH1cblxuICBhZGRWYXJpYWJsZShjb2RlX3ZhcmlhYmxlLCBuYW1lX3ZhcmlhYmxlKSB7XG4gICAgdGhpcy5yZW1vdmVMaW5lcygpO1xuICAgIHRoaXMucmF0aW9zID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvLnNsaWNlKCk7XG4gICAgdGhpcy5udW1zID0gYXBwLmN1cnJlbnRfY29uZmlnLm51bS5zbGljZSgpO1xuICAgIHRoaXMuZGF0YSA9IGFwcC5jdXJyZW50X2RhdGEuZmlsdGVyKFxuICAgICAgZnQgPT4gdGhpcy5yYXRpb3MubWFwKHYgPT4gISFmdFt2XSkuZXZlcnkodiA9PiB2ID09PSB0cnVlKSkuc2xpY2UoKTtcbiAgICB0aGlzLmN1cnJlbnRfaWRzID0gdGhpcy5kYXRhLm1hcChkID0+IGQuaWQpO1xuICAgIHRoaXMubXlfcmVnaW9uID0gdGhpcy5kYXRhLmZpbmQoZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKTtcbiAgICB0aGlzLmRhdGEuZm9yRWFjaCgoZnQpID0+IHtcbiAgICAgIHRoaXMucmF0aW9zLmZvckVhY2goKHYpID0+IHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIGZ0W2BkaXN0XyR7dn1gXSA9IG1hdGhfYWJzKCtmdFt2XSAtICt0aGlzLm15X3JlZ2lvblt2XSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24gPSB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24ubWFwKChkKSA9PiB7XG4gICAgICBjb25zdCBvYmogPSBPYmplY3QuYXNzaWduKGQsIHt9KTtcbiAgICAgIGNvbnN0IGZ0ID0gdGhpcy5kYXRhLmZpbmQoZWxlbSA9PiBlbGVtLmlkID09PSBvYmouaWQpO1xuICAgICAgaWYgKCFmdCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIHRoaXMucmF0aW9zLmZvckVhY2goKHYpID0+IHtcbiAgICAgICAgb2JqW3ZdID0gK2Z0W3ZdO1xuICAgICAgICBvYmpbYGRpc3RfJHt2fWBdID0gK2Z0W2BkaXN0XyR7dn1gXTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG9iajtcbiAgICB9KS5maWx0ZXIoZCA9PiAhIWQpO1xuICAgIC8vIEFuZCB1c2UgaXQgaW1tZWRpYXRseTpcbiAgICB0aGlzLnVwZGF0ZVRhYmxlU3RhdCgpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICB9XG5cbiAgcmVtb3ZlVmFyaWFibGUoY29kZV92YXJpYWJsZSkge1xuICAgIHRoaXMucmVtb3ZlTGluZXMoKTtcbiAgICB0aGlzLnJhdGlvcyA9IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpby5zbGljZSgpO1xuICAgIHRoaXMubnVtcyA9IGFwcC5jdXJyZW50X2NvbmZpZy5udW0uc2xpY2UoKTtcbiAgICB0aGlzLmRhdGEgPSBhcHAuY3VycmVudF9kYXRhLmZpbHRlcihcbiAgICAgIGZ0ID0+IHRoaXMucmF0aW9zLm1hcCh2ID0+ICEhZnRbdl0pLmV2ZXJ5KHYgPT4gdiA9PT0gdHJ1ZSkpLnNsaWNlKCk7XG4gICAgdGhpcy5teV9yZWdpb24gPSB0aGlzLmRhdGEuZmluZChkID0+IGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pO1xuXG4gICAgdGhpcy5kcmF3X2dyb3VwLnNlbGVjdChgZyMke2NvZGVfdmFyaWFibGV9YCkucmVtb3ZlKCk7XG4gICAgLy8gQW5kIHVzZSBpdCBpbW1lZGlhdGx5OlxuICAgIHRoaXMudXBkYXRlVGFibGVTdGF0KCk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gIH1cblxuICBiaW5kTWVudSgpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBtZW51ID0gZDMuc2VsZWN0KCcjbWVudV9zZWxlY3Rpb24nKTtcbiAgICBjb25zdCBhcHBseWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIHNlbGYubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gICAgICBjb25zdCB2YWx1ZSA9ICt0aGlzLnZhbHVlO1xuICAgICAgaWYgKHZhbHVlIDwgMSkge1xuICAgICAgICB0aGlzLnZhbHVlID0gMTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2VsZi5hcHBseVNlbGVjdGlvbih2YWx1ZSk7XG4gICAgfTtcbiAgICBtZW51LnNlbGVjdCgnLm5iX3NlbGVjdCcpXG4gICAgICAub24oJ2NoYW5nZScsIGFwcGx5Y2hhbmdlKTtcbiAgICBtZW51LnNlbGVjdCgnLm5iX3NlbGVjdCcpXG4gICAgICAub24oJ3doZWVsJywgYXBwbHljaGFuZ2UpO1xuICAgIG1lbnUuc2VsZWN0KCcubmJfc2VsZWN0JylcbiAgICAgIC5vbigna2V5dXAnLCBhcHBseWNoYW5nZSk7XG4gIH1cblxuICByZW1vdmVMaW5lcygpIHtcbiAgICB0aGlzLmRyYXdfZ3JvdXAuc2VsZWN0QWxsKCcucmVnaW9fbGluZScpLnJlbW92ZSgpO1xuICB9XG5cbiAgcmVtb3ZlKCkge1xuICAgIHRoaXMubWFwX2VsZW0udW5iaW5kQnJ1c2hDbGljaygpO1xuICAgIHRoaXMubWFwX2VsZW0gPSBudWxsO1xuICAgIHRoaXMudGFibGVfc3RhdHMucmVtb3ZlKCk7XG4gICAgdGhpcy50YWJsZV9zdGF0cyA9IG51bGw7XG4gICAgdGhpcy5jb21wbGV0dWRlLnJlbW92ZSgpO1xuICAgIHRoaXMuY29tcGxldHVkZSA9IG51bGw7XG4gICAgc3ZnX2Jhci5odG1sKCcnKTtcbiAgfVxuXG4gIGJpbmRNYXAobWFwX2VsZW0pIHtcbiAgICB0aGlzLm1hcF9lbGVtID0gbWFwX2VsZW07XG4gICAgdGhpcy5tYXBfZWxlbS5yZXNldENvbG9ycyh0aGlzLmN1cnJlbnRfaWRzKTtcbiAgICB0aGlzLmFwcGx5U2VsZWN0aW9uKDUpO1xuICB9XG5cbiAgcHJlcGFyZVRhYmxlU3RhdCgpIHtcbiAgICBjb25zdCByYXRpb3MgPSB0aGlzLnJhdGlvcztcbiAgICBjb25zdCBhbGxfdmFsdWVzID0gcmF0aW9zLm1hcCh2ID0+IHRoaXMuZGF0YS5tYXAoZCA9PiArZFt2XSkpO1xuICAgIGNvbnN0IG15X3JlZ2lvbiA9IHRoaXMubXlfcmVnaW9uO1xuICAgIGNvbnN0IGZlYXR1cmVzID0gYWxsX3ZhbHVlcy5tYXAoKHZhbHVlcywgaSkgPT4gKHtcbiAgICAgIE1pbjogZDMubWluKHZhbHVlcyksXG4gICAgICBNYXg6IGQzLm1heCh2YWx1ZXMpLFxuICAgICAgTW95ZW5uZTogZ2V0TWVhbih2YWx1ZXMpLFxuICAgICAgaWQ6IHRoaXMucmF0aW9zW2ldLFxuICAgICAgVmFyaWFibGU6IHRoaXMucmF0aW9zW2ldLFxuICAgICAgJ01hIHLDqWdpb24nOiBteV9yZWdpb25bdGhpcy5yYXRpb3NbaV1dLFxuICAgIH0pKTtcbiAgICByZXR1cm4gZmVhdHVyZXM7XG4gIH1cblxuICB1cGRhdGVUYWJsZVN0YXQoKSB7XG4gICAgdGhpcy50YWJsZV9zdGF0cy5yZW1vdmVBbGwoKTtcbiAgICB0aGlzLnRhYmxlX3N0YXRzLmFkZEZlYXR1cmVzKHRoaXMucHJlcGFyZVRhYmxlU3RhdCgpKTtcbiAgfVxuXG4gIG1ha2VUYWJsZVN0YXQoKSB7XG4gICAgY29uc3QgZmVhdHVyZXMgPSB0aGlzLnByZXBhcmVUYWJsZVN0YXQoKTtcbiAgICB0aGlzLnRhYmxlX3N0YXRzID0gbmV3IFRhYmxlUmVzdW1lU3RhdChmZWF0dXJlcyk7XG4gIH1cbn1cbiIsIi8vIGltcG9ydCBkZWJ1ZyBmcm9tICdkZWJ1Zyc7XG5pbXBvcnQgdGluZ2xlIGZyb20gJ3RpbmdsZS5qcyc7XG5pbXBvcnQgYWxlcnRpZnkgZnJvbSAnYWxlcnRpZnlqcyc7XG5pbXBvcnQgeyBjcmVhdGVNZW51IH0gZnJvbSAnLi9tb2R1bGVzL21lbnVsZWZ0JztcbmltcG9ydCB7IG1ha2VUb3BNZW51LCBtYWtlSGVhZGVyQ2hhcnQsIG1ha2VIZWFkZXJNYXBTZWN0aW9uIH0gZnJvbSAnLi9tb2R1bGVzL21lbnV0b3AnO1xuaW1wb3J0IHsgTWFwU2VsZWN0LCBtYWtlU291cmNlU2VjdGlvbiwgbWFrZU1hcExlZ2VuZCwgc3ZnX21hcCB9IGZyb20gJy4vbW9kdWxlcy9tYXAnO1xuLy8gaW1wb3J0IHsgbWFrZVRhYmxlIH0gZnJvbSAnLi9tb2R1bGVzL3RhYmxlJztcbmltcG9ydCB7IGNvbG9yX2hpZ2hsaWdodCwgTUFYX1ZBUklBQkxFUyB9IGZyb20gJy4vbW9kdWxlcy9vcHRpb25zJztcbmltcG9ydCB7IEJhckNoYXJ0MSB9IGZyb20gJy4vbW9kdWxlcy9jaGFydHMvYmFyQ2hhcnRfMXYnO1xuaW1wb3J0IHsgU2NhdHRlclBsb3QyIH0gZnJvbSAnLi9tb2R1bGVzL2NoYXJ0cy9zY2F0dGVyUGxvdF8ydic7XG5pbXBvcnQgeyBSYWRhckNoYXJ0MyB9IGZyb20gJy4vbW9kdWxlcy9jaGFydHMvcmFkYXJDaGFydF8zdic7XG5pbXBvcnQgeyBTaW1pbGFyaXR5MXBsdXMgfSBmcm9tICcuL21vZHVsZXMvY2hhcnRzL3NpbWlsYXJpdHkxdic7XG5pbXBvcnQgeyB1bmJpbmRVSSwgc2VsZWN0Rmlyc3RBdmFpbGFibGVWYXIgfSBmcm9tICcuL21vZHVsZXMvaGVscGVycyc7XG5pbXBvcnQge1xuICBwcmVwYXJlX2RhdGFzZXQsXG4gIGZpbHRlckxldmVsVmFyLFxuICBhcHBseUZpbHRlcixcbiAgY2hhbmdlUmVnaW9uLFxuICBhZGRWYXJpYWJsZSxcbiAgcmVtb3ZlVmFyaWFibGUsXG4gIHJlc2V0VmFyaWFibGVzLFxuICBwcmVwYXJlVmFyaWFibGVzSW5mbyxcbn0gZnJvbSAnLi9tb2R1bGVzL3ByZXBhcmVfZGF0YSc7XG5cbmV4cG9ydCBsZXQgdmFyaWFibGVzX2luZm87XG5cbmNvbnN0IHN0dWR5X3pvbmVzID0gW1xuICB7IGlkOiAnbm9fZmlsdGVyJywgbmFtZTogJ1VFMjgnIH0sXG4gIHsgaWQ6ICdmaWx0ZXJfY291bnRyeScsIG5hbWU6ICdGaWx0cmUgbmF0aW9uYWwgKEZyYW5jZSknIH0sXG4gIC8vIHsgaWQ6ICdmaWx0ZXJfcGFyYW0yJywgbmFtZTogJ0VzcGFjZSBkZSBjb21wYXJhaXNvbiBuwrAyJyB9LFxuICB7IGlkOiAnZmlsdGVyX2Rpc3QnLCBuYW1lOiAnUsOpZ2lvbiBkYW5zIHVuIHJheW9uIGRlICcgfSxcbl07XG5cbmNvbnN0IHRlcnJpdG9yaWFsX21lc2ggPSBbXG4gIHsgaWQ6ICdOVVRTMScsIG5hbWU6ICdOVVRTMScgfSxcbiAgeyBpZDogJ05VVFNfZGVjaXNpb24nLCBuYW1lOiAnTlVUUzEvMiAobml2ZWF1IGRlIGTDqWNpc2lvbiknIH1dO1xuXG5leHBvcnQgY29uc3QgYXBwID0ge1xuICAvLyBBIG1hcHBpbmcgaWQgLT4gY29sb3IsIGNvbnRhaW5pbmcgdGhlIGNvbG9yIHRvIHVzZSBmb3IgZWFjaFxuICAvLyBmZWF0dXJlIG5vdCB1c2luZyB0aGUgZGVmYXVsdCBjb2xvciBvciB0aGUgZGlzYWJsZWQgY29sb3JcbiAgY29sb3JzOiB7fSxcbiAgLy8gVGhlIGZpbHRlcmVkIGRhdGFzZXQgKGFjY2NvcmRpbmcgdG86IHRoZSBjdXJyZW50IHRlcnJpdG9yaWFsIGxldmVsLFxuICAvLyB0aGUgZmlsdGVyIGtleSAoaWYgYW55KSBhbmQgdGhlIHJhdGlvKHMpIHNlbGVjdGVkIG9uIHRoZSBsZWZ0IG1lbnU6XG4gIGN1cnJlbnRfZGF0YTogW10sXG4gIC8vIFRoZSBmdWxsIGRhdGFzZXQgcHJvdmlkZWQgKGNvbnRhaW5pbmcgYWxsIHRoZSBmZWF0dXJlcyBhdCBhbnkgbGV2ZWwgaW4gb25lIHRhYmxlKVxuICAvLyBSb3cgd2l0aG91dCBkYXRhIGFyZSBleHBlY3RlZCB0byBiZSBlbXB0eSBvciB0byBjb250YWluIHRoZSBcIk5BXCIgc3RyaW5nLlxuICBmdWxsX2RhdGFzZXQ6IFtdLFxuICAvLyBUaGUgaWRzIG9mIHRoZSBjdXJyZW50IGZlYXR1cmUgaW4gdXNlIChhY2Njb3JkaW5nIHRvOiB0aGUgY3VycmVudCB0ZXJyaXRvcmlhbCBsZXZlbCxcbiAgLy8gdGhlIGZpbHRlciBrZXkgKGlmIGFueSkgYW5kIHRoZSByYXRpbyhzKSB1c2VkIGluIHRoZSBjdXJyZW50IGNoYXJ0OyBmaWx0ZXJlZFxuICAvLyB0byBub3QgY29udGFpbiBmZWF0dXJlIHdpdGggZW1wdHkgcmF0aW8gdmFsdWVzIHdpdGhpbiB0aGUgcmF0aW9zIGluIHVzZSkuXG4gIGN1cnJlbnRfaWRzOiBbXSxcbn07XG5cbmZ1bmN0aW9uIHNldERlZmF1bHRDb25maWcoY29kZSA9ICdGUkUnLCB2YXJpYWJsZSA9ICdSVF9DSE9NXzE1NzQnKSB7IC8vIH0sIGxldmVsID0gJ05VVFMxJykge1xuICBhcHAuY3VycmVudF9jb25maWcgPSB7XG4gICAgLy8gVGhlIG5hbWUgb2YgdGhlIGZpZWxkIG9mIHRoZSBkYXRhc2V0IGNvbnRhaW5pbmcgdGhlIElEIG9mIGVhY2ggZmVhdHVyZTpcbiAgICBpZF9maWVsZDogJ2dlbycsXG4gICAgLy8gVGhlIG5hbWUgb2YgdGhlIGZpZWxkIG9mIHRoZSBkYXRhc2V0IGNvbnRhaW5pbmcgdGhlIG5hbWUgb2YgZWFjaCBmZWF0dXJlOlxuICAgIG5hbWVfZmllbGQ6ICdOb20nLFxuICAgIC8vIFRoZSBuYW1lIG9mIHRoZSBmaWVsZCBvZiB0aGUgZGF0YXNldCBjb250YWluaW5nIHRoZSBwb3B1bGF0aW9uIG9mIGVhY2ggZmVhdHVyZTpcbiAgICBwb3BfZmllbGQ6ICdQT1BfQUdFX1RfMjAxNicsXG4gICAgLy8gVGhlIG5hbWUgb2YgdGhlIGZpZWxkIG9mIHRoZSBnZW9qc29uIGxheWVyIGNvbnRhaW5pbmcgdGhlIElEIG9mIGVhY2ggZmVhdHVyZVxuICAgIC8vICh0aGVzZSB2YWx1ZXMgc2hvdWxkIG1hdGNoIHdpdGggdGhlIHZhbHVlcyBvZiB0aGUgXCJpZF9maWVsZFwiIGluIHRoZVxuICAgIC8vIHRhYnVsYXIgZGF0YXNldClcbiAgICBpZF9maWVsZF9nZW9tOiAnaWQnLFxuICAgIG51bTogWydDSE9NXzE1NzRfMjAxNiddLFxuICAgIGRlbnVtOiBbJ0FDVF8xNTc0XzIwMTYnXSxcbiAgICByYXRpbzogW3ZhcmlhYmxlXSxcbiAgICByYXRpb19wcmV0dHlfbmFtZTogWydUYXV4IGRlIGNow7RtYWdlICgxNS03NCBhbnMpICgyMDE2KSddLFxuICAgIHJhdGlvX3VuaXQ6IFsnJSddLFxuICAgIC8vIFRoZSBsZXZlbCBjdXJyZW50bHkgaW4gdXNlOlxuICAgIGN1cnJlbnRfbGV2ZWw6ICdOVVRTMScsXG4gICAgLy8gVGhlIElEIG9mIHRoZSByZWdpb24gY3VycmVudGx5IGluIHVzZTpcbiAgICBteV9yZWdpb246IGNvZGUsXG4gICAgLy8gVGhlIG5hbWUgb2YgdGhlIHJlZ2lvbiBjdXJyZW50bHkgaW4gdXNlOlxuICAgIG15X3JlZ2lvbl9wcmV0dHlfbmFtZTogYXBwLmZlYXR1cmVfbmFtZXNbY29kZV0sXG4gICAgLy8gSG93IG1hbnkgcmF0aW8gb24gdGhlIGN1cnJlbnQgY2hhcnQ6XG4gICAgbmJfdmFyOiAxLFxuICB9O1xuICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xufVxuXG5mdW5jdGlvbiBzZXREZWZhdWx0Q29uZmlnTWVudShjb2RlID0gJ0ZSRScsIHZhcmlhYmxlID0gJ1JUX0NIT01fMTU3NCcsIGxldmVsID0gJ05VVFMxJykge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAudGFyZ2V0X3JlZ2lvbi5zcXVhcmVbdmFsdWU9XCIke2NvZGV9XCJdYCkuY2xhc3NMaXN0LmFkZCgnY2hlY2tlZCcpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAudGFyZ2V0X3ZhcmlhYmxlLnNtYWxsX3NxdWFyZVt2YWx1ZT1cIiR7dmFyaWFibGV9XCJdYCkuY2xhc3NMaXN0LmFkZCgnY2hlY2tlZCcpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmlsdGVyX3Yuc3F1YXJlW2ZpbHRlci12YWx1ZT1cIm5vX2ZpbHRlclwiXScpLmNsYXNzTGlzdC5hZGQoJ2NoZWNrZWQnKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnRlcnJpdF9sZXZlbC5zcXVhcmVbdmFsdWU9XCIke2xldmVsfVwiXWApLmNsYXNzTGlzdC5hZGQoJ2NoZWNrZWQnKTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRDb2xvcnMoKSB7XG4gIGFwcC5jb2xvcnMgPSB7fTtcbiAgLy8gZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gY3VycmVudF9pZHMubGVuZ3RoOyBpIDwgbGVuX2k7IGkrKykge1xuICAvLyAgIGFwcC5jb2xvcnNbY3VycmVudF9pZHNbaV1dID0gY29sb3JfY291bnRyaWVzO1xuICAvLyB9XG4gIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG59XG5cbi8qKlxuKiBGdW5jdGlvbiB0byB1cGRhdGUgdGhlIGF2YWlsYWJsZXMgcmF0aW9zIGluIHRoZSBsZWZ0IG1lbnUgKGFmdGVyIGNoYW5naW5nIHJlZ2lvbilcbiogSWYgYSBzZWxlY3RlZCB2YXJpYWJsZSBpcyBub3QgYXZhaWxhYmxlIGFueW1vcmUgaXQgd2lsbCBiZSBkZXNlbGVjdGVkLlxuKiBJZiB0aGVyZSBzZWxlY3RlZCB2YXJpYWJsZSAoYWxsIHRoZSBwcmV2aW91c2x5IHNlbGVjdGVkIHZhcmlhYmxlcyBhcmUgdW5hdmFpbGFibGUgZm9yIHRoaXMgcmVnaW9uKVxuKiB0aGUgZmlyc3QgdmFyaWFibGUgb24gdGhlIG1lbnUgd2lsbCBiZSBzZWxlY3RlZC5cbiogSWYgdGhlIG5ldyBudW1iZXIgb2Ygc2VsZWN0ZWQgZmVhdHVyZSBpcyBpbmZlcmlvciB0byB0aGUgbnVtYmVyIG9mIHZhcmlhYmxlcyBvbiB0aGUgY3VycmVudFxuKiBjaGFydCwgYSBuZXcgY2hhcnQgKHN1aXRhYmxlIGZvciBvbmx5IDEgdmFyaWFibGUpIHdpbGwgYmUgc2VsZWN0ZWQuXG4qXG4qXG4qIEBwYXJhbSB7U3RyaW5nfSBteV9yZWdpb24gLSBUaGUgSUQgb2YgdGhlIG5ld2x5IHNlbGVjdGVkIHJlZ2lvbi5cbiogQHJldHVybiB7TnVtYmVyfSAtIFRoZSBuZXcgbnVtYmVyIG9mIHNlbGVjdGVkIHJhdGlvcy5cbipcbiovXG5mdW5jdGlvbiB1cGRhdGVBdmFpbGFibGVSYXRpb3MobXlfcmVnaW9uKSB7XG4gIGNvbnN0IGRhdGFfbXlfZmVhdHVyZSA9IGFwcC5mdWxsX2RhdGFzZXQuZmlsdGVyKFxuICAgIGZ0ID0+IGZ0W2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF0gPT09IG15X3JlZ2lvbilbMF07XG4gIGNvbnN0IG1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWVudScpO1xuICBjb25zdCBsaW5lcyA9IG1lbnUucXVlcnlTZWxlY3RvckFsbCgnLnRhcmdldF92YXJpYWJsZScpO1xuICBmb3IgKGxldCBpID0gMCwgbmJfbGluZXMgPSBsaW5lcy5sZW5ndGg7IGkgPCBuYl9saW5lczsgaSsrKSB7XG4gICAgY29uc3QgY29kZV92YXJpYWJsZSA9IGxpbmVzW2ldLmdldEF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgICBpZiAoZGF0YV9teV9mZWF0dXJlW2NvZGVfdmFyaWFibGVdICE9PSB1bmRlZmluZWRcbiAgICAgICAgJiYgZGF0YV9teV9mZWF0dXJlW2NvZGVfdmFyaWFibGVdICE9PSAnTkEnKSB7XG4gICAgICBsaW5lc1tpXS5jbGFzc0xpc3QucmVtb3ZlKCdkaXNhYmxlZCcpO1xuICAgICAgbGluZXNbaV0ubmV4dFNpYmxpbmcuY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZWQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGluZXNbaV0uY2xhc3NMaXN0LnJlbW92ZSgnY2hlY2tlZCcpO1xuICAgICAgbGluZXNbaV0uY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKTtcbiAgICAgIGxpbmVzW2ldLm5leHRTaWJsaW5nLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJyk7XG4gICAgfVxuICB9XG4gIGNvbnN0IG5ld192YXIgPSBtZW51LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YXJnZXRfdmFyaWFibGUuY2hlY2tlZCcpO1xuICBpZiAobmV3X3Zhci5sZW5ndGggIT09IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpby5sZW5ndGgpIHtcbiAgICBsZXQgbmV3X3Zhcl9uYW1lcztcbiAgICBpZiAobmV3X3Zhci5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnN0IG5hbWUgPSBzZWxlY3RGaXJzdEF2YWlsYWJsZVZhcigpO1xuICAgICAgbmV3X3Zhcl9uYW1lcyA9IFtuYW1lXTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3X3Zhcl9uYW1lcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKFxuICAgICAgICBuZXdfdmFyKS5tYXAoZWxlbSA9PiBlbGVtLmdldEF0dHJpYnV0ZSgndmFsdWUnKSk7XG4gICAgfVxuICAgIHJlc2V0VmFyaWFibGVzKGFwcCwgbmV3X3Zhcl9uYW1lcyk7XG4gIH1cbiAgcmV0dXJuIG5ld192YXIubGVuZ3RoO1xufVxuXG4vKipcbipcbipcbipcbipcbiovXG5mdW5jdGlvbiB1cGRhdGVBdmFpbGFibGVDaGFydHMobmJfdmFyKSB7XG4gIGlmIChuYl92YXIgPT09IDEpIHsgLy8gQWxsb3cgYWxsIGtpbmQgb2Ygdml6dSB3aXRoIDEgdmFyaWFibGU6XG4gICAgZDMuc2VsZWN0QWxsKCcuY2hhcnRfdDEnKS5lYWNoKGZ1bmN0aW9uICgpIHsgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKCdkaXNhYmxlZCcpOyB9KTtcbiAgICBkMy5zZWxlY3RBbGwoJy5jaGFydF90MiwgLmNoYXJ0X3QzJykuZWFjaChmdW5jdGlvbiAoKSB7IHRoaXMuY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKTsgfSk7XG4gIH0gZWxzZSBpZiAobmJfdmFyID09PSAyKSB7IC8vIEFsbG93IGFsbCBraW5kIG9mIHZpenUgd2l0aCAyIHZhcmlhYmxlczpcbiAgICBkMy5zZWxlY3RBbGwoJy5jaGFydF90MSwgLmNoYXJ0X3QyJykuZWFjaChmdW5jdGlvbiAoKSB7IHRoaXMuY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZWQnKTsgfSk7XG4gICAgZDMuc2VsZWN0QWxsKCcuY2hhcnRfdDMnKS5lYWNoKGZ1bmN0aW9uICgpIHsgdGhpcy5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpOyB9KTtcbiAgfSBlbHNlIGlmIChuYl92YXIgPiAyKSB7IC8vIEFsbG93IGFsbCBraW5kIG9mIHZpenUgd2l0aCAzIHZhcmlhYmxlczpcbiAgICBkMy5zZWxlY3RBbGwoJy5jaGFydF90MSwgLmNoYXJ0X3QyLCAuY2hhcnRfdDMnKS5lYWNoKGZ1bmN0aW9uICgpIHsgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKCdkaXNhYmxlZCcpOyB9KTtcbiAgfVxufVxuXG4vKipcbiogQ3JlYXRlIGhhbmRsZXJzIGZvciB1c2VyIGV2ZW50IG9uIHRoZSBsZWZ0IG1lbnUgYW5kIG9uIHRoZSBtYXAgZm9yIGNoYXJ0cyBvbmx5XG4qIGFsbG93aW5nIHRvIHVzZSAxIHZhcmlhYmxlLlxuKlxuKiBAcGFyYW0ge09iamVjdH0gY2hhcnQgLSBUaGUgY2hhcnQgb2JqZWN0LlxuKiBAcGFyYW0ge09iamVjdH0gbWFwX2VsZW0gLSBUaGUgbWFwIG9iamVjdC5cbiogQHJldHVybiB7dm9pZH1cbipcbiovXG5mdW5jdGlvbiBiaW5kVUlfY2hhcnQoY2hhcnQsIG1hcF9lbGVtKSB7XG4gIC8vIFVzZXIgY2hhbmdlIHRoZSBzdHVkeSB6b25lOlxuICBkMy5zZWxlY3RBbGwoJ3NwYW4uZmlsdGVyX3YnKVxuICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdjaGVja2VkJykpIHtcbiAgICAgICAgZDMuc2VsZWN0QWxsKCdzcGFuLmZpbHRlcl92JykuYXR0cignY2xhc3MnLCAnZmlsdGVyX3Ygc3F1YXJlJyk7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnY2hlY2tlZCcpO1xuICAgICAgICBjb25zdCBmaWx0ZXJfdHlwZSA9IHRoaXMuZ2V0QXR0cmlidXRlKCdmaWx0ZXItdmFsdWUnKTtcbiAgICAgICAgaWYgKGZpbHRlcl90eXBlID09PSAnZmlsdGVyX2Rpc3QnKSB7XG4gICAgICAgICAgY29uc3QgaW5wdXRfZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXN0X2ZpbHRlcicpO1xuICAgICAgICAgIGlucHV0X2VsZW0ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgICAgICAgIGNvbnN0IGRpc3QgPSAraW5wdXRfZWxlbS52YWx1ZTtcbiAgICAgICAgICBjb25zdCBpZHMgPSBtYXBfZWxlbS5nZXRVbml0c1dpdGhpbihkaXN0KTtcbiAgICAgICAgICBhcHBseUZpbHRlcihhcHAsIGlkcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3RfZmlsdGVyJykuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgICAgICAgIGFwcGx5RmlsdGVyKGFwcCwgZmlsdGVyX3R5cGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIG1ha2VUYWJsZShhcHAuY3VycmVudF9kYXRhLCBhcHAuY3VycmVudF9jb25maWcpO1xuICAgICAgICBjaGFydC5jaGFuZ2VTdHVkeVpvbmUoKTtcbiAgICAgICAgY2hhcnQudXBkYXRlQ29tcGxldHVkZSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIGQzLnNlbGVjdCgnI2Rpc3RfZmlsdGVyJylcbiAgICAub24oJ2NoYW5nZSwga2V5dXAnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCBpZHMgPSBtYXBfZWxlbS5nZXRVbml0c1dpdGhpbigrdGhpcy52YWx1ZSk7XG4gICAgICBhcHBseUZpbHRlcihhcHAsIGlkcyk7XG4gICAgICAvLyBtYWtlVGFibGUoYXBwLmN1cnJlbnRfZGF0YSwgYXBwLmN1cnJlbnRfY29uZmlnKTtcbiAgICAgIGNoYXJ0LmNoYW5nZVN0dWR5Wm9uZSgpO1xuICAgICAgY2hhcnQudXBkYXRlQ29tcGxldHVkZSgpO1xuICAgIH0pO1xuXG4gIC8vIFVzZXIgY2hhbmdlIHRoZSB0YXJnZXRlZCByZWdpb246XG4gIGQzLnNlbGVjdEFsbCgnc3Bhbi50YXJnZXRfcmVnaW9uJylcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCF0aGlzLmNsYXNzTGlzdC5jb250YWlucygnY2hlY2tlZCcpKSB7XG4gICAgICAgIGQzLnNlbGVjdEFsbCgnc3Bhbi50YXJnZXRfcmVnaW9uJykuYXR0cignY2xhc3MnLCAndGFyZ2V0X3JlZ2lvbiBzcXVhcmUnKTtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XG4gICAgICAgIGNvbnN0IGlkX3JlZ2lvbiA9IHRoaXMuZ2V0QXR0cmlidXRlKCd2YWx1ZScpO1xuICAgICAgICBjb25zdCBvbGRfbmJfdmFyID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvLmxlbmd0aDtcbiAgICAgICAgY2hhbmdlUmVnaW9uKGFwcCwgaWRfcmVnaW9uLCBtYXBfZWxlbSk7XG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgYXZhaWxhYmxlcyByYXRpbyBvbiB0aGUgbGVmdCBtZW51XG4gICAgICAgIC8vICh0aGlzIG1heSBjaGFuZ2UgdGhlIGN1cnJlbnQgc2VsZWN0ZWQgcmF0aW8ocykgYXMgc29tZSB2YXJpYWJsZXMgYXJlXG4gICAgICAgIC8vIG5vdCBhdmFpbGFibGUgZm9yIHNvbWUgZmVhdHVyZXMpIGFuZCBmZXRjaCB0aGUgbnVtYmVyIG9mIHNlbGVjdGVkXG4gICAgICAgIC8vIHZhcmlhYmxlcyBhZnRlciB0aGF0OlxuICAgICAgICBjb25zdCBuZXdfbmJfdmFyID0gdXBkYXRlQXZhaWxhYmxlUmF0aW9zKGlkX3JlZ2lvbik7XG4gICAgICAgIHVwZGF0ZUF2YWlsYWJsZUNoYXJ0cyhuZXdfbmJfdmFyKTtcbiAgICAgICAgaWYgKG5ld19uYl92YXIgPj0gYXBwLmN1cnJlbnRfY29uZmlnLm5iX3Zhcikge1xuICAgICAgICAgIGlmIChvbGRfbmJfdmFyID09PSBuZXdfbmJfdmFyKSB7XG4gICAgICAgICAgICBjaGFydC51cGRhdGVDaGFuZ2VSZWdpb24oKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZDMuc2VsZWN0KCdzcGFuLnR5cGVfY2hhcnQuc2VsZWN0ZWQnKS5kaXNwYXRjaCgnY2xpY2snKTtcbiAgICAgICAgICAgIGFsZXJ0aWZ5Lndhcm5pbmcoJ1VuZSB2YXJpYWJsZSBwcsOpY8OpZGVtbWVudCBzw6lsZWN0aW9ubsOpZSBuXFwnZXN0IHBhcyBkaXNwb25pYmxlIHBvdXIgY2V0dGUgcsOpZ2lvbi4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gSWYgdGhlcmUgZmV3ZXIgc2VsZWN0ZWQgdmFyaWFibGVzIHRoYW4gcmVxdWVzdGVkIGJ5IHRoZSBjdXJyZW50IGNoYXJ0LFxuICAgICAgICAgIC8vIHJlZHJhdyB0aGUgZmlyc3QgKGRlZmF1bHQpIGtpbmQgb2YgY2hhcnQ6XG4gICAgICAgICAgZDMuc2VsZWN0KCdzcGFuLmNoYXJ0X3QxW3ZhbHVlPVwiQmFyQ2hhcnQxXCJdJykuZGlzcGF0Y2goJ2NsaWNrJyk7XG4gICAgICAgICAgYWxlcnRpZnkud2FybmluZygnRGVzIHZhcmlhYmxlcyBzw6lsZWN0aW9ubsOpZXMgc29udCBpbmRpc3BvbmlibGVzIHBvdXIgY2V0dGUgcsOpZ2lvbi4gVW4gY2hhbmdlbWVudCBkZSByZXByw6lzZW50YXRpb24gZXN0IG7DqWNlc3NhaXJlLicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgLy8gVXNlciBjbGljayBvbiB0aGUgbmFtZSBvZiBhIGdyb3VwIG9mIHZhcmlhYmxlc1xuICAvLyB0byBleHBhbmQgb3IgY29sbGFwc2UgaXRzIGNvbnRlbnQ6XG4gIGQzLnNlbGVjdEFsbCgnLm5hbWVfZ3JvdXBfdmFyJylcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgZ3JvdXBfdmFyID0gdGhpcy5uZXh0U2libGluZztcbiAgICAgIGlmIChncm91cF92YXIuc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnKSB7XG4gICAgICAgIGdyb3VwX3Zhci5zdHlsZS5kaXNwbGF5ID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdyb3VwX3Zhci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIC8vIFVzZXIgY2xpY2sgdG8gYWRkL3JlbW92ZSBhIHZhcmlhYmxlIGZyb20gdGhlIGNvbXBhcmlzb246XG4gIGQzLnNlbGVjdEFsbCgnc3Bhbi50YXJnZXRfdmFyaWFibGUnKVxuICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2Rpc2FibGVkJykpIHJldHVybjtcbiAgICAgIGxldCBuYl92YXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc3Bhbi50YXJnZXRfdmFyaWFibGUnKSkuZmlsdGVyKFxuICAgICAgICAgIGVsZW0gPT4gISFlbGVtLmNsYXNzTGlzdC5jb250YWlucygnY2hlY2tlZCcpKS5sZW5ndGg7XG4gICAgICAvLyBTZWxlY3QgYSBuZXcgdmFyaWFibGUgYW5kIHRyaWdnZXIgdGhlIGFwcHJvcHJpYXRlIGNoYW5nZXMgb24gdGhlIGN1cnJlbnQgY2hhcnQ6XG4gICAgICBpZiAoIXRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdjaGVja2VkJykpIHtcbiAgICAgICAgLy8gV2UgZG9uJ3Qgd2FudCB0aGUgdXNlciB0byBiZSBhYmxlIHRvIHNlbGVjdCBtb3JlIHRoYW5cbiAgICAgICAgLy8gTUFYX1ZBUklBQkxFUyAoZGVmYXVsdCA9IDcpIHZhcmlhYmxlcyBzaW11bHRhbmVvdXNseTpcbiAgICAgICAgaWYgKG5iX3ZhciA+PSBNQVhfVkFSSUFCTEVTKSB7XG4gICAgICAgICAgYWxlcnRpZnkud2FybmluZygnTGUgbm9tYnJlIG1heGltYWwgZGUgdmFyaWFibGVzIHPDqWxlY3Rpb25uw6llcyBlc3QgYXR0ZWludC4nKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XG4gICAgICAgIGNvbnN0IGNvZGVfdmFyaWFibGUgPSB0aGlzLmdldEF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgICAgICAgY29uc3QgbmFtZV92YXJpYWJsZSA9IHZhcmlhYmxlc19pbmZvLmZpbmQoZCA9PiBkLnJhdGlvID09PSBjb2RlX3ZhcmlhYmxlKS5uYW1lO1xuICAgICAgICBhZGRWYXJpYWJsZShhcHAsIGNvZGVfdmFyaWFibGUpO1xuICAgICAgICAvLyBtYWtlVGFibGUoYXBwLmN1cnJlbnRfZGF0YSwgYXBwLmN1cnJlbnRfY29uZmlnKTtcbiAgICAgICAgY2hhcnQuYWRkVmFyaWFibGUoY29kZV92YXJpYWJsZSwgbmFtZV92YXJpYWJsZSk7XG4gICAgICAgIG5iX3ZhciArPSAxO1xuICAgICAgfSBlbHNlIHsgLy8gUmVtb3ZlIGEgdmFyaWFibGUgZnJvbSB0aGUgc2VsZWN0aW9uOlxuICAgICAgICBuYl92YXIgLT0gMTtcbiAgICAgICAgLy8gV2UgZG9uJ3Qgd2FudCB0byBsZXQgdGhlIHVzZXIgcmVtb3ZlIHRoZSB2YXJpYWJsZSBpZlxuICAgICAgICAvLyBpdCdzIHRoZSBvbmx5IG9uZSBzZWxlY3RlZCBvciBpZiB0aGUgY3VycmVudGx5IGRpc3BsYXllZFxuICAgICAgICAvLyBjaGFydCBuZWVkIGEgbWluaW11bSBudW1iZXIgb2YgdmFyaWFibGVzOlxuICAgICAgICBpZiAobmJfdmFyIDwgYXBwLmN1cnJlbnRfY29uZmlnLm5iX3Zhcikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb2RlX3ZhcmlhYmxlID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LnJlbW92ZSgnY2hlY2tlZCcpO1xuICAgICAgICByZW1vdmVWYXJpYWJsZShhcHAsIGNvZGVfdmFyaWFibGUpO1xuICAgICAgICBjaGFydC5yZW1vdmVWYXJpYWJsZShjb2RlX3ZhcmlhYmxlKTtcbiAgICAgICAgLy8gbWFrZVRhYmxlKGFwcC5jdXJyZW50X2RhdGEsIGFwcC5jdXJyZW50X2NvbmZpZyk7XG4gICAgICB9XG4gICAgICAvLyBVcGRhdGUgdGhlIHRvcCBtZW51IHRvIGRpc3BsYXkgYXZhaWxhYmxlIGNoYXJ0cyBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnRcbiAgICAgIC8vIG51bWJlciBvZiBhdmFpbGFibGUgdmFyaWFibGVzOlxuICAgICAgdXBkYXRlQXZhaWxhYmxlQ2hhcnRzKG5iX3Zhcik7XG4gICAgfSk7XG5cbiAgZDMuc2VsZWN0QWxsKCdzcGFuLnRlcnJpdF9sZXZlbCcpXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2NoZWNrZWQnKSkge1xuICAgICAgICAvLyBSZXNldCB0aGUgc3R1ZHkgem9uZSA6XG4gICAgICAgIGQzLnNlbGVjdCgnc3Bhbi5maWx0ZXJfdltmaWx0ZXItdmFsdWU9XCJub19maWx0ZXJcIl0nKS5kaXNwYXRjaCgnY2xpY2snKTtcbiAgICAgICAgZDMuc2VsZWN0QWxsKCdzcGFuLnRlcnJpdF9sZXZlbCcpLmF0dHIoJ2NsYXNzJywgJ3RlcnJpdF9sZXZlbCBzcXVhcmUnKTtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XG4gICAgICAgIGNvbnN0IGxldmVsX3ZhbHVlID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG4gICAgICAgIGFwcC5jdXJyZW50X2NvbmZpZy5jdXJyZW50X2xldmVsID0gbGV2ZWxfdmFsdWU7XG4gICAgICAgIGZpbHRlckxldmVsVmFyKGFwcCk7XG4gICAgICAgIHJlc2V0Q29sb3JzKCk7XG4gICAgICAgIG1hcF9lbGVtLnVwZGF0ZUxldmVsUmVnaW9uKGxldmVsX3ZhbHVlKTtcbiAgICAgICAgbWFwX2VsZW0udW5iaW5kQnJ1c2hDbGljaygpO1xuICAgICAgICBtYXBfZWxlbS5iaW5kQnJ1c2hDbGljayhjaGFydCk7XG4gICAgICAgIGNoYXJ0LmNoYW5nZVN0dWR5Wm9uZSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIC8vIERpc3BhdGNoIGEgY2xpY2sgZXZlbnQgb24gdGhlIGFzc29jaWF0ZWQgY2hlY2tib3ggd2hlbiB0aGUgdGV4dCBpcyBjbGlja2VkOlxuICBkMy5zZWxlY3RBbGwoJ3NwYW4ubGFiZWxfY2hrJylcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5wcmV2aW91c1NpYmxpbmcuY2xpY2soKTtcbiAgICB9KTtcblxuICBjb25zdCBoZWFkZXJfbWFwX3NlY3Rpb24gPSBkMy5zZWxlY3QoJyNtYXBfc2VjdGlvbiA+ICNoZWFkZXJfbWFwJyk7XG5cbiAgaGVhZGVyX21hcF9zZWN0aW9uLnNlbGVjdCgnI2ltZ19yZWN0X3NlbGVjJylcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCF0aGlzLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19tYXBfem9vbScpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX21hcF9zZWxlY3QnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgc3ZnX21hcC5vbignLnpvb20nLCBudWxsKTtcbiAgICAgICAgaWYgKG1hcF9lbGVtLmJydXNoX21hcCkge1xuICAgICAgICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJykuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBtYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJykub24oJ2NsaWNrJywgbnVsbCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgaGVhZGVyX21hcF9zZWN0aW9uLnNlbGVjdCgnI2ltZ19tYXBfem9vbScpXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfcmVjdF9zZWxlYycpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX21hcF9zZWxlY3QnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgc3ZnX21hcC5jYWxsKG1hcF9lbGVtLnpvb21fbWFwKTtcbiAgICAgICAgaWYgKG1hcF9lbGVtLmJydXNoX21hcCkge1xuICAgICAgICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJykuY2FsbChtYXBfZWxlbS5icnVzaF9tYXAubW92ZSwgbnVsbCk7XG4gICAgICAgICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgIH1cbiAgICAgICAgbWFwX2VsZW0udGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpLm9uKCdjbGljaycsIG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIGhlYWRlcl9tYXBfc2VjdGlvbi5zZWxlY3QoJyNpbWdfbWFwX3NlbGVjdCcpXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfcmVjdF9zZWxlYycpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX21hcF96b29tJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgIHN2Z19tYXAub24oJy56b29tJywgbnVsbCk7XG4gICAgICAgIGlmIChtYXBfZWxlbS5icnVzaF9tYXApIHtcbiAgICAgICAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpLmNhbGwobWFwX2VsZW0uYnJ1c2hfbWFwLm1vdmUsIG51bGwpO1xuICAgICAgICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJykuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICB9XG4gICAgICAgIG1hcF9lbGVtLnRhcmdldF9sYXllci5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgY2hhcnQuaGFuZGxlQ2xpY2tNYXAoZCwgdGhpcyk7XG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgaWYgKCFtYXBfZWxlbS5icnVzaF9tYXApIHtcbiAgICBpZiAoY2hhcnQuaGFuZGxlQ2xpY2tNYXApIHtcbiAgICAgIG1hcF9lbGVtLnRhcmdldF9sYXllci5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICBjaGFydC5oYW5kbGVDbGlja01hcChkLCB0aGlzKTtcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1hcF9lbGVtLnRhcmdldF9sYXllci5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgICAub24oJ2NsaWNrJywgbnVsbCk7XG4gICAgfVxuICB9XG5cbiAgLy8gY29uc3QgaGVhZGVyX3RhYmxlX3NlY3Rpb24gPSBkMy5zZWxlY3QoJyNtYXBfc2VjdGlvbicpXG4gIC8vICAgICAuaW5zZXJ0KCdwJywgJ3N2ZycpXG4gIC8vICAgICAuYXR0cignaWQnLCAnaGVhZGVyX3RhYmxlJylcbiAgLy8gICAgIC5zdHlsZXMoeyBkaXNwbGF5OiAnbm9uZScsIG1hcmdpbjogJ2F1dG8nLCAndGV4dC1hbGlnbic6ICdyaWdodCcgfSk7XG5cbiAgLy8gaGVhZGVyX3RhYmxlX3NlY3Rpb24uYXBwZW5kKCdzcGFuJylcbiAgLy8gICAuYXR0cignY2xhc3MnLCAnYnV0dG9uX2JsdWUnKVxuICAvLyAgIC5odG1sKCdDU1YnKVxuICAvLyAgIC5vbignY2xpY2snLCAoKSA9PiB7XG4gIC8vICAgICBjb25zdCBjb2x1bW5zID0gT2JqZWN0LmtleXMoYXBwLmN1cnJlbnRfZGF0YVswXSk7XG4gIC8vICAgICBjb25zdCBjb250ZW50ID0gW1xuICAvLyAgICAgICAnaWQsTnVtw6lyYXRldXIsRMOpbm9taW5hdGV1cixSYXRpbyxSYW5nXFxyXFxuJyxcbiAgLy8gICAgICAgYXBwLmN1cnJlbnRfZGF0YS5tYXAoZCA9PiBjb2x1bW5zLm1hcChjID0+IGRbY10pLmpvaW4oJywnKSkuam9pbignXFxyXFxuJyksXG4gIC8vICAgICBdLmpvaW4oJycpO1xuICAvLyAgICAgY29uc3QgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgLy8gICAgIGVsZW0uc2V0QXR0cmlidXRlKCdocmVmJywgYGRhdGE6dGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04LCR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbnRlbnQpfWApO1xuICAvLyAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ2Rvd25sb2FkJywgJ1JlZ2lvdml6X2V4cG9ydC5jc3YnKTtcbiAgLy8gICAgIGVsZW0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgLy8gICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWxlbSk7XG4gIC8vICAgICBlbGVtLmNsaWNrKCk7XG4gIC8vICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGVsZW0pO1xuICAvLyAgIH0pO1xuICBiaW5kVG9wQnV0dG9ucyhjaGFydCwgbWFwX2VsZW0pO1xufVxuXG4vKipcbiogRnVuY3Rpb24gdG8gaGFuZGxlIGNsaWNrIG9uIHRoZSB0b3AgbWVudSwgaW4gb3JkZXIgdG8gY2hvb3NlXG4qIHRoZSBraW5kIG9mIGF2YWlsYWJsZXMgcmVwcmVzZW50YXRpb25cbipcbiogQHBhcmFtIHtPYmplY3R9IGNoYXJ0IC1cbiogQHBhcmFtIHtPYmplY3R9IG1hcF9lbGVtIC1cbiogQHJldHVybiB7dm9pZH1cbiovXG5leHBvcnQgZnVuY3Rpb24gYmluZFRvcEJ1dHRvbnMoY2hhcnQsIG1hcF9lbGVtKSB7XG4gIGQzLnNlbGVjdEFsbCgnLnR5cGVfY2hhcnQnKVxuICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2Rpc2FibGVkJykpIHJldHVybjtcbiAgICAgIC8vIGlmICh0aGlzLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkgcmV0dXJuO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnR5cGVfY2hhcnQuc2VsZWN0ZWQnKS5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgICAgY2hhcnQucmVtb3ZlKCk7XG4gICAgICBjaGFydCA9IG51bGw7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIHVuYmluZFVJKCk7XG4gICAgICBtYXBfZWxlbS5yZXNldFpvb20oKTtcbiAgICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG4gICAgICBpZiAodmFsdWUgPT09ICdCYXJDaGFydDEnKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdCYXJDaGFydDEnKTtcbiAgICAgICAgLy8gbWFrZVRhYmxlKGFwcC5jdXJyZW50X2RhdGEsIGFwcC5jdXJyZW50X2NvbmZpZyk7XG4gICAgICAgIGNoYXJ0ID0gbmV3IEJhckNoYXJ0MShhcHAuY3VycmVudF9kYXRhKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICBiaW5kVUlfY2hhcnQoY2hhcnQsIG1hcF9lbGVtKTtcbiAgICAgICAgbWFwX2VsZW0uYmluZEJydXNoQ2xpY2soY2hhcnQpO1xuICAgICAgICBjaGFydC5iaW5kTWFwKG1hcF9lbGVtKTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09ICdTY2F0dGVyUGxvdDInKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTY2F0dGVyUGxvdDInKTtcbiAgICAgICAgLy8gbWFrZVRhYmxlKGFwcC5jdXJyZW50X2RhdGEsIGFwcC5jdXJyZW50X2NvbmZpZyk7XG4gICAgICAgIGNoYXJ0ID0gbmV3IFNjYXR0ZXJQbG90MihhcHAuY3VycmVudF9kYXRhKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICBiaW5kVUlfY2hhcnQoY2hhcnQsIG1hcF9lbGVtKTtcbiAgICAgICAgbWFwX2VsZW0uYmluZEJydXNoQ2xpY2soY2hhcnQpO1xuICAgICAgICBjaGFydC5iaW5kTWFwKG1hcF9lbGVtKTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09ICdSYWRhckNoYXJ0MycpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1JhZGFyQ2hhcnQzJyk7XG4gICAgICAgIC8vIG1ha2VUYWJsZShhcHAuY3VycmVudF9kYXRhLCBhcHAuY3VycmVudF9jb25maWcpO1xuICAgICAgICBjaGFydCA9IG5ldyBSYWRhckNoYXJ0MyhhcHAuY3VycmVudF9kYXRhKTtcbiAgICAgICAgYmluZFVJX2NoYXJ0KGNoYXJ0LCBtYXBfZWxlbSk7XG4gICAgICAgIG1hcF9lbGVtLmJpbmRCcnVzaENsaWNrKGNoYXJ0KTtcbiAgICAgICAgY2hhcnQuYmluZE1hcChtYXBfZWxlbSk7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnU2ltaWxhcml0eTFwbHVzJykge1xuICAgICAgICBjb25zb2xlLmxvZygnU2ltaWxhcml0eTFwbHVzJyk7XG4gICAgICAgIC8vIG1ha2VUYWJsZShhcHAuY3VycmVudF9kYXRhLCBhcHAuY3VycmVudF9jb25maWcpO1xuICAgICAgICBjaGFydCA9IG5ldyBTaW1pbGFyaXR5MXBsdXMoYXBwLmN1cnJlbnRfZGF0YSk7XG4gICAgICAgIGJpbmRVSV9jaGFydChjaGFydCwgbWFwX2VsZW0pO1xuICAgICAgICBtYXBfZWxlbS5iaW5kQnJ1c2hDbGljayhjaGFydCk7XG4gICAgICAgIGNoYXJ0LmJpbmRNYXAobWFwX2VsZW0pO1xuICAgICAgfVxuICAgIH0pO1xufVxuXG5cbmZ1bmN0aW9uIGxvYWREYXRhKCkge1xuICBkMy5xdWV1ZSg0KVxuICAgIC5kZWZlcihkMy5jc3YsICdkYXRhL1JFR0lPVklaX0RBVEEuY3N2JylcbiAgICAuZGVmZXIoZDMuanNvbiwgJ2RhdGEvQ0dFVF9udXRzX2FsbDMwMzUuZ2VvanNvbicpXG4gICAgLmRlZmVyKGQzLmpzb24sICdkYXRhL2JvcmRlcnMzMDM1Lmdlb2pzb24nKVxuICAgIC5kZWZlcihkMy5qc29uLCAnZGF0YS9jb3VudHJpZXMzMDM1Lmdlb2pzb24nKVxuICAgIC5kZWZlcihkMy5qc29uLCAnZGF0YS9jb3VudHJpZXMtcmVtb3RlMzAzNS5nZW9qc29uJylcbiAgICAuZGVmZXIoZDMuanNvbiwgJ2RhdGEvY29hc3RzMzAzNS5nZW9qc29uJylcbiAgICAuZGVmZXIoZDMuanNvbiwgJ2RhdGEvY29hc3RzLXJlbW90ZTMwMzUuZ2VvanNvbicpXG4gICAgLmRlZmVyKGQzLmpzb24sICdkYXRhL2N5cHJ1c19ub25fZXNwb25fc3BhY2UzMDM1Lmdlb2pzb24nKVxuICAgIC5kZWZlcihkMy5qc29uLCAnZGF0YS9jb3VudHJpZXMtcmVtb3RlLWJvdW5kYXJpZXMzMDM1Lmdlb2pzb24nKVxuICAgIC5kZWZlcihkMy5qc29uLCAnZGF0YS9mcmFtZTMwMzUuZ2VvanNvbicpXG4gICAgLmRlZmVyKGQzLmpzb24sICdkYXRhL2JveGVzMzAzNS5nZW9qc29uJylcbiAgICAuZGVmZXIoZDMuanNvbiwgJ2RhdGEvbGluZTMwMzUuZ2VvanNvbicpXG4gICAgLmRlZmVyKGQzLmNzdiwgJ2RhdGEvaW5kaWNhdGV1cnNfbWV0YS5jc3YnKVxuICAgIC5hd2FpdEFsbCgoZXJyb3IsIHJlc3VsdHMpID0+IHtcbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2xvYWRpbmcnKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zcGlubmVyJykucmVtb3ZlKCk7XG4gICAgICBjb25zdCBbXG4gICAgICAgIGZ1bGxfZGF0YXNldCwgbnV0cywgYm9yZGVycywgY291bnRyaWVzLCBjb3VudHJpZXNfcmVtb3RlLCBjb2FzdHMsIGNvYXN0c19yZW1vdGUsIGN5cHJ1c19ub25fZXNwb25fc3BhY2UsIGNvdW50cmllc19yZW1vdGVfYm91bmRhcmllcywgZnJhbWUsIGJveGVzLCBsaW5lLCBtZXRhZGF0YV9pbmRpY2F0ZXVycyxcbiAgICAgIF0gPSByZXN1bHRzO1xuICAgICAgYWxlcnRpZnkuc2V0KCdub3RpZmllcicsICdwb3NpdGlvbicsICdib3R0b20tbGVmdCcpO1xuICAgICAgdmFyaWFibGVzX2luZm8gPSBwcmVwYXJlVmFyaWFibGVzSW5mbyhtZXRhZGF0YV9pbmRpY2F0ZXVycyk7XG4gICAgICBwcmVwYXJlX2RhdGFzZXQoZnVsbF9kYXRhc2V0LCBhcHApO1xuICAgICAgc2V0RGVmYXVsdENvbmZpZygnRlJCJywgJ1JUX0NIT01fMTU3NCcsICdOVVRTMScpO1xuICAgICAgY29uc3QgZmVhdHVyZXNfbWVudSA9IGZ1bGxfZGF0YXNldC5maWx0ZXIoZnQgPT4gZnQuZ2VvLmluZGV4T2YoJ0ZSJykgPiAtMVxuICAgICAgICAmJiArZnQubGV2ZWwgPT09IDEpO1xuICAgICAgY3JlYXRlTWVudShmZWF0dXJlc19tZW51LCB2YXJpYWJsZXNfaW5mbywgc3R1ZHlfem9uZXMsIHRlcnJpdG9yaWFsX21lc2gpO1xuICAgICAgYmluZEhlbHBNZW51KCk7XG4gICAgICBtYWtlVG9wTWVudSgpO1xuICAgICAgbWFrZUhlYWRlckNoYXJ0KCk7XG4gICAgICBzZXREZWZhdWx0Q29uZmlnTWVudSgnRlJCJywgJ1JUX0NIT01fMTU3NCcsICdOVVRTMScpO1xuICAgICAgZmlsdGVyTGV2ZWxWYXIoYXBwKTtcbiAgICAgIGNvbnN0IG1hcF9lbGVtID0gbmV3IE1hcFNlbGVjdChudXRzLCBbYm9yZGVycywgY291bnRyaWVzLCBjb3VudHJpZXNfcmVtb3RlLCBjb2FzdHMsIGNvYXN0c19yZW1vdGUsIGN5cHJ1c19ub25fZXNwb25fc3BhY2UsIGNvdW50cmllc19yZW1vdGVfYm91bmRhcmllcywgZnJhbWUsIGJveGVzLCBsaW5lXSk7XG4gICAgICBjb25zdCBjaGFydCA9IG5ldyBCYXJDaGFydDEoYXBwLmN1cnJlbnRfZGF0YSk7XG4gICAgICAvLyBtYWtlVGFibGUoYXBwLmN1cnJlbnRfZGF0YSwgYXBwLmN1cnJlbnRfY29uZmlnKTtcbiAgICAgIG1ha2VIZWFkZXJNYXBTZWN0aW9uKCk7XG4gICAgICBtYWtlU291cmNlU2VjdGlvbigpO1xuICAgICAgbWFrZU1hcExlZ2VuZCgpO1xuICAgICAgYmluZFVJX2NoYXJ0KGNoYXJ0LCBtYXBfZWxlbSk7XG4gICAgICBtYXBfZWxlbS5iaW5kQnJ1c2hDbGljayhjaGFydCk7XG4gICAgICBjaGFydC5iaW5kTWFwKG1hcF9lbGVtKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gYmluZEhlbHBNZW51KCkge1xuICBjb25zdCBoZWxwX2J1dHRvbnNfdmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21lbnVfdmFyaWFibGVzJykucXVlcnlTZWxlY3RvckFsbCgnc3Bhbi5pX2luZm8nKTtcbiAgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoaGVscF9idXR0b25zX3ZhcikuZm9yRWFjaCgoYnRuX2kpID0+IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICBidG5faS5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgY29kZV92YXJpYWJsZSA9IHRoaXMucHJldmlvdXNTaWJsaW5nLnByZXZpb3VzU2libGluZy5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG4gICAgICBjb25zdCBvID0gdmFyaWFibGVzX2luZm8uZmluZChkID0+IGQucmF0aW8gPT09IGNvZGVfdmFyaWFibGUpO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5ldy1jYXBcbiAgICAgIGNvbnN0IG1vZGFsID0gbmV3IHRpbmdsZS5tb2RhbCh7XG4gICAgICAgIHN0aWNreUZvb3RlcjogZmFsc2UsXG4gICAgICAgIGNsb3NlTWV0aG9kczogWydvdmVybGF5JywgJ2J1dHRvbicsICdlc2NhcGUnXSxcbiAgICAgICAgY2xvc2VMYWJlbDogJ0Nsb3NlJyxcbiAgICAgICAgb25PcGVuKCkge1xuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Rpdi50aW5nbGUtbW9kYWwudGluZ2xlLW1vZGFsLS12aXNpYmxlJykuc3R5bGUuYmFja2dyb3VuZCA9ICdyZ2JhKDAsMCwwLDAuNCknO1xuICAgICAgICB9LFxuICAgICAgICBvbkNsb3NlKCkge1xuICAgICAgICAgIG1vZGFsLmRlc3Ryb3koKTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgbW9kYWwuc2V0Q29udGVudChcbiAgICAgICAgYDxwIHN0eWxlPVwiZm9udC1mYW1pbHk6ICdTaWduaWthJyxzYW5zLXNlcmlmO2NvbG9yOiAjNGY4MWJkO2ZvbnQtc2l6ZTogMS4zcmVtO1wiPkRlc2NyaXB0aW9uIGRlIGwnaW5kaWNhdGV1cjwvcD5cbiAgICAgICAgPHAgc3R5bGU9XCJmb250LWZhbWlseTogJ1NpZ25pa2EnLHNhbnMtc2VyaWY7dGV4dC1hbGlnbjoganVzdGlmeTtcIj4ke28ubWV0aG9kby5zcGxpdCgnXFxuJykuam9pbignPGJyPicpfTwvcD5cbiAgICAgICAgPHAgc3R5bGU9XCJmb250LWZhbWlseTogJ1NpZ25pa2EnLHNhbnMtc2VyaWY7Zm9udC1zaXplOiAwLjhlbVwiPiR7by5zb3VyY2V9PC9wPlxuICAgICAgICA8cCBzdHlsZT1cImZvbnQtZmFtaWx5OiAnU2lnbmlrYScsc2Fucy1zZXJpZjtmb250LXNpemU6IDAuOGVtXCI+RGF0ZSBkZSB0w6lsw6ljaGFyZ2VtZW50IGRlIGxhIGRvbm7DqWVzIDogJHtvLmxhc3RfdXBkYXRlfTwvcD5gKTtcbiAgICAgIG1vZGFsLm9wZW4oKTtcbiAgICB9O1xuICB9KTtcblxuICBjb25zdCBoZWxwc19idXR0b25zX3N0dWR5X3pvbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWVudV9zdHVkeXpvbmUnKS5xdWVyeVNlbGVjdG9yQWxsKCdzcGFuLmlfaW5mbycpO1xuICBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChoZWxwc19idXR0b25zX3N0dWR5X3pvbmUpLmZvckVhY2goKGJ0bl9pKSA9PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgYnRuX2kub25jbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IGZpbHRlcl9uYW1lID0gdGhpcy5wcmV2aW91c1NpYmxpbmcucHJldmlvdXNTaWJsaW5nLmdldEF0dHJpYnV0ZSgnZmlsdGVyLXZhbHVlJyk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbmV3LWNhcFxuICAgICAgY29uc3QgbW9kYWwgPSBuZXcgdGluZ2xlLm1vZGFsKHtcbiAgICAgICAgc3RpY2t5Rm9vdGVyOiBmYWxzZSxcbiAgICAgICAgY2xvc2VNZXRob2RzOiBbJ292ZXJsYXknLCAnYnV0dG9uJywgJ2VzY2FwZSddLFxuICAgICAgICBjbG9zZUxhYmVsOiAnQ2xvc2UnLFxuICAgICAgICBvbk9wZW4oKSB7XG4gICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZGl2LnRpbmdsZS1tb2RhbC50aW5nbGUtbW9kYWwtLXZpc2libGUnKS5zdHlsZS5iYWNrZ3JvdW5kID0gJ3JnYmEoMCwwLDAsMC40KSc7XG4gICAgICAgIH0sXG4gICAgICAgIG9uQ2xvc2UoKSB7XG4gICAgICAgICAgbW9kYWwuZGVzdHJveSgpO1xuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBtb2RhbC5zZXRDb250ZW50KFxuICAgICAgICBgPHAgc3R5bGU9XCJmb250LWZhbWlseTogJ1NpZ25pa2EnLHNhbnMtc2VyaWY7Y29sb3I6ICM0ZjgxYmQ7Zm9udC1zaXplOiAxLjNyZW07XCI+TcOpdGhvZG9sb2dpZTwvcD5cbiAgICAgICAgPHAgc3R5bGU9XCJmb250LWZhbWlseTogJ1NpZ25pa2EnLHNhbnMtc2VyaWY7dGV4dC1hbGlnbjoganVzdGlmeTtcIj4ke2ZpbHRlcl9uYW1lfTwvcD5gKTtcbiAgICAgIG1vZGFsLm9wZW4oKTtcbiAgICB9O1xuICB9KTtcblxuICBjb25zdCBoZWxwc19idXR0b25zX3RlcnJpdF91bml0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21lbnVfdGVycml0X2xldmVsJykucXVlcnlTZWxlY3RvckFsbCgnc3Bhbi5pX2luZm8nKTtcbiAgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoaGVscHNfYnV0dG9uc190ZXJyaXRfdW5pdCkuZm9yRWFjaCgoYnRuX2kpID0+IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICBidG5faS5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgdGVycml0X2xldmVsX25hbWUgPSB0aGlzLnByZXZpb3VzU2libGluZy5wcmV2aW91c1NpYmxpbmcuZ2V0QXR0cmlidXRlKCd2YWx1ZScpO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5ldy1jYXBcbiAgICAgIGNvbnN0IG1vZGFsID0gbmV3IHRpbmdsZS5tb2RhbCh7XG4gICAgICAgIHN0aWNreUZvb3RlcjogZmFsc2UsXG4gICAgICAgIGNsb3NlTWV0aG9kczogWydvdmVybGF5JywgJ2J1dHRvbicsICdlc2NhcGUnXSxcbiAgICAgICAgY2xvc2VMYWJlbDogJ0Nsb3NlJyxcbiAgICAgICAgb25PcGVuKCkge1xuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Rpdi50aW5nbGUtbW9kYWwudGluZ2xlLW1vZGFsLS12aXNpYmxlJykuc3R5bGUuYmFja2dyb3VuZCA9ICdyZ2JhKDAsMCwwLDAsMC40KSc7XG4gICAgICAgIH0sXG4gICAgICAgIG9uQ2xvc2UoKSB7XG4gICAgICAgICAgbW9kYWwuZGVzdHJveSgpO1xuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBtb2RhbC5zZXRDb250ZW50KGBcbiAgICAgICAgPHAgc3R5bGU9XCJmb250LWZhbWlseTogJ1NpZ25pa2EnLHNhbnMtc2VyaWY7IGNvbG9yOiAjNGY4MWJkO2ZvbnQtc2l6ZTogMS4zcmVtO1wiPlRpdHJlPC9wPlxuICAgICAgICA8cCBzdHlsZT1cImZvbnQtZmFtaWx5OiAnU2lnbmlrYScsc2Fucy1zZXJpZjt0ZXh0LWFsaWduOiBqdXN0aWZ5O1wiPiR7dGVycml0X2xldmVsX25hbWV9PC9wPmApO1xuICAgICAgbW9kYWwub3BlbigpO1xuICAgIH07XG4gIH0pO1xufVxuXG5sb2FkRGF0YSgpO1xuIl0sIm5hbWVzIjpbImRlZmluZSIsInRoaXMiLCJjb2xvcl9jb3VudHJpZXMiLCJjb2xvcl9kaXNhYmxlZCIsImNvbG9yX3N1cCIsImNvbG9yX2luZiIsImNvbG9yX2hpZ2hsaWdodCIsImNvbG9yX2RlZmF1bHRfZGlzc2ltIiwiTUFYX1ZBUklBQkxFUyIsIm1hdGhfYWJzIiwiTWF0aCIsImFicyIsIm1hdGhfcm91bmQiLCJyb3VuZCIsIm1hdGhfbWF4IiwibWF4IiwibWF0aF9zaW4iLCJzaW4iLCJtYXRoX2NvcyIsImNvcyIsIm1hdGhfc3FydCIsInNxcnQiLCJIQUxGX1BJIiwiUEkiLCJwcmVwYXJlVG9vbHRpcCIsInBhcmVudF9zdmdfZWxlbSIsInRvb2x0aXAiLCJhcHBlbmQiLCJhdHRyIiwic3R5bGUiLCJhdHRycyIsIngiLCJ3aWR0aCIsImhlaWdodCIsImZpbGwiLCJjbGFzcyIsImR5IiwidW5iaW5kVUkiLCJzZWxlY3RBbGwiLCJvbiIsInNlbGVjdCIsInJlbW92ZSIsIm9ua2V5dXAiLCJvbmtleWRvd24iLCJjb21wIiwidGVzdF92YWx1ZSIsInJlZl92YWx1ZSIsInNlcmllX2ludmVyc2VkIiwiY29tcDIiLCJ2YWwxIiwidmFsMiIsInJlZl92YWwxIiwicmVmX3ZhbDIiLCJ4SW52ZXJzZWQiLCJ5SW52ZXJzZWQiLCJSZWN0IiwidG9wbGVmdCIsImJvdHRvbXJpZ2h0IiwieG1pbiIsInhtYXgiLCJ5bWluIiwieW1heCIsInB0IiwiUHJvcFNpemVyIiwiZml4ZWRfdmFsdWUiLCJmaXhlZF9zaXplIiwic21heCIsInNjYWxlIiwidmFsIiwiZ2V0X3ZhbHVlIiwicG93Iiwic2l6ZSIsInJlbW92ZUR1cGxpY2F0ZXMiLCJhcnIiLCJ0bXAiLCJpIiwibGVuX2FyciIsImxlbmd0aCIsImluZGV4T2YiLCJwdXNoIiwiZ2V0U3ZnUGF0aFR5cGUiLCJwYXRoIiwic3ZnUGF0aFRvQ29vcmRzIiwidHlwZV9wYXRoIiwic2xpY2UiLCJzcGxpdCIsIm1hcCIsImEiLCJjb21wdXRlUGVyY2VudGlsZVJhbmsiLCJvYmoiLCJmaWVsZF9uYW1lIiwicmVzdWx0X2ZpZWxkX25hbWUiLCJ2YWx1ZXMiLCJkIiwibGVuX3ZhbHVlcyIsImdldFBSIiwidiIsImNvdW50IiwiaXgiLCJfZ2V0UFIiLCJzZXJpZSIsImdldE1lYW4iLCJuYl92YWx1ZXMiLCJzdW0iLCJldWNsaWRpYW5fZGlzdGFuY2UiLCJmZWF0dXJlMSIsImZlYXR1cmUyIiwiZ2VvbWV0cnkiLCJjb29yZGluYXRlcyIsIngxIiwieTEiLCJ4MiIsInkyIiwiYiIsInNlbGVjdEZpcnN0QXZhaWxhYmxlVmFyIiwibWVudSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsImFkZCIsImdldEF0dHJpYnV0ZSIsImNyZWF0ZU1lbnUiLCJuYW1lcyIsInZhcmlhYmxlcyIsInN0dWR5X3pvbmVzIiwidGVycml0b3JpYWxfbWVzaCIsInRpdGxlX3NlY3Rpb24xIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImlubmVySFRNTCIsInNlY3Rpb24xIiwib3ZlcmZsb3ciLCJsZW5faSIsImlkIiwiZ2VvIiwibmFtZSIsIk5vbSIsImVudHJ5IiwiYXBwZW5kQ2hpbGQiLCJ0aXRsZV9zZWN0aW9uMiIsInNlY3Rpb24yIiwiZ3JvdXBzX3ZhciIsImdyb3VwIiwiZmlsdGVyIiwiZ3BfbmFtZSIsImRpdl9ncnAiLCJkaXNwbGF5IiwidmFyX25hbWVzIiwiaiIsImxlbl9qIiwibmFtZV92YXIiLCJjb2RlX3ZhciIsInJhdGlvIiwic3ViX2VudHJ5IiwidGl0bGVfc2VjdGlvbjMiLCJzZWN0aW9uMyIsInpvbmUiLCJ0aXRsZV9zZWN0aW9uNCIsInNlY3Rpb240IiwidGVycml0X2xldmVsIiwiZ2V0RWxlbWVudEJ5SWQiLCJmbG9hdCIsIm1ha2VUb3BNZW51IiwidG9wX21lbnUiLCJkMyIsInN0eWxlcyIsInBhZGRpbmciLCJ3aWR0aF9sZWZ0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidCIsIndpZHRoX2NlbnRyYWxfY2hhcnQiLCJ3aWR0aF9tYXAiLCJ3aWR0aF90eXBlX2NvbXAiLCJtYXJnaW4iLCJodG1sIiwidHlwZV9jaGFydCIsInBvc2l0aW9uIiwidmFsdWUiLCJyZXNzZW1ibGFuY2UiLCJtYWtlSGVhZGVyTWFwU2VjdGlvbiIsImhlYWRlcl9tYXBfc2VjdGlvbiIsImluc2VydCIsIm1ha2VIZWFkZXJDaGFydCIsImhlYWRlcl9iYXJfc2VjdGlvbiIsImNvbHVtbnMiLCJPYmplY3QiLCJrZXlzIiwiYXBwIiwiY3VycmVudF9kYXRhIiwiY29udGVudCIsImpvaW4iLCJjIiwiZWxlbSIsInNldEF0dHJpYnV0ZSIsImVuY29kZVVSSUNvbXBvbmVudCIsImJvZHkiLCJjbGljayIsInJlbW92ZUNoaWxkIiwiZ2xvYmFsIiwicHJlcGFyZV9kYXRhc2V0IiwiZnVsbF9kYXRhc2V0IiwiZmVhdHVyZV9uYW1lcyIsImZvckVhY2giLCJmaWx0ZXJMZXZlbFZhciIsImN1cnJlbnRfY29uZmlnIiwibnVtIiwiZGVudW0iLCJjdXJyZW50X2xldmVsIiwiaWRfZmllbGQiLCJmaWx0ZXJfa2V5IiwibmFtZV9maWVsZCIsIm15X3JlZ2lvbiIsImFsbF92YXJpYWJsZXMiLCJjb25jYXQiLCJ0ZW1wIiwiQXJyYXkiLCJmdCIsIm15X2NhdGVnb3J5IiwicHJvcHNfZmVhdHVyZSIsImZpbHRlckxldmVsR2VvbSIsIm51dHNfZmVhdHVyZXMiLCJwcm9wZXJ0aWVzIiwicHJlcGFyZVZhcmlhYmxlc0luZm8iLCJtZXRhZGF0YV9pbmRpY2F0ZXVycyIsImlkMSIsInBhcnNlSW50IiwiQW5uw6llIiwiaWQyIiwiU291cmNlIiwiYXBwbHlGaWx0ZXIiLCJmaWx0ZXJfdHlwZSIsInVuZGVmaW5lZCIsImNvbG9ycyIsImNoYW5nZVJlZ2lvbiIsImlkX3JlZ2lvbiIsIm1hcF9lbGVtIiwibXlfcmVnaW9uX3ByZXR0eV9uYW1lIiwiY29tcHV0ZURpc3RNYXQiLCJnZXRVbml0c1dpdGhpbiIsInByb3BlcnR5IiwiYWRkVmFyaWFibGUiLCJjb2RlX3JhdGlvIiwidmFyaWFibGVfaW5mbyIsInZhcmlhYmxlc19pbmZvIiwicmF0aW9fcHJldHR5X25hbWUiLCJyYXRpb191bml0IiwidW5pdCIsInJlbW92ZVZhcmlhYmxlIiwic3BsaWNlIiwicmVzZXRWYXJpYWJsZXMiLCJjb2Rlc19yYXRpbyIsImxlbiIsImNhbGNDb21wbGV0dWRlU3Vic2V0IiwidmFycyIsIm91dHB1dCIsImZpbmQiLCJ0b3RhbF9sZW5ndGgiLCJyYXRpb19uYW1lIiwiZXZlcnkiLCJmaWx0ZXJlZF9sZW5ndGgiLCJjYWxjUG9wQ29tcGxldHVkZVN1YnNldCIsInBvcF9maWVsZCIsInRvdGFsX3BvcCIsImlzTmFOIiwic3Vic2V0X3BvcCIsInBvcCIsInN2Z19tYXAiLCJtYXJnaW5fbWFwIiwidG9wIiwicmlnaHQiLCJib3R0b20iLCJsZWZ0IiwiaGVpZ2h0X21hcCIsInN0cm9rZSIsInByb2plY3Rpb24iLCJnZXRfYmJveF9sYXllcl9wYXRoIiwiYmJveF9sYXllciIsIkluZmluaXR5IiwiZWFjaCIsImJib3hfcGF0aCIsImJvdW5kcyIsImZpdExheWVyIiwidHJhbnNsYXRlIiwicyIsIm1hcF96b29tZWQiLCJ0cmFuc2Zvcm0iLCJldmVudCIsImsiLCJ5IiwibGF5ZXJzIiwidHJhbnNpdGlvbiIsImR1cmF0aW9uIiwiTWFwU2VsZWN0IiwibnV0cyIsIm90aGVyX2xheWVycyIsImJvcmRlcnMiLCJjb3VudHJpZXMiLCJjb3VudHJpZXNfcmVtb3RlIiwiY29hc3RzIiwiY29hc3RzX3JlbW90ZSIsImN5cHJ1c19ub25fZXNwb25fc3BhY2UiLCJjb3VudHJpZXNfcmVtb3RlX2JvdW5kYXJpZXMiLCJmcmFtZSIsImJveGVzIiwibGluZSIsImdlb0lkZW50aXR5IiwiZml0RXh0ZW50IiwicmVmbGVjdFkiLCJnZW9QYXRoIiwiem9vbV9tYXAiLCJ6b29tIiwic2NhbGVFeHRlbnQiLCJ0cmFuc2xhdGVFeHRlbnQiLCJjYWxsIiwiZGF0YSIsImZlYXR1cmVzIiwiZW50ZXIiLCJ0YXJnZXRfbGF5ZXIiLCJpZF9maWVsZF9nZW9tIiwiYm94ZXMyIiwibm9kZSIsIl9wdHMiLCJ0b29sdGlwcyIsInRpcHB5IiwiZGVzdHJveUFsbCIsIm5ld19zZWxlY3Rpb24iLCJzZWxlY3Rpb24iLCJleGl0IiwicmVzZXRDb2xvcnMiLCJjdXJyZW50X2lkcyIsInpvb21JZGVudGl0eSIsInRleHQiLCJicnVzaF9tYXAiLCJtb3ZlIiwiY2hhcnQiLCJoYW5kbGVDbGlja01hcCIsImhhbmRsZV9icnVzaF9tYXAiLCJicnVzaCIsImV4dGVudCIsImRpc3Rfa20iLCJkaXN0IiwiZGlzdF90b19teV9yZWdpb24iLCJwcm90b3R5cGUiLCJuYl9mdCIsIm15X3JlZ2lvbl9nZW9tIiwiX19kYXRhX18iLCJteV9yZWdpb25fY2VudHJvaWQiLCJ0dXJmIiwiY2VudHJvaWQiLCJyZXN1bHRfZGlzdCIsIm1ha2VTb3VyY2VTZWN0aW9uIiwidGV4dF96b25lIiwibWFrZU1hcExlZ2VuZCIsImxlZ2VuZF9lbGVtcyIsImNvbG9yIiwicmVjdF9zaXplIiwic3BhY2luZyIsImxnZF9oZWlnaHQiLCJvZmZzZXQiLCJncnBfbGdkIiwibGVnZW5kcyIsInR4IiwidHkiLCJUYWJsZVJlc3VtZVN0YXQiLCJzdW1tYXJ5X2ZlYXR1cmVzIiwib3B0aW9ucyIsImRvYyIsIm5iX2ZlYXR1cmVzIiwiY29sdW1uX25hbWVzIiwibmJfY29sdW1ucyIsImNvbnRhaW5lcl9kaXYiLCJteVRhYmxlIiwiaGVhZGVycyIsInRhYmxlX2JvZHkiLCJoZWFkZXJzX3JvdyIsImNlbGwiLCJyb3ciLCJjb2xfbmFtZSIsImFkZEZlYXR1cmUiLCJzdW1tYXJ5IiwiaWRfdmFyaWFibGUiLCJyb3dzIiwicGFyZW50RWxlbWVudCIsIkNvbXBsZXR1ZGVTZWN0aW9uIiwicGFyZW50Iiwic2VjdGlvbiIsImNvbXBsZXR1ZGVfcG9wdWxhdGlvbiIsImNvbXBsZXR1ZGVfZmVhdHVyZXMiLCJzZWxmIiwib25jbGljayIsInZhbHVlX2ZlYXR1cmVzIiwidmFsdWVfcG9wIiwic3ZnX2JhciIsIm1hcmdpbjIiLCJoZWlnaHQyIiwibmJGdCIsImN1cnJlbnRfcmFuZ2VfYnJ1c2giLCJjdXJyZW50X3JhbmdlIiwiZGlzcGxheWVkIiwiZ2V0TWVhblJhbmsiLCJtZWFuX3ZhbHVlIiwicmF0aW9fdG9fdXNlIiwibWVhbl9yYW5rIiwic29ydCIsIkJhckNoYXJ0MSIsInJlZl9kYXRhIiwiYnJ1c2hlZCIsInNvdXJjZUV2ZW50IiwidHlwZSIsImxvZyIsInJhbmdlIiwiZG9tYWluIiwidXBkYXRlIiwidXBkYXRlQ29udGV4dCIsImJydXNoX3RvcCIsImJydXNoZWRfdG9wIiwiX2ZvY3VzIiwiZDNfZXZlbnQiLCJ0YXJnZXQiLCJyZW1vdmVSZWN0QnJ1c2giLCJ1cGRhdGVNYXBSZWdpbyIsImRldGFpbCIsIm5iX3ZhciIsInNjYWxlQmFuZCIsInNjYWxlTGluZWFyIiwieEF4aXMiLCJheGlzQm90dG9tIiwieEF4aXMyIiwieUF4aXMiLCJheGlzTGVmdCIsImF2YWlsYWJsZV9yYXRpb3MiLCJjdXJyZW50X3JhbmtzIiwiZm9jdXMiLCJjb250ZXh0IiwiYnJ1c2hfYm90dG9tIiwiYnJ1c2hYIiwiZHgiLCJnX2JhciIsImdyb3VwZV9saW5lX21lYW4iLCJ1cGRhdGVNaW5pQmFycyIsImNvbXBsZXR1ZGUiLCJrZXkiLCJzZWxlY192YXIiLCJjb2RlX3ZhcmlhYmxlIiwiY2hhbmdlVmFyaWFibGUiLCJjaGFuZ2VTdHVkeVpvbmUiLCJ1cGRhdGVDb21wbGV0dWRlIiwibWVudV9zZWxlY3Rpb24iLCJzZWxlY3RCZWxvd01lYW4iLCJzZWxlY3RBYm92ZU1lYW4iLCJzZWxlY3RCZWxvd015UmVnaW9uIiwic2VsZWN0QWJvdmVNeVJlZ2lvbiIsIm1ha2VUYWJsZVN0YXQiLCJtaW4iLCJfIiwiYmFyIiwiYmFuZHdpZHRoIiwidG9fZGlzcGxheSIsIm1vdXNlIiwiYXhpc194IiwibWluaV9iYXJzIiwibXlfcmFuayIsImxhc3RfbWFwX3NlbGVjdGlvbiIsInJlY3QiLCJwdHMiLCJuYl9wdHMiLCJpZHMiLCJyYW5rcyIsImMxIiwiYzIiLCJ1cGRhdGVUYWJsZVN0YXRzIiwidXBkYXRlTGVnZW5kIiwiZ3JwX21lYW4iLCJtYXhfc2VyaWUiLCJ1cGRhdGVNZWFuVmFsdWUiLCJuYW1lX3ZhcmlhYmxlIiwiZGlzcGF0Y2giLCJ0YWJsZV9zdGF0cyIsInVuYmluZEJydXNoQ2xpY2siLCJyZW1vdmVBbGwiLCJwcmVwYXJlVGFibGVTdGF0IiwiZmVhdHVyZSIsImNvbnRleHRNZW51IiwiaXRlbXMiLCJzZXRJdGVtcyIsIml0ZW0iLCJhY3Rpb24iLCJuYl9pdGVtcyIsImFkZEl0ZW0iLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsIkRPTW9iaiIsImhpZGVNZW51IiwiaW5pdE1lbnUiLCJjbGllbnRZIiwic2Nyb2xsVG9wIiwiY2xpZW50WCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwibGlzdCIsIm5iX2l0ZW0iLCJTY2F0dGVyUGxvdDIiLCJ1cGRhdGVMaWdodCIsInJhbmdlX3giLCJpbnZlcnQiLCJyYW5nZV95IiwicmV2ZXJzZSIsInQxIiwidDIiLCJ2YXJpYWJsZTEiLCJ2YXJpYWJsZTIiLCJyYW5rX3ZhcmlhYmxlMSIsInJhbmtfdmFyaWFibGUyIiwicmVmX3ZhbHVlMSIsInJlZl92YWx1ZTIiLCJ1bml0MSIsInVuaXQyIiwicHJldHR5X25hbWUxIiwicHJldHR5X25hbWUyIiwicmVzIiwibmljZSIsInRpY2tzIiwieUF4aXMyIiwicGxvdCIsInNjYXR0ZXIiLCJtYWtlR3JpZCIsIm1lYW5fdmFyaWFibGUxIiwibWVhbl92YXJpYWJsZTIiLCJvcGFjaXR5IiwicHJlcGFyZVRpdGxlQXhpcyIsImNhbGxCcnVzaCIsImNoYXJ0X3R5cGUiLCJiaW5kTWVudSIsInRpY2tTaXplIiwidGlja0Zvcm1hdCIsIm1lbnVYIiwiQ29udGV4dE1lbnUiLCJtZW51WSIsIml0ZW1zWCIsImNoYW5nZVZhcmlhYmxlWCIsIml0ZW1zWSIsImNoYW5nZVZhcmlhYmxlWSIsImJib3giLCJzaG93TWVudSIsImRlZmF1bHRfY29sb3IiLCJzZXJpZV94Iiwic2VyaWVfeSIsImRvdHMiLCJ1cGRhdGVBeGlzR3JpZCIsInZhbHVlMSIsInZhbHVlMiIsInRtcF9teV9yZWdpb24iLCJ1cGRhdGVJdGVtc0N0eE1lbnUiLCJ1cGRhdGVUYWJsZVN0YXQiLCJ2YXJfaW5mbyIsIm5ld192YXJfeCIsIm5ld192YXJfeSIsInZhbHVlczEiLCJ2YWx1ZXMyIiwiYWRkRmVhdHVyZXMiLCJ3cmFwIiwiX3RleHQiLCJfd2lkdGgiLCJ3b3JkcyIsImxpbmVIZWlnaHQiLCJwYXJzZUZsb2F0IiwibGluZU51bWJlciIsInRzcGFuIiwid29yZCIsImdldENvbXB1dGVkVGV4dExlbmd0aCIsImFycmF5IiwiZnJvbSIsInRvIiwic3dhcCIsIml4MSIsIml4MiIsInByZXBhcmVfZGF0YV9yYWRhcl9kZWZhdWx0Iiwidl9teV9yZWdpb24iLCJvamJfbXlfcmVnaW9uIiwiX3YiLCJheGVzIiwicHJlcGFyZV9kYXRhX3JhZGFyX2Z0IiwiZnRfdmFsdWVzIiwiUmFkYXJDaGFydDMiLCJjZmciLCJzY2FsZU9yZGluYWwiLCJzY2hlbWVDYXRlZ29yeTEwIiwib3B0c19rZXkiLCJnIiwidyIsImgiLCJwcmVwYXJlRGF0YSIsImRyYXdBeGlzR3JpZCIsImRyYXdBcmVhIiwiaGFuZGxlTGVnZW5kIiwiYWxsb3dJbnZlcnNlRGF0YSIsImludmVyc2VfZGF0YSIsImZpZWxkIiwiZGF0YV9sZW5ndGgiLCJheCIsImF4aXMiLCJuX2F4aXMiLCJKU09OIiwic3RyaW5naWZ5IiwiYWxsQXhpcyIsIkVycm9yIiwiZGlzcGxheWVkX2lkcyIsIm9uX2F4ZXMiLCJuIiwiYmxvYldyYXBwZXIiLCJyYWRhckxpbmUiLCJvcGFjaXR5QXJlYSIsInN0cm9rZVdpZHRoIiwiZG90UmFkaXVzIiwiclNjYWxlIiwiYW5nbGVTbGljZSIsImJsb2JDaXJjbGVXcmFwcGVyIiwiY3giLCJiYXNlVmFsIiwiY3kiLCJGb3JtYXQiLCJyYW5rX3ZhcmlhYmxlcyIsImlkX215X3JlZ2lvbiIsIm1heFZhbHVlIiwidG90YWwiLCJyYWRpdXMiLCJmb3JtYXQiLCJyYWRpYWxMaW5lIiwiY3VydmUiLCJyb3VuZFN0cm9rZXMiLCJjdXJ2ZUNhcmRpbmFsQ2xvc2VkIiwiY3VydmVMaW5lYXJDbG9zZWQiLCJhbmdsZSIsImxhYmVsQ2xpY2tlZCIsIm5ld19peCIsImxhYmVsQ3R4TWVudSIsImxhYmVsIiwiYXhpc0dyaWQiLCJsZXZlbHMiLCJvcGFjaXR5Q2lyY2xlcyIsImxhYmVsRmFjdG9yIiwid3JhcFdpZHRoIiwiZmVNZXJnZSIsImxlZ2VuZCIsImJhYmVsSGVscGVycy50eXBlb2YiLCJlbCIsInRpdGxlIiwibGVnZW5kWm9uZSIsImxlZ2VuZEVudGVyIiwibWVyZ2UiLCJ0cmFuc2xhdGVYIiwidHJhbnNsYXRlWSIsInVwZGF0ZV9heGlzIiwidXBkYXRlX2Jsb2JXcmFwcGVyIiwiY2lyY2xlIiwidXBkYXRlX2Jsb2JDaXJjbGVXcmFwcGVyIiwiaW52aXNpYmxlQ2lyY2xlIiwib2xkX215X3JlZ2lvbiIsIm90aGVyX2ZlYXR1cmVzIiwiYWRkX2VsZW1lbnQiLCJhbGxfdmFsdWVzIiwiX2QiLCJTaW1pbGFyaXR5MXBsdXMiLCJyYXRpb3MiLCJudW1zIiwiaGlnaGxpZ2h0X3NlbGVjdGlvbiIsImRyYXdfZ3JvdXAiLCJhcHBseVNlbGVjdGlvbiIsInNlbGVjdGlvbl9jbG9zZSIsIm5iIiwiZ2xvYmFsX2Rpc3QiLCJyZWR1Y2UiLCJyZW1vdmVMaW5lcyIsIm5iX3ZhcmlhYmxlcyIsImhlaWdodF90b191c2UiLCJudW1fbmFtZSIsIm15X3JlZ2lvbl92YWx1ZSIsInJhdGlvX3ZhbHVlcyIsIl9taW4iLCJfbWF4IiwiZGlzdF9heGlzIiwibWFyZ2luX21pbl9tYXgiLCJwcm9wX3NpemVyIiwieFNjYWxlIiwiYnViYmxlcyIsInhfdmFsdWUiLCJtYWtlVG9vbHRpcHMiLCJfaWQiLCJpZF90b19yZW1vdmUiLCJzZXRUaW1lb3V0IiwiZGlzcGxheUxpbmUiLCJyYXRpb19uIiwibnVtX24iLCJjb29yZHMiLCJyZXBsYWNlIiwibCIsImRhdHVtIiwiYXNzaWduIiwiYXBwbHljaGFuZ2UiLCJzZXREZWZhdWx0Q29uZmlnIiwiY29kZSIsInZhcmlhYmxlIiwic2V0RGVmYXVsdENvbmZpZ01lbnUiLCJsZXZlbCIsInVwZGF0ZUF2YWlsYWJsZVJhdGlvcyIsImRhdGFfbXlfZmVhdHVyZSIsImxpbmVzIiwibmJfbGluZXMiLCJuZXh0U2libGluZyIsIm5ld192YXIiLCJuZXdfdmFyX25hbWVzIiwidXBkYXRlQXZhaWxhYmxlQ2hhcnRzIiwiYmluZFVJX2NoYXJ0IiwiaW5wdXRfZWxlbSIsInJlbW92ZUF0dHJpYnV0ZSIsIm9sZF9uYl92YXIiLCJuZXdfbmJfdmFyIiwidXBkYXRlQ2hhbmdlUmVnaW9uIiwid2FybmluZyIsImdyb3VwX3ZhciIsImxldmVsX3ZhbHVlIiwidXBkYXRlTGV2ZWxSZWdpb24iLCJiaW5kQnJ1c2hDbGljayIsInByZXZpb3VzU2libGluZyIsImJpbmRUb3BCdXR0b25zIiwicmVzZXRab29tIiwiYmluZE1hcCIsImxvYWREYXRhIiwicXVldWUiLCJkZWZlciIsImNzdiIsImpzb24iLCJhd2FpdEFsbCIsImVycm9yIiwicmVzdWx0cyIsInNldCIsImZlYXR1cmVzX21lbnUiLCJiaW5kSGVscE1lbnUiLCJoZWxwX2J1dHRvbnNfdmFyIiwiYnRuX2kiLCJvIiwibW9kYWwiLCJ0aW5nbGUiLCJiYWNrZ3JvdW5kIiwiZGVzdHJveSIsInNldENvbnRlbnQiLCJtZXRob2RvIiwic291cmNlIiwibGFzdF91cGRhdGUiLCJvcGVuIiwiaGVscHNfYnV0dG9uc19zdHVkeV96b25lIiwiZmlsdGVyX25hbWUiLCJoZWxwc19idXR0b25zX3RlcnJpdF91bml0IiwidGVycml0X2xldmVsX25hbWUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLEVBQUUsT0FBT0EsU0FBTSxFQUFFQSxTQUFNLENBQUMsR0FBRyxDQUFDQSxTQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQUFBeUIsY0FBYyxDQUFDLENBQUMsRUFBRSxBQUFhLENBQUEsQ0FBQyxDQUFDQyxjQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUEsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUEsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLDhCQUE4QixDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFBLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLHlCQUF5QixDQUFDLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsMEJBQTBCLENBQUMsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsMkJBQTJCLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUEsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsMEJBQTBCLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUEsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFBLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxhQUFhLEdBQUcsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsbUJBQW1CLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxtQkFBbUIsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQyxNQUFNLENBQUMsbUJBQW1CLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsUUFBUSxDQUFDLG1CQUFtQixDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFBLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLHdCQUF3QixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLGVBQWUsQ0FBQyxXQUFXLENBQUMsZ0JBQWdCLENBQUMsYUFBYSxDQUFDLGVBQWUsQ0FBQyxnQkFBZ0IsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFBLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLHVCQUF1QixDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsVUFBVSxFQUFFLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsRUFBRSxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsdUJBQXVCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxHQUFHLFVBQVUsRUFBRSxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRSxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRSxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFBLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxPQUFPLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQSxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQSxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLENBQUMsT0FBTyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxrQ0FBa0MsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLGtDQUFrQyxDQUFDLENBQUMsQ0FBQyxDQUFBLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyx5REFBeUQsQ0FBQyxDQUFBLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLFdBQVcs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QUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUMsTUFBTSxHQUFHLFNBQVMsQ0FBQyxLQUFLLENBQUM7OztnQkFHN0QsUUFBUSxDQUFDLE1BQU0sR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQzs7O2dCQUczQyxRQUFRLENBQUMsS0FBSyxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDO2dCQUN6QyxRQUFRLENBQUMsS0FBSyxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDO2dCQUM1QyxRQUFRLENBQUMsTUFBTSxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDO2dCQUM1QyxRQUFRLENBQUMsTUFBTSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUMsS0FBSyxHQUFHLFNBQVMsQ0FBQyxRQUFRLEdBQUcsU0FBUyxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUMsSUFBSSxHQUFHLFNBQVMsQ0FBQyxNQUFNLEdBQUcsU0FBUyxDQUFDLFlBQVksR0FBRyxTQUFTLENBQUMsS0FBSyxDQUFDOzs7Z0JBR25LLFFBQVEsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO2dCQUNwQixRQUFRLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDO2dCQUNoRCxRQUFRLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDOzs7Z0JBRy9DLFFBQVEsQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO2dCQUN2QixRQUFRLENBQUMsUUFBUSxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQztnQkFDNUQsUUFBUSxDQUFDLFFBQVEsQ0FBQyxHQUFHLEdBQUcsUUFBUSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDO2dCQUMvRCxRQUFRLENBQUMsUUFBUSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUMs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
