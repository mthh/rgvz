(function (exports) {
'use strict';

var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};





function createCommonjsModule(fn, module) {
	return module = { exports: {} }, fn(module, module.exports), module.exports;
}

/**
 * Helpers.
 */

var s = 1000;
var m = s * 60;
var h = m * 60;
var d = h * 24;
var y = d * 365.25;

/**
 * Parse or format the given `val`.
 *
 * Options:
 *
 *  - `long` verbose formatting [false]
 *
 * @param {String|Number} val
 * @param {Object} [options]
 * @throws {Error} throw an error if val is not a non-empty string or a number
 * @return {String|Number}
 * @api public
 */

var ms = function(val, options) {
  options = options || {};
  var type = typeof val;
  if (type === 'string' && val.length > 0) {
    return parse(val);
  } else if (type === 'number' && isNaN(val) === false) {
    return options.long ? fmtLong(val) : fmtShort(val);
  }
  throw new Error(
    'val is not a non-empty string or a valid number. val=' +
      JSON.stringify(val)
  );
};

/**
 * Parse the given `str` and return milliseconds.
 *
 * @param {String} str
 * @return {Number}
 * @api private
 */

function parse(str) {
  str = String(str);
  if (str.length > 100) {
    return;
  }
  var match = /^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(
    str
  );
  if (!match) {
    return;
  }
  var n = parseFloat(match[1]);
  var type = (match[2] || 'ms').toLowerCase();
  switch (type) {
    case 'years':
    case 'year':
    case 'yrs':
    case 'yr':
    case 'y':
      return n * y;
    case 'days':
    case 'day':
    case 'd':
      return n * d;
    case 'hours':
    case 'hour':
    case 'hrs':
    case 'hr':
    case 'h':
      return n * h;
    case 'minutes':
    case 'minute':
    case 'mins':
    case 'min':
    case 'm':
      return n * m;
    case 'seconds':
    case 'second':
    case 'secs':
    case 'sec':
    case 's':
      return n * s;
    case 'milliseconds':
    case 'millisecond':
    case 'msecs':
    case 'msec':
    case 'ms':
      return n;
    default:
      return undefined;
  }
}

/**
 * Short format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

function fmtShort(ms) {
  if (ms >= d) {
    return Math.round(ms / d) + 'd';
  }
  if (ms >= h) {
    return Math.round(ms / h) + 'h';
  }
  if (ms >= m) {
    return Math.round(ms / m) + 'm';
  }
  if (ms >= s) {
    return Math.round(ms / s) + 's';
  }
  return ms + 'ms';
}

/**
 * Long format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

function fmtLong(ms) {
  return plural(ms, d, 'day') ||
    plural(ms, h, 'hour') ||
    plural(ms, m, 'minute') ||
    plural(ms, s, 'second') ||
    ms + ' ms';
}

/**
 * Pluralization helper.
 */

function plural(ms, n, name) {
  if (ms < n) {
    return;
  }
  if (ms < n * 1.5) {
    return Math.floor(ms / n) + ' ' + name;
  }
  return Math.ceil(ms / n) + ' ' + name + 's';
}

var debug$1 = createCommonjsModule(function (module, exports) {
/**
 * This is the common logic for both the Node.js and web browser
 * implementations of `debug()`.
 *
 * Expose `debug()` as the module.
 */

exports = module.exports = createDebug.debug = createDebug['default'] = createDebug;
exports.coerce = coerce;
exports.disable = disable;
exports.enable = enable;
exports.enabled = enabled;
exports.humanize = ms;

/**
 * The currently active debug mode names, and names to skip.
 */

exports.names = [];
exports.skips = [];

/**
 * Map of special "%n" handling functions, for the debug "format" argument.
 *
 * Valid key names are a single, lower or upper-case letter, i.e. "n" and "N".
 */

exports.formatters = {};

/**
 * Previous log timestamp.
 */

var prevTime;

/**
 * Select a color.
 * @param {String} namespace
 * @return {Number}
 * @api private
 */

function selectColor(namespace) {
  var hash = 0, i;

  for (i in namespace) {
    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);
    hash |= 0; // Convert to 32bit integer
  }

  return exports.colors[Math.abs(hash) % exports.colors.length];
}

/**
 * Create a debugger with the given `namespace`.
 *
 * @param {String} namespace
 * @return {Function}
 * @api public
 */

function createDebug(namespace) {

  function debug() {
    // disabled?
    if (!debug.enabled) return;

    var self = debug;

    // set `diff` timestamp
    var curr = +new Date();
    var ms$$1 = curr - (prevTime || curr);
    self.diff = ms$$1;
    self.prev = prevTime;
    self.curr = curr;
    prevTime = curr;

    // turn the `arguments` into a proper Array
    var args = new Array(arguments.length);
    for (var i = 0; i < args.length; i++) {
      args[i] = arguments[i];
    }

    args[0] = exports.coerce(args[0]);

    if ('string' !== typeof args[0]) {
      // anything else let's inspect with %O
      args.unshift('%O');
    }

    // apply any `formatters` transformations
    var index = 0;
    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {
      // if we encounter an escaped % then don't increase the array index
      if (match === '%%') return match;
      index++;
      var formatter = exports.formatters[format];
      if ('function' === typeof formatter) {
        var val = args[index];
        match = formatter.call(self, val);

        // now we need to remove `args[index]` since it's inlined in the `format`
        args.splice(index, 1);
        index--;
      }
      return match;
    });

    // apply env-specific formatting (colors, etc.)
    exports.formatArgs.call(self, args);

    var logFn = debug.log || exports.log || console.log.bind(console);
    logFn.apply(self, args);
  }

  debug.namespace = namespace;
  debug.enabled = exports.enabled(namespace);
  debug.useColors = exports.useColors();
  debug.color = selectColor(namespace);

  // env-specific initialization logic for debug instances
  if ('function' === typeof exports.init) {
    exports.init(debug);
  }

  return debug;
}

/**
 * Enables a debug mode by namespaces. This can include modes
 * separated by a colon and wildcards.
 *
 * @param {String} namespaces
 * @api public
 */

function enable(namespaces) {
  exports.save(namespaces);

  exports.names = [];
  exports.skips = [];

  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\s,]+/);
  var len = split.length;

  for (var i = 0; i < len; i++) {
    if (!split[i]) continue; // ignore empty strings
    namespaces = split[i].replace(/\*/g, '.*?');
    if (namespaces[0] === '-') {
      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));
    } else {
      exports.names.push(new RegExp('^' + namespaces + '$'));
    }
  }
}

/**
 * Disable debug output.
 *
 * @api public
 */

function disable() {
  exports.enable('');
}

/**
 * Returns true if the given mode name is enabled, false otherwise.
 *
 * @param {String} name
 * @return {Boolean}
 * @api public
 */

function enabled(name) {
  var i, len;
  for (i = 0, len = exports.skips.length; i < len; i++) {
    if (exports.skips[i].test(name)) {
      return false;
    }
  }
  for (i = 0, len = exports.names.length; i < len; i++) {
    if (exports.names[i].test(name)) {
      return true;
    }
  }
  return false;
}

/**
 * Coerce `val`.
 *
 * @param {Mixed} val
 * @return {Mixed}
 * @api private
 */

function coerce(val) {
  if (val instanceof Error) return val.stack || val.message;
  return val;
}
});

var browser$1 = createCommonjsModule(function (module, exports) {
/**
 * This is the web browser implementation of `debug()`.
 *
 * Expose `debug()` as the module.
 */

exports = module.exports = debug$1;
exports.log = log;
exports.formatArgs = formatArgs;
exports.save = save;
exports.load = load;
exports.useColors = useColors;
exports.storage = 'undefined' != typeof chrome
               && 'undefined' != typeof chrome.storage
                  ? chrome.storage.local
                  : localstorage();

/**
 * Colors.
 */

exports.colors = [
  'lightseagreen',
  'forestgreen',
  'goldenrod',
  'dodgerblue',
  'darkorchid',
  'crimson'
];

/**
 * Currently only WebKit-based Web Inspectors, Firefox >= v31,
 * and the Firebug extension (any Firefox version) are known
 * to support "%c" CSS customizations.
 *
 * TODO: add a `localStorage` variable to explicitly enable/disable colors
 */

function useColors() {
  // NB: In an Electron preload script, document will be defined but not fully
  // initialized. Since we know we're in Chrome, we'll just detect this case
  // explicitly
  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {
    return true;
  }

  // is webkit? http://stackoverflow.com/a/16459606/376773
  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632
  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||
    // is firebug? http://stackoverflow.com/a/398120/376773
    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||
    // is firefox >= v31?
    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages
    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||
    // double check webkit in userAgent just in case we are in a worker
    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/));
}

/**
 * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.
 */

exports.formatters.j = function(v) {
  try {
    return JSON.stringify(v);
  } catch (err) {
    return '[UnexpectedJSONParseError]: ' + err.message;
  }
};


/**
 * Colorize log arguments if enabled.
 *
 * @api public
 */

function formatArgs(args) {
  var useColors = this.useColors;

  args[0] = (useColors ? '%c' : '')
    + this.namespace
    + (useColors ? ' %c' : ' ')
    + args[0]
    + (useColors ? '%c ' : ' ')
    + '+' + exports.humanize(this.diff);

  if (!useColors) return;

  var c = 'color: ' + this.color;
  args.splice(1, 0, c, 'color: inherit');

  // the final "%c" is somewhat tricky, because there could be other
  // arguments passed either before or after the %c, so we need to
  // figure out the correct index to insert the CSS into
  var index = 0;
  var lastC = 0;
  args[0].replace(/%[a-zA-Z%]/g, function(match) {
    if ('%%' === match) return;
    index++;
    if ('%c' === match) {
      // we only are interested in the *last* %c
      // (the user may have provided their own)
      lastC = index;
    }
  });

  args.splice(lastC, 0, c);
}

/**
 * Invokes `console.log()` when available.
 * No-op when `console.log` is not a "function".
 *
 * @api public
 */

function log() {
  // this hackery is required for IE8/9, where
  // the `console.log` function doesn't have 'apply'
  return 'object' === typeof console
    && console.log
    && Function.prototype.apply.call(console.log, console, arguments);
}

/**
 * Save `namespaces`.
 *
 * @param {String} namespaces
 * @api private
 */

function save(namespaces) {
  try {
    if (null == namespaces) {
      exports.storage.removeItem('debug');
    } else {
      exports.storage.debug = namespaces;
    }
  } catch(e) {}
}

/**
 * Load `namespaces`.
 *
 * @return {String} returns the previously persisted debug modes
 * @api private
 */

function load() {
  var r;
  try {
    r = exports.storage.debug;
  } catch(e) {}

  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG
  if (!r && typeof process !== 'undefined' && 'env' in process) {
    r = process.env.DEBUG;
  }

  return r;
}

/**
 * Enable namespaces listed in `localStorage.debug` initially.
 */

exports.enable(load());

/**
 * Localstorage attempts to return the localstorage.
 *
 * This is necessary because safari throws
 * when a user disables cookies/localstorage
 * and you attempt to access it.
 *
 * @return {LocalStorage}
 * @api private
 */

function localstorage() {
  try {
    return window.localStorage;
  } catch (e) {}
}
});

var color_countries = 'rgb(147,144,252)';
var color_disabled = 'rgb(214, 214, 214)';
var color_sup = 'green';
var color_inf = 'red';
var color_highlight = 'yellow';

var classCallCheck = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

var createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();



























var slicedToArray = function () {
  function sliceIterator(arr, i) {
    var _arr = [];
    var _n = true;
    var _d = false;
    var _e = undefined;

    try {
      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
        _arr.push(_s.value);

        if (i && _arr.length === i) break;
      }
    } catch (err) {
      _d = true;
      _e = err;
    } finally {
      try {
        if (!_n && _i["return"]) _i["return"]();
      } finally {
        if (_d) throw _e;
      }
    }

    return _arr;
  }

  return function (arr, i) {
    if (Array.isArray(arr)) {
      return arr;
    } else if (Symbol.iterator in Object(arr)) {
      return sliceIterator(arr, i);
    } else {
      throw new TypeError("Invalid attempt to destructure non-iterable instance");
    }
  };
}();

var math_abs = Math.abs;
var math_round = Math.round;

function prepareTooltip(parent_svg_elem) {
  var tooltip = parent_svg_elem.append('g').attr('class', 'tooltip').style('display', 'none');

  tooltip.append('rect').attrs({ width: 50, height: 40, fill: 'white' }).style('opacity', 0.5);

  tooltip.append('text').attrs({ class: 'id_feature', x: 25, dy: '1.2em', 'font-size': '14px' }).style('text-anchor', 'middle');

  tooltip.append('text').attrs({
    class: 'value_feature1',
    x: 25,
    dy: '2.4em',
    'font-size': '14px',
    'font-weight': 'bold' }).style('text-anchor', 'middle');

  tooltip.append('text').attrs({
    class: 'value_feature2',
    x: 25,
    dy: '3.5em',
    'font-size': '14px',
    'font-weight': 'bold' }).style('text-anchor', 'middle');

  tooltip.append('text').attrs({
    class: 'value_feature3',
    x: 25,
    dy: '4.6em',
    'font-size': '14px',
    'font-weight': 'bold' }).style('text-anchor', 'middle');

  tooltip.append('text').attrs({
    class: 'value_feature4',
    x: 25,
    dy: '5.7em',
    'font-size': '14px',
    'font-weight': 'bold' }).style('text-anchor', 'middle');

  return tooltip;
}

function unbindUI() {
  // Removes the current behavior corresponding to clicking on the left menu:
  d3.selectAll('span.filter_v').on('click', null);
  d3.selectAll('span.target_region').on('click', null);
  d3.selectAll('span.label_chk').on('click', null);

  // Remove the table:
  d3.select('.dataTable-wrapper').remove();

  // Unbind buttons on the top of the map:
  d3.select('#header_map').selectAll('img').on('click', null);

  // Remove the selection menu (or buttons) under the chart:
  d3.select('#bar_section > #buttons_under_chart').remove();

  // Removes the current behavior corresponding to clicking on the top menu:
  d3.selectAll('.type_chart.title_menu').on('click', null);

  // Removes the current behavior corresponding to pressing the Control key:
  document.onkeyup = null;
  document.onkeydown = null;
}

/**
*
*
*
*
*/
var comp = function comp(test_value, ref_value, serie_inversed) {
  if (test_value < ref_value) {
    return serie_inversed ? color_sup : color_inf;
  }
  return serie_inversed ? color_inf : color_sup;
};

/**
*
*
*
*
*/
var comp2 = function comp2(val1, val2, ref_val1, ref_val2, xInversed, yInversed) {
  if (val1 < ref_val1 && !xInversed || val1 > ref_val1 && xInversed) {
    // val1 is inferior:
    if (val2 < ref_val2) {
      return yInversed ? 'rgb(160, 30, 160)' : color_inf;
    }
    return yInversed ? color_inf : 'rgb(160, 30, 160)';
  }
  // val1 is superior :
  if (val2 > ref_val2) {
    return !yInversed ? color_sup : 'rgb(160, 30, 160)';
  }
  return !yInversed ? 'rgb(160, 30, 160)' : color_sup;
};

var Rect = function () {
  function Rect(topleft, bottomright) {
    classCallCheck(this, Rect);

    this.xmin = topleft[0];
    this.xmax = bottomright[0];
    this.ymin = topleft[1];
    this.ymax = bottomright[1];
  }

  createClass(Rect, [{
    key: 'contains',
    value: function contains(pt) {
      if (pt[0] >= this.xmin && pt[0] <= this.xmax && pt[1] >= this.ymin && pt[1] <= this.ymax) {
        return true;
      }
      return false;
    }
  }]);
  return Rect;
}();

var PropSizer = function PropSizer(fixed_value, fixed_size) {
  var _this = this;

  this.fixed_value = fixed_value;
  var sqrt = Math.sqrt;
  var abs = Math.abs;
  var PI = Math.PI;
  this.smax = fixed_size * fixed_size * PI;
  this.scale = function (val) {
    return sqrt(abs(val) * _this.smax / _this.fixed_value) / PI;
  };
  // this.get_value = size => ((size * PI) ** 2) / this.smax * this.fixed_value;
  // Use Math pow to support browser without ** operator:
  // eslint-disable-next-line no-restricted-properties
  this.get_value = function (size) {
    return Math.pow(size * PI, 2) / _this.smax * _this.fixed_value;
  };
};

var removeDuplicates = function removeDuplicates(arr) {
  var tmp = [];
  for (var i = 0, len_arr = arr.length; i < len_arr; i++) {
    if (tmp.indexOf(arr[i]) === -1) {
      tmp.push(arr[i]);
    }
  }
  return tmp;
};

var getSvgPathType = function getSvgPathType(path) {
  if (path.indexOf('M ') > -1 && path.indexOf(' L ') > -1) {
    return 2;
  }
  return 1;
};

var svgPathToCoords = function svgPathToCoords(path, type_path) {
  if (type_path === 1) {
    return path.slice(1).split('L').map(function (pt) {
      return pt.split(',').map(function (a) {
        return +a;
      });
    });
  }
  return path.slice(2).split(' L ').map(function (pt) {
    return pt.split(' ').map(function (a) {
      return +a;
    });
  });
};

function computePercentileRank(obj, field_name, result_field_name) {
  var values = obj.map(function (d) {
    return d[field_name];
  });
  var len_values = values.length;
  var getPR = function getPR(v) {
    var count = 0;
    for (var i = 0; i < len_values; i++) {
      if (values[i] <= v) {
        count += 1;
      }
    }
    return 100 * count / len_values;
  };
  for (var ix = 0; ix < len_values; ix++) {
    obj[ix][result_field_name] = getPR(values[ix]);
  }
}

var _getPR = function _getPR(v, serie) {
  var count = 0;
  for (var i = 0; i < serie.length; i++) {
    if (serie[i] <= v) {
      count += 1;
    }
  }
  return 100 * count / serie.length;
};

var createMenu = function createMenu(names, variables, study_zones, territorial_mesh) {
  // First section, regions names:
  var title_section1 = document.createElement('p');
  title_section1.className = 'title_menu';
  title_section1.innerHTML = 'Ma région';
  var section1 = document.createElement('div');
  section1.className = 'box';
  section1.style.overflow = 'auto';
  section1.style.height = '200px';
  for (var i = 0, len_i = names.length; i < len_i; i++) {
    var id = names[i].geo;
    var name = names[i].Nom;
    var entry = document.createElement('p');
    entry.innerHTML = '<span value="' + id + '" class=\'target_region square\'></span><span class="label_chk">' + name + '</span>';
    section1.appendChild(entry);
  }

  // Second section, groups of variables:
  var title_section2 = document.createElement('p');
  title_section2.className = 'title_menu';
  title_section2.innerHTML = 'Mon/mes indicateurs';
  var section2 = document.createElement('div');
  section2.className = 'box';

  // Filter the "variables" variable to fetch the group names :
  var groups_var = removeDuplicates(variables.map(function (d) {
    return d.group;
  }));

  var _loop = function _loop(_i, _len_i) {
    var gp_name = groups_var[_i];
    var entry = document.createElement('p');
    entry.innerHTML = '<span class=\'square\'></span><span>' + gp_name + '</span>';
    section2.appendChild(entry);
    var var_names = variables.filter(function (d) {
      return d.group === gp_name;
    });
    for (var j = 0, len_j = var_names.length; j < len_j; j++) {
      var name_var = var_names[j].name;
      var code_var = var_names[j].ratio;
      var sub_entry = document.createElement('p');
      sub_entry.className = 'small';
      sub_entry.innerHTML = '<span value="' + code_var + '" class="target_variable small_square"></span><span class="label_chk">' + name_var + '</span>';
      section2.appendChild(sub_entry);
    }
  };

  for (var _i = 0, _len_i = groups_var.length; _i < _len_i; _i++) {
    _loop(_i, _len_i);
  }

  // Third section, study zone:
  var title_section3 = document.createElement('p');
  title_section3.className = 'title_menu';
  title_section3.innerHTML = 'Mon espace d\'étude';
  var section3 = document.createElement('div');
  section3.className = 'box';
  for (var _i2 = 0, _len_i2 = study_zones.length; _i2 < _len_i2; _i2++) {
    var _entry = document.createElement('p');
    var zone = study_zones[_i2];
    _entry.innerHTML = '<span filter-value="' + zone.id + '" class=\'filter_v square\'></span><span class="label_chk">' + zone.name + '</span>';
    section3.appendChild(_entry);
  }

  // Fourth section:
  var title_section4 = document.createElement('p');
  title_section4.className = 'title_menu';
  title_section4.innerHTML = 'Maillage territorial d\'analyse';
  var section4 = document.createElement('div');
  section4.className = 'box';
  for (var _i3 = 0, _len_i3 = territorial_mesh.length; _i3 < _len_i3; _i3++) {
    var _entry2 = document.createElement('p');
    var territ_level = territorial_mesh[_i3];
    _entry2.innerHTML = '<span value="' + territ_level.id + '" class=\'square territ_level\'></span><span class="label_chk">' + territ_level.name + '</span>';
    section4.appendChild(_entry2);
  }

  // The actual menu containing these 4 sections:
  var menu = document.getElementById('menu');
  menu.id = 'menu';
  menu.style.width = '340px';
  menu.style.float = 'left';
  menu.appendChild(title_section1);
  menu.appendChild(section1);
  menu.appendChild(title_section2);
  menu.appendChild(section2);
  menu.appendChild(title_section3);
  menu.appendChild(section3);
  menu.appendChild(title_section4);
  menu.appendChild(section4);
};

function makeTopMenu() {
  var top_menu = d3.select('#menutop').styles({ 'font-family': "'Signika', sans-serif", 'font-size': '0.80em', padding: '0.3px' });
  var width_left = document.querySelector('#menu').getBoundingClientRect().width + 25 + 'px';
  var t = document.querySelector('#bar_section').getBoundingClientRect().width;
  var width_central_chart = t + 'px';
  var width_map = document.querySelector('#map_section').getBoundingClientRect().width - 35 + 'px';
  var width_type_comp = (t - 80) / 3 - 2 + 'px';
  top_menu.append('div').attrs({ class: 'title_section' }).styles({ width: width_left, float: 'left', margin: '0 3px' }).html('SÉLECTION');

  var type_chart = top_menu.append('div').attr('class', 'top_section').styles({ width: width_central_chart, float: 'left', margin: '0 3px', 'text-align': 'center' });

  var position = type_chart.append('div').attr('class', 'type_comparaison').styles({ width: width_type_comp });

  position.append('p').attr('class', 'title_type_comp').html('POSITION');

  position.append('span').attrs({ class: 'type_chart chart_t1', value: 'BarChart1' }).html('1 ind.');

  position.append('span').attrs({ class: 'type_chart chart_t2 disabled', value: 'ScatterPlot2' }).html('2 ind.');

  position.append('span').attr('class', 'type_chart chart_t3 disabled').html('+3 ind.');

  var ressemblance = type_chart.append('div').attr('class', 'type_comparaison').styles({ width: width_type_comp });

  ressemblance.append('p').attr('class', 'title_type_comp').html('RESSEMBLANCES');

  ressemblance.append('span').attrs({ class: 'type_chart chart_t1', value: 'BubbleChart1' }).html('1 ind.');

  ressemblance.append('span').attr('class', 'type_chart chart_t2 disabled').html('+2 ind.');

  var inegalite = type_chart.append('div').attr('class', 'type_comparaison').styles({ width: width_type_comp });

  inegalite.append('p').attr('class', 'title_type_comp').html('INÉGALITÉS');

  inegalite.append('span').attr('class', 'type_chart chart_t1 disabled').html('1 ind.');

  inegalite.append('span').attr('class', 'type_chart chart_t2 disabled').html('+2 ind.');

  top_menu.append('div').attrs({ class: 'title_section' }).styles({ width: width_map, float: 'left', margin: '0 0 0 20px' }).html('QUELLES REGIONS ?');
}

function makeHeaderMapSection() {
  var header_map_section = d3.select('#map_section').insert('p', 'svg').attr('id', 'header_map').style('margin', '0 0 0 10px');

  header_map_section.insert('img').attrs({
    class: 'map_button active',
    width: 20,
    height: 20,
    src: 'img/gimp-tool-rect-select.png',
    id: 'img_rect_selec'
  });

  header_map_section.insert('img').attrs({
    class: 'map_button',
    width: 20,
    height: 20,
    src: 'img/gimp-tool-zoom.png',
    id: 'img_map_zoom'
  });

  header_map_section.insert('img').attrs({
    class: 'map_button',
    width: 20,
    height: 20,
    src: 'img/gimp-cursor.png',
    id: 'img_map_select'
  });
}

function makeHeaderChart() {
  var header_bar_section = d3.select('#bar_section').insert('p', 'svg').attr('id', 'header_chart').style('margin-bottom', '0').style('clear', 'both');

  header_bar_section.insert('img').attrs({
    width: 24,
    height: 24,
    src: 'img/edit-table-insert-row-above.svg',
    id: 'img_table'
  }).styles({ margin: '3px', float: 'right' }).on('click', function () {
    if (document.querySelector('.dataTable-wrapper').style.display) {
      document.querySelector('#svg_map').style.display = 'none';
      document.querySelector('#svg_legend').style.display = 'none';
      document.querySelector('#header_map').style.display = 'none';
      document.querySelector('#header_table').style.display = null;
      document.querySelector('.dataTable-wrapper').style.display = null;
      this.style.filter = 'invert(75%)';
    } else {
      document.querySelector('#svg_map').style.display = null;
      document.querySelector('#svg_legend').style.display = null;
      document.querySelector('#header_map').style.display = null;
      document.querySelector('#header_table').style.display = 'none';
      document.querySelector('.dataTable-wrapper').style.display = 'none';
      this.style.filter = null;
    }
  });

  header_bar_section.insert('img').attrs({
    width: 24,
    height: 24,
    src: 'img/printer.svg',
    id: 'img_printer'
  }).styles({ margin: '3px', float: 'right' });

  header_bar_section.insert('img').attrs({
    width: 24,
    height: 24,
    src: 'img/gtk-info.svg',
    id: 'img_info'
  }).styles({ margin: '3px', float: 'right' });
}

var vanillaDataTables = createCommonjsModule(function (module, exports) {
/*!
 *
 * Vanilla-DataTables
 * Copyright (c) 2015-2017 Karl Saunders (http://mobius.ovh)
 * Licensed under MIT (http://www.opensource.org/licenses/mit-license.php)
 *
 * Version: 1.4.18
 *
 */
(function (root, factory) {
    var plugin = "DataTable";

    if (typeof undefined === "function" && undefined.amd) {
        undefined([], factory(plugin));
    } else {
        module.exports = factory(plugin);
    }
})(commonjsGlobal, function (plugin) {
    "use strict";
    var win = window,
        doc = document,
        body = doc.body;

    /**
     * Default configuration
     * @typ {Object}
     */
    var defaultConfig = {
        perPage: 10,
        perPageSelect: [5, 10, 15, 20, 25],

        sortable: true,
        searchable: true,

        // Pagination
        nextPrev: true,
        firstLast: false,
        prevText: "&lsaquo;",
        nextText: "&rsaquo;",
        firstText: "&laquo;",
        lastText: "&raquo;",
        ellipsisText: "&hellip;",
        ascText: "▴",
        descText: "▾",
        truncatePager: true,
        pagerDelta: 2,

        fixedColumns: true,
        fixedHeight: false,

        header: true,
        footer: false,

        // Customise the display text
        labels: {
            placeholder: "Search...", // The search input placeholder
            perPage: "{select} entries per page", // per-page dropdown label
            noRows: "No entries found", // Message shown when there are no search results
            info: "Showing {start} to {end} of {rows} entries" //
        },

        // Customise the layout
        layout: {
            top: "{select}{search}",
            bottom: "{info}{pager}"
        }
    };

    /**
     * Check is item is object
     * @return {Boolean}
     */
    var isObject = function (val) {
        return Object.prototype.toString.call(val) === "[object Object]";
    };

    /**
     * Check is item is array
     * @return {Boolean}
     */
    var isArray = function (val) {
        return Array.isArray(val);
    };

    /**
     * Check for valid JSON string
     * @param  {String}   str
     * @return {Boolean|Array|Object}
     */
    var isJson = function (str) {
        var t = !1;
        try {
            t = JSON.parse(str);
        } catch (e) {
            return !1;
        }
        return !(null === t || (!isArray(t) && !isObject(t))) && t;
    };

    /**
     * Merge objects (reccursive)
     * @param  {Object} r
     * @param  {Object} t
     * @return {Object}
     */
    var extend = function (src, props) {
        for (var prop in props) {
            if (props.hasOwnProperty(prop)) {
                var val = props[prop];
                if (val && isObject(val)) {
                    src[prop] = src[prop] || {};
                    extend(src[prop], val);
                } else {
                    src[prop] = val;
                }
            }
        }
        return src;
    };

    /**
     * Iterator helper
     * @param  {(Array|Object)}   arr     Any object, array or array-like collection.
     * @param  {Function}         fn      Callback
     * @param  {Object}           scope   Change the value of this
     * @return {Void}
     */
    var each = function (arr, fn, scope) {
        var n;
        if (isObject(arr)) {
            for (n in arr) {
                if (Object.prototype.hasOwnProperty.call(arr, n)) {
                    fn.call(scope, arr[n], n);
                }
            }
        } else {
            for (n = 0; n < arr.length; n++) {
                fn.call(scope, arr[n], n);
            }
        }
    };

    /**
     * Add event listener to target
     * @param  {Object} el
     * @param  {String} e
     * @param  {Function} fn
     */
    var on = function (el, e, fn) {
        el.addEventListener(e, fn, false);
    };

    /**
     * Create DOM element node
     * @param  {String}   a nodeName
     * @param  {Object}   b properties and attributes
     * @return {Object}
     */
    var createElement = function (a, b) {
        var d = doc.createElement(a);
        if (b && "object" == typeof b) {
            var e;
            for (e in b) {
                if ("html" === e) {
                    d.innerHTML = b[e];
                } else {
                    d.setAttribute(e, b[e]);
                }
            }
        }
        return d;
    };

    var flush = function (el, ie) {
        if (el instanceof NodeList) {
            each(el, function (e) {
                flush(e, ie);
            });
        } else {
            if (ie) {
                while (el.hasChildNodes()) {
                    el.removeChild(el.firstChild);
                }
            } else {
                el.innerHTML = "";
            }
        }
    };

    /**
     * Create button helper
     * @param  {String}   c
     * @param  {Number}   p
     * @param  {String}   t
     * @return {Object}
     */
    var button = function (c, p, t) {
        return createElement("li", {
            class: c,
            html: '<a href="#" data-page="' + p + '">' + t + "</a>"
        });
    };

    /**
     * classList shim
     * @type {Object}
     */
    var classList = {
        add: function (s, a) {
            if (s.classList) {
                s.classList.add(a);
            } else {
                if (!classList.contains(s, a)) {
                    s.className = s.className.trim() + " " + a;
                }
            }
        },
        remove: function (s, a) {
            if (s.classList) {
                s.classList.remove(a);
            } else {
                if (classList.contains(s, a)) {
                    s.className = s.className.replace(
                        new RegExp("(^|\\s)" + a.split(" ").join("|") + "(\\s|$)", "gi"),
                        " "
                    );
                }
            }
        },
        contains: function (s, a) {
            if (s)
                return s.classList ?
                    s.classList.contains(a) :
                    !!s.className &&
                    !!s.className.match(new RegExp("(\\s|^)" + a + "(\\s|$)"));
        }
    };

    /**
     * Bubble sort algorithm
     */
    var sortItems = function (a, b) {
        var c, d;
        if (1 === b) {
            c = 0;
            d = a.length;
        } else {
            if (b === -1) {
                c = a.length - 1;
                d = -1;
            }
        }
        for (var e = !0; e;) {
            e = !1;
            for (var f = c; f != d; f += b) {
                if (a[f + b] && a[f].value > a[f + b].value) {
                    var g = a[f],
                        h = a[f + b],
                        i = g;
                    a[f] = h;
                    a[f + b] = i;
                    e = !0;
                }
            }
        }
        return a;
    };

    /**
     * Pager truncation algorithm
     */
    var truncate = function (a, b, c, d, ellipsis) {
        d = d || 2;
        var j,
            e = 2 * d,
            f = b - d,
            g = b + d,
            h = [],
            i = [];
        if (b < 4 - d + e) {
            g = 3 + e;
        } else if (b > c - (3 - d + e)) {
            f = c - (2 + e);
        }
        for (var k = 1; k <= c; k++) {
            if (1 == k || k == c || (k >= f && k <= g)) {
                var l = a[k - 1];
                classList.remove(l, "active");
                h.push(l);
            }
        }
        each(h, function (c) {
            var d = c.children[0].getAttribute("data-page");
            if (j) {
                var e = j.children[0].getAttribute("data-page");
                if (d - e == 2) i.push(a[e]);
                else if (d - e != 1) {
                    var f = createElement("li", {
                        class: "ellipsis",
                        html: '<a href="#">' + ellipsis + "</a>"
                    });
                    i.push(f);
                }
            }
            i.push(c);
            j = c;
        });

        return i;
    };

    /**
     * Parse data to HTML table
     */
    var dataToTable = function (data) {
        var thead = false,
            tbody = false;

        data = data || this.options.data;

        if (data.headings) {
            thead = createElement("thead");
            var tr = createElement("tr");
            each(data.headings, function (col) {
                var td = createElement("th", {
                    html: col
                });
                tr.appendChild(td);
            });

            thead.appendChild(tr);
        }

        if (data.data) {
            tbody = createElement("tbody");
            each(data.data, function (rows) {
                if (data.headings) {
                    if (data.headings.length !== rows.length) {
                        throw new Error(
                            "The number of rows do not match the number of headings."
                        );
                    }
                }
                var tr = createElement("tr");
                each(rows, function (value) {
                    var td = createElement("td", {
                        html: value
                    });
                    tr.appendChild(td);
                });
                tbody.appendChild(tr);
            });
        }

        if (thead) {
            if (this.table.tHead !== null) {
                this.table.removeChild(this.table.tHead);
            }
            this.table.appendChild(thead);
        }

        if (tbody) {
            if (this.table.tBodies.length) {
                this.table.removeChild(this.table.tBodies[0]);
            }
            this.table.appendChild(tbody);
        }
    };

    /**
     * Use moment.js to parse cell contents for sorting
     * @param  {String} content     The datetime string to parse
     * @param  {String} format      The format for moment to use
     * @return {String|Boolean}     Datatime string or false
     */
    var parseDate = function (content, format) {
        var date = false;

        // moment() throws a fit if the string isn't a valid datetime string
        // so we need to supply the format to the constructor (https://momentjs.com/docs/#/parsing/string-format/)

        // Converting to YYYYMMDD ensures we can accurately sort the column numerically

        if (format) {
            switch (format) {
            case "ISO_8601":
                date = moment(content, moment.ISO_8601).format("YYYYMMDD");
                break;
            case "RFC_2822":
                date = moment(content, "ddd, MM MMM YYYY HH:mm:ss ZZ").format("YYYYMMDD");
                break;
            case "MYSQL":
                date = moment(content, "YYYY-MM-DD hh:mm:ss").format("YYYYMMDD");
                break;
            case "UNIX":
                date = moment(content).unix();
                break;
                // User defined format using the data-format attribute or columns[n].format option
            default:
                date = moment(content, format).format("YYYYMMDD");
                break;
            }
        }

        return date;
    };

    /**
     * Columns API
     * @param {Object} instance DataTable instance
     * @param {Mixed} columns  Column index or array of column indexes
     */
    var Columns = function (dt) {
        this.dt = dt;
        return this;
    };

    /**
     * Swap two columns
     * @return {Void}
     */
    Columns.prototype.swap = function (columns) {
        if (columns.length && columns.length === 2) {
            var cols = [];

            // Get the current column indexes
            each(this.dt.headings, function (h, i) {
                cols.push(i);
            });

            var x = columns[0];
            var y = columns[1];
            var b = cols[y];
            cols[y] = cols[x];
            cols[x] = b;

            this.order(cols);
        }
    };

    /**
     * Reorder the columns
     * @return {Array} columns  Array of ordered column indexes
     */
    Columns.prototype.order = function (columns) {
        var a, b, c, d, h, s;

        var temp_a = [];
        var temp_b = [];
        var temp_c = [];
        var temp_d = [];

        var dt = this.dt;

        // Order the headings
        each(columns, function (column, x) {
            h = dt.headings[column];
            s = h.getAttribute("data-sortable") !== "false";
            a = h.cloneNode(true);
            a.originalCellIndex = x;
            a.sortable = s;

            temp_a.push(a);

            if (dt.hiddenColumns.indexOf(column) < 0) {
                b = h.cloneNode(true);
                b.originalCellIndex = x;
                b.sortable = s;

                temp_b.push(b);
            }
        });

        // Order the row cells
        each(dt.data, function (row, i) {
            c = row.cloneNode();
            d = row.cloneNode();

            c.dataIndex = i;
            d.dataIndex = i;

            if (row.searchIndex !== null && row.searchIndex !== undefined) {
                c.searchIndex = row.searchIndex;
                d.searchIndex = row.searchIndex;
            }

            // Append to cell to the fragment in the correct order
            each(
                columns,
                function (x, column) {
                    c.appendChild(row.cells[column].cloneNode(true));

                    if (dt.hiddenColumns.indexOf(column) < 0) {
                        d.appendChild(row.cells[column].cloneNode(true));
                    }
                },
                this
            );

            temp_c.push(c);
            temp_d.push(d);
        });

        dt.headings = temp_a;
        dt.activeHeadings = temp_b;

        dt.data = temp_c;
        dt.activeRows = temp_d;

        // Update
        dt.update();
    };

    /**
     * Hide columns
     * @return {Void}
     */
    Columns.prototype.hide = function (columns) {
        if (columns.length) {
            var dt = this.dt;

            each(columns, function (column) {
                if (dt.hiddenColumns.indexOf(column) < 0) {
                    dt.hiddenColumns.push(column);
                }
            });

            this.rebuild();
        }
    };

    /**
     * Show columns
     * @return {Void}
     */
    Columns.prototype.show = function (columns) {
        if (columns.length) {
            var index, dt = this.dt;

            each(columns, function (column) {
                index = dt.hiddenColumns.indexOf(column);
                if (index > -1) {
                    dt.hiddenColumns.splice(index, 1);
                }
            });

            this.rebuild();
        }
    };

    /**
     * Check column(s) visibility
     * @return {Boolean}
     */
    Columns.prototype.visible = function (columns) {
        var cols, dt = this.dt;

        columns = columns || dt.headings.map(function (th) {
            return th.originalCellIndex;
        });

        if (!isNaN(columns)) {
            cols = dt.hiddenColumns.indexOf(columns) < 0;
        } else if (isArray(columns)) {
            cols = [];
            each(columns, function (column) {
                cols.push(dt.hiddenColumns.indexOf(column) < 0);
            });
        }

        return cols;
    };

    /**
     * Check column(s) visibility
     * @return {Boolean}
     */
    Columns.prototype.hidden = function (columns) {
        var cols, dt = this.dt;

        columns = columns || this.dt.headings.map(function (th) {
            return th.originalCellIndex;
        });

        if (!isNaN(columns)) {
            cols = dt.hiddenColumns.indexOf(this.columns) > -1;
        } else if (isArray(columns)) {
            cols = [];
            each(columns, function (column) {
                cols.push(dt.hiddenColumns.indexOf(column) > -1);
            });
        }

        return cols;
    };

    /**
     * Add a new column
     * @param {Object} data
     */
    Columns.prototype.add = function (data) {
        var that = this,
            td, th = document.createElement("th");

        if (!this.dt.headings.length) {
            this.dt.insert({
                headings: [data.heading],
                data: data.data.map(function (i) {
                    return [i];
                })
            });
            this.rebuild();
            return;
        }

        if (!this.dt.hiddenHeader) {
            if (data.heading.nodeName) {
                th.appendChild(data.heading);
            } else {
                th.innerHTML = data.heading;
            }
        } else {
            th.innerHTML = "";
        }

        this.dt.headings.push(th);

        each(this.dt.data, function (row, i) {
            if (data.data[i]) {
                td = document.createElement("td");

                if (data.data[i].nodeName) {
                    td.appendChild(data.data[i]);
                } else {
                    td.innerHTML = data.data[i];
                }

                td.data = td.innerHTML;

                if (data.render) {
                    td.innerHTML = data.render.call(that, td.data, td, row);
                }

                row.appendChild(td);
            }
        });

        if (data.type) {
            th.setAttribute("data-type", data.type);
        }
        if (data.format) {
            th.setAttribute("data-format", data.format);
        }

        if (data.hasOwnProperty("sortable")) {
            th.sortable = data.sortable;
            th.setAttribute("data-sortable", data.sortable === true ? "true" : "false");
        }

        this.rebuild();

        this.dt.renderHeader();
    };

    /**
     * Remove column(s)
     * @param  {Array|Number} select
     * @return {Void}
     */
    Columns.prototype.remove = function (select) {
        if (isArray(select)) {
            // Remove in reverse otherwise the indexes will be incorrect
            select.sort(function (a, b) {
                return b - a;
            });

            each(select, function (column) {
                this.remove(column);
            }, this);
        } else {
            this.dt.headings.splice(select, 1);

            each(this.dt.data, function (row) {
                row.removeChild(row.cells[select]);
            });
        }

        this.rebuild();
    };

    /**
     * Sort by column
     * @param  {int} column - The column no.
     * @param  {string} direction - asc or desc
     * @return {void}
     */
    Columns.prototype.sort = function (column, direction, init) {

        var dt = this.dt;

        // Check column is present
        if (dt.hasHeadings && (column < 1 || column > dt.activeHeadings.length)) {
            return false;
        }

        dt.sorting = true;

        // Convert to zero-indexed
        column = column - 1;

        var dir,
            rows = dt.data,
            alpha = [],
            numeric = [],
            a = 0,
            n = 0,
            th = dt.activeHeadings[column];

        column = th.originalCellIndex;

        each(rows, function (tr) {
            var cell = tr.cells[column];
            var content = cell.data;
            var num = content.replace(/(\$|\,|\s|%)/g, "");

            // Check for date format and moment.js
            if (th.getAttribute("data-type") === "date" && win.moment) {
                var format = false,
                    formatted = th.hasAttribute("data-format");

                if (formatted) {
                    format = th.getAttribute("data-format");
                }

                num = parseDate(content, format);
            }

            if (parseFloat(num) == num) {
                numeric[n++] = {
                    value: Number(num),
                    row: tr
                };
            } else {
                alpha[a++] = {
                    value: content,
                    row: tr
                };
            }
        });

        /* Sort according to direction (ascending or descending) */
        var top, btm;
        if (classList.contains(th, "asc") || direction == "asc") {
            top = sortItems(alpha, -1);
            btm = sortItems(numeric, -1);
            dir = "descending";
            classList.remove(th, "asc");
            classList.add(th, "desc");
        } else {
            top = sortItems(numeric, 1);
            btm = sortItems(alpha, 1);
            dir = "ascending";
            classList.remove(th, "desc");
            classList.add(th, "asc");
        }

        /* Clear asc/desc class names from the last sorted column's th if it isn't the same as the one that was just clicked */
        if (dt.lastTh && th != dt.lastTh) {
            classList.remove(dt.lastTh, "desc");
            classList.remove(dt.lastTh, "asc");
        }

        dt.lastTh = th;

        /* Reorder the table */
        rows = top.concat(btm);

        dt.data = [];
        var indexes = [];

        each(rows, function (v, i) {
            dt.data.push(v.row);

            if (v.row.searchIndex !== null && v.row.searchIndex !== undefined) {
                indexes.push(i);
            }
        }, dt);

        dt.searchData = indexes;

        this.rebuild();

        dt.update();

        if (!init) {
            dt.emit("datatable.sort", column, dir);
        }
    };

    /**
     * Rebuild the columns
     * @return {Void}
     */
    Columns.prototype.rebuild = function () {
        var a, b, c, d;
        var dt = this.dt,
            temp = [];

        dt.activeRows = [];
        dt.activeHeadings = [];

        each(dt.headings, function (th, i) {
            th.originalCellIndex = i;
            th.sortable = th.getAttribute("data-sortable") !== "false";
            if (dt.hiddenColumns.indexOf(i) < 0) {
                dt.activeHeadings.push(th);
            }
        }, this);

        // Loop over the rows and reorder the cells
        each(dt.data, function (row, i) {
            a = row.cloneNode();
            b = row.cloneNode();

            a.dataIndex = i;
            b.dataIndex = i;

            if (row.searchIndex !== null && row.searchIndex !== undefined) {
                a.searchIndex = row.searchIndex;
                b.searchIndex = row.searchIndex;
            }

            // Append to cell to the fragment in the correct order
            each(row.cells, function (cell) {
                c = cell.cloneNode(true);
                c.data = cell.data;
                a.appendChild(c);

                if (dt.hiddenColumns.indexOf(cell.cellIndex) < 0) {
                    d = cell.cloneNode(true);
                    d.data = cell.data;
                    b.appendChild(d);
                }
            });

            // Append the fragment with the ordered cells
            temp.push(a);
            dt.activeRows.push(b);
        });

        dt.data = temp;

        dt.update();
    };

    /**
     * Rows API
     * @param {Object} instance DataTable instance
     * @param {Array} rows
     */
    var Rows = function (dt, rows) {
        this.dt = dt;
        this.rows = rows;

        return this;
    };

    /**
     * Build a new row
     * @param  {Array} row
     * @return {HTMLElement}
     */
    Rows.prototype.build = function (row) {
        var td, tr = createElement("tr");

        var headings = this.dt.headings;

        if (!headings.length) {
            headings = row.map(function () {
                return "";
            });
        }

        each(headings, function (h, i) {
            td = createElement("td");

			// Fixes #29
            if (!row[i] && !row[i].length) {
                row[i] = "";
            }

			td.innerHTML = row[i];

            td.data = row[i];

            tr.appendChild(td);
        });

        return tr;
    };

    Rows.prototype.render = function (row) {
        return row;
    };

    /**
     * Add new row
     * @param {Array} select
     */
    Rows.prototype.add = function (data) {

        if (isArray(data)) {
            var dt = this.dt;
            // Check for multiple rows
            if (isArray(data[0])) {
                each(data, function (row, i) {
                    dt.data.push(this.build(row));
                }, this);
            } else {
                dt.data.push(this.build(data));
            }

            this.update();

            dt.columns().rebuild();
        }
    };

    /**
     * Remove row(s)
     * @param  {Array|Number} select
     * @return {Void}
     */
    Rows.prototype.remove = function (select) {

        var dt = this.dt;

        if (isArray(select)) {
            // Remove in reverse otherwise the indexes will be incorrect
            select.sort(function (a, b) {
                return b - a;
            });

            each(select, function (row, i) {
                dt.data.splice(row, 1);
            });
        } else {
            dt.data.splice(select, 1);
        }

        this.update();
        dt.columns().rebuild();
    };

    /**
     * Update row indexes
     * @return {Void}
     */
    Rows.prototype.update = function () {
        each(this.dt.data, function (row, i) {
            row.dataIndex = i;
        });
    };

    ////////////////////
    //    MAIN LIB    //
    ////////////////////

    var DataTable = function (table, options) {
        this.initialized = false;

        // user options
        this.options = extend(defaultConfig, options);

        if (typeof table === "string") {
            var selector = table;
            table = document.querySelector(table);

            if (!table) {
                throw new Error("The element '" + selector + "' can not be found.");
            }
        }

        if (table.tagName.toLowerCase() !== "table") {
            throw new Error("The selected element is not a table.");
        }

        this.initialLayout = table.innerHTML;
        this.initialSortable = this.options.sortable;

        // Disable manual sorting if no header is present (#4)
        if (!this.options.header) {
            this.options.sortable = false;
        }

        if (table.tHead === null) {
            if (!this.options.data ||
                (this.options.data && !this.options.data.headings)
            ) {
                this.options.sortable = false;
            }
        }

        if (table.tBodies.length && !table.tBodies[0].rows.length) {
            if (this.options.data) {
                if (!this.options.data.data) {
                    throw new Error(
                        "You seem to be using the data option, but you've not defined any rows."
                    );
                }
            }
        }

        this.table = table;

        this.init();
    };

    var proto = DataTable.prototype;

    /**
     * Add custom property or method to extend DataTable
     * @param  {String} prop    - Method name or property
     * @param  {Mixed} val      - Function or property value
     * @return {Void}
     */
    DataTable.extend = function (prop, val) {
        if (typeof val === "function") {
            DataTable.prototype[prop] = val;
        } else {
            DataTable[prop] = val;
        }
    };

    /**
     * Initialize the instance
     * @param  {Object} options
     * @return {Void}
     */
    proto.init = function (options) {
        if (this.initialized || classList.contains(this.table, "dataTable-table")) {
            return false;
        }

        var that = this;

        this.options = extend(this.options, options || {});

        // IE detection
        this.isIE = !!/(msie|trident)/i.test(navigator.userAgent);

        this.currentPage = 1;
        this.onFirstPage = true;

        this.hiddenColumns = [];
        this.columnRenderers = [];
        this.selectedColumns = [];

        this.render();

        if (this.options.plugins) {
            each(this.options.plugins, function (options, plugin) {
                this[plugin](options);
            }, this);
        }

        setTimeout(function () {
            that.emit("datatable.init");
            that.initialized = true;
        }, 10);
    };

    /**
     * Render the instance
     * @param  {String} type
     * @return {Void}
     */
    proto.render = function (type) {
        if (type) {
            switch (type) {
            case "page":
                this.renderPage();
                break;
            case "pager":
                this.renderPager();
                break;
            case "header":
                this.renderHeader();
                break;
            }

            return false;
        }

        var that = this,
            o = that.options,
            template = "";

        // Convert data to HTML
        if (o.data) {
            dataToTable.call(that);
        }

        if (o.ajax) {
            var ajax = o.ajax;
            var xhr = new XMLHttpRequest();

            var xhrProgress = function (e) {
                that.emit("datatable.ajax.progress", e, xhr);
            };

            var xhrLoad = function (e) {
                if (xhr.readyState === 4) {
                    that.emit("datatable.ajax.loaded", e, xhr);

                    if (xhr.status === 200) {
                        var obj = {};
                        obj.data = ajax.load ? ajax.load.call(that, xhr) : xhr.responseText;

                        obj.type = "json";

                        if (ajax.content && ajax.content.type) {
                            obj.type = ajax.content.type;

                            obj = extend(obj, ajax.content);
                        }

                        that.import(obj);

                        that.setColumns(true);

                        that.emit("datatable.ajax.success", e, xhr);
                    } else {
                        that.emit("datatable.ajax.error", e, xhr);
                    }
                }
            };

            var xhrFailed = function (e) {
                that.emit("datatable.ajax.error", e, xhr);
            };

            var xhrCancelled = function (e) {
                that.emit("datatable.ajax.abort", e, xhr);
            };

            on(xhr, "progress", xhrProgress);
            on(xhr, "load", xhrLoad);
            on(xhr, "error", xhrFailed);
            on(xhr, "abort", xhrCancelled);

            that.emit("datatable.ajax.loading", xhr);

            xhr.open("GET", typeof ajax === "string" ? o.ajax : o.ajax.url);
            xhr.send();
        }

        // Store references
        that.body = that.table.tBodies[0];
        that.head = that.table.tHead;
        that.foot = that.table.tFoot;

        if (!that.body) {
            that.body = createElement("tbody");

            that.table.appendChild(that.body);
        }

        that.hasRows = that.body.rows.length > 0;

        // Make a tHead if there isn't one (fixes #8)
        if (!that.head) {
            var h = createElement("thead");
            var t = createElement("tr");

            if (that.hasRows) {
                each(that.body.rows[0].cells, function () {
                    t.appendChild(createElement("th"));
                });

                h.appendChild(t);
            }

            that.head = h;

            that.table.insertBefore(that.head, that.body);

            that.hiddenHeader = !o.ajax;
        }

        that.headings = [];
        that.hasHeadings = that.head.rows.length > 0;

        if (that.hasHeadings) {
            that.header = that.head.rows[0];
            that.headings = [].slice.call(that.header.cells);
        }

        // Header
        if (!o.header) {
            if (that.head) {
                that.table.removeChild(that.table.tHead);
            }
        }

        // Footer
        if (o.footer) {
            if (that.head && !that.foot) {
                that.foot = createElement("tfoot", {
                    html: that.head.innerHTML
                });
                that.table.appendChild(that.foot);
            }
        } else {
            if (that.foot) {
                that.table.removeChild(that.table.tFoot);
            }
        }

        // Build
        that.wrapper = createElement("div", {
            class: "dataTable-wrapper dataTable-loading"
        });

        // Template for custom layouts
        template += "<div class='dataTable-top'>";
        template += o.layout.top;
        template += "</div>";
        template += "<div class='dataTable-container'></div>";
        template += "<div class='dataTable-bottom'>";
        template += o.layout.bottom;
        template += "</div>";

        // Info placement
        template = template.replace("{info}", "<div class='dataTable-info'></div>");

        // Per Page Select
        if (o.perPageSelect) {
            var wrap = "<div class='dataTable-dropdown'><label>";
            wrap += o.labels.perPage;
            wrap += "</label></div>";

            // Create the select
            var select = createElement("select", {
                class: "dataTable-selector"
            });

            // Create the options
            each(o.perPageSelect, function (val) {
                var selected = val === o.perPage;
                var option = new Option(val, val, selected, selected);
                select.add(option);
            });

            // Custom label
            wrap = wrap.replace("{select}", select.outerHTML);

            // Selector placement
            template = template.replace("{select}", wrap);
        } else {
            template = template.replace("{select}", "");
        }

        // Searchable
        if (o.searchable) {
            var form =
                "<div class='dataTable-search'><input class='dataTable-input' placeholder='" +
                o.labels.placeholder +
                "' type='text'></div>";

            // Search input placement
            template = template.replace("{search}", form);
        } else {
            template = template.replace("{search}", "");
        }

        if (that.hasHeadings) {
            // Sortable
            this.render("header");
        }

        // Add table class
        classList.add(that.table, "dataTable-table");

        // Paginator
        var w = createElement("div", {
            class: "dataTable-pagination"
        });
        var paginator = createElement("ul");
        w.appendChild(paginator);

        // Pager(s) placement
        template = template.replace(/\{pager\}/g, w.outerHTML);

        that.wrapper.innerHTML = template;

        that.container = that.wrapper.querySelector(".dataTable-container");

        that.pagers = that.wrapper.querySelectorAll(".dataTable-pagination");

        that.label = that.wrapper.querySelector(".dataTable-info");

        // Insert in to DOM tree
        that.table.parentNode.replaceChild(that.wrapper, that.table);
        that.container.appendChild(that.table);

        // Store the table dimensions
        that.rect = that.table.getBoundingClientRect();

        // Convert rows to array for processing
        that.data = [].slice.call(that.body.rows);
        that.activeRows = that.data.slice();
        that.activeHeadings = that.headings.slice();

        // Update
        that.update();

        if (!o.ajax) {
            that.setColumns();
        }

        // Fix height
        this.fixHeight();

        // Fix columns
        that.fixColumns();

        // Class names
        if (!o.header) {
            classList.add(that.wrapper, "no-header");
        }

        if (!o.footer) {
            classList.add(that.wrapper, "no-footer");
        }

        if (o.sortable) {
            classList.add(that.wrapper, "sortable");
        }

        if (o.searchable) {
            classList.add(that.wrapper, "searchable");
        }

        if (o.fixedHeight) {
            classList.add(that.wrapper, "fixed-height");
        }

        if (o.fixedColumns) {
            classList.add(that.wrapper, "fixed-columns");
        }

        that.bindEvents();
    };

    /**
     * Render the page
     * @return {Void}
     */
    proto.renderPage = function () {
        if (this.hasRows && this.totalPages) {
            if (this.currentPage > this.totalPages) {
                this.currentPage = 1;
            }

            // Use a fragment to limit touching the DOM
            var index = this.currentPage - 1,
                frag = doc.createDocumentFragment();

            if (this.hasHeadings) {
                flush(this.header, this.isIE);

                each(this.activeHeadings, function (th) {
                    this.header.appendChild(th);
                }, this);
            }

            each(this.pages[index], function (row) {
                frag.appendChild(this.rows().render(row));
            }, this);

            this.clear(frag);

            this.onFirstPage = this.currentPage === 1;
            this.onLastPage = this.currentPage === this.lastPage;
        } else {
            this.clear();
        }

        // Update the info
        var current = 0,
            f = 0,
            t = 0,
            items;

        if (this.totalPages) {
            current = this.currentPage - 1;
            f = current * this.options.perPage;
            t = f + this.pages[current].length;
            f = f + 1;
            items = !!this.searching ? this.searchData.length : this.data.length;
        }

        if (this.label && this.options.labels.info.length) {
            // CUSTOM LABELS
            var string = this.options.labels.info
                .replace("{start}", f)
                .replace("{end}", t)
                .replace("{page}", this.currentPage)
                .replace("{pages}", this.totalPages)
                .replace("{rows}", items);

            this.label.innerHTML = items ? string : "";
        }

        if (this.currentPage == 1) {
            this.fixHeight();
        }
    };

    /**
     * Render the pager(s)
     * @return {Void}
     */
    proto.renderPager = function () {
        flush(this.pagers, this.isIE);

        if (this.totalPages > 1) {
            var c = "pager",
                frag = doc.createDocumentFragment(),
                prev = this.onFirstPage ? 1 : this.currentPage - 1,
                next = this.onlastPage ? this.totalPages : this.currentPage + 1;

            // first button
            if (this.options.firstLast) {
                frag.appendChild(button(c, 1, this.options.firstText));
            }

            // prev button
            if (this.options.nextPrev) {
                frag.appendChild(button(c, prev, this.options.prevText));
            }

            var pager = this.links;

            // truncate the links
            if (this.options.truncatePager) {
                pager = truncate(
                    this.links,
                    this.currentPage,
                    this.pages.length,
                    this.options.pagerDelta,
                    this.options.ellipsisText
                );
            }

            // active page link
            classList.add(this.links[this.currentPage - 1], "active");

            // append the links
            each(pager, function (p) {
                classList.remove(p, "active");
                frag.appendChild(p);
            });

            classList.add(this.links[this.currentPage - 1], "active");

            // next button
            if (this.options.nextPrev) {
                frag.appendChild(button(c, next, this.options.nextText));
            }

            // first button
            if (this.options.firstLast) {
                frag.appendChild(button(c, this.totalPages, this.options.lastText));
            }

            // We may have more than one pager
            each(this.pagers, function (pager) {
                pager.appendChild(frag.cloneNode(true));
            });
        }
    };

    /**
     * Render the header
     * @return {Void}
     */
    proto.renderHeader = function () {
        var that = this;

        that.labels = [];

        if (that.headings && that.headings.length) {
            each(that.headings, function (th, i) {

                that.labels[i] = th.textContent;

                if (classList.contains(th.firstElementChild, "dataTable-sorter")) {
                    th.innerHTML = th.firstElementChild.innerHTML;
                }

                th.sortable = th.getAttribute("data-sortable") !== "false";

                th.originalCellIndex = i;
                if (that.options.sortable && th.sortable) {
                    var link = createElement("a", {
                        href: "#",
                        class: "dataTable-sorter",
                        html: th.innerHTML
                    });

                    th.innerHTML = "";
                    th.setAttribute("data-sortable", "");
                    th.appendChild(link);
                }
            });
        }

        that.fixColumns();
    };

    /**
     * Bind event listeners
     * @return {[type]} [description]
     */
    proto.bindEvents = function () {
        var that = this,
            o = that.options;

        // Per page selector
        if (o.perPageSelect) {
            var selector = that.wrapper.querySelector(".dataTable-selector");
            if (selector) {
                // Change per page
                on(selector, "change", function (e) {
                    o.perPage = parseInt(this.value, 10);
                    that.update();

                    that.fixHeight();

                    that.emit("datatable.perpage", o.perPage);
                });
            }
        }

        // Search input
        if (o.searchable) {
            that.input = that.wrapper.querySelector(".dataTable-input");
            if (that.input) {
                on(that.input, "keyup", function (e) {
                    that.search(this.value);
                });
            }
        }

        // Pager(s) / sorting
        on(that.wrapper, "click", function (e) {
            var t = e.target;
            if (t.nodeName.toLowerCase() === "a") {
                if (t.hasAttribute("data-page")) {
                    that.page(t.getAttribute("data-page"));
                    e.preventDefault();
                } else if (
                    o.sortable &&
                    classList.contains(t, "dataTable-sorter") &&
                    t.parentNode.getAttribute("data-sortable") != "false"
                ) {
                    that.columns().sort(that.activeHeadings.indexOf(t.parentNode) + 1);
                    e.preventDefault();
                }
            }
        });
    };

    /**
     * Set up columns
     * @return {[type]} [description]
     */
    proto.setColumns = function (ajax) {

        var that = this;

        if (!ajax) {
            each(that.data, function (row) {
                each(row.cells, function (cell) {
                    cell.data = cell.innerHTML;
                });
            });
        }

        // Check for the columns option
        if (that.options.columns && that.headings.length) {

            each(that.options.columns, function (data) {

                // convert single column selection to array
                if (!isArray(data.select)) {
                    data.select = [data.select];
                }

                if (data.hasOwnProperty("render") && typeof data.render === "function") {
                    that.selectedColumns = that.selectedColumns.concat(data.select);

                    that.columnRenderers.push({
                        columns: data.select,
                        renderer: data.render
                    });
                }

                // Add the data attributes to the th elements
                each(data.select, function (column) {
                    var th = that.headings[column];
                    if (data.type) {
                        th.setAttribute("data-type", data.type);
                    }
                    if (data.format) {
                        th.setAttribute("data-format", data.format);
                    }
                    if (data.hasOwnProperty("sortable")) {
                        th.setAttribute("data-sortable", data.sortable);
                    }

                    if (data.hasOwnProperty("hidden")) {
                        if (data.hidden !== false) {
                            that.columns(column).hide();
                        }
                    }

                    if (data.hasOwnProperty("sort") && data.select.length === 1) {
                        that.columns().sort(data.select[0] + 1, data.sort, true);
                    }
                });
            });
        }

        if (that.hasRows) {
            each(that.data, function (row, i) {
                row.dataIndex = i;
                each(row.cells, function (cell) {
                    cell.data = cell.innerHTML;
                });
            });

            if (that.selectedColumns.length) {
                each(that.data, function (row) {
                    each(row.cells, function (cell, i) {
                        if (that.selectedColumns.indexOf(i) > -1) {
                            each(that.columnRenderers, function (o) {
                                if (o.columns.indexOf(i) > -1) {
                                    cell.innerHTML = o.renderer.call(that, cell.data, cell, row);
                                }
                            });
                        }
                    });
                });
            }

            that.columns().rebuild();
        }

        that.render("header");
    };

    /**
     * Destroy the instance
     * @return {void}
     */
    proto.destroy = function () {
        this.table.innerHTML = this.initialLayout;

        // Remove the className
        classList.remove(this.table, "dataTable-table");

        // Remove the containers
        this.wrapper.parentNode.replaceChild(this.table, this.wrapper);

        this.initialized = false;
    };

    /**
     * Update the instance
     * @return {Void}
     */
    proto.update = function () {
        this.paginate(this);
        this.render("page");

        this.links = [];

        var i = this.pages.length;
        while (i--) {
            var num = i + 1;
            this.links[i] = button(i === 0 ? "active" : "", num, num);
        }

        this.sorting = false;

        this.render("pager");

        this.rows().update();

        this.emit("datatable.update");
    };

    /**
     * Sort rows into pages
     * @return {Number}
     */
    proto.paginate = function () {
        var perPage = this.options.perPage,
            rows = this.activeRows;

        if (this.searching) {
            rows = [];

            each(this.searchData, function (index) {
                rows.push(this.activeRows[index]);
            }, this);
        }

        // Check for hidden columns
        this.pages = rows
            .map(function (tr, i) {
                return i % perPage === 0 ? rows.slice(i, i + perPage) : null;
            })
            .filter(function (page) {
                return page;
            });

        this.totalPages = this.lastPage = this.pages.length;

        return this.totalPages;
    };

    /**
     * Fix column widths
     * @return {Void}
     */
    proto.fixColumns = function () {

        if (this.options.fixedColumns && this.activeHeadings && this.activeHeadings.length) {

            var cells,
                hd = false;

            this.columnWidths = [];

            // If we have headings we need only set the widths on them
            // otherwise we need a temp header and the widths need applying to all cells
            if (this.table.tHead) {
                // Reset widths
                each(this.activeHeadings, function (cell) {
                    cell.style.width = "";
                }, this);

                each(this.activeHeadings, function (cell, i) {
                    var ow = cell.offsetWidth;
                    var w = ow / this.rect.width * 100;
                    cell.style.width = w + "%";
                    this.columnWidths[i] = ow;
                }, this);
            } else {
                cells = [];

                // Make temperary headings
                hd = createElement("thead");
                var r = createElement("tr");
                var c = this.table.tBodies[0].rows[0].cells;
                each(c, function () {
                    var th = createElement("th");
                    r.appendChild(th);
                    cells.push(th);
                });

                hd.appendChild(r);
                this.table.insertBefore(hd, this.body);

                var widths = [];
                each(cells, function (cell, i) {
                    var ow = cell.offsetWidth;
                    var w = ow / this.rect.width * 100;
                    widths.push(w);
                    this.columnWidths[i] = ow;
                }, this);

                each(this.data, function (row) {
                    each(row.cells, function (cell, i) {
                        if (this.columns(cell.cellIndex).visible())
                            cell.style.width = widths[i] + "%";
                    }, this);
                }, this);

                // Discard the temp header
                this.table.removeChild(hd);
            }
        }
    };

    /**
     * Fix the container height;
     * @return {Void}
     */
    proto.fixHeight = function () {
    	if (this.options.fixedHeight) {
	        this.container.style.height = null;
	        this.rect = this.container.getBoundingClientRect();
	        this.container.style.height = this.rect.height + "px";
	    }
    };

    /**
     * Perform a search of the data set
     * @param  {string} query
     * @return {void}
     */
    proto.search = function (query) {
        if (!this.hasRows) return false;

        var that = this;

        query = query.toLowerCase();

        this.currentPage = 1;
        this.searching = true;
        this.searchData = [];

        if (!query.length) {
            this.searching = false;
            this.update();
            this.emit("datatable.search", query, this.searchData);
            classList.remove(this.wrapper, "search-results");
            return false;
        }

        this.clear();

        each(this.data, function (row, idx) {
            var inArray = this.searchData.indexOf(row) > -1;

            // https://github.com/Mobius1/Vanilla-DataTables/issues/12
            var doesQueryMatch = query.split(" ").reduce(function (bool, word) {
                var includes = false;

                for (var x = 0; x < row.cells.length; x++) {
                    if (
                        row.cells[x].textContent.toLowerCase().indexOf(word) > -1 &&
                        that.columns(row.cells[x].cellIndex).visible()
                    ) {
                        includes = true;
                        break;
                    }
                }

                return bool && includes;
            }, true);

            if (doesQueryMatch && !inArray) {
                row.searchIndex = idx;
                this.searchData.push(idx);
            } else {
                row.searchIndex = null;
            }
        }, this);

        classList.add(this.wrapper, "search-results");

        if (!that.searchData.length) {
            classList.remove(that.wrapper, "search-results");

            that.setMessage(that.options.labels.noRows);
        } else {
            that.update();
        }

        this.emit("datatable.search", query, this.searchData);
    };

    /**
     * Change page
     * @param  {int} page
     * @return {void}
     */
    proto.page = function (page) {
        // We don't want to load the current page again.
        if (page == this.currentPage) {
            return false;
        }

        if (!isNaN(page)) {
            this.currentPage = parseInt(page, 10);
        }

        if (page > this.pages.length || page < 0) {
            return false;
        }

        this.render("page");
        this.render("pager");

        this.emit("datatable.page", page);
    };

    /**
     * Sort by column
     * @param  {int} column - The column no.
     * @param  {string} direction - asc or desc
     * @return {void}
     */
    proto.sortColumn = function (column, direction) {
        // Use columns API until sortColumn method is removed
        this.columns().sort(column, direction);
    };

    /**
     * Add new row data
     * @param {object} data
     */
    proto.insert = function (data) {

        var that = this,
            rows = [];
        if (isObject(data)) {
            if (data.headings) {
                if (!that.hasHeadings && !that.hasRows) {
                    var tr = createElement("tr"),
                        th;
                    each(data.headings, function (heading) {
                        th = createElement("th", {
                            html: heading
                        });

                        tr.appendChild(th);
                    });
                    that.head.appendChild(tr);

                    that.header = tr;
                    that.headings = [].slice.call(tr.cells);
                    that.hasHeadings = true;

                    // Re-enable sorting if it was disabled due
                    // to missing header
                    that.options.sortable = that.initialSortable;

                    // Allow sorting on new header
                    that.render("header");
                }
            }

            if (data.data && isArray(data.data)) {
                rows = data.data;
            }
        } else if (isArray(data)) {
            each(data, function (row) {
                var r = [];
                each(row, function (cell, heading) {

                    var index = that.labels.indexOf(heading);

                    if (index > -1) {
                        r[index] = cell;
                    }
                });
                rows.push(r);
            });
        }

        if (rows.length) {
            that.rows().add(rows);

            that.hasRows = true;
        }

        that.update();

        that.fixColumns();
    };

    /**
     * Refresh the instance
     * @return {void}
     */
    proto.refresh = function () {
        if (this.options.searchable) {
            this.input.value = "";
            this.searching = false;
        }
        this.currentPage = 1;
        this.onFirstPage = true;
        this.update();

        this.emit("datatable.refresh");
    };

    /**
     * Truncate the table
     * @param  {mixes} html - HTML string or HTMLElement
     * @return {void}
     */
    proto.clear = function (html) {
        if (this.body) {
            flush(this.body, this.isIE);
        }

        var parent = this.body;
        if (!this.body) {
            parent = this.table;
        }

        if (html) {
            if (typeof html === "string") {
                var frag = doc.createDocumentFragment();
                frag.innerHTML = html;
            }

            parent.appendChild(html);
        }
    };

    /**
     * Export table to various formats (csv, txt or sql)
     * @param  {Object} options User options
     * @return {Boolean}
     */
    proto.export = function (options) {
        if (!this.hasHeadings && !this.hasRows) return false;

        var headers = this.activeHeadings,
            rows = [],
            arr = [],
            i,
            x,
            str,
            link;

        var defaults = {
            download: true,
            skipColumn: [],

            // csv
            lineDelimiter: "\n",
            columnDelimiter: ",",

            // sql
            tableName: "myTable",

            // json
            replacer: null,
            space: 4
        };

        // Check for the options object
        if (!isObject(options)) {
            return false;
        }

        var o = extend(defaults, options);

        if (o.type) {
            if (o.type === "txt" || o.type === "csv") {
                // Include headings
                rows[0] = this.header;
            }

            // Selection or whole table
            if (o.selection) {
                // Page number
                if (!isNaN(o.selection)) {
                    rows = rows.concat(this.pages[o.selection - 1]);
                } else if (isArray(o.selection)) {
                    // Array of page numbers
                    for (i = 0; i < o.selection.length; i++) {
                        rows = rows.concat(this.pages[o.selection[i] - 1]);
                    }
                }
            } else {
                rows = rows.concat(this.activeRows);
            }

            // Only proceed if we have data
            if (rows.length) {
                if (o.type === "txt" || o.type === "csv") {
                    str = "";

                    for (i = 0; i < rows.length; i++) {
                        for (x = 0; x < rows[i].cells.length; x++) {
                            // Check for column skip and visibility
                            if (
                                o.skipColumn.indexOf(headers[x].originalCellIndex) < 0 &&
                                this.columns(headers[x].originalCellIndex).visible()
                            ) {
                                str += rows[i].cells[x].textContent + o.columnDelimiter;
                            }
                        }
                        // Remove trailing column delimiter
                        str = str.trim().substring(0, str.length - 1);

                        // Apply line delimiter
                        str += o.lineDelimiter;
                    }

                    // Remove trailing line delimiter
                    str = str.trim().substring(0, str.length - 1);

                    if (o.download) {
                        str = "data:text/csv;charset=utf-8," + str;
                    }
                } else if (o.type === "sql") {
                    // Begin INSERT statement
                    str = "INSERT INTO `" + o.tableName + "` (";

                    // Convert table headings to column names
                    for (i = 0; i < headers.length; i++) {
                        // Check for column skip and column visibility
                        if (
                            o.skipColumn.indexOf(headers[i].originalCellIndex) < 0 &&
                            this.columns(headers[i].originalCellIndex).visible()
                        ) {
                            str += "`" + headers[i].textContent + "`,";
                        }
                    }

                    // Remove trailing comma
                    str = str.trim().substring(0, str.length - 1);

                    // Begin VALUES
                    str += ") VALUES ";

                    // Iterate rows and convert cell data to column values
                    for (i = 0; i < rows.length; i++) {
                        str += "(";

                        for (x = 0; x < rows[i].cells.length; x++) {
                            // Check for column skip and column visibility
                            if (
                                o.skipColumn.indexOf(headers[x].originalCellIndex) < 0 &&
                                this.columns(headers[x].originalCellIndex).visible()
                            ) {
                                str += '"' + rows[i].cells[x].textContent + '",';
                            }
                        }

                        // Remove trailing comma
                        str = str.trim().substring(0, str.length - 1);

                        // end VALUES
                        str += "),";
                    }

                    // Remove trailing comma
                    str = str.trim().substring(0, str.length - 1);

                    // Add trailing colon
                    str += ";";

                    if (o.download) {
                        str = "data:application/sql;charset=utf-8," + str;
                    }
                } else if (o.type === "json") {
                    // Iterate rows
                    for (x = 0; x < rows.length; x++) {
                        arr[x] = arr[x] || {};
                        // Iterate columns
                        for (i = 0; i < headers.length; i++) {
                            // Check for column skip and column visibility
                            if (
                                o.skipColumn.indexOf(headers[i].originalCellIndex) < 0 &&
                                this.columns(headers[i].originalCellIndex).visible()
                            ) {
                                arr[x][headers[i].textContent] = rows[x].cells[i].textContent;
                            }
                        }
                    }

                    // Convert the array of objects to JSON string
                    str = JSON.stringify(arr, o.replacer, o.space);

                    if (o.download) {
                        str = "data:application/json;charset=utf-8," + str;
                    }
                }

                // Download
                if (o.download) {
                    // Filename
                    o.filename = o.filename || "datatable_export";
                    o.filename += "." + o.type;

                    str = encodeURI(str);

                    // Create a link to trigger the download
                    link = document.createElement("a");
                    link.href = str;
                    link.download = o.filename;

                    // Append the link
                    body.appendChild(link);

                    // Trigger the download
                    link.click();

                    // Remove the link
                    body.removeChild(link);
                }

                return str;
            }
        }

        return false;
    };

    /**
     * Import data to the table
     * @param  {Object} options User options
     * @return {Boolean}
     */
    proto.import = function (options) {
        var obj = false;
        var defaults = {
            // csv
            lineDelimiter: "\n",
            columnDelimiter: ","
        };

        // Check for the options object
        if (!isObject(options)) {
            return false;
        }

        options = extend(defaults, options);

        if (options.data.length || isObject(options.data)) {
            // Import CSV
            if (options.type === "csv") {
                obj = {
                    data: []
                };

                // Split the string into rows
                var rows = options.data.split(options.lineDelimiter);

                if (rows.length) {

                    if (options.headings) {
                        obj.headings = rows[0].split(options.columnDelimiter);

                        rows.shift();
                    }

                    each(rows, function (row, i) {
                        obj.data[i] = [];

                        // Split the rows into values
                        var values = row.split(options.columnDelimiter);

                        if (values.length) {
                            each(values, function (value) {
                                obj.data[i].push(value);
                            });
                        }
                    });
                }
            } else if (options.type === "json") {
                var json = isJson(options.data);

                // Valid JSON string
                if (json) {
                    obj = {
                        headings: [],
                        data: []
                    };

                    each(json, function (data, i) {
                        obj.data[i] = [];
                        each(data, function (value, column) {
                            if (obj.headings.indexOf(column) < 0) {
                                obj.headings.push(column);
                            }

                            obj.data[i].push(value);
                        });
                    });
                } else {
                    console.warn("That's not valid JSON!");
                }
            }

            if (isObject(options.data)) {
                obj = options.data;
            }

            if (obj) {
                // Add the rows
                this.insert(obj);
            }
        }

        return false;
    };
    /**
     * Print the table
     * @return {void}
     */
    proto.print = function () {
        var headings = this.activeHeadings;
        var rows = this.activeRows;
        var table = createElement("table");
        var thead = createElement("thead");
        var tbody = createElement("tbody");

        var tr = createElement("tr");
        each(headings, function (th) {
            tr.appendChild(
                createElement("th", {
                    html: th.textContent
                })
            );
        });

        thead.appendChild(tr);

        each(rows, function (row) {
            var tr = createElement("tr");
            each(row.cells, function (cell) {
                tr.appendChild(
                    createElement("td", {
                        html: cell.textContent
                    })
                );
            });
            tbody.appendChild(tr);
        });

        table.appendChild(thead);
        table.appendChild(tbody);

        // Open new window
        var w = win.open();

        // Append the table to the body
        w.document.body.appendChild(table);

        // Print
        w.print();
    };

    /**
     * Show a message in the table
     * @param {string} message
     */
    proto.setMessage = function (message) {
        var colspan = 1;

        if (this.hasRows) {
            colspan = this.data[0].cells.length;
        }

        this.clear(
            createElement("tr", {
                html: '<td class="dataTables-empty" colspan="' +
                    colspan +
                    '">' +
                    message +
                    "</td>"
            })
        );
    };

    /**
     * Columns API access
     * @return {Object} new Columns instance
     */
    proto.columns = function (columns) {
        return new Columns(this, columns);
    };

    /**
     * Rows API access
     * @return {Object} new Rows instance
     */
    proto.rows = function (rows) {
        return new Rows(this, rows);
    };

    /**
     * Add custom event listener
     * @param  {String} event
     * @param  {Function} callback
     * @return {Void}
     */
    proto.on = function (event, callback) {
        this.events = this.events || {};
        this.events[event] = this.events[event] || [];
        this.events[event].push(callback);
    };

    /**
     * Remove custom event listener
     * @param  {String} event
     * @param  {Function} callback
     * @return {Void}
     */
    proto.off = function (event, callback) {
        this.events = this.events || {};
        if (event in this.events === false) return;
        this.events[event].splice(this.events[event].indexOf(callback), 1);
    };

    /**
     * Fire custom event
     * @param  {String} event
     * @return {Void}
     */
    proto.emit = function (event) {
        this.events = this.events || {};
        if (event in this.events === false) return;
        for (var i = 0; i < this.events[event].length; i++) {
            this.events[event][i].apply(this, Array.prototype.slice.call(arguments, 1));
        }
    };

    return DataTable;
});
});

function createTableDOM(data, opts, config) {
  var num = config.num,
      denum = config.denum,
      ratio = config.ratio,
      my_region = config.my_region;

  var options = opts || {};
  options.id = options.id || 'myTable';
  var doc = document;
  var nb_features = data.length;
  var column_names = Object.getOwnPropertyNames(data[0]);
  var nb_columns = column_names.length;
  var myTable = doc.createElement('table');
  var headers = doc.createElement('thead');
  var body = doc.createElement('tbody');
  var headers_row = doc.createElement('tr');
  for (var i = 0; i < nb_columns; i++) {
    var cell = doc.createElement('th');
    var col_name = column_names[i];
    if (num.indexOf(col_name) > -1) {
      cell.innerHTML = 'Num<br><span class="small">' + col_name;
    } else if (denum.indexOf(col_name) > -1) {
      cell.innerHTML = 'Denum<br><span class="small">' + col_name;
    } else if (ratio.indexOf(col_name) > -1) {
      cell.innerHTML = 'Ratio<br><span class="small">' + col_name;
    } else if (col_name === 'rang') {
      cell.innerHTML = 'Rang ';
    } else {
      cell.innerHTML = col_name;
    }
    headers_row.appendChild(cell);
  }
  headers.appendChild(headers_row);
  myTable.appendChild(headers);
  for (var _i = 0; _i < nb_features; _i++) {
    var row = doc.createElement('tr');
    row.id = 'row_' + data[_i].id;
    if (data[_i].id === my_region) {
      row.className = color_highlight;
    }
    for (var j = 0; j < nb_columns; j++) {
      var _cell = doc.createElement('td');
      var _col_name = column_names[j];
      if (_col_name === 'num' || _col_name === 'denum' || _col_name === 'ratio') {
        _cell.innerHTML = Math.round(data[_i][_col_name] * 100) / 10;
      } else {
        _cell.innerHTML = data[_i][_col_name];
      }
      row.appendChild(_cell);
    }
    body.appendChild(row);
  }
  myTable.appendChild(body);
  myTable.setAttribute('id', options.id);
  return myTable;
}

function makeTable(data_no_empty, config) {
  d3.select('.dataTable-wrapper').remove();
  var table = createTableDOM(data_no_empty, undefined, config);
  document.querySelector('#map_section').appendChild(table);
  var dataTable = new vanillaDataTables('#myTable');
  var t = document.querySelector('.dataTable-wrapper');
  t.style.marginTop = '20px';
  t.style.display = 'none';
  t.style.fontSize = '0.7em';
  t.querySelector('.dataTable-top').remove();
  Array.prototype.slice.call(t.querySelectorAll('span.small')).forEach(function (el) {
    el.onclick = function () {
      el.parentElement.click();
    }; // eslint-disable-line no-param-reassign
  });
}

function prepare_dataset(full_dataset, app$$1) {
  app$$1.full_dataset = full_dataset;
  // Create an Object feature_id ->  feature_name for easier lookup:
  app$$1.feature_names = {};
  full_dataset.forEach(function (elem) {
    app$$1.feature_names[elem.geo] = elem.Nom;
  });
}

/**
* Attach the full_dataset Array to the app Object and create a dictionnary
* allowing to obtain territorial units name from their Id.
*
* @param {Object} app - The variable containing the global parameters about
*   the current state of the application.
* @return {Array} - The filtered data, containing only the requested variables
*   for the feature of the current study zone,
*    without features containing empty ratios.
*
*/
function filterLevelVar(app$$1, filter_id) {
  // Fetch the name(s) of the ratio (and associated num and denum variable),
  // the name of the targeted region and the current level :
  var _app$current_config = app$$1.current_config,
      num = _app$current_config.num,
      denum = _app$current_config.denum,
      ratio = _app$current_config.ratio,
      current_level = _app$current_config.current_level,
      id_field = _app$current_config.id_field,
      filter_key = _app$current_config.filter_key,
      name_field = _app$current_config.name_field,
      my_region = _app$current_config.my_region;


  var all_variables = ratio.concat(num).concat(denum);

  // Prepare the data:
  var temp = void 0;
  if (filter_id) {
    temp = app$$1.full_dataset.filter(function (ft) {
      return +ft.level === current_level && filter_id.indexOf(ft[id_field]) > -1;
    });
  } else if (filter_key) {
    var my_category = app$$1.full_dataset.filter(function (ft) {
      return ft[id_field] === my_region;
    })[0][filter_key];
    temp = app$$1.full_dataset.filter(function (ft) {
      return +ft.level === current_level && ft[filter_key] === my_category;
    });
  } else {
    temp = app$$1.full_dataset.filter(function (ft) {
      return +ft.level === current_level;
    });
  }
  temp = temp.map(function (ft) {
    var props_feature = {
      id: ft[id_field],
      name: ft[name_field]
    };
    for (var i = 0, len_i = all_variables.length; i < len_i; i++) {
      props_feature[all_variables[i]] = +ft[all_variables[i]];
    }
    return props_feature;
  });

  // // Filter data for empty values :
  // const filtered_data = temp.filter(
  //   ft => ratio.map(v => !!ft[v]).every(v => v === true));

  //
  app$$1.current_data = temp;
  // Store the ids and the ranks of the current features in two arrays for easier acces:
  app$$1.current_ids = temp.map(function (d) {
    return d.id;
  });

  // Compute the ratio of available values ("complétude") within
  // the study zone selected by the user:
  // app.completude = math_round((filtered_data.length / temp.length) * 1000) / 10;
  // return filtered_data;
}

/**
* Set and apply a new filter (ie. restrict the study zone) on the dataset to be used.
*
* @param {String} filter_type - The name of the filter to use.
* @return {void}
*
*/
function applyFilter(app$$1, filter_type) {
  if (filter_type === 'filter_FR') {
    app$$1.current_config.filter_key = 'PAYS';
    filterLevelVar(app$$1);
  } else if (filter_type === 'no_filter') {
    app$$1.current_config.filter_key = undefined;
    filterLevelVar(app$$1);
  } else {
    app$$1.current_config.filter_key = 'type_test';
    filterLevelVar(app$$1);
  }

  app$$1.colors = {};
  app$$1.colors[app$$1.current_config.my_region] = color_highlight;
}

// TODO : Doc
function changeRegion(app$$1, id_region) {
  app$$1.current_config.my_region = id_region;
  app$$1.current_config.my_region_pretty_name = app$$1.feature_names[app$$1.current_config.my_region];
  if (app$$1.current_config.filter_key !== undefined) {
    filterLevelVar(app$$1);
  }
  console.log(app$$1);
  // Reset the color to use on the chart/map:
  app$$1.colors = {};
  app$$1.colors[app$$1.current_config.my_region] = color_highlight;
}

function addVariable(app$$1, code_ratio) {
  var variable_info = variables.filter(function (d) {
    return d.ratio === code_ratio;
  })[0];
  app$$1.colors = {};
  app$$1.colors[app$$1.current_config.my_region] = color_highlight;
  app$$1.current_config.num.push(variable_info.num);
  app$$1.current_config.denum.push(variable_info.denum);
  app$$1.current_config.ratio.push(variable_info.ratio);
  app$$1.current_config.ratio_pretty_name.push(variable_info.name);
  filterLevelVar(app$$1);
}

function removeVariable(app$$1, code_ratio) {
  var ix = app$$1.current_config.ratio.indexOf(code_ratio);
  app$$1.current_config.num.splice(ix, 1);
  app$$1.current_config.denum.splice(ix, 1);
  app$$1.current_config.ratio.splice(ix, 1);
  app$$1.current_config.ratio_pretty_name.splice(ix, 1);
  filterLevelVar(app$$1);
}

// TODO:



// Compute the total population stock of the data (within the "study zone" if any):

// Compute the population stock of the dataset if we filter empty features
// on all the variables of "vars":

/* eslint-enable no-param-reassign */

var svg_map = d3.select('svg#svg_map');
var margin_map = { top: 0, right: 0, bottom: 0, left: 0 };
var width_map = +svg_map.attr('width') - margin_map.left - margin_map.right;
var height_map = +svg_map.attr('height') - margin_map.top - margin_map.bottom;

var styles = {
  template: { id: 'template', fill: 'rgb(247, 252, 254)', 'fill-opacity': 1 },
  countries: { id: 'countries', fill: 'rgb(214, 214, 214)', 'fill-opacity': 1, 'stroke-width': 0.5, stroke: '#ffffff' },
  seaboxes: { id: 'seaboxes', fill: '#e0faff', 'fill-opacity': 1, stroke: 'black', 'stroke-width': 0.2 },
  remote: { id: 'remote', fill: 'rgb(214, 214, 214)', 'fill-opacity': 1, 'stroke-width': 0.5, stroke: '#ffffff' },
  seaboxes2: { id: 'seaboxes2', fill: 'none', stroke: 'black', 'stroke-width': 0.8 },
  nuts1: { id: 'nuts1', 'fill-opacity': 1, 'stroke-width': 0.5, stroke: '#ffffff' }
};

var projection = void 0;
var path = void 0;

function get_bbox_layer_path(name) {
  var bbox_layer = [[Infinity, Infinity], [-Infinity, -Infinity]];
  svg_map.select('#' + name).selectAll('path').each(function (d) {
    var bbox_path = path.bounds(d.geometry);
    bbox_layer[0][0] = bbox_path[0][0] < bbox_layer[0][0] ? bbox_path[0][0] : bbox_layer[0][0];
    bbox_layer[0][1] = bbox_path[0][1] < bbox_layer[0][1] ? bbox_path[0][1] : bbox_layer[0][1];
    bbox_layer[1][0] = bbox_path[1][0] > bbox_layer[1][0] ? bbox_path[1][0] : bbox_layer[1][0];
    bbox_layer[1][1] = bbox_path[1][1] > bbox_layer[1][1] ? bbox_path[1][1] : bbox_layer[1][1];
  });
  return bbox_layer;
}

function fitLayer() {
  projection.scale(1).translate([0, 0]);
  var b = get_bbox_layer_path('template');
  var s = 1 / Math.max((b[1][0] - b[0][0]) / width_map, (b[1][1] - b[0][1]) / height_map);
  var t = [(width_map - s * (b[1][0] + b[0][0])) / 2, (height_map - s * (b[1][1] + b[0][1])) / 2];
  projection.scale(s).translate(t);
  svg_map.selectAll('path').attr('d', path);
}

function map_zoomed() {
  var transform = d3.event.transform;
  if (transform.k === 1) {
    transform.x = 0;
    transform.y = 0;
  }
  var layers = svg_map.select('#layers');
  var t = layers.selectAll('g').transition().duration(225);

  layers.selectAll('g').transition(t).style('stroke-width', function () {
    return styles[this.id]['stroke-width'] / transform.k + 'px';
  });

  layers.selectAll('g').transition(t).attr('transform', transform);

  svg_map.select('.brush_map').transition(t).attr('transform', transform);
}

var MapSelect = function () {
  function MapSelect(nuts1, countries, remote, template, seaboxes) {
    classCallCheck(this, MapSelect);

    projection = d3.geoIdentity().fitExtent([[0, 0], [width_map, height_map]], template).reflectY(true);

    path = d3.geoPath().projection(projection);
    var layers = svg_map.append('g').attr('id', 'layers');

    this.zoom_map = d3.zoom().scaleExtent([1, 5]).translateExtent([[0, 0], [width_map, height_map]]).on('zoom', map_zoomed);

    svg_map.call(this.zoom_map);

    layers.append('g').attrs(styles.template).selectAll('path').data(template.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs(styles.countries).attr('id', 'countries').selectAll('path').data(countries.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs(styles.seaboxes).selectAll('path').data(seaboxes.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs(styles.remote).selectAll('path').data(remote.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs(styles.seaboxes2).selectAll('path').data(seaboxes.features).enter().append('path').attrs({ d: path });

    this.target_layer = layers.append('g').attrs(styles.nuts1);
    this.target_layer.selectAll('path').data(nuts1.features).enter().append('path').attr('fill', function (d) {
      return d.properties[app.current_config.id_field_geom] !== app.current_config.my_region ? color_countries : color_highlight;
    }).attr('d', path);
    app.type_path = getSvgPathType(this.target_layer.select('path').node().getAttribute('d'));
    fitLayer();
    prepareTooltip(svg_map);
    this.bindTooltip();
  }

  createClass(MapSelect, [{
    key: 'resetColors',
    value: function resetColors() {
      var id_field_geom = app.current_config.id_field_geom;
      this.target_layer.selectAll('path').attr('fill', function (d) {
        return app.current_ids.indexOf(d.properties[id_field_geom]) > -1 ? app.colors[d.properties[id_field_geom]] || color_countries : color_disabled;
      });
    }
  }, {
    key: 'bindTooltip',
    value: function bindTooltip() {
      this.target_layer.selectAll('path').on('mouseover', function () {
        svg_map.select('.tooltip').style('display', null);
      }).on('mouseout', function () {
        svg_map.select('.tooltip').style('display', 'none');
      }).on('mousemove', function (d) {
        var tooltip = svg_map.select('.tooltip');
        tooltip.select('text.id_feature').text('' + d.properties[app.current_config.id_field_geom]);
        var _ix = void 0,
            nb_val = void 0;
        for (_ix = 0, nb_val = Math.min(app.current_config.ratio.length, 5); _ix < nb_val; _ix++) {
          tooltip.select('text.value_feature' + (_ix + 1)).text(app.current_config.ratio_pretty_name[_ix] + ': ' + math_round(d.properties[app.current_config.ratio[_ix]] * 10) / 10);
        }
        tooltip.attr('transform', 'translate(' + [d3.mouse(this)[0] - 5, d3.mouse(this)[1] - 45 - _ix * 12] + ')');
      });
    }
  }, {
    key: 'resetZoom',
    value: function resetZoom() {
      svg_map.transition().duration(250).call(this.zoom_map.transform, d3.zoomIdentity);
    }
  }, {
    key: 'updateLegend',
    value: function updateLegend() {
      d3.select('#svg_legend > g > .legend > text').text('Ma r\xE9gion : ' + app.current_config.my_region_pretty_name);
    }
  }, {
    key: 'removeRectBrush',
    value: function removeRectBrush() {
      svg_map.select('.brush_map').call(this.brush_map.move, null);
    }
  }, {
    key: 'callBrush',
    value: function callBrush(selection) {
      svg_map.select('.brush_map').call(this.brush_map.move, selection);
    }
  }, {
    key: 'bindBrush',
    value: function bindBrush(chart) {
      this.brush_map = d3.brush().extent([[0, 0], [width_map, height_map]]).on('start brush', function () {
        chart.handle_brush_map(d3.event);
      });
      svg_map.append('g').attr('class', 'brush_map').call(this.brush_map);
    }
  }, {
    key: 'unbindBrush',
    value: function unbindBrush() {
      this.brush_map = null;
      svg_map.select('.brush_map').remove();
    }
  }]);
  return MapSelect;
}();

function makeSourceSection() {
  var text_zone = d3.select('#svg_legend').append('text').attrs({ y: 32.5, 'text-anchor': 'end' }).style('font-size', '11px').style('font-family', '\'Signika\', sans-serif');
  text_zone.append('tspan').attrs({ x: 470, dy: 12 }).text('Niveau régional : NUTS 1 (version 2016)');
  text_zone.append('tspan').attrs({ x: 470, dy: 12 }).text('Origine des données : Eurostat, 2016');
  text_zone.append('tspan').attrs({ x: 470, dy: 12 }).text('Limite administrative: UMS RIATE, CC-BY-SA');
}

function makeMapLegend() {
  var legend_elems = [{ color: color_highlight, text: 'Ma r\xE9gion : ' + app.current_config.my_region_pretty_name }, { color: color_countries, text: 'Autres régions du filtre de comparaison' }, { color: color_sup, text: 'Rang plus élevé que ma région' }, { color: color_inf, text: 'Rang moins élevé que ma région' }];

  var rect_size = 14;
  var spacing = 4;
  var lgd_height = rect_size + spacing;
  var offset = lgd_height * legend_elems.length / 2;

  var grp_lgd = d3.select('#svg_legend').append('g').attr('transform', 'translate(50, 40)').styles({ 'font-size': '11px', 'font-family': '\'Signika\', sans-serif' });

  var legends = grp_lgd.selectAll('.legend').data(legend_elems).enter().append('g').attr('class', 'legend').attr('transform', function (d, i) {
    var tx = -2 * rect_size;
    var ty = i * lgd_height - offset;
    return 'translate(' + [tx, ty] + ')';
  });

  legends.append('rect').attrs({ width: rect_size, height: rect_size }).styles(function (d) {
    return { fill: d.color, stroke: d.color };
  });

  legends.append('text').attrs({ x: rect_size + spacing, y: rect_size - spacing }).text(function (d) {
    return d.text;
  });
}

var svg_bar = d3.select('svg#svg_bar');
var margin = { top: 10, right: 20, bottom: 100, left: 40 };
var margin2 = { top: 430, right: 20, bottom: 15, left: 40 };
var width = +svg_bar.attr('width') - margin.left - margin.right;
var height = +svg_bar.attr('height') - margin.top - margin.bottom;
var height2 = +svg_bar.attr('height') - margin2.top - margin2.bottom;

var nbFt = void 0;
var current_range_brush = [0, 0];
var current_range = [0, 0];
var displayed = void 0;

function getMeanRank(mean_value, ratio_to_use) {
  var mean_rank = app.current_data.map(function (d, i) {
    return [d[ratio_to_use], math_abs(mean_value - d[ratio_to_use]), i];
  });
  mean_rank.sort(function (a, b) {
    return a[1] - b[1];
  });
  mean_rank = mean_rank[0];
  if (mean_rank[1] > mean_value) {
    mean_rank = mean_rank[2] - 1;
  } else {
    mean_rank = mean_rank[2];
  }
  return mean_rank;
}

var BarChart1 = function () {
  function BarChart1(ref_data) {
    var _this = this;

    classCallCheck(this, BarChart1);

    this.brushed = function () {
      if (d3.event.sourceEvent && d3.event.sourceEvent.type === 'zoom') return; // ignore brush-by-zoom
      if (!_this.x) {
        console.log('a');return;
      }
      var s = d3.event.selection || _this.x2.range();
      current_range = [math_round(s[0] / (width / nbFt)), math_round(s[1] / (width / nbFt))];
      _this.x.domain(_this.data.slice(current_range[0], current_range[1]).map(function (ft) {
        return ft.id;
      }));
      svg_bar.select('.zoom').call(_this.zoom.transform, d3.zoomIdentity.scale(width / (current_range[1] - current_range[0])).translate(-current_range[0], 0));
      _this.update();
      _this.updateContext(current_range[0], current_range[1]);
      svg_bar.select('.brush_top').call(_this.brush_top.move, null);
      _this.brushed_top();
    };

    this.brushed_top = function () {
      if (!_this._focus) {
        console.log('b');return;
      }
      if (!_this.map_elem) {
        console.log('c');return;
      }
      var d3_event = d3.event;
      var ratio_to_use = _this.ratio_to_use;
      var ref_value = _this.ref_value;
      if (d3_event && d3_event.selection && d3_event.sourceEvent && d3_event.sourceEvent.target === document.querySelector('.brush_top > rect.overlay')) {
        _this.map_elem.removeRectBrush();
        var s = d3_event.selection;
        current_range_brush = [current_range[0] + math_round(s[0] / (width / displayed)) - 1, current_range[0] + math_round(s[1] / (width / displayed))];
        _this.x.domain(_this.data.slice(current_range_brush[0] + 1, current_range_brush[1]).map(function (ft) {
          return ft.id;
        }));
        app.colors = {};
        _this._focus.selectAll('.bar').style('fill', function (d, i) {
          if (d.id === app.current_config.my_region) {
            app.colors[d.id] = color_highlight;
            return color_highlight;
          } else if (i > current_range_brush[0] && i < current_range_brush[1]) {
            var color = comp(d[ratio_to_use], ref_value, _this.serie_inversed);
            app.colors[d.id] = color;
            return color;
          }
          return color_countries;
        });
        _this.updateMapRegio();
      } else {
        if (d3_event && !d3_event.selection && d3_event.sourceEvent && d3_event.sourceEvent.detail !== undefined) {
          _this.map_elem.removeRectBrush();
          app.colors = {};
          app.colors[app.current_config.my_region] = color_highlight;
          _this.updateMapRegio();
        }
        _this._focus.selectAll('.bar').style('fill', function (d) {
          return app.colors[d.id] || color_countries;
        });
      }
    };
    var x = d3.scaleBand().range([0, width]).padding(0.1),
        x2 = d3.scaleBand().range([0, width]).padding(0.1),
        y = d3.scaleLinear().range([height, 0]),
        y2 = d3.scaleLinear().range([height2, 0]);

    var xAxis = d3.axisBottom(x);
    var xAxis2 = d3.axisBottom(x2);
    var yAxis = d3.axisLeft(y);

    this.x = x;
    this.x2 = x2;
    this.y = y;
    this.y2 = y2;
    this.xAxis = xAxis;
    this.yAxis = yAxis;
    this.xAxis2 = xAxis2;
    var self = this;
    var available_ratios = app.current_config.ratio;
    var ratio_to_use = available_ratios[0];
    this.ratio_to_use = ratio_to_use;

    this.data = ref_data.filter(function (ft) {
      return !!ft[ratio_to_use];
    });
    this.data.sort(function (a, b) {
      return a[ratio_to_use] - b[ratio_to_use];
    });
    this.current_ids = this.data.map(function (d) {
      return d.id;
    });
    this.current_ranks = this.data.map(function (d, i) {
      return i + 1;
    });
    nbFt = this.data.length;
    this.mean_value = d3.mean(this.data.map(function (d) {
      return d[ratio_to_use];
    }));
    this.ref_value = this.data.filter(function (ft) {
      return ft.id === app.current_config.my_region;
    })[0][ratio_to_use];
    svg_bar.append('defs').append('clipPath').attr('id', 'clip').append('rect').attrs({ width: width, height: height });

    var focus = svg_bar.append('g').attrs({
      class: 'focus',
      transform: 'translate(' + margin.left + ', ' + margin.top + ')'
    });

    var context = svg_bar.append('g').attrs({
      class: 'context',
      transform: 'translate(' + margin2.left + ', ' + margin2.top + ')'
    });

    this._focus = focus;
    this.context = context;

    x.domain(this.data.map(function (ft) {
      return ft.id;
    }));
    y.domain([d3.min(this.data, function (d) {
      return d[ratio_to_use];
    }) - 2, d3.max(this.data, function (d) {
      return d[ratio_to_use];
    })]);
    x2.domain(x.domain());
    y2.domain(y.domain());

    var brush_bottom = d3.brushX().extent([[0, 0], [width, height2]]).on('brush end', this.brushed);

    var brush_top = d3.brushX().extent([[0, 0], [width, height]]).on('brush end', this.brushed_top);

    var zoom = d3.zoom().scaleExtent([1, Infinity]).translateExtent([[0, 0], [width, height]]).extent([[0, 0], [width, height]]);
    // .on("zoom", zoomed);
    this.brush_top = brush_top;
    this.brush_bottom = brush_bottom;
    this.zoom = zoom;

    focus.append('g').attrs({ class: 'axis axis--x', transform: 'translate(0, ' + height + ')' }).call(xAxis);

    focus.select('.axis--x').selectAll('text').style('text-anchor', 'end').attrs({ dx: '-0.8em', dy: '0.15em', transform: 'rotate(-65)' });

    focus.append('g').attr('class', 'axis axis--y').call(yAxis);

    this.g_bar = focus.append('g');

    var groupe_line_mean = focus.append('g').attr('class', 'mean');
    groupe_line_mean.append('text').attrs({ x: 60, y: y(this.mean_value) + 20 }).styles({
      display: 'none',
      fill: 'red',
      'fill-opacity': '0.8',
      'font-family': '\'Signika\', sans-serif'
    }).text('Valeur moyenne : ' + Math.round(this.mean_value * 10) / 10);

    groupe_line_mean.append('line').attrs({
      x1: 0,
      x2: width,
      y1: y(this.mean_value),
      y2: y(this.mean_value),
      'stroke-dasharray': '10, 5',
      'stroke-width': '2px',
      class: 'mean_line'
    }).style('stroke', 'red');

    groupe_line_mean.append('line').attrs({ x1: 0, x2: width, y1: y(this.mean_value), y2: y(this.mean_value), 'stroke-width': '14px', class: 'transp_mean_line' }).style('stroke', 'transparent').on('mouseover', function () {
      groupe_line_mean.select('text').style('display', 'initial');
    }).on('mouseout', function () {
      groupe_line_mean.select('text').style('display', 'none');
    });

    this.updateMiniBars();

    context.append('g').attr('class', 'brush_bottom').call(brush_bottom).call(brush_bottom.move, x.range());

    focus.append('g').attr('class', 'brush_top').call(brush_top).call(brush_top.move, null);

    this.completude = svg_bar.append('text').attrs({ id: 'chart_completude', x: 60, y: 40 }).styles({ 'font-family': '\'Signika\', sans-serif' }).text('Compl\xE9tude : ' + app.completude + '%');

    svg_bar.append('image').attrs({
      x: width + margin.left + 5,
      y: 385,
      width: 15,
      height: 15,
      'xlink:href': 'img/reverse_blue.png',
      id: 'img_reverse'
    }).on('click', function () {
      // this.data = app.current_data.slice();
      if (!_this.serie_inversed) {
        _this.data.sort(function (a, b) {
          return b[_this.ratio_to_use] - a[_this.ratio_to_use];
        });
      } else {
        _this.data.sort(function (a, b) {
          return a[_this.ratio_to_use] - b[_this.ratio_to_use];
        });
      }
      _this.serie_inversed = !_this.serie_inversed;
      x.domain(_this.data.slice(current_range[0], current_range[1]).map(function (ft) {
        return ft.id;
      }));
      x2.domain(_this.data.map(function (ft) {
        return ft.id;
      }));
      // svg_bar.select(".zoom").call(zoom.transform, d3.zoomIdentity
      //     .scale(width / (current_range[1] - current_range[0]))
      //     .translate(-current_range[0], 0));
      _this.update();
      // this.updateMiniBars();
      _this.updateContext(current_range[0], current_range[1]);
      svg_bar.select('.brush_top').call(brush_top.move, null);
      _this.map_elem.removeRectBrush();
      svg_bar.select('.brush_bottom').call(brush_bottom.move, x.range());
    });

    // Prepare the tooltip displayed on mouseover:
    var tooltip = prepareTooltip(svg_bar);

    // Deactivate the brush rect selection on the map + on the chart
    // when he user press the Ctrl key:
    document.onkeydown = function (event) {
      if (event && event.key === 'Control') {
        svg_bar.select('.brush_top').selectAll('.selection, .overlay').style('display', 'none');
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', 'none');
      }
    };
    document.onkeyup = function (event) {
      if (event && event.key === 'Control') {
        svg_bar.select('.brush_top').selectAll('.selection, .overlay').style('display', null);
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', null);
      }
    };

    //
    var header_bar_section = d3.select('#header_chart');

    this.selec_var = header_bar_section.insert('select', '#img_table').attrs({ class: 'title_variable' }).styles({
      'font-family': '\'Signika\', sans-serif',
      'font-weight': '800',
      'font-size': '14px',
      'margin-top': '12px',
      'margin-left': '40px',
      float: 'left'
    });

    for (var i = 0, len_i = available_ratios.length; i < len_i; i++) {
      this.selec_var.append('option').attr('value', available_ratios[i]).text(app.current_config.ratio_pretty_name[i]);
    }

    this.selec_var.on('change', function () {
      var code_variable = this.value;
      self.changeVariable(code_variable);
      self.changeStudyZone();
      self.updateCompletude();
    });

    // Create the menu under the chart allowing to use some useful selections
    // (above or below the mean value and above or below my_region)
    var buttons_under_chart = d3.select('#bar_section').append('div').attr('id', 'buttons_under_chart').styles({ padding: '0 10px 10px 10px', 'text-align': 'center' });

    buttons_under_chart.append('button').attrs({ class: 'button_blue', id: 'btn_above_mean' }).text('< à la moyenne').on('click', function () {
      return _this.selectBelowMean();
    });

    buttons_under_chart.append('button').attrs({ class: 'button_blue', id: 'btn_below_mean' }).text('> à la moyenne').on('click', function () {
      return _this.selectAboveMean();
    });

    buttons_under_chart.append('button').attrs({ class: 'button_blue', id: 'btn_above_my_region' }).text('< à ma région').on('click', function () {
      return _this.selectBelowMyRegion();
    });

    buttons_under_chart.append('button').attrs({ class: 'button_blue', id: 'btn_below_my_region' }).text('> à ma région').on('click', function () {
      return _this.selectAboveMyRegion();
    });
  }

  createClass(BarChart1, [{
    key: 'updateCompletude',
    value: function updateCompletude() {
      this.completude.text('Compl\xE9tude : ' + app.completude + '%');
    }
  }, {
    key: 'updateContext',
    value: function updateContext(min, max) {
      this.context.selectAll('.bar').style('fill-opacity', function (_, i) {
        return i >= min && i < max ? '1' : '0.3';
      });
    }
  }, {
    key: 'update',
    value: function update() {
      var _this2 = this;

      displayed = 0;
      var ratio_to_use = this.ratio_to_use;
      var self = this;
      var bar = this.g_bar.selectAll('.bar').data(this.data);

      bar.attrs(function (d) {
        return {
          x: _this2.x(d.id),
          y: _this2.y(d[ratio_to_use]),
          width: _this2.x.bandwidth(),
          height: height - _this2.y(d[ratio_to_use])
        };
      }).style('fill', function (d) {
        return app.colors[d.id] || color_countries;
      }).style('display', function (d) {
        var to_display = _this2.x(d.id) != null;
        if (to_display) {
          displayed += 1;
          return 'initial';
        }
        return 'none';
      }).on('mouseover', function () {
        svg_bar.select('.tooltip').style('display', null);
      }).on('mouseout', function () {
        svg_bar.select('.tooltip').style('display', 'none');
      }).on('mousemove', function (d) {
        var tooltip = svg_bar.select('.tooltip');
        tooltip.select('text.id_feature').text('' + d.id);
        tooltip.select('text.value_feature1').text('' + math_round(d[self.ratio_to_use] * 10) / 10);
        tooltip.attr('transform', 'translate(' + [d3.mouse(this)[0] - 5, d3.mouse(this)[1] - 45] + ')');
      });

      bar.enter().insert('rect', '.mean').attr('class', 'bar').attrs(function (d) {
        return {
          x: _this2.x(d.id),
          y: _this2.y(d[ratio_to_use]),
          width: _this2.x.bandwidth(),
          height: height - _this2.y(d[ratio_to_use])
        };
      });

      bar.exit().remove();

      this._focus.select('.axis--y').call(this.yAxis);

      var axis_x = this._focus.select('.axis--x').attr('font-size', function () {
        return displayed > 75 ? 6 : 10;
      }).call(this.xAxis);
      axis_x.selectAll('text').attrs(function () {
        if (displayed > 100) {
          return { dx: '-0.8em', dy: '0.15em', transform: 'rotate(-65)' };
        } else if (displayed > 20) {
          return { dx: '-0.8em', dy: '0.15em', transform: 'rotate(-65)' };
        } else {
          return { dx: '0', dy: '0.71em', transform: null };
        }
      }).style('text-anchor', function () {
        return displayed > 20 ? 'end' : 'middle';
      });

      this.updateMiniBars();
    }
  }, {
    key: 'updateMiniBars',
    value: function updateMiniBars() {
      var _this3 = this;

      var ratio_to_use = this.ratio_to_use;
      var mini_bars = this.context.selectAll('.bar').data(this.data);

      mini_bars.attr('x', function (d) {
        return _this3.x2(d.id);
      }).attr('width', this.x2.bandwidth()).attr('y', function (d) {
        return _this3.y2(d[ratio_to_use]);
      }).attr('height', function (d) {
        return height2 - _this3.y2(d[ratio_to_use]);
      }).style('fill', function (d) {
        return d.id !== app.current_config.my_region ? color_countries : color_highlight;
      });

      mini_bars.enter().insert('rect').attr('class', 'bar').attr('x', function (d) {
        return _this3.x2(d.id);
      }).attr('width', this.x2.bandwidth()).attr('y', function (d) {
        return _this3.y2(d[ratio_to_use]);
      }).attr('height', function (d) {
        return height2 - _this3.y2(d[ratio_to_use]);
      }).style('fill', function (d) {
        return d.id !== app.current_config.my_region ? color_countries : color_highlight;
      });
      mini_bars.exit().remove();
    }
  }, {
    key: 'updateMapRegio',
    value: function updateMapRegio() {
      var _this4 = this;

      this.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        return _this4.current_ids.indexOf(d.properties[app.current_config.id_field_geom]) > -1 ? app.colors[d.properties[app.current_config.id_field_geom]] || color_countries : color_disabled;
      });
    }
  }, {
    key: 'selectAboveMyRegion',
    value: function selectAboveMyRegion() {
      var my_rank = this.data.map(function (d, i) {
        return [d.id, i];
      }).filter(function (d) {
        return d[0] === app.current_config.my_region;
      })[0][1];
      app.colors = {};
      app.colors[app.current_config.my_region] = color_highlight;
      if (!this.serie_inversed) {
        current_range_brush = [my_rank, this.data.length];
        this.data.filter(function (d, i) {
          return i > my_rank;
        }).map(function (d) {
          return d.id;
        }).forEach(function (ft) {
          app.colors[ft] = color_sup;
        });
      } else {
        current_range_brush = [0, my_rank];
        this.data.filter(function (d, i) {
          return i < my_rank;
        }).map(function (d) {
          return d.id;
        }).forEach(function (ft) {
          app.colors[ft] = color_inf;
        });
      }
      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.update();
      // svg_bar.select('.brush_top').call(this.brush_top.move, current_range_brush.map(d => d * (width / nbFt)));
      this.updateMapRegio();
    }
  }, {
    key: 'selectBelowMyRegion',
    value: function selectBelowMyRegion() {
      var my_rank = this.data.map(function (d, i) {
        return [d.id, i];
      }).filter(function (d) {
        return d[0] === app.current_config.my_region;
      })[0][1];

      app.colors = {};
      app.colors[app.current_config.my_region] = color_highlight;
      if (!this.serie_inversed) {
        current_range_brush = [0, my_rank];
        this.data.filter(function (d, i) {
          return i < my_rank;
        }).map(function (d) {
          return d.id;
        }).forEach(function (ft) {
          app.colors[ft] = color_inf;
        });
      } else {
        current_range_brush = [my_rank, this.data.length];
        this.data.filter(function (d, i) {
          return i > my_rank;
        }).map(function (d) {
          return d.id;
        }).forEach(function (ft) {
          app.colors[ft] = color_sup;
        });
      }
      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.update();
      // svg_bar.select('.brush_top').call(this.brush_top.move, current_range_brush.map(d => d * (width / nbFt)));
      this.updateMapRegio();
    }
  }, {
    key: 'selectAboveMean',
    value: function selectAboveMean() {
      var _this5 = this;

      var mean_rank = getMeanRank(this.mean_value, this.ratio_to_use);
      var ratio_to_use = this.ratio_to_use;
      var ref_value = this.ref_value;

      app.colors = {};
      app.colors[app.current_config.my_region] = color_highlight;
      if (!this.serie_inversed) {
        current_range_brush = [mean_rank, this.data.length];
        this.data.filter(function (d) {
          return d[ratio_to_use] > _this5.mean_value;
        }).forEach(function (ft) {
          if (ft[ratio_to_use] > ref_value) app.colors[ft.id] = color_sup;else app.colors[ft.id] = color_inf;
        });
      } else {
        current_range_brush = [0, mean_rank + 1];
        this.data.filter(function (d) {
          return d[ratio_to_use] > _this5.mean_value;
        }).forEach(function (ft) {
          if (ft[ratio_to_use] > ref_value) app.colors[ft.id] = color_inf;else app.colors[ft.id] = color_sup;
        });
      }
      app.colors[app.current_config.my_region] = color_highlight;
      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.update();
      // svg_bar.select('.brush_top').call(this.brush_top.move, current_range_brush.map(d => d * (width / nbFt)));
      this.updateMapRegio();
    }
  }, {
    key: 'selectBelowMean',
    value: function selectBelowMean() {
      var _this6 = this;

      var mean_rank = getMeanRank(this.mean_value, this.ratio_to_use);
      var ratio_to_use = this.ratio_to_use;
      var ref_value = this.ref_value;
      app.colors = {};
      if (!this.serie_inversed) {
        current_range_brush = [0, mean_rank];
        this.data.filter(function (d) {
          return d[ratio_to_use] < _this6.mean_value;
        }).forEach(function (ft) {
          if (ft[ratio_to_use] < ref_value) app.colors[ft.id] = color_inf;else app.colors[ft.id] = color_sup;
        });
      } else {
        current_range_brush = [mean_rank + 1, this.data.length];
        this.data.filter(function (d) {
          return d[ratio_to_use] < _this6.mean_value;
        }).forEach(function (ft) {
          if (ft[ratio_to_use] < ref_value) app.colors[ft.id] = color_sup;else app.colors[ft.id] = color_inf;
        });
      }
      app.colors[app.current_config.my_region] = color_highlight;
      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.update();
      // svg_bar.select('.brush_top').call(this.brush_top.move, current_range_brush.map(d => d * (width / nbFt)));
      this.updateMapRegio();
    }
  }, {
    key: 'handle_brush_map',
    value: function handle_brush_map(event) {
      var _this7 = this;

      if (!event || !event.selection) {
        this.last_map_selection = undefined;
        return;
      }
      var ratio_to_use = this.ratio_to_use;
      var ref_value = this.ref_value;
      var self = this;
      svg_bar.select('.brush_top').call(self.brush_top.move, null);

      var _event$selection = slicedToArray(event.selection, 2),
          topleft = _event$selection[0],
          bottomright = _event$selection[1];

      this.last_map_selection = [topleft, bottomright];
      // const transform = svg_map.node().__zoom;
      // topleft[0] = (topleft[0] - transform.x) / transform.k;
      // topleft[1] = (topleft[1] - transform.y) / transform.k;
      // bottomright[0] = (bottomright[0] - transform.x) / transform.k;
      // bottomright[1] = (bottomright[1] - transform.y) / transform.k;
      var rect = new Rect(topleft, bottomright);
      app.colors = {};
      self.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        var id = d.properties[app.current_config.id_field_geom];
        if (id === app.current_config.my_region) {
          app.colors[id] = color_highlight;
          return color_highlight;
        } else if (self.current_ids.indexOf(id) < 0) {
          return color_disabled;
        }
        if (!this._pts) {
          this._pts = svgPathToCoords(this.getAttribute('d'), app.type_path);
        }
        var pts = this._pts;
        for (var ix = 0, nb_pts = pts.length; ix < nb_pts; ix++) {
          if (rect.contains(pts[ix])) {
            var value = d.properties[ratio_to_use];
            var color = comp(value, ref_value, this.serie_inversed);
            app.colors[id] = color;
            return color;
          }
        }
        return color_countries;
      });
      self._focus.selectAll('.bar').style('fill', function (d) {
        return app.colors[d.id] || color_countries;
      });
      var ids = Object.keys(app.colors);
      var ranks = ids.map(function (d) {
        return _this7.current_ids.indexOf(d.id) > -1;
      }).map(function (d) {
        return _this7.current_ranks[d];
      });
      if (ranks.length > 1) {
        var c1 = ranks[0] - 1;
        var c2 = ranks[ranks.length - 1];
        if (c1 < current_range[0] || c2 > current_range[1]) {
          current_range = [ranks[0] - 1, ranks[ranks.length - 1]];
          svg_bar.select('.brush_bottom').call(self.brush_bottom.move, [current_range[0] * (width / nbFt), current_range[1] * (width / nbFt)]);
        }
      } else {
        current_range = [0, this.data.length];
        svg_bar.select('.brush_bottom').call(self.brush_bottom.move, self.x.range());
      }
    }
  }, {
    key: 'handleClickMap',
    value: function handleClickMap(d, parent) {
      var id = d.properties[app.current_config.id_field_geom];
      if (this.current_ids.indexOf(id) < 0 || id === app.current_config.my_region) return;
      if (app.colors[id] !== undefined) {
        app.colors[id] = undefined;
        d3.select(parent).attr('fill', color_countries);
      } else {
        var color = comp(d.properties[this.ratio_to_use], this.ref_value, this.serie_inversed);
        app.colors[id] = color;
        d3.select(parent).attr('fill', color);
      }
      this.update();
    }
  }, {
    key: 'updateChangeRegion',
    value: function updateChangeRegion() {
      if (app.current_config.filter_key !== undefined) {
        this.changeStudyZone();
      } else {
        this.ref_value = this.data.filter(function (ft) {
          return ft.id === app.current_config.my_region;
        })[0][this.ratio_to_use];
        this.update();
        // this.updateMiniBars();
        this.updateContext(0, this.data.length);
        this.updateMapRegio();
        svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x.range());
        this.map_elem.removeRectBrush();
        this.map_elem.updateLegend();
      }
    }
  }, {
    key: 'updateMeanValue',
    value: function updateMeanValue() {
      var y = this.y;
      var ratio_to_use = this.ratio_to_use;
      var grp_mean = this._focus.select('.mean');
      this.mean_value = d3.mean(this.data.map(function (d) {
        return d[ratio_to_use];
      }));
      grp_mean.select('text').attr('y', y(this.mean_value) + 20).text('Valeur moyenne : ' + Math.round(this.mean_value * 10) / 10);
      grp_mean.select('.mean_line').attrs({ y1: y(this.mean_value), y2: y(this.mean_value) });
      grp_mean.select('.transp_mean_line').attrs({ y1: y(this.mean_value), y2: y(this.mean_value) });
    }
  }, {
    key: 'changeStudyZone',
    value: function changeStudyZone() {
      var ratio_to_use = this.ratio_to_use;
      this.data = app.current_data.filter(function (ft) {
        return !!ft[ratio_to_use];
      });

      if (this.serie_inversed) {
        this.data.sort(function (a, b) {
          return b[ratio_to_use] - a[ratio_to_use];
        });
      } else {
        this.data.sort(function (a, b) {
          return a[ratio_to_use] - b[ratio_to_use];
        });
      }
      nbFt = this.data.length;
      this.ref_value = this.data.filter(function (ft) {
        return ft.id === app.current_config.my_region;
      })[0][ratio_to_use];
      this.x.domain(this.data.map(function (ft) {
        return ft.id;
      }));
      var min_serie = d3.min(this.data, function (d) {
        return d[ratio_to_use];
      });
      var max_serie = d3.max(this.data, function (d) {
        return d[ratio_to_use];
      });
      var offset_y = (max_serie - min_serie) / 20;
      this.y.domain([min_serie - offset_y, max_serie]);
      this.x2.domain(this.x.domain());
      this.y2.domain(this.y.domain());
      this.updateMeanValue();
      this.update();
      this.updateContext(0, this.data.length);

      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.map_elem.removeRectBrush();
      app.colors = {};
      app.colors[app.current_config.my_region] = color_highlight;
      this.updateMapRegio();
    }
  }, {
    key: 'addVariable',
    value: function addVariable(code_variable, name_variable) {
      // Add the variable to the input element allowing to choose variables:
      this.selec_var.append('option').attr('value', code_variable).text(name_variable);

      // And use it immediatly:
      this.selec_var.node().value = code_variable;
      this.selec_var.dispatch('change');
    }
  }, {
    key: 'removeVariable',
    value: function removeVariable(code_variable) {
      // Add the variable to the input element allowing to choose variables:
      this.selec_var.select('option[value=' + code_variable + ']').remove();
      if (this.ratio_to_use === code_variable) {
        this.selec_var.node().value = this.selec_var.select('option').node().value;
        this.selec_var.dispatch('change');
      }
    }
  }, {
    key: 'changeVariable',
    value: function changeVariable(code_variable) {
      this.ratio_to_use = code_variable;
    }
  }, {
    key: 'remove',
    value: function remove() {
      this._focus.remove();
      this.context.remove();
      this.selec_var.remove();
      this.map_elem.unbindBrush();
      this.map_elem = null;
      svg_bar.html('');
    }
  }, {
    key: 'bindMap',
    value: function bindMap(map_elem) {
      this.map_elem = map_elem;
    }
  }]);
  return BarChart1;
}();

var svg_bar$1 = d3.select('#svg_bar');
var margin$1 = { top: 20, right: 20, bottom: 40, left: 30 };

var width$1 = +svg_bar$1.attr('width') - margin$1.left - margin$1.right;
var height$1 = +svg_bar$1.attr('height') - margin$1.top - margin$1.bottom;

var BubbleChart1 = function () {
  function BubbleChart1(ref_data) {
    classCallCheck(this, BubbleChart1);

    var self = this;
    var available_ratios = app.current_config.ratio;
    var available_nums = app.current_config.num;
    var ratio_to_use = available_ratios[0];
    var stock_to_use = available_nums[0];
    this.ratio_to_use = ratio_to_use;
    this.stock_to_use = stock_to_use;
    this.data = ref_data.filter(function (ft) {
      return !!ft[ratio_to_use];
    }).slice().sort(function (a, b) {
      return b[stock_to_use] - a[stock_to_use];
    });
    this.current_ids = this.data.map(function (d) {
      return d.id;
    });
    this.highlight_selection = [];
    var draw_group = svg_bar$1.append('g').attr('transform', 'translate(' + margin$1.left + ', ' + margin$1.top + ')');
    draw_group.append('g').attrs({ class: 'axis axis--x', transform: 'translate(0, ' + height$1 / 2 + ')' });
    this.draw_group = draw_group;

    // Prepare the tooltip displayed on mouseover:
    prepareTooltip(svg_bar$1);

    // Create the "completude" text:
    this.completude = svg_bar$1.append('text').attrs({ id: 'chart_completude', x: 60, y: 40 }).styles({ 'font-family': '\'Signika\', sans-serif' }).text('Compl\xE9tude : ' + app.completude + '%');

    // Create the section containing the input element allowing to chose
    // how many "close" regions we want to highlight.
    var selection_close = d3.select(svg_bar$1.node().parentElement).append('div').attr('id', 'menu_selection').styles({ top: '-100px', 'margin-left': '30px', position: 'relative' }).append('p');

    selection_close.append('span').property('value', 'close').attrs({ value: 'close', class: 'type_selection square checked' });
    selection_close.append('span').attrs({ class: 'label_chk' }).html('Les');
    selection_close.append('input').attrs({ class: 'nb_select', type: 'number' }).property('value', 5);
    selection_close.append('span').attrs({ class: 'label_chk' }).html('régions les plus proches');
    this.my_region_value = this.data.filter(function (d) {
      return d.id === app.current_config.my_region;
    }).map(function (d) {
      return d[ratio_to_use];
    })[0];
    this.bindMenu();
    this.applySelection(5, 'close');

    //
    var header_bar_section = d3.select('#header_chart');

    this.selec_var = header_bar_section.insert('select', '#img_table').attrs({ class: 'title_variable' }).styles({
      'font-family': '\'Signika\', sans-serif',
      'font-weight': '800',
      'font-size': '14px',
      'margin-top': '12px',
      'margin-left': '40px',
      float: 'left'
    });

    for (var i = 0, len_i = available_ratios.length; i < len_i; i++) {
      this.selec_var.append('option').attr('value', available_ratios[i]).text(app.current_config.ratio_pretty_name[i]);
    }

    this.selec_var.on('change', function () {
      var code_variable = this.value;
      self.changeVariable(code_variable);
      self.changeStudyZone();
      self.updateCompletude();
    });

    // Deactivate the rect brush selection on the map
    // while the user press the Ctrl key:
    document.onkeydown = function (event) {
      if (event && event.key === 'Control') {
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', 'none');
      }
    };
    // Reactivate the rect brush selection on the map
    // when the user doesn't press the Ctrl key anymore
    document.onkeyup = function (event) {
      if (event && event.key === 'Control') {
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', null);
      }
    };
  }

  createClass(BubbleChart1, [{
    key: 'applySelection',
    value: function applySelection(nb) {
      var type_selection = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'close';

      app.colors = {};
      if (nb > 0) {
        var my_region_value = this.my_region_value;
        var ratio_to_use = this.ratio_to_use;

        this.highlight_selection = this.data.map(function (d) {
          return {
            dist: math_abs(d[ratio_to_use] - my_region_value),
            ratio: d[ratio_to_use],
            id: d.id };
        });
        if (type_selection === 'close') {
          this.highlight_selection.sort(function (a, b) {
            return a.dist - b.dist;
          });
          this.highlight_selection = this.highlight_selection.slice(1, nb + 1);
        } else if (type_selection === 'distant') {
          this.highlight_selection.sort(function (a, b) {
            return b.dist - a.dist;
          });
          this.highlight_selection = this.highlight_selection.slice(0, nb);
        }
        this.highlight_selection.forEach(function (elem) {
          app.colors[elem.id] = elem.ratio < my_region_value ? color_inf : color_sup;
        });
      } else {
        this.highlight_selection = [];
      }
      app.colors[app.current_config.my_region] = color_highlight;
      this.update();
      this.updateMapRegio();
    }
  }, {
    key: 'update',
    value: function update() {
      var self = this;
      var data = self.data;
      var highlight_selection = self.highlight_selection;
      var my_region_value = self.my_region_value;
      var ratio_to_use = self.ratio_to_use;
      var stock_to_use = self.stock_to_use;

      var _min = void 0;
      var _max = void 0;
      if (highlight_selection.length > 0) {
        var dist_min = my_region_value - d3.min(highlight_selection, function (d) {
          return d.ratio;
        });
        var dist_max = d3.max(highlight_selection, function (d) {
          return d.ratio;
        }) - my_region_value;
        var dist_axis = Math.max(dist_min, dist_max);
        var margin_min_max = math_round(dist_axis) / 8;
        _min = my_region_value - dist_axis - margin_min_max;
        _max = my_region_value + dist_axis + margin_min_max;
      } else {
        var _dist_min = my_region_value - d3.min(data, function (d) {
          return d[ratio_to_use];
        });
        var _dist_max = d3.max(data, function (d) {
          return d[ratio_to_use];
        }) - my_region_value;
        var _dist_axis = Math.max(_dist_min, _dist_max);
        var _margin_min_max = math_round(_dist_axis) / 8;
        _min = my_region_value - _dist_axis - _margin_min_max;
        _max = my_region_value + _dist_axis + _margin_min_max;
      }

      var prop_sizer = new PropSizer(d3.max(data, function (d) {
        return d[stock_to_use];
      }), 30);
      var xScale = d3.scaleLinear().domain([_min, _max]).range([0, width$1]);

      this.draw_group.select('g.axis--x').transition().duration(225).call(d3.axisBottom(xScale));

      var bubbles = this.draw_group.selectAll('.bubble').data(data, function (d) {
        return d.id;
      });

      bubbles.transition().duration(225).attrs(function (d) {
        var x_value = xScale(d[ratio_to_use]);
        if (x_value > width$1) x_value = width$1 + 200;else if (x_value < 0) x_value = -200;
        return {
          cx: x_value,
          cy: height$1 / 2,
          r: prop_sizer.scale(d[stock_to_use])
        };
      }).styles(function (d) {
        return {
          fill: app.colors[d.id] || color_countries
        };
      });

      bubbles.enter().insert('circle').styles(function (d) {
        return {
          fill: app.colors[d.id] || color_countries
        };
      }).transition().duration(225).attrs(function (d) {
        var x_value = xScale(d[ratio_to_use]);
        if (x_value > width$1) x_value = width$1 + 200;else if (x_value < 0) x_value = -200;
        return {
          class: 'bubble',
          cx: x_value,
          cy: height$1 / 2,
          r: prop_sizer.scale(d[stock_to_use])
        };
      });

      bubbles.exit().transition().duration(225).remove();

      this.draw_group.selectAll('.bubble').on('mouseover', function () {
        svg_bar$1.select('.tooltip').style('display', null);
      }).on('mouseout', function () {
        svg_bar$1.select('.tooltip').style('display', 'none');
      }).on('mousemove', function (d) {
        var tooltip = svg_bar$1.select('.tooltip');
        var _ratio_to_use = self.ratio_to_use;
        var _stock_to_use = self.stock_to_use;
        tooltip.select('text.id_feature').text('' + d.id);
        tooltip.select('text.value_feature1').text('Ratio: ' + Math.round(d[_ratio_to_use] * 10) / 10);
        tooltip.select('text.value_feature2').text('Stock: ' + Math.round(d[_stock_to_use] * 10) / 10);
        tooltip.attr('transform', 'translate(' + [d3.mouse(this)[0] - 5, d3.mouse(this)[1] - 45] + ')');
      });
    }
  }, {
    key: 'updateCompletude',
    value: function updateCompletude() {
      this.completude.text('Compl\xE9tude : ' + app.completude + '%');
    }
  }, {
    key: 'updateMapRegio',
    value: function updateMapRegio() {
      var _this = this;

      if (!this.map_elem) return;
      this.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        return _this.current_ids.indexOf(d.properties[app.current_config.id_field_geom]) > -1 ? app.colors[d.properties[app.current_config.id_field_geom]] || color_countries : color_disabled;
      });
    }
  }, {
    key: 'handle_brush_map',
    value: function handle_brush_map(event) {
      if (!event || !event.selection) {
        this.last_map_selection = undefined;
        return;
      }
      var self = this;

      var _event$selection = slicedToArray(event.selection, 2),
          topleft = _event$selection[0],
          bottomright = _event$selection[1];

      this.last_map_selection = [topleft, bottomright];
      var rect = new Rect(topleft, bottomright);
      var ratio_to_use = this.ratio_to_use;
      app.colors = {};
      self.highlight_selection = [];
      self.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        var id = d.properties[app.current_config.id_field_geom];
        if (id === app.current_config.my_region) {
          app.colors[id] = color_highlight;
          return color_highlight;
        } else if (self.current_ids.indexOf(id) < 0) {
          return color_disabled;
        }
        if (!this._pts) {
          this._pts = svgPathToCoords(this.getAttribute('d'), app.type_path);
        }
        var pts = this._pts;
        for (var ix = 0, nb_pts = pts.length; ix < nb_pts; ix++) {
          if (rect.contains(pts[ix])) {
            var value = d.properties[ratio_to_use];
            var color = comp(value, self.my_region_value, this.serie_inversed);
            app.colors[id] = color;
            self.highlight_selection.push({
              id: id,
              ratio: value,
              dist: math_abs(value - self.my_region_value)
            });
            return color;
          }
        }
        return color_countries;
      });
      self.update();
    }
  }, {
    key: 'handleClickMap',
    value: function handleClickMap(d, parent) {
      var id = d.properties[app.current_config.id_field_geom];
      if (this.current_ids.indexOf(id) < 0 || id === app.current_config.my_region) return;
      if (app.colors[id] !== undefined) {
        // Remove the clicked feature from the colored selection on the chart:
        var id_to_remove = this.highlight_selection.map(function (ft, i) {
          return ft.id === id ? i : null;
        }).filter(function (ft) {
          return ft;
        });
        this.highlight_selection.splice(id_to_remove, 1);
        // Change its color in the global colors object:
        app.colors[id] = undefined;
        // Change the color on the map:
        d3.select(parent).attr('fill', color_countries);
      } else {
        var value = d.properties[this.ratio_to_use];
        var color = comp(value, this.my_region_value, this.serie_inversed);
        app.colors[id] = color;
        // Change the color on the map:
        d3.select(parent).attr('fill', color);
        // Add the clicked feature on the colored selection on the chart:
        this.highlight_selection.push({
          id: id,
          ratio: value,
          dist: math_abs(value - this.my_region_value)
        });
      }
      this.update();
    }
  }, {
    key: 'updateChangeRegion',
    value: function updateChangeRegion() {
      if (app.current_config.filter_key !== undefined) {
        this.changeStudyZone();
      } else {
        this.map_elem.removeRectBrush();
        this.map_elem.updateLegend();
        this.my_region_value = this.data.filter(function (d) {
          return d.id === app.current_config.my_region;
        })[0][this.ratio_to_use];
        this.applySelection(this.highlight_selection.length, 'close');
      }
    }
  }, {
    key: 'changeStudyZone',
    value: function changeStudyZone() {
      var _this2 = this;

      this.map_elem.removeRectBrush();
      this.map_elem.updateLegend();
      this.data = app.current_data.filter(function (ft) {
        return !!ft[_this2.ratio_to_use];
      }).slice().sort(function (a, b) {
        return b[_this2.stock_to_use] - a[_this2.stock_to_use];
      });
      this.current_ids = this.data.map(function (d) {
        return d.id;
      });
      this.my_region_value = this.data.filter(function (d) {
        return d.id === app.current_config.my_region;
      })[0][this.ratio_to_use];
      var temp = this.highlight_selection.length;
      this.highlight_selection = [];
      this.applySelection(temp, 'close');
    }
  }, {
    key: 'changeVariable',
    value: function changeVariable(code_variable) {
      this.ratio_to_use = code_variable;
      this.stock_to_use = variables.filter(function (d) {
        return d.ratio === code_variable;
      })[0].num;
    }
  }, {
    key: 'addVariable',
    value: function addVariable(code_variable, name_variable) {
      // Add the variable to the input element allowing to choose variables:
      this.selec_var.append('option').attr('value', code_variable).text(name_variable);

      // And use it immediatly:
      this.selec_var.node().value = code_variable;
      this.selec_var.dispatch('change');
    }
  }, {
    key: 'removeVariable',
    value: function removeVariable(code_variable) {
      // Add the variable to the input element allowing to choose variables:
      this.selec_var.select('option[value=' + code_variable + ']').remove();
      if (this.ratio_to_use === code_variable) {
        this.selec_var.node().value = this.selec_var.select('option').node().value;
        this.selec_var.dispatch('change');
      }
    }
  }, {
    key: 'bindMenu',
    value: function bindMenu() {
      var self = this;
      var menu = d3.select('#menu_selection');
      var applychange = function applychange() {
        self.map_elem.removeRectBrush();
        var type = this.parentElement.querySelector('.type_selection').value;
        var value = +this.value;
        if (!(value > -1)) {
          this.value = 5;
          value = 5;
        }
        self.applySelection(value, type);
      };
      menu.select('.nb_select').on('change', applychange);
      menu.select('.nb_select').on('wheel', applychange);
      menu.select('.nb_select').on('keyup', applychange);
    }
  }, {
    key: 'remove',
    value: function remove() {
      this.map_elem.unbindBrush();
      this.map_elem = null;
      this.selec_var.remove();
      d3.select('#menu_selection').remove();
      svg_bar$1.html('');
    }
  }, {
    key: 'bindMap',
    value: function bindMap(map_elem) {
      this.map_elem = map_elem;
      d3.select('#menu_selection').select('.nb_select').dispatch('change');
    }
  }]);
  return BubbleChart1;
}();

var svg_bar$2 = d3.select('#svg_bar');
var margin$2 = { top: 20, right: 20, bottom: 40, left: 40 };

var width$2 = +svg_bar$2.attr('width') - margin$2.left - margin$2.right;
var height$2 = +svg_bar$2.attr('height') - margin$2.top - margin$2.bottom;

var ScatterPlot2 = function () {
  function ScatterPlot2(ref_data) {
    var _this = this;

    classCallCheck(this, ScatterPlot2);

    var self = this;
    this.variable1 = app.current_config.ratio[0];
    this.variable2 = app.current_config.ratio[1];
    this.rank_variable1 = 'pr_' + this.variable1;
    this.rank_variable2 = 'pr_' + this.variable2;
    this.pretty_name1 = app.current_config.ratio_pretty_name[0];
    this.pretty_name2 = app.current_config.ratio_pretty_name[1];
    this.data = ref_data.filter(function (ft) {
      return !!ft[_this.variable1] && !!ft[_this.variable2];
    }).map(function (d) {
      var res = { id: d.id };
      res[_this.variable1] = d[_this.variable1];
      res[_this.variable2] = d[_this.variable2];
      return res;
    });
    this.current_ids = this.data.map(function (d) {
      return d.id;
    });
    this.nbFt = this.data.length;
    computePercentileRank(this.data, this.variable1, this.rank_variable1);
    computePercentileRank(this.data, this.variable2, this.rank_variable2);

    this.x = d3.scaleLinear().range([0, width$2]).nice();
    this.y = d3.scaleLinear().range([height$2, 0]);
    this.xAxis = d3.axisBottom(this.x).ticks(12);
    this.yAxis = d3.axisLeft(this.y).ticks(12 * height$2 / width$2);
    this.xAxis2 = d3.axisBottom(this.x).ticks(12);
    this.yAxis2 = d3.axisLeft(this.y).ticks(12 * height$2 / width$2);

    this.xInversed = false;
    this.yInversed = false;
    this.ref_value1 = this.data.filter(function (d) {
      return d.id === app.current_config.my_region;
    })[0][this.variable1];
    this.ref_value2 = this.data.filter(function (d) {
      return d.id === app.current_config.my_region;
    })[0][this.variable2];

    this.plot = svg_bar$2.append('g').attr('transform', 'translate(' + [margin$2.left, margin$2.top] + ')');

    this.plot.append('defs').append('svg:clipPath').attr('id', 'clip').append('svg:rect').attrs({
      width: width$2,
      height: height$2,
      x: 0,
      y: 0
    });

    this.scatter = this.plot.append('g').attr('id', 'scatterplot').attr('clip-path', 'url(#clip)');

    this.x.domain(d3.extent(this.data, function (d) {
      return d[_this.rank_variable1];
    })).nice();
    this.y.domain(d3.extent(this.data, function (d) {
      return d[_this.rank_variable2];
    })).nice();
    this.mean_variable1 = _getPR(d3.mean(this.data.map(function (d) {
      return d[_this.variable1];
    })), this.data.map(function (d) {
      return d[_this.variable1];
    }));
    this.mean_variable2 = _getPR(d3.mean(this.data.map(function (d) {
      return d[_this.variable2];
    })), this.data.map(function (d) {
      return d[_this.variable2];
    }));

    this.makeGrid();

    var groupe_line_mean = this.plot.append('g').attr('clip-path', 'url(#clip)').attr('class', 'mean');
    groupe_line_mean.append('line').attr('clip-path', 'url(#clip)').attrs({
      id: 'mean_x',
      x1: this.x(this.mean_variable1),
      x2: this.x(this.mean_variable1),
      y1: 0,
      y2: width$2,
      'stroke-dasharray': '10, 5',
      'stroke-width': '2px'
    }).style('stroke', 'red');
    groupe_line_mean.append('line').style('stroke', 'red').attrs({
      id: 'mean_y',
      x1: 0,
      x2: width$2,
      y1: this.y(this.mean_variable2),
      y2: this.y(this.mean_variable2),
      'clip-path': 'url(#clip)',
      'stroke-dasharray': '10, 5',
      'stroke-width': '2px'
    });

    this.plot.append('g').attrs({
      class: 'x axis', id: 'axis--x', transform: 'translate(0, ' + height$2 + ')'
    }).call(this.xAxis);

    this.plot.append('g').attrs({ class: 'y axis', id: 'axis--y' }).call(this.yAxis);

    svg_bar$2.append('text').attrs({
      id: 'title-axis-x',
      x: margin$2.left + width$2 / 2,
      y: margin$2.top + height$2 + margin$2.bottom / 2 + 5
    }).styles({ 'font-family': 'sans-serif', 'font-size': '12px', 'text-anchor': 'middle' }).text(this.variable1);

    svg_bar$2.append('image').attrs({
      x: margin$2.left + width$2 / 2 - 20 - svg_bar$2.select('#title-axis-x').node().getBoundingClientRect().width / 2,
      y: margin$2.top + height$2 + margin$2.bottom / 2 - 7.5,
      width: 15,
      height: 15,
      'xlink:href': 'img/reverse_blue.png',
      id: 'img_reverse_x'
    }).on('click', function () {
      _this.xInversed = !_this.xInversed;
      for (var i = 0; i < _this.nbFt; i++) {
        self.data[i][self.rank_variable1] = 100 - self.data[i][self.rank_variable1];
      }
      if (_this.last_map_selection) {
        _this.map_elem.callBrush(_this.last_map_selection);
      } else {
        _this.update();
      }
    });
    svg_bar$2.append('text').attr('id', 'title-axis-y').attr('x', margin$2.left / 2).attr('y', margin$2.top + height$2 / 2).attr('transform', 'rotate(-90, ' + margin$2.left / 2 + ', ' + (margin$2.top + height$2 / 2) + ')').style('text-anchor', 'middle').styles({ 'font-family': 'sans-serif', 'font-size': '12px' }).text(this.variable2);

    svg_bar$2.append('image').attrs({
      x: margin$2.left / 2 - 15,
      y: margin$2.top + height$2 / 2 + svg_bar$2.select('#title-axis-y').node().getBoundingClientRect().height / 2 + 7.5,
      width: 15,
      height: 15,
      'xlink:href': 'img/reverse_blue.png',
      id: 'img_reverse_y'
    }).on('click', function () {
      _this.yInversed = !_this.yInversed;
      for (var i = 0; i < _this.nbFt; i++) {
        _this.data[i][_this.rank_variable2] = 100 - _this.data[i][_this.rank_variable2];
      }
      if (_this.last_map_selection) {
        _this.map_elem.callBrush(_this.last_map_selection);
      } else {
        _this.update();
      }
    });

    // Prepare the tooltip displayed on mouseover:
    prepareTooltip(svg_bar$2);

    // Create the "completude" text:
    this.completude = svg_bar$2.append('text').attrs({ id: 'chart_completude', x: 60, y: 40 }).styles({ 'font-family': '\'Signika\', sans-serif' }).text('Compl\xE9tude : ' + app.completude + '%');

    // Deactivate the rect brush selection on the map
    // while the user press the Ctrl key:
    document.onkeydown = function (event) {
      if (event && event.key === 'Control') {
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', 'none');
      }
    };
    // Reactivate the rect brush selection on the map
    // when the user doesn't press the Ctrl key anymore
    document.onkeyup = function (event) {
      if (event && event.key === 'Control') {
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', null);
      }
    };

    this.update();
  }

  createClass(ScatterPlot2, [{
    key: 'makeGrid',
    value: function makeGrid() {
      this.plot.insert('g', '#scatterplot').attrs({
        class: 'grid grid-x', transform: 'translate(0, ' + height$2 + ')'
      }).call(this.xAxis2.tickSize(-height$2).tickFormat(''));
      this.plot.insert('g', '#scatterplot').attr('class', 'grid grid-y').call(this.yAxis2.tickSize(-width$2).tickFormat(''));
      this.plot.selectAll('.grid').selectAll('line').attr('stroke', 'lightgray');
    }
  }, {
    key: 'update',
    value: function update() {
      var self = this;
      var data = self.data;
      var rank_variable1 = this.rank_variable1;
      var rank_variable2 = this.rank_variable2;
      var x = this.x;
      var y = this.y;
      var default_color = 'gray';
      var dots = this.scatter.selectAll('.dot').data(data, function (d) {
        return d.id;
      });

      dots.transition().duration(225).attrs(function (d) {
        return {
          r: 5,
          cx: x(d[rank_variable1]),
          cy: y(d[rank_variable2]),
          opacity: 0.6
        };
      }).styles(function (d) {
        return {
          fill: app.colors[d.id] || default_color
        };
      });

      dots.enter().insert('circle').styles(function (d) {
        return {
          fill: app.colors[d.id] || default_color
        };
      }).transition().duration(225).attrs(function (d) {
        return {
          r: 5,
          cx: x(d[rank_variable1]),
          cy: y(d[rank_variable2]),
          opacity: 0.6,
          class: 'dot'
        };
      });

      dots.exit().transition().duration(225).remove();

      this.scatter.selectAll('.dot').on('mouseover', function () {
        svg_bar$2.select('.tooltip').style('display', null);
      }).on('mouseout', function () {
        svg_bar$2.select('.tooltip').style('display', 'none');
      }).on('mousemove', function (d) {
        var tooltip = svg_bar$2.select('.tooltip');
        var _var1 = self.variable1;
        var _var2 = self.variable2;
        tooltip.select('text.id_feature').text('' + d.id);
        tooltip.select('text.value_feature1').text('Variable 1 : ' + Math.round(d[_var1] * 10) / 10);
        tooltip.select('text.value_feature2').text('Variable 2 : ' + Math.round(d[_var2] * 10) / 10);
        tooltip.attr('transform', 'translate(' + [d3.mouse(this)[0] - 5, d3.mouse(this)[1] - 45] + ')');
      });
    }
  }, {
    key: 'updateCompletude',
    value: function updateCompletude() {
      this.completude.text('Compl\xE9tude : ' + app.completude + '%');
    }
  }, {
    key: 'updateMapRegio',
    value: function updateMapRegio() {
      var _this2 = this;

      if (!this.map_elem) return;
      this.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        return _this2.current_ids.indexOf(d.properties[app.current_config.id_field_geom]) > -1 ? app.colors[d.properties[app.current_config.id_field_geom]] || color_countries : color_disabled;
      });
    }
  }, {
    key: 'handle_brush_map',
    value: function handle_brush_map(event) {
      if (!event || !event.selection) {
        this.last_map_selection = undefined;
        return;
      }
      var self = this;

      var _event$selection = slicedToArray(event.selection, 2),
          topleft = _event$selection[0],
          bottomright = _event$selection[1];

      this.last_map_selection = [topleft, bottomright];
      var rect = new Rect(topleft, bottomright);
      app.colors = {};
      self.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        var id = d.properties[app.current_config.id_field_geom];
        if (id === app.current_config.my_region) {
          app.colors[id] = color_highlight;
          return color_highlight;
        } else if (self.current_ids.indexOf(id) < 0) {
          return color_disabled;
        }
        if (!this._pts) {
          this._pts = svgPathToCoords(this.getAttribute('d'), app.type_path);
        }
        var pts = this._pts;
        for (var ix = 0, nb_pts = pts.length; ix < nb_pts; ix++) {
          if (rect.contains(pts[ix])) {
            var value1 = d.properties[self.variable1];
            var value2 = d.properties[self.variable2];
            var color = comp2(value1, value2, self.ref_value1, self.ref_value2, self.xInversed, self.yInversed);
            app.colors[id] = color;
            return color;
          }
        }
        return color_countries;
      });
      self.update();
    }
  }, {
    key: 'handleClickMap',
    value: function handleClickMap(d, parent) {
      var id = d.properties[app.current_config.id_field_geom];
      if (this.current_ids.indexOf(id) < 0 || id === app.current_config.my_region) return;
      if (app.colors[id] !== undefined) {
        // Remove the clicked feature from the colored selection on the chart:


        // Change its color in the global colors object:
        app.colors[id] = undefined;
        // Change the color on the map:
        d3.select(parent).attr('fill', color_countries);
      } else {
        var value = d.properties[this.ratio_to_use];
        var color = comp(value, this.my_region_value, this.serie_inversed);
        app.colors[id] = color;
        // Change the color on the map:
        d3.select(parent).attr('fill', color);
        // Add the clicked feature on the colored selection on the chart:
      }
      this.update();
    }
  }, {
    key: 'updateMeanValue',
    value: function updateMeanValue() {
      var _this3 = this;

      this.mean_variable1 = _getPR(d3.mean(this.data.map(function (d) {
        return d[_this3.variable1];
      })), this.data.map(function (d) {
        return d[_this3.variable1];
      }));
      this.mean_variable2 = _getPR(d3.mean(this.data.map(function (d) {
        return d[_this3.variable2];
      })), this.data.map(function (d) {
        return d[_this3.variable2];
      }));
      var grp_mean = this.plot.select('g.mean');
      grp_mean.select('#mean_x').transition().duration(225).attrs({
        x1: this.x(this.mean_variable1),
        x2: this.x(this.mean_variable1)
      });
      grp_mean.select('#mean_y').transition().duration(225).attrs({
        y1: this.y(this.mean_variable2),
        y2: this.y(this.mean_variable2)
      });
    }
  }, {
    key: 'updateChangeRegion',
    value: function updateChangeRegion() {
      if (app.current_config.filter_key !== undefined) {
        this.changeStudyZone();
      } else {
        this.ref_value1 = this.data.filter(function (d) {
          return d.id === app.current_config.my_region;
        })[0][this.variable1];
        this.ref_value2 = this.data.filter(function (d) {
          return d.id === app.current_config.my_region;
        })[0][this.variable2];
        this.map_elem.removeRectBrush();
        this.map_elem.updateLegend();
        this.map_elem.resetColors();
        this.update();
      }
    }
  }, {
    key: 'changeStudyZone',
    value: function changeStudyZone() {
      var _this4 = this;

      this.data = app.current_data.filter(function (ft) {
        return !!ft[_this4.variable1] && !!ft[_this4.variable2];
      }).map(function (d) {
        var res = { id: d.id };
        res[_this4.variable1] = d[_this4.variable1];
        res[_this4.variable2] = d[_this4.variable2];
        return res;
      });
      this.current_ids = this.data.map(function (d) {
        return d.id;
      });
      this.nbFt = this.data.length;
      computePercentileRank(this.data, this.variable1, this.rank_variable1);
      computePercentileRank(this.data, this.variable2, this.rank_variable2);

      this.xInversed = false;
      this.yInversed = false;
      // this.ref_value1 = this.data.filter(d => d.id === app.current_config.my_region)[0][this.variable1];
      // this.ref_value2 = this.data.filter(d => d.id === app.current_config.my_region)[0][this.variable2];

      this.x.domain(d3.extent(this.data, function (d) {
        return d[_this4.rank_variable1];
      })).nice();
      this.y.domain(d3.extent(this.data, function (d) {
        return d[_this4.rank_variable2];
      })).nice();
      this.updateMeanValue();
      this.updateMapRegio();
      this.update();
    }
  }, {
    key: 'changeVariable',
    value: function changeVariable(code_variable) {
      this.ratio_to_use = code_variable;
      this.stock_to_use = variables.filter(function (d) {
        return d.ratio === code_variable;
      })[0].num;
    }
  }, {
    key: 'addVariable',
    value: function addVariable(code_variable, name_variable) {
      // TODO: Add the new variable to the x and y menus
    }
  }, {
    key: 'removeVariable',
    value: function removeVariable(code_variable) {
      // TODO: Remove the variable from the x and y menus
    }
  }, {
    key: 'remove',
    value: function remove() {
      this.map_elem.unbindBrush();
      this.map_elem = null;
      svg_bar$2.html('');
    }
  }, {
    key: 'bindMap',
    value: function bindMap(map_elem) {
      this.map_elem = map_elem;
    }
  }]);
  return ScatterPlot2;
}();

browser$1('app:log');

var variables = [{ ratio: 'PC_CHOM_1524_2015', num: 'CHOM_1524_2015', denum: 'ACT_1524_2015', name: 'Taux de chomage des jeunes (2015)', group: 'Pauvreté / Exclusion sociale' }, { ratio: 'PC_CHOM_1574_2015', num: 'CHOM_1574_2015', denum: 'ACT_1574_2015', name: 'Taux de chomage (2015)', group: 'Pauvreté / Exclusion sociale' }, { ratio: 'PC_CHOM_LONG_2016', num: 'CHOM_LONG_2016', denum: 'ACT_LONG_2016', name: 'Taux de chômage de longue durée (2016)', group: 'Pauvreté / Exclusion sociale' }, { ratio: 'PC_REV_2014', num: 'REV_2014', denum: 'MEN_2014', name: 'Revenu des ménages (2014)', group: 'Pauvreté / Exclusion sociale' }, { ratio: 'PC_BREV_HAB_2011', num: 'BREV_2011', denum: 'POP_BREV_2011', name: 'Productions innovantes (2011)', group: 'Activité / Innovation' }, { ratio: 'PC_RD_EMP_2013', num: 'RD_EMP_2013', denum: 'POP_RD_EMP_2013', name: 'Part de l\'emploi en R&D (2013)', group: 'Activité / Innovation' }, { ratio: 'PC_PIB_HAB_2014', num: 'PC_PIB_HAB_2014', denum: 'POP_PIB_2014', name: 'PIB par habitant (euros)(2014)', group: 'Activité / Innovation' }, { ratio: 'PC_ARTIF_AREA_2015', num: 'ARTIF_AREA_2015', denum: 'LC_AREA_2015', name: 'Part des surfaces artificialisées (2015)', group: 'Environnement / Transition écologique' }];

var study_zones = [{ id: 'no_filter', name: 'UE28' }, { id: 'filter_FR', name: 'Filtre national (France)' }, { id: 'filter_param2', name: 'Espace de comparaison n°2' }];

var territorial_mesh = [{ id: 'NUTS1', name: 'NUTS1' }, { id: 'NUTS12stat', name: 'NUTS1/2 (statistique)' }];

var app = {
  colors: {},
  current_data: [],
  full_dataset: [],
  current_ids: []
};

function setDefaultConfig() {
  var code = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'FRE';
  var variable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'PC_CHOM_1524_2015';
  // }, level = 'NUTS1') {
  app.current_config = {
    id_field: 'geo',
    name_field: 'Nom',
    id_field_geom: 'NUTS1_2016',
    num: ['CHOM_1524_2015'],
    denum: ['ACT_1524_2015'],
    ratio: [variable],
    ratio_pretty_name: ['Taux de chômage des jeunes (2015)'],
    current_level: 1,
    my_region: code,
    my_region_pretty_name: app.feature_names[code]
  };
  app.colors[app.current_config.my_region] = color_highlight;
}

function setDefaultConfigMenu() {
  var code = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'FRE';
  var variable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'PC_CHOM_1524_2015';
  var level = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'NUTS1';

  document.querySelector('.target_region.square[value="' + code + '"]').classList.add('checked');
  document.querySelector('.target_variable.small_square[value="' + variable + '"]').classList.add('checked');
  document.querySelector('.filter_v.square[filter-value="no_filter"]').classList.add('checked');
  document.querySelector('.territ_level.square[value="' + level + '"]').classList.add('checked');
}

function resetColors() {
  var ids = app.current_ids;
  var my_region = app.current_config.my_region;
  app.colors = {};
  for (var i = 0, len_i = ids.length; i < len_i; i++) {
    app.colors[ids[i]] = ids[i] === my_region ? color_highlight : color_countries;
  }
}

/**
* Create handlers for user event on the left menu and on the map for charts only
* allowing to use 1 variable.
*
* @param {Object} chart - The chart object.
* @param {Object} map_elem - The map object.
* @return {void}
*
*/
function bindUI_chart_1v(chart, map_elem) {
  d3.selectAll('span.filter_v').on('click', function () {
    if (!this.classList.contains('checked')) {
      d3.selectAll('span.filter_v').attr('class', 'filter_v square');
      this.classList.add('checked');
      var filter_type = this.getAttribute('filter-value');
      applyFilter(app, filter_type);
      makeTable(app.current_data, app.current_config);
      chart.changeStudyZone();
      chart.updateCompletude();
    }
  });

  d3.selectAll('span.target_region').on('click', function () {
    if (!this.classList.contains('checked')) {
      d3.selectAll('span.target_region').attr('class', 'target_region square');
      this.classList.add('checked');
      var id_region = this.getAttribute('value');
      changeRegion(app, id_region);
      chart.updateChangeRegion();
    }
  });

  d3.selectAll('span.target_variable').on('click', function () {
    if (!this.classList.contains('checked')) {
      this.classList.add('checked');
      var code_variable = this.getAttribute('value');
      var name_variable = variables.filter(function (d) {
        return d.ratio === code_variable;
      })[0].name;
      addVariable(app, code_variable);
      makeTable(app.current_data, app.current_config);
      chart.addVariable(code_variable, name_variable);
    } else {
      var last_one = Array.prototype.slice.call(document.querySelectorAll('span.target_variable')).filter(function (elem) {
        return !!elem.classList.contains('checked');
      }).length === 1;
      if (last_one) {
        return;
      }
      this.classList.remove('checked');
      var _code_variable = this.getAttribute('value');
      removeVariable(app, _code_variable);
      makeTable(app.current_data, app.current_config);
      chart.removeVariable(_code_variable);
    }
    var nb_var = Array.prototype.slice.call(document.querySelectorAll('span.target_variable')).filter(function (elem) {
      return !!elem.classList.contains('checked');
    }).length;
    // Allow all kind of vizu with 1 variable:
    d3.selectAll('.chart_t1').attr('class', 'type_chart chart_t1');
    if (nb_var === 2) {
      // Allow all kind of vizu with 2 variables:
      d3.selectAll('.chart_t2').attr('class', 'type_chart chart_t2');
      d3.selectAll('.chart_t3').attr('class', 'type_chart chart_t3 disabled');
    }
    if (nb_var > 2) {
      // Allow all kind of vizu with 3 variables:
      d3.selectAll('.chart_t2').attr('class', 'type_chart chart_t2');
      d3.selectAll('.chart_t3').attr('class', 'type_chart chart_t3');
    }
  });

  d3.selectAll('span.label_chk').on('click', function () {
    this.previousSibling.click();
  });

  var header_map_section = d3.select('#map_section > #header_map');

  header_map_section.select('#img_rect_selec').on('click', function () {
    if (!this.classList.contains('active')) {
      this.classList.add('active');
      document.getElementById('img_map_zoom').classList.remove('active');
      document.getElementById('img_map_select').classList.remove('active');
      svg_map.on('.zoom', null);
      svg_map.select('.brush_map').style('display', null);
      map_elem.target_layer.selectAll('path').on('click', null);
    }
  });

  header_map_section.select('#img_map_zoom').on('click', function () {
    if (!this.classList.contains('active')) {
      this.classList.add('active');
      document.getElementById('img_rect_selec').classList.remove('active');
      document.getElementById('img_map_select').classList.remove('active');
      svg_map.call(map_elem.zoom_map);
      svg_map.select('.brush_map').call(map_elem.brush_map.move, null);
      svg_map.select('.brush_map').style('display', 'none');
      map_elem.target_layer.selectAll('path').on('click', null);
    }
  });

  header_map_section.select('#img_map_select').on('click', function () {
    if (!this.classList.contains('active')) {
      this.classList.add('active');
      document.getElementById('img_rect_selec').classList.remove('active');
      document.getElementById('img_map_zoom').classList.remove('active');
      svg_map.on('.zoom', null);
      svg_map.select('.brush_map').call(map_elem.brush_map.move, null);
      svg_map.select('.brush_map').style('display', 'none');
      map_elem.target_layer.selectAll('path').on('click', function (d) {
        chart.handleClickMap(d, this);
      });
    }
  });

  var header_table_section = d3.select('#map_section').insert('p', 'svg').attr('id', 'header_table').styles({ display: 'none', margin: 'auto', 'text-align': 'right' });

  header_table_section.append('span').attr('class', 'button_blue').html('CSV').on('click', function () {
    var content = ['id,Numérateur,Dénominateur,Ratio,Rang\r\n', app.current_data.map(function (d) {
      return [d.id, d.num, d.denum, d.ratio, d.rang].join(',');
    }).join('\r\n')].join('');
    var elem = document.createElement('a');
    elem.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(content));
    elem.setAttribute('download', 'table.csv');
    elem.style.display = 'none';
    document.body.appendChild(elem);
    elem.click();
    document.body.removeChild(elem);
  });
  bindTopButtons(chart, map_elem);
}

/**
* Function to handle click on the top menu, in order to choose
* the kind of availables representation
*
*
*
*/
function bindTopButtons(chart, map_elem) {
  d3.selectAll('.type_chart').on('click', function () {
    if (this.classList.contains('disabled')) return;
    chart.remove();
    chart = null; // eslint-disable-line no-param-reassign
    unbindUI();
    map_elem.resetZoom();
    app.colors = {};
    resetColors();
    map_elem.resetColors();
    var value = this.getAttribute('value');
    if (value === 'BarChart1') {
      console.log('BarChart1');
      makeTable(app.current_data, app.current_config);
      chart = new BarChart1(app.current_data); // eslint-disable-line no-param-reassign
      bindUI_chart_1v(chart, map_elem);
      map_elem.bindBrush(chart);
      chart.bindMap(map_elem);
    } else if (value === 'BubbleChart1') {
      console.log('BubbleChart1');
      makeTable(app.current_data, app.current_config);
      chart = new BubbleChart1(app.current_data); // eslint-disable-line no-param-reassign
      bindUI_chart_1v(chart, map_elem);
      map_elem.bindBrush(chart);
      chart.bindMap(map_elem);
    } else if (value === 'ScatterPlot2') {
      console.log('ScatterPlot2');
      makeTable(app.current_data, app.current_config);
      chart = new ScatterPlot2(app.current_data); // eslint-disable-line no-param-reassign
      bindUI_chart_1v(chart, map_elem);
      map_elem.bindBrush(chart);
      chart.bindMap(map_elem);
    }
  });
}

function loadData() {
  d3.queue(4).defer(d3.csv, 'data/REGIOVIZ_DATA_aggregated.csv').defer(d3.json, 'data/cget-nuts1-3035.geojson').defer(d3.json, 'data/countries3035.geojson').defer(d3.json, 'data/remote3035.geojson').defer(d3.json, 'data/template3035.geojson').defer(d3.json, 'data/sea_boxes.geojson').awaitAll(function (error, results) {
    if (error) throw error;

    var _results = slicedToArray(results, 6),
        full_dataset = _results[0],
        nuts1 = _results[1],
        countries = _results[2],
        remote = _results[3],
        template = _results[4],
        seaboxes = _results[5];

    prepare_dataset(full_dataset, app);
    setDefaultConfig('FRB', 'PC_CHOM_1524_2015', 'NUTS1');
    var features_menu = full_dataset.filter(function (ft) {
      return ft.geo.indexOf('FR') > -1 && +ft.level === app.current_config.current_level;
    });
    createMenu(features_menu, variables, study_zones, territorial_mesh);
    makeTopMenu();
    makeHeaderChart();
    setDefaultConfigMenu('FRB', 'PC_CHOM_1524_2015', 'NUTS1');
    filterLevelVar(app);
    var map_elem = new MapSelect(nuts1, countries, remote, template, seaboxes);
    var chart = new BarChart1(app.current_data);
    makeTable(app.current_data, app.current_config);
    makeHeaderMapSection();
    makeSourceSection();
    makeMapLegend();
    bindUI_chart_1v(chart, map_elem);
    chart.bindMap(map_elem);
    map_elem.bindBrush(chart);
  });
}

loadData();

exports.variables = variables;
exports.app = app;
exports.bindTopButtons = bindTopButtons;

}((this.App = this.App || {})));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9kZWJ1Zy9ub2RlX21vZHVsZXMvbXMvaW5kZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2RlYnVnLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2RlYnVnL3NyYy9icm93c2VyLmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9vcHRpb25zLmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9oZWxwZXJzLmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9tZW51bGVmdC5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvbWVudXRvcC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy92YW5pbGxhLWRhdGF0YWJsZXMvc3JjL3ZhbmlsbGEtZGF0YVRhYmxlcy5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvdGFibGUuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL3ByZXBhcmVfZGF0YS5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvbWFwLmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9jaGFydHMvYmFyQ2hhcnRfMXYuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL2NoYXJ0cy9idWJibGVDaGFydF8xdi5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvY2hhcnRzL3NjYXR0ZXJQbG90XzJ2LmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEhlbHBlcnMuXG4gKi9cblxudmFyIHMgPSAxMDAwO1xudmFyIG0gPSBzICogNjA7XG52YXIgaCA9IG0gKiA2MDtcbnZhciBkID0gaCAqIDI0O1xudmFyIHkgPSBkICogMzY1LjI1O1xuXG4vKipcbiAqIFBhcnNlIG9yIGZvcm1hdCB0aGUgZ2l2ZW4gYHZhbGAuXG4gKlxuICogT3B0aW9uczpcbiAqXG4gKiAgLSBgbG9uZ2AgdmVyYm9zZSBmb3JtYXR0aW5nIFtmYWxzZV1cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IHZhbFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHRocm93cyB7RXJyb3J9IHRocm93IGFuIGVycm9yIGlmIHZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgbnVtYmVyXG4gKiBAcmV0dXJuIHtTdHJpbmd8TnVtYmVyfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHZhbCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsO1xuICBpZiAodHlwZSA9PT0gJ3N0cmluZycgJiYgdmFsLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gcGFyc2UodmFsKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSAnbnVtYmVyJyAmJiBpc05hTih2YWwpID09PSBmYWxzZSkge1xuICAgIHJldHVybiBvcHRpb25zLmxvbmcgPyBmbXRMb25nKHZhbCkgOiBmbXRTaG9ydCh2YWwpO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihcbiAgICAndmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSB2YWxpZCBudW1iZXIuIHZhbD0nICtcbiAgICAgIEpTT04uc3RyaW5naWZ5KHZhbClcbiAgKTtcbn07XG5cbi8qKlxuICogUGFyc2UgdGhlIGdpdmVuIGBzdHJgIGFuZCByZXR1cm4gbWlsbGlzZWNvbmRzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHBhcnNlKHN0cikge1xuICBzdHIgPSBTdHJpbmcoc3RyKTtcbiAgaWYgKHN0ci5sZW5ndGggPiAxMDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIG1hdGNoID0gL14oKD86XFxkKyk/XFwuP1xcZCspICoobWlsbGlzZWNvbmRzP3xtc2Vjcz98bXN8c2Vjb25kcz98c2Vjcz98c3xtaW51dGVzP3xtaW5zP3xtfGhvdXJzP3xocnM/fGh8ZGF5cz98ZHx5ZWFycz98eXJzP3x5KT8kL2kuZXhlYyhcbiAgICBzdHJcbiAgKTtcbiAgaWYgKCFtYXRjaCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbiA9IHBhcnNlRmxvYXQobWF0Y2hbMV0pO1xuICB2YXIgdHlwZSA9IChtYXRjaFsyXSB8fCAnbXMnKS50b0xvd2VyQ2FzZSgpO1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICd5ZWFycyc6XG4gICAgY2FzZSAneWVhcic6XG4gICAgY2FzZSAneXJzJzpcbiAgICBjYXNlICd5cic6XG4gICAgY2FzZSAneSc6XG4gICAgICByZXR1cm4gbiAqIHk7XG4gICAgY2FzZSAnZGF5cyc6XG4gICAgY2FzZSAnZGF5JzpcbiAgICBjYXNlICdkJzpcbiAgICAgIHJldHVybiBuICogZDtcbiAgICBjYXNlICdob3Vycyc6XG4gICAgY2FzZSAnaG91cic6XG4gICAgY2FzZSAnaHJzJzpcbiAgICBjYXNlICdocic6XG4gICAgY2FzZSAnaCc6XG4gICAgICByZXR1cm4gbiAqIGg7XG4gICAgY2FzZSAnbWludXRlcyc6XG4gICAgY2FzZSAnbWludXRlJzpcbiAgICBjYXNlICdtaW5zJzpcbiAgICBjYXNlICdtaW4nOlxuICAgIGNhc2UgJ20nOlxuICAgICAgcmV0dXJuIG4gKiBtO1xuICAgIGNhc2UgJ3NlY29uZHMnOlxuICAgIGNhc2UgJ3NlY29uZCc6XG4gICAgY2FzZSAnc2Vjcyc6XG4gICAgY2FzZSAnc2VjJzpcbiAgICBjYXNlICdzJzpcbiAgICAgIHJldHVybiBuICogcztcbiAgICBjYXNlICdtaWxsaXNlY29uZHMnOlxuICAgIGNhc2UgJ21pbGxpc2Vjb25kJzpcbiAgICBjYXNlICdtc2Vjcyc6XG4gICAgY2FzZSAnbXNlYyc6XG4gICAgY2FzZSAnbXMnOlxuICAgICAgcmV0dXJuIG47XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn1cblxuLyoqXG4gKiBTaG9ydCBmb3JtYXQgZm9yIGBtc2AuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBmbXRTaG9ydChtcykge1xuICBpZiAobXMgPj0gZCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gZCkgKyAnZCc7XG4gIH1cbiAgaWYgKG1zID49IGgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGgpICsgJ2gnO1xuICB9XG4gIGlmIChtcyA+PSBtKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBtKSArICdtJztcbiAgfVxuICBpZiAobXMgPj0gcykge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gcykgKyAncyc7XG4gIH1cbiAgcmV0dXJuIG1zICsgJ21zJztcbn1cblxuLyoqXG4gKiBMb25nIGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGZtdExvbmcobXMpIHtcbiAgcmV0dXJuIHBsdXJhbChtcywgZCwgJ2RheScpIHx8XG4gICAgcGx1cmFsKG1zLCBoLCAnaG91cicpIHx8XG4gICAgcGx1cmFsKG1zLCBtLCAnbWludXRlJykgfHxcbiAgICBwbHVyYWwobXMsIHMsICdzZWNvbmQnKSB8fFxuICAgIG1zICsgJyBtcyc7XG59XG5cbi8qKlxuICogUGx1cmFsaXphdGlvbiBoZWxwZXIuXG4gKi9cblxuZnVuY3Rpb24gcGx1cmFsKG1zLCBuLCBuYW1lKSB7XG4gIGlmIChtcyA8IG4pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKG1zIDwgbiAqIDEuNSkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKG1zIC8gbikgKyAnICcgKyBuYW1lO1xuICB9XG4gIHJldHVybiBNYXRoLmNlaWwobXMgLyBuKSArICcgJyArIG5hbWUgKyAncyc7XG59XG4iLCJcbi8qKlxuICogVGhpcyBpcyB0aGUgY29tbW9uIGxvZ2ljIGZvciBib3RoIHRoZSBOb2RlLmpzIGFuZCB3ZWIgYnJvd3NlclxuICogaW1wbGVtZW50YXRpb25zIG9mIGBkZWJ1ZygpYC5cbiAqXG4gKiBFeHBvc2UgYGRlYnVnKClgIGFzIHRoZSBtb2R1bGUuXG4gKi9cblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gY3JlYXRlRGVidWcuZGVidWcgPSBjcmVhdGVEZWJ1Z1snZGVmYXVsdCddID0gY3JlYXRlRGVidWc7XG5leHBvcnRzLmNvZXJjZSA9IGNvZXJjZTtcbmV4cG9ydHMuZGlzYWJsZSA9IGRpc2FibGU7XG5leHBvcnRzLmVuYWJsZSA9IGVuYWJsZTtcbmV4cG9ydHMuZW5hYmxlZCA9IGVuYWJsZWQ7XG5leHBvcnRzLmh1bWFuaXplID0gcmVxdWlyZSgnbXMnKTtcblxuLyoqXG4gKiBUaGUgY3VycmVudGx5IGFjdGl2ZSBkZWJ1ZyBtb2RlIG5hbWVzLCBhbmQgbmFtZXMgdG8gc2tpcC5cbiAqL1xuXG5leHBvcnRzLm5hbWVzID0gW107XG5leHBvcnRzLnNraXBzID0gW107XG5cbi8qKlxuICogTWFwIG9mIHNwZWNpYWwgXCIlblwiIGhhbmRsaW5nIGZ1bmN0aW9ucywgZm9yIHRoZSBkZWJ1ZyBcImZvcm1hdFwiIGFyZ3VtZW50LlxuICpcbiAqIFZhbGlkIGtleSBuYW1lcyBhcmUgYSBzaW5nbGUsIGxvd2VyIG9yIHVwcGVyLWNhc2UgbGV0dGVyLCBpLmUuIFwiblwiIGFuZCBcIk5cIi5cbiAqL1xuXG5leHBvcnRzLmZvcm1hdHRlcnMgPSB7fTtcblxuLyoqXG4gKiBQcmV2aW91cyBsb2cgdGltZXN0YW1wLlxuICovXG5cbnZhciBwcmV2VGltZTtcblxuLyoqXG4gKiBTZWxlY3QgYSBjb2xvci5cbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHNlbGVjdENvbG9yKG5hbWVzcGFjZSkge1xuICB2YXIgaGFzaCA9IDAsIGk7XG5cbiAgZm9yIChpIGluIG5hbWVzcGFjZSkge1xuICAgIGhhc2ggID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBuYW1lc3BhY2UuY2hhckNvZGVBdChpKTtcbiAgICBoYXNoIHw9IDA7IC8vIENvbnZlcnQgdG8gMzJiaXQgaW50ZWdlclxuICB9XG5cbiAgcmV0dXJuIGV4cG9ydHMuY29sb3JzW01hdGguYWJzKGhhc2gpICUgZXhwb3J0cy5jb2xvcnMubGVuZ3RoXTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBkZWJ1Z2dlciB3aXRoIHRoZSBnaXZlbiBgbmFtZXNwYWNlYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gY3JlYXRlRGVidWcobmFtZXNwYWNlKSB7XG5cbiAgZnVuY3Rpb24gZGVidWcoKSB7XG4gICAgLy8gZGlzYWJsZWQ/XG4gICAgaWYgKCFkZWJ1Zy5lbmFibGVkKSByZXR1cm47XG5cbiAgICB2YXIgc2VsZiA9IGRlYnVnO1xuXG4gICAgLy8gc2V0IGBkaWZmYCB0aW1lc3RhbXBcbiAgICB2YXIgY3VyciA9ICtuZXcgRGF0ZSgpO1xuICAgIHZhciBtcyA9IGN1cnIgLSAocHJldlRpbWUgfHwgY3Vycik7XG4gICAgc2VsZi5kaWZmID0gbXM7XG4gICAgc2VsZi5wcmV2ID0gcHJldlRpbWU7XG4gICAgc2VsZi5jdXJyID0gY3VycjtcbiAgICBwcmV2VGltZSA9IGN1cnI7XG5cbiAgICAvLyB0dXJuIHRoZSBgYXJndW1lbnRzYCBpbnRvIGEgcHJvcGVyIEFycmF5XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgIH1cblxuICAgIGFyZ3NbMF0gPSBleHBvcnRzLmNvZXJjZShhcmdzWzBdKTtcblxuICAgIGlmICgnc3RyaW5nJyAhPT0gdHlwZW9mIGFyZ3NbMF0pIHtcbiAgICAgIC8vIGFueXRoaW5nIGVsc2UgbGV0J3MgaW5zcGVjdCB3aXRoICVPXG4gICAgICBhcmdzLnVuc2hpZnQoJyVPJyk7XG4gICAgfVxuXG4gICAgLy8gYXBwbHkgYW55IGBmb3JtYXR0ZXJzYCB0cmFuc2Zvcm1hdGlvbnNcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIGFyZ3NbMF0gPSBhcmdzWzBdLnJlcGxhY2UoLyUoW2EtekEtWiVdKS9nLCBmdW5jdGlvbihtYXRjaCwgZm9ybWF0KSB7XG4gICAgICAvLyBpZiB3ZSBlbmNvdW50ZXIgYW4gZXNjYXBlZCAlIHRoZW4gZG9uJ3QgaW5jcmVhc2UgdGhlIGFycmF5IGluZGV4XG4gICAgICBpZiAobWF0Y2ggPT09ICclJScpIHJldHVybiBtYXRjaDtcbiAgICAgIGluZGV4Kys7XG4gICAgICB2YXIgZm9ybWF0dGVyID0gZXhwb3J0cy5mb3JtYXR0ZXJzW2Zvcm1hdF07XG4gICAgICBpZiAoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIGZvcm1hdHRlcikge1xuICAgICAgICB2YXIgdmFsID0gYXJnc1tpbmRleF07XG4gICAgICAgIG1hdGNoID0gZm9ybWF0dGVyLmNhbGwoc2VsZiwgdmFsKTtcblxuICAgICAgICAvLyBub3cgd2UgbmVlZCB0byByZW1vdmUgYGFyZ3NbaW5kZXhdYCBzaW5jZSBpdCdzIGlubGluZWQgaW4gdGhlIGBmb3JtYXRgXG4gICAgICAgIGFyZ3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgaW5kZXgtLTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9KTtcblxuICAgIC8vIGFwcGx5IGVudi1zcGVjaWZpYyBmb3JtYXR0aW5nIChjb2xvcnMsIGV0Yy4pXG4gICAgZXhwb3J0cy5mb3JtYXRBcmdzLmNhbGwoc2VsZiwgYXJncyk7XG5cbiAgICB2YXIgbG9nRm4gPSBkZWJ1Zy5sb2cgfHwgZXhwb3J0cy5sb2cgfHwgY29uc29sZS5sb2cuYmluZChjb25zb2xlKTtcbiAgICBsb2dGbi5hcHBseShzZWxmLCBhcmdzKTtcbiAgfVxuXG4gIGRlYnVnLm5hbWVzcGFjZSA9IG5hbWVzcGFjZTtcbiAgZGVidWcuZW5hYmxlZCA9IGV4cG9ydHMuZW5hYmxlZChuYW1lc3BhY2UpO1xuICBkZWJ1Zy51c2VDb2xvcnMgPSBleHBvcnRzLnVzZUNvbG9ycygpO1xuICBkZWJ1Zy5jb2xvciA9IHNlbGVjdENvbG9yKG5hbWVzcGFjZSk7XG5cbiAgLy8gZW52LXNwZWNpZmljIGluaXRpYWxpemF0aW9uIGxvZ2ljIGZvciBkZWJ1ZyBpbnN0YW5jZXNcbiAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBleHBvcnRzLmluaXQpIHtcbiAgICBleHBvcnRzLmluaXQoZGVidWcpO1xuICB9XG5cbiAgcmV0dXJuIGRlYnVnO1xufVxuXG4vKipcbiAqIEVuYWJsZXMgYSBkZWJ1ZyBtb2RlIGJ5IG5hbWVzcGFjZXMuIFRoaXMgY2FuIGluY2x1ZGUgbW9kZXNcbiAqIHNlcGFyYXRlZCBieSBhIGNvbG9uIGFuZCB3aWxkY2FyZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZW5hYmxlKG5hbWVzcGFjZXMpIHtcbiAgZXhwb3J0cy5zYXZlKG5hbWVzcGFjZXMpO1xuXG4gIGV4cG9ydHMubmFtZXMgPSBbXTtcbiAgZXhwb3J0cy5za2lwcyA9IFtdO1xuXG4gIHZhciBzcGxpdCA9ICh0eXBlb2YgbmFtZXNwYWNlcyA9PT0gJ3N0cmluZycgPyBuYW1lc3BhY2VzIDogJycpLnNwbGl0KC9bXFxzLF0rLyk7XG4gIHZhciBsZW4gPSBzcGxpdC5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGlmICghc3BsaXRbaV0pIGNvbnRpbnVlOyAvLyBpZ25vcmUgZW1wdHkgc3RyaW5nc1xuICAgIG5hbWVzcGFjZXMgPSBzcGxpdFtpXS5yZXBsYWNlKC9cXCovZywgJy4qPycpO1xuICAgIGlmIChuYW1lc3BhY2VzWzBdID09PSAnLScpIHtcbiAgICAgIGV4cG9ydHMuc2tpcHMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMuc3Vic3RyKDEpICsgJyQnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4cG9ydHMubmFtZXMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMgKyAnJCcpKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNhYmxlIGRlYnVnIG91dHB1dC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGRpc2FibGUoKSB7XG4gIGV4cG9ydHMuZW5hYmxlKCcnKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIG1vZGUgbmFtZSBpcyBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2UuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGVuYWJsZWQobmFtZSkge1xuICB2YXIgaSwgbGVuO1xuICBmb3IgKGkgPSAwLCBsZW4gPSBleHBvcnRzLnNraXBzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGV4cG9ydHMuc2tpcHNbaV0udGVzdChuYW1lKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICBmb3IgKGkgPSAwLCBsZW4gPSBleHBvcnRzLm5hbWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGV4cG9ydHMubmFtZXNbaV0udGVzdChuYW1lKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBDb2VyY2UgYHZhbGAuXG4gKlxuICogQHBhcmFtIHtNaXhlZH0gdmFsXG4gKiBAcmV0dXJuIHtNaXhlZH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGNvZXJjZSh2YWwpIHtcbiAgaWYgKHZhbCBpbnN0YW5jZW9mIEVycm9yKSByZXR1cm4gdmFsLnN0YWNrIHx8IHZhbC5tZXNzYWdlO1xuICByZXR1cm4gdmFsO1xufVxuIiwiLyoqXG4gKiBUaGlzIGlzIHRoZSB3ZWIgYnJvd3NlciBpbXBsZW1lbnRhdGlvbiBvZiBgZGVidWcoKWAuXG4gKlxuICogRXhwb3NlIGBkZWJ1ZygpYCBhcyB0aGUgbW9kdWxlLlxuICovXG5cbmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZGVidWcnKTtcbmV4cG9ydHMubG9nID0gbG9nO1xuZXhwb3J0cy5mb3JtYXRBcmdzID0gZm9ybWF0QXJncztcbmV4cG9ydHMuc2F2ZSA9IHNhdmU7XG5leHBvcnRzLmxvYWQgPSBsb2FkO1xuZXhwb3J0cy51c2VDb2xvcnMgPSB1c2VDb2xvcnM7XG5leHBvcnRzLnN0b3JhZ2UgPSAndW5kZWZpbmVkJyAhPSB0eXBlb2YgY2hyb21lXG4gICAgICAgICAgICAgICAmJiAndW5kZWZpbmVkJyAhPSB0eXBlb2YgY2hyb21lLnN0b3JhZ2VcbiAgICAgICAgICAgICAgICAgID8gY2hyb21lLnN0b3JhZ2UubG9jYWxcbiAgICAgICAgICAgICAgICAgIDogbG9jYWxzdG9yYWdlKCk7XG5cbi8qKlxuICogQ29sb3JzLlxuICovXG5cbmV4cG9ydHMuY29sb3JzID0gW1xuICAnbGlnaHRzZWFncmVlbicsXG4gICdmb3Jlc3RncmVlbicsXG4gICdnb2xkZW5yb2QnLFxuICAnZG9kZ2VyYmx1ZScsXG4gICdkYXJrb3JjaGlkJyxcbiAgJ2NyaW1zb24nXG5dO1xuXG4vKipcbiAqIEN1cnJlbnRseSBvbmx5IFdlYktpdC1iYXNlZCBXZWIgSW5zcGVjdG9ycywgRmlyZWZveCA+PSB2MzEsXG4gKiBhbmQgdGhlIEZpcmVidWcgZXh0ZW5zaW9uIChhbnkgRmlyZWZveCB2ZXJzaW9uKSBhcmUga25vd25cbiAqIHRvIHN1cHBvcnQgXCIlY1wiIENTUyBjdXN0b21pemF0aW9ucy5cbiAqXG4gKiBUT0RPOiBhZGQgYSBgbG9jYWxTdG9yYWdlYCB2YXJpYWJsZSB0byBleHBsaWNpdGx5IGVuYWJsZS9kaXNhYmxlIGNvbG9yc1xuICovXG5cbmZ1bmN0aW9uIHVzZUNvbG9ycygpIHtcbiAgLy8gTkI6IEluIGFuIEVsZWN0cm9uIHByZWxvYWQgc2NyaXB0LCBkb2N1bWVudCB3aWxsIGJlIGRlZmluZWQgYnV0IG5vdCBmdWxseVxuICAvLyBpbml0aWFsaXplZC4gU2luY2Ugd2Uga25vdyB3ZSdyZSBpbiBDaHJvbWUsIHdlJ2xsIGp1c3QgZGV0ZWN0IHRoaXMgY2FzZVxuICAvLyBleHBsaWNpdGx5XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucHJvY2VzcyAmJiB3aW5kb3cucHJvY2Vzcy50eXBlID09PSAncmVuZGVyZXInKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBpcyB3ZWJraXQ/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE2NDU5NjA2LzM3Njc3M1xuICAvLyBkb2N1bWVudCBpcyB1bmRlZmluZWQgaW4gcmVhY3QtbmF0aXZlOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QtbmF0aXZlL3B1bGwvMTYzMlxuICByZXR1cm4gKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuV2Via2l0QXBwZWFyYW5jZSkgfHxcbiAgICAvLyBpcyBmaXJlYnVnPyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zOTgxMjAvMzc2NzczXG4gICAgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5jb25zb2xlICYmICh3aW5kb3cuY29uc29sZS5maXJlYnVnIHx8ICh3aW5kb3cuY29uc29sZS5leGNlcHRpb24gJiYgd2luZG93LmNvbnNvbGUudGFibGUpKSkgfHxcbiAgICAvLyBpcyBmaXJlZm94ID49IHYzMT9cbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1Rvb2xzL1dlYl9Db25zb2xlI1N0eWxpbmdfbWVzc2FnZXNcbiAgICAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2ZpcmVmb3hcXC8oXFxkKykvKSAmJiBwYXJzZUludChSZWdFeHAuJDEsIDEwKSA+PSAzMSkgfHxcbiAgICAvLyBkb3VibGUgY2hlY2sgd2Via2l0IGluIHVzZXJBZ2VudCBqdXN0IGluIGNhc2Ugd2UgYXJlIGluIGEgd29ya2VyXG4gICAgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9hcHBsZXdlYmtpdFxcLyhcXGQrKS8pKTtcbn1cblxuLyoqXG4gKiBNYXAgJWogdG8gYEpTT04uc3RyaW5naWZ5KClgLCBzaW5jZSBubyBXZWIgSW5zcGVjdG9ycyBkbyB0aGF0IGJ5IGRlZmF1bHQuXG4gKi9cblxuZXhwb3J0cy5mb3JtYXR0ZXJzLmogPSBmdW5jdGlvbih2KSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHYpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gJ1tVbmV4cGVjdGVkSlNPTlBhcnNlRXJyb3JdOiAnICsgZXJyLm1lc3NhZ2U7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBDb2xvcml6ZSBsb2cgYXJndW1lbnRzIGlmIGVuYWJsZWQuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBmb3JtYXRBcmdzKGFyZ3MpIHtcbiAgdmFyIHVzZUNvbG9ycyA9IHRoaXMudXNlQ29sb3JzO1xuXG4gIGFyZ3NbMF0gPSAodXNlQ29sb3JzID8gJyVjJyA6ICcnKVxuICAgICsgdGhpcy5uYW1lc3BhY2VcbiAgICArICh1c2VDb2xvcnMgPyAnICVjJyA6ICcgJylcbiAgICArIGFyZ3NbMF1cbiAgICArICh1c2VDb2xvcnMgPyAnJWMgJyA6ICcgJylcbiAgICArICcrJyArIGV4cG9ydHMuaHVtYW5pemUodGhpcy5kaWZmKTtcblxuICBpZiAoIXVzZUNvbG9ycykgcmV0dXJuO1xuXG4gIHZhciBjID0gJ2NvbG9yOiAnICsgdGhpcy5jb2xvcjtcbiAgYXJncy5zcGxpY2UoMSwgMCwgYywgJ2NvbG9yOiBpbmhlcml0JylcblxuICAvLyB0aGUgZmluYWwgXCIlY1wiIGlzIHNvbWV3aGF0IHRyaWNreSwgYmVjYXVzZSB0aGVyZSBjb3VsZCBiZSBvdGhlclxuICAvLyBhcmd1bWVudHMgcGFzc2VkIGVpdGhlciBiZWZvcmUgb3IgYWZ0ZXIgdGhlICVjLCBzbyB3ZSBuZWVkIHRvXG4gIC8vIGZpZ3VyZSBvdXQgdGhlIGNvcnJlY3QgaW5kZXggdG8gaW5zZXJ0IHRoZSBDU1MgaW50b1xuICB2YXIgaW5kZXggPSAwO1xuICB2YXIgbGFzdEMgPSAwO1xuICBhcmdzWzBdLnJlcGxhY2UoLyVbYS16QS1aJV0vZywgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICBpZiAoJyUlJyA9PT0gbWF0Y2gpIHJldHVybjtcbiAgICBpbmRleCsrO1xuICAgIGlmICgnJWMnID09PSBtYXRjaCkge1xuICAgICAgLy8gd2Ugb25seSBhcmUgaW50ZXJlc3RlZCBpbiB0aGUgKmxhc3QqICVjXG4gICAgICAvLyAodGhlIHVzZXIgbWF5IGhhdmUgcHJvdmlkZWQgdGhlaXIgb3duKVxuICAgICAgbGFzdEMgPSBpbmRleDtcbiAgICB9XG4gIH0pO1xuXG4gIGFyZ3Muc3BsaWNlKGxhc3RDLCAwLCBjKTtcbn1cblxuLyoqXG4gKiBJbnZva2VzIGBjb25zb2xlLmxvZygpYCB3aGVuIGF2YWlsYWJsZS5cbiAqIE5vLW9wIHdoZW4gYGNvbnNvbGUubG9nYCBpcyBub3QgYSBcImZ1bmN0aW9uXCIuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBsb2coKSB7XG4gIC8vIHRoaXMgaGFja2VyeSBpcyByZXF1aXJlZCBmb3IgSUU4LzksIHdoZXJlXG4gIC8vIHRoZSBgY29uc29sZS5sb2dgIGZ1bmN0aW9uIGRvZXNuJ3QgaGF2ZSAnYXBwbHknXG4gIHJldHVybiAnb2JqZWN0JyA9PT0gdHlwZW9mIGNvbnNvbGVcbiAgICAmJiBjb25zb2xlLmxvZ1xuICAgICYmIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKGNvbnNvbGUubG9nLCBjb25zb2xlLCBhcmd1bWVudHMpO1xufVxuXG4vKipcbiAqIFNhdmUgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBzYXZlKG5hbWVzcGFjZXMpIHtcbiAgdHJ5IHtcbiAgICBpZiAobnVsbCA9PSBuYW1lc3BhY2VzKSB7XG4gICAgICBleHBvcnRzLnN0b3JhZ2UucmVtb3ZlSXRlbSgnZGVidWcnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXhwb3J0cy5zdG9yYWdlLmRlYnVnID0gbmFtZXNwYWNlcztcbiAgICB9XG4gIH0gY2F0Y2goZSkge31cbn1cblxuLyoqXG4gKiBMb2FkIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcmV0dXJuIHtTdHJpbmd9IHJldHVybnMgdGhlIHByZXZpb3VzbHkgcGVyc2lzdGVkIGRlYnVnIG1vZGVzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBsb2FkKCkge1xuICB2YXIgcjtcbiAgdHJ5IHtcbiAgICByID0gZXhwb3J0cy5zdG9yYWdlLmRlYnVnO1xuICB9IGNhdGNoKGUpIHt9XG5cbiAgLy8gSWYgZGVidWcgaXNuJ3Qgc2V0IGluIExTLCBhbmQgd2UncmUgaW4gRWxlY3Ryb24sIHRyeSB0byBsb2FkICRERUJVR1xuICBpZiAoIXIgJiYgdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICdlbnYnIGluIHByb2Nlc3MpIHtcbiAgICByID0gcHJvY2Vzcy5lbnYuREVCVUc7XG4gIH1cblxuICByZXR1cm4gcjtcbn1cblxuLyoqXG4gKiBFbmFibGUgbmFtZXNwYWNlcyBsaXN0ZWQgaW4gYGxvY2FsU3RvcmFnZS5kZWJ1Z2AgaW5pdGlhbGx5LlxuICovXG5cbmV4cG9ydHMuZW5hYmxlKGxvYWQoKSk7XG5cbi8qKlxuICogTG9jYWxzdG9yYWdlIGF0dGVtcHRzIHRvIHJldHVybiB0aGUgbG9jYWxzdG9yYWdlLlxuICpcbiAqIFRoaXMgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugc2FmYXJpIHRocm93c1xuICogd2hlbiBhIHVzZXIgZGlzYWJsZXMgY29va2llcy9sb2NhbHN0b3JhZ2VcbiAqIGFuZCB5b3UgYXR0ZW1wdCB0byBhY2Nlc3MgaXQuXG4gKlxuICogQHJldHVybiB7TG9jYWxTdG9yYWdlfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbG9jYWxzdG9yYWdlKCkge1xuICB0cnkge1xuICAgIHJldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlO1xuICB9IGNhdGNoIChlKSB7fVxufVxuIiwiZXhwb3J0IGNvbnN0IGNvbG9yX2NvdW50cmllcyA9ICdyZ2IoMTQ3LDE0NCwyNTIpJztcbmV4cG9ydCBjb25zdCBjb2xvcl9kaXNhYmxlZCA9ICdyZ2IoMjE0LCAyMTQsIDIxNCknO1xuZXhwb3J0IGNvbnN0IGNvbG9yX3N1cCA9ICdncmVlbic7XG5leHBvcnQgY29uc3QgY29sb3JfaW5mID0gJ3JlZCc7XG5leHBvcnQgY29uc3QgY29sb3JfaGlnaGxpZ2h0ID0gJ3llbGxvdyc7XG4iLCJpbXBvcnQgeyBjb2xvcl9pbmYsIGNvbG9yX3N1cCB9IGZyb20gJy4vb3B0aW9ucyc7XG5cbmNvbnN0IG1hdGhfYWJzID0gTWF0aC5hYnM7XG5jb25zdCBtYXRoX3JvdW5kID0gTWF0aC5yb3VuZDtcblxuZnVuY3Rpb24gcHJlcGFyZVRvb2x0aXAocGFyZW50X3N2Z19lbGVtKSB7XG4gIGNvbnN0IHRvb2x0aXAgPSBwYXJlbnRfc3ZnX2VsZW0uYXBwZW5kKCdnJylcbiAgICAuYXR0cignY2xhc3MnLCAndG9vbHRpcCcpXG4gICAgLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcblxuICB0b29sdGlwLmFwcGVuZCgncmVjdCcpXG4gICAgLmF0dHJzKHsgd2lkdGg6IDUwLCBoZWlnaHQ6IDQwLCBmaWxsOiAnd2hpdGUnIH0pXG4gICAgLnN0eWxlKCdvcGFjaXR5JywgMC41KTtcblxuICB0b29sdGlwLmFwcGVuZCgndGV4dCcpXG4gICAgLmF0dHJzKHsgY2xhc3M6ICdpZF9mZWF0dXJlJywgeDogMjUsIGR5OiAnMS4yZW0nLCAnZm9udC1zaXplJzogJzE0cHgnIH0pXG4gICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKTtcblxuICB0b29sdGlwLmFwcGVuZCgndGV4dCcpXG4gICAgLmF0dHJzKHtcbiAgICAgIGNsYXNzOiAndmFsdWVfZmVhdHVyZTEnLFxuICAgICAgeDogMjUsXG4gICAgICBkeTogJzIuNGVtJyxcbiAgICAgICdmb250LXNpemUnOiAnMTRweCcsXG4gICAgICAnZm9udC13ZWlnaHQnOiAnYm9sZCcgfSlcbiAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpO1xuXG4gIHRvb2x0aXAuYXBwZW5kKCd0ZXh0JylcbiAgICAuYXR0cnMoe1xuICAgICAgY2xhc3M6ICd2YWx1ZV9mZWF0dXJlMicsXG4gICAgICB4OiAyNSxcbiAgICAgIGR5OiAnMy41ZW0nLFxuICAgICAgJ2ZvbnQtc2l6ZSc6ICcxNHB4JyxcbiAgICAgICdmb250LXdlaWdodCc6ICdib2xkJyB9KVxuICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnbWlkZGxlJyk7XG5cbiAgdG9vbHRpcC5hcHBlbmQoJ3RleHQnKVxuICAgIC5hdHRycyh7XG4gICAgICBjbGFzczogJ3ZhbHVlX2ZlYXR1cmUzJyxcbiAgICAgIHg6IDI1LFxuICAgICAgZHk6ICc0LjZlbScsXG4gICAgICAnZm9udC1zaXplJzogJzE0cHgnLFxuICAgICAgJ2ZvbnQtd2VpZ2h0JzogJ2JvbGQnIH0pXG4gICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKTtcblxuICB0b29sdGlwLmFwcGVuZCgndGV4dCcpXG4gICAgLmF0dHJzKHtcbiAgICAgIGNsYXNzOiAndmFsdWVfZmVhdHVyZTQnLFxuICAgICAgeDogMjUsXG4gICAgICBkeTogJzUuN2VtJyxcbiAgICAgICdmb250LXNpemUnOiAnMTRweCcsXG4gICAgICAnZm9udC13ZWlnaHQnOiAnYm9sZCcgfSlcbiAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpO1xuXG4gIHJldHVybiB0b29sdGlwO1xufVxuXG5mdW5jdGlvbiB1bmJpbmRVSSgpIHtcbiAgLy8gUmVtb3ZlcyB0aGUgY3VycmVudCBiZWhhdmlvciBjb3JyZXNwb25kaW5nIHRvIGNsaWNraW5nIG9uIHRoZSBsZWZ0IG1lbnU6XG4gIGQzLnNlbGVjdEFsbCgnc3Bhbi5maWx0ZXJfdicpXG4gICAgLm9uKCdjbGljaycsIG51bGwpO1xuICBkMy5zZWxlY3RBbGwoJ3NwYW4udGFyZ2V0X3JlZ2lvbicpXG4gICAgLm9uKCdjbGljaycsIG51bGwpO1xuICBkMy5zZWxlY3RBbGwoJ3NwYW4ubGFiZWxfY2hrJylcbiAgICAub24oJ2NsaWNrJywgbnVsbCk7XG5cbiAgLy8gUmVtb3ZlIHRoZSB0YWJsZTpcbiAgZDMuc2VsZWN0KCcuZGF0YVRhYmxlLXdyYXBwZXInKS5yZW1vdmUoKTtcblxuICAvLyBVbmJpbmQgYnV0dG9ucyBvbiB0aGUgdG9wIG9mIHRoZSBtYXA6XG4gIGQzLnNlbGVjdCgnI2hlYWRlcl9tYXAnKVxuICAgIC5zZWxlY3RBbGwoJ2ltZycpXG4gICAgLm9uKCdjbGljaycsIG51bGwpO1xuXG4gIC8vIFJlbW92ZSB0aGUgc2VsZWN0aW9uIG1lbnUgKG9yIGJ1dHRvbnMpIHVuZGVyIHRoZSBjaGFydDpcbiAgZDMuc2VsZWN0KCcjYmFyX3NlY3Rpb24gPiAjYnV0dG9uc191bmRlcl9jaGFydCcpLnJlbW92ZSgpO1xuXG4gIC8vIFJlbW92ZXMgdGhlIGN1cnJlbnQgYmVoYXZpb3IgY29ycmVzcG9uZGluZyB0byBjbGlja2luZyBvbiB0aGUgdG9wIG1lbnU6XG4gIGQzLnNlbGVjdEFsbCgnLnR5cGVfY2hhcnQudGl0bGVfbWVudScpLm9uKCdjbGljaycsIG51bGwpO1xuXG4gIC8vIFJlbW92ZXMgdGhlIGN1cnJlbnQgYmVoYXZpb3IgY29ycmVzcG9uZGluZyB0byBwcmVzc2luZyB0aGUgQ29udHJvbCBrZXk6XG4gIGRvY3VtZW50Lm9ua2V5dXAgPSBudWxsO1xuICBkb2N1bWVudC5vbmtleWRvd24gPSBudWxsO1xufVxuXG4vKipcbipcbipcbipcbipcbiovXG5jb25zdCBjb21wID0gKHRlc3RfdmFsdWUsIHJlZl92YWx1ZSwgc2VyaWVfaW52ZXJzZWQpID0+IHtcbiAgaWYgKHRlc3RfdmFsdWUgPCByZWZfdmFsdWUpIHtcbiAgICByZXR1cm4gc2VyaWVfaW52ZXJzZWQgPyBjb2xvcl9zdXAgOiBjb2xvcl9pbmY7XG4gIH1cbiAgcmV0dXJuIHNlcmllX2ludmVyc2VkID8gY29sb3JfaW5mIDogY29sb3Jfc3VwO1xufTtcblxuXG4vKipcbipcbipcbipcbipcbiovXG5jb25zdCBjb21wMiA9ICh2YWwxLCB2YWwyLCByZWZfdmFsMSwgcmVmX3ZhbDIsIHhJbnZlcnNlZCwgeUludmVyc2VkKSA9PiB7XG4gIGlmICgodmFsMSA8IHJlZl92YWwxICYmICF4SW52ZXJzZWQpIHx8ICh2YWwxID4gcmVmX3ZhbDEgJiYgeEludmVyc2VkKSkgeyAvLyB2YWwxIGlzIGluZmVyaW9yOlxuICAgIGlmICh2YWwyIDwgcmVmX3ZhbDIpIHtcbiAgICAgIHJldHVybiB5SW52ZXJzZWQgPyAncmdiKDE2MCwgMzAsIDE2MCknIDogY29sb3JfaW5mO1xuICAgIH1cbiAgICByZXR1cm4geUludmVyc2VkID8gY29sb3JfaW5mIDogJ3JnYigxNjAsIDMwLCAxNjApJztcbiAgfVxuICAvLyB2YWwxIGlzIHN1cGVyaW9yIDpcbiAgaWYgKHZhbDIgPiByZWZfdmFsMikge1xuICAgIHJldHVybiAheUludmVyc2VkID8gY29sb3Jfc3VwIDogJ3JnYigxNjAsIDMwLCAxNjApJztcbiAgfVxuICByZXR1cm4gIXlJbnZlcnNlZCA/ICdyZ2IoMTYwLCAzMCwgMTYwKScgOiBjb2xvcl9zdXA7XG59O1xuXG5jbGFzcyBSZWN0IHtcbiAgY29uc3RydWN0b3IodG9wbGVmdCwgYm90dG9tcmlnaHQpIHtcbiAgICB0aGlzLnhtaW4gPSB0b3BsZWZ0WzBdO1xuICAgIHRoaXMueG1heCA9IGJvdHRvbXJpZ2h0WzBdO1xuICAgIHRoaXMueW1pbiA9IHRvcGxlZnRbMV07XG4gICAgdGhpcy55bWF4ID0gYm90dG9tcmlnaHRbMV07XG4gIH1cblxuICBjb250YWlucyhwdCkge1xuICAgIGlmIChwdFswXSA+PSB0aGlzLnhtaW4gJiYgcHRbMF0gPD0gdGhpcy54bWF4XG4gICAgICAgICYmIHB0WzFdID49IHRoaXMueW1pbiAmJiBwdFsxXSA8PSB0aGlzLnltYXgpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuY29uc3QgUHJvcFNpemVyID0gZnVuY3Rpb24gUHJvcFNpemVyKGZpeGVkX3ZhbHVlLCBmaXhlZF9zaXplKSB7XG4gIHRoaXMuZml4ZWRfdmFsdWUgPSBmaXhlZF92YWx1ZTtcbiAgY29uc3Qgc3FydCA9IE1hdGguc3FydDtcbiAgY29uc3QgYWJzID0gTWF0aC5hYnM7XG4gIGNvbnN0IFBJID0gTWF0aC5QSTtcbiAgdGhpcy5zbWF4ID0gZml4ZWRfc2l6ZSAqIGZpeGVkX3NpemUgKiBQSTtcbiAgdGhpcy5zY2FsZSA9IHZhbCA9PiBzcXJ0KGFicyh2YWwpICogdGhpcy5zbWF4IC8gdGhpcy5maXhlZF92YWx1ZSkgLyBQSTtcbiAgLy8gdGhpcy5nZXRfdmFsdWUgPSBzaXplID0+ICgoc2l6ZSAqIFBJKSAqKiAyKSAvIHRoaXMuc21heCAqIHRoaXMuZml4ZWRfdmFsdWU7XG4gIC8vIFVzZSBNYXRoIHBvdyB0byBzdXBwb3J0IGJyb3dzZXIgd2l0aG91dCAqKiBvcGVyYXRvcjpcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtcHJvcGVydGllc1xuICB0aGlzLmdldF92YWx1ZSA9IHNpemUgPT4gTWF0aC5wb3coc2l6ZSAqIFBJLCAyKSAvIHRoaXMuc21heCAqIHRoaXMuZml4ZWRfdmFsdWU7XG59O1xuXG5jb25zdCByZW1vdmVEdXBsaWNhdGVzID0gZnVuY3Rpb24gcmVtb3ZlRHVwbGljYXRlcyhhcnIpIHtcbiAgY29uc3QgdG1wID0gW107XG4gIGZvciAobGV0IGkgPSAwLCBsZW5fYXJyID0gYXJyLmxlbmd0aDsgaSA8IGxlbl9hcnI7IGkrKykge1xuICAgIGlmICh0bXAuaW5kZXhPZihhcnJbaV0pID09PSAtMSkge1xuICAgICAgdG1wLnB1c2goYXJyW2ldKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRtcDtcbn07XG5cbmNvbnN0IGdldFN2Z1BhdGhUeXBlID0gKHBhdGgpID0+IHtcbiAgaWYgKHBhdGguaW5kZXhPZignTSAnKSA+IC0xICYmIHBhdGguaW5kZXhPZignIEwgJykgPiAtMSkge1xuICAgIHJldHVybiAyO1xuICB9XG4gIHJldHVybiAxO1xufTtcblxuY29uc3Qgc3ZnUGF0aFRvQ29vcmRzID0gKHBhdGgsIHR5cGVfcGF0aCkgPT4ge1xuICBpZiAodHlwZV9wYXRoID09PSAxKSB7XG4gICAgcmV0dXJuIHBhdGguc2xpY2UoMSkuc3BsaXQoJ0wnKS5tYXAocHQgPT4gcHQuc3BsaXQoJywnKS5tYXAoYSA9PiArYSkpO1xuICB9XG4gIHJldHVybiBwYXRoLnNsaWNlKDIpLnNwbGl0KCcgTCAnKS5tYXAocHQgPT4gcHQuc3BsaXQoJyAnKS5tYXAoYSA9PiArYSkpO1xufTtcblxuZnVuY3Rpb24gY29tcHV0ZVBlcmNlbnRpbGVSYW5rKG9iaiwgZmllbGRfbmFtZSwgcmVzdWx0X2ZpZWxkX25hbWUpIHtcbiAgY29uc3QgdmFsdWVzID0gb2JqLm1hcChkID0+IGRbZmllbGRfbmFtZV0pO1xuICBjb25zdCBsZW5fdmFsdWVzID0gdmFsdWVzLmxlbmd0aDtcbiAgY29uc3QgZ2V0UFIgPSAodikgPT4ge1xuICAgIGxldCBjb3VudCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5fdmFsdWVzOyBpKyspIHtcbiAgICAgIGlmICh2YWx1ZXNbaV0gPD0gdikge1xuICAgICAgICBjb3VudCArPSAxO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gMTAwICogY291bnQgLyBsZW5fdmFsdWVzO1xuICB9O1xuICBmb3IgKGxldCBpeCA9IDA7IGl4IDwgbGVuX3ZhbHVlczsgaXgrKykge1xuICAgIG9ialtpeF1bcmVzdWx0X2ZpZWxkX25hbWVdID0gZ2V0UFIodmFsdWVzW2l4XSk7XG4gIH1cbn1cblxuY29uc3QgX2dldFBSID0gKHYsIHNlcmllKSA9PiB7XG4gIGxldCBjb3VudCA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2VyaWUubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc2VyaWVbaV0gPD0gdikge1xuICAgICAgY291bnQgKz0gMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIDEwMCAqIGNvdW50IC8gc2VyaWUubGVuZ3RoO1xufTtcblxuZXhwb3J0IHtcbiAgY29tcCxcbiAgY29tcDIsXG4gIG1hdGhfYWJzLFxuICBtYXRoX3JvdW5kLFxuICBSZWN0LFxuICBQcm9wU2l6ZXIsXG4gIHVuYmluZFVJLFxuICBwcmVwYXJlVG9vbHRpcCxcbiAgcmVtb3ZlRHVwbGljYXRlcyxcbiAgZ2V0U3ZnUGF0aFR5cGUsXG4gIHN2Z1BhdGhUb0Nvb3JkcyxcbiAgY29tcHV0ZVBlcmNlbnRpbGVSYW5rLFxuICBfZ2V0UFIsXG59O1xuIiwiaW1wb3J0IHsgcmVtb3ZlRHVwbGljYXRlcyB9IGZyb20gJy4vaGVscGVycyc7XG5cbmNvbnN0IGNyZWF0ZU1lbnUgPSBmdW5jdGlvbiBjcmVhdGVNZW51KG5hbWVzLCB2YXJpYWJsZXMsIHN0dWR5X3pvbmVzLCB0ZXJyaXRvcmlhbF9tZXNoKSB7XG4gIC8vIEZpcnN0IHNlY3Rpb24sIHJlZ2lvbnMgbmFtZXM6XG4gIGNvbnN0IHRpdGxlX3NlY3Rpb24xID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICB0aXRsZV9zZWN0aW9uMS5jbGFzc05hbWUgPSAndGl0bGVfbWVudSc7XG4gIHRpdGxlX3NlY3Rpb24xLmlubmVySFRNTCA9ICdNYSByw6lnaW9uJztcbiAgY29uc3Qgc2VjdGlvbjEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgc2VjdGlvbjEuY2xhc3NOYW1lID0gJ2JveCc7XG4gIHNlY3Rpb24xLnN0eWxlLm92ZXJmbG93ID0gJ2F1dG8nO1xuICBzZWN0aW9uMS5zdHlsZS5oZWlnaHQgPSAnMjAwcHgnO1xuICBmb3IgKGxldCBpID0gMCwgbGVuX2kgPSBuYW1lcy5sZW5ndGg7IGkgPCBsZW5faTsgaSsrKSB7XG4gICAgY29uc3QgaWQgPSBuYW1lc1tpXS5nZW87XG4gICAgY29uc3QgbmFtZSA9IG5hbWVzW2ldLk5vbTtcbiAgICBjb25zdCBlbnRyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBlbnRyeS5pbm5lckhUTUwgPSBgPHNwYW4gdmFsdWU9XCIke2lkfVwiIGNsYXNzPSd0YXJnZXRfcmVnaW9uIHNxdWFyZSc+PC9zcGFuPjxzcGFuIGNsYXNzPVwibGFiZWxfY2hrXCI+JHtuYW1lfTwvc3Bhbj5gO1xuICAgIHNlY3Rpb24xLmFwcGVuZENoaWxkKGVudHJ5KTtcbiAgfVxuXG4gIC8vIFNlY29uZCBzZWN0aW9uLCBncm91cHMgb2YgdmFyaWFibGVzOlxuICBjb25zdCB0aXRsZV9zZWN0aW9uMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgdGl0bGVfc2VjdGlvbjIuY2xhc3NOYW1lID0gJ3RpdGxlX21lbnUnO1xuICB0aXRsZV9zZWN0aW9uMi5pbm5lckhUTUwgPSAnTW9uL21lcyBpbmRpY2F0ZXVycyc7XG4gIGNvbnN0IHNlY3Rpb24yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHNlY3Rpb24yLmNsYXNzTmFtZSA9ICdib3gnO1xuXG4gIC8vIEZpbHRlciB0aGUgXCJ2YXJpYWJsZXNcIiB2YXJpYWJsZSB0byBmZXRjaCB0aGUgZ3JvdXAgbmFtZXMgOlxuICBjb25zdCBncm91cHNfdmFyID0gcmVtb3ZlRHVwbGljYXRlcyh2YXJpYWJsZXMubWFwKGQgPT4gZC5ncm91cCkpO1xuXG4gIGZvciAobGV0IGkgPSAwLCBsZW5faSA9IGdyb3Vwc192YXIubGVuZ3RoOyBpIDwgbGVuX2k7IGkrKykge1xuICAgIGNvbnN0IGdwX25hbWUgPSBncm91cHNfdmFyW2ldO1xuICAgIGNvbnN0IGVudHJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGVudHJ5LmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz0nc3F1YXJlJz48L3NwYW4+PHNwYW4+JHtncF9uYW1lfTwvc3Bhbj5gO1xuICAgIHNlY3Rpb24yLmFwcGVuZENoaWxkKGVudHJ5KTtcbiAgICBjb25zdCB2YXJfbmFtZXMgPSB2YXJpYWJsZXMuZmlsdGVyKGQgPT4gZC5ncm91cCA9PT0gZ3BfbmFtZSk7XG4gICAgZm9yIChsZXQgaiA9IDAsIGxlbl9qID0gdmFyX25hbWVzLmxlbmd0aDsgaiA8IGxlbl9qOyBqKyspIHtcbiAgICAgIGNvbnN0IG5hbWVfdmFyID0gdmFyX25hbWVzW2pdLm5hbWU7XG4gICAgICBjb25zdCBjb2RlX3ZhciA9IHZhcl9uYW1lc1tqXS5yYXRpbztcbiAgICAgIGNvbnN0IHN1Yl9lbnRyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgIHN1Yl9lbnRyeS5jbGFzc05hbWUgPSAnc21hbGwnO1xuICAgICAgc3ViX2VudHJ5LmlubmVySFRNTCA9IGA8c3BhbiB2YWx1ZT1cIiR7Y29kZV92YXJ9XCIgY2xhc3M9XCJ0YXJnZXRfdmFyaWFibGUgc21hbGxfc3F1YXJlXCI+PC9zcGFuPjxzcGFuIGNsYXNzPVwibGFiZWxfY2hrXCI+JHtuYW1lX3Zhcn08L3NwYW4+YDtcbiAgICAgIHNlY3Rpb24yLmFwcGVuZENoaWxkKHN1Yl9lbnRyeSk7XG4gICAgfVxuICB9XG5cbiAgLy8gVGhpcmQgc2VjdGlvbiwgc3R1ZHkgem9uZTpcbiAgY29uc3QgdGl0bGVfc2VjdGlvbjMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gIHRpdGxlX3NlY3Rpb24zLmNsYXNzTmFtZSA9ICd0aXRsZV9tZW51JztcbiAgdGl0bGVfc2VjdGlvbjMuaW5uZXJIVE1MID0gJ01vbiBlc3BhY2UgZFxcJ8OpdHVkZSc7XG4gIGNvbnN0IHNlY3Rpb24zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHNlY3Rpb24zLmNsYXNzTmFtZSA9ICdib3gnO1xuICBmb3IgKGxldCBpID0gMCwgbGVuX2kgPSBzdHVkeV96b25lcy5sZW5ndGg7IGkgPCBsZW5faTsgaSsrKSB7XG4gICAgY29uc3QgZW50cnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgY29uc3Qgem9uZSA9IHN0dWR5X3pvbmVzW2ldO1xuICAgIGVudHJ5LmlubmVySFRNTCA9IGA8c3BhbiBmaWx0ZXItdmFsdWU9XCIke3pvbmUuaWR9XCIgY2xhc3M9J2ZpbHRlcl92IHNxdWFyZSc+PC9zcGFuPjxzcGFuIGNsYXNzPVwibGFiZWxfY2hrXCI+JHt6b25lLm5hbWV9PC9zcGFuPmA7XG4gICAgc2VjdGlvbjMuYXBwZW5kQ2hpbGQoZW50cnkpO1xuICB9XG5cbiAgLy8gRm91cnRoIHNlY3Rpb246XG4gIGNvbnN0IHRpdGxlX3NlY3Rpb240ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICB0aXRsZV9zZWN0aW9uNC5jbGFzc05hbWUgPSAndGl0bGVfbWVudSc7XG4gIHRpdGxlX3NlY3Rpb240LmlubmVySFRNTCA9ICdNYWlsbGFnZSB0ZXJyaXRvcmlhbCBkXFwnYW5hbHlzZSc7XG4gIGNvbnN0IHNlY3Rpb240ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHNlY3Rpb240LmNsYXNzTmFtZSA9ICdib3gnO1xuICBmb3IgKGxldCBpID0gMCwgbGVuX2kgPSB0ZXJyaXRvcmlhbF9tZXNoLmxlbmd0aDsgaSA8IGxlbl9pOyBpKyspIHtcbiAgICBjb25zdCBlbnRyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBjb25zdCB0ZXJyaXRfbGV2ZWwgPSB0ZXJyaXRvcmlhbF9tZXNoW2ldO1xuICAgIGVudHJ5LmlubmVySFRNTCA9IGA8c3BhbiB2YWx1ZT1cIiR7dGVycml0X2xldmVsLmlkfVwiIGNsYXNzPSdzcXVhcmUgdGVycml0X2xldmVsJz48L3NwYW4+PHNwYW4gY2xhc3M9XCJsYWJlbF9jaGtcIj4ke3RlcnJpdF9sZXZlbC5uYW1lfTwvc3Bhbj5gO1xuICAgIHNlY3Rpb240LmFwcGVuZENoaWxkKGVudHJ5KTtcbiAgfVxuXG4gIC8vIFRoZSBhY3R1YWwgbWVudSBjb250YWluaW5nIHRoZXNlIDQgc2VjdGlvbnM6XG4gIGNvbnN0IG1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVudScpO1xuICBtZW51LmlkID0gJ21lbnUnO1xuICBtZW51LnN0eWxlLndpZHRoID0gJzM0MHB4JztcbiAgbWVudS5zdHlsZS5mbG9hdCA9ICdsZWZ0JztcbiAgbWVudS5hcHBlbmRDaGlsZCh0aXRsZV9zZWN0aW9uMSk7XG4gIG1lbnUuYXBwZW5kQ2hpbGQoc2VjdGlvbjEpO1xuICBtZW51LmFwcGVuZENoaWxkKHRpdGxlX3NlY3Rpb24yKTtcbiAgbWVudS5hcHBlbmRDaGlsZChzZWN0aW9uMik7XG4gIG1lbnUuYXBwZW5kQ2hpbGQodGl0bGVfc2VjdGlvbjMpO1xuICBtZW51LmFwcGVuZENoaWxkKHNlY3Rpb24zKTtcbiAgbWVudS5hcHBlbmRDaGlsZCh0aXRsZV9zZWN0aW9uNCk7XG4gIG1lbnUuYXBwZW5kQ2hpbGQoc2VjdGlvbjQpO1xufTtcblxuZXhwb3J0IHsgY3JlYXRlTWVudSB9O1xuIiwiaW1wb3J0IHsgYXBwIH0gZnJvbSAnLi8uLi9tYWluJztcblxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZVRvcE1lbnUoKSB7XG4gIGNvbnN0IHRvcF9tZW51ID0gZDMuc2VsZWN0KCcjbWVudXRvcCcpXG4gICAgLnN0eWxlcyh7ICdmb250LWZhbWlseSc6IFwiJ1NpZ25pa2EnLCBzYW5zLXNlcmlmXCIsICdmb250LXNpemUnOiAnMC44MGVtJywgcGFkZGluZzogJzAuM3B4JyB9KTtcbiAgY29uc3Qgd2lkdGhfbGVmdCA9IGAke2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtZW51JykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKyAyNX1weGA7XG4gIGNvbnN0IHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYmFyX3NlY3Rpb24nKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgY29uc3Qgd2lkdGhfY2VudHJhbF9jaGFydCA9IGAke3R9cHhgO1xuICBjb25zdCB3aWR0aF9tYXAgPSBgJHtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWFwX3NlY3Rpb24nKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCAtIDM1fXB4YDtcbiAgY29uc3Qgd2lkdGhfdHlwZV9jb21wID0gYCR7KHQgLSA4MCkgLyAzIC0gMn1weGA7XG4gIHRvcF9tZW51XG4gICAgLmFwcGVuZCgnZGl2JylcbiAgICAuYXR0cnMoeyBjbGFzczogJ3RpdGxlX3NlY3Rpb24nIH0pXG4gICAgLnN0eWxlcyh7IHdpZHRoOiB3aWR0aF9sZWZ0LCBmbG9hdDogJ2xlZnQnLCBtYXJnaW46ICcwIDNweCcgfSlcbiAgICAuaHRtbCgnU8OJTEVDVElPTicpO1xuXG4gIGNvbnN0IHR5cGVfY2hhcnQgPSB0b3BfbWVudVxuICAgIC5hcHBlbmQoJ2RpdicpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ3RvcF9zZWN0aW9uJylcbiAgICAuc3R5bGVzKHsgd2lkdGg6IHdpZHRoX2NlbnRyYWxfY2hhcnQsIGZsb2F0OiAnbGVmdCcsIG1hcmdpbjogJzAgM3B4JywgJ3RleHQtYWxpZ24nOiAnY2VudGVyJyB9KTtcblxuICBjb25zdCBwb3NpdGlvbiA9IHR5cGVfY2hhcnRcbiAgICAuYXBwZW5kKCdkaXYnKVxuICAgIC5hdHRyKCdjbGFzcycsICd0eXBlX2NvbXBhcmFpc29uJylcbiAgICAuc3R5bGVzKHsgd2lkdGg6IHdpZHRoX3R5cGVfY29tcCB9KTtcblxuICBwb3NpdGlvbi5hcHBlbmQoJ3AnKVxuICAgIC5hdHRyKCdjbGFzcycsICd0aXRsZV90eXBlX2NvbXAnKVxuICAgIC5odG1sKCdQT1NJVElPTicpO1xuXG4gIHBvc2l0aW9uLmFwcGVuZCgnc3BhbicpXG4gICAgLmF0dHJzKHsgY2xhc3M6ICd0eXBlX2NoYXJ0IGNoYXJ0X3QxJywgdmFsdWU6ICdCYXJDaGFydDEnIH0pXG4gICAgLmh0bWwoJzEgaW5kLicpO1xuXG4gIHBvc2l0aW9uLmFwcGVuZCgnc3BhbicpXG4gIC5hdHRycyh7IGNsYXNzOiAndHlwZV9jaGFydCBjaGFydF90MiBkaXNhYmxlZCcsIHZhbHVlOiAnU2NhdHRlclBsb3QyJyB9KVxuICAgIC5odG1sKCcyIGluZC4nKTtcblxuICBwb3NpdGlvbi5hcHBlbmQoJ3NwYW4nKVxuICAgIC5hdHRyKCdjbGFzcycsICd0eXBlX2NoYXJ0IGNoYXJ0X3QzIGRpc2FibGVkJylcbiAgICAuaHRtbCgnKzMgaW5kLicpO1xuXG4gIGNvbnN0IHJlc3NlbWJsYW5jZSA9IHR5cGVfY2hhcnRcbiAgICAuYXBwZW5kKCdkaXYnKVxuICAgIC5hdHRyKCdjbGFzcycsICd0eXBlX2NvbXBhcmFpc29uJylcbiAgICAuc3R5bGVzKHsgd2lkdGg6IHdpZHRoX3R5cGVfY29tcCB9KTtcblxuICByZXNzZW1ibGFuY2UuYXBwZW5kKCdwJylcbiAgICAuYXR0cignY2xhc3MnLCAndGl0bGVfdHlwZV9jb21wJylcbiAgICAuaHRtbCgnUkVTU0VNQkxBTkNFUycpO1xuXG4gIHJlc3NlbWJsYW5jZS5hcHBlbmQoJ3NwYW4nKVxuICAgIC5hdHRycyh7IGNsYXNzOiAndHlwZV9jaGFydCBjaGFydF90MScsIHZhbHVlOiAnQnViYmxlQ2hhcnQxJyB9KVxuICAgIC5odG1sKCcxIGluZC4nKTtcblxuICByZXNzZW1ibGFuY2UuYXBwZW5kKCdzcGFuJylcbiAgICAuYXR0cignY2xhc3MnLCAndHlwZV9jaGFydCBjaGFydF90MiBkaXNhYmxlZCcpXG4gICAgLmh0bWwoJysyIGluZC4nKTtcblxuICBjb25zdCBpbmVnYWxpdGUgPSB0eXBlX2NoYXJ0XG4gICAgLmFwcGVuZCgnZGl2JylcbiAgICAuYXR0cignY2xhc3MnLCAndHlwZV9jb21wYXJhaXNvbicpXG4gICAgLnN0eWxlcyh7IHdpZHRoOiB3aWR0aF90eXBlX2NvbXAgfSk7XG5cbiAgaW5lZ2FsaXRlLmFwcGVuZCgncCcpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ3RpdGxlX3R5cGVfY29tcCcpXG4gICAgLmh0bWwoJ0lOw4lHQUxJVMOJUycpO1xuXG4gIGluZWdhbGl0ZS5hcHBlbmQoJ3NwYW4nKVxuICAgIC5hdHRyKCdjbGFzcycsICd0eXBlX2NoYXJ0IGNoYXJ0X3QxIGRpc2FibGVkJylcbiAgICAuaHRtbCgnMSBpbmQuJyk7XG5cbiAgaW5lZ2FsaXRlLmFwcGVuZCgnc3BhbicpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ3R5cGVfY2hhcnQgY2hhcnRfdDIgZGlzYWJsZWQnKVxuICAgIC5odG1sKCcrMiBpbmQuJyk7XG5cbiAgdG9wX21lbnVcbiAgICAuYXBwZW5kKCdkaXYnKVxuICAgIC5hdHRycyh7IGNsYXNzOiAndGl0bGVfc2VjdGlvbicgfSlcbiAgICAuc3R5bGVzKHsgd2lkdGg6IHdpZHRoX21hcCwgZmxvYXQ6ICdsZWZ0JywgbWFyZ2luOiAnMCAwIDAgMjBweCcgfSlcbiAgICAuaHRtbCgnUVVFTExFUyBSRUdJT05TID8nKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VIZWFkZXJNYXBTZWN0aW9uKCkge1xuICBjb25zdCBoZWFkZXJfbWFwX3NlY3Rpb24gPSBkMy5zZWxlY3QoJyNtYXBfc2VjdGlvbicpXG4gICAgLmluc2VydCgncCcsICdzdmcnKVxuICAgIC5hdHRyKCdpZCcsICdoZWFkZXJfbWFwJylcbiAgICAuc3R5bGUoJ21hcmdpbicsICcwIDAgMCAxMHB4Jyk7XG5cbiAgaGVhZGVyX21hcF9zZWN0aW9uLmluc2VydCgnaW1nJylcbiAgICAuYXR0cnMoe1xuICAgICAgY2xhc3M6ICdtYXBfYnV0dG9uIGFjdGl2ZScsXG4gICAgICB3aWR0aDogMjAsXG4gICAgICBoZWlnaHQ6IDIwLFxuICAgICAgc3JjOiAnaW1nL2dpbXAtdG9vbC1yZWN0LXNlbGVjdC5wbmcnLFxuICAgICAgaWQ6ICdpbWdfcmVjdF9zZWxlYycsXG4gICAgfSk7XG5cbiAgaGVhZGVyX21hcF9zZWN0aW9uLmluc2VydCgnaW1nJylcbiAgICAuYXR0cnMoe1xuICAgICAgY2xhc3M6ICdtYXBfYnV0dG9uJyxcbiAgICAgIHdpZHRoOiAyMCxcbiAgICAgIGhlaWdodDogMjAsXG4gICAgICBzcmM6ICdpbWcvZ2ltcC10b29sLXpvb20ucG5nJyxcbiAgICAgIGlkOiAnaW1nX21hcF96b29tJyxcbiAgICB9KTtcblxuICBoZWFkZXJfbWFwX3NlY3Rpb24uaW5zZXJ0KCdpbWcnKVxuICAgIC5hdHRycyh7XG4gICAgICBjbGFzczogJ21hcF9idXR0b24nLFxuICAgICAgd2lkdGg6IDIwLFxuICAgICAgaGVpZ2h0OiAyMCxcbiAgICAgIHNyYzogJ2ltZy9naW1wLWN1cnNvci5wbmcnLFxuICAgICAgaWQ6ICdpbWdfbWFwX3NlbGVjdCcsXG4gICAgfSk7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VIZWFkZXJDaGFydCgpIHtcbiAgY29uc3QgaGVhZGVyX2Jhcl9zZWN0aW9uID0gZDMuc2VsZWN0KCcjYmFyX3NlY3Rpb24nKVxuICAgIC5pbnNlcnQoJ3AnLCAnc3ZnJylcbiAgICAuYXR0cignaWQnLCAnaGVhZGVyX2NoYXJ0JylcbiAgICAuc3R5bGUoJ21hcmdpbi1ib3R0b20nLCAnMCcpXG4gICAgLnN0eWxlKCdjbGVhcicsICdib3RoJyk7XG5cbiAgaGVhZGVyX2Jhcl9zZWN0aW9uLmluc2VydCgnaW1nJylcbiAgICAuYXR0cnMoe1xuICAgICAgd2lkdGg6IDI0LFxuICAgICAgaGVpZ2h0OiAyNCxcbiAgICAgIHNyYzogJ2ltZy9lZGl0LXRhYmxlLWluc2VydC1yb3ctYWJvdmUuc3ZnJyxcbiAgICAgIGlkOiAnaW1nX3RhYmxlJyxcbiAgICB9KVxuICAgIC5zdHlsZXMoeyBtYXJnaW46ICczcHgnLCBmbG9hdDogJ3JpZ2h0JyB9KVxuICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRhdGFUYWJsZS13cmFwcGVyJykuc3R5bGUuZGlzcGxheSkge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3ZnX21hcCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzdmdfbGVnZW5kJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2hlYWRlcl9tYXAnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaGVhZGVyX3RhYmxlJykuc3R5bGUuZGlzcGxheSA9IG51bGw7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kYXRhVGFibGUtd3JhcHBlcicpLnN0eWxlLmRpc3BsYXkgPSBudWxsO1xuICAgICAgICB0aGlzLnN0eWxlLmZpbHRlciA9ICdpbnZlcnQoNzUlKSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3ZnX21hcCcpLnN0eWxlLmRpc3BsYXkgPSBudWxsO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3ZnX2xlZ2VuZCcpLnN0eWxlLmRpc3BsYXkgPSBudWxsO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaGVhZGVyX21hcCcpLnN0eWxlLmRpc3BsYXkgPSBudWxsO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaGVhZGVyX3RhYmxlJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRhdGFUYWJsZS13cmFwcGVyJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgdGhpcy5zdHlsZS5maWx0ZXIgPSBudWxsO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIGhlYWRlcl9iYXJfc2VjdGlvbi5pbnNlcnQoJ2ltZycpXG4gICAgLmF0dHJzKHtcbiAgICAgIHdpZHRoOiAyNCxcbiAgICAgIGhlaWdodDogMjQsXG4gICAgICBzcmM6ICdpbWcvcHJpbnRlci5zdmcnLFxuICAgICAgaWQ6ICdpbWdfcHJpbnRlcicsXG4gICAgfSlcbiAgICAuc3R5bGVzKHsgbWFyZ2luOiAnM3B4JywgZmxvYXQ6ICdyaWdodCcgfSk7XG5cbiAgaGVhZGVyX2Jhcl9zZWN0aW9uLmluc2VydCgnaW1nJylcbiAgICAuYXR0cnMoe1xuICAgICAgd2lkdGg6IDI0LFxuICAgICAgaGVpZ2h0OiAyNCxcbiAgICAgIHNyYzogJ2ltZy9ndGstaW5mby5zdmcnLFxuICAgICAgaWQ6ICdpbWdfaW5mbycsXG4gICAgfSlcbiAgICAuc3R5bGVzKHsgbWFyZ2luOiAnM3B4JywgZmxvYXQ6ICdyaWdodCcgfSk7XG59XG4iLCIvKiFcclxuICpcclxuICogVmFuaWxsYS1EYXRhVGFibGVzXHJcbiAqIENvcHlyaWdodCAoYykgMjAxNS0yMDE3IEthcmwgU2F1bmRlcnMgKGh0dHA6Ly9tb2JpdXMub3ZoKVxyXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwKVxyXG4gKlxyXG4gKiBWZXJzaW9uOiAxLjQuMThcclxuICpcclxuICovXHJcbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xyXG4gICAgdmFyIHBsdWdpbiA9IFwiRGF0YVRhYmxlXCI7XHJcblxyXG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XHJcbiAgICAgICAgZGVmaW5lKFtdLCBmYWN0b3J5KHBsdWdpbikpO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShwbHVnaW4pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByb290W3BsdWdpbl0gPSBmYWN0b3J5KHBsdWdpbik7XHJcbiAgICB9XHJcbn0pKHRoaXMsIGZ1bmN0aW9uIChwbHVnaW4pIHtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG4gICAgdmFyIHdpbiA9IHdpbmRvdyxcclxuICAgICAgICBkb2MgPSBkb2N1bWVudCxcclxuICAgICAgICBib2R5ID0gZG9jLmJvZHk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZWZhdWx0IGNvbmZpZ3VyYXRpb25cclxuICAgICAqIEB0eXAge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgdmFyIGRlZmF1bHRDb25maWcgPSB7XHJcbiAgICAgICAgcGVyUGFnZTogMTAsXHJcbiAgICAgICAgcGVyUGFnZVNlbGVjdDogWzUsIDEwLCAxNSwgMjAsIDI1XSxcclxuXHJcbiAgICAgICAgc29ydGFibGU6IHRydWUsXHJcbiAgICAgICAgc2VhcmNoYWJsZTogdHJ1ZSxcclxuXHJcbiAgICAgICAgLy8gUGFnaW5hdGlvblxyXG4gICAgICAgIG5leHRQcmV2OiB0cnVlLFxyXG4gICAgICAgIGZpcnN0TGFzdDogZmFsc2UsXHJcbiAgICAgICAgcHJldlRleHQ6IFwiJmxzYXF1bztcIixcclxuICAgICAgICBuZXh0VGV4dDogXCImcnNhcXVvO1wiLFxyXG4gICAgICAgIGZpcnN0VGV4dDogXCImbGFxdW87XCIsXHJcbiAgICAgICAgbGFzdFRleHQ6IFwiJnJhcXVvO1wiLFxyXG4gICAgICAgIGVsbGlwc2lzVGV4dDogXCImaGVsbGlwO1wiLFxyXG4gICAgICAgIGFzY1RleHQ6IFwi4pa0XCIsXHJcbiAgICAgICAgZGVzY1RleHQ6IFwi4pa+XCIsXHJcbiAgICAgICAgdHJ1bmNhdGVQYWdlcjogdHJ1ZSxcclxuICAgICAgICBwYWdlckRlbHRhOiAyLFxyXG5cclxuICAgICAgICBmaXhlZENvbHVtbnM6IHRydWUsXHJcbiAgICAgICAgZml4ZWRIZWlnaHQ6IGZhbHNlLFxyXG5cclxuICAgICAgICBoZWFkZXI6IHRydWUsXHJcbiAgICAgICAgZm9vdGVyOiBmYWxzZSxcclxuXHJcbiAgICAgICAgLy8gQ3VzdG9taXNlIHRoZSBkaXNwbGF5IHRleHRcclxuICAgICAgICBsYWJlbHM6IHtcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiU2VhcmNoLi4uXCIsIC8vIFRoZSBzZWFyY2ggaW5wdXQgcGxhY2Vob2xkZXJcclxuICAgICAgICAgICAgcGVyUGFnZTogXCJ7c2VsZWN0fSBlbnRyaWVzIHBlciBwYWdlXCIsIC8vIHBlci1wYWdlIGRyb3Bkb3duIGxhYmVsXHJcbiAgICAgICAgICAgIG5vUm93czogXCJObyBlbnRyaWVzIGZvdW5kXCIsIC8vIE1lc3NhZ2Ugc2hvd24gd2hlbiB0aGVyZSBhcmUgbm8gc2VhcmNoIHJlc3VsdHNcclxuICAgICAgICAgICAgaW5mbzogXCJTaG93aW5nIHtzdGFydH0gdG8ge2VuZH0gb2Yge3Jvd3N9IGVudHJpZXNcIiAvL1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8vIEN1c3RvbWlzZSB0aGUgbGF5b3V0XHJcbiAgICAgICAgbGF5b3V0OiB7XHJcbiAgICAgICAgICAgIHRvcDogXCJ7c2VsZWN0fXtzZWFyY2h9XCIsXHJcbiAgICAgICAgICAgIGJvdHRvbTogXCJ7aW5mb317cGFnZXJ9XCJcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaXMgaXRlbSBpcyBvYmplY3RcclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIHZhciBpc09iamVjdCA9IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbCkgPT09IFwiW29iamVjdCBPYmplY3RdXCI7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaXMgaXRlbSBpcyBhcnJheVxyXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgdmFyIGlzQXJyYXkgPSBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBmb3IgdmFsaWQgSlNPTiBzdHJpbmdcclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICBzdHJcclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW58QXJyYXl8T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICB2YXIgaXNKc29uID0gZnVuY3Rpb24gKHN0cikge1xyXG4gICAgICAgIHZhciB0ID0gITE7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdCA9IEpTT04ucGFyc2Uoc3RyKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICEobnVsbCA9PT0gdCB8fCAoIWlzQXJyYXkodCkgJiYgIWlzT2JqZWN0KHQpKSkgJiYgdDtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXJnZSBvYmplY3RzIChyZWNjdXJzaXZlKVxyXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSByXHJcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IHRcclxuICAgICAqIEByZXR1cm4ge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgdmFyIGV4dGVuZCA9IGZ1bmN0aW9uIChzcmMsIHByb3BzKSB7XHJcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICBpZiAocHJvcHMuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciB2YWwgPSBwcm9wc1twcm9wXTtcclxuICAgICAgICAgICAgICAgIGlmICh2YWwgJiYgaXNPYmplY3QodmFsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNyY1twcm9wXSA9IHNyY1twcm9wXSB8fCB7fTtcclxuICAgICAgICAgICAgICAgICAgICBleHRlbmQoc3JjW3Byb3BdLCB2YWwpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzcmNbcHJvcF0gPSB2YWw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNyYztcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJdGVyYXRvciBoZWxwZXJcclxuICAgICAqIEBwYXJhbSAgeyhBcnJheXxPYmplY3QpfSAgIGFyciAgICAgQW55IG9iamVjdCwgYXJyYXkgb3IgYXJyYXktbGlrZSBjb2xsZWN0aW9uLlxyXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259ICAgICAgICAgZm4gICAgICBDYWxsYmFja1xyXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgICAgICAgICAgc2NvcGUgICBDaGFuZ2UgdGhlIHZhbHVlIG9mIHRoaXNcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHZhciBlYWNoID0gZnVuY3Rpb24gKGFyciwgZm4sIHNjb3BlKSB7XHJcbiAgICAgICAgdmFyIG47XHJcbiAgICAgICAgaWYgKGlzT2JqZWN0KGFycikpIHtcclxuICAgICAgICAgICAgZm9yIChuIGluIGFycikge1xyXG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhcnIsIG4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm4uY2FsbChzY29wZSwgYXJyW25dLCBuKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGZvciAobiA9IDA7IG4gPCBhcnIubGVuZ3RoOyBuKyspIHtcclxuICAgICAgICAgICAgICAgIGZuLmNhbGwoc2NvcGUsIGFycltuXSwgbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkIGV2ZW50IGxpc3RlbmVyIHRvIHRhcmdldFxyXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBlbFxyXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBlXHJcbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gZm5cclxuICAgICAqL1xyXG4gICAgdmFyIG9uID0gZnVuY3Rpb24gKGVsLCBlLCBmbikge1xyXG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoZSwgZm4sIGZhbHNlKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgRE9NIGVsZW1lbnQgbm9kZVxyXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgIGEgbm9kZU5hbWVcclxuICAgICAqIEBwYXJhbSAge09iamVjdH0gICBiIHByb3BlcnRpZXMgYW5kIGF0dHJpYnV0ZXNcclxuICAgICAqIEByZXR1cm4ge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgdmFyIGNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgIHZhciBkID0gZG9jLmNyZWF0ZUVsZW1lbnQoYSk7XHJcbiAgICAgICAgaWYgKGIgJiYgXCJvYmplY3RcIiA9PSB0eXBlb2YgYikge1xyXG4gICAgICAgICAgICB2YXIgZTtcclxuICAgICAgICAgICAgZm9yIChlIGluIGIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChcImh0bWxcIiA9PT0gZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGQuaW5uZXJIVE1MID0gYltlXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZC5zZXRBdHRyaWJ1dGUoZSwgYltlXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBmbHVzaCA9IGZ1bmN0aW9uIChlbCwgaWUpIHtcclxuICAgICAgICBpZiAoZWwgaW5zdGFuY2VvZiBOb2RlTGlzdCkge1xyXG4gICAgICAgICAgICBlYWNoKGVsLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgZmx1c2goZSwgaWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoaWUpIHtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChlbC5oYXNDaGlsZE5vZGVzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbC5yZW1vdmVDaGlsZChlbC5maXJzdENoaWxkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGVsLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGJ1dHRvbiBoZWxwZXJcclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICBjXHJcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICAgcFxyXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgIHRcclxuICAgICAqIEByZXR1cm4ge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgdmFyIGJ1dHRvbiA9IGZ1bmN0aW9uIChjLCBwLCB0KSB7XHJcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7XHJcbiAgICAgICAgICAgIGNsYXNzOiBjLFxyXG4gICAgICAgICAgICBodG1sOiAnPGEgaHJlZj1cIiNcIiBkYXRhLXBhZ2U9XCInICsgcCArICdcIj4nICsgdCArIFwiPC9hPlwiXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogY2xhc3NMaXN0IHNoaW1cclxuICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIHZhciBjbGFzc0xpc3QgPSB7XHJcbiAgICAgICAgYWRkOiBmdW5jdGlvbiAocywgYSkge1xyXG4gICAgICAgICAgICBpZiAocy5jbGFzc0xpc3QpIHtcclxuICAgICAgICAgICAgICAgIHMuY2xhc3NMaXN0LmFkZChhKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICghY2xhc3NMaXN0LmNvbnRhaW5zKHMsIGEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcy5jbGFzc05hbWUgPSBzLmNsYXNzTmFtZS50cmltKCkgKyBcIiBcIiArIGE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24gKHMsIGEpIHtcclxuICAgICAgICAgICAgaWYgKHMuY2xhc3NMaXN0KSB7XHJcbiAgICAgICAgICAgICAgICBzLmNsYXNzTGlzdC5yZW1vdmUoYSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2xhc3NMaXN0LmNvbnRhaW5zKHMsIGEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcy5jbGFzc05hbWUgPSBzLmNsYXNzTmFtZS5yZXBsYWNlKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgUmVnRXhwKFwiKF58XFxcXHMpXCIgKyBhLnNwbGl0KFwiIFwiKS5qb2luKFwifFwiKSArIFwiKFxcXFxzfCQpXCIsIFwiZ2lcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIFwiXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udGFpbnM6IGZ1bmN0aW9uIChzLCBhKSB7XHJcbiAgICAgICAgICAgIGlmIChzKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHMuY2xhc3NMaXN0ID9cclxuICAgICAgICAgICAgICAgICAgICBzLmNsYXNzTGlzdC5jb250YWlucyhhKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgISFzLmNsYXNzTmFtZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICEhcy5jbGFzc05hbWUubWF0Y2gobmV3IFJlZ0V4cChcIihcXFxcc3xeKVwiICsgYSArIFwiKFxcXFxzfCQpXCIpKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQnViYmxlIHNvcnQgYWxnb3JpdGhtXHJcbiAgICAgKi9cclxuICAgIHZhciBzb3J0SXRlbXMgPSBmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgIHZhciBjLCBkO1xyXG4gICAgICAgIGlmICgxID09PSBiKSB7XHJcbiAgICAgICAgICAgIGMgPSAwO1xyXG4gICAgICAgICAgICBkID0gYS5sZW5ndGg7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGIgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBjID0gYS5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICAgICAgZCA9IC0xO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAodmFyIGUgPSAhMDsgZTspIHtcclxuICAgICAgICAgICAgZSA9ICExO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBmID0gYzsgZiAhPSBkOyBmICs9IGIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChhW2YgKyBiXSAmJiBhW2ZdLnZhbHVlID4gYVtmICsgYl0udmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZyA9IGFbZl0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGggPSBhW2YgKyBiXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGc7XHJcbiAgICAgICAgICAgICAgICAgICAgYVtmXSA9IGg7XHJcbiAgICAgICAgICAgICAgICAgICAgYVtmICsgYl0gPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgIGUgPSAhMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQYWdlciB0cnVuY2F0aW9uIGFsZ29yaXRobVxyXG4gICAgICovXHJcbiAgICB2YXIgdHJ1bmNhdGUgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgZWxsaXBzaXMpIHtcclxuICAgICAgICBkID0gZCB8fCAyO1xyXG4gICAgICAgIHZhciBqLFxyXG4gICAgICAgICAgICBlID0gMiAqIGQsXHJcbiAgICAgICAgICAgIGYgPSBiIC0gZCxcclxuICAgICAgICAgICAgZyA9IGIgKyBkLFxyXG4gICAgICAgICAgICBoID0gW10sXHJcbiAgICAgICAgICAgIGkgPSBbXTtcclxuICAgICAgICBpZiAoYiA8IDQgLSBkICsgZSkge1xyXG4gICAgICAgICAgICBnID0gMyArIGU7XHJcbiAgICAgICAgfSBlbHNlIGlmIChiID4gYyAtICgzIC0gZCArIGUpKSB7XHJcbiAgICAgICAgICAgIGYgPSBjIC0gKDIgKyBlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICh2YXIgayA9IDE7IGsgPD0gYzsgaysrKSB7XHJcbiAgICAgICAgICAgIGlmICgxID09IGsgfHwgayA9PSBjIHx8IChrID49IGYgJiYgayA8PSBnKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGwgPSBhW2sgLSAxXTtcclxuICAgICAgICAgICAgICAgIGNsYXNzTGlzdC5yZW1vdmUobCwgXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgICAgICBoLnB1c2gobCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWFjaChoLCBmdW5jdGlvbiAoYykge1xyXG4gICAgICAgICAgICB2YXIgZCA9IGMuY2hpbGRyZW5bMF0uZ2V0QXR0cmlidXRlKFwiZGF0YS1wYWdlXCIpO1xyXG4gICAgICAgICAgICBpZiAoaikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGUgPSBqLmNoaWxkcmVuWzBdLmdldEF0dHJpYnV0ZShcImRhdGEtcGFnZVwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChkIC0gZSA9PSAyKSBpLnB1c2goYVtlXSk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkIC0gZSAhPSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGYgPSBjcmVhdGVFbGVtZW50KFwibGlcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogXCJlbGxpcHNpc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sOiAnPGEgaHJlZj1cIiNcIj4nICsgZWxsaXBzaXMgKyBcIjwvYT5cIlxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGkucHVzaChmKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpLnB1c2goYyk7XHJcbiAgICAgICAgICAgIGogPSBjO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gaTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQYXJzZSBkYXRhIHRvIEhUTUwgdGFibGVcclxuICAgICAqL1xyXG4gICAgdmFyIGRhdGFUb1RhYmxlID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICB2YXIgdGhlYWQgPSBmYWxzZSxcclxuICAgICAgICAgICAgdGJvZHkgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgZGF0YSA9IGRhdGEgfHwgdGhpcy5vcHRpb25zLmRhdGE7XHJcblxyXG4gICAgICAgIGlmIChkYXRhLmhlYWRpbmdzKSB7XHJcbiAgICAgICAgICAgIHRoZWFkID0gY3JlYXRlRWxlbWVudChcInRoZWFkXCIpO1xyXG4gICAgICAgICAgICB2YXIgdHIgPSBjcmVhdGVFbGVtZW50KFwidHJcIik7XHJcbiAgICAgICAgICAgIGVhY2goZGF0YS5oZWFkaW5ncywgZnVuY3Rpb24gKGNvbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRkID0gY3JlYXRlRWxlbWVudChcInRoXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICBodG1sOiBjb2xcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGQpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoZWFkLmFwcGVuZENoaWxkKHRyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChkYXRhLmRhdGEpIHtcclxuICAgICAgICAgICAgdGJvZHkgPSBjcmVhdGVFbGVtZW50KFwidGJvZHlcIik7XHJcbiAgICAgICAgICAgIGVhY2goZGF0YS5kYXRhLCBmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuaGVhZGluZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5oZWFkaW5ncy5sZW5ndGggIT09IHJvd3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiVGhlIG51bWJlciBvZiByb3dzIGRvIG5vdCBtYXRjaCB0aGUgbnVtYmVyIG9mIGhlYWRpbmdzLlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIHRyID0gY3JlYXRlRWxlbWVudChcInRyXCIpO1xyXG4gICAgICAgICAgICAgICAgZWFjaChyb3dzLCBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGQgPSBjcmVhdGVFbGVtZW50KFwidGRcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sOiB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRkKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGJvZHkuYXBwZW5kQ2hpbGQodHIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGVhZCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy50YWJsZS50SGVhZCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50YWJsZS5yZW1vdmVDaGlsZCh0aGlzLnRhYmxlLnRIZWFkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnRhYmxlLmFwcGVuZENoaWxkKHRoZWFkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0Ym9keSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy50YWJsZS50Qm9kaWVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50YWJsZS5yZW1vdmVDaGlsZCh0aGlzLnRhYmxlLnRCb2RpZXNbMF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudGFibGUuYXBwZW5kQ2hpbGQodGJvZHkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVc2UgbW9tZW50LmpzIHRvIHBhcnNlIGNlbGwgY29udGVudHMgZm9yIHNvcnRpbmdcclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gY29udGVudCAgICAgVGhlIGRhdGV0aW1lIHN0cmluZyB0byBwYXJzZVxyXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBmb3JtYXQgICAgICBUaGUgZm9ybWF0IGZvciBtb21lbnQgdG8gdXNlXHJcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd8Qm9vbGVhbn0gICAgIERhdGF0aW1lIHN0cmluZyBvciBmYWxzZVxyXG4gICAgICovXHJcbiAgICB2YXIgcGFyc2VEYXRlID0gZnVuY3Rpb24gKGNvbnRlbnQsIGZvcm1hdCkge1xyXG4gICAgICAgIHZhciBkYXRlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIG1vbWVudCgpIHRocm93cyBhIGZpdCBpZiB0aGUgc3RyaW5nIGlzbid0IGEgdmFsaWQgZGF0ZXRpbWUgc3RyaW5nXHJcbiAgICAgICAgLy8gc28gd2UgbmVlZCB0byBzdXBwbHkgdGhlIGZvcm1hdCB0byB0aGUgY29uc3RydWN0b3IgKGh0dHBzOi8vbW9tZW50anMuY29tL2RvY3MvIy9wYXJzaW5nL3N0cmluZy1mb3JtYXQvKVxyXG5cclxuICAgICAgICAvLyBDb252ZXJ0aW5nIHRvIFlZWVlNTUREIGVuc3VyZXMgd2UgY2FuIGFjY3VyYXRlbHkgc29ydCB0aGUgY29sdW1uIG51bWVyaWNhbGx5XHJcblxyXG4gICAgICAgIGlmIChmb3JtYXQpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChmb3JtYXQpIHtcclxuICAgICAgICAgICAgY2FzZSBcIklTT184NjAxXCI6XHJcbiAgICAgICAgICAgICAgICBkYXRlID0gbW9tZW50KGNvbnRlbnQsIG1vbWVudC5JU09fODYwMSkuZm9ybWF0KFwiWVlZWU1NRERcIik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIlJGQ18yODIyXCI6XHJcbiAgICAgICAgICAgICAgICBkYXRlID0gbW9tZW50KGNvbnRlbnQsIFwiZGRkLCBNTSBNTU0gWVlZWSBISDptbTpzcyBaWlwiKS5mb3JtYXQoXCJZWVlZTU1ERFwiKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiTVlTUUxcIjpcclxuICAgICAgICAgICAgICAgIGRhdGUgPSBtb21lbnQoY29udGVudCwgXCJZWVlZLU1NLUREIGhoOm1tOnNzXCIpLmZvcm1hdChcIllZWVlNTUREXCIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJVTklYXCI6XHJcbiAgICAgICAgICAgICAgICBkYXRlID0gbW9tZW50KGNvbnRlbnQpLnVuaXgoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgLy8gVXNlciBkZWZpbmVkIGZvcm1hdCB1c2luZyB0aGUgZGF0YS1mb3JtYXQgYXR0cmlidXRlIG9yIGNvbHVtbnNbbl0uZm9ybWF0IG9wdGlvblxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgZGF0ZSA9IG1vbWVudChjb250ZW50LCBmb3JtYXQpLmZvcm1hdChcIllZWVlNTUREXCIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBkYXRlO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbHVtbnMgQVBJXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2UgRGF0YVRhYmxlIGluc3RhbmNlXHJcbiAgICAgKiBAcGFyYW0ge01peGVkfSBjb2x1bW5zICBDb2x1bW4gaW5kZXggb3IgYXJyYXkgb2YgY29sdW1uIGluZGV4ZXNcclxuICAgICAqL1xyXG4gICAgdmFyIENvbHVtbnMgPSBmdW5jdGlvbiAoZHQpIHtcclxuICAgICAgICB0aGlzLmR0ID0gZHQ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3dhcCB0d28gY29sdW1uc1xyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgQ29sdW1ucy5wcm90b3R5cGUuc3dhcCA9IGZ1bmN0aW9uIChjb2x1bW5zKSB7XHJcbiAgICAgICAgaWYgKGNvbHVtbnMubGVuZ3RoICYmIGNvbHVtbnMubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgIHZhciBjb2xzID0gW107XHJcblxyXG4gICAgICAgICAgICAvLyBHZXQgdGhlIGN1cnJlbnQgY29sdW1uIGluZGV4ZXNcclxuICAgICAgICAgICAgZWFjaCh0aGlzLmR0LmhlYWRpbmdzLCBmdW5jdGlvbiAoaCwgaSkge1xyXG4gICAgICAgICAgICAgICAgY29scy5wdXNoKGkpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHZhciB4ID0gY29sdW1uc1swXTtcclxuICAgICAgICAgICAgdmFyIHkgPSBjb2x1bW5zWzFdO1xyXG4gICAgICAgICAgICB2YXIgYiA9IGNvbHNbeV07XHJcbiAgICAgICAgICAgIGNvbHNbeV0gPSBjb2xzW3hdO1xyXG4gICAgICAgICAgICBjb2xzW3hdID0gYjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub3JkZXIoY29scyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlb3JkZXIgdGhlIGNvbHVtbnNcclxuICAgICAqIEByZXR1cm4ge0FycmF5fSBjb2x1bW5zICBBcnJheSBvZiBvcmRlcmVkIGNvbHVtbiBpbmRleGVzXHJcbiAgICAgKi9cclxuICAgIENvbHVtbnMucHJvdG90eXBlLm9yZGVyID0gZnVuY3Rpb24gKGNvbHVtbnMpIHtcclxuICAgICAgICB2YXIgYSwgYiwgYywgZCwgaCwgcztcclxuXHJcbiAgICAgICAgdmFyIHRlbXBfYSA9IFtdO1xyXG4gICAgICAgIHZhciB0ZW1wX2IgPSBbXTtcclxuICAgICAgICB2YXIgdGVtcF9jID0gW107XHJcbiAgICAgICAgdmFyIHRlbXBfZCA9IFtdO1xyXG5cclxuICAgICAgICB2YXIgZHQgPSB0aGlzLmR0O1xyXG5cclxuICAgICAgICAvLyBPcmRlciB0aGUgaGVhZGluZ3NcclxuICAgICAgICBlYWNoKGNvbHVtbnMsIGZ1bmN0aW9uIChjb2x1bW4sIHgpIHtcclxuICAgICAgICAgICAgaCA9IGR0LmhlYWRpbmdzW2NvbHVtbl07XHJcbiAgICAgICAgICAgIHMgPSBoLmdldEF0dHJpYnV0ZShcImRhdGEtc29ydGFibGVcIikgIT09IFwiZmFsc2VcIjtcclxuICAgICAgICAgICAgYSA9IGguY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgICAgICBhLm9yaWdpbmFsQ2VsbEluZGV4ID0geDtcclxuICAgICAgICAgICAgYS5zb3J0YWJsZSA9IHM7XHJcblxyXG4gICAgICAgICAgICB0ZW1wX2EucHVzaChhKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkdC5oaWRkZW5Db2x1bW5zLmluZGV4T2YoY29sdW1uKSA8IDApIHtcclxuICAgICAgICAgICAgICAgIGIgPSBoLmNsb25lTm9kZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIGIub3JpZ2luYWxDZWxsSW5kZXggPSB4O1xyXG4gICAgICAgICAgICAgICAgYi5zb3J0YWJsZSA9IHM7XHJcblxyXG4gICAgICAgICAgICAgICAgdGVtcF9iLnB1c2goYik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gT3JkZXIgdGhlIHJvdyBjZWxsc1xyXG4gICAgICAgIGVhY2goZHQuZGF0YSwgZnVuY3Rpb24gKHJvdywgaSkge1xyXG4gICAgICAgICAgICBjID0gcm93LmNsb25lTm9kZSgpO1xyXG4gICAgICAgICAgICBkID0gcm93LmNsb25lTm9kZSgpO1xyXG5cclxuICAgICAgICAgICAgYy5kYXRhSW5kZXggPSBpO1xyXG4gICAgICAgICAgICBkLmRhdGFJbmRleCA9IGk7XHJcblxyXG4gICAgICAgICAgICBpZiAocm93LnNlYXJjaEluZGV4ICE9PSBudWxsICYmIHJvdy5zZWFyY2hJbmRleCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBjLnNlYXJjaEluZGV4ID0gcm93LnNlYXJjaEluZGV4O1xyXG4gICAgICAgICAgICAgICAgZC5zZWFyY2hJbmRleCA9IHJvdy5zZWFyY2hJbmRleDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQXBwZW5kIHRvIGNlbGwgdG8gdGhlIGZyYWdtZW50IGluIHRoZSBjb3JyZWN0IG9yZGVyXHJcbiAgICAgICAgICAgIGVhY2goXHJcbiAgICAgICAgICAgICAgICBjb2x1bW5zLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHgsIGNvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGMuYXBwZW5kQ2hpbGQocm93LmNlbGxzW2NvbHVtbl0uY2xvbmVOb2RlKHRydWUpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGR0LmhpZGRlbkNvbHVtbnMuaW5kZXhPZihjb2x1bW4pIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkLmFwcGVuZENoaWxkKHJvdy5jZWxsc1tjb2x1bW5dLmNsb25lTm9kZSh0cnVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHRoaXNcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHRlbXBfYy5wdXNoKGMpO1xyXG4gICAgICAgICAgICB0ZW1wX2QucHVzaChkKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZHQuaGVhZGluZ3MgPSB0ZW1wX2E7XHJcbiAgICAgICAgZHQuYWN0aXZlSGVhZGluZ3MgPSB0ZW1wX2I7XHJcblxyXG4gICAgICAgIGR0LmRhdGEgPSB0ZW1wX2M7XHJcbiAgICAgICAgZHQuYWN0aXZlUm93cyA9IHRlbXBfZDtcclxuXHJcbiAgICAgICAgLy8gVXBkYXRlXHJcbiAgICAgICAgZHQudXBkYXRlKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGlkZSBjb2x1bW5zXHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBDb2x1bW5zLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKGNvbHVtbnMpIHtcclxuICAgICAgICBpZiAoY29sdW1ucy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIGR0ID0gdGhpcy5kdDtcclxuXHJcbiAgICAgICAgICAgIGVhY2goY29sdW1ucywgZnVuY3Rpb24gKGNvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGR0LmhpZGRlbkNvbHVtbnMuaW5kZXhPZihjb2x1bW4pIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGR0LmhpZGRlbkNvbHVtbnMucHVzaChjb2x1bW4pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVidWlsZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTaG93IGNvbHVtbnNcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIENvbHVtbnMucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoY29sdW1ucykge1xyXG4gICAgICAgIGlmIChjb2x1bW5zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXgsIGR0ID0gdGhpcy5kdDtcclxuXHJcbiAgICAgICAgICAgIGVhY2goY29sdW1ucywgZnVuY3Rpb24gKGNvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgaW5kZXggPSBkdC5oaWRkZW5Db2x1bW5zLmluZGV4T2YoY29sdW1uKTtcclxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZHQuaGlkZGVuQ29sdW1ucy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVidWlsZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBjb2x1bW4ocykgdmlzaWJpbGl0eVxyXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgQ29sdW1ucy5wcm90b3R5cGUudmlzaWJsZSA9IGZ1bmN0aW9uIChjb2x1bW5zKSB7XHJcbiAgICAgICAgdmFyIGNvbHMsIGR0ID0gdGhpcy5kdDtcclxuXHJcbiAgICAgICAgY29sdW1ucyA9IGNvbHVtbnMgfHwgZHQuaGVhZGluZ3MubWFwKGZ1bmN0aW9uICh0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGgub3JpZ2luYWxDZWxsSW5kZXg7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICghaXNOYU4oY29sdW1ucykpIHtcclxuICAgICAgICAgICAgY29scyA9IGR0LmhpZGRlbkNvbHVtbnMuaW5kZXhPZihjb2x1bW5zKSA8IDA7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KGNvbHVtbnMpKSB7XHJcbiAgICAgICAgICAgIGNvbHMgPSBbXTtcclxuICAgICAgICAgICAgZWFjaChjb2x1bW5zLCBmdW5jdGlvbiAoY29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICBjb2xzLnB1c2goZHQuaGlkZGVuQ29sdW1ucy5pbmRleE9mKGNvbHVtbikgPCAwKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gY29scztcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBjb2x1bW4ocykgdmlzaWJpbGl0eVxyXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgQ29sdW1ucy5wcm90b3R5cGUuaGlkZGVuID0gZnVuY3Rpb24gKGNvbHVtbnMpIHtcclxuICAgICAgICB2YXIgY29scywgZHQgPSB0aGlzLmR0O1xyXG5cclxuICAgICAgICBjb2x1bW5zID0gY29sdW1ucyB8fCB0aGlzLmR0LmhlYWRpbmdzLm1hcChmdW5jdGlvbiAodGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoLm9yaWdpbmFsQ2VsbEluZGV4O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoIWlzTmFOKGNvbHVtbnMpKSB7XHJcbiAgICAgICAgICAgIGNvbHMgPSBkdC5oaWRkZW5Db2x1bW5zLmluZGV4T2YodGhpcy5jb2x1bW5zKSA+IC0xO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShjb2x1bW5zKSkge1xyXG4gICAgICAgICAgICBjb2xzID0gW107XHJcbiAgICAgICAgICAgIGVhY2goY29sdW1ucywgZnVuY3Rpb24gKGNvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgY29scy5wdXNoKGR0LmhpZGRlbkNvbHVtbnMuaW5kZXhPZihjb2x1bW4pID4gLTEpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBjb2xzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZCBhIG5ldyBjb2x1bW5cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXHJcbiAgICAgKi9cclxuICAgIENvbHVtbnMucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzLFxyXG4gICAgICAgICAgICB0ZCwgdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGhcIik7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5kdC5oZWFkaW5ncy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5kdC5pbnNlcnQoe1xyXG4gICAgICAgICAgICAgICAgaGVhZGluZ3M6IFtkYXRhLmhlYWRpbmddLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YS5kYXRhLm1hcChmdW5jdGlvbiAoaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbaV07XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5yZWJ1aWxkKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5kdC5oaWRkZW5IZWFkZXIpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuaGVhZGluZy5ub2RlTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgdGguYXBwZW5kQ2hpbGQoZGF0YS5oZWFkaW5nKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoLmlubmVySFRNTCA9IGRhdGEuaGVhZGluZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmR0LmhlYWRpbmdzLnB1c2godGgpO1xyXG5cclxuICAgICAgICBlYWNoKHRoaXMuZHQuZGF0YSwgZnVuY3Rpb24gKHJvdywgaSkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5kYXRhW2ldKSB7XHJcbiAgICAgICAgICAgICAgICB0ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5kYXRhW2ldLm5vZGVOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGQuYXBwZW5kQ2hpbGQoZGF0YS5kYXRhW2ldKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGQuaW5uZXJIVE1MID0gZGF0YS5kYXRhW2ldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRkLmRhdGEgPSB0ZC5pbm5lckhUTUw7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEucmVuZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGQuaW5uZXJIVE1MID0gZGF0YS5yZW5kZXIuY2FsbCh0aGF0LCB0ZC5kYXRhLCB0ZCwgcm93KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQodGQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChkYXRhLnR5cGUpIHtcclxuICAgICAgICAgICAgdGguc2V0QXR0cmlidXRlKFwiZGF0YS10eXBlXCIsIGRhdGEudHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkYXRhLmZvcm1hdCkge1xyXG4gICAgICAgICAgICB0aC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWZvcm1hdFwiLCBkYXRhLmZvcm1hdCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eShcInNvcnRhYmxlXCIpKSB7XHJcbiAgICAgICAgICAgIHRoLnNvcnRhYmxlID0gZGF0YS5zb3J0YWJsZTtcclxuICAgICAgICAgICAgdGguc2V0QXR0cmlidXRlKFwiZGF0YS1zb3J0YWJsZVwiLCBkYXRhLnNvcnRhYmxlID09PSB0cnVlID8gXCJ0cnVlXCIgOiBcImZhbHNlXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5yZWJ1aWxkKCk7XHJcblxyXG4gICAgICAgIHRoaXMuZHQucmVuZGVySGVhZGVyKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIGNvbHVtbihzKVxyXG4gICAgICogQHBhcmFtICB7QXJyYXl8TnVtYmVyfSBzZWxlY3RcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIENvbHVtbnMucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChzZWxlY3QpIHtcclxuICAgICAgICBpZiAoaXNBcnJheShzZWxlY3QpKSB7XHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSBpbiByZXZlcnNlIG90aGVyd2lzZSB0aGUgaW5kZXhlcyB3aWxsIGJlIGluY29ycmVjdFxyXG4gICAgICAgICAgICBzZWxlY3Quc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGIgLSBhO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGVhY2goc2VsZWN0LCBmdW5jdGlvbiAoY29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZShjb2x1bW4pO1xyXG4gICAgICAgICAgICB9LCB0aGlzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmR0LmhlYWRpbmdzLnNwbGljZShzZWxlY3QsIDEpO1xyXG5cclxuICAgICAgICAgICAgZWFjaCh0aGlzLmR0LmRhdGEsIGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgICAgICAgICAgIHJvdy5yZW1vdmVDaGlsZChyb3cuY2VsbHNbc2VsZWN0XSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5yZWJ1aWxkKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU29ydCBieSBjb2x1bW5cclxuICAgICAqIEBwYXJhbSAge2ludH0gY29sdW1uIC0gVGhlIGNvbHVtbiBuby5cclxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gZGlyZWN0aW9uIC0gYXNjIG9yIGRlc2NcclxuICAgICAqIEByZXR1cm4ge3ZvaWR9XHJcbiAgICAgKi9cclxuICAgIENvbHVtbnMucHJvdG90eXBlLnNvcnQgPSBmdW5jdGlvbiAoY29sdW1uLCBkaXJlY3Rpb24sIGluaXQpIHtcclxuXHJcbiAgICAgICAgdmFyIGR0ID0gdGhpcy5kdDtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgY29sdW1uIGlzIHByZXNlbnRcclxuICAgICAgICBpZiAoZHQuaGFzSGVhZGluZ3MgJiYgKGNvbHVtbiA8IDEgfHwgY29sdW1uID4gZHQuYWN0aXZlSGVhZGluZ3MubGVuZ3RoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkdC5zb3J0aW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgLy8gQ29udmVydCB0byB6ZXJvLWluZGV4ZWRcclxuICAgICAgICBjb2x1bW4gPSBjb2x1bW4gLSAxO1xyXG5cclxuICAgICAgICB2YXIgZGlyLFxyXG4gICAgICAgICAgICByb3dzID0gZHQuZGF0YSxcclxuICAgICAgICAgICAgYWxwaGEgPSBbXSxcclxuICAgICAgICAgICAgbnVtZXJpYyA9IFtdLFxyXG4gICAgICAgICAgICBhID0gMCxcclxuICAgICAgICAgICAgbiA9IDAsXHJcbiAgICAgICAgICAgIHRoID0gZHQuYWN0aXZlSGVhZGluZ3NbY29sdW1uXTtcclxuXHJcbiAgICAgICAgY29sdW1uID0gdGgub3JpZ2luYWxDZWxsSW5kZXg7XHJcblxyXG4gICAgICAgIGVhY2gocm93cywgZnVuY3Rpb24gKHRyKSB7XHJcbiAgICAgICAgICAgIHZhciBjZWxsID0gdHIuY2VsbHNbY29sdW1uXTtcclxuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBjZWxsLmRhdGE7XHJcbiAgICAgICAgICAgIHZhciBudW0gPSBjb250ZW50LnJlcGxhY2UoLyhcXCR8XFwsfFxcc3wlKS9nLCBcIlwiKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENoZWNrIGZvciBkYXRlIGZvcm1hdCBhbmQgbW9tZW50LmpzXHJcbiAgICAgICAgICAgIGlmICh0aC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXR5cGVcIikgPT09IFwiZGF0ZVwiICYmIHdpbi5tb21lbnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBmb3JtYXQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWQgPSB0aC5oYXNBdHRyaWJ1dGUoXCJkYXRhLWZvcm1hdFwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZm9ybWF0dGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0ID0gdGguZ2V0QXR0cmlidXRlKFwiZGF0YS1mb3JtYXRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbnVtID0gcGFyc2VEYXRlKGNvbnRlbnQsIGZvcm1hdCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChwYXJzZUZsb2F0KG51bSkgPT0gbnVtKSB7XHJcbiAgICAgICAgICAgICAgICBudW1lcmljW24rK10gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IE51bWJlcihudW0pLFxyXG4gICAgICAgICAgICAgICAgICAgIHJvdzogdHJcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhbHBoYVthKytdID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjb250ZW50LFxyXG4gICAgICAgICAgICAgICAgICAgIHJvdzogdHJcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyogU29ydCBhY2NvcmRpbmcgdG8gZGlyZWN0aW9uIChhc2NlbmRpbmcgb3IgZGVzY2VuZGluZykgKi9cclxuICAgICAgICB2YXIgdG9wLCBidG07XHJcbiAgICAgICAgaWYgKGNsYXNzTGlzdC5jb250YWlucyh0aCwgXCJhc2NcIikgfHwgZGlyZWN0aW9uID09IFwiYXNjXCIpIHtcclxuICAgICAgICAgICAgdG9wID0gc29ydEl0ZW1zKGFscGhhLCAtMSk7XHJcbiAgICAgICAgICAgIGJ0bSA9IHNvcnRJdGVtcyhudW1lcmljLCAtMSk7XHJcbiAgICAgICAgICAgIGRpciA9IFwiZGVzY2VuZGluZ1wiO1xyXG4gICAgICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKHRoLCBcImFzY1wiKTtcclxuICAgICAgICAgICAgY2xhc3NMaXN0LmFkZCh0aCwgXCJkZXNjXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRvcCA9IHNvcnRJdGVtcyhudW1lcmljLCAxKTtcclxuICAgICAgICAgICAgYnRtID0gc29ydEl0ZW1zKGFscGhhLCAxKTtcclxuICAgICAgICAgICAgZGlyID0gXCJhc2NlbmRpbmdcIjtcclxuICAgICAgICAgICAgY2xhc3NMaXN0LnJlbW92ZSh0aCwgXCJkZXNjXCIpO1xyXG4gICAgICAgICAgICBjbGFzc0xpc3QuYWRkKHRoLCBcImFzY1wiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIENsZWFyIGFzYy9kZXNjIGNsYXNzIG5hbWVzIGZyb20gdGhlIGxhc3Qgc29ydGVkIGNvbHVtbidzIHRoIGlmIGl0IGlzbid0IHRoZSBzYW1lIGFzIHRoZSBvbmUgdGhhdCB3YXMganVzdCBjbGlja2VkICovXHJcbiAgICAgICAgaWYgKGR0Lmxhc3RUaCAmJiB0aCAhPSBkdC5sYXN0VGgpIHtcclxuICAgICAgICAgICAgY2xhc3NMaXN0LnJlbW92ZShkdC5sYXN0VGgsIFwiZGVzY1wiKTtcclxuICAgICAgICAgICAgY2xhc3NMaXN0LnJlbW92ZShkdC5sYXN0VGgsIFwiYXNjXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZHQubGFzdFRoID0gdGg7XHJcblxyXG4gICAgICAgIC8qIFJlb3JkZXIgdGhlIHRhYmxlICovXHJcbiAgICAgICAgcm93cyA9IHRvcC5jb25jYXQoYnRtKTtcclxuXHJcbiAgICAgICAgZHQuZGF0YSA9IFtdO1xyXG4gICAgICAgIHZhciBpbmRleGVzID0gW107XHJcblxyXG4gICAgICAgIGVhY2gocm93cywgZnVuY3Rpb24gKHYsIGkpIHtcclxuICAgICAgICAgICAgZHQuZGF0YS5wdXNoKHYucm93KTtcclxuXHJcbiAgICAgICAgICAgIGlmICh2LnJvdy5zZWFyY2hJbmRleCAhPT0gbnVsbCAmJiB2LnJvdy5zZWFyY2hJbmRleCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBpbmRleGVzLnB1c2goaSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCBkdCk7XHJcblxyXG4gICAgICAgIGR0LnNlYXJjaERhdGEgPSBpbmRleGVzO1xyXG5cclxuICAgICAgICB0aGlzLnJlYnVpbGQoKTtcclxuXHJcbiAgICAgICAgZHQudXBkYXRlKCk7XHJcblxyXG4gICAgICAgIGlmICghaW5pdCkge1xyXG4gICAgICAgICAgICBkdC5lbWl0KFwiZGF0YXRhYmxlLnNvcnRcIiwgY29sdW1uLCBkaXIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWJ1aWxkIHRoZSBjb2x1bW5zXHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBDb2x1bW5zLnByb3RvdHlwZS5yZWJ1aWxkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBhLCBiLCBjLCBkO1xyXG4gICAgICAgIHZhciBkdCA9IHRoaXMuZHQsXHJcbiAgICAgICAgICAgIHRlbXAgPSBbXTtcclxuXHJcbiAgICAgICAgZHQuYWN0aXZlUm93cyA9IFtdO1xyXG4gICAgICAgIGR0LmFjdGl2ZUhlYWRpbmdzID0gW107XHJcblxyXG4gICAgICAgIGVhY2goZHQuaGVhZGluZ3MsIGZ1bmN0aW9uICh0aCwgaSkge1xyXG4gICAgICAgICAgICB0aC5vcmlnaW5hbENlbGxJbmRleCA9IGk7XHJcbiAgICAgICAgICAgIHRoLnNvcnRhYmxlID0gdGguZ2V0QXR0cmlidXRlKFwiZGF0YS1zb3J0YWJsZVwiKSAhPT0gXCJmYWxzZVwiO1xyXG4gICAgICAgICAgICBpZiAoZHQuaGlkZGVuQ29sdW1ucy5pbmRleE9mKGkpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgZHQuYWN0aXZlSGVhZGluZ3MucHVzaCh0aCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCB0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gTG9vcCBvdmVyIHRoZSByb3dzIGFuZCByZW9yZGVyIHRoZSBjZWxsc1xyXG4gICAgICAgIGVhY2goZHQuZGF0YSwgZnVuY3Rpb24gKHJvdywgaSkge1xyXG4gICAgICAgICAgICBhID0gcm93LmNsb25lTm9kZSgpO1xyXG4gICAgICAgICAgICBiID0gcm93LmNsb25lTm9kZSgpO1xyXG5cclxuICAgICAgICAgICAgYS5kYXRhSW5kZXggPSBpO1xyXG4gICAgICAgICAgICBiLmRhdGFJbmRleCA9IGk7XHJcblxyXG4gICAgICAgICAgICBpZiAocm93LnNlYXJjaEluZGV4ICE9PSBudWxsICYmIHJvdy5zZWFyY2hJbmRleCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBhLnNlYXJjaEluZGV4ID0gcm93LnNlYXJjaEluZGV4O1xyXG4gICAgICAgICAgICAgICAgYi5zZWFyY2hJbmRleCA9IHJvdy5zZWFyY2hJbmRleDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQXBwZW5kIHRvIGNlbGwgdG8gdGhlIGZyYWdtZW50IGluIHRoZSBjb3JyZWN0IG9yZGVyXHJcbiAgICAgICAgICAgIGVhY2gocm93LmNlbGxzLCBmdW5jdGlvbiAoY2VsbCkge1xyXG4gICAgICAgICAgICAgICAgYyA9IGNlbGwuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgYy5kYXRhID0gY2VsbC5kYXRhO1xyXG4gICAgICAgICAgICAgICAgYS5hcHBlbmRDaGlsZChjKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZHQuaGlkZGVuQ29sdW1ucy5pbmRleE9mKGNlbGwuY2VsbEluZGV4KSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBkID0gY2VsbC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZC5kYXRhID0gY2VsbC5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIGIuYXBwZW5kQ2hpbGQoZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQXBwZW5kIHRoZSBmcmFnbWVudCB3aXRoIHRoZSBvcmRlcmVkIGNlbGxzXHJcbiAgICAgICAgICAgIHRlbXAucHVzaChhKTtcclxuICAgICAgICAgICAgZHQuYWN0aXZlUm93cy5wdXNoKGIpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBkdC5kYXRhID0gdGVtcDtcclxuXHJcbiAgICAgICAgZHQudXBkYXRlKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUm93cyBBUElcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBEYXRhVGFibGUgaW5zdGFuY2VcclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHJvd3NcclxuICAgICAqL1xyXG4gICAgdmFyIFJvd3MgPSBmdW5jdGlvbiAoZHQsIHJvd3MpIHtcclxuICAgICAgICB0aGlzLmR0ID0gZHQ7XHJcbiAgICAgICAgdGhpcy5yb3dzID0gcm93cztcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQnVpbGQgYSBuZXcgcm93XHJcbiAgICAgKiBAcGFyYW0gIHtBcnJheX0gcm93XHJcbiAgICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH1cclxuICAgICAqL1xyXG4gICAgUm93cy5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgdmFyIHRkLCB0ciA9IGNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcclxuXHJcbiAgICAgICAgdmFyIGhlYWRpbmdzID0gdGhpcy5kdC5oZWFkaW5ncztcclxuXHJcbiAgICAgICAgaWYgKCFoZWFkaW5ncy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgaGVhZGluZ3MgPSByb3cubWFwKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGVhY2goaGVhZGluZ3MsIGZ1bmN0aW9uIChoLCBpKSB7XHJcbiAgICAgICAgICAgIHRkID0gY3JlYXRlRWxlbWVudChcInRkXCIpO1xyXG5cclxuXHRcdFx0Ly8gRml4ZXMgIzI5XHJcbiAgICAgICAgICAgIGlmICghcm93W2ldICYmICFyb3dbaV0ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICByb3dbaV0gPSBcIlwiO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cdFx0XHR0ZC5pbm5lckhUTUwgPSByb3dbaV07XHJcblxyXG4gICAgICAgICAgICB0ZC5kYXRhID0gcm93W2ldO1xyXG5cclxuICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gdHI7XHJcbiAgICB9O1xyXG5cclxuICAgIFJvd3MucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgICByZXR1cm4gcm93O1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZCBuZXcgcm93XHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBzZWxlY3RcclxuICAgICAqL1xyXG4gICAgUm93cy5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuXHJcbiAgICAgICAgaWYgKGlzQXJyYXkoZGF0YSkpIHtcclxuICAgICAgICAgICAgdmFyIGR0ID0gdGhpcy5kdDtcclxuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIG11bHRpcGxlIHJvd3NcclxuICAgICAgICAgICAgaWYgKGlzQXJyYXkoZGF0YVswXSkpIHtcclxuICAgICAgICAgICAgICAgIGVhY2goZGF0YSwgZnVuY3Rpb24gKHJvdywgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGR0LmRhdGEucHVzaCh0aGlzLmJ1aWxkKHJvdykpO1xyXG4gICAgICAgICAgICAgICAgfSwgdGhpcyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkdC5kYXRhLnB1c2godGhpcy5idWlsZChkYXRhKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XHJcblxyXG4gICAgICAgICAgICBkdC5jb2x1bW5zKCkucmVidWlsZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmUgcm93KHMpXHJcbiAgICAgKiBAcGFyYW0gIHtBcnJheXxOdW1iZXJ9IHNlbGVjdFxyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgUm93cy5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKHNlbGVjdCkge1xyXG5cclxuICAgICAgICB2YXIgZHQgPSB0aGlzLmR0O1xyXG5cclxuICAgICAgICBpZiAoaXNBcnJheShzZWxlY3QpKSB7XHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSBpbiByZXZlcnNlIG90aGVyd2lzZSB0aGUgaW5kZXhlcyB3aWxsIGJlIGluY29ycmVjdFxyXG4gICAgICAgICAgICBzZWxlY3Quc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGIgLSBhO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGVhY2goc2VsZWN0LCBmdW5jdGlvbiAocm93LCBpKSB7XHJcbiAgICAgICAgICAgICAgICBkdC5kYXRhLnNwbGljZShyb3csIDEpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkdC5kYXRhLnNwbGljZShzZWxlY3QsIDEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICBkdC5jb2x1bW5zKCkucmVidWlsZCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZSByb3cgaW5kZXhlc1xyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgUm93cy5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGVhY2godGhpcy5kdC5kYXRhLCBmdW5jdGlvbiAocm93LCBpKSB7XHJcbiAgICAgICAgICAgIHJvdy5kYXRhSW5kZXggPSBpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgLy8gICAgTUFJTiBMSUIgICAgLy9cclxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gICAgdmFyIERhdGFUYWJsZSA9IGZ1bmN0aW9uICh0YWJsZSwgb3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gdXNlciBvcHRpb25zXHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gZXh0ZW5kKGRlZmF1bHRDb25maWcsIG9wdGlvbnMpO1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHRhYmxlID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxlY3RvciA9IHRhYmxlO1xyXG4gICAgICAgICAgICB0YWJsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFibGUpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCF0YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIGVsZW1lbnQgJ1wiICsgc2VsZWN0b3IgKyBcIicgY2FuIG5vdCBiZSBmb3VuZC5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0YWJsZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT09IFwidGFibGVcIikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc2VsZWN0ZWQgZWxlbWVudCBpcyBub3QgYSB0YWJsZS5cIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmluaXRpYWxMYXlvdXQgPSB0YWJsZS5pbm5lckhUTUw7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsU29ydGFibGUgPSB0aGlzLm9wdGlvbnMuc29ydGFibGU7XHJcblxyXG4gICAgICAgIC8vIERpc2FibGUgbWFudWFsIHNvcnRpbmcgaWYgbm8gaGVhZGVyIGlzIHByZXNlbnQgKCM0KVxyXG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmhlYWRlcikge1xyXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuc29ydGFibGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0YWJsZS50SGVhZCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5kYXRhIHx8XHJcbiAgICAgICAgICAgICAgICAodGhpcy5vcHRpb25zLmRhdGEgJiYgIXRoaXMub3B0aW9ucy5kYXRhLmhlYWRpbmdzKVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5zb3J0YWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGFibGUudEJvZGllcy5sZW5ndGggJiYgIXRhYmxlLnRCb2RpZXNbMF0ucm93cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5kYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5kYXRhLmRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiWW91IHNlZW0gdG8gYmUgdXNpbmcgdGhlIGRhdGEgb3B0aW9uLCBidXQgeW91J3ZlIG5vdCBkZWZpbmVkIGFueSByb3dzLlwiXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy50YWJsZSA9IHRhYmxlO1xyXG5cclxuICAgICAgICB0aGlzLmluaXQoKTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIHByb3RvID0gRGF0YVRhYmxlLnByb3RvdHlwZTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZCBjdXN0b20gcHJvcGVydHkgb3IgbWV0aG9kIHRvIGV4dGVuZCBEYXRhVGFibGVcclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gcHJvcCAgICAtIE1ldGhvZCBuYW1lIG9yIHByb3BlcnR5XHJcbiAgICAgKiBAcGFyYW0gIHtNaXhlZH0gdmFsICAgICAgLSBGdW5jdGlvbiBvciBwcm9wZXJ0eSB2YWx1ZVxyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgRGF0YVRhYmxlLmV4dGVuZCA9IGZ1bmN0aW9uIChwcm9wLCB2YWwpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgIERhdGFUYWJsZS5wcm90b3R5cGVbcHJvcF0gPSB2YWw7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgRGF0YVRhYmxlW3Byb3BdID0gdmFsO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWFsaXplIHRoZSBpbnN0YW5jZVxyXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zXHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5pbml0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgICAgICBpZiAodGhpcy5pbml0aWFsaXplZCB8fCBjbGFzc0xpc3QuY29udGFpbnModGhpcy50YWJsZSwgXCJkYXRhVGFibGUtdGFibGVcIikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xyXG5cclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBleHRlbmQodGhpcy5vcHRpb25zLCBvcHRpb25zIHx8IHt9KTtcclxuXHJcbiAgICAgICAgLy8gSUUgZGV0ZWN0aW9uXHJcbiAgICAgICAgdGhpcy5pc0lFID0gISEvKG1zaWV8dHJpZGVudCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xyXG5cclxuICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTtcclxuICAgICAgICB0aGlzLm9uRmlyc3RQYWdlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdGhpcy5oaWRkZW5Db2x1bW5zID0gW107XHJcbiAgICAgICAgdGhpcy5jb2x1bW5SZW5kZXJlcnMgPSBbXTtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkQ29sdW1ucyA9IFtdO1xyXG5cclxuICAgICAgICB0aGlzLnJlbmRlcigpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnBsdWdpbnMpIHtcclxuICAgICAgICAgICAgZWFjaCh0aGlzLm9wdGlvbnMucGx1Z2lucywgZnVuY3Rpb24gKG9wdGlvbnMsIHBsdWdpbikge1xyXG4gICAgICAgICAgICAgICAgdGhpc1twbHVnaW5dKG9wdGlvbnMpO1xyXG4gICAgICAgICAgICB9LCB0aGlzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGF0LmVtaXQoXCJkYXRhdGFibGUuaW5pdFwiKTtcclxuICAgICAgICAgICAgdGhhdC5pbml0aWFsaXplZCA9IHRydWU7XHJcbiAgICAgICAgfSwgMTApO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciB0aGUgaW5zdGFuY2VcclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gdHlwZVxyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICBpZiAodHlwZSkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBcInBhZ2VcIjpcclxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyUGFnZSgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJwYWdlclwiOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJQYWdlcigpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJoZWFkZXJcIjpcclxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVySGVhZGVyKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzLFxyXG4gICAgICAgICAgICBvID0gdGhhdC5vcHRpb25zLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZSA9IFwiXCI7XHJcblxyXG4gICAgICAgIC8vIENvbnZlcnQgZGF0YSB0byBIVE1MXHJcbiAgICAgICAgaWYgKG8uZGF0YSkge1xyXG4gICAgICAgICAgICBkYXRhVG9UYWJsZS5jYWxsKHRoYXQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG8uYWpheCkge1xyXG4gICAgICAgICAgICB2YXIgYWpheCA9IG8uYWpheDtcclxuICAgICAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHhoclByb2dyZXNzID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIHRoYXQuZW1pdChcImRhdGF0YWJsZS5hamF4LnByb2dyZXNzXCIsIGUsIHhocik7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgeGhyTG9hZCA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0LmVtaXQoXCJkYXRhdGFibGUuYWpheC5sb2FkZWRcIiwgZSwgeGhyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5kYXRhID0gYWpheC5sb2FkID8gYWpheC5sb2FkLmNhbGwodGhhdCwgeGhyKSA6IHhoci5yZXNwb25zZVRleHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoudHlwZSA9IFwianNvblwiO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFqYXguY29udGVudCAmJiBhamF4LmNvbnRlbnQudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnR5cGUgPSBhamF4LmNvbnRlbnQudHlwZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmogPSBleHRlbmQob2JqLCBhamF4LmNvbnRlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmltcG9ydChvYmopO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5zZXRDb2x1bW5zKHRydWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5lbWl0KFwiZGF0YXRhYmxlLmFqYXguc3VjY2Vzc1wiLCBlLCB4aHIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuZW1pdChcImRhdGF0YWJsZS5hamF4LmVycm9yXCIsIGUsIHhocik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIHhockZhaWxlZCA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGF0LmVtaXQoXCJkYXRhdGFibGUuYWpheC5lcnJvclwiLCBlLCB4aHIpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIHhockNhbmNlbGxlZCA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGF0LmVtaXQoXCJkYXRhdGFibGUuYWpheC5hYm9ydFwiLCBlLCB4aHIpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgb24oeGhyLCBcInByb2dyZXNzXCIsIHhoclByb2dyZXNzKTtcclxuICAgICAgICAgICAgb24oeGhyLCBcImxvYWRcIiwgeGhyTG9hZCk7XHJcbiAgICAgICAgICAgIG9uKHhociwgXCJlcnJvclwiLCB4aHJGYWlsZWQpO1xyXG4gICAgICAgICAgICBvbih4aHIsIFwiYWJvcnRcIiwgeGhyQ2FuY2VsbGVkKTtcclxuXHJcbiAgICAgICAgICAgIHRoYXQuZW1pdChcImRhdGF0YWJsZS5hamF4LmxvYWRpbmdcIiwgeGhyKTtcclxuXHJcbiAgICAgICAgICAgIHhoci5vcGVuKFwiR0VUXCIsIHR5cGVvZiBhamF4ID09PSBcInN0cmluZ1wiID8gby5hamF4IDogby5hamF4LnVybCk7XHJcbiAgICAgICAgICAgIHhoci5zZW5kKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTdG9yZSByZWZlcmVuY2VzXHJcbiAgICAgICAgdGhhdC5ib2R5ID0gdGhhdC50YWJsZS50Qm9kaWVzWzBdO1xyXG4gICAgICAgIHRoYXQuaGVhZCA9IHRoYXQudGFibGUudEhlYWQ7XHJcbiAgICAgICAgdGhhdC5mb290ID0gdGhhdC50YWJsZS50Rm9vdDtcclxuXHJcbiAgICAgICAgaWYgKCF0aGF0LmJvZHkpIHtcclxuICAgICAgICAgICAgdGhhdC5ib2R5ID0gY3JlYXRlRWxlbWVudChcInRib2R5XCIpO1xyXG5cclxuICAgICAgICAgICAgdGhhdC50YWJsZS5hcHBlbmRDaGlsZCh0aGF0LmJvZHkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhhdC5oYXNSb3dzID0gdGhhdC5ib2R5LnJvd3MubGVuZ3RoID4gMDtcclxuXHJcbiAgICAgICAgLy8gTWFrZSBhIHRIZWFkIGlmIHRoZXJlIGlzbid0IG9uZSAoZml4ZXMgIzgpXHJcbiAgICAgICAgaWYgKCF0aGF0LmhlYWQpIHtcclxuICAgICAgICAgICAgdmFyIGggPSBjcmVhdGVFbGVtZW50KFwidGhlYWRcIik7XHJcbiAgICAgICAgICAgIHZhciB0ID0gY3JlYXRlRWxlbWVudChcInRyXCIpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoYXQuaGFzUm93cykge1xyXG4gICAgICAgICAgICAgICAgZWFjaCh0aGF0LmJvZHkucm93c1swXS5jZWxscywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHQuYXBwZW5kQ2hpbGQoY3JlYXRlRWxlbWVudChcInRoXCIpKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGguYXBwZW5kQ2hpbGQodCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoYXQuaGVhZCA9IGg7XHJcblxyXG4gICAgICAgICAgICB0aGF0LnRhYmxlLmluc2VydEJlZm9yZSh0aGF0LmhlYWQsIHRoYXQuYm9keSk7XHJcblxyXG4gICAgICAgICAgICB0aGF0LmhpZGRlbkhlYWRlciA9ICFvLmFqYXg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGF0LmhlYWRpbmdzID0gW107XHJcbiAgICAgICAgdGhhdC5oYXNIZWFkaW5ncyA9IHRoYXQuaGVhZC5yb3dzLmxlbmd0aCA+IDA7XHJcblxyXG4gICAgICAgIGlmICh0aGF0Lmhhc0hlYWRpbmdzKSB7XHJcbiAgICAgICAgICAgIHRoYXQuaGVhZGVyID0gdGhhdC5oZWFkLnJvd3NbMF07XHJcbiAgICAgICAgICAgIHRoYXQuaGVhZGluZ3MgPSBbXS5zbGljZS5jYWxsKHRoYXQuaGVhZGVyLmNlbGxzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEhlYWRlclxyXG4gICAgICAgIGlmICghby5oZWFkZXIpIHtcclxuICAgICAgICAgICAgaWYgKHRoYXQuaGVhZCkge1xyXG4gICAgICAgICAgICAgICAgdGhhdC50YWJsZS5yZW1vdmVDaGlsZCh0aGF0LnRhYmxlLnRIZWFkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRm9vdGVyXHJcbiAgICAgICAgaWYgKG8uZm9vdGVyKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGF0LmhlYWQgJiYgIXRoYXQuZm9vdCkge1xyXG4gICAgICAgICAgICAgICAgdGhhdC5mb290ID0gY3JlYXRlRWxlbWVudChcInRmb290XCIsIHtcclxuICAgICAgICAgICAgICAgICAgICBodG1sOiB0aGF0LmhlYWQuaW5uZXJIVE1MXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoYXQudGFibGUuYXBwZW5kQ2hpbGQodGhhdC5mb290KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGF0LmZvb3QpIHtcclxuICAgICAgICAgICAgICAgIHRoYXQudGFibGUucmVtb3ZlQ2hpbGQodGhhdC50YWJsZS50Rm9vdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEJ1aWxkXHJcbiAgICAgICAgdGhhdC53cmFwcGVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XHJcbiAgICAgICAgICAgIGNsYXNzOiBcImRhdGFUYWJsZS13cmFwcGVyIGRhdGFUYWJsZS1sb2FkaW5nXCJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gVGVtcGxhdGUgZm9yIGN1c3RvbSBsYXlvdXRzXHJcbiAgICAgICAgdGVtcGxhdGUgKz0gXCI8ZGl2IGNsYXNzPSdkYXRhVGFibGUtdG9wJz5cIjtcclxuICAgICAgICB0ZW1wbGF0ZSArPSBvLmxheW91dC50b3A7XHJcbiAgICAgICAgdGVtcGxhdGUgKz0gXCI8L2Rpdj5cIjtcclxuICAgICAgICB0ZW1wbGF0ZSArPSBcIjxkaXYgY2xhc3M9J2RhdGFUYWJsZS1jb250YWluZXInPjwvZGl2PlwiO1xyXG4gICAgICAgIHRlbXBsYXRlICs9IFwiPGRpdiBjbGFzcz0nZGF0YVRhYmxlLWJvdHRvbSc+XCI7XHJcbiAgICAgICAgdGVtcGxhdGUgKz0gby5sYXlvdXQuYm90dG9tO1xyXG4gICAgICAgIHRlbXBsYXRlICs9IFwiPC9kaXY+XCI7XHJcblxyXG4gICAgICAgIC8vIEluZm8gcGxhY2VtZW50XHJcbiAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKFwie2luZm99XCIsIFwiPGRpdiBjbGFzcz0nZGF0YVRhYmxlLWluZm8nPjwvZGl2PlwiKTtcclxuXHJcbiAgICAgICAgLy8gUGVyIFBhZ2UgU2VsZWN0XHJcbiAgICAgICAgaWYgKG8ucGVyUGFnZVNlbGVjdCkge1xyXG4gICAgICAgICAgICB2YXIgd3JhcCA9IFwiPGRpdiBjbGFzcz0nZGF0YVRhYmxlLWRyb3Bkb3duJz48bGFiZWw+XCI7XHJcbiAgICAgICAgICAgIHdyYXAgKz0gby5sYWJlbHMucGVyUGFnZTtcclxuICAgICAgICAgICAgd3JhcCArPSBcIjwvbGFiZWw+PC9kaXY+XCI7XHJcblxyXG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIHNlbGVjdFxyXG4gICAgICAgICAgICB2YXIgc2VsZWN0ID0gY3JlYXRlRWxlbWVudChcInNlbGVjdFwiLCB7XHJcbiAgICAgICAgICAgICAgICBjbGFzczogXCJkYXRhVGFibGUtc2VsZWN0b3JcIlxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgb3B0aW9uc1xyXG4gICAgICAgICAgICBlYWNoKG8ucGVyUGFnZVNlbGVjdCwgZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkID0gdmFsID09PSBvLnBlclBhZ2U7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9uID0gbmV3IE9wdGlvbih2YWwsIHZhbCwgc2VsZWN0ZWQsIHNlbGVjdGVkKTtcclxuICAgICAgICAgICAgICAgIHNlbGVjdC5hZGQob3B0aW9uKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBDdXN0b20gbGFiZWxcclxuICAgICAgICAgICAgd3JhcCA9IHdyYXAucmVwbGFjZShcIntzZWxlY3R9XCIsIHNlbGVjdC5vdXRlckhUTUwpO1xyXG5cclxuICAgICAgICAgICAgLy8gU2VsZWN0b3IgcGxhY2VtZW50XHJcbiAgICAgICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZShcIntzZWxlY3R9XCIsIHdyYXApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZShcIntzZWxlY3R9XCIsIFwiXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2VhcmNoYWJsZVxyXG4gICAgICAgIGlmIChvLnNlYXJjaGFibGUpIHtcclxuICAgICAgICAgICAgdmFyIGZvcm0gPVxyXG4gICAgICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPSdkYXRhVGFibGUtc2VhcmNoJz48aW5wdXQgY2xhc3M9J2RhdGFUYWJsZS1pbnB1dCcgcGxhY2Vob2xkZXI9J1wiICtcclxuICAgICAgICAgICAgICAgIG8ubGFiZWxzLnBsYWNlaG9sZGVyICtcclxuICAgICAgICAgICAgICAgIFwiJyB0eXBlPSd0ZXh0Jz48L2Rpdj5cIjtcclxuXHJcbiAgICAgICAgICAgIC8vIFNlYXJjaCBpbnB1dCBwbGFjZW1lbnRcclxuICAgICAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKFwie3NlYXJjaH1cIiwgZm9ybSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKFwie3NlYXJjaH1cIiwgXCJcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhhdC5oYXNIZWFkaW5ncykge1xyXG4gICAgICAgICAgICAvLyBTb3J0YWJsZVxyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcihcImhlYWRlclwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFkZCB0YWJsZSBjbGFzc1xyXG4gICAgICAgIGNsYXNzTGlzdC5hZGQodGhhdC50YWJsZSwgXCJkYXRhVGFibGUtdGFibGVcIik7XHJcblxyXG4gICAgICAgIC8vIFBhZ2luYXRvclxyXG4gICAgICAgIHZhciB3ID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XHJcbiAgICAgICAgICAgIGNsYXNzOiBcImRhdGFUYWJsZS1wYWdpbmF0aW9uXCJcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgcGFnaW5hdG9yID0gY3JlYXRlRWxlbWVudChcInVsXCIpO1xyXG4gICAgICAgIHcuYXBwZW5kQ2hpbGQocGFnaW5hdG9yKTtcclxuXHJcbiAgICAgICAgLy8gUGFnZXIocykgcGxhY2VtZW50XHJcbiAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC9cXHtwYWdlclxcfS9nLCB3Lm91dGVySFRNTCk7XHJcblxyXG4gICAgICAgIHRoYXQud3JhcHBlci5pbm5lckhUTUwgPSB0ZW1wbGF0ZTtcclxuXHJcbiAgICAgICAgdGhhdC5jb250YWluZXIgPSB0aGF0LndyYXBwZXIucXVlcnlTZWxlY3RvcihcIi5kYXRhVGFibGUtY29udGFpbmVyXCIpO1xyXG5cclxuICAgICAgICB0aGF0LnBhZ2VycyA9IHRoYXQud3JhcHBlci5xdWVyeVNlbGVjdG9yQWxsKFwiLmRhdGFUYWJsZS1wYWdpbmF0aW9uXCIpO1xyXG5cclxuICAgICAgICB0aGF0LmxhYmVsID0gdGhhdC53cmFwcGVyLnF1ZXJ5U2VsZWN0b3IoXCIuZGF0YVRhYmxlLWluZm9cIik7XHJcblxyXG4gICAgICAgIC8vIEluc2VydCBpbiB0byBET00gdHJlZVxyXG4gICAgICAgIHRoYXQudGFibGUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQodGhhdC53cmFwcGVyLCB0aGF0LnRhYmxlKTtcclxuICAgICAgICB0aGF0LmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGF0LnRhYmxlKTtcclxuXHJcbiAgICAgICAgLy8gU3RvcmUgdGhlIHRhYmxlIGRpbWVuc2lvbnNcclxuICAgICAgICB0aGF0LnJlY3QgPSB0aGF0LnRhYmxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICAgICAgICAvLyBDb252ZXJ0IHJvd3MgdG8gYXJyYXkgZm9yIHByb2Nlc3NpbmdcclxuICAgICAgICB0aGF0LmRhdGEgPSBbXS5zbGljZS5jYWxsKHRoYXQuYm9keS5yb3dzKTtcclxuICAgICAgICB0aGF0LmFjdGl2ZVJvd3MgPSB0aGF0LmRhdGEuc2xpY2UoKTtcclxuICAgICAgICB0aGF0LmFjdGl2ZUhlYWRpbmdzID0gdGhhdC5oZWFkaW5ncy5zbGljZSgpO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGVcclxuICAgICAgICB0aGF0LnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICBpZiAoIW8uYWpheCkge1xyXG4gICAgICAgICAgICB0aGF0LnNldENvbHVtbnMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEZpeCBoZWlnaHRcclxuICAgICAgICB0aGlzLmZpeEhlaWdodCgpO1xyXG5cclxuICAgICAgICAvLyBGaXggY29sdW1uc1xyXG4gICAgICAgIHRoYXQuZml4Q29sdW1ucygpO1xyXG5cclxuICAgICAgICAvLyBDbGFzcyBuYW1lc1xyXG4gICAgICAgIGlmICghby5oZWFkZXIpIHtcclxuICAgICAgICAgICAgY2xhc3NMaXN0LmFkZCh0aGF0LndyYXBwZXIsIFwibm8taGVhZGVyXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFvLmZvb3Rlcikge1xyXG4gICAgICAgICAgICBjbGFzc0xpc3QuYWRkKHRoYXQud3JhcHBlciwgXCJuby1mb290ZXJcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoby5zb3J0YWJsZSkge1xyXG4gICAgICAgICAgICBjbGFzc0xpc3QuYWRkKHRoYXQud3JhcHBlciwgXCJzb3J0YWJsZVwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChvLnNlYXJjaGFibGUpIHtcclxuICAgICAgICAgICAgY2xhc3NMaXN0LmFkZCh0aGF0LndyYXBwZXIsIFwic2VhcmNoYWJsZVwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChvLmZpeGVkSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5hZGQodGhhdC53cmFwcGVyLCBcImZpeGVkLWhlaWdodFwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChvLmZpeGVkQ29sdW1ucykge1xyXG4gICAgICAgICAgICBjbGFzc0xpc3QuYWRkKHRoYXQud3JhcHBlciwgXCJmaXhlZC1jb2x1bW5zXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhhdC5iaW5kRXZlbnRzKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyIHRoZSBwYWdlXHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5yZW5kZXJQYWdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmhhc1Jvd3MgJiYgdGhpcy50b3RhbFBhZ2VzKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYWdlID4gdGhpcy50b3RhbFBhZ2VzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gVXNlIGEgZnJhZ21lbnQgdG8gbGltaXQgdG91Y2hpbmcgdGhlIERPTVxyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmN1cnJlbnRQYWdlIC0gMSxcclxuICAgICAgICAgICAgICAgIGZyYWcgPSBkb2MuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuaGFzSGVhZGluZ3MpIHtcclxuICAgICAgICAgICAgICAgIGZsdXNoKHRoaXMuaGVhZGVyLCB0aGlzLmlzSUUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGVhY2godGhpcy5hY3RpdmVIZWFkaW5ncywgZnVuY3Rpb24gKHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oZWFkZXIuYXBwZW5kQ2hpbGQodGgpO1xyXG4gICAgICAgICAgICAgICAgfSwgdGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGVhY2godGhpcy5wYWdlc1tpbmRleF0sIGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgICAgICAgICAgIGZyYWcuYXBwZW5kQ2hpbGQodGhpcy5yb3dzKCkucmVuZGVyKHJvdykpO1xyXG4gICAgICAgICAgICB9LCB0aGlzKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2xlYXIoZnJhZyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9uRmlyc3RQYWdlID0gdGhpcy5jdXJyZW50UGFnZSA9PT0gMTtcclxuICAgICAgICAgICAgdGhpcy5vbkxhc3RQYWdlID0gdGhpcy5jdXJyZW50UGFnZSA9PT0gdGhpcy5sYXN0UGFnZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNsZWFyKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBVcGRhdGUgdGhlIGluZm9cclxuICAgICAgICB2YXIgY3VycmVudCA9IDAsXHJcbiAgICAgICAgICAgIGYgPSAwLFxyXG4gICAgICAgICAgICB0ID0gMCxcclxuICAgICAgICAgICAgaXRlbXM7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnRvdGFsUGFnZXMpIHtcclxuICAgICAgICAgICAgY3VycmVudCA9IHRoaXMuY3VycmVudFBhZ2UgLSAxO1xyXG4gICAgICAgICAgICBmID0gY3VycmVudCAqIHRoaXMub3B0aW9ucy5wZXJQYWdlO1xyXG4gICAgICAgICAgICB0ID0gZiArIHRoaXMucGFnZXNbY3VycmVudF0ubGVuZ3RoO1xyXG4gICAgICAgICAgICBmID0gZiArIDE7XHJcbiAgICAgICAgICAgIGl0ZW1zID0gISF0aGlzLnNlYXJjaGluZyA/IHRoaXMuc2VhcmNoRGF0YS5sZW5ndGggOiB0aGlzLmRhdGEubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMubGFiZWwgJiYgdGhpcy5vcHRpb25zLmxhYmVscy5pbmZvLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAvLyBDVVNUT00gTEFCRUxTXHJcbiAgICAgICAgICAgIHZhciBzdHJpbmcgPSB0aGlzLm9wdGlvbnMubGFiZWxzLmluZm9cclxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKFwie3N0YXJ0fVwiLCBmKVxyXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoXCJ7ZW5kfVwiLCB0KVxyXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoXCJ7cGFnZX1cIiwgdGhpcy5jdXJyZW50UGFnZSlcclxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKFwie3BhZ2VzfVwiLCB0aGlzLnRvdGFsUGFnZXMpXHJcbiAgICAgICAgICAgICAgICAucmVwbGFjZShcIntyb3dzfVwiLCBpdGVtcyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxhYmVsLmlubmVySFRNTCA9IGl0ZW1zID8gc3RyaW5nIDogXCJcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYWdlID09IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5maXhIZWlnaHQoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyIHRoZSBwYWdlcihzKVxyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8ucmVuZGVyUGFnZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZmx1c2godGhpcy5wYWdlcnMsIHRoaXMuaXNJRSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnRvdGFsUGFnZXMgPiAxKSB7XHJcbiAgICAgICAgICAgIHZhciBjID0gXCJwYWdlclwiLFxyXG4gICAgICAgICAgICAgICAgZnJhZyA9IGRvYy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXHJcbiAgICAgICAgICAgICAgICBwcmV2ID0gdGhpcy5vbkZpcnN0UGFnZSA/IDEgOiB0aGlzLmN1cnJlbnRQYWdlIC0gMSxcclxuICAgICAgICAgICAgICAgIG5leHQgPSB0aGlzLm9ubGFzdFBhZ2UgPyB0aGlzLnRvdGFsUGFnZXMgOiB0aGlzLmN1cnJlbnRQYWdlICsgMTtcclxuXHJcbiAgICAgICAgICAgIC8vIGZpcnN0IGJ1dHRvblxyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmZpcnN0TGFzdCkge1xyXG4gICAgICAgICAgICAgICAgZnJhZy5hcHBlbmRDaGlsZChidXR0b24oYywgMSwgdGhpcy5vcHRpb25zLmZpcnN0VGV4dCkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBwcmV2IGJ1dHRvblxyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLm5leHRQcmV2KSB7XHJcbiAgICAgICAgICAgICAgICBmcmFnLmFwcGVuZENoaWxkKGJ1dHRvbihjLCBwcmV2LCB0aGlzLm9wdGlvbnMucHJldlRleHQpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHBhZ2VyID0gdGhpcy5saW5rcztcclxuXHJcbiAgICAgICAgICAgIC8vIHRydW5jYXRlIHRoZSBsaW5rc1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRydW5jYXRlUGFnZXIpIHtcclxuICAgICAgICAgICAgICAgIHBhZ2VyID0gdHJ1bmNhdGUoXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5rcyxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFnZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5wYWdlckRlbHRhLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5lbGxpcHNpc1RleHRcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGFjdGl2ZSBwYWdlIGxpbmtcclxuICAgICAgICAgICAgY2xhc3NMaXN0LmFkZCh0aGlzLmxpbmtzW3RoaXMuY3VycmVudFBhZ2UgLSAxXSwgXCJhY3RpdmVcIik7XHJcblxyXG4gICAgICAgICAgICAvLyBhcHBlbmQgdGhlIGxpbmtzXHJcbiAgICAgICAgICAgIGVhY2gocGFnZXIsIGZ1bmN0aW9uIChwKSB7XHJcbiAgICAgICAgICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKHAsIFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICAgICAgZnJhZy5hcHBlbmRDaGlsZChwKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBjbGFzc0xpc3QuYWRkKHRoaXMubGlua3NbdGhpcy5jdXJyZW50UGFnZSAtIDFdLCBcImFjdGl2ZVwiKTtcclxuXHJcbiAgICAgICAgICAgIC8vIG5leHQgYnV0dG9uXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMubmV4dFByZXYpIHtcclxuICAgICAgICAgICAgICAgIGZyYWcuYXBwZW5kQ2hpbGQoYnV0dG9uKGMsIG5leHQsIHRoaXMub3B0aW9ucy5uZXh0VGV4dCkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBmaXJzdCBidXR0b25cclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5maXJzdExhc3QpIHtcclxuICAgICAgICAgICAgICAgIGZyYWcuYXBwZW5kQ2hpbGQoYnV0dG9uKGMsIHRoaXMudG90YWxQYWdlcywgdGhpcy5vcHRpb25zLmxhc3RUZXh0KSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFdlIG1heSBoYXZlIG1vcmUgdGhhbiBvbmUgcGFnZXJcclxuICAgICAgICAgICAgZWFjaCh0aGlzLnBhZ2VycywgZnVuY3Rpb24gKHBhZ2VyKSB7XHJcbiAgICAgICAgICAgICAgICBwYWdlci5hcHBlbmRDaGlsZChmcmFnLmNsb25lTm9kZSh0cnVlKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgdGhlIGhlYWRlclxyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8ucmVuZGVySGVhZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcclxuXHJcbiAgICAgICAgdGhhdC5sYWJlbHMgPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKHRoYXQuaGVhZGluZ3MgJiYgdGhhdC5oZWFkaW5ncy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZWFjaCh0aGF0LmhlYWRpbmdzLCBmdW5jdGlvbiAodGgsIGkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGF0LmxhYmVsc1tpXSA9IHRoLnRleHRDb250ZW50O1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjbGFzc0xpc3QuY29udGFpbnModGguZmlyc3RFbGVtZW50Q2hpbGQsIFwiZGF0YVRhYmxlLXNvcnRlclwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoLmlubmVySFRNTCA9IHRoLmZpcnN0RWxlbWVudENoaWxkLmlubmVySFRNTDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aC5zb3J0YWJsZSA9IHRoLmdldEF0dHJpYnV0ZShcImRhdGEtc29ydGFibGVcIikgIT09IFwiZmFsc2VcIjtcclxuXHJcbiAgICAgICAgICAgICAgICB0aC5vcmlnaW5hbENlbGxJbmRleCA9IGk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhhdC5vcHRpb25zLnNvcnRhYmxlICYmIHRoLnNvcnRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxpbmsgPSBjcmVhdGVFbGVtZW50KFwiYVwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY6IFwiI1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogXCJkYXRhVGFibGUtc29ydGVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw6IHRoLmlubmVySFRNTFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aC5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoLnNldEF0dHJpYnV0ZShcImRhdGEtc29ydGFibGVcIiwgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGguYXBwZW5kQ2hpbGQobGluayk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhhdC5maXhDb2x1bW5zKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQmluZCBldmVudCBsaXN0ZW5lcnNcclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICBwcm90by5iaW5kRXZlbnRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcyxcclxuICAgICAgICAgICAgbyA9IHRoYXQub3B0aW9ucztcclxuXHJcbiAgICAgICAgLy8gUGVyIHBhZ2Ugc2VsZWN0b3JcclxuICAgICAgICBpZiAoby5wZXJQYWdlU2VsZWN0KSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxlY3RvciA9IHRoYXQud3JhcHBlci5xdWVyeVNlbGVjdG9yKFwiLmRhdGFUYWJsZS1zZWxlY3RvclwiKTtcclxuICAgICAgICAgICAgaWYgKHNlbGVjdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBDaGFuZ2UgcGVyIHBhZ2VcclxuICAgICAgICAgICAgICAgIG9uKHNlbGVjdG9yLCBcImNoYW5nZVwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG8ucGVyUGFnZSA9IHBhcnNlSW50KHRoaXMudmFsdWUsIDEwKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0LnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGF0LmZpeEhlaWdodCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGF0LmVtaXQoXCJkYXRhdGFibGUucGVycGFnZVwiLCBvLnBlclBhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNlYXJjaCBpbnB1dFxyXG4gICAgICAgIGlmIChvLnNlYXJjaGFibGUpIHtcclxuICAgICAgICAgICAgdGhhdC5pbnB1dCA9IHRoYXQud3JhcHBlci5xdWVyeVNlbGVjdG9yKFwiLmRhdGFUYWJsZS1pbnB1dFwiKTtcclxuICAgICAgICAgICAgaWYgKHRoYXQuaW5wdXQpIHtcclxuICAgICAgICAgICAgICAgIG9uKHRoYXQuaW5wdXQsIFwia2V5dXBcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0LnNlYXJjaCh0aGlzLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBQYWdlcihzKSAvIHNvcnRpbmdcclxuICAgICAgICBvbih0aGF0LndyYXBwZXIsIFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgdmFyIHQgPSBlLnRhcmdldDtcclxuICAgICAgICAgICAgaWYgKHQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJhXCIpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0Lmhhc0F0dHJpYnV0ZShcImRhdGEtcGFnZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQucGFnZSh0LmdldEF0dHJpYnV0ZShcImRhdGEtcGFnZVwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICAgICAgICAgICAgICBvLnNvcnRhYmxlICYmXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NMaXN0LmNvbnRhaW5zKHQsIFwiZGF0YVRhYmxlLXNvcnRlclwiKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHQucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNvcnRhYmxlXCIpICE9IFwiZmFsc2VcIlxyXG4gICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5jb2x1bW5zKCkuc29ydCh0aGF0LmFjdGl2ZUhlYWRpbmdzLmluZGV4T2YodC5wYXJlbnROb2RlKSArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldCB1cCBjb2x1bW5zXHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgcHJvdG8uc2V0Q29sdW1ucyA9IGZ1bmN0aW9uIChhamF4KSB7XHJcblxyXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcclxuXHJcbiAgICAgICAgaWYgKCFhamF4KSB7XHJcbiAgICAgICAgICAgIGVhY2godGhhdC5kYXRhLCBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgICAgICBlYWNoKHJvdy5jZWxscywgZnVuY3Rpb24gKGNlbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjZWxsLmRhdGEgPSBjZWxsLmlubmVySFRNTDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGZvciB0aGUgY29sdW1ucyBvcHRpb25cclxuICAgICAgICBpZiAodGhhdC5vcHRpb25zLmNvbHVtbnMgJiYgdGhhdC5oZWFkaW5ncy5sZW5ndGgpIHtcclxuXHJcbiAgICAgICAgICAgIGVhY2godGhhdC5vcHRpb25zLmNvbHVtbnMsIGZ1bmN0aW9uIChkYXRhKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gY29udmVydCBzaW5nbGUgY29sdW1uIHNlbGVjdGlvbiB0byBhcnJheVxyXG4gICAgICAgICAgICAgICAgaWYgKCFpc0FycmF5KGRhdGEuc2VsZWN0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuc2VsZWN0ID0gW2RhdGEuc2VsZWN0XTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eShcInJlbmRlclwiKSAmJiB0eXBlb2YgZGF0YS5yZW5kZXIgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuc2VsZWN0ZWRDb2x1bW5zID0gdGhhdC5zZWxlY3RlZENvbHVtbnMuY29uY2F0KGRhdGEuc2VsZWN0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5jb2x1bW5SZW5kZXJlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbnM6IGRhdGEuc2VsZWN0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJlcjogZGF0YS5yZW5kZXJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIGRhdGEgYXR0cmlidXRlcyB0byB0aGUgdGggZWxlbWVudHNcclxuICAgICAgICAgICAgICAgIGVhY2goZGF0YS5zZWxlY3QsIGZ1bmN0aW9uIChjb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGggPSB0aGF0LmhlYWRpbmdzW2NvbHVtbl07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXR5cGVcIiwgZGF0YS50eXBlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuZm9ybWF0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoLnNldEF0dHJpYnV0ZShcImRhdGEtZm9ybWF0XCIsIGRhdGEuZm9ybWF0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoXCJzb3J0YWJsZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXNvcnRhYmxlXCIsIGRhdGEuc29ydGFibGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoXCJoaWRkZW5cIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuaGlkZGVuICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5jb2x1bW5zKGNvbHVtbikuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eShcInNvcnRcIikgJiYgZGF0YS5zZWxlY3QubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuY29sdW1ucygpLnNvcnQoZGF0YS5zZWxlY3RbMF0gKyAxLCBkYXRhLnNvcnQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGF0Lmhhc1Jvd3MpIHtcclxuICAgICAgICAgICAgZWFjaCh0aGF0LmRhdGEsIGZ1bmN0aW9uIChyb3csIGkpIHtcclxuICAgICAgICAgICAgICAgIHJvdy5kYXRhSW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgICAgZWFjaChyb3cuY2VsbHMsIGZ1bmN0aW9uIChjZWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2VsbC5kYXRhID0gY2VsbC5pbm5lckhUTUw7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhhdC5zZWxlY3RlZENvbHVtbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBlYWNoKHRoYXQuZGF0YSwgZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICAgICAgICAgIGVhY2gocm93LmNlbGxzLCBmdW5jdGlvbiAoY2VsbCwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhhdC5zZWxlY3RlZENvbHVtbnMuaW5kZXhPZihpKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYWNoKHRoYXQuY29sdW1uUmVuZGVyZXJzLCBmdW5jdGlvbiAobykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvLmNvbHVtbnMuaW5kZXhPZihpKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwuaW5uZXJIVE1MID0gby5yZW5kZXJlci5jYWxsKHRoYXQsIGNlbGwuZGF0YSwgY2VsbCwgcm93KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoYXQuY29sdW1ucygpLnJlYnVpbGQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoYXQucmVuZGVyKFwiaGVhZGVyXCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlc3Ryb3kgdGhlIGluc3RhbmNlXHJcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMudGFibGUuaW5uZXJIVE1MID0gdGhpcy5pbml0aWFsTGF5b3V0O1xyXG5cclxuICAgICAgICAvLyBSZW1vdmUgdGhlIGNsYXNzTmFtZVxyXG4gICAgICAgIGNsYXNzTGlzdC5yZW1vdmUodGhpcy50YWJsZSwgXCJkYXRhVGFibGUtdGFibGVcIik7XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZSB0aGUgY29udGFpbmVyc1xyXG4gICAgICAgIHRoaXMud3JhcHBlci5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZCh0aGlzLnRhYmxlLCB0aGlzLndyYXBwZXIpO1xyXG5cclxuICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlIHRoZSBpbnN0YW5jZVxyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8udXBkYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMucGFnaW5hdGUodGhpcyk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXIoXCJwYWdlXCIpO1xyXG5cclxuICAgICAgICB0aGlzLmxpbmtzID0gW107XHJcblxyXG4gICAgICAgIHZhciBpID0gdGhpcy5wYWdlcy5sZW5ndGg7XHJcbiAgICAgICAgd2hpbGUgKGktLSkge1xyXG4gICAgICAgICAgICB2YXIgbnVtID0gaSArIDE7XHJcbiAgICAgICAgICAgIHRoaXMubGlua3NbaV0gPSBidXR0b24oaSA9PT0gMCA/IFwiYWN0aXZlXCIgOiBcIlwiLCBudW0sIG51bSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNvcnRpbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5yZW5kZXIoXCJwYWdlclwiKTtcclxuXHJcbiAgICAgICAgdGhpcy5yb3dzKCkudXBkYXRlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuZW1pdChcImRhdGF0YWJsZS51cGRhdGVcIik7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU29ydCByb3dzIGludG8gcGFnZXNcclxuICAgICAqIEByZXR1cm4ge051bWJlcn1cclxuICAgICAqL1xyXG4gICAgcHJvdG8ucGFnaW5hdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHBlclBhZ2UgPSB0aGlzLm9wdGlvbnMucGVyUGFnZSxcclxuICAgICAgICAgICAgcm93cyA9IHRoaXMuYWN0aXZlUm93cztcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2VhcmNoaW5nKSB7XHJcbiAgICAgICAgICAgIHJvd3MgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGVhY2godGhpcy5zZWFyY2hEYXRhLCBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIHJvd3MucHVzaCh0aGlzLmFjdGl2ZVJvd3NbaW5kZXhdKTtcclxuICAgICAgICAgICAgfSwgdGhpcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVjayBmb3IgaGlkZGVuIGNvbHVtbnNcclxuICAgICAgICB0aGlzLnBhZ2VzID0gcm93c1xyXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uICh0ciwgaSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGkgJSBwZXJQYWdlID09PSAwID8gcm93cy5zbGljZShpLCBpICsgcGVyUGFnZSkgOiBudWxsO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChwYWdlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFnZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMudG90YWxQYWdlcyA9IHRoaXMubGFzdFBhZ2UgPSB0aGlzLnBhZ2VzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMudG90YWxQYWdlcztcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBGaXggY29sdW1uIHdpZHRoc1xyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8uZml4Q29sdW1ucyA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5maXhlZENvbHVtbnMgJiYgdGhpcy5hY3RpdmVIZWFkaW5ncyAmJiB0aGlzLmFjdGl2ZUhlYWRpbmdzLmxlbmd0aCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIGNlbGxzLFxyXG4gICAgICAgICAgICAgICAgaGQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29sdW1uV2lkdGhzID0gW107XHJcblxyXG4gICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGhlYWRpbmdzIHdlIG5lZWQgb25seSBzZXQgdGhlIHdpZHRocyBvbiB0aGVtXHJcbiAgICAgICAgICAgIC8vIG90aGVyd2lzZSB3ZSBuZWVkIGEgdGVtcCBoZWFkZXIgYW5kIHRoZSB3aWR0aHMgbmVlZCBhcHBseWluZyB0byBhbGwgY2VsbHNcclxuICAgICAgICAgICAgaWYgKHRoaXMudGFibGUudEhlYWQpIHtcclxuICAgICAgICAgICAgICAgIC8vIFJlc2V0IHdpZHRoc1xyXG4gICAgICAgICAgICAgICAgZWFjaCh0aGlzLmFjdGl2ZUhlYWRpbmdzLCBmdW5jdGlvbiAoY2VsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNlbGwuc3R5bGUud2lkdGggPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgfSwgdGhpcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgZWFjaCh0aGlzLmFjdGl2ZUhlYWRpbmdzLCBmdW5jdGlvbiAoY2VsbCwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvdyA9IGNlbGwub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHcgPSBvdyAvIHRoaXMucmVjdC53aWR0aCAqIDEwMDtcclxuICAgICAgICAgICAgICAgICAgICBjZWxsLnN0eWxlLndpZHRoID0gdyArIFwiJVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sdW1uV2lkdGhzW2ldID0gb3c7XHJcbiAgICAgICAgICAgICAgICB9LCB0aGlzKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNlbGxzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gTWFrZSB0ZW1wZXJhcnkgaGVhZGluZ3NcclxuICAgICAgICAgICAgICAgIGhkID0gY3JlYXRlRWxlbWVudChcInRoZWFkXCIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHIgPSBjcmVhdGVFbGVtZW50KFwidHJcIik7XHJcbiAgICAgICAgICAgICAgICB2YXIgYyA9IHRoaXMudGFibGUudEJvZGllc1swXS5yb3dzWzBdLmNlbGxzO1xyXG4gICAgICAgICAgICAgICAgZWFjaChjLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRoID0gY3JlYXRlRWxlbWVudChcInRoXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHIuYXBwZW5kQ2hpbGQodGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNlbGxzLnB1c2godGgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaGQuYXBwZW5kQ2hpbGQocik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlLmluc2VydEJlZm9yZShoZCwgdGhpcy5ib2R5KTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgd2lkdGhzID0gW107XHJcbiAgICAgICAgICAgICAgICBlYWNoKGNlbGxzLCBmdW5jdGlvbiAoY2VsbCwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvdyA9IGNlbGwub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHcgPSBvdyAvIHRoaXMucmVjdC53aWR0aCAqIDEwMDtcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aHMucHVzaCh3KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbHVtbldpZHRoc1tpXSA9IG93O1xyXG4gICAgICAgICAgICAgICAgfSwgdGhpcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgZWFjaCh0aGlzLmRhdGEsIGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICBlYWNoKHJvdy5jZWxscywgZnVuY3Rpb24gKGNlbGwsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29sdW1ucyhjZWxsLmNlbGxJbmRleCkudmlzaWJsZSgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbC5zdHlsZS53aWR0aCA9IHdpZHRoc1tpXSArIFwiJVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfSwgdGhpcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gRGlzY2FyZCB0aGUgdGVtcCBoZWFkZXJcclxuICAgICAgICAgICAgICAgIHRoaXMudGFibGUucmVtb3ZlQ2hpbGQoaGQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEZpeCB0aGUgY29udGFpbmVyIGhlaWdodDtcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLmZpeEhlaWdodCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIFx0aWYgKHRoaXMub3B0aW9ucy5maXhlZEhlaWdodCkge1xyXG5cdCAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gbnVsbDtcclxuXHQgICAgICAgIHRoaXMucmVjdCA9IHRoaXMuY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cdCAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gdGhpcy5yZWN0LmhlaWdodCArIFwicHhcIjtcclxuXHQgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFBlcmZvcm0gYSBzZWFyY2ggb2YgdGhlIGRhdGEgc2V0XHJcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IHF1ZXJ5XHJcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5zZWFyY2ggPSBmdW5jdGlvbiAocXVlcnkpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaGFzUm93cykgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XHJcblxyXG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7XHJcbiAgICAgICAgdGhpcy5zZWFyY2hpbmcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc2VhcmNoRGF0YSA9IFtdO1xyXG5cclxuICAgICAgICBpZiAoIXF1ZXJ5Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLnNlYXJjaGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJkYXRhdGFibGUuc2VhcmNoXCIsIHF1ZXJ5LCB0aGlzLnNlYXJjaERhdGEpO1xyXG4gICAgICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKHRoaXMud3JhcHBlciwgXCJzZWFyY2gtcmVzdWx0c1wiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jbGVhcigpO1xyXG5cclxuICAgICAgICBlYWNoKHRoaXMuZGF0YSwgZnVuY3Rpb24gKHJvdywgaWR4KSB7XHJcbiAgICAgICAgICAgIHZhciBpbkFycmF5ID0gdGhpcy5zZWFyY2hEYXRhLmluZGV4T2Yocm93KSA+IC0xO1xyXG5cclxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL01vYml1czEvVmFuaWxsYS1EYXRhVGFibGVzL2lzc3Vlcy8xMlxyXG4gICAgICAgICAgICB2YXIgZG9lc1F1ZXJ5TWF0Y2ggPSBxdWVyeS5zcGxpdChcIiBcIikucmVkdWNlKGZ1bmN0aW9uIChib29sLCB3b3JkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5jbHVkZXMgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHJvdy5jZWxscy5sZW5ndGg7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm93LmNlbGxzW3hdLnRleHRDb250ZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZih3b3JkKSA+IC0xICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuY29sdW1ucyhyb3cuY2VsbHNbeF0uY2VsbEluZGV4KS52aXNpYmxlKClcclxuICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZXMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJvb2wgJiYgaW5jbHVkZXM7XHJcbiAgICAgICAgICAgIH0sIHRydWUpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGRvZXNRdWVyeU1hdGNoICYmICFpbkFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICByb3cuc2VhcmNoSW5kZXggPSBpZHg7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlYXJjaERhdGEucHVzaChpZHgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcm93LnNlYXJjaEluZGV4ID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICBjbGFzc0xpc3QuYWRkKHRoaXMud3JhcHBlciwgXCJzZWFyY2gtcmVzdWx0c1wiKTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGF0LnNlYXJjaERhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5yZW1vdmUodGhhdC53cmFwcGVyLCBcInNlYXJjaC1yZXN1bHRzXCIpO1xyXG5cclxuICAgICAgICAgICAgdGhhdC5zZXRNZXNzYWdlKHRoYXQub3B0aW9ucy5sYWJlbHMubm9Sb3dzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGF0LnVwZGF0ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5lbWl0KFwiZGF0YXRhYmxlLnNlYXJjaFwiLCBxdWVyeSwgdGhpcy5zZWFyY2hEYXRhKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGFuZ2UgcGFnZVxyXG4gICAgICogQHBhcmFtICB7aW50fSBwYWdlXHJcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5wYWdlID0gZnVuY3Rpb24gKHBhZ2UpIHtcclxuICAgICAgICAvLyBXZSBkb24ndCB3YW50IHRvIGxvYWQgdGhlIGN1cnJlbnQgcGFnZSBhZ2Fpbi5cclxuICAgICAgICBpZiAocGFnZSA9PSB0aGlzLmN1cnJlbnRQYWdlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghaXNOYU4ocGFnZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IHBhcnNlSW50KHBhZ2UsIDEwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChwYWdlID4gdGhpcy5wYWdlcy5sZW5ndGggfHwgcGFnZSA8IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5yZW5kZXIoXCJwYWdlXCIpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyKFwicGFnZXJcIik7XHJcblxyXG4gICAgICAgIHRoaXMuZW1pdChcImRhdGF0YWJsZS5wYWdlXCIsIHBhZ2UpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNvcnQgYnkgY29sdW1uXHJcbiAgICAgKiBAcGFyYW0gIHtpbnR9IGNvbHVtbiAtIFRoZSBjb2x1bW4gbm8uXHJcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IGRpcmVjdGlvbiAtIGFzYyBvciBkZXNjXHJcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5zb3J0Q29sdW1uID0gZnVuY3Rpb24gKGNvbHVtbiwgZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgLy8gVXNlIGNvbHVtbnMgQVBJIHVudGlsIHNvcnRDb2x1bW4gbWV0aG9kIGlzIHJlbW92ZWRcclxuICAgICAgICB0aGlzLmNvbHVtbnMoKS5zb3J0KGNvbHVtbiwgZGlyZWN0aW9uKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgbmV3IHJvdyBkYXRhXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YVxyXG4gICAgICovXHJcbiAgICBwcm90by5pbnNlcnQgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG5cclxuICAgICAgICB2YXIgdGhhdCA9IHRoaXMsXHJcbiAgICAgICAgICAgIHJvd3MgPSBbXTtcclxuICAgICAgICBpZiAoaXNPYmplY3QoZGF0YSkpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuaGVhZGluZ3MpIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhhdC5oYXNIZWFkaW5ncyAmJiAhdGhhdC5oYXNSb3dzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRyID0gY3JlYXRlRWxlbWVudChcInRyXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aDtcclxuICAgICAgICAgICAgICAgICAgICBlYWNoKGRhdGEuaGVhZGluZ3MsIGZ1bmN0aW9uIChoZWFkaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoID0gY3JlYXRlRWxlbWVudChcInRoXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw6IGhlYWRpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5oZWFkLmFwcGVuZENoaWxkKHRyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5oZWFkZXIgPSB0cjtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0LmhlYWRpbmdzID0gW10uc2xpY2UuY2FsbCh0ci5jZWxscyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5oYXNIZWFkaW5ncyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlLWVuYWJsZSBzb3J0aW5nIGlmIGl0IHdhcyBkaXNhYmxlZCBkdWVcclxuICAgICAgICAgICAgICAgICAgICAvLyB0byBtaXNzaW5nIGhlYWRlclxyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQub3B0aW9ucy5zb3J0YWJsZSA9IHRoYXQuaW5pdGlhbFNvcnRhYmxlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBBbGxvdyBzb3J0aW5nIG9uIG5ldyBoZWFkZXJcclxuICAgICAgICAgICAgICAgICAgICB0aGF0LnJlbmRlcihcImhlYWRlclwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGRhdGEuZGF0YSAmJiBpc0FycmF5KGRhdGEuZGF0YSkpIHtcclxuICAgICAgICAgICAgICAgIHJvd3MgPSBkYXRhLmRhdGE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkoZGF0YSkpIHtcclxuICAgICAgICAgICAgZWFjaChkYXRhLCBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgciA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZWFjaChyb3csIGZ1bmN0aW9uIChjZWxsLCBoZWFkaW5nKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoYXQubGFiZWxzLmluZGV4T2YoaGVhZGluZyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJbaW5kZXhdID0gY2VsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJvd3MucHVzaChyKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocm93cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhhdC5yb3dzKCkuYWRkKHJvd3MpO1xyXG5cclxuICAgICAgICAgICAgdGhhdC5oYXNSb3dzID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoYXQudXBkYXRlKCk7XHJcblxyXG4gICAgICAgIHRoYXQuZml4Q29sdW1ucygpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlZnJlc2ggdGhlIGluc3RhbmNlXHJcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5yZWZyZXNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2VhcmNoYWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLmlucHV0LnZhbHVlID0gXCJcIjtcclxuICAgICAgICAgICAgdGhpcy5zZWFyY2hpbmcgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7XHJcbiAgICAgICAgdGhpcy5vbkZpcnN0UGFnZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbWl0KFwiZGF0YXRhYmxlLnJlZnJlc2hcIik7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVHJ1bmNhdGUgdGhlIHRhYmxlXHJcbiAgICAgKiBAcGFyYW0gIHttaXhlc30gaHRtbCAtIEhUTUwgc3RyaW5nIG9yIEhUTUxFbGVtZW50XHJcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5jbGVhciA9IGZ1bmN0aW9uIChodG1sKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYm9keSkge1xyXG4gICAgICAgICAgICBmbHVzaCh0aGlzLmJvZHksIHRoaXMuaXNJRSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgcGFyZW50ID0gdGhpcy5ib2R5O1xyXG4gICAgICAgIGlmICghdGhpcy5ib2R5KSB7XHJcbiAgICAgICAgICAgIHBhcmVudCA9IHRoaXMudGFibGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaHRtbCkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGh0bWwgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBmcmFnID0gZG9jLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcclxuICAgICAgICAgICAgICAgIGZyYWcuaW5uZXJIVE1MID0gaHRtbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKGh0bWwpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFeHBvcnQgdGFibGUgdG8gdmFyaW91cyBmb3JtYXRzIChjc3YsIHR4dCBvciBzcWwpXHJcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnMgVXNlciBvcHRpb25zXHJcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICBwcm90by5leHBvcnQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgICAgIGlmICghdGhpcy5oYXNIZWFkaW5ncyAmJiAhdGhpcy5oYXNSb3dzKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIHZhciBoZWFkZXJzID0gdGhpcy5hY3RpdmVIZWFkaW5ncyxcclxuICAgICAgICAgICAgcm93cyA9IFtdLFxyXG4gICAgICAgICAgICBhcnIgPSBbXSxcclxuICAgICAgICAgICAgaSxcclxuICAgICAgICAgICAgeCxcclxuICAgICAgICAgICAgc3RyLFxyXG4gICAgICAgICAgICBsaW5rO1xyXG5cclxuICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XHJcbiAgICAgICAgICAgIGRvd25sb2FkOiB0cnVlLFxyXG4gICAgICAgICAgICBza2lwQ29sdW1uOiBbXSxcclxuXHJcbiAgICAgICAgICAgIC8vIGNzdlxyXG4gICAgICAgICAgICBsaW5lRGVsaW1pdGVyOiBcIlxcblwiLFxyXG4gICAgICAgICAgICBjb2x1bW5EZWxpbWl0ZXI6IFwiLFwiLFxyXG5cclxuICAgICAgICAgICAgLy8gc3FsXHJcbiAgICAgICAgICAgIHRhYmxlTmFtZTogXCJteVRhYmxlXCIsXHJcblxyXG4gICAgICAgICAgICAvLyBqc29uXHJcbiAgICAgICAgICAgIHJlcGxhY2VyOiBudWxsLFxyXG4gICAgICAgICAgICBzcGFjZTogNFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGZvciB0aGUgb3B0aW9ucyBvYmplY3RcclxuICAgICAgICBpZiAoIWlzT2JqZWN0KG9wdGlvbnMpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBvID0gZXh0ZW5kKGRlZmF1bHRzLCBvcHRpb25zKTtcclxuXHJcbiAgICAgICAgaWYgKG8udHlwZSkge1xyXG4gICAgICAgICAgICBpZiAoby50eXBlID09PSBcInR4dFwiIHx8IG8udHlwZSA9PT0gXCJjc3ZcIikge1xyXG4gICAgICAgICAgICAgICAgLy8gSW5jbHVkZSBoZWFkaW5nc1xyXG4gICAgICAgICAgICAgICAgcm93c1swXSA9IHRoaXMuaGVhZGVyO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBTZWxlY3Rpb24gb3Igd2hvbGUgdGFibGVcclxuICAgICAgICAgICAgaWYgKG8uc2VsZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBQYWdlIG51bWJlclxyXG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTihvLnNlbGVjdGlvbikpIHtcclxuICAgICAgICAgICAgICAgICAgICByb3dzID0gcm93cy5jb25jYXQodGhpcy5wYWdlc1tvLnNlbGVjdGlvbiAtIDFdKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShvLnNlbGVjdGlvbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBBcnJheSBvZiBwYWdlIG51bWJlcnNcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgby5zZWxlY3Rpb24ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm93cyA9IHJvd3MuY29uY2F0KHRoaXMucGFnZXNbby5zZWxlY3Rpb25baV0gLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcm93cyA9IHJvd3MuY29uY2F0KHRoaXMuYWN0aXZlUm93cyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIE9ubHkgcHJvY2VlZCBpZiB3ZSBoYXZlIGRhdGFcclxuICAgICAgICAgICAgaWYgKHJvd3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoby50eXBlID09PSBcInR4dFwiIHx8IG8udHlwZSA9PT0gXCJjc3ZcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IFwiXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCByb3dzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoeCA9IDA7IHggPCByb3dzW2ldLmNlbGxzLmxlbmd0aDsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgY29sdW1uIHNraXAgYW5kIHZpc2liaWxpdHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLnNraXBDb2x1bW4uaW5kZXhPZihoZWFkZXJzW3hdLm9yaWdpbmFsQ2VsbEluZGV4KSA8IDAgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbHVtbnMoaGVhZGVyc1t4XS5vcmlnaW5hbENlbGxJbmRleCkudmlzaWJsZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHIgKz0gcm93c1tpXS5jZWxsc1t4XS50ZXh0Q29udGVudCArIG8uY29sdW1uRGVsaW1pdGVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0cmFpbGluZyBjb2x1bW4gZGVsaW1pdGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciA9IHN0ci50cmltKCkuc3Vic3RyaW5nKDAsIHN0ci5sZW5ndGggLSAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFwcGx5IGxpbmUgZGVsaW1pdGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSBvLmxpbmVEZWxpbWl0ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdHJhaWxpbmcgbGluZSBkZWxpbWl0ZXJcclxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBzdHIudHJpbSgpLnN1YnN0cmluZygwLCBzdHIubGVuZ3RoIC0gMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvLmRvd25sb2FkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciA9IFwiZGF0YTp0ZXh0L2NzdjtjaGFyc2V0PXV0Zi04LFwiICsgc3RyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoby50eXBlID09PSBcInNxbFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQmVnaW4gSU5TRVJUIHN0YXRlbWVudFxyXG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IFwiSU5TRVJUIElOVE8gYFwiICsgby50YWJsZU5hbWUgKyBcImAgKFwiO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IHRhYmxlIGhlYWRpbmdzIHRvIGNvbHVtbiBuYW1lc1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBoZWFkZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBjb2x1bW4gc2tpcCBhbmQgY29sdW1uIHZpc2liaWxpdHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgby5za2lwQ29sdW1uLmluZGV4T2YoaGVhZGVyc1tpXS5vcmlnaW5hbENlbGxJbmRleCkgPCAwICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbHVtbnMoaGVhZGVyc1tpXS5vcmlnaW5hbENlbGxJbmRleCkudmlzaWJsZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9IFwiYFwiICsgaGVhZGVyc1tpXS50ZXh0Q29udGVudCArIFwiYCxcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRyYWlsaW5nIGNvbW1hXHJcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gc3RyLnRyaW0oKS5zdWJzdHJpbmcoMCwgc3RyLmxlbmd0aCAtIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBCZWdpbiBWQUxVRVNcclxuICAgICAgICAgICAgICAgICAgICBzdHIgKz0gXCIpIFZBTFVFUyBcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSXRlcmF0ZSByb3dzIGFuZCBjb252ZXJ0IGNlbGwgZGF0YSB0byBjb2x1bW4gdmFsdWVzXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHJvd3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9IFwiKFwiO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh4ID0gMDsgeCA8IHJvd3NbaV0uY2VsbHMubGVuZ3RoOyB4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBjb2x1bW4gc2tpcCBhbmQgY29sdW1uIHZpc2liaWxpdHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLnNraXBDb2x1bW4uaW5kZXhPZihoZWFkZXJzW3hdLm9yaWdpbmFsQ2VsbEluZGV4KSA8IDAgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbHVtbnMoaGVhZGVyc1t4XS5vcmlnaW5hbENlbGxJbmRleCkudmlzaWJsZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHIgKz0gJ1wiJyArIHJvd3NbaV0uY2VsbHNbeF0udGV4dENvbnRlbnQgKyAnXCIsJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRyYWlsaW5nIGNvbW1hXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciA9IHN0ci50cmltKCkuc3Vic3RyaW5nKDAsIHN0ci5sZW5ndGggLSAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVuZCBWQUxVRVNcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9IFwiKSxcIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0cmFpbGluZyBjb21tYVxyXG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IHN0ci50cmltKCkuc3Vic3RyaW5nKDAsIHN0ci5sZW5ndGggLSAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRyYWlsaW5nIGNvbG9uXHJcbiAgICAgICAgICAgICAgICAgICAgc3RyICs9IFwiO1wiO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoby5kb3dubG9hZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHIgPSBcImRhdGE6YXBwbGljYXRpb24vc3FsO2NoYXJzZXQ9dXRmLTgsXCIgKyBzdHI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvLnR5cGUgPT09IFwianNvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSXRlcmF0ZSByb3dzXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh4ID0gMDsgeCA8IHJvd3MubGVuZ3RoOyB4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJyW3hdID0gYXJyW3hdIHx8IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJdGVyYXRlIGNvbHVtbnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGhlYWRlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBjb2x1bW4gc2tpcCBhbmQgY29sdW1uIHZpc2liaWxpdHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLnNraXBDb2x1bW4uaW5kZXhPZihoZWFkZXJzW2ldLm9yaWdpbmFsQ2VsbEluZGV4KSA8IDAgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbHVtbnMoaGVhZGVyc1tpXS5vcmlnaW5hbENlbGxJbmRleCkudmlzaWJsZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJbeF1baGVhZGVyc1tpXS50ZXh0Q29udGVudF0gPSByb3dzW3hdLmNlbGxzW2ldLnRleHRDb250ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IHRoZSBhcnJheSBvZiBvYmplY3RzIHRvIEpTT04gc3RyaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gSlNPTi5zdHJpbmdpZnkoYXJyLCBvLnJlcGxhY2VyLCBvLnNwYWNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG8uZG93bmxvYWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyID0gXCJkYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOCxcIiArIHN0cjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gRG93bmxvYWRcclxuICAgICAgICAgICAgICAgIGlmIChvLmRvd25sb2FkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRmlsZW5hbWVcclxuICAgICAgICAgICAgICAgICAgICBvLmZpbGVuYW1lID0gby5maWxlbmFtZSB8fCBcImRhdGF0YWJsZV9leHBvcnRcIjtcclxuICAgICAgICAgICAgICAgICAgICBvLmZpbGVuYW1lICs9IFwiLlwiICsgby50eXBlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBlbmNvZGVVUkkoc3RyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbGluayB0byB0cmlnZ2VyIHRoZSBkb3dubG9hZFxyXG4gICAgICAgICAgICAgICAgICAgIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBsaW5rLmhyZWYgPSBzdHI7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluay5kb3dubG9hZCA9IG8uZmlsZW5hbWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFwcGVuZCB0aGUgbGlua1xyXG4gICAgICAgICAgICAgICAgICAgIGJvZHkuYXBwZW5kQ2hpbGQobGluayk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRyaWdnZXIgdGhlIGRvd25sb2FkXHJcbiAgICAgICAgICAgICAgICAgICAgbGluay5jbGljaygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIGxpbmtcclxuICAgICAgICAgICAgICAgICAgICBib2R5LnJlbW92ZUNoaWxkKGxpbmspO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBzdHI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbXBvcnQgZGF0YSB0byB0aGUgdGFibGVcclxuICAgICAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9ucyBVc2VyIG9wdGlvbnNcclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIHByb3RvLmltcG9ydCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIG9iaiA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBkZWZhdWx0cyA9IHtcclxuICAgICAgICAgICAgLy8gY3N2XHJcbiAgICAgICAgICAgIGxpbmVEZWxpbWl0ZXI6IFwiXFxuXCIsXHJcbiAgICAgICAgICAgIGNvbHVtbkRlbGltaXRlcjogXCIsXCJcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBDaGVjayBmb3IgdGhlIG9wdGlvbnMgb2JqZWN0XHJcbiAgICAgICAgaWYgKCFpc09iamVjdChvcHRpb25zKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBvcHRpb25zID0gZXh0ZW5kKGRlZmF1bHRzLCBvcHRpb25zKTtcclxuXHJcbiAgICAgICAgaWYgKG9wdGlvbnMuZGF0YS5sZW5ndGggfHwgaXNPYmplY3Qob3B0aW9ucy5kYXRhKSkge1xyXG4gICAgICAgICAgICAvLyBJbXBvcnQgQ1NWXHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnR5cGUgPT09IFwiY3N2XCIpIHtcclxuICAgICAgICAgICAgICAgIG9iaiA9IHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBbXVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTcGxpdCB0aGUgc3RyaW5nIGludG8gcm93c1xyXG4gICAgICAgICAgICAgICAgdmFyIHJvd3MgPSBvcHRpb25zLmRhdGEuc3BsaXQob3B0aW9ucy5saW5lRGVsaW1pdGVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocm93cy5sZW5ndGgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuaGVhZGluZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmhlYWRpbmdzID0gcm93c1swXS5zcGxpdChvcHRpb25zLmNvbHVtbkRlbGltaXRlcik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3dzLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBlYWNoKHJvd3MsIGZ1bmN0aW9uIChyb3csIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmRhdGFbaV0gPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNwbGl0IHRoZSByb3dzIGludG8gdmFsdWVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSByb3cuc3BsaXQob3B0aW9ucy5jb2x1bW5EZWxpbWl0ZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVhY2godmFsdWVzLCBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouZGF0YVtpXS5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy50eXBlID09PSBcImpzb25cIikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGpzb24gPSBpc0pzb24ob3B0aW9ucy5kYXRhKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBWYWxpZCBKU09OIHN0cmluZ1xyXG4gICAgICAgICAgICAgICAgaWYgKGpzb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRpbmdzOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogW11cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBlYWNoKGpzb24sIGZ1bmN0aW9uIChkYXRhLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5kYXRhW2ldID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVhY2goZGF0YSwgZnVuY3Rpb24gKHZhbHVlLCBjb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmouaGVhZGluZ3MuaW5kZXhPZihjb2x1bW4pIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5oZWFkaW5ncy5wdXNoKGNvbHVtbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmRhdGFbaV0ucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJUaGF0J3Mgbm90IHZhbGlkIEpTT04hXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoaXNPYmplY3Qob3B0aW9ucy5kYXRhKSkge1xyXG4gICAgICAgICAgICAgICAgb2JqID0gb3B0aW9ucy5kYXRhO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAob2JqKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIHJvd3NcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5zZXJ0KG9iaik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFByaW50IHRoZSB0YWJsZVxyXG4gICAgICogQHJldHVybiB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8ucHJpbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGhlYWRpbmdzID0gdGhpcy5hY3RpdmVIZWFkaW5ncztcclxuICAgICAgICB2YXIgcm93cyA9IHRoaXMuYWN0aXZlUm93cztcclxuICAgICAgICB2YXIgdGFibGUgPSBjcmVhdGVFbGVtZW50KFwidGFibGVcIik7XHJcbiAgICAgICAgdmFyIHRoZWFkID0gY3JlYXRlRWxlbWVudChcInRoZWFkXCIpO1xyXG4gICAgICAgIHZhciB0Ym9keSA9IGNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiKTtcclxuXHJcbiAgICAgICAgdmFyIHRyID0gY3JlYXRlRWxlbWVudChcInRyXCIpO1xyXG4gICAgICAgIGVhY2goaGVhZGluZ3MsIGZ1bmN0aW9uICh0aCkge1xyXG4gICAgICAgICAgICB0ci5hcHBlbmRDaGlsZChcclxuICAgICAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnQoXCJ0aFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgaHRtbDogdGgudGV4dENvbnRlbnRcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoZWFkLmFwcGVuZENoaWxkKHRyKTtcclxuXHJcbiAgICAgICAgZWFjaChyb3dzLCBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgIHZhciB0ciA9IGNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcclxuICAgICAgICAgICAgZWFjaChyb3cuY2VsbHMsIGZ1bmN0aW9uIChjZWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0ci5hcHBlbmRDaGlsZChcclxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVFbGVtZW50KFwidGRcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sOiBjZWxsLnRleHRDb250ZW50XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0Ym9keS5hcHBlbmRDaGlsZCh0cik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRhYmxlLmFwcGVuZENoaWxkKHRoZWFkKTtcclxuICAgICAgICB0YWJsZS5hcHBlbmRDaGlsZCh0Ym9keSk7XHJcblxyXG4gICAgICAgIC8vIE9wZW4gbmV3IHdpbmRvd1xyXG4gICAgICAgIHZhciB3ID0gd2luLm9wZW4oKTtcclxuXHJcbiAgICAgICAgLy8gQXBwZW5kIHRoZSB0YWJsZSB0byB0aGUgYm9keVxyXG4gICAgICAgIHcuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0YWJsZSk7XHJcblxyXG4gICAgICAgIC8vIFByaW50XHJcbiAgICAgICAgdy5wcmludCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNob3cgYSBtZXNzYWdlIGluIHRoZSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2VcclxuICAgICAqL1xyXG4gICAgcHJvdG8uc2V0TWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XHJcbiAgICAgICAgdmFyIGNvbHNwYW4gPSAxO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5oYXNSb3dzKSB7XHJcbiAgICAgICAgICAgIGNvbHNwYW4gPSB0aGlzLmRhdGFbMF0uY2VsbHMubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jbGVhcihcclxuICAgICAgICAgICAgY3JlYXRlRWxlbWVudChcInRyXCIsIHtcclxuICAgICAgICAgICAgICAgIGh0bWw6ICc8dGQgY2xhc3M9XCJkYXRhVGFibGVzLWVtcHR5XCIgY29sc3Bhbj1cIicgK1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbHNwYW4gK1xyXG4gICAgICAgICAgICAgICAgICAgICdcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlICtcclxuICAgICAgICAgICAgICAgICAgICBcIjwvdGQ+XCJcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbHVtbnMgQVBJIGFjY2Vzc1xyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBuZXcgQ29sdW1ucyBpbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBwcm90by5jb2x1bW5zID0gZnVuY3Rpb24gKGNvbHVtbnMpIHtcclxuICAgICAgICByZXR1cm4gbmV3IENvbHVtbnModGhpcywgY29sdW1ucyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUm93cyBBUEkgYWNjZXNzXHJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG5ldyBSb3dzIGluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIHByb3RvLnJvd3MgPSBmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgIHJldHVybiBuZXcgUm93cyh0aGlzLCByb3dzKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgY3VzdG9tIGV2ZW50IGxpc3RlbmVyXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGV2ZW50XHJcbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2tcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLm9uID0gZnVuY3Rpb24gKGV2ZW50LCBjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuZXZlbnRzID0gdGhpcy5ldmVudHMgfHwge307XHJcbiAgICAgICAgdGhpcy5ldmVudHNbZXZlbnRdID0gdGhpcy5ldmVudHNbZXZlbnRdIHx8IFtdO1xyXG4gICAgICAgIHRoaXMuZXZlbnRzW2V2ZW50XS5wdXNoKGNhbGxiYWNrKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmUgY3VzdG9tIGV2ZW50IGxpc3RlbmVyXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGV2ZW50XHJcbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2tcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLm9mZiA9IGZ1bmN0aW9uIChldmVudCwgY2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLmV2ZW50cyA9IHRoaXMuZXZlbnRzIHx8IHt9O1xyXG4gICAgICAgIGlmIChldmVudCBpbiB0aGlzLmV2ZW50cyA9PT0gZmFsc2UpIHJldHVybjtcclxuICAgICAgICB0aGlzLmV2ZW50c1tldmVudF0uc3BsaWNlKHRoaXMuZXZlbnRzW2V2ZW50XS5pbmRleE9mKGNhbGxiYWNrKSwgMSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRmlyZSBjdXN0b20gZXZlbnRcclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gZXZlbnRcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLmVtaXQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICB0aGlzLmV2ZW50cyA9IHRoaXMuZXZlbnRzIHx8IHt9O1xyXG4gICAgICAgIGlmIChldmVudCBpbiB0aGlzLmV2ZW50cyA9PT0gZmFsc2UpIHJldHVybjtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZXZlbnRzW2V2ZW50XS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50c1tldmVudF1baV0uYXBwbHkodGhpcywgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gRGF0YVRhYmxlO1xyXG59KTsiLCJpbXBvcnQgRGF0YVRhYmxlIGZyb20gJ3ZhbmlsbGEtZGF0YXRhYmxlcyc7XG5pbXBvcnQgeyBjb2xvcl9oaWdobGlnaHQgfSBmcm9tICcuL29wdGlvbnMnO1xuXG5mdW5jdGlvbiBjcmVhdGVUYWJsZURPTShkYXRhLCBvcHRzLCBjb25maWcpIHtcbiAgY29uc3QgeyBudW0sIGRlbnVtLCByYXRpbywgbXlfcmVnaW9uIH0gPSBjb25maWc7XG4gIGNvbnN0IG9wdGlvbnMgPSBvcHRzIHx8IHt9O1xuICBvcHRpb25zLmlkID0gb3B0aW9ucy5pZCB8fCAnbXlUYWJsZSc7XG4gIGNvbnN0IGRvYyA9IGRvY3VtZW50O1xuICBjb25zdCBuYl9mZWF0dXJlcyA9IGRhdGEubGVuZ3RoO1xuICBjb25zdCBjb2x1bW5fbmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkYXRhWzBdKTtcbiAgY29uc3QgbmJfY29sdW1ucyA9IGNvbHVtbl9uYW1lcy5sZW5ndGg7XG4gIGNvbnN0IG15VGFibGUgPSBkb2MuY3JlYXRlRWxlbWVudCgndGFibGUnKTtcbiAgY29uc3QgaGVhZGVycyA9IGRvYy5jcmVhdGVFbGVtZW50KCd0aGVhZCcpO1xuICBjb25zdCBib2R5ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3Rib2R5Jyk7XG4gIGNvbnN0IGhlYWRlcnNfcm93ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbmJfY29sdW1uczsgaSsrKSB7XG4gICAgY29uc3QgY2VsbCA9IGRvYy5jcmVhdGVFbGVtZW50KCd0aCcpO1xuICAgIGNvbnN0IGNvbF9uYW1lID0gY29sdW1uX25hbWVzW2ldO1xuICAgIGlmIChudW0uaW5kZXhPZihjb2xfbmFtZSkgPiAtMSkge1xuICAgICAgY2VsbC5pbm5lckhUTUwgPSBgTnVtPGJyPjxzcGFuIGNsYXNzPVwic21hbGxcIj4ke2NvbF9uYW1lfWA7XG4gICAgfSBlbHNlIGlmIChkZW51bS5pbmRleE9mKGNvbF9uYW1lKSA+IC0xKSB7XG4gICAgICBjZWxsLmlubmVySFRNTCA9IGBEZW51bTxicj48c3BhbiBjbGFzcz1cInNtYWxsXCI+JHtjb2xfbmFtZX1gO1xuICAgIH0gZWxzZSBpZiAocmF0aW8uaW5kZXhPZihjb2xfbmFtZSkgPiAtMSkge1xuICAgICAgY2VsbC5pbm5lckhUTUwgPSBgUmF0aW88YnI+PHNwYW4gY2xhc3M9XCJzbWFsbFwiPiR7Y29sX25hbWV9YDtcbiAgICB9IGVsc2UgaWYgKGNvbF9uYW1lID09PSAncmFuZycpIHtcbiAgICAgIGNlbGwuaW5uZXJIVE1MID0gJ1JhbmcgJztcbiAgICB9IGVsc2Uge1xuICAgICAgY2VsbC5pbm5lckhUTUwgPSBjb2xfbmFtZTtcbiAgICB9XG4gICAgaGVhZGVyc19yb3cuYXBwZW5kQ2hpbGQoY2VsbCk7XG4gIH1cbiAgaGVhZGVycy5hcHBlbmRDaGlsZChoZWFkZXJzX3Jvdyk7XG4gIG15VGFibGUuYXBwZW5kQ2hpbGQoaGVhZGVycyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbmJfZmVhdHVyZXM7IGkrKykge1xuICAgIGNvbnN0IHJvdyA9IGRvYy5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgIHJvdy5pZCA9IGByb3dfJHtkYXRhW2ldLmlkfWA7XG4gICAgaWYgKGRhdGFbaV0uaWQgPT09IG15X3JlZ2lvbikge1xuICAgICAgcm93LmNsYXNzTmFtZSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICB9XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBuYl9jb2x1bW5zOyBqKyspIHtcbiAgICAgIGNvbnN0IGNlbGwgPSBkb2MuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICAgIGNvbnN0IGNvbF9uYW1lID0gY29sdW1uX25hbWVzW2pdO1xuICAgICAgaWYgKGNvbF9uYW1lID09PSAnbnVtJyB8fCBjb2xfbmFtZSA9PT0gJ2RlbnVtJyB8fCBjb2xfbmFtZSA9PT0gJ3JhdGlvJykge1xuICAgICAgICBjZWxsLmlubmVySFRNTCA9IE1hdGgucm91bmQoZGF0YVtpXVtjb2xfbmFtZV0gKiAxMDApIC8gMTA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjZWxsLmlubmVySFRNTCA9IGRhdGFbaV1bY29sX25hbWVdO1xuICAgICAgfVxuICAgICAgcm93LmFwcGVuZENoaWxkKGNlbGwpO1xuICAgIH1cbiAgICBib2R5LmFwcGVuZENoaWxkKHJvdyk7XG4gIH1cbiAgbXlUYWJsZS5hcHBlbmRDaGlsZChib2R5KTtcbiAgbXlUYWJsZS5zZXRBdHRyaWJ1dGUoJ2lkJywgb3B0aW9ucy5pZCk7XG4gIHJldHVybiBteVRhYmxlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZVRhYmxlKGRhdGFfbm9fZW1wdHksIGNvbmZpZykge1xuICBkMy5zZWxlY3QoJy5kYXRhVGFibGUtd3JhcHBlcicpLnJlbW92ZSgpO1xuICBjb25zdCB0YWJsZSA9IGNyZWF0ZVRhYmxlRE9NKGRhdGFfbm9fZW1wdHksIHVuZGVmaW5lZCwgY29uZmlnKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21hcF9zZWN0aW9uJykuYXBwZW5kQ2hpbGQodGFibGUpO1xuICBjb25zdCBkYXRhVGFibGUgPSBuZXcgRGF0YVRhYmxlKCcjbXlUYWJsZScpO1xuICBjb25zdCB0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRhdGFUYWJsZS13cmFwcGVyJyk7XG4gIHQuc3R5bGUubWFyZ2luVG9wID0gJzIwcHgnO1xuICB0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIHQuc3R5bGUuZm9udFNpemUgPSAnMC43ZW0nO1xuICB0LnF1ZXJ5U2VsZWN0b3IoJy5kYXRhVGFibGUtdG9wJykucmVtb3ZlKCk7XG4gIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQucXVlcnlTZWxlY3RvckFsbCgnc3Bhbi5zbWFsbCcpKVxuICAgIC5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgZWwub25jbGljayA9ICgpID0+IHsgZWwucGFyZW50RWxlbWVudC5jbGljaygpOyB9OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgfSk7XG59XG4iLCJpbXBvcnQgeyBtYXRoX3JvdW5kIH0gZnJvbSAnLi9oZWxwZXJzJztcbmltcG9ydCB7IGNvbG9yX2hpZ2hsaWdodCB9IGZyb20gJy4vb3B0aW9ucyc7XG5pbXBvcnQgeyB2YXJpYWJsZXMgfSBmcm9tICcuLy4uL21haW4nO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1wYXJhbS1yZWFzc2lnbiAqL1xuXG4vKipcbiogQXR0YWNoIHRoZSBmdWxsX2RhdGFzZXQgQXJyYXkgdG8gdGhlIGFwcCBPYmplY3QgYW5kIGNyZWF0ZSBhIGRpY3Rpb25uYXJ5XG4qIGFsbG93aW5nIHRvIG9idGFpbiB0ZXJyaXRvcmlhbCB1bml0cyBuYW1lIGZyb20gdGhlaXIgSWQuXG4qXG4qIEBwYXJhbSB7QXJyYXl9IGZ1bGxfZGF0YXNldCAtIFRoZSBkYXRhc2V0IGFzIGFuIEFycmF5IG9mIE9iamVjdFxuKiBAcGFyYW0ge09iamVjdH0gYXBwIC0gVGhlIHZhcmlhYmxlIGNvbnRhaW5pbmcgdGhlIGdsb2JhbCBwYXJhbWV0ZXJzIGFib3V0XG4qICAgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGFwcGxpY2F0aW9uLlxuKiBAcmV0dXJuIHt2b2lkfVxuKlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmVwYXJlX2RhdGFzZXQoZnVsbF9kYXRhc2V0LCBhcHApIHtcbiAgYXBwLmZ1bGxfZGF0YXNldCA9IGZ1bGxfZGF0YXNldDtcbiAgLy8gQ3JlYXRlIGFuIE9iamVjdCBmZWF0dXJlX2lkIC0+ICBmZWF0dXJlX25hbWUgZm9yIGVhc2llciBsb29rdXA6XG4gIGFwcC5mZWF0dXJlX25hbWVzID0ge307XG4gIGZ1bGxfZGF0YXNldC5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgYXBwLmZlYXR1cmVfbmFtZXNbZWxlbS5nZW9dID0gZWxlbS5Ob207XG4gIH0pO1xufVxuXG5cbi8qKlxuKiBBdHRhY2ggdGhlIGZ1bGxfZGF0YXNldCBBcnJheSB0byB0aGUgYXBwIE9iamVjdCBhbmQgY3JlYXRlIGEgZGljdGlvbm5hcnlcbiogYWxsb3dpbmcgdG8gb2J0YWluIHRlcnJpdG9yaWFsIHVuaXRzIG5hbWUgZnJvbSB0aGVpciBJZC5cbipcbiogQHBhcmFtIHtPYmplY3R9IGFwcCAtIFRoZSB2YXJpYWJsZSBjb250YWluaW5nIHRoZSBnbG9iYWwgcGFyYW1ldGVycyBhYm91dFxuKiAgIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBhcHBsaWNhdGlvbi5cbiogQHJldHVybiB7QXJyYXl9IC0gVGhlIGZpbHRlcmVkIGRhdGEsIGNvbnRhaW5pbmcgb25seSB0aGUgcmVxdWVzdGVkIHZhcmlhYmxlc1xuKiAgIGZvciB0aGUgZmVhdHVyZSBvZiB0aGUgY3VycmVudCBzdHVkeSB6b25lLFxuKiAgICB3aXRob3V0IGZlYXR1cmVzIGNvbnRhaW5pbmcgZW1wdHkgcmF0aW9zLlxuKlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJMZXZlbFZhcihhcHAsIGZpbHRlcl9pZCkge1xuICAvLyBGZXRjaCB0aGUgbmFtZShzKSBvZiB0aGUgcmF0aW8gKGFuZCBhc3NvY2lhdGVkIG51bSBhbmQgZGVudW0gdmFyaWFibGUpLFxuICAvLyB0aGUgbmFtZSBvZiB0aGUgdGFyZ2V0ZWQgcmVnaW9uIGFuZCB0aGUgY3VycmVudCBsZXZlbCA6XG4gIGNvbnN0IHtcbiAgICBudW0sIGRlbnVtLCByYXRpbywgY3VycmVudF9sZXZlbCwgaWRfZmllbGQsIGZpbHRlcl9rZXksIG5hbWVfZmllbGQsIG15X3JlZ2lvbixcbiAgfSA9IGFwcC5jdXJyZW50X2NvbmZpZztcblxuICBjb25zdCBhbGxfdmFyaWFibGVzID0gcmF0aW8uY29uY2F0KG51bSkuY29uY2F0KGRlbnVtKTtcblxuICAvLyBQcmVwYXJlIHRoZSBkYXRhOlxuICBsZXQgdGVtcDtcbiAgaWYgKGZpbHRlcl9pZCkge1xuICAgIHRlbXAgPSBhcHAuZnVsbF9kYXRhc2V0XG4gICAgICAuZmlsdGVyKGZ0ID0+ICtmdC5sZXZlbCA9PT0gY3VycmVudF9sZXZlbCAmJiBmaWx0ZXJfaWQuaW5kZXhPZihmdFtpZF9maWVsZF0pID4gLTEpO1xuICB9IGVsc2UgaWYgKGZpbHRlcl9rZXkpIHtcbiAgICBjb25zdCBteV9jYXRlZ29yeSA9IGFwcC5mdWxsX2RhdGFzZXQuZmlsdGVyKGZ0ID0+IGZ0W2lkX2ZpZWxkXSA9PT0gbXlfcmVnaW9uKVswXVtmaWx0ZXJfa2V5XTtcbiAgICB0ZW1wID0gYXBwLmZ1bGxfZGF0YXNldFxuICAgICAgLmZpbHRlcihmdCA9PiArZnQubGV2ZWwgPT09IGN1cnJlbnRfbGV2ZWwgJiYgZnRbZmlsdGVyX2tleV0gPT09IG15X2NhdGVnb3J5KTtcbiAgfSBlbHNlIHtcbiAgICB0ZW1wID0gYXBwLmZ1bGxfZGF0YXNldFxuICAgICAgLmZpbHRlcihmdCA9PiArZnQubGV2ZWwgPT09IGN1cnJlbnRfbGV2ZWwpO1xuICB9XG4gIHRlbXAgPSB0ZW1wLm1hcCgoZnQpID0+IHtcbiAgICBjb25zdCBwcm9wc19mZWF0dXJlID0ge1xuICAgICAgaWQ6IGZ0W2lkX2ZpZWxkXSxcbiAgICAgIG5hbWU6IGZ0W25hbWVfZmllbGRdLFxuICAgIH07XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gYWxsX3ZhcmlhYmxlcy5sZW5ndGg7IGkgPCBsZW5faTsgaSsrKSB7XG4gICAgICBwcm9wc19mZWF0dXJlW2FsbF92YXJpYWJsZXNbaV1dID0gK2Z0W2FsbF92YXJpYWJsZXNbaV1dO1xuICAgIH1cbiAgICByZXR1cm4gcHJvcHNfZmVhdHVyZTtcbiAgfSk7XG5cbiAgLy8gLy8gRmlsdGVyIGRhdGEgZm9yIGVtcHR5IHZhbHVlcyA6XG4gIC8vIGNvbnN0IGZpbHRlcmVkX2RhdGEgPSB0ZW1wLmZpbHRlcihcbiAgLy8gICBmdCA9PiByYXRpby5tYXAodiA9PiAhIWZ0W3ZdKS5ldmVyeSh2ID0+IHYgPT09IHRydWUpKTtcblxuICAvL1xuICBhcHAuY3VycmVudF9kYXRhID0gdGVtcDtcbiAgLy8gU3RvcmUgdGhlIGlkcyBhbmQgdGhlIHJhbmtzIG9mIHRoZSBjdXJyZW50IGZlYXR1cmVzIGluIHR3byBhcnJheXMgZm9yIGVhc2llciBhY2NlczpcbiAgYXBwLmN1cnJlbnRfaWRzID0gdGVtcC5tYXAoZCA9PiBkLmlkKTtcblxuICAvLyBDb21wdXRlIHRoZSByYXRpbyBvZiBhdmFpbGFibGUgdmFsdWVzIChcImNvbXBsw6l0dWRlXCIpIHdpdGhpblxuICAvLyB0aGUgc3R1ZHkgem9uZSBzZWxlY3RlZCBieSB0aGUgdXNlcjpcbiAgLy8gYXBwLmNvbXBsZXR1ZGUgPSBtYXRoX3JvdW5kKChmaWx0ZXJlZF9kYXRhLmxlbmd0aCAvIHRlbXAubGVuZ3RoKSAqIDEwMDApIC8gMTA7XG4gIC8vIHJldHVybiBmaWx0ZXJlZF9kYXRhO1xufVxuXG5cbi8qKlxuKiBTZXQgYW5kIGFwcGx5IGEgbmV3IGZpbHRlciAoaWUuIHJlc3RyaWN0IHRoZSBzdHVkeSB6b25lKSBvbiB0aGUgZGF0YXNldCB0byBiZSB1c2VkLlxuKlxuKiBAcGFyYW0ge1N0cmluZ30gZmlsdGVyX3R5cGUgLSBUaGUgbmFtZSBvZiB0aGUgZmlsdGVyIHRvIHVzZS5cbiogQHJldHVybiB7dm9pZH1cbipcbiovXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlGaWx0ZXIoYXBwLCBmaWx0ZXJfdHlwZSkge1xuICBpZiAoZmlsdGVyX3R5cGUgPT09ICdmaWx0ZXJfRlInKSB7XG4gICAgYXBwLmN1cnJlbnRfY29uZmlnLmZpbHRlcl9rZXkgPSAnUEFZUyc7XG4gICAgZmlsdGVyTGV2ZWxWYXIoYXBwKTtcbiAgfSBlbHNlIGlmIChmaWx0ZXJfdHlwZSA9PT0gJ25vX2ZpbHRlcicpIHtcbiAgICBhcHAuY3VycmVudF9jb25maWcuZmlsdGVyX2tleSA9IHVuZGVmaW5lZDtcbiAgICBmaWx0ZXJMZXZlbFZhcihhcHApO1xuICB9IGVsc2Uge1xuICAgIGFwcC5jdXJyZW50X2NvbmZpZy5maWx0ZXJfa2V5ID0gJ3R5cGVfdGVzdCc7XG4gICAgZmlsdGVyTGV2ZWxWYXIoYXBwKTtcbiAgfVxuXG4gIGFwcC5jb2xvcnMgPSB7fTtcbiAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbn1cblxuLy8gVE9ETyA6IERvY1xuZXhwb3J0IGZ1bmN0aW9uIGNoYW5nZVJlZ2lvbihhcHAsIGlkX3JlZ2lvbikge1xuICBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uID0gaWRfcmVnaW9uO1xuICBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uX3ByZXR0eV9uYW1lID0gYXBwLmZlYXR1cmVfbmFtZXNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl07XG4gIGlmIChhcHAuY3VycmVudF9jb25maWcuZmlsdGVyX2tleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZmlsdGVyTGV2ZWxWYXIoYXBwKTtcbiAgfVxuICBjb25zb2xlLmxvZyhhcHApO1xuICAvLyBSZXNldCB0aGUgY29sb3IgdG8gdXNlIG9uIHRoZSBjaGFydC9tYXA6XG4gIGFwcC5jb2xvcnMgPSB7fTtcbiAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFZhcmlhYmxlKGFwcCwgY29kZV9yYXRpbykge1xuICBjb25zdCB2YXJpYWJsZV9pbmZvID0gdmFyaWFibGVzLmZpbHRlcihkID0+IGQucmF0aW8gPT09IGNvZGVfcmF0aW8pWzBdO1xuICBhcHAuY29sb3JzID0ge307XG4gIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gIGFwcC5jdXJyZW50X2NvbmZpZy5udW0ucHVzaCh2YXJpYWJsZV9pbmZvLm51bSk7XG4gIGFwcC5jdXJyZW50X2NvbmZpZy5kZW51bS5wdXNoKHZhcmlhYmxlX2luZm8uZGVudW0pO1xuICBhcHAuY3VycmVudF9jb25maWcucmF0aW8ucHVzaCh2YXJpYWJsZV9pbmZvLnJhdGlvKTtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvX3ByZXR0eV9uYW1lLnB1c2godmFyaWFibGVfaW5mby5uYW1lKTtcbiAgZmlsdGVyTGV2ZWxWYXIoYXBwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVZhcmlhYmxlKGFwcCwgY29kZV9yYXRpbykge1xuICBjb25zdCBpeCA9IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpby5pbmRleE9mKGNvZGVfcmF0aW8pO1xuICBhcHAuY3VycmVudF9jb25maWcubnVtLnNwbGljZShpeCwgMSk7XG4gIGFwcC5jdXJyZW50X2NvbmZpZy5kZW51bS5zcGxpY2UoaXgsIDEpO1xuICBhcHAuY3VycmVudF9jb25maWcucmF0aW8uc3BsaWNlKGl4LCAxKTtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvX3ByZXR0eV9uYW1lLnNwbGljZShpeCwgMSk7XG4gIGZpbHRlckxldmVsVmFyKGFwcCk7XG59XG5cbi8vIFRPRE86XG5leHBvcnQgZnVuY3Rpb24gY2FsY0NvbXBsZXR1ZGVTdWJzZXQodmFycykge1xuICAvLyBDb21wdXRlIHRoZSBsZW5ndGggb2YgdGhlIGRhdGFzZXQgKHdpdGhpbiB0aGUgXCJzdHVkeSB6b25lXCIgaWYgYW55KTpcblxuICAvLyBDb21wdXRlIHRoZSBsZW5ndGggb2YgdGhlIGRhdGFzZXQgaWYgd2UgZmlsdGVyIGVtcHR5IGZlYXR1cmVzXG4gIC8vIG9uIGFsbCB0aGUgdmFyaWFibGVzIG9mIFwidmFyc1wiOlxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FsY1BvcENvbXBsZXR1ZGVTdWJzZXQodmFycykge1xuICAvLyBDb21wdXRlIHRoZSB0b3RhbCBwb3B1bGF0aW9uIHN0b2NrIG9mIHRoZSBkYXRhICh3aXRoaW4gdGhlIFwic3R1ZHkgem9uZVwiIGlmIGFueSk6XG5cbiAgLy8gQ29tcHV0ZSB0aGUgcG9wdWxhdGlvbiBzdG9jayBvZiB0aGUgZGF0YXNldCBpZiB3ZSBmaWx0ZXIgZW1wdHkgZmVhdHVyZXNcbiAgLy8gb24gYWxsIHRoZSB2YXJpYWJsZXMgb2YgXCJ2YXJzXCI6XG59XG4vKiBlc2xpbnQtZW5hYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG4iLCJpbXBvcnQgeyBhcHAgfSBmcm9tICcuLy4uL21haW4nO1xuaW1wb3J0IHsgY29sb3JfZGlzYWJsZWQsIGNvbG9yX2NvdW50cmllcywgY29sb3Jfc3VwLCBjb2xvcl9pbmYsIGNvbG9yX2hpZ2hsaWdodCB9IGZyb20gJy4vb3B0aW9ucyc7XG5pbXBvcnQgeyBtYXRoX3JvdW5kLCBwcmVwYXJlVG9vbHRpcCwgZ2V0U3ZnUGF0aFR5cGUgfSBmcm9tICcuL2hlbHBlcnMnO1xuXG5jb25zdCBzdmdfbWFwID0gZDMuc2VsZWN0KCdzdmcjc3ZnX21hcCcpLFxuICBtYXJnaW5fbWFwID0geyB0b3A6IDAsIHJpZ2h0OiAwLCBib3R0b206IDAsIGxlZnQ6IDAgfSxcbiAgd2lkdGhfbWFwID0gK3N2Z19tYXAuYXR0cignd2lkdGgnKSAtIG1hcmdpbl9tYXAubGVmdCAtIG1hcmdpbl9tYXAucmlnaHQsXG4gIGhlaWdodF9tYXAgPSArc3ZnX21hcC5hdHRyKCdoZWlnaHQnKSAtIG1hcmdpbl9tYXAudG9wIC0gbWFyZ2luX21hcC5ib3R0b207XG5cbmNvbnN0IHN0eWxlcyA9IHtcbiAgdGVtcGxhdGU6IHsgaWQ6ICd0ZW1wbGF0ZScsIGZpbGw6ICdyZ2IoMjQ3LCAyNTIsIDI1NCknLCAnZmlsbC1vcGFjaXR5JzogMSB9LFxuICBjb3VudHJpZXM6IHsgaWQ6ICdjb3VudHJpZXMnLCBmaWxsOiAncmdiKDIxNCwgMjE0LCAyMTQpJywgJ2ZpbGwtb3BhY2l0eSc6IDEsICdzdHJva2Utd2lkdGgnOiAwLjUsIHN0cm9rZTogJyNmZmZmZmYnIH0sXG4gIHNlYWJveGVzOiB7IGlkOiAnc2VhYm94ZXMnLCBmaWxsOiAnI2UwZmFmZicsICdmaWxsLW9wYWNpdHknOiAxLCBzdHJva2U6ICdibGFjaycsICdzdHJva2Utd2lkdGgnOiAwLjIgfSxcbiAgcmVtb3RlOiB7IGlkOiAncmVtb3RlJywgZmlsbDogJ3JnYigyMTQsIDIxNCwgMjE0KScsICdmaWxsLW9wYWNpdHknOiAxLCAnc3Ryb2tlLXdpZHRoJzogMC41LCBzdHJva2U6ICcjZmZmZmZmJyB9LFxuICBzZWFib3hlczI6IHsgaWQ6ICdzZWFib3hlczInLCBmaWxsOiAnbm9uZScsIHN0cm9rZTogJ2JsYWNrJywgJ3N0cm9rZS13aWR0aCc6IDAuOCB9LFxuICBudXRzMTogeyBpZDogJ251dHMxJywgJ2ZpbGwtb3BhY2l0eSc6IDEsICdzdHJva2Utd2lkdGgnOiAwLjUsIHN0cm9rZTogJyNmZmZmZmYnIH0sXG59O1xuXG5sZXQgcHJvamVjdGlvbjtcbmxldCBwYXRoO1xuXG5mdW5jdGlvbiBnZXRfYmJveF9sYXllcl9wYXRoKG5hbWUpIHtcbiAgY29uc3QgYmJveF9sYXllciA9IFtbSW5maW5pdHksIEluZmluaXR5XSwgWy1JbmZpbml0eSwgLUluZmluaXR5XV07XG4gIHN2Z19tYXAuc2VsZWN0KGAjJHtuYW1lfWApXG4gICAgLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgLmVhY2goKGQpID0+IHtcbiAgICAgIGNvbnN0IGJib3hfcGF0aCA9IHBhdGguYm91bmRzKGQuZ2VvbWV0cnkpO1xuICAgICAgYmJveF9sYXllclswXVswXSA9IGJib3hfcGF0aFswXVswXSA8IGJib3hfbGF5ZXJbMF1bMF0gPyBiYm94X3BhdGhbMF1bMF0gOiBiYm94X2xheWVyWzBdWzBdO1xuICAgICAgYmJveF9sYXllclswXVsxXSA9IGJib3hfcGF0aFswXVsxXSA8IGJib3hfbGF5ZXJbMF1bMV0gPyBiYm94X3BhdGhbMF1bMV0gOiBiYm94X2xheWVyWzBdWzFdO1xuICAgICAgYmJveF9sYXllclsxXVswXSA9IGJib3hfcGF0aFsxXVswXSA+IGJib3hfbGF5ZXJbMV1bMF0gPyBiYm94X3BhdGhbMV1bMF0gOiBiYm94X2xheWVyWzFdWzBdO1xuICAgICAgYmJveF9sYXllclsxXVsxXSA9IGJib3hfcGF0aFsxXVsxXSA+IGJib3hfbGF5ZXJbMV1bMV0gPyBiYm94X3BhdGhbMV1bMV0gOiBiYm94X2xheWVyWzFdWzFdO1xuICAgIH0pO1xuICByZXR1cm4gYmJveF9sYXllcjtcbn1cblxuZnVuY3Rpb24gZml0TGF5ZXIoKSB7XG4gIHByb2plY3Rpb24uc2NhbGUoMSkudHJhbnNsYXRlKFswLCAwXSk7XG4gIGNvbnN0IGIgPSBnZXRfYmJveF9sYXllcl9wYXRoKCd0ZW1wbGF0ZScpO1xuICBjb25zdCBzID0gMSAvIE1hdGgubWF4KChiWzFdWzBdIC0gYlswXVswXSkgLyB3aWR0aF9tYXAsIChiWzFdWzFdIC0gYlswXVsxXSkgLyBoZWlnaHRfbWFwKTtcbiAgY29uc3QgdCA9IFsod2lkdGhfbWFwIC0gcyAqIChiWzFdWzBdICsgYlswXVswXSkpIC8gMiwgKGhlaWdodF9tYXAgLSBzICogKGJbMV1bMV0gKyBiWzBdWzFdKSkgLyAyXTtcbiAgcHJvamVjdGlvbi5zY2FsZShzKS50cmFuc2xhdGUodCk7XG4gIHN2Z19tYXAuc2VsZWN0QWxsKCdwYXRoJykuYXR0cignZCcsIHBhdGgpO1xufVxuXG5mdW5jdGlvbiBtYXBfem9vbWVkKCkge1xuICBjb25zdCB0cmFuc2Zvcm0gPSBkMy5ldmVudC50cmFuc2Zvcm07XG4gIGlmICh0cmFuc2Zvcm0uayA9PT0gMSkge1xuICAgIHRyYW5zZm9ybS54ID0gMDtcbiAgICB0cmFuc2Zvcm0ueSA9IDA7XG4gIH1cbiAgY29uc3QgbGF5ZXJzID0gc3ZnX21hcC5zZWxlY3QoJyNsYXllcnMnKTtcbiAgY29uc3QgdCA9IGxheWVyc1xuICAgIC5zZWxlY3RBbGwoJ2cnKVxuICAgIC50cmFuc2l0aW9uKClcbiAgICAuZHVyYXRpb24oMjI1KTtcblxuICBsYXllcnMuc2VsZWN0QWxsKCdnJylcbiAgICAudHJhbnNpdGlvbih0KVxuICAgIC5zdHlsZSgnc3Ryb2tlLXdpZHRoJywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGAke3N0eWxlc1t0aGlzLmlkXVsnc3Ryb2tlLXdpZHRoJ10gLyB0cmFuc2Zvcm0ua31weGA7XG4gICAgfSk7XG5cbiAgbGF5ZXJzLnNlbGVjdEFsbCgnZycpXG4gICAgLnRyYW5zaXRpb24odClcbiAgICAuYXR0cigndHJhbnNmb3JtJywgdHJhbnNmb3JtKTtcblxuICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpXG4gICAgLnRyYW5zaXRpb24odClcbiAgICAuYXR0cigndHJhbnNmb3JtJywgdHJhbnNmb3JtKTtcbn1cblxuY2xhc3MgTWFwU2VsZWN0IHtcbiAgY29uc3RydWN0b3IobnV0czEsIGNvdW50cmllcywgcmVtb3RlLCB0ZW1wbGF0ZSwgc2VhYm94ZXMpIHtcbiAgICBwcm9qZWN0aW9uID0gZDMuZ2VvSWRlbnRpdHkoKVxuICAgICAgLmZpdEV4dGVudChbWzAsIDBdLCBbd2lkdGhfbWFwLCBoZWlnaHRfbWFwXV0sIHRlbXBsYXRlKVxuICAgICAgLnJlZmxlY3RZKHRydWUpO1xuXG4gICAgcGF0aCA9IGQzLmdlb1BhdGgoKS5wcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgIGNvbnN0IGxheWVycyA9IHN2Z19tYXAuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdpZCcsICdsYXllcnMnKTtcblxuICAgIHRoaXMuem9vbV9tYXAgPSBkMy56b29tKClcbiAgICAgIC5zY2FsZUV4dGVudChbMSwgNV0pXG4gICAgICAudHJhbnNsYXRlRXh0ZW50KFtbMCwgMF0sIFt3aWR0aF9tYXAsIGhlaWdodF9tYXBdXSlcbiAgICAgIC5vbignem9vbScsIG1hcF96b29tZWQpO1xuXG4gICAgc3ZnX21hcC5jYWxsKHRoaXMuem9vbV9tYXApO1xuXG4gICAgbGF5ZXJzLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cnMoc3R5bGVzLnRlbXBsYXRlKVxuICAgICAgLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuZGF0YSh0ZW1wbGF0ZS5mZWF0dXJlcylcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRycyh7IGQ6IHBhdGggfSk7XG5cbiAgICBsYXllcnMuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyhzdHlsZXMuY291bnRyaWVzKVxuICAgICAgLmF0dHIoJ2lkJywgJ2NvdW50cmllcycpXG4gICAgICAuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5kYXRhKGNvdW50cmllcy5mZWF0dXJlcylcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRycyh7IGQ6IHBhdGggfSk7XG5cbiAgICBsYXllcnMuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyhzdHlsZXMuc2VhYm94ZXMpXG4gICAgICAuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5kYXRhKHNlYWJveGVzLmZlYXR1cmVzKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHJzKHsgZDogcGF0aCB9KTtcblxuICAgIGxheWVycy5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHN0eWxlcy5yZW1vdGUpXG4gICAgICAuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5kYXRhKHJlbW90ZS5mZWF0dXJlcylcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRycyh7IGQ6IHBhdGggfSk7XG5cbiAgICBsYXllcnMuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyhzdHlsZXMuc2VhYm94ZXMyKVxuICAgICAgLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuZGF0YShzZWFib3hlcy5mZWF0dXJlcylcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRycyh7IGQ6IHBhdGggfSk7XG5cbiAgICB0aGlzLnRhcmdldF9sYXllciA9IGxheWVycy5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHN0eWxlcy5udXRzMSk7XG4gICAgdGhpcy50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5kYXRhKG51dHMxLmZlYXR1cmVzKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCBkID0+IChkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dICE9PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uID8gY29sb3JfY291bnRyaWVzIDogY29sb3JfaGlnaGxpZ2h0KSlcbiAgICAgIC5hdHRyKCdkJywgcGF0aCk7XG4gICAgYXBwLnR5cGVfcGF0aCA9IGdldFN2Z1BhdGhUeXBlKHRoaXMudGFyZ2V0X2xheWVyLnNlbGVjdCgncGF0aCcpLm5vZGUoKS5nZXRBdHRyaWJ1dGUoJ2QnKSk7XG4gICAgZml0TGF5ZXIoKTtcbiAgICBwcmVwYXJlVG9vbHRpcChzdmdfbWFwKTtcbiAgICB0aGlzLmJpbmRUb29sdGlwKCk7XG4gIH1cblxuICByZXNldENvbG9ycygpIHtcbiAgICBjb25zdCBpZF9maWVsZF9nZW9tID0gYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb207XG4gICAgdGhpcy50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5hdHRyKCdmaWxsJywgZCA9PiAoYXBwLmN1cnJlbnRfaWRzLmluZGV4T2YoZC5wcm9wZXJ0aWVzW2lkX2ZpZWxkX2dlb21dKSA+IC0xXG4gICAgICAgID8gKGFwcC5jb2xvcnNbZC5wcm9wZXJ0aWVzW2lkX2ZpZWxkX2dlb21dXSB8fCBjb2xvcl9jb3VudHJpZXMpXG4gICAgICAgIDogY29sb3JfZGlzYWJsZWQpKTtcbiAgfVxuXG4gIGJpbmRUb29sdGlwKCkge1xuICAgIHRoaXMudGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAub24oJ21vdXNlb3ZlcicsICgpID0+IHtcbiAgICAgICAgc3ZnX21hcC5zZWxlY3QoJy50b29sdGlwJylcbiAgICAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTtcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlb3V0JywgKCkgPT4ge1xuICAgICAgICBzdmdfbWFwLnNlbGVjdCgnLnRvb2x0aXAnKVxuICAgICAgICAgIC5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICBjb25zdCB0b29sdGlwID0gc3ZnX21hcC5zZWxlY3QoJy50b29sdGlwJyk7XG4gICAgICAgIHRvb2x0aXBcbiAgICAgICAgICAuc2VsZWN0KCd0ZXh0LmlkX2ZlYXR1cmUnKVxuICAgICAgICAgIC50ZXh0KGAke2QucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV19YCk7XG4gICAgICAgIGxldCBfaXgsIG5iX3ZhbDtcbiAgICAgICAgZm9yIChfaXggPSAwLCBuYl92YWwgPSBNYXRoLm1pbihhcHAuY3VycmVudF9jb25maWcucmF0aW8ubGVuZ3RoLCA1KTsgX2l4IDwgbmJfdmFsOyBfaXgrKykge1xuICAgICAgICAgIHRvb2x0aXAuc2VsZWN0KGB0ZXh0LnZhbHVlX2ZlYXR1cmUke19peCArIDF9YClcbiAgICAgICAgICAgIC50ZXh0KGAke2FwcC5jdXJyZW50X2NvbmZpZy5yYXRpb19wcmV0dHlfbmFtZVtfaXhdfTogJHttYXRoX3JvdW5kKGQucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcucmF0aW9bX2l4XV0gKiAxMCkgLyAxMH1gKTtcbiAgICAgICAgfVxuICAgICAgICB0b29sdGlwXG4gICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHtbZDMubW91c2UodGhpcylbMF0gLSA1LCBkMy5tb3VzZSh0aGlzKVsxXSAtIDQ1IC0gX2l4ICogMTJdfSlgKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgcmVzZXRab29tKCkge1xuICAgIHN2Z19tYXAudHJhbnNpdGlvbigpXG4gICAgICAuZHVyYXRpb24oMjUwKVxuICAgICAgLmNhbGwodGhpcy56b29tX21hcC50cmFuc2Zvcm0sIGQzLnpvb21JZGVudGl0eSk7XG4gIH1cblxuICB1cGRhdGVMZWdlbmQoKSB7XG4gICAgZDMuc2VsZWN0KCcjc3ZnX2xlZ2VuZCA+IGcgPiAubGVnZW5kID4gdGV4dCcpXG4gICAgICAudGV4dChgTWEgcsOpZ2lvbiA6ICR7YXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl9wcmV0dHlfbmFtZX1gKTtcbiAgfVxuXG4gIHJlbW92ZVJlY3RCcnVzaCgpIHtcbiAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpLmNhbGwodGhpcy5icnVzaF9tYXAubW92ZSwgbnVsbCk7XG4gIH1cblxuICBjYWxsQnJ1c2goc2VsZWN0aW9uKSB7XG4gICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKS5jYWxsKHRoaXMuYnJ1c2hfbWFwLm1vdmUsIHNlbGVjdGlvbik7XG4gIH1cblxuICBiaW5kQnJ1c2goY2hhcnQpIHtcbiAgICB0aGlzLmJydXNoX21hcCA9IGQzLmJydXNoKClcbiAgICAgIC5leHRlbnQoW1swLCAwXSwgW3dpZHRoX21hcCwgaGVpZ2h0X21hcF1dKVxuICAgICAgLm9uKCdzdGFydCBicnVzaCcsICgpID0+IHtcbiAgICAgICAgY2hhcnQuaGFuZGxlX2JydXNoX21hcChkMy5ldmVudCk7XG4gICAgICB9KTtcbiAgICBzdmdfbWFwLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignY2xhc3MnLCAnYnJ1c2hfbWFwJylcbiAgICAgIC5jYWxsKHRoaXMuYnJ1c2hfbWFwKTtcbiAgfVxuXG4gIHVuYmluZEJydXNoKCkge1xuICAgIHRoaXMuYnJ1c2hfbWFwID0gbnVsbDtcbiAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpXG4gICAgICAucmVtb3ZlKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbWFrZVNvdXJjZVNlY3Rpb24oKSB7XG4gIGNvbnN0IHRleHRfem9uZSA9IGQzLnNlbGVjdCgnI3N2Z19sZWdlbmQnKVxuICAgIC5hcHBlbmQoJ3RleHQnKVxuICAgIC5hdHRycyh7IHk6IDMyLjUsICd0ZXh0LWFuY2hvcic6ICdlbmQnIH0pXG4gICAgLnN0eWxlKCdmb250LXNpemUnLCAnMTFweCcpXG4gICAgLnN0eWxlKCdmb250LWZhbWlseScsICdcXCdTaWduaWthXFwnLCBzYW5zLXNlcmlmJyk7XG4gIHRleHRfem9uZS5hcHBlbmQoJ3RzcGFuJylcbiAgICAuYXR0cnMoeyB4OiA0NzAsIGR5OiAxMiB9KVxuICAgIC50ZXh0KCdOaXZlYXUgcsOpZ2lvbmFsIDogTlVUUyAxICh2ZXJzaW9uIDIwMTYpJyk7XG4gIHRleHRfem9uZS5hcHBlbmQoJ3RzcGFuJylcbiAgICAuYXR0cnMoeyB4OiA0NzAsIGR5OiAxMiB9KVxuICAgIC50ZXh0KCdPcmlnaW5lIGRlcyBkb25uw6llcyA6IEV1cm9zdGF0LCAyMDE2Jyk7XG4gIHRleHRfem9uZS5hcHBlbmQoJ3RzcGFuJylcbiAgICAuYXR0cnMoeyB4OiA0NzAsIGR5OiAxMiB9KVxuICAgIC50ZXh0KCdMaW1pdGUgYWRtaW5pc3RyYXRpdmU6IFVNUyBSSUFURSwgQ0MtQlktU0EnKTtcbn1cblxuZnVuY3Rpb24gbWFrZU1hcExlZ2VuZCgpIHtcbiAgY29uc3QgbGVnZW5kX2VsZW1zID0gW1xuICAgIHsgY29sb3I6IGNvbG9yX2hpZ2hsaWdodCwgdGV4dDogYE1hIHLDqWdpb24gOiAke2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25fcHJldHR5X25hbWV9YCB9LFxuICAgIHsgY29sb3I6IGNvbG9yX2NvdW50cmllcywgdGV4dDogJ0F1dHJlcyByw6lnaW9ucyBkdSBmaWx0cmUgZGUgY29tcGFyYWlzb24nIH0sXG4gICAgeyBjb2xvcjogY29sb3Jfc3VwLCB0ZXh0OiAnUmFuZyBwbHVzIMOpbGV2w6kgcXVlIG1hIHLDqWdpb24nIH0sXG4gICAgeyBjb2xvcjogY29sb3JfaW5mLCB0ZXh0OiAnUmFuZyBtb2lucyDDqWxldsOpIHF1ZSBtYSByw6lnaW9uJyB9LFxuICBdO1xuXG4gIGNvbnN0IHJlY3Rfc2l6ZSA9IDE0O1xuICBjb25zdCBzcGFjaW5nID0gNDtcbiAgY29uc3QgbGdkX2hlaWdodCA9IHJlY3Rfc2l6ZSArIHNwYWNpbmc7XG4gIGNvbnN0IG9mZnNldCA9IGxnZF9oZWlnaHQgKiBsZWdlbmRfZWxlbXMubGVuZ3RoIC8gMjtcblxuICBjb25zdCBncnBfbGdkID0gZDMuc2VsZWN0KCcjc3ZnX2xlZ2VuZCcpXG4gICAgLmFwcGVuZCgnZycpXG4gICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoNTAsIDQwKScpXG4gICAgLnN0eWxlcyh7ICdmb250LXNpemUnOiAnMTFweCcsICdmb250LWZhbWlseSc6ICdcXCdTaWduaWthXFwnLCBzYW5zLXNlcmlmJyB9KTtcblxuICBjb25zdCBsZWdlbmRzID0gZ3JwX2xnZC5zZWxlY3RBbGwoJy5sZWdlbmQnKVxuICAgIC5kYXRhKGxlZ2VuZF9lbGVtcylcbiAgICAuZW50ZXIoKVxuICAgIC5hcHBlbmQoJ2cnKVxuICAgIC5hdHRyKCdjbGFzcycsICdsZWdlbmQnKVxuICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAoZCwgaSkgPT4ge1xuICAgICAgY29uc3QgdHggPSAtMiAqIHJlY3Rfc2l6ZTtcbiAgICAgIGNvbnN0IHR5ID0gaSAqIGxnZF9oZWlnaHQgLSBvZmZzZXQ7XG4gICAgICByZXR1cm4gYHRyYW5zbGF0ZSgke1t0eCwgdHldfSlgO1xuICAgIH0pO1xuXG4gIGxlZ2VuZHMuYXBwZW5kKCdyZWN0JylcbiAgICAuYXR0cnMoeyB3aWR0aDogcmVjdF9zaXplLCBoZWlnaHQ6IHJlY3Rfc2l6ZSB9KVxuICAgIC5zdHlsZXMoZCA9PiAoeyBmaWxsOiBkLmNvbG9yLCBzdHJva2U6IGQuY29sb3IgfSkpO1xuXG4gIGxlZ2VuZHMuYXBwZW5kKCd0ZXh0JylcbiAgICAuYXR0cnMoeyB4OiByZWN0X3NpemUgKyBzcGFjaW5nLCB5OiByZWN0X3NpemUgLSBzcGFjaW5nIH0pXG4gICAgLnRleHQoZCA9PiBkLnRleHQpO1xufVxuXG5leHBvcnQge1xuICBNYXBTZWxlY3QsXG4gIG1ha2VTb3VyY2VTZWN0aW9uLFxuICBtYWtlTWFwTGVnZW5kLFxuICBzdmdfbWFwLFxufTtcbiIsImltcG9ydCB7IGNvbXAsIG1hdGhfcm91bmQsIG1hdGhfYWJzLCBSZWN0LCBwcmVwYXJlVG9vbHRpcCwgc3ZnUGF0aFRvQ29vcmRzIH0gZnJvbSAnLi8uLi9oZWxwZXJzJztcbmltcG9ydCB7IGNvbG9yX2Rpc2FibGVkLCBjb2xvcl9jb3VudHJpZXMsIGNvbG9yX3N1cCwgY29sb3JfaW5mLCBjb2xvcl9oaWdobGlnaHQgfSBmcm9tICcuLy4uL29wdGlvbnMnO1xuaW1wb3J0IHsgc3ZnX21hcCB9IGZyb20gJy4vLi4vbWFwJztcbmltcG9ydCB7IGFwcCB9IGZyb20gJy4vLi4vLi4vbWFpbic7XG5cbmV4cG9ydCBjb25zdCBzdmdfYmFyID0gZDMuc2VsZWN0KCdzdmcjc3ZnX2JhcicpLFxuICBtYXJnaW4gPSB7IHRvcDogMTAsIHJpZ2h0OiAyMCwgYm90dG9tOiAxMDAsIGxlZnQ6IDQwIH0sXG4gIG1hcmdpbjIgPSB7IHRvcDogNDMwLCByaWdodDogMjAsIGJvdHRvbTogMTUsIGxlZnQ6IDQwIH0sXG4gIHdpZHRoID0gK3N2Z19iYXIuYXR0cignd2lkdGgnKSAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0LFxuICBoZWlnaHQgPSArc3ZnX2Jhci5hdHRyKCdoZWlnaHQnKSAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tLFxuICBoZWlnaHQyID0gK3N2Z19iYXIuYXR0cignaGVpZ2h0JykgLSBtYXJnaW4yLnRvcCAtIG1hcmdpbjIuYm90dG9tO1xuXG5sZXQgbmJGdDtcbmxldCBjdXJyZW50X3JhbmdlX2JydXNoID0gWzAsIDBdO1xubGV0IGN1cnJlbnRfcmFuZ2UgPSBbMCwgMF07XG5sZXQgZGlzcGxheWVkO1xuXG5mdW5jdGlvbiBnZXRNZWFuUmFuayhtZWFuX3ZhbHVlLCByYXRpb190b191c2UpIHtcbiAgbGV0IG1lYW5fcmFuayA9IGFwcC5jdXJyZW50X2RhdGEubWFwKFxuICAgIChkLCBpKSA9PiBbZFtyYXRpb190b191c2VdLCBtYXRoX2FicyhtZWFuX3ZhbHVlIC0gZFtyYXRpb190b191c2VdKSwgaV0pO1xuICBtZWFuX3Jhbmsuc29ydCgoYSwgYikgPT4gYVsxXSAtIGJbMV0pO1xuICBtZWFuX3JhbmsgPSBtZWFuX3JhbmtbMF07XG4gIGlmIChtZWFuX3JhbmtbMV0gPiBtZWFuX3ZhbHVlKSB7XG4gICAgbWVhbl9yYW5rID0gbWVhbl9yYW5rWzJdIC0gMTtcbiAgfSBlbHNlIHtcbiAgICBtZWFuX3JhbmsgPSBtZWFuX3JhbmtbMl07XG4gIH1cbiAgcmV0dXJuIG1lYW5fcmFuaztcbn1cblxuXG5leHBvcnQgY2xhc3MgQmFyQ2hhcnQxIHtcbiAgY29uc3RydWN0b3IocmVmX2RhdGEpIHtcbiAgICB0aGlzLmJydXNoZWQgPSAoKSA9PiB7XG4gICAgICBpZiAoZDMuZXZlbnQuc291cmNlRXZlbnQgJiYgZDMuZXZlbnQuc291cmNlRXZlbnQudHlwZSA9PT0gJ3pvb20nKSByZXR1cm47IC8vIGlnbm9yZSBicnVzaC1ieS16b29tXG4gICAgICBpZiAoIXRoaXMueCkgeyBjb25zb2xlLmxvZygnYScpOyByZXR1cm47IH1cbiAgICAgIGNvbnN0IHMgPSBkMy5ldmVudC5zZWxlY3Rpb24gfHwgdGhpcy54Mi5yYW5nZSgpO1xuICAgICAgY3VycmVudF9yYW5nZSA9IFttYXRoX3JvdW5kKHNbMF0gLyAod2lkdGggLyBuYkZ0KSksIG1hdGhfcm91bmQoc1sxXSAvICh3aWR0aCAvIG5iRnQpKV07XG4gICAgICB0aGlzLnguZG9tYWluKHRoaXMuZGF0YS5zbGljZShjdXJyZW50X3JhbmdlWzBdLCBjdXJyZW50X3JhbmdlWzFdKS5tYXAoZnQgPT4gZnQuaWQpKTtcbiAgICAgIHN2Z19iYXIuc2VsZWN0KCcuem9vbScpLmNhbGwodGhpcy56b29tLnRyYW5zZm9ybSwgZDMuem9vbUlkZW50aXR5XG4gICAgICAgIC5zY2FsZSh3aWR0aCAvIChjdXJyZW50X3JhbmdlWzFdIC0gY3VycmVudF9yYW5nZVswXSkpXG4gICAgICAgIC50cmFuc2xhdGUoLWN1cnJlbnRfcmFuZ2VbMF0sIDApKTtcbiAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICB0aGlzLnVwZGF0ZUNvbnRleHQoY3VycmVudF9yYW5nZVswXSwgY3VycmVudF9yYW5nZVsxXSk7XG4gICAgICBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX3RvcCcpLmNhbGwodGhpcy5icnVzaF90b3AubW92ZSwgbnVsbCk7XG4gICAgICB0aGlzLmJydXNoZWRfdG9wKCk7XG4gICAgfTtcblxuICAgIHRoaXMuYnJ1c2hlZF90b3AgPSAoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuX2ZvY3VzKSB7IGNvbnNvbGUubG9nKCdiJyk7IHJldHVybjsgfVxuICAgICAgaWYgKCF0aGlzLm1hcF9lbGVtKSB7IGNvbnNvbGUubG9nKCdjJyk7IHJldHVybjsgfVxuICAgICAgY29uc3QgZDNfZXZlbnQgPSBkMy5ldmVudDtcbiAgICAgIGNvbnN0IHJhdGlvX3RvX3VzZSA9IHRoaXMucmF0aW9fdG9fdXNlO1xuICAgICAgY29uc3QgcmVmX3ZhbHVlID0gdGhpcy5yZWZfdmFsdWU7XG4gICAgICBpZiAoZDNfZXZlbnQgJiYgZDNfZXZlbnQuc2VsZWN0aW9uXG4gICAgICAgICAgICAmJiBkM19ldmVudC5zb3VyY2VFdmVudCAmJiBkM19ldmVudC5zb3VyY2VFdmVudC50YXJnZXQgPT09IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5icnVzaF90b3AgPiByZWN0Lm92ZXJsYXknKSkge1xuICAgICAgICB0aGlzLm1hcF9lbGVtLnJlbW92ZVJlY3RCcnVzaCgpO1xuICAgICAgICBjb25zdCBzID0gZDNfZXZlbnQuc2VsZWN0aW9uO1xuICAgICAgICBjdXJyZW50X3JhbmdlX2JydXNoID0gW1xuICAgICAgICAgIGN1cnJlbnRfcmFuZ2VbMF0gKyBtYXRoX3JvdW5kKHNbMF0gLyAod2lkdGggLyBkaXNwbGF5ZWQpKSAtIDEsXG4gICAgICAgICAgY3VycmVudF9yYW5nZVswXSArIG1hdGhfcm91bmQoc1sxXSAvICh3aWR0aCAvIGRpc3BsYXllZCkpLFxuICAgICAgICBdO1xuICAgICAgICB0aGlzLnguZG9tYWluKHRoaXMuZGF0YS5zbGljZShjdXJyZW50X3JhbmdlX2JydXNoWzBdICsgMSwgY3VycmVudF9yYW5nZV9icnVzaFsxXSlcbiAgICAgICAgICAubWFwKGZ0ID0+IGZ0LmlkKSk7XG4gICAgICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICAgICAgdGhpcy5fZm9jdXMuc2VsZWN0QWxsKCcuYmFyJylcbiAgICAgICAgICAuc3R5bGUoJ2ZpbGwnLCAoZCwgaSkgPT4ge1xuICAgICAgICAgICAgaWYgKGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pIHtcbiAgICAgICAgICAgICAgYXBwLmNvbG9yc1tkLmlkXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yX2hpZ2hsaWdodDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA+IGN1cnJlbnRfcmFuZ2VfYnJ1c2hbMF0gJiYgaSA8IGN1cnJlbnRfcmFuZ2VfYnJ1c2hbMV0pIHtcbiAgICAgICAgICAgICAgY29uc3QgY29sb3IgPSBjb21wKGRbcmF0aW9fdG9fdXNlXSwgcmVmX3ZhbHVlLCB0aGlzLnNlcmllX2ludmVyc2VkKTtcbiAgICAgICAgICAgICAgYXBwLmNvbG9yc1tkLmlkXSA9IGNvbG9yO1xuICAgICAgICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29sb3JfY291bnRyaWVzO1xuICAgICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZDNfZXZlbnQgJiYgIWQzX2V2ZW50LnNlbGVjdGlvblxuICAgICAgICAgICAgJiYgZDNfZXZlbnQuc291cmNlRXZlbnQgJiYgZDNfZXZlbnQuc291cmNlRXZlbnQuZGV0YWlsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aGlzLm1hcF9lbGVtLnJlbW92ZVJlY3RCcnVzaCgpO1xuICAgICAgICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICAgICAgICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgICAgICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9mb2N1cy5zZWxlY3RBbGwoJy5iYXInKVxuICAgICAgICAgIC5zdHlsZSgnZmlsbCcsIGQgPT4gYXBwLmNvbG9yc1tkLmlkXSB8fCBjb2xvcl9jb3VudHJpZXMpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgeCA9IGQzLnNjYWxlQmFuZCgpLnJhbmdlKFswLCB3aWR0aF0pLnBhZGRpbmcoMC4xKSxcbiAgICAgIHgyID0gZDMuc2NhbGVCYW5kKCkucmFuZ2UoWzAsIHdpZHRoXSkucGFkZGluZygwLjEpLFxuICAgICAgeSA9IGQzLnNjYWxlTGluZWFyKCkucmFuZ2UoW2hlaWdodCwgMF0pLFxuICAgICAgeTIgPSBkMy5zY2FsZUxpbmVhcigpLnJhbmdlKFtoZWlnaHQyLCAwXSk7XG5cbiAgICBjb25zdCB4QXhpcyA9IGQzLmF4aXNCb3R0b20oeCk7XG4gICAgY29uc3QgeEF4aXMyID0gZDMuYXhpc0JvdHRvbSh4Mik7XG4gICAgY29uc3QgeUF4aXMgPSBkMy5heGlzTGVmdCh5KTtcblxuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy54MiA9IHgyO1xuICAgIHRoaXMueSA9IHk7XG4gICAgdGhpcy55MiA9IHkyO1xuICAgIHRoaXMueEF4aXMgPSB4QXhpcztcbiAgICB0aGlzLnlBeGlzID0geUF4aXM7XG4gICAgdGhpcy54QXhpczIgPSB4QXhpczI7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgYXZhaWxhYmxlX3JhdGlvcyA9IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpbztcbiAgICBjb25zdCByYXRpb190b191c2UgPSBhdmFpbGFibGVfcmF0aW9zWzBdO1xuICAgIHRoaXMucmF0aW9fdG9fdXNlID0gcmF0aW9fdG9fdXNlO1xuXG4gICAgdGhpcy5kYXRhID0gcmVmX2RhdGEuZmlsdGVyKGZ0ID0+ICEhZnRbcmF0aW9fdG9fdXNlXSk7XG4gICAgdGhpcy5kYXRhLnNvcnQoKGEsIGIpID0+IGFbcmF0aW9fdG9fdXNlXSAtIGJbcmF0aW9fdG9fdXNlXSk7XG4gICAgdGhpcy5jdXJyZW50X2lkcyA9IHRoaXMuZGF0YS5tYXAoZCA9PiBkLmlkKTtcbiAgICB0aGlzLmN1cnJlbnRfcmFua3MgPSB0aGlzLmRhdGEubWFwKChkLCBpKSA9PiBpICsgMSk7XG4gICAgbmJGdCA9IHRoaXMuZGF0YS5sZW5ndGg7XG4gICAgdGhpcy5tZWFuX3ZhbHVlID0gZDMubWVhbih0aGlzLmRhdGEubWFwKGQgPT4gZFtyYXRpb190b191c2VdKSk7XG4gICAgdGhpcy5yZWZfdmFsdWUgPSB0aGlzLmRhdGEuZmlsdGVyKFxuICAgICAgZnQgPT4gZnQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pWzBdW3JhdGlvX3RvX3VzZV07XG4gICAgc3ZnX2Jhci5hcHBlbmQoJ2RlZnMnKVxuICAgICAgLmFwcGVuZCgnY2xpcFBhdGgnKVxuICAgICAgLmF0dHIoJ2lkJywgJ2NsaXAnKVxuICAgICAgLmFwcGVuZCgncmVjdCcpXG4gICAgICAuYXR0cnMoeyB3aWR0aCwgaGVpZ2h0IH0pO1xuXG4gICAgY29uc3QgZm9jdXMgPSBzdmdfYmFyLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICBjbGFzczogJ2ZvY3VzJyxcbiAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7bWFyZ2luLmxlZnR9LCAke21hcmdpbi50b3B9KWAsXG4gICAgICB9KTtcblxuICAgIGNvbnN0IGNvbnRleHQgPSBzdmdfYmFyLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICBjbGFzczogJ2NvbnRleHQnLFxuICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHttYXJnaW4yLmxlZnR9LCAke21hcmdpbjIudG9wfSlgLFxuICAgICAgfSk7XG5cbiAgICB0aGlzLl9mb2N1cyA9IGZvY3VzO1xuICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG5cbiAgICB4LmRvbWFpbih0aGlzLmRhdGEubWFwKGZ0ID0+IGZ0LmlkKSk7XG4gICAgeS5kb21haW4oW1xuICAgICAgZDMubWluKHRoaXMuZGF0YSwgZCA9PiBkW3JhdGlvX3RvX3VzZV0pIC0gMixcbiAgICAgIGQzLm1heCh0aGlzLmRhdGEsIGQgPT4gZFtyYXRpb190b191c2VdKSxcbiAgICBdKTtcbiAgICB4Mi5kb21haW4oeC5kb21haW4oKSk7XG4gICAgeTIuZG9tYWluKHkuZG9tYWluKCkpO1xuXG4gICAgY29uc3QgYnJ1c2hfYm90dG9tID0gZDMuYnJ1c2hYKClcbiAgICAgIC5leHRlbnQoW1swLCAwXSwgW3dpZHRoLCBoZWlnaHQyXV0pXG4gICAgICAub24oJ2JydXNoIGVuZCcsIHRoaXMuYnJ1c2hlZCk7XG5cbiAgICBjb25zdCBicnVzaF90b3AgPSBkMy5icnVzaFgoKVxuICAgICAgLmV4dGVudChbWzAsIDBdLCBbd2lkdGgsIGhlaWdodF1dKVxuICAgICAgLm9uKCdicnVzaCBlbmQnLCB0aGlzLmJydXNoZWRfdG9wKTtcblxuICAgIGNvbnN0IHpvb20gPSBkMy56b29tKClcbiAgICAgIC5zY2FsZUV4dGVudChbMSwgSW5maW5pdHldKVxuICAgICAgLnRyYW5zbGF0ZUV4dGVudChbWzAsIDBdLCBbd2lkdGgsIGhlaWdodF1dKVxuICAgICAgLmV4dGVudChbWzAsIDBdLCBbd2lkdGgsIGhlaWdodF1dKTtcbiAgICAgIC8vIC5vbihcInpvb21cIiwgem9vbWVkKTtcbiAgICB0aGlzLmJydXNoX3RvcCA9IGJydXNoX3RvcDtcbiAgICB0aGlzLmJydXNoX2JvdHRvbSA9IGJydXNoX2JvdHRvbTtcbiAgICB0aGlzLnpvb20gPSB6b29tO1xuXG4gICAgZm9jdXMuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAnYXhpcyBheGlzLS14JywgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKDAsICR7aGVpZ2h0fSlgIH0pXG4gICAgICAuY2FsbCh4QXhpcyk7XG5cbiAgICBmb2N1cy5zZWxlY3QoJy5heGlzLS14JylcbiAgICAgIC5zZWxlY3RBbGwoJ3RleHQnKVxuICAgICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdlbmQnKVxuICAgICAgLmF0dHJzKHsgZHg6ICctMC44ZW0nLCBkeTogJzAuMTVlbScsIHRyYW5zZm9ybTogJ3JvdGF0ZSgtNjUpJyB9KTtcblxuICAgIGZvY3VzLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignY2xhc3MnLCAnYXhpcyBheGlzLS15JylcbiAgICAgIC5jYWxsKHlBeGlzKTtcblxuICAgIHRoaXMuZ19iYXIgPSBmb2N1cy5hcHBlbmQoJ2cnKTtcblxuICAgIGNvbnN0IGdyb3VwZV9saW5lX21lYW4gPSBmb2N1cy5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdtZWFuJyk7XG4gICAgZ3JvdXBlX2xpbmVfbWVhbi5hcHBlbmQoJ3RleHQnKVxuICAgICAgLmF0dHJzKHsgeDogNjAsIHk6IHkodGhpcy5tZWFuX3ZhbHVlKSArIDIwIH0pXG4gICAgICAuc3R5bGVzKHtcbiAgICAgICAgZGlzcGxheTogJ25vbmUnLFxuICAgICAgICBmaWxsOiAncmVkJyxcbiAgICAgICAgJ2ZpbGwtb3BhY2l0eSc6ICcwLjgnLFxuICAgICAgICAnZm9udC1mYW1pbHknOiAnXFwnU2lnbmlrYVxcJywgc2Fucy1zZXJpZicsXG4gICAgICB9KVxuICAgICAgLnRleHQoYFZhbGV1ciBtb3llbm5lIDogJHtNYXRoLnJvdW5kKHRoaXMubWVhbl92YWx1ZSAqIDEwKSAvIDEwfWApO1xuXG4gICAgZ3JvdXBlX2xpbmVfbWVhbi5hcHBlbmQoJ2xpbmUnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgeDE6IDAsXG4gICAgICAgIHgyOiB3aWR0aCxcbiAgICAgICAgeTE6IHkodGhpcy5tZWFuX3ZhbHVlKSxcbiAgICAgICAgeTI6IHkodGhpcy5tZWFuX3ZhbHVlKSxcbiAgICAgICAgJ3N0cm9rZS1kYXNoYXJyYXknOiAnMTAsIDUnLFxuICAgICAgICAnc3Ryb2tlLXdpZHRoJzogJzJweCcsXG4gICAgICAgIGNsYXNzOiAnbWVhbl9saW5lJyxcbiAgICAgIH0pXG4gICAgICAuc3R5bGUoJ3N0cm9rZScsICdyZWQnKTtcblxuICAgIGdyb3VwZV9saW5lX21lYW4uYXBwZW5kKCdsaW5lJylcbiAgICAgIC5hdHRycyh7IHgxOiAwLCB4Mjogd2lkdGgsIHkxOiB5KHRoaXMubWVhbl92YWx1ZSksIHkyOiB5KHRoaXMubWVhbl92YWx1ZSksICdzdHJva2Utd2lkdGgnOiAnMTRweCcsIGNsYXNzOiAndHJhbnNwX21lYW5fbGluZScgfSlcbiAgICAgIC5zdHlsZSgnc3Ryb2tlJywgJ3RyYW5zcGFyZW50JylcbiAgICAgIC5vbignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgICAgICBncm91cGVfbGluZV9tZWFuLnNlbGVjdCgndGV4dCcpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ2luaXRpYWwnKTtcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlb3V0JywgKCkgPT4ge1xuICAgICAgICBncm91cGVfbGluZV9tZWFuLnNlbGVjdCgndGV4dCcpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgIH0pO1xuXG4gICAgdGhpcy51cGRhdGVNaW5pQmFycygpO1xuXG4gICAgY29udGV4dC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2JydXNoX2JvdHRvbScpXG4gICAgICAuY2FsbChicnVzaF9ib3R0b20pXG4gICAgICAuY2FsbChicnVzaF9ib3R0b20ubW92ZSwgeC5yYW5nZSgpKTtcblxuICAgIGZvY3VzLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignY2xhc3MnLCAnYnJ1c2hfdG9wJylcbiAgICAgIC5jYWxsKGJydXNoX3RvcClcbiAgICAgIC5jYWxsKGJydXNoX3RvcC5tb3ZlLCBudWxsKTtcblxuICAgIHRoaXMuY29tcGxldHVkZSA9IHN2Z19iYXIuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRycyh7IGlkOiAnY2hhcnRfY29tcGxldHVkZScsIHg6IDYwLCB5OiA0MCB9KVxuICAgICAgLnN0eWxlcyh7ICdmb250LWZhbWlseSc6ICdcXCdTaWduaWthXFwnLCBzYW5zLXNlcmlmJyB9KVxuICAgICAgLnRleHQoYENvbXBsw6l0dWRlIDogJHthcHAuY29tcGxldHVkZX0lYCk7XG5cbiAgICBzdmdfYmFyLmFwcGVuZCgnaW1hZ2UnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgeDogd2lkdGggKyBtYXJnaW4ubGVmdCArIDUsXG4gICAgICAgIHk6IDM4NSxcbiAgICAgICAgd2lkdGg6IDE1LFxuICAgICAgICBoZWlnaHQ6IDE1LFxuICAgICAgICAneGxpbms6aHJlZic6ICdpbWcvcmV2ZXJzZV9ibHVlLnBuZycsXG4gICAgICAgIGlkOiAnaW1nX3JldmVyc2UnLFxuICAgICAgfSlcbiAgICAgIC5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIC8vIHRoaXMuZGF0YSA9IGFwcC5jdXJyZW50X2RhdGEuc2xpY2UoKTtcbiAgICAgICAgaWYgKCF0aGlzLnNlcmllX2ludmVyc2VkKSB7XG4gICAgICAgICAgdGhpcy5kYXRhLnNvcnQoKGEsIGIpID0+IGJbdGhpcy5yYXRpb190b191c2VdIC0gYVt0aGlzLnJhdGlvX3RvX3VzZV0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuZGF0YS5zb3J0KChhLCBiKSA9PiBhW3RoaXMucmF0aW9fdG9fdXNlXSAtIGJbdGhpcy5yYXRpb190b191c2VdKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlcmllX2ludmVyc2VkID0gIXRoaXMuc2VyaWVfaW52ZXJzZWQ7XG4gICAgICAgIHguZG9tYWluKHRoaXMuZGF0YS5zbGljZShjdXJyZW50X3JhbmdlWzBdLCBjdXJyZW50X3JhbmdlWzFdKS5tYXAoZnQgPT4gZnQuaWQpKTtcbiAgICAgICAgeDIuZG9tYWluKHRoaXMuZGF0YS5tYXAoZnQgPT4gZnQuaWQpKTtcbiAgICAgICAgLy8gc3ZnX2Jhci5zZWxlY3QoXCIuem9vbVwiKS5jYWxsKHpvb20udHJhbnNmb3JtLCBkMy56b29tSWRlbnRpdHlcbiAgICAgICAgLy8gICAgIC5zY2FsZSh3aWR0aCAvIChjdXJyZW50X3JhbmdlWzFdIC0gY3VycmVudF9yYW5nZVswXSkpXG4gICAgICAgIC8vICAgICAudHJhbnNsYXRlKC1jdXJyZW50X3JhbmdlWzBdLCAwKSk7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIC8vIHRoaXMudXBkYXRlTWluaUJhcnMoKTtcbiAgICAgICAgdGhpcy51cGRhdGVDb250ZXh0KGN1cnJlbnRfcmFuZ2VbMF0sIGN1cnJlbnRfcmFuZ2VbMV0pO1xuICAgICAgICBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX3RvcCcpLmNhbGwoYnJ1c2hfdG9wLm1vdmUsIG51bGwpO1xuICAgICAgICB0aGlzLm1hcF9lbGVtLnJlbW92ZVJlY3RCcnVzaCgpO1xuICAgICAgICBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX2JvdHRvbScpLmNhbGwoYnJ1c2hfYm90dG9tLm1vdmUsIHgucmFuZ2UoKSk7XG4gICAgICB9KTtcblxuICAgIC8vIFByZXBhcmUgdGhlIHRvb2x0aXAgZGlzcGxheWVkIG9uIG1vdXNlb3ZlcjpcbiAgICBjb25zdCB0b29sdGlwID0gcHJlcGFyZVRvb2x0aXAoc3ZnX2Jhcik7XG5cbiAgICAvLyBEZWFjdGl2YXRlIHRoZSBicnVzaCByZWN0IHNlbGVjdGlvbiBvbiB0aGUgbWFwICsgb24gdGhlIGNoYXJ0XG4gICAgLy8gd2hlbiBoZSB1c2VyIHByZXNzIHRoZSBDdHJsIGtleTpcbiAgICBkb2N1bWVudC5vbmtleWRvd24gPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudCAmJiBldmVudC5rZXkgPT09ICdDb250cm9sJykge1xuICAgICAgICBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX3RvcCcpXG4gICAgICAgICAgLnNlbGVjdEFsbCgnLnNlbGVjdGlvbiwgLm92ZXJsYXknKVxuICAgICAgICAgIC5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJylcbiAgICAgICAgICAuc2VsZWN0QWxsKCcuc2VsZWN0aW9uLCAub3ZlcmxheScpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGRvY3VtZW50Lm9ua2V5dXAgPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudCAmJiBldmVudC5rZXkgPT09ICdDb250cm9sJykge1xuICAgICAgICBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX3RvcCcpXG4gICAgICAgICAgLnNlbGVjdEFsbCgnLnNlbGVjdGlvbiwgLm92ZXJsYXknKVxuICAgICAgICAgIC5zdHlsZSgnZGlzcGxheScsIG51bGwpO1xuICAgICAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpXG4gICAgICAgICAgLnNlbGVjdEFsbCgnLnNlbGVjdGlvbiwgLm92ZXJsYXknKVxuICAgICAgICAgIC5zdHlsZSgnZGlzcGxheScsIG51bGwpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvL1xuICAgIGNvbnN0IGhlYWRlcl9iYXJfc2VjdGlvbiA9IGQzLnNlbGVjdCgnI2hlYWRlcl9jaGFydCcpO1xuXG4gICAgdGhpcy5zZWxlY192YXIgPSBoZWFkZXJfYmFyX3NlY3Rpb25cbiAgICAgIC5pbnNlcnQoJ3NlbGVjdCcsICcjaW1nX3RhYmxlJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAndGl0bGVfdmFyaWFibGUnIH0pXG4gICAgICAuc3R5bGVzKHtcbiAgICAgICAgJ2ZvbnQtZmFtaWx5JzogJ1xcJ1NpZ25pa2FcXCcsIHNhbnMtc2VyaWYnLFxuICAgICAgICAnZm9udC13ZWlnaHQnOiAnODAwJyxcbiAgICAgICAgJ2ZvbnQtc2l6ZSc6ICcxNHB4JyxcbiAgICAgICAgJ21hcmdpbi10b3AnOiAnMTJweCcsXG4gICAgICAgICdtYXJnaW4tbGVmdCc6ICc0MHB4JyxcbiAgICAgICAgZmxvYXQ6ICdsZWZ0JyxcbiAgICAgIH0pO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gYXZhaWxhYmxlX3JhdGlvcy5sZW5ndGg7IGkgPCBsZW5faTsgaSsrKSB7XG4gICAgICB0aGlzLnNlbGVjX3Zhci5hcHBlbmQoJ29wdGlvbicpXG4gICAgICAgIC5hdHRyKCd2YWx1ZScsIGF2YWlsYWJsZV9yYXRpb3NbaV0pXG4gICAgICAgIC50ZXh0KGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpb19wcmV0dHlfbmFtZVtpXSk7XG4gICAgfVxuXG4gICAgdGhpcy5zZWxlY192YXIub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IGNvZGVfdmFyaWFibGUgPSB0aGlzLnZhbHVlO1xuICAgICAgc2VsZi5jaGFuZ2VWYXJpYWJsZShjb2RlX3ZhcmlhYmxlKTtcbiAgICAgIHNlbGYuY2hhbmdlU3R1ZHlab25lKCk7XG4gICAgICBzZWxmLnVwZGF0ZUNvbXBsZXR1ZGUoKTtcbiAgICB9KTtcblxuICAgIC8vIENyZWF0ZSB0aGUgbWVudSB1bmRlciB0aGUgY2hhcnQgYWxsb3dpbmcgdG8gdXNlIHNvbWUgdXNlZnVsIHNlbGVjdGlvbnNcbiAgICAvLyAoYWJvdmUgb3IgYmVsb3cgdGhlIG1lYW4gdmFsdWUgYW5kIGFib3ZlIG9yIGJlbG93IG15X3JlZ2lvbilcbiAgICBjb25zdCBidXR0b25zX3VuZGVyX2NoYXJ0ID0gZDMuc2VsZWN0KCcjYmFyX3NlY3Rpb24nKVxuICAgICAgLmFwcGVuZCgnZGl2JylcbiAgICAgIC5hdHRyKCdpZCcsICdidXR0b25zX3VuZGVyX2NoYXJ0JylcbiAgICAgIC5zdHlsZXMoeyBwYWRkaW5nOiAnMCAxMHB4IDEwcHggMTBweCcsICd0ZXh0LWFsaWduJzogJ2NlbnRlcicgfSk7XG5cbiAgICBidXR0b25zX3VuZGVyX2NoYXJ0LmFwcGVuZCgnYnV0dG9uJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAnYnV0dG9uX2JsdWUnLCBpZDogJ2J0bl9hYm92ZV9tZWFuJyB9KVxuICAgICAgLnRleHQoJzwgw6AgbGEgbW95ZW5uZScpXG4gICAgICAub24oJ2NsaWNrJywgKCkgPT4gdGhpcy5zZWxlY3RCZWxvd01lYW4oKSk7XG5cbiAgICBidXR0b25zX3VuZGVyX2NoYXJ0LmFwcGVuZCgnYnV0dG9uJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAnYnV0dG9uX2JsdWUnLCBpZDogJ2J0bl9iZWxvd19tZWFuJyB9KVxuICAgICAgLnRleHQoJz4gw6AgbGEgbW95ZW5uZScpXG4gICAgICAub24oJ2NsaWNrJywgKCkgPT4gdGhpcy5zZWxlY3RBYm92ZU1lYW4oKSk7XG5cbiAgICBidXR0b25zX3VuZGVyX2NoYXJ0LmFwcGVuZCgnYnV0dG9uJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAnYnV0dG9uX2JsdWUnLCBpZDogJ2J0bl9hYm92ZV9teV9yZWdpb24nIH0pXG4gICAgICAudGV4dCgnPCDDoCBtYSByw6lnaW9uJylcbiAgICAgIC5vbignY2xpY2snLCAoKSA9PiB0aGlzLnNlbGVjdEJlbG93TXlSZWdpb24oKSk7XG5cbiAgICBidXR0b25zX3VuZGVyX2NoYXJ0LmFwcGVuZCgnYnV0dG9uJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAnYnV0dG9uX2JsdWUnLCBpZDogJ2J0bl9iZWxvd19teV9yZWdpb24nIH0pXG4gICAgICAudGV4dCgnPiDDoCBtYSByw6lnaW9uJylcbiAgICAgIC5vbignY2xpY2snLCAoKSA9PiB0aGlzLnNlbGVjdEFib3ZlTXlSZWdpb24oKSk7XG4gIH1cblxuICB1cGRhdGVDb21wbGV0dWRlKCkge1xuICAgIHRoaXMuY29tcGxldHVkZVxuICAgICAgLnRleHQoYENvbXBsw6l0dWRlIDogJHthcHAuY29tcGxldHVkZX0lYCk7XG4gIH1cblxuICB1cGRhdGVDb250ZXh0KG1pbiwgbWF4KSB7XG4gICAgdGhpcy5jb250ZXh0LnNlbGVjdEFsbCgnLmJhcicpXG4gICAgICAgLnN0eWxlKCdmaWxsLW9wYWNpdHknLCAoXywgaSkgPT4gKGkgPj0gbWluICYmIGkgPCBtYXggPyAnMScgOiAnMC4zJykpO1xuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIGRpc3BsYXllZCA9IDA7XG4gICAgY29uc3QgcmF0aW9fdG9fdXNlID0gdGhpcy5yYXRpb190b191c2U7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgYmFyID0gdGhpcy5nX2Jhci5zZWxlY3RBbGwoJy5iYXInKVxuICAgICAgLmRhdGEodGhpcy5kYXRhKTtcblxuICAgIGJhclxuICAgICAgLmF0dHJzKGQgPT4gKHtcbiAgICAgICAgeDogdGhpcy54KGQuaWQpLFxuICAgICAgICB5OiB0aGlzLnkoZFtyYXRpb190b191c2VdKSxcbiAgICAgICAgd2lkdGg6IHRoaXMueC5iYW5kd2lkdGgoKSxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQgLSB0aGlzLnkoZFtyYXRpb190b191c2VdKSxcbiAgICAgIH0pKVxuICAgICAgLnN0eWxlKCdmaWxsJywgZCA9PiBhcHAuY29sb3JzW2QuaWRdIHx8IGNvbG9yX2NvdW50cmllcylcbiAgICAgIC5zdHlsZSgnZGlzcGxheScsIChkKSA9PiB7XG4gICAgICAgIGNvbnN0IHRvX2Rpc3BsYXkgPSB0aGlzLngoZC5pZCkgIT0gbnVsbDtcbiAgICAgICAgaWYgKHRvX2Rpc3BsYXkpIHtcbiAgICAgICAgICBkaXNwbGF5ZWQgKz0gMTtcbiAgICAgICAgICByZXR1cm4gJ2luaXRpYWwnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnbm9uZSc7XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZW92ZXInLCAoKSA9PiB7XG4gICAgICAgIHN2Z19iYXIuc2VsZWN0KCcudG9vbHRpcCcpLnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZW91dCcsICgpID0+IHtcbiAgICAgICAgc3ZnX2Jhci5zZWxlY3QoJy50b29sdGlwJykuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgfSlcbiAgICAgIC5vbignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgY29uc3QgdG9vbHRpcCA9IHN2Z19iYXIuc2VsZWN0KCcudG9vbHRpcCcpO1xuICAgICAgICB0b29sdGlwXG4gICAgICAgICAgLnNlbGVjdCgndGV4dC5pZF9mZWF0dXJlJylcbiAgICAgICAgICAudGV4dChgJHtkLmlkfWApO1xuICAgICAgICB0b29sdGlwLnNlbGVjdCgndGV4dC52YWx1ZV9mZWF0dXJlMScpXG4gICAgICAgICAgLnRleHQoYCR7bWF0aF9yb3VuZChkW3NlbGYucmF0aW9fdG9fdXNlXSAqIDEwKSAvIDEwfWApO1xuICAgICAgICB0b29sdGlwXG4gICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHtbZDMubW91c2UodGhpcylbMF0gLSA1LCBkMy5tb3VzZSh0aGlzKVsxXSAtIDQ1XX0pYCk7XG4gICAgICB9KTtcblxuICAgIGJhci5lbnRlcigpXG4gICAgICAuaW5zZXJ0KCdyZWN0JywgJy5tZWFuJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdiYXInKVxuICAgICAgLmF0dHJzKGQgPT4gKHtcbiAgICAgICAgeDogdGhpcy54KGQuaWQpLFxuICAgICAgICB5OiB0aGlzLnkoZFtyYXRpb190b191c2VdKSxcbiAgICAgICAgd2lkdGg6IHRoaXMueC5iYW5kd2lkdGgoKSxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQgLSB0aGlzLnkoZFtyYXRpb190b191c2VdKSxcbiAgICAgIH0pKTtcblxuICAgIGJhci5leGl0KCkucmVtb3ZlKCk7XG5cbiAgICB0aGlzLl9mb2N1cy5zZWxlY3QoJy5heGlzLS15JylcbiAgICAgIC5jYWxsKHRoaXMueUF4aXMpO1xuXG4gICAgY29uc3QgYXhpc194ID0gdGhpcy5fZm9jdXMuc2VsZWN0KCcuYXhpcy0teCcpXG4gICAgICAuYXR0cignZm9udC1zaXplJywgKCkgPT4gKGRpc3BsYXllZCA+IDc1ID8gNiA6IDEwKSlcbiAgICAgIC5jYWxsKHRoaXMueEF4aXMpO1xuICAgIGF4aXNfeFxuICAgICAgLnNlbGVjdEFsbCgndGV4dCcpXG4gICAgICAuYXR0cnMoKCkgPT4ge1xuICAgICAgICBpZiAoZGlzcGxheWVkID4gMTAwKSB7XG4gICAgICAgICAgcmV0dXJuIHsgZHg6ICctMC44ZW0nLCBkeTogJzAuMTVlbScsIHRyYW5zZm9ybTogJ3JvdGF0ZSgtNjUpJyB9O1xuICAgICAgICB9IGVsc2UgaWYgKGRpc3BsYXllZCA+IDIwKSB7XG4gICAgICAgICAgcmV0dXJuIHsgZHg6ICctMC44ZW0nLCBkeTogJzAuMTVlbScsIHRyYW5zZm9ybTogJ3JvdGF0ZSgtNjUpJyB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB7IGR4OiAnMCcsIGR5OiAnMC43MWVtJywgdHJhbnNmb3JtOiBudWxsIH07XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgKCkgPT4gKGRpc3BsYXllZCA+IDIwID8gJ2VuZCcgOiAnbWlkZGxlJykpO1xuXG4gICAgdGhpcy51cGRhdGVNaW5pQmFycygpO1xuICB9XG5cblxuICB1cGRhdGVNaW5pQmFycygpIHtcbiAgICBjb25zdCByYXRpb190b191c2UgPSB0aGlzLnJhdGlvX3RvX3VzZTtcbiAgICBjb25zdCBtaW5pX2JhcnMgPSB0aGlzLmNvbnRleHQuc2VsZWN0QWxsKCcuYmFyJylcbiAgICAgIC5kYXRhKHRoaXMuZGF0YSk7XG5cbiAgICBtaW5pX2JhcnNcbiAgICAgIC5hdHRyKCd4JywgZCA9PiB0aGlzLngyKGQuaWQpKVxuICAgICAgLmF0dHIoJ3dpZHRoJywgdGhpcy54Mi5iYW5kd2lkdGgoKSlcbiAgICAgIC5hdHRyKCd5JywgZCA9PiB0aGlzLnkyKGRbcmF0aW9fdG9fdXNlXSkpXG4gICAgICAuYXR0cignaGVpZ2h0JywgZCA9PiBoZWlnaHQyIC0gdGhpcy55MihkW3JhdGlvX3RvX3VzZV0pKVxuICAgICAgLnN0eWxlKCdmaWxsJywgZCA9PiAoZC5pZCAhPT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbiA/IGNvbG9yX2NvdW50cmllcyA6IGNvbG9yX2hpZ2hsaWdodCkpO1xuXG4gICAgbWluaV9iYXJzXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmluc2VydCgncmVjdCcpXG4gICAgICAuYXR0cignY2xhc3MnLCAnYmFyJylcbiAgICAgIC5hdHRyKCd4JywgZCA9PiB0aGlzLngyKGQuaWQpKVxuICAgICAgLmF0dHIoJ3dpZHRoJywgdGhpcy54Mi5iYW5kd2lkdGgoKSlcbiAgICAgIC5hdHRyKCd5JywgZCA9PiB0aGlzLnkyKGRbcmF0aW9fdG9fdXNlXSkpXG4gICAgICAuYXR0cignaGVpZ2h0JywgZCA9PiBoZWlnaHQyIC0gdGhpcy55MihkW3JhdGlvX3RvX3VzZV0pKVxuICAgICAgLnN0eWxlKCdmaWxsJywgZCA9PiAoZC5pZCAhPT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbiA/IGNvbG9yX2NvdW50cmllcyA6IGNvbG9yX2hpZ2hsaWdodCkpO1xuICAgIG1pbmlfYmFycy5leGl0KCkucmVtb3ZlKCk7XG4gIH1cblxuICB1cGRhdGVNYXBSZWdpbygpIHtcbiAgICB0aGlzLm1hcF9lbGVtLnRhcmdldF9sYXllci5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCBkID0+ICh0aGlzLmN1cnJlbnRfaWRzLmluZGV4T2YoZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXSkgPiAtMVxuICAgICAgICA/IChhcHAuY29sb3JzW2QucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV1dIHx8IGNvbG9yX2NvdW50cmllcylcbiAgICAgICAgOiBjb2xvcl9kaXNhYmxlZCkpO1xuICB9XG5cbiAgc2VsZWN0QWJvdmVNeVJlZ2lvbigpIHtcbiAgICBjb25zdCBteV9yYW5rID0gdGhpcy5kYXRhLm1hcCgoZCwgaSkgPT4gW2QuaWQsIGldKVxuICAgICAgLmZpbHRlcihkID0+IGRbMF0gPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pWzBdWzFdO1xuICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgIGlmICghdGhpcy5zZXJpZV9pbnZlcnNlZCkge1xuICAgICAgY3VycmVudF9yYW5nZV9icnVzaCA9IFtteV9yYW5rLCB0aGlzLmRhdGEubGVuZ3RoXTtcbiAgICAgIHRoaXMuZGF0YVxuICAgICAgICAuZmlsdGVyKChkLCBpKSA9PiBpID4gbXlfcmFuaylcbiAgICAgICAgLm1hcChkID0+IGQuaWQpXG4gICAgICAgIC5mb3JFYWNoKChmdCkgPT4geyBhcHAuY29sb3JzW2Z0XSA9IGNvbG9yX3N1cDsgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbMCwgbXlfcmFua107XG4gICAgICB0aGlzLmRhdGFcbiAgICAgICAgLmZpbHRlcigoZCwgaSkgPT4gaSA8IG15X3JhbmspXG4gICAgICAgIC5tYXAoZCA9PiBkLmlkKVxuICAgICAgICAuZm9yRWFjaCgoZnQpID0+IHsgYXBwLmNvbG9yc1tmdF0gPSBjb2xvcl9pbmY7IH0pO1xuICAgIH1cbiAgICBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX2JvdHRvbScpLmNhbGwoXG4gICAgICB0aGlzLmJydXNoX2JvdHRvbS5tb3ZlLCB0aGlzLngyLnJhbmdlKCkpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gICAgLy8gc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF90b3AnKS5jYWxsKHRoaXMuYnJ1c2hfdG9wLm1vdmUsIGN1cnJlbnRfcmFuZ2VfYnJ1c2gubWFwKGQgPT4gZCAqICh3aWR0aCAvIG5iRnQpKSk7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICB9XG5cbiAgc2VsZWN0QmVsb3dNeVJlZ2lvbigpIHtcbiAgICBjb25zdCBteV9yYW5rID0gdGhpcy5kYXRhLm1hcCgoZCwgaSkgPT4gW2QuaWQsIGldKVxuICAgICAgLmZpbHRlcihkID0+IGRbMF0gPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pWzBdWzFdO1xuXG4gICAgYXBwLmNvbG9ycyA9IHt9O1xuICAgIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgaWYgKCF0aGlzLnNlcmllX2ludmVyc2VkKSB7XG4gICAgICBjdXJyZW50X3JhbmdlX2JydXNoID0gWzAsIG15X3JhbmtdO1xuICAgICAgdGhpcy5kYXRhXG4gICAgICAgIC5maWx0ZXIoKGQsIGkpID0+IGkgPCBteV9yYW5rKVxuICAgICAgICAubWFwKGQgPT4gZC5pZClcbiAgICAgICAgLmZvckVhY2goKGZ0KSA9PiB7IGFwcC5jb2xvcnNbZnRdID0gY29sb3JfaW5mOyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9yYW5nZV9icnVzaCA9IFtteV9yYW5rLCB0aGlzLmRhdGEubGVuZ3RoXTtcbiAgICAgIHRoaXMuZGF0YVxuICAgICAgICAuZmlsdGVyKChkLCBpKSA9PiBpID4gbXlfcmFuaylcbiAgICAgICAgLm1hcChkID0+IGQuaWQpXG4gICAgICAgIC5mb3JFYWNoKChmdCkgPT4geyBhcHAuY29sb3JzW2Z0XSA9IGNvbG9yX3N1cDsgfSk7XG4gICAgfVxuICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfYm90dG9tJykuY2FsbChcbiAgICAgIHRoaXMuYnJ1c2hfYm90dG9tLm1vdmUsIHRoaXMueDIucmFuZ2UoKSk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgICAvLyBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX3RvcCcpLmNhbGwodGhpcy5icnVzaF90b3AubW92ZSwgY3VycmVudF9yYW5nZV9icnVzaC5tYXAoZCA9PiBkICogKHdpZHRoIC8gbmJGdCkpKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gIH1cblxuICBzZWxlY3RBYm92ZU1lYW4oKSB7XG4gICAgY29uc3QgbWVhbl9yYW5rID0gZ2V0TWVhblJhbmsodGhpcy5tZWFuX3ZhbHVlLCB0aGlzLnJhdGlvX3RvX3VzZSk7XG4gICAgY29uc3QgcmF0aW9fdG9fdXNlID0gdGhpcy5yYXRpb190b191c2U7XG4gICAgY29uc3QgcmVmX3ZhbHVlID0gdGhpcy5yZWZfdmFsdWU7XG5cbiAgICBhcHAuY29sb3JzID0ge307XG4gICAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICBpZiAoIXRoaXMuc2VyaWVfaW52ZXJzZWQpIHtcbiAgICAgIGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbbWVhbl9yYW5rLCB0aGlzLmRhdGEubGVuZ3RoXTtcbiAgICAgIHRoaXMuZGF0YS5maWx0ZXIoZCA9PiBkW3JhdGlvX3RvX3VzZV0gPiB0aGlzLm1lYW5fdmFsdWUpLmZvckVhY2goKGZ0KSA9PiB7XG4gICAgICAgIGlmIChmdFtyYXRpb190b191c2VdID4gcmVmX3ZhbHVlKSBhcHAuY29sb3JzW2Z0LmlkXSA9IGNvbG9yX3N1cDtcbiAgICAgICAgZWxzZSBhcHAuY29sb3JzW2Z0LmlkXSA9IGNvbG9yX2luZjtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X3JhbmdlX2JydXNoID0gWzAsIG1lYW5fcmFuayArIDFdO1xuICAgICAgdGhpcy5kYXRhLmZpbHRlcihkID0+IGRbcmF0aW9fdG9fdXNlXSA+IHRoaXMubWVhbl92YWx1ZSkuZm9yRWFjaCgoZnQpID0+IHtcbiAgICAgICAgaWYgKGZ0W3JhdGlvX3RvX3VzZV0gPiByZWZfdmFsdWUpIGFwcC5jb2xvcnNbZnQuaWRdID0gY29sb3JfaW5mO1xuICAgICAgICBlbHNlIGFwcC5jb2xvcnNbZnQuaWRdID0gY29sb3Jfc3VwO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF9ib3R0b20nKS5jYWxsKFxuICAgICAgdGhpcy5icnVzaF9ib3R0b20ubW92ZSwgdGhpcy54Mi5yYW5nZSgpKTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIC8vIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfdG9wJykuY2FsbCh0aGlzLmJydXNoX3RvcC5tb3ZlLCBjdXJyZW50X3JhbmdlX2JydXNoLm1hcChkID0+IGQgKiAod2lkdGggLyBuYkZ0KSkpO1xuICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgfVxuXG4gIHNlbGVjdEJlbG93TWVhbigpIHtcbiAgICBjb25zdCBtZWFuX3JhbmsgPSBnZXRNZWFuUmFuayh0aGlzLm1lYW5fdmFsdWUsIHRoaXMucmF0aW9fdG9fdXNlKTtcbiAgICBjb25zdCByYXRpb190b191c2UgPSB0aGlzLnJhdGlvX3RvX3VzZTtcbiAgICBjb25zdCByZWZfdmFsdWUgPSB0aGlzLnJlZl92YWx1ZTtcbiAgICBhcHAuY29sb3JzID0ge307XG4gICAgaWYgKCF0aGlzLnNlcmllX2ludmVyc2VkKSB7XG4gICAgICBjdXJyZW50X3JhbmdlX2JydXNoID0gWzAsIG1lYW5fcmFua107XG4gICAgICB0aGlzLmRhdGEuZmlsdGVyKGQgPT4gZFtyYXRpb190b191c2VdIDwgdGhpcy5tZWFuX3ZhbHVlKS5mb3JFYWNoKChmdCkgPT4ge1xuICAgICAgICBpZiAoZnRbcmF0aW9fdG9fdXNlXSA8IHJlZl92YWx1ZSkgYXBwLmNvbG9yc1tmdC5pZF0gPSBjb2xvcl9pbmY7XG4gICAgICAgIGVsc2UgYXBwLmNvbG9yc1tmdC5pZF0gPSBjb2xvcl9zdXA7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9yYW5nZV9icnVzaCA9IFttZWFuX3JhbmsgKyAxLCB0aGlzLmRhdGEubGVuZ3RoXTtcbiAgICAgIHRoaXMuZGF0YS5maWx0ZXIoZCA9PiBkW3JhdGlvX3RvX3VzZV0gPCB0aGlzLm1lYW5fdmFsdWUpLmZvckVhY2goKGZ0KSA9PiB7XG4gICAgICAgIGlmIChmdFtyYXRpb190b191c2VdIDwgcmVmX3ZhbHVlKSBhcHAuY29sb3JzW2Z0LmlkXSA9IGNvbG9yX3N1cDtcbiAgICAgICAgZWxzZSBhcHAuY29sb3JzW2Z0LmlkXSA9IGNvbG9yX2luZjtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfYm90dG9tJykuY2FsbChcbiAgICAgIHRoaXMuYnJ1c2hfYm90dG9tLm1vdmUsIHRoaXMueDIucmFuZ2UoKSk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgICAvLyBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX3RvcCcpLmNhbGwodGhpcy5icnVzaF90b3AubW92ZSwgY3VycmVudF9yYW5nZV9icnVzaC5tYXAoZCA9PiBkICogKHdpZHRoIC8gbmJGdCkpKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gIH1cblxuICBoYW5kbGVfYnJ1c2hfbWFwKGV2ZW50KSB7XG4gICAgaWYgKCFldmVudCB8fCAhZXZlbnQuc2VsZWN0aW9uKSB7XG4gICAgICB0aGlzLmxhc3RfbWFwX3NlbGVjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcmF0aW9fdG9fdXNlID0gdGhpcy5yYXRpb190b191c2U7XG4gICAgY29uc3QgcmVmX3ZhbHVlID0gdGhpcy5yZWZfdmFsdWU7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF90b3AnKS5jYWxsKHNlbGYuYnJ1c2hfdG9wLm1vdmUsIG51bGwpO1xuICAgIGNvbnN0IFt0b3BsZWZ0LCBib3R0b21yaWdodF0gPSBldmVudC5zZWxlY3Rpb247XG4gICAgdGhpcy5sYXN0X21hcF9zZWxlY3Rpb24gPSBbdG9wbGVmdCwgYm90dG9tcmlnaHRdO1xuICAgIC8vIGNvbnN0IHRyYW5zZm9ybSA9IHN2Z19tYXAubm9kZSgpLl9fem9vbTtcbiAgICAvLyB0b3BsZWZ0WzBdID0gKHRvcGxlZnRbMF0gLSB0cmFuc2Zvcm0ueCkgLyB0cmFuc2Zvcm0uaztcbiAgICAvLyB0b3BsZWZ0WzFdID0gKHRvcGxlZnRbMV0gLSB0cmFuc2Zvcm0ueSkgLyB0cmFuc2Zvcm0uaztcbiAgICAvLyBib3R0b21yaWdodFswXSA9IChib3R0b21yaWdodFswXSAtIHRyYW5zZm9ybS54KSAvIHRyYW5zZm9ybS5rO1xuICAgIC8vIGJvdHRvbXJpZ2h0WzFdID0gKGJvdHRvbXJpZ2h0WzFdIC0gdHJhbnNmb3JtLnkpIC8gdHJhbnNmb3JtLms7XG4gICAgY29uc3QgcmVjdCA9IG5ldyBSZWN0KHRvcGxlZnQsIGJvdHRvbXJpZ2h0KTtcbiAgICBhcHAuY29sb3JzID0ge307XG4gICAgc2VsZi5tYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5hdHRyKCdmaWxsJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgY29uc3QgaWQgPSBkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dO1xuICAgICAgICBpZiAoaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pIHtcbiAgICAgICAgICBhcHAuY29sb3JzW2lkXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICAgICAgICByZXR1cm4gY29sb3JfaGlnaGxpZ2h0O1xuICAgICAgICB9IGVsc2UgaWYgKHNlbGYuY3VycmVudF9pZHMuaW5kZXhPZihpZCkgPCAwKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbG9yX2Rpc2FibGVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fcHRzKSB7XG4gICAgICAgICAgdGhpcy5fcHRzID0gc3ZnUGF0aFRvQ29vcmRzKHRoaXMuZ2V0QXR0cmlidXRlKCdkJyksIGFwcC50eXBlX3BhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHB0cyA9IHRoaXMuX3B0cztcbiAgICAgICAgZm9yIChsZXQgaXggPSAwLCBuYl9wdHMgPSBwdHMubGVuZ3RoOyBpeCA8IG5iX3B0czsgaXgrKykge1xuICAgICAgICAgIGlmIChyZWN0LmNvbnRhaW5zKHB0c1tpeF0pKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGQucHJvcGVydGllc1tyYXRpb190b191c2VdO1xuICAgICAgICAgICAgY29uc3QgY29sb3IgPSBjb21wKHZhbHVlLCByZWZfdmFsdWUsIHRoaXMuc2VyaWVfaW52ZXJzZWQpO1xuICAgICAgICAgICAgYXBwLmNvbG9yc1tpZF0gPSBjb2xvcjtcbiAgICAgICAgICAgIHJldHVybiBjb2xvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbG9yX2NvdW50cmllcztcbiAgICAgIH0pO1xuICAgIHNlbGYuX2ZvY3VzLnNlbGVjdEFsbCgnLmJhcicpXG4gICAgICAuc3R5bGUoJ2ZpbGwnLCBkID0+IGFwcC5jb2xvcnNbZC5pZF0gfHwgY29sb3JfY291bnRyaWVzKTtcbiAgICBjb25zdCBpZHMgPSBPYmplY3Qua2V5cyhhcHAuY29sb3JzKTtcbiAgICBjb25zdCByYW5rcyA9IGlkcy5tYXAoZCA9PiB0aGlzLmN1cnJlbnRfaWRzLmluZGV4T2YoZC5pZCkgPiAtMSkubWFwKGQgPT4gdGhpcy5jdXJyZW50X3JhbmtzW2RdKTtcbiAgICBpZiAocmFua3MubGVuZ3RoID4gMSkge1xuICAgICAgY29uc3QgYzEgPSByYW5rc1swXSAtIDE7XG4gICAgICBjb25zdCBjMiA9IHJhbmtzW3JhbmtzLmxlbmd0aCAtIDFdO1xuICAgICAgaWYgKGMxIDwgY3VycmVudF9yYW5nZVswXSB8fCBjMiA+IGN1cnJlbnRfcmFuZ2VbMV0pIHtcbiAgICAgICAgY3VycmVudF9yYW5nZSA9IFtcbiAgICAgICAgICByYW5rc1swXSAtIDEsXG4gICAgICAgICAgcmFua3NbcmFua3MubGVuZ3RoIC0gMV0sXG4gICAgICAgIF07XG4gICAgICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfYm90dG9tJykuY2FsbChcbiAgICAgICAgICBzZWxmLmJydXNoX2JvdHRvbS5tb3ZlLFxuICAgICAgICAgIFtjdXJyZW50X3JhbmdlWzBdICogKHdpZHRoIC8gbmJGdCksIGN1cnJlbnRfcmFuZ2VbMV0gKiAod2lkdGggLyBuYkZ0KV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X3JhbmdlID0gWzAsIHRoaXMuZGF0YS5sZW5ndGhdO1xuICAgICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF9ib3R0b20nKS5jYWxsKFxuICAgICAgICBzZWxmLmJydXNoX2JvdHRvbS5tb3ZlLCBzZWxmLngucmFuZ2UoKSk7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlQ2xpY2tNYXAoZCwgcGFyZW50KSB7XG4gICAgY29uc3QgaWQgPSBkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dO1xuICAgIGlmICh0aGlzLmN1cnJlbnRfaWRzLmluZGV4T2YoaWQpIDwgMCB8fCBpZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbikgcmV0dXJuO1xuICAgIGlmIChhcHAuY29sb3JzW2lkXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBhcHAuY29sb3JzW2lkXSA9IHVuZGVmaW5lZDtcbiAgICAgIGQzLnNlbGVjdChwYXJlbnQpLmF0dHIoJ2ZpbGwnLCBjb2xvcl9jb3VudHJpZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBjb2xvciA9IGNvbXAoXG4gICAgICAgIGQucHJvcGVydGllc1t0aGlzLnJhdGlvX3RvX3VzZV0sXG4gICAgICAgIHRoaXMucmVmX3ZhbHVlLFxuICAgICAgICB0aGlzLnNlcmllX2ludmVyc2VkKTtcbiAgICAgIGFwcC5jb2xvcnNbaWRdID0gY29sb3I7XG4gICAgICBkMy5zZWxlY3QocGFyZW50KS5hdHRyKCdmaWxsJywgY29sb3IpO1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG5cbiAgdXBkYXRlQ2hhbmdlUmVnaW9uKCkge1xuICAgIGlmIChhcHAuY3VycmVudF9jb25maWcuZmlsdGVyX2tleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmNoYW5nZVN0dWR5Wm9uZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlZl92YWx1ZSA9IHRoaXMuZGF0YS5maWx0ZXIoXG4gICAgICAgIGZ0ID0+IGZ0LmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVswXVt0aGlzLnJhdGlvX3RvX3VzZV07XG4gICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgLy8gdGhpcy51cGRhdGVNaW5pQmFycygpO1xuICAgICAgdGhpcy51cGRhdGVDb250ZXh0KDAsIHRoaXMuZGF0YS5sZW5ndGgpO1xuICAgICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICAgICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF9ib3R0b20nKS5jYWxsKHRoaXMuYnJ1c2hfYm90dG9tLm1vdmUsIHRoaXMueC5yYW5nZSgpKTtcbiAgICAgIHRoaXMubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gICAgICB0aGlzLm1hcF9lbGVtLnVwZGF0ZUxlZ2VuZCgpO1xuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZU1lYW5WYWx1ZSgpIHtcbiAgICBjb25zdCB5ID0gdGhpcy55O1xuICAgIGNvbnN0IHJhdGlvX3RvX3VzZSA9IHRoaXMucmF0aW9fdG9fdXNlO1xuICAgIGNvbnN0IGdycF9tZWFuID0gdGhpcy5fZm9jdXMuc2VsZWN0KCcubWVhbicpO1xuICAgIHRoaXMubWVhbl92YWx1ZSA9IGQzLm1lYW4odGhpcy5kYXRhLm1hcChkID0+IGRbcmF0aW9fdG9fdXNlXSkpO1xuICAgIGdycF9tZWFuLnNlbGVjdCgndGV4dCcpXG4gICAgICAuYXR0cigneScsIHkodGhpcy5tZWFuX3ZhbHVlKSArIDIwKVxuICAgICAgLnRleHQoYFZhbGV1ciBtb3llbm5lIDogJHtNYXRoLnJvdW5kKHRoaXMubWVhbl92YWx1ZSAqIDEwKSAvIDEwfWApO1xuICAgIGdycF9tZWFuLnNlbGVjdCgnLm1lYW5fbGluZScpXG4gICAgICAuYXR0cnMoeyB5MTogeSh0aGlzLm1lYW5fdmFsdWUpLCB5MjogeSh0aGlzLm1lYW5fdmFsdWUpIH0pO1xuICAgIGdycF9tZWFuLnNlbGVjdCgnLnRyYW5zcF9tZWFuX2xpbmUnKVxuICAgICAgLmF0dHJzKHsgeTE6IHkodGhpcy5tZWFuX3ZhbHVlKSwgeTI6IHkodGhpcy5tZWFuX3ZhbHVlKSB9KTtcbiAgfVxuXG4gIGNoYW5nZVN0dWR5Wm9uZSgpIHtcbiAgICBjb25zdCByYXRpb190b191c2UgPSB0aGlzLnJhdGlvX3RvX3VzZTtcbiAgICB0aGlzLmRhdGEgPSBhcHAuY3VycmVudF9kYXRhLmZpbHRlcihmdCA9PiAhIWZ0W3JhdGlvX3RvX3VzZV0pO1xuXG4gICAgaWYgKHRoaXMuc2VyaWVfaW52ZXJzZWQpIHtcbiAgICAgIHRoaXMuZGF0YS5zb3J0KChhLCBiKSA9PiBiW3JhdGlvX3RvX3VzZV0gLSBhW3JhdGlvX3RvX3VzZV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRhdGEuc29ydCgoYSwgYikgPT4gYVtyYXRpb190b191c2VdIC0gYltyYXRpb190b191c2VdKTtcbiAgICB9XG4gICAgbmJGdCA9IHRoaXMuZGF0YS5sZW5ndGg7XG4gICAgdGhpcy5yZWZfdmFsdWUgPSB0aGlzLmRhdGEuZmlsdGVyKFxuICAgICAgZnQgPT4gZnQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pWzBdW3JhdGlvX3RvX3VzZV07XG4gICAgdGhpcy54LmRvbWFpbih0aGlzLmRhdGEubWFwKGZ0ID0+IGZ0LmlkKSk7XG4gICAgY29uc3QgbWluX3NlcmllID0gZDMubWluKHRoaXMuZGF0YSwgZCA9PiBkW3JhdGlvX3RvX3VzZV0pO1xuICAgIGNvbnN0IG1heF9zZXJpZSA9IGQzLm1heCh0aGlzLmRhdGEsIGQgPT4gZFtyYXRpb190b191c2VdKTtcbiAgICBjb25zdCBvZmZzZXRfeSA9IChtYXhfc2VyaWUgLSBtaW5fc2VyaWUpIC8gMjA7XG4gICAgdGhpcy55LmRvbWFpbihbXG4gICAgICBtaW5fc2VyaWUgLSBvZmZzZXRfeSwgbWF4X3NlcmllLFxuICAgIF0pO1xuICAgIHRoaXMueDIuZG9tYWluKHRoaXMueC5kb21haW4oKSk7XG4gICAgdGhpcy55Mi5kb21haW4odGhpcy55LmRvbWFpbigpKTtcbiAgICB0aGlzLnVwZGF0ZU1lYW5WYWx1ZSgpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gICAgdGhpcy51cGRhdGVDb250ZXh0KDAsIHRoaXMuZGF0YS5sZW5ndGgpO1xuXG4gICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF9ib3R0b20nKS5jYWxsKHRoaXMuYnJ1c2hfYm90dG9tLm1vdmUsIHRoaXMueDIucmFuZ2UoKSk7XG4gICAgdGhpcy5tYXBfZWxlbS5yZW1vdmVSZWN0QnJ1c2goKTtcbiAgICBhcHAuY29sb3JzID0ge307XG4gICAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gIH1cblxuICBhZGRWYXJpYWJsZShjb2RlX3ZhcmlhYmxlLCBuYW1lX3ZhcmlhYmxlKSB7XG4gICAgLy8gQWRkIHRoZSB2YXJpYWJsZSB0byB0aGUgaW5wdXQgZWxlbWVudCBhbGxvd2luZyB0byBjaG9vc2UgdmFyaWFibGVzOlxuICAgIHRoaXMuc2VsZWNfdmFyLmFwcGVuZCgnb3B0aW9uJylcbiAgICAgIC5hdHRyKCd2YWx1ZScsIGNvZGVfdmFyaWFibGUpXG4gICAgICAudGV4dChuYW1lX3ZhcmlhYmxlKTtcblxuICAgIC8vIEFuZCB1c2UgaXQgaW1tZWRpYXRseTpcbiAgICB0aGlzLnNlbGVjX3Zhci5ub2RlKCkudmFsdWUgPSBjb2RlX3ZhcmlhYmxlO1xuICAgIHRoaXMuc2VsZWNfdmFyLmRpc3BhdGNoKCdjaGFuZ2UnKTtcbiAgfVxuXG4gIHJlbW92ZVZhcmlhYmxlKGNvZGVfdmFyaWFibGUpIHtcbiAgICAvLyBBZGQgdGhlIHZhcmlhYmxlIHRvIHRoZSBpbnB1dCBlbGVtZW50IGFsbG93aW5nIHRvIGNob29zZSB2YXJpYWJsZXM6XG4gICAgdGhpcy5zZWxlY192YXIuc2VsZWN0KGBvcHRpb25bdmFsdWU9JHtjb2RlX3ZhcmlhYmxlfV1gKS5yZW1vdmUoKTtcbiAgICBpZiAodGhpcy5yYXRpb190b191c2UgPT09IGNvZGVfdmFyaWFibGUpIHtcbiAgICAgIHRoaXMuc2VsZWNfdmFyLm5vZGUoKS52YWx1ZSA9IHRoaXMuc2VsZWNfdmFyLnNlbGVjdCgnb3B0aW9uJykubm9kZSgpLnZhbHVlO1xuICAgICAgdGhpcy5zZWxlY192YXIuZGlzcGF0Y2goJ2NoYW5nZScpO1xuICAgIH1cbiAgfVxuXG4gIGNoYW5nZVZhcmlhYmxlKGNvZGVfdmFyaWFibGUpIHtcbiAgICB0aGlzLnJhdGlvX3RvX3VzZSA9IGNvZGVfdmFyaWFibGU7XG4gIH1cblxuICByZW1vdmUoKSB7XG4gICAgdGhpcy5fZm9jdXMucmVtb3ZlKCk7XG4gICAgdGhpcy5jb250ZXh0LnJlbW92ZSgpO1xuICAgIHRoaXMuc2VsZWNfdmFyLnJlbW92ZSgpO1xuICAgIHRoaXMubWFwX2VsZW0udW5iaW5kQnJ1c2goKTtcbiAgICB0aGlzLm1hcF9lbGVtID0gbnVsbDtcbiAgICBzdmdfYmFyLmh0bWwoJycpO1xuICB9XG5cbiAgYmluZE1hcChtYXBfZWxlbSkge1xuICAgIHRoaXMubWFwX2VsZW0gPSBtYXBfZWxlbTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgY29tcCwgbWF0aF9yb3VuZCwgbWF0aF9hYnMsIFJlY3QsIFByb3BTaXplciwgcHJlcGFyZVRvb2x0aXAsIHN2Z1BhdGhUb0Nvb3JkcyB9IGZyb20gJy4vLi4vaGVscGVycyc7XG5pbXBvcnQgeyBjb2xvcl9kaXNhYmxlZCwgY29sb3JfY291bnRyaWVzLCBjb2xvcl9zdXAsIGNvbG9yX2luZiwgY29sb3JfaGlnaGxpZ2h0IH0gZnJvbSAnLi8uLi9vcHRpb25zJztcbmltcG9ydCB7IHN2Z19tYXAgfSBmcm9tICcuLy4uL21hcCc7XG5pbXBvcnQgeyBhcHAsIHZhcmlhYmxlcyB9IGZyb20gJy4vLi4vLi4vbWFpbic7XG5cbmNvbnN0IHN2Z19iYXIgPSBkMy5zZWxlY3QoJyNzdmdfYmFyJyk7XG5jb25zdCBtYXJnaW4gPSB7IHRvcDogMjAsIHJpZ2h0OiAyMCwgYm90dG9tOiA0MCwgbGVmdDogMzAgfTtcblxuY29uc3Qgd2lkdGggPSArc3ZnX2Jhci5hdHRyKCd3aWR0aCcpIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQsXG4gIGhlaWdodCA9ICtzdmdfYmFyLmF0dHIoJ2hlaWdodCcpIC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XG5cbmV4cG9ydCBjbGFzcyBCdWJibGVDaGFydDEge1xuICBjb25zdHJ1Y3RvcihyZWZfZGF0YSkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGF2YWlsYWJsZV9yYXRpb3MgPSBhcHAuY3VycmVudF9jb25maWcucmF0aW87XG4gICAgY29uc3QgYXZhaWxhYmxlX251bXMgPSBhcHAuY3VycmVudF9jb25maWcubnVtO1xuICAgIGNvbnN0IHJhdGlvX3RvX3VzZSA9IGF2YWlsYWJsZV9yYXRpb3NbMF07XG4gICAgY29uc3Qgc3RvY2tfdG9fdXNlID0gYXZhaWxhYmxlX251bXNbMF07XG4gICAgdGhpcy5yYXRpb190b191c2UgPSByYXRpb190b191c2U7XG4gICAgdGhpcy5zdG9ja190b191c2UgPSBzdG9ja190b191c2U7XG4gICAgdGhpcy5kYXRhID0gcmVmX2RhdGEuZmlsdGVyKGZ0ID0+ICEhZnRbcmF0aW9fdG9fdXNlXSkuc2xpY2UoKVxuICAgICAgLnNvcnQoKGEsIGIpID0+IGJbc3RvY2tfdG9fdXNlXSAtIGFbc3RvY2tfdG9fdXNlXSk7XG4gICAgdGhpcy5jdXJyZW50X2lkcyA9IHRoaXMuZGF0YS5tYXAoZCA9PiBkLmlkKTtcbiAgICB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24gPSBbXTtcbiAgICBjb25zdCBkcmF3X2dyb3VwID0gc3ZnX2JhclxuICAgICAgLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke21hcmdpbi5sZWZ0fSwgJHttYXJnaW4udG9wfSlgKTtcbiAgICBkcmF3X2dyb3VwLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cnMoeyBjbGFzczogJ2F4aXMgYXhpcy0teCcsIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgwLCAke2hlaWdodCAvIDJ9KWAgfSk7XG4gICAgdGhpcy5kcmF3X2dyb3VwID0gZHJhd19ncm91cDtcblxuICAgIC8vIFByZXBhcmUgdGhlIHRvb2x0aXAgZGlzcGxheWVkIG9uIG1vdXNlb3ZlcjpcbiAgICBwcmVwYXJlVG9vbHRpcChzdmdfYmFyKTtcblxuICAgIC8vIENyZWF0ZSB0aGUgXCJjb21wbGV0dWRlXCIgdGV4dDpcbiAgICB0aGlzLmNvbXBsZXR1ZGUgPSBzdmdfYmFyLmFwcGVuZCgndGV4dCcpXG4gICAgICAuYXR0cnMoeyBpZDogJ2NoYXJ0X2NvbXBsZXR1ZGUnLCB4OiA2MCwgeTogNDAgfSlcbiAgICAgIC5zdHlsZXMoeyAnZm9udC1mYW1pbHknOiAnXFwnU2lnbmlrYVxcJywgc2Fucy1zZXJpZicgfSlcbiAgICAgIC50ZXh0KGBDb21wbMOpdHVkZSA6ICR7YXBwLmNvbXBsZXR1ZGV9JWApO1xuXG4gICAgLy8gQ3JlYXRlIHRoZSBzZWN0aW9uIGNvbnRhaW5pbmcgdGhlIGlucHV0IGVsZW1lbnQgYWxsb3dpbmcgdG8gY2hvc2VcbiAgICAvLyBob3cgbWFueSBcImNsb3NlXCIgcmVnaW9ucyB3ZSB3YW50IHRvIGhpZ2hsaWdodC5cbiAgICBjb25zdCBzZWxlY3Rpb25fY2xvc2UgPSBkMy5zZWxlY3Qoc3ZnX2Jhci5ub2RlKCkucGFyZW50RWxlbWVudClcbiAgICAgIC5hcHBlbmQoJ2RpdicpXG4gICAgICAuYXR0cignaWQnLCAnbWVudV9zZWxlY3Rpb24nKVxuICAgICAgLnN0eWxlcyh7IHRvcDogJy0xMDBweCcsICdtYXJnaW4tbGVmdCc6ICczMHB4JywgcG9zaXRpb246ICdyZWxhdGl2ZScgfSlcbiAgICAgIC5hcHBlbmQoJ3AnKTtcblxuICAgIHNlbGVjdGlvbl9jbG9zZS5hcHBlbmQoJ3NwYW4nKVxuICAgICAgLnByb3BlcnR5KCd2YWx1ZScsICdjbG9zZScpXG4gICAgICAuYXR0cnMoeyB2YWx1ZTogJ2Nsb3NlJywgY2xhc3M6ICd0eXBlX3NlbGVjdGlvbiBzcXVhcmUgY2hlY2tlZCcgfSk7XG4gICAgc2VsZWN0aW9uX2Nsb3NlLmFwcGVuZCgnc3BhbicpXG4gICAgICAuYXR0cnMoeyBjbGFzczogJ2xhYmVsX2NoaycgfSlcbiAgICAgIC5odG1sKCdMZXMnKTtcbiAgICBzZWxlY3Rpb25fY2xvc2UuYXBwZW5kKCdpbnB1dCcpXG4gICAgICAuYXR0cnMoeyBjbGFzczogJ25iX3NlbGVjdCcsIHR5cGU6ICdudW1iZXInIH0pXG4gICAgICAucHJvcGVydHkoJ3ZhbHVlJywgNSk7XG4gICAgc2VsZWN0aW9uX2Nsb3NlLmFwcGVuZCgnc3BhbicpXG4gICAgICAuYXR0cnMoeyBjbGFzczogJ2xhYmVsX2NoaycgfSlcbiAgICAgIC5odG1sKCdyw6lnaW9ucyBsZXMgcGx1cyBwcm9jaGVzJyk7XG4gICAgdGhpcy5teV9yZWdpb25fdmFsdWUgPSB0aGlzLmRhdGFcbiAgICAgICAgLmZpbHRlcihkID0+IGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pXG4gICAgICAgIC5tYXAoZCA9PiBkW3JhdGlvX3RvX3VzZV0pWzBdO1xuICAgIHRoaXMuYmluZE1lbnUoKTtcbiAgICB0aGlzLmFwcGx5U2VsZWN0aW9uKDUsICdjbG9zZScpO1xuXG4gICAgLy9cbiAgICBjb25zdCBoZWFkZXJfYmFyX3NlY3Rpb24gPSBkMy5zZWxlY3QoJyNoZWFkZXJfY2hhcnQnKTtcblxuICAgIHRoaXMuc2VsZWNfdmFyID0gaGVhZGVyX2Jhcl9zZWN0aW9uXG4gICAgICAuaW5zZXJ0KCdzZWxlY3QnLCAnI2ltZ190YWJsZScpXG4gICAgICAuYXR0cnMoeyBjbGFzczogJ3RpdGxlX3ZhcmlhYmxlJyB9KVxuICAgICAgLnN0eWxlcyh7XG4gICAgICAgICdmb250LWZhbWlseSc6ICdcXCdTaWduaWthXFwnLCBzYW5zLXNlcmlmJyxcbiAgICAgICAgJ2ZvbnQtd2VpZ2h0JzogJzgwMCcsXG4gICAgICAgICdmb250LXNpemUnOiAnMTRweCcsXG4gICAgICAgICdtYXJnaW4tdG9wJzogJzEycHgnLFxuICAgICAgICAnbWFyZ2luLWxlZnQnOiAnNDBweCcsXG4gICAgICAgIGZsb2F0OiAnbGVmdCcsXG4gICAgICB9KTtcblxuICAgIGZvciAobGV0IGkgPSAwLCBsZW5faSA9IGF2YWlsYWJsZV9yYXRpb3MubGVuZ3RoOyBpIDwgbGVuX2k7IGkrKykge1xuICAgICAgdGhpcy5zZWxlY192YXIuYXBwZW5kKCdvcHRpb24nKVxuICAgICAgICAuYXR0cigndmFsdWUnLCBhdmFpbGFibGVfcmF0aW9zW2ldKVxuICAgICAgICAudGV4dChhcHAuY3VycmVudF9jb25maWcucmF0aW9fcHJldHR5X25hbWVbaV0pO1xuICAgIH1cblxuICAgIHRoaXMuc2VsZWNfdmFyLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCBjb2RlX3ZhcmlhYmxlID0gdGhpcy52YWx1ZTtcbiAgICAgIHNlbGYuY2hhbmdlVmFyaWFibGUoY29kZV92YXJpYWJsZSk7XG4gICAgICBzZWxmLmNoYW5nZVN0dWR5Wm9uZSgpO1xuICAgICAgc2VsZi51cGRhdGVDb21wbGV0dWRlKCk7XG4gICAgfSk7XG5cbiAgICAvLyBEZWFjdGl2YXRlIHRoZSByZWN0IGJydXNoIHNlbGVjdGlvbiBvbiB0aGUgbWFwXG4gICAgLy8gd2hpbGUgdGhlIHVzZXIgcHJlc3MgdGhlIEN0cmwga2V5OlxuICAgIGRvY3VtZW50Lm9ua2V5ZG93biA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50LmtleSA9PT0gJ0NvbnRyb2wnKSB7XG4gICAgICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJylcbiAgICAgICAgICAuc2VsZWN0QWxsKCcuc2VsZWN0aW9uLCAub3ZlcmxheScpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIC8vIFJlYWN0aXZhdGUgdGhlIHJlY3QgYnJ1c2ggc2VsZWN0aW9uIG9uIHRoZSBtYXBcbiAgICAvLyB3aGVuIHRoZSB1c2VyIGRvZXNuJ3QgcHJlc3MgdGhlIEN0cmwga2V5IGFueW1vcmVcbiAgICBkb2N1bWVudC5vbmtleXVwID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQgJiYgZXZlbnQua2V5ID09PSAnQ29udHJvbCcpIHtcbiAgICAgICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKVxuICAgICAgICAgIC5zZWxlY3RBbGwoJy5zZWxlY3Rpb24sIC5vdmVybGF5JylcbiAgICAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgYXBwbHlTZWxlY3Rpb24obmIsIHR5cGVfc2VsZWN0aW9uID0gJ2Nsb3NlJykge1xuICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICBpZiAobmIgPiAwKSB7XG4gICAgICBjb25zdCBteV9yZWdpb25fdmFsdWUgPSB0aGlzLm15X3JlZ2lvbl92YWx1ZTtcbiAgICAgIGNvbnN0IHJhdGlvX3RvX3VzZSA9IHRoaXMucmF0aW9fdG9fdXNlO1xuXG4gICAgICB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24gPSB0aGlzLmRhdGEubWFwKGQgPT4gKHtcbiAgICAgICAgZGlzdDogbWF0aF9hYnMoZFtyYXRpb190b191c2VdIC0gbXlfcmVnaW9uX3ZhbHVlKSxcbiAgICAgICAgcmF0aW86IGRbcmF0aW9fdG9fdXNlXSxcbiAgICAgICAgaWQ6IGQuaWQgfSkpO1xuICAgICAgaWYgKHR5cGVfc2VsZWN0aW9uID09PSAnY2xvc2UnKSB7XG4gICAgICAgIHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbi5zb3J0KChhLCBiKSA9PiBhLmRpc3QgLSBiLmRpc3QpO1xuICAgICAgICB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24gPSB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24uc2xpY2UoMSwgbmIgKyAxKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZV9zZWxlY3Rpb24gPT09ICdkaXN0YW50Jykge1xuICAgICAgICB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24uc29ydCgoYSwgYikgPT4gYi5kaXN0IC0gYS5kaXN0KTtcbiAgICAgICAgdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uID0gdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uLnNsaWNlKDAsIG5iKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbi5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgICAgIGFwcC5jb2xvcnNbZWxlbS5pZF0gPSBlbGVtLnJhdGlvIDwgbXlfcmVnaW9uX3ZhbHVlID8gY29sb3JfaW5mIDogY29sb3Jfc3VwO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbiA9IFtdO1xuICAgIH1cbiAgICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgIHRoaXMudXBkYXRlKCk7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGRhdGEgPSBzZWxmLmRhdGE7XG4gICAgY29uc3QgaGlnaGxpZ2h0X3NlbGVjdGlvbiA9IHNlbGYuaGlnaGxpZ2h0X3NlbGVjdGlvbjtcbiAgICBjb25zdCBteV9yZWdpb25fdmFsdWUgPSBzZWxmLm15X3JlZ2lvbl92YWx1ZTtcbiAgICBjb25zdCByYXRpb190b191c2UgPSBzZWxmLnJhdGlvX3RvX3VzZTtcbiAgICBjb25zdCBzdG9ja190b191c2UgPSBzZWxmLnN0b2NrX3RvX3VzZTtcblxuICAgIGxldCBfbWluO1xuICAgIGxldCBfbWF4O1xuICAgIGlmIChoaWdobGlnaHRfc2VsZWN0aW9uLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGRpc3RfbWluID0gbXlfcmVnaW9uX3ZhbHVlIC0gZDMubWluKGhpZ2hsaWdodF9zZWxlY3Rpb24sIGQgPT4gZC5yYXRpbyk7XG4gICAgICBjb25zdCBkaXN0X21heCA9IGQzLm1heChoaWdobGlnaHRfc2VsZWN0aW9uLCBkID0+IGQucmF0aW8pIC0gbXlfcmVnaW9uX3ZhbHVlO1xuICAgICAgY29uc3QgZGlzdF9heGlzID0gTWF0aC5tYXgoZGlzdF9taW4sIGRpc3RfbWF4KTtcbiAgICAgIGNvbnN0IG1hcmdpbl9taW5fbWF4ID0gbWF0aF9yb3VuZChkaXN0X2F4aXMpIC8gODtcbiAgICAgIF9taW4gPSBteV9yZWdpb25fdmFsdWUgLSBkaXN0X2F4aXMgLSBtYXJnaW5fbWluX21heDtcbiAgICAgIF9tYXggPSBteV9yZWdpb25fdmFsdWUgKyBkaXN0X2F4aXMgKyBtYXJnaW5fbWluX21heDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZGlzdF9taW4gPSBteV9yZWdpb25fdmFsdWUgLSBkMy5taW4oZGF0YSwgZCA9PiBkW3JhdGlvX3RvX3VzZV0pO1xuICAgICAgY29uc3QgZGlzdF9tYXggPSBkMy5tYXgoZGF0YSwgZCA9PiBkW3JhdGlvX3RvX3VzZV0pIC0gbXlfcmVnaW9uX3ZhbHVlO1xuICAgICAgY29uc3QgZGlzdF9heGlzID0gTWF0aC5tYXgoZGlzdF9taW4sIGRpc3RfbWF4KTtcbiAgICAgIGNvbnN0IG1hcmdpbl9taW5fbWF4ID0gbWF0aF9yb3VuZChkaXN0X2F4aXMpIC8gODtcbiAgICAgIF9taW4gPSBteV9yZWdpb25fdmFsdWUgLSBkaXN0X2F4aXMgLSBtYXJnaW5fbWluX21heDtcbiAgICAgIF9tYXggPSBteV9yZWdpb25fdmFsdWUgKyBkaXN0X2F4aXMgKyBtYXJnaW5fbWluX21heDtcbiAgICB9XG5cbiAgICBjb25zdCBwcm9wX3NpemVyID0gbmV3IFByb3BTaXplcihkMy5tYXgoZGF0YSwgZCA9PiBkW3N0b2NrX3RvX3VzZV0pLCAzMCk7XG4gICAgY29uc3QgeFNjYWxlID0gZDMuc2NhbGVMaW5lYXIoKVxuICAgICAgLmRvbWFpbihbX21pbiwgX21heF0pXG4gICAgICAucmFuZ2UoWzAsIHdpZHRoXSk7XG5cbiAgICB0aGlzLmRyYXdfZ3JvdXAuc2VsZWN0KCdnLmF4aXMtLXgnKVxuICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgLmR1cmF0aW9uKDIyNSlcbiAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeFNjYWxlKSk7XG5cbiAgICBjb25zdCBidWJibGVzID0gdGhpcy5kcmF3X2dyb3VwLnNlbGVjdEFsbCgnLmJ1YmJsZScpXG4gICAgICAuZGF0YShkYXRhLCBkID0+IGQuaWQpO1xuXG4gICAgYnViYmxlc1xuICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgLmR1cmF0aW9uKDIyNSlcbiAgICAgIC5hdHRycygoZCkgPT4ge1xuICAgICAgICBsZXQgeF92YWx1ZSA9IHhTY2FsZShkW3JhdGlvX3RvX3VzZV0pO1xuICAgICAgICBpZiAoeF92YWx1ZSA+IHdpZHRoKSB4X3ZhbHVlID0gd2lkdGggKyAyMDA7XG4gICAgICAgIGVsc2UgaWYgKHhfdmFsdWUgPCAwKSB4X3ZhbHVlID0gLTIwMDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBjeDogeF92YWx1ZSxcbiAgICAgICAgICBjeTogaGVpZ2h0IC8gMixcbiAgICAgICAgICByOiBwcm9wX3NpemVyLnNjYWxlKGRbc3RvY2tfdG9fdXNlXSksXG4gICAgICAgIH07XG4gICAgICB9KVxuICAgICAgLnN0eWxlcyhkID0+ICh7XG4gICAgICAgIGZpbGw6IGFwcC5jb2xvcnNbZC5pZF0gfHwgY29sb3JfY291bnRyaWVzLFxuICAgICAgfSkpO1xuXG4gICAgYnViYmxlc1xuICAgICAgLmVudGVyKClcbiAgICAgIC5pbnNlcnQoJ2NpcmNsZScpXG4gICAgICAuc3R5bGVzKGQgPT4gKHtcbiAgICAgICAgZmlsbDogYXBwLmNvbG9yc1tkLmlkXSB8fCBjb2xvcl9jb3VudHJpZXMsXG4gICAgICB9KSlcbiAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgIC5kdXJhdGlvbigyMjUpXG4gICAgICAuYXR0cnMoKGQpID0+IHtcbiAgICAgICAgbGV0IHhfdmFsdWUgPSB4U2NhbGUoZFtyYXRpb190b191c2VdKTtcbiAgICAgICAgaWYgKHhfdmFsdWUgPiB3aWR0aCkgeF92YWx1ZSA9IHdpZHRoICsgMjAwO1xuICAgICAgICBlbHNlIGlmICh4X3ZhbHVlIDwgMCkgeF92YWx1ZSA9IC0yMDA7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgY2xhc3M6ICdidWJibGUnLFxuICAgICAgICAgIGN4OiB4X3ZhbHVlLFxuICAgICAgICAgIGN5OiBoZWlnaHQgLyAyLFxuICAgICAgICAgIHI6IHByb3Bfc2l6ZXIuc2NhbGUoZFtzdG9ja190b191c2VdKSxcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuXG4gICAgYnViYmxlcy5leGl0KCkudHJhbnNpdGlvbigpLmR1cmF0aW9uKDIyNSkucmVtb3ZlKCk7XG5cbiAgICB0aGlzLmRyYXdfZ3JvdXAuc2VsZWN0QWxsKCcuYnViYmxlJylcbiAgICAgIC5vbignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgICAgICBzdmdfYmFyLnNlbGVjdCgnLnRvb2x0aXAnKS5zdHlsZSgnZGlzcGxheScsIG51bGwpO1xuICAgICAgfSlcbiAgICAgIC5vbignbW91c2VvdXQnLCAoKSA9PiB7XG4gICAgICAgIHN2Z19iYXIuc2VsZWN0KCcudG9vbHRpcCcpLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgIGNvbnN0IHRvb2x0aXAgPSBzdmdfYmFyLnNlbGVjdCgnLnRvb2x0aXAnKTtcbiAgICAgICAgY29uc3QgX3JhdGlvX3RvX3VzZSA9IHNlbGYucmF0aW9fdG9fdXNlO1xuICAgICAgICBjb25zdCBfc3RvY2tfdG9fdXNlID0gc2VsZi5zdG9ja190b191c2U7XG4gICAgICAgIHRvb2x0aXBcbiAgICAgICAgICAuc2VsZWN0KCd0ZXh0LmlkX2ZlYXR1cmUnKVxuICAgICAgICAgIC50ZXh0KGAke2QuaWR9YCk7XG4gICAgICAgIHRvb2x0aXAuc2VsZWN0KCd0ZXh0LnZhbHVlX2ZlYXR1cmUxJylcbiAgICAgICAgICAudGV4dChgUmF0aW86ICR7TWF0aC5yb3VuZChkW19yYXRpb190b191c2VdICogMTApIC8gMTB9YCk7XG4gICAgICAgIHRvb2x0aXAuc2VsZWN0KCd0ZXh0LnZhbHVlX2ZlYXR1cmUyJylcbiAgICAgICAgICAudGV4dChgU3RvY2s6ICR7TWF0aC5yb3VuZChkW19zdG9ja190b191c2VdICogMTApIC8gMTB9YCk7XG4gICAgICAgIHRvb2x0aXBcbiAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke1tkMy5tb3VzZSh0aGlzKVswXSAtIDUsIGQzLm1vdXNlKHRoaXMpWzFdIC0gNDVdfSlgKTtcbiAgICAgIH0pO1xuICB9XG4gIHVwZGF0ZUNvbXBsZXR1ZGUoKSB7XG4gICAgdGhpcy5jb21wbGV0dWRlXG4gICAgICAudGV4dChgQ29tcGzDqXR1ZGUgOiAke2FwcC5jb21wbGV0dWRlfSVgKTtcbiAgfVxuXG4gIHVwZGF0ZU1hcFJlZ2lvKCkge1xuICAgIGlmICghdGhpcy5tYXBfZWxlbSkgcmV0dXJuO1xuICAgIHRoaXMubWFwX2VsZW0udGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuYXR0cignZmlsbCcsIGQgPT4gKHRoaXMuY3VycmVudF9pZHMuaW5kZXhPZihkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dKSA+IC0xXG4gICAgICAgID8gKGFwcC5jb2xvcnNbZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXV0gfHwgY29sb3JfY291bnRyaWVzKVxuICAgICAgICA6IGNvbG9yX2Rpc2FibGVkKSk7XG4gIH1cblxuICBoYW5kbGVfYnJ1c2hfbWFwKGV2ZW50KSB7XG4gICAgaWYgKCFldmVudCB8fCAhZXZlbnQuc2VsZWN0aW9uKSB7XG4gICAgICB0aGlzLmxhc3RfbWFwX3NlbGVjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgW3RvcGxlZnQsIGJvdHRvbXJpZ2h0XSA9IGV2ZW50LnNlbGVjdGlvbjtcbiAgICB0aGlzLmxhc3RfbWFwX3NlbGVjdGlvbiA9IFt0b3BsZWZ0LCBib3R0b21yaWdodF07XG4gICAgY29uc3QgcmVjdCA9IG5ldyBSZWN0KHRvcGxlZnQsIGJvdHRvbXJpZ2h0KTtcbiAgICBjb25zdCByYXRpb190b191c2UgPSB0aGlzLnJhdGlvX3RvX3VzZTtcbiAgICBhcHAuY29sb3JzID0ge307XG4gICAgc2VsZi5oaWdobGlnaHRfc2VsZWN0aW9uID0gW107XG4gICAgc2VsZi5tYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5hdHRyKCdmaWxsJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgY29uc3QgaWQgPSBkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dO1xuICAgICAgICBpZiAoaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pIHtcbiAgICAgICAgICBhcHAuY29sb3JzW2lkXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICAgICAgICByZXR1cm4gY29sb3JfaGlnaGxpZ2h0O1xuICAgICAgICB9IGVsc2UgaWYgKHNlbGYuY3VycmVudF9pZHMuaW5kZXhPZihpZCkgPCAwKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbG9yX2Rpc2FibGVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fcHRzKSB7XG4gICAgICAgICAgdGhpcy5fcHRzID0gc3ZnUGF0aFRvQ29vcmRzKHRoaXMuZ2V0QXR0cmlidXRlKCdkJyksIGFwcC50eXBlX3BhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHB0cyA9IHRoaXMuX3B0cztcbiAgICAgICAgZm9yIChsZXQgaXggPSAwLCBuYl9wdHMgPSBwdHMubGVuZ3RoOyBpeCA8IG5iX3B0czsgaXgrKykge1xuICAgICAgICAgIGlmIChyZWN0LmNvbnRhaW5zKHB0c1tpeF0pKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGQucHJvcGVydGllc1tyYXRpb190b191c2VdO1xuICAgICAgICAgICAgY29uc3QgY29sb3IgPSBjb21wKHZhbHVlLCBzZWxmLm15X3JlZ2lvbl92YWx1ZSwgdGhpcy5zZXJpZV9pbnZlcnNlZCk7XG4gICAgICAgICAgICBhcHAuY29sb3JzW2lkXSA9IGNvbG9yO1xuICAgICAgICAgICAgc2VsZi5oaWdobGlnaHRfc2VsZWN0aW9uLnB1c2goe1xuICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgcmF0aW86IHZhbHVlLFxuICAgICAgICAgICAgICBkaXN0OiBtYXRoX2Ficyh2YWx1ZSAtIHNlbGYubXlfcmVnaW9uX3ZhbHVlKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGNvbG9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sb3JfY291bnRyaWVzO1xuICAgICAgfSk7XG4gICAgc2VsZi51cGRhdGUoKTtcbiAgfVxuXG4gIGhhbmRsZUNsaWNrTWFwKGQsIHBhcmVudCkge1xuICAgIGNvbnN0IGlkID0gZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXTtcbiAgICBpZiAodGhpcy5jdXJyZW50X2lkcy5pbmRleE9mKGlkKSA8IDAgfHwgaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pIHJldHVybjtcbiAgICBpZiAoYXBwLmNvbG9yc1tpZF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gUmVtb3ZlIHRoZSBjbGlja2VkIGZlYXR1cmUgZnJvbSB0aGUgY29sb3JlZCBzZWxlY3Rpb24gb24gdGhlIGNoYXJ0OlxuICAgICAgY29uc3QgaWRfdG9fcmVtb3ZlID0gdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uXG4gICAgICAgIC5tYXAoKGZ0LCBpKSA9PiAoZnQuaWQgPT09IGlkID8gaSA6IG51bGwpKS5maWx0ZXIoZnQgPT4gZnQpO1xuICAgICAgdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uLnNwbGljZShpZF90b19yZW1vdmUsIDEpO1xuICAgICAgLy8gQ2hhbmdlIGl0cyBjb2xvciBpbiB0aGUgZ2xvYmFsIGNvbG9ycyBvYmplY3Q6XG4gICAgICBhcHAuY29sb3JzW2lkXSA9IHVuZGVmaW5lZDtcbiAgICAgIC8vIENoYW5nZSB0aGUgY29sb3Igb24gdGhlIG1hcDpcbiAgICAgIGQzLnNlbGVjdChwYXJlbnQpLmF0dHIoJ2ZpbGwnLCBjb2xvcl9jb3VudHJpZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGQucHJvcGVydGllc1t0aGlzLnJhdGlvX3RvX3VzZV07XG4gICAgICBjb25zdCBjb2xvciA9IGNvbXAodmFsdWUsIHRoaXMubXlfcmVnaW9uX3ZhbHVlLCB0aGlzLnNlcmllX2ludmVyc2VkKTtcbiAgICAgIGFwcC5jb2xvcnNbaWRdID0gY29sb3I7XG4gICAgICAvLyBDaGFuZ2UgdGhlIGNvbG9yIG9uIHRoZSBtYXA6XG4gICAgICBkMy5zZWxlY3QocGFyZW50KS5hdHRyKCdmaWxsJywgY29sb3IpO1xuICAgICAgLy8gQWRkIHRoZSBjbGlja2VkIGZlYXR1cmUgb24gdGhlIGNvbG9yZWQgc2VsZWN0aW9uIG9uIHRoZSBjaGFydDpcbiAgICAgIHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbi5wdXNoKHtcbiAgICAgICAgaWQsXG4gICAgICAgIHJhdGlvOiB2YWx1ZSxcbiAgICAgICAgZGlzdDogbWF0aF9hYnModmFsdWUgLSB0aGlzLm15X3JlZ2lvbl92YWx1ZSksXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIHVwZGF0ZUNoYW5nZVJlZ2lvbigpIHtcbiAgICBpZiAoYXBwLmN1cnJlbnRfY29uZmlnLmZpbHRlcl9rZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5jaGFuZ2VTdHVkeVpvbmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tYXBfZWxlbS5yZW1vdmVSZWN0QnJ1c2goKTtcbiAgICAgIHRoaXMubWFwX2VsZW0udXBkYXRlTGVnZW5kKCk7XG4gICAgICB0aGlzLm15X3JlZ2lvbl92YWx1ZSA9IHRoaXMuZGF0YS5maWx0ZXIoXG4gICAgICAgIGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbilbMF1bdGhpcy5yYXRpb190b191c2VdO1xuICAgICAgdGhpcy5hcHBseVNlbGVjdGlvbih0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24ubGVuZ3RoLCAnY2xvc2UnKTtcbiAgICB9XG4gIH1cblxuICBjaGFuZ2VTdHVkeVpvbmUoKSB7XG4gICAgdGhpcy5tYXBfZWxlbS5yZW1vdmVSZWN0QnJ1c2goKTtcbiAgICB0aGlzLm1hcF9lbGVtLnVwZGF0ZUxlZ2VuZCgpO1xuICAgIHRoaXMuZGF0YSA9IGFwcC5jdXJyZW50X2RhdGEuZmlsdGVyKGZ0ID0+ICEhZnRbdGhpcy5yYXRpb190b191c2VdKS5zbGljZSgpXG4gICAgICAuc29ydCgoYSwgYikgPT4gYlt0aGlzLnN0b2NrX3RvX3VzZV0gLSBhW3RoaXMuc3RvY2tfdG9fdXNlXSk7XG4gICAgdGhpcy5jdXJyZW50X2lkcyA9IHRoaXMuZGF0YS5tYXAoZCA9PiBkLmlkKTtcbiAgICB0aGlzLm15X3JlZ2lvbl92YWx1ZSA9IHRoaXMuZGF0YS5maWx0ZXIoXG4gICAgICBkID0+IGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pWzBdW3RoaXMucmF0aW9fdG9fdXNlXTtcbiAgICBjb25zdCB0ZW1wID0gdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uLmxlbmd0aDtcbiAgICB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24gPSBbXTtcbiAgICB0aGlzLmFwcGx5U2VsZWN0aW9uKHRlbXAsICdjbG9zZScpO1xuICB9XG5cbiAgY2hhbmdlVmFyaWFibGUoY29kZV92YXJpYWJsZSkge1xuICAgIHRoaXMucmF0aW9fdG9fdXNlID0gY29kZV92YXJpYWJsZTtcbiAgICB0aGlzLnN0b2NrX3RvX3VzZSA9IHZhcmlhYmxlcy5maWx0ZXIoZCA9PiBkLnJhdGlvID09PSBjb2RlX3ZhcmlhYmxlKVswXS5udW07XG4gIH1cblxuXG4gIGFkZFZhcmlhYmxlKGNvZGVfdmFyaWFibGUsIG5hbWVfdmFyaWFibGUpIHtcbiAgICAvLyBBZGQgdGhlIHZhcmlhYmxlIHRvIHRoZSBpbnB1dCBlbGVtZW50IGFsbG93aW5nIHRvIGNob29zZSB2YXJpYWJsZXM6XG4gICAgdGhpcy5zZWxlY192YXIuYXBwZW5kKCdvcHRpb24nKVxuICAgICAgLmF0dHIoJ3ZhbHVlJywgY29kZV92YXJpYWJsZSlcbiAgICAgIC50ZXh0KG5hbWVfdmFyaWFibGUpO1xuXG4gICAgLy8gQW5kIHVzZSBpdCBpbW1lZGlhdGx5OlxuICAgIHRoaXMuc2VsZWNfdmFyLm5vZGUoKS52YWx1ZSA9IGNvZGVfdmFyaWFibGU7XG4gICAgdGhpcy5zZWxlY192YXIuZGlzcGF0Y2goJ2NoYW5nZScpO1xuICB9XG5cbiAgcmVtb3ZlVmFyaWFibGUoY29kZV92YXJpYWJsZSkge1xuICAgIC8vIEFkZCB0aGUgdmFyaWFibGUgdG8gdGhlIGlucHV0IGVsZW1lbnQgYWxsb3dpbmcgdG8gY2hvb3NlIHZhcmlhYmxlczpcbiAgICB0aGlzLnNlbGVjX3Zhci5zZWxlY3QoYG9wdGlvblt2YWx1ZT0ke2NvZGVfdmFyaWFibGV9XWApLnJlbW92ZSgpO1xuICAgIGlmICh0aGlzLnJhdGlvX3RvX3VzZSA9PT0gY29kZV92YXJpYWJsZSkge1xuICAgICAgdGhpcy5zZWxlY192YXIubm9kZSgpLnZhbHVlID0gdGhpcy5zZWxlY192YXIuc2VsZWN0KCdvcHRpb24nKS5ub2RlKCkudmFsdWU7XG4gICAgICB0aGlzLnNlbGVjX3Zhci5kaXNwYXRjaCgnY2hhbmdlJyk7XG4gICAgfVxuICB9XG5cbiAgYmluZE1lbnUoKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgbWVudSA9IGQzLnNlbGVjdCgnI21lbnVfc2VsZWN0aW9uJyk7XG4gICAgY29uc3QgYXBwbHljaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBzZWxmLm1hcF9lbGVtLnJlbW92ZVJlY3RCcnVzaCgpO1xuICAgICAgY29uc3QgdHlwZSA9IHRoaXMucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcudHlwZV9zZWxlY3Rpb24nKS52YWx1ZTtcbiAgICAgIGxldCB2YWx1ZSA9ICt0aGlzLnZhbHVlO1xuICAgICAgaWYgKCEodmFsdWUgPiAtMSkpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IDU7XG4gICAgICAgIHZhbHVlID0gNTtcbiAgICAgIH1cbiAgICAgIHNlbGYuYXBwbHlTZWxlY3Rpb24odmFsdWUsIHR5cGUpO1xuICAgIH07XG4gICAgbWVudS5zZWxlY3QoJy5uYl9zZWxlY3QnKVxuICAgICAgLm9uKCdjaGFuZ2UnLCBhcHBseWNoYW5nZSk7XG4gICAgbWVudS5zZWxlY3QoJy5uYl9zZWxlY3QnKVxuICAgICAgLm9uKCd3aGVlbCcsIGFwcGx5Y2hhbmdlKTtcbiAgICBtZW51LnNlbGVjdCgnLm5iX3NlbGVjdCcpXG4gICAgICAub24oJ2tleXVwJywgYXBwbHljaGFuZ2UpO1xuICB9XG5cbiAgcmVtb3ZlKCkge1xuICAgIHRoaXMubWFwX2VsZW0udW5iaW5kQnJ1c2goKTtcbiAgICB0aGlzLm1hcF9lbGVtID0gbnVsbDtcbiAgICB0aGlzLnNlbGVjX3Zhci5yZW1vdmUoKTtcbiAgICBkMy5zZWxlY3QoJyNtZW51X3NlbGVjdGlvbicpLnJlbW92ZSgpO1xuICAgIHN2Z19iYXIuaHRtbCgnJyk7XG4gIH1cblxuICBiaW5kTWFwKG1hcF9lbGVtKSB7XG4gICAgdGhpcy5tYXBfZWxlbSA9IG1hcF9lbGVtO1xuICAgIGQzLnNlbGVjdCgnI21lbnVfc2VsZWN0aW9uJykuc2VsZWN0KCcubmJfc2VsZWN0JykuZGlzcGF0Y2goJ2NoYW5nZScpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBjb21wLCBtYXRoX3JvdW5kLCBtYXRoX2FicywgUmVjdCwgY29tcDIsIHByZXBhcmVUb29sdGlwLCBzdmdQYXRoVG9Db29yZHMsIF9nZXRQUiwgY29tcHV0ZVBlcmNlbnRpbGVSYW5rIH0gZnJvbSAnLi8uLi9oZWxwZXJzJztcbmltcG9ydCB7IGNvbG9yX2Rpc2FibGVkLCBjb2xvcl9jb3VudHJpZXMsIGNvbG9yX2hpZ2hsaWdodCB9IGZyb20gJy4vLi4vb3B0aW9ucyc7XG5pbXBvcnQgeyBzdmdfbWFwIH0gZnJvbSAnLi8uLi9tYXAnO1xuaW1wb3J0IHsgYXBwLCB2YXJpYWJsZXMgfSBmcm9tICcuLy4uLy4uL21haW4nO1xuXG5jb25zdCBzdmdfYmFyID0gZDMuc2VsZWN0KCcjc3ZnX2JhcicpO1xuY29uc3QgbWFyZ2luID0geyB0b3A6IDIwLCByaWdodDogMjAsIGJvdHRvbTogNDAsIGxlZnQ6IDQwIH07XG5cbmNvbnN0IHdpZHRoID0gK3N2Z19iYXIuYXR0cignd2lkdGgnKSAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0LFxuICBoZWlnaHQgPSArc3ZnX2Jhci5hdHRyKCdoZWlnaHQnKSAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tO1xuXG5leHBvcnQgY2xhc3MgU2NhdHRlclBsb3QyIHtcbiAgY29uc3RydWN0b3IocmVmX2RhdGEpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICB0aGlzLnZhcmlhYmxlMSA9IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpb1swXTtcbiAgICB0aGlzLnZhcmlhYmxlMiA9IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpb1sxXTtcbiAgICB0aGlzLnJhbmtfdmFyaWFibGUxID0gYHByXyR7dGhpcy52YXJpYWJsZTF9YDtcbiAgICB0aGlzLnJhbmtfdmFyaWFibGUyID0gYHByXyR7dGhpcy52YXJpYWJsZTJ9YDtcbiAgICB0aGlzLnByZXR0eV9uYW1lMSA9IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpb19wcmV0dHlfbmFtZVswXTtcbiAgICB0aGlzLnByZXR0eV9uYW1lMiA9IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpb19wcmV0dHlfbmFtZVsxXTtcbiAgICB0aGlzLmRhdGEgPSByZWZfZGF0YS5maWx0ZXIoZnQgPT4gISFmdFt0aGlzLnZhcmlhYmxlMV0gJiYgISFmdFt0aGlzLnZhcmlhYmxlMl0pXG4gICAgICAubWFwKChkKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcyA9IHsgaWQ6IGQuaWQgfTtcbiAgICAgICAgcmVzW3RoaXMudmFyaWFibGUxXSA9IGRbdGhpcy52YXJpYWJsZTFdO1xuICAgICAgICByZXNbdGhpcy52YXJpYWJsZTJdID0gZFt0aGlzLnZhcmlhYmxlMl07XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgICB9KTtcbiAgICB0aGlzLmN1cnJlbnRfaWRzID0gdGhpcy5kYXRhLm1hcChkID0+IGQuaWQpO1xuICAgIHRoaXMubmJGdCA9IHRoaXMuZGF0YS5sZW5ndGg7XG4gICAgY29tcHV0ZVBlcmNlbnRpbGVSYW5rKHRoaXMuZGF0YSwgdGhpcy52YXJpYWJsZTEsIHRoaXMucmFua192YXJpYWJsZTEpO1xuICAgIGNvbXB1dGVQZXJjZW50aWxlUmFuayh0aGlzLmRhdGEsIHRoaXMudmFyaWFibGUyLCB0aGlzLnJhbmtfdmFyaWFibGUyKTtcblxuICAgIHRoaXMueCA9IGQzLnNjYWxlTGluZWFyKClcbiAgICAgIC5yYW5nZShbMCwgd2lkdGhdKVxuICAgICAgLm5pY2UoKTtcbiAgICB0aGlzLnkgPSBkMy5zY2FsZUxpbmVhcigpXG4gICAgICAucmFuZ2UoW2hlaWdodCwgMF0pO1xuICAgIHRoaXMueEF4aXMgPSBkMy5heGlzQm90dG9tKHRoaXMueCkudGlja3MoMTIpO1xuICAgIHRoaXMueUF4aXMgPSBkMy5heGlzTGVmdCh0aGlzLnkpLnRpY2tzKDEyICogaGVpZ2h0IC8gd2lkdGgpO1xuICAgIHRoaXMueEF4aXMyID0gZDMuYXhpc0JvdHRvbSh0aGlzLngpLnRpY2tzKDEyKTtcbiAgICB0aGlzLnlBeGlzMiA9IGQzLmF4aXNMZWZ0KHRoaXMueSkudGlja3MoMTIgKiBoZWlnaHQgLyB3aWR0aCk7XG5cbiAgICB0aGlzLnhJbnZlcnNlZCA9IGZhbHNlO1xuICAgIHRoaXMueUludmVyc2VkID0gZmFsc2U7XG4gICAgdGhpcy5yZWZfdmFsdWUxID0gdGhpcy5kYXRhLmZpbHRlcihcbiAgICAgIGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbilbMF1bdGhpcy52YXJpYWJsZTFdO1xuICAgIHRoaXMucmVmX3ZhbHVlMiA9IHRoaXMuZGF0YS5maWx0ZXIoXG4gICAgICBkID0+IGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pWzBdW3RoaXMudmFyaWFibGUyXTtcblxuICAgIHRoaXMucGxvdCA9IHN2Z19iYXIuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7W21hcmdpbi5sZWZ0LCBtYXJnaW4udG9wXX0pYCk7XG5cbiAgICB0aGlzLnBsb3QuYXBwZW5kKCdkZWZzJylcbiAgICAgIC5hcHBlbmQoJ3N2ZzpjbGlwUGF0aCcpXG4gICAgICAuYXR0cignaWQnLCAnY2xpcCcpXG4gICAgICAuYXBwZW5kKCdzdmc6cmVjdCcpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0LFxuICAgICAgICB4OiAwLFxuICAgICAgICB5OiAwLFxuICAgICAgfSk7XG5cbiAgICB0aGlzLnNjYXR0ZXIgPSB0aGlzLnBsb3QuYXBwZW5kKCdnJylcbiAgICAgICAgIC5hdHRyKCdpZCcsICdzY2F0dGVycGxvdCcpXG4gICAgICAgICAuYXR0cignY2xpcC1wYXRoJywgJ3VybCgjY2xpcCknKTtcblxuICAgIHRoaXMueC5kb21haW4oZDMuZXh0ZW50KHRoaXMuZGF0YSwgZCA9PiBkW3RoaXMucmFua192YXJpYWJsZTFdKSkubmljZSgpO1xuICAgIHRoaXMueS5kb21haW4oZDMuZXh0ZW50KHRoaXMuZGF0YSwgZCA9PiBkW3RoaXMucmFua192YXJpYWJsZTJdKSkubmljZSgpO1xuICAgIHRoaXMubWVhbl92YXJpYWJsZTEgPSBfZ2V0UFIoXG4gICAgICBkMy5tZWFuKHRoaXMuZGF0YS5tYXAoZCA9PiBkW3RoaXMudmFyaWFibGUxXSkpLCB0aGlzLmRhdGEubWFwKGQgPT4gZFt0aGlzLnZhcmlhYmxlMV0pKTtcbiAgICB0aGlzLm1lYW5fdmFyaWFibGUyID0gX2dldFBSKFxuICAgICAgZDMubWVhbih0aGlzLmRhdGEubWFwKGQgPT4gZFt0aGlzLnZhcmlhYmxlMl0pKSwgdGhpcy5kYXRhLm1hcChkID0+IGRbdGhpcy52YXJpYWJsZTJdKSk7XG5cbiAgICB0aGlzLm1ha2VHcmlkKCk7XG5cbiAgICBjb25zdCBncm91cGVfbGluZV9tZWFuID0gdGhpcy5wbG90LmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignY2xpcC1wYXRoJywgJ3VybCgjY2xpcCknKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ21lYW4nKTtcbiAgICBncm91cGVfbGluZV9tZWFuLmFwcGVuZCgnbGluZScpXG4gICAgICAuYXR0cignY2xpcC1wYXRoJywgJ3VybCgjY2xpcCknKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgaWQ6ICdtZWFuX3gnLFxuICAgICAgICB4MTogdGhpcy54KHRoaXMubWVhbl92YXJpYWJsZTEpLFxuICAgICAgICB4MjogdGhpcy54KHRoaXMubWVhbl92YXJpYWJsZTEpLFxuICAgICAgICB5MTogMCxcbiAgICAgICAgeTI6IHdpZHRoLFxuICAgICAgICAnc3Ryb2tlLWRhc2hhcnJheSc6ICcxMCwgNScsXG4gICAgICAgICdzdHJva2Utd2lkdGgnOiAnMnB4JyxcbiAgICAgIH0pXG4gICAgICAuc3R5bGUoJ3N0cm9rZScsICdyZWQnKTtcbiAgICBncm91cGVfbGluZV9tZWFuLmFwcGVuZCgnbGluZScpXG4gICAgICAuc3R5bGUoJ3N0cm9rZScsICdyZWQnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgaWQ6ICdtZWFuX3knLFxuICAgICAgICB4MTogMCxcbiAgICAgICAgeDI6IHdpZHRoLFxuICAgICAgICB5MTogdGhpcy55KHRoaXMubWVhbl92YXJpYWJsZTIpLFxuICAgICAgICB5MjogdGhpcy55KHRoaXMubWVhbl92YXJpYWJsZTIpLFxuICAgICAgICAnY2xpcC1wYXRoJzogJ3VybCgjY2xpcCknLFxuICAgICAgICAnc3Ryb2tlLWRhc2hhcnJheSc6ICcxMCwgNScsXG4gICAgICAgICdzdHJva2Utd2lkdGgnOiAnMnB4JyxcbiAgICAgIH0pO1xuXG4gICAgdGhpcy5wbG90LmFwcGVuZCgnZycpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICBjbGFzczogJ3ggYXhpcycsIGlkOiAnYXhpcy0teCcsIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgwLCAke2hlaWdodH0pYCxcbiAgICAgIH0pXG4gICAgICAuY2FsbCh0aGlzLnhBeGlzKTtcblxuICAgIHRoaXMucGxvdC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHsgY2xhc3M6ICd5IGF4aXMnLCBpZDogJ2F4aXMtLXknIH0pXG4gICAgICAuY2FsbCh0aGlzLnlBeGlzKTtcblxuICAgIHN2Z19iYXIuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIGlkOiAndGl0bGUtYXhpcy14JyxcbiAgICAgICAgeDogbWFyZ2luLmxlZnQgKyB3aWR0aCAvIDIsXG4gICAgICAgIHk6IG1hcmdpbi50b3AgKyBoZWlnaHQgKyBtYXJnaW4uYm90dG9tIC8gMiArIDUsXG4gICAgICB9KVxuICAgICAgLnN0eWxlcyh7ICdmb250LWZhbWlseSc6ICdzYW5zLXNlcmlmJywgJ2ZvbnQtc2l6ZSc6ICcxMnB4JywgJ3RleHQtYW5jaG9yJzogJ21pZGRsZScgfSlcbiAgICAgIC50ZXh0KHRoaXMudmFyaWFibGUxKTtcblxuICAgIHN2Z19iYXIuYXBwZW5kKCdpbWFnZScpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICB4OiBtYXJnaW4ubGVmdCArIHdpZHRoIC8gMiAtIDIwIC0gc3ZnX2Jhci5zZWxlY3QoJyN0aXRsZS1heGlzLXgnKS5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggLyAyLFxuICAgICAgICB5OiBtYXJnaW4udG9wICsgaGVpZ2h0ICsgbWFyZ2luLmJvdHRvbSAvIDIgLSA3LjUsXG4gICAgICAgIHdpZHRoOiAxNSxcbiAgICAgICAgaGVpZ2h0OiAxNSxcbiAgICAgICAgJ3hsaW5rOmhyZWYnOiAnaW1nL3JldmVyc2VfYmx1ZS5wbmcnLFxuICAgICAgICBpZDogJ2ltZ19yZXZlcnNlX3gnLFxuICAgICAgfSlcbiAgICAgIC5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHRoaXMueEludmVyc2VkID0gIXRoaXMueEludmVyc2VkO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubmJGdDsgaSsrKSB7XG4gICAgICAgICAgc2VsZi5kYXRhW2ldW3NlbGYucmFua192YXJpYWJsZTFdID0gMTAwIC0gc2VsZi5kYXRhW2ldW3NlbGYucmFua192YXJpYWJsZTFdO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmxhc3RfbWFwX3NlbGVjdGlvbikge1xuICAgICAgICAgIHRoaXMubWFwX2VsZW0uY2FsbEJydXNoKHRoaXMubGFzdF9tYXBfc2VsZWN0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICBzdmdfYmFyLmFwcGVuZCgndGV4dCcpXG4gICAgICAuYXR0cignaWQnLCAndGl0bGUtYXhpcy15JylcbiAgICAgIC5hdHRyKCd4JywgbWFyZ2luLmxlZnQgLyAyKVxuICAgICAgLmF0dHIoJ3knLCBtYXJnaW4udG9wICsgKGhlaWdodCAvIDIpKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGByb3RhdGUoLTkwLCAke21hcmdpbi5sZWZ0IC8gMn0sICR7bWFyZ2luLnRvcCArIChoZWlnaHQgLyAyKX0pYClcbiAgICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnbWlkZGxlJylcbiAgICAgIC5zdHlsZXMoeyAnZm9udC1mYW1pbHknOiAnc2Fucy1zZXJpZicsICdmb250LXNpemUnOiAnMTJweCcgfSlcbiAgICAgIC50ZXh0KHRoaXMudmFyaWFibGUyKTtcblxuICAgIHN2Z19iYXIuYXBwZW5kKCdpbWFnZScpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICB4OiBtYXJnaW4ubGVmdCAvIDIgLSAxNSxcbiAgICAgICAgeTogbWFyZ2luLnRvcCArIChoZWlnaHQgLyAyKSArIHN2Z19iYXIuc2VsZWN0KCcjdGl0bGUtYXhpcy15Jykubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCAvIDIgKyA3LjUsXG4gICAgICAgIHdpZHRoOiAxNSxcbiAgICAgICAgaGVpZ2h0OiAxNSxcbiAgICAgICAgJ3hsaW5rOmhyZWYnOiAnaW1nL3JldmVyc2VfYmx1ZS5wbmcnLFxuICAgICAgICBpZDogJ2ltZ19yZXZlcnNlX3knLFxuICAgICAgfSlcbiAgICAgIC5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHRoaXMueUludmVyc2VkID0gIXRoaXMueUludmVyc2VkO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubmJGdDsgaSsrKSB7XG4gICAgICAgICAgdGhpcy5kYXRhW2ldW3RoaXMucmFua192YXJpYWJsZTJdID0gMTAwIC0gdGhpcy5kYXRhW2ldW3RoaXMucmFua192YXJpYWJsZTJdO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmxhc3RfbWFwX3NlbGVjdGlvbikge1xuICAgICAgICAgIHRoaXMubWFwX2VsZW0uY2FsbEJydXNoKHRoaXMubGFzdF9tYXBfc2VsZWN0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuXG4gICAgLy8gUHJlcGFyZSB0aGUgdG9vbHRpcCBkaXNwbGF5ZWQgb24gbW91c2VvdmVyOlxuICAgIHByZXBhcmVUb29sdGlwKHN2Z19iYXIpO1xuXG4gICAgLy8gQ3JlYXRlIHRoZSBcImNvbXBsZXR1ZGVcIiB0ZXh0OlxuICAgIHRoaXMuY29tcGxldHVkZSA9IHN2Z19iYXIuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRycyh7IGlkOiAnY2hhcnRfY29tcGxldHVkZScsIHg6IDYwLCB5OiA0MCB9KVxuICAgICAgLnN0eWxlcyh7ICdmb250LWZhbWlseSc6ICdcXCdTaWduaWthXFwnLCBzYW5zLXNlcmlmJyB9KVxuICAgICAgLnRleHQoYENvbXBsw6l0dWRlIDogJHthcHAuY29tcGxldHVkZX0lYCk7XG5cbiAgICAvLyBEZWFjdGl2YXRlIHRoZSByZWN0IGJydXNoIHNlbGVjdGlvbiBvbiB0aGUgbWFwXG4gICAgLy8gd2hpbGUgdGhlIHVzZXIgcHJlc3MgdGhlIEN0cmwga2V5OlxuICAgIGRvY3VtZW50Lm9ua2V5ZG93biA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50LmtleSA9PT0gJ0NvbnRyb2wnKSB7XG4gICAgICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJylcbiAgICAgICAgICAuc2VsZWN0QWxsKCcuc2VsZWN0aW9uLCAub3ZlcmxheScpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIC8vIFJlYWN0aXZhdGUgdGhlIHJlY3QgYnJ1c2ggc2VsZWN0aW9uIG9uIHRoZSBtYXBcbiAgICAvLyB3aGVuIHRoZSB1c2VyIGRvZXNuJ3QgcHJlc3MgdGhlIEN0cmwga2V5IGFueW1vcmVcbiAgICBkb2N1bWVudC5vbmtleXVwID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQgJiYgZXZlbnQua2V5ID09PSAnQ29udHJvbCcpIHtcbiAgICAgICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKVxuICAgICAgICAgIC5zZWxlY3RBbGwoJy5zZWxlY3Rpb24sIC5vdmVybGF5JylcbiAgICAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIG1ha2VHcmlkKCkge1xuICAgIHRoaXMucGxvdC5pbnNlcnQoJ2cnLCAnI3NjYXR0ZXJwbG90JylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIGNsYXNzOiAnZ3JpZCBncmlkLXgnLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoMCwgJHtoZWlnaHR9KWAsXG4gICAgICB9KVxuICAgICAgLmNhbGwodGhpcy54QXhpczJcbiAgICAgICAgLnRpY2tTaXplKC1oZWlnaHQpXG4gICAgICAgIC50aWNrRm9ybWF0KCcnKSk7XG4gICAgdGhpcy5wbG90Lmluc2VydCgnZycsICcjc2NhdHRlcnBsb3QnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2dyaWQgZ3JpZC15JylcbiAgICAgIC5jYWxsKHRoaXMueUF4aXMyXG4gICAgICAgIC50aWNrU2l6ZSgtd2lkdGgpXG4gICAgICAgIC50aWNrRm9ybWF0KCcnKSk7XG4gICAgdGhpcy5wbG90LnNlbGVjdEFsbCgnLmdyaWQnKVxuICAgICAgLnNlbGVjdEFsbCgnbGluZScpXG4gICAgICAuYXR0cignc3Ryb2tlJywgJ2xpZ2h0Z3JheScpO1xuICB9XG5cblxuICB1cGRhdGUoKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZGF0YSA9IHNlbGYuZGF0YTtcbiAgICBjb25zdCByYW5rX3ZhcmlhYmxlMSA9IHRoaXMucmFua192YXJpYWJsZTE7XG4gICAgY29uc3QgcmFua192YXJpYWJsZTIgPSB0aGlzLnJhbmtfdmFyaWFibGUyO1xuICAgIGNvbnN0IHggPSB0aGlzLng7XG4gICAgY29uc3QgeSA9IHRoaXMueTtcbiAgICBjb25zdCBkZWZhdWx0X2NvbG9yID0gJ2dyYXknO1xuICAgIGNvbnN0IGRvdHMgPSB0aGlzLnNjYXR0ZXIuc2VsZWN0QWxsKCcuZG90JylcbiAgICAgIC5kYXRhKGRhdGEsIGQgPT4gZC5pZCk7XG5cbiAgICBkb3RzLnRyYW5zaXRpb24oKVxuICAgICAgLmR1cmF0aW9uKDIyNSlcbiAgICAgIC5hdHRycyhkID0+ICh7XG4gICAgICAgIHI6IDUsXG4gICAgICAgIGN4OiB4KGRbcmFua192YXJpYWJsZTFdKSxcbiAgICAgICAgY3k6IHkoZFtyYW5rX3ZhcmlhYmxlMl0pLFxuICAgICAgICBvcGFjaXR5OiAwLjYsXG4gICAgICB9KSlcbiAgICAgIC5zdHlsZXMoZCA9PiAoe1xuICAgICAgICBmaWxsOiBhcHAuY29sb3JzW2QuaWRdIHx8IGRlZmF1bHRfY29sb3IsXG4gICAgICB9KSk7XG5cbiAgICBkb3RzLmVudGVyKClcbiAgICAgIC5pbnNlcnQoJ2NpcmNsZScpXG4gICAgICAuc3R5bGVzKGQgPT4gKHtcbiAgICAgICAgZmlsbDogYXBwLmNvbG9yc1tkLmlkXSB8fCBkZWZhdWx0X2NvbG9yLFxuICAgICAgfSkpXG4gICAgICAudHJhbnNpdGlvbigpXG4gICAgICAuZHVyYXRpb24oMjI1KVxuICAgICAgLmF0dHJzKGQgPT4gKHtcbiAgICAgICAgcjogNSxcbiAgICAgICAgY3g6IHgoZFtyYW5rX3ZhcmlhYmxlMV0pLFxuICAgICAgICBjeTogeShkW3JhbmtfdmFyaWFibGUyXSksXG4gICAgICAgIG9wYWNpdHk6IDAuNixcbiAgICAgICAgY2xhc3M6ICdkb3QnLFxuICAgICAgfSkpO1xuXG4gICAgZG90cy5leGl0KCkudHJhbnNpdGlvbigpLmR1cmF0aW9uKDIyNSkucmVtb3ZlKCk7XG5cbiAgICB0aGlzLnNjYXR0ZXIuc2VsZWN0QWxsKCcuZG90JylcbiAgICAgIC5vbignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgICAgICBzdmdfYmFyLnNlbGVjdCgnLnRvb2x0aXAnKS5zdHlsZSgnZGlzcGxheScsIG51bGwpO1xuICAgICAgfSlcbiAgICAgIC5vbignbW91c2VvdXQnLCAoKSA9PiB7XG4gICAgICAgIHN2Z19iYXIuc2VsZWN0KCcudG9vbHRpcCcpLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgIGNvbnN0IHRvb2x0aXAgPSBzdmdfYmFyLnNlbGVjdCgnLnRvb2x0aXAnKTtcbiAgICAgICAgY29uc3QgX3ZhcjEgPSBzZWxmLnZhcmlhYmxlMTtcbiAgICAgICAgY29uc3QgX3ZhcjIgPSBzZWxmLnZhcmlhYmxlMjtcbiAgICAgICAgdG9vbHRpcFxuICAgICAgICAgIC5zZWxlY3QoJ3RleHQuaWRfZmVhdHVyZScpXG4gICAgICAgICAgLnRleHQoYCR7ZC5pZH1gKTtcbiAgICAgICAgdG9vbHRpcC5zZWxlY3QoJ3RleHQudmFsdWVfZmVhdHVyZTEnKVxuICAgICAgICAgIC50ZXh0KGBWYXJpYWJsZSAxIDogJHtNYXRoLnJvdW5kKGRbX3ZhcjFdICogMTApIC8gMTB9YCk7XG4gICAgICAgIHRvb2x0aXAuc2VsZWN0KCd0ZXh0LnZhbHVlX2ZlYXR1cmUyJylcbiAgICAgICAgICAudGV4dChgVmFyaWFibGUgMiA6ICR7TWF0aC5yb3VuZChkW192YXIyXSAqIDEwKSAvIDEwfWApO1xuICAgICAgICB0b29sdGlwXG4gICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHtbZDMubW91c2UodGhpcylbMF0gLSA1LCBkMy5tb3VzZSh0aGlzKVsxXSAtIDQ1XX0pYCk7XG4gICAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZUNvbXBsZXR1ZGUoKSB7XG4gICAgdGhpcy5jb21wbGV0dWRlXG4gICAgICAudGV4dChgQ29tcGzDqXR1ZGUgOiAke2FwcC5jb21wbGV0dWRlfSVgKTtcbiAgfVxuXG4gIHVwZGF0ZU1hcFJlZ2lvKCkge1xuICAgIGlmICghdGhpcy5tYXBfZWxlbSkgcmV0dXJuO1xuICAgIHRoaXMubWFwX2VsZW0udGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuYXR0cignZmlsbCcsIGQgPT4gKHRoaXMuY3VycmVudF9pZHMuaW5kZXhPZihkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dKSA+IC0xXG4gICAgICAgID8gKGFwcC5jb2xvcnNbZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXV0gfHwgY29sb3JfY291bnRyaWVzKVxuICAgICAgICA6IGNvbG9yX2Rpc2FibGVkKSk7XG4gIH1cblxuICBoYW5kbGVfYnJ1c2hfbWFwKGV2ZW50KSB7XG4gICAgaWYgKCFldmVudCB8fCAhZXZlbnQuc2VsZWN0aW9uKSB7XG4gICAgICB0aGlzLmxhc3RfbWFwX3NlbGVjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgW3RvcGxlZnQsIGJvdHRvbXJpZ2h0XSA9IGV2ZW50LnNlbGVjdGlvbjtcbiAgICB0aGlzLmxhc3RfbWFwX3NlbGVjdGlvbiA9IFt0b3BsZWZ0LCBib3R0b21yaWdodF07XG4gICAgY29uc3QgcmVjdCA9IG5ldyBSZWN0KHRvcGxlZnQsIGJvdHRvbXJpZ2h0KTtcbiAgICBhcHAuY29sb3JzID0ge307XG4gICAgc2VsZi5tYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5hdHRyKCdmaWxsJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgY29uc3QgaWQgPSBkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dO1xuICAgICAgICBpZiAoaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pIHtcbiAgICAgICAgICBhcHAuY29sb3JzW2lkXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICAgICAgICByZXR1cm4gY29sb3JfaGlnaGxpZ2h0O1xuICAgICAgICB9IGVsc2UgaWYgKHNlbGYuY3VycmVudF9pZHMuaW5kZXhPZihpZCkgPCAwKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbG9yX2Rpc2FibGVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fcHRzKSB7XG4gICAgICAgICAgdGhpcy5fcHRzID0gc3ZnUGF0aFRvQ29vcmRzKHRoaXMuZ2V0QXR0cmlidXRlKCdkJyksIGFwcC50eXBlX3BhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHB0cyA9IHRoaXMuX3B0cztcbiAgICAgICAgZm9yIChsZXQgaXggPSAwLCBuYl9wdHMgPSBwdHMubGVuZ3RoOyBpeCA8IG5iX3B0czsgaXgrKykge1xuICAgICAgICAgIGlmIChyZWN0LmNvbnRhaW5zKHB0c1tpeF0pKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZTEgPSBkLnByb3BlcnRpZXNbc2VsZi52YXJpYWJsZTFdO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUyID0gZC5wcm9wZXJ0aWVzW3NlbGYudmFyaWFibGUyXTtcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gY29tcDIoXG4gICAgICAgICAgICAgIHZhbHVlMSwgdmFsdWUyLFxuICAgICAgICAgICAgICBzZWxmLnJlZl92YWx1ZTEsIHNlbGYucmVmX3ZhbHVlMixcbiAgICAgICAgICAgICAgc2VsZi54SW52ZXJzZWQsIHNlbGYueUludmVyc2VkKTtcbiAgICAgICAgICAgIGFwcC5jb2xvcnNbaWRdID0gY29sb3I7XG4gICAgICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2xvcl9jb3VudHJpZXM7XG4gICAgICB9KTtcbiAgICBzZWxmLnVwZGF0ZSgpO1xuICB9XG5cbiAgaGFuZGxlQ2xpY2tNYXAoZCwgcGFyZW50KSB7XG4gICAgY29uc3QgaWQgPSBkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dO1xuICAgIGlmICh0aGlzLmN1cnJlbnRfaWRzLmluZGV4T2YoaWQpIDwgMCB8fCBpZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbikgcmV0dXJuO1xuICAgIGlmIChhcHAuY29sb3JzW2lkXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBSZW1vdmUgdGhlIGNsaWNrZWQgZmVhdHVyZSBmcm9tIHRoZSBjb2xvcmVkIHNlbGVjdGlvbiBvbiB0aGUgY2hhcnQ6XG5cblxuICAgICAgLy8gQ2hhbmdlIGl0cyBjb2xvciBpbiB0aGUgZ2xvYmFsIGNvbG9ycyBvYmplY3Q6XG4gICAgICBhcHAuY29sb3JzW2lkXSA9IHVuZGVmaW5lZDtcbiAgICAgIC8vIENoYW5nZSB0aGUgY29sb3Igb24gdGhlIG1hcDpcbiAgICAgIGQzLnNlbGVjdChwYXJlbnQpLmF0dHIoJ2ZpbGwnLCBjb2xvcl9jb3VudHJpZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGQucHJvcGVydGllc1t0aGlzLnJhdGlvX3RvX3VzZV07XG4gICAgICBjb25zdCBjb2xvciA9IGNvbXAodmFsdWUsIHRoaXMubXlfcmVnaW9uX3ZhbHVlLCB0aGlzLnNlcmllX2ludmVyc2VkKTtcbiAgICAgIGFwcC5jb2xvcnNbaWRdID0gY29sb3I7XG4gICAgICAvLyBDaGFuZ2UgdGhlIGNvbG9yIG9uIHRoZSBtYXA6XG4gICAgICBkMy5zZWxlY3QocGFyZW50KS5hdHRyKCdmaWxsJywgY29sb3IpO1xuICAgICAgLy8gQWRkIHRoZSBjbGlja2VkIGZlYXR1cmUgb24gdGhlIGNvbG9yZWQgc2VsZWN0aW9uIG9uIHRoZSBjaGFydDpcbiAgICB9XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIHVwZGF0ZU1lYW5WYWx1ZSgpIHtcbiAgICB0aGlzLm1lYW5fdmFyaWFibGUxID0gX2dldFBSKFxuICAgICAgZDMubWVhbih0aGlzLmRhdGEubWFwKGQgPT4gZFt0aGlzLnZhcmlhYmxlMV0pKSwgdGhpcy5kYXRhLm1hcChkID0+IGRbdGhpcy52YXJpYWJsZTFdKSk7XG4gICAgdGhpcy5tZWFuX3ZhcmlhYmxlMiA9IF9nZXRQUihcbiAgICAgIGQzLm1lYW4odGhpcy5kYXRhLm1hcChkID0+IGRbdGhpcy52YXJpYWJsZTJdKSksIHRoaXMuZGF0YS5tYXAoZCA9PiBkW3RoaXMudmFyaWFibGUyXSkpO1xuICAgIGNvbnN0IGdycF9tZWFuID0gdGhpcy5wbG90LnNlbGVjdCgnZy5tZWFuJyk7XG4gICAgZ3JwX21lYW4uc2VsZWN0KCcjbWVhbl94JylcbiAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgIC5kdXJhdGlvbigyMjUpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICB4MTogdGhpcy54KHRoaXMubWVhbl92YXJpYWJsZTEpLFxuICAgICAgICB4MjogdGhpcy54KHRoaXMubWVhbl92YXJpYWJsZTEpLFxuICAgICAgfSk7XG4gICAgZ3JwX21lYW4uc2VsZWN0KCcjbWVhbl95JylcbiAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgIC5kdXJhdGlvbigyMjUpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICB5MTogdGhpcy55KHRoaXMubWVhbl92YXJpYWJsZTIpLFxuICAgICAgICB5MjogdGhpcy55KHRoaXMubWVhbl92YXJpYWJsZTIpLFxuICAgICAgfSk7XG4gIH1cblxuICB1cGRhdGVDaGFuZ2VSZWdpb24oKSB7XG4gICAgaWYgKGFwcC5jdXJyZW50X2NvbmZpZy5maWx0ZXJfa2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuY2hhbmdlU3R1ZHlab25lKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVmX3ZhbHVlMSA9IHRoaXMuZGF0YS5maWx0ZXIoXG4gICAgICAgIGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbilbMF1bdGhpcy52YXJpYWJsZTFdO1xuICAgICAgdGhpcy5yZWZfdmFsdWUyID0gdGhpcy5kYXRhLmZpbHRlcihcbiAgICAgICAgZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVswXVt0aGlzLnZhcmlhYmxlMl07XG4gICAgICB0aGlzLm1hcF9lbGVtLnJlbW92ZVJlY3RCcnVzaCgpO1xuICAgICAgdGhpcy5tYXBfZWxlbS51cGRhdGVMZWdlbmQoKTtcbiAgICAgIHRoaXMubWFwX2VsZW0ucmVzZXRDb2xvcnMoKTtcbiAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuICB9XG5cbiAgY2hhbmdlU3R1ZHlab25lKCkge1xuICAgIHRoaXMuZGF0YSA9IGFwcC5jdXJyZW50X2RhdGEuZmlsdGVyKGZ0ID0+ICEhZnRbdGhpcy52YXJpYWJsZTFdICYmICEhZnRbdGhpcy52YXJpYWJsZTJdKVxuICAgICAgLm1hcCgoZCkgPT4ge1xuICAgICAgICBjb25zdCByZXMgPSB7IGlkOiBkLmlkIH07XG4gICAgICAgIHJlc1t0aGlzLnZhcmlhYmxlMV0gPSBkW3RoaXMudmFyaWFibGUxXTtcbiAgICAgICAgcmVzW3RoaXMudmFyaWFibGUyXSA9IGRbdGhpcy52YXJpYWJsZTJdO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfSk7XG4gICAgdGhpcy5jdXJyZW50X2lkcyA9IHRoaXMuZGF0YS5tYXAoZCA9PiBkLmlkKTtcbiAgICB0aGlzLm5iRnQgPSB0aGlzLmRhdGEubGVuZ3RoO1xuICAgIGNvbXB1dGVQZXJjZW50aWxlUmFuayh0aGlzLmRhdGEsIHRoaXMudmFyaWFibGUxLCB0aGlzLnJhbmtfdmFyaWFibGUxKTtcbiAgICBjb21wdXRlUGVyY2VudGlsZVJhbmsodGhpcy5kYXRhLCB0aGlzLnZhcmlhYmxlMiwgdGhpcy5yYW5rX3ZhcmlhYmxlMik7XG5cbiAgICB0aGlzLnhJbnZlcnNlZCA9IGZhbHNlO1xuICAgIHRoaXMueUludmVyc2VkID0gZmFsc2U7XG4gICAgLy8gdGhpcy5yZWZfdmFsdWUxID0gdGhpcy5kYXRhLmZpbHRlcihkID0+IGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pWzBdW3RoaXMudmFyaWFibGUxXTtcbiAgICAvLyB0aGlzLnJlZl92YWx1ZTIgPSB0aGlzLmRhdGEuZmlsdGVyKGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbilbMF1bdGhpcy52YXJpYWJsZTJdO1xuXG4gICAgdGhpcy54LmRvbWFpbihkMy5leHRlbnQodGhpcy5kYXRhLCBkID0+IGRbdGhpcy5yYW5rX3ZhcmlhYmxlMV0pKS5uaWNlKCk7XG4gICAgdGhpcy55LmRvbWFpbihkMy5leHRlbnQodGhpcy5kYXRhLCBkID0+IGRbdGhpcy5yYW5rX3ZhcmlhYmxlMl0pKS5uaWNlKCk7XG4gICAgdGhpcy51cGRhdGVNZWFuVmFsdWUoKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIGNoYW5nZVZhcmlhYmxlKGNvZGVfdmFyaWFibGUpIHtcbiAgICB0aGlzLnJhdGlvX3RvX3VzZSA9IGNvZGVfdmFyaWFibGU7XG4gICAgdGhpcy5zdG9ja190b191c2UgPSB2YXJpYWJsZXMuZmlsdGVyKGQgPT4gZC5yYXRpbyA9PT0gY29kZV92YXJpYWJsZSlbMF0ubnVtO1xuICB9XG5cbiAgYWRkVmFyaWFibGUoY29kZV92YXJpYWJsZSwgbmFtZV92YXJpYWJsZSkge1xuICAgIC8vIFRPRE86IEFkZCB0aGUgbmV3IHZhcmlhYmxlIHRvIHRoZSB4IGFuZCB5IG1lbnVzXG4gIH1cblxuICByZW1vdmVWYXJpYWJsZShjb2RlX3ZhcmlhYmxlKSB7XG4gICAgLy8gVE9ETzogUmVtb3ZlIHRoZSB2YXJpYWJsZSBmcm9tIHRoZSB4IGFuZCB5IG1lbnVzXG4gIH1cblxuICByZW1vdmUoKSB7XG4gICAgdGhpcy5tYXBfZWxlbS51bmJpbmRCcnVzaCgpO1xuICAgIHRoaXMubWFwX2VsZW0gPSBudWxsO1xuICAgIHN2Z19iYXIuaHRtbCgnJyk7XG4gIH1cblxuICBiaW5kTWFwKG1hcF9lbGVtKSB7XG4gICAgdGhpcy5tYXBfZWxlbSA9IG1hcF9lbGVtO1xuICB9XG59XG4iLCJpbXBvcnQgZGVidWcgZnJvbSAnZGVidWcnO1xuaW1wb3J0IHsgY3JlYXRlTWVudSB9IGZyb20gJy4vbW9kdWxlcy9tZW51bGVmdCc7XG5pbXBvcnQgeyBtYWtlVG9wTWVudSwgbWFrZUhlYWRlckNoYXJ0LCBtYWtlSGVhZGVyTWFwU2VjdGlvbiB9IGZyb20gJy4vbW9kdWxlcy9tZW51dG9wJztcbmltcG9ydCB7IG1ha2VUYWJsZSB9IGZyb20gJy4vbW9kdWxlcy90YWJsZSc7XG5pbXBvcnQgeyBwcmVwYXJlX2RhdGFzZXQsIGZpbHRlckxldmVsVmFyLCBhcHBseUZpbHRlciwgY2hhbmdlUmVnaW9uLCBhZGRWYXJpYWJsZSwgcmVtb3ZlVmFyaWFibGUgfSBmcm9tICcuL21vZHVsZXMvcHJlcGFyZV9kYXRhJztcbmltcG9ydCB7IE1hcFNlbGVjdCwgbWFrZVNvdXJjZVNlY3Rpb24sIG1ha2VNYXBMZWdlbmQsIHN2Z19tYXAgfSBmcm9tICcuL21vZHVsZXMvbWFwJztcbmltcG9ydCB7IGNvbG9yX2NvdW50cmllcywgY29sb3JfaGlnaGxpZ2h0IH0gZnJvbSAnLi9tb2R1bGVzL29wdGlvbnMnO1xuaW1wb3J0IHsgQmFyQ2hhcnQxIH0gZnJvbSAnLi9tb2R1bGVzL2NoYXJ0cy9iYXJDaGFydF8xdic7XG5pbXBvcnQgeyBCdWJibGVDaGFydDEgfSBmcm9tICcuL21vZHVsZXMvY2hhcnRzL2J1YmJsZUNoYXJ0XzF2JztcbmltcG9ydCB7IFNjYXR0ZXJQbG90MiB9IGZyb20gJy4vbW9kdWxlcy9jaGFydHMvc2NhdHRlclBsb3RfMnYnO1xuaW1wb3J0IHsgdW5iaW5kVUkgfSBmcm9tICcuL21vZHVsZXMvaGVscGVycyc7XG5cbmRlYnVnKCdhcHA6bG9nJyk7XG5cbmV4cG9ydCBjb25zdCB2YXJpYWJsZXMgPSBbXG4gIHsgcmF0aW86ICdQQ19DSE9NXzE1MjRfMjAxNScsIG51bTogJ0NIT01fMTUyNF8yMDE1JywgZGVudW06ICdBQ1RfMTUyNF8yMDE1JywgbmFtZTogJ1RhdXggZGUgY2hvbWFnZSBkZXMgamV1bmVzICgyMDE1KScsIGdyb3VwOiAnUGF1dnJldMOpIC8gRXhjbHVzaW9uIHNvY2lhbGUnIH0sXG4gIHsgcmF0aW86ICdQQ19DSE9NXzE1NzRfMjAxNScsIG51bTogJ0NIT01fMTU3NF8yMDE1JywgZGVudW06ICdBQ1RfMTU3NF8yMDE1JywgbmFtZTogJ1RhdXggZGUgY2hvbWFnZSAoMjAxNSknLCBncm91cDogJ1BhdXZyZXTDqSAvIEV4Y2x1c2lvbiBzb2NpYWxlJyB9LFxuICB7IHJhdGlvOiAnUENfQ0hPTV9MT05HXzIwMTYnLCBudW06ICdDSE9NX0xPTkdfMjAxNicsIGRlbnVtOiAnQUNUX0xPTkdfMjAxNicsIG5hbWU6ICdUYXV4IGRlIGNow7RtYWdlIGRlIGxvbmd1ZSBkdXLDqWUgKDIwMTYpJywgZ3JvdXA6ICdQYXV2cmV0w6kgLyBFeGNsdXNpb24gc29jaWFsZScgfSxcbiAgeyByYXRpbzogJ1BDX1JFVl8yMDE0JywgbnVtOiAnUkVWXzIwMTQnLCBkZW51bTogJ01FTl8yMDE0JywgbmFtZTogJ1JldmVudSBkZXMgbcOpbmFnZXMgKDIwMTQpJywgZ3JvdXA6ICdQYXV2cmV0w6kgLyBFeGNsdXNpb24gc29jaWFsZScgfSxcbiAgeyByYXRpbzogJ1BDX0JSRVZfSEFCXzIwMTEnLCBudW06ICdCUkVWXzIwMTEnLCBkZW51bTogJ1BPUF9CUkVWXzIwMTEnLCBuYW1lOiAnUHJvZHVjdGlvbnMgaW5ub3ZhbnRlcyAoMjAxMSknLCBncm91cDogJ0FjdGl2aXTDqSAvIElubm92YXRpb24nIH0sXG4gIHsgcmF0aW86ICdQQ19SRF9FTVBfMjAxMycsIG51bTogJ1JEX0VNUF8yMDEzJywgZGVudW06ICdQT1BfUkRfRU1QXzIwMTMnLCBuYW1lOiAnUGFydCBkZSBsXFwnZW1wbG9pIGVuIFImRCAoMjAxMyknLCBncm91cDogJ0FjdGl2aXTDqSAvIElubm92YXRpb24nIH0sXG4gIHsgcmF0aW86ICdQQ19QSUJfSEFCXzIwMTQnLCBudW06ICdQQ19QSUJfSEFCXzIwMTQnLCBkZW51bTogJ1BPUF9QSUJfMjAxNCcsIG5hbWU6ICdQSUIgcGFyIGhhYml0YW50IChldXJvcykoMjAxNCknLCBncm91cDogJ0FjdGl2aXTDqSAvIElubm92YXRpb24nIH0sXG4gIHsgcmF0aW86ICdQQ19BUlRJRl9BUkVBXzIwMTUnLCBudW06ICdBUlRJRl9BUkVBXzIwMTUnLCBkZW51bTogJ0xDX0FSRUFfMjAxNScsIG5hbWU6ICdQYXJ0IGRlcyBzdXJmYWNlcyBhcnRpZmljaWFsaXPDqWVzICgyMDE1KScsIGdyb3VwOiAnRW52aXJvbm5lbWVudCAvIFRyYW5zaXRpb24gw6ljb2xvZ2lxdWUnIH0sXG5dO1xuXG5cbmNvbnN0IHN0dWR5X3pvbmVzID0gW1xuICB7IGlkOiAnbm9fZmlsdGVyJywgbmFtZTogJ1VFMjgnIH0sXG4gIHsgaWQ6ICdmaWx0ZXJfRlInLCBuYW1lOiAnRmlsdHJlIG5hdGlvbmFsIChGcmFuY2UpJyB9LFxuICB7IGlkOiAnZmlsdGVyX3BhcmFtMicsIG5hbWU6ICdFc3BhY2UgZGUgY29tcGFyYWlzb24gbsKwMicgfSxcbl07XG5cbmNvbnN0IHRlcnJpdG9yaWFsX21lc2ggPSBbXG4gIHsgaWQ6ICdOVVRTMScsIG5hbWU6ICdOVVRTMScgfSxcbiAgeyBpZDogJ05VVFMxMnN0YXQnLCBuYW1lOiAnTlVUUzEvMiAoc3RhdGlzdGlxdWUpJyB9LFxuXTtcblxuZXhwb3J0IGNvbnN0IGFwcCA9IHtcbiAgY29sb3JzOiB7fSxcbiAgY3VycmVudF9kYXRhOiBbXSxcbiAgZnVsbF9kYXRhc2V0OiBbXSxcbiAgY3VycmVudF9pZHM6IFtdLFxufTtcblxuZnVuY3Rpb24gc2V0RGVmYXVsdENvbmZpZyhjb2RlID0gJ0ZSRScsIHZhcmlhYmxlID0gJ1BDX0NIT01fMTUyNF8yMDE1JykgeyAvLyB9LCBsZXZlbCA9ICdOVVRTMScpIHtcbiAgYXBwLmN1cnJlbnRfY29uZmlnID0ge1xuICAgIGlkX2ZpZWxkOiAnZ2VvJyxcbiAgICBuYW1lX2ZpZWxkOiAnTm9tJyxcbiAgICBpZF9maWVsZF9nZW9tOiAnTlVUUzFfMjAxNicsXG4gICAgbnVtOiBbJ0NIT01fMTUyNF8yMDE1J10sXG4gICAgZGVudW06IFsnQUNUXzE1MjRfMjAxNSddLFxuICAgIHJhdGlvOiBbdmFyaWFibGVdLFxuICAgIHJhdGlvX3ByZXR0eV9uYW1lOiBbJ1RhdXggZGUgY2jDtG1hZ2UgZGVzIGpldW5lcyAoMjAxNSknXSxcbiAgICBjdXJyZW50X2xldmVsOiAxLFxuICAgIG15X3JlZ2lvbjogY29kZSxcbiAgICBteV9yZWdpb25fcHJldHR5X25hbWU6IGFwcC5mZWF0dXJlX25hbWVzW2NvZGVdLFxuICB9O1xuICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xufVxuXG5mdW5jdGlvbiBzZXREZWZhdWx0Q29uZmlnTWVudShjb2RlID0gJ0ZSRScsIHZhcmlhYmxlID0gJ1BDX0NIT01fMTUyNF8yMDE1JywgbGV2ZWwgPSAnTlVUUzEnKSB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC50YXJnZXRfcmVnaW9uLnNxdWFyZVt2YWx1ZT1cIiR7Y29kZX1cIl1gKS5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC50YXJnZXRfdmFyaWFibGUuc21hbGxfc3F1YXJlW3ZhbHVlPVwiJHt2YXJpYWJsZX1cIl1gKS5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5maWx0ZXJfdi5zcXVhcmVbZmlsdGVyLXZhbHVlPVwibm9fZmlsdGVyXCJdJykuY2xhc3NMaXN0LmFkZCgnY2hlY2tlZCcpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAudGVycml0X2xldmVsLnNxdWFyZVt2YWx1ZT1cIiR7bGV2ZWx9XCJdYCkuY2xhc3NMaXN0LmFkZCgnY2hlY2tlZCcpO1xufVxuXG5cbmZ1bmN0aW9uIHJlc2V0Q29sb3JzKCkge1xuICBjb25zdCBpZHMgPSBhcHAuY3VycmVudF9pZHM7XG4gIGNvbnN0IG15X3JlZ2lvbiA9IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb247XG4gIGFwcC5jb2xvcnMgPSB7fTtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gaWRzLmxlbmd0aDsgaSA8IGxlbl9pOyBpKyspIHtcbiAgICBhcHAuY29sb3JzW2lkc1tpXV0gPSBpZHNbaV0gPT09IG15X3JlZ2lvbiA/IGNvbG9yX2hpZ2hsaWdodCA6IGNvbG9yX2NvdW50cmllcztcbiAgfVxufVxuXG4vKipcbiogQ3JlYXRlIGhhbmRsZXJzIGZvciB1c2VyIGV2ZW50IG9uIHRoZSBsZWZ0IG1lbnUgYW5kIG9uIHRoZSBtYXAgZm9yIGNoYXJ0cyBvbmx5XG4qIGFsbG93aW5nIHRvIHVzZSAxIHZhcmlhYmxlLlxuKlxuKiBAcGFyYW0ge09iamVjdH0gY2hhcnQgLSBUaGUgY2hhcnQgb2JqZWN0LlxuKiBAcGFyYW0ge09iamVjdH0gbWFwX2VsZW0gLSBUaGUgbWFwIG9iamVjdC5cbiogQHJldHVybiB7dm9pZH1cbipcbiovXG5mdW5jdGlvbiBiaW5kVUlfY2hhcnRfMXYoY2hhcnQsIG1hcF9lbGVtKSB7XG4gIGQzLnNlbGVjdEFsbCgnc3Bhbi5maWx0ZXJfdicpXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2NoZWNrZWQnKSkge1xuICAgICAgICBkMy5zZWxlY3RBbGwoJ3NwYW4uZmlsdGVyX3YnKS5hdHRyKCdjbGFzcycsICdmaWx0ZXJfdiBzcXVhcmUnKTtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XG4gICAgICAgIGNvbnN0IGZpbHRlcl90eXBlID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2ZpbHRlci12YWx1ZScpO1xuICAgICAgICBhcHBseUZpbHRlcihhcHAsIGZpbHRlcl90eXBlKTtcbiAgICAgICAgbWFrZVRhYmxlKGFwcC5jdXJyZW50X2RhdGEsIGFwcC5jdXJyZW50X2NvbmZpZyk7XG4gICAgICAgIGNoYXJ0LmNoYW5nZVN0dWR5Wm9uZSgpO1xuICAgICAgICBjaGFydC51cGRhdGVDb21wbGV0dWRlKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgZDMuc2VsZWN0QWxsKCdzcGFuLnRhcmdldF9yZWdpb24nKVxuICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdjaGVja2VkJykpIHtcbiAgICAgICAgZDMuc2VsZWN0QWxsKCdzcGFuLnRhcmdldF9yZWdpb24nKS5hdHRyKCdjbGFzcycsICd0YXJnZXRfcmVnaW9uIHNxdWFyZScpO1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2NoZWNrZWQnKTtcbiAgICAgICAgY29uc3QgaWRfcmVnaW9uID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG4gICAgICAgIGNoYW5nZVJlZ2lvbihhcHAsIGlkX3JlZ2lvbik7XG4gICAgICAgIGNoYXJ0LnVwZGF0ZUNoYW5nZVJlZ2lvbigpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIGQzLnNlbGVjdEFsbCgnc3Bhbi50YXJnZXRfdmFyaWFibGUnKVxuICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdjaGVja2VkJykpIHtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XG4gICAgICAgIGNvbnN0IGNvZGVfdmFyaWFibGUgPSB0aGlzLmdldEF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgICAgICAgY29uc3QgbmFtZV92YXJpYWJsZSA9IHZhcmlhYmxlcy5maWx0ZXIoZCA9PiBkLnJhdGlvID09PSBjb2RlX3ZhcmlhYmxlKVswXS5uYW1lO1xuICAgICAgICBhZGRWYXJpYWJsZShhcHAsIGNvZGVfdmFyaWFibGUpO1xuICAgICAgICBtYWtlVGFibGUoYXBwLmN1cnJlbnRfZGF0YSwgYXBwLmN1cnJlbnRfY29uZmlnKTtcbiAgICAgICAgY2hhcnQuYWRkVmFyaWFibGUoY29kZV92YXJpYWJsZSwgbmFtZV92YXJpYWJsZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBsYXN0X29uZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKFxuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4udGFyZ2V0X3ZhcmlhYmxlJykpLmZpbHRlcihcbiAgICAgICAgICAgIGVsZW0gPT4gISFlbGVtLmNsYXNzTGlzdC5jb250YWlucygnY2hlY2tlZCcpKS5sZW5ndGggPT09IDE7XG4gICAgICAgIGlmIChsYXN0X29uZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoJ2NoZWNrZWQnKTtcbiAgICAgICAgY29uc3QgY29kZV92YXJpYWJsZSA9IHRoaXMuZ2V0QXR0cmlidXRlKCd2YWx1ZScpO1xuICAgICAgICByZW1vdmVWYXJpYWJsZShhcHAsIGNvZGVfdmFyaWFibGUpO1xuICAgICAgICBtYWtlVGFibGUoYXBwLmN1cnJlbnRfZGF0YSwgYXBwLmN1cnJlbnRfY29uZmlnKTtcbiAgICAgICAgY2hhcnQucmVtb3ZlVmFyaWFibGUoY29kZV92YXJpYWJsZSk7XG4gICAgICB9XG4gICAgICBjb25zdCBuYl92YXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc3Bhbi50YXJnZXRfdmFyaWFibGUnKSkuZmlsdGVyKFxuICAgICAgICAgIGVsZW0gPT4gISFlbGVtLmNsYXNzTGlzdC5jb250YWlucygnY2hlY2tlZCcpKS5sZW5ndGg7XG4gICAgICAvLyBBbGxvdyBhbGwga2luZCBvZiB2aXp1IHdpdGggMSB2YXJpYWJsZTpcbiAgICAgIGQzLnNlbGVjdEFsbCgnLmNoYXJ0X3QxJylcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3R5cGVfY2hhcnQgY2hhcnRfdDEnKTtcbiAgICAgIGlmIChuYl92YXIgPT09IDIpIHsgLy8gQWxsb3cgYWxsIGtpbmQgb2Ygdml6dSB3aXRoIDIgdmFyaWFibGVzOlxuICAgICAgICBkMy5zZWxlY3RBbGwoJy5jaGFydF90MicpXG4gICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3R5cGVfY2hhcnQgY2hhcnRfdDInKTtcbiAgICAgICAgZDMuc2VsZWN0QWxsKCcuY2hhcnRfdDMnKVxuICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd0eXBlX2NoYXJ0IGNoYXJ0X3QzIGRpc2FibGVkJyk7XG4gICAgICB9XG4gICAgICBpZiAobmJfdmFyID4gMikgeyAvLyBBbGxvdyBhbGwga2luZCBvZiB2aXp1IHdpdGggMyB2YXJpYWJsZXM6XG4gICAgICAgIGQzLnNlbGVjdEFsbCgnLmNoYXJ0X3QyJylcbiAgICAgICAgICAuYXR0cignY2xhc3MnLCAndHlwZV9jaGFydCBjaGFydF90MicpO1xuICAgICAgICBkMy5zZWxlY3RBbGwoJy5jaGFydF90MycpXG4gICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3R5cGVfY2hhcnQgY2hhcnRfdDMnKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICBkMy5zZWxlY3RBbGwoJ3NwYW4ubGFiZWxfY2hrJylcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5wcmV2aW91c1NpYmxpbmcuY2xpY2soKTtcbiAgICB9KTtcblxuICBjb25zdCBoZWFkZXJfbWFwX3NlY3Rpb24gPSBkMy5zZWxlY3QoJyNtYXBfc2VjdGlvbiA+ICNoZWFkZXJfbWFwJyk7XG5cbiAgaGVhZGVyX21hcF9zZWN0aW9uLnNlbGVjdCgnI2ltZ19yZWN0X3NlbGVjJylcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCF0aGlzLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19tYXBfem9vbScpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX21hcF9zZWxlY3QnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgc3ZnX21hcC5vbignLnpvb20nLCBudWxsKTtcbiAgICAgICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKS5zdHlsZSgnZGlzcGxheScsIG51bGwpO1xuICAgICAgICBtYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJykub24oJ2NsaWNrJywgbnVsbCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgaGVhZGVyX21hcF9zZWN0aW9uLnNlbGVjdCgnI2ltZ19tYXBfem9vbScpXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfcmVjdF9zZWxlYycpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX21hcF9zZWxlY3QnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgc3ZnX21hcC5jYWxsKG1hcF9lbGVtLnpvb21fbWFwKTtcbiAgICAgICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKS5jYWxsKG1hcF9lbGVtLmJydXNoX21hcC5tb3ZlLCBudWxsKTtcbiAgICAgICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgIG1hcF9lbGVtLnRhcmdldF9sYXllci5zZWxlY3RBbGwoJ3BhdGgnKS5vbignY2xpY2snLCBudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICBoZWFkZXJfbWFwX3NlY3Rpb24uc2VsZWN0KCcjaW1nX21hcF9zZWxlY3QnKVxuICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX3JlY3Rfc2VsZWMnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19tYXBfem9vbScpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICBzdmdfbWFwLm9uKCcuem9vbScsIG51bGwpO1xuICAgICAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpLmNhbGwobWFwX2VsZW0uYnJ1c2hfbWFwLm1vdmUsIG51bGwpO1xuICAgICAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgbWFwX2VsZW0udGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uIChkKSB7IGNoYXJ0LmhhbmRsZUNsaWNrTWFwKGQsIHRoaXMpOyB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICBjb25zdCBoZWFkZXJfdGFibGVfc2VjdGlvbiA9IGQzLnNlbGVjdCgnI21hcF9zZWN0aW9uJylcbiAgICAgIC5pbnNlcnQoJ3AnLCAnc3ZnJylcbiAgICAgIC5hdHRyKCdpZCcsICdoZWFkZXJfdGFibGUnKVxuICAgICAgLnN0eWxlcyh7IGRpc3BsYXk6ICdub25lJywgbWFyZ2luOiAnYXV0bycsICd0ZXh0LWFsaWduJzogJ3JpZ2h0JyB9KTtcblxuICBoZWFkZXJfdGFibGVfc2VjdGlvbi5hcHBlbmQoJ3NwYW4nKVxuICAgIC5hdHRyKCdjbGFzcycsICdidXR0b25fYmx1ZScpXG4gICAgLmh0bWwoJ0NTVicpXG4gICAgLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBbXG4gICAgICAgICdpZCxOdW3DqXJhdGV1cixEw6lub21pbmF0ZXVyLFJhdGlvLFJhbmdcXHJcXG4nLFxuICAgICAgICBhcHAuY3VycmVudF9kYXRhLm1hcChkID0+IFtkLmlkLCBkLm51bSwgZC5kZW51bSwgZC5yYXRpbywgZC5yYW5nXS5qb2luKCcsJykpLmpvaW4oJ1xcclxcbicpLFxuICAgICAgXS5qb2luKCcnKTtcbiAgICAgIGNvbnN0IGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICBlbGVtLnNldEF0dHJpYnV0ZSgnaHJlZicsIGBkYXRhOnRleHQvcGxhaW47Y2hhcnNldD11dGYtOCwke2VuY29kZVVSSUNvbXBvbmVudChjb250ZW50KX1gKTtcbiAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsICd0YWJsZS5jc3YnKTtcbiAgICAgIGVsZW0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWxlbSk7XG4gICAgICBlbGVtLmNsaWNrKCk7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGVsZW0pO1xuICAgIH0pO1xuICBiaW5kVG9wQnV0dG9ucyhjaGFydCwgbWFwX2VsZW0pO1xufVxuXG4vKipcbiogRnVuY3Rpb24gdG8gaGFuZGxlIGNsaWNrIG9uIHRoZSB0b3AgbWVudSwgaW4gb3JkZXIgdG8gY2hvb3NlXG4qIHRoZSBraW5kIG9mIGF2YWlsYWJsZXMgcmVwcmVzZW50YXRpb25cbipcbipcbipcbiovXG5leHBvcnQgZnVuY3Rpb24gYmluZFRvcEJ1dHRvbnMoY2hhcnQsIG1hcF9lbGVtKSB7XG4gIGQzLnNlbGVjdEFsbCgnLnR5cGVfY2hhcnQnKVxuICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2Rpc2FibGVkJykpIHJldHVybjtcbiAgICAgIGNoYXJ0LnJlbW92ZSgpO1xuICAgICAgY2hhcnQgPSBudWxsOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICB1bmJpbmRVSSgpO1xuICAgICAgbWFwX2VsZW0ucmVzZXRab29tKCk7XG4gICAgICBhcHAuY29sb3JzID0ge307XG4gICAgICByZXNldENvbG9ycygpO1xuICAgICAgbWFwX2VsZW0ucmVzZXRDb2xvcnMoKTtcbiAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG4gICAgICBpZiAodmFsdWUgPT09ICdCYXJDaGFydDEnKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdCYXJDaGFydDEnKTtcbiAgICAgICAgbWFrZVRhYmxlKGFwcC5jdXJyZW50X2RhdGEsIGFwcC5jdXJyZW50X2NvbmZpZyk7XG4gICAgICAgIGNoYXJ0ID0gbmV3IEJhckNoYXJ0MShhcHAuY3VycmVudF9kYXRhKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICBiaW5kVUlfY2hhcnRfMXYoY2hhcnQsIG1hcF9lbGVtKTtcbiAgICAgICAgbWFwX2VsZW0uYmluZEJydXNoKGNoYXJ0KTtcbiAgICAgICAgY2hhcnQuYmluZE1hcChtYXBfZWxlbSk7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnQnViYmxlQ2hhcnQxJykge1xuICAgICAgICBjb25zb2xlLmxvZygnQnViYmxlQ2hhcnQxJyk7XG4gICAgICAgIG1ha2VUYWJsZShhcHAuY3VycmVudF9kYXRhLCBhcHAuY3VycmVudF9jb25maWcpO1xuICAgICAgICBjaGFydCA9IG5ldyBCdWJibGVDaGFydDEoYXBwLmN1cnJlbnRfZGF0YSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgYmluZFVJX2NoYXJ0XzF2KGNoYXJ0LCBtYXBfZWxlbSk7XG4gICAgICAgIG1hcF9lbGVtLmJpbmRCcnVzaChjaGFydCk7XG4gICAgICAgIGNoYXJ0LmJpbmRNYXAobWFwX2VsZW0pO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJ1NjYXR0ZXJQbG90MicpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1NjYXR0ZXJQbG90MicpO1xuICAgICAgICBtYWtlVGFibGUoYXBwLmN1cnJlbnRfZGF0YSwgYXBwLmN1cnJlbnRfY29uZmlnKTtcbiAgICAgICAgY2hhcnQgPSBuZXcgU2NhdHRlclBsb3QyKGFwcC5jdXJyZW50X2RhdGEpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIGJpbmRVSV9jaGFydF8xdihjaGFydCwgbWFwX2VsZW0pO1xuICAgICAgICBtYXBfZWxlbS5iaW5kQnJ1c2goY2hhcnQpO1xuICAgICAgICBjaGFydC5iaW5kTWFwKG1hcF9lbGVtKTtcbiAgICAgIH1cblxuICAgIH0pO1xufVxuXG5cbmZ1bmN0aW9uIGxvYWREYXRhKCkge1xuICBkMy5xdWV1ZSg0KVxuICAgIC5kZWZlcihkMy5jc3YsICdkYXRhL1JFR0lPVklaX0RBVEFfYWdncmVnYXRlZC5jc3YnKVxuICAgIC5kZWZlcihkMy5qc29uLCAnZGF0YS9jZ2V0LW51dHMxLTMwMzUuZ2VvanNvbicpXG4gICAgLmRlZmVyKGQzLmpzb24sICdkYXRhL2NvdW50cmllczMwMzUuZ2VvanNvbicpXG4gICAgLmRlZmVyKGQzLmpzb24sICdkYXRhL3JlbW90ZTMwMzUuZ2VvanNvbicpXG4gICAgLmRlZmVyKGQzLmpzb24sICdkYXRhL3RlbXBsYXRlMzAzNS5nZW9qc29uJylcbiAgICAuZGVmZXIoZDMuanNvbiwgJ2RhdGEvc2VhX2JveGVzLmdlb2pzb24nKVxuICAgIC5hd2FpdEFsbCgoZXJyb3IsIHJlc3VsdHMpID0+IHtcbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgICBjb25zdCBbZnVsbF9kYXRhc2V0LCBudXRzMSwgY291bnRyaWVzLCByZW1vdGUsIHRlbXBsYXRlLCBzZWFib3hlc10gPSByZXN1bHRzO1xuICAgICAgcHJlcGFyZV9kYXRhc2V0KGZ1bGxfZGF0YXNldCwgYXBwKTtcbiAgICAgIHNldERlZmF1bHRDb25maWcoJ0ZSQicsICdQQ19DSE9NXzE1MjRfMjAxNScsICdOVVRTMScpO1xuICAgICAgY29uc3QgZmVhdHVyZXNfbWVudSA9IGZ1bGxfZGF0YXNldC5maWx0ZXIoZnQgPT4gZnQuZ2VvLmluZGV4T2YoJ0ZSJykgPiAtMVxuICAgICAgICAmJiArZnQubGV2ZWwgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5jdXJyZW50X2xldmVsKTtcbiAgICAgIGNyZWF0ZU1lbnUoZmVhdHVyZXNfbWVudSwgdmFyaWFibGVzLCBzdHVkeV96b25lcywgdGVycml0b3JpYWxfbWVzaCk7XG4gICAgICBtYWtlVG9wTWVudSgpO1xuICAgICAgbWFrZUhlYWRlckNoYXJ0KCk7XG4gICAgICBzZXREZWZhdWx0Q29uZmlnTWVudSgnRlJCJywgJ1BDX0NIT01fMTUyNF8yMDE1JywgJ05VVFMxJyk7XG4gICAgICBmaWx0ZXJMZXZlbFZhcihhcHApO1xuICAgICAgY29uc3QgbWFwX2VsZW0gPSBuZXcgTWFwU2VsZWN0KG51dHMxLCBjb3VudHJpZXMsIHJlbW90ZSwgdGVtcGxhdGUsIHNlYWJveGVzKTtcbiAgICAgIGNvbnN0IGNoYXJ0ID0gbmV3IEJhckNoYXJ0MShhcHAuY3VycmVudF9kYXRhKTtcbiAgICAgIG1ha2VUYWJsZShhcHAuY3VycmVudF9kYXRhLCBhcHAuY3VycmVudF9jb25maWcpO1xuICAgICAgbWFrZUhlYWRlck1hcFNlY3Rpb24oKTtcbiAgICAgIG1ha2VTb3VyY2VTZWN0aW9uKCk7XG4gICAgICBtYWtlTWFwTGVnZW5kKCk7XG4gICAgICBiaW5kVUlfY2hhcnRfMXYoY2hhcnQsIG1hcF9lbGVtKTtcbiAgICAgIGNoYXJ0LmJpbmRNYXAobWFwX2VsZW0pO1xuICAgICAgbWFwX2VsZW0uYmluZEJydXNoKGNoYXJ0KTtcbiAgICB9KTtcbn1cblxuXG5sb2FkRGF0YSgpO1xuIl0sIm5hbWVzIjpbInJlcXVpcmUkJDAiLCJtcyIsImNvbG9yX2NvdW50cmllcyIsImNvbG9yX2Rpc2FibGVkIiwiY29sb3Jfc3VwIiwiY29sb3JfaW5mIiwiY29sb3JfaGlnaGxpZ2h0IiwibWF0aF9hYnMiLCJNYXRoIiwiYWJzIiwibWF0aF9yb3VuZCIsInJvdW5kIiwicHJlcGFyZVRvb2x0aXAiLCJwYXJlbnRfc3ZnX2VsZW0iLCJ0b29sdGlwIiwiYXBwZW5kIiwiYXR0ciIsInN0eWxlIiwiYXR0cnMiLCJ3aWR0aCIsImhlaWdodCIsImZpbGwiLCJjbGFzcyIsIngiLCJkeSIsInVuYmluZFVJIiwic2VsZWN0QWxsIiwib24iLCJzZWxlY3QiLCJyZW1vdmUiLCJvbmtleXVwIiwib25rZXlkb3duIiwiY29tcCIsInRlc3RfdmFsdWUiLCJyZWZfdmFsdWUiLCJzZXJpZV9pbnZlcnNlZCIsImNvbXAyIiwidmFsMSIsInZhbDIiLCJyZWZfdmFsMSIsInJlZl92YWwyIiwieEludmVyc2VkIiwieUludmVyc2VkIiwiUmVjdCIsInRvcGxlZnQiLCJib3R0b21yaWdodCIsInhtaW4iLCJ4bWF4IiwieW1pbiIsInltYXgiLCJwdCIsIlByb3BTaXplciIsImZpeGVkX3ZhbHVlIiwiZml4ZWRfc2l6ZSIsInNxcnQiLCJQSSIsInNtYXgiLCJzY2FsZSIsInZhbCIsImdldF92YWx1ZSIsInBvdyIsInNpemUiLCJyZW1vdmVEdXBsaWNhdGVzIiwiYXJyIiwidG1wIiwiaSIsImxlbl9hcnIiLCJsZW5ndGgiLCJpbmRleE9mIiwicHVzaCIsImdldFN2Z1BhdGhUeXBlIiwicGF0aCIsInN2Z1BhdGhUb0Nvb3JkcyIsInR5cGVfcGF0aCIsInNsaWNlIiwic3BsaXQiLCJtYXAiLCJhIiwiY29tcHV0ZVBlcmNlbnRpbGVSYW5rIiwib2JqIiwiZmllbGRfbmFtZSIsInJlc3VsdF9maWVsZF9uYW1lIiwidmFsdWVzIiwiZCIsImxlbl92YWx1ZXMiLCJnZXRQUiIsInYiLCJjb3VudCIsIml4IiwiX2dldFBSIiwic2VyaWUiLCJjcmVhdGVNZW51IiwibmFtZXMiLCJ2YXJpYWJsZXMiLCJzdHVkeV96b25lcyIsInRlcnJpdG9yaWFsX21lc2giLCJ0aXRsZV9zZWN0aW9uMSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImlubmVySFRNTCIsInNlY3Rpb24xIiwib3ZlcmZsb3ciLCJsZW5faSIsImlkIiwiZ2VvIiwibmFtZSIsIk5vbSIsImVudHJ5IiwiYXBwZW5kQ2hpbGQiLCJ0aXRsZV9zZWN0aW9uMiIsInNlY3Rpb24yIiwiZ3JvdXBzX3ZhciIsImdyb3VwIiwiZ3BfbmFtZSIsInZhcl9uYW1lcyIsImZpbHRlciIsImoiLCJsZW5faiIsIm5hbWVfdmFyIiwiY29kZV92YXIiLCJyYXRpbyIsInN1Yl9lbnRyeSIsInRpdGxlX3NlY3Rpb24zIiwic2VjdGlvbjMiLCJ6b25lIiwidGl0bGVfc2VjdGlvbjQiLCJzZWN0aW9uNCIsInRlcnJpdF9sZXZlbCIsIm1lbnUiLCJnZXRFbGVtZW50QnlJZCIsImZsb2F0IiwibWFrZVRvcE1lbnUiLCJ0b3BfbWVudSIsImQzIiwic3R5bGVzIiwicGFkZGluZyIsIndpZHRoX2xlZnQiLCJxdWVyeVNlbGVjdG9yIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidCIsIndpZHRoX2NlbnRyYWxfY2hhcnQiLCJ3aWR0aF9tYXAiLCJ3aWR0aF90eXBlX2NvbXAiLCJtYXJnaW4iLCJodG1sIiwidHlwZV9jaGFydCIsInBvc2l0aW9uIiwidmFsdWUiLCJyZXNzZW1ibGFuY2UiLCJpbmVnYWxpdGUiLCJtYWtlSGVhZGVyTWFwU2VjdGlvbiIsImhlYWRlcl9tYXBfc2VjdGlvbiIsImluc2VydCIsIm1ha2VIZWFkZXJDaGFydCIsImhlYWRlcl9iYXJfc2VjdGlvbiIsImRpc3BsYXkiLCJkZWZpbmUiLCJ0aGlzIiwiY3JlYXRlVGFibGVET00iLCJkYXRhIiwib3B0cyIsImNvbmZpZyIsIm51bSIsImRlbnVtIiwibXlfcmVnaW9uIiwib3B0aW9ucyIsImRvYyIsIm5iX2ZlYXR1cmVzIiwiY29sdW1uX25hbWVzIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsIm5iX2NvbHVtbnMiLCJteVRhYmxlIiwiaGVhZGVycyIsImJvZHkiLCJoZWFkZXJzX3JvdyIsImNlbGwiLCJjb2xfbmFtZSIsInJvdyIsInNldEF0dHJpYnV0ZSIsIm1ha2VUYWJsZSIsImRhdGFfbm9fZW1wdHkiLCJ0YWJsZSIsInVuZGVmaW5lZCIsImRhdGFUYWJsZSIsIkRhdGFUYWJsZSIsIm1hcmdpblRvcCIsImZvbnRTaXplIiwicHJvdG90eXBlIiwiY2FsbCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZWwiLCJvbmNsaWNrIiwicGFyZW50RWxlbWVudCIsImNsaWNrIiwicHJlcGFyZV9kYXRhc2V0IiwiZnVsbF9kYXRhc2V0IiwiYXBwIiwiZmVhdHVyZV9uYW1lcyIsImVsZW0iLCJmaWx0ZXJMZXZlbFZhciIsImZpbHRlcl9pZCIsImN1cnJlbnRfY29uZmlnIiwiY3VycmVudF9sZXZlbCIsImlkX2ZpZWxkIiwiZmlsdGVyX2tleSIsIm5hbWVfZmllbGQiLCJhbGxfdmFyaWFibGVzIiwiY29uY2F0IiwidGVtcCIsImZ0IiwibGV2ZWwiLCJteV9jYXRlZ29yeSIsInByb3BzX2ZlYXR1cmUiLCJjdXJyZW50X2RhdGEiLCJjdXJyZW50X2lkcyIsImFwcGx5RmlsdGVyIiwiZmlsdGVyX3R5cGUiLCJjb2xvcnMiLCJjaGFuZ2VSZWdpb24iLCJpZF9yZWdpb24iLCJteV9yZWdpb25fcHJldHR5X25hbWUiLCJsb2ciLCJhZGRWYXJpYWJsZSIsImNvZGVfcmF0aW8iLCJ2YXJpYWJsZV9pbmZvIiwicmF0aW9fcHJldHR5X25hbWUiLCJyZW1vdmVWYXJpYWJsZSIsInNwbGljZSIsInN2Z19tYXAiLCJtYXJnaW5fbWFwIiwidG9wIiwicmlnaHQiLCJib3R0b20iLCJsZWZ0IiwiaGVpZ2h0X21hcCIsInN0cm9rZSIsInByb2plY3Rpb24iLCJnZXRfYmJveF9sYXllcl9wYXRoIiwiYmJveF9sYXllciIsIkluZmluaXR5IiwiZWFjaCIsImJib3hfcGF0aCIsImJvdW5kcyIsImdlb21ldHJ5IiwiZml0TGF5ZXIiLCJ0cmFuc2xhdGUiLCJiIiwicyIsIm1heCIsIm1hcF96b29tZWQiLCJ0cmFuc2Zvcm0iLCJldmVudCIsImsiLCJ5IiwibGF5ZXJzIiwidHJhbnNpdGlvbiIsImR1cmF0aW9uIiwiTWFwU2VsZWN0IiwibnV0czEiLCJjb3VudHJpZXMiLCJyZW1vdGUiLCJ0ZW1wbGF0ZSIsInNlYWJveGVzIiwiZ2VvSWRlbnRpdHkiLCJmaXRFeHRlbnQiLCJyZWZsZWN0WSIsImdlb1BhdGgiLCJ6b29tX21hcCIsInpvb20iLCJzY2FsZUV4dGVudCIsInRyYW5zbGF0ZUV4dGVudCIsImZlYXR1cmVzIiwiZW50ZXIiLCJzZWFib3hlczIiLCJ0YXJnZXRfbGF5ZXIiLCJwcm9wZXJ0aWVzIiwiaWRfZmllbGRfZ2VvbSIsIm5vZGUiLCJnZXRBdHRyaWJ1dGUiLCJiaW5kVG9vbHRpcCIsInRleHQiLCJfaXgiLCJuYl92YWwiLCJtaW4iLCJtb3VzZSIsInpvb21JZGVudGl0eSIsImJydXNoX21hcCIsIm1vdmUiLCJzZWxlY3Rpb24iLCJjaGFydCIsImJydXNoIiwiZXh0ZW50IiwiaGFuZGxlX2JydXNoX21hcCIsIm1ha2VTb3VyY2VTZWN0aW9uIiwidGV4dF96b25lIiwibWFrZU1hcExlZ2VuZCIsImxlZ2VuZF9lbGVtcyIsImNvbG9yIiwicmVjdF9zaXplIiwic3BhY2luZyIsImxnZF9oZWlnaHQiLCJvZmZzZXQiLCJncnBfbGdkIiwibGVnZW5kcyIsInR4IiwidHkiLCJzdmdfYmFyIiwibWFyZ2luMiIsImhlaWdodDIiLCJuYkZ0IiwiY3VycmVudF9yYW5nZV9icnVzaCIsImN1cnJlbnRfcmFuZ2UiLCJkaXNwbGF5ZWQiLCJnZXRNZWFuUmFuayIsIm1lYW5fdmFsdWUiLCJyYXRpb190b191c2UiLCJtZWFuX3JhbmsiLCJzb3J0IiwiQmFyQ2hhcnQxIiwicmVmX2RhdGEiLCJicnVzaGVkIiwic291cmNlRXZlbnQiLCJ0eXBlIiwieDIiLCJyYW5nZSIsImRvbWFpbiIsInVwZGF0ZSIsInVwZGF0ZUNvbnRleHQiLCJicnVzaF90b3AiLCJicnVzaGVkX3RvcCIsIl9mb2N1cyIsIm1hcF9lbGVtIiwiZDNfZXZlbnQiLCJ0YXJnZXQiLCJyZW1vdmVSZWN0QnJ1c2giLCJ1cGRhdGVNYXBSZWdpbyIsImRldGFpbCIsInNjYWxlQmFuZCIsInNjYWxlTGluZWFyIiwieTIiLCJ4QXhpcyIsImF4aXNCb3R0b20iLCJ4QXhpczIiLCJ5QXhpcyIsImF4aXNMZWZ0Iiwic2VsZiIsImF2YWlsYWJsZV9yYXRpb3MiLCJjdXJyZW50X3JhbmtzIiwibWVhbiIsImZvY3VzIiwiY29udGV4dCIsImJydXNoX2JvdHRvbSIsImJydXNoWCIsImR4IiwiZ19iYXIiLCJncm91cGVfbGluZV9tZWFuIiwieDEiLCJ5MSIsInVwZGF0ZU1pbmlCYXJzIiwiY29tcGxldHVkZSIsImtleSIsInNlbGVjX3ZhciIsImNvZGVfdmFyaWFibGUiLCJjaGFuZ2VWYXJpYWJsZSIsImNoYW5nZVN0dWR5Wm9uZSIsInVwZGF0ZUNvbXBsZXR1ZGUiLCJidXR0b25zX3VuZGVyX2NoYXJ0Iiwic2VsZWN0QmVsb3dNZWFuIiwic2VsZWN0QWJvdmVNZWFuIiwic2VsZWN0QmVsb3dNeVJlZ2lvbiIsInNlbGVjdEFib3ZlTXlSZWdpb24iLCJfIiwiYmFyIiwiYmFuZHdpZHRoIiwidG9fZGlzcGxheSIsImV4aXQiLCJheGlzX3giLCJtaW5pX2JhcnMiLCJteV9yYW5rIiwibGFzdF9tYXBfc2VsZWN0aW9uIiwicmVjdCIsIl9wdHMiLCJwdHMiLCJuYl9wdHMiLCJjb250YWlucyIsImlkcyIsImtleXMiLCJyYW5rcyIsImMxIiwiYzIiLCJwYXJlbnQiLCJ1cGRhdGVMZWdlbmQiLCJncnBfbWVhbiIsIm1pbl9zZXJpZSIsIm1heF9zZXJpZSIsIm9mZnNldF95IiwidXBkYXRlTWVhblZhbHVlIiwibmFtZV92YXJpYWJsZSIsImRpc3BhdGNoIiwidW5iaW5kQnJ1c2giLCJCdWJibGVDaGFydDEiLCJhdmFpbGFibGVfbnVtcyIsInN0b2NrX3RvX3VzZSIsImhpZ2hsaWdodF9zZWxlY3Rpb24iLCJkcmF3X2dyb3VwIiwic2VsZWN0aW9uX2Nsb3NlIiwicHJvcGVydHkiLCJteV9yZWdpb25fdmFsdWUiLCJiaW5kTWVudSIsImFwcGx5U2VsZWN0aW9uIiwibmIiLCJ0eXBlX3NlbGVjdGlvbiIsImRpc3QiLCJfbWluIiwiX21heCIsImRpc3RfbWluIiwiZGlzdF9tYXgiLCJkaXN0X2F4aXMiLCJtYXJnaW5fbWluX21heCIsInByb3Bfc2l6ZXIiLCJ4U2NhbGUiLCJidWJibGVzIiwieF92YWx1ZSIsIl9yYXRpb190b191c2UiLCJfc3RvY2tfdG9fdXNlIiwiaWRfdG9fcmVtb3ZlIiwiYXBwbHljaGFuZ2UiLCJTY2F0dGVyUGxvdDIiLCJ2YXJpYWJsZTEiLCJ2YXJpYWJsZTIiLCJyYW5rX3ZhcmlhYmxlMSIsInJhbmtfdmFyaWFibGUyIiwicHJldHR5X25hbWUxIiwicHJldHR5X25hbWUyIiwicmVzIiwibmljZSIsInRpY2tzIiwieUF4aXMyIiwicmVmX3ZhbHVlMSIsInJlZl92YWx1ZTIiLCJwbG90Iiwic2NhdHRlciIsIm1lYW5fdmFyaWFibGUxIiwibWVhbl92YXJpYWJsZTIiLCJtYWtlR3JpZCIsImNhbGxCcnVzaCIsInRpY2tTaXplIiwidGlja0Zvcm1hdCIsImRlZmF1bHRfY29sb3IiLCJkb3RzIiwiX3ZhcjEiLCJfdmFyMiIsInZhbHVlMSIsInZhbHVlMiIsInJlc2V0Q29sb3JzIiwiZGVidWciLCJzZXREZWZhdWx0Q29uZmlnIiwiY29kZSIsInZhcmlhYmxlIiwic2V0RGVmYXVsdENvbmZpZ01lbnUiLCJjbGFzc0xpc3QiLCJhZGQiLCJiaW5kVUlfY2hhcnRfMXYiLCJ1cGRhdGVDaGFuZ2VSZWdpb24iLCJsYXN0X29uZSIsIkFycmF5IiwibmJfdmFyIiwicHJldmlvdXNTaWJsaW5nIiwiaGFuZGxlQ2xpY2tNYXAiLCJoZWFkZXJfdGFibGVfc2VjdGlvbiIsImNvbnRlbnQiLCJyYW5nIiwiam9pbiIsImVuY29kZVVSSUNvbXBvbmVudCIsInJlbW92ZUNoaWxkIiwiYmluZFRvcEJ1dHRvbnMiLCJyZXNldFpvb20iLCJiaW5kQnJ1c2giLCJiaW5kTWFwIiwibG9hZERhdGEiLCJxdWV1ZSIsImRlZmVyIiwiY3N2IiwianNvbiIs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
