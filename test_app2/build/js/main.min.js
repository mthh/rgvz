(function (exports) {
'use strict';

var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};





function createCommonjsModule(fn, module) {
	return module = { exports: {} }, fn(module, module.exports), module.exports;
}

var tingle_min = createCommonjsModule(function (module, exports) {
!function(t,o){"function"==typeof undefined&&undefined.amd?undefined(o):module.exports=o();}(commonjsGlobal,function(){function t(t){var o={onClose:null,onOpen:null,beforeOpen:null,beforeClose:null,stickyFooter:!1,footer:!1,cssClass:[],closeLabel:"Close",closeMethods:["overlay","button","escape"]};this.opts=r({},o,t),this.init();}function o(){this.modalBoxFooter&&(this.modalBoxFooter.style.width=this.modalBox.clientWidth+"px",this.modalBoxFooter.style.left=this.modalBox.offsetLeft+"px");}function e(){this.modal=document.createElement("div"),this.modal.classList.add("tingle-modal"),0!==this.opts.closeMethods.length&&this.opts.closeMethods.indexOf("overlay")!==-1||this.modal.classList.add("tingle-modal--noOverlayClose"),this.modal.style.display="none",this.opts.cssClass.forEach(function(t){"string"==typeof t&&this.modal.classList.add(t);},this),this.opts.closeMethods.indexOf("button")!==-1&&(this.modalCloseBtn=document.createElement("button"),this.modalCloseBtn.classList.add("tingle-modal__close"),this.modalCloseBtnIcon=document.createElement("span"),this.modalCloseBtnIcon.classList.add("tingle-modal__closeIcon"),this.modalCloseBtnIcon.innerHTML="Ã—",this.modalCloseBtnLabel=document.createElement("span"),this.modalCloseBtnLabel.classList.add("tingle-modal__closeLabel"),this.modalCloseBtnLabel.innerHTML=this.opts.closeLabel,this.modalCloseBtn.appendChild(this.modalCloseBtnIcon),this.modalCloseBtn.appendChild(this.modalCloseBtnLabel)),this.modalBox=document.createElement("div"),this.modalBox.classList.add("tingle-modal-box"),this.modalBoxContent=document.createElement("div"),this.modalBoxContent.classList.add("tingle-modal-box__content"),this.modalBox.appendChild(this.modalBoxContent),this.opts.closeMethods.indexOf("button")!==-1&&this.modal.appendChild(this.modalCloseBtn),this.modal.appendChild(this.modalBox);}function s(){this.modalBoxFooter=document.createElement("div"),this.modalBoxFooter.classList.add("tingle-modal-box__footer"),this.modalBox.appendChild(this.modalBoxFooter);}function i(){this._events={clickCloseBtn:this.close.bind(this),clickOverlay:l.bind(this),resize:this.checkOverflow.bind(this),keyboardNav:n.bind(this)},this.opts.closeMethods.indexOf("button")!==-1&&this.modalCloseBtn.addEventListener("click",this._events.clickCloseBtn),this.modal.addEventListener("mousedown",this._events.clickOverlay),window.addEventListener("resize",this._events.resize),document.addEventListener("keydown",this._events.keyboardNav);}function n(t){this.opts.closeMethods.indexOf("escape")!==-1&&27===t.which&&this.isOpen()&&this.close();}function l(t){this.opts.closeMethods.indexOf("overlay")!==-1&&!d(t.target,"tingle-modal")&&t.clientX<this.modal.clientWidth&&this.close();}function d(t,o){for(;(t=t.parentElement)&&!t.classList.contains(o););return t}function a(){this.opts.closeMethods.indexOf("button")!==-1&&this.modalCloseBtn.removeEventListener("click",this._events.clickCloseBtn),this.modal.removeEventListener("mousedown",this._events.clickOverlay),window.removeEventListener("resize",this._events.resize),document.removeEventListener("keydown",this._events.keyboardNav);}function r(){for(var t=1;t<arguments.length;t++)for(var o in arguments[t])arguments[t].hasOwnProperty(o)&&(arguments[0][o]=arguments[t][o]);return arguments[0]}function h(){var t,o=document.createElement("tingle-test-transition"),e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in e)if(void 0!==o.style[t])return e[t]}var c=h();return t.prototype.init=function(){this.modal||(e.call(this),i.call(this),document.body.insertBefore(this.modal,document.body.firstChild),this.opts.footer&&this.addFooter());},t.prototype.destroy=function(){null!==this.modal&&(a.call(this),this.modal.parentNode.removeChild(this.modal),this.modal=null);},t.prototype.open=function(){var t=this;"function"==typeof t.opts.beforeOpen&&t.opts.beforeOpen(),this.modal.style.removeProperty?this.modal.style.removeProperty("display"):this.modal.style.removeAttribute("display"),document.body.classList.add("tingle-enabled"),this.setStickyFooter(this.opts.stickyFooter),this.modal.classList.add("tingle-modal--visible"),c?this.modal.addEventListener(c,function o(){"function"==typeof t.opts.onOpen&&t.opts.onOpen.call(t),t.modal.removeEventListener(c,o,!1);},!1):"function"==typeof t.opts.onOpen&&t.opts.onOpen.call(t),this.checkOverflow();},t.prototype.isOpen=function(){return!!this.modal.classList.contains("tingle-modal--visible")},t.prototype.close=function(){if("function"==typeof this.opts.beforeClose){var t=this.opts.beforeClose.call(this);if(!t)return}document.body.classList.remove("tingle-enabled"),this.modal.classList.remove("tingle-modal--visible");var o=this;c?this.modal.addEventListener(c,function t(){o.modal.removeEventListener(c,t,!1),o.modal.style.display="none","function"==typeof o.opts.onClose&&o.opts.onClose.call(this);},!1):(o.modal.style.display="none","function"==typeof o.opts.onClose&&o.opts.onClose.call(this));},t.prototype.setContent=function(t){"string"==typeof t?this.modalBoxContent.innerHTML=t:(this.modalBoxContent.innerHTML="",this.modalBoxContent.appendChild(t));},t.prototype.getContent=function(){return this.modalBoxContent},t.prototype.addFooter=function(){s.call(this);},t.prototype.setFooterContent=function(t){this.modalBoxFooter.innerHTML=t;},t.prototype.getFooterContent=function(){return this.modalBoxFooter},t.prototype.setStickyFooter=function(t){this.isOverflow()||(t=!1),t?this.modalBox.contains(this.modalBoxFooter)&&(this.modalBox.removeChild(this.modalBoxFooter),this.modal.appendChild(this.modalBoxFooter),this.modalBoxFooter.classList.add("tingle-modal-box__footer--sticky"),o.call(this),this.modalBoxContent.style["padding-bottom"]=this.modalBoxFooter.clientHeight+20+"px"):this.modalBoxFooter&&(this.modalBox.contains(this.modalBoxFooter)||(this.modal.removeChild(this.modalBoxFooter),this.modalBox.appendChild(this.modalBoxFooter),this.modalBoxFooter.style.width="auto",this.modalBoxFooter.style.left="",this.modalBoxContent.style["padding-bottom"]="",this.modalBoxFooter.classList.remove("tingle-modal-box__footer--sticky")));},t.prototype.addFooterBtn=function(t,o,e){var s=document.createElement("button");return s.innerHTML=t,s.addEventListener("click",e),"string"==typeof o&&o.length&&o.split(" ").forEach(function(t){s.classList.add(t);}),this.modalBoxFooter.appendChild(s),s},t.prototype.resize=function(){console.warn("Resize is deprecated and will be removed in version 1.0");},t.prototype.isOverflow=function(){var t=window.innerHeight,o=this.modalBox.clientHeight;return o>=t},t.prototype.checkOverflow=function(){this.modal.classList.contains("tingle-modal--visible")&&(this.isOverflow()?this.modal.classList.add("tingle-modal--overflow"):this.modal.classList.remove("tingle-modal--overflow"),!this.isOverflow()&&this.opts.stickyFooter?this.setStickyFooter(!1):this.isOverflow()&&this.opts.stickyFooter&&(o.call(this),this.setStickyFooter(!0)));},{modal:t}});
});

var alertify = createCommonjsModule(function (module) {
/**
 * alertifyjs 1.11.0 http://alertifyjs.com
 * AlertifyJS is a javascript framework for developing pretty browser dialogs and notifications.
 * Copyright 2017 Mohammad Younes <Mohammad@alertifyjs.com> (http://alertifyjs.com) 
 * Licensed under GPL 3 <https://opensource.org/licenses/gpl-3.0>*/
( function ( window ) {
    'use strict';
    
    /**
     * Keys enum
     * @type {Object}
     */
    var keys = {
        ENTER: 13,
        ESC: 27,
        F1: 112,
        F12: 123,
        LEFT: 37,
        RIGHT: 39
    };
    /**
     * Default options 
     * @type {Object}
     */
    var defaults = {
        autoReset:true,
        basic:false,
        closable:true,
        closableByDimmer:true,
        frameless:false,
        maintainFocus:true, //global default not per instance, applies to all dialogs
        maximizable:true,
        modal:true,
        movable:true,
        moveBounded:false,
        overflow:true,
        padding: true,
        pinnable:true,
        pinned:true,
        preventBodyShift:false, //global default not per instance, applies to all dialogs
        resizable:true,
        startMaximized:false,
        transition:'pulse',
        notifier:{
            delay:5,
            position:'bottom-right',
            closeButton:false
        },
        glossary:{
            title:'AlertifyJS',
            ok: 'OK',
            cancel: 'Cancel',
            acccpt: 'Accept',
            deny: 'Deny',
            confirm: 'Confirm',
            decline: 'Decline',
            close: 'Close',
            maximize: 'Maximize',
            restore: 'Restore',
        },
        theme:{
            input:'ajs-input',
            ok:'ajs-ok',
            cancel:'ajs-cancel',
        }
    };
    
    //holds open dialogs instances
    var openDialogs = [];

    /**
     * [Helper]  Adds the specified class(es) to the element.
     *
     * @element {node}      The element
     * @className {string}  One or more space-separated classes to be added to the class attribute of the element.
     * 
     * @return {undefined}
     */
    function addClass(element,classNames){
        element.className += ' ' + classNames;
    }
    
    /**
     * [Helper]  Removes the specified class(es) from the element.
     *
     * @element {node}      The element
     * @className {string}  One or more space-separated classes to be removed from the class attribute of the element.
     * 
     * @return {undefined}
     */
    function removeClass(element, classNames) {
        var original = element.className.split(' ');
        var toBeRemoved = classNames.split(' ');
        for (var x = 0; x < toBeRemoved.length; x += 1) {
            var index = original.indexOf(toBeRemoved[x]);
            if (index > -1){
                original.splice(index,1);
            }
        }
        element.className = original.join(' ');
    }

    /**
     * [Helper]  Checks if the document is RTL
     *
     * @return {Boolean} True if the document is RTL, false otherwise.
     */
    function isRightToLeft(){
        return window.getComputedStyle(document.body).direction === 'rtl';
    }
    /**
     * [Helper]  Get the document current scrollTop
     *
     * @return {Number} current document scrollTop value
     */
    function getScrollTop(){
        return ((document.documentElement && document.documentElement.scrollTop) || document.body.scrollTop);
    }

    /**
     * [Helper]  Get the document current scrollLeft
     *
     * @return {Number} current document scrollLeft value
     */
    function getScrollLeft(){
        return ((document.documentElement && document.documentElement.scrollLeft) || document.body.scrollLeft);
    }

    /**
    * Helper: clear contents
    *
    */
    function clearContents(element){
        while (element.lastChild) {
            element.removeChild(element.lastChild);
        }
    }
    /**
     * Extends a given prototype by merging properties from base into sub.
     *
     * @sub {Object} sub The prototype being overwritten.
     * @base {Object} base The prototype being written.
     *
     * @return {Object} The extended prototype.
     */
    function copy(src) {
        if(null === src){
            return src;
        }
        var cpy;
        if(Array.isArray(src)){
            cpy = [];
            for(var x=0;x<src.length;x+=1){
                cpy.push(copy(src[x]));
            }
            return cpy;
        }
      
        if(src instanceof Date){
            return new Date(src.getTime());
        }
      
        if(src instanceof RegExp){
            cpy = new RegExp(src.source);
            cpy.global = src.global;
            cpy.ignoreCase = src.ignoreCase;
            cpy.multiline = src.multiline;
            cpy.lastIndex = src.lastIndex;
            return cpy;
        }
        
        if(typeof src === 'object'){
            cpy = {};
            // copy dialog pototype over definition.
            for (var prop in src) {
                if (src.hasOwnProperty(prop)) {
                    cpy[prop] = copy(src[prop]);
                }
            }
            return cpy;
        }
        return src;
    }
    /**
      * Helper: destruct the dialog
      *
      */
    function destruct(instance, initialize){
        //delete the dom and it's references.
        var root = instance.elements.root;
        root.parentNode.removeChild(root);
        delete instance.elements;
        //copy back initial settings.
        instance.settings = copy(instance.__settings);
        //re-reference init function.
        instance.__init = initialize;
        //delete __internal variable to allow re-initialization.
        delete instance.__internal;
    }

    /**
     * Use a closure to return proper event listener method. Try to use
     * `addEventListener` by default but fallback to `attachEvent` for
     * unsupported browser. The closure simply ensures that the test doesn't
     * happen every time the method is called.
     *
     * @param    {Node}     el    Node element
     * @param    {String}   event Event type
     * @param    {Function} fn    Callback of event
     * @return   {Function}
     */
    var on = (function () {
        if (document.addEventListener) {
            return function (el, event, fn, useCapture) {
                el.addEventListener(event, fn, useCapture === true);
            };
        } else if (document.attachEvent) {
            return function (el, event, fn) {
                el.attachEvent('on' + event, fn);
            };
        }
    }());

    /**
     * Use a closure to return proper event listener method. Try to use
     * `removeEventListener` by default but fallback to `detachEvent` for
     * unsupported browser. The closure simply ensures that the test doesn't
     * happen every time the method is called.
     *
     * @param    {Node}     el    Node element
     * @param    {String}   event Event type
     * @param    {Function} fn    Callback of event
     * @return   {Function}
     */
    var off = (function () {
        if (document.removeEventListener) {
            return function (el, event, fn, useCapture) {
                el.removeEventListener(event, fn, useCapture === true);
            };
        } else if (document.detachEvent) {
            return function (el, event, fn) {
                el.detachEvent('on' + event, fn);
            };
        }
    }());

    /**
     * Prevent default event from firing
     *
     * @param  {Event} event Event object
     * @return {undefined}

    function prevent ( event ) {
        if ( event ) {
            if ( event.preventDefault ) {
                event.preventDefault();
            } else {
                event.returnValue = false;
            }
        }
    }
    */
    var transition = (function () {
        var t, type;
        var supported = false;
        var transitions = {
            'animation'        : 'animationend',
            'OAnimation'       : 'oAnimationEnd oanimationend',
            'msAnimation'      : 'MSAnimationEnd',
            'MozAnimation'     : 'animationend',
            'WebkitAnimation'  : 'webkitAnimationEnd'
        };

        for (t in transitions) {
            if (document.documentElement.style[t] !== undefined) {
                type = transitions[t];
                supported = true;
                break;
            }
        }

        return {
            type: type,
            supported: supported
        };
    }());

    /**
    * Creates event handler delegate that sends the instance as last argument.
    * 
    * @return {Function}    a function wrapper which sends the instance as last argument.
    */
    function delegate(context, method) {
        return function () {
            if (arguments.length > 0) {
                var args = [];
                for (var x = 0; x < arguments.length; x += 1) {
                    args.push(arguments[x]);
                }
                args.push(context);
                return method.apply(context, args);
            }
            return method.apply(context, [null, context]);
        };
    }
    /**
    * Helper for creating a dialog close event.
    * 
    * @return {object}
    */
    function createCloseEvent(index, button) {
        return {
            index: index,
            button: button,
            cancel: false
        };
    }
    /**
    * Helper for dispatching events.
    *
    * @param  {string} evenType The type of the event to disptach.
    * @param  {object} instance The dialog instance disptaching the event.
    *
    * @return   {any}   The result of the invoked function.
    */
    function dispatchEvent(eventType, instance) {
        if ( typeof instance.get(eventType) === 'function' ) {
            return instance.get(eventType).call(instance);
        }
    }


    /**
     * Super class for all dialogs
     *
     * @return {Object}		base dialog prototype
     */
    var dialog = (function () {
        var //holds the list of used keys.
            usedKeys = [],
            //dummy variable, used to trigger dom reflow.
            reflow = null,
            //condition for detecting safari
            isSafari = window.navigator.userAgent.indexOf('Safari') > -1 && window.navigator.userAgent.indexOf('Chrome') < 0,
            //dialog building blocks
            templates = {
                dimmer:'<div class="ajs-dimmer"></div>',
                /*tab index required to fire click event before body focus*/
                modal: '<div class="ajs-modal" tabindex="0"></div>',
                dialog: '<div class="ajs-dialog" tabindex="0"></div>',
                reset: '<button class="ajs-reset"></button>',
                commands: '<div class="ajs-commands"><button class="ajs-pin"></button><button class="ajs-maximize"></button><button class="ajs-close"></button></div>',
                header: '<div class="ajs-header"></div>',
                body: '<div class="ajs-body"></div>',
                content: '<div class="ajs-content"></div>',
                footer: '<div class="ajs-footer"></div>',
                buttons: { primary: '<div class="ajs-primary ajs-buttons"></div>', auxiliary: '<div class="ajs-auxiliary ajs-buttons"></div>' },
                button: '<button class="ajs-button"></button>',
                resizeHandle: '<div class="ajs-handle"></div>',
            },
            //common class names
            classes = {
                animationIn: 'ajs-in',
                animationOut: 'ajs-out',
                base: 'alertify',
                basic:'ajs-basic',
                capture: 'ajs-capture',
                closable:'ajs-closable',
                fixed: 'ajs-fixed',
                frameless:'ajs-frameless',
                hidden: 'ajs-hidden',
                maximize: 'ajs-maximize',
                maximized: 'ajs-maximized',
                maximizable:'ajs-maximizable',
                modeless: 'ajs-modeless',
                movable: 'ajs-movable',
                noSelection: 'ajs-no-selection',
                noOverflow: 'ajs-no-overflow',
                noPadding:'ajs-no-padding',
                pin:'ajs-pin',
                pinnable:'ajs-pinnable',
                prefix: 'ajs-',
                resizable: 'ajs-resizable',
                restore: 'ajs-restore',
                shake:'ajs-shake',
                unpinned:'ajs-unpinned',
            };

        /**
         * Helper: initializes the dialog instance
         * 
         * @return	{Number}	The total count of currently open modals.
         */
        function initialize(instance){
            
            if(!instance.__internal){

                //no need to expose init after this.
                delete instance.__init;
              
                //keep a copy of initial dialog settings
                if(!instance.__settings){
                    instance.__settings = copy(instance.settings);
                }
                //in case the script was included before body.
                //after first dialog gets initialized, it won't be null anymore!
                if(null === reflow){
                    // set tabindex attribute on body element this allows script to give it
                    // focus after the dialog is closed
                    document.body.setAttribute( 'tabindex', '0' );
                }

                //get dialog buttons/focus setup
                var setup;
                if(typeof instance.setup === 'function'){
                    setup = instance.setup();
                    setup.options = setup.options  || {};
                    setup.focus = setup.focus  || {};
                }else{
                    setup = {
                        buttons:[],
                        focus:{
                            element:null,
                            select:false
                        },
                        options:{
                        }
                    };
                }
                
                //initialize hooks object.
                if(typeof instance.hooks !== 'object'){
                    instance.hooks = {};
                }

                //copy buttons defintion
                var buttonsDefinition = [];
                if(Array.isArray(setup.buttons)){
                    for(var b=0;b<setup.buttons.length;b+=1){
                        var ref  = setup.buttons[b],
                            cpy = {};
                        for (var i in ref) {
                            if (ref.hasOwnProperty(i)) {
                                cpy[i] = ref[i];
                            }
                        }
                        buttonsDefinition.push(cpy);
                    }
                }

                var internal = instance.__internal = {
                    /**
                     * Flag holding the open state of the dialog
                     * 
                     * @type {Boolean}
                     */
                    isOpen:false,
                    /**
                     * Active element is the element that will receive focus after
                     * closing the dialog. It defaults as the body tag, but gets updated
                     * to the last focused element before the dialog was opened.
                     *
                     * @type {Node}
                     */
                    activeElement:document.body,
                    timerIn:undefined,
                    timerOut:undefined,
                    buttons: buttonsDefinition,
                    focus: setup.focus,
                    options: {
                        title: undefined,
                        modal: undefined,
                        basic:undefined,
                        frameless:undefined,
                        pinned: undefined,
                        movable: undefined,
                        moveBounded:undefined,
                        resizable: undefined,
                        autoReset: undefined,
                        closable: undefined,
                        closableByDimmer: undefined,
                        maximizable: undefined,
                        startMaximized: undefined,
                        pinnable: undefined,
                        transition: undefined,
                        padding:undefined,
                        overflow:undefined,
                        onshow:undefined,
                        onclosing:undefined,
                        onclose:undefined,
                        onfocus:undefined,
                        onmove:undefined,
                        onmoved:undefined,
                        onresize:undefined,
                        onresized:undefined,
                        onmaximize:undefined,
                        onmaximized:undefined,
                        onrestore:undefined,
                        onrestored:undefined
                    },
                    resetHandler:undefined,
                    beginMoveHandler:undefined,
                    beginResizeHandler:undefined,
                    bringToFrontHandler:undefined,
                    modalClickHandler:undefined,
                    buttonsClickHandler:undefined,
                    commandsClickHandler:undefined,
                    transitionInHandler:undefined,
                    transitionOutHandler:undefined,
                    destroy:undefined
                };

                var elements = {};
                //root node
                elements.root = document.createElement('div');
                
                elements.root.className = classes.base + ' ' + classes.hidden + ' ';

                elements.root.innerHTML = templates.dimmer + templates.modal;
                
                //dimmer
                elements.dimmer = elements.root.firstChild;

                //dialog
                elements.modal = elements.root.lastChild;
                elements.modal.innerHTML = templates.dialog;
                elements.dialog = elements.modal.firstChild;
                elements.dialog.innerHTML = templates.reset + templates.commands + templates.header + templates.body + templates.footer + templates.resizeHandle + templates.reset;

                //reset links
                elements.reset = [];
                elements.reset.push(elements.dialog.firstChild);
                elements.reset.push(elements.dialog.lastChild);
                
                //commands
                elements.commands = {};
                elements.commands.container = elements.reset[0].nextSibling;
                elements.commands.pin = elements.commands.container.firstChild;
                elements.commands.maximize = elements.commands.pin.nextSibling;
                elements.commands.close = elements.commands.maximize.nextSibling;
                
                //header
                elements.header = elements.commands.container.nextSibling;

                //body
                elements.body = elements.header.nextSibling;
                elements.body.innerHTML = templates.content;
                elements.content = elements.body.firstChild;

                //footer
                elements.footer = elements.body.nextSibling;
                elements.footer.innerHTML = templates.buttons.auxiliary + templates.buttons.primary;
                
                //resize handle
                elements.resizeHandle = elements.footer.nextSibling;

                //buttons
                elements.buttons = {};
                elements.buttons.auxiliary = elements.footer.firstChild;
                elements.buttons.primary = elements.buttons.auxiliary.nextSibling;
                elements.buttons.primary.innerHTML = templates.button;
                elements.buttonTemplate = elements.buttons.primary.firstChild;
                //remove button template
                elements.buttons.primary.removeChild(elements.buttonTemplate);
                               
                for(var x=0; x < instance.__internal.buttons.length; x+=1) {
                    var button = instance.__internal.buttons[x];
                    
                    // add to the list of used keys.
                    if(usedKeys.indexOf(button.key) < 0){
                        usedKeys.push(button.key);
                    }

                    button.element = elements.buttonTemplate.cloneNode();
                    button.element.innerHTML = button.text;
                    if(typeof button.className === 'string' &&  button.className !== ''){
                        addClass(button.element, button.className);
                    }
                    for(var key in button.attrs){
                        if(key !== 'className' && button.attrs.hasOwnProperty(key)){
                            button.element.setAttribute(key, button.attrs[key]);
                        }
                    }
                    if(button.scope === 'auxiliary'){
                        elements.buttons.auxiliary.appendChild(button.element);
                    }else{
                        elements.buttons.primary.appendChild(button.element);
                    }
                }
                //make elements pubic
                instance.elements = elements;
                
                //save event handlers delegates
                internal.resetHandler = delegate(instance, onReset);
                internal.beginMoveHandler = delegate(instance, beginMove);
                internal.beginResizeHandler = delegate(instance, beginResize);
                internal.bringToFrontHandler = delegate(instance, bringToFront);
                internal.modalClickHandler = delegate(instance, modalClickHandler);
                internal.buttonsClickHandler = delegate(instance, buttonsClickHandler);
                internal.commandsClickHandler = delegate(instance, commandsClickHandler);
                internal.transitionInHandler = delegate(instance, handleTransitionInEvent);
                internal.transitionOutHandler = delegate(instance, handleTransitionOutEvent);

                //settings
                for(var opKey in internal.options){
                    if(setup.options[opKey] !== undefined){
                        // if found in user options
                        instance.set(opKey, setup.options[opKey]);
                    }else if(alertify.defaults.hasOwnProperty(opKey)) {
                        // else if found in defaults options
                        instance.set(opKey, alertify.defaults[opKey]);
                    }else if(opKey === 'title' ) {
                        // else if title key, use alertify.defaults.glossary
                        instance.set(opKey, alertify.defaults.glossary[opKey]);
                    }
                }

                // allow dom customization
                if(typeof instance.build === 'function'){
                    instance.build();
                }
            }
            
            //add to the end of the DOM tree.
            document.body.appendChild(instance.elements.root);
        }

        /**
         * Helper: maintains scroll position
         *
         */
        var scrollX, scrollY;
        function saveScrollPosition(){
            scrollX = getScrollLeft();
            scrollY = getScrollTop();
        }
        function restoreScrollPosition(){
            window.scrollTo(scrollX, scrollY);
        }

        /**
         * Helper: adds/removes no-overflow class from body
         *
         */
        function ensureNoOverflow(){
            var requiresNoOverflow = 0;
            for(var x=0;x<openDialogs.length;x+=1){
                var instance = openDialogs[x];
                if(instance.isModal() || instance.isMaximized()){
                    requiresNoOverflow+=1;
                }
            }
            if(requiresNoOverflow === 0 && document.body.className.indexOf(classes.noOverflow) >= 0){
                //last open modal or last maximized one
                removeClass(document.body, classes.noOverflow);
                preventBodyShift(false);
            }else if(requiresNoOverflow > 0 && document.body.className.indexOf(classes.noOverflow) < 0){
                //first open modal or first maximized one
                preventBodyShift(true);
                addClass(document.body, classes.noOverflow);
            }
        }
        var top = '', topScroll = 0;
        /**
         * Helper: prevents body shift.
         *
         */
        function preventBodyShift(add){
            if(alertify.defaults.preventBodyShift && document.documentElement.scrollHeight > document.documentElement.clientHeight){
                if(add ){//&& openDialogs[openDialogs.length-1].elements.dialog.clientHeight <= document.documentElement.clientHeight){
                    topScroll = scrollY;
                    top = window.getComputedStyle(document.body).top;
                    addClass(document.body, classes.fixed);
                    document.body.style.top = -scrollY + 'px';
                } else {
                    scrollY = topScroll;
                    document.body.style.top = top;
                    removeClass(document.body, classes.fixed);
                    restoreScrollPosition();
                }
            }
        }
		
        /**
         * Sets the name of the transition used to show/hide the dialog
         * 
         * @param {Object} instance The dilog instance.
         *
         */
        function updateTransition(instance, value, oldValue){
            if(typeof oldValue === 'string'){
                removeClass(instance.elements.root,classes.prefix +  oldValue);
            }
            addClass(instance.elements.root, classes.prefix + value);
            reflow = instance.elements.root.offsetWidth;
        }
		
        /**
         * Toggles the dialog display mode
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function updateDisplayMode(instance){
            if(instance.get('modal')){

                //make modal
                removeClass(instance.elements.root, classes.modeless);

                //only if open
                if(instance.isOpen()){
                    unbindModelessEvents(instance);

                    //in case a pinned modless dialog was made modal while open.
                    updateAbsPositionFix(instance);

                    ensureNoOverflow();
                }
            }else{
                //make modelss
                addClass(instance.elements.root, classes.modeless);

                //only if open
                if(instance.isOpen()){
                    bindModelessEvents(instance);

                    //in case pin/unpin was called while a modal is open
                    updateAbsPositionFix(instance);

                    ensureNoOverflow();
                }
            }
        }

        /**
         * Toggles the dialog basic view mode 
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function updateBasicMode(instance){
            if (instance.get('basic')) {
                // add class
                addClass(instance.elements.root, classes.basic);
            } else {
                // remove class
                removeClass(instance.elements.root, classes.basic);
            }
        }

        /**
         * Toggles the dialog frameless view mode 
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function updateFramelessMode(instance){
            if (instance.get('frameless')) {
                // add class
                addClass(instance.elements.root, classes.frameless);
            } else {
                // remove class
                removeClass(instance.elements.root, classes.frameless);
            }
        }
		
        /**
         * Helper: Brings the modeless dialog to front, attached to modeless dialogs.
         *
         * @param {Event} event Focus event
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function bringToFront(event, instance){
            
            // Do not bring to front if preceeded by an open modal
            var index = openDialogs.indexOf(instance);
            for(var x=index+1;x<openDialogs.length;x+=1){
                if(openDialogs[x].isModal()){
                    return;
                }
            }
			
            // Bring to front by making it the last child.
            if(document.body.lastChild !== instance.elements.root){
                document.body.appendChild(instance.elements.root);
                //also make sure its at the end of the list
                openDialogs.splice(openDialogs.indexOf(instance),1);
                openDialogs.push(instance);
                setFocus(instance);
            }
			
            return false;
        }
		
        /**
         * Helper: reflects dialogs options updates
         *
         * @param {Object} instance The dilog instance.
         * @param {String} option The updated option name.
         *
         * @return	{undefined}	
         */
        function optionUpdated(instance, option, oldValue, newValue){
            switch(option){
            case 'title':
                instance.setHeader(newValue);
                break;
            case 'modal':
                updateDisplayMode(instance);
                break;
            case 'basic':
                updateBasicMode(instance);
                break;
            case 'frameless':
                updateFramelessMode(instance);
                break;
            case 'pinned':
                updatePinned(instance);
                break;
            case 'closable':
                updateClosable(instance);
                break;
            case 'maximizable':
                updateMaximizable(instance);
                break;
            case 'pinnable':
                updatePinnable(instance);
                break;
            case 'movable':
                updateMovable(instance);
                break;
            case 'resizable':
                updateResizable(instance);
                break;
            case 'transition':
                updateTransition(instance,newValue, oldValue);
                break;
            case 'padding':
                if(newValue){
                    removeClass(instance.elements.root, classes.noPadding);
                }else if(instance.elements.root.className.indexOf(classes.noPadding) < 0){
                    addClass(instance.elements.root, classes.noPadding);
                }
                break;
            case 'overflow':
                if(newValue){
                    removeClass(instance.elements.root, classes.noOverflow);
                }else if(instance.elements.root.className.indexOf(classes.noOverflow) < 0){
                    addClass(instance.elements.root, classes.noOverflow);
                }
                break;
            case 'transition':
                updateTransition(instance,newValue, oldValue);
                break;
            }

            // internal on option updated event
            if(typeof instance.hooks.onupdate === 'function'){
                instance.hooks.onupdate.call(instance, option, oldValue, newValue);
            }
        }
		
        /**
         * Helper: reflects dialogs options updates
         *
         * @param {Object} instance The dilog instance.
         * @param {Object} obj The object to set/get a value on/from.
         * @param {Function} callback The callback function to call if the key was found.
         * @param {String|Object} key A string specifying a propery name or a collection of key value pairs.
         * @param {Object} value Optional, the value associated with the key (in case it was a string).
         * @param {String} option The updated option name.
         *
         * @return	{Object} result object 
         *	The result objects has an 'op' property, indicating of this is a SET or GET operation.
         *		GET: 
         *		- found: a flag indicating if the key was found or not.
         *		- value: the property value.
         *		SET:
         *		- items: a list of key value pairs of the properties being set.
         *				each contains:
         *					- found: a flag indicating if the key was found or not.
         *					- key: the property key.
         *					- value: the property value.
         */
        function update(instance, obj, callback, key, value){
            var result = {op:undefined, items: [] };
            if(typeof value === 'undefined' && typeof key === 'string') {
                //get
                result.op = 'get';
                if(obj.hasOwnProperty(key)){
                    result.found = true;
                    result.value = obj[key];
                }else{
                    result.found = false;
                    result.value = undefined;
                }
            }
            else
            {
                var old;
                //set
                result.op = 'set';
                if(typeof key === 'object'){
                    //set multiple
                    var args = key;
                    for (var prop in args) {
                        if (obj.hasOwnProperty(prop)) {
                            if(obj[prop] !== args[prop]){
                                old = obj[prop];
                                obj[prop] = args[prop];
                                callback.call(instance,prop, old, args[prop]);
                            }
                            result.items.push({ 'key': prop, 'value': args[prop], 'found':true});
                        }else{
                            result.items.push({ 'key': prop, 'value': args[prop], 'found':false});
                        }
                    }
                } else if (typeof key === 'string'){
                    //set single
                    if (obj.hasOwnProperty(key)) {
                        if(obj[key] !== value){
                            old  = obj[key];
                            obj[key] = value;
                            callback.call(instance,key, old, value);
                        }
                        result.items.push({'key': key, 'value': value , 'found':true});

                    }else{
                        result.items.push({'key': key, 'value': value , 'found':false});
                    }
                } else {
                    //invalid params
                    throw new Error('args must be a string or object');
                }
            }
            return result;
        }


        /**
         * Triggers a close event.
         *
         * @param {Object} instance	The dilog instance.
         * 
         * @return {undefined}
         */
        function triggerClose(instance) {
            var found;
            triggerCallback(instance, function (button) {
                return found = (button.invokeOnClose === true);
            });
            //none of the buttons registered as onclose callback
            //close the dialog
            if (!found && instance.isOpen()) {
                instance.close();
            }
        }

        /**
         * Dialogs commands event handler, attached to the dialog commands element.
         *
         * @param {Event} event	DOM event object.
         * @param {Object} instance	The dilog instance.
         * 
         * @return {undefined}
         */
        function commandsClickHandler(event, instance) {
            var target = event.srcElement || event.target;
            switch (target) {
            case instance.elements.commands.pin:
                if (!instance.isPinned()) {
                    pin(instance);
                } else {
                    unpin(instance);
                }
                break;
            case instance.elements.commands.maximize:
                if (!instance.isMaximized()) {
                    maximize(instance);
                } else {
                    restore(instance);
                }
                break;
            case instance.elements.commands.close:
                triggerClose(instance);
                break;
            }
            return false;
        }

        /**
         * Helper: pins the modeless dialog.
         *
         * @param {Object} instance	The dialog instance.
         * 
         * @return {undefined}
         */
        function pin(instance) {
            //pin the dialog
            instance.set('pinned', true);
        }

        /**
         * Helper: unpins the modeless dialog.
         *
         * @param {Object} instance	The dilog instance.
         * 
         * @return {undefined}
         */
        function unpin(instance) {
            //unpin the dialog 
            instance.set('pinned', false);
        }


        /**
         * Helper: enlarges the dialog to fill the entire screen.
         *
         * @param {Object} instance	The dilog instance.
         * 
         * @return {undefined}
         */
        function maximize(instance) {
            // allow custom `onmaximize` method
            dispatchEvent('onmaximize', instance);
            //maximize the dialog 
            addClass(instance.elements.root, classes.maximized);
            if (instance.isOpen()) {
                ensureNoOverflow();
            }
            // allow custom `onmaximized` method
            dispatchEvent('onmaximized', instance);
        }

        /**
         * Helper: returns the dialog to its former size.
         *
         * @param {Object} instance	The dilog instance.
         * 
         * @return {undefined}
         */
        function restore(instance) {
            // allow custom `onrestore` method
            dispatchEvent('onrestore', instance);
            //maximize the dialog 
            removeClass(instance.elements.root, classes.maximized);
            if (instance.isOpen()) {
                ensureNoOverflow();
            }
            // allow custom `onrestored` method
            dispatchEvent('onrestored', instance);
        }

        /**
         * Show or hide the maximize box.
         *
         * @param {Object} instance The dilog instance.
         * @param {Boolean} on True to add the behavior, removes it otherwise.
         *
         * @return {undefined}
         */
        function updatePinnable(instance) {
            if (instance.get('pinnable')) {
                // add class
                addClass(instance.elements.root, classes.pinnable);
            } else {
                // remove class
                removeClass(instance.elements.root, classes.pinnable);
            }
        }

        /**
         * Helper: Fixes the absolutly positioned modal div position.
         *
         * @param {Object} instance The dialog instance.
         *
         * @return {undefined}
         */
        function addAbsPositionFix(instance) {
            var scrollLeft = getScrollLeft();
            instance.elements.modal.style.marginTop = getScrollTop() + 'px';
            instance.elements.modal.style.marginLeft = scrollLeft + 'px';
            instance.elements.modal.style.marginRight = (-scrollLeft) + 'px';
        }

        /**
         * Helper: Removes the absolutly positioned modal div position fix.
         *
         * @param {Object} instance The dialog instance.
         *
         * @return {undefined}
         */
        function removeAbsPositionFix(instance) {
            var marginTop = parseInt(instance.elements.modal.style.marginTop, 10);
            var marginLeft = parseInt(instance.elements.modal.style.marginLeft, 10);
            instance.elements.modal.style.marginTop = '';
            instance.elements.modal.style.marginLeft = '';
            instance.elements.modal.style.marginRight = '';

            if (instance.isOpen()) {
                var top = 0,
                    left = 0;
                if (instance.elements.dialog.style.top !== '') {
                    top = parseInt(instance.elements.dialog.style.top, 10);
                }
                instance.elements.dialog.style.top = (top + (marginTop - getScrollTop())) + 'px';

                if (instance.elements.dialog.style.left !== '') {
                    left = parseInt(instance.elements.dialog.style.left, 10);
                }
                instance.elements.dialog.style.left = (left + (marginLeft - getScrollLeft())) + 'px';
            }
        }
        /**
         * Helper: Adds/Removes the absolutly positioned modal div position fix based on its pinned setting.
         *
         * @param {Object} instance The dialog instance.
         *
         * @return {undefined}
         */
        function updateAbsPositionFix(instance) {
            // if modeless and unpinned add fix
            if (!instance.get('modal') && !instance.get('pinned')) {
                addAbsPositionFix(instance);
            } else {
                removeAbsPositionFix(instance);
            }
        }
        /**
         * Toggles the dialog position lock | modeless only.
         *
         * @param {Object} instance The dilog instance.
         * @param {Boolean} on True to make it modal, false otherwise.
         *
         * @return {undefined}
         */
        function updatePinned(instance) {
            if (instance.get('pinned')) {
                removeClass(instance.elements.root, classes.unpinned);
                if (instance.isOpen()) {
                    removeAbsPositionFix(instance);
                }
            } else {
                addClass(instance.elements.root, classes.unpinned);
                if (instance.isOpen() && !instance.isModal()) {
                    addAbsPositionFix(instance);
                }
            }
        }

        /**
         * Show or hide the maximize box.
         *
         * @param {Object} instance The dilog instance.
         * @param {Boolean} on True to add the behavior, removes it otherwise.
         *
         * @return {undefined}
         */
        function updateMaximizable(instance) {
            if (instance.get('maximizable')) {
                // add class
                addClass(instance.elements.root, classes.maximizable);
            } else {
                // remove class
                removeClass(instance.elements.root, classes.maximizable);
            }
        }

        /**
         * Show or hide the close box.
         *
         * @param {Object} instance The dilog instance.
         * @param {Boolean} on True to add the behavior, removes it otherwise.
         *
         * @return {undefined}
         */
        function updateClosable(instance) {
            if (instance.get('closable')) {
                // add class
                addClass(instance.elements.root, classes.closable);
                bindClosableEvents(instance);
            } else {
                // remove class
                removeClass(instance.elements.root, classes.closable);
                unbindClosableEvents(instance);
            }
        }

        // flag to cancel click event if already handled by end resize event (the mousedown, mousemove, mouseup sequence fires a click event.).
        var cancelClick = false;

        /**
         * Helper: closes the modal dialog when clicking the modal
         *
         * @param {Event} event	DOM event object.
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function modalClickHandler(event, instance) {
            var target = event.srcElement || event.target;
            if (!cancelClick && target === instance.elements.modal && instance.get('closableByDimmer') === true) {
                triggerClose(instance);
            }
            cancelClick = false;
            return false;
        }

        // flag to cancel keyup event if already handled by click event (pressing Enter on a focusted button).
        var cancelKeyup = false;
        /** 
         * Helper: triggers a button callback
         *
         * @param {Object}		The dilog instance.
         * @param {Function}	Callback to check which button triggered the event.
         *
         * @return {undefined}
         */
        function triggerCallback(instance, check) {
            for (var idx = 0; idx < instance.__internal.buttons.length; idx += 1) {
                var button = instance.__internal.buttons[idx];
                if (!button.element.disabled && check(button)) {
                    var closeEvent = createCloseEvent(idx, button);
                    if (typeof instance.callback === 'function') {
                        instance.callback.apply(instance, [closeEvent]);
                    }
                    //close the dialog only if not canceled.
                    if (closeEvent.cancel === false) {
                        instance.close();
                    }
                    break;
                }
            }
        }

        /**
         * Clicks event handler, attached to the dialog footer.
         *
         * @param {Event}		DOM event object.
         * @param {Object}		The dilog instance.
         * 
         * @return {undefined}
         */
        function buttonsClickHandler(event, instance) {
            var target = event.srcElement || event.target;
            triggerCallback(instance, function (button) {
                // if this button caused the click, cancel keyup event
                return button.element === target && (cancelKeyup = true);
            });
        }

        /**
         * Keyup event handler, attached to the document.body
         *
         * @param {Event}		DOM event object.
         * @param {Object}		The dilog instance.
         * 
         * @return {undefined}
         */
        function keyupHandler(event) {
            //hitting enter while button has focus will trigger keyup too.
            //ignore if handled by clickHandler
            if (cancelKeyup) {
                cancelKeyup = false;
                return;
            }
            var instance = openDialogs[openDialogs.length - 1];
            var keyCode = event.keyCode;
            if (instance.__internal.buttons.length === 0 && keyCode === keys.ESC && instance.get('closable') === true) {
                triggerClose(instance);
                return false;
            }else if (usedKeys.indexOf(keyCode) > -1) {
                triggerCallback(instance, function (button) {
                    return button.key === keyCode;
                });
                return false;
            }
        }
        /**
        * Keydown event handler, attached to the document.body
        *
        * @param {Event}		DOM event object.
        * @param {Object}		The dilog instance.
        * 
        * @return {undefined}
        */
        function keydownHandler(event) {
            var instance = openDialogs[openDialogs.length - 1];
            var keyCode = event.keyCode;
            if (keyCode === keys.LEFT || keyCode === keys.RIGHT) {
                var buttons = instance.__internal.buttons;
                for (var x = 0; x < buttons.length; x += 1) {
                    if (document.activeElement === buttons[x].element) {
                        switch (keyCode) {
                        case keys.LEFT:
                            buttons[(x || buttons.length) - 1].element.focus();
                            return;
                        case keys.RIGHT:
                            buttons[(x + 1) % buttons.length].element.focus();
                            return;
                        }
                    }
                }
            }else if (keyCode < keys.F12 + 1 && keyCode > keys.F1 - 1 && usedKeys.indexOf(keyCode) > -1) {
                event.preventDefault();
                event.stopPropagation();
                triggerCallback(instance, function (button) {
                    return button.key === keyCode;
                });
                return false;
            }
        }


        /**
         * Sets focus to proper dialog element
         *
         * @param {Object} instance The dilog instance.
         * @param {Node} [resetTarget=undefined] DOM element to reset focus to.
         *
         * @return {undefined}
         */
        function setFocus(instance, resetTarget) {
            // reset target has already been determined.
            if (resetTarget) {
                resetTarget.focus();
            } else {
                // current instance focus settings
                var focus = instance.__internal.focus;
                // the focus element.
                var element = focus.element;

                switch (typeof focus.element) {
                // a number means a button index
                case 'number':
                    if (instance.__internal.buttons.length > focus.element) {
                        //in basic view, skip focusing the buttons.
                        if (instance.get('basic') === true) {
                            element = instance.elements.reset[0];
                        } else {
                            element = instance.__internal.buttons[focus.element].element;
                        }
                    }
                    break;
                // a string means querySelector to select from dialog body contents.
                case 'string':
                    element = instance.elements.body.querySelector(focus.element);
                    break;
                // a function should return the focus element.
                case 'function':
                    element = focus.element.call(instance);
                    break;
                }
                
                // if no focus element, default to first reset element.
                if ((typeof element === 'undefined' || element === null) && instance.__internal.buttons.length === 0) {
                    element = instance.elements.reset[0];
                }
                // focus
                if (element && element.focus) {
                    element.focus();
                    // if selectable
                    if (focus.select && element.select) {
                        element.select();
                    }
                }
            }
        }

        /**
         * Focus event handler, attached to document.body and dialogs own reset links.
         * handles the focus for modal dialogs only.
         *
         * @param {Event} event DOM focus event object.
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function onReset(event, instance) {

            // should work on last modal if triggered from document.body 
            if (!instance) {
                for (var x = openDialogs.length - 1; x > -1; x -= 1) {
                    if (openDialogs[x].isModal()) {
                        instance = openDialogs[x];
                        break;
                    }
                }
            }
            // if modal
            if (instance && instance.isModal()) {
                // determine reset target to enable forward/backward tab cycle.
                var resetTarget, target = event.srcElement || event.target;
                var lastResetElement = target === instance.elements.reset[1] || (instance.__internal.buttons.length === 0 && target === document.body);

                // if last reset link, then go to maximize or close
                if (lastResetElement) {
                    if (instance.get('maximizable')) {
                        resetTarget = instance.elements.commands.maximize;
                    } else if (instance.get('closable')) {
                        resetTarget = instance.elements.commands.close;
                    }
                }
                // if no reset target found, try finding the best button
                if (resetTarget === undefined) {
                    if (typeof instance.__internal.focus.element === 'number') {
                        // button focus element, go to first available button
                        if (target === instance.elements.reset[0]) {
                            resetTarget = instance.elements.buttons.auxiliary.firstChild || instance.elements.buttons.primary.firstChild;
                        } else if (lastResetElement) {
                            //restart the cycle by going to first reset link
                            resetTarget = instance.elements.reset[0];
                        }
                    } else {
                        // will reach here when tapping backwards, so go to last child
                        // The focus element SHOULD NOT be a button (logically!).
                        if (target === instance.elements.reset[0]) {
                            resetTarget = instance.elements.buttons.primary.lastChild || instance.elements.buttons.auxiliary.lastChild;
                        }
                    }
                }
                // focus
                setFocus(instance, resetTarget);
            }
        }
        /**
         * Transition in transitionend event handler. 
         *
         * @param {Event}		TransitionEnd event object.
         * @param {Object}		The dilog instance.
         *
         * @return {undefined}
         */
        function handleTransitionInEvent(event, instance) {
            // clear the timer
            clearTimeout(instance.__internal.timerIn);

            // once transition is complete, set focus
            setFocus(instance);

            //restore scroll to prevent document jump
            restoreScrollPosition();

            // allow handling key up after transition ended.
            cancelKeyup = false;

            // allow custom `onfocus` method
            dispatchEvent('onfocus', instance);

            // unbind the event
            off(instance.elements.dialog, transition.type, instance.__internal.transitionInHandler);

            removeClass(instance.elements.root, classes.animationIn);
        }

        /**
         * Transition out transitionend event handler. 
         *
         * @param {Event}		TransitionEnd event object.
         * @param {Object}		The dilog instance.
         *
         * @return {undefined}
         */
        function handleTransitionOutEvent(event, instance) {
            // clear the timer
            clearTimeout(instance.__internal.timerOut);
            // unbind the event
            off(instance.elements.dialog, transition.type, instance.__internal.transitionOutHandler);

            // reset move updates
            resetMove(instance);
            // reset resize updates
            resetResize(instance);

            // restore if maximized
            if (instance.isMaximized() && !instance.get('startMaximized')) {
                restore(instance);
            }

            // return focus to the last active element
            if (alertify.defaults.maintainFocus && instance.__internal.activeElement) {
                instance.__internal.activeElement.focus();
                instance.__internal.activeElement = null;
            }
            
            //destory the instance
            if (typeof instance.__internal.destroy === 'function') {
                instance.__internal.destroy.apply(instance);
            }
        }
        /* Controls moving a dialog around */
        //holde the current moving instance
        var movable = null,
            //holds the current X offset when move starts
            offsetX = 0,
            //holds the current Y offset when move starts
            offsetY = 0,
            xProp = 'pageX',
            yProp = 'pageY',
            bounds = null,
            refreshTop = false,
            moveDelegate = null;

        /**
         * Helper: sets the element top/left coordinates
         *
         * @param {Event} event	DOM event object.
         * @param {Node} element The element being moved.
         * 
         * @return {undefined}
         */
        function moveElement(event, element) {
            var left = (event[xProp] - offsetX),
                top  = (event[yProp] - offsetY);

            if(refreshTop){
                top -= document.body.scrollTop;
            }
           
            element.style.left = left + 'px';
            element.style.top = top + 'px';
           
        }
        /**
         * Helper: sets the element top/left coordinates within screen bounds
         *
         * @param {Event} event	DOM event object.
         * @param {Node} element The element being moved.
         * 
         * @return {undefined}
         */
        function moveElementBounded(event, element) {
            var left = (event[xProp] - offsetX),
                top  = (event[yProp] - offsetY);

            if(refreshTop){
                top -= document.body.scrollTop;
            }
            
            element.style.left = Math.min(bounds.maxLeft, Math.max(bounds.minLeft, left)) + 'px';
            if(refreshTop){
                element.style.top = Math.min(bounds.maxTop, Math.max(bounds.minTop, top)) + 'px';
            }else{
                element.style.top = Math.max(bounds.minTop, top) + 'px';
            }
        }
            

        /**
         * Triggers the start of a move event, attached to the header element mouse down event.
         * Adds no-selection class to the body, disabling selection while moving.
         *
         * @param {Event} event	DOM event object.
         * @param {Object} instance The dilog instance.
         * 
         * @return {Boolean} false
         */
        function beginMove(event, instance) {
            if (resizable === null && !instance.isMaximized() && instance.get('movable')) {
                var eventSrc, left=0, top=0;
                if (event.type === 'touchstart') {
                    event.preventDefault();
                    eventSrc = event.targetTouches[0];
                    xProp = 'clientX';
                    yProp = 'clientY';
                } else if (event.button === 0) {
                    eventSrc = event;
                }

                if (eventSrc) {

                    var element = instance.elements.dialog;
                    addClass(element, classes.capture);

                    if (element.style.left) {
                        left = parseInt(element.style.left, 10);
                    }

                    if (element.style.top) {
                        top = parseInt(element.style.top, 10);
                    }
                    
                    offsetX = eventSrc[xProp] - left;
                    offsetY = eventSrc[yProp] - top;

                    if(instance.isModal()){
                        offsetY += instance.elements.modal.scrollTop;
                    }else if(instance.isPinned()){
                        offsetY -= document.body.scrollTop;
                    }
                    
                    if(instance.get('moveBounded')){
                        var current = element,
                            offsetLeft = -left,
                            offsetTop = -top;
                        
                        //calc offset
                        do {
                            offsetLeft += current.offsetLeft;
                            offsetTop += current.offsetTop;
                        } while (current = current.offsetParent);
                        
                        bounds = {
                            maxLeft : offsetLeft,
                            minLeft : -offsetLeft,
                            maxTop  : document.documentElement.clientHeight - element.clientHeight - offsetTop,
                            minTop  : -offsetTop
                        };
                        moveDelegate = moveElementBounded;
                    }else{
                        bounds = null;
                        moveDelegate = moveElement;
                    }
                    
                    // allow custom `onmove` method
                    dispatchEvent('onmove', instance);

                    refreshTop = !instance.isModal() && instance.isPinned();
                    movable = instance;
                    moveDelegate(eventSrc, element);
                    addClass(document.body, classes.noSelection);
                    return false;
                }
            }
        }

        /**
         * The actual move handler,  attached to document.body mousemove event.
         *
         * @param {Event} event	DOM event object.
         * 
         * @return {undefined}
         */
        function move(event) {
            if (movable) {
                var eventSrc;
                if (event.type === 'touchmove') {
                    event.preventDefault();
                    eventSrc = event.targetTouches[0];
                } else if (event.button === 0) {
                    eventSrc = event;
                }
                if (eventSrc) {
                    moveDelegate(eventSrc, movable.elements.dialog);
                }
            }
        }

        /**
         * Triggers the end of a move event,  attached to document.body mouseup event.
         * Removes no-selection class from document.body, allowing selection.
         *
         * @return {undefined}
         */
        function endMove() {
            if (movable) {
                var instance = movable;
                movable = bounds = null;
                removeClass(document.body, classes.noSelection);
                removeClass(instance.elements.dialog, classes.capture);
                // allow custom `onmoved` method
                dispatchEvent('onmoved', instance);
            }
        }

        /**
         * Resets any changes made by moving the element to its original state,
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function resetMove(instance) {
            movable = null;
            var element = instance.elements.dialog;
            element.style.left = element.style.top = '';
        }

        /**
         * Updates the dialog move behavior.
         *
         * @param {Object} instance The dilog instance.
         * @param {Boolean} on True to add the behavior, removes it otherwise.
         *
         * @return {undefined}
         */
        function updateMovable(instance) {
            if (instance.get('movable')) {
                // add class
                addClass(instance.elements.root, classes.movable);
                if (instance.isOpen()) {
                    bindMovableEvents(instance);
                }
            } else {

                //reset
                resetMove(instance);
                // remove class
                removeClass(instance.elements.root, classes.movable);
                if (instance.isOpen()) {
                    unbindMovableEvents(instance);
                }
            }
        }

        /* Controls moving a dialog around */
        //holde the current instance being resized		
        var resizable = null,
            //holds the staring left offset when resize starts.
            startingLeft = Number.Nan,
            //holds the staring width when resize starts.
            startingWidth = 0,
            //holds the initial width when resized for the first time.
            minWidth = 0,
            //holds the offset of the resize handle.
            handleOffset = 0;

        /**
         * Helper: sets the element width/height and updates left coordinate if neccessary.
         *
         * @param {Event} event	DOM mousemove event object.
         * @param {Node} element The element being moved.
         * @param {Boolean} pinned A flag indicating if the element being resized is pinned to the screen.
         * 
         * @return {undefined}
         */
        function resizeElement(event, element, pageRelative) {

            //calculate offsets from 0,0
            var current = element;
            var offsetLeft = 0;
            var offsetTop = 0;
            do {
                offsetLeft += current.offsetLeft;
                offsetTop += current.offsetTop;
            } while (current = current.offsetParent);

            // determine X,Y coordinates.
            var X, Y;
            if (pageRelative === true) {
                X = event.pageX;
                Y = event.pageY;
            } else {
                X = event.clientX;
                Y = event.clientY;
            }
            // rtl handling
            var isRTL = isRightToLeft();
            if (isRTL) {
                // reverse X 
                X = document.body.offsetWidth - X;
                // if has a starting left, calculate offsetRight
                if (!isNaN(startingLeft)) {
                    offsetLeft = document.body.offsetWidth - offsetLeft - element.offsetWidth;
                }
            }

            // set width/height
            element.style.height = (Y - offsetTop + handleOffset) + 'px';
            element.style.width = (X - offsetLeft + handleOffset) + 'px';

            // if the element being resized has a starting left, maintain it.
            // the dialog is centered, divide by half the offset to maintain the margins.
            if (!isNaN(startingLeft)) {
                var diff = Math.abs(element.offsetWidth - startingWidth) * 0.5;
                if (isRTL) {
                    //negate the diff, why?
                    //when growing it should decrease left
                    //when shrinking it should increase left
                    diff *= -1;
                }
                if (element.offsetWidth > startingWidth) {
                    //growing
                    element.style.left = (startingLeft + diff) + 'px';
                } else if (element.offsetWidth >= minWidth) {
                    //shrinking
                    element.style.left = (startingLeft - diff) + 'px';
                }
            }
        }

        /**
         * Triggers the start of a resize event, attached to the resize handle element mouse down event.
         * Adds no-selection class to the body, disabling selection while moving.
         *
         * @param {Event} event	DOM event object.
         * @param {Object} instance The dilog instance.
         * 
         * @return {Boolean} false
         */
        function beginResize(event, instance) {
            if (!instance.isMaximized()) {
                var eventSrc;
                if (event.type === 'touchstart') {
                    event.preventDefault();
                    eventSrc = event.targetTouches[0];
                } else if (event.button === 0) {
                    eventSrc = event;
                }
                if (eventSrc) {
                    // allow custom `onresize` method
                    dispatchEvent('onresize', instance);
                    
                    resizable = instance;
                    handleOffset = instance.elements.resizeHandle.offsetHeight / 2;
                    var element = instance.elements.dialog;
                    addClass(element, classes.capture);
                    startingLeft = parseInt(element.style.left, 10);
                    element.style.height = element.offsetHeight + 'px';
                    element.style.minHeight = instance.elements.header.offsetHeight + instance.elements.footer.offsetHeight + 'px';
                    element.style.width = (startingWidth = element.offsetWidth) + 'px';

                    if (element.style.maxWidth !== 'none') {
                        element.style.minWidth = (minWidth = element.offsetWidth) + 'px';
                    }
                    element.style.maxWidth = 'none';
                    addClass(document.body, classes.noSelection);
                    return false;
                }
            }
        }

        /**
         * The actual resize handler,  attached to document.body mousemove event.
         *
         * @param {Event} event	DOM event object.
         * 
         * @return {undefined}
         */
        function resize(event) {
            if (resizable) {
                var eventSrc;
                if (event.type === 'touchmove') {
                    event.preventDefault();
                    eventSrc = event.targetTouches[0];
                } else if (event.button === 0) {
                    eventSrc = event;
                }
                if (eventSrc) {
                    resizeElement(eventSrc, resizable.elements.dialog, !resizable.get('modal') && !resizable.get('pinned'));
                }
            }
        }

        /**
         * Triggers the end of a resize event,  attached to document.body mouseup event.
         * Removes no-selection class from document.body, allowing selection.
         *
         * @return {undefined}
         */
        function endResize() {
            if (resizable) {
                var instance = resizable;
                resizable = null;
                removeClass(document.body, classes.noSelection);
                removeClass(instance.elements.dialog, classes.capture);
                cancelClick = true;
                // allow custom `onresized` method
                dispatchEvent('onresized', instance);
            }
        }

        /**
         * Resets any changes made by resizing the element to its original state.
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function resetResize(instance) {
            resizable = null;
            var element = instance.elements.dialog;
            if (element.style.maxWidth === 'none') {
                //clear inline styles.
                element.style.maxWidth = element.style.minWidth = element.style.width = element.style.height = element.style.minHeight = element.style.left = '';
                //reset variables.
                startingLeft = Number.Nan;
                startingWidth = minWidth = handleOffset = 0;
            }
        }


        /**
         * Updates the dialog move behavior.
         *
         * @param {Object} instance The dilog instance.
         * @param {Boolean} on True to add the behavior, removes it otherwise.
         *
         * @return {undefined}
         */
        function updateResizable(instance) {
            if (instance.get('resizable')) {
                // add class
                addClass(instance.elements.root, classes.resizable);
                if (instance.isOpen()) {
                    bindResizableEvents(instance);
                }
            } else {
                //reset
                resetResize(instance);
                // remove class
                removeClass(instance.elements.root, classes.resizable);
                if (instance.isOpen()) {
                    unbindResizableEvents(instance);
                }
            }
        }

        /**
         * Reset move/resize on window resize.
         *
         * @param {Event} event	window resize event object.
         *
         * @return {undefined}
         */
        function windowResize(/*event*/) {
            for (var x = 0; x < openDialogs.length; x += 1) {
                var instance = openDialogs[x];
                if (instance.get('autoReset')) {
                    resetMove(instance);
                    resetResize(instance);
                }
            }
        }
        /**
         * Bind dialogs events
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function bindEvents(instance) {
            // if first dialog, hook global handlers
            if (openDialogs.length === 1) {
                //global
                on(window, 'resize', windowResize);
                on(document.body, 'keyup', keyupHandler);
                on(document.body, 'keydown', keydownHandler);
                on(document.body, 'focus', onReset);

                //move
                on(document.documentElement, 'mousemove', move);
                on(document.documentElement, 'touchmove', move);
                on(document.documentElement, 'mouseup', endMove);
                on(document.documentElement, 'touchend', endMove);
                //resize
                on(document.documentElement, 'mousemove', resize);
                on(document.documentElement, 'touchmove', resize);
                on(document.documentElement, 'mouseup', endResize);
                on(document.documentElement, 'touchend', endResize);
            }

            // common events
            on(instance.elements.commands.container, 'click', instance.__internal.commandsClickHandler);
            on(instance.elements.footer, 'click', instance.__internal.buttonsClickHandler);
            on(instance.elements.reset[0], 'focus', instance.__internal.resetHandler);
            on(instance.elements.reset[1], 'focus', instance.__internal.resetHandler);

            //prevent handling key up when dialog is being opened by a key stroke.
            cancelKeyup = true;
            // hook in transition handler
            on(instance.elements.dialog, transition.type, instance.__internal.transitionInHandler);

            // modelss only events
            if (!instance.get('modal')) {
                bindModelessEvents(instance);
            }

            // resizable
            if (instance.get('resizable')) {
                bindResizableEvents(instance);
            }

            // movable
            if (instance.get('movable')) {
                bindMovableEvents(instance);
            }
        }

        /**
         * Unbind dialogs events
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function unbindEvents(instance) {
            // if last dialog, remove global handlers
            if (openDialogs.length === 1) {
                //global
                off(window, 'resize', windowResize);
                off(document.body, 'keyup', keyupHandler);
                off(document.body, 'keydown', keydownHandler);
                off(document.body, 'focus', onReset);
                //move
                off(document.documentElement, 'mousemove', move);
                off(document.documentElement, 'mouseup', endMove);
                //resize
                off(document.documentElement, 'mousemove', resize);
                off(document.documentElement, 'mouseup', endResize);
            }

            // common events
            off(instance.elements.commands.container, 'click', instance.__internal.commandsClickHandler);
            off(instance.elements.footer, 'click', instance.__internal.buttonsClickHandler);
            off(instance.elements.reset[0], 'focus', instance.__internal.resetHandler);
            off(instance.elements.reset[1], 'focus', instance.__internal.resetHandler);

            // hook out transition handler
            on(instance.elements.dialog, transition.type, instance.__internal.transitionOutHandler);

            // modelss only events
            if (!instance.get('modal')) {
                unbindModelessEvents(instance);
            }

            // movable
            if (instance.get('movable')) {
                unbindMovableEvents(instance);
            }

            // resizable
            if (instance.get('resizable')) {
                unbindResizableEvents(instance);
            }

        }

        /**
         * Bind modeless specific events
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function bindModelessEvents(instance) {
            on(instance.elements.dialog, 'focus', instance.__internal.bringToFrontHandler, true);
        }

        /**
         * Unbind modeless specific events
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function unbindModelessEvents(instance) {
            off(instance.elements.dialog, 'focus', instance.__internal.bringToFrontHandler, true);
        }



        /**
         * Bind movable specific events
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function bindMovableEvents(instance) {
            on(instance.elements.header, 'mousedown', instance.__internal.beginMoveHandler);
            on(instance.elements.header, 'touchstart', instance.__internal.beginMoveHandler);
        }

        /**
         * Unbind movable specific events
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function unbindMovableEvents(instance) {
            off(instance.elements.header, 'mousedown', instance.__internal.beginMoveHandler);
            off(instance.elements.header, 'touchstart', instance.__internal.beginMoveHandler);
        }



        /**
         * Bind resizable specific events
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function bindResizableEvents(instance) {
            on(instance.elements.resizeHandle, 'mousedown', instance.__internal.beginResizeHandler);
            on(instance.elements.resizeHandle, 'touchstart', instance.__internal.beginResizeHandler);
        }

        /**
         * Unbind resizable specific events
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function unbindResizableEvents(instance) {
            off(instance.elements.resizeHandle, 'mousedown', instance.__internal.beginResizeHandler);
            off(instance.elements.resizeHandle, 'touchstart', instance.__internal.beginResizeHandler);
        }

        /**
         * Bind closable events
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function bindClosableEvents(instance) {
            on(instance.elements.modal, 'click', instance.__internal.modalClickHandler);
        }

        /**
         * Unbind closable specific events
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function unbindClosableEvents(instance) {
            off(instance.elements.modal, 'click', instance.__internal.modalClickHandler);
        }
        // dialog API
        return {
            __init:initialize,
            /**
             * Check if dialog is currently open
             *
             * @return {Boolean}
             */
            isOpen: function () {
                return this.__internal.isOpen;
            },
            isModal: function (){
                return this.elements.root.className.indexOf(classes.modeless) < 0;
            },
            isMaximized:function(){
                return this.elements.root.className.indexOf(classes.maximized) > -1;
            },
            isPinned:function(){
                return this.elements.root.className.indexOf(classes.unpinned) < 0;
            },
            maximize:function(){
                if(!this.isMaximized()){
                    maximize(this);
                }
                return this;
            },
            restore:function(){
                if(this.isMaximized()){
                    restore(this);
                }
                return this;
            },
            pin:function(){
                if(!this.isPinned()){
                    pin(this);
                }
                return this;
            },
            unpin:function(){
                if(this.isPinned()){
                    unpin(this);
                }
                return this;
            },
            bringToFront:function(){
                bringToFront(null, this);
                return this;
            },
            /**
             * Move the dialog to a specific x/y coordinates
             *
             * @param {Number} x    The new dialog x coordinate in pixels.
             * @param {Number} y    The new dialog y coordinate in pixels.
             *
             * @return {Object} The dialog instance.
             */
            moveTo:function(x,y){
                if(!isNaN(x) && !isNaN(y)){
                    // allow custom `onmove` method
                    dispatchEvent('onmove', this);
                    
                    var element = this.elements.dialog,
                        current = element,
                        offsetLeft = 0,
                        offsetTop = 0;
                    
                    //subtract existing left,top
                    if (element.style.left) {
                        offsetLeft -= parseInt(element.style.left, 10);
                    }
                    if (element.style.top) {
                        offsetTop -= parseInt(element.style.top, 10);
                    }
                    //calc offset
                    do {
                        offsetLeft += current.offsetLeft;
                        offsetTop += current.offsetTop;
                    } while (current = current.offsetParent);

                    //calc left, top
                    var left = (x - offsetLeft);
                    var top  = (y - offsetTop);

                    //// rtl handling
                    if (isRightToLeft()) {
                        left *= -1;
                    }

                    element.style.left = left + 'px';
                    element.style.top = top + 'px';
                    
                    // allow custom `onmoved` method
                    dispatchEvent('onmoved', this);
                }
                return this;
            },
            /**
             * Resize the dialog to a specific width/height (the dialog must be 'resizable').
             * The dialog can be resized to:
             *  A minimum width equal to the initial display width
             *  A minimum height equal to the sum of header/footer heights.
             *
             *
             * @param {Number or String} width    The new dialog width in pixels or in percent.
             * @param {Number or String} height   The new dialog height in pixels or in percent.
             *
             * @return {Object} The dialog instance.
             */
            resizeTo:function(width,height){
                var w = parseFloat(width),
                    h = parseFloat(height),
                    regex = /(\d*\.\d+|\d+)%/;

                if(!isNaN(w) && !isNaN(h) && this.get('resizable') === true){
                    
                    // allow custom `onresize` method
                    dispatchEvent('onresize', this);
                    
                    if(('' + width).match(regex)){
                        w = w / 100 * document.documentElement.clientWidth ;
                    }

                    if(('' + height).match(regex)){
                        h = h / 100 * document.documentElement.clientHeight;
                    }

                    var element = this.elements.dialog;
                    if (element.style.maxWidth !== 'none') {
                        element.style.minWidth = (minWidth = element.offsetWidth) + 'px';
                    }
                    element.style.maxWidth = 'none';
                    element.style.minHeight = this.elements.header.offsetHeight + this.elements.footer.offsetHeight + 'px';
                    element.style.width = w + 'px';
                    element.style.height = h + 'px';
                    
                    // allow custom `onresized` method
                    dispatchEvent('onresized', this);
                }
                return this;
            },
            /**
             * Gets or Sets dialog settings/options 
             *
             * @param {String|Object} key A string specifying a propery name or a collection of key/value pairs.
             * @param {Object} value Optional, the value associated with the key (in case it was a string).
             *
             * @return {undefined}
             */
            setting : function (key, value) {
                var self = this;
                var result = update(this, this.__internal.options, function(k,o,n){ optionUpdated(self,k,o,n); }, key, value);
                if(result.op === 'get'){
                    if(result.found){
                        return result.value;
                    }else if(typeof this.settings !== 'undefined'){
                        return update(this, this.settings, this.settingUpdated || function(){}, key, value).value;
                    }else{
                        return undefined;
                    }
                }else if(result.op === 'set'){
                    if(result.items.length > 0){
                        var callback = this.settingUpdated || function(){};
                        for(var x=0;x<result.items.length;x+=1){
                            var item = result.items[x];
                            if(!item.found && typeof this.settings !== 'undefined'){
                                update(this, this.settings, callback, item.key, item.value);
                            }
                        }
                    }
                    return this;
                }
            },
            /**
             * [Alias] Sets dialog settings/options 
             */
            set:function(key, value){
                this.setting(key,value);
                return this;
            },
            /**
             * [Alias] Gets dialog settings/options 
             */
            get:function(key){
                return this.setting(key);
            },
            /**
            * Sets dialog header
            * @content {string or element}
            *
            * @return {undefined}
            */
            setHeader:function(content){
                if(typeof content === 'string'){
                    clearContents(this.elements.header);
                    this.elements.header.innerHTML = content;
                }else if (content instanceof window.HTMLElement && this.elements.header.firstChild !== content){
                    clearContents(this.elements.header);
                    this.elements.header.appendChild(content);
                }
                return this;
            },
            /**
            * Sets dialog contents
            * @content {string or element}
            *
            * @return {undefined}
            */
            setContent:function(content){
                if(typeof content === 'string'){
                    clearContents(this.elements.content);
                    this.elements.content.innerHTML = content;
                }else if (content instanceof window.HTMLElement && this.elements.content.firstChild !== content){
                    clearContents(this.elements.content);
                    this.elements.content.appendChild(content);
                }
                return this;
            },
            /**
             * Show the dialog as modal
             *
             * @return {Object} the dialog instance.
             */
            showModal: function(className){
                return this.show(true, className);
            },
            /**
             * Show the dialog
             *
             * @return {Object} the dialog instance.
             */
            show: function (modal, className) {
                
                // ensure initialization
                initialize(this);

                if ( !this.__internal.isOpen ) {

                    // add to open dialogs
                    this.__internal.isOpen = true;
                    openDialogs.push(this);

                    // save last focused element
                    if(alertify.defaults.maintainFocus){
                        this.__internal.activeElement = document.activeElement;
                    }

                    //allow custom dom manipulation updates before showing the dialog.
                    if(typeof this.prepare === 'function'){
                        this.prepare();
                    }

                    bindEvents(this);

                    if(modal !== undefined){
                        this.set('modal', modal);
                    }

                    //save scroll to prevent document jump
                    saveScrollPosition();

                    ensureNoOverflow();

                    // allow custom dialog class on show
                    if(typeof className === 'string' && className !== ''){
                        this.__internal.className = className;
                        addClass(this.elements.root, className);
                    }

                    // maximize if start maximized
                    if ( this.get('startMaximized')) {
                        this.maximize();
                    }else if(this.isMaximized()){
                        restore(this);
                    }

                    updateAbsPositionFix(this);

                    removeClass(this.elements.root, classes.animationOut);
                    addClass(this.elements.root, classes.animationIn);

                    // set 1s fallback in case transition event doesn't fire
                    clearTimeout( this.__internal.timerIn);
                    this.__internal.timerIn = setTimeout( this.__internal.transitionInHandler, transition.supported ? 1000 : 100 );

                    if(isSafari){
                        // force desktop safari reflow
                        var root = this.elements.root;
                        root.style.display  = 'none';
                        setTimeout(function(){root.style.display  = 'block';}, 0);
                    }

                    //reflow
                    reflow = this.elements.root.offsetWidth;
                  
                    // show dialog
                    removeClass(this.elements.root, classes.hidden);

                    // internal on show event
                    if(typeof this.hooks.onshow === 'function'){
                        this.hooks.onshow.call(this);
                    }

                    // allow custom `onshow` method
                    dispatchEvent('onshow', this);

                }else{
                    // reset move updates
                    resetMove(this);
                    // reset resize updates
                    resetResize(this);
                    // shake the dialog to indicate its already open
                    addClass(this.elements.dialog, classes.shake);
                    var self = this;
                    setTimeout(function(){
                        removeClass(self.elements.dialog, classes.shake);
                    },200);
                }
                return this;
            },
            /**
             * Close the dialog
             *
             * @return {Object} The dialog instance
             */
            close: function () {
                if (this.__internal.isOpen ) {
                    // custom `onclosing` event
                    if(dispatchEvent('onclosing', this) !== false){

                        unbindEvents(this);

                        removeClass(this.elements.root, classes.animationIn);
                        addClass(this.elements.root, classes.animationOut);

                        // set 1s fallback in case transition event doesn't fire
                        clearTimeout( this.__internal.timerOut );
                        this.__internal.timerOut = setTimeout( this.__internal.transitionOutHandler, transition.supported ? 1000 : 100 );
                        // hide dialog
                        addClass(this.elements.root, classes.hidden);
                        //reflow
                        reflow = this.elements.modal.offsetWidth;

                        // remove custom dialog class on hide
                        if (typeof this.__internal.className !== 'undefined' && this.__internal.className !== '') {
                            removeClass(this.elements.root, this.__internal.className);
                        }

                        // internal on close event
                        if(typeof this.hooks.onclose === 'function'){
                            this.hooks.onclose.call(this);
                        }

                        // allow custom `onclose` method
                        dispatchEvent('onclose', this);

                        //remove from open dialogs
                        openDialogs.splice(openDialogs.indexOf(this),1);
                        this.__internal.isOpen = false;

                        ensureNoOverflow();
                    }

                }
                return this;
            },
            /**
             * Close all open dialogs except this.
             *
             * @return {undefined}
             */
            closeOthers:function(){
                alertify.closeAll(this);
                return this;
            },
            /**
             * Destroys this dialog instance
             *
             * @return {undefined}
             */
            destroy:function(){
                if (this.__internal.isOpen ) {
                    //mark dialog for destruction, this will be called on tranistionOut event.
                    this.__internal.destroy = function(){
                        destruct(this, initialize);
                    };
                    //close the dialog to unbind all events.
                    this.close();
                }else{
                    destruct(this, initialize);
                }
                return this;
            },
        };
	} () );
    var notifier = (function () {
        var reflow,
            element,
            openInstances = [],
            classes = {
                base: 'alertify-notifier',
                message: 'ajs-message',
                top: 'ajs-top',
                right: 'ajs-right',
                bottom: 'ajs-bottom',
                left: 'ajs-left',
                center: 'ajs-center',
                visible: 'ajs-visible',
                hidden: 'ajs-hidden',
                close: 'ajs-close'
            };
        /**
         * Helper: initializes the notifier instance
         *
         */
        function initialize(instance) {

            if (!instance.__internal) {
                instance.__internal = {
                    position: alertify.defaults.notifier.position,
                    delay: alertify.defaults.notifier.delay,
                };

                element = document.createElement('DIV');

                updatePosition(instance);
            }

            //add to DOM tree.
            if (element.parentNode !== document.body) {
                document.body.appendChild(element);
            }
        }

        function pushInstance(instance) {
            instance.__internal.pushed = true;
            openInstances.push(instance);
        }
        function popInstance(instance) {
            openInstances.splice(openInstances.indexOf(instance), 1);
            instance.__internal.pushed = false;
        }
        /**
         * Helper: update the notifier instance position
         *
         */
        function updatePosition(instance) {
            element.className = classes.base;
            switch (instance.__internal.position) {
            case 'top-right':
                addClass(element, classes.top + ' ' + classes.right);
                break;
            case 'top-left':
                addClass(element, classes.top + ' ' + classes.left);
                break;
            case 'top-center':
                addClass(element, classes.top + ' ' + classes.center);
                break;
            case 'bottom-left':
                addClass(element, classes.bottom + ' ' + classes.left);
                break;
            case 'bottom-center':
                addClass(element, classes.bottom + ' ' + classes.center);
                break;

            default:
            case 'bottom-right':
                addClass(element, classes.bottom + ' ' + classes.right);
                break;
            }
        }

        /**
        * creates a new notification message
        *
        * @param  {DOMElement} message	The notifier message element
        * @param  {Number} wait   Time (in ms) to wait before the message is dismissed, a value of 0 means keep open till clicked.
        * @param  {Function} callback A callback function to be invoked when the message is dismissed.
        *
        * @return {undefined}
        */
        function create(div, callback) {

            function clickDelegate(event, instance) {
                if(!instance.__internal.closeButton || event.target.getAttribute('data-close') === 'true'){
                    instance.dismiss(true);
                }
            }

            function transitionDone(event, instance) {
                // unbind event
                off(instance.element, transition.type, transitionDone);
                // remove the message
                element.removeChild(instance.element);
            }

            function initialize(instance) {
                if (!instance.__internal) {
                    instance.__internal = {
                        pushed: false,
                        delay : undefined,
                        timer: undefined,
                        clickHandler: undefined,
                        transitionEndHandler: undefined,
                        transitionTimeout: undefined
                    };
                    instance.__internal.clickHandler = delegate(instance, clickDelegate);
                    instance.__internal.transitionEndHandler = delegate(instance, transitionDone);
                }
                return instance;
            }
            function clearTimers(instance) {
                clearTimeout(instance.__internal.timer);
                clearTimeout(instance.__internal.transitionTimeout);
            }
            return initialize({
                /* notification DOM element*/
                element: div,
                /*
                 * Pushes a notification message
                 * @param {string or DOMElement} content The notification message content
                 * @param {Number} wait The time (in seconds) to wait before the message is dismissed, a value of 0 means keep open till clicked.
                 *
                 */
                push: function (_content, _wait) {
                    if (!this.__internal.pushed) {

                        pushInstance(this);
                        clearTimers(this);

                        var content, wait;
                        switch (arguments.length) {
                        case 0:
                            wait = this.__internal.delay;
                            break;
                        case 1:
                            if (typeof (_content) === 'number') {
                                wait = _content;
                            } else {
                                content = _content;
                                wait = this.__internal.delay;
                            }
                            break;
                        case 2:
                            content = _content;
                            wait = _wait;
                            break;
                        }
                        this.__internal.closeButton = alertify.defaults.notifier.closeButton;
                        // set contents
                        if (typeof content !== 'undefined') {
                            this.setContent(content);
                        }
                        // append or insert
                        if (notifier.__internal.position.indexOf('top') < 0) {
                            element.appendChild(this.element);
                        } else {
                            element.insertBefore(this.element, element.firstChild);
                        }
                        reflow = this.element.offsetWidth;
                        addClass(this.element, classes.visible);
                        // attach click event
                        on(this.element, 'click', this.__internal.clickHandler);
                        return this.delay(wait);
                    }
                    return this;
                },
                /*
                 * {Function} callback function to be invoked before dismissing the notification message.
                 * Remarks: A return value === 'false' will cancel the dismissal
                 *
                 */
                ondismiss: function () { },
                /*
                 * {Function} callback function to be invoked when the message is dismissed.
                 *
                 */
                callback: callback,
                /*
                 * Dismisses the notification message
                 * @param {Boolean} clicked A flag indicating if the dismissal was caused by a click.
                 *
                 */
                dismiss: function (clicked) {
                    if (this.__internal.pushed) {
                        clearTimers(this);
                        if (!(typeof this.ondismiss === 'function' && this.ondismiss.call(this) === false)) {
                            //detach click event
                            off(this.element, 'click', this.__internal.clickHandler);
                            // ensure element exists
                            if (typeof this.element !== 'undefined' && this.element.parentNode === element) {
                                //transition end or fallback
                                this.__internal.transitionTimeout = setTimeout(this.__internal.transitionEndHandler, transition.supported ? 1000 : 100);
                                removeClass(this.element, classes.visible);

                                // custom callback on dismiss
                                if (typeof this.callback === 'function') {
                                    this.callback.call(this, clicked);
                                }
                            }
                            popInstance(this);
                        }
                    }
                    return this;
                },
                /*
                 * Delays the notification message dismissal
                 * @param {Number} wait The time (in seconds) to wait before the message is dismissed, a value of 0 means keep open till clicked.
                 *
                 */
                delay: function (wait) {
                    clearTimers(this);
                    this.__internal.delay = typeof wait !== 'undefined' && !isNaN(+wait) ? +wait : notifier.__internal.delay;
                    if (this.__internal.delay > 0) {
                        var  self = this;
                        this.__internal.timer = setTimeout(function () { self.dismiss(); }, this.__internal.delay * 1000);
                    }
                    return this;
                },
                /*
                 * Sets the notification message contents
                 * @param {string or DOMElement} content The notification message content
                 *
                 */
                setContent: function (content) {
                    if (typeof content === 'string') {
                        clearContents(this.element);
                        this.element.innerHTML = content;
                    } else if (content instanceof window.HTMLElement && this.element.firstChild !== content) {
                        clearContents(this.element);
                        this.element.appendChild(content);
                    }
                    if(this.__internal.closeButton){
                        var close = document.createElement('span');
                        addClass(close, classes.close);
                        close.setAttribute('data-close', true);
                        this.element.appendChild(close);
                    }
                    return this;
                },
                /*
                 * Dismisses all open notifications except this.
                 *
                 */
                dismissOthers: function () {
                    notifier.dismissAll(this);
                    return this;
                }
            });
        }

        //notifier api
        return {
            /**
             * Gets or Sets notifier settings.
             *
             * @param {string} key The setting name
             * @param {Variant} value The setting value.
             *
             * @return {Object}	if the called as a setter, return the notifier instance.
             */
            setting: function (key, value) {
                //ensure init
                initialize(this);

                if (typeof value === 'undefined') {
                    //get
                    return this.__internal[key];
                } else {
                    //set
                    switch (key) {
                    case 'position':
                        this.__internal.position = value;
                        updatePosition(this);
                        break;
                    case 'delay':
                        this.__internal.delay = value;
                        break;
                    }
                }
                return this;
            },
            /**
             * [Alias] Sets dialog settings/options
             */
            set:function(key,value){
                this.setting(key,value);
                return this;
            },
            /**
             * [Alias] Gets dialog settings/options
             */
            get:function(key){
                return this.setting(key);
            },
            /**
             * Creates a new notification message
             *
             * @param {string} type The type of notification message (simply a CSS class name 'ajs-{type}' to be added).
             * @param {Function} callback  A callback function to be invoked when the message is dismissed.
             *
             * @return {undefined}
             */
            create: function (type, callback) {
                //ensure notifier init
                initialize(this);
                //create new notification message
                var div = document.createElement('div');
                div.className = classes.message + ((typeof type === 'string' && type !== '') ? ' ajs-' + type : '');
                return create(div, callback);
            },
            /**
             * Dismisses all open notifications.
             *
             * @param {Object} excpet [optional] The notification object to exclude from dismissal.
             *
             */
            dismissAll: function (except) {
                var clone = openInstances.slice(0);
                for (var x = 0; x < clone.length; x += 1) {
                    var  instance = clone[x];
                    if (except === undefined || except !== instance) {
                        instance.dismiss();
                    }
                }
            }
        };
    })();

    /**
     * Alertify public API
     * This contains everything that is exposed through the alertify object.
     *
     * @return {Object}
     */
    function Alertify() {

        // holds a references of created dialogs
        var dialogs = {};

        /**
         * Extends a given prototype by merging properties from base into sub.
         *
         * @sub {Object} sub The prototype being overwritten.
         * @base {Object} base The prototype being written.
         *
         * @return {Object} The extended prototype.
         */
        function extend(sub, base) {
            // copy dialog pototype over definition.
            for (var prop in base) {
                if (base.hasOwnProperty(prop)) {
                    sub[prop] = base[prop];
                }
            }
            return sub;
        }


        /**
        * Helper: returns a dialog instance from saved dialogs.
        * and initializes the dialog if its not already initialized.
        *
        * @name {String} name The dialog name.
        *
        * @return {Object} The dialog instance.
        */
        function get_dialog(name) {
            var dialog = dialogs[name].dialog;
            //initialize the dialog if its not already initialized.
            if (dialog && typeof dialog.__init === 'function') {
                dialog.__init(dialog);
            }
            return dialog;
        }

        /**
         * Helper:  registers a new dialog definition.
         *
         * @name {String} name The dialog name.
         * @Factory {Function} Factory a function resposible for creating dialog prototype.
         * @transient {Boolean} transient True to create a new dialog instance each time the dialog is invoked, false otherwise.
         * @base {String} base the name of another dialog to inherit from.
         *
         * @return {Object} The dialog definition.
         */
        function register(name, Factory, transient, base) {
            var definition = {
                dialog: null,
                factory: Factory
            };

            //if this is based on an existing dialog, create a new definition
            //by applying the new protoype over the existing one.
            if (base !== undefined) {
                definition.factory = function () {
                    return extend(new dialogs[base].factory(), new Factory());
                };
            }

            if (!transient) {
                //create a new definition based on dialog
                definition.dialog = extend(new definition.factory(), dialog);
            }
            return dialogs[name] = definition;
        }

        return {
            /**
             * Alertify defaults
             * 
             * @type {Object}
             */
            defaults: defaults,
            /**
             * Dialogs factory 
             *
             * @param {string}      Dialog name.
             * @param {Function}    A Dialog factory function.
             * @param {Boolean}     Indicates whether to create a singleton or transient dialog.
             * @param {String}      The name of the base type to inherit from.
             */
            dialog: function (name, Factory, transient, base) {

                // get request, create a new instance and return it.
                if (typeof Factory !== 'function') {
                    return get_dialog(name);
                }

                if (this.hasOwnProperty(name)) {
                    throw new Error('alertify.dialog: name already exists');
                }

                // register the dialog
                var definition = register(name, Factory, transient, base);

                if (transient) {

                    // make it public
                    this[name] = function () {
                        //if passed with no params, consider it a get request
                        if (arguments.length === 0) {
                            return definition.dialog;
                        } else {
                            var instance = extend(new definition.factory(), dialog);
                            //ensure init
                            if (instance && typeof instance.__init === 'function') {
                                instance.__init(instance);
                            }
                            instance['main'].apply(instance, arguments);
                            return instance['show'].apply(instance);
                        }
                    };
                } else {
                    // make it public
                    this[name] = function () {
                        //ensure init
                        if (definition.dialog && typeof definition.dialog.__init === 'function') {
                            definition.dialog.__init(definition.dialog);
                        }
                        //if passed with no params, consider it a get request
                        if (arguments.length === 0) {
                            return definition.dialog;
                        } else {
                            var dialog = definition.dialog;
                            dialog['main'].apply(definition.dialog, arguments);
                            return dialog['show'].apply(definition.dialog);
                        }
                    };
                }
            },
            /**
             * Close all open dialogs.
             *
             * @param {Object} excpet [optional] The dialog object to exclude from closing.
             *
             * @return {undefined}
             */
            closeAll: function (except) {
                var clone = openDialogs.slice(0);
                for (var x = 0; x < clone.length; x += 1) {
                    var instance = clone[x];
                    if (except === undefined || except !== instance) {
                        instance.close();
                    }
                }
            },
            /**
             * Gets or Sets dialog settings/options. if the dialog is transient, this call does nothing.
             *
             * @param {string} name The dialog name.
             * @param {String|Object} key A string specifying a propery name or a collection of key/value pairs.
             * @param {Variant} value Optional, the value associated with the key (in case it was a string).
             *
             * @return {undefined}
             */
            setting: function (name, key, value) {

                if (name === 'notifier') {
                    return notifier.setting(key, value);
                }

                var dialog = get_dialog(name);
                if (dialog) {
                    return dialog.setting(key, value);
                }
            },
            /**
             * [Alias] Sets dialog settings/options 
             */
            set: function(name,key,value){
                return this.setting(name, key,value);
            },
            /**
             * [Alias] Gets dialog settings/options 
             */
            get: function(name, key){
                return this.setting(name, key);
            },
            /**
             * Creates a new notification message.
             * If a type is passed, a class name "ajs-{type}" will be added.
             * This allows for custom look and feel for various types of notifications.
             *
             * @param  {String | DOMElement}    [message=undefined]		Message text
             * @param  {String}                 [type='']				Type of log message
             * @param  {String}                 [wait='']				Time (in seconds) to wait before auto-close
             * @param  {Function}               [callback=undefined]	A callback function to be invoked when the log is closed.
             *
             * @return {Object} Notification object.
             */
            notify: function (message, type, wait, callback) {
                return notifier.create(type, callback).push(message, wait);
            },
            /**
             * Creates a new notification message.
             *
             * @param  {String}		[message=undefined]		Message text
             * @param  {String}     [wait='']				Time (in seconds) to wait before auto-close
             * @param  {Function}	[callback=undefined]	A callback function to be invoked when the log is closed.
             *
             * @return {Object} Notification object.
             */
            message: function (message, wait, callback) {
                return notifier.create(null, callback).push(message, wait);
            },
            /**
             * Creates a new notification message of type 'success'.
             *
             * @param  {String}		[message=undefined]		Message text
             * @param  {String}     [wait='']				Time (in seconds) to wait before auto-close
             * @param  {Function}	[callback=undefined]	A callback function to be invoked when the log is closed.
             *
             * @return {Object} Notification object.
             */
            success: function (message, wait, callback) {
                return notifier.create('success', callback).push(message, wait);
            },
            /**
             * Creates a new notification message of type 'error'.
             *
             * @param  {String}		[message=undefined]		Message text
             * @param  {String}     [wait='']				Time (in seconds) to wait before auto-close
             * @param  {Function}	[callback=undefined]	A callback function to be invoked when the log is closed.
             *
             * @return {Object} Notification object.
             */
            error: function (message, wait, callback) {
                return notifier.create('error', callback).push(message, wait);
            },
            /**
             * Creates a new notification message of type 'warning'.
             *
             * @param  {String}		[message=undefined]		Message text
             * @param  {String}     [wait='']				Time (in seconds) to wait before auto-close
             * @param  {Function}	[callback=undefined]	A callback function to be invoked when the log is closed.
             *
             * @return {Object} Notification object.
             */
            warning: function (message, wait, callback) {
                return notifier.create('warning', callback).push(message, wait);
            },
            /**
             * Dismisses all open notifications
             *
             * @return {undefined}
             */
            dismissAll: function () {
                notifier.dismissAll();
            }
        };
    }
    var alertify = new Alertify();

    /**
    * Alert dialog definition
    *
    * invoked by:
    *	alertify.alert(message);
    *	alertify.alert(title, message);
    *	alertify.alert(message, onok);
    *	alertify.alert(title, message, onok);
     */
    alertify.dialog('alert', function () {
        return {
            main: function (_title, _message, _onok) {
                var title, message, onok;
                switch (arguments.length) {
                case 1:
                    message = _title;
                    break;
                case 2:
                    if (typeof _message === 'function') {
                        message = _title;
                        onok = _message;
                    } else {
                        title = _title;
                        message = _message;
                    }
                    break;
                case 3:
                    title = _title;
                    message = _message;
                    onok = _onok;
                    break;
                }
                this.set('title', title);
                this.set('message', message);
                this.set('onok', onok);
                return this;
            },
            setup: function () {
                return {
                    buttons: [
                        {
                            text: alertify.defaults.glossary.ok,
                            key: keys.ESC,
                            invokeOnClose: true,
                            className: alertify.defaults.theme.ok,
                        }
                    ],
                    focus: {
                        element: 0,
                        select: false
                    },
                    options: {
                        maximizable: false,
                        resizable: false
                    }
                };
            },
            build: function () {
                // nothing
            },
            prepare: function () {
                //nothing
            },
            setMessage: function (message) {
                this.setContent(message);
            },
            settings: {
                message: undefined,
                onok: undefined,
                label: undefined,
            },
            settingUpdated: function (key, oldValue, newValue) {
                switch (key) {
                case 'message':
                    this.setMessage(newValue);
                    break;
                case 'label':
                    if (this.__internal.buttons[0].element) {
                        this.__internal.buttons[0].element.innerHTML = newValue;
                    }
                    break;
                }
            },
            callback: function (closeEvent) {
                if (typeof this.get('onok') === 'function') {
                    var returnValue = this.get('onok').call(this, closeEvent);
                    if (typeof returnValue !== 'undefined') {
                        closeEvent.cancel = !returnValue;
                    }
                }
            }
        };
    });
    /**
     * Confirm dialog object
     *
     *	alertify.confirm(message);
     *	alertify.confirm(message, onok);
     *	alertify.confirm(message, onok, oncancel);
     *	alertify.confirm(title, message, onok, oncancel);
     */
    alertify.dialog('confirm', function () {

        var autoConfirm = {
            timer: null,
            index: null,
            text: null,
            duration: null,
            task: function (event, self) {
                if (self.isOpen()) {
                    self.__internal.buttons[autoConfirm.index].element.innerHTML = autoConfirm.text + ' (&#8207;' + autoConfirm.duration + '&#8207;) ';
                    autoConfirm.duration -= 1;
                    if (autoConfirm.duration === -1) {
                        clearAutoConfirm(self);
                        var button = self.__internal.buttons[autoConfirm.index];
                        var closeEvent = createCloseEvent(autoConfirm.index, button);

                        if (typeof self.callback === 'function') {
                            self.callback.apply(self, [closeEvent]);
                        }
                        //close the dialog.
                        if (closeEvent.close !== false) {
                            self.close();
                        }
                    }
                } else {
                    clearAutoConfirm(self);
                }
            }
        };

        function clearAutoConfirm(self) {
            if (autoConfirm.timer !== null) {
                clearInterval(autoConfirm.timer);
                autoConfirm.timer = null;
                self.__internal.buttons[autoConfirm.index].element.innerHTML = autoConfirm.text;
            }
        }

        function startAutoConfirm(self, index, duration) {
            clearAutoConfirm(self);
            autoConfirm.duration = duration;
            autoConfirm.index = index;
            autoConfirm.text = self.__internal.buttons[index].element.innerHTML;
            autoConfirm.timer = setInterval(delegate(self, autoConfirm.task), 1000);
            autoConfirm.task(null, self);
        }


        return {
            main: function (_title, _message, _onok, _oncancel) {
                var title, message, onok, oncancel;
                switch (arguments.length) {
                case 1:
                    message = _title;
                    break;
                case 2:
                    message = _title;
                    onok = _message;
                    break;
                case 3:
                    message = _title;
                    onok = _message;
                    oncancel = _onok;
                    break;
                case 4:
                    title = _title;
                    message = _message;
                    onok = _onok;
                    oncancel = _oncancel;
                    break;
                }
                this.set('title', title);
                this.set('message', message);
                this.set('onok', onok);
                this.set('oncancel', oncancel);
                return this;
            },
            setup: function () {
                return {
                    buttons: [
                        {
                            text: alertify.defaults.glossary.ok,
                            key: keys.ENTER,
                            className: alertify.defaults.theme.ok,
                        },
                        {
                            text: alertify.defaults.glossary.cancel,
                            key: keys.ESC,
                            invokeOnClose: true,
                            className: alertify.defaults.theme.cancel,
                        }
                    ],
                    focus: {
                        element: 0,
                        select: false
                    },
                    options: {
                        maximizable: false,
                        resizable: false
                    }
                };
            },
            build: function () {
                //nothing
            },
            prepare: function () {
                //nothing
            },
            setMessage: function (message) {
                this.setContent(message);
            },
            settings: {
                message: null,
                labels: null,
                onok: null,
                oncancel: null,
                defaultFocus: null,
                reverseButtons: null,
            },
            settingUpdated: function (key, oldValue, newValue) {
                switch (key) {
                case 'message':
                    this.setMessage(newValue);
                    break;
                case 'labels':
                    if ('ok' in newValue && this.__internal.buttons[0].element) {
                        this.__internal.buttons[0].text = newValue.ok;
                        this.__internal.buttons[0].element.innerHTML = newValue.ok;
                    }
                    if ('cancel' in newValue && this.__internal.buttons[1].element) {
                        this.__internal.buttons[1].text = newValue.cancel;
                        this.__internal.buttons[1].element.innerHTML = newValue.cancel;
                    }
                    break;
                case 'reverseButtons':
                    if (newValue === true) {
                        this.elements.buttons.primary.appendChild(this.__internal.buttons[0].element);
                    } else {
                        this.elements.buttons.primary.appendChild(this.__internal.buttons[1].element);
                    }
                    break;
                case 'defaultFocus':
                    this.__internal.focus.element = newValue === 'ok' ? 0 : 1;
                    break;
                }
            },
            callback: function (closeEvent) {
                clearAutoConfirm(this);
                var returnValue;
                switch (closeEvent.index) {
                case 0:
                    if (typeof this.get('onok') === 'function') {
                        returnValue = this.get('onok').call(this, closeEvent);
                        if (typeof returnValue !== 'undefined') {
                            closeEvent.cancel = !returnValue;
                        }
                    }
                    break;
                case 1:
                    if (typeof this.get('oncancel') === 'function') {
                        returnValue = this.get('oncancel').call(this, closeEvent);
                        if (typeof returnValue !== 'undefined') {
                            closeEvent.cancel = !returnValue;
                        }
                    }
                    break;
                }
            },
            autoOk: function (duration) {
                startAutoConfirm(this, 0, duration);
                return this;
            },
            autoCancel: function (duration) {
                startAutoConfirm(this, 1, duration);
                return this;
            }
        };
    });
    /**
     * Prompt dialog object
     *
     * invoked by:
     *	alertify.prompt(message);
     *	alertify.prompt(message, value);
     *	alertify.prompt(message, value, onok);
     *	alertify.prompt(message, value, onok, oncancel);
     *	alertify.prompt(title, message, value, onok, oncancel);
     */
    alertify.dialog('prompt', function () {
        var input = document.createElement('INPUT');
        var p = document.createElement('P');
        return {
            main: function (_title, _message, _value, _onok, _oncancel) {
                var title, message, value, onok, oncancel;
                switch (arguments.length) {
                case 1:
                    message = _title;
                    break;
                case 2:
                    message = _title;
                    value = _message;
                    break;
                case 3:
                    message = _title;
                    value = _message;
                    onok = _value;
                    break;
                case 4:
                    message = _title;
                    value = _message;
                    onok = _value;
                    oncancel = _onok;
                    break;
                case 5:
                    title = _title;
                    message = _message;
                    value = _value;
                    onok = _onok;
                    oncancel = _oncancel;
                    break;
                }
                this.set('title', title);
                this.set('message', message);
                this.set('value', value);
                this.set('onok', onok);
                this.set('oncancel', oncancel);
                return this;
            },
            setup: function () {
                return {
                    buttons: [
                        {
                            text: alertify.defaults.glossary.ok,
                            key: keys.ENTER,
                            className: alertify.defaults.theme.ok,
                        },
                        {
                            text: alertify.defaults.glossary.cancel,
                            key: keys.ESC,
                            invokeOnClose: true,
                            className: alertify.defaults.theme.cancel,
                        }
                    ],
                    focus: {
                        element: input,
                        select: true
                    },
                    options: {
                        maximizable: false,
                        resizable: false
                    }
                };
            },
            build: function () {
                input.className = alertify.defaults.theme.input;
                input.setAttribute('type', 'text');
                input.value = this.get('value');
                this.elements.content.appendChild(p);
                this.elements.content.appendChild(input);
            },
            prepare: function () {
                //nothing
            },
            setMessage: function (message) {
                if (typeof message === 'string') {
                    clearContents(p);
                    p.innerHTML = message;
                } else if (message instanceof window.HTMLElement && p.firstChild !== message) {
                    clearContents(p);
                    p.appendChild(message);
                }
            },
            settings: {
                message: undefined,
                labels: undefined,
                onok: undefined,
                oncancel: undefined,
                value: '',
                type:'text',
                reverseButtons: undefined,
            },
            settingUpdated: function (key, oldValue, newValue) {
                switch (key) {
                case 'message':
                    this.setMessage(newValue);
                    break;
                case 'value':
                    input.value = newValue;
                    break;
                case 'type':
                    switch (newValue) {
                    case 'text':
                    case 'color':
                    case 'date':
                    case 'datetime-local':
                    case 'email':
                    case 'month':
                    case 'number':
                    case 'password':
                    case 'search':
                    case 'tel':
                    case 'time':
                    case 'week':
                        input.type = newValue;
                        break;
                    default:
                        input.type = 'text';
                        break;
                    }
                    break;
                case 'labels':
                    if (newValue.ok && this.__internal.buttons[0].element) {
                        this.__internal.buttons[0].element.innerHTML = newValue.ok;
                    }
                    if (newValue.cancel && this.__internal.buttons[1].element) {
                        this.__internal.buttons[1].element.innerHTML = newValue.cancel;
                    }
                    break;
                case 'reverseButtons':
                    if (newValue === true) {
                        this.elements.buttons.primary.appendChild(this.__internal.buttons[0].element);
                    } else {
                        this.elements.buttons.primary.appendChild(this.__internal.buttons[1].element);
                    }
                    break;
                }
            },
            callback: function (closeEvent) {
                var returnValue;
                switch (closeEvent.index) {
                case 0:
                    this.settings.value = input.value;
                    if (typeof this.get('onok') === 'function') {
                        returnValue = this.get('onok').call(this, closeEvent, this.settings.value);
                        if (typeof returnValue !== 'undefined') {
                            closeEvent.cancel = !returnValue;
                        }
                    }
                    break;
                case 1:
                    if (typeof this.get('oncancel') === 'function') {
                        returnValue = this.get('oncancel').call(this, closeEvent);
                        if (typeof returnValue !== 'undefined') {
                            closeEvent.cancel = !returnValue;
                        }
                    }
                    if(!closeEvent.cancel){
                        input.value = this.settings.value;
                    }
                    break;
                }
            }
        };
    });

    // CommonJS
    {
        module.exports = alertify;
    // AMD
    }

} ( typeof window !== 'undefined' ? window : commonjsGlobal ) );
});

/*
*  Color options (applied on the map and on the chart):
*/
var color_countries = 'rgb(147, 144, 252)'; // Color for features within the study zone but not highlighted
var color_disabled = '#bebecd'; // Color for features outside the study zone / without data
var color_sup = 'green'; // Color for selected feature with "better" values than the reference feature
var color_inf = 'red'; // Color for selected feature with "worse" values than the reference feature
var color_highlight = 'yellow'; // Color for the reference feature ("Ma rÃ©gion")
var color_default_dissim = 'darkred'; // Neutral color for selected features when green/red can't be used

/*
*  Misc. options:
*/
var MAX_VARIABLES = 7; // The maximum number of variables that can be selected simultaneously.
var RATIO_WH_MAP = 0.879;

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
  return typeof obj;
} : function (obj) {
  return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
};











var classCallCheck = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

var createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();



























var slicedToArray = function () {
  function sliceIterator(arr, i) {
    var _arr = [];
    var _n = true;
    var _d = false;
    var _e = undefined;

    try {
      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
        _arr.push(_s.value);

        if (i && _arr.length === i) break;
      }
    } catch (err) {
      _d = true;
      _e = err;
    } finally {
      try {
        if (!_n && _i["return"]) _i["return"]();
      } finally {
        if (_d) throw _e;
      }
    }

    return _arr;
  }

  return function (arr, i) {
    if (Array.isArray(arr)) {
      return arr;
    } else if (Symbol.iterator in Object(arr)) {
      return sliceIterator(arr, i);
    } else {
      throw new TypeError("Invalid attempt to destructure non-iterable instance");
    }
  };
}();

var math_abs = Math.abs;
var math_round = Math.round;
var math_max = Math.max;
var math_sin = Math.sin;
var math_cos = Math.cos;
var math_sqrt = Math.sqrt;
var HALF_PI = Math.PI / 2;

function prepareTooltip(parent_svg_elem) {
  var tooltip = parent_svg_elem.append('g').attr('class', 'tooltip').style('display', 'none');

  tooltip.append('rect').attrs({ x: 15, width: 0, height: 0, fill: 'beige' }).style('opacity', 0.75);

  tooltip.append('text').attrs({ class: 'id_feature', x: 25, dy: '1.2em', 'font-size': '14px' }).style('font-weight', 'bold');

  tooltip.append('text').attrs({
    class: 'value_feature1',
    x: 25,
    dy: '2.4em',
    'font-size': '14px'
  });

  tooltip.append('text').attrs({
    class: 'value_feature2',
    x: 25,
    dy: '3.5em',
    'font-size': '14px'
  });

  tooltip.append('text').attrs({
    class: 'value_feature3',
    x: 25,
    dy: '4.6em',
    'font-size': '14px'
  });

  tooltip.append('text').attrs({
    class: 'value_feature4',
    x: 25,
    dy: '5.7em',
    'font-size': '14px'
  });

  tooltip.append('text').attrs({
    class: 'value_feature5',
    x: 25,
    dy: '6.8em',
    'font-size': '14px'
  });

  return tooltip;
}

function unbindUI() {
  // Removes the current behavior corresponding to clicking on the left menu:
  d3.selectAll('span.filter_v').on('click', null);
  d3.selectAll('span.target_region').on('click', null);
  d3.selectAll('span.label_chk').on('click', null);

  // Remove the table:
  d3.select('.dataTable-wrapper').remove();

  // Unbind buttons on the top of the map:
  d3.select('#header_map').selectAll('img').on('click', null);

  // Remove the selection menu (or buttons) under the chart:
  d3.select('#bar_section > #menu_selection').remove();

  // Removes the current behavior corresponding to clicking on the top menu:
  d3.selectAll('.type_chart.title_menu').on('click', null);

  // Removes the current behavior corresponding to pressing the Control key:
  document.onkeyup = null;
  document.onkeydown = null;
}

/**
* Function to compare the value of a feature to the reference value (i.e. the value of "my region")
* and return the appropriate color (serie may be inversed)
*
* @param {Number} test_value - The value to be compared to the value of "my region".
* @param {Number} ref_value - The value of my region.
* @param {Boolean} serie_inversed - Whether the serie is inversed or not in the current chart.
* @return {String} - A string containing the color to be used for this value.
*
*/
var comp = function comp(test_value, ref_value, serie_inversed) {
  if (test_value < ref_value) {
    return serie_inversed ? color_sup : color_inf;
  }
  return serie_inversed ? color_inf : color_sup;
};

/**
* Function to compare the value of a feature to the reference value (i.e. the value of "my region")
* and return the appropriate color (serie may be inversed)
*
* @param {Number} val1 - The value to be compared to the value of "my region" for the 1st variable.
* @param {Number} val2 - The value to be compared to the value of "my region" for the 2nd variable.
* @param {Number} ref_val1 - The value of my region for he first variable.
* @param {Number} ref_val2 - The value of my region for the second variable.
* @param {Boolean} xInversed - Whether the serie is inversed on the x axis in the current chart.
* @param {Boolean} yInversed - Whether the serie is inversed on the y axis in the current chart.
* @return {String} - A string containing the color to be used for theses values.
*
*/
var comp2 = function comp2(val1, val2, ref_val1, ref_val2, xInversed, yInversed) {
  if (val1 < ref_val1 && !xInversed || val1 > ref_val1 && xInversed) {
    // val1 is inferior:
    if (val2 < ref_val2) {
      return yInversed ? 'rgb(160, 30, 160)' : color_inf;
    }
    return yInversed ? color_inf : 'rgb(160, 30, 160)';
  }
  // val1 is superior :
  if (val2 > ref_val2) {
    return !yInversed ? color_sup : 'orange';
  }
  return !yInversed ? 'orange' : color_sup;
};

var Rect = function () {
  function Rect(topleft, bottomright) {
    classCallCheck(this, Rect);

    this.xmin = topleft[0];
    this.xmax = bottomright[0];
    this.ymin = topleft[1];
    this.ymax = bottomright[1];
  }

  createClass(Rect, [{
    key: 'contains',
    value: function contains(pt) {
      if (pt[0] >= this.xmin && pt[0] <= this.xmax && pt[1] >= this.ymin && pt[1] <= this.ymax) {
        return true;
      }
      return false;
    }
  }]);
  return Rect;
}();

var PropSizer = function PropSizer(fixed_value, fixed_size) {
  var _this = this;

  this.fixed_value = fixed_value;
  var sqrt = Math.sqrt;
  var abs = Math.abs;
  var PI = Math.PI;
  this.smax = fixed_size * fixed_size * PI;
  this.scale = function (val) {
    return sqrt(abs(val) * _this.smax / _this.fixed_value) / PI;
  };
  // this.get_value = size => ((size * PI) ** 2) / this.smax * this.fixed_value;
  // Use Math pow to support browser without ** operator:
  // eslint-disable-next-line no-restricted-properties
  this.get_value = function (size) {
    return Math.pow(size * PI, 2) / _this.smax * _this.fixed_value;
  };
};

var removeDuplicates = function removeDuplicates(arr) {
  var tmp = [];
  for (var i = 0, len_arr = arr.length; i < len_arr; i++) {
    if (tmp.indexOf(arr[i]) === -1) {
      tmp.push(arr[i]);
    }
  }
  return tmp;
};

var getSvgPathType = function getSvgPathType(path) {
  if (path.indexOf('M ') > -1 && path.indexOf(' L ') > -1) {
    return 2;
  }
  return 1;
};

var svgPathToCoords = function svgPathToCoords(path, type_path) {
  if (type_path === 1) {
    return path.slice(1).split('L').map(function (pt) {
      return pt.split(',').map(function (a) {
        return +a;
      });
    });
  }
  return path.slice(2).split(' L ').map(function (pt) {
    return pt.split(' ').map(function (a) {
      return +a;
    });
  });
};

function computePercentileRank(obj, field_name, result_field_name) {
  var values = obj.map(function (d) {
    return d[field_name];
  });
  var len_values = values.length;
  var getPR = function getPR(v) {
    var count = 0;
    for (var i = 0; i < len_values; i++) {
      if (values[i] <= v) {
        count += 1;
      }
    }
    return 100 * count / len_values;
  };
  for (var ix = 0; ix < len_values; ix++) {
    // eslint-disable-next-line no-param-reassign
    obj[ix][result_field_name] = getPR(values[ix]);
  }
}

var _getPR = function _getPR(v, serie) {
  var count = 0;
  for (var i = 0; i < serie.length; i++) {
    if (serie[i] <= v) {
      count += 1;
    }
  }
  return 100 * count / serie.length;
};

var getMean = function getMean(serie) {
  var nb_values = serie.length;
  var sum = 0;
  for (var i = 0; i < nb_values; i++) {
    sum += serie[i];
  }
  return sum / nb_values;
};

function euclidian_distance(feature1, feature2) {
  var _feature1$geometry$co = slicedToArray(feature1.geometry.coordinates, 2),
      x1 = _feature1$geometry$co[0],
      y1 = _feature1$geometry$co[1];

  var _feature2$geometry$co = slicedToArray(feature2.geometry.coordinates, 2),
      x2 = _feature2$geometry$co[0],
      y2 = _feature2$geometry$co[1];

  var a = x1 - x2;
  var b = y1 - y2;
  return math_sqrt(a * a + b * b);
}

/**
* Function to select the first variable on the left menu
* (triggered after changing region, if no more variable was selected)
*
* @return {void}
*/
function selectFirstAvailableVar() {
  var menu = document.querySelector('#menu');
  var v = menu.querySelectorAll('.target_variable');
  for (var i = 0; i < v.length; i++) {
    if (!v[i].classList.contains('disabled')) {
      v[i].classList.add('checked');
      return v[i].getAttribute('value');
    }
  }
}

function prepareGeomLayerId(layer, id_field) {
  layer.features.forEach(function (ft) {
    // eslint-disable-next-line no-param-reassign
    ft.id = ft.properties[id_field];
  });
}

function getRandom(arr, false_length) {
  return arr[Math.round(Math.random() * (false_length || arr.length))];
}

var createMenu = function createMenu(names, variables, study_zones, territorial_mesh) {
  // First section, regions names:
  var title_section1 = document.createElement('p');
  title_section1.className = 'title_menu';
  title_section1.innerHTML = 'Ma rÃ©gion';
  var section1 = document.createElement('div');
  section1.className = 'box';
  section1.style.overflow = 'auto';
  section1.style.height = '15%';
  for (var i = 0, len_i = names.length; i < len_i; i++) {
    var id = names[i].geo;
    var name = names[i].Nom;
    var entry = document.createElement('p');
    entry.innerHTML = '<span value="' + id + '" class=\'target_region square\'></span><span class="label_chk">' + name + '</span>';
    section1.appendChild(entry);
  }

  // Second section, groups of variables:
  var title_section2 = document.createElement('p');
  title_section2.className = 'title_menu';
  title_section2.innerHTML = 'Indicateurs';
  var section2 = document.createElement('div');
  section2.id = 'menu_variables';
  section2.className = 'box';
  section2.style.overflow = 'auto';
  section2.style.height = '25%';

  // Filter the "variables" variable to fetch the group names :
  var groups_var = removeDuplicates(variables.map(function (d) {
    return d.group;
  }).filter(function (d) {
    return d !== 'Num/dÃ©nom';
  }));

  var _loop = function _loop(_i, _len_i) {
    var gp_name = groups_var[_i];
    var entry = document.createElement('p');
    entry.className = 'name_group_var';
    entry.innerHTML = '<span class=\'square\'></span><span>' + gp_name + '</span>';
    section2.appendChild(entry);
    var div_grp = document.createElement('div');
    div_grp.style.display = _i === 0 ? null : 'none';
    var var_names = variables.filter(function (d) {
      return d.group === gp_name;
    });
    for (var j = 0, len_j = var_names.length; j < len_j; j++) {
      var name_var = var_names[j].name;
      var code_var = var_names[j].ratio;
      var sub_entry = document.createElement('p');
      sub_entry.className = 'small';
      sub_entry.innerHTML = '<span value="' + code_var + '" class="target_variable small_square"></span><span class="label_chk">' + name_var + '</span><span class="i_info">i</span>';
      div_grp.appendChild(sub_entry);
    }
    section2.appendChild(div_grp);
  };

  for (var _i = 0, _len_i = groups_var.length; _i < _len_i; _i++) {
    _loop(_i, _len_i);
  }

  // Third section, study zone:
  var title_section3 = document.createElement('p');
  title_section3.className = 'title_menu';
  title_section3.innerHTML = 'Espace d\'Ã©tude';
  var section3 = document.createElement('div');
  section3.id = 'menu_studyzone';
  section3.className = 'box';
  section3.style.overflow = 'auto';
  section3.style.maxHeight = '25%';
  for (var _i2 = 0, _len_i2 = study_zones.length; _i2 < _len_i2; _i2++) {
    var _entry = document.createElement('p');
    var zone = study_zones[_i2];
    if (zone.id === 'filter_dist') {
      _entry.innerHTML = '<span filter-value="' + zone.id + '" class=\'filter_v square\'></span><span class="label_chk">' + zone.name + '</span><input value="450" disabled="disabled" style="width: 55px; height: 13px;" type="number" min="0" max="100000" id="dist_filter"></input><span> km</span><span class="i_info">i</span>';
    } else {
      _entry.innerHTML = '<span filter-value="' + zone.id + '" class=\'filter_v square\'></span><span class="label_chk">' + zone.name + '</span><span class="i_info">i</span>';
    }
    section3.appendChild(_entry);
  }

  // Fourth section:
  var title_section4 = document.createElement('p');
  title_section4.className = 'title_menu';
  title_section4.innerHTML = 'Maillage territorial d\'analyse';
  var section4 = document.createElement('div');
  section4.id = 'menu_territ_level';
  section4.className = 'box';
  section4.style.overflow = 'auto';
  section4.style.maxHeight = '20%';
  for (var _i3 = 0, _len_i3 = territorial_mesh.length; _i3 < _len_i3; _i3++) {
    var _entry2 = document.createElement('p');
    var territ_level = territorial_mesh[_i3];
    _entry2.innerHTML = '<span value="' + territ_level.id + '" class=\'territ_level square\'></span><span class="label_chk">' + territ_level.name + '</span><span class="i_info">i</span>';
    section4.appendChild(_entry2);
  }

  // The actual menu containing these 4 sections:
  var menu = document.getElementById('menu');
  menu.id = 'menu';
  menu.style.float = 'left';
  menu.appendChild(title_section1);
  menu.appendChild(section1);
  menu.appendChild(title_section2);
  menu.appendChild(section2);
  menu.appendChild(title_section3);
  menu.appendChild(section3);
  menu.appendChild(title_section4);
  menu.appendChild(section4);
};

function makeTopMenu() {
  var top_menu = d3.select('#menutop').styles({ 'font-family': "'Signika', sans-serif", 'font-size': '0.80em', 'text-align': 'center' });
  var width_left = document.querySelector('#menu').getBoundingClientRect().width + 25 + 'px';
  var width_central_chart = document.querySelector('#bar_section').getBoundingClientRect().width + 'px';
  var width_map = document.querySelector('#map_section').getBoundingClientRect().width - 40 + 'px';

  top_menu.append('div').attrs({ class: 'title_section t1' }).html('SÃ‰LECTION');

  var type_chart = top_menu.append('div').attr('class', 'top_section t2').style('display', 'flex');

  var position = type_chart.append('div').attr('class', 'type_comparaison');

  position.append('p').attr('class', 'title_type_comp').html('POSITION');

  position.append('span').attrs({ class: 'type_chart chart_t1 selected', value: 'BarChart1' }).html('1 ind.');

  position.append('span').attrs({ class: 'type_chart chart_t2 disabled', value: 'ScatterPlot2' }).html('2 ind.');

  position.append('span').attrs({ class: 'type_chart chart_t3 disabled', value: 'RadarChart3' }).html('+3 ind.');

  var ressemblance = type_chart.append('div').attr('class', 'type_comparaison');

  ressemblance.append('p').attr('class', 'title_type_comp').html('RESSEMBLANCES');

  ressemblance.append('span').attrs({ class: 'type_chart chart_t1', value: 'Similarity1plus' }).html('+1 ind.');

  top_menu.append('div').attrs({ class: 'title_section t3' }).html('QUELLES RÃ‰GIONS ?');
}

function makeHeaderMapSection() {
  var header_map_section = d3.select('#map_section').insert('p', '.completude_section').attr('id', 'header_map');

  header_map_section.insert('img').attrs({
    class: 'map_button active',
    width: 20,
    height: 20,
    src: 'img/gimp-tool-rect-select.png',
    id: 'img_rect_selec'
  });

  header_map_section.insert('img').attrs({
    class: 'map_button',
    width: 20,
    height: 20,
    src: 'img/gimp-tool-zoom.png',
    id: 'img_map_zoom'
  });

  header_map_section.insert('img').attrs({
    class: 'map_button',
    width: 20,
    height: 20,
    src: 'img/gimp-cursor.png',
    id: 'img_map_select'
  });

  header_map_section.insert('div').attrs({
    id: 'zoom_in',
    class: 'top_half_circle'
  }).append('span').text('+');

  header_map_section.insert('div').attrs({
    id: 'zoom_out',
    class: 'top_half_circle'
  }).append('span').text('-');
}

function makeHeaderChart() {
  var header_bar_section = d3.select('#bar_section').insert('p', 'svg').attr('id', 'header_chart').style('margin-bottom', '0').style('clear', 'both');

  header_bar_section.insert('img').attrs({
    width: 20,
    height: 20,
    src: 'img/edit-table-insert-row-above.svg',
    id: 'img_table'
  }).styles({ margin: '3px', float: 'right' }).on('click', function () {
    var columns = Object.keys(app.current_data[0]);
    var content = [columns.join(','), '\r\n', app.current_data.map(function (d) {
      return columns.map(function (c) {
        return d[c];
      }).join(',');
    }).join('\r\n')].join('');
    var elem = document.createElement('a');
    elem.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(content));
    elem.setAttribute('download', 'Regioviz_export.csv');
    elem.style.display = 'none';
    document.body.appendChild(elem);
    elem.click();
    document.body.removeChild(elem);
    // if (document.querySelector('.dataTable-wrapper').style.display) {
    //   document.querySelector('#svg_map').style.display = 'none';
    //   document.querySelector('#svg_legend').style.display = 'none';
    //   document.querySelector('#header_map').style.display = 'none';
    //   document.querySelector('#header_table').style.display = null;
    //   document.querySelector('.dataTable-wrapper').style.display = null;
    //   this.style.filter = 'invert(75%)';
    // } else {
    //   document.querySelector('#svg_map').style.display = null;
    //   document.querySelector('#svg_legend').style.display = null;
    //   document.querySelector('#header_map').style.display = null;
    //   document.querySelector('#header_table').style.display = 'none';
    //   document.querySelector('.dataTable-wrapper').style.display = 'none';
    //   this.style.filter = null;
    // }
  });

  header_bar_section.insert('img').attrs({
    width: 20,
    height: 20,
    src: 'img/printer.svg',
    id: 'img_printer'
  }).styles({ margin: '3px', float: 'right' });

  header_bar_section.insert('img').attrs({
    width: 20,
    height: 20,
    src: 'img/gtk-info.svg',
    id: 'img_info'
  }).styles({ margin: '3px', float: 'right' });
}

var tippy = createCommonjsModule(function (module, exports) {
(function (global, factory) {
	module.exports = factory();
}(commonjsGlobal, (function () { 'use strict';

var Browser = {};

if (typeof window !== 'undefined') {
  Browser.SUPPORTED = 'requestAnimationFrame' in window;
  Browser.SUPPORTS_TOUCH = 'ontouchstart' in window;
  Browser.touch = false;
  Browser.dynamicInputDetection = true;
  // Chrome device/touch emulation can make this dynamic
  Browser.iOS = function () {
    return (/iPhone|iPad|iPod/.test(navigator.userAgent) && !window.MSStream
    );
  };
}

/**
* The global storage array which holds all data reference objects
* from every instance
* This allows us to hide tooltips from all instances, finding the ref when
* clicking on the body, and for followCursor
*/
var Store = [];

/**
* Selector constants used for grabbing elements
*/
var Selectors = {
  POPPER: '.tippy-popper',
  TOOLTIP: '.tippy-tooltip',
  CONTENT: '.tippy-tooltip-content',
  CIRCLE: '[x-circle]',
  ARROW: '[x-arrow]',
  TOOLTIPPED_EL: '[data-tooltipped]',
  CONTROLLER: '[data-tippy-controller]'

  /**
  * The default settings applied to each instance
  */
};var Defaults = {
  html: false,
  position: 'top',
  animation: 'shift',
  animateFill: true,
  arrow: false,
  arrowSize: 'regular',
  delay: 0,
  trigger: 'mouseenter focus',
  duration: 350,
  interactive: false,
  interactiveBorder: 2,
  theme: 'dark',
  size: 'regular',
  distance: 10,
  offset: 0,
  hideOnClick: true,
  multiple: false,
  followCursor: false,
  inertia: false,
  flipDuration: 350,
  sticky: false,
  stickyDuration: 200,
  appendTo: function appendTo() {
    return document.body;
  },
  zIndex: 9999,
  touchHold: false,
  performance: false,
  dynamicTitle: false,
  popperOptions: {}

  /**
  * The keys of the defaults object for reducing down into a new object
  * Used in `getIndividualSettings()`
  */
};var DefaultsKeys = Browser.SUPPORTED && Object.keys(Defaults);

/**
* Hides all poppers
* @param {Object} exclude - refData to exclude if needed
*/
function hideAllPoppers(exclude) {
  Store.forEach(function (refData) {
    var popper = refData.popper,
        tippyInstance = refData.tippyInstance,
        _refData$settings = refData.settings,
        appendTo = _refData$settings.appendTo,
        hideOnClick = _refData$settings.hideOnClick,
        trigger = _refData$settings.trigger;

    // Don't hide already hidden ones

    if (!appendTo.contains(popper)) return;

    // hideOnClick can have the truthy value of 'persistent', so strict check is needed
    var isHideOnClick = hideOnClick === true || trigger.indexOf('focus') !== -1;
    var isNotCurrentRef = !exclude || popper !== exclude.popper;

    if (isHideOnClick && isNotCurrentRef) {
      tippyInstance.hide(popper);
    }
  });
}

var matches = {};

if (typeof Element !== 'undefined') {
  var e = Element.prototype;
  matches = e.matches || e.matchesSelector || e.webkitMatchesSelector || e.mozMatchesSelector || e.msMatchesSelector || function (s) {
    var matches = (this.document || this.ownerDocument).querySelectorAll(s),
        i = matches.length;
    while (--i >= 0 && matches.item(i) !== this) {}
    return i > -1;
  };
}

var matches$1 = matches;

/**
* Ponyfill to get the closest parent element
* @param {Element} element - child of parent to be returned
* @param {String} parentSelector - selector to match the parent if found
* @return {Element}
*/
function closest(element, parentSelector) {
  var _closest = Element.prototype.closest || function (selector) {
    var el = this;
    while (el) {
      if (matches$1.call(el, selector)) {
        return el;
      }
      el = el.parentElement;
    }
  };

  return _closest.call(element, parentSelector);
}

/**
* Ponyfill for Array.prototype.find
* @param {Array} arr
* @param {Function} checkFn
* @return item in the array
*/
function find(arr, checkFn) {
  if (Array.prototype.find) {
    return arr.find(checkFn);
  }

  // use `filter` as fallback
  return arr.filter(checkFn)[0];
}

/**
* Adds the needed event listeners
*/
function bindEventListeners() {
  var touchHandler = function touchHandler() {
    Browser.touch = true;

    if (Browser.iOS()) {
      document.body.classList.add('tippy-touch');
    }

    if (Browser.dynamicInputDetection && window.performance) {
      document.addEventListener('mousemove', mousemoveHandler);
    }
  };

  var mousemoveHandler = function () {
    var time = void 0;

    return function () {
      var now = performance.now();

      // Chrome 60+ is 1 mousemove per rAF, use 20ms time difference
      if (now - time < 20) {
        Browser.touch = false;
        document.removeEventListener('mousemove', mousemoveHandler);
        if (!Browser.iOS()) {
          document.body.classList.remove('tippy-touch');
        }
      }

      time = now;
    };
  }();

  var clickHandler = function clickHandler(event) {
    // Simulated events dispatched on the document
    if (!(event.target instanceof Element)) {
      return hideAllPoppers();
    }

    var el = closest(event.target, Selectors.TOOLTIPPED_EL);
    var popper = closest(event.target, Selectors.POPPER);

    if (popper) {
      var ref = find(Store, function (ref) {
        return ref.popper === popper;
      });
      var interactive = ref.settings.interactive;

      if (interactive) return;
    }

    if (el) {
      var _ref = find(Store, function (ref) {
        return ref.el === el;
      });
      var _ref$settings = _ref.settings,
          hideOnClick = _ref$settings.hideOnClick,
          multiple = _ref$settings.multiple,
          trigger = _ref$settings.trigger;

      // Hide all poppers except the one belonging to the element that was clicked IF
      // `multiple` is false AND they are a touch user, OR
      // `multiple` is false AND it's triggered by a click

      if (!multiple && Browser.touch || !multiple && trigger.indexOf('click') !== -1) {
        return hideAllPoppers(_ref);
      }

      // If hideOnClick is not strictly true or triggered by a click don't hide poppers
      if (hideOnClick !== true || trigger.indexOf('click') !== -1) return;
    }

    // Don't trigger a hide for tippy controllers, and don't needlessly run loop
    if (closest(event.target, Selectors.CONTROLLER) || !document.querySelector(Selectors.POPPER)) return;

    hideAllPoppers();
  };

  var blurHandler = function blurHandler(event) {
    var _document = document,
        el = _document.activeElement;

    if (el && el.blur && matches$1.call(el, Selectors.TOOLTIPPED_EL)) {
      el.blur();
    }
  };

  // Hook events
  document.addEventListener('click', clickHandler);
  document.addEventListener('touchstart', touchHandler);
  window.addEventListener('blur', blurHandler);

  if (!Browser.SUPPORTS_TOUCH && (navigator.maxTouchPoints > 0 || navigator.msMaxTouchPoints > 0)) {
    document.addEventListener('pointerdown', touchHandler);
  }
}

/**
* To run a single time, once DOM is presumed to be ready
* @return {Boolean} whether the function has run or not
*/
function init() {
  if (init.done) return false;
  init.done = true;

  bindEventListeners();

  return true;
}

/**
* Waits until next repaint to execute a fn
* @param {Function} fn
*/
function defer(fn) {
  window.requestAnimationFrame(function () {
    setTimeout(fn, 0);
  });
}

/**
* Returns the supported prefixed property - only `webkit` is needed, `moz`, `ms` and `o` are obsolete
* @param {String} property
* @return {String} - browser supported prefixed property
*/
function prefix(property) {
  var prefixes = [false, 'webkit'];
  var upperProp = property.charAt(0).toUpperCase() + property.slice(1);

  for (var i = 0; i < prefixes.length; i++) {
    var _prefix = prefixes[i];
    var prefixedProp = _prefix ? '' + _prefix + upperProp : property;
    if (typeof window.document.body.style[prefixedProp] !== 'undefined') {
      return prefixedProp;
    }
  }

  return null;
}

/**
* Ponyfill for Array.prototype.findIndex
* @param {Array} arr
* @param {Function} checkFn
* @return index of the item in the array
*/
function findIndex(arr, checkFn) {
  if (Array.prototype.findIndex) {
    return arr.findIndex(checkFn);
  }

  // fallback
  return arr.indexOf(find(arr, checkFn));
}

/**
* Removes the title from the tooltipped element, setting `data-original-title`
* appropriately
* @param {Element} el
*/
function removeTitle(el) {
  var title = el.getAttribute('title');

  // Only set `data-original-title` attr if there is a title
  if (title) {
    el.setAttribute('data-original-title', title);
  }

  el.removeAttribute('title');
}

/**
* Determines if an element is visible in the viewport
* @param {Element} el
* @return {Boolean}
*/
function elementIsInViewport(el) {
  var rect = el.getBoundingClientRect();

  return rect.top >= 0 && rect.left >= 0 && rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) && rect.right <= (window.innerWidth || document.documentElement.clientWidth);
}

/**
* Triggers a document repaint or reflow for CSS transition
* @param {Element} tooltip
* @param {Element} circle
*/
function triggerReflow(tooltip, circle) {
  // Safari needs the specific 'transform' property to be accessed
  circle ? window.getComputedStyle(circle)[prefix('transform')] : window.getComputedStyle(tooltip).opacity;
}

/**
* Modifies elements' class lists
* @param {Element[]} els - Array of elements
* @param {Function} callback
*/
function modifyClassList(els, callback) {
  els.forEach(function (el) {
    if (!el) return;
    callback(el.classList);
  });
}

/**
* Returns inner elements of the popper element
* @param {Element} popper
* @return {Object}
*/
function getInnerElements(popper) {
  return {
    tooltip: popper.querySelector(Selectors.TOOLTIP),
    circle: popper.querySelector(Selectors.CIRCLE),
    content: popper.querySelector(Selectors.CONTENT)
  };
}

/**
* Applies the transition duration to each element
* @param {Element[]} els - Array of elements
* @param {Number} duration
*/
function applyTransitionDuration(els, duration) {
  els.forEach(function (el) {
    if (!el) return;

    var isContent = matches$1.call(el, Selectors.CONTENT);

    var _duration = isContent ? Math.round(duration / 1.3) : duration;

    el.style[prefix('transitionDuration')] = _duration + 'ms';
  });
}

/**
* Determines if a popper is currently visible
* @param {Element} popper
* @return {Boolean}
*/
function isVisible(popper) {
  return popper.style.visibility === 'visible';
}

function noop() {}

function isObjectLiteral(input) {
  return !!input && input.toString() === '[object Object]';
}

/**
* Returns the non-shifted placement (e.g., 'bottom-start' => 'bottom')
* @param {String} placement
* @return {String}
*/
function getCorePlacement(placement) {
  return placement.replace(/-.+/, '');
}

/**
* Mousemove event listener callback method for follow cursor setting
* @param {MouseEvent} e
*/
function followCursorHandler(e) {
  var _this = this;

  var data = find(Store, function (data) {
    return data.el === _this;
  });

  var popper = data.popper,
      offset = data.settings.offset;


  var position = getCorePlacement(popper.getAttribute('x-placement'));
  var halfPopperWidth = Math.round(popper.offsetWidth / 2);
  var halfPopperHeight = Math.round(popper.offsetHeight / 2);
  var viewportPadding = 5;
  var pageWidth = document.documentElement.offsetWidth || document.body.offsetWidth;

  var pageX = e.pageX,
      pageY = e.pageY;


  var x = void 0,
      y = void 0;

  switch (position) {
    case 'top':
      x = pageX - halfPopperWidth + offset;
      y = pageY - 2 * halfPopperHeight;
      break;
    case 'bottom':
      x = pageX - halfPopperWidth + offset;
      y = pageY + 10;
      break;
    case 'left':
      x = pageX - 2 * halfPopperWidth;
      y = pageY - halfPopperHeight + offset;
      break;
    case 'right':
      x = pageX + 5;
      y = pageY - halfPopperHeight + offset;
      break;
  }

  var isRightOverflowing = pageX + viewportPadding + halfPopperWidth + offset > pageWidth;
  var isLeftOverflowing = pageX - viewportPadding - halfPopperWidth + offset < 0;

  // Prevent left/right overflow
  if (position === 'top' || position === 'bottom') {
    if (isRightOverflowing) {
      x = pageWidth - viewportPadding - 2 * halfPopperWidth;
    }

    if (isLeftOverflowing) {
      x = viewportPadding;
    }
  }

  popper.style[prefix('transform')] = 'translate3d(' + x + 'px, ' + y + 'px, 0)';
}

/**
* Returns an array of elements based on the selector input
* @param {String|Element|Element[]} selector
* @return {Element[]}
*/
function getArrayOfElements(selector) {
  if (selector instanceof Element || isObjectLiteral(selector)) {
    return [selector];
  }

  if (selector instanceof NodeList) {
    return [].slice.call(selector);
  }

  if (Array.isArray(selector)) {
    return selector;
  }

  try {
    return [].slice.call(document.querySelectorAll(selector));
  } catch (_) {
    return [];
  }
}

/**
* Prepares the callback functions for `show` and `hide` methods
* @param {Object} data
* @param {Number} duration
* @param {Function} callback - callback function to fire once transitions complete
*/
function onTransitionEnd(data, duration, callback) {
  // Make callback synchronous if duration is 0
  if (!duration) {
    return callback();
  }

  var _getInnerElements = getInnerElements(data.popper),
      tooltip = _getInnerElements.tooltip;

  var transitionendFired = false;

  var listenerCallback = function listenerCallback(e) {
    if (e.target === tooltip && !transitionendFired) {
      transitionendFired = true;
      callback();
    }
  };

  // Fire callback upon transition completion
  tooltip.addEventListener('webkitTransitionEnd', listenerCallback);
  tooltip.addEventListener('transitionend', listenerCallback);

  // Fallback: transitionend listener sometimes may not fire
  clearTimeout(data._transitionendTimeout);
  data._transitionendTimeout = setTimeout(function () {
    if (!transitionendFired) {
      callback();
    }
  }, duration);
}

/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.12.4
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var nativeHints = ['native code', '[object MutationObserverConstructor]'];

/**
 * Determine if a function is implemented natively (as opposed to a polyfill).
 * @method
 * @memberof Popper.Utils
 * @argument {Function | undefined} fn the function to check
 * @returns {Boolean}
 */
var isNative = function isNative(fn) {
  return nativeHints.some(function (hint) {
    return (fn || '').toString().indexOf(hint) > -1;
  });
};

var isBrowser = typeof window !== 'undefined';
var longerTimeoutBrowsers = ['Edge', 'Trident', 'Firefox'];
var timeoutDuration = 0;
for (var i = 0; i < longerTimeoutBrowsers.length; i += 1) {
  if (isBrowser && navigator.userAgent.indexOf(longerTimeoutBrowsers[i]) >= 0) {
    timeoutDuration = 1;
    break;
  }
}

function microtaskDebounce(fn) {
  var scheduled = false;
  var i = 0;
  var elem = document.createElement('span');

  // MutationObserver provides a mechanism for scheduling microtasks, which
  // are scheduled *before* the next task. This gives us a way to debounce
  // a function but ensure it's called *before* the next paint.
  var observer = new MutationObserver(function () {
    fn();
    scheduled = false;
  });

  observer.observe(elem, { attributes: true });

  return function () {
    if (!scheduled) {
      scheduled = true;
      elem.setAttribute('x-index', i);
      i = i + 1; // don't use compund (+=) because it doesn't get optimized in V8
    }
  };
}

function taskDebounce(fn) {
  var scheduled = false;
  return function () {
    if (!scheduled) {
      scheduled = true;
      setTimeout(function () {
        scheduled = false;
        fn();
      }, timeoutDuration);
    }
  };
}

// It's common for MutationObserver polyfills to be seen in the wild, however
// these rely on Mutation Events which only occur when an element is connected
// to the DOM. The algorithm used in this module does not use a connected element,
// and so we must ensure that a *native* MutationObserver is available.
var supportsNativeMutationObserver = isBrowser && isNative(window.MutationObserver);

/**
* Create a debounced version of a method, that's asynchronously deferred
* but called in the minimum time possible.
*
* @method
* @memberof Popper.Utils
* @argument {Function} fn
* @returns {Function}
*/
var debounce = supportsNativeMutationObserver ? microtaskDebounce : taskDebounce;

/**
 * Check if the given variable is a function
 * @method
 * @memberof Popper.Utils
 * @argument {Any} functionToCheck - variable to check
 * @returns {Boolean} answer to: is a function?
 */
function isFunction(functionToCheck) {
  var getType = {};
  return functionToCheck && getType.toString.call(functionToCheck) === '[object Function]';
}

/**
 * Get CSS computed property of the given element
 * @method
 * @memberof Popper.Utils
 * @argument {Eement} element
 * @argument {String} property
 */
function getStyleComputedProperty(element, property) {
  if (element.nodeType !== 1) {
    return [];
  }
  // NOTE: 1 DOM access here
  var css = window.getComputedStyle(element, null);
  return property ? css[property] : css;
}

/**
 * Returns the parentNode or the host of the element
 * @method
 * @memberof Popper.Utils
 * @argument {Element} element
 * @returns {Element} parent
 */
function getParentNode(element) {
  if (element.nodeName === 'HTML') {
    return element;
  }
  return element.parentNode || element.host;
}

/**
 * Returns the scrolling parent of the given element
 * @method
 * @memberof Popper.Utils
 * @argument {Element} element
 * @returns {Element} scroll parent
 */
function getScrollParent(element) {
  // Return body, `getScroll` will take care to get the correct `scrollTop` from it
  if (!element || ['HTML', 'BODY', '#document'].indexOf(element.nodeName) !== -1) {
    return window.document.body;
  }

  // Firefox want us to check `-x` and `-y` variations as well

  var _getStyleComputedProp = getStyleComputedProperty(element),
      overflow = _getStyleComputedProp.overflow,
      overflowX = _getStyleComputedProp.overflowX,
      overflowY = _getStyleComputedProp.overflowY;

  if (/(auto|scroll)/.test(overflow + overflowY + overflowX)) {
    return element;
  }

  return getScrollParent(getParentNode(element));
}

/**
 * Returns the offset parent of the given element
 * @method
 * @memberof Popper.Utils
 * @argument {Element} element
 * @returns {Element} offset parent
 */
function getOffsetParent(element) {
  // NOTE: 1 DOM access here
  var offsetParent = element && element.offsetParent;
  var nodeName = offsetParent && offsetParent.nodeName;

  if (!nodeName || nodeName === 'BODY' || nodeName === 'HTML') {
    return window.document.documentElement;
  }

  // .offsetParent will return the closest TD or TABLE in case
  // no offsetParent is present, I hate this job...
  if (['TD', 'TABLE'].indexOf(offsetParent.nodeName) !== -1 && getStyleComputedProperty(offsetParent, 'position') === 'static') {
    return getOffsetParent(offsetParent);
  }

  return offsetParent;
}

function isOffsetContainer(element) {
  var nodeName = element.nodeName;

  if (nodeName === 'BODY') {
    return false;
  }
  return nodeName === 'HTML' || getOffsetParent(element.firstElementChild) === element;
}

/**
 * Finds the root node (document, shadowDOM root) of the given element
 * @method
 * @memberof Popper.Utils
 * @argument {Element} node
 * @returns {Element} root node
 */
function getRoot(node) {
  if (node.parentNode !== null) {
    return getRoot(node.parentNode);
  }

  return node;
}

/**
 * Finds the offset parent common to the two provided nodes
 * @method
 * @memberof Popper.Utils
 * @argument {Element} element1
 * @argument {Element} element2
 * @returns {Element} common offset parent
 */
function findCommonOffsetParent(element1, element2) {
  // This check is needed to avoid errors in case one of the elements isn't defined for any reason
  if (!element1 || !element1.nodeType || !element2 || !element2.nodeType) {
    return window.document.documentElement;
  }

  // Here we make sure to give as "start" the element that comes first in the DOM
  var order = element1.compareDocumentPosition(element2) & Node.DOCUMENT_POSITION_FOLLOWING;
  var start = order ? element1 : element2;
  var end = order ? element2 : element1;

  // Get common ancestor container
  var range = document.createRange();
  range.setStart(start, 0);
  range.setEnd(end, 0);
  var commonAncestorContainer = range.commonAncestorContainer;

  // Both nodes are inside #document

  if (element1 !== commonAncestorContainer && element2 !== commonAncestorContainer || start.contains(end)) {
    if (isOffsetContainer(commonAncestorContainer)) {
      return commonAncestorContainer;
    }

    return getOffsetParent(commonAncestorContainer);
  }

  // one of the nodes is inside shadowDOM, find which one
  var element1root = getRoot(element1);
  if (element1root.host) {
    return findCommonOffsetParent(element1root.host, element2);
  } else {
    return findCommonOffsetParent(element1, getRoot(element2).host);
  }
}

/**
 * Gets the scroll value of the given element in the given side (top and left)
 * @method
 * @memberof Popper.Utils
 * @argument {Element} element
 * @argument {String} side `top` or `left`
 * @returns {number} amount of scrolled pixels
 */
function getScroll(element) {
  var side = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'top';

  var upperSide = side === 'top' ? 'scrollTop' : 'scrollLeft';
  var nodeName = element.nodeName;

  if (nodeName === 'BODY' || nodeName === 'HTML') {
    var html = window.document.documentElement;
    var scrollingElement = window.document.scrollingElement || html;
    return scrollingElement[upperSide];
  }

  return element[upperSide];
}

/*
 * Sum or subtract the element scroll values (left and top) from a given rect object
 * @method
 * @memberof Popper.Utils
 * @param {Object} rect - Rect object you want to change
 * @param {HTMLElement} element - The element from the function reads the scroll values
 * @param {Boolean} subtract - set to true if you want to subtract the scroll values
 * @return {Object} rect - The modifier rect object
 */
function includeScroll(rect, element) {
  var subtract = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;

  var scrollTop = getScroll(element, 'top');
  var scrollLeft = getScroll(element, 'left');
  var modifier = subtract ? -1 : 1;
  rect.top += scrollTop * modifier;
  rect.bottom += scrollTop * modifier;
  rect.left += scrollLeft * modifier;
  rect.right += scrollLeft * modifier;
  return rect;
}

/*
 * Helper to detect borders of a given element
 * @method
 * @memberof Popper.Utils
 * @param {CSSStyleDeclaration} styles
 * Result of `getStyleComputedProperty` on the given element
 * @param {String} axis - `x` or `y`
 * @return {number} borders - The borders size of the given axis
 */

function getBordersSize(styles, axis) {
  var sideA = axis === 'x' ? 'Left' : 'Top';
  var sideB = sideA === 'Left' ? 'Right' : 'Bottom';

  return +styles['border' + sideA + 'Width'].split('px')[0] + +styles['border' + sideB + 'Width'].split('px')[0];
}

/**
 * Tells if you are running Internet Explorer 10
 * @method
 * @memberof Popper.Utils
 * @returns {Boolean} isIE10
 */
var isIE10 = undefined;

var isIE10$1 = function isIE10$1() {
  if (isIE10 === undefined) {
    isIE10 = navigator.appVersion.indexOf('MSIE 10') !== -1;
  }
  return isIE10;
};

function getSize(axis, body, html, computedStyle, includeScroll) {
  return Math.max(body['offset' + axis], includeScroll ? body['scroll' + axis] : 0, html['client' + axis], html['offset' + axis], includeScroll ? html['scroll' + axis] : 0, isIE10$1() ? html['offset' + axis] + computedStyle['margin' + (axis === 'Height' ? 'Top' : 'Left')] + computedStyle['margin' + (axis === 'Height' ? 'Bottom' : 'Right')] : 0);
}

function getWindowSizes() {
  var includeScroll = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;

  var body = window.document.body;
  var html = window.document.documentElement;
  var computedStyle = isIE10$1() && window.getComputedStyle(html);

  return {
    height: getSize('Height', body, html, computedStyle, includeScroll),
    width: getSize('Width', body, html, computedStyle, includeScroll)
  };
}

var classCallCheck = function classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

var createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();

var defineProperty = function defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
};

var _extends = Object.assign || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];

    for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }

  return target;
};

/**
 * Given element offsets, generate an output similar to getBoundingClientRect
 * @method
 * @memberof Popper.Utils
 * @argument {Object} offsets
 * @returns {Object} ClientRect like output
 */
function getClientRect(offsets) {
  return _extends({}, offsets, {
    right: offsets.left + offsets.width,
    bottom: offsets.top + offsets.height
  });
}

/**
 * Get bounding client rect of given element
 * @method
 * @memberof Popper.Utils
 * @param {HTMLElement} element
 * @return {Object} client rect
 */
function getBoundingClientRect(element) {
  var rect = {};

  // IE10 10 FIX: Please, don't ask, the element isn't
  // considered in DOM in some circumstances...
  // This isn't reproducible in IE10 compatibility mode of IE11
  if (isIE10$1()) {
    try {
      rect = element.getBoundingClientRect();
      var scrollTop = getScroll(element, 'top');
      var scrollLeft = getScroll(element, 'left');
      rect.top += scrollTop;
      rect.left += scrollLeft;
      rect.bottom += scrollTop;
      rect.right += scrollLeft;
    } catch (err) {}
  } else {
    rect = element.getBoundingClientRect();
  }

  var result = {
    left: rect.left,
    top: rect.top,
    width: rect.right - rect.left,
    height: rect.bottom - rect.top
  };

  // subtract scrollbar size from sizes
  var sizes = element.nodeName === 'HTML' ? getWindowSizes() : {};
  var width = sizes.width || element.clientWidth || result.right - result.left;
  var height = sizes.height || element.clientHeight || result.bottom - result.top;

  var horizScrollbar = element.offsetWidth - width;
  var vertScrollbar = element.offsetHeight - height;

  // if an hypothetical scrollbar is detected, we must be sure it's not a `border`
  // we make this check conditional for performance reasons
  if (horizScrollbar || vertScrollbar) {
    var styles = getStyleComputedProperty(element);
    horizScrollbar -= getBordersSize(styles, 'x');
    vertScrollbar -= getBordersSize(styles, 'y');

    result.width -= horizScrollbar;
    result.height -= vertScrollbar;
  }

  return getClientRect(result);
}

function getOffsetRectRelativeToArbitraryNode(children, parent) {
  var isIE10 = isIE10$1();
  var isHTML = parent.nodeName === 'HTML';
  var childrenRect = getBoundingClientRect(children);
  var parentRect = getBoundingClientRect(parent);
  var scrollParent = getScrollParent(children);

  var styles = getStyleComputedProperty(parent);
  var borderTopWidth = +styles.borderTopWidth.split('px')[0];
  var borderLeftWidth = +styles.borderLeftWidth.split('px')[0];

  var offsets = getClientRect({
    top: childrenRect.top - parentRect.top - borderTopWidth,
    left: childrenRect.left - parentRect.left - borderLeftWidth,
    width: childrenRect.width,
    height: childrenRect.height
  });
  offsets.marginTop = 0;
  offsets.marginLeft = 0;

  // Subtract margins of documentElement in case it's being used as parent
  // we do this only on HTML because it's the only element that behaves
  // differently when margins are applied to it. The margins are included in
  // the box of the documentElement, in the other cases not.
  if (!isIE10 && isHTML) {
    var marginTop = +styles.marginTop.split('px')[0];
    var marginLeft = +styles.marginLeft.split('px')[0];

    offsets.top -= borderTopWidth - marginTop;
    offsets.bottom -= borderTopWidth - marginTop;
    offsets.left -= borderLeftWidth - marginLeft;
    offsets.right -= borderLeftWidth - marginLeft;

    // Attach marginTop and marginLeft because in some circumstances we may need them
    offsets.marginTop = marginTop;
    offsets.marginLeft = marginLeft;
  }

  if (isIE10 ? parent.contains(scrollParent) : parent === scrollParent && scrollParent.nodeName !== 'BODY') {
    offsets = includeScroll(offsets, parent);
  }

  return offsets;
}

function getViewportOffsetRectRelativeToArtbitraryNode(element) {
  var html = window.document.documentElement;
  var relativeOffset = getOffsetRectRelativeToArbitraryNode(element, html);
  var width = Math.max(html.clientWidth, window.innerWidth || 0);
  var height = Math.max(html.clientHeight, window.innerHeight || 0);

  var scrollTop = getScroll(html);
  var scrollLeft = getScroll(html, 'left');

  var offset = {
    top: scrollTop - relativeOffset.top + relativeOffset.marginTop,
    left: scrollLeft - relativeOffset.left + relativeOffset.marginLeft,
    width: width,
    height: height
  };

  return getClientRect(offset);
}

/**
 * Check if the given element is fixed or is inside a fixed parent
 * @method
 * @memberof Popper.Utils
 * @argument {Element} element
 * @argument {Element} customContainer
 * @returns {Boolean} answer to "isFixed?"
 */
function isFixed(element) {
  var nodeName = element.nodeName;
  if (nodeName === 'BODY' || nodeName === 'HTML') {
    return false;
  }
  if (getStyleComputedProperty(element, 'position') === 'fixed') {
    return true;
  }
  return isFixed(getParentNode(element));
}

/**
 * Computed the boundaries limits and return them
 * @method
 * @memberof Popper.Utils
 * @param {HTMLElement} popper
 * @param {HTMLElement} reference
 * @param {number} padding
 * @param {HTMLElement} boundariesElement - Element used to define the boundaries
 * @returns {Object} Coordinates of the boundaries
 */
function getBoundaries(popper, reference, padding, boundariesElement) {
  // NOTE: 1 DOM access here
  var boundaries = { top: 0, left: 0 };
  var offsetParent = findCommonOffsetParent(popper, reference);

  // Handle viewport case
  if (boundariesElement === 'viewport') {
    boundaries = getViewportOffsetRectRelativeToArtbitraryNode(offsetParent);
  } else {
    // Handle other cases based on DOM element used as boundaries
    var boundariesNode = void 0;
    if (boundariesElement === 'scrollParent') {
      boundariesNode = getScrollParent(getParentNode(popper));
      if (boundariesNode.nodeName === 'BODY') {
        boundariesNode = window.document.documentElement;
      }
    } else if (boundariesElement === 'window') {
      boundariesNode = window.document.documentElement;
    } else {
      boundariesNode = boundariesElement;
    }

    var offsets = getOffsetRectRelativeToArbitraryNode(boundariesNode, offsetParent);

    // In case of HTML, we need a different computation
    if (boundariesNode.nodeName === 'HTML' && !isFixed(offsetParent)) {
      var _getWindowSizes = getWindowSizes(false),
          height = _getWindowSizes.height,
          width = _getWindowSizes.width;

      boundaries.top += offsets.top - offsets.marginTop;
      boundaries.bottom = height + offsets.top;
      boundaries.left += offsets.left - offsets.marginLeft;
      boundaries.right = width + offsets.left;
    } else {
      // for all the other DOM elements, this one is good
      boundaries = offsets;
    }
  }

  // Add paddings
  boundaries.left += padding;
  boundaries.top += padding;
  boundaries.right -= padding;
  boundaries.bottom -= padding;

  return boundaries;
}

function getArea(_ref) {
  var width = _ref.width,
      height = _ref.height;

  return width * height;
}

/**
 * Utility used to transform the `auto` placement to the placement with more
 * available space.
 * @method
 * @memberof Popper.Utils
 * @argument {Object} data - The data object generated by update method
 * @argument {Object} options - Modifiers configuration and options
 * @returns {Object} The data object, properly modified
 */
function computeAutoPlacement(placement, refRect, popper, reference, boundariesElement) {
  var padding = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;

  if (placement.indexOf('auto') === -1) {
    return placement;
  }

  var boundaries = getBoundaries(popper, reference, padding, boundariesElement);

  var rects = {
    top: {
      width: boundaries.width,
      height: refRect.top - boundaries.top
    },
    right: {
      width: boundaries.right - refRect.right,
      height: boundaries.height
    },
    bottom: {
      width: boundaries.width,
      height: boundaries.bottom - refRect.bottom
    },
    left: {
      width: refRect.left - boundaries.left,
      height: boundaries.height
    }
  };

  var sortedAreas = Object.keys(rects).map(function (key) {
    return _extends({
      key: key
    }, rects[key], {
      area: getArea(rects[key])
    });
  }).sort(function (a, b) {
    return b.area - a.area;
  });

  var filteredAreas = sortedAreas.filter(function (_ref2) {
    var width = _ref2.width,
        height = _ref2.height;
    return width >= popper.clientWidth && height >= popper.clientHeight;
  });

  var computedPlacement = filteredAreas.length > 0 ? filteredAreas[0].key : sortedAreas[0].key;

  var variation = placement.split('-')[1];

  return computedPlacement + (variation ? '-' + variation : '');
}

/**
 * Get offsets to the reference element
 * @method
 * @memberof Popper.Utils
 * @param {Object} state
 * @param {Element} popper - the popper element
 * @param {Element} reference - the reference element (the popper will be relative to this)
 * @returns {Object} An object containing the offsets which will be applied to the popper
 */
function getReferenceOffsets(state, popper, reference) {
  var commonOffsetParent = findCommonOffsetParent(popper, reference);
  return getOffsetRectRelativeToArbitraryNode(reference, commonOffsetParent);
}

/**
 * Get the outer sizes of the given element (offset size + margins)
 * @method
 * @memberof Popper.Utils
 * @argument {Element} element
 * @returns {Object} object containing width and height properties
 */
function getOuterSizes(element) {
  var styles = window.getComputedStyle(element);
  var x = parseFloat(styles.marginTop) + parseFloat(styles.marginBottom);
  var y = parseFloat(styles.marginLeft) + parseFloat(styles.marginRight);
  var result = {
    width: element.offsetWidth + y,
    height: element.offsetHeight + x
  };
  return result;
}

/**
 * Get the opposite placement of the given one
 * @method
 * @memberof Popper.Utils
 * @argument {String} placement
 * @returns {String} flipped placement
 */
function getOppositePlacement(placement) {
  var hash = { left: 'right', right: 'left', bottom: 'top', top: 'bottom' };
  return placement.replace(/left|right|bottom|top/g, function (matched) {
    return hash[matched];
  });
}

/**
 * Get offsets to the popper
 * @method
 * @memberof Popper.Utils
 * @param {Object} position - CSS position the Popper will get applied
 * @param {HTMLElement} popper - the popper element
 * @param {Object} referenceOffsets - the reference offsets (the popper will be relative to this)
 * @param {String} placement - one of the valid placement options
 * @returns {Object} popperOffsets - An object containing the offsets which will be applied to the popper
 */
function getPopperOffsets(popper, referenceOffsets, placement) {
  placement = placement.split('-')[0];

  // Get popper node sizes
  var popperRect = getOuterSizes(popper);

  // Add position, width and height to our offsets object
  var popperOffsets = {
    width: popperRect.width,
    height: popperRect.height
  };

  // depending by the popper placement we have to compute its offsets slightly differently
  var isHoriz = ['right', 'left'].indexOf(placement) !== -1;
  var mainSide = isHoriz ? 'top' : 'left';
  var secondarySide = isHoriz ? 'left' : 'top';
  var measurement = isHoriz ? 'height' : 'width';
  var secondaryMeasurement = !isHoriz ? 'height' : 'width';

  popperOffsets[mainSide] = referenceOffsets[mainSide] + referenceOffsets[measurement] / 2 - popperRect[measurement] / 2;
  if (placement === secondarySide) {
    popperOffsets[secondarySide] = referenceOffsets[secondarySide] - popperRect[secondaryMeasurement];
  } else {
    popperOffsets[secondarySide] = referenceOffsets[getOppositePlacement(secondarySide)];
  }

  return popperOffsets;
}

/**
 * Mimics the `find` method of Array
 * @method
 * @memberof Popper.Utils
 * @argument {Array} arr
 * @argument prop
 * @argument value
 * @returns index or -1
 */
function find$1(arr, check) {
  // use native find if supported
  if (Array.prototype.find) {
    return arr.find(check);
  }

  // use `filter` to obtain the same behavior of `find`
  return arr.filter(check)[0];
}

/**
 * Return the index of the matching object
 * @method
 * @memberof Popper.Utils
 * @argument {Array} arr
 * @argument prop
 * @argument value
 * @returns index or -1
 */
function findIndex$1(arr, prop, value) {
  // use native findIndex if supported
  if (Array.prototype.findIndex) {
    return arr.findIndex(function (cur) {
      return cur[prop] === value;
    });
  }

  // use `find` + `indexOf` if `findIndex` isn't supported
  var match = find$1(arr, function (obj) {
    return obj[prop] === value;
  });
  return arr.indexOf(match);
}

/**
 * Loop trough the list of modifiers and run them in order,
 * each of them will then edit the data object.
 * @method
 * @memberof Popper.Utils
 * @param {dataObject} data
 * @param {Array} modifiers
 * @param {String} ends - Optional modifier name used as stopper
 * @returns {dataObject}
 */
function runModifiers(modifiers, data, ends) {
  var modifiersToRun = ends === undefined ? modifiers : modifiers.slice(0, findIndex$1(modifiers, 'name', ends));

  modifiersToRun.forEach(function (modifier) {
    if (modifier.function) {
      console.warn('`modifier.function` is deprecated, use `modifier.fn`!');
    }
    var fn = modifier.function || modifier.fn;
    if (modifier.enabled && isFunction(fn)) {
      // Add properties to offsets to make them a complete clientRect object
      // we do this before each modifier to make sure the previous one doesn't
      // mess with these values
      data.offsets.popper = getClientRect(data.offsets.popper);
      data.offsets.reference = getClientRect(data.offsets.reference);

      data = fn(data, modifier);
    }
  });

  return data;
}

/**
 * Updates the position of the popper, computing the new offsets and applying
 * the new style.<br />
 * Prefer `scheduleUpdate` over `update` because of performance reasons.
 * @method
 * @memberof Popper
 */
function update() {
  // if popper is destroyed, don't perform any further update
  if (this.state.isDestroyed) {
    return;
  }

  var data = {
    instance: this,
    styles: {},
    arrowStyles: {},
    attributes: {},
    flipped: false,
    offsets: {}
  };

  // compute reference element offsets
  data.offsets.reference = getReferenceOffsets(this.state, this.popper, this.reference);

  // compute auto placement, store placement inside the data object,
  // modifiers will be able to edit `placement` if needed
  // and refer to originalPlacement to know the original value
  data.placement = computeAutoPlacement(this.options.placement, data.offsets.reference, this.popper, this.reference, this.options.modifiers.flip.boundariesElement, this.options.modifiers.flip.padding);

  // store the computed placement inside `originalPlacement`
  data.originalPlacement = data.placement;

  // compute the popper offsets
  data.offsets.popper = getPopperOffsets(this.popper, data.offsets.reference, data.placement);
  data.offsets.popper.position = 'absolute';

  // run the modifiers
  data = runModifiers(this.modifiers, data);

  // the first `update` will call `onCreate` callback
  // the other ones will call `onUpdate` callback
  if (!this.state.isCreated) {
    this.state.isCreated = true;
    this.options.onCreate(data);
  } else {
    this.options.onUpdate(data);
  }
}

/**
 * Helper used to know if the given modifier is enabled.
 * @method
 * @memberof Popper.Utils
 * @returns {Boolean}
 */
function isModifierEnabled(modifiers, modifierName) {
  return modifiers.some(function (_ref) {
    var name = _ref.name,
        enabled = _ref.enabled;
    return enabled && name === modifierName;
  });
}

/**
 * Get the prefixed supported property name
 * @method
 * @memberof Popper.Utils
 * @argument {String} property (camelCase)
 * @returns {String} prefixed property (camelCase or PascalCase, depending on the vendor prefix)
 */
function getSupportedPropertyName(property) {
  var prefixes = [false, 'ms', 'Webkit', 'Moz', 'O'];
  var upperProp = property.charAt(0).toUpperCase() + property.slice(1);

  for (var i = 0; i < prefixes.length - 1; i++) {
    var prefix = prefixes[i];
    var toCheck = prefix ? '' + prefix + upperProp : property;
    if (typeof window.document.body.style[toCheck] !== 'undefined') {
      return toCheck;
    }
  }
  return null;
}

/**
 * Destroy the popper
 * @method
 * @memberof Popper
 */
function destroy() {
  this.state.isDestroyed = true;

  // touch DOM only if `applyStyle` modifier is enabled
  if (isModifierEnabled(this.modifiers, 'applyStyle')) {
    this.popper.removeAttribute('x-placement');
    this.popper.style.left = '';
    this.popper.style.position = '';
    this.popper.style.top = '';
    this.popper.style[getSupportedPropertyName('transform')] = '';
  }

  this.disableEventListeners();

  // remove the popper if user explicity asked for the deletion on destroy
  // do not use `remove` because IE11 doesn't support it
  if (this.options.removeOnDestroy) {
    this.popper.parentNode.removeChild(this.popper);
  }
  return this;
}

function attachToScrollParents(scrollParent, event, callback, scrollParents) {
  var isBody = scrollParent.nodeName === 'BODY';
  var target = isBody ? window : scrollParent;
  target.addEventListener(event, callback, { passive: true });

  if (!isBody) {
    attachToScrollParents(getScrollParent(target.parentNode), event, callback, scrollParents);
  }
  scrollParents.push(target);
}

/**
 * Setup needed event listeners used to update the popper position
 * @method
 * @memberof Popper.Utils
 * @private
 */
function setupEventListeners(reference, options, state, updateBound) {
  // Resize event listener on window
  state.updateBound = updateBound;
  window.addEventListener('resize', state.updateBound, { passive: true });

  // Scroll event listener on scroll parents
  var scrollElement = getScrollParent(reference);
  attachToScrollParents(scrollElement, 'scroll', state.updateBound, state.scrollParents);
  state.scrollElement = scrollElement;
  state.eventsEnabled = true;

  return state;
}

/**
 * It will add resize/scroll events and start recalculating
 * position of the popper element when they are triggered.
 * @method
 * @memberof Popper
 */
function enableEventListeners() {
  if (!this.state.eventsEnabled) {
    this.state = setupEventListeners(this.reference, this.options, this.state, this.scheduleUpdate);
  }
}

/**
 * Remove event listeners used to update the popper position
 * @method
 * @memberof Popper.Utils
 * @private
 */
function removeEventListeners(reference, state) {
  // Remove resize event listener on window
  window.removeEventListener('resize', state.updateBound);

  // Remove scroll event listener on scroll parents
  state.scrollParents.forEach(function (target) {
    target.removeEventListener('scroll', state.updateBound);
  });

  // Reset state
  state.updateBound = null;
  state.scrollParents = [];
  state.scrollElement = null;
  state.eventsEnabled = false;
  return state;
}

/**
 * It will remove resize/scroll events and won't recalculate popper position
 * when they are triggered. It also won't trigger onUpdate callback anymore,
 * unless you call `update` method manually.
 * @method
 * @memberof Popper
 */
function disableEventListeners() {
  if (this.state.eventsEnabled) {
    window.cancelAnimationFrame(this.scheduleUpdate);
    this.state = removeEventListeners(this.reference, this.state);
  }
}

/**
 * Tells if a given input is a number
 * @method
 * @memberof Popper.Utils
 * @param {*} input to check
 * @return {Boolean}
 */
function isNumeric(n) {
  return n !== '' && !isNaN(parseFloat(n)) && isFinite(n);
}

/**
 * Set the style to the given popper
 * @method
 * @memberof Popper.Utils
 * @argument {Element} element - Element to apply the style to
 * @argument {Object} styles
 * Object with a list of properties and values which will be applied to the element
 */
function setStyles(element, styles) {
  Object.keys(styles).forEach(function (prop) {
    var unit = '';
    // add unit if the value is numeric and is one of the following
    if (['width', 'height', 'top', 'right', 'bottom', 'left'].indexOf(prop) !== -1 && isNumeric(styles[prop])) {
      unit = 'px';
    }
    element.style[prop] = styles[prop] + unit;
  });
}

/**
 * Set the attributes to the given popper
 * @method
 * @memberof Popper.Utils
 * @argument {Element} element - Element to apply the attributes to
 * @argument {Object} styles
 * Object with a list of properties and values which will be applied to the element
 */
function setAttributes(element, attributes) {
  Object.keys(attributes).forEach(function (prop) {
    var value = attributes[prop];
    if (value !== false) {
      element.setAttribute(prop, attributes[prop]);
    } else {
      element.removeAttribute(prop);
    }
  });
}

/**
 * @function
 * @memberof Modifiers
 * @argument {Object} data - The data object generated by `update` method
 * @argument {Object} data.styles - List of style properties - values to apply to popper element
 * @argument {Object} data.attributes - List of attribute properties - values to apply to popper element
 * @argument {Object} options - Modifiers configuration and options
 * @returns {Object} The same data object
 */
function applyStyle(data) {
  // any property present in `data.styles` will be applied to the popper,
  // in this way we can make the 3rd party modifiers add custom styles to it
  // Be aware, modifiers could override the properties defined in the previous
  // lines of this modifier!
  setStyles(data.instance.popper, data.styles);

  // any property present in `data.attributes` will be applied to the popper,
  // they will be set as HTML attributes of the element
  setAttributes(data.instance.popper, data.attributes);

  // if arrowElement is defined and arrowStyles has some properties
  if (data.arrowElement && Object.keys(data.arrowStyles).length) {
    setStyles(data.arrowElement, data.arrowStyles);
  }

  return data;
}

/**
 * Set the x-placement attribute before everything else because it could be used
 * to add margins to the popper margins needs to be calculated to get the
 * correct popper offsets.
 * @method
 * @memberof Popper.modifiers
 * @param {HTMLElement} reference - The reference element used to position the popper
 * @param {HTMLElement} popper - The HTML element used as popper.
 * @param {Object} options - Popper.js options
 */
function applyStyleOnLoad(reference, popper, options, modifierOptions, state) {
  // compute reference element offsets
  var referenceOffsets = getReferenceOffsets(state, popper, reference);

  // compute auto placement, store placement inside the data object,
  // modifiers will be able to edit `placement` if needed
  // and refer to originalPlacement to know the original value
  var placement = computeAutoPlacement(options.placement, referenceOffsets, popper, reference, options.modifiers.flip.boundariesElement, options.modifiers.flip.padding);

  popper.setAttribute('x-placement', placement);

  // Apply `position` to popper before anything else because
  // without the position applied we can't guarantee correct computations
  setStyles(popper, { position: 'absolute' });

  return options;
}

/**
 * @function
 * @memberof Modifiers
 * @argument {Object} data - The data object generated by `update` method
 * @argument {Object} options - Modifiers configuration and options
 * @returns {Object} The data object, properly modified
 */
function computeStyle(data, options) {
  var x = options.x,
      y = options.y;
  var popper = data.offsets.popper;

  // Remove this legacy support in Popper.js v2

  var legacyGpuAccelerationOption = find$1(data.instance.modifiers, function (modifier) {
    return modifier.name === 'applyStyle';
  }).gpuAcceleration;
  if (legacyGpuAccelerationOption !== undefined) {
    console.warn('WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!');
  }
  var gpuAcceleration = legacyGpuAccelerationOption !== undefined ? legacyGpuAccelerationOption : options.gpuAcceleration;

  var offsetParent = getOffsetParent(data.instance.popper);
  var offsetParentRect = getBoundingClientRect(offsetParent);

  // Styles
  var styles = {
    position: popper.position
  };

  // floor sides to avoid blurry text
  var offsets = {
    left: Math.floor(popper.left),
    top: Math.floor(popper.top),
    bottom: Math.floor(popper.bottom),
    right: Math.floor(popper.right)
  };

  var sideA = x === 'bottom' ? 'top' : 'bottom';
  var sideB = y === 'right' ? 'left' : 'right';

  // if gpuAcceleration is set to `true` and transform is supported,
  //  we use `translate3d` to apply the position to the popper we
  // automatically use the supported prefixed version if needed
  var prefixedProperty = getSupportedPropertyName('transform');

  // now, let's make a step back and look at this code closely (wtf?)
  // If the content of the popper grows once it's been positioned, it
  // may happen that the popper gets misplaced because of the new content
  // overflowing its reference element
  // To avoid this problem, we provide two options (x and y), which allow
  // the consumer to define the offset origin.
  // If we position a popper on top of a reference element, we can set
  // `x` to `top` to make the popper grow towards its top instead of
  // its bottom.
  var left = void 0,
      top = void 0;
  if (sideA === 'bottom') {
    top = -offsetParentRect.height + offsets.bottom;
  } else {
    top = offsets.top;
  }
  if (sideB === 'right') {
    left = -offsetParentRect.width + offsets.right;
  } else {
    left = offsets.left;
  }
  if (gpuAcceleration && prefixedProperty) {
    styles[prefixedProperty] = 'translate3d(' + left + 'px, ' + top + 'px, 0)';
    styles[sideA] = 0;
    styles[sideB] = 0;
    styles.willChange = 'transform';
  } else {
    // othwerise, we use the standard `top`, `left`, `bottom` and `right` properties
    var invertTop = sideA === 'bottom' ? -1 : 1;
    var invertLeft = sideB === 'right' ? -1 : 1;
    styles[sideA] = top * invertTop;
    styles[sideB] = left * invertLeft;
    styles.willChange = sideA + ', ' + sideB;
  }

  // Attributes
  var attributes = {
    'x-placement': data.placement
  };

  // Update `data` attributes, styles and arrowStyles
  data.attributes = _extends({}, attributes, data.attributes);
  data.styles = _extends({}, styles, data.styles);
  data.arrowStyles = _extends({}, data.offsets.arrow, data.arrowStyles);

  return data;
}

/**
 * Helper used to know if the given modifier depends from another one.<br />
 * It checks if the needed modifier is listed and enabled.
 * @method
 * @memberof Popper.Utils
 * @param {Array} modifiers - list of modifiers
 * @param {String} requestingName - name of requesting modifier
 * @param {String} requestedName - name of requested modifier
 * @returns {Boolean}
 */
function isModifierRequired(modifiers, requestingName, requestedName) {
  var requesting = find$1(modifiers, function (_ref) {
    var name = _ref.name;
    return name === requestingName;
  });

  var isRequired = !!requesting && modifiers.some(function (modifier) {
    return modifier.name === requestedName && modifier.enabled && modifier.order < requesting.order;
  });

  if (!isRequired) {
    var _requesting = '`' + requestingName + '`';
    var requested = '`' + requestedName + '`';
    console.warn(requested + ' modifier is required by ' + _requesting + ' modifier in order to work, be sure to include it before ' + _requesting + '!');
  }
  return isRequired;
}

/**
 * @function
 * @memberof Modifiers
 * @argument {Object} data - The data object generated by update method
 * @argument {Object} options - Modifiers configuration and options
 * @returns {Object} The data object, properly modified
 */
function arrow(data, options) {
  // arrow depends on keepTogether in order to work
  if (!isModifierRequired(data.instance.modifiers, 'arrow', 'keepTogether')) {
    return data;
  }

  var arrowElement = options.element;

  // if arrowElement is a string, suppose it's a CSS selector
  if (typeof arrowElement === 'string') {
    arrowElement = data.instance.popper.querySelector(arrowElement);

    // if arrowElement is not found, don't run the modifier
    if (!arrowElement) {
      return data;
    }
  } else {
    // if the arrowElement isn't a query selector we must check that the
    // provided DOM node is child of its popper node
    if (!data.instance.popper.contains(arrowElement)) {
      console.warn('WARNING: `arrow.element` must be child of its popper element!');
      return data;
    }
  }

  var placement = data.placement.split('-')[0];
  var _data$offsets = data.offsets,
      popper = _data$offsets.popper,
      reference = _data$offsets.reference;

  var isVertical = ['left', 'right'].indexOf(placement) !== -1;

  var len = isVertical ? 'height' : 'width';
  var sideCapitalized = isVertical ? 'Top' : 'Left';
  var side = sideCapitalized.toLowerCase();
  var altSide = isVertical ? 'left' : 'top';
  var opSide = isVertical ? 'bottom' : 'right';
  var arrowElementSize = getOuterSizes(arrowElement)[len];

  //
  // extends keepTogether behavior making sure the popper and its
  // reference have enough pixels in conjuction
  //

  // top/left side
  if (reference[opSide] - arrowElementSize < popper[side]) {
    data.offsets.popper[side] -= popper[side] - (reference[opSide] - arrowElementSize);
  }
  // bottom/right side
  if (reference[side] + arrowElementSize > popper[opSide]) {
    data.offsets.popper[side] += reference[side] + arrowElementSize - popper[opSide];
  }

  // compute center of the popper
  var center = reference[side] + reference[len] / 2 - arrowElementSize / 2;

  // Compute the sideValue using the updated popper offsets
  // take popper margin in account because we don't have this info available
  var popperMarginSide = getStyleComputedProperty(data.instance.popper, 'margin' + sideCapitalized).replace('px', '');
  var sideValue = center - getClientRect(data.offsets.popper)[side] - popperMarginSide;

  // prevent arrowElement from being placed not contiguously to its popper
  sideValue = Math.max(Math.min(popper[len] - arrowElementSize, sideValue), 0);

  data.arrowElement = arrowElement;
  data.offsets.arrow = {};
  data.offsets.arrow[side] = Math.round(sideValue);
  data.offsets.arrow[altSide] = ''; // make sure to unset any eventual altSide value from the DOM node

  return data;
}

/**
 * Get the opposite placement variation of the given one
 * @method
 * @memberof Popper.Utils
 * @argument {String} placement variation
 * @returns {String} flipped placement variation
 */
function getOppositeVariation(variation) {
  if (variation === 'end') {
    return 'start';
  } else if (variation === 'start') {
    return 'end';
  }
  return variation;
}

/**
 * List of accepted placements to use as values of the `placement` option.<br />
 * Valid placements are:
 * - `auto`
 * - `top`
 * - `right`
 * - `bottom`
 * - `left`
 *
 * Each placement can have a variation from this list:
 * - `-start`
 * - `-end`
 *
 * Variations are interpreted easily if you think of them as the left to right
 * written languages. Horizontally (`top` and `bottom`), `start` is left and `end`
 * is right.<br />
 * Vertically (`left` and `right`), `start` is top and `end` is bottom.
 *
 * Some valid examples are:
 * - `top-end` (on top of reference, right aligned)
 * - `right-start` (on right of reference, top aligned)
 * - `bottom` (on bottom, centered)
 * - `auto-right` (on the side with more space available, alignment depends by placement)
 *
 * @static
 * @type {Array}
 * @enum {String}
 * @readonly
 * @method placements
 * @memberof Popper
 */
var placements = ['auto-start', 'auto', 'auto-end', 'top-start', 'top', 'top-end', 'right-start', 'right', 'right-end', 'bottom-end', 'bottom', 'bottom-start', 'left-end', 'left', 'left-start'];

// Get rid of `auto` `auto-start` and `auto-end`
var validPlacements = placements.slice(3);

/**
 * Given an initial placement, returns all the subsequent placements
 * clockwise (or counter-clockwise).
 *
 * @method
 * @memberof Popper.Utils
 * @argument {String} placement - A valid placement (it accepts variations)
 * @argument {Boolean} counter - Set to true to walk the placements counterclockwise
 * @returns {Array} placements including their variations
 */
function clockwise(placement) {
  var counter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

  var index = validPlacements.indexOf(placement);
  var arr = validPlacements.slice(index + 1).concat(validPlacements.slice(0, index));
  return counter ? arr.reverse() : arr;
}

var BEHAVIORS = {
  FLIP: 'flip',
  CLOCKWISE: 'clockwise',
  COUNTERCLOCKWISE: 'counterclockwise'
};

/**
 * @function
 * @memberof Modifiers
 * @argument {Object} data - The data object generated by update method
 * @argument {Object} options - Modifiers configuration and options
 * @returns {Object} The data object, properly modified
 */
function flip(data, options) {
  // if `inner` modifier is enabled, we can't use the `flip` modifier
  if (isModifierEnabled(data.instance.modifiers, 'inner')) {
    return data;
  }

  if (data.flipped && data.placement === data.originalPlacement) {
    // seems like flip is trying to loop, probably there's not enough space on any of the flippable sides
    return data;
  }

  var boundaries = getBoundaries(data.instance.popper, data.instance.reference, options.padding, options.boundariesElement);

  var placement = data.placement.split('-')[0];
  var placementOpposite = getOppositePlacement(placement);
  var variation = data.placement.split('-')[1] || '';

  var flipOrder = [];

  switch (options.behavior) {
    case BEHAVIORS.FLIP:
      flipOrder = [placement, placementOpposite];
      break;
    case BEHAVIORS.CLOCKWISE:
      flipOrder = clockwise(placement);
      break;
    case BEHAVIORS.COUNTERCLOCKWISE:
      flipOrder = clockwise(placement, true);
      break;
    default:
      flipOrder = options.behavior;
  }

  flipOrder.forEach(function (step, index) {
    if (placement !== step || flipOrder.length === index + 1) {
      return data;
    }

    placement = data.placement.split('-')[0];
    placementOpposite = getOppositePlacement(placement);

    var popperOffsets = data.offsets.popper;
    var refOffsets = data.offsets.reference;

    // using floor because the reference offsets may contain decimals we are not going to consider here
    var floor = Math.floor;
    var overlapsRef = placement === 'left' && floor(popperOffsets.right) > floor(refOffsets.left) || placement === 'right' && floor(popperOffsets.left) < floor(refOffsets.right) || placement === 'top' && floor(popperOffsets.bottom) > floor(refOffsets.top) || placement === 'bottom' && floor(popperOffsets.top) < floor(refOffsets.bottom);

    var overflowsLeft = floor(popperOffsets.left) < floor(boundaries.left);
    var overflowsRight = floor(popperOffsets.right) > floor(boundaries.right);
    var overflowsTop = floor(popperOffsets.top) < floor(boundaries.top);
    var overflowsBottom = floor(popperOffsets.bottom) > floor(boundaries.bottom);

    var overflowsBoundaries = placement === 'left' && overflowsLeft || placement === 'right' && overflowsRight || placement === 'top' && overflowsTop || placement === 'bottom' && overflowsBottom;

    // flip the variation if required
    var isVertical = ['top', 'bottom'].indexOf(placement) !== -1;
    var flippedVariation = !!options.flipVariations && (isVertical && variation === 'start' && overflowsLeft || isVertical && variation === 'end' && overflowsRight || !isVertical && variation === 'start' && overflowsTop || !isVertical && variation === 'end' && overflowsBottom);

    if (overlapsRef || overflowsBoundaries || flippedVariation) {
      // this boolean to detect any flip loop
      data.flipped = true;

      if (overlapsRef || overflowsBoundaries) {
        placement = flipOrder[index + 1];
      }

      if (flippedVariation) {
        variation = getOppositeVariation(variation);
      }

      data.placement = placement + (variation ? '-' + variation : '');

      // this object contains `position`, we want to preserve it along with
      // any additional property we may add in the future
      data.offsets.popper = _extends({}, data.offsets.popper, getPopperOffsets(data.instance.popper, data.offsets.reference, data.placement));

      data = runModifiers(data.instance.modifiers, data, 'flip');
    }
  });
  return data;
}

/**
 * @function
 * @memberof Modifiers
 * @argument {Object} data - The data object generated by update method
 * @argument {Object} options - Modifiers configuration and options
 * @returns {Object} The data object, properly modified
 */
function keepTogether(data) {
  var _data$offsets = data.offsets,
      popper = _data$offsets.popper,
      reference = _data$offsets.reference;

  var placement = data.placement.split('-')[0];
  var floor = Math.floor;
  var isVertical = ['top', 'bottom'].indexOf(placement) !== -1;
  var side = isVertical ? 'right' : 'bottom';
  var opSide = isVertical ? 'left' : 'top';
  var measurement = isVertical ? 'width' : 'height';

  if (popper[side] < floor(reference[opSide])) {
    data.offsets.popper[opSide] = floor(reference[opSide]) - popper[measurement];
  }
  if (popper[opSide] > floor(reference[side])) {
    data.offsets.popper[opSide] = floor(reference[side]);
  }

  return data;
}

/**
 * Converts a string containing value + unit into a px value number
 * @function
 * @memberof {modifiers~offset}
 * @private
 * @argument {String} str - Value + unit string
 * @argument {String} measurement - `height` or `width`
 * @argument {Object} popperOffsets
 * @argument {Object} referenceOffsets
 * @returns {Number|String}
 * Value in pixels, or original string if no values were extracted
 */
function toValue(str, measurement, popperOffsets, referenceOffsets) {
  // separate value from unit
  var split = str.match(/((?:\-|\+)?\d*\.?\d*)(.*)/);
  var value = +split[1];
  var unit = split[2];

  // If it's not a number it's an operator, I guess
  if (!value) {
    return str;
  }

  if (unit.indexOf('%') === 0) {
    var element = void 0;
    switch (unit) {
      case '%p':
        element = popperOffsets;
        break;
      case '%':
      case '%r':
      default:
        element = referenceOffsets;
    }

    var rect = getClientRect(element);
    return rect[measurement] / 100 * value;
  } else if (unit === 'vh' || unit === 'vw') {
    // if is a vh or vw, we calculate the size based on the viewport
    var size = void 0;
    if (unit === 'vh') {
      size = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
    } else {
      size = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
    }
    return size / 100 * value;
  } else {
    // if is an explicit pixel unit, we get rid of the unit and keep the value
    // if is an implicit unit, it's px, and we return just the value
    return value;
  }
}

/**
 * Parse an `offset` string to extrapolate `x` and `y` numeric offsets.
 * @function
 * @memberof {modifiers~offset}
 * @private
 * @argument {String} offset
 * @argument {Object} popperOffsets
 * @argument {Object} referenceOffsets
 * @argument {String} basePlacement
 * @returns {Array} a two cells array with x and y offsets in numbers
 */
function parseOffset(offset, popperOffsets, referenceOffsets, basePlacement) {
  var offsets = [0, 0];

  // Use height if placement is left or right and index is 0 otherwise use width
  // in this way the first offset will use an axis and the second one
  // will use the other one
  var useHeight = ['right', 'left'].indexOf(basePlacement) !== -1;

  // Split the offset string to obtain a list of values and operands
  // The regex addresses values with the plus or minus sign in front (+10, -20, etc)
  var fragments = offset.split(/(\+|\-)/).map(function (frag) {
    return frag.trim();
  });

  // Detect if the offset string contains a pair of values or a single one
  // they could be separated by comma or space
  var divider = fragments.indexOf(find$1(fragments, function (frag) {
    return frag.search(/,|\s/) !== -1;
  }));

  if (fragments[divider] && fragments[divider].indexOf(',') === -1) {
    console.warn('Offsets separated by white space(s) are deprecated, use a comma (,) instead.');
  }

  // If divider is found, we divide the list of values and operands to divide
  // them by ofset X and Y.
  var splitRegex = /\s*,\s*|\s+/;
  var ops = divider !== -1 ? [fragments.slice(0, divider).concat([fragments[divider].split(splitRegex)[0]]), [fragments[divider].split(splitRegex)[1]].concat(fragments.slice(divider + 1))] : [fragments];

  // Convert the values with units to absolute pixels to allow our computations
  ops = ops.map(function (op, index) {
    // Most of the units rely on the orientation of the popper
    var measurement = (index === 1 ? !useHeight : useHeight) ? 'height' : 'width';
    var mergeWithPrevious = false;
    return op
    // This aggregates any `+` or `-` sign that aren't considered operators
    // e.g.: 10 + +5 => [10, +, +5]
    .reduce(function (a, b) {
      if (a[a.length - 1] === '' && ['+', '-'].indexOf(b) !== -1) {
        a[a.length - 1] = b;
        mergeWithPrevious = true;
        return a;
      } else if (mergeWithPrevious) {
        a[a.length - 1] += b;
        mergeWithPrevious = false;
        return a;
      } else {
        return a.concat(b);
      }
    }, [])
    // Here we convert the string values into number values (in px)
    .map(function (str) {
      return toValue(str, measurement, popperOffsets, referenceOffsets);
    });
  });

  // Loop trough the offsets arrays and execute the operations
  ops.forEach(function (op, index) {
    op.forEach(function (frag, index2) {
      if (isNumeric(frag)) {
        offsets[index] += frag * (op[index2 - 1] === '-' ? -1 : 1);
      }
    });
  });
  return offsets;
}

/**
 * @function
 * @memberof Modifiers
 * @argument {Object} data - The data object generated by update method
 * @argument {Object} options - Modifiers configuration and options
 * @argument {Number|String} options.offset=0
 * The offset value as described in the modifier description
 * @returns {Object} The data object, properly modified
 */
function offset(data, _ref) {
  var offset = _ref.offset;
  var placement = data.placement,
      _data$offsets = data.offsets,
      popper = _data$offsets.popper,
      reference = _data$offsets.reference;

  var basePlacement = placement.split('-')[0];

  var offsets = void 0;
  if (isNumeric(+offset)) {
    offsets = [+offset, 0];
  } else {
    offsets = parseOffset(offset, popper, reference, basePlacement);
  }

  if (basePlacement === 'left') {
    popper.top += offsets[0];
    popper.left -= offsets[1];
  } else if (basePlacement === 'right') {
    popper.top += offsets[0];
    popper.left += offsets[1];
  } else if (basePlacement === 'top') {
    popper.left += offsets[0];
    popper.top -= offsets[1];
  } else if (basePlacement === 'bottom') {
    popper.left += offsets[0];
    popper.top += offsets[1];
  }

  data.popper = popper;
  return data;
}

/**
 * @function
 * @memberof Modifiers
 * @argument {Object} data - The data object generated by `update` method
 * @argument {Object} options - Modifiers configuration and options
 * @returns {Object} The data object, properly modified
 */
function preventOverflow(data, options) {
  var boundariesElement = options.boundariesElement || getOffsetParent(data.instance.popper);

  // If offsetParent is the reference element, we really want to
  // go one step up and use the next offsetParent as reference to
  // avoid to make this modifier completely useless and look like broken
  if (data.instance.reference === boundariesElement) {
    boundariesElement = getOffsetParent(boundariesElement);
  }

  var boundaries = getBoundaries(data.instance.popper, data.instance.reference, options.padding, boundariesElement);
  options.boundaries = boundaries;

  var order = options.priority;
  var popper = data.offsets.popper;

  var check = {
    primary: function primary(placement) {
      var value = popper[placement];
      if (popper[placement] < boundaries[placement] && !options.escapeWithReference) {
        value = Math.max(popper[placement], boundaries[placement]);
      }
      return defineProperty({}, placement, value);
    },
    secondary: function secondary(placement) {
      var mainSide = placement === 'right' ? 'left' : 'top';
      var value = popper[mainSide];
      if (popper[placement] > boundaries[placement] && !options.escapeWithReference) {
        value = Math.min(popper[mainSide], boundaries[placement] - (placement === 'right' ? popper.width : popper.height));
      }
      return defineProperty({}, mainSide, value);
    }
  };

  order.forEach(function (placement) {
    var side = ['left', 'top'].indexOf(placement) !== -1 ? 'primary' : 'secondary';
    popper = _extends({}, popper, check[side](placement));
  });

  data.offsets.popper = popper;

  return data;
}

/**
 * @function
 * @memberof Modifiers
 * @argument {Object} data - The data object generated by `update` method
 * @argument {Object} options - Modifiers configuration and options
 * @returns {Object} The data object, properly modified
 */
function shift(data) {
  var placement = data.placement;
  var basePlacement = placement.split('-')[0];
  var shiftvariation = placement.split('-')[1];

  // if shift shiftvariation is specified, run the modifier
  if (shiftvariation) {
    var _data$offsets = data.offsets,
        reference = _data$offsets.reference,
        popper = _data$offsets.popper;

    var isVertical = ['bottom', 'top'].indexOf(basePlacement) !== -1;
    var side = isVertical ? 'left' : 'top';
    var measurement = isVertical ? 'width' : 'height';

    var shiftOffsets = {
      start: defineProperty({}, side, reference[side]),
      end: defineProperty({}, side, reference[side] + reference[measurement] - popper[measurement])
    };

    data.offsets.popper = _extends({}, popper, shiftOffsets[shiftvariation]);
  }

  return data;
}

/**
 * @function
 * @memberof Modifiers
 * @argument {Object} data - The data object generated by update method
 * @argument {Object} options - Modifiers configuration and options
 * @returns {Object} The data object, properly modified
 */
function hide(data) {
  if (!isModifierRequired(data.instance.modifiers, 'hide', 'preventOverflow')) {
    return data;
  }

  var refRect = data.offsets.reference;
  var bound = find$1(data.instance.modifiers, function (modifier) {
    return modifier.name === 'preventOverflow';
  }).boundaries;

  if (refRect.bottom < bound.top || refRect.left > bound.right || refRect.top > bound.bottom || refRect.right < bound.left) {
    // Avoid unnecessary DOM access if visibility hasn't changed
    if (data.hide === true) {
      return data;
    }

    data.hide = true;
    data.attributes['x-out-of-boundaries'] = '';
  } else {
    // Avoid unnecessary DOM access if visibility hasn't changed
    if (data.hide === false) {
      return data;
    }

    data.hide = false;
    data.attributes['x-out-of-boundaries'] = false;
  }

  return data;
}

/**
 * @function
 * @memberof Modifiers
 * @argument {Object} data - The data object generated by `update` method
 * @argument {Object} options - Modifiers configuration and options
 * @returns {Object} The data object, properly modified
 */
function inner(data) {
  var placement = data.placement;
  var basePlacement = placement.split('-')[0];
  var _data$offsets = data.offsets,
      popper = _data$offsets.popper,
      reference = _data$offsets.reference;

  var isHoriz = ['left', 'right'].indexOf(basePlacement) !== -1;

  var subtractLength = ['top', 'left'].indexOf(basePlacement) === -1;

  popper[isHoriz ? 'left' : 'top'] = reference[basePlacement] - (subtractLength ? popper[isHoriz ? 'width' : 'height'] : 0);

  data.placement = getOppositePlacement(placement);
  data.offsets.popper = getClientRect(popper);

  return data;
}

/**
 * Modifier function, each modifier can have a function of this type assigned
 * to its `fn` property.<br />
 * These functions will be called on each update, this means that you must
 * make sure they are performant enough to avoid performance bottlenecks.
 *
 * @function ModifierFn
 * @argument {dataObject} data - The data object generated by `update` method
 * @argument {Object} options - Modifiers configuration and options
 * @returns {dataObject} The data object, properly modified
 */

/**
 * Modifiers are plugins used to alter the behavior of your poppers.<br />
 * Popper.js uses a set of 9 modifiers to provide all the basic functionalities
 * needed by the library.
 *
 * Usually you don't want to override the `order`, `fn` and `onLoad` props.
 * All the other properties are configurations that could be tweaked.
 * @namespace modifiers
 */
var modifiers = {
  /**
   * Modifier used to shift the popper on the start or end of its reference
   * element.<br />
   * It will read the variation of the `placement` property.<br />
   * It can be one either `-end` or `-start`.
   * @memberof modifiers
   * @inner
   */
  shift: {
    /** @prop {number} order=100 - Index used to define the order of execution */
    order: 100,
    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */
    enabled: true,
    /** @prop {ModifierFn} */
    fn: shift
  },

  /**
   * The `offset` modifier can shift your popper on both its axis.
   *
   * It accepts the following units:
   * - `px` or unitless, interpreted as pixels
   * - `%` or `%r`, percentage relative to the length of the reference element
   * - `%p`, percentage relative to the length of the popper element
   * - `vw`, CSS viewport width unit
   * - `vh`, CSS viewport height unit
   *
   * For length is intended the main axis relative to the placement of the popper.<br />
   * This means that if the placement is `top` or `bottom`, the length will be the
   * `width`. In case of `left` or `right`, it will be the height.
   *
   * You can provide a single value (as `Number` or `String`), or a pair of values
   * as `String` divided by a comma or one (or more) white spaces.<br />
   * The latter is a deprecated method because it leads to confusion and will be
   * removed in v2.<br />
   * Additionally, it accepts additions and subtractions between different units.
   * Note that multiplications and divisions aren't supported.
   *
   * Valid examples are:
   * ```
   * 10
   * '10%'
   * '10, 10'
   * '10%, 10'
   * '10 + 10%'
   * '10 - 5vh + 3%'
   * '-10px + 5vh, 5px - 6%'
   * ```
   * > **NB**: If you desire to apply offsets to your poppers in a way that may make them overlap
   * > with their reference element, unfortunately, you will have to disable the `flip` modifier.
   * > More on this [reading this issue](https://github.com/FezVrasta/popper.js/issues/373)
   *
   * @memberof modifiers
   * @inner
   */
  offset: {
    /** @prop {number} order=200 - Index used to define the order of execution */
    order: 200,
    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */
    enabled: true,
    /** @prop {ModifierFn} */
    fn: offset,
    /** @prop {Number|String} offset=0
     * The offset value as described in the modifier description
     */
    offset: 0
  },

  /**
   * Modifier used to prevent the popper from being positioned outside the boundary.
   *
   * An scenario exists where the reference itself is not within the boundaries.<br />
   * We can say it has "escaped the boundaries" â€” or just "escaped".<br />
   * In this case we need to decide whether the popper should either:
   *
   * - detach from the reference and remain "trapped" in the boundaries, or
   * - if it should ignore the boundary and "escape with its reference"
   *
   * When `escapeWithReference` is set to`true` and reference is completely
   * outside its boundaries, the popper will overflow (or completely leave)
   * the boundaries in order to remain attached to the edge of the reference.
   *
   * @memberof modifiers
   * @inner
   */
  preventOverflow: {
    /** @prop {number} order=300 - Index used to define the order of execution */
    order: 300,
    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */
    enabled: true,
    /** @prop {ModifierFn} */
    fn: preventOverflow,
    /**
     * @prop {Array} [priority=['left','right','top','bottom']]
     * Popper will try to prevent overflow following these priorities by default,
     * then, it could overflow on the left and on top of the `boundariesElement`
     */
    priority: ['left', 'right', 'top', 'bottom'],
    /**
     * @prop {number} padding=5
     * Amount of pixel used to define a minimum distance between the boundaries
     * and the popper this makes sure the popper has always a little padding
     * between the edges of its container
     */
    padding: 5,
    /**
     * @prop {String|HTMLElement} boundariesElement='scrollParent'
     * Boundaries used by the modifier, can be `scrollParent`, `window`,
     * `viewport` or any DOM element.
     */
    boundariesElement: 'scrollParent'
  },

  /**
   * Modifier used to make sure the reference and its popper stay near eachothers
   * without leaving any gap between the two. Expecially useful when the arrow is
   * enabled and you want to assure it to point to its reference element.
   * It cares only about the first axis, you can still have poppers with margin
   * between the popper and its reference element.
   * @memberof modifiers
   * @inner
   */
  keepTogether: {
    /** @prop {number} order=400 - Index used to define the order of execution */
    order: 400,
    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */
    enabled: true,
    /** @prop {ModifierFn} */
    fn: keepTogether
  },

  /**
   * This modifier is used to move the `arrowElement` of the popper to make
   * sure it is positioned between the reference element and its popper element.
   * It will read the outer size of the `arrowElement` node to detect how many
   * pixels of conjuction are needed.
   *
   * It has no effect if no `arrowElement` is provided.
   * @memberof modifiers
   * @inner
   */
  arrow: {
    /** @prop {number} order=500 - Index used to define the order of execution */
    order: 500,
    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */
    enabled: true,
    /** @prop {ModifierFn} */
    fn: arrow,
    /** @prop {String|HTMLElement} element='[x-arrow]' - Selector or node used as arrow */
    element: '[x-arrow]'
  },

  /**
   * Modifier used to flip the popper's placement when it starts to overlap its
   * reference element.
   *
   * Requires the `preventOverflow` modifier before it in order to work.
   *
   * **NOTE:** this modifier will interrupt the current update cycle and will
   * restart it if it detects the need to flip the placement.
   * @memberof modifiers
   * @inner
   */
  flip: {
    /** @prop {number} order=600 - Index used to define the order of execution */
    order: 600,
    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */
    enabled: true,
    /** @prop {ModifierFn} */
    fn: flip,
    /**
     * @prop {String|Array} behavior='flip'
     * The behavior used to change the popper's placement. It can be one of
     * `flip`, `clockwise`, `counterclockwise` or an array with a list of valid
     * placements (with optional variations).
     */
    behavior: 'flip',
    /**
     * @prop {number} padding=5
     * The popper will flip if it hits the edges of the `boundariesElement`
     */
    padding: 5,
    /**
     * @prop {String|HTMLElement} boundariesElement='viewport'
     * The element which will define the boundaries of the popper position,
     * the popper will never be placed outside of the defined boundaries
     * (except if keepTogether is enabled)
     */
    boundariesElement: 'viewport'
  },

  /**
   * Modifier used to make the popper flow toward the inner of the reference element.
   * By default, when this modifier is disabled, the popper will be placed outside
   * the reference element.
   * @memberof modifiers
   * @inner
   */
  inner: {
    /** @prop {number} order=700 - Index used to define the order of execution */
    order: 700,
    /** @prop {Boolean} enabled=false - Whether the modifier is enabled or not */
    enabled: false,
    /** @prop {ModifierFn} */
    fn: inner
  },

  /**
   * Modifier used to hide the popper when its reference element is outside of the
   * popper boundaries. It will set a `x-out-of-boundaries` attribute which can
   * be used to hide with a CSS selector the popper when its reference is
   * out of boundaries.
   *
   * Requires the `preventOverflow` modifier before it in order to work.
   * @memberof modifiers
   * @inner
   */
  hide: {
    /** @prop {number} order=800 - Index used to define the order of execution */
    order: 800,
    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */
    enabled: true,
    /** @prop {ModifierFn} */
    fn: hide
  },

  /**
   * Computes the style that will be applied to the popper element to gets
   * properly positioned.
   *
   * Note that this modifier will not touch the DOM, it just prepares the styles
   * so that `applyStyle` modifier can apply it. This separation is useful
   * in case you need to replace `applyStyle` with a custom implementation.
   *
   * This modifier has `850` as `order` value to maintain backward compatibility
   * with previous versions of Popper.js. Expect the modifiers ordering method
   * to change in future major versions of the library.
   *
   * @memberof modifiers
   * @inner
   */
  computeStyle: {
    /** @prop {number} order=850 - Index used to define the order of execution */
    order: 850,
    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */
    enabled: true,
    /** @prop {ModifierFn} */
    fn: computeStyle,
    /**
     * @prop {Boolean} gpuAcceleration=true
     * If true, it uses the CSS 3d transformation to position the popper.
     * Otherwise, it will use the `top` and `left` properties.
     */
    gpuAcceleration: true,
    /**
     * @prop {string} [x='bottom']
     * Where to anchor the X axis (`bottom` or `top`). AKA X offset origin.
     * Change this if your popper should grow in a direction different from `bottom`
     */
    x: 'bottom',
    /**
     * @prop {string} [x='left']
     * Where to anchor the Y axis (`left` or `right`). AKA Y offset origin.
     * Change this if your popper should grow in a direction different from `right`
     */
    y: 'right'
  },

  /**
   * Applies the computed styles to the popper element.
   *
   * All the DOM manipulations are limited to this modifier. This is useful in case
   * you want to integrate Popper.js inside a framework or view library and you
   * want to delegate all the DOM manipulations to it.
   *
   * Note that if you disable this modifier, you must make sure the popper element
   * has its position set to `absolute` before Popper.js can do its work!
   *
   * Just disable this modifier and define you own to achieve the desired effect.
   *
   * @memberof modifiers
   * @inner
   */
  applyStyle: {
    /** @prop {number} order=900 - Index used to define the order of execution */
    order: 900,
    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */
    enabled: true,
    /** @prop {ModifierFn} */
    fn: applyStyle,
    /** @prop {Function} */
    onLoad: applyStyleOnLoad,
    /**
     * @deprecated since version 1.10.0, the property moved to `computeStyle` modifier
     * @prop {Boolean} gpuAcceleration=true
     * If true, it uses the CSS 3d transformation to position the popper.
     * Otherwise, it will use the `top` and `left` properties.
     */
    gpuAcceleration: undefined
  }
};

/**
 * The `dataObject` is an object containing all the informations used by Popper.js
 * this object get passed to modifiers and to the `onCreate` and `onUpdate` callbacks.
 * @name dataObject
 * @property {Object} data.instance The Popper.js instance
 * @property {String} data.placement Placement applied to popper
 * @property {String} data.originalPlacement Placement originally defined on init
 * @property {Boolean} data.flipped True if popper has been flipped by flip modifier
 * @property {Boolean} data.hide True if the reference element is out of boundaries, useful to know when to hide the popper.
 * @property {HTMLElement} data.arrowElement Node used as arrow by arrow modifier
 * @property {Object} data.styles Any CSS property defined here will be applied to the popper, it expects the JavaScript nomenclature (eg. `marginBottom`)
 * @property {Object} data.arrowStyles Any CSS property defined here will be applied to the popper arrow, it expects the JavaScript nomenclature (eg. `marginBottom`)
 * @property {Object} data.boundaries Offsets of the popper boundaries
 * @property {Object} data.offsets The measurements of popper, reference and arrow elements.
 * @property {Object} data.offsets.popper `top`, `left`, `width`, `height` values
 * @property {Object} data.offsets.reference `top`, `left`, `width`, `height` values
 * @property {Object} data.offsets.arrow] `top` and `left` offsets, only one of them will be different from 0
 */

/**
 * Default options provided to Popper.js constructor.<br />
 * These can be overriden using the `options` argument of Popper.js.<br />
 * To override an option, simply pass as 3rd argument an object with the same
 * structure of this object, example:
 * ```
 * new Popper(ref, pop, {
 *   modifiers: {
 *     preventOverflow: { enabled: false }
 *   }
 * })
 * ```
 * @type {Object}
 * @static
 * @memberof Popper
 */
var Defaults$1 = {
  /**
   * Popper's placement
   * @prop {Popper.placements} placement='bottom'
   */
  placement: 'bottom',

  /**
   * Whether events (resize, scroll) are initially enabled
   * @prop {Boolean} eventsEnabled=true
   */
  eventsEnabled: true,

  /**
   * Set to true if you want to automatically remove the popper when
   * you call the `destroy` method.
   * @prop {Boolean} removeOnDestroy=false
   */
  removeOnDestroy: false,

  /**
   * Callback called when the popper is created.<br />
   * By default, is set to no-op.<br />
   * Access Popper.js instance with `data.instance`.
   * @prop {onCreate}
   */
  onCreate: function onCreate() {},

  /**
   * Callback called when the popper is updated, this callback is not called
   * on the initialization/creation of the popper, but only on subsequent
   * updates.<br />
   * By default, is set to no-op.<br />
   * Access Popper.js instance with `data.instance`.
   * @prop {onUpdate}
   */
  onUpdate: function onUpdate() {},

  /**
   * List of modifiers used to modify the offsets before they are applied to the popper.
   * They provide most of the functionalities of Popper.js
   * @prop {modifiers}
   */
  modifiers: modifiers
};

/**
 * @callback onCreate
 * @param {dataObject} data
 */

/**
 * @callback onUpdate
 * @param {dataObject} data
 */

// Utils
// Methods
var Popper = function () {
  /**
   * Create a new Popper.js instance
   * @class Popper
   * @param {HTMLElement|referenceObject} reference - The reference element used to position the popper
   * @param {HTMLElement} popper - The HTML element used as popper.
   * @param {Object} options - Your custom options to override the ones defined in [Defaults](#defaults)
   * @return {Object} instance - The generated Popper.js instance
   */
  function Popper(reference, popper) {
    var _this = this;

    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    classCallCheck(this, Popper);

    this.scheduleUpdate = function () {
      return requestAnimationFrame(_this.update);
    };

    // make update() debounced, so that it only runs at most once-per-tick
    this.update = debounce(this.update.bind(this));

    // with {} we create a new object with the options inside it
    this.options = _extends({}, Popper.Defaults, options);

    // init state
    this.state = {
      isDestroyed: false,
      isCreated: false,
      scrollParents: []
    };

    // get reference and popper elements (allow jQuery wrappers)
    this.reference = reference.jquery ? reference[0] : reference;
    this.popper = popper.jquery ? popper[0] : popper;

    // Deep merge modifiers options
    this.options.modifiers = {};
    Object.keys(_extends({}, Popper.Defaults.modifiers, options.modifiers)).forEach(function (name) {
      _this.options.modifiers[name] = _extends({}, Popper.Defaults.modifiers[name] || {}, options.modifiers ? options.modifiers[name] : {});
    });

    // Refactoring modifiers' list (Object => Array)
    this.modifiers = Object.keys(this.options.modifiers).map(function (name) {
      return _extends({
        name: name
      }, _this.options.modifiers[name]);
    })
    // sort the modifiers by order
    .sort(function (a, b) {
      return a.order - b.order;
    });

    // modifiers have the ability to execute arbitrary code when Popper.js get inited
    // such code is executed in the same order of its modifier
    // they could add new properties to their options configuration
    // BE AWARE: don't add options to `options.modifiers.name` but to `modifierOptions`!
    this.modifiers.forEach(function (modifierOptions) {
      if (modifierOptions.enabled && isFunction(modifierOptions.onLoad)) {
        modifierOptions.onLoad(_this.reference, _this.popper, _this.options, modifierOptions, _this.state);
      }
    });

    // fire the first update to position the popper in the right place
    this.update();

    var eventsEnabled = this.options.eventsEnabled;
    if (eventsEnabled) {
      // setup event listeners, they will take care of update the position in specific situations
      this.enableEventListeners();
    }

    this.state.eventsEnabled = eventsEnabled;
  }

  // We can't use class properties because they don't get listed in the
  // class prototype and break stuff like Sinon stubs


  createClass(Popper, [{
    key: 'update',
    value: function update$$1() {
      return update.call(this);
    }
  }, {
    key: 'destroy',
    value: function destroy$$1() {
      return destroy.call(this);
    }
  }, {
    key: 'enableEventListeners',
    value: function enableEventListeners$$1() {
      return enableEventListeners.call(this);
    }
  }, {
    key: 'disableEventListeners',
    value: function disableEventListeners$$1() {
      return disableEventListeners.call(this);
    }

    /**
     * Schedule an update, it will run on the next UI update available
     * @method scheduleUpdate
     * @memberof Popper
     */

    /**
     * Collection of utilities useful when writing custom modifiers.
     * Starting from version 1.7, this method is available only if you
     * include `popper-utils.js` before `popper.js`.
     *
     * **DEPRECATION**: This way to access PopperUtils is deprecated
     * and will be removed in v2! Use the PopperUtils module directly instead.
     * Due to the high instability of the methods contained in Utils, we can't
     * guarantee them to follow semver. Use them at your own risk!
     * @static
     * @private
     * @type {Object}
     * @deprecated since version 1.8
     * @member Utils
     * @memberof Popper
     */

  }]);
  return Popper;
}();

/**
 * The `referenceObject` is an object that provides an interface compatible with Popper.js
 * and lets you use it as replacement of a real DOM node.<br />
 * You can use this method to position a popper relatively to a set of coordinates
 * in case you don't have a DOM node to use as reference.
 *
 * ```
 * new Popper(referenceObject, popperNode);
 * ```
 *
 * NB: This feature isn't supported in Internet Explorer 10
 * @name referenceObject
 * @property {Function} data.getBoundingClientRect
 * A function that returns a set of coordinates compatible with the native `getBoundingClientRect` method.
 * @property {number} data.clientWidth
 * An ES6 getter that will return the width of the virtual reference element.
 * @property {number} data.clientHeight
 * An ES6 getter that will return the height of the virtual reference element.
 */

Popper.Utils = (typeof window !== 'undefined' ? window : commonjsGlobal).PopperUtils;
Popper.placements = placements;
Popper.Defaults = Defaults$1;

/**
* Returns the distance taking into account the default distance due to
* the transform: translate setting in CSS
* @param {Number} distance
* @return {String}
*/
function getOffsetDistanceInPx(distance) {
  return -(distance - Defaults.distance) + 'px';
}

var classCallCheck$1 = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

var createClass$1 = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();







var _extends$1 = Object.assign || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];

    for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }

  return target;
};

/**
* Creates a new popper instance
* @param {Object} data
* @return {Object} - the popper instance
*/
function createPopperInstance(data) {
  var el = data.el,
      popper = data.popper,
      _data$settings = data.settings,
      position = _data$settings.position,
      popperOptions = _data$settings.popperOptions,
      offset = _data$settings.offset,
      distance = _data$settings.distance,
      flipDuration = _data$settings.flipDuration;

  var _getInnerElements = getInnerElements(popper),
      tooltip = _getInnerElements.tooltip;

  var config = _extends$1({
    placement: position
  }, popperOptions || {}, {
    modifiers: _extends$1({}, popperOptions ? popperOptions.modifiers : {}, {
      flip: _extends$1({
        padding: distance + 5 /* 5px from viewport boundary */
      }, popperOptions && popperOptions.modifiers ? popperOptions.modifiers.flip : {}),
      offset: _extends$1({
        offset: offset
      }, popperOptions && popperOptions.modifiers ? popperOptions.modifiers.offset : {})
    }),
    onUpdate: function onUpdate() {
      var styles = tooltip.style;
      styles.top = '';
      styles.bottom = '';
      styles.left = '';
      styles.right = '';
      styles[getCorePlacement(popper.getAttribute('x-placement'))] = getOffsetDistanceInPx(distance);
    }
  });

  // Update the popper's position whenever its content changes
  // Not supported in IE10 unless polyfilled
  if (window.MutationObserver) {
    var styles = popper.style;

    var observer = new MutationObserver(function () {
      styles[prefix('transitionDuration')] = '0ms';
      data.popperInstance.update();
      defer(function () {
        styles[prefix('transitionDuration')] = flipDuration + 'ms';
      });
    });

    observer.observe(popper, {
      childList: true,
      subtree: true,
      characterData: true
    });

    data._mutationObservers.push(observer);
  }

  return new Popper(el, popper, config);
}

/**
* Appends the popper and creates a popper instance if one does not exist
* Also updates its position if need be and enables event listeners
* @param {Object} data -  the element/popper reference data
*/
function mountPopper(data) {
  var el = data.el,
      popper = data.popper,
      _data$settings = data.settings,
      appendTo = _data$settings.appendTo,
      followCursor = _data$settings.followCursor;

  // Already on the DOM

  if (appendTo.contains(popper)) return;

  appendTo.appendChild(popper);

  if (!data.popperInstance) {
    data.popperInstance = createPopperInstance(data);
  } else {
    data.popperInstance.update();
    if (!followCursor || Browser.touch) {
      data.popperInstance.enableEventListeners();
    }
  }

  // Since touch is determined dynamically, followCursor is set on mount
  if (followCursor && !Browser.touch) {
    el.addEventListener('mousemove', followCursorHandler);
    data.popperInstance.disableEventListeners();
  }
}

/**
* Updates a popper's position on each animation frame to make it stick to a moving element
* @param {Object} refData
*/
function makeSticky(refData) {
  var popper = refData.popper,
      popperInstance = refData.popperInstance,
      stickyDuration = refData.settings.stickyDuration;


  var applyTransitionDuration = function applyTransitionDuration() {
    return popper.style[prefix('transitionDuration')] = stickyDuration + 'ms';
  };

  var removeTransitionDuration = function removeTransitionDuration() {
    return popper.style[prefix('transitionDuration')] = '';
  };

  var updatePosition = function updatePosition() {
    popperInstance && popperInstance.scheduleUpdate();

    applyTransitionDuration();

    isVisible(popper) ? window.requestAnimationFrame(updatePosition) : removeTransitionDuration();
  };

  // Wait until Popper's position has been updated initially
  defer(updatePosition);
}

/**
* Returns an object of settings to override global settings
* @param {Element} el - the tooltipped element
* @param {Object} instanceSettings
* @return {Object} - individual settings
*/
function getIndividualSettings(el, instanceSettings) {
  var settings = DefaultsKeys.reduce(function (acc, key) {
    var val = el.getAttribute('data-' + key.toLowerCase()) || instanceSettings[key];

    // Convert strings to booleans
    if (val === 'false') val = false;
    if (val === 'true') val = true;

    // Convert number strings to true numbers
    if (isFinite(val) && !isNaN(parseFloat(val))) {
      val = parseFloat(val);
    }

    // Convert array strings to actual arrays
    if (typeof val === 'string' && val.trim().charAt(0) === '[') {
      val = JSON.parse(val);
    }

    acc[key] = val;

    return acc;
  }, {});

  return _extends$1({}, instanceSettings, settings);
}

/**
* Creates a popper element then returns it
* @param {Number} id - the popper id
* @param {String} title - the tooltip's `title` attribute
* @param {Object} settings - individual settings
* @return {Element} - the popper element
*/
function createPopperElement(id, title, settings) {
  var position = settings.position,
      distance = settings.distance,
      arrow = settings.arrow,
      animateFill = settings.animateFill,
      inertia = settings.inertia,
      animation = settings.animation,
      arrowSize = settings.arrowSize,
      size = settings.size,
      theme = settings.theme,
      html = settings.html,
      zIndex = settings.zIndex,
      interactive = settings.interactive;


  var popper = document.createElement('div');
  popper.setAttribute('class', 'tippy-popper');
  popper.setAttribute('role', 'tooltip');
  popper.setAttribute('aria-hidden', 'true');
  popper.setAttribute('id', 'tippy-tooltip-' + id);
  popper.style.zIndex = zIndex;

  var tooltip = document.createElement('div');
  tooltip.setAttribute('class', 'tippy-tooltip tippy-tooltip--' + size + ' leave');
  tooltip.setAttribute('data-animation', animation);

  theme.split(' ').forEach(function (t) {
    tooltip.classList.add(t + '-theme');
  });

  if (arrow) {
    // Add an arrow
    var _arrow = document.createElement('div');
    _arrow.setAttribute('class', 'arrow-' + arrowSize);
    _arrow.setAttribute('x-arrow', '');
    tooltip.appendChild(_arrow);
  }

  if (animateFill) {
    // Create animateFill circle element for animation
    tooltip.setAttribute('data-animatefill', '');
    var circle = document.createElement('div');
    circle.setAttribute('class', 'leave');
    circle.setAttribute('x-circle', '');
    tooltip.appendChild(circle);
  }

  if (inertia) {
    // Change transition timing function cubic bezier
    tooltip.setAttribute('data-inertia', '');
  }

  if (interactive) {
    tooltip.setAttribute('data-interactive', '');
  }

  // Tooltip content (text or HTML)
  var content = document.createElement('div');
  content.setAttribute('class', 'tippy-tooltip-content');

  if (html) {
    var templateId = void 0;

    if (html instanceof Element) {
      content.appendChild(html);
      templateId = '#' + html.id || 'tippy-html-template';
    } else {
      content.innerHTML = document.getElementById(html.replace('#', '')).innerHTML;
      templateId = html;
    }

    popper.classList.add('html-template');
    interactive && popper.setAttribute('tabindex', '-1');
    tooltip.setAttribute('data-template-id', templateId);
  } else {
    content.innerHTML = title;
  }

  // Init distance. Further updates are made in the popper instance's `onUpdate()` method
  tooltip.style[getCorePlacement(position)] = getOffsetDistanceInPx(distance);

  tooltip.appendChild(content);
  popper.appendChild(tooltip);

  return popper;
}

/**
* Creates a trigger
* @param {Object} event - the custom event specified in the `trigger` setting
* @param {Element} el - tooltipped element
* @param {Object} handlers - the handlers for each listener
* @param {Boolean} touchHold
* @return {Array} - array of listener objects
*/
function createTrigger(event, el, handlers, touchHold) {
  var listeners = [];

  if (event === 'manual') return listeners;

  // Enter
  el.addEventListener(event, handlers.handleTrigger);
  listeners.push({
    event: event,
    handler: handlers.handleTrigger
  });

  // Leave
  if (event === 'mouseenter') {
    if (Browser.SUPPORTS_TOUCH && touchHold) {
      el.addEventListener('touchstart', handlers.handleTrigger);
      listeners.push({
        event: 'touchstart',
        handler: handlers.handleTrigger
      });
      el.addEventListener('touchend', handlers.handleMouseleave);
      listeners.push({
        event: 'touchend',
        handler: handlers.handleMouseleave
      });
    }

    el.addEventListener('mouseleave', handlers.handleMouseleave);
    listeners.push({
      event: 'mouseleave',
      handler: handlers.handleMouseleave
    });
  }

  if (event === 'focus') {
    el.addEventListener('blur', handlers.handleBlur);
    listeners.push({
      event: 'blur',
      handler: handlers.handleBlur
    });
  }

  return listeners;
}

/**
* Determines if the mouse's cursor is outside the interactive border
* @param {MouseEvent} event
* @param {Element} popper
* @param {Object} settings
* @return {Boolean}
*/
function cursorIsOutsideInteractiveBorder(event, popper, settings) {
  if (!popper.getAttribute('x-placement')) return true;

  var x = event.clientX,
      y = event.clientY;
  var interactiveBorder = settings.interactiveBorder,
      distance = settings.distance;


  var rect = popper.getBoundingClientRect();
  var corePosition = getCorePlacement(popper.getAttribute('x-placement'));
  var borderWithDistance = interactiveBorder + distance;

  var exceeds = {
    top: rect.top - y > interactiveBorder,
    bottom: y - rect.bottom > interactiveBorder,
    left: rect.left - x > interactiveBorder,
    right: x - rect.right > interactiveBorder
  };

  switch (corePosition) {
    case 'top':
      exceeds.top = rect.top - y > borderWithDistance;
      break;
    case 'bottom':
      exceeds.bottom = y - rect.bottom > borderWithDistance;
      break;
    case 'left':
      exceeds.left = rect.left - x > borderWithDistance;
      break;
    case 'right':
      exceeds.right = x - rect.right > borderWithDistance;
      break;
  }

  return exceeds.top || exceeds.bottom || exceeds.left || exceeds.right;
}

/**
* Returns relevant listener callbacks for each ref
* @param {Element} el
* @param {Element} popper
* @param {Object} settings
* @return {Object} - relevant listener handlers
*/
function getEventListenerHandlers(el, popper, settings) {
  var _this = this;

  var position = settings.position,
      delay = settings.delay,
      duration = settings.duration,
      interactive = settings.interactive,
      interactiveBorder = settings.interactiveBorder,
      distance = settings.distance,
      hideOnClick = settings.hideOnClick,
      trigger = settings.trigger,
      touchHold = settings.touchHold,
      touchWait = settings.touchWait;


  var showDelay = void 0,
      hideDelay = void 0;

  var clearTimeouts = function clearTimeouts() {
    clearTimeout(showDelay);
    clearTimeout(hideDelay);
  };

  var _show = function _show() {
    clearTimeouts();

    // Not hidden. For clicking when it also has a `focus` event listener
    if (isVisible(popper)) return;

    var _delay = Array.isArray(delay) ? delay[0] : delay;

    if (delay) {
      showDelay = setTimeout(function () {
        return _this.show(popper);
      }, _delay);
    } else {
      _this.show(popper);
    }
  };

  var show = function show(event) {
    return _this.callbacks.wait ? _this.callbacks.wait.call(popper, _show, event) : _show();
  };

  var hide = function hide() {
    clearTimeouts();

    var _delay = Array.isArray(delay) ? delay[1] : delay;

    if (delay) {
      hideDelay = setTimeout(function () {
        return _this.hide(popper);
      }, _delay);
    } else {
      _this.hide(popper);
    }
  };

  var handleTrigger = function handleTrigger(event) {
    var mouseenterTouch = event.type === 'mouseenter' && Browser.SUPPORTS_TOUCH && Browser.touch;

    if (mouseenterTouch && touchHold) return;

    // Toggle show/hide when clicking click-triggered tooltips
    var isClick = event.type === 'click';
    var isNotPersistent = hideOnClick !== 'persistent';

    isClick && isVisible(popper) && isNotPersistent ? hide() : show(event);

    if (mouseenterTouch && Browser.iOS() && el.click) {
      el.click();
    }
  };

  var handleMouseleave = function handleMouseleave(event) {

    // Don't fire 'mouseleave', use the 'touchend'
    if (event.type === 'mouseleave' && Browser.SUPPORTS_TOUCH && Browser.touch && touchHold) {
      return;
    }

    if (interactive) {
      // Temporarily handle mousemove to check if the mouse left somewhere
      // other than its popper
      var handleMousemove = function handleMousemove(event) {

        var triggerHide = function triggerHide() {
          document.body.removeEventListener('mouseleave', hide);
          document.removeEventListener('mousemove', handleMousemove);
          hide();
        };

        var closestTooltippedEl = closest(event.target, Selectors.TOOLTIPPED_EL);

        var isOverPopper = closest(event.target, Selectors.POPPER) === popper;
        var isOverEl = closestTooltippedEl === el;
        var isClickTriggered = trigger.indexOf('click') !== -1;
        var isOverOtherTooltippedEl = closestTooltippedEl && closestTooltippedEl !== el;

        if (isOverOtherTooltippedEl) {
          return triggerHide();
        }

        if (isOverPopper || isOverEl || isClickTriggered) return;

        if (cursorIsOutsideInteractiveBorder(event, popper, settings)) {
          triggerHide();
        }
      };

      document.body.addEventListener('mouseleave', hide);
      document.addEventListener('mousemove', handleMousemove);

      return;
    }

    // If it's not interactive, just hide it
    hide();
  };

  var handleBlur = function handleBlur(event) {
    // Ignore blur on touch devices, if there is no `relatedTarget`, hide
    // If the related target is a popper, ignore
    if (!event.relatedTarget || Browser.touch) return;
    if (closest(event.relatedTarget, Selectors.POPPER)) return;

    hide();
  };

  return {
    handleTrigger: handleTrigger,
    handleMouseleave: handleMouseleave,
    handleBlur: handleBlur
  };
}

/**
* Evaluates/modifies the settings object for appropriate behavior
* @param {Object} settings
* @return {Object} modified/evaluated settings
*/
function evaluateSettings(settings) {
  // animateFill is disabled if an arrow is true
  if (settings.arrow) {
    settings.animateFill = false;
  }

  // reassign appendTo into the result of evaluating appendTo
  // if it's set as a function instead of Element
  if (settings.appendTo && typeof settings.appendTo === 'function') {
    settings.appendTo = settings.appendTo();
  }

  return settings;
}

var idCounter = 1;

/**
* Creates tooltips for all el elements that match the instance's selector
* @param {Element[]} els
* @return {Object[]} Array of ref data objects
*/
function createTooltips(els) {
  var _this = this;

  return els.reduce(function (acc, el) {
    var id = idCounter;

    var settings = _extends$1({}, evaluateSettings(_this.settings.performance ? _this.settings : getIndividualSettings(el, _this.settings)));

    if (typeof settings.html === 'function') settings.html = settings.html(el);

    var html = settings.html,
        trigger = settings.trigger,
        touchHold = settings.touchHold,
        dynamicTitle = settings.dynamicTitle;


    var title = el.getAttribute('title');
    if (!title && !html) return acc;

    el.setAttribute('data-tooltipped', '');
    el.setAttribute('aria-describedby', 'tippy-tooltip-' + id);
    removeTitle(el);

    var popper = createPopperElement(id, title, settings);
    var handlers = getEventListenerHandlers.call(_this, el, popper, settings);

    var listeners = [];

    trigger.trim().split(' ').forEach(function (event) {
      return listeners = listeners.concat(createTrigger(event, el, handlers, touchHold));
    });

    // Add a mutation observer to observe the reference element for `title`
    // attribute changes, then automatically update tooltip content
    var observer = void 0;

    if (dynamicTitle && window.MutationObserver) {
      var _getInnerElements = getInnerElements(popper),
          content = _getInnerElements.content;

      observer = new MutationObserver(function () {
        var title = el.getAttribute('title');
        if (title) {
          content.innerHTML = title;
          removeTitle(el);
        }
      });

      observer.observe(el, { attributes: true });
    }

    acc.push({
      id: id,
      el: el,
      popper: popper,
      settings: settings,
      listeners: listeners,
      tippyInstance: _this,
      _mutationObservers: [observer]
    });

    idCounter++;

    return acc;
  }, []);
}

/* Utility functions */
/* Core library functions */
/**
* @param {String|Element|Element[]} selector
* @param {Object} settings (optional) - the object of settings to be applied to the instance
*/

var Tippy = function () {
  function Tippy(selector) {
    var settings = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    classCallCheck$1(this, Tippy);

    // Use default browser tooltip on unsupported browsers
    if (!Browser.SUPPORTED) return;

    init();

    this.state = {
      destroyed: false
    };

    this.selector = selector;

    this.settings = _extends$1({}, Defaults, settings);

    if (settings.show || settings.shown || settings.hide || settings.hidden) {
      console.warn('Callbacks without the `on` prefix are deprecated (with the exception of `wait`).' + ' Use onShow, onShown, onHide, and onHidden instead.');
    }

    this.callbacks = {
      wait: settings.wait,
      show: settings.onShow || settings.show || noop,
      shown: settings.onShown || settings.shown || noop,
      hide: settings.onHide || settings.hide || noop,
      hidden: settings.onHidden || settings.hidden || noop
    };

    this.store = createTooltips.call(this, getArrayOfElements(selector));
    Store.push.apply(Store, this.store);
  }

  /**
  * Returns the reference element's popper element
  * @param {Element} el
  * @return {Element}
  */


  createClass$1(Tippy, [{
    key: 'getPopperElement',
    value: function getPopperElement(el) {
      try {
        return find(this.store, function (data) {
          return data.el === el;
        }).popper;
      } catch (e) {
        console.error('[getPopperElement]: Element passed as the argument does not exist in the instance');
      }
    }

    /**
    * Returns a popper's reference element
    * @param {Element} popper
    * @return {Element}
    */

  }, {
    key: 'getReferenceElement',
    value: function getReferenceElement(popper) {
      try {
        return find(this.store, function (data) {
          return data.popper === popper;
        }).el;
      } catch (e) {
        console.error('[getReferenceElement]: Popper passed as the argument does not exist in the instance');
      }
    }

    /**
    * Returns the reference data object from either the reference element or popper element
    * @param {Element} x (reference element or popper)
    * @return {Object}
    */

  }, {
    key: 'getReferenceData',
    value: function getReferenceData(x) {
      return find(this.store, function (data) {
        return data.el === x || data.popper === x;
      });
    }

    /**
    * Shows a popper
    * @param {Element} popper
    * @param {Number} customDuration (optional)
    */

  }, {
    key: 'show',
    value: function show(popper, customDuration) {
      var _this = this;

      if (this.state.destroyed) return;

      var data = find(this.store, function (data) {
        return data.popper === popper;
      });

      var _getInnerElements = getInnerElements(popper),
          tooltip = _getInnerElements.tooltip,
          circle = _getInnerElements.circle,
          content = _getInnerElements.content;

      // Destroy popper if its reference is no longer on the DOM (excluding refObjs)


      if (!this.selector.refObj && !document.body.contains(data.el)) {
        this.destroy(popper);
        return;
      }

      this.callbacks.show.call(popper);

      var el = data.el,
          _data$settings = data.settings,
          appendTo = _data$settings.appendTo,
          sticky = _data$settings.sticky,
          interactive = _data$settings.interactive,
          followCursor = _data$settings.followCursor,
          flipDuration = _data$settings.flipDuration,
          duration = _data$settings.duration;


      var _duration = customDuration !== undefined ? customDuration : Array.isArray(duration) ? duration[0] : duration;

      // Prevent a transition when popper changes position
      applyTransitionDuration([popper, tooltip, circle], 0);

      mountPopper(data);

      popper.style.visibility = 'visible';
      popper.setAttribute('aria-hidden', 'false');

      // Wait for popper's position to update
      defer(function () {
        if (!isVisible(popper)) return;

        // Sometimes the arrow will not be in the correct position, force another update
        if (!followCursor || Browser.touch) {
          data.popperInstance.update();
          applyTransitionDuration([popper], flipDuration);
        }

        // Re-apply transition durations
        applyTransitionDuration([tooltip, circle], _duration);

        // Make content fade out a bit faster than the tooltip if `animateFill`
        if (circle) content.style.opacity = 1;

        // Interactive tooltips receive a class of 'active'
        interactive && el.classList.add('active');

        // Update popper's position on every animation frame
        sticky && makeSticky(data);

        // Repaint/reflow is required for CSS transition when appending
        triggerReflow(tooltip, circle);

        modifyClassList([tooltip, circle], function (list) {
          list.contains('tippy-notransition') && list.remove('tippy-notransition');
          list.remove('leave');
          list.add('enter');
        });

        // Wait for transitions to complete
        onTransitionEnd(data, _duration, function () {
          if (!isVisible(popper) || data._onShownFired) return;

          // Focus interactive tooltips only
          interactive && popper.focus();
          // Remove transitions from tooltip
          tooltip.classList.add('tippy-notransition');
          // Prevents shown() from firing more than once from early transition cancellations
          data._onShownFired = true;

          _this.callbacks.shown.call(popper);
        });
      });
    }

    /**
    * Hides a popper
    * @param {Element} popper
    * @param {Number} customDuration (optional)
    */

  }, {
    key: 'hide',
    value: function hide(popper, customDuration) {
      var _this2 = this;

      if (this.state.destroyed) return;

      this.callbacks.hide.call(popper);

      var data = find(this.store, function (data) {
        return data.popper === popper;
      });

      var _getInnerElements2 = getInnerElements(popper),
          tooltip = _getInnerElements2.tooltip,
          circle = _getInnerElements2.circle,
          content = _getInnerElements2.content;

      var el = data.el,
          _data$settings2 = data.settings,
          appendTo = _data$settings2.appendTo,
          sticky = _data$settings2.sticky,
          interactive = _data$settings2.interactive,
          followCursor = _data$settings2.followCursor,
          html = _data$settings2.html,
          trigger = _data$settings2.trigger,
          duration = _data$settings2.duration;


      var _duration = customDuration !== undefined ? customDuration : Array.isArray(duration) ? duration[1] : duration;

      data._onShownFired = false;
      interactive && el.classList.remove('active');

      popper.style.visibility = 'hidden';
      popper.setAttribute('aria-hidden', 'true');

      applyTransitionDuration([tooltip, circle, circle ? content : null], _duration);

      if (circle) content.style.opacity = 0;

      modifyClassList([tooltip, circle], function (list) {
        list.contains('tippy-tooltip') && list.remove('tippy-notransition');
        list.remove('enter');
        list.add('leave');
      });

      // Re-focus click-triggered html elements
      // and the tooltipped element IS in the viewport (otherwise it causes unsightly scrolling
      // if the tooltip is closed and the element isn't in the viewport anymore)
      if (html && trigger.indexOf('click') !== -1 && elementIsInViewport(el)) {
        el.focus();
      }

      // Wait for transitions to complete
      onTransitionEnd(data, _duration, function () {
        // `isVisible` is not completely reliable to determine if we shouldn't
        // run the hidden callback, we need to check the computed opacity style.
        // This prevents glitchy behavior of the transition when quickly showing
        // and hiding a tooltip.
        if (isVisible(popper) || !appendTo.contains(popper) || getComputedStyle(tooltip).opacity === '1') return;

        el.removeEventListener('mousemove', followCursorHandler);
        data.popperInstance.disableEventListeners();
        appendTo.removeChild(popper);

        _this2.callbacks.hidden.call(popper);
      });
    }

    /**
    * Updates a popper with new content
    * @param {Element} popper
    */

  }, {
    key: 'update',
    value: function update(popper) {
      if (this.state.destroyed) return;

      var data = find(this.store, function (data) {
        return data.popper === popper;
      });

      var _getInnerElements3 = getInnerElements(popper),
          content = _getInnerElements3.content;

      var el = data.el,
          html = data.settings.html;


      if (html instanceof Element) {
        console.warn('Aborted: update() should not be used if `html` is a DOM element');
        return;
      }

      content.innerHTML = html ? document.getElementById(html.replace('#', '')).innerHTML : el.getAttribute('title') || el.getAttribute('data-original-title');

      if (!html) removeTitle(el);
    }

    /**
    * Destroys a popper
    * @param {Element} popper
    * @param {Boolean} _isLast - private param used by destroyAll to optimize
    */

  }, {
    key: 'destroy',
    value: function destroy(popper, _isLast) {
      var _this3 = this;

      if (this.state.destroyed) return;

      var data = find(this.store, function (data) {
        return data.popper === popper;
      });

      var el = data.el,
          popperInstance = data.popperInstance,
          listeners = data.listeners,
          _mutationObservers = data._mutationObservers;

      // Ensure the popper is hidden

      if (isVisible(popper)) {
        this.hide(popper, 0);
      }

      // Remove Tippy-only event listeners from tooltipped element
      listeners.forEach(function (listener) {
        return el.removeEventListener(listener.event, listener.handler);
      });

      // Restore original title
      el.setAttribute('title', el.getAttribute('data-original-title'));

      el.removeAttribute('data-original-title');
      el.removeAttribute('data-tooltipped');
      el.removeAttribute('aria-describedby');

      popperInstance && popperInstance.destroy();

      _mutationObservers.forEach(function (observer) {
        observer && observer.disconnect();
      });

      // Remove from store
      Store.splice(findIndex(Store, function (data) {
        return data.popper === popper;
      }), 1);

      // Ensure filter is called only once
      if (_isLast === undefined || _isLast) {
        this.store = Store.filter(function (data) {
          return data.tippyInstance === _this3;
        });
      }
    }

    /**
    * Destroys all tooltips created by the instance
    */

  }, {
    key: 'destroyAll',
    value: function destroyAll() {
      var _this4 = this;

      if (this.state.destroyed) return;

      var storeLength = this.store.length;

      this.store.forEach(function (_ref, index) {
        var popper = _ref.popper;

        _this4.destroy(popper, index === storeLength - 1);
      });

      this.store = null;
      this.state.destroyed = true;
    }
  }]);
  return Tippy;
}();

function tippy$2(selector, settings) {
  // Create a virtual object for custom positioning
  if (isObjectLiteral(selector)) {
    selector = {
      refObj: true,
      attributes: selector.attributes || {},
      getBoundingClientRect: selector.getBoundingClientRect,
      clientWidth: selector.clientWidth,
      clientHeight: selector.clientHeight,
      setAttribute: function setAttribute(key, val) {
        selector.attributes[key] = val;
      },
      getAttribute: function getAttribute(key) {
        return selector.attributes[key];
      },
      removeAttribute: function removeAttribute(key) {
        delete selector.attributes[key];
      },
      addEventListener: function addEventListener() {},
      removeEventListener: function removeEventListener() {},
      classList: {
        classNames: {},
        add: function add(key) {
          selector.classList.classNames[key] = true;
        },
        remove: function remove(key) {
          selector.classList.classNames[key] = false;
          return true;
        },
        contains: function contains(key) {
          return !!selector.classList.classNames[key];
        }
      }
    };
  }

  return new Tippy(selector, settings);
}

tippy$2.Browser = Browser;
tippy$2.Defaults = Defaults;
tippy$2.disableDynamicInputDetection = function () {
  return Browser.dynamicInputDetection = false;
};
tippy$2.enableDynamicInputDetection = function () {
  return Browser.dynamicInputDetection = true;
};

return tippy$2;

})));
});

function prepare_dataset(full_dataset, app$$1) {
  app$$1.full_dataset = full_dataset;
  // Create an Object feature_id ->  feature_name for easier lookup:
  app$$1.feature_names = {};
  full_dataset.forEach(function (elem) {
    app$$1.feature_names[elem.geo] = elem.Nom;
  });
}

/**
*
* @param {Object} app - The variable containing the global parameters about
*   the current state of the application.
* @return {Array} - The filtered data, containing only the requested variables
*   for the feature of the current study zone,
*    without features containing empty ratios.
*
*/
function filterLevelVar(app$$1) {
  // Fetch the name(s) of the ratio (and associated num and denum variable),
  // the name of the targeted region and the current level :
  var _app$current_config = app$$1.current_config,
      num = _app$current_config.num,
      denum = _app$current_config.denum,
      ratio = _app$current_config.ratio,
      current_level = _app$current_config.current_level,
      id_field = _app$current_config.id_field,
      filter_key = _app$current_config.filter_key,
      name_field = _app$current_config.name_field,
      my_region = _app$current_config.my_region;


  var all_variables = ratio.concat(num).concat(denum);
  // Prepare the data:
  var temp = void 0;
  if (filter_key instanceof Array) {
    temp = app$$1.full_dataset.filter(function (ft) {
      return +ft[current_level] && filter_key.indexOf(ft[id_field]) > -1;
    });
  } else if (filter_key) {
    var my_category = app$$1.full_dataset.filter(function (ft) {
      return ft[id_field] === my_region;
    })[0][filter_key];
    temp = app$$1.full_dataset.filter(function (ft) {
      return +ft[current_level] && ft[filter_key] === my_category;
    });
  } else {
    temp = app$$1.full_dataset.filter(function (ft) {
      return +ft[current_level];
    });
  }
  temp = temp.map(function (ft) {
    var props_feature = {
      id: ft[id_field],
      name: ft[name_field]
    };
    for (var i = 0, len_i = all_variables.length; i < len_i; i++) {
      props_feature[all_variables[i]] = +ft[all_variables[i]];
    }
    return props_feature;
  });
  app$$1.current_data = temp;
}

/**
* TODO
*/
function filterLevelGeom(nuts_features) {
  var filter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'NUTS1';

  return nuts_features.filter(function (d) {
    return !!d.properties[filter];
  });
}

/**
* Function to prepare the global "variables_info" Array of objects from the array
* containing the readed 'metadata.csv' file.
*
* @param {Array} metadata_indicateurs - The array returned by d3.csv.
* @return {void}
*
*/
function prepareVariablesInfo(metadata_indicateurs) {
  metadata_indicateurs.filter(function (ft) {
    return ft['Type statistique'] === 'Ratio';
  }).forEach(function (ft) {
    variables_info.push({
      ratio: ft.id,
      num: ft.id1 + '_' + parseInt(ft.AnnÃ©e, 10),
      denum: ft.id2 + '_' + parseInt(ft.AnnÃ©e, 10),
      name: ft.Nom + ' (' + parseInt(ft.AnnÃ©e, 10) + ')',
      unit: '' + ft['UnitÃ©'],
      group: ft['ThÃ¨me'],
      methodo: ft['MÃ©thodologie'],
      source: ft.Source,
      last_update: ft['DerniÃ¨re mise Ã  jour']
    });
  });
}

/**
* Set and apply a new filter (ie. restrict the study zone) on the dataset to be used.
*
* @param {String} filter_type - The name of the filter to use.
* @return {void}
*
*/
function applyFilter(app$$1, filter_type) {
  if (filter_type === 'filter_country') {
    app$$1.current_config.filter_key = 'Pays';
  } else if (filter_type === 'no_filter') {
    app$$1.current_config.filter_key = undefined;
  } else if (filter_type instanceof Array) {
    app$$1.current_config.filter_key = filter_type;
  } else {
    app$$1.current_config.filter_key = 'type_test';
  }
  filterLevelVar(app$$1);
  app$$1.colors = {};
  app$$1.colors[app$$1.current_config.my_region] = color_highlight;
}

// TODO : Doc
function changeRegion(app$$1, id_region, map_elem) {
  app$$1.current_config.my_region = id_region;
  app$$1.current_config.my_region_pretty_name = app$$1.feature_names[app$$1.current_config.my_region];
  if (app$$1.current_config.filter_key instanceof Array) {
    map_elem.computeDistMat();
    app$$1.current_config.filter_key = map_elem.getUnitsWithin(+d3.select('#dist_filter').property('value'));
    filterLevelVar(app$$1);
  } else if (app$$1.current_config.filter_key) {
    filterLevelVar(app$$1);
  }
  // Reset the color to use on the chart/map:
  app$$1.colors = {};
  app$$1.colors[app$$1.current_config.my_region] = color_highlight;
}

/**
*
* @param app -
* @param code_ratio - The code of the variable to be added.
* @return {void}
*/
function addVariable(app$$1, code_ratio) {
  var variable_info = variables_info.filter(function (d) {
    return d.ratio === code_ratio;
  })[0];
  app$$1.colors = {};
  app$$1.colors[app$$1.current_config.my_region] = color_highlight;
  app$$1.current_config.num.push(variable_info.num);
  app$$1.current_config.denum.push(variable_info.denum);
  app$$1.current_config.ratio.push(variable_info.ratio);
  app$$1.current_config.ratio_pretty_name.push(variable_info.name);
  app$$1.current_config.ratio_unit.push(variable_info.unit);
  filterLevelVar(app$$1);
}

/**
*
* @param app -
* @param code_ratio - The code of the variable to be remove.
* @return {void}
*/
function removeVariable(app$$1, code_ratio) {
  var ix = app$$1.current_config.ratio.indexOf(code_ratio);
  app$$1.current_config.num.splice(ix, 1);
  app$$1.current_config.denum.splice(ix, 1);
  app$$1.current_config.ratio.splice(ix, 1);
  app$$1.current_config.ratio_pretty_name.splice(ix, 1);
  app$$1.current_config.ratio_unit.splice(ix, 1);
  filterLevelVar(app$$1);
}

/**
* Reset the current variables in use.
*
* @param app -
* @param codes_ratio -
* @return {void}
*/
function resetVariables(app$$1, codes_ratio) {
  app$$1.colors = {};
  app$$1.colors[app$$1.current_config.my_region] = color_highlight;
  app$$1.current_config.num = [];
  app$$1.current_config.denum = [];
  app$$1.current_config.ratio = [];
  app$$1.current_config.ratio_pretty_name = [];
  app$$1.current_config.ratio_unit = [];

  var _loop = function _loop(i, len) {
    var code_ratio = codes_ratio[i];
    var variable_info = variables_info.filter(function (d) {
      return d.ratio === code_ratio;
    })[0];
    app$$1.current_config.num.push(variable_info.num);
    app$$1.current_config.denum.push(variable_info.denum);
    app$$1.current_config.ratio.push(variable_info.ratio);
    app$$1.current_config.ratio_pretty_name.push(variable_info.name);
    app$$1.current_config.ratio_unit.push(variable_info.unit);
  };

  for (var i = 0, len = codes_ratio.length; i < len; i++) {
    _loop(i, len);
  }
  filterLevelVar(app$$1);
}

/**
* Compute the ratio of available (= not empty) values (the "complÃ©tude") within
* the subset currently in use for all the variables in "vars".
*
* @param {Object} app - The variable containing the global parameters about
*   the current state of the application.
* @param {Array} vars - A list of variable names for which completeness will be calculated.
* @param {String} output - Whether to output the result as a Number or as an Array
* @return {Number or Array} - Number: The ratios of features with available values within
*    the study zone (in %) or, Array : the number of features with available values
*    and the total number of features.
*/
function calcCompletudeSubset(app$$1, vars) {
  var output = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'ratio';
  var _app$current_config2 = app$$1.current_config,
      current_level = _app$current_config2.current_level,
      id_field = _app$current_config2.id_field,
      filter_key = _app$current_config2.filter_key,
      my_region = _app$current_config2.my_region;

  // Compute the length of the dataset (within the "study zone" if any):

  var temp = void 0;
  if (filter_key instanceof Array) {
    temp = app$$1.full_dataset.filter(function (ft) {
      return !!+ft[current_level] && filter_key.indexOf(ft[id_field]) > -1;
    });
  } else if (filter_key) {
    var my_category = app$$1.full_dataset.find(function (ft) {
      return ft[id_field] === my_region;
    })[filter_key];
    temp = app$$1.full_dataset.filter(function (ft) {
      return !!+ft[current_level] && ft[filter_key] === my_category;
    });
  } else {
    temp = app$$1.full_dataset.filter(function (ft) {
      return !!+ft[current_level];
    });
  }
  var total_length = temp.length;

  // Compute the length of the dataset if we filter empty features
  // on all the variables of "vars":
  temp = temp.map(function (ft) {
    var props_feature = {
      id: ft[id_field]
    };
    for (var i = 0, len_i = vars.length; i < len_i; i++) {
      props_feature[vars[i]] = +ft[vars[i]];
    }
    return props_feature;
  }).filter(function (ft) {
    return vars.map(function (ratio_name) {
      return !!ft[ratio_name];
    }).every(function (v) {
      return v === true;
    });
  });
  var filtered_length = temp.length;

  if (!(output === 'ratio')) {
    // Return the number of features with available values within
    // the study zone, and the total number of features of the study zone
    return [filtered_length, total_length];
  }
  // Return the ratio of available values ("complÃ©tude") within
  // the study zone selected by the user:
  return Math.round(filtered_length / total_length * 10000) / 100;
}

/**
* Compute the ratio of population covered by features on which all the variables
* of "vars" are available.
*
* @param {Object} app -The variable containing the global parameters about
*   the current state of the application.
* @param {Array} vars - A list of variable names for which completeness will be calculated.
* @return {Number} - The ratio (in %) of population covered by features for which
*   are available within the study zone.
*
*/
function calcPopCompletudeSubset(app$$1, vars) {
  var _app$current_config3 = app$$1.current_config,
      current_level = _app$current_config3.current_level,
      id_field = _app$current_config3.id_field,
      filter_key = _app$current_config3.filter_key,
      my_region = _app$current_config3.my_region,
      pop_field = _app$current_config3.pop_field;

  // Compute the total population stock of the data (within the "study zone" if any):

  var temp = void 0;
  if (filter_key instanceof Array) {
    temp = app$$1.full_dataset.filter(function (ft) {
      return !!+ft[current_level] && filter_key.indexOf(ft[id_field]) > -1;
    });
  } else if (filter_key) {
    var my_category = app$$1.full_dataset.find(function (ft) {
      return ft[id_field] === my_region;
    })[filter_key];
    temp = app$$1.full_dataset.filter(function (ft) {
      return !!+ft[current_level] && ft[filter_key] === my_category;
    });
  } else {
    temp = app$$1.full_dataset.filter(function (ft) {
      return !!+ft[current_level];
    });
  }
  var total_pop = 0;
  for (var i = 0, len = temp.length; i < len; i++) {
    total_pop += isNaN(+temp[i][pop_field]) ? 0 : +temp[i][pop_field];
  }
  // Compute the population stock of the dataset if we filter empty features
  // on all the variables of "vars":
  temp = temp.map(function (ft) {
    var props_feature = {
      id: ft[id_field],
      pop: +ft[pop_field]
    };
    for (var _i = 0, len_i = vars.length; _i < len_i; _i++) {
      props_feature[vars[_i]] = +ft[vars[_i]];
    }
    return props_feature;
  }).filter(function (ft) {
    return vars.map(function (ratio_name) {
      return !!ft[ratio_name];
    }).every(function (v) {
      return v === true;
    });
  });
  var subset_pop = 0;
  for (var _i2 = 0, _len = temp.length; _i2 < _len; _i2++) {
    subset_pop += isNaN(temp[_i2].pop) ? 0 : temp[_i2].pop;
  }
  // Return the ratio of population values ("complÃ©tude") within
  // the study zone selected by the user:
  return Math.round(subset_pop / total_pop * 10000) / 100;
}
/* eslint-enable no-param-reassign */

var svg_map = d3.select('svg#svg_map');
var bbox_svg = svg_map.node().getBoundingClientRect();
var width_map = +bbox_svg.width;
var height_map = width_map * (1 / RATIO_WH_MAP);
svg_map.attr('height', height_map + 'px');

var styles = {
  frame: { id: 'frame', fill: '#e9f4fe', 'fill-opacity': 1 },
  countries: { id: 'countries', fill: '#d6d6d6', 'fill-opacity': 1 },
  boxes: { id: 'boxes', fill: '#e9f4fe', 'fill-opacity': 1 },
  nuts: { id: 'nuts', fill: '#9390fc', 'fill-opacity': 1, 'stroke-width': 0.5, stroke: '#f7fcfe', 'stroke-opacity': 0.9, target: true },
  countries_remote: { id: 'countries_remote', fill: '#d6d6d6', 'fill-opacity': 1 },
  cyprus_non_espon_space: { id: 'cyprus_non_espon_space', fill: '#ffffff', 'fill-opacity': 1 },
  borders: { id: 'borders', fill: 'none', 'stroke-width': 1, stroke: '#ffffff' },
  countries_remote_boundaries: { id: 'countries_remote_boundaries', fill: 'none', 'stroke-width': 1, stroke: '#ffffff' },
  coasts: { id: 'coasts', fill: 'none', stroke: '#d2dbef', 'stroke-width': 0.5 },
  coasts_remote: { id: 'coasts_remote', fill: 'none', stroke: '#d2dbef', 'stroke-width': 0.5 },
  boxes2: { id: 'boxes2', stroke: '#7a7a7a', 'stroke-width': 1, fill: 'none' },
  line: { id: 'line', stroke: '#d6d6d6', 'stroke-width': 1.5, fill: 'none' }
};

var projection = void 0;
var path = void 0;

function get_bbox_layer_path(name) {
  var bbox_layer = [[Infinity, Infinity], [-Infinity, -Infinity]];
  svg_map.select('#' + name).selectAll('path').each(function (d) {
    var bbox_path = path.bounds(d.geometry);
    bbox_layer[0][0] = bbox_path[0][0] < bbox_layer[0][0] ? bbox_path[0][0] : bbox_layer[0][0];
    bbox_layer[0][1] = bbox_path[0][1] < bbox_layer[0][1] ? bbox_path[0][1] : bbox_layer[0][1];
    bbox_layer[1][0] = bbox_path[1][0] > bbox_layer[1][0] ? bbox_path[1][0] : bbox_layer[1][0];
    bbox_layer[1][1] = bbox_path[1][1] > bbox_layer[1][1] ? bbox_path[1][1] : bbox_layer[1][1];
  });
  return bbox_layer;
}

function fitLayer() {
  projection.scale(1).translate([0, 0]);
  var b = get_bbox_layer_path('frame');
  var s = 1 / Math.max((b[1][0] - b[0][0]) / width_map, (b[1][1] - b[0][1]) / height_map);
  var t = [(width_map - s * (b[1][0] + b[0][0])) / 2, (height_map - s * (b[1][1] + b[0][1])) / 2];
  projection.scale(s).translate(t);
  svg_map.selectAll('path').attr('d', path);
}

function map_zoomed() {
  var transform = d3.event ? d3.event.transform : svg_map.node().__zoom;
  if (transform.k < 1) transform.k = 1;
  if (transform.k === 1) {
    transform.x = 0;
    transform.y = 0;
  }
  var layers = svg_map.select('#layers');
  var t = layers.selectAll('g').transition().duration(225);

  layers.selectAll('g').transition(t).style('stroke-width', function () {
    return styles[this.id]['stroke-width'] / transform.k + 'px';
  });

  layers.selectAll('g').transition(t).attr('transform', transform);

  svg_map.select('.brush_map').transition(t).attr('transform', transform);
}

function interpolateZoom(translate, scale) {
  var node_svg_map = svg_map.node();
  var transform = d3.zoomTransform(node_svg_map);
  return d3.transition().duration(225).tween('zoom', function () {
    var iTranslate = d3.interpolate([transform.x, transform.y], translate);
    var iScale = d3.interpolate(transform.k, scale);
    return function (t_value) {
      node_svg_map.__zoom.k = iScale(t_value);
      var _t = iTranslate(t_value);
      node_svg_map.__zoom.x = _t[0];
      node_svg_map.__zoom.y = _t[1];
      map_zoomed();
    };
  });
}

function zoomClick() {
  var direction = this.id === 'zoom_in' ? 1 : -1,
      factor = 0.1,
      center = [width_map / 2, height_map / 2],
      transform = d3.zoomTransform(svg_map.node()),
      translate = [transform.x, transform.y],
      view = { x: translate[0], y: translate[1], k: transform.k };
  var target_zoom = 1,
      translate0 = [],
      l = [];
  d3.event.preventDefault();
  target_zoom = transform.k * (1 + factor * direction);
  translate0 = [(center[0] - view.x) / view.k, (center[1] - view.y) / view.k];
  view.k = target_zoom;
  l = [translate0[0] * view.k + view.x, translate0[1] * view.k + view.y];
  view.x += center[0] - l[0];
  view.y += center[1] - l[1];
  interpolateZoom([view.x, view.y], view.k);
}

function makeMapLegend(legend_elems, size, translateY) {
  var rect_size = 14;
  var spacing = 4;
  var lgd_height = rect_size + spacing;
  var offset = lgd_height * legend_elems.length / 2;

  var grp_lgd = d3.select('#svg_legend').attr('height', size).append('g').attr('transform', 'translate(50, ' + translateY + ')').styles({ 'font-size': '11px', 'font-family': '\'Signika\', sans-serif' });

  var legends = grp_lgd.selectAll('.legend').data(legend_elems).enter().append('g').attr('class', 'legend').attr('transform', function (d, i) {
    var tx = -2 * rect_size;
    var ty = i * lgd_height - offset;
    return 'translate(' + [tx, ty] + ')';
  });

  legends.append('rect').attrs({ width: rect_size, height: rect_size }).styles(function (d) {
    return { fill: d.color, stroke: d.color };
  });

  legends.append('text').attrs({ x: rect_size + spacing, y: rect_size - spacing }).text(function (d) {
    return d.text;
  });
}

function getLegendElems(type) {
  if (type === 0) {
    return [[{ color: color_highlight, text: 'Ma r\xE9gion : ' + app.current_config.my_region_pretty_name }, { color: color_countries, text: 'Autres rÃ©gions de l\'espace d\'Ã©tude' }, { color: color_sup, text: 'Rang plus Ã©levÃ© que ma rÃ©gion' }, { color: color_inf, text: 'Rang moins Ã©levÃ© que ma rÃ©gion' }], '75', '41'];
  } else if (type === 1) {
    return [[{ color: color_highlight, text: 'Ma r\xE9gion : ' + app.current_config.my_region_pretty_name }, { color: color_countries, text: 'Autres rÃ©gions de l\'espace d\'Ã©tude' }, { color: color_sup, text: 'Rang plus Ã©levÃ© que ma rÃ©gion (2 indicateurs)' }, { color: color_inf, text: 'Rang moins Ã©levÃ© que ma rÃ©gion (2 indicateurs)' }, { color: null, text: 'Rang plus Ã©levÃ© que ma rÃ©gion (1 indicateur sur 2)' }], '95', '50'];
  }
  return [[{ color: color_highlight, text: 'Ma r\xE9gion : ' + app.current_config.my_region_pretty_name }, { color: color_countries, text: 'Autres rÃ©gions de l\'espace d\'Ã©tude' }, { color: color_default_dissim, text: 'RÃ©gions sÃ©lectionnÃ©es pour la comparaison' }], '60', '32'];
}

var MapSelect = function () {
  function MapSelect(nuts, other_layers) {
    var filter = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'NUTS1';
    classCallCheck(this, MapSelect);

    app.mapDrawRatio = app.ratioToWide;
    projection = d3.geoIdentity().fitExtent([[0, 0], [width_map, height_map]], other_layers.get('frame')).reflectY(true);

    path = d3.geoPath().projection(projection);

    var layers = svg_map.append('g').attr('id', 'layers').attr('transform', 'scale(1)');
    this.nuts = nuts;
    this.zoom_map = d3.zoom().scaleExtent([1, 5]).translateExtent([[0, 0], [width_map, height_map]]).on('zoom', map_zoomed);

    svg_map.call(this.zoom_map);

    var layer_list = Object.keys(styles);
    for (var i = 0, n_layer = layer_list.length; i < n_layer; i++) {
      var name_lyr = layer_list[i];
      var style_layer = styles[name_lyr];
      if (style_layer.target === true) {
        this.target_layer = layers.append('g').attrs(style_layer);
        this.target_layer.selectAll('path').data(filterLevelGeom(this.nuts.features, filter), function (d) {
          return d.id;
        }).enter().append('path').attr('title', function (d) {
          return d.properties[app.current_config.name_field] + ' (' + d.id + ')';
        }).attr('fill', function (d) {
          return d.id !== app.current_config.my_region ? color_countries : color_highlight;
        }).attr('d', path);
      } else {
        layers.append('g').attrs(style_layer).selectAll('path').data(other_layers.get(name_lyr).features).enter().append('path').attrs({ d: path });
      }
    }

    fitLayer();
    app.type_path = getSvgPathType(this.target_layer.select('path').node().getAttribute('d'));
    this.target_layer.selectAll('path').each(function () {
      this._pts = svgPathToCoords(this.getAttribute('d'), app.type_path);
    });
    this.tooltips = tippy(this.target_layer.node().querySelectorAll('path'), {
      animation: 'fade',
      duration: 0,
      followCursor: true
      // performance: true,
    });
  }

  createClass(MapSelect, [{
    key: 'updateLevelRegion',
    value: function updateLevelRegion() {
      var filter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'NUTS1';

      this.tooltips.destroyAll();
      var new_selection = filterLevelGeom(this.nuts.features, filter);
      var selection = this.target_layer.selectAll('path').data(new_selection, function (d) {
        return d.id;
      });
      selection.enter().append('path').attrs(function (d) {
        return {
          title: d.properties[app.current_config.name_field] + ' (' + d.id + ')',
          fill: d.id !== app.current_config.my_region ? color_countries : color_highlight,
          d: path
        };
      });
      selection.attr('d', path);
      selection.exit().remove();
      this.resetColors(new_selection.map(function (d) {
        return d.id;
      }));
      this.computeDistMat();
      this.target_layer.selectAll('path').each(function () {
        this._pts = undefined;
      });
      this.tooltips = tippy(this.target_layer.node().querySelectorAll('path'), {
        animation: 'fade',
        duration: 0,
        followCursor: true
        // performance: true,
      });
    }
  }, {
    key: 'resetColors',
    value: function resetColors$$1(current_ids) {
      this.target_layer.selectAll('path').attr('fill', function (d) {
        if (d.id === app.current_config.my_region) {
          return color_highlight;
        } else if (current_ids.indexOf(d.id) > -1) {
          return app.colors[d.id] || color_countries;
        }
        return color_disabled;
      });
    }
  }, {
    key: 'resetZoom',
    value: function resetZoom() {
      svg_map.transition().duration(250).call(this.zoom_map.transform, d3.zoomIdentity);
    }
  }, {
    key: 'updateLegend',
    value: function updateLegend() {
      d3.select('#svg_legend > g > .legend > text').text('Ma r\xE9gion : ' + app.current_config.my_region_pretty_name);
    }
  }, {
    key: 'removeRectBrush',
    value: function removeRectBrush() {
      svg_map.select('.brush_map').call(this.brush_map.move, null);
    }
  }, {
    key: 'callBrush',
    value: function callBrush(selection) {
      svg_map.select('.brush_map').call(this.brush_map.move, selection);
    }
  }, {
    key: 'bindBrushClick',
    value: function bindBrushClick(chart) {
      if (chart.handleClickMap) {
        document.getElementById('img_map_select').classList.remove('disabled');
        document.getElementById('img_map_select').classList.add('active');
      } else {
        document.getElementById('img_map_select').classList.add('disabled');
      }
      if (chart.handle_brush_map) {
        document.getElementById('img_rect_selec').classList.remove('disabled');
        document.getElementById('img_rect_selec').classList.add('active');
        document.getElementById('img_map_zoom').classList.remove('active');
        document.getElementById('img_map_select').classList.remove('active');
        this.brush_map = d3.brush().extent([[0, 0], [width_map, height_map]]).on('start brush', function () {
          chart.handle_brush_map(d3.event);
        });
        svg_map.append('g').attr('class', 'brush_map').call(this.brush_map);
      } else {
        document.getElementById('img_rect_selec').classList.remove('active');
        document.getElementById('img_rect_selec').classList.add('disabled');
        document.getElementById('img_map_zoom').classList.remove('active');
        document.getElementById('img_map_select').classList.add('active');
      }
      if (chart.handleClickMap && !chart.handle_brush_map) {
        this.target_layer.selectAll('path').on('click', function (d) {
          chart.handleClickMap(d, this);
        });
      }
    }
  }, {
    key: 'getUnitsWithin',
    value: function getUnitsWithin(dist_km) {
      var dist = dist_km * 1000;
      if (!this.dist_to_my_region) this.computeDistMat();
      return this.dist_to_my_region.filter(function (d) {
        return d.dist <= dist;
      }).map(function (d) {
        return d.id;
      });
    }
  }, {
    key: 'computeDistMat',
    value: function computeDistMat() {
      var features = Array.prototype.slice.call(this.target_layer.node().querySelectorAll('path'));
      var nb_ft = features.length;
      var my_region_geom = features.find(function (d) {
        return d.__data__.id === app.current_config.my_region;
      }).__data__.geometry;
      var my_region_centroid = turf.centroid(my_region_geom);
      var result_dist = [];
      for (var i = 0; i < nb_ft; i++) {
        var id = features[i].__data__.id;
        var dist = euclidian_distance(my_region_centroid, turf.centroid(features[i].__data__.geometry));
        result_dist.push({ id: id, dist: dist });
      }
      this.dist_to_my_region = result_dist;
    }
  }, {
    key: 'unbindBrushClick',
    value: function unbindBrushClick() {
      this.brush_map = null;
      svg_map.select('.brush_map').remove();
    }
  }, {
    key: 'displayLegend',
    value: function displayLegend() {
      var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;

      d3.selectAll('#svg_legend > g').remove();

      var _getLegendElems = getLegendElems(type),
          _getLegendElems2 = slicedToArray(_getLegendElems, 3),
          elems = _getLegendElems2[0],
          size = _getLegendElems2[1],
          ty = _getLegendElems2[2];

      makeMapLegend(elems, size, ty);
    }
  }]);
  return MapSelect;
}();

function makeSourceSection() {
  var parent = svg_map.node().parentElement;
  var elem = document.createElement('p');
  elem.style.fontSize = '0.45em';
  elem.style.position = 'relative';
  elem.innerHTML = 'DonnÃ©es : Eurostat (tÃ©lÃ©chargement : Oct. 2017)- Limite administrative: UMS RIATE, CC-BY-SA';
  parent.insertBefore(elem, parent.querySelector('#header_map'));
  elem.style.left = '49%';
  elem.style.paddingLeft = '2em';
  elem.style.top = '32%';
  elem.style.margin = 'auto';
  elem.style.width = '100%';
  elem.className = 'rotate';
}

var TableResumeStat = function () {
  function TableResumeStat(summary_features) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    classCallCheck(this, TableResumeStat);

    var doc = document;
    var nb_features = summary_features.length;
    var column_names = ['Variable', 'Min', 'Moyenne', 'Max', 'Ma rÃ©gion'];
    var nb_columns = column_names.length;
    var container_div = doc.createElement('div');
    var myTable = doc.createElement('table');
    var headers = doc.createElement('thead');
    var table_body = doc.createElement('tbody');
    var headers_row = doc.createElement('tr');
    myTable.className = 'minitable';
    container_div.className = 'minitable_container';
    for (var i = 0; i < nb_columns; i++) {
      var cell = doc.createElement('th');
      cell.innerHTML = column_names[i];
      headers_row.appendChild(cell);
    }
    headers.appendChild(headers_row);
    myTable.appendChild(headers);
    for (var _i = 0; _i < nb_features; _i++) {
      var row = doc.createElement('tr');
      row.id = 'row_' + summary_features[_i].id;
      for (var j = 0; j < nb_columns; j++) {
        var _cell = doc.createElement('td');
        var col_name = column_names[j];
        if (col_name !== 'Variable') {
          _cell.innerHTML = Math.round(summary_features[_i][col_name] * 10) / 10;
        } else {
          _cell.innerHTML = summary_features[_i][col_name];
        }
        row.appendChild(_cell);
      }
      table_body.appendChild(row);
    }
    myTable.appendChild(table_body);
    myTable.setAttribute('id', options.id || 'table_summary');
    container_div.appendChild(myTable);
    document.querySelector('#map_section').appendChild(container_div);
    this.nb_columns = nb_columns;
    this.column_names = column_names;
    this.table_body = table_body;
  }

  createClass(TableResumeStat, [{
    key: 'addFeatures',
    value: function addFeatures(summary_features) {
      for (var i = 0, len = summary_features.length; i < len; i++) {
        this.addFeature(summary_features[i]);
      }
    }
  }, {
    key: 'addFeature',
    value: function addFeature(summary) {
      var row = document.createElement('tr');
      row.id = 'row_' + summary.id;
      for (var j = 0; j < this.nb_columns; j++) {
        var cell = document.createElement('td');
        var col_name = this.column_names[j];
        if (col_name !== 'Variable') {
          cell.innerHTML = Math.round(summary[col_name] * 10) / 10;
        } else {
          cell.innerHTML = summary[col_name];
        }
        row.appendChild(cell);
      }
      this.table_body.appendChild(row);
    }
  }, {
    key: 'removeFeature',
    value: function removeFeature(id_variable) {
      var row = this.table_body.querySelector('tr#row_' + id_variable);
      if (row) row.remove();
    }
  }, {
    key: 'removeAll',
    value: function removeAll() {
      var rows = this.table_body.querySelectorAll('tr');
      for (var i = rows.length - 1; i > -1; i--) {
        rows[i].remove();
      }
    }
  }, {
    key: 'remove',
    value: function remove() {
      this.table_body.parentElement.parentElement.remove();
      this.table_body = null;
    }
  }]);
  return TableResumeStat;
}();

var CompletudeSection = function () {
  function CompletudeSection(parent, before) {
    classCallCheck(this, CompletudeSection);

    this.section = document.createElement('div');
    this.section.className = 'completude_section';
    this.completude_population = document.createElement('p');
    this.completude_features = document.createElement('p');
    this.completude_features.className = 'active';
    this.section.appendChild(this.completude_features);
    this.section.appendChild(this.completude_population);
    var self = this;
    parent.insertBefore(this.section, before);
    this.completude_features.onclick = function () {
      this.classList.remove('active');
      self.completude_population.classList.add('active');
    };
    this.completude_population.onclick = function () {
      this.classList.remove('active');
      self.completude_features.classList.add('active');
    };
  }

  createClass(CompletudeSection, [{
    key: 'update',
    value: function update(value_features, value_pop) {
      this.completude_features.innerHTML = 'Donn\xE9es disponibles pour ' + value_features[0] + '/' + value_features[1] + ' r\xE9gions.';
      this.completude_population.innerHTML = 'Donn\xE9es disponibles pour ' + value_pop + '% de la population de l\'espace d\'\xE9tude.';
    }
  }, {
    key: 'remove',
    value: function remove() {
      this.section.remove();
      this.section = null;
      this.completude_population = null;
      this.completude_features = null;
    }
  }]);
  return CompletudeSection;
}();

var svg_bar = d3.select('svg#svg_bar');
var margin = { top: 10, right: 20, bottom: 100, left: 45 };
var margin2 = { top: 430, right: 20, bottom: 15, left: 45 };
var bbox_svg$1 = svg_bar.node().getBoundingClientRect();
var width = +bbox_svg$1.width - margin.left - margin.right;
var height = +bbox_svg$1.height - margin.top - margin.bottom;
var height2 = +bbox_svg$1.height - margin2.top - margin2.bottom;
var svg_container = void 0;

var nbFt = void 0;
var current_range_brush = [0, 0];
var current_range = [0, 0];
var displayed = void 0;

function updateDimensions() {
  svg_bar = d3.select('svg#svg_bar');
  bbox_svg$1 = svg_bar.node().getBoundingClientRect();
  margin = { top: 10, right: 20, bottom: 500 * app.ratioToWide / 5, left: 45 };
  margin2 = { top: 500 * app.ratioToWide * 0.86, right: 20, bottom: 500 * app.ratioToWide / 40, left: 45 };
  width = +bbox_svg$1.width - margin.left - margin.right;
  height = 500 * app.ratioToWide - margin.top - margin.bottom;
  svg_bar.attr('height', 500 * app.ratioToWide + 'px');
  height2 = 500 * app.ratioToWide - margin2.top - margin2.bottom;
  svg_container = svg_bar.append('g').attr('class', 'container');
}

function getMeanRank(mean_value, ratio_to_use) {
  var mean_rank = app.current_data.map(function (d, i) {
    return [d[ratio_to_use], math_abs(mean_value - d[ratio_to_use]), i];
  });
  mean_rank.sort(function (a, b) {
    return a[1] - b[1];
  });
  mean_rank = mean_rank[0];
  if (mean_rank[1] > mean_value) {
    mean_rank = mean_rank[2] - 1;
  } else {
    mean_rank = mean_rank[2];
  }
  return mean_rank;
}

var BarChart1 = function () {
  function BarChart1(ref_data) {
    var _this = this;

    classCallCheck(this, BarChart1);

    this.brushed = function () {
      if (d3.event.sourceEvent && d3.event.sourceEvent.type === 'zoom') return; // ignore brush-by-zoom
      if (!_this.x) {
        console.log('a');return;
      }
      var s = d3.event.selection || _this.x2.range();
      context_left_handle.attr('x', s[0] - 12);
      context_right_handle.attr('x', s[1] - 7);
      current_range = [math_round(s[0] / (width / nbFt)), math_round(s[1] / (width / nbFt))];
      _this.x.domain(_this.data.slice(current_range[0], current_range[1]).map(function (ft) {
        return ft.id;
      }));
      svg_container.select('.zoom').call(_this.zoom.transform, d3.zoomIdentity.scale(width / (current_range[1] - current_range[0])).translate(-current_range[0], 0));
      _this.update();
      _this.updateContext(current_range[0], current_range[1]);
      svg_container.select('.brush_top').call(_this.brush_top.move, null);
      // this.brushed_top();
    };

    this.brushed_top = function () {
      if (!_this._focus) {
        console.log('b');return;
      }
      if (!_this.map_elem) {
        console.log('c');return;
      }
      var d3_event = d3.event;
      var ratio_to_use = _this.ratio_to_use;
      var ref_value = _this.ref_value;
      // if (d3_event && d3_event.selection
      //       && d3_event.sourceEvent && d3_event.sourceEvent.target === document.querySelector('.brush_top > rect.overlay')) {
      if (d3_event && d3_event.selection && d3_event.sourceEvent && d3_event.sourceEvent.target) {
        _this.map_elem.removeRectBrush();
        var s = d3_event.selection;
        current_range_brush = [current_range[0] + math_round(s[0] / (width / displayed)) - 1, current_range[0] + math_round(s[1] / (width / displayed))];
        // this.x.domain(this.data.slice(current_range_brush[0] + 1, current_range_brush[1])
        //   .map(ft => ft.id));
        app.colors = {};
        _this._focus.selectAll('.bar').style('fill', function (d, i) {
          if (d.id === app.current_config.my_region) {
            app.colors[d.id] = color_highlight;
            return color_highlight;
          } else if (i > current_range_brush[0] && i < current_range_brush[1]) {
            var color = comp(d[ratio_to_use], ref_value, _this.serie_inversed);
            app.colors[d.id] = color;
            return color;
          }
          return color_countries;
        });
        // this.update();
        if (_this.reset_state_button === true) {
          d3.selectAll('#menu_selection > button').attr('class', 'button_blue');
        }
        _this.updateMapRegio();
      } else {
        if (d3_event && !d3_event.selection && d3_event.sourceEvent && d3_event.sourceEvent.detail !== undefined) {
          _this.map_elem.removeRectBrush();
          app.colors = {};
          app.colors[app.current_config.my_region] = color_highlight;
          _this.updateMapRegio();
        }
        _this._focus.selectAll('.bar').style('fill', function (d) {
          return app.colors[d.id] || color_countries;
        });
        if (_this.reset_state_button === true) {
          d3.selectAll('#menu_selection > button').attr('class', 'button_blue');
        }
      }
    };
    updateDimensions();
    app.chartDrawRatio = app.ratioToWide;
    // Set the minimum number of variables to keep selected for this kind of chart:
    app.current_config.nb_var = 1;
    var x = d3.scaleBand().range([0, width]).padding(0.1),
        x2 = d3.scaleBand().range([0, width]).padding(0.1),
        y = d3.scaleLinear().range([height, 0]),
        y2 = d3.scaleLinear().range([height2, 0]);

    var xAxis = d3.axisBottom(x);
    var xAxis2 = d3.axisBottom(x2);
    var yAxis = d3.axisLeft(y);

    this.x = x;
    this.x2 = x2;
    this.y = y;
    this.y2 = y2;
    this.xAxis = xAxis;
    this.yAxis = yAxis;
    this.xAxis2 = xAxis2;
    var self = this;
    var available_ratios = app.current_config.ratio;
    var ratio_to_use = available_ratios[0];
    this.ratio_to_use = ratio_to_use;
    this.unit = variables_info.find(function (ft) {
      return ft.ratio === ratio_to_use;
    }).unit;
    this.data = ref_data.filter(function (ft) {
      return !!ft[ratio_to_use];
    });
    this.data.sort(function (a, b) {
      return a[ratio_to_use] - b[ratio_to_use];
    });
    this.current_ids = this.data.map(function (d) {
      return d.id;
    });
    resetColors();
    this.current_ranks = this.data.map(function (d, i) {
      return i + 1;
    });
    nbFt = this.data.length;
    this.mean_value = getMean(this.data.map(function (d) {
      return d[ratio_to_use];
    }));
    this.ref_value = this.data.filter(function (ft) {
      return ft.id === app.current_config.my_region;
    })[0][ratio_to_use];
    svg_container.append('defs').append('clipPath').attr('id', 'clip').append('rect').attrs({ width: width, height: height });

    var focus = svg_container.append('g').attrs({
      class: 'focus',
      transform: 'translate(' + margin.left + ', ' + margin.top + ')'
    });

    var context = svg_container.append('g').attrs({
      class: 'context',
      transform: 'translate(' + margin2.left + ', ' + margin2.top + ')'
    });

    this._focus = focus;
    this.context = context;

    x.domain(this.current_ids);
    y.domain([0, d3.max(this.data, function (d) {
      return d[ratio_to_use];
    })]);
    x2.domain(x.domain());
    y2.domain(y.domain());

    var brush_bottom = d3.brushX().extent([[0, 0], [width, height2]]).on('brush end', this.brushed);

    var brush_top = d3.brushX().extent([[0, 0], [width, height]]).on('brush end', this.brushed_top);

    var zoom = d3.zoom().scaleExtent([1, Infinity]).translateExtent([[0, 0], [width, height]]).extent([[0, 0], [width, height]]);
    // .on("zoom", zoomed);
    this.brush_top = brush_top;
    this.brush_bottom = brush_bottom;
    this.zoom = zoom;

    focus.append('g').attrs({ class: 'axis axis--x', transform: 'translate(0, ' + height + ')' }).call(xAxis);

    focus.select('.axis--x').selectAll('text').style('text-anchor', 'end').attrs({ dx: '-0.8em', dy: '0.15em', transform: 'rotate(-65)' });

    focus.append('g').attr('class', 'axis axis--y').call(yAxis);

    this.g_bar = focus.append('g');

    var groupe_line_mean = focus.append('g').attr('class', 'mean');
    groupe_line_mean.append('text').attrs({ x: 60, y: y(this.mean_value) + 20 }).styles({
      display: 'none',
      fill: 'red',
      'fill-opacity': '0.8',
      'font-family': '\'Signika\', sans-serif'
    }).text('Valeur moyenne : ' + Math.round(this.mean_value * 10) / 10 + ' ' + this.unit);

    groupe_line_mean.append('line').attrs({
      x1: 0,
      x2: width,
      y1: y(this.mean_value),
      y2: y(this.mean_value),
      'stroke-dasharray': '10, 5',
      'stroke-width': '2px',
      class: 'mean_line'
    }).style('stroke', 'red');

    groupe_line_mean.append('line').attrs({ x1: 0, x2: width, y1: y(this.mean_value), y2: y(this.mean_value), 'stroke-width': '14px', class: 'transp_mean_line' }).style('stroke', 'transparent').on('mouseover', function () {
      groupe_line_mean.select('text').style('display', 'initial');
    }).on('mouseout', function () {
      groupe_line_mean.select('text').style('display', 'none');
    });

    this.updateMiniBars();

    var g_brush_bottom = context.append('g').attr('class', 'brush_bottom').call(brush_bottom);

    var context_left_handle = g_brush_bottom.insert('image', '.handle').attrs({
      width: 20,
      height: height2,
      x: x2(this.current_ids[0]) - 12,
      'xlink:href': 'img/left-handle.png'
    });

    var context_right_handle = g_brush_bottom.insert('image', '.handle').attrs({
      width: 20,
      height: height2,
      x: x2(this.current_ids[this.current_ids.length - 1]) - 7,
      'xlink:href': 'img/right-handle.png'
    });

    focus.append('g').attr('class', 'brush_top').call(brush_top).call(brush_top.move, null);

    g_brush_bottom.call(brush_bottom.move, x.range());

    this.completude = new CompletudeSection(document.querySelector('#map_section'), document.querySelector('#svg_map'));
    this.completude.update(calcCompletudeSubset(app, [this.ratio_to_use], 'array'), calcPopCompletudeSubset(app, [this.ratio_to_use]));

    svg_container.append('image').attrs({
      x: width + margin.left + 5,
      y: 385,
      width: 15,
      height: 15,
      'xlink:href': 'img/reverse_plus.png',
      id: 'img_reverse'
    }).on('click', function () {
      // this.data = app.current_data.slice();
      if (!_this.serie_inversed) {
        _this.data.sort(function (a, b) {
          return b[_this.ratio_to_use] - a[_this.ratio_to_use];
        });
      } else {
        _this.data.sort(function (a, b) {
          return a[_this.ratio_to_use] - b[_this.ratio_to_use];
        });
      }
      _this.current_ids = _this.data.map(function (d) {
        return d.id;
      });
      _this.serie_inversed = !_this.serie_inversed;
      x.domain(_this.data.slice(current_range[0], current_range[1]).map(function (ft) {
        return ft.id;
      }));
      x2.domain(_this.data.map(function (ft) {
        return ft.id;
      }));
      // svg_container.select(".zoom").call(zoom.transform, d3.zoomIdentity
      //     .scale(width / (current_range[1] - current_range[0]))
      //     .translate(-current_range[0], 0));
      _this.update();
      // this.updateMiniBars();
      _this.updateContext(current_range[0], current_range[1]);
      svg_container.select('.brush_top').call(brush_top.move, null);
      _this.map_elem.removeRectBrush();
      svg_container.select('.brush_bottom').call(brush_bottom.move, x.range());
    });

    // Prepare the tooltip displayed on mouseover:
    var tooltip = prepareTooltip(svg_container);

    // Deactivate the brush rect selection on the map + on the chart
    // when he user press the Ctrl key:
    document.onkeydown = function (event) {
      if (event && event.key === 'Control') {
        svg_container.select('.brush_top').selectAll('.selection, .overlay').style('display', 'none');
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', 'none');
      }
    };
    document.onkeyup = function (event) {
      if (event && event.key === 'Control') {
        svg_container.select('.brush_top').selectAll('.selection, .overlay').style('display', null);
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', null);
      }
    };

    var header_bar_section = d3.select('#header_chart');

    this.selec_var = header_bar_section.insert('select', '#img_table').attrs({ class: 'title_variable' }).styles({
      'font-family': '\'Signika\', sans-serif',
      'font-weight': '800',
      'font-size': '0.8em',
      'margin-top': '12px',
      'margin-left': '40px',
      float: 'left'
    });

    var _loop = function _loop(i, len_i) {
      var code_variable = available_ratios[i];
      var name_variable = app.current_config.ratio_pretty_name[i];
      var unit = variables_info.find(function (ft) {
        return ft.ratio === code_variable;
      }).unit;
      var year = name_variable.match(/\([^)]*\)$/)[0];
      var unit_year = '' + year.slice(0, 1) + unit + ', ' + year.slice(1, 6);

      _this.selec_var.append('option').attr('value', code_variable).text(name_variable.replace(year, unit_year));
    };

    for (var i = 0, len_i = available_ratios.length; i < len_i; i++) {
      _loop(i, len_i);
    }

    this.selec_var.on('change', function () {
      var code_variable = this.value;
      self.changeVariable(code_variable);
      self.changeStudyZone();
      self.updateCompletude();
    });

    // Create the menu under the chart allowing to use some useful selections
    // (above or below the mean value and above or below my_region)
    var menu_selection = d3.select('#bar_section').append('div').attr('id', 'menu_selection').styles({ padding: '0 10px 10px 10px', 'text-align': 'center', color: '#4f81bd' });

    menu_selection.append('p').attr('id', 'selection_subtitle').styles({ margin: '10px 0px 2px 0px' }).html('SÃ©lection des rÃ©gions ayant des valeurs...');

    menu_selection.append('button').attrs({ class: 'button_blue', id: 'btn_above_mean' }).text('infÃ©rieures Ã  la moyenne').on('click', function () {
      menu_selection.selectAll('button').attr('class', 'button_blue');
      this.classList.add('pressed');
      self.selectBelowMean();
    });

    menu_selection.append('button').attrs({ class: 'button_blue', id: 'btn_above_my_region' }).text('infÃ©rieurs Ã  ma rÃ©gion').on('click', function () {
      menu_selection.selectAll('button').attr('class', 'button_blue');
      this.classList.add('pressed');
      self.selectBelowMyRegion();
    });

    menu_selection.append('button').attrs({ class: 'button_blue', id: 'btn_below_mean' }).text('supÃ©rieures Ã  la moyenne').on('click', function () {
      menu_selection.selectAll('button').attr('class', 'button_blue');
      this.classList.add('pressed');
      self.selectAboveMean();
    });

    menu_selection.append('button').attrs({ class: 'button_blue', id: 'btn_below_my_region' }).text('supÃ©rieures Ã  ma rÃ©gion').on('click', function () {
      menu_selection.selectAll('button').attr('class', 'button_blue');
      this.classList.add('pressed');
      self.selectAboveMyRegion();
    });

    this.makeTableStat();
  }

  createClass(BarChart1, [{
    key: 'updateCompletude',
    value: function updateCompletude() {
      this.completude.update(calcCompletudeSubset(app, [this.ratio_to_use], 'array'), calcPopCompletudeSubset(app, [this.ratio_to_use]));
    }
  }, {
    key: 'updateContext',
    value: function updateContext(min, max) {
      this.context.selectAll('.bar').style('fill-opacity', function (_, i) {
        return i >= min && i < max ? '1' : '0.3';
      });
    }
  }, {
    key: 'update',
    value: function update() {
      var _this2 = this;

      displayed = 0;
      var ratio_to_use = this.ratio_to_use;
      var self = this;
      var bar = this.g_bar.selectAll('.bar').data(this.data);

      if (this.reset_state_button === true) {
        d3.selectAll('#menu_selection > button').attr('class', 'button_blue');
      }

      bar.attrs(function (d) {
        return {
          x: _this2.x(d.id),
          y: _this2.y(d[ratio_to_use]),
          width: _this2.x.bandwidth(),
          height: height - _this2.y(d[ratio_to_use])
        };
      }).style('fill', function (d) {
        return app.colors[d.id] || color_countries;
      }).style('display', function (d) {
        var to_display = _this2.x(d.id) != null;
        if (to_display) {
          displayed += 1;
          return 'initial';
        }
        return 'none';
      }).on('mouseover', function () {
        svg_container.select('.tooltip').style('display', null);
      }).on('mouseout', function () {
        svg_container.select('.tooltip').style('display', 'none');
      }).on('mousemove', function (d) {
        var tooltip = svg_container.select('.tooltip');
        tooltip.select('rect').attrs({ width: 0, height: 0 });
        tooltip.select('text.id_feature').text('' + d.id);
        tooltip.select('text.value_feature1').text(math_round(d[self.ratio_to_use] * 10) / 10 + ' ' + self.unit);
        tooltip.select('text.value_feature2').text('Rang : ' + (self.current_ids.indexOf(d.id) + 1) + '/' + self.current_ids.length);
        var b = tooltip.node().getBoundingClientRect();
        tooltip.select('rect').attrs({
          width: b.width + 20,
          height: b.height + 7.5
        });
        tooltip.attr('transform', 'translate(' + [d3.mouse(this)[0] - 5, d3.mouse(this)[1] - (b.height + 5)] + ')');
      });

      bar.enter().insert('rect', '.mean').attrs(function (d) {
        return {
          class: 'bar',
          x: _this2.x(d.id),
          y: _this2.y(d[ratio_to_use]),
          width: _this2.x.bandwidth(),
          height: height - _this2.y(d[ratio_to_use])
        };
      });

      bar.exit().remove();

      this._focus.select('.axis--y').call(this.yAxis);

      var axis_x = this._focus.select('.axis--x').attr('font-size', function () {
        return displayed > 75 ? 6 : 10;
      }).call(this.xAxis);
      axis_x.selectAll('text').attrs(function () {
        if (displayed > 100) {
          return { dx: '-0.8em', dy: '0.15em', transform: 'rotate(-65)' };
        } else if (displayed > 20) {
          return { dx: '-0.8em', dy: '0.15em', transform: 'rotate(-65)' };
        } else {
          return { dx: '0', dy: '0.71em', transform: null };
        }
      }).style('text-anchor', function () {
        return displayed > 20 ? 'end' : 'middle';
      });

      this.updateMiniBars();
    }
  }, {
    key: 'updateMiniBars',
    value: function updateMiniBars() {
      var _this3 = this;

      var ratio_to_use = this.ratio_to_use;
      var mini_bars = this.context.selectAll('.bar').data(this.data);

      mini_bars.attrs(function (d) {
        return {
          x: _this3.x2(d.id),
          y: _this3.y2(d[ratio_to_use]),
          width: _this3.x2.bandwidth(),
          height: height2 - _this3.y2(d[ratio_to_use])
        };
      }).style('fill', function (d) {
        return d.id !== app.current_config.my_region ? color_countries : color_highlight;
      });

      mini_bars.enter().insert('rect').attrs(function (d) {
        return {
          class: 'bar',
          x: _this3.x2(d.id),
          y: _this3.y2(d[ratio_to_use]),
          width: _this3.x2.bandwidth(),
          height: height2 - _this3.y2(d[ratio_to_use])
        };
      }).style('fill', function (d) {
        return d.id !== app.current_config.my_region ? color_countries : color_highlight;
      });
      mini_bars.exit().remove();
    }
  }, {
    key: 'updateMapRegio',
    value: function updateMapRegio() {
      var _this4 = this;

      this.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        return _this4.current_ids.indexOf(d.id) > -1 ? app.colors[d.id] || color_countries : color_disabled;
      });
    }
  }, {
    key: 'selectAboveMyRegion',
    value: function selectAboveMyRegion() {
      var my_rank = this.data.map(function (d, i) {
        return [d.id, i];
      }).filter(function (d) {
        return d[0] === app.current_config.my_region;
      })[0][1];
      app.colors = {};
      app.colors[app.current_config.my_region] = color_highlight;
      if (!this.serie_inversed) {
        current_range_brush = [my_rank, this.data.length];
        this.data.filter(function (d, i) {
          return i > my_rank;
        }).map(function (d) {
          return d.id;
        }).forEach(function (ft) {
          app.colors[ft] = color_sup;
        });
      } else {
        current_range_brush = [0, my_rank];
        this.data.filter(function (d, i) {
          return i < my_rank;
        }).map(function (d) {
          return d.id;
        }).forEach(function (ft) {
          app.colors[ft] = color_inf;
        });
      }
      this.reset_state_button = false;
      svg_container.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.update();
      // svg_container.select('.brush_top').call(this.brush_top.move, current_range_brush.map(d => d * (width / nbFt)));
      this.map_elem.removeRectBrush();
      this.updateMapRegio();
      this.reset_state_button = true;
    }
  }, {
    key: 'selectBelowMyRegion',
    value: function selectBelowMyRegion() {
      var my_rank = this.data.map(function (d, i) {
        return [d.id, i];
      }).filter(function (d) {
        return d[0] === app.current_config.my_region;
      })[0][1];

      app.colors = {};
      app.colors[app.current_config.my_region] = color_highlight;
      if (!this.serie_inversed) {
        current_range_brush = [0, my_rank];
        this.data.filter(function (d, i) {
          return i < my_rank;
        }).map(function (d) {
          return d.id;
        }).forEach(function (ft) {
          app.colors[ft] = color_inf;
        });
      } else {
        current_range_brush = [my_rank, this.data.length];
        this.data.filter(function (d, i) {
          return i > my_rank;
        }).map(function (d) {
          return d.id;
        }).forEach(function (ft) {
          app.colors[ft] = color_sup;
        });
      }
      this.reset_state_button = false;
      svg_container.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.update();
      // svg_bar.select('.brush_top').call(this.brush_top.move, current_range_brush.map(d => d * (width / nbFt)));
      this.map_elem.removeRectBrush();
      this.updateMapRegio();
      this.reset_state_button = true;
    }
  }, {
    key: 'selectAboveMean',
    value: function selectAboveMean() {
      var _this5 = this;

      var mean_rank = getMeanRank(this.mean_value, this.ratio_to_use);
      var ratio_to_use = this.ratio_to_use;
      var ref_value = this.ref_value;

      app.colors = {};
      app.colors[app.current_config.my_region] = color_highlight;
      if (!this.serie_inversed) {
        current_range_brush = [mean_rank, this.data.length];
        this.data.filter(function (d) {
          return d[ratio_to_use] > _this5.mean_value;
        }).forEach(function (ft) {
          if (ft[ratio_to_use] > ref_value) app.colors[ft.id] = color_sup;else app.colors[ft.id] = color_inf;
        });
      } else {
        current_range_brush = [0, mean_rank + 1];
        this.data.filter(function (d) {
          return d[ratio_to_use] > _this5.mean_value;
        }).forEach(function (ft) {
          if (ft[ratio_to_use] > ref_value) app.colors[ft.id] = color_inf;else app.colors[ft.id] = color_sup;
        });
      }
      app.colors[app.current_config.my_region] = color_highlight;
      this.reset_state_button = false;
      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.update();
      this.map_elem.removeRectBrush();
      // svg_bar.select('.brush_top').call(this.brush_top.move, current_range_brush.map(d => d * (width / nbFt)));
      this.updateMapRegio();
      this.reset_state_button = true;
    }
  }, {
    key: 'selectBelowMean',
    value: function selectBelowMean() {
      var _this6 = this;

      var mean_rank = getMeanRank(this.mean_value, this.ratio_to_use);
      var ratio_to_use = this.ratio_to_use;
      var ref_value = this.ref_value;
      app.colors = {};
      if (!this.serie_inversed) {
        current_range_brush = [0, mean_rank];
        this.data.filter(function (d) {
          return d[ratio_to_use] < _this6.mean_value;
        }).forEach(function (ft) {
          if (ft[ratio_to_use] < ref_value) app.colors[ft.id] = color_inf;else app.colors[ft.id] = color_sup;
        });
      } else {
        current_range_brush = [mean_rank + 1, this.data.length];
        this.data.filter(function (d) {
          return d[ratio_to_use] < _this6.mean_value;
        }).forEach(function (ft) {
          if (ft[ratio_to_use] < ref_value) app.colors[ft.id] = color_sup;else app.colors[ft.id] = color_inf;
        });
      }
      app.colors[app.current_config.my_region] = color_highlight;
      this.reset_state_button = false;
      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.update();
      this.map_elem.removeRectBrush();
      // svg_bar.select('.brush_top').call(this.brush_top.move, current_range_brush.map(d => d * (width / nbFt)));
      this.updateMapRegio();
      this.reset_state_button = true;
    }
  }, {
    key: 'handle_brush_map',
    value: function handle_brush_map(event) {
      var _this7 = this;

      if (!event || !event.selection) {
        this.last_map_selection = undefined;
        return;
      }
      var ratio_to_use = this.ratio_to_use;
      var ref_value = this.ref_value;
      var self = this;
      svg_bar.select('.brush_top').call(self.brush_top.move, null);

      var _event$selection = slicedToArray(event.selection, 2),
          topleft = _event$selection[0],
          bottomright = _event$selection[1];

      this.last_map_selection = [topleft, bottomright];
      // const transform = svg_map.node().__zoom;
      // topleft[0] = (topleft[0] - transform.x) / transform.k;
      // topleft[1] = (topleft[1] - transform.y) / transform.k;
      // bottomright[0] = (bottomright[0] - transform.x) / transform.k;
      // bottomright[1] = (bottomright[1] - transform.y) / transform.k;
      var rect = new Rect(topleft, bottomright);
      app.colors = {};
      self.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        var id = d.id;
        if (id === app.current_config.my_region) {
          app.colors[id] = color_highlight;
          return color_highlight;
        } else if (self.current_ids.indexOf(id) < 0) {
          return color_disabled;
        }
        if (!this._pts) {
          this._pts = svgPathToCoords(this.getAttribute('d'), app.type_path);
        }
        var pts = this._pts;
        for (var ix = 0, nb_pts = pts.length; ix < nb_pts; ix++) {
          if (rect.contains(pts[ix])) {
            var value = d.properties[ratio_to_use];
            var color = comp(value, ref_value, this.serie_inversed);
            app.colors[id] = color;
            return color;
          }
        }
        return color_countries;
      });
      self._focus.selectAll('.bar').style('fill', function (d) {
        return app.colors[d.id] || color_countries;
      });
      var ids = Object.keys(app.colors);
      var ranks = ids.map(function (d) {
        return _this7.current_ids.indexOf(d.id) > -1;
      }).map(function (d) {
        return _this7.current_ranks[d];
      });
      if (ranks.length > 1) {
        var c1 = ranks[0] - 1;
        var c2 = ranks[ranks.length - 1];
        if (c1 < current_range[0] || c2 > current_range[1]) {
          current_range = [ranks[0] - 1, ranks[ranks.length - 1]];
          svg_bar.select('.brush_bottom').call(self.brush_bottom.move, [current_range[0] * (width / nbFt), current_range[1] * (width / nbFt)]);
        }
      } else {
        current_range = [0, this.data.length];
        svg_bar.select('.brush_bottom').call(self.brush_bottom.move, self.x.range());
      }
    }
  }, {
    key: 'handleClickMap',
    value: function handleClickMap(d, parent) {
      var id = d.id;
      if (this.current_ids.indexOf(id) < 0 || id === app.current_config.my_region) return;
      if (app.colors[id] !== undefined) {
        app.colors[id] = undefined;
        d3.select(parent).attr('fill', color_countries);
      } else {
        var color = comp(d.properties[this.ratio_to_use], this.ref_value, this.serie_inversed);
        app.colors[id] = color;
        d3.select(parent).attr('fill', color);
      }
      this.update();
    }
  }, {
    key: 'updateChangeRegion',
    value: function updateChangeRegion() {
      if (app.current_config.filter_key !== undefined) {
        this.changeStudyZone();
      } else {
        this.ref_value = this.data.find(function (ft) {
          return ft.id === app.current_config.my_region;
        })[this.ratio_to_use];
        this.update();
        this.updateContext(0, this.data.length);
        this.updateMapRegio();
        this.updateTableStats();
        svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x.range());
        this.map_elem.removeRectBrush();
        this.map_elem.updateLegend();
      }
    }
  }, {
    key: 'updateMeanValue',
    value: function updateMeanValue() {
      var y = this.y;
      var ratio_to_use = this.ratio_to_use;
      var grp_mean = this._focus.select('.mean');
      this.mean_value = getMean(this.data.map(function (d) {
        return d[ratio_to_use];
      }));
      grp_mean.select('text').attr('y', y(this.mean_value) + 20).text('Valeur moyenne : ' + Math.round(this.mean_value * 10) / 10 + ' ' + this.unit);
      grp_mean.select('.mean_line').attrs({ y1: y(this.mean_value), y2: y(this.mean_value) });
      grp_mean.select('.transp_mean_line').attrs({ y1: y(this.mean_value), y2: y(this.mean_value) });
    }
  }, {
    key: 'changeStudyZone',
    value: function changeStudyZone() {
      var ratio_to_use = this.ratio_to_use;
      this.data = app.current_data.filter(function (ft) {
        return !!ft[ratio_to_use];
      });
      this.ref_value = this.data.find(function (ft) {
        return ft.id === app.current_config.my_region;
      })[ratio_to_use];
      this.current_ranks = this.data.map(function (d, i) {
        return i + 1;
      });
      if (this.serie_inversed) {
        this.data.sort(function (a, b) {
          return b[ratio_to_use] - a[ratio_to_use];
        });
      } else {
        this.data.sort(function (a, b) {
          return a[ratio_to_use] - b[ratio_to_use];
        });
      }
      this.current_ids = this.data.map(function (d) {
        return d.id;
      });
      nbFt = this.data.length;
      this.ref_value = this.data.find(function (ft) {
        return ft.id === app.current_config.my_region;
      })[ratio_to_use];
      this.x.domain(this.current_ids);
      // const min_serie = d3.min(this.data, d => d[ratio_to_use]);
      var max_serie = d3.max(this.data, function (d) {
        return d[ratio_to_use];
      });
      // const offset_y = (max_serie - min_serie) / 20;
      this.y.domain([
      // min_serie - offset_y, max_serie,
      0, max_serie]);
      this.x2.domain(this.x.domain());
      this.y2.domain(this.y.domain());
      this.updateMeanValue();
      this.update();
      this.updateContext(0, this.data.length);

      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.map_elem.removeRectBrush();
      app.colors = {};
      app.colors[app.current_config.my_region] = color_highlight;
      this.updateTableStats();
      this.updateCompletude();
      this.updateMapRegio();
    }
  }, {
    key: 'addVariable',
    value: function addVariable$$1(code_variable, name_variable) {
      // Fetch the unit for this indicator:
      var unit = variables_info.find(function (ft) {
        return ft.ratio === code_variable;
      }).unit;
      var year = name_variable.match(/\([^)]*\)$/)[0];
      var unit_year = '' + year.slice(0, 1) + unit + ', ' + year.slice(1, 6);
      // Add the variable to the input element allowing to choose variables:
      this.selec_var.append('option').attr('value', code_variable).text(name_variable.replace(year, unit_year));

      // And use it immediatly:
      this.selec_var.node().value = code_variable;
      this.selec_var.dispatch('change');
    }
  }, {
    key: 'removeVariable',
    value: function removeVariable$$1(code_variable) {
      // Add the variable to the input element allowing to choose variables:
      this.selec_var.select('option[value=' + code_variable + ']').remove();
      if (this.ratio_to_use === code_variable) {
        this.selec_var.node().value = this.selec_var.select('option').node().value;
        this.selec_var.dispatch('change');
      }
    }
  }, {
    key: 'changeVariable',
    value: function changeVariable(code_variable) {
      this.ratio_to_use = code_variable;
      this.unit = variables_info.find(function (ft) {
        return ft.ratio === code_variable;
      }).unit;
    }
  }, {
    key: 'remove',
    value: function remove() {
      this._focus.remove();
      this.context.remove();
      this.selec_var.remove();
      this.table_stats.remove();
      this.table_stats = null;
      this.map_elem.unbindBrushClick();
      this.map_elem = null;
      this.completude.remove();
      this.completude = null;
      d3.select('#svg_bar').html('');
    }
  }, {
    key: 'bindMap',
    value: function bindMap(map_elem) {
      this.map_elem = map_elem;
      this.map_elem.resetColors(this.current_ids);
      this.map_elem.displayLegend(0);
    }
  }, {
    key: 'updateTableStats',
    value: function updateTableStats() {
      this.table_stats.removeAll();
      this.table_stats.addFeature(this.prepareTableStat());
    }
  }, {
    key: 'prepareTableStat',
    value: function prepareTableStat() {
      var _this8 = this;

      var values = this.data.map(function (d) {
        return d[_this8.ratio_to_use];
      });
      return {
        Min: d3.min(values),
        Max: d3.max(values),
        Moyenne: getMean(values),
        id: this.ratio_to_use,
        Variable: this.ratio_to_use,
        'Ma rÃ©gion': this.ref_value
      };
    }
  }, {
    key: 'makeTableStat',
    value: function makeTableStat() {
      var feature = this.prepareTableStat();
      this.table_stats = new TableResumeStat([feature]);
    }
  }]);
  return BarChart1;
}();

var contextMenu = function () {
  function contextMenu(items) {
    classCallCheck(this, contextMenu);

    if (items) {
      this.setItems(items);
    } else {
      this.items = [];
    }
  }

  createClass(contextMenu, [{
    key: 'addItem',
    value: function addItem(item) {
      this.items.push({
        name: item.name,
        action: item.action
      });
    }
  }, {
    key: 'removeItem',
    value: function removeItem(name) {
      for (var i = this.items.length - 1; i > 0; i--) {
        if (this.items[i].name === name) {
          this.items.splice(i, 1);
          break;
        }
      }
    }
  }, {
    key: 'setItems',
    value: function setItems(items) {
      this.items = [];
      for (var i = 0, nb_items = items.length; i < nb_items; i++) {
        if (items[i].name && items[i].action) {
          this.addItem(items[i]);
        }
      }
    }
  }, {
    key: 'showMenu',
    value: function showMenu(event, parent, items, position) {
      var _this = this;

      if (event.preventDefault) event.preventDefault();
      if (event.stopPropagation) event.stopPropagation();
      if (this.DOMobj) {
        this.hideMenu();
        return;
      }
      if (items) {
        this.setItems(items);
      }

      this.initMenu(parent);
      if (!position) {
        this.DOMobj.style.top = event.clientY + document.body.scrollTop + 'px';
        this.DOMobj.style.left = event.clientX + 'px';
      } else {
        this.DOMobj.style.top = position[1] + 'px';
        this.DOMobj.style.left = position[0] + 'px';
      }
      this.displayed = true;
      setTimeout(function () {
        document.addEventListener('click', function () {
          return _this.hideMenu();
        });
      }, 150);
    }
  }, {
    key: 'hideMenu',
    value: function hideMenu() {
      if (this.DOMobj && this.DOMobj.parentElement && this.DOMobj.parentElement.removeChild) {
        this.DOMobj.parentElement.removeChild(this.DOMobj);
        this.DOMobj = null;
      }
      this.displayed = false;
      document.removeEventListener('click', this.hideMenu);
    }
  }, {
    key: 'initMenu',
    value: function initMenu(parent) {
      if (this.DOMobj && this.DOMobj.parentElement && this.DOMobj.parentElement.removeChild) {
        this.DOMobj.parentElement.removeChild(this.DOMobj);
        this.DOMobj = null;
      }
      var self = this;
      var menu = document.createElement('div');
      var list = document.createElement('ul');
      menu.className = 'context-menu';
      menu.appendChild(list);
      for (var i = 0, nb_item = this.items.length; i < nb_item; i++) {
        var item = document.createElement('li');
        item.setAttribute('data-index', i);
        item.innerHTML = '<span class="context-menu-item-name">' + this.items[i].name + '</span>';
        list.appendChild(item);
        item.onclick = function () {
          var ix = this.getAttribute('data-index');
          self.items[ix].action();
        };
      }
      this.DOMobj = menu;
      parent.appendChild(menu);
    }
  }]);
  return contextMenu;
}();

var svg_bar$1 = void 0;
var margin$1 = void 0;
var bbox_svg$2 = void 0;
var width$1 = void 0;
var height$1 = void 0;
var svg_container$1 = void 0;

var updateDimensions$1 = function updateDimensions() {
  svg_bar$1 = d3.select('#svg_bar');
  margin$1 = { top: 20, right: 20, bottom: 40, left: 40 };
  bbox_svg$2 = svg_bar$1.node().getBoundingClientRect();
  width$1 = +bbox_svg$2.width - margin$1.left - margin$1.right;
  height$1 = 500 * app.ratioToWide - margin$1.top - margin$1.bottom;
  svg_bar$1.attr('height', 500 * app.ratioToWide + 'px');
  svg_container$1 = svg_bar$1.append('g').attr('class', 'container');
};
/** Class representing a scatterplot */
var ScatterPlot2 = function () {
  /**
   * Create a the scatterplot on the `svg_bar` svg element previously defined
   * @param {Array} ref_data - A reference to the subset of the dataset to be used
   * to create the scatterplot (should contain at least two field flagged as ratio
   * in the `app.current_config.ratio` Object).
   */
  function ScatterPlot2(ref_data) {
    var _this = this;

    classCallCheck(this, ScatterPlot2);

    this.brushed = function () {
      if (d3.event && !d3.event.selection) {
        if (d3.event.type === 'end' && d3.event.sourceEvent.type === 'mouseup') {
          _this.map_elem.removeRectBrush();
        }
        app.colors = {};
        app.colors[app.current_config.my_region] = color_highlight;
        _this.updateLight();
        _this.updateMapRegio();
        return;
      }

      resetColors();
      // const self = this;

      var _d3$event$selection = slicedToArray(d3.event.selection, 2),
          topleft = _d3$event$selection[0],
          bottomright = _d3$event$selection[1];

      var range_x = [_this.x.invert(topleft[0]), _this.x.invert(bottomright[0])];
      var range_y = [_this.y.invert(bottomright[1]), _this.y.invert(topleft[1])];
      if (_this.xInversed) range_x.reverse();
      if (_this.yInversed) range_y.reverse();
      var t1 = void 0;
      var t2 = void 0;
      if (_this.type === 'value') {
        t1 = _this.variable1;
        t2 = _this.variable2;
      } else {
        t1 = _this.rank_variable1;
        t2 = _this.rank_variable2;
      }

      for (var i = 0, len_i = _this.data.length; i < len_i; i++) {
        var ft = _this.data[i];
        if (ft[t1] > range_x[0] && ft[t1] < range_x[1] && ft[t2] > range_y[0] && ft[t2] < range_y[1]) {
          app.colors[ft.id] = comp2(ft[_this.variable1], ft[_this.variable2], _this.ref_value1, _this.ref_value2, _this.xInversed, _this.yInversed);
        }
      }
      app.colors[app.current_config.my_region] = color_highlight;
      _this.updateLight();
      _this.updateMapRegio();
      _this.map_elem.removeRectBrush();
    };
    updateDimensions$1();
    app.chartDrawRatio = app.ratioToWide;
    // Set the minimum number of variables to keep selected for this kind of chart:
    app.current_config.nb_var = 2;
    var self = this;
    this.type = 'value';
    this.variable1 = app.current_config.ratio[0];
    this.variable2 = app.current_config.ratio[1];
    this.rank_variable1 = 'pr_' + this.variable1;
    this.rank_variable2 = 'pr_' + this.variable2;
    this.unit1 = variables_info.find(function (ft) {
      return ft.ratio === _this.variable1;
    }).unit;
    this.unit2 = variables_info.find(function (ft) {
      return ft.ratio === _this.variable2;
    }).unit;
    this.pretty_name1 = app.current_config.ratio_pretty_name[0];
    this.pretty_name2 = app.current_config.ratio_pretty_name[1];
    this.data = ref_data.filter(function (ft) {
      return !!ft[_this.variable1] && !!ft[_this.variable2];
    }).map(function (d) {
      var res = { id: d.id };
      res[_this.variable1] = d[_this.variable1];
      res[_this.variable2] = d[_this.variable2];
      return res;
    });
    this.current_ids = this.data.map(function (d) {
      return d.id;
    });
    resetColors(this.current_ids);
    this.nbFt = this.data.length;
    computePercentileRank(this.data, this.variable1, this.rank_variable1);
    computePercentileRank(this.data, this.variable2, this.rank_variable2);

    this.x = d3.scaleLinear().range([0, width$1]).nice();
    this.y = d3.scaleLinear().range([height$1, 0]).nice();
    this.xAxis = d3.axisBottom(this.x).ticks(12);
    this.yAxis = d3.axisLeft(this.y).ticks(12 * height$1 / width$1);
    this.xAxis2 = d3.axisBottom(this.x).ticks(12);
    this.yAxis2 = d3.axisLeft(this.y).ticks(12 * height$1 / width$1);

    this.brush = d3.brush().extent([[0, 0], [width$1, height$1]]).on('brush end', this.brushed);

    this.xInversed = false;
    this.yInversed = false;
    this.ref_value1 = this.data.find(function (d) {
      return d.id === app.current_config.my_region;
    })[this.variable1];
    this.ref_value2 = this.data.find(function (d) {
      return d.id === app.current_config.my_region;
    })[this.variable2];

    this.plot = svg_container$1.append('g').attr('transform', 'translate(' + [margin$1.left, margin$1.top] + ')');

    this.plot.append('defs').append('svg:clipPath').attr('id', 'clip').append('svg:rect').attrs({
      width: width$1,
      height: height$1,
      x: 0,
      y: 0
    });

    this.scatter = this.plot.append('g').attr('id', 'scatterplot').attr('clip-path', 'url(#clip)');

    this.scatter.append('g').attr('class', 'brush').call(this.brush);

    this.makeGrid();

    var groupe_line_mean = this.plot.append('g').attr('clip-path', 'url(#clip)').attr('class', 'mean');
    groupe_line_mean.append('line').attr('clip-path', 'url(#clip)').attrs({
      id: 'mean_x',
      x1: this.x(this.mean_variable1),
      x2: this.x(this.mean_variable1),
      y1: 0,
      y2: width$1,
      'stroke-dasharray': '10, 5',
      'stroke-width': '2px'
    }).style('stroke', 'red');
    groupe_line_mean.append('line').style('stroke', 'red').attrs({
      id: 'mean_y',
      x1: 0,
      x2: width$1,
      y1: this.y(this.mean_variable2),
      y2: this.y(this.mean_variable2),
      'clip-path': 'url(#clip)',
      'stroke-dasharray': '10, 5',
      'stroke-width': '2px'
    });

    this.plot.append('g').attrs({
      class: 'x axis', id: 'axis--x', transform: 'translate(0, ' + height$1 + ')'
    }).call(this.xAxis);

    this.plot.append('g').attrs({ class: 'y axis', id: 'axis--y', opacity: 0.9 }).call(this.yAxis);

    // Prepare the tooltip displayed on mouseover:
    prepareTooltip(this.plot);

    this.prepareTitleAxis();

    svg_container$1.append('image').attrs({
      x: margin$1.left + width$1 / 2 - 20 - svg_container$1.select('#title-axis-x').node().getBoundingClientRect().width / 2,
      y: margin$1.top + height$1 + margin$1.bottom / 2 - 2.5,
      width: 15,
      height: 15,
      'xlink:href': 'img/reverse_plus.png',
      id: 'img_reverse_x'
    }).on('click', function () {
      _this.xInversed = !_this.xInversed;
      // for (let i = 0; i < this.nbFt; i++) {
      //   self.data[i][self.rank_variable1] = 100 - self.data[i][self.rank_variable1];
      // }

      if (_this.last_map_selection) {
        _this.map_elem.callBrush(_this.last_map_selection);
      } else {
        _this.update();
      }
    });

    svg_container$1.append('image').attrs({
      x: margin$1.left / 2 - 20,
      y: margin$1.top + height$1 / 2 + svg_container$1.select('#title-axis-y').node().getBoundingClientRect().height / 2 + 5,
      width: 15,
      height: 15,
      'xlink:href': 'img/reverse_plus.png',
      id: 'img_reverse_y'
    }).on('click', function () {
      _this.yInversed = !_this.yInversed;
      // for (let i = 0; i < this.nbFt; i++) {
      //   this.data[i][this.rank_variable2] = 100 - this.data[i][this.rank_variable2];
      // }
      if (_this.last_map_selection) {
        _this.map_elem.callBrush(_this.last_map_selection);
      } else {
        _this.update();
      }
    });

    this.completude = new CompletudeSection(document.querySelector('#map_section'), document.querySelector('#svg_map'));
    this.completude.update(calcCompletudeSubset(app, [this.variable1, this.variable2], 'array'), calcPopCompletudeSubset(app, [this.variable1, this.variable2]));

    // Deactivate the rect brush selection on the map
    // while the user press the Ctrl key:
    document.onkeydown = function (event) {
      if (event && event.key === 'Control') {
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', 'none');
      }
    };
    // Reactivate the rect brush selection on the map
    // when the user doesn't press the Ctrl key anymore
    document.onkeyup = function (event) {
      if (event && event.key === 'Control') {
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', null);
      }
    };

    var menu_selection = d3.select(svg_bar$1.node().parentElement).append('div').attr('id', 'menu_selection').styles({ position: 'relative', 'text-align': 'center' });

    var chart_type = menu_selection.append('p');

    chart_type.append('span').attrs({
      id: 'ind_raw_values',
      class: 'choice_ind active'
    }).text('Valeurs brutes');

    chart_type.append('span').attrs({
      id: 'ind_ranks',
      class: 'choice_ind'
    }).text('Valeurs de rang');

    this.bindMenu();
    // this.update();
    this.makeTableStat();
  }

  /**
   * Create the underlying grey grid
   */


  createClass(ScatterPlot2, [{
    key: 'makeGrid',
    value: function makeGrid() {
      this.plot.insert('g', '#scatterplot').attrs({
        class: 'grid grid-x', transform: 'translate(0, ' + height$1 + ')'
      }).call(this.xAxis2.tickSize(-height$1).tickFormat(''));
      this.plot.insert('g', '#scatterplot').attr('class', 'grid grid-y').call(this.yAxis2.tickSize(-width$1).tickFormat(''));
    }
  }, {
    key: 'updateAxisGrid',
    value: function updateAxisGrid() {
      this.plot.select('.grid-x').transition().duration(125).call(this.xAxis2.tickSize(-height$1).tickFormat(''));
      this.plot.select('.grid-y').transition().duration(125).call(this.yAxis2.tickSize(-width$1).tickFormat(''));
      this.plot.select('#axis--x').transition().duration(125).call(this.xAxis);
      this.plot.select('#axis--y').transition().duration(125).call(this.yAxis);
      this.plot.selectAll('.grid').selectAll('line').attr('stroke', 'lightgray');
    }

    /**
     * Create the title of the X and Y axis with the associated context menu
     * displayed when they are clicked and allowing to select an other variable
     * for this axis.
     */

  }, {
    key: 'prepareTitleAxis',
    value: function prepareTitleAxis() {
      var _this2 = this;

      var self = this;
      this.menuX = new contextMenu();
      this.menuY = new contextMenu();
      this.itemsX = app.current_config.ratio.filter(function (elem) {
        return elem !== _this2.variable2;
      }).map(function (elem) {
        return {
          name: elem,
          action: function action() {
            return _this2.changeVariableX(elem);
          }
        };
      });
      this.itemsY = app.current_config.ratio.filter(function (elem) {
        return elem !== _this2.variable1;
      }).map(function (elem) {
        return {
          name: elem,
          action: function action() {
            return _this2.changeVariableY(elem);
          }
        };
      });

      svg_container$1.append('text').attrs({
        id: 'title-axis-x',
        x: margin$1.left + width$1 / 2,
        y: margin$1.top + height$1 + margin$1.bottom / 2 + 10
      }).styles({ 'font-family': 'sans-serif', 'font-size': '12px', 'text-anchor': 'middle' }).text(this.variable1).on('click', function () {
        var bbox = this.getBoundingClientRect();
        if (self.menuY.displayed) {
          self.menuY.hideMenu();
        }
        self.menuX.showMenu(d3.event, document.body, self.itemsX, [bbox.left - 20, bbox.top + 20]);
      });

      svg_container$1.append('text').attrs({
        id: 'title-axis-y',
        x: margin$1.left / 2,
        y: margin$1.top + height$1 / 2 - 10,
        transform: 'rotate(-90, ' + margin$1.left / 2 + ', ' + (margin$1.top + height$1 / 2) + ')'
      }).styles({ 'font-family': 'sans-serif', 'font-size': '12px', 'text-anchor': 'middle' }).text(this.variable2).on('click', function () {
        var bbox = this.getBoundingClientRect();
        if (self.menuX.displayed) {
          self.menuX.hideMenu();
        }
        self.menuY.showMenu(d3.event, document.body, self.itemsY, [bbox.left, bbox.bottom + 10]);
      });
    }
  }, {
    key: 'updateLight',
    value: function updateLight() {
      var default_color = 'gray';
      this.scatter.selectAll('.dot').transition().duration(125).styles(function (d) {
        return {
          fill: app.colors[d.id] || default_color
        };
      });
    }
  }, {
    key: 'update',
    value: function update() {
      var _this3 = this;

      var self = this;
      var data = self.data;

      if (this.type === 'rank') {
        var rank_variable1 = this.rank_variable1;
        var rank_variable2 = this.rank_variable2;
        var range_x = this.xInversed ? d3.extent(this.data, function (d) {
          return d[rank_variable1];
        }).reverse() : d3.extent(this.data, function (d) {
          return d[rank_variable1];
        });
        var range_y = this.yInversed ? d3.extent(this.data, function (d) {
          return d[rank_variable2];
        }).reverse() : d3.extent(this.data, function (d) {
          return d[rank_variable2];
        });
        var serie_x = this.data.map(function (d) {
          return d[_this3.variable1];
        });
        var serie_y = this.data.map(function (d) {
          return d[_this3.variable2];
        });
        this.x.domain(range_x).nice();
        this.y.domain(range_y).nice();
        this.mean_variable1 = _getPR(getMean(serie_x), serie_x);
        this.mean_variable2 = _getPR(getMean(serie_y), serie_y);

        var x = this.x;
        var y = this.y;
        var default_color = 'gray';

        var dots = this.scatter.selectAll('.dot').data(data, function (d) {
          return d.id;
        });

        dots.transition().duration(125).attrs(function (d) {
          return {
            r: 5,
            cx: x(d[rank_variable1]),
            cy: y(d[rank_variable2])
          };
        }).styles(function (d) {
          return {
            fill: app.colors[d.id] || default_color
          };
        });

        dots.enter().insert('circle').transition().duration(125).styles(function (d) {
          return {
            fill: app.colors[d.id] || default_color
          };
        }).attrs(function (d) {
          return {
            r: 5,
            cx: x(d[rank_variable1]),
            cy: y(d[rank_variable2]),
            class: 'dot'
          };
        }).on('end', function () {
          _this3.scatter.selectAll('.dot').on('mouseover.tooltip', function () {
            svg_container$1.select('.tooltip').style('display', null);
          }).on('mousemove.tooltip', function (d) {
            var tooltip = svg_container$1.select('.tooltip').attr('transform', 'translate(' + [d3.mouse(this)[0] - 5, d3.mouse(this)[1] - 35] + ')');
            tooltip.select('rect').attrs({ width: 0, height: 0 });
            tooltip.select('text.id_feature').text('' + d.id);
            tooltip.select('text.value_feature1').text(self.variable1 + ' (rang) : ' + Math.round(d[self.rank_variable1] * 10) / 10 + '/100');
            tooltip.select('text.value_feature2').text(self.variable1 + ' (valeur) : ' + Math.round(d[self.variable1] * 10) / 10 + ' ' + self.unit1);
            tooltip.select('text.value_feature3').text(self.variable2 + ' (rang) : ' + Math.round(d[self.rank_variable2] * 10) / 10 + '/100');
            tooltip.select('text.value_feature4').text(self.variable2 + ' (valeur) : ' + Math.round(d[self.variable2] * 10) / 10 + ' ' + self.unit2);
            var b = tooltip.node().getBoundingClientRect();
            tooltip.select('rect').attrs({ width: b.width + 20, height: b.height + 7.5 });
          }).on('mouseout.tooltip', function () {
            svg_container$1.select('.tooltip').style('display', 'none');
          });
        });
        dots.exit().transition().duration(125).remove();
      } else if (this.type === 'value') {
        var variable1 = this.variable1;
        var variable2 = this.variable2;
        var _serie_x = this.data.map(function (d) {
          return d[variable1];
        });
        var _serie_y = this.data.map(function (d) {
          return d[variable2];
        });
        var _range_x = this.xInversed ? d3.extent(_serie_x).reverse() : d3.extent(_serie_x);
        var _range_y = this.yInversed ? d3.extent(_serie_y).reverse() : d3.extent(_serie_y);
        this.x.domain(_range_x).nice();
        this.y.domain(_range_y).nice();
        this.mean_variable1 = getMean(_serie_x);
        this.mean_variable2 = getMean(_serie_y);

        var _x = this.x;
        var _y = this.y;
        var _default_color = 'gray';

        this.plot.select('#axis--x').transition().duration(125).call(this.xAxis);
        this.plot.select('#axis--y').transition().duration(125).call(this.yAxis);

        var _dots = this.scatter.selectAll('.dot').data(data, function (d) {
          return d.id;
        });

        _dots.transition().duration(125).attrs(function (d) {
          return {
            r: 5,
            cx: _x(d[variable1]),
            cy: _y(d[variable2])
          };
        }).styles(function (d) {
          return {
            fill: app.colors[d.id] || _default_color
          };
        });

        _dots.enter().insert('circle').transition().duration(125).styles(function (d) {
          return {
            fill: app.colors[d.id] || _default_color
          };
        }).attrs(function (d) {
          return {
            r: 5,
            cx: _x(d[variable1]),
            cy: _y(d[variable2]),
            class: 'dot'
          };
        }).on('end', function () {
          _this3.scatter.selectAll('.dot').on('mouseover.tooltip', function () {
            svg_container$1.select('.tooltip').style('display', null);
          }).on('mousemove.tooltip', function (d) {
            var tooltip = svg_container$1.select('.tooltip').attr('transform', 'translate(' + [d3.mouse(this)[0] - 5, d3.mouse(this)[1] - 35] + ')');
            tooltip.select('rect').attrs({ width: 0, height: 0 });
            tooltip.select('text.id_feature').text('' + d.id);
            tooltip.select('text.value_feature1').text(self.variable1 + ' (rang) : ' + Math.round(d[self.rank_variable1] * 10) / 10 + '/100');
            tooltip.select('text.value_feature2').text(self.variable1 + ' (valeur) : ' + Math.round(d[self.variable1] * 10) / 10 + ' ' + self.unit1);
            tooltip.select('text.value_feature3').text(self.variable2 + ' (rang) : ' + Math.round(d[self.rank_variable2] * 10) / 10 + '/100');
            tooltip.select('text.value_feature4').text(self.variable2 + ' (valeur) : ' + Math.round(d[self.variable2] * 10) / 10 + ' ' + self.unit2);
            var b = tooltip.node().getBoundingClientRect();
            tooltip.select('rect').attrs({ width: b.width + 20, height: b.height + 7.5 });
          }).on('mouseout.tooltip', function () {
            svg_container$1.select('.tooltip').style('display', 'none');
          });
        });

        _dots.exit().transition().duration(125).remove();
      }
      this.updateMeanValue();
      this.updateAxisGrid();
    }
  }, {
    key: 'updateCompletude',
    value: function updateCompletude() {
      this.completude.update(calcCompletudeSubset(app, [this.variable1, this.variable2], 'array'), calcPopCompletudeSubset(app, [this.variable1, this.variable2]));
    }
  }, {
    key: 'updateMapRegio',
    value: function updateMapRegio() {
      var _this4 = this;

      if (!this.map_elem) return;
      this.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        return _this4.current_ids.indexOf(d.id) > -1 ? app.colors[d.id] || color_countries : color_disabled;
      });
    }
  }, {
    key: 'handle_brush_map',
    value: function handle_brush_map(event) {
      if (!event || !event.selection) {
        this.last_map_selection = undefined;
        return;
      }
      svg_container$1.select('.brush').call(this.brush.move, null);
      var self = this;

      var _event$selection = slicedToArray(event.selection, 2),
          topleft = _event$selection[0],
          bottomright = _event$selection[1];

      this.last_map_selection = [topleft, bottomright];
      var rect = new Rect(topleft, bottomright);
      app.colors = {};
      self.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        var id = d.id;
        if (id === app.current_config.my_region) {
          app.colors[id] = color_highlight;
          return color_highlight;
        } else if (self.current_ids.indexOf(id) < 0) {
          return color_disabled;
        }
        if (!this._pts) {
          this._pts = svgPathToCoords(this.getAttribute('d'), app.type_path);
        }
        var pts = this._pts;
        for (var ix = 0, nb_pts = pts.length; ix < nb_pts; ix++) {
          if (rect.contains(pts[ix])) {
            var value1 = d.properties[self.variable1];
            var value2 = d.properties[self.variable2];
            var color = comp2(value1, value2, self.ref_value1, self.ref_value2, self.xInversed, self.yInversed);
            app.colors[id] = color;
            return color;
          }
        }
        return color_countries;
      });
      self.updateLight();
    }
  }, {
    key: 'handleClickMap',
    value: function handleClickMap(d, parent) {
      var id = d.id;
      if (this.current_ids.indexOf(id) < 0 || id === app.current_config.my_region) return;
      if (app.colors[id] !== undefined) {
        // Change its color in the global colors object:
        app.colors[id] = undefined;
        // Change the color on the map:
        d3.select(parent).attr('fill', color_countries);
      } else {
        var value1 = d.properties[this.variable1];
        var value2 = d.properties[this.variable2];
        var color = comp2(value1, value2, this.ref_value1, this.ref_value2, this.xInversed, this.yInversed);
        app.colors[id] = color;
        // Change the color on the map:
        d3.select(parent).attr('fill', color);
        // Add the clicked feature on the colored selection on the chart:
      }
      this.updateLight();
    }
  }, {
    key: 'updateMeanValue',
    value: function updateMeanValue() {
      var _this5 = this;

      if (this.type === 'value') {
        this.mean_variable1 = getMean(this.data.map(function (d) {
          return d[_this5.variable1];
        }));
        this.mean_variable2 = getMean(this.data.map(function (d) {
          return d[_this5.variable2];
        }));
      } else if (this.type === 'rank') {
        this.mean_variable1 = _getPR(getMean(this.data.map(function (d) {
          return d[_this5.variable1];
        })), this.data.map(function (d) {
          return d[_this5.variable1];
        }));
        this.mean_variable2 = _getPR(getMean(this.data.map(function (d) {
          return d[_this5.variable2];
        })), this.data.map(function (d) {
          return d[_this5.variable2];
        }));
      }
      var grp_mean = this.plot.select('g.mean');
      grp_mean.select('#mean_x').transition().duration(125).attrs({
        x1: this.x(this.mean_variable1),
        x2: this.x(this.mean_variable1)
      });
      grp_mean.select('#mean_y').transition().duration(125).attrs({
        y1: this.y(this.mean_variable2),
        y2: this.y(this.mean_variable2)
      });
    }
  }, {
    key: 'updateChangeRegion',
    value: function updateChangeRegion() {
      if (app.current_config.filter_key !== undefined) {
        this.changeStudyZone();
      } else {
        this.ref_value1 = this.data.find(function (d) {
          return d.id === app.current_config.my_region;
        })[this.variable1];
        this.ref_value2 = this.data.find(function (d) {
          return d.id === app.current_config.my_region;
        })[this.variable2];
        this.map_elem.removeRectBrush();
        this.map_elem.updateLegend();
        this.map_elem.resetColors(this.current_ids);
        this.update();
      }
    }
  }, {
    key: 'changeStudyZone',
    value: function changeStudyZone() {
      var _this6 = this;

      this.data = app.current_data.filter(function (ft) {
        return !!ft[_this6.variable1] && !!ft[_this6.variable2];
      }).map(function (d) {
        var res = { id: d.id };
        res[_this6.variable1] = d[_this6.variable1];
        res[_this6.variable2] = d[_this6.variable2];
        return res;
      });
      this.current_ids = this.data.map(function (d) {
        return d.id;
      });
      resetColors();
      this.nbFt = this.data.length;
      computePercentileRank(this.data, this.variable1, this.rank_variable1);
      computePercentileRank(this.data, this.variable2, this.rank_variable2);

      this.xInversed = false;
      this.yInversed = false;
      var tmp_my_region = this.data.filter(function (d) {
        return d.id === app.current_config.my_region;
      })[0];
      this.ref_value1 = tmp_my_region[this.variable1];
      this.ref_value2 = tmp_my_region[this.variable2];

      this.map_elem.removeRectBrush();
      this.updateItemsCtxMenu();
      this.updateMapRegio();
      this.updateTableStat();
      this.updateCompletude();
      this.update();
    }
  }, {
    key: 'changeVariableX',
    value: function changeVariableX(code_variable) {
      var _this7 = this;

      this.variable1 = code_variable;
      this.rank_variable1 = 'pr_' + this.variable1;
      var var_info = variables_info.find(function (ft) {
        return ft.ratio === code_variable;
      });
      this.pretty_name1 = var_info.name;
      this.unit1 = var_info.unit;
      svg_container$1.select('#title-axis-x').text(code_variable);
      // TODO: Also change the position of the button alowing to inverse the serie
      this.updateItemsCtxMenu();
      this.data = app.current_data.filter(function (ft) {
        return !!ft[_this7.variable1] && !!ft[_this7.variable2];
      }).map(function (d) {
        var res = { id: d.id };
        res[_this7.variable1] = d[_this7.variable1];
        res[_this7.variable2] = d[_this7.variable2];
        return res;
      });
      this.current_ids = this.data.map(function (d) {
        return d.id;
      });
      resetColors();
      this.nbFt = this.data.length;
      computePercentileRank(this.data, this.variable1, this.rank_variable1);
      computePercentileRank(this.data, this.variable2, this.rank_variable2);
      this.ref_value1 = this.data.find(function (d) {
        return d.id === app.current_config.my_region;
      })[this.variable1];
      this.updateCompletude();
      this.updateMapRegio();
      this.updateTableStat();
      this.update();
    }
  }, {
    key: 'changeVariableY',
    value: function changeVariableY(code_variable) {
      var _this8 = this;

      this.variable2 = code_variable;
      this.rank_variable2 = 'pr_' + this.variable2;
      var var_info = variables_info.find(function (ft) {
        return ft.ratio === code_variable;
      });
      this.pretty_name2 = var_info.name;
      this.unit2 = var_info.unit;
      svg_container$1.select('#title-axis-y').text(code_variable);
      // TODO: Also change the position of the button alowing to inverse the serie
      this.updateItemsCtxMenu();
      this.data = app.current_data.filter(function (ft) {
        return !!ft[_this8.variable1] && !!ft[_this8.variable2];
      }).map(function (d) {
        var res = { id: d.id };
        res[_this8.variable1] = d[_this8.variable1];
        res[_this8.variable2] = d[_this8.variable2];
        return res;
      });
      this.current_ids = this.data.map(function (d) {
        return d.id;
      });
      resetColors();
      this.nbFt = this.data.length;
      computePercentileRank(this.data, this.variable1, this.rank_variable1);
      computePercentileRank(this.data, this.variable2, this.rank_variable2);
      this.ref_value2 = this.data.find(function (d) {
        return d.id === app.current_config.my_region;
      })[this.variable2];
      this.updateCompletude();
      this.updateMapRegio();
      this.updateTableStat();
      this.update();
    }
  }, {
    key: 'updateItemsCtxMenu',
    value: function updateItemsCtxMenu() {
      var _this9 = this;

      this.itemsX = app.current_config.ratio.filter(function (elem) {
        return elem !== _this9.variable2;
      }).map(function (elem) {
        return {
          name: elem,
          action: function action() {
            return _this9.changeVariableX(elem);
          }
        };
      });
      this.itemsY = app.current_config.ratio.filter(function (elem) {
        return elem !== _this9.variable1;
      }).map(function (elem) {
        return {
          name: elem,
          action: function action() {
            return _this9.changeVariableY(elem);
          }
        };
      });
    }
  }, {
    key: 'addVariable',
    value: function addVariable$$1(code_variable, name_variable) {
      var _this10 = this;

      this.itemsX.push({
        name: code_variable,
        action: function action() {
          return _this10.changeVariableX(code_variable);
        }
      });
      this.itemsY.push({
        name: code_variable,
        action: function action() {
          return _this10.changeVariableY(code_variable);
        }
      });
    }
  }, {
    key: 'removeVariable',
    value: function removeVariable$$1(code_variable) {
      var _this11 = this;

      // Remove the variable from the X and Y list of items:
      for (var i = this.itemsX.length - 1; i > -1; i--) {
        if (this.itemsX[i].name === code_variable) {
          this.itemsX.splice(i, 1);
          break;
        }
      }
      for (var _i = this.itemsY.length - 1; _i > -1; _i--) {
        if (this.itemsY[_i].name === code_variable) {
          this.itemsY.splice(_i, 1);
          break;
        }
      }

      // If the variable to remove was currently used for drawing this chart,
      // set a new variable for this axis and redraw the chart:
      if (code_variable === this.variable1) {
        var new_var_x = this.itemsX.filter(function (ft) {
          return ft.name !== _this11.variable2;
        })[0].name;
        this.changeVariableX(new_var_x);
      } else if (code_variable === this.variable2) {
        var new_var_y = this.itemsY.filter(function (ft) {
          return ft.name !== _this11.variable1;
        })[0].name;
        this.changeVariableY(new_var_y);
      }
    }
  }, {
    key: 'remove',
    value: function remove() {
      this.table_stats.remove();
      this.map_elem.unbindBrushClick();
      this.map_elem = null;
      this.completude.remove();
      this.completude = null;
      svg_bar$1.html('');
    }
  }, {
    key: 'bindMap',
    value: function bindMap(map_elem) {
      this.map_elem = map_elem;
      this.map_elem.displayLegend(1);
      this.updateMapRegio();
      this.update();
    }
  }, {
    key: 'bindMenu',
    value: function bindMenu() {
      var self = this;
      var menu = d3.select('#menu_selection');

      menu.select('#ind_raw_values').on('click', function () {
        if (this.classList.contains('active')) {
          return;
        }
        self.type = 'value';
        this.classList.add('active');
        menu.select('#ind_ranks').attr('class', 'choice_ind');
        // self.g_bar.selectAll('g').remove();
        self.update();
      });

      menu.select('#ind_ranks').on('click', function () {
        if (this.classList.contains('active')) {
          return;
        }
        self.type = 'rank';
        this.classList.add('active');
        menu.select('#ind_raw_values').attr('class', 'choice_ind');
        // self.g_bar.selectAll('rect').remove();
        self.update();
      });
    }
  }, {
    key: 'prepareTableStat',
    value: function prepareTableStat() {
      var _this12 = this;

      var values1 = this.data.map(function (d) {
        return d[_this12.variable1];
      });
      var values2 = this.data.map(function (d) {
        return d[_this12.variable2];
      });
      var features = [{
        Min: d3.min(values1),
        Max: d3.max(values1),
        Moyenne: getMean(values1),
        id: this.variable1,
        Variable: this.variable1,
        'Ma rÃ©gion': this.ref_value1
      }, {
        Min: d3.min(values2),
        Max: d3.max(values2),
        Moyenne: getMean(values2),
        id: this.variable2,
        Variable: this.variable2,
        'Ma rÃ©gion': this.ref_value2
      }];
      return features;
    }
  }, {
    key: 'updateTableStat',
    value: function updateTableStat() {
      this.table_stats.removeAll();
      this.table_stats.addFeatures(this.prepareTableStat());
    }
  }, {
    key: 'makeTableStat',
    value: function makeTableStat() {
      var features = this.prepareTableStat();
      this.table_stats = new TableResumeStat(features);
    }
  }]);
  return ScatterPlot2;
}();

var svg_bar$2 = void 0;
var margin$2 = void 0;
var bbox_svg$3 = void 0;
var width$2 = void 0;
var height$2 = void 0;

var updateDimensions$2 = function updateDimensions() {
  svg_bar$2 = d3.select('#svg_bar');
  margin$2 = { top: 70, right: 70, bottom: 80, left: 70 };
  bbox_svg$3 = svg_bar$2.node().getBoundingClientRect();
  width$2 = +bbox_svg$3.width - margin$2.left - margin$2.right;
  height$2 = 500 * app.ratioToWide - margin$2.top - margin$2.bottom;
  svg_bar$2.attr('height', 500 * app.ratioToWide + 'px');
  svg_bar$2 = svg_bar$2.append('g').attr('class', 'container');
};

var wrap = function wrap(_text, _width) {
  _text.each(function () {
    var text = d3.select(this),
        words = text.text().split(/\s+/).reverse(),
        lineHeight = 1.4,
        x = +text.attr('x'),
        dy = parseFloat(text.attr('dy')); // ems
    var y = +text.attr('y');
    var line = [];
    var lineNumber = 0;
    if (y > height$2 / 2 - 35) {
      y -= 40;
    }
    var tspan = text.text(null).append('tspan').attr('x', x).attr('y', y).attr('dy', dy + 'em');
    var word = words.pop();
    while (word) {
      line.push(word);
      tspan.text(line.join(' '));
      if (tspan.node().getComputedTextLength() > _width) {
        line.pop();
        tspan.text(line.join(' '));
        line = [word];
        tspan = text.append('tspan').attr('x', x).attr('y', y).attr('dy', ++lineNumber * lineHeight + dy + 'em').text(word);
      }
      word = words.pop();
    }
  });
};

var move = function move(array, from, to) {
  array.splice(to, 0, array.splice(from, 1)[0]);
  return array;
};

var swap = function swap(array, ix1, ix2) {
  // eslint-disable-line no-param-reassign
  var _ref = [array[ix2], array[ix1]];
  array[ix1] = _ref[0];
  array[ix2] = _ref[1];
  return array;
};

var prepare_data_radar_default = function prepare_data_radar_default(data, variables) {
  // Prepare the data for "My RÃ©gion":
  var v_my_region = data.find(function (d) {
    return d.id === app.current_config.my_region;
  });
  var ojb_my_region = {
    name: app.current_config.my_region,
    axes: []
  };
  variables.forEach(function (v) {
    var t = variables_info.find(function (d) {
      return d.ratio === v;
    }).name;
    var _v = 'pr_' + v;
    ojb_my_region.axes.push({
      axis: t, value: v_my_region[_v]
    });
  });
  return ojb_my_region;
};

var prepare_data_radar_ft = function prepare_data_radar_ft(data, variables, ft) {
  var ft_values = data.find(function (d) {
    return d.id === ft;
  });
  if (!ft_values) {
    return null;
  }
  var obj = {
    name: ft,
    axes: []
  };
  variables.forEach(function (v) {
    var t = variables_info.find(function (d) {
      return d.ratio === v;
    }).name;
    var _v = 'pr_' + v;
    obj.axes.push({
      axis: t, value: ft_values[_v]
    });
  });
  return obj;
};

var RadarChart3 = function () {
  function RadarChart3(data, options) {
    var _this = this;

    classCallCheck(this, RadarChart3);

    updateDimensions$2();
    var cfg = {
      w: width$2 - 20, // Width of the circle
      h: height$2 - 20, // Height of the circle
      margin: margin$2, // The margins of the SVG
      levels: 10, // How many levels or inner circles should there be drawn
      maxValue: 100, // What is the value that the biggest circle will represent
      labelFactor: 1.3, // How much farther than the radius of the outer circle should the labels be placed
      wrapWidth: 95, // The number of pixels after which a label needs to be given a new line
      opacityArea: 0.10, // The opacity of the area of the blob
      dotRadius: 4, // The size of the colored circles of each blog
      opacityCircles: 0.1, // The opacity of the circles of each blob
      strokeWidth: 2, // The width of the stroke around each blob
      roundStrokes: true, // If true the area and stroke will follow a round path (cardinal-closed)
      color: d3.scaleOrdinal(d3.schemeCategory10), // Color function,
      format: '.2', // The format string to be used by d3.format
      unit: '%', // The unit to display after the number on the axis and point tooltips (like $, â‚¬, %, etc)
      legend: false,
      allowInverseData: true
    };
    this.cfg = cfg;
    // Put all of the options into a variable called cfg
    if (typeof options !== 'undefined') {
      var opts_key = Object.keys(options);
      for (var i = 0, len_i = opts_key.length; i < len_i; i++) {
        var k = opts_key[i];
        if (typeof options[k] !== 'undefined') {
          cfg[k] = options[k];
        }
      }
    }

    this.g = svg_bar$2.append('g').attr('id', 'RadarGrp').attr('transform', 'translate(' + (cfg.w / 2 + cfg.margin.left) + ',' + (cfg.h / 2 + cfg.margin.top) + ')');

    this.prepareData(data);
    this.drawAxisGrid();
    this.drawArea();
    this.handleLegend();

    this.completude = new CompletudeSection(document.querySelector('#map_section'), document.querySelector('#svg_map'));
    // Compute the "complÃ©tude" value for these ratios:
    this.completude.update(calcCompletudeSubset(app, this.variables, 'array'), calcPopCompletudeSubset(app, this.variables));
    app.colors[app.current_config.my_region] = color_highlight;
    if (cfg.allowInverseData) {
      this.inverse_data = function (field) {
        var data_length = _this.data.length;
        if (!field) {
          for (var _i = 0; _i < data_length; _i++) {
            var ax = _this.data[_i].axes;
            for (var j = 0; j < ax.length; j++) {
              ax[j].value = 100 - ax[j].value;
            }
          }
        } else {
          for (var _i2 = 0; _i2 < data_length; _i2++) {
            var _ax = _this.data[_i2].axes;
            for (var _j = 0; _j < _ax.length; _j++) {
              if (_ax[_j].axis === field) {
                _ax[_j].value = 100 - _ax[_j].value;
              }
            }
          }
        }
        _this.update();
      };
    }
    this.makeTableStat();
  }

  createClass(RadarChart3, [{
    key: 'add_element',
    value: function add_element(elem) {
      var _this2 = this;

      var n_axis = elem.axes.map(function (i) {
        return i.axis;
      });
      if (!(JSON.stringify(n_axis) === JSON.stringify(this.allAxis))) {
        throw new Error('Expected element with same axes name than existing data.');
      }
      this.data.push(elem);
      this.displayed_ids.push(elem.name);
      app.colors = {};
      for (var j = 0; j < this.data.length; j++) {
        var on_axes = [];
        if (this.id_my_region === this.data[j].name) app.colors[this.data[j].name] = color_highlight;else app.colors[this.data[j].name] = this.cfg.color(j + 1);
        for (var i = 0; i < this.data[j].axes.length; i++) {
          this.data[j].axes[i].id = this.data[j].name;
          on_axes.push(this.data[j].name);
        }
      }
      var self = this;
      var cfg = this.cfg;

      var blobWrapper = this.g.insert('g', '.radarCircleWrapper').attr('id', elem.name.indexOf(' ') > -1 ? 'ctx' : elem.name).attr('class', 'radarWrapper');

      // Append the backgrounds
      blobWrapper.append('path').attr('class', 'radarArea').attr('d', this.radarLine(elem.axes)).style('fill', app.colors[elem.name]).style('fill-opacity', cfg.opacityArea).on('mouseover', function () {
        // Dim all blobs
        self.g.selectAll('.radarArea').transition().duration(200).style('fill-opacity', 0);
        // Bring back the hovered over blob
        d3.select(this).transition().duration(200).style('fill-opacity', 0.3);
      }).on('mouseout', function () {
        // Bring back all blobs
        self.g.selectAll('.radarArea').transition().duration(200).style('fill-opacity', cfg.opacityArea);
      });
      // .on('click', function () {
      //   const p = this.parentElement;
      //   if (p.previousSibling.className !== 'tooltip') {
      //     const group = g.node();
      //     group.insertBefore(p, group.querySelector('.tooltip'));
      //     const new_order = [];
      //     g.selectAll('.radarWrapper').each(d => new_order.push(d.name));
      //     new_order.reverse();
      //     updateLegend(new_order);
      //   }
      // });

      // Create the outlines
      blobWrapper.append('path').attr('class', 'radarStroke').attr('d', this.radarLine(elem.axes)).style('stroke-width', cfg.strokeWidth + 'px').style('stroke', app.colors[elem.name]).style('fill', 'none').style('filter', 'url(#glow)');

      // Append the circles
      blobWrapper.selectAll('.radarCircle').data(elem.axes).enter().append('circle').attr('class', 'radarCircle').attr('r', cfg.dotRadius).attr('cx', function (d, i) {
        return _this2.rScale(d.value) * math_cos(_this2.angleSlice * i - HALF_PI);
      }).attr('cy', function (d, i) {
        return _this2.rScale(d.value) * math_sin(_this2.angleSlice * i - HALF_PI);
      }).style('fill', app.colors[elem.name]).style('fill-opacity', 0.8);

      blobWrapper.node().__data__ = elem;

      // ///////////////////////////////////////////////////////
      // ////// Append invisible circles for tooltip ///////////
      // ///////////////////////////////////////////////////////

      // Wrapper for the invisible circles on top
      var blobCircleWrapper = this.g.insert('g', '.tooltip').attr('id', elem.name.indexOf(' ') > -1 ? 'ctx' : elem.name).attr('class', 'radarCircleWrapper');

      blobCircleWrapper.node().__data__ = elem;

      // Append a set of invisible circles on top for the mouseover pop-up
      blobCircleWrapper.selectAll('.radarInvisibleCircle').data(elem.axes).enter().append('circle').attr('class', 'radarInvisibleCircle').attr('r', cfg.dotRadius * 1.5).attr('cx', function (d, i) {
        return _this2.rScale(d.value) * math_cos(_this2.angleSlice * i - HALF_PI);
      }).attr('cy', function (d, i) {
        return _this2.rScale(d.value) * math_sin(_this2.angleSlice * i - HALF_PI);
      }).style('fill', 'none').style('pointer-events', 'all').on('mouseover', function (d) {
        self.g.select('.tooltip').attr('x', this.cx.baseVal.value - 10).attr('y', this.cy.baseVal.value - 10).transition().style('display', 'block').text(self.Format(d.value) + cfg.unit);
      }).on('mouseout', function () {
        self.g.select('.tooltip').transition().style('display', 'none').text('');
      });
    }
  }, {
    key: 'changeOrder',
    value: function changeOrder() {
      this.data = this.data.slice(1, this.data.length).concat(this.data.slice(0, 1));
      this.update();
    }
  }, {
    key: 'prepareData',
    value: function prepareData(data) {
      var _this3 = this;

      // Set the minimum number of variables to keep selected for this kind of chart:
      app.current_config.nb_var = 3;
      this.variables = app.current_config.ratio;
      this.ref_data = data.slice().filter(function (ft) {
        return _this3.variables.map(function (v) {
          return !!ft[v];
        }).every(function (d) {
          return d === true;
        });
      });
      this.rank_variables = this.variables.map(function (d) {
        return 'pr_' + d;
      });
      this.variables.forEach(function (d, i) {
        computePercentileRank(_this3.ref_data, d, _this3.rank_variables[i]);
      });
      this.data = [prepare_data_radar_default(this.ref_data, this.variables)];
      this.displayed_ids = this.data.map(function (d) {
        return d.name;
      });
      this.current_ids = this.ref_data.map(function (d) {
        return d.id;
      });
      this.id_my_region = app.current_config.my_region;

      // If the supplied maxValue is smaller than the actual one, replace by the max in the data
      var maxValue = 0;
      for (var j = 0; j < this.data.length; j++) {
        if (this.id_my_region === this.data[j].name) app.colors[this.data[j].name] = color_highlight;else app.colors[this.data[j].name] = this.cfg.color(j + 1);
        for (var i = 0; i < this.data[j].axes.length; i++) {
          this.data[j].axes[i].id = this.data[j].name;
          if (this.data[j].axes[i].value > maxValue) {
            maxValue = this.data[j].axes[i].value;
          }
        }
      }

      this.maxValue = math_max(this.cfg.maxValue, maxValue);
      this.allAxis = this.data[0].axes.map(function (i) {
        return i.axis;
      }); // Names of each axis
      this.total = this.allAxis.length; // The number of different axes
      this.radius = Math.min(this.cfg.w / 2, this.cfg.h / 2); // Radius of the outermost circle
      this.Format = d3.format(this.cfg.format); // Formatting
      this.angleSlice = Math.PI * 2 / this.total; // The width in radians of each "slice"
      // Scale for the radius
      this.rScale = d3.scaleLinear().range([0, this.radius]).domain([0, this.maxValue]);
      // The radial line function
      this.radarLine = d3.radialLine().curve(this.cfg.roundStrokes ? d3.curveCardinalClosed : d3.curveLinearClosed).radius(function (d) {
        return _this3.rScale(d.value);
      }).angle(function (d, i) {
        return i * _this3.angleSlice;
      });
    }
  }, {
    key: 'drawAxisGrid',
    value: function drawAxisGrid() {
      var self = this;
      var cfg = this.cfg;
      var g = this.g;
      var radius = this.radius;
      var maxValue = this.maxValue;
      var rScale = this.rScale;
      var angleSlice = this.angleSlice;

      var labelClicked = function labelClicked() {
        var ix = +this.id;
        if (ix + 1 === self.allAxis.length) {
          for (var i = 0; i < self.data.length; i++) {
            swap(self.data[i].axes, ix, 0);
          }
        } else {
          var new_ix = ix + 1;
          for (var _i3 = 0; _i3 < self.data.length; _i3++) {
            move(self.data[_i3].axes, ix, new_ix);
          }
        }
        self.update();
      };

      var labelCtxMenu = function labelCtxMenu(label) {
        d3.event.stopPropagation();
        d3.event.preventDefault();
        self.inverse_data(label);
      };

      var axisGrid = g.append('g').attr('class', 'axisWrapper');

      // Draw the background circles
      axisGrid.selectAll('.levels').data(d3.range(1, cfg.levels + 1).reverse()).enter().append('circle').attrs(function (d) {
        return {
          class: 'gridCircle',
          r: radius / cfg.levels * d
        };
      }).styles(function (d) {
        if (d === 5) {
          return {
            fill: '#CDCDCD',
            stroke: 'rgb(245, 138, 138)',
            'stroke-dasharray': '5, 5',
            'fill-opacity': cfg.opacityCircles,
            filter: 'url(#glow)'
          };
        }
        return {
          fill: '#CDCDCD',
          stroke: '#CDCDCD',
          'fill-opacity': cfg.opacityCircles,
          filter: 'url(#glow)'
        };
      });

      // // Text indicating at what % each level is
      // axisGrid.selectAll('.axisLabel')
      //   .data(d3.range(1, (cfg.levels + 1)).reverse())
      //   .enter().append('text')
      //   .attr('class', 'axisLabel')
      //   .attr('x', 4)
      //   .attr('y', d => -d * radius / cfg.levels)
      //   .attr('dy', '0.4em')
      //   .style('font-size', '10px')
      //   .attr('fill', '#737373')
      //   .text(d => Format(maxValue * d / cfg.levels) + cfg.unit);

      // Create the straight lines radiating outward from the center
      var axis = axisGrid.selectAll('.axis').data(this.allAxis).enter().append('g').attr('class', 'axis');
      // Append the lines
      axis.append('line').attr('x1', 0).attr('y1', 0).attr('x2', function (d, i) {
        return rScale(maxValue * 1.1) * math_cos(angleSlice * i - HALF_PI);
      }).attr('y2', function (d, i) {
        return rScale(maxValue * 1.1) * math_sin(angleSlice * i - HALF_PI);
      }).attr('class', 'line').style('stroke', 'white').style('stroke-width', '2px');

      // Append the labels at each axis
      axis.append('text').attr('class', 'legend').style('font-size', '11px').attr('id', function (d, i) {
        return i;
      }).attr('text-anchor', 'middle').attr('dy', '0.35em').attr('x', function (d, i) {
        return rScale(maxValue * cfg.labelFactor) * math_cos(angleSlice * i - HALF_PI);
      }).attr('y', function (d, i) {
        return rScale(maxValue * cfg.labelFactor) * math_sin(angleSlice * i - HALF_PI);
      }).text(function (d) {
        return d;
      }).on('click', labelClicked).on('contextmenu', cfg.allowInverseData ? labelCtxMenu : null).call(wrap, cfg.wrapWidth);

      // Filter for the outside glow
      var filter = g.append('defs').append('filter').attr('id', 'glow');
      filter.append('feGaussianBlur').attr('stdDeviation', '2.5').attr('result', 'coloredBlur');
      var feMerge = filter.append('feMerge');
      feMerge.append('feMergeNode').attr('in', 'coloredBlur');
      feMerge.append('feMergeNode').attr('in', 'SourceGraphic');

      this.axisGrid = axisGrid;
    }
  }, {
    key: 'handleLegend',
    value: function handleLegend() {
      var cfg = this.cfg;
      if (cfg.legend !== false && _typeof(cfg.legend) === 'object') {
        var names = this.data.map(function (el) {
          return el.name;
        });
        if (cfg.legend.title) {
          this.legendZone.append('text').attr('class', 'title').attr('transform', 'translate(0, -20)').attr('x', cfg.w - 70).attr('y', 10).attr('font-size', '12px').attr('fill', '#404040').text(cfg.legend.title);
        }
        var legend = this.legendZone.selectAll('g').data(names);
        var legendEnter = legend.enter().append('g');

        // Create rectangles markers
        legendEnter.append('rect').attrs(function (d, i) {
          return {
            x: cfg.w - 65,
            y: i * 20,
            width: 10,
            height: 10
          };
        }).style('fill', function (d) {
          return app.colors[d.name];
        });

        // Create labels
        legendEnter.append('text').attrs(function (d, i) {
          return {
            x: cfg.w - 52,
            y: i * 20 + 9,
            fill: '#737373',
            'font-size': '11px'
          };
        }).text(function (d) {
          return d;
        });

        legend.merge(legendEnter).selectAll('rect').attr('y', function (d, i) {
          return i * 20;
        }).style('fill', function (d) {
          return app.colors[d.name];
        });

        legend.merge(legendEnter).selectAll('text').attrs(function (d, i) {
          return {
            x: cfg.w - 52,
            y: i * 20 + 9
          };
        }).text(function (d) {
          return d;
        });

        legend.exit().remove();
      }
    }
  }, {
    key: 'drawArea',
    value: function drawArea() {
      var _this4 = this;

      var cfg = this.cfg;
      var g = this.g;
      var Format = this.Format;
      var rScale = this.rScale;
      var angleSlice = this.angleSlice;

      // Create a wrapper for the blobs
      var blobWrapper = g.selectAll('.radarWrapper').data(this.data, function (d) {
        return d.name;
      }).enter().append('g').attr('id', function (d) {
        return d.name.indexOf(' ') > -1 ? 'ctx' : d.name;
      }).attr('class', 'radarWrapper');

      // Append the backgrounds
      blobWrapper.append('path').attr('class', 'radarArea').attr('d', function (d) {
        return _this4.radarLine(d.axes);
      }).style('fill', function (d) {
        return app.colors[d.name];
      }).style('fill-opacity', cfg.opacityArea).on('mouseover', function () {
        // Dim all blobs
        g.selectAll('.radarArea').transition().duration(200).style('fill-opacity', 0.1);
        // Bring back the hovered over blob
        d3.select(this).transition().duration(200).style('fill-opacity', 0.7);
      }).on('mouseout', function () {
        g.selectAll('.radarArea').transition().duration(200).style('fill-opacity', cfg.opacityArea);
      });

      // Create the outlines
      blobWrapper.append('path').attr('class', 'radarStroke').attr('d', function (d) {
        return _this4.radarLine(d.axes);
      }).style('stroke-width', cfg.strokeWidth + 'px').style('stroke', function (d, i) {
        return app.colors[d.name];
      }).style('fill', 'none').style('filter', 'url(#glow)');

      // Append the circles
      blobWrapper.selectAll('.radarCircle').data(function (d) {
        return d.axes;
      }).enter().append('circle').attr('class', 'radarCircle').attr('r', cfg.dotRadius).attr('cx', function (d, i) {
        return rScale(d.value) * math_cos(angleSlice * i - HALF_PI);
      }).attr('cy', function (d, i) {
        return rScale(d.value) * math_sin(angleSlice * i - HALF_PI);
      }).style('fill', function (d) {
        return app.colors[d.id];
      }).style('fill-opacity', 0.8);

      // ///////////////////////////////////////////////////////
      // ////// Append invisible circles for tooltip ///////////
      // ///////////////////////////////////////////////////////

      // Wrapper for the invisible circles on top
      var blobCircleWrapper = g.selectAll('.radarCircleWrapper').data(this.data, function (d) {
        return d.name;
      }).enter().append('g').attr('id', function (d) {
        return d.name.indexOf(' ') > -1 ? 'ctx' : d.name;
      }).attr('class', 'radarCircleWrapper');

      // Append a set of invisible circles on top for the mouseover pop-up
      blobCircleWrapper.selectAll('.radarInvisibleCircle').data(function (d) {
        return d.axes;
      }).enter().append('circle').attr('class', 'radarInvisibleCircle').attr('r', cfg.dotRadius * 1.5).attr('cx', function (d, i) {
        return rScale(d.value) * math_cos(angleSlice * i - HALF_PI);
      }).attr('cy', function (d, i) {
        return rScale(d.value) * math_sin(angleSlice * i - HALF_PI);
      }).style('fill', 'none').style('pointer-events', 'all').on('mouseover', function (d) {
        g.select('.tooltip').attr('x', this.cx.baseVal.value - 10).attr('y', this.cy.baseVal.value - 10).transition().style('display', 'block').text(Format(d.value) + cfg.unit);
      }).on('mouseout', function () {
        g.select('.tooltip').transition().style('display', 'none').text('');
      });

      var tooltip = g.append('text').attrs({ class: 'tooltip', x: 0, y: 0, dy: '0.35em', 'text-anchor': 'middle' }).styles({ 'font-size': '12px', display: 'none' });

      this.legendZone = svg_bar$2.append('g').attrs({
        id: 'legendZone',
        class: 'legend',
        transform: 'translate(' + cfg.legend.translateX + ',' + (cfg.legend.translateY + 20) + ')'
      });
    }
  }, {
    key: 'update',
    value: function update() {
      var _this5 = this;

      var rScale = this.rScale;
      var maxValue = this.maxValue;
      var cfg = this.cfg;
      var angleSlice = this.angleSlice;
      // console.log(this.current_ids);
      // if (new_data) {
      //   const new_axis = new_data[0].axes.map(elem => elem.axis);
      //   if (!(JSON.stringify(new_axis) === JSON.stringify(this.allAxis))) {
      //     throw new Error('Expected element with same axes name than existing data.');
      //   }
      //   this.data = new_data;
      //   this.allAxis = new_axis;
      // } else {
      this.allAxis = this.data[0].axes.map(function (elem) {
        return elem.axis;
      });
      // }
      var update_axis = this.axisGrid.selectAll('.axis').data(this.allAxis);

      var t = this.g.selectAll('.radarWrapper').transition().duration(225);
      // .on('end', () => {
      //   parent.selectAll('text.legend')
      //     .text(d => d)
      //     .call(wrap, cfg.wrapWidth);
      //   // wrap(parent.selectAll('text.legend'), cfg.wrapWidth);
      // });
      update_axis.select('text.legend').attrs(function (d, i) {
        return {
          id: i,
          x: rScale(maxValue * cfg.labelFactor) * math_cos(angleSlice * i - HALF_PI),
          y: rScale(maxValue * cfg.labelFactor) * math_sin(angleSlice * i - HALF_PI)
        };
      }).text(function (d) {
        return d;
      }).call(wrap, cfg.wrapWidth);

      var update_blobWrapper = this.g.selectAll('.radarWrapper').data(this.data, function (d) {
        return d.name;
      });

      update_blobWrapper.select('.radarArea').transition(t).attr('d', function (d) {
        return _this5.radarLine(d.axes);
      });

      update_blobWrapper.select('.radarStroke').transition(t).attr('d', function (d) {
        return _this5.radarLine(d.axes);
      });

      var circle = update_blobWrapper.selectAll('.radarCircle').data(function (d) {
        return d.axes;
      });
      circle.transition(t).attrs(function (d, i) {
        return {
          cx: rScale(d.value) * math_cos(angleSlice * i - HALF_PI),
          cy: rScale(d.value) * math_sin(angleSlice * i - HALF_PI)
        };
      }).styles(function (d) {
        return {
          fill: app.colors[d.id],
          'fill-opacity': 0.8
        };
      });

      var update_blobCircleWrapper = this.g.selectAll('.radarCircleWrapper').data(this.data, function (d) {
        return d.name;
      });

      var invisibleCircle = update_blobCircleWrapper.selectAll('.radarInvisibleCircle').data(function (d) {
        return d.axes;
      });
      invisibleCircle.transition(t).attrs(function (d, i) {
        return {
          cx: rScale(d.value) * math_cos(angleSlice * i - HALF_PI),
          cy: rScale(d.value) * math_sin(angleSlice * i - HALF_PI)
        };
      });
    }
  }, {
    key: 'round_stroke',
    value: function round_stroke(val) {
      var _this6 = this;

      if (val === undefined) {
        return this.cfg.roundStrokes;
      } else if (val !== this.cfg.roundStrokes) {
        this.cfg.roundStrokes = val;
        this.radarLine = d3.radialLine().curve(this.cfg.roundStrokes ? d3.curveCardinalClosed : d3.curveLinearClosed).radius(function (d) {
          return _this6.rScale(d.value);
        }).angle(function (d, i) {
          return i * _this6.angleSlice;
        });
        this.update();
      }
      return val;
    }
  }, {
    key: 'bindMap',
    value: function bindMap(map_elem) {
      this.map_elem = map_elem;
      this.map_elem.resetColors(this.current_ids);
      this.map_elem.displayLegend(2);
      this.updateMapRegio();
    }
  }, {
    key: 'remove',
    value: function remove() {
      this.table_stats.remove();
      this.table_stats = null;
      this.map_elem.unbindBrushClick();
      this.map_elem = null;
      this.completude.remove();
      this.completude = null;
      d3.select('#svg_bar').html('');
    }
  }, {
    key: 'updateChangeRegion',
    value: function updateChangeRegion() {
      this.changeStudyZone();
    }
  }, {
    key: 'changeStudyZone',
    value: function changeStudyZone() {
      var _this7 = this;

      var old_my_region = this.id_my_region;
      var other_features = this.displayed_ids.filter(function (d) {
        return d !== old_my_region;
      });
      this.g.remove();
      this.g = svg_bar$2.append('g').attr('id', 'RadarGrp').attr('transform', 'translate(' + (this.cfg.w / 2 + this.cfg.margin.left) + ',' + (this.cfg.h / 2 + this.cfg.margin.top) + ')');

      this.id_my_region = app.current_config.my_region;
      this.prepareData(app.current_data);
      this.drawAxisGrid();
      this.drawArea();
      this.handleLegend();
      other_features.forEach(function (id) {
        var a = prepare_data_radar_ft(_this7.ref_data, _this7.variables, id);
        _this7.add_element(a);
      });
      this.updateMapRegio();
      this.updateCompletude();
      this.updateTableStat();
    }
  }, {
    key: 'addVariable',
    value: function addVariable$$1(code_variable, name_variable) {
      var _this8 = this;

      var other_features = this.displayed_ids.filter(function (d) {
        return d !== _this8.id_my_region;
      });
      this.g.remove();
      this.g = svg_bar$2.append('g').attr('id', 'RadarGrp').attr('transform', 'translate(' + (this.cfg.w / 2 + this.cfg.margin.left) + ',' + (this.cfg.h / 2 + this.cfg.margin.top) + ')');

      this.prepareData(app.current_data);
      this.drawAxisGrid();
      this.drawArea();
      this.handleLegend();
      other_features.forEach(function (id) {
        var a = prepare_data_radar_ft(_this8.ref_data, _this8.variables, id);
        _this8.add_element(a);
      });
      this.updateCompletude();
      this.updateMapRegio();
      this.updateTableStat();
    }
  }, {
    key: 'removeVariable',
    value: function removeVariable$$1(code_variable) {
      var _this9 = this;

      var other_features = this.displayed_ids.filter(function (d) {
        return d !== _this9.id_my_region;
      });
      this.g.remove();
      this.g = svg_bar$2.append('g').attr('id', 'RadarGrp').attr('transform', 'translate(' + (this.cfg.w / 2 + this.cfg.margin.left) + ',' + (this.cfg.h / 2 + this.cfg.margin.top) + ')');

      this.prepareData(app.current_data);
      this.drawAxisGrid();
      this.drawArea();
      this.handleLegend();
      other_features.forEach(function (id) {
        var a = prepare_data_radar_ft(_this9.ref_data, _this9.variables, id);
        _this9.add_element(a);
      });
      this.updateCompletude();
      this.updateMapRegio();
      this.updateTableStat();
    }
  }, {
    key: 'prepareTableStat',
    value: function prepareTableStat() {
      var _this10 = this;

      var all_values = this.variables.map(function (v) {
        return _this10.ref_data.map(function (d) {
          return d[v];
        });
      });
      var my_region = this.ref_data.find(function (d) {
        return d.id === _this10.id_my_region;
      });
      var features = all_values.map(function (values, i) {
        return {
          Min: d3.min(values),
          Max: d3.max(values),
          Moyenne: getMean(values),
          id: _this10.variables[i],
          Variable: _this10.variables[i],
          'Ma rÃ©gion': my_region[_this10.variables[i]]
        };
      });
      return features;
    }
  }, {
    key: 'handleClickMap',
    value: function handleClickMap(d, parent) {
      var id = d.id;
      if (this.current_ids.indexOf(id) < 0 || id === this.id_my_region) return;
      if (this.displayed_ids.indexOf(id) < 0) {
        var a = prepare_data_radar_ft(this.ref_data, this.variables, id);
        this.add_element(a);
        this.update();
      } else {
        this.g.selectAll('#' + id + '.radarWrapper').remove();
        this.g.selectAll('#' + id + '.radarCircleWrapper').remove();
        var ix = this.data.map(function (_d, i) {
          return [i, _d.name === id];
        }).find(function (_d) {
          return _d[1] === true;
        })[0];
        this.data.splice(ix, 1);
        this.displayed_ids = this.data.map(function (_d) {
          return _d.name;
        });
        this.update();
      }
      this.updateMapRegio();
    }
  }, {
    key: 'updateCompletude',
    value: function updateCompletude() {
      this.completude.update(calcCompletudeSubset(app, this.variables, 'array'), calcPopCompletudeSubset(app, this.variables));
    }
  }, {
    key: 'updateMapRegio',
    value: function updateMapRegio() {
      var _this11 = this;

      if (!this.map_elem) return;
      this.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        return d.id === _this11.id_my_region ? color_highlight : _this11.current_ids.indexOf(d.id) > -1 ? _this11.displayed_ids.indexOf(d.id) > -1 ? app.colors[d.id] : color_countries : color_disabled;
      });
    }
  }, {
    key: 'updateTableStat',
    value: function updateTableStat() {
      this.table_stats.removeAll();
      this.table_stats.addFeatures(this.prepareTableStat());
    }
  }, {
    key: 'makeTableStat',
    value: function makeTableStat() {
      var features = this.prepareTableStat();
      this.table_stats = new TableResumeStat(features);
    }
  }]);
  return RadarChart3;
}();

var svg_bar$3 = void 0;
var margin$3 = void 0;
var bbox_svg$4 = void 0;
var width$3 = void 0;
var height$3 = void 0;
var svg_container$2 = void 0;

var updateDimensions$3 = function updateDimensions() {
  svg_bar$3 = d3.select('#svg_bar');
  margin$3 = { top: 20, right: 20, bottom: 40, left: 30 };
  bbox_svg$4 = svg_bar$3.node().getBoundingClientRect();
  width$3 = +bbox_svg$4.width - margin$3.left - margin$3.right;
  height$3 = 500 * app.ratioToWide - margin$3.top - margin$3.bottom;
  svg_bar$3.attr('height', 500 * app.ratioToWide + 'px');
  svg_container$2 = svg_bar$3.append('g').attr('class', 'container');
};

var Similarity1plus = function () {
  function Similarity1plus(ref_data) {
    var _this = this;

    classCallCheck(this, Similarity1plus);

    updateDimensions$3();
    app.chartDrawRatio = app.ratioToWide;
    // Set the minimum number of variables to keep selected for this kind of chart:
    app.current_config.nb_var = 1;
    this.ratios = app.current_config.ratio;
    this.nums = app.current_config.num;
    this.data = ref_data.filter(function (ft) {
      return _this.ratios.map(function (v) {
        return !!ft[v];
      }).every(function (v) {
        return v === true;
      });
    }).slice();
    this.my_region = this.data.find(function (d) {
      return d.id === app.current_config.my_region;
    });
    this.data.forEach(function (ft) {
      _this.ratios.forEach(function (v) {
        // eslint-disable-next-line no-param-reassign
        ft['dist_' + v] = math_abs(+ft[v] - +_this.my_region[v]);
      });
    });
    this.current_ids = this.data.map(function (d) {
      return d.id;
    });
    resetColors();
    this.highlight_selection = [];
    this.serie_inversed = false;
    this.proportionnal_symbols = false;
    this.draw_group = svg_container$2.append('g').attr('transform', 'translate(' + margin$3.left + ', ' + margin$3.top + ')');

    // Prepare the tooltip displayed on mouseover:
    prepareTooltip(svg_container$2);

    this.completude = new CompletudeSection(document.querySelector('#map_section'), document.querySelector('#svg_map'));
    this.completude.update(calcCompletudeSubset(app, this.ratios, 'array'), calcPopCompletudeSubset(app, this.ratios));

    // Create the button allowing to choose
    // if the colors are inversed
    // (like green/red for superior/inferior regions)
    svg_container$2.append('image').attrs({
      x: width$3 + margin$3.left + 5,
      y: 232.5,
      width: 15,
      height: 15,
      'xlink:href': 'img/reverse_plus.png',
      id: 'img_reverse'
    }).on('click', function () {
      _this.serie_inversed = !_this.serie_inversed;
      _this.applySelection(_this.highlight_selection.length);
    });

    // Create the section containing the input element allowing to chose
    // how many "close" regions we want to highlight.
    var menu_selection = d3.select(svg_bar$3.node().parentElement).append('div').attr('id', 'menu_selection').styles({ position: 'relative', color: '#4f81bd', 'text-align': 'center' });
    var selection_close = menu_selection.append('p');
    selection_close.append('span').html('SÃ©lection des');
    selection_close.append('input').attrs({ class: 'nb_select', type: 'number' }).styles({ color: '#4f81bd', 'margin-left': '1px' }).property('value', 5);
    selection_close.append('span').html('rÃ©gions les plus proches');
    var section = menu_selection.append('section').attr('class', 'slider-checkbox');
    section.append('input').attrs({ type: 'checkbox', id: 'check_prop' });
    section.append('label').attrs({ class: 'label', for: 'check_prop' }).text('Cercles proportionnels au numÃ©rateur');

    this.bindMenu();
    this.makeTableStat();
  }

  createClass(Similarity1plus, [{
    key: 'applySelection',
    value: function applySelection(nb) {
      var _this2 = this;

      app.colors = {};
      if (nb > 0) {
        this.highlight_selection = this.data.map(function (ft) {
          // eslint-disable-next-line no-restricted-properties
          var global_dist = math_sqrt(_this2.ratios.map(function (v) {
            return 'dist_' + v;
          }).map(function (v) {
            return Math.pow(ft[v], 2);
          }).reduce(function (a, b) {
            return a + b;
          }));
          var obj = {
            id: ft.id,
            dist: global_dist
          };
          _this2.ratios.forEach(function (v) {
            obj[v] = ft[v];
          });
          return obj;
        });
        this.highlight_selection.sort(function (a, b) {
          return a.dist - b.dist;
        });
        this.highlight_selection = this.highlight_selection.slice(1, nb + 1);
      } else {
        this.highlight_selection = [];
      }
      this.removeLines();
      this.update();
      this.updateMapRegio();
    }
  }, {
    key: 'update',
    value: function update() {
      var _this3 = this;

      var self = this;
      var data = self.data;
      var highlight_selection = self.highlight_selection;
      var nb_variables = self.ratios.length;
      var offset = height$3 / nb_variables + 1;
      var height_to_use = offset / 2;

      var _loop = function _loop(i) {
        var ratio_name = self.ratios[i];
        var num_name = self.nums[i];
        var my_region_value = self.my_region[ratio_name];
        var ratio_values = _this3.data.map(function (d) {
          return d[ratio_name];
        });
        var g = _this3.draw_group.select('#' + ratio_name);
        var axis = _this3.draw_group.select('g.axis--x.' + ratio_name);
        if (!g.node()) {
          g = _this3.draw_group.append('g').attrs({
            id: ratio_name,
            num: num_name,
            class: 'grp_var'
          });
          axis = g.append('g').attrs({
            class: 'axis axis--x ' + ratio_name,
            transform: 'translate(0, 10)'
          });
          g.append('text').attrs({
            x: 0,
            y: -7.5,
            fill: '#4f81bd',
            'font-size': '11px',
            'font-weight': 'bold',
            'font-family': '"Signika",sans-serif'
          }).text(ratio_name);
        }
        g.attr('transform', 'translate(0, ' + height_to_use + ')');
        var _min = void 0;
        var _max = void 0;
        _this3.data.sort(function (a, b) {
          return b['dist_' + ratio_name] - a['dist_' + ratio_name];
        });
        if (highlight_selection.length > 0) {
          var dist_axis = Math.max(math_abs(my_region_value - +d3.min(highlight_selection, function (d) {
            return d[ratio_name];
          })), math_abs(+d3.max(highlight_selection, function (d) {
            return d[ratio_name];
          }) - my_region_value));
          var margin_min_max = math_round(dist_axis) / 8;
          _min = my_region_value - dist_axis - margin_min_max;
          _max = my_region_value + dist_axis + margin_min_max;
          // if (_min > _max) { [_min, _max] = [_max, _min]; }
        } else {
          var _dist_axis = Math.max(math_abs(my_region_value - d3.min(ratio_values)), math_abs(d3.max(ratio_values) - my_region_value));
          var _margin_min_max = math_round(_dist_axis) / 8;
          _min = my_region_value - _dist_axis - _margin_min_max;
          _max = my_region_value + _dist_axis + _margin_min_max;
        }
        _this3.highlight_selection.forEach(function (elem) {
          app.colors[elem.id] = comp(elem[ratio_name], my_region_value, _this3.serie_inversed);
        });

        app.colors[app.current_config.my_region] = color_highlight;

        var size_func = _this3.proportionnal_symbols ? new PropSizer(d3.max(data, function (d) {
          return d[num_name];
        }), 33).scale : function () {
          return 7.5;
        };
        var xScale = d3.scaleLinear().domain([_min, _max]).range([0, width$3]);

        axis.transition().duration(125).call(d3.axisBottom(xScale));

        var bubbles = g.selectAll('.bubble').data(data, function (d) {
          return d.id;
        });

        bubbles.transition().duration(125).attrs(function (d) {
          var x_value = xScale(d[ratio_name]);
          if (x_value > width$3) x_value = width$3 + 200;else if (x_value < 0) x_value = -200;
          return {
            cx: x_value,
            cy: 10,
            r: size_func(d[num_name])
          };
        }).styles(function (d) {
          return {
            fill: app.colors[d.id] || color_countries,
            'fill-opacity': d.id === app.current_config.my_region ? 1 : app.colors[d.id] ? 0.7 : 0.1,
            stroke: 'darkgray',
            'stroke-width': 0.75,
            'stroke-opacity': 0.75
          };
        });

        bubbles.enter().insert('circle').styles(function (d) {
          return {
            fill: app.colors[d.id] || color_countries,
            'fill-opacity': d.id === app.current_config.my_region ? 1 : app.colors[d.id] ? 0.7 : 0.1,
            stroke: 'darkgray',
            'stroke-width': 0.75,
            'stroke-opacity': 0.75
          };
        }).transition().duration(125).attrs(function (d) {
          var x_value = xScale(d[ratio_name]);
          if (x_value > width$3) x_value = width$3 + 200;else if (x_value < 0) x_value = -200;
          return {
            id: d.id,
            class: 'bubble',
            cx: x_value,
            cy: 10,
            r: size_func(d[num_name])
          };
        });

        bubbles.exit().transition().duration(125).remove();
        height_to_use += offset;
      };

      for (var i = 0; i < nb_variables; i++) {
        _loop(i);
      }
      setTimeout(function () {
        _this3.makeTooltips();
      }, 125);
    }
  }, {
    key: 'updateCompletude',
    value: function updateCompletude() {
      this.completude.update(calcCompletudeSubset(app, this.ratios, 'array'), calcPopCompletudeSubset(app, this.ratios));
    }
  }, {
    key: 'updateMapRegio',
    value: function updateMapRegio() {
      var _this4 = this;

      if (!this.map_elem) return;
      this.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        var _id = d.id;
        if (_id === app.current_config.my_region) {
          return color_highlight;
        } else if (_this4.current_ids.indexOf(_id) > -1) {
          if (app.colors[_id]) return color_default_dissim;
          return color_countries;
        }
        return color_disabled;
      });
    }
  }, {
    key: 'handleClickMap',
    value: function handleClickMap(d, parent) {
      var _this5 = this;

      var to_display = false;
      var id = d.id;
      if (this.current_ids.indexOf(id) < 0 || id === app.current_config.my_region) return;
      if (app.colors[id] !== undefined) {
        // Remove the clicked feature from the colored selection on the chart:
        var id_to_remove = this.highlight_selection.map(function (ft, i) {
          return ft.id === id ? i : null;
        }).filter(function (ft) {
          return ft;
        })[0];
        this.highlight_selection.splice(id_to_remove, 1);
        // Change its color in the global colors object:
        app.colors[id] = undefined;
        // Change the color on the map:
        d3.select(parent).attr('fill', color_countries);
      } else {
        app.colors[id] = color_default_dissim;
        // Change the color on the map:
        d3.select(parent).attr('fill', color_default_dissim);
        // Add the clicked feature on the colored selection on the chart:
        // eslint-disable-next-line no-restricted-properties
        var global_dist = math_sqrt(this.ratios.map(function (v) {
          return 'dist_' + v;
        }).map(function (v) {
          return Math.pow(+d.properties[v], 2);
        }).reduce(function (a, b) {
          return a + b;
        }));
        var obj = {
          id: id,
          dist: global_dist
        };
        this.ratios.forEach(function (v) {
          obj[v] = +d.properties[v];
        });
        this.highlight_selection.push(obj);
        to_display = true;
      }
      this.highlight_selection.sort(function (a, b) {
        return a.dist - b.dist;
      });
      this.removeLines();
      this.update();
      if (to_display) setTimeout(function () {
        _this5.displayLine(id);
      }, 150);
    }
  }, {
    key: 'makeTooltips',
    value: function makeTooltips() {
      var self = this;
      this.draw_group.selectAll('g.grp_var').selectAll('circle').on('mouseover', function () {
        svg_container$2.select('.tooltip').style('display', null);
      }).on('mouseout', function () {
        svg_container$2.select('.tooltip').style('display', 'none');
      }).on('mousemove', function (d) {
        var tooltip = svg_container$2.select('.tooltip');
        var ratio_n = this.parentElement.id;
        var num_n = this.parentElement.getAttribute('num');
        var ty = +this.parentElement.getAttribute('transform').split('translate(0, ')[1].split(')')[0];
        tooltip.select('rect').attrs({ width: 0, height: 0 });
        tooltip.select('text.id_feature').text('' + d.id);
        tooltip.select('text.value_feature1').text('Ratio: ' + Math.round(d[ratio_n] * 10) / 10);
        tooltip.select('text.value_feature2').text('Stock: ' + Math.round(d[num_n] * 10) / 10);
        var b = tooltip.node().getBoundingClientRect();
        tooltip.select('rect').attrs({
          width: b.width + 20,
          height: b.height + 7.5
        });
        tooltip.attr('transform', 'translate(' + [d3.mouse(this)[0] - 5, d3.mouse(this)[1] - 45 + ty] + ')');
      }).on('click', function (d) {
        if (this.style.fill !== color_countries) self.displayLine(d.id);
      });
    }
  }, {
    key: 'displayLine',
    value: function displayLine(id_region) {
      if (this.ratios.length === 1) return;
      var coords = [];
      svg_container$2.selectAll('.grp_var').selectAll('#' + id_region + '.bubble').each(function () {
        var ty = +this.parentElement.getAttribute('transform').split('translate(0, ')[1].replace(')', '');
        coords.push([this.cx.baseVal.value, this.cy.baseVal.value + ty]);
      });

      var l = this.draw_group.append('path').datum(coords).attrs({
        class: 'regio_line',
        fill: 'none',
        stroke: 'steelblue',
        'stroke-linejoin': 'round',
        'stroke-linecap': 'round',
        'stroke-width': 1.5,
        d: d3.line().x(function (_d) {
          return _d[0];
        }).y(function (_d) {
          return _d[1];
        })
      });
      setTimeout(function () {
        l.remove();
      }, 5000);
    }
  }, {
    key: 'updateChangeRegion',
    value: function updateChangeRegion() {
      var _this6 = this;

      this.removeLines();
      if (app.current_config.filter_key !== undefined) {
        this.changeStudyZone();
      } else {
        this.map_elem.updateLegend();
        this.my_region = this.data.find(function (d) {
          return d.id === app.current_config.my_region;
        });
        this.data.forEach(function (ft) {
          _this6.ratios.forEach(function (v) {
            // eslint-disable-next-line no-param-reassign
            ft['dist_' + v] = math_abs(+ft[v] - +_this6.my_region[v]);
          });
        });
        this.updateTableStat();
        this.update();
        this.updateMapRegio();
        // this.applySelection(this.highlight_selection.length);
      }
    }
  }, {
    key: 'changeStudyZone',
    value: function changeStudyZone() {
      var _this7 = this;

      this.removeLines();
      this.map_elem.updateLegend();
      this.ratios = app.current_config.ratio;
      this.nums = app.current_config.num;
      this.data = app.current_data.filter(function (ft) {
        return _this7.ratios.map(function (v) {
          return !!ft[v];
        }).every(function (v) {
          return v === true;
        });
      }).slice();
      this.my_region = this.data.find(function (d) {
        return d.id === app.current_config.my_region;
      });
      this.data.forEach(function (ft) {
        _this7.ratios.forEach(function (v) {
          // eslint-disable-next-line no-param-reassign
          ft['dist_' + v] = math_abs(+ft[v] - +_this7.my_region[v]);
        });
      });
      this.current_ids = this.data.map(function (d) {
        return d.id;
      });
      var temp = this.highlight_selection.length;
      this.highlight_selection = [];
      this.updateTableStat();
      this.updateCompletude();
      this.applySelection(temp);
      this.updateMapRegio();
    }
  }, {
    key: 'addVariable',
    value: function addVariable$$1(code_variable, name_variable) {
      var _this8 = this;

      this.removeLines();
      this.ratios = app.current_config.ratio.slice();
      this.nums = app.current_config.num.slice();
      this.data = app.current_data.filter(function (ft) {
        return _this8.ratios.map(function (v) {
          return !!ft[v];
        }).every(function (v) {
          return v === true;
        });
      }).slice();
      this.current_ids = this.data.map(function (d) {
        return d.id;
      });
      this.my_region = this.data.find(function (d) {
        return d.id === app.current_config.my_region;
      });
      this.data.forEach(function (ft) {
        _this8.ratios.forEach(function (v) {
          // eslint-disable-next-line no-param-reassign
          ft['dist_' + v] = math_abs(+ft[v] - +_this8.my_region[v]);
        });
      });
      this.highlight_selection = this.highlight_selection.map(function (d) {
        var obj = Object.assign(d, {});
        var ft = _this8.data.find(function (elem) {
          return elem.id === obj.id;
        });
        if (!ft) return undefined;
        _this8.ratios.forEach(function (v) {
          obj[v] = +ft[v];
          obj['dist_' + v] = +ft['dist_' + v];
        });
        return obj;
      }).filter(function (d) {
        return !!d;
      });
      // And use it immediatly:
      this.updateTableStat();
      this.update();
      this.updateMapRegio();
    }
  }, {
    key: 'removeVariable',
    value: function removeVariable$$1(code_variable) {
      var _this9 = this;

      this.removeLines();
      this.ratios = app.current_config.ratio.slice();
      this.nums = app.current_config.num.slice();
      this.data = app.current_data.filter(function (ft) {
        return _this9.ratios.map(function (v) {
          return !!ft[v];
        }).every(function (v) {
          return v === true;
        });
      }).slice();
      this.my_region = this.data.find(function (d) {
        return d.id === app.current_config.my_region;
      });

      this.draw_group.select('g#' + code_variable).remove();
      // And use it immediatly:
      this.updateTableStat();
      this.update();
      this.updateMapRegio();
    }
  }, {
    key: 'bindMenu',
    value: function bindMenu() {
      var self = this;
      var menu = d3.select('#menu_selection');
      var applychange = function applychange() {
        // self.map_elem.removeRectBrush();
        var value = +this.value;
        if (value < 1) {
          this.value = 1;
          return;
        }
        self.applySelection(value);
      };
      menu.select('.nb_select').on('change', applychange);
      menu.select('.nb_select').on('wheel', applychange);
      menu.select('.nb_select').on('keyup', applychange);
      menu.select('#check_prop').on('change', function () {
        if (this.checked) {
          self.proportionnal_symbols = true;
        } else {
          self.proportionnal_symbols = false;
        }
        self.update();
      });
    }
  }, {
    key: 'removeLines',
    value: function removeLines() {
      this.draw_group.selectAll('.regio_line').remove();
    }
  }, {
    key: 'remove',
    value: function remove() {
      this.map_elem.unbindBrushClick();
      this.map_elem = null;
      this.table_stats.remove();
      this.table_stats = null;
      this.completude.remove();
      this.completude = null;
      svg_bar$3.html('');
    }
  }, {
    key: 'bindMap',
    value: function bindMap(map_elem) {
      this.map_elem = map_elem;
      this.map_elem.resetColors(this.current_ids);
      this.map_elem.displayLegend(2);
      this.applySelection(5);
    }
  }, {
    key: 'prepareTableStat',
    value: function prepareTableStat() {
      var _this10 = this;

      var ratios = this.ratios;
      var all_values = ratios.map(function (v) {
        return _this10.data.map(function (d) {
          return +d[v];
        });
      });
      var my_region = this.my_region;
      var features = all_values.map(function (values, i) {
        return {
          Min: d3.min(values),
          Max: d3.max(values),
          Moyenne: getMean(values),
          id: _this10.ratios[i],
          Variable: _this10.ratios[i],
          'Ma rÃ©gion': my_region[_this10.ratios[i]]
        };
      });
      return features;
    }
  }, {
    key: 'updateTableStat',
    value: function updateTableStat() {
      this.table_stats.removeAll();
      this.table_stats.addFeatures(this.prepareTableStat());
    }
  }, {
    key: 'makeTableStat',
    value: function makeTableStat() {
      var features = this.prepareTableStat();
      this.table_stats = new TableResumeStat(features);
    }
  }]);
  return Similarity1plus;
}();

// import debug from 'debug';
var variables_info = [];

var study_zones = [{ id: 'no_filter', name: 'UE28' }, { id: 'filter_country', name: 'Filtre national (France)' },
// { id: 'filter_param2', name: 'Espace de comparaison nÂ°2' },
{ id: 'filter_dist', name: 'RÃ©gion dans un rayon de ' }];

var territorial_mesh = [{ id: 'NUTS1', name: 'NUTS1' }, { id: 'NUTS_decision', name: 'NUTS1/2 (niveau de dÃ©cision)' }];

var app = {
  // A mapping id -> color, containing the color to use for each
  // feature not using the default color or the disabled color
  colors: {},
  // The filtered dataset (acccording to: the current territorial level,
  // the filter key (if any) and the ratio(s) selected on the left menu:
  current_data: [],
  // The full dataset provided (containing all the features at any level in one table)
  // Row without data are expected to be empty or to contain the "NA" string.
  full_dataset: [],
  // The ids of the current feature in use (acccording to: the current territorial level,
  // the filter key (if any) and the ratio(s) used in the current chart; filtered
  // to not contain feature with empty ratio values within the ratios in use).
  current_ids: []
};

function setDefaultConfig() {
  var code = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'FRE';
  var variable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'RT_CHOM_1574';
  // }, level = 'NUTS1') {
  app.current_config = {
    // The name of the field of the dataset containing the ID of each feature:
    id_field: 'geo',
    // The name of the field of the dataset containing the name of each feature:
    name_field: 'Nom',
    // The name of the field of the dataset containing the population of each feature:
    pop_field: 'POP_AGE_T_2016',
    // The name of the field of the geojson layer containing the ID of each feature
    // (these values should match with the values of the "id_field" in the
    // tabular dataset)
    id_field_geom: 'id',
    num: ['CHOM_1574_2016'],
    denum: ['ACT_1574_2016'],
    ratio: [variable],
    ratio_pretty_name: ['Taux de chÃ´mage (15-74 ans) (2016)'],
    ratio_unit: ['%'],
    // The level currently in use:
    current_level: 'NUTS1',
    // The ID of the region currently in use:
    my_region: code,
    // The name of the region currently in use:
    my_region_pretty_name: app.feature_names[code],
    // How many ratio on the current chart:
    nb_var: 1
  };
  app.colors[app.current_config.my_region] = color_highlight;
}

function setDefaultConfigMenu() {
  var code = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'FRE';
  var variable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'RT_CHOM_1574';
  var level = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'NUTS1';

  document.querySelector('.target_region.square[value="' + code + '"]').classList.add('checked');
  document.querySelector('.target_variable.small_square[value="' + variable + '"]').classList.add('checked');
  document.querySelector('.filter_v.square[filter-value="no_filter"]').classList.add('checked');
  document.querySelector('.territ_level.square[value="' + level + '"]').classList.add('checked');
  updateAvailableRatios(code);
}

function resetColors() {
  app.colors = {};
  // for (let i = 0, len_i = current_ids.length; i < len_i; i++) {
  //   app.colors[current_ids[i]] = color_countries;
  // }
  app.colors[app.current_config.my_region] = color_highlight;
}

/**
* Function to update the availables ratios in the left menu (after changing region)
* If a selected variable is not available anymore it will be deselected.
* If there selected variable (all the previously selected variables are unavailable for this region)
* the first variable on the menu will be selected.
* If the new number of selected feature is inferior to the number of variables on the current
* chart, a new chart (suitable for only 1 variable) will be selected.
*
*
* @param {String} my_region - The ID of the newly selected region.
* @return {Number} - The new number of selected ratios.
*
*/
function updateAvailableRatios(my_region) {
  var data_my_feature = app.full_dataset.filter(function (ft) {
    return ft[app.current_config.id_field] === my_region;
  })[0];
  var menu = document.querySelector('#menu');
  var lines = menu.querySelectorAll('.target_variable');
  for (var i = 0, nb_lines = lines.length; i < nb_lines; i++) {
    var code_variable = lines[i].getAttribute('value');
    if (data_my_feature[code_variable] !== undefined && data_my_feature[code_variable] !== 'NA') {
      lines[i].classList.remove('disabled');
      lines[i].nextSibling.classList.remove('disabled');
    } else {
      lines[i].classList.remove('checked');
      lines[i].classList.add('disabled');
      lines[i].nextSibling.classList.add('disabled');
    }
  }
  var new_var = menu.querySelectorAll('.target_variable.checked');
  if (new_var.length !== app.current_config.ratio.length) {
    var new_var_names = void 0;
    if (new_var.length === 0) {
      var name = selectFirstAvailableVar();
      new_var_names = [name];
    } else {
      new_var_names = Array.prototype.slice.call(new_var).map(function (elem) {
        return elem.getAttribute('value');
      });
    }
    resetVariables(app, new_var_names);
  }
  return new_var.length;
}

/**
* Update the menu located on the top of the window the display the available
* charts, according to the current number of selected variables.
*
* @param {Number} nb_var - How many variables are currently selected.
* @return {void}
*
*/
function updateAvailableCharts(nb_var) {
  if (nb_var === 1) {
    // Allow all kind of vizu with 1 variable:
    d3.selectAll('.chart_t1').each(function () {
      this.classList.remove('disabled');
    });
    d3.selectAll('.chart_t2, .chart_t3').each(function () {
      this.classList.add('disabled');
    });
  } else if (nb_var === 2) {
    // Allow all kind of vizu with 2 variables:
    d3.selectAll('.chart_t1, .chart_t2').each(function () {
      this.classList.remove('disabled');
    });
    d3.selectAll('.chart_t3').each(function () {
      this.classList.add('disabled');
    });
  } else if (nb_var > 2) {
    // Allow all kind of vizu with 3 variables:
    d3.selectAll('.chart_t1, .chart_t2, .chart_t3').each(function () {
      this.classList.remove('disabled');
    });
  }
}

/**
* Create handlers for user event on the left menu and on the map for charts only
* allowing to use 1 variable.
*
* @param {Object} chart - The chart object.
* @param {Object} map_elem - The map object.
* @return {void}
*
*/
function bindUI_chart(chart, map_elem) {
  // User change the study zone:
  d3.selectAll('span.filter_v').on('click', function () {
    if (!this.classList.contains('checked')) {
      d3.selectAll('span.filter_v').attr('class', 'filter_v square');
      this.classList.add('checked');
      var filter_type = this.getAttribute('filter-value');
      if (filter_type === 'filter_dist') {
        var input_elem = document.getElementById('dist_filter');
        input_elem.removeAttribute('disabled');
        var dist = +input_elem.value;
        var ids = map_elem.getUnitsWithin(dist);
        applyFilter(app, ids);
      } else {
        document.getElementById('dist_filter').setAttribute('disabled', 'disabled');
        applyFilter(app, filter_type);
      }
      // makeTable(app.current_data, app.current_config);
      chart.changeStudyZone();
      chart.updateCompletude();
    }
  });

  d3.select('#dist_filter').on('change, keyup', function () {
    var ids = map_elem.getUnitsWithin(+this.value);
    applyFilter(app, ids);
    // makeTable(app.current_data, app.current_config);
    chart.changeStudyZone();
    chart.updateCompletude();
  });

  // User change the targeted region:
  d3.selectAll('span.target_region').on('click', function () {
    if (!this.classList.contains('checked')) {
      d3.selectAll('span.target_region').attr('class', 'target_region square');
      this.classList.add('checked');
      var id_region = this.getAttribute('value');
      var old_nb_var = app.current_config.ratio.length;
      changeRegion(app, id_region, map_elem);
      // Update the availables ratio on the left menu
      // (this may change the current selected ratio(s) as some variables are
      // not available for some features) and fetch the number of selected
      // variables after that:
      var new_nb_var = updateAvailableRatios(id_region);
      updateAvailableCharts(new_nb_var);
      if (new_nb_var >= app.current_config.nb_var) {
        if (old_nb_var === new_nb_var) {
          chart.updateChangeRegion();
        } else {
          d3.select('span.type_chart.selected').dispatch('click');
          alertify.warning('Une variable prÃ©cÃ©demment sÃ©lectionnÃ©e n\'est pas disponible pour cette rÃ©gion.');
        }
      } else {
        // If there fewer selected variables than requested by the current chart,
        // redraw the first (default) kind of chart:
        d3.select('span.chart_t1[value="BarChart1"]').dispatch('click');
        alertify.warning('Des variables sÃ©lectionnÃ©es sont indisponibles pour cette rÃ©gion. Un changement de reprÃ©sentation est nÃ©cessaire.');
      }
    }
  });

  // User click on the name of a group of variables
  // to expand or collapse its content:
  d3.selectAll('.name_group_var').on('click', function () {
    var group_var = this.nextSibling;
    if (group_var.style.display === 'none') {
      group_var.style.display = null;
    } else {
      group_var.style.display = 'none';
    }
  });

  // User click to add/remove a variable from the comparison:
  d3.selectAll('span.target_variable').on('click', function () {
    if (this.classList.contains('disabled')) return;
    var nb_var = Array.prototype.slice.call(document.querySelectorAll('span.target_variable')).filter(function (elem) {
      return !!elem.classList.contains('checked');
    }).length;
    // Select a new variable and trigger the appropriate changes on the current chart:
    if (!this.classList.contains('checked')) {
      // We don't want the user to be able to select more than
      // MAX_VARIABLES (default = 7) variables simultaneously:
      if (nb_var >= MAX_VARIABLES) {
        alertify.warning('Le nombre maximal de variables sÃ©lectionnÃ©es est atteint.');
        return;
      }
      this.classList.add('checked');
      var code_variable = this.getAttribute('value');
      var name_variable = variables_info.find(function (d) {
        return d.ratio === code_variable;
      }).name;
      addVariable(app, code_variable);
      // makeTable(app.current_data, app.current_config);
      chart.addVariable(code_variable, name_variable);
      nb_var += 1;
    } else {
      // Remove a variable from the selection:
      nb_var -= 1;
      // We don't want to let the user remove the variable if
      // it's the only one selected or if the currently displayed
      // chart need a minimum number of variables:
      if (nb_var < app.current_config.nb_var) {
        return;
      }
      var _code_variable = this.getAttribute('value');
      this.classList.remove('checked');
      removeVariable(app, _code_variable);
      chart.removeVariable(_code_variable);
      // makeTable(app.current_data, app.current_config);
    }
    // Update the top menu to display available charts according to the current
    // number of available variables:
    updateAvailableCharts(nb_var);
  });

  d3.selectAll('span.territ_level').on('click', function () {
    if (!this.classList.contains('checked')) {
      // Reset the study zone :
      d3.select('span.filter_v[filter-value="no_filter"]').dispatch('click');
      d3.selectAll('span.territ_level').attr('class', 'territ_level square');
      this.classList.add('checked');
      var level_value = this.getAttribute('value');
      app.current_config.current_level = level_value;
      filterLevelVar(app);
      resetColors();
      map_elem.updateLevelRegion(level_value);
      map_elem.unbindBrushClick();
      map_elem.bindBrushClick(chart);
      chart.changeStudyZone();
    }
  });

  // Dispatch a click event on the associated checkbox when the text is clicked:
  d3.selectAll('span.label_chk').on('click', function () {
    this.previousSibling.click();
  });

  var header_map_section = d3.select('#map_section > #header_map');

  header_map_section.select('#img_rect_selec').on('click', function () {
    if (!this.classList.contains('active')) {
      this.classList.add('active');
      document.getElementById('img_map_zoom').classList.remove('active');
      document.getElementById('img_map_select').classList.remove('active');
      svg_map.on('.zoom', null);
      if (map_elem.brush_map) {
        svg_map.select('.brush_map').style('display', null);
      }
      map_elem.target_layer.selectAll('path').on('click', null);
    }
  });

  header_map_section.select('#img_map_zoom').on('click', function () {
    if (!this.classList.contains('active')) {
      this.classList.add('active');
      document.getElementById('img_rect_selec').classList.remove('active');
      document.getElementById('img_map_select').classList.remove('active');
      svg_map.call(map_elem.zoom_map);
      if (map_elem.brush_map) {
        svg_map.select('.brush_map').call(map_elem.brush_map.move, null);
        svg_map.select('.brush_map').style('display', 'none');
      }
      map_elem.target_layer.selectAll('path').on('click', null);
    }
  });

  header_map_section.select('#img_map_select').on('click', function () {
    if (!this.classList.contains('active')) {
      this.classList.add('active');
      document.getElementById('img_rect_selec').classList.remove('active');
      document.getElementById('img_map_zoom').classList.remove('active');
      svg_map.on('.zoom', null);
      if (map_elem.brush_map) {
        svg_map.select('.brush_map').call(map_elem.brush_map.move, null);
        svg_map.select('.brush_map').style('display', 'none');
      }
      map_elem.target_layer.selectAll('path').on('click', function (d) {
        chart.handleClickMap(d, this);
      });
    }
  });

  header_map_section.select('#zoom_in').on('click', zoomClick);

  header_map_section.select('#zoom_out').on('click', zoomClick);

  if (!map_elem.brush_map) {
    if (chart.handleClickMap) {
      map_elem.target_layer.selectAll('path').on('click', function (d) {
        chart.handleClickMap(d, this);
      });
    } else {
      map_elem.target_layer.selectAll('path').on('click', null);
    }
  }

  // const header_table_section = d3.select('#map_section')
  //     .insert('p', 'svg')
  //     .attr('id', 'header_table')
  //     .styles({ display: 'none', margin: 'auto', 'text-align': 'right' });

  // header_table_section.append('span')
  //   .attr('class', 'button_blue')
  //   .html('CSV')
  //   .on('click', () => {
  //     const columns = Object.keys(app.current_data[0]);
  //     const content = [
  //       'id,NumÃ©rateur,DÃ©nominateur,Ratio,Rang\r\n',
  //       app.current_data.map(d => columns.map(c => d[c]).join(',')).join('\r\n'),
  //     ].join('');
  //     const elem = document.createElement('a');
  //     elem.setAttribute('href', `data:text/plain;charset=utf-8,${encodeURIComponent(content)}`);
  //     elem.setAttribute('download', 'Regioviz_export.csv');
  //     elem.style.display = 'none';
  //     document.body.appendChild(elem);
  //     elem.click();
  //     document.body.removeChild(elem);
  //   });
  bindTopButtons(chart, map_elem);
}

/**
* Function to handle click on the top menu, in order to choose
* the kind of availables representation
*
* @param {Object} chart -
* @param {Object} map_elem -
* @return {void}
*/
function bindTopButtons(chart, map_elem) {
  d3.selectAll('.type_chart').on('click', function () {
    if (this.classList.contains('disabled')) return;
    // if (this.classList.contains('selected')) return;
    document.querySelector('.type_chart.selected').classList.remove('selected');
    this.classList.add('selected');
    chart.remove();
    chart = null; // eslint-disable-line no-param-reassign
    unbindUI();
    map_elem.resetZoom();
    app.colors = {};
    var value = this.getAttribute('value');
    if (value === 'BarChart1') {
      console.log('BarChart1');
      // makeTable(app.current_data, app.current_config);
      chart = new BarChart1(app.current_data); // eslint-disable-line no-param-reassign
      bindUI_chart(chart, map_elem);
      map_elem.bindBrushClick(chart);
      chart.bindMap(map_elem);
    } else if (value === 'ScatterPlot2') {
      console.log('ScatterPlot2');
      // makeTable(app.current_data, app.current_config);
      chart = new ScatterPlot2(app.current_data); // eslint-disable-line no-param-reassign
      bindUI_chart(chart, map_elem);
      map_elem.bindBrushClick(chart);
      chart.bindMap(map_elem);
    } else if (value === 'RadarChart3') {
      console.log('RadarChart3');
      // makeTable(app.current_data, app.current_config);
      chart = new RadarChart3(app.current_data);
      bindUI_chart(chart, map_elem);
      map_elem.bindBrushClick(chart);
      chart.bindMap(map_elem);
    } else if (value === 'Similarity1plus') {
      console.log('Similarity1plus');
      // makeTable(app.current_data, app.current_config);
      chart = new Similarity1plus(app.current_data);
      bindUI_chart(chart, map_elem);
      map_elem.bindBrushClick(chart);
      chart.bindMap(map_elem);
    }
  });
}

function bindHelpMenu() {
  var help_buttons_var = document.querySelector('#menu_variables').querySelectorAll('span.i_info');
  Array.prototype.slice.call(help_buttons_var).forEach(function (btn_i) {
    // eslint-disable-next-line no-param-reassign
    btn_i.onclick = function () {
      var code_variable = this.previousSibling.previousSibling.getAttribute('value');
      var o = variables_info.find(function (d) {
        return d.ratio === code_variable;
      });
      // eslint-disable-next-line new-cap
      var modal = new tingle_min.modal({
        stickyFooter: false,
        closeMethods: ['overlay', 'button', 'escape'],
        closeLabel: 'Close',
        onOpen: function onOpen() {
          document.querySelector('div.tingle-modal.tingle-modal--visible').style.background = 'rgba(0,0,0,0.4)';
        },
        onClose: function onClose() {
          modal.destroy();
        }
      });
      modal.setContent('<p style="font-family: \'Signika\',sans-serif;color: #4f81bd;font-size: 1.3rem;">Description de l\'indicateur</p>\n        <p style="font-family: \'Signika\',sans-serif;text-align: justify;">' + o.methodo.split('\n').join('<br>') + '</p>\n        <p style="font-family: \'Signika\',sans-serif;font-size: 0.8em">' + o.source + '</p>\n        <p style="font-family: \'Signika\',sans-serif;font-size: 0.8em">Date de t\xE9l\xE9chargement de la donn\xE9es : ' + o.last_update + '</p>');
      modal.open();
    };
  });

  var helps_buttons_study_zone = document.querySelector('#menu_studyzone').querySelectorAll('span.i_info');
  Array.prototype.slice.call(helps_buttons_study_zone).forEach(function (btn_i) {
    // eslint-disable-next-line no-param-reassign
    btn_i.onclick = function () {
      var filter_name = this.previousSibling.previousSibling.getAttribute('filter-value');
      // eslint-disable-next-line new-cap
      var modal = new tingle_min.modal({
        stickyFooter: false,
        closeMethods: ['overlay', 'button', 'escape'],
        closeLabel: 'Close',
        onOpen: function onOpen() {
          document.querySelector('div.tingle-modal.tingle-modal--visible').style.background = 'rgba(0,0,0,0.4)';
        },
        onClose: function onClose() {
          modal.destroy();
        }
      });
      modal.setContent('<p style="font-family: \'Signika\',sans-serif;color: #4f81bd;font-size: 1.3rem;">M\xE9thodologie</p>\n        <p style="font-family: \'Signika\',sans-serif;text-align: justify;">' + filter_name + '</p>');
      modal.open();
    };
  });

  var helps_buttons_territ_unit = document.querySelector('#menu_territ_level').querySelectorAll('span.i_info');
  Array.prototype.slice.call(helps_buttons_territ_unit).forEach(function (btn_i) {
    // eslint-disable-next-line no-param-reassign
    btn_i.onclick = function () {
      var territ_level_name = this.previousSibling.previousSibling.getAttribute('value');
      // eslint-disable-next-line new-cap
      var modal = new tingle_min.modal({
        stickyFooter: false,
        closeMethods: ['overlay', 'button', 'escape'],
        closeLabel: 'Close',
        onOpen: function onOpen() {
          document.querySelector('div.tingle-modal.tingle-modal--visible').style.background = 'rgba(0,0,0,0,0.4)';
        },
        onClose: function onClose() {
          modal.destroy();
        }
      });
      modal.setContent('\n        <p style="font-family: \'Signika\',sans-serif; color: #4f81bd;font-size: 1.3rem;">Titre</p>\n        <p style="font-family: \'Signika\',sans-serif;text-align: justify;">' + territ_level_name + '</p>');
      modal.open();
    };
  });
}

function loadData() {
  d3.queue(4).defer(d3.csv, 'data/REGIOVIZ_DATA.csv').defer(d3.json, 'data/CGET_nuts_all3035.geojson').defer(d3.json, 'data/borders3035.geojson').defer(d3.json, 'data/countries3035.geojson').defer(d3.json, 'data/countries-remote3035.geojson').defer(d3.json, 'data/coasts3035.geojson').defer(d3.json, 'data/coasts-remote3035.geojson').defer(d3.json, 'data/cyprus_non_espon_space3035.geojson').defer(d3.json, 'data/countries-remote-boundaries3035.geojson').defer(d3.json, 'data/frame3035.geojson').defer(d3.json, 'data/boxes3035.geojson').defer(d3.json, 'data/line3035.geojson').defer(d3.csv, 'data/indicateurs_meta.csv').awaitAll(function (error, results) {
    if (error) throw error;
    document.body.classList.remove('loading');
    document.querySelector('.spinner').remove();
    app.ratioToWide = getRatioToWide();

    var _results = slicedToArray(results, 13),
        full_dataset = _results[0],
        nuts = _results[1],
        borders = _results[2],
        countries = _results[3],
        countries_remote = _results[4],
        coasts = _results[5],
        coasts_remote = _results[6],
        cyprus_non_espon_space = _results[7],
        countries_remote_boundaries = _results[8],
        frame = _results[9],
        boxes = _results[10],
        line = _results[11],
        metadata_indicateurs = _results[12];

    alertify.set('notifier', 'position', 'bottom-left');
    var features_menu = full_dataset.filter(function (ft) {
      return ft.geo.indexOf('FR') > -1 && +ft.level === 1;
    });
    var start_region = getRandom(features_menu.map(function (d) {
      return d.geo;
    }), 13);
    var start_variable = getRandom(['RT_CHOM_1574', 'RT_EMP_2564', 'RT_ENSSUP_2564', 'RT_REV', 'RT_VA_TERT', 'RT_PIB_HAB']);

    prepareVariablesInfo(metadata_indicateurs, variables_info);
    prepare_dataset(full_dataset, app);
    setDefaultConfig(start_region, start_variable, 'NUTS1');
    prepareGeomLayerId(nuts, app.current_config.id_field_geom);
    createMenu(features_menu, variables_info, study_zones, territorial_mesh);
    bindHelpMenu();
    makeTopMenu();
    makeHeaderChart();
    setDefaultConfigMenu(start_region, start_variable, 'NUTS1');
    filterLevelVar(app);
    var other_layers = new Map([['borders', borders], ['boxes', boxes], ['countries', countries], ['countries_remote', countries_remote], ['coasts', coasts], ['coasts_remote', coasts_remote], ['cyprus_non_espon_space', cyprus_non_espon_space], ['countries_remote_boundaries', countries_remote_boundaries], ['frame', frame], ['line', line], ['boxes2', boxes]]);
    var map_elem = new MapSelect(nuts, other_layers);
    var chart = new BarChart1(app.current_data);
    // makeTable(app.current_data, app.current_config);
    makeHeaderMapSection();
    makeSourceSection();
    bindUI_chart(chart, map_elem);
    map_elem.bindBrushClick(chart);
    chart.bindMap(map_elem);
  });
}

loadData();

var getRatioToWide = function getRatioToWide() {
  if (window.matchMedia('(min-width: 1561px)').matches) {
    return 1550 / 1350;
  } else if (window.matchMedia('(min-width: 1361px) and (max-width: 1560px)').matches) {
    return 1350 / 1350;
  } else if (window.matchMedia('(min-width: 1161px) and (max-width: 1360px)').matches) {
    return 1150 / 1350;
  } else if (window.matchMedia('(min-width: 960px) and (max-width: 1160px)').matches) {
    return 960 / 1350;
  } else if (window.matchMedia('(max-width: 959px)').matches) {
    return 540 / 1350;
  }
};

window.onresize = function () {
  var previous_ratio = app.ratioToWide;
  var new_ratio = getRatioToWide();
  if (previous_ratio === new_ratio) return;
  app.ratioToWide = new_ratio;
  var chart_scale_value = new_ratio / app.chartDrawRatio;
  d3.select('#svg_bar').attr('height', 500 * app.ratioToWide + 'px');
  d3.select('#svg_bar > g.container').attr('transform', 'scale(' + chart_scale_value + ')');

  var bbox_svg = svg_map.node().getBoundingClientRect();
  var width_map = +bbox_svg.width;
  var height_map = width_map * (1 / RATIO_WH_MAP);
  var map_scale_value = new_ratio / app.mapDrawRatio;
  svg_map.attr('height', height_map + 'px');
  svg_map.select('#layers').attr('transform', 'scale(' + map_scale_value + ')');
  svg_map.select('.brush_map').attr('transform', 'scale(' + map_scale_value + ')');
  d3.select('#svg_legend').attr('transform', 'scale(' + map_scale_value + ')');
};

exports.variables_info = variables_info;
exports.app = app;
exports.resetColors = resetColors;
exports.bindTopButtons = bindTopButtons;

}((this.App = this.App || {})));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy90aW5nbGUuanMvZGlzdC90aW5nbGUubWluLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2FsZXJ0aWZ5anMvYnVpbGQvYWxlcnRpZnkuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL29wdGlvbnMuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL2hlbHBlcnMuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL21lbnVsZWZ0LmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9tZW51dG9wLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3RpcHB5LmpzL2Rpc3QvdGlwcHkuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL3ByZXBhcmVfZGF0YS5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvbWFwLmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy90YWJsZVJlc3VtZVN0YXQuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL2NvbXBsZXR1ZGUuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL2NoYXJ0cy9iYXJDaGFydF8xdi5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvY29udGV4dE1lbnUuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL2NoYXJ0cy9zY2F0dGVyUGxvdF8ydi5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvY2hhcnRzL3JhZGFyQ2hhcnRfM3YuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL2NoYXJ0cy9zaW1pbGFyaXR5MXYuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbih0LG8pe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUobyk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9bygpOnQudGluZ2xlPW8oKX0odGhpcyxmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dmFyIG89e29uQ2xvc2U6bnVsbCxvbk9wZW46bnVsbCxiZWZvcmVPcGVuOm51bGwsYmVmb3JlQ2xvc2U6bnVsbCxzdGlja3lGb290ZXI6ITEsZm9vdGVyOiExLGNzc0NsYXNzOltdLGNsb3NlTGFiZWw6XCJDbG9zZVwiLGNsb3NlTWV0aG9kczpbXCJvdmVybGF5XCIsXCJidXR0b25cIixcImVzY2FwZVwiXX07dGhpcy5vcHRzPXIoe30sbyx0KSx0aGlzLmluaXQoKX1mdW5jdGlvbiBvKCl7dGhpcy5tb2RhbEJveEZvb3RlciYmKHRoaXMubW9kYWxCb3hGb290ZXIuc3R5bGUud2lkdGg9dGhpcy5tb2RhbEJveC5jbGllbnRXaWR0aCtcInB4XCIsdGhpcy5tb2RhbEJveEZvb3Rlci5zdHlsZS5sZWZ0PXRoaXMubW9kYWxCb3gub2Zmc2V0TGVmdCtcInB4XCIpfWZ1bmN0aW9uIGUoKXt0aGlzLm1vZGFsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5tb2RhbC5jbGFzc0xpc3QuYWRkKFwidGluZ2xlLW1vZGFsXCIpLDAhPT10aGlzLm9wdHMuY2xvc2VNZXRob2RzLmxlbmd0aCYmdGhpcy5vcHRzLmNsb3NlTWV0aG9kcy5pbmRleE9mKFwib3ZlcmxheVwiKSE9PS0xfHx0aGlzLm1vZGFsLmNsYXNzTGlzdC5hZGQoXCJ0aW5nbGUtbW9kYWwtLW5vT3ZlcmxheUNsb3NlXCIpLHRoaXMubW9kYWwuc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0aGlzLm9wdHMuY3NzQ2xhc3MuZm9yRWFjaChmdW5jdGlvbih0KXtcInN0cmluZ1wiPT10eXBlb2YgdCYmdGhpcy5tb2RhbC5jbGFzc0xpc3QuYWRkKHQpfSx0aGlzKSx0aGlzLm9wdHMuY2xvc2VNZXRob2RzLmluZGV4T2YoXCJidXR0b25cIikhPT0tMSYmKHRoaXMubW9kYWxDbG9zZUJ0bj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpLHRoaXMubW9kYWxDbG9zZUJ0bi5jbGFzc0xpc3QuYWRkKFwidGluZ2xlLW1vZGFsX19jbG9zZVwiKSx0aGlzLm1vZGFsQ2xvc2VCdG5JY29uPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpLHRoaXMubW9kYWxDbG9zZUJ0bkljb24uY2xhc3NMaXN0LmFkZChcInRpbmdsZS1tb2RhbF9fY2xvc2VJY29uXCIpLHRoaXMubW9kYWxDbG9zZUJ0bkljb24uaW5uZXJIVE1MPVwiw5dcIix0aGlzLm1vZGFsQ2xvc2VCdG5MYWJlbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSx0aGlzLm1vZGFsQ2xvc2VCdG5MYWJlbC5jbGFzc0xpc3QuYWRkKFwidGluZ2xlLW1vZGFsX19jbG9zZUxhYmVsXCIpLHRoaXMubW9kYWxDbG9zZUJ0bkxhYmVsLmlubmVySFRNTD10aGlzLm9wdHMuY2xvc2VMYWJlbCx0aGlzLm1vZGFsQ2xvc2VCdG4uYXBwZW5kQ2hpbGQodGhpcy5tb2RhbENsb3NlQnRuSWNvbiksdGhpcy5tb2RhbENsb3NlQnRuLmFwcGVuZENoaWxkKHRoaXMubW9kYWxDbG9zZUJ0bkxhYmVsKSksdGhpcy5tb2RhbEJveD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMubW9kYWxCb3guY2xhc3NMaXN0LmFkZChcInRpbmdsZS1tb2RhbC1ib3hcIiksdGhpcy5tb2RhbEJveENvbnRlbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLm1vZGFsQm94Q29udGVudC5jbGFzc0xpc3QuYWRkKFwidGluZ2xlLW1vZGFsLWJveF9fY29udGVudFwiKSx0aGlzLm1vZGFsQm94LmFwcGVuZENoaWxkKHRoaXMubW9kYWxCb3hDb250ZW50KSx0aGlzLm9wdHMuY2xvc2VNZXRob2RzLmluZGV4T2YoXCJidXR0b25cIikhPT0tMSYmdGhpcy5tb2RhbC5hcHBlbmRDaGlsZCh0aGlzLm1vZGFsQ2xvc2VCdG4pLHRoaXMubW9kYWwuYXBwZW5kQ2hpbGQodGhpcy5tb2RhbEJveCl9ZnVuY3Rpb24gcygpe3RoaXMubW9kYWxCb3hGb290ZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLm1vZGFsQm94Rm9vdGVyLmNsYXNzTGlzdC5hZGQoXCJ0aW5nbGUtbW9kYWwtYm94X19mb290ZXJcIiksdGhpcy5tb2RhbEJveC5hcHBlbmRDaGlsZCh0aGlzLm1vZGFsQm94Rm9vdGVyKX1mdW5jdGlvbiBpKCl7dGhpcy5fZXZlbnRzPXtjbGlja0Nsb3NlQnRuOnRoaXMuY2xvc2UuYmluZCh0aGlzKSxjbGlja092ZXJsYXk6bC5iaW5kKHRoaXMpLHJlc2l6ZTp0aGlzLmNoZWNrT3ZlcmZsb3cuYmluZCh0aGlzKSxrZXlib2FyZE5hdjpuLmJpbmQodGhpcyl9LHRoaXMub3B0cy5jbG9zZU1ldGhvZHMuaW5kZXhPZihcImJ1dHRvblwiKSE9PS0xJiZ0aGlzLm1vZGFsQ2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5fZXZlbnRzLmNsaWNrQ2xvc2VCdG4pLHRoaXMubW9kYWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMuX2V2ZW50cy5jbGlja092ZXJsYXkpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsdGhpcy5fZXZlbnRzLnJlc2l6ZSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix0aGlzLl9ldmVudHMua2V5Ym9hcmROYXYpfWZ1bmN0aW9uIG4odCl7dGhpcy5vcHRzLmNsb3NlTWV0aG9kcy5pbmRleE9mKFwiZXNjYXBlXCIpIT09LTEmJjI3PT09dC53aGljaCYmdGhpcy5pc09wZW4oKSYmdGhpcy5jbG9zZSgpfWZ1bmN0aW9uIGwodCl7dGhpcy5vcHRzLmNsb3NlTWV0aG9kcy5pbmRleE9mKFwib3ZlcmxheVwiKSE9PS0xJiYhZCh0LnRhcmdldCxcInRpbmdsZS1tb2RhbFwiKSYmdC5jbGllbnRYPHRoaXMubW9kYWwuY2xpZW50V2lkdGgmJnRoaXMuY2xvc2UoKX1mdW5jdGlvbiBkKHQsbyl7Zm9yKDsodD10LnBhcmVudEVsZW1lbnQpJiYhdC5jbGFzc0xpc3QuY29udGFpbnMobyk7KTtyZXR1cm4gdH1mdW5jdGlvbiBhKCl7dGhpcy5vcHRzLmNsb3NlTWV0aG9kcy5pbmRleE9mKFwiYnV0dG9uXCIpIT09LTEmJnRoaXMubW9kYWxDbG9zZUJ0bi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLl9ldmVudHMuY2xpY2tDbG9zZUJ0biksdGhpcy5tb2RhbC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsdGhpcy5fZXZlbnRzLmNsaWNrT3ZlcmxheSksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLl9ldmVudHMucmVzaXplKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLHRoaXMuX2V2ZW50cy5rZXlib2FyZE5hdil9ZnVuY3Rpb24gcigpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZm9yKHZhciBvIGluIGFyZ3VtZW50c1t0XSlhcmd1bWVudHNbdF0uaGFzT3duUHJvcGVydHkobykmJihhcmd1bWVudHNbMF1bb109YXJndW1lbnRzW3RdW29dKTtyZXR1cm4gYXJndW1lbnRzWzBdfWZ1bmN0aW9uIGgoKXt2YXIgdCxvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0aW5nbGUtdGVzdC10cmFuc2l0aW9uXCIpLGU9e3RyYW5zaXRpb246XCJ0cmFuc2l0aW9uZW5kXCIsT1RyYW5zaXRpb246XCJvVHJhbnNpdGlvbkVuZFwiLE1velRyYW5zaXRpb246XCJ0cmFuc2l0aW9uZW5kXCIsV2Via2l0VHJhbnNpdGlvbjpcIndlYmtpdFRyYW5zaXRpb25FbmRcIn07Zm9yKHQgaW4gZSlpZih2b2lkIDAhPT1vLnN0eWxlW3RdKXJldHVybiBlW3RdfXZhciBjPWgoKTtyZXR1cm4gdC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3RoaXMubW9kYWx8fChlLmNhbGwodGhpcyksaS5jYWxsKHRoaXMpLGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKHRoaXMubW9kYWwsZG9jdW1lbnQuYm9keS5maXJzdENoaWxkKSx0aGlzLm9wdHMuZm9vdGVyJiZ0aGlzLmFkZEZvb3RlcigpKX0sdC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe251bGwhPT10aGlzLm1vZGFsJiYoYS5jYWxsKHRoaXMpLHRoaXMubW9kYWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLm1vZGFsKSx0aGlzLm1vZGFsPW51bGwpfSx0LnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztcImZ1bmN0aW9uXCI9PXR5cGVvZiB0Lm9wdHMuYmVmb3JlT3BlbiYmdC5vcHRzLmJlZm9yZU9wZW4oKSx0aGlzLm1vZGFsLnN0eWxlLnJlbW92ZVByb3BlcnR5P3RoaXMubW9kYWwuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJkaXNwbGF5XCIpOnRoaXMubW9kYWwuc3R5bGUucmVtb3ZlQXR0cmlidXRlKFwiZGlzcGxheVwiKSxkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoXCJ0aW5nbGUtZW5hYmxlZFwiKSx0aGlzLnNldFN0aWNreUZvb3Rlcih0aGlzLm9wdHMuc3RpY2t5Rm9vdGVyKSx0aGlzLm1vZGFsLmNsYXNzTGlzdC5hZGQoXCJ0aW5nbGUtbW9kYWwtLXZpc2libGVcIiksYz90aGlzLm1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoYyxmdW5jdGlvbiBvKCl7XCJmdW5jdGlvblwiPT10eXBlb2YgdC5vcHRzLm9uT3BlbiYmdC5vcHRzLm9uT3Blbi5jYWxsKHQpLHQubW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihjLG8sITEpfSwhMSk6XCJmdW5jdGlvblwiPT10eXBlb2YgdC5vcHRzLm9uT3BlbiYmdC5vcHRzLm9uT3Blbi5jYWxsKHQpLHRoaXMuY2hlY2tPdmVyZmxvdygpfSx0LnByb3RvdHlwZS5pc09wZW49ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMubW9kYWwuY2xhc3NMaXN0LmNvbnRhaW5zKFwidGluZ2xlLW1vZGFsLS12aXNpYmxlXCIpfSx0LnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMub3B0cy5iZWZvcmVDbG9zZSl7dmFyIHQ9dGhpcy5vcHRzLmJlZm9yZUNsb3NlLmNhbGwodGhpcyk7aWYoIXQpcmV0dXJufWRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShcInRpbmdsZS1lbmFibGVkXCIpLHRoaXMubW9kYWwuY2xhc3NMaXN0LnJlbW92ZShcInRpbmdsZS1tb2RhbC0tdmlzaWJsZVwiKTt2YXIgbz10aGlzO2M/dGhpcy5tb2RhbC5hZGRFdmVudExpc3RlbmVyKGMsZnVuY3Rpb24gdCgpe28ubW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihjLHQsITEpLG8ubW9kYWwuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixcImZ1bmN0aW9uXCI9PXR5cGVvZiBvLm9wdHMub25DbG9zZSYmby5vcHRzLm9uQ2xvc2UuY2FsbCh0aGlzKX0sITEpOihvLm1vZGFsLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsXCJmdW5jdGlvblwiPT10eXBlb2Ygby5vcHRzLm9uQ2xvc2UmJm8ub3B0cy5vbkNsb3NlLmNhbGwodGhpcykpfSx0LnByb3RvdHlwZS5zZXRDb250ZW50PWZ1bmN0aW9uKHQpe1wic3RyaW5nXCI9PXR5cGVvZiB0P3RoaXMubW9kYWxCb3hDb250ZW50LmlubmVySFRNTD10Oih0aGlzLm1vZGFsQm94Q29udGVudC5pbm5lckhUTUw9XCJcIix0aGlzLm1vZGFsQm94Q29udGVudC5hcHBlbmRDaGlsZCh0KSl9LHQucHJvdG90eXBlLmdldENvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb2RhbEJveENvbnRlbnR9LHQucHJvdG90eXBlLmFkZEZvb3Rlcj1mdW5jdGlvbigpe3MuY2FsbCh0aGlzKX0sdC5wcm90b3R5cGUuc2V0Rm9vdGVyQ29udGVudD1mdW5jdGlvbih0KXt0aGlzLm1vZGFsQm94Rm9vdGVyLmlubmVySFRNTD10fSx0LnByb3RvdHlwZS5nZXRGb290ZXJDb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW9kYWxCb3hGb290ZXJ9LHQucHJvdG90eXBlLnNldFN0aWNreUZvb3Rlcj1mdW5jdGlvbih0KXt0aGlzLmlzT3ZlcmZsb3coKXx8KHQ9ITEpLHQ/dGhpcy5tb2RhbEJveC5jb250YWlucyh0aGlzLm1vZGFsQm94Rm9vdGVyKSYmKHRoaXMubW9kYWxCb3gucmVtb3ZlQ2hpbGQodGhpcy5tb2RhbEJveEZvb3RlciksdGhpcy5tb2RhbC5hcHBlbmRDaGlsZCh0aGlzLm1vZGFsQm94Rm9vdGVyKSx0aGlzLm1vZGFsQm94Rm9vdGVyLmNsYXNzTGlzdC5hZGQoXCJ0aW5nbGUtbW9kYWwtYm94X19mb290ZXItLXN0aWNreVwiKSxvLmNhbGwodGhpcyksdGhpcy5tb2RhbEJveENvbnRlbnQuc3R5bGVbXCJwYWRkaW5nLWJvdHRvbVwiXT10aGlzLm1vZGFsQm94Rm9vdGVyLmNsaWVudEhlaWdodCsyMCtcInB4XCIpOnRoaXMubW9kYWxCb3hGb290ZXImJih0aGlzLm1vZGFsQm94LmNvbnRhaW5zKHRoaXMubW9kYWxCb3hGb290ZXIpfHwodGhpcy5tb2RhbC5yZW1vdmVDaGlsZCh0aGlzLm1vZGFsQm94Rm9vdGVyKSx0aGlzLm1vZGFsQm94LmFwcGVuZENoaWxkKHRoaXMubW9kYWxCb3hGb290ZXIpLHRoaXMubW9kYWxCb3hGb290ZXIuc3R5bGUud2lkdGg9XCJhdXRvXCIsdGhpcy5tb2RhbEJveEZvb3Rlci5zdHlsZS5sZWZ0PVwiXCIsdGhpcy5tb2RhbEJveENvbnRlbnQuc3R5bGVbXCJwYWRkaW5nLWJvdHRvbVwiXT1cIlwiLHRoaXMubW9kYWxCb3hGb290ZXIuY2xhc3NMaXN0LnJlbW92ZShcInRpbmdsZS1tb2RhbC1ib3hfX2Zvb3Rlci0tc3RpY2t5XCIpKSl9LHQucHJvdG90eXBlLmFkZEZvb3RlckJ0bj1mdW5jdGlvbih0LG8sZSl7dmFyIHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtyZXR1cm4gcy5pbm5lckhUTUw9dCxzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGUpLFwic3RyaW5nXCI9PXR5cGVvZiBvJiZvLmxlbmd0aCYmby5zcGxpdChcIiBcIikuZm9yRWFjaChmdW5jdGlvbih0KXtzLmNsYXNzTGlzdC5hZGQodCl9KSx0aGlzLm1vZGFsQm94Rm9vdGVyLmFwcGVuZENoaWxkKHMpLHN9LHQucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlJlc2l6ZSBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdmVyc2lvbiAxLjBcIil9LHQucHJvdG90eXBlLmlzT3ZlcmZsb3c9ZnVuY3Rpb24oKXt2YXIgdD13aW5kb3cuaW5uZXJIZWlnaHQsbz10aGlzLm1vZGFsQm94LmNsaWVudEhlaWdodDtyZXR1cm4gbz49dH0sdC5wcm90b3R5cGUuY2hlY2tPdmVyZmxvdz1mdW5jdGlvbigpe3RoaXMubW9kYWwuY2xhc3NMaXN0LmNvbnRhaW5zKFwidGluZ2xlLW1vZGFsLS12aXNpYmxlXCIpJiYodGhpcy5pc092ZXJmbG93KCk/dGhpcy5tb2RhbC5jbGFzc0xpc3QuYWRkKFwidGluZ2xlLW1vZGFsLS1vdmVyZmxvd1wiKTp0aGlzLm1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXCJ0aW5nbGUtbW9kYWwtLW92ZXJmbG93XCIpLCF0aGlzLmlzT3ZlcmZsb3coKSYmdGhpcy5vcHRzLnN0aWNreUZvb3Rlcj90aGlzLnNldFN0aWNreUZvb3RlcighMSk6dGhpcy5pc092ZXJmbG93KCkmJnRoaXMub3B0cy5zdGlja3lGb290ZXImJihvLmNhbGwodGhpcyksdGhpcy5zZXRTdGlja3lGb290ZXIoITApKSl9LHttb2RhbDp0fX0pOyIsIi8qKlxyXG4gKiBhbGVydGlmeWpzIDEuMTEuMCBodHRwOi8vYWxlcnRpZnlqcy5jb21cclxuICogQWxlcnRpZnlKUyBpcyBhIGphdmFzY3JpcHQgZnJhbWV3b3JrIGZvciBkZXZlbG9waW5nIHByZXR0eSBicm93c2VyIGRpYWxvZ3MgYW5kIG5vdGlmaWNhdGlvbnMuXHJcbiAqIENvcHlyaWdodCAyMDE3IE1vaGFtbWFkIFlvdW5lcyA8TW9oYW1tYWRAYWxlcnRpZnlqcy5jb20+IChodHRwOi8vYWxlcnRpZnlqcy5jb20pIFxyXG4gKiBMaWNlbnNlZCB1bmRlciBHUEwgMyA8aHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9ncGwtMy4wPiovXHJcbiggZnVuY3Rpb24gKCB3aW5kb3cgKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogS2V5cyBlbnVtXHJcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICB2YXIga2V5cyA9IHtcclxuICAgICAgICBFTlRFUjogMTMsXHJcbiAgICAgICAgRVNDOiAyNyxcclxuICAgICAgICBGMTogMTEyLFxyXG4gICAgICAgIEYxMjogMTIzLFxyXG4gICAgICAgIExFRlQ6IDM3LFxyXG4gICAgICAgIFJJR0hUOiAzOVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRGVmYXVsdCBvcHRpb25zIFxyXG4gICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgdmFyIGRlZmF1bHRzID0ge1xyXG4gICAgICAgIGF1dG9SZXNldDp0cnVlLFxyXG4gICAgICAgIGJhc2ljOmZhbHNlLFxyXG4gICAgICAgIGNsb3NhYmxlOnRydWUsXHJcbiAgICAgICAgY2xvc2FibGVCeURpbW1lcjp0cnVlLFxyXG4gICAgICAgIGZyYW1lbGVzczpmYWxzZSxcclxuICAgICAgICBtYWludGFpbkZvY3VzOnRydWUsIC8vZ2xvYmFsIGRlZmF1bHQgbm90IHBlciBpbnN0YW5jZSwgYXBwbGllcyB0byBhbGwgZGlhbG9nc1xyXG4gICAgICAgIG1heGltaXphYmxlOnRydWUsXHJcbiAgICAgICAgbW9kYWw6dHJ1ZSxcclxuICAgICAgICBtb3ZhYmxlOnRydWUsXHJcbiAgICAgICAgbW92ZUJvdW5kZWQ6ZmFsc2UsXHJcbiAgICAgICAgb3ZlcmZsb3c6dHJ1ZSxcclxuICAgICAgICBwYWRkaW5nOiB0cnVlLFxyXG4gICAgICAgIHBpbm5hYmxlOnRydWUsXHJcbiAgICAgICAgcGlubmVkOnRydWUsXHJcbiAgICAgICAgcHJldmVudEJvZHlTaGlmdDpmYWxzZSwgLy9nbG9iYWwgZGVmYXVsdCBub3QgcGVyIGluc3RhbmNlLCBhcHBsaWVzIHRvIGFsbCBkaWFsb2dzXHJcbiAgICAgICAgcmVzaXphYmxlOnRydWUsXHJcbiAgICAgICAgc3RhcnRNYXhpbWl6ZWQ6ZmFsc2UsXHJcbiAgICAgICAgdHJhbnNpdGlvbjoncHVsc2UnLFxyXG4gICAgICAgIG5vdGlmaWVyOntcclxuICAgICAgICAgICAgZGVsYXk6NSxcclxuICAgICAgICAgICAgcG9zaXRpb246J2JvdHRvbS1yaWdodCcsXHJcbiAgICAgICAgICAgIGNsb3NlQnV0dG9uOmZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICBnbG9zc2FyeTp7XHJcbiAgICAgICAgICAgIHRpdGxlOidBbGVydGlmeUpTJyxcclxuICAgICAgICAgICAgb2s6ICdPSycsXHJcbiAgICAgICAgICAgIGNhbmNlbDogJ0NhbmNlbCcsXHJcbiAgICAgICAgICAgIGFjY2NwdDogJ0FjY2VwdCcsXHJcbiAgICAgICAgICAgIGRlbnk6ICdEZW55JyxcclxuICAgICAgICAgICAgY29uZmlybTogJ0NvbmZpcm0nLFxyXG4gICAgICAgICAgICBkZWNsaW5lOiAnRGVjbGluZScsXHJcbiAgICAgICAgICAgIGNsb3NlOiAnQ2xvc2UnLFxyXG4gICAgICAgICAgICBtYXhpbWl6ZTogJ01heGltaXplJyxcclxuICAgICAgICAgICAgcmVzdG9yZTogJ1Jlc3RvcmUnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdGhlbWU6e1xyXG4gICAgICAgICAgICBpbnB1dDonYWpzLWlucHV0JyxcclxuICAgICAgICAgICAgb2s6J2Fqcy1vaycsXHJcbiAgICAgICAgICAgIGNhbmNlbDonYWpzLWNhbmNlbCcsXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy9ob2xkcyBvcGVuIGRpYWxvZ3MgaW5zdGFuY2VzXHJcbiAgICB2YXIgb3BlbkRpYWxvZ3MgPSBbXTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFtIZWxwZXJdICBBZGRzIHRoZSBzcGVjaWZpZWQgY2xhc3MoZXMpIHRvIHRoZSBlbGVtZW50LlxyXG4gICAgICpcclxuICAgICAqIEBlbGVtZW50IHtub2RlfSAgICAgIFRoZSBlbGVtZW50XHJcbiAgICAgKiBAY2xhc3NOYW1lIHtzdHJpbmd9ICBPbmUgb3IgbW9yZSBzcGFjZS1zZXBhcmF0ZWQgY2xhc3NlcyB0byBiZSBhZGRlZCB0byB0aGUgY2xhc3MgYXR0cmlidXRlIG9mIHRoZSBlbGVtZW50LlxyXG4gICAgICogXHJcbiAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGFkZENsYXNzKGVsZW1lbnQsY2xhc3NOYW1lcyl7XHJcbiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgKz0gJyAnICsgY2xhc3NOYW1lcztcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBbSGVscGVyXSAgUmVtb3ZlcyB0aGUgc3BlY2lmaWVkIGNsYXNzKGVzKSBmcm9tIHRoZSBlbGVtZW50LlxyXG4gICAgICpcclxuICAgICAqIEBlbGVtZW50IHtub2RlfSAgICAgIFRoZSBlbGVtZW50XHJcbiAgICAgKiBAY2xhc3NOYW1lIHtzdHJpbmd9ICBPbmUgb3IgbW9yZSBzcGFjZS1zZXBhcmF0ZWQgY2xhc3NlcyB0byBiZSByZW1vdmVkIGZyb20gdGhlIGNsYXNzIGF0dHJpYnV0ZSBvZiB0aGUgZWxlbWVudC5cclxuICAgICAqIFxyXG4gICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiByZW1vdmVDbGFzcyhlbGVtZW50LCBjbGFzc05hbWVzKSB7XHJcbiAgICAgICAgdmFyIG9yaWdpbmFsID0gZWxlbWVudC5jbGFzc05hbWUuc3BsaXQoJyAnKTtcclxuICAgICAgICB2YXIgdG9CZVJlbW92ZWQgPSBjbGFzc05hbWVzLnNwbGl0KCcgJyk7XHJcbiAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB0b0JlUmVtb3ZlZC5sZW5ndGg7IHggKz0gMSkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBvcmlnaW5hbC5pbmRleE9mKHRvQmVSZW1vdmVkW3hdKTtcclxuICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpe1xyXG4gICAgICAgICAgICAgICAgb3JpZ2luYWwuc3BsaWNlKGluZGV4LDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gb3JpZ2luYWwuam9pbignICcpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogW0hlbHBlcl0gIENoZWNrcyBpZiB0aGUgZG9jdW1lbnQgaXMgUlRMXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgZG9jdW1lbnQgaXMgUlRMLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGlzUmlnaHRUb0xlZnQoKXtcclxuICAgICAgICByZXR1cm4gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuYm9keSkuZGlyZWN0aW9uID09PSAncnRsJztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogW0hlbHBlcl0gIEdldCB0aGUgZG9jdW1lbnQgY3VycmVudCBzY3JvbGxUb3BcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGN1cnJlbnQgZG9jdW1lbnQgc2Nyb2xsVG9wIHZhbHVlXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGdldFNjcm9sbFRvcCgpe1xyXG4gICAgICAgIHJldHVybiAoKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKSB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBbSGVscGVyXSAgR2V0IHRoZSBkb2N1bWVudCBjdXJyZW50IHNjcm9sbExlZnRcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGN1cnJlbnQgZG9jdW1lbnQgc2Nyb2xsTGVmdCB2YWx1ZVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRTY3JvbGxMZWZ0KCl7XHJcbiAgICAgICAgcmV0dXJuICgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0KSB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBIZWxwZXI6IGNsZWFyIGNvbnRlbnRzXHJcbiAgICAqXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gY2xlYXJDb250ZW50cyhlbGVtZW50KXtcclxuICAgICAgICB3aGlsZSAoZWxlbWVudC5sYXN0Q2hpbGQpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVDaGlsZChlbGVtZW50Lmxhc3RDaGlsZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBFeHRlbmRzIGEgZ2l2ZW4gcHJvdG90eXBlIGJ5IG1lcmdpbmcgcHJvcGVydGllcyBmcm9tIGJhc2UgaW50byBzdWIuXHJcbiAgICAgKlxyXG4gICAgICogQHN1YiB7T2JqZWN0fSBzdWIgVGhlIHByb3RvdHlwZSBiZWluZyBvdmVyd3JpdHRlbi5cclxuICAgICAqIEBiYXNlIHtPYmplY3R9IGJhc2UgVGhlIHByb3RvdHlwZSBiZWluZyB3cml0dGVuLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGV4dGVuZGVkIHByb3RvdHlwZS5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gY29weShzcmMpIHtcclxuICAgICAgICBpZihudWxsID09PSBzcmMpe1xyXG4gICAgICAgICAgICByZXR1cm4gc3JjO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgY3B5O1xyXG4gICAgICAgIGlmKEFycmF5LmlzQXJyYXkoc3JjKSl7XHJcbiAgICAgICAgICAgIGNweSA9IFtdO1xyXG4gICAgICAgICAgICBmb3IodmFyIHg9MDt4PHNyYy5sZW5ndGg7eCs9MSl7XHJcbiAgICAgICAgICAgICAgICBjcHkucHVzaChjb3B5KHNyY1t4XSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjcHk7XHJcbiAgICAgICAgfVxyXG4gICAgICBcclxuICAgICAgICBpZihzcmMgaW5zdGFuY2VvZiBEYXRlKXtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHNyYy5nZXRUaW1lKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgXHJcbiAgICAgICAgaWYoc3JjIGluc3RhbmNlb2YgUmVnRXhwKXtcclxuICAgICAgICAgICAgY3B5ID0gbmV3IFJlZ0V4cChzcmMuc291cmNlKTtcclxuICAgICAgICAgICAgY3B5Lmdsb2JhbCA9IHNyYy5nbG9iYWw7XHJcbiAgICAgICAgICAgIGNweS5pZ25vcmVDYXNlID0gc3JjLmlnbm9yZUNhc2U7XHJcbiAgICAgICAgICAgIGNweS5tdWx0aWxpbmUgPSBzcmMubXVsdGlsaW5lO1xyXG4gICAgICAgICAgICBjcHkubGFzdEluZGV4ID0gc3JjLmxhc3RJbmRleDtcclxuICAgICAgICAgICAgcmV0dXJuIGNweTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYodHlwZW9mIHNyYyA9PT0gJ29iamVjdCcpe1xyXG4gICAgICAgICAgICBjcHkgPSB7fTtcclxuICAgICAgICAgICAgLy8gY29weSBkaWFsb2cgcG90b3R5cGUgb3ZlciBkZWZpbml0aW9uLlxyXG4gICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHNyYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNyYy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNweVtwcm9wXSA9IGNvcHkoc3JjW3Byb3BdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY3B5O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3JjO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgICogSGVscGVyOiBkZXN0cnVjdCB0aGUgZGlhbG9nXHJcbiAgICAgICpcclxuICAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGRlc3RydWN0KGluc3RhbmNlLCBpbml0aWFsaXplKXtcclxuICAgICAgICAvL2RlbGV0ZSB0aGUgZG9tIGFuZCBpdCdzIHJlZmVyZW5jZXMuXHJcbiAgICAgICAgdmFyIHJvb3QgPSBpbnN0YW5jZS5lbGVtZW50cy5yb290O1xyXG4gICAgICAgIHJvb3QucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyb290KTtcclxuICAgICAgICBkZWxldGUgaW5zdGFuY2UuZWxlbWVudHM7XHJcbiAgICAgICAgLy9jb3B5IGJhY2sgaW5pdGlhbCBzZXR0aW5ncy5cclxuICAgICAgICBpbnN0YW5jZS5zZXR0aW5ncyA9IGNvcHkoaW5zdGFuY2UuX19zZXR0aW5ncyk7XHJcbiAgICAgICAgLy9yZS1yZWZlcmVuY2UgaW5pdCBmdW5jdGlvbi5cclxuICAgICAgICBpbnN0YW5jZS5fX2luaXQgPSBpbml0aWFsaXplO1xyXG4gICAgICAgIC8vZGVsZXRlIF9faW50ZXJuYWwgdmFyaWFibGUgdG8gYWxsb3cgcmUtaW5pdGlhbGl6YXRpb24uXHJcbiAgICAgICAgZGVsZXRlIGluc3RhbmNlLl9faW50ZXJuYWw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVc2UgYSBjbG9zdXJlIHRvIHJldHVybiBwcm9wZXIgZXZlbnQgbGlzdGVuZXIgbWV0aG9kLiBUcnkgdG8gdXNlXHJcbiAgICAgKiBgYWRkRXZlbnRMaXN0ZW5lcmAgYnkgZGVmYXVsdCBidXQgZmFsbGJhY2sgdG8gYGF0dGFjaEV2ZW50YCBmb3JcclxuICAgICAqIHVuc3VwcG9ydGVkIGJyb3dzZXIuIFRoZSBjbG9zdXJlIHNpbXBseSBlbnN1cmVzIHRoYXQgdGhlIHRlc3QgZG9lc24ndFxyXG4gICAgICogaGFwcGVuIGV2ZXJ5IHRpbWUgdGhlIG1ldGhvZCBpcyBjYWxsZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICAgIHtOb2RlfSAgICAgZWwgICAgTm9kZSBlbGVtZW50XHJcbiAgICAgKiBAcGFyYW0gICAge1N0cmluZ30gICBldmVudCBFdmVudCB0eXBlXHJcbiAgICAgKiBAcGFyYW0gICAge0Z1bmN0aW9ufSBmbiAgICBDYWxsYmFjayBvZiBldmVudFxyXG4gICAgICogQHJldHVybiAgIHtGdW5jdGlvbn1cclxuICAgICAqL1xyXG4gICAgdmFyIG9uID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcikge1xyXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGVsLCBldmVudCwgZm4sIHVzZUNhcHR1cmUpIHtcclxuICAgICAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGZuLCB1c2VDYXB0dXJlID09PSB0cnVlKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmF0dGFjaEV2ZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoZWwsIGV2ZW50LCBmbikge1xyXG4gICAgICAgICAgICAgICAgZWwuYXR0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBmbik7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfSgpKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFVzZSBhIGNsb3N1cmUgdG8gcmV0dXJuIHByb3BlciBldmVudCBsaXN0ZW5lciBtZXRob2QuIFRyeSB0byB1c2VcclxuICAgICAqIGByZW1vdmVFdmVudExpc3RlbmVyYCBieSBkZWZhdWx0IGJ1dCBmYWxsYmFjayB0byBgZGV0YWNoRXZlbnRgIGZvclxyXG4gICAgICogdW5zdXBwb3J0ZWQgYnJvd3Nlci4gVGhlIGNsb3N1cmUgc2ltcGx5IGVuc3VyZXMgdGhhdCB0aGUgdGVzdCBkb2Vzbid0XHJcbiAgICAgKiBoYXBwZW4gZXZlcnkgdGltZSB0aGUgbWV0aG9kIGlzIGNhbGxlZC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICAge05vZGV9ICAgICBlbCAgICBOb2RlIGVsZW1lbnRcclxuICAgICAqIEBwYXJhbSAgICB7U3RyaW5nfSAgIGV2ZW50IEV2ZW50IHR5cGVcclxuICAgICAqIEBwYXJhbSAgICB7RnVuY3Rpb259IGZuICAgIENhbGxiYWNrIG9mIGV2ZW50XHJcbiAgICAgKiBAcmV0dXJuICAge0Z1bmN0aW9ufVxyXG4gICAgICovXHJcbiAgICB2YXIgb2ZmID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xyXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGVsLCBldmVudCwgZm4sIHVzZUNhcHR1cmUpIHtcclxuICAgICAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGZuLCB1c2VDYXB0dXJlID09PSB0cnVlKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmRldGFjaEV2ZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoZWwsIGV2ZW50LCBmbikge1xyXG4gICAgICAgICAgICAgICAgZWwuZGV0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBmbik7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfSgpKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFByZXZlbnQgZGVmYXVsdCBldmVudCBmcm9tIGZpcmluZ1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAge0V2ZW50fSBldmVudCBFdmVudCBvYmplY3RcclxuICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuXHJcbiAgICBmdW5jdGlvbiBwcmV2ZW50ICggZXZlbnQgKSB7XHJcbiAgICAgICAgaWYgKCBldmVudCApIHtcclxuICAgICAgICAgICAgaWYgKCBldmVudC5wcmV2ZW50RGVmYXVsdCApIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBldmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgKi9cclxuICAgIHZhciB0cmFuc2l0aW9uID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdCwgdHlwZTtcclxuICAgICAgICB2YXIgc3VwcG9ydGVkID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIHRyYW5zaXRpb25zID0ge1xyXG4gICAgICAgICAgICAnYW5pbWF0aW9uJyAgICAgICAgOiAnYW5pbWF0aW9uZW5kJyxcclxuICAgICAgICAgICAgJ09BbmltYXRpb24nICAgICAgIDogJ29BbmltYXRpb25FbmQgb2FuaW1hdGlvbmVuZCcsXHJcbiAgICAgICAgICAgICdtc0FuaW1hdGlvbicgICAgICA6ICdNU0FuaW1hdGlvbkVuZCcsXHJcbiAgICAgICAgICAgICdNb3pBbmltYXRpb24nICAgICA6ICdhbmltYXRpb25lbmQnLFxyXG4gICAgICAgICAgICAnV2Via2l0QW5pbWF0aW9uJyAgOiAnd2Via2l0QW5pbWF0aW9uRW5kJ1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZvciAodCBpbiB0cmFuc2l0aW9ucykge1xyXG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlW3RdICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHR5cGUgPSB0cmFuc2l0aW9uc1t0XTtcclxuICAgICAgICAgICAgICAgIHN1cHBvcnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICAgICAgc3VwcG9ydGVkOiBzdXBwb3J0ZWRcclxuICAgICAgICB9O1xyXG4gICAgfSgpKTtcclxuXHJcbiAgICAvKipcclxuICAgICogQ3JlYXRlcyBldmVudCBoYW5kbGVyIGRlbGVnYXRlIHRoYXQgc2VuZHMgdGhlIGluc3RhbmNlIGFzIGxhc3QgYXJndW1lbnQuXHJcbiAgICAqIFxyXG4gICAgKiBAcmV0dXJuIHtGdW5jdGlvbn0gICAgYSBmdW5jdGlvbiB3cmFwcGVyIHdoaWNoIHNlbmRzIHRoZSBpbnN0YW5jZSBhcyBsYXN0IGFyZ3VtZW50LlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGRlbGVnYXRlKGNvbnRleHQsIG1ldGhvZCkge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgYXJndW1lbnRzLmxlbmd0aDsgeCArPSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKGFyZ3VtZW50c1t4XSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBhcmdzLnB1c2goY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbWV0aG9kLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkoY29udGV4dCwgW251bGwsIGNvbnRleHRdKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAqIEhlbHBlciBmb3IgY3JlYXRpbmcgYSBkaWFsb2cgY2xvc2UgZXZlbnQuXHJcbiAgICAqIFxyXG4gICAgKiBAcmV0dXJuIHtvYmplY3R9XHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gY3JlYXRlQ2xvc2VFdmVudChpbmRleCwgYnV0dG9uKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxyXG4gICAgICAgICAgICBidXR0b246IGJ1dHRvbixcclxuICAgICAgICAgICAgY2FuY2VsOiBmYWxzZVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICogSGVscGVyIGZvciBkaXNwYXRjaGluZyBldmVudHMuXHJcbiAgICAqXHJcbiAgICAqIEBwYXJhbSAge3N0cmluZ30gZXZlblR5cGUgVGhlIHR5cGUgb2YgdGhlIGV2ZW50IHRvIGRpc3B0YWNoLlxyXG4gICAgKiBAcGFyYW0gIHtvYmplY3R9IGluc3RhbmNlIFRoZSBkaWFsb2cgaW5zdGFuY2UgZGlzcHRhY2hpbmcgdGhlIGV2ZW50LlxyXG4gICAgKlxyXG4gICAgKiBAcmV0dXJuICAge2FueX0gICBUaGUgcmVzdWx0IG9mIHRoZSBpbnZva2VkIGZ1bmN0aW9uLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGRpc3BhdGNoRXZlbnQoZXZlbnRUeXBlLCBpbnN0YW5jZSkge1xyXG4gICAgICAgIGlmICggdHlwZW9mIGluc3RhbmNlLmdldChldmVudFR5cGUpID09PSAnZnVuY3Rpb24nICkge1xyXG4gICAgICAgICAgICByZXR1cm4gaW5zdGFuY2UuZ2V0KGV2ZW50VHlwZSkuY2FsbChpbnN0YW5jZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIFN1cGVyIGNsYXNzIGZvciBhbGwgZGlhbG9nc1xyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4ge09iamVjdH1cdFx0YmFzZSBkaWFsb2cgcHJvdG90eXBlXHJcbiAgICAgKi9cclxuICAgIHZhciBkaWFsb2cgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciAvL2hvbGRzIHRoZSBsaXN0IG9mIHVzZWQga2V5cy5cclxuICAgICAgICAgICAgdXNlZEtleXMgPSBbXSxcclxuICAgICAgICAgICAgLy9kdW1teSB2YXJpYWJsZSwgdXNlZCB0byB0cmlnZ2VyIGRvbSByZWZsb3cuXHJcbiAgICAgICAgICAgIHJlZmxvdyA9IG51bGwsXHJcbiAgICAgICAgICAgIC8vY29uZGl0aW9uIGZvciBkZXRlY3Rpbmcgc2FmYXJpXHJcbiAgICAgICAgICAgIGlzU2FmYXJpID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignU2FmYXJpJykgPiAtMSAmJiB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdDaHJvbWUnKSA8IDAsXHJcbiAgICAgICAgICAgIC8vZGlhbG9nIGJ1aWxkaW5nIGJsb2Nrc1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZXMgPSB7XHJcbiAgICAgICAgICAgICAgICBkaW1tZXI6JzxkaXYgY2xhc3M9XCJhanMtZGltbWVyXCI+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgIC8qdGFiIGluZGV4IHJlcXVpcmVkIHRvIGZpcmUgY2xpY2sgZXZlbnQgYmVmb3JlIGJvZHkgZm9jdXMqL1xyXG4gICAgICAgICAgICAgICAgbW9kYWw6ICc8ZGl2IGNsYXNzPVwiYWpzLW1vZGFsXCIgdGFiaW5kZXg9XCIwXCI+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgIGRpYWxvZzogJzxkaXYgY2xhc3M9XCJhanMtZGlhbG9nXCIgdGFiaW5kZXg9XCIwXCI+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgIHJlc2V0OiAnPGJ1dHRvbiBjbGFzcz1cImFqcy1yZXNldFwiPjwvYnV0dG9uPicsXHJcbiAgICAgICAgICAgICAgICBjb21tYW5kczogJzxkaXYgY2xhc3M9XCJhanMtY29tbWFuZHNcIj48YnV0dG9uIGNsYXNzPVwiYWpzLXBpblwiPjwvYnV0dG9uPjxidXR0b24gY2xhc3M9XCJhanMtbWF4aW1pemVcIj48L2J1dHRvbj48YnV0dG9uIGNsYXNzPVwiYWpzLWNsb3NlXCI+PC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgIGhlYWRlcjogJzxkaXYgY2xhc3M9XCJhanMtaGVhZGVyXCI+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgIGJvZHk6ICc8ZGl2IGNsYXNzPVwiYWpzLWJvZHlcIj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgY29udGVudDogJzxkaXYgY2xhc3M9XCJhanMtY29udGVudFwiPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICBmb290ZXI6ICc8ZGl2IGNsYXNzPVwiYWpzLWZvb3RlclwiPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICBidXR0b25zOiB7IHByaW1hcnk6ICc8ZGl2IGNsYXNzPVwiYWpzLXByaW1hcnkgYWpzLWJ1dHRvbnNcIj48L2Rpdj4nLCBhdXhpbGlhcnk6ICc8ZGl2IGNsYXNzPVwiYWpzLWF1eGlsaWFyeSBhanMtYnV0dG9uc1wiPjwvZGl2PicgfSxcclxuICAgICAgICAgICAgICAgIGJ1dHRvbjogJzxidXR0b24gY2xhc3M9XCJhanMtYnV0dG9uXCI+PC9idXR0b24+JyxcclxuICAgICAgICAgICAgICAgIHJlc2l6ZUhhbmRsZTogJzxkaXYgY2xhc3M9XCJhanMtaGFuZGxlXCI+PC9kaXY+JyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLy9jb21tb24gY2xhc3MgbmFtZXNcclxuICAgICAgICAgICAgY2xhc3NlcyA9IHtcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbkluOiAnYWpzLWluJyxcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbk91dDogJ2Fqcy1vdXQnLFxyXG4gICAgICAgICAgICAgICAgYmFzZTogJ2FsZXJ0aWZ5JyxcclxuICAgICAgICAgICAgICAgIGJhc2ljOidhanMtYmFzaWMnLFxyXG4gICAgICAgICAgICAgICAgY2FwdHVyZTogJ2Fqcy1jYXB0dXJlJyxcclxuICAgICAgICAgICAgICAgIGNsb3NhYmxlOidhanMtY2xvc2FibGUnLFxyXG4gICAgICAgICAgICAgICAgZml4ZWQ6ICdhanMtZml4ZWQnLFxyXG4gICAgICAgICAgICAgICAgZnJhbWVsZXNzOidhanMtZnJhbWVsZXNzJyxcclxuICAgICAgICAgICAgICAgIGhpZGRlbjogJ2Fqcy1oaWRkZW4nLFxyXG4gICAgICAgICAgICAgICAgbWF4aW1pemU6ICdhanMtbWF4aW1pemUnLFxyXG4gICAgICAgICAgICAgICAgbWF4aW1pemVkOiAnYWpzLW1heGltaXplZCcsXHJcbiAgICAgICAgICAgICAgICBtYXhpbWl6YWJsZTonYWpzLW1heGltaXphYmxlJyxcclxuICAgICAgICAgICAgICAgIG1vZGVsZXNzOiAnYWpzLW1vZGVsZXNzJyxcclxuICAgICAgICAgICAgICAgIG1vdmFibGU6ICdhanMtbW92YWJsZScsXHJcbiAgICAgICAgICAgICAgICBub1NlbGVjdGlvbjogJ2Fqcy1uby1zZWxlY3Rpb24nLFxyXG4gICAgICAgICAgICAgICAgbm9PdmVyZmxvdzogJ2Fqcy1uby1vdmVyZmxvdycsXHJcbiAgICAgICAgICAgICAgICBub1BhZGRpbmc6J2Fqcy1uby1wYWRkaW5nJyxcclxuICAgICAgICAgICAgICAgIHBpbjonYWpzLXBpbicsXHJcbiAgICAgICAgICAgICAgICBwaW5uYWJsZTonYWpzLXBpbm5hYmxlJyxcclxuICAgICAgICAgICAgICAgIHByZWZpeDogJ2Fqcy0nLFxyXG4gICAgICAgICAgICAgICAgcmVzaXphYmxlOiAnYWpzLXJlc2l6YWJsZScsXHJcbiAgICAgICAgICAgICAgICByZXN0b3JlOiAnYWpzLXJlc3RvcmUnLFxyXG4gICAgICAgICAgICAgICAgc2hha2U6J2Fqcy1zaGFrZScsXHJcbiAgICAgICAgICAgICAgICB1bnBpbm5lZDonYWpzLXVucGlubmVkJyxcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSGVscGVyOiBpbml0aWFsaXplcyB0aGUgZGlhbG9nIGluc3RhbmNlXHJcbiAgICAgICAgICogXHJcbiAgICAgICAgICogQHJldHVyblx0e051bWJlcn1cdFRoZSB0b3RhbCBjb3VudCBvZiBjdXJyZW50bHkgb3BlbiBtb2RhbHMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZShpbnN0YW5jZSl7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZighaW5zdGFuY2UuX19pbnRlcm5hbCl7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9ubyBuZWVkIHRvIGV4cG9zZSBpbml0IGFmdGVyIHRoaXMuXHJcbiAgICAgICAgICAgICAgICBkZWxldGUgaW5zdGFuY2UuX19pbml0O1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy9rZWVwIGEgY29weSBvZiBpbml0aWFsIGRpYWxvZyBzZXR0aW5nc1xyXG4gICAgICAgICAgICAgICAgaWYoIWluc3RhbmNlLl9fc2V0dGluZ3Mpe1xyXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLl9fc2V0dGluZ3MgPSBjb3B5KGluc3RhbmNlLnNldHRpbmdzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vaW4gY2FzZSB0aGUgc2NyaXB0IHdhcyBpbmNsdWRlZCBiZWZvcmUgYm9keS5cclxuICAgICAgICAgICAgICAgIC8vYWZ0ZXIgZmlyc3QgZGlhbG9nIGdldHMgaW5pdGlhbGl6ZWQsIGl0IHdvbid0IGJlIG51bGwgYW55bW9yZSFcclxuICAgICAgICAgICAgICAgIGlmKG51bGwgPT09IHJlZmxvdyl7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2V0IHRhYmluZGV4IGF0dHJpYnV0ZSBvbiBib2R5IGVsZW1lbnQgdGhpcyBhbGxvd3Mgc2NyaXB0IHRvIGdpdmUgaXRcclxuICAgICAgICAgICAgICAgICAgICAvLyBmb2N1cyBhZnRlciB0aGUgZGlhbG9nIGlzIGNsb3NlZFxyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc2V0QXR0cmlidXRlKCAndGFiaW5kZXgnLCAnMCcgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL2dldCBkaWFsb2cgYnV0dG9ucy9mb2N1cyBzZXR1cFxyXG4gICAgICAgICAgICAgICAgdmFyIHNldHVwO1xyXG4gICAgICAgICAgICAgICAgaWYodHlwZW9mIGluc3RhbmNlLnNldHVwID09PSAnZnVuY3Rpb24nKXtcclxuICAgICAgICAgICAgICAgICAgICBzZXR1cCA9IGluc3RhbmNlLnNldHVwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0dXAub3B0aW9ucyA9IHNldHVwLm9wdGlvbnMgIHx8IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIHNldHVwLmZvY3VzID0gc2V0dXAuZm9jdXMgIHx8IHt9O1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0dXAgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbnM6W10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzOntcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6bnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdDpmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOntcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vaW5pdGlhbGl6ZSBob29rcyBvYmplY3QuXHJcbiAgICAgICAgICAgICAgICBpZih0eXBlb2YgaW5zdGFuY2UuaG9va3MgIT09ICdvYmplY3QnKXtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5ob29rcyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vY29weSBidXR0b25zIGRlZmludGlvblxyXG4gICAgICAgICAgICAgICAgdmFyIGJ1dHRvbnNEZWZpbml0aW9uID0gW107XHJcbiAgICAgICAgICAgICAgICBpZihBcnJheS5pc0FycmF5KHNldHVwLmJ1dHRvbnMpKXtcclxuICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGI9MDtiPHNldHVwLmJ1dHRvbnMubGVuZ3RoO2IrPTEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVmICA9IHNldHVwLmJ1dHRvbnNbYl0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHkgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSBpbiByZWYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWYuaGFzT3duUHJvcGVydHkoaSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHlbaV0gPSByZWZbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uc0RlZmluaXRpb24ucHVzaChjcHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJuYWwgPSBpbnN0YW5jZS5fX2ludGVybmFsID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgICAgICAgICAqIEZsYWcgaG9sZGluZyB0aGUgb3BlbiBzdGF0ZSBvZiB0aGUgZGlhbG9nXHJcbiAgICAgICAgICAgICAgICAgICAgICogXHJcbiAgICAgICAgICAgICAgICAgICAgICogQHR5cGUge0Jvb2xlYW59XHJcbiAgICAgICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICAgICAgaXNPcGVuOmZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgICAgICAgICAqIEFjdGl2ZSBlbGVtZW50IGlzIHRoZSBlbGVtZW50IHRoYXQgd2lsbCByZWNlaXZlIGZvY3VzIGFmdGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICogY2xvc2luZyB0aGUgZGlhbG9nLiBJdCBkZWZhdWx0cyBhcyB0aGUgYm9keSB0YWcsIGJ1dCBnZXRzIHVwZGF0ZWRcclxuICAgICAgICAgICAgICAgICAgICAgKiB0byB0aGUgbGFzdCBmb2N1c2VkIGVsZW1lbnQgYmVmb3JlIHRoZSBkaWFsb2cgd2FzIG9wZW5lZC5cclxuICAgICAgICAgICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgICAgICAgICAqIEB0eXBlIHtOb2RlfVxyXG4gICAgICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUVsZW1lbnQ6ZG9jdW1lbnQuYm9keSxcclxuICAgICAgICAgICAgICAgICAgICB0aW1lckluOnVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICB0aW1lck91dDp1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uczogYnV0dG9uc0RlZmluaXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgZm9jdXM6IHNldHVwLmZvY3VzLFxyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWw6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFzaWM6dW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFtZWxlc3M6dW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwaW5uZWQ6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW92YWJsZTogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlQm91bmRlZDp1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2l6YWJsZTogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRvUmVzZXQ6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2FibGU6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2FibGVCeURpbW1lcjogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhpbWl6YWJsZTogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydE1heGltaXplZDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwaW5uYWJsZTogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6dW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdzp1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uc2hvdzp1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uY2xvc2luZzp1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uY2xvc2U6dW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmZvY3VzOnVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25tb3ZlOnVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25tb3ZlZDp1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ucmVzaXplOnVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25yZXNpemVkOnVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25tYXhpbWl6ZTp1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ubWF4aW1pemVkOnVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25yZXN0b3JlOnVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25yZXN0b3JlZDp1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc2V0SGFuZGxlcjp1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgYmVnaW5Nb3ZlSGFuZGxlcjp1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgYmVnaW5SZXNpemVIYW5kbGVyOnVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICBicmluZ1RvRnJvbnRIYW5kbGVyOnVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbENsaWNrSGFuZGxlcjp1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uc0NsaWNrSGFuZGxlcjp1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgY29tbWFuZHNDbGlja0hhbmRsZXI6dW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25JbkhhbmRsZXI6dW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25PdXRIYW5kbGVyOnVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICBkZXN0cm95OnVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudHMgPSB7fTtcclxuICAgICAgICAgICAgICAgIC8vcm9vdCBub2RlXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5yb290ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRzLnJvb3QuY2xhc3NOYW1lID0gY2xhc3Nlcy5iYXNlICsgJyAnICsgY2xhc3Nlcy5oaWRkZW4gKyAnICc7XHJcblxyXG4gICAgICAgICAgICAgICAgZWxlbWVudHMucm9vdC5pbm5lckhUTUwgPSB0ZW1wbGF0ZXMuZGltbWVyICsgdGVtcGxhdGVzLm1vZGFsO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvL2RpbW1lclxyXG4gICAgICAgICAgICAgICAgZWxlbWVudHMuZGltbWVyID0gZWxlbWVudHMucm9vdC5maXJzdENoaWxkO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vZGlhbG9nXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5tb2RhbCA9IGVsZW1lbnRzLnJvb3QubGFzdENoaWxkO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudHMubW9kYWwuaW5uZXJIVE1MID0gdGVtcGxhdGVzLmRpYWxvZztcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRzLmRpYWxvZyA9IGVsZW1lbnRzLm1vZGFsLmZpcnN0Q2hpbGQ7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5kaWFsb2cuaW5uZXJIVE1MID0gdGVtcGxhdGVzLnJlc2V0ICsgdGVtcGxhdGVzLmNvbW1hbmRzICsgdGVtcGxhdGVzLmhlYWRlciArIHRlbXBsYXRlcy5ib2R5ICsgdGVtcGxhdGVzLmZvb3RlciArIHRlbXBsYXRlcy5yZXNpemVIYW5kbGUgKyB0ZW1wbGF0ZXMucmVzZXQ7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9yZXNldCBsaW5rc1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudHMucmVzZXQgPSBbXTtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRzLnJlc2V0LnB1c2goZWxlbWVudHMuZGlhbG9nLmZpcnN0Q2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudHMucmVzZXQucHVzaChlbGVtZW50cy5kaWFsb2cubGFzdENoaWxkKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy9jb21tYW5kc1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudHMuY29tbWFuZHMgPSB7fTtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRzLmNvbW1hbmRzLmNvbnRhaW5lciA9IGVsZW1lbnRzLnJlc2V0WzBdLm5leHRTaWJsaW5nO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudHMuY29tbWFuZHMucGluID0gZWxlbWVudHMuY29tbWFuZHMuY29udGFpbmVyLmZpcnN0Q2hpbGQ7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5jb21tYW5kcy5tYXhpbWl6ZSA9IGVsZW1lbnRzLmNvbW1hbmRzLnBpbi5uZXh0U2libGluZztcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRzLmNvbW1hbmRzLmNsb3NlID0gZWxlbWVudHMuY29tbWFuZHMubWF4aW1pemUubmV4dFNpYmxpbmc7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vaGVhZGVyXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5oZWFkZXIgPSBlbGVtZW50cy5jb21tYW5kcy5jb250YWluZXIubmV4dFNpYmxpbmc7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9ib2R5XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5ib2R5ID0gZWxlbWVudHMuaGVhZGVyLm5leHRTaWJsaW5nO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudHMuYm9keS5pbm5lckhUTUwgPSB0ZW1wbGF0ZXMuY29udGVudDtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRzLmNvbnRlbnQgPSBlbGVtZW50cy5ib2R5LmZpcnN0Q2hpbGQ7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9mb290ZXJcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRzLmZvb3RlciA9IGVsZW1lbnRzLmJvZHkubmV4dFNpYmxpbmc7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5mb290ZXIuaW5uZXJIVE1MID0gdGVtcGxhdGVzLmJ1dHRvbnMuYXV4aWxpYXJ5ICsgdGVtcGxhdGVzLmJ1dHRvbnMucHJpbWFyeTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy9yZXNpemUgaGFuZGxlXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5yZXNpemVIYW5kbGUgPSBlbGVtZW50cy5mb290ZXIubmV4dFNpYmxpbmc7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9idXR0b25zXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5idXR0b25zID0ge307XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5idXR0b25zLmF1eGlsaWFyeSA9IGVsZW1lbnRzLmZvb3Rlci5maXJzdENoaWxkO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudHMuYnV0dG9ucy5wcmltYXJ5ID0gZWxlbWVudHMuYnV0dG9ucy5hdXhpbGlhcnkubmV4dFNpYmxpbmc7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5idXR0b25zLnByaW1hcnkuaW5uZXJIVE1MID0gdGVtcGxhdGVzLmJ1dHRvbjtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRzLmJ1dHRvblRlbXBsYXRlID0gZWxlbWVudHMuYnV0dG9ucy5wcmltYXJ5LmZpcnN0Q2hpbGQ7XHJcbiAgICAgICAgICAgICAgICAvL3JlbW92ZSBidXR0b24gdGVtcGxhdGVcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRzLmJ1dHRvbnMucHJpbWFyeS5yZW1vdmVDaGlsZChlbGVtZW50cy5idXR0b25UZW1wbGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGZvcih2YXIgeD0wOyB4IDwgaW5zdGFuY2UuX19pbnRlcm5hbC5idXR0b25zLmxlbmd0aDsgeCs9MSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBidXR0b24gPSBpbnN0YW5jZS5fX2ludGVybmFsLmJ1dHRvbnNbeF07XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIHRvIHRoZSBsaXN0IG9mIHVzZWQga2V5cy5cclxuICAgICAgICAgICAgICAgICAgICBpZih1c2VkS2V5cy5pbmRleE9mKGJ1dHRvbi5rZXkpIDwgMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZWRLZXlzLnB1c2goYnV0dG9uLmtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBidXR0b24uZWxlbWVudCA9IGVsZW1lbnRzLmJ1dHRvblRlbXBsYXRlLmNsb25lTm9kZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5lbGVtZW50LmlubmVySFRNTCA9IGJ1dHRvbi50ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBidXR0b24uY2xhc3NOYW1lID09PSAnc3RyaW5nJyAmJiAgYnV0dG9uLmNsYXNzTmFtZSAhPT0gJycpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcyhidXR0b24uZWxlbWVudCwgYnV0dG9uLmNsYXNzTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGZvcih2YXIga2V5IGluIGJ1dHRvbi5hdHRycyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGtleSAhPT0gJ2NsYXNzTmFtZScgJiYgYnV0dG9uLmF0dHJzLmhhc093blByb3BlcnR5KGtleSkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmVsZW1lbnQuc2V0QXR0cmlidXRlKGtleSwgYnV0dG9uLmF0dHJzW2tleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKGJ1dHRvbi5zY29wZSA9PT0gJ2F1eGlsaWFyeScpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50cy5idXR0b25zLmF1eGlsaWFyeS5hcHBlbmRDaGlsZChidXR0b24uZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzLmJ1dHRvbnMucHJpbWFyeS5hcHBlbmRDaGlsZChidXR0b24uZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy9tYWtlIGVsZW1lbnRzIHB1YmljXHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5lbGVtZW50cyA9IGVsZW1lbnRzO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvL3NhdmUgZXZlbnQgaGFuZGxlcnMgZGVsZWdhdGVzXHJcbiAgICAgICAgICAgICAgICBpbnRlcm5hbC5yZXNldEhhbmRsZXIgPSBkZWxlZ2F0ZShpbnN0YW5jZSwgb25SZXNldCk7XHJcbiAgICAgICAgICAgICAgICBpbnRlcm5hbC5iZWdpbk1vdmVIYW5kbGVyID0gZGVsZWdhdGUoaW5zdGFuY2UsIGJlZ2luTW92ZSk7XHJcbiAgICAgICAgICAgICAgICBpbnRlcm5hbC5iZWdpblJlc2l6ZUhhbmRsZXIgPSBkZWxlZ2F0ZShpbnN0YW5jZSwgYmVnaW5SZXNpemUpO1xyXG4gICAgICAgICAgICAgICAgaW50ZXJuYWwuYnJpbmdUb0Zyb250SGFuZGxlciA9IGRlbGVnYXRlKGluc3RhbmNlLCBicmluZ1RvRnJvbnQpO1xyXG4gICAgICAgICAgICAgICAgaW50ZXJuYWwubW9kYWxDbGlja0hhbmRsZXIgPSBkZWxlZ2F0ZShpbnN0YW5jZSwgbW9kYWxDbGlja0hhbmRsZXIpO1xyXG4gICAgICAgICAgICAgICAgaW50ZXJuYWwuYnV0dG9uc0NsaWNrSGFuZGxlciA9IGRlbGVnYXRlKGluc3RhbmNlLCBidXR0b25zQ2xpY2tIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgIGludGVybmFsLmNvbW1hbmRzQ2xpY2tIYW5kbGVyID0gZGVsZWdhdGUoaW5zdGFuY2UsIGNvbW1hbmRzQ2xpY2tIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgIGludGVybmFsLnRyYW5zaXRpb25JbkhhbmRsZXIgPSBkZWxlZ2F0ZShpbnN0YW5jZSwgaGFuZGxlVHJhbnNpdGlvbkluRXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgaW50ZXJuYWwudHJhbnNpdGlvbk91dEhhbmRsZXIgPSBkZWxlZ2F0ZShpbnN0YW5jZSwgaGFuZGxlVHJhbnNpdGlvbk91dEV2ZW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3NldHRpbmdzXHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIG9wS2V5IGluIGludGVybmFsLm9wdGlvbnMpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHNldHVwLm9wdGlvbnNbb3BLZXldICE9PSB1bmRlZmluZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBmb3VuZCBpbiB1c2VyIG9wdGlvbnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2Uuc2V0KG9wS2V5LCBzZXR1cC5vcHRpb25zW29wS2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoYWxlcnRpZnkuZGVmYXVsdHMuaGFzT3duUHJvcGVydHkob3BLZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVsc2UgaWYgZm91bmQgaW4gZGVmYXVsdHMgb3B0aW9uc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5zZXQob3BLZXksIGFsZXJ0aWZ5LmRlZmF1bHRzW29wS2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYob3BLZXkgPT09ICd0aXRsZScgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVsc2UgaWYgdGl0bGUga2V5LCB1c2UgYWxlcnRpZnkuZGVmYXVsdHMuZ2xvc3NhcnlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2Uuc2V0KG9wS2V5LCBhbGVydGlmeS5kZWZhdWx0cy5nbG9zc2FyeVtvcEtleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBhbGxvdyBkb20gY3VzdG9taXphdGlvblxyXG4gICAgICAgICAgICAgICAgaWYodHlwZW9mIGluc3RhbmNlLmJ1aWxkID09PSAnZnVuY3Rpb24nKXtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5idWlsZCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvL2FkZCB0byB0aGUgZW5kIG9mIHRoZSBET00gdHJlZS5cclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpbnN0YW5jZS5lbGVtZW50cy5yb290KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEhlbHBlcjogbWFpbnRhaW5zIHNjcm9sbCBwb3NpdGlvblxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdmFyIHNjcm9sbFgsIHNjcm9sbFk7XHJcbiAgICAgICAgZnVuY3Rpb24gc2F2ZVNjcm9sbFBvc2l0aW9uKCl7XHJcbiAgICAgICAgICAgIHNjcm9sbFggPSBnZXRTY3JvbGxMZWZ0KCk7XHJcbiAgICAgICAgICAgIHNjcm9sbFkgPSBnZXRTY3JvbGxUb3AoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVzdG9yZVNjcm9sbFBvc2l0aW9uKCl7XHJcbiAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbyhzY3JvbGxYLCBzY3JvbGxZKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEhlbHBlcjogYWRkcy9yZW1vdmVzIG5vLW92ZXJmbG93IGNsYXNzIGZyb20gYm9keVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gZW5zdXJlTm9PdmVyZmxvdygpe1xyXG4gICAgICAgICAgICB2YXIgcmVxdWlyZXNOb092ZXJmbG93ID0gMDtcclxuICAgICAgICAgICAgZm9yKHZhciB4PTA7eDxvcGVuRGlhbG9ncy5sZW5ndGg7eCs9MSl7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBvcGVuRGlhbG9nc1t4XTtcclxuICAgICAgICAgICAgICAgIGlmKGluc3RhbmNlLmlzTW9kYWwoKSB8fCBpbnN0YW5jZS5pc01heGltaXplZCgpKXtcclxuICAgICAgICAgICAgICAgICAgICByZXF1aXJlc05vT3ZlcmZsb3crPTE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYocmVxdWlyZXNOb092ZXJmbG93ID09PSAwICYmIGRvY3VtZW50LmJvZHkuY2xhc3NOYW1lLmluZGV4T2YoY2xhc3Nlcy5ub092ZXJmbG93KSA+PSAwKXtcclxuICAgICAgICAgICAgICAgIC8vbGFzdCBvcGVuIG1vZGFsIG9yIGxhc3QgbWF4aW1pemVkIG9uZVxyXG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoZG9jdW1lbnQuYm9keSwgY2xhc3Nlcy5ub092ZXJmbG93KTtcclxuICAgICAgICAgICAgICAgIHByZXZlbnRCb2R5U2hpZnQoZmFsc2UpO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZihyZXF1aXJlc05vT3ZlcmZsb3cgPiAwICYmIGRvY3VtZW50LmJvZHkuY2xhc3NOYW1lLmluZGV4T2YoY2xhc3Nlcy5ub092ZXJmbG93KSA8IDApe1xyXG4gICAgICAgICAgICAgICAgLy9maXJzdCBvcGVuIG1vZGFsIG9yIGZpcnN0IG1heGltaXplZCBvbmVcclxuICAgICAgICAgICAgICAgIHByZXZlbnRCb2R5U2hpZnQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhkb2N1bWVudC5ib2R5LCBjbGFzc2VzLm5vT3ZlcmZsb3cpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB0b3AgPSAnJywgdG9wU2Nyb2xsID0gMDtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBIZWxwZXI6IHByZXZlbnRzIGJvZHkgc2hpZnQuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBwcmV2ZW50Qm9keVNoaWZ0KGFkZCl7XHJcbiAgICAgICAgICAgIGlmKGFsZXJ0aWZ5LmRlZmF1bHRzLnByZXZlbnRCb2R5U2hpZnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCA+IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpe1xyXG4gICAgICAgICAgICAgICAgaWYoYWRkICl7Ly8mJiBvcGVuRGlhbG9nc1tvcGVuRGlhbG9ncy5sZW5ndGgtMV0uZWxlbWVudHMuZGlhbG9nLmNsaWVudEhlaWdodCA8PSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KXtcclxuICAgICAgICAgICAgICAgICAgICB0b3BTY3JvbGwgPSBzY3JvbGxZO1xyXG4gICAgICAgICAgICAgICAgICAgIHRvcCA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmJvZHkpLnRvcDtcclxuICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcyhkb2N1bWVudC5ib2R5LCBjbGFzc2VzLmZpeGVkKTtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnRvcCA9IC1zY3JvbGxZICsgJ3B4JztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsWSA9IHRvcFNjcm9sbDtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnRvcCA9IHRvcDtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhkb2N1bWVudC5ib2R5LCBjbGFzc2VzLmZpeGVkKTtcclxuICAgICAgICAgICAgICAgICAgICByZXN0b3JlU2Nyb2xsUG9zaXRpb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHRcdFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNldHMgdGhlIG5hbWUgb2YgdGhlIHRyYW5zaXRpb24gdXNlZCB0byBzaG93L2hpZGUgdGhlIGRpYWxvZ1xyXG4gICAgICAgICAqIFxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVUcmFuc2l0aW9uKGluc3RhbmNlLCB2YWx1ZSwgb2xkVmFsdWUpe1xyXG4gICAgICAgICAgICBpZih0eXBlb2Ygb2xkVmFsdWUgPT09ICdzdHJpbmcnKXtcclxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGluc3RhbmNlLmVsZW1lbnRzLnJvb3QsY2xhc3Nlcy5wcmVmaXggKyAgb2xkVmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFkZENsYXNzKGluc3RhbmNlLmVsZW1lbnRzLnJvb3QsIGNsYXNzZXMucHJlZml4ICsgdmFsdWUpO1xyXG4gICAgICAgICAgICByZWZsb3cgPSBpbnN0YW5jZS5lbGVtZW50cy5yb290Lm9mZnNldFdpZHRoO1xyXG4gICAgICAgIH1cclxuXHRcdFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRvZ2dsZXMgdGhlIGRpYWxvZyBkaXNwbGF5IG1vZGVcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlRGlzcGxheU1vZGUoaW5zdGFuY2Upe1xyXG4gICAgICAgICAgICBpZihpbnN0YW5jZS5nZXQoJ21vZGFsJykpe1xyXG5cclxuICAgICAgICAgICAgICAgIC8vbWFrZSBtb2RhbFxyXG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoaW5zdGFuY2UuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy5tb2RlbGVzcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9vbmx5IGlmIG9wZW5cclxuICAgICAgICAgICAgICAgIGlmKGluc3RhbmNlLmlzT3BlbigpKXtcclxuICAgICAgICAgICAgICAgICAgICB1bmJpbmRNb2RlbGVzc0V2ZW50cyhpbnN0YW5jZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vaW4gY2FzZSBhIHBpbm5lZCBtb2RsZXNzIGRpYWxvZyB3YXMgbWFkZSBtb2RhbCB3aGlsZSBvcGVuLlxyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUFic1Bvc2l0aW9uRml4KGluc3RhbmNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZW5zdXJlTm9PdmVyZmxvdygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIC8vbWFrZSBtb2RlbHNzXHJcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhpbnN0YW5jZS5lbGVtZW50cy5yb290LCBjbGFzc2VzLm1vZGVsZXNzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL29ubHkgaWYgb3BlblxyXG4gICAgICAgICAgICAgICAgaWYoaW5zdGFuY2UuaXNPcGVuKCkpe1xyXG4gICAgICAgICAgICAgICAgICAgIGJpbmRNb2RlbGVzc0V2ZW50cyhpbnN0YW5jZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vaW4gY2FzZSBwaW4vdW5waW4gd2FzIGNhbGxlZCB3aGlsZSBhIG1vZGFsIGlzIG9wZW5cclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVBYnNQb3NpdGlvbkZpeChpbnN0YW5jZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGVuc3VyZU5vT3ZlcmZsb3coKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVG9nZ2xlcyB0aGUgZGlhbG9nIGJhc2ljIHZpZXcgbW9kZSBcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlQmFzaWNNb2RlKGluc3RhbmNlKXtcclxuICAgICAgICAgICAgaWYgKGluc3RhbmNlLmdldCgnYmFzaWMnKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gYWRkIGNsYXNzXHJcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhpbnN0YW5jZS5lbGVtZW50cy5yb290LCBjbGFzc2VzLmJhc2ljKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBjbGFzc1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoaW5zdGFuY2UuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy5iYXNpYyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRvZ2dsZXMgdGhlIGRpYWxvZyBmcmFtZWxlc3MgdmlldyBtb2RlIFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVGcmFtZWxlc3NNb2RlKGluc3RhbmNlKXtcclxuICAgICAgICAgICAgaWYgKGluc3RhbmNlLmdldCgnZnJhbWVsZXNzJykpIHtcclxuICAgICAgICAgICAgICAgIC8vIGFkZCBjbGFzc1xyXG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoaW5zdGFuY2UuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy5mcmFtZWxlc3MpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGNsYXNzXHJcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhpbnN0YW5jZS5lbGVtZW50cy5yb290LCBjbGFzc2VzLmZyYW1lbGVzcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblx0XHRcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBIZWxwZXI6IEJyaW5ncyB0aGUgbW9kZWxlc3MgZGlhbG9nIHRvIGZyb250LCBhdHRhY2hlZCB0byBtb2RlbGVzcyBkaWFsb2dzLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgRm9jdXMgZXZlbnRcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2UgVGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGJyaW5nVG9Gcm9udChldmVudCwgaW5zdGFuY2Upe1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gRG8gbm90IGJyaW5nIHRvIGZyb250IGlmIHByZWNlZWRlZCBieSBhbiBvcGVuIG1vZGFsXHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IG9wZW5EaWFsb2dzLmluZGV4T2YoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICBmb3IodmFyIHg9aW5kZXgrMTt4PG9wZW5EaWFsb2dzLmxlbmd0aDt4Kz0xKXtcclxuICAgICAgICAgICAgICAgIGlmKG9wZW5EaWFsb2dzW3hdLmlzTW9kYWwoKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblx0XHRcdFxyXG4gICAgICAgICAgICAvLyBCcmluZyB0byBmcm9udCBieSBtYWtpbmcgaXQgdGhlIGxhc3QgY2hpbGQuXHJcbiAgICAgICAgICAgIGlmKGRvY3VtZW50LmJvZHkubGFzdENoaWxkICE9PSBpbnN0YW5jZS5lbGVtZW50cy5yb290KXtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaW5zdGFuY2UuZWxlbWVudHMucm9vdCk7XHJcbiAgICAgICAgICAgICAgICAvL2Fsc28gbWFrZSBzdXJlIGl0cyBhdCB0aGUgZW5kIG9mIHRoZSBsaXN0XHJcbiAgICAgICAgICAgICAgICBvcGVuRGlhbG9ncy5zcGxpY2Uob3BlbkRpYWxvZ3MuaW5kZXhPZihpbnN0YW5jZSksMSk7XHJcbiAgICAgICAgICAgICAgICBvcGVuRGlhbG9ncy5wdXNoKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIHNldEZvY3VzKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgfVxyXG5cdFx0XHRcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHRcdFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEhlbHBlcjogcmVmbGVjdHMgZGlhbG9ncyBvcHRpb25zIHVwZGF0ZXNcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbiBUaGUgdXBkYXRlZCBvcHRpb24gbmFtZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm5cdHt1bmRlZmluZWR9XHRcclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBvcHRpb25VcGRhdGVkKGluc3RhbmNlLCBvcHRpb24sIG9sZFZhbHVlLCBuZXdWYWx1ZSl7XHJcbiAgICAgICAgICAgIHN3aXRjaChvcHRpb24pe1xyXG4gICAgICAgICAgICBjYXNlICd0aXRsZSc6XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5zZXRIZWFkZXIobmV3VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ21vZGFsJzpcclxuICAgICAgICAgICAgICAgIHVwZGF0ZURpc3BsYXlNb2RlKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdiYXNpYyc6XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVCYXNpY01vZGUoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2ZyYW1lbGVzcyc6XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVGcmFtZWxlc3NNb2RlKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdwaW5uZWQnOlxyXG4gICAgICAgICAgICAgICAgdXBkYXRlUGlubmVkKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdjbG9zYWJsZSc6XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVDbG9zYWJsZShpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnbWF4aW1pemFibGUnOlxyXG4gICAgICAgICAgICAgICAgdXBkYXRlTWF4aW1pemFibGUoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3Bpbm5hYmxlJzpcclxuICAgICAgICAgICAgICAgIHVwZGF0ZVBpbm5hYmxlKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdtb3ZhYmxlJzpcclxuICAgICAgICAgICAgICAgIHVwZGF0ZU1vdmFibGUoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3Jlc2l6YWJsZSc6XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVSZXNpemFibGUoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3RyYW5zaXRpb24nOlxyXG4gICAgICAgICAgICAgICAgdXBkYXRlVHJhbnNpdGlvbihpbnN0YW5jZSxuZXdWYWx1ZSwgb2xkVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3BhZGRpbmcnOlxyXG4gICAgICAgICAgICAgICAgaWYobmV3VmFsdWUpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGluc3RhbmNlLmVsZW1lbnRzLnJvb3QsIGNsYXNzZXMubm9QYWRkaW5nKTtcclxuICAgICAgICAgICAgICAgIH1lbHNlIGlmKGluc3RhbmNlLmVsZW1lbnRzLnJvb3QuY2xhc3NOYW1lLmluZGV4T2YoY2xhc3Nlcy5ub1BhZGRpbmcpIDwgMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkQ2xhc3MoaW5zdGFuY2UuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy5ub1BhZGRpbmcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ292ZXJmbG93JzpcclxuICAgICAgICAgICAgICAgIGlmKG5ld1ZhbHVlKXtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhpbnN0YW5jZS5lbGVtZW50cy5yb290LCBjbGFzc2VzLm5vT3ZlcmZsb3cpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2UgaWYoaW5zdGFuY2UuZWxlbWVudHMucm9vdC5jbGFzc05hbWUuaW5kZXhPZihjbGFzc2VzLm5vT3ZlcmZsb3cpIDwgMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkQ2xhc3MoaW5zdGFuY2UuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy5ub092ZXJmbG93KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICd0cmFuc2l0aW9uJzpcclxuICAgICAgICAgICAgICAgIHVwZGF0ZVRyYW5zaXRpb24oaW5zdGFuY2UsbmV3VmFsdWUsIG9sZFZhbHVlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBpbnRlcm5hbCBvbiBvcHRpb24gdXBkYXRlZCBldmVudFxyXG4gICAgICAgICAgICBpZih0eXBlb2YgaW5zdGFuY2UuaG9va3Mub251cGRhdGUgPT09ICdmdW5jdGlvbicpe1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuaG9va3Mub251cGRhdGUuY2FsbChpbnN0YW5jZSwgb3B0aW9uLCBvbGRWYWx1ZSwgbmV3VmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cdFx0XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSGVscGVyOiByZWZsZWN0cyBkaWFsb2dzIG9wdGlvbnMgdXBkYXRlc1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgdG8gc2V0L2dldCBhIHZhbHVlIG9uL2Zyb20uXHJcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGNhbGwgaWYgdGhlIGtleSB3YXMgZm91bmQuXHJcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBrZXkgQSBzdHJpbmcgc3BlY2lmeWluZyBhIHByb3BlcnkgbmFtZSBvciBhIGNvbGxlY3Rpb24gb2Yga2V5IHZhbHVlIHBhaXJzLlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZSBPcHRpb25hbCwgdGhlIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCB0aGUga2V5IChpbiBjYXNlIGl0IHdhcyBhIHN0cmluZykuXHJcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbiBUaGUgdXBkYXRlZCBvcHRpb24gbmFtZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm5cdHtPYmplY3R9IHJlc3VsdCBvYmplY3QgXHJcbiAgICAgICAgICpcdFRoZSByZXN1bHQgb2JqZWN0cyBoYXMgYW4gJ29wJyBwcm9wZXJ0eSwgaW5kaWNhdGluZyBvZiB0aGlzIGlzIGEgU0VUIG9yIEdFVCBvcGVyYXRpb24uXHJcbiAgICAgICAgICpcdFx0R0VUOiBcclxuICAgICAgICAgKlx0XHQtIGZvdW5kOiBhIGZsYWcgaW5kaWNhdGluZyBpZiB0aGUga2V5IHdhcyBmb3VuZCBvciBub3QuXHJcbiAgICAgICAgICpcdFx0LSB2YWx1ZTogdGhlIHByb3BlcnR5IHZhbHVlLlxyXG4gICAgICAgICAqXHRcdFNFVDpcclxuICAgICAgICAgKlx0XHQtIGl0ZW1zOiBhIGxpc3Qgb2Yga2V5IHZhbHVlIHBhaXJzIG9mIHRoZSBwcm9wZXJ0aWVzIGJlaW5nIHNldC5cclxuICAgICAgICAgKlx0XHRcdFx0ZWFjaCBjb250YWluczpcclxuICAgICAgICAgKlx0XHRcdFx0XHQtIGZvdW5kOiBhIGZsYWcgaW5kaWNhdGluZyBpZiB0aGUga2V5IHdhcyBmb3VuZCBvciBub3QuXHJcbiAgICAgICAgICpcdFx0XHRcdFx0LSBrZXk6IHRoZSBwcm9wZXJ0eSBrZXkuXHJcbiAgICAgICAgICpcdFx0XHRcdFx0LSB2YWx1ZTogdGhlIHByb3BlcnR5IHZhbHVlLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZShpbnN0YW5jZSwgb2JqLCBjYWxsYmFjaywga2V5LCB2YWx1ZSl7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB7b3A6dW5kZWZpbmVkLCBpdGVtczogW10gfTtcclxuICAgICAgICAgICAgaWYodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Yga2V5ID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgLy9nZXRcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5vcCA9ICdnZXQnO1xyXG4gICAgICAgICAgICAgICAgaWYob2JqLmhhc093blByb3BlcnR5KGtleSkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5mb3VuZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnZhbHVlID0gb2JqW2tleV07XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQuZm91bmQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQudmFsdWUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb2xkO1xyXG4gICAgICAgICAgICAgICAgLy9zZXRcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5vcCA9ICdzZXQnO1xyXG4gICAgICAgICAgICAgICAgaWYodHlwZW9mIGtleSA9PT0gJ29iamVjdCcpe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vc2V0IG11bHRpcGxlXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBrZXk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBhcmdzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKG9ialtwcm9wXSAhPT0gYXJnc1twcm9wXSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkID0gb2JqW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ialtwcm9wXSA9IGFyZ3NbcHJvcF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbChpbnN0YW5jZSxwcm9wLCBvbGQsIGFyZ3NbcHJvcF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lml0ZW1zLnB1c2goeyAna2V5JzogcHJvcCwgJ3ZhbHVlJzogYXJnc1twcm9wXSwgJ2ZvdW5kJzp0cnVlfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lml0ZW1zLnB1c2goeyAna2V5JzogcHJvcCwgJ3ZhbHVlJzogYXJnc1twcm9wXSwgJ2ZvdW5kJzpmYWxzZX0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Yga2V5ID09PSAnc3RyaW5nJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9zZXQgc2luZ2xlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKG9ialtrZXldICE9PSB2YWx1ZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGQgID0gb2JqW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbChpbnN0YW5jZSxrZXksIG9sZCwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5pdGVtcy5wdXNoKHsna2V5Jzoga2V5LCAndmFsdWUnOiB2YWx1ZSAsICdmb3VuZCc6dHJ1ZX0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lml0ZW1zLnB1c2goeydrZXknOiBrZXksICd2YWx1ZSc6IHZhbHVlICwgJ2ZvdW5kJzpmYWxzZX0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9pbnZhbGlkIHBhcmFtc1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYXJncyBtdXN0IGJlIGEgc3RyaW5nIG9yIG9iamVjdCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVHJpZ2dlcnMgYSBjbG9zZSBldmVudC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZVx0VGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqIFxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiB0cmlnZ2VyQ2xvc2UoaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgdmFyIGZvdW5kO1xyXG4gICAgICAgICAgICB0cmlnZ2VyQ2FsbGJhY2soaW5zdGFuY2UsIGZ1bmN0aW9uIChidXR0b24pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmb3VuZCA9IChidXR0b24uaW52b2tlT25DbG9zZSA9PT0gdHJ1ZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvL25vbmUgb2YgdGhlIGJ1dHRvbnMgcmVnaXN0ZXJlZCBhcyBvbmNsb3NlIGNhbGxiYWNrXHJcbiAgICAgICAgICAgIC8vY2xvc2UgdGhlIGRpYWxvZ1xyXG4gICAgICAgICAgICBpZiAoIWZvdW5kICYmIGluc3RhbmNlLmlzT3BlbigpKSB7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBEaWFsb2dzIGNvbW1hbmRzIGV2ZW50IGhhbmRsZXIsIGF0dGFjaGVkIHRvIHRoZSBkaWFsb2cgY29tbWFuZHMgZWxlbWVudC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XHRET00gZXZlbnQgb2JqZWN0LlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZVx0VGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqIFxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBjb21tYW5kc0NsaWNrSGFuZGxlcihldmVudCwgaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgdmFyIHRhcmdldCA9IGV2ZW50LnNyY0VsZW1lbnQgfHwgZXZlbnQudGFyZ2V0O1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHRhcmdldCkge1xyXG4gICAgICAgICAgICBjYXNlIGluc3RhbmNlLmVsZW1lbnRzLmNvbW1hbmRzLnBpbjpcclxuICAgICAgICAgICAgICAgIGlmICghaW5zdGFuY2UuaXNQaW5uZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBpbihpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHVucGluKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGluc3RhbmNlLmVsZW1lbnRzLmNvbW1hbmRzLm1heGltaXplOlxyXG4gICAgICAgICAgICAgICAgaWYgKCFpbnN0YW5jZS5pc01heGltaXplZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4aW1pemUoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN0b3JlKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGluc3RhbmNlLmVsZW1lbnRzLmNvbW1hbmRzLmNsb3NlOlxyXG4gICAgICAgICAgICAgICAgdHJpZ2dlckNsb3NlKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEhlbHBlcjogcGlucyB0aGUgbW9kZWxlc3MgZGlhbG9nLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlXHRUaGUgZGlhbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqIFxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBwaW4oaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgLy9waW4gdGhlIGRpYWxvZ1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5zZXQoJ3Bpbm5lZCcsIHRydWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSGVscGVyOiB1bnBpbnMgdGhlIG1vZGVsZXNzIGRpYWxvZy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZVx0VGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqIFxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiB1bnBpbihpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAvL3VucGluIHRoZSBkaWFsb2cgXHJcbiAgICAgICAgICAgIGluc3RhbmNlLnNldCgncGlubmVkJywgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEhlbHBlcjogZW5sYXJnZXMgdGhlIGRpYWxvZyB0byBmaWxsIHRoZSBlbnRpcmUgc2NyZWVuLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlXHRUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICogXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIG1heGltaXplKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIC8vIGFsbG93IGN1c3RvbSBgb25tYXhpbWl6ZWAgbWV0aG9kXHJcbiAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQoJ29ubWF4aW1pemUnLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIC8vbWF4aW1pemUgdGhlIGRpYWxvZyBcclxuICAgICAgICAgICAgYWRkQ2xhc3MoaW5zdGFuY2UuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy5tYXhpbWl6ZWQpO1xyXG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UuaXNPcGVuKCkpIHtcclxuICAgICAgICAgICAgICAgIGVuc3VyZU5vT3ZlcmZsb3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBhbGxvdyBjdXN0b20gYG9ubWF4aW1pemVkYCBtZXRob2RcclxuICAgICAgICAgICAgZGlzcGF0Y2hFdmVudCgnb25tYXhpbWl6ZWQnLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBIZWxwZXI6IHJldHVybnMgdGhlIGRpYWxvZyB0byBpdHMgZm9ybWVyIHNpemUuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2VcdFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKiBcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gcmVzdG9yZShpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAvLyBhbGxvdyBjdXN0b20gYG9ucmVzdG9yZWAgbWV0aG9kXHJcbiAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQoJ29ucmVzdG9yZScsIGluc3RhbmNlKTtcclxuICAgICAgICAgICAgLy9tYXhpbWl6ZSB0aGUgZGlhbG9nIFxyXG4gICAgICAgICAgICByZW1vdmVDbGFzcyhpbnN0YW5jZS5lbGVtZW50cy5yb290LCBjbGFzc2VzLm1heGltaXplZCk7XHJcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZS5pc09wZW4oKSkge1xyXG4gICAgICAgICAgICAgICAgZW5zdXJlTm9PdmVyZmxvdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGFsbG93IGN1c3RvbSBgb25yZXN0b3JlZGAgbWV0aG9kXHJcbiAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQoJ29ucmVzdG9yZWQnLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTaG93IG9yIGhpZGUgdGhlIG1heGltaXplIGJveC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBvbiBUcnVlIHRvIGFkZCB0aGUgYmVoYXZpb3IsIHJlbW92ZXMgaXQgb3RoZXJ3aXNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVBpbm5hYmxlKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZS5nZXQoJ3Bpbm5hYmxlJykpIHtcclxuICAgICAgICAgICAgICAgIC8vIGFkZCBjbGFzc1xyXG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoaW5zdGFuY2UuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy5waW5uYWJsZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgY2xhc3NcclxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGluc3RhbmNlLmVsZW1lbnRzLnJvb3QsIGNsYXNzZXMucGlubmFibGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBIZWxwZXI6IEZpeGVzIHRoZSBhYnNvbHV0bHkgcG9zaXRpb25lZCBtb2RhbCBkaXYgcG9zaXRpb24uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2UgVGhlIGRpYWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBhZGRBYnNQb3NpdGlvbkZpeChpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICB2YXIgc2Nyb2xsTGVmdCA9IGdldFNjcm9sbExlZnQoKTtcclxuICAgICAgICAgICAgaW5zdGFuY2UuZWxlbWVudHMubW9kYWwuc3R5bGUubWFyZ2luVG9wID0gZ2V0U2Nyb2xsVG9wKCkgKyAncHgnO1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5lbGVtZW50cy5tb2RhbC5zdHlsZS5tYXJnaW5MZWZ0ID0gc2Nyb2xsTGVmdCArICdweCc7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLmVsZW1lbnRzLm1vZGFsLnN0eWxlLm1hcmdpblJpZ2h0ID0gKC1zY3JvbGxMZWZ0KSArICdweCc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBIZWxwZXI6IFJlbW92ZXMgdGhlIGFic29sdXRseSBwb3NpdGlvbmVkIG1vZGFsIGRpdiBwb3NpdGlvbiBmaXguXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2UgVGhlIGRpYWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiByZW1vdmVBYnNQb3NpdGlvbkZpeChpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICB2YXIgbWFyZ2luVG9wID0gcGFyc2VJbnQoaW5zdGFuY2UuZWxlbWVudHMubW9kYWwuc3R5bGUubWFyZ2luVG9wLCAxMCk7XHJcbiAgICAgICAgICAgIHZhciBtYXJnaW5MZWZ0ID0gcGFyc2VJbnQoaW5zdGFuY2UuZWxlbWVudHMubW9kYWwuc3R5bGUubWFyZ2luTGVmdCwgMTApO1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5lbGVtZW50cy5tb2RhbC5zdHlsZS5tYXJnaW5Ub3AgPSAnJztcclxuICAgICAgICAgICAgaW5zdGFuY2UuZWxlbWVudHMubW9kYWwuc3R5bGUubWFyZ2luTGVmdCA9ICcnO1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5lbGVtZW50cy5tb2RhbC5zdHlsZS5tYXJnaW5SaWdodCA9ICcnO1xyXG5cclxuICAgICAgICAgICAgaWYgKGluc3RhbmNlLmlzT3BlbigpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdG9wID0gMCxcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gMFxyXG4gICAgICAgICAgICAgICAgO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlLmVsZW1lbnRzLmRpYWxvZy5zdHlsZS50b3AgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9wID0gcGFyc2VJbnQoaW5zdGFuY2UuZWxlbWVudHMuZGlhbG9nLnN0eWxlLnRvcCwgMTApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuZWxlbWVudHMuZGlhbG9nLnN0eWxlLnRvcCA9ICh0b3AgKyAobWFyZ2luVG9wIC0gZ2V0U2Nyb2xsVG9wKCkpKSArICdweCc7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlLmVsZW1lbnRzLmRpYWxvZy5zdHlsZS5sZWZ0ICE9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQgPSBwYXJzZUludChpbnN0YW5jZS5lbGVtZW50cy5kaWFsb2cuc3R5bGUubGVmdCwgMTApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuZWxlbWVudHMuZGlhbG9nLnN0eWxlLmxlZnQgPSAobGVmdCArIChtYXJnaW5MZWZ0IC0gZ2V0U2Nyb2xsTGVmdCgpKSkgKyAncHgnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEhlbHBlcjogQWRkcy9SZW1vdmVzIHRoZSBhYnNvbHV0bHkgcG9zaXRpb25lZCBtb2RhbCBkaXYgcG9zaXRpb24gZml4IGJhc2VkIG9uIGl0cyBwaW5uZWQgc2V0dGluZy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlhbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUFic1Bvc2l0aW9uRml4KGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIC8vIGlmIG1vZGVsZXNzIGFuZCB1bnBpbm5lZCBhZGQgZml4XHJcbiAgICAgICAgICAgIGlmICghaW5zdGFuY2UuZ2V0KCdtb2RhbCcpICYmICFpbnN0YW5jZS5nZXQoJ3Bpbm5lZCcpKSB7XHJcbiAgICAgICAgICAgICAgICBhZGRBYnNQb3NpdGlvbkZpeChpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVBYnNQb3NpdGlvbkZpeChpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVG9nZ2xlcyB0aGUgZGlhbG9nIHBvc2l0aW9uIGxvY2sgfCBtb2RlbGVzcyBvbmx5LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IG9uIFRydWUgdG8gbWFrZSBpdCBtb2RhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVBpbm5lZChpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UuZ2V0KCdwaW5uZWQnKSkge1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoaW5zdGFuY2UuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy51bnBpbm5lZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UuaXNPcGVuKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmVBYnNQb3NpdGlvbkZpeChpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhpbnN0YW5jZS5lbGVtZW50cy5yb290LCBjbGFzc2VzLnVucGlubmVkKTtcclxuICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZS5pc09wZW4oKSAmJiAhaW5zdGFuY2UuaXNNb2RhbCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkQWJzUG9zaXRpb25GaXgoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTaG93IG9yIGhpZGUgdGhlIG1heGltaXplIGJveC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBvbiBUcnVlIHRvIGFkZCB0aGUgYmVoYXZpb3IsIHJlbW92ZXMgaXQgb3RoZXJ3aXNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZU1heGltaXphYmxlKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZS5nZXQoJ21heGltaXphYmxlJykpIHtcclxuICAgICAgICAgICAgICAgIC8vIGFkZCBjbGFzc1xyXG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoaW5zdGFuY2UuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy5tYXhpbWl6YWJsZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgY2xhc3NcclxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGluc3RhbmNlLmVsZW1lbnRzLnJvb3QsIGNsYXNzZXMubWF4aW1pemFibGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTaG93IG9yIGhpZGUgdGhlIGNsb3NlIGJveC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBvbiBUcnVlIHRvIGFkZCB0aGUgYmVoYXZpb3IsIHJlbW92ZXMgaXQgb3RoZXJ3aXNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUNsb3NhYmxlKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZS5nZXQoJ2Nsb3NhYmxlJykpIHtcclxuICAgICAgICAgICAgICAgIC8vIGFkZCBjbGFzc1xyXG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoaW5zdGFuY2UuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy5jbG9zYWJsZSk7XHJcbiAgICAgICAgICAgICAgICBiaW5kQ2xvc2FibGVFdmVudHMoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGNsYXNzXHJcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhpbnN0YW5jZS5lbGVtZW50cy5yb290LCBjbGFzc2VzLmNsb3NhYmxlKTtcclxuICAgICAgICAgICAgICAgIHVuYmluZENsb3NhYmxlRXZlbnRzKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gZmxhZyB0byBjYW5jZWwgY2xpY2sgZXZlbnQgaWYgYWxyZWFkeSBoYW5kbGVkIGJ5IGVuZCByZXNpemUgZXZlbnQgKHRoZSBtb3VzZWRvd24sIG1vdXNlbW92ZSwgbW91c2V1cCBzZXF1ZW5jZSBmaXJlcyBhIGNsaWNrIGV2ZW50LikuXHJcbiAgICAgICAgdmFyIGNhbmNlbENsaWNrID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEhlbHBlcjogY2xvc2VzIHRoZSBtb2RhbCBkaWFsb2cgd2hlbiBjbGlja2luZyB0aGUgbW9kYWxcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XHRET00gZXZlbnQgb2JqZWN0LlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gbW9kYWxDbGlja0hhbmRsZXIoZXZlbnQsIGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBldmVudC5zcmNFbGVtZW50IHx8IGV2ZW50LnRhcmdldDtcclxuICAgICAgICAgICAgaWYgKCFjYW5jZWxDbGljayAmJiB0YXJnZXQgPT09IGluc3RhbmNlLmVsZW1lbnRzLm1vZGFsICYmIGluc3RhbmNlLmdldCgnY2xvc2FibGVCeURpbW1lcicpID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VyQ2xvc2UoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhbmNlbENsaWNrID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGZsYWcgdG8gY2FuY2VsIGtleXVwIGV2ZW50IGlmIGFscmVhZHkgaGFuZGxlZCBieSBjbGljayBldmVudCAocHJlc3NpbmcgRW50ZXIgb24gYSBmb2N1c3RlZCBidXR0b24pLlxyXG4gICAgICAgIHZhciBjYW5jZWxLZXl1cCA9IGZhbHNlO1xyXG4gICAgICAgIC8qKiBcclxuICAgICAgICAgKiBIZWxwZXI6IHRyaWdnZXJzIGEgYnV0dG9uIGNhbGxiYWNrXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH1cdFx0VGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259XHRDYWxsYmFjayB0byBjaGVjayB3aGljaCBidXR0b24gdHJpZ2dlcmVkIHRoZSBldmVudC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiB0cmlnZ2VyQ2FsbGJhY2soaW5zdGFuY2UsIGNoZWNrKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGlkeCA9IDA7IGlkeCA8IGluc3RhbmNlLl9faW50ZXJuYWwuYnV0dG9ucy5sZW5ndGg7IGlkeCArPSAxKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYnV0dG9uID0gaW5zdGFuY2UuX19pbnRlcm5hbC5idXR0b25zW2lkeF07XHJcbiAgICAgICAgICAgICAgICBpZiAoIWJ1dHRvbi5lbGVtZW50LmRpc2FibGVkICYmIGNoZWNrKGJ1dHRvbikpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2xvc2VFdmVudCA9IGNyZWF0ZUNsb3NlRXZlbnQoaWR4LCBidXR0b24pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuY2FsbGJhY2suYXBwbHkoaW5zdGFuY2UsIFtjbG9zZUV2ZW50XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vY2xvc2UgdGhlIGRpYWxvZyBvbmx5IGlmIG5vdCBjYW5jZWxlZC5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2xvc2VFdmVudC5jYW5jZWwgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDbGlja3MgZXZlbnQgaGFuZGxlciwgYXR0YWNoZWQgdG8gdGhlIGRpYWxvZyBmb290ZXIuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge0V2ZW50fVx0XHRET00gZXZlbnQgb2JqZWN0LlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fVx0XHRUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICogXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGJ1dHRvbnNDbGlja0hhbmRsZXIoZXZlbnQsIGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBldmVudC5zcmNFbGVtZW50IHx8IGV2ZW50LnRhcmdldDtcclxuICAgICAgICAgICAgdHJpZ2dlckNhbGxiYWNrKGluc3RhbmNlLCBmdW5jdGlvbiAoYnV0dG9uKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGlzIGJ1dHRvbiBjYXVzZWQgdGhlIGNsaWNrLCBjYW5jZWwga2V5dXAgZXZlbnRcclxuICAgICAgICAgICAgICAgIHJldHVybiBidXR0b24uZWxlbWVudCA9PT0gdGFyZ2V0ICYmIChjYW5jZWxLZXl1cCA9IHRydWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEtleXVwIGV2ZW50IGhhbmRsZXIsIGF0dGFjaGVkIHRvIHRoZSBkb2N1bWVudC5ib2R5XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge0V2ZW50fVx0XHRET00gZXZlbnQgb2JqZWN0LlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fVx0XHRUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICogXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGtleXVwSGFuZGxlcihldmVudCkge1xyXG4gICAgICAgICAgICAvL2hpdHRpbmcgZW50ZXIgd2hpbGUgYnV0dG9uIGhhcyBmb2N1cyB3aWxsIHRyaWdnZXIga2V5dXAgdG9vLlxyXG4gICAgICAgICAgICAvL2lnbm9yZSBpZiBoYW5kbGVkIGJ5IGNsaWNrSGFuZGxlclxyXG4gICAgICAgICAgICBpZiAoY2FuY2VsS2V5dXApIHtcclxuICAgICAgICAgICAgICAgIGNhbmNlbEtleXVwID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gb3BlbkRpYWxvZ3Nbb3BlbkRpYWxvZ3MubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgIHZhciBrZXlDb2RlID0gZXZlbnQua2V5Q29kZTtcclxuICAgICAgICAgICAgaWYgKGluc3RhbmNlLl9faW50ZXJuYWwuYnV0dG9ucy5sZW5ndGggPT09IDAgJiYga2V5Q29kZSA9PT0ga2V5cy5FU0MgJiYgaW5zdGFuY2UuZ2V0KCdjbG9zYWJsZScpID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VyQ2xvc2UoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZiAodXNlZEtleXMuaW5kZXhPZihrZXlDb2RlKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VyQ2FsbGJhY2soaW5zdGFuY2UsIGZ1bmN0aW9uIChidXR0b24pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYnV0dG9uLmtleSA9PT0ga2V5Q29kZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogS2V5ZG93biBldmVudCBoYW5kbGVyLCBhdHRhY2hlZCB0byB0aGUgZG9jdW1lbnQuYm9keVxyXG4gICAgICAgICpcclxuICAgICAgICAqIEBwYXJhbSB7RXZlbnR9XHRcdERPTSBldmVudCBvYmplY3QuXHJcbiAgICAgICAgKiBAcGFyYW0ge09iamVjdH1cdFx0VGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICogXHJcbiAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBrZXlkb3duSGFuZGxlcihldmVudCkge1xyXG4gICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBvcGVuRGlhbG9nc1tvcGVuRGlhbG9ncy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgdmFyIGtleUNvZGUgPSBldmVudC5rZXlDb2RlO1xyXG4gICAgICAgICAgICBpZiAoa2V5Q29kZSA9PT0ga2V5cy5MRUZUIHx8IGtleUNvZGUgPT09IGtleXMuUklHSFQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBidXR0b25zID0gaW5zdGFuY2UuX19pbnRlcm5hbC5idXR0b25zO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBidXR0b25zLmxlbmd0aDsgeCArPSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGJ1dHRvbnNbeF0uZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGtleUNvZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBrZXlzLkxFRlQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zWyh4IHx8IGJ1dHRvbnMubGVuZ3RoKSAtIDFdLmVsZW1lbnQuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBrZXlzLlJJR0hUOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uc1soeCArIDEpICUgYnV0dG9ucy5sZW5ndGhdLmVsZW1lbnQuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWVsc2UgaWYgKGtleUNvZGUgPCBrZXlzLkYxMiArIDEgJiYga2V5Q29kZSA+IGtleXMuRjEgLSAxICYmIHVzZWRLZXlzLmluZGV4T2Yoa2V5Q29kZSkgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgdHJpZ2dlckNhbGxiYWNrKGluc3RhbmNlLCBmdW5jdGlvbiAoYnV0dG9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJ1dHRvbi5rZXkgPT09IGtleUNvZGU7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNldHMgZm9jdXMgdG8gcHJvcGVyIGRpYWxvZyBlbGVtZW50XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2UgVGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqIEBwYXJhbSB7Tm9kZX0gW3Jlc2V0VGFyZ2V0PXVuZGVmaW5lZF0gRE9NIGVsZW1lbnQgdG8gcmVzZXQgZm9jdXMgdG8uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0Rm9jdXMoaW5zdGFuY2UsIHJlc2V0VGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIC8vIHJlc2V0IHRhcmdldCBoYXMgYWxyZWFkeSBiZWVuIGRldGVybWluZWQuXHJcbiAgICAgICAgICAgIGlmIChyZXNldFRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgcmVzZXRUYXJnZXQuZm9jdXMoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIGN1cnJlbnQgaW5zdGFuY2UgZm9jdXMgc2V0dGluZ3NcclxuICAgICAgICAgICAgICAgIHZhciBmb2N1cyA9IGluc3RhbmNlLl9faW50ZXJuYWwuZm9jdXM7XHJcbiAgICAgICAgICAgICAgICAvLyB0aGUgZm9jdXMgZWxlbWVudC5cclxuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gZm9jdXMuZWxlbWVudDtcclxuXHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiBmb2N1cy5lbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBhIG51bWJlciBtZWFucyBhIGJ1dHRvbiBpbmRleFxyXG4gICAgICAgICAgICAgICAgY2FzZSAnbnVtYmVyJzpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UuX19pbnRlcm5hbC5idXR0b25zLmxlbmd0aCA+IGZvY3VzLmVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pbiBiYXNpYyB2aWV3LCBza2lwIGZvY3VzaW5nIHRoZSBidXR0b25zLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UuZ2V0KCdiYXNpYycpID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gaW5zdGFuY2UuZWxlbWVudHMucmVzZXRbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gaW5zdGFuY2UuX19pbnRlcm5hbC5idXR0b25zW2ZvY3VzLmVsZW1lbnRdLmVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAvLyBhIHN0cmluZyBtZWFucyBxdWVyeVNlbGVjdG9yIHRvIHNlbGVjdCBmcm9tIGRpYWxvZyBib2R5IGNvbnRlbnRzLlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzpcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gaW5zdGFuY2UuZWxlbWVudHMuYm9keS5xdWVyeVNlbGVjdG9yKGZvY3VzLmVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgLy8gYSBmdW5jdGlvbiBzaG91bGQgcmV0dXJuIHRoZSBmb2N1cyBlbGVtZW50LlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBmb2N1cy5lbGVtZW50LmNhbGwoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBpZiBubyBmb2N1cyBlbGVtZW50LCBkZWZhdWx0IHRvIGZpcnN0IHJlc2V0IGVsZW1lbnQuXHJcbiAgICAgICAgICAgICAgICBpZiAoKHR5cGVvZiBlbGVtZW50ID09PSAndW5kZWZpbmVkJyB8fCBlbGVtZW50ID09PSBudWxsKSAmJiBpbnN0YW5jZS5fX2ludGVybmFsLmJ1dHRvbnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IGluc3RhbmNlLmVsZW1lbnRzLnJlc2V0WzBdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gZm9jdXNcclxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50ICYmIGVsZW1lbnQuZm9jdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgc2VsZWN0YWJsZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmb2N1cy5zZWxlY3QgJiYgZWxlbWVudC5zZWxlY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zZWxlY3QoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEZvY3VzIGV2ZW50IGhhbmRsZXIsIGF0dGFjaGVkIHRvIGRvY3VtZW50LmJvZHkgYW5kIGRpYWxvZ3Mgb3duIHJlc2V0IGxpbmtzLlxyXG4gICAgICAgICAqIGhhbmRsZXMgdGhlIGZvY3VzIGZvciBtb2RhbCBkaWFsb2dzIG9ubHkuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBET00gZm9jdXMgZXZlbnQgb2JqZWN0LlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gb25SZXNldChldmVudCwgaW5zdGFuY2UpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIHNob3VsZCB3b3JrIG9uIGxhc3QgbW9kYWwgaWYgdHJpZ2dlcmVkIGZyb20gZG9jdW1lbnQuYm9keSBcclxuICAgICAgICAgICAgaWYgKCFpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IG9wZW5EaWFsb2dzLmxlbmd0aCAtIDE7IHggPiAtMTsgeCAtPSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wZW5EaWFsb2dzW3hdLmlzTW9kYWwoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IG9wZW5EaWFsb2dzW3hdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gaWYgbW9kYWxcclxuICAgICAgICAgICAgaWYgKGluc3RhbmNlICYmIGluc3RhbmNlLmlzTW9kYWwoKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gZGV0ZXJtaW5lIHJlc2V0IHRhcmdldCB0byBlbmFibGUgZm9yd2FyZC9iYWNrd2FyZCB0YWIgY3ljbGUuXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzZXRUYXJnZXQsIHRhcmdldCA9IGV2ZW50LnNyY0VsZW1lbnQgfHwgZXZlbnQudGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgdmFyIGxhc3RSZXNldEVsZW1lbnQgPSB0YXJnZXQgPT09IGluc3RhbmNlLmVsZW1lbnRzLnJlc2V0WzFdIHx8IChpbnN0YW5jZS5fX2ludGVybmFsLmJ1dHRvbnMubGVuZ3RoID09PSAwICYmIHRhcmdldCA9PT0gZG9jdW1lbnQuYm9keSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaWYgbGFzdCByZXNldCBsaW5rLCB0aGVuIGdvIHRvIG1heGltaXplIG9yIGNsb3NlXHJcbiAgICAgICAgICAgICAgICBpZiAobGFzdFJlc2V0RWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZS5nZXQoJ21heGltaXphYmxlJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRUYXJnZXQgPSBpbnN0YW5jZS5lbGVtZW50cy5jb21tYW5kcy5tYXhpbWl6ZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGluc3RhbmNlLmdldCgnY2xvc2FibGUnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNldFRhcmdldCA9IGluc3RhbmNlLmVsZW1lbnRzLmNvbW1hbmRzLmNsb3NlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGlmIG5vIHJlc2V0IHRhcmdldCBmb3VuZCwgdHJ5IGZpbmRpbmcgdGhlIGJlc3QgYnV0dG9uXHJcbiAgICAgICAgICAgICAgICBpZiAocmVzZXRUYXJnZXQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuX19pbnRlcm5hbC5mb2N1cy5lbGVtZW50ID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBidXR0b24gZm9jdXMgZWxlbWVudCwgZ28gdG8gZmlyc3QgYXZhaWxhYmxlIGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ID09PSBpbnN0YW5jZS5lbGVtZW50cy5yZXNldFswXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRUYXJnZXQgPSBpbnN0YW5jZS5lbGVtZW50cy5idXR0b25zLmF1eGlsaWFyeS5maXJzdENoaWxkIHx8IGluc3RhbmNlLmVsZW1lbnRzLmJ1dHRvbnMucHJpbWFyeS5maXJzdENoaWxkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxhc3RSZXNldEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcmVzdGFydCB0aGUgY3ljbGUgYnkgZ29pbmcgdG8gZmlyc3QgcmVzZXQgbGlua1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRUYXJnZXQgPSBpbnN0YW5jZS5lbGVtZW50cy5yZXNldFswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdpbGwgcmVhY2ggaGVyZSB3aGVuIHRhcHBpbmcgYmFja3dhcmRzLCBzbyBnbyB0byBsYXN0IGNoaWxkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBmb2N1cyBlbGVtZW50IFNIT1VMRCBOT1QgYmUgYSBidXR0b24gKGxvZ2ljYWxseSEpLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ID09PSBpbnN0YW5jZS5lbGVtZW50cy5yZXNldFswXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRUYXJnZXQgPSBpbnN0YW5jZS5lbGVtZW50cy5idXR0b25zLnByaW1hcnkubGFzdENoaWxkIHx8IGluc3RhbmNlLmVsZW1lbnRzLmJ1dHRvbnMuYXV4aWxpYXJ5Lmxhc3RDaGlsZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGZvY3VzXHJcbiAgICAgICAgICAgICAgICBzZXRGb2N1cyhpbnN0YW5jZSwgcmVzZXRUYXJnZXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRyYW5zaXRpb24gaW4gdHJhbnNpdGlvbmVuZCBldmVudCBoYW5kbGVyLiBcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7RXZlbnR9XHRcdFRyYW5zaXRpb25FbmQgZXZlbnQgb2JqZWN0LlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fVx0XHRUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlVHJhbnNpdGlvbkluRXZlbnQoZXZlbnQsIGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIC8vIGNsZWFyIHRoZSB0aW1lclxyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoaW5zdGFuY2UuX19pbnRlcm5hbC50aW1lckluKTtcclxuXHJcbiAgICAgICAgICAgIC8vIG9uY2UgdHJhbnNpdGlvbiBpcyBjb21wbGV0ZSwgc2V0IGZvY3VzXHJcbiAgICAgICAgICAgIHNldEZvY3VzKGluc3RhbmNlKTtcclxuXHJcbiAgICAgICAgICAgIC8vcmVzdG9yZSBzY3JvbGwgdG8gcHJldmVudCBkb2N1bWVudCBqdW1wXHJcbiAgICAgICAgICAgIHJlc3RvcmVTY3JvbGxQb3NpdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgLy8gYWxsb3cgaGFuZGxpbmcga2V5IHVwIGFmdGVyIHRyYW5zaXRpb24gZW5kZWQuXHJcbiAgICAgICAgICAgIGNhbmNlbEtleXVwID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAvLyBhbGxvdyBjdXN0b20gYG9uZm9jdXNgIG1ldGhvZFxyXG4gICAgICAgICAgICBkaXNwYXRjaEV2ZW50KCdvbmZvY3VzJywgaW5zdGFuY2UpO1xyXG5cclxuICAgICAgICAgICAgLy8gdW5iaW5kIHRoZSBldmVudFxyXG4gICAgICAgICAgICBvZmYoaW5zdGFuY2UuZWxlbWVudHMuZGlhbG9nLCB0cmFuc2l0aW9uLnR5cGUsIGluc3RhbmNlLl9faW50ZXJuYWwudHJhbnNpdGlvbkluSGFuZGxlcik7XHJcblxyXG4gICAgICAgICAgICByZW1vdmVDbGFzcyhpbnN0YW5jZS5lbGVtZW50cy5yb290LCBjbGFzc2VzLmFuaW1hdGlvbkluKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRyYW5zaXRpb24gb3V0IHRyYW5zaXRpb25lbmQgZXZlbnQgaGFuZGxlci4gXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge0V2ZW50fVx0XHRUcmFuc2l0aW9uRW5kIGV2ZW50IG9iamVjdC5cclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH1cdFx0VGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZVRyYW5zaXRpb25PdXRFdmVudChldmVudCwgaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgLy8gY2xlYXIgdGhlIHRpbWVyXHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChpbnN0YW5jZS5fX2ludGVybmFsLnRpbWVyT3V0KTtcclxuICAgICAgICAgICAgLy8gdW5iaW5kIHRoZSBldmVudFxyXG4gICAgICAgICAgICBvZmYoaW5zdGFuY2UuZWxlbWVudHMuZGlhbG9nLCB0cmFuc2l0aW9uLnR5cGUsIGluc3RhbmNlLl9faW50ZXJuYWwudHJhbnNpdGlvbk91dEhhbmRsZXIpO1xyXG5cclxuICAgICAgICAgICAgLy8gcmVzZXQgbW92ZSB1cGRhdGVzXHJcbiAgICAgICAgICAgIHJlc2V0TW92ZShpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIC8vIHJlc2V0IHJlc2l6ZSB1cGRhdGVzXHJcbiAgICAgICAgICAgIHJlc2V0UmVzaXplKGluc3RhbmNlKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHJlc3RvcmUgaWYgbWF4aW1pemVkXHJcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZS5pc01heGltaXplZCgpICYmICFpbnN0YW5jZS5nZXQoJ3N0YXJ0TWF4aW1pemVkJykpIHtcclxuICAgICAgICAgICAgICAgIHJlc3RvcmUoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyByZXR1cm4gZm9jdXMgdG8gdGhlIGxhc3QgYWN0aXZlIGVsZW1lbnRcclxuICAgICAgICAgICAgaWYgKGFsZXJ0aWZ5LmRlZmF1bHRzLm1haW50YWluRm9jdXMgJiYgaW5zdGFuY2UuX19pbnRlcm5hbC5hY3RpdmVFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5fX2ludGVybmFsLmFjdGl2ZUVsZW1lbnQuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLl9faW50ZXJuYWwuYWN0aXZlRWxlbWVudCA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vZGVzdG9yeSB0aGUgaW5zdGFuY2VcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5fX2ludGVybmFsLmRlc3Ryb3kgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLl9faW50ZXJuYWwuZGVzdHJveS5hcHBseShpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLyogQ29udHJvbHMgbW92aW5nIGEgZGlhbG9nIGFyb3VuZCAqL1xyXG4gICAgICAgIC8vaG9sZGUgdGhlIGN1cnJlbnQgbW92aW5nIGluc3RhbmNlXHJcbiAgICAgICAgdmFyIG1vdmFibGUgPSBudWxsLFxyXG4gICAgICAgICAgICAvL2hvbGRzIHRoZSBjdXJyZW50IFggb2Zmc2V0IHdoZW4gbW92ZSBzdGFydHNcclxuICAgICAgICAgICAgb2Zmc2V0WCA9IDAsXHJcbiAgICAgICAgICAgIC8vaG9sZHMgdGhlIGN1cnJlbnQgWSBvZmZzZXQgd2hlbiBtb3ZlIHN0YXJ0c1xyXG4gICAgICAgICAgICBvZmZzZXRZID0gMCxcclxuICAgICAgICAgICAgeFByb3AgPSAncGFnZVgnLFxyXG4gICAgICAgICAgICB5UHJvcCA9ICdwYWdlWScsXHJcbiAgICAgICAgICAgIGJvdW5kcyA9IG51bGwsXHJcbiAgICAgICAgICAgIHJlZnJlc2hUb3AgPSBmYWxzZSxcclxuICAgICAgICAgICAgbW92ZURlbGVnYXRlID0gbnVsbFxyXG4gICAgICAgIDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSGVscGVyOiBzZXRzIHRoZSBlbGVtZW50IHRvcC9sZWZ0IGNvb3JkaW5hdGVzXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudFx0RE9NIGV2ZW50IG9iamVjdC5cclxuICAgICAgICAgKiBAcGFyYW0ge05vZGV9IGVsZW1lbnQgVGhlIGVsZW1lbnQgYmVpbmcgbW92ZWQuXHJcbiAgICAgICAgICogXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIG1vdmVFbGVtZW50KGV2ZW50LCBlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBsZWZ0ID0gKGV2ZW50W3hQcm9wXSAtIG9mZnNldFgpLFxyXG4gICAgICAgICAgICAgICAgdG9wICA9IChldmVudFt5UHJvcF0gLSBvZmZzZXRZKTtcclxuXHJcbiAgICAgICAgICAgIGlmKHJlZnJlc2hUb3Ape1xyXG4gICAgICAgICAgICAgICAgdG9wIC09IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUubGVmdCA9IGxlZnQgKyAncHgnO1xyXG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLnRvcCA9IHRvcCArICdweCc7XHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEhlbHBlcjogc2V0cyB0aGUgZWxlbWVudCB0b3AvbGVmdCBjb29yZGluYXRlcyB3aXRoaW4gc2NyZWVuIGJvdW5kc1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnRcdERPTSBldmVudCBvYmplY3QuXHJcbiAgICAgICAgICogQHBhcmFtIHtOb2RlfSBlbGVtZW50IFRoZSBlbGVtZW50IGJlaW5nIG1vdmVkLlxyXG4gICAgICAgICAqIFxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBtb3ZlRWxlbWVudEJvdW5kZWQoZXZlbnQsIGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdmFyIGxlZnQgPSAoZXZlbnRbeFByb3BdIC0gb2Zmc2V0WCksXHJcbiAgICAgICAgICAgICAgICB0b3AgID0gKGV2ZW50W3lQcm9wXSAtIG9mZnNldFkpO1xyXG5cclxuICAgICAgICAgICAgaWYocmVmcmVzaFRvcCl7XHJcbiAgICAgICAgICAgICAgICB0b3AgLT0gZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUubGVmdCA9IE1hdGgubWluKGJvdW5kcy5tYXhMZWZ0LCBNYXRoLm1heChib3VuZHMubWluTGVmdCwgbGVmdCkpICsgJ3B4JztcclxuICAgICAgICAgICAgaWYocmVmcmVzaFRvcCl7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnRvcCA9IE1hdGgubWluKGJvdW5kcy5tYXhUb3AsIE1hdGgubWF4KGJvdW5kcy5taW5Ub3AsIHRvcCkpICsgJ3B4JztcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnRvcCA9IE1hdGgubWF4KGJvdW5kcy5taW5Ub3AsIHRvcCkgKyAncHgnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVHJpZ2dlcnMgdGhlIHN0YXJ0IG9mIGEgbW92ZSBldmVudCwgYXR0YWNoZWQgdG8gdGhlIGhlYWRlciBlbGVtZW50IG1vdXNlIGRvd24gZXZlbnQuXHJcbiAgICAgICAgICogQWRkcyBuby1zZWxlY3Rpb24gY2xhc3MgdG8gdGhlIGJvZHksIGRpc2FibGluZyBzZWxlY3Rpb24gd2hpbGUgbW92aW5nLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnRcdERPTSBldmVudCBvYmplY3QuXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKiBcclxuICAgICAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBmYWxzZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGJlZ2luTW92ZShldmVudCwgaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgaWYgKHJlc2l6YWJsZSA9PT0gbnVsbCAmJiAhaW5zdGFuY2UuaXNNYXhpbWl6ZWQoKSAmJiBpbnN0YW5jZS5nZXQoJ21vdmFibGUnKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50U3JjLCBsZWZ0PTAsIHRvcD0wO1xyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICd0b3VjaHN0YXJ0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRTcmMgPSBldmVudC50YXJnZXRUb3VjaGVzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHhQcm9wID0gJ2NsaWVudFgnO1xyXG4gICAgICAgICAgICAgICAgICAgIHlQcm9wID0gJ2NsaWVudFknO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC5idXR0b24gPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudFNyYyA9IGV2ZW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChldmVudFNyYykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IGluc3RhbmNlLmVsZW1lbnRzLmRpYWxvZztcclxuICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcyhlbGVtZW50LCBjbGFzc2VzLmNhcHR1cmUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zdHlsZS5sZWZ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQgPSBwYXJzZUludChlbGVtZW50LnN0eWxlLmxlZnQsIDEwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnN0eWxlLnRvcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3AgPSBwYXJzZUludChlbGVtZW50LnN0eWxlLnRvcCwgMTApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBvZmZzZXRYID0gZXZlbnRTcmNbeFByb3BdIC0gbGVmdDtcclxuICAgICAgICAgICAgICAgICAgICBvZmZzZXRZID0gZXZlbnRTcmNbeVByb3BdIC0gdG9wO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZihpbnN0YW5jZS5pc01vZGFsKCkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRZICs9IGluc3RhbmNlLmVsZW1lbnRzLm1vZGFsLnNjcm9sbFRvcDtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihpbnN0YW5jZS5pc1Bpbm5lZCgpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0WSAtPSBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaW5zdGFuY2UuZ2V0KCdtb3ZlQm91bmRlZCcpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSBlbGVtZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0TGVmdCA9IC1sZWZ0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0VG9wID0gLXRvcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY2FsYyBvZmZzZXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0TGVmdCArPSBjdXJyZW50Lm9mZnNldExlZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRUb3AgKz0gY3VycmVudC5vZmZzZXRUb3A7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKGN1cnJlbnQgPSBjdXJyZW50Lm9mZnNldFBhcmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3VuZHMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhMZWZ0IDogb2Zmc2V0TGVmdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbkxlZnQgOiAtb2Zmc2V0TGVmdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heFRvcCAgOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IC0gZWxlbWVudC5jbGllbnRIZWlnaHQgLSBvZmZzZXRUb3AsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5Ub3AgIDogLW9mZnNldFRvcFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlRGVsZWdhdGUgPSBtb3ZlRWxlbWVudEJvdW5kZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kcyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVEZWxlZ2F0ZSA9IG1vdmVFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAvLyBhbGxvdyBjdXN0b20gYG9ubW92ZWAgbWV0aG9kXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hFdmVudCgnb25tb3ZlJywgaW5zdGFuY2UpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZWZyZXNoVG9wID0gIWluc3RhbmNlLmlzTW9kYWwoKSAmJiBpbnN0YW5jZS5pc1Bpbm5lZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vdmFibGUgPSBpbnN0YW5jZTtcclxuICAgICAgICAgICAgICAgICAgICBtb3ZlRGVsZWdhdGUoZXZlbnRTcmMsIGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKGRvY3VtZW50LmJvZHksIGNsYXNzZXMubm9TZWxlY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGhlIGFjdHVhbCBtb3ZlIGhhbmRsZXIsICBhdHRhY2hlZCB0byBkb2N1bWVudC5ib2R5IG1vdXNlbW92ZSBldmVudC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XHRET00gZXZlbnQgb2JqZWN0LlxyXG4gICAgICAgICAqIFxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBtb3ZlKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChtb3ZhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnRTcmM7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3RvdWNobW92ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50U3JjID0gZXZlbnQudGFyZ2V0VG91Y2hlc1swXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuYnV0dG9uID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRTcmMgPSBldmVudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChldmVudFNyYykge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vdmVEZWxlZ2F0ZShldmVudFNyYywgbW92YWJsZS5lbGVtZW50cy5kaWFsb2cpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUcmlnZ2VycyB0aGUgZW5kIG9mIGEgbW92ZSBldmVudCwgIGF0dGFjaGVkIHRvIGRvY3VtZW50LmJvZHkgbW91c2V1cCBldmVudC5cclxuICAgICAgICAgKiBSZW1vdmVzIG5vLXNlbGVjdGlvbiBjbGFzcyBmcm9tIGRvY3VtZW50LmJvZHksIGFsbG93aW5nIHNlbGVjdGlvbi5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBlbmRNb3ZlKCkge1xyXG4gICAgICAgICAgICBpZiAobW92YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gbW92YWJsZTtcclxuICAgICAgICAgICAgICAgIG1vdmFibGUgPSBib3VuZHMgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoZG9jdW1lbnQuYm9keSwgY2xhc3Nlcy5ub1NlbGVjdGlvbik7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhpbnN0YW5jZS5lbGVtZW50cy5kaWFsb2csIGNsYXNzZXMuY2FwdHVyZSk7XHJcbiAgICAgICAgICAgICAgICAvLyBhbGxvdyBjdXN0b20gYG9ubW92ZWRgIG1ldGhvZFxyXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2hFdmVudCgnb25tb3ZlZCcsIGluc3RhbmNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmVzZXRzIGFueSBjaGFuZ2VzIG1hZGUgYnkgbW92aW5nIHRoZSBlbGVtZW50IHRvIGl0cyBvcmlnaW5hbCBzdGF0ZSxcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gcmVzZXRNb3ZlKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIG1vdmFibGUgPSBudWxsO1xyXG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGluc3RhbmNlLmVsZW1lbnRzLmRpYWxvZztcclxuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5sZWZ0ID0gZWxlbWVudC5zdHlsZS50b3AgPSAnJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFVwZGF0ZXMgdGhlIGRpYWxvZyBtb3ZlIGJlaGF2aW9yLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IG9uIFRydWUgdG8gYWRkIHRoZSBiZWhhdmlvciwgcmVtb3ZlcyBpdCBvdGhlcndpc2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlTW92YWJsZShpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UuZ2V0KCdtb3ZhYmxlJykpIHtcclxuICAgICAgICAgICAgICAgIC8vIGFkZCBjbGFzc1xyXG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoaW5zdGFuY2UuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy5tb3ZhYmxlKTtcclxuICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZS5pc09wZW4oKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJpbmRNb3ZhYmxlRXZlbnRzKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3Jlc2V0XHJcbiAgICAgICAgICAgICAgICByZXNldE1vdmUoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGNsYXNzXHJcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhpbnN0YW5jZS5lbGVtZW50cy5yb290LCBjbGFzc2VzLm1vdmFibGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlLmlzT3BlbigpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdW5iaW5kTW92YWJsZUV2ZW50cyhpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIENvbnRyb2xzIG1vdmluZyBhIGRpYWxvZyBhcm91bmQgKi9cclxuICAgICAgICAvL2hvbGRlIHRoZSBjdXJyZW50IGluc3RhbmNlIGJlaW5nIHJlc2l6ZWRcdFx0XHJcbiAgICAgICAgdmFyIHJlc2l6YWJsZSA9IG51bGwsXHJcbiAgICAgICAgICAgIC8vaG9sZHMgdGhlIHN0YXJpbmcgbGVmdCBvZmZzZXQgd2hlbiByZXNpemUgc3RhcnRzLlxyXG4gICAgICAgICAgICBzdGFydGluZ0xlZnQgPSBOdW1iZXIuTmFuLFxyXG4gICAgICAgICAgICAvL2hvbGRzIHRoZSBzdGFyaW5nIHdpZHRoIHdoZW4gcmVzaXplIHN0YXJ0cy5cclxuICAgICAgICAgICAgc3RhcnRpbmdXaWR0aCA9IDAsXHJcbiAgICAgICAgICAgIC8vaG9sZHMgdGhlIGluaXRpYWwgd2lkdGggd2hlbiByZXNpemVkIGZvciB0aGUgZmlyc3QgdGltZS5cclxuICAgICAgICAgICAgbWluV2lkdGggPSAwLFxyXG4gICAgICAgICAgICAvL2hvbGRzIHRoZSBvZmZzZXQgb2YgdGhlIHJlc2l6ZSBoYW5kbGUuXHJcbiAgICAgICAgICAgIGhhbmRsZU9mZnNldCA9IDBcclxuICAgICAgICA7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEhlbHBlcjogc2V0cyB0aGUgZWxlbWVudCB3aWR0aC9oZWlnaHQgYW5kIHVwZGF0ZXMgbGVmdCBjb29yZGluYXRlIGlmIG5lY2Nlc3NhcnkuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudFx0RE9NIG1vdXNlbW92ZSBldmVudCBvYmplY3QuXHJcbiAgICAgICAgICogQHBhcmFtIHtOb2RlfSBlbGVtZW50IFRoZSBlbGVtZW50IGJlaW5nIG1vdmVkLlxyXG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gcGlubmVkIEEgZmxhZyBpbmRpY2F0aW5nIGlmIHRoZSBlbGVtZW50IGJlaW5nIHJlc2l6ZWQgaXMgcGlubmVkIHRvIHRoZSBzY3JlZW4uXHJcbiAgICAgICAgICogXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHJlc2l6ZUVsZW1lbnQoZXZlbnQsIGVsZW1lbnQsIHBhZ2VSZWxhdGl2ZSkge1xyXG5cclxuICAgICAgICAgICAgLy9jYWxjdWxhdGUgb2Zmc2V0cyBmcm9tIDAsMFxyXG4gICAgICAgICAgICB2YXIgY3VycmVudCA9IGVsZW1lbnQ7XHJcbiAgICAgICAgICAgIHZhciBvZmZzZXRMZWZ0ID0gMDtcclxuICAgICAgICAgICAgdmFyIG9mZnNldFRvcCA9IDA7XHJcbiAgICAgICAgICAgIGRvIHtcclxuICAgICAgICAgICAgICAgIG9mZnNldExlZnQgKz0gY3VycmVudC5vZmZzZXRMZWZ0O1xyXG4gICAgICAgICAgICAgICAgb2Zmc2V0VG9wICs9IGN1cnJlbnQub2Zmc2V0VG9wO1xyXG4gICAgICAgICAgICB9IHdoaWxlIChjdXJyZW50ID0gY3VycmVudC5vZmZzZXRQYXJlbnQpO1xyXG5cclxuICAgICAgICAgICAgLy8gZGV0ZXJtaW5lIFgsWSBjb29yZGluYXRlcy5cclxuICAgICAgICAgICAgdmFyIFgsIFk7XHJcbiAgICAgICAgICAgIGlmIChwYWdlUmVsYXRpdmUgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIFggPSBldmVudC5wYWdlWDtcclxuICAgICAgICAgICAgICAgIFkgPSBldmVudC5wYWdlWTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIFggPSBldmVudC5jbGllbnRYO1xyXG4gICAgICAgICAgICAgICAgWSA9IGV2ZW50LmNsaWVudFk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gcnRsIGhhbmRsaW5nXHJcbiAgICAgICAgICAgIHZhciBpc1JUTCA9IGlzUmlnaHRUb0xlZnQoKTtcclxuICAgICAgICAgICAgaWYgKGlzUlRMKSB7XHJcbiAgICAgICAgICAgICAgICAvLyByZXZlcnNlIFggXHJcbiAgICAgICAgICAgICAgICBYID0gZG9jdW1lbnQuYm9keS5vZmZzZXRXaWR0aCAtIFg7XHJcbiAgICAgICAgICAgICAgICAvLyBpZiBoYXMgYSBzdGFydGluZyBsZWZ0LCBjYWxjdWxhdGUgb2Zmc2V0UmlnaHRcclxuICAgICAgICAgICAgICAgIGlmICghaXNOYU4oc3RhcnRpbmdMZWZ0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldExlZnQgPSBkb2N1bWVudC5ib2R5Lm9mZnNldFdpZHRoIC0gb2Zmc2V0TGVmdCAtIGVsZW1lbnQub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHNldCB3aWR0aC9oZWlnaHRcclxuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5oZWlnaHQgPSAoWSAtIG9mZnNldFRvcCArIGhhbmRsZU9mZnNldCkgKyAncHgnO1xyXG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLndpZHRoID0gKFggLSBvZmZzZXRMZWZ0ICsgaGFuZGxlT2Zmc2V0KSArICdweCc7XHJcblxyXG4gICAgICAgICAgICAvLyBpZiB0aGUgZWxlbWVudCBiZWluZyByZXNpemVkIGhhcyBhIHN0YXJ0aW5nIGxlZnQsIG1haW50YWluIGl0LlxyXG4gICAgICAgICAgICAvLyB0aGUgZGlhbG9nIGlzIGNlbnRlcmVkLCBkaXZpZGUgYnkgaGFsZiB0aGUgb2Zmc2V0IHRvIG1haW50YWluIHRoZSBtYXJnaW5zLlxyXG4gICAgICAgICAgICBpZiAoIWlzTmFOKHN0YXJ0aW5nTGVmdCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBkaWZmID0gTWF0aC5hYnMoZWxlbWVudC5vZmZzZXRXaWR0aCAtIHN0YXJ0aW5nV2lkdGgpICogMC41O1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzUlRMKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9uZWdhdGUgdGhlIGRpZmYsIHdoeT9cclxuICAgICAgICAgICAgICAgICAgICAvL3doZW4gZ3Jvd2luZyBpdCBzaG91bGQgZGVjcmVhc2UgbGVmdFxyXG4gICAgICAgICAgICAgICAgICAgIC8vd2hlbiBzaHJpbmtpbmcgaXQgc2hvdWxkIGluY3JlYXNlIGxlZnRcclxuICAgICAgICAgICAgICAgICAgICBkaWZmICo9IC0xO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQub2Zmc2V0V2lkdGggPiBzdGFydGluZ1dpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9ncm93aW5nXHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5sZWZ0ID0gKHN0YXJ0aW5nTGVmdCArIGRpZmYpICsgJ3B4JztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC5vZmZzZXRXaWR0aCA+PSBtaW5XaWR0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vc2hyaW5raW5nXHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5sZWZ0ID0gKHN0YXJ0aW5nTGVmdCAtIGRpZmYpICsgJ3B4JztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVHJpZ2dlcnMgdGhlIHN0YXJ0IG9mIGEgcmVzaXplIGV2ZW50LCBhdHRhY2hlZCB0byB0aGUgcmVzaXplIGhhbmRsZSBlbGVtZW50IG1vdXNlIGRvd24gZXZlbnQuXHJcbiAgICAgICAgICogQWRkcyBuby1zZWxlY3Rpb24gY2xhc3MgdG8gdGhlIGJvZHksIGRpc2FibGluZyBzZWxlY3Rpb24gd2hpbGUgbW92aW5nLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnRcdERPTSBldmVudCBvYmplY3QuXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKiBcclxuICAgICAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBmYWxzZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGJlZ2luUmVzaXplKGV2ZW50LCBpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBpZiAoIWluc3RhbmNlLmlzTWF4aW1pemVkKCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBldmVudFNyYztcclxuICAgICAgICAgICAgICAgIGlmIChldmVudC50eXBlID09PSAndG91Y2hzdGFydCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50U3JjID0gZXZlbnQudGFyZ2V0VG91Y2hlc1swXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuYnV0dG9uID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRTcmMgPSBldmVudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChldmVudFNyYykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFsbG93IGN1c3RvbSBgb25yZXNpemVgIG1ldGhvZFxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQoJ29ucmVzaXplJywgaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6YWJsZSA9IGluc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZU9mZnNldCA9IGluc3RhbmNlLmVsZW1lbnRzLnJlc2l6ZUhhbmRsZS5vZmZzZXRIZWlnaHQgLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gaW5zdGFuY2UuZWxlbWVudHMuZGlhbG9nO1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzZXMuY2FwdHVyZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRpbmdMZWZ0ID0gcGFyc2VJbnQoZWxlbWVudC5zdHlsZS5sZWZ0LCAxMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5oZWlnaHQgPSBlbGVtZW50Lm9mZnNldEhlaWdodCArICdweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5taW5IZWlnaHQgPSBpbnN0YW5jZS5lbGVtZW50cy5oZWFkZXIub2Zmc2V0SGVpZ2h0ICsgaW5zdGFuY2UuZWxlbWVudHMuZm9vdGVyLm9mZnNldEhlaWdodCArICdweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS53aWR0aCA9IChzdGFydGluZ1dpZHRoID0gZWxlbWVudC5vZmZzZXRXaWR0aCkgKyAncHgnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zdHlsZS5tYXhXaWR0aCAhPT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUubWluV2lkdGggPSAobWluV2lkdGggPSBlbGVtZW50Lm9mZnNldFdpZHRoKSArICdweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUubWF4V2lkdGggPSAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkQ2xhc3MoZG9jdW1lbnQuYm9keSwgY2xhc3Nlcy5ub1NlbGVjdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGUgYWN0dWFsIHJlc2l6ZSBoYW5kbGVyLCAgYXR0YWNoZWQgdG8gZG9jdW1lbnQuYm9keSBtb3VzZW1vdmUgZXZlbnQuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudFx0RE9NIGV2ZW50IG9iamVjdC5cclxuICAgICAgICAgKiBcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gcmVzaXplKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChyZXNpemFibGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBldmVudFNyYztcclxuICAgICAgICAgICAgICAgIGlmIChldmVudC50eXBlID09PSAndG91Y2htb3ZlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRTcmMgPSBldmVudC50YXJnZXRUb3VjaGVzWzBdO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC5idXR0b24gPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudFNyYyA9IGV2ZW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50U3JjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplRWxlbWVudChldmVudFNyYywgcmVzaXphYmxlLmVsZW1lbnRzLmRpYWxvZywgIXJlc2l6YWJsZS5nZXQoJ21vZGFsJykgJiYgIXJlc2l6YWJsZS5nZXQoJ3Bpbm5lZCcpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVHJpZ2dlcnMgdGhlIGVuZCBvZiBhIHJlc2l6ZSBldmVudCwgIGF0dGFjaGVkIHRvIGRvY3VtZW50LmJvZHkgbW91c2V1cCBldmVudC5cclxuICAgICAgICAgKiBSZW1vdmVzIG5vLXNlbGVjdGlvbiBjbGFzcyBmcm9tIGRvY3VtZW50LmJvZHksIGFsbG93aW5nIHNlbGVjdGlvbi5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBlbmRSZXNpemUoKSB7XHJcbiAgICAgICAgICAgIGlmIChyZXNpemFibGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IHJlc2l6YWJsZTtcclxuICAgICAgICAgICAgICAgIHJlc2l6YWJsZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhkb2N1bWVudC5ib2R5LCBjbGFzc2VzLm5vU2VsZWN0aW9uKTtcclxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGluc3RhbmNlLmVsZW1lbnRzLmRpYWxvZywgY2xhc3Nlcy5jYXB0dXJlKTtcclxuICAgICAgICAgICAgICAgIGNhbmNlbENsaWNrID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIC8vIGFsbG93IGN1c3RvbSBgb25yZXNpemVkYCBtZXRob2RcclxuICAgICAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQoJ29ucmVzaXplZCcsIGluc3RhbmNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmVzZXRzIGFueSBjaGFuZ2VzIG1hZGUgYnkgcmVzaXppbmcgdGhlIGVsZW1lbnQgdG8gaXRzIG9yaWdpbmFsIHN0YXRlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiByZXNldFJlc2l6ZShpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICByZXNpemFibGUgPSBudWxsO1xyXG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGluc3RhbmNlLmVsZW1lbnRzLmRpYWxvZztcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnQuc3R5bGUubWF4V2lkdGggPT09ICdub25lJykge1xyXG4gICAgICAgICAgICAgICAgLy9jbGVhciBpbmxpbmUgc3R5bGVzLlxyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5tYXhXaWR0aCA9IGVsZW1lbnQuc3R5bGUubWluV2lkdGggPSBlbGVtZW50LnN0eWxlLndpZHRoID0gZWxlbWVudC5zdHlsZS5oZWlnaHQgPSBlbGVtZW50LnN0eWxlLm1pbkhlaWdodCA9IGVsZW1lbnQuc3R5bGUubGVmdCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgLy9yZXNldCB2YXJpYWJsZXMuXHJcbiAgICAgICAgICAgICAgICBzdGFydGluZ0xlZnQgPSBOdW1iZXIuTmFuO1xyXG4gICAgICAgICAgICAgICAgc3RhcnRpbmdXaWR0aCA9IG1pbldpZHRoID0gaGFuZGxlT2Zmc2V0ID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFVwZGF0ZXMgdGhlIGRpYWxvZyBtb3ZlIGJlaGF2aW9yLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IG9uIFRydWUgdG8gYWRkIHRoZSBiZWhhdmlvciwgcmVtb3ZlcyBpdCBvdGhlcndpc2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlUmVzaXphYmxlKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZS5nZXQoJ3Jlc2l6YWJsZScpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBhZGQgY2xhc3NcclxuICAgICAgICAgICAgICAgIGFkZENsYXNzKGluc3RhbmNlLmVsZW1lbnRzLnJvb3QsIGNsYXNzZXMucmVzaXphYmxlKTtcclxuICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZS5pc09wZW4oKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJpbmRSZXNpemFibGVFdmVudHMoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy9yZXNldFxyXG4gICAgICAgICAgICAgICAgcmVzZXRSZXNpemUoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGNsYXNzXHJcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhpbnN0YW5jZS5lbGVtZW50cy5yb290LCBjbGFzc2VzLnJlc2l6YWJsZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UuaXNPcGVuKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB1bmJpbmRSZXNpemFibGVFdmVudHMoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZXNldCBtb3ZlL3Jlc2l6ZSBvbiB3aW5kb3cgcmVzaXplLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnRcdHdpbmRvdyByZXNpemUgZXZlbnQgb2JqZWN0LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHdpbmRvd1Jlc2l6ZSgvKmV2ZW50Ki8pIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBvcGVuRGlhbG9ncy5sZW5ndGg7IHggKz0gMSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gb3BlbkRpYWxvZ3NbeF07XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UuZ2V0KCdhdXRvUmVzZXQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc2V0TW92ZShpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzZXRSZXNpemUoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEJpbmQgZGlhbG9ncyBldmVudHNcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gYmluZEV2ZW50cyhpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAvLyBpZiBmaXJzdCBkaWFsb2csIGhvb2sgZ2xvYmFsIGhhbmRsZXJzXHJcbiAgICAgICAgICAgIGlmIChvcGVuRGlhbG9ncy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIC8vZ2xvYmFsXHJcbiAgICAgICAgICAgICAgICBvbih3aW5kb3csICdyZXNpemUnLCB3aW5kb3dSZXNpemUpO1xyXG4gICAgICAgICAgICAgICAgb24oZG9jdW1lbnQuYm9keSwgJ2tleXVwJywga2V5dXBIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgIG9uKGRvY3VtZW50LmJvZHksICdrZXlkb3duJywga2V5ZG93bkhhbmRsZXIpO1xyXG4gICAgICAgICAgICAgICAgb24oZG9jdW1lbnQuYm9keSwgJ2ZvY3VzJywgb25SZXNldCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9tb3ZlXHJcbiAgICAgICAgICAgICAgICBvbihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsICdtb3VzZW1vdmUnLCBtb3ZlKTtcclxuICAgICAgICAgICAgICAgIG9uKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgJ3RvdWNobW92ZScsIG1vdmUpO1xyXG4gICAgICAgICAgICAgICAgb24oZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCAnbW91c2V1cCcsIGVuZE1vdmUpO1xyXG4gICAgICAgICAgICAgICAgb24oZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCAndG91Y2hlbmQnLCBlbmRNb3ZlKTtcclxuICAgICAgICAgICAgICAgIC8vcmVzaXplXHJcbiAgICAgICAgICAgICAgICBvbihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsICdtb3VzZW1vdmUnLCByZXNpemUpO1xyXG4gICAgICAgICAgICAgICAgb24oZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCAndG91Y2htb3ZlJywgcmVzaXplKTtcclxuICAgICAgICAgICAgICAgIG9uKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgJ21vdXNldXAnLCBlbmRSZXNpemUpO1xyXG4gICAgICAgICAgICAgICAgb24oZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCAndG91Y2hlbmQnLCBlbmRSZXNpemUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBjb21tb24gZXZlbnRzXHJcbiAgICAgICAgICAgIG9uKGluc3RhbmNlLmVsZW1lbnRzLmNvbW1hbmRzLmNvbnRhaW5lciwgJ2NsaWNrJywgaW5zdGFuY2UuX19pbnRlcm5hbC5jb21tYW5kc0NsaWNrSGFuZGxlcik7XHJcbiAgICAgICAgICAgIG9uKGluc3RhbmNlLmVsZW1lbnRzLmZvb3RlciwgJ2NsaWNrJywgaW5zdGFuY2UuX19pbnRlcm5hbC5idXR0b25zQ2xpY2tIYW5kbGVyKTtcclxuICAgICAgICAgICAgb24oaW5zdGFuY2UuZWxlbWVudHMucmVzZXRbMF0sICdmb2N1cycsIGluc3RhbmNlLl9faW50ZXJuYWwucmVzZXRIYW5kbGVyKTtcclxuICAgICAgICAgICAgb24oaW5zdGFuY2UuZWxlbWVudHMucmVzZXRbMV0sICdmb2N1cycsIGluc3RhbmNlLl9faW50ZXJuYWwucmVzZXRIYW5kbGVyKTtcclxuXHJcbiAgICAgICAgICAgIC8vcHJldmVudCBoYW5kbGluZyBrZXkgdXAgd2hlbiBkaWFsb2cgaXMgYmVpbmcgb3BlbmVkIGJ5IGEga2V5IHN0cm9rZS5cclxuICAgICAgICAgICAgY2FuY2VsS2V5dXAgPSB0cnVlO1xyXG4gICAgICAgICAgICAvLyBob29rIGluIHRyYW5zaXRpb24gaGFuZGxlclxyXG4gICAgICAgICAgICBvbihpbnN0YW5jZS5lbGVtZW50cy5kaWFsb2csIHRyYW5zaXRpb24udHlwZSwgaW5zdGFuY2UuX19pbnRlcm5hbC50cmFuc2l0aW9uSW5IYW5kbGVyKTtcclxuXHJcbiAgICAgICAgICAgIC8vIG1vZGVsc3Mgb25seSBldmVudHNcclxuICAgICAgICAgICAgaWYgKCFpbnN0YW5jZS5nZXQoJ21vZGFsJykpIHtcclxuICAgICAgICAgICAgICAgIGJpbmRNb2RlbGVzc0V2ZW50cyhpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHJlc2l6YWJsZVxyXG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UuZ2V0KCdyZXNpemFibGUnKSkge1xyXG4gICAgICAgICAgICAgICAgYmluZFJlc2l6YWJsZUV2ZW50cyhpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIG1vdmFibGVcclxuICAgICAgICAgICAgaWYgKGluc3RhbmNlLmdldCgnbW92YWJsZScpKSB7XHJcbiAgICAgICAgICAgICAgICBiaW5kTW92YWJsZUV2ZW50cyhpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFVuYmluZCBkaWFsb2dzIGV2ZW50c1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiB1bmJpbmRFdmVudHMoaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgLy8gaWYgbGFzdCBkaWFsb2csIHJlbW92ZSBnbG9iYWwgaGFuZGxlcnNcclxuICAgICAgICAgICAgaWYgKG9wZW5EaWFsb2dzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgLy9nbG9iYWxcclxuICAgICAgICAgICAgICAgIG9mZih3aW5kb3csICdyZXNpemUnLCB3aW5kb3dSZXNpemUpO1xyXG4gICAgICAgICAgICAgICAgb2ZmKGRvY3VtZW50LmJvZHksICdrZXl1cCcsIGtleXVwSGFuZGxlcik7XHJcbiAgICAgICAgICAgICAgICBvZmYoZG9jdW1lbnQuYm9keSwgJ2tleWRvd24nLCBrZXlkb3duSGFuZGxlcik7XHJcbiAgICAgICAgICAgICAgICBvZmYoZG9jdW1lbnQuYm9keSwgJ2ZvY3VzJywgb25SZXNldCk7XHJcbiAgICAgICAgICAgICAgICAvL21vdmVcclxuICAgICAgICAgICAgICAgIG9mZihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsICdtb3VzZW1vdmUnLCBtb3ZlKTtcclxuICAgICAgICAgICAgICAgIG9mZihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsICdtb3VzZXVwJywgZW5kTW92ZSk7XHJcbiAgICAgICAgICAgICAgICAvL3Jlc2l6ZVxyXG4gICAgICAgICAgICAgICAgb2ZmKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgJ21vdXNlbW92ZScsIHJlc2l6ZSk7XHJcbiAgICAgICAgICAgICAgICBvZmYoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCAnbW91c2V1cCcsIGVuZFJlc2l6ZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGNvbW1vbiBldmVudHNcclxuICAgICAgICAgICAgb2ZmKGluc3RhbmNlLmVsZW1lbnRzLmNvbW1hbmRzLmNvbnRhaW5lciwgJ2NsaWNrJywgaW5zdGFuY2UuX19pbnRlcm5hbC5jb21tYW5kc0NsaWNrSGFuZGxlcik7XHJcbiAgICAgICAgICAgIG9mZihpbnN0YW5jZS5lbGVtZW50cy5mb290ZXIsICdjbGljaycsIGluc3RhbmNlLl9faW50ZXJuYWwuYnV0dG9uc0NsaWNrSGFuZGxlcik7XHJcbiAgICAgICAgICAgIG9mZihpbnN0YW5jZS5lbGVtZW50cy5yZXNldFswXSwgJ2ZvY3VzJywgaW5zdGFuY2UuX19pbnRlcm5hbC5yZXNldEhhbmRsZXIpO1xyXG4gICAgICAgICAgICBvZmYoaW5zdGFuY2UuZWxlbWVudHMucmVzZXRbMV0sICdmb2N1cycsIGluc3RhbmNlLl9faW50ZXJuYWwucmVzZXRIYW5kbGVyKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGhvb2sgb3V0IHRyYW5zaXRpb24gaGFuZGxlclxyXG4gICAgICAgICAgICBvbihpbnN0YW5jZS5lbGVtZW50cy5kaWFsb2csIHRyYW5zaXRpb24udHlwZSwgaW5zdGFuY2UuX19pbnRlcm5hbC50cmFuc2l0aW9uT3V0SGFuZGxlcik7XHJcblxyXG4gICAgICAgICAgICAvLyBtb2RlbHNzIG9ubHkgZXZlbnRzXHJcbiAgICAgICAgICAgIGlmICghaW5zdGFuY2UuZ2V0KCdtb2RhbCcpKSB7XHJcbiAgICAgICAgICAgICAgICB1bmJpbmRNb2RlbGVzc0V2ZW50cyhpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIG1vdmFibGVcclxuICAgICAgICAgICAgaWYgKGluc3RhbmNlLmdldCgnbW92YWJsZScpKSB7XHJcbiAgICAgICAgICAgICAgICB1bmJpbmRNb3ZhYmxlRXZlbnRzKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gcmVzaXphYmxlXHJcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZS5nZXQoJ3Jlc2l6YWJsZScpKSB7XHJcbiAgICAgICAgICAgICAgICB1bmJpbmRSZXNpemFibGVFdmVudHMoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQmluZCBtb2RlbGVzcyBzcGVjaWZpYyBldmVudHNcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gYmluZE1vZGVsZXNzRXZlbnRzKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIG9uKGluc3RhbmNlLmVsZW1lbnRzLmRpYWxvZywgJ2ZvY3VzJywgaW5zdGFuY2UuX19pbnRlcm5hbC5icmluZ1RvRnJvbnRIYW5kbGVyLCB0cnVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFVuYmluZCBtb2RlbGVzcyBzcGVjaWZpYyBldmVudHNcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gdW5iaW5kTW9kZWxlc3NFdmVudHMoaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgb2ZmKGluc3RhbmNlLmVsZW1lbnRzLmRpYWxvZywgJ2ZvY3VzJywgaW5zdGFuY2UuX19pbnRlcm5hbC5icmluZ1RvRnJvbnRIYW5kbGVyLCB0cnVlKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQmluZCBtb3ZhYmxlIHNwZWNpZmljIGV2ZW50c1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBiaW5kTW92YWJsZUV2ZW50cyhpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBvbihpbnN0YW5jZS5lbGVtZW50cy5oZWFkZXIsICdtb3VzZWRvd24nLCBpbnN0YW5jZS5fX2ludGVybmFsLmJlZ2luTW92ZUhhbmRsZXIpO1xyXG4gICAgICAgICAgICBvbihpbnN0YW5jZS5lbGVtZW50cy5oZWFkZXIsICd0b3VjaHN0YXJ0JywgaW5zdGFuY2UuX19pbnRlcm5hbC5iZWdpbk1vdmVIYW5kbGVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFVuYmluZCBtb3ZhYmxlIHNwZWNpZmljIGV2ZW50c1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiB1bmJpbmRNb3ZhYmxlRXZlbnRzKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIG9mZihpbnN0YW5jZS5lbGVtZW50cy5oZWFkZXIsICdtb3VzZWRvd24nLCBpbnN0YW5jZS5fX2ludGVybmFsLmJlZ2luTW92ZUhhbmRsZXIpO1xyXG4gICAgICAgICAgICBvZmYoaW5zdGFuY2UuZWxlbWVudHMuaGVhZGVyLCAndG91Y2hzdGFydCcsIGluc3RhbmNlLl9faW50ZXJuYWwuYmVnaW5Nb3ZlSGFuZGxlcik7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEJpbmQgcmVzaXphYmxlIHNwZWNpZmljIGV2ZW50c1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBiaW5kUmVzaXphYmxlRXZlbnRzKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIG9uKGluc3RhbmNlLmVsZW1lbnRzLnJlc2l6ZUhhbmRsZSwgJ21vdXNlZG93bicsIGluc3RhbmNlLl9faW50ZXJuYWwuYmVnaW5SZXNpemVIYW5kbGVyKTtcclxuICAgICAgICAgICAgb24oaW5zdGFuY2UuZWxlbWVudHMucmVzaXplSGFuZGxlLCAndG91Y2hzdGFydCcsIGluc3RhbmNlLl9faW50ZXJuYWwuYmVnaW5SZXNpemVIYW5kbGVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFVuYmluZCByZXNpemFibGUgc3BlY2lmaWMgZXZlbnRzXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2UgVGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHVuYmluZFJlc2l6YWJsZUV2ZW50cyhpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBvZmYoaW5zdGFuY2UuZWxlbWVudHMucmVzaXplSGFuZGxlLCAnbW91c2Vkb3duJywgaW5zdGFuY2UuX19pbnRlcm5hbC5iZWdpblJlc2l6ZUhhbmRsZXIpO1xyXG4gICAgICAgICAgICBvZmYoaW5zdGFuY2UuZWxlbWVudHMucmVzaXplSGFuZGxlLCAndG91Y2hzdGFydCcsIGluc3RhbmNlLl9faW50ZXJuYWwuYmVnaW5SZXNpemVIYW5kbGVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEJpbmQgY2xvc2FibGUgZXZlbnRzXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2UgVGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGJpbmRDbG9zYWJsZUV2ZW50cyhpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBvbihpbnN0YW5jZS5lbGVtZW50cy5tb2RhbCwgJ2NsaWNrJywgaW5zdGFuY2UuX19pbnRlcm5hbC5tb2RhbENsaWNrSGFuZGxlcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBVbmJpbmQgY2xvc2FibGUgc3BlY2lmaWMgZXZlbnRzXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2UgVGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHVuYmluZENsb3NhYmxlRXZlbnRzKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIG9mZihpbnN0YW5jZS5lbGVtZW50cy5tb2RhbCwgJ2NsaWNrJywgaW5zdGFuY2UuX19pbnRlcm5hbC5tb2RhbENsaWNrSGFuZGxlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGRpYWxvZyBBUElcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBfX2luaXQ6aW5pdGlhbGl6ZSxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIENoZWNrIGlmIGRpYWxvZyBpcyBjdXJyZW50bHkgb3BlblxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgaXNPcGVuOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fX2ludGVybmFsLmlzT3BlbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaXNNb2RhbDogZnVuY3Rpb24gKCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50cy5yb290LmNsYXNzTmFtZS5pbmRleE9mKGNsYXNzZXMubW9kZWxlc3MpIDwgMDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaXNNYXhpbWl6ZWQ6ZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzLnJvb3QuY2xhc3NOYW1lLmluZGV4T2YoY2xhc3Nlcy5tYXhpbWl6ZWQpID4gLTE7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGlzUGlubmVkOmZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50cy5yb290LmNsYXNzTmFtZS5pbmRleE9mKGNsYXNzZXMudW5waW5uZWQpIDwgMDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbWF4aW1pemU6ZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGlmKCF0aGlzLmlzTWF4aW1pemVkKCkpe1xyXG4gICAgICAgICAgICAgICAgICAgIG1heGltaXplKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJlc3RvcmU6ZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuaXNNYXhpbWl6ZWQoKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdG9yZSh0aGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwaW46ZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGlmKCF0aGlzLmlzUGlubmVkKCkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHBpbih0aGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB1bnBpbjpmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5pc1Bpbm5lZCgpKXtcclxuICAgICAgICAgICAgICAgICAgICB1bnBpbih0aGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBicmluZ1RvRnJvbnQ6ZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGJyaW5nVG9Gcm9udChudWxsLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogTW92ZSB0aGUgZGlhbG9nIHRvIGEgc3BlY2lmaWMgeC95IGNvb3JkaW5hdGVzXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4ICAgIFRoZSBuZXcgZGlhbG9nIHggY29vcmRpbmF0ZSBpbiBwaXhlbHMuXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5ICAgIFRoZSBuZXcgZGlhbG9nIHkgY29vcmRpbmF0ZSBpbiBwaXhlbHMuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRpYWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIG1vdmVUbzpmdW5jdGlvbih4LHkpe1xyXG4gICAgICAgICAgICAgICAgaWYoIWlzTmFOKHgpICYmICFpc05hTih5KSl7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWxsb3cgY3VzdG9tIGBvbm1vdmVgIG1ldGhvZFxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQoJ29ubW92ZScsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5lbGVtZW50cy5kaWFsb2csXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBlbGVtZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRMZWZ0ID0gMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0VG9wID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAvL3N1YnRyYWN0IGV4aXN0aW5nIGxlZnQsdG9wXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuc3R5bGUubGVmdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRMZWZ0IC09IHBhcnNlSW50KGVsZW1lbnQuc3R5bGUubGVmdCwgMTApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zdHlsZS50b3ApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0VG9wIC09IHBhcnNlSW50KGVsZW1lbnQuc3R5bGUudG9wLCAxMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vY2FsYyBvZmZzZXRcclxuICAgICAgICAgICAgICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldExlZnQgKz0gY3VycmVudC5vZmZzZXRMZWZ0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRUb3AgKz0gY3VycmVudC5vZmZzZXRUb3A7XHJcbiAgICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoY3VycmVudCA9IGN1cnJlbnQub2Zmc2V0UGFyZW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy9jYWxjIGxlZnQsIHRvcFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBsZWZ0ID0gKHggLSBvZmZzZXRMZWZ0KTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdG9wICA9ICh5IC0gb2Zmc2V0VG9wKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8vLyBydGwgaGFuZGxpbmdcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNSaWdodFRvTGVmdCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQgKj0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLmxlZnQgPSBsZWZ0ICsgJ3B4JztcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnRvcCA9IHRvcCArICdweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWxsb3cgY3VzdG9tIGBvbm1vdmVkYCBtZXRob2RcclxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaEV2ZW50KCdvbm1vdmVkJywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIFJlc2l6ZSB0aGUgZGlhbG9nIHRvIGEgc3BlY2lmaWMgd2lkdGgvaGVpZ2h0ICh0aGUgZGlhbG9nIG11c3QgYmUgJ3Jlc2l6YWJsZScpLlxyXG4gICAgICAgICAgICAgKiBUaGUgZGlhbG9nIGNhbiBiZSByZXNpemVkIHRvOlxyXG4gICAgICAgICAgICAgKiAgQSBtaW5pbXVtIHdpZHRoIGVxdWFsIHRvIHRoZSBpbml0aWFsIGRpc3BsYXkgd2lkdGhcclxuICAgICAgICAgICAgICogIEEgbWluaW11bSBoZWlnaHQgZXF1YWwgdG8gdGhlIHN1bSBvZiBoZWFkZXIvZm9vdGVyIGhlaWdodHMuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7TnVtYmVyIG9yIFN0cmluZ30gd2lkdGggICAgVGhlIG5ldyBkaWFsb2cgd2lkdGggaW4gcGl4ZWxzIG9yIGluIHBlcmNlbnQuXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7TnVtYmVyIG9yIFN0cmluZ30gaGVpZ2h0ICAgVGhlIG5ldyBkaWFsb2cgaGVpZ2h0IGluIHBpeGVscyBvciBpbiBwZXJjZW50LlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkaWFsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICByZXNpemVUbzpmdW5jdGlvbih3aWR0aCxoZWlnaHQpe1xyXG4gICAgICAgICAgICAgICAgdmFyIHcgPSBwYXJzZUZsb2F0KHdpZHRoKSxcclxuICAgICAgICAgICAgICAgICAgICBoID0gcGFyc2VGbG9hdChoZWlnaHQpLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlZ2V4ID0gLyhcXGQqXFwuXFxkK3xcXGQrKSUvXHJcbiAgICAgICAgICAgICAgICA7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoIWlzTmFOKHcpICYmICFpc05hTihoKSAmJiB0aGlzLmdldCgncmVzaXphYmxlJykgPT09IHRydWUpe1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFsbG93IGN1c3RvbSBgb25yZXNpemVgIG1ldGhvZFxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQoJ29ucmVzaXplJywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoKCcnICsgd2lkdGgpLm1hdGNoKHJlZ2V4KSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHcgPSB3IC8gMTAwICogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCgnJyArIGhlaWdodCkubWF0Y2gocmVnZXgpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaCA9IGggLyAxMDAgKiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnRzLmRpYWxvZztcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zdHlsZS5tYXhXaWR0aCAhPT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUubWluV2lkdGggPSAobWluV2lkdGggPSBlbGVtZW50Lm9mZnNldFdpZHRoKSArICdweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUubWF4V2lkdGggPSAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5taW5IZWlnaHQgPSB0aGlzLmVsZW1lbnRzLmhlYWRlci5vZmZzZXRIZWlnaHQgKyB0aGlzLmVsZW1lbnRzLmZvb3Rlci5vZmZzZXRIZWlnaHQgKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUud2lkdGggPSB3ICsgJ3B4JztcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLmhlaWdodCA9IGggKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFsbG93IGN1c3RvbSBgb25yZXNpemVkYCBtZXRob2RcclxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaEV2ZW50KCdvbnJlc2l6ZWQnLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogR2V0cyBvciBTZXRzIGRpYWxvZyBzZXR0aW5ncy9vcHRpb25zIFxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IGtleSBBIHN0cmluZyBzcGVjaWZ5aW5nIGEgcHJvcGVyeSBuYW1lIG9yIGEgY29sbGVjdGlvbiBvZiBrZXkvdmFsdWUgcGFpcnMuXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZSBPcHRpb25hbCwgdGhlIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCB0aGUga2V5IChpbiBjYXNlIGl0IHdhcyBhIHN0cmluZykuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHNldHRpbmcgOiBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHVwZGF0ZSh0aGlzLCB0aGlzLl9faW50ZXJuYWwub3B0aW9ucywgZnVuY3Rpb24oayxvLG4peyBvcHRpb25VcGRhdGVkKHNlbGYsayxvLG4pOyB9LCBrZXksIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIGlmKHJlc3VsdC5vcCA9PT0gJ2dldCcpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHJlc3VsdC5mb3VuZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYodHlwZW9mIHRoaXMuc2V0dGluZ3MgIT09ICd1bmRlZmluZWQnKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZSh0aGlzLCB0aGlzLnNldHRpbmdzLCB0aGlzLnNldHRpbmdVcGRhdGVkIHx8IGZ1bmN0aW9uKCl7fSwga2V5LCB2YWx1ZSkudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfWVsc2UgaWYocmVzdWx0Lm9wID09PSAnc2V0Jyl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0Lml0ZW1zLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSB0aGlzLnNldHRpbmdVcGRhdGVkIHx8IGZ1bmN0aW9uKCl7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciB4PTA7eDxyZXN1bHQuaXRlbXMubGVuZ3RoO3grPTEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSByZXN1bHQuaXRlbXNbeF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighaXRlbS5mb3VuZCAmJiB0eXBlb2YgdGhpcy5zZXR0aW5ncyAhPT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZSh0aGlzLCB0aGlzLnNldHRpbmdzLCBjYWxsYmFjaywgaXRlbS5rZXksIGl0ZW0udmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogW0FsaWFzXSBTZXRzIGRpYWxvZyBzZXR0aW5ncy9vcHRpb25zIFxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgc2V0OmZ1bmN0aW9uKGtleSwgdmFsdWUpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5nKGtleSx2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIFtBbGlhc10gR2V0cyBkaWFsb2cgc2V0dGluZ3Mvb3B0aW9ucyBcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGdldDpmdW5jdGlvbihrZXkpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZyhrZXkpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgKiBTZXRzIGRpYWxvZyBoZWFkZXJcclxuICAgICAgICAgICAgKiBAY29udGVudCB7c3RyaW5nIG9yIGVsZW1lbnR9XHJcbiAgICAgICAgICAgICpcclxuICAgICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHNldEhlYWRlcjpmdW5jdGlvbihjb250ZW50KXtcclxuICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJDb250ZW50cyh0aGlzLmVsZW1lbnRzLmhlYWRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50cy5oZWFkZXIuaW5uZXJIVE1MID0gY29udGVudDtcclxuICAgICAgICAgICAgICAgIH1lbHNlIGlmIChjb250ZW50IGluc3RhbmNlb2Ygd2luZG93LkhUTUxFbGVtZW50ICYmIHRoaXMuZWxlbWVudHMuaGVhZGVyLmZpcnN0Q2hpbGQgIT09IGNvbnRlbnQpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyQ29udGVudHModGhpcy5lbGVtZW50cy5oZWFkZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHMuaGVhZGVyLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAqIFNldHMgZGlhbG9nIGNvbnRlbnRzXHJcbiAgICAgICAgICAgICogQGNvbnRlbnQge3N0cmluZyBvciBlbGVtZW50fVxyXG4gICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBzZXRDb250ZW50OmZ1bmN0aW9uKGNvbnRlbnQpe1xyXG4gICAgICAgICAgICAgICAgaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKXtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhckNvbnRlbnRzKHRoaXMuZWxlbWVudHMuY29udGVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50cy5jb250ZW50LmlubmVySFRNTCA9IGNvbnRlbnQ7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZiAoY29udGVudCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MRWxlbWVudCAmJiB0aGlzLmVsZW1lbnRzLmNvbnRlbnQuZmlyc3RDaGlsZCAhPT0gY29udGVudCl7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJDb250ZW50cyh0aGlzLmVsZW1lbnRzLmNvbnRlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHMuY29udGVudC5hcHBlbmRDaGlsZChjb250ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogU2hvdyB0aGUgZGlhbG9nIGFzIG1vZGFsXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEByZXR1cm4ge09iamVjdH0gdGhlIGRpYWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHNob3dNb2RhbDogZnVuY3Rpb24oY2xhc3NOYW1lKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNob3codHJ1ZSwgY2xhc3NOYW1lKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIFNob3cgdGhlIGRpYWxvZ1xyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHRoZSBkaWFsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBzaG93OiBmdW5jdGlvbiAobW9kYWwsIGNsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBlbnN1cmUgaW5pdGlhbGl6YXRpb25cclxuICAgICAgICAgICAgICAgIGluaXRpYWxpemUodGhpcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCAhdGhpcy5fX2ludGVybmFsLmlzT3BlbiApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIHRvIG9wZW4gZGlhbG9nc1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX19pbnRlcm5hbC5pc09wZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIG9wZW5EaWFsb2dzLnB1c2godGhpcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNhdmUgbGFzdCBmb2N1c2VkIGVsZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICBpZihhbGVydGlmeS5kZWZhdWx0cy5tYWludGFpbkZvY3VzKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fX2ludGVybmFsLmFjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy9hbGxvdyBjdXN0b20gZG9tIG1hbmlwdWxhdGlvbiB1cGRhdGVzIGJlZm9yZSBzaG93aW5nIHRoZSBkaWFsb2cuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYodHlwZW9mIHRoaXMucHJlcGFyZSA9PT0gJ2Z1bmN0aW9uJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJlcGFyZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYmluZEV2ZW50cyh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYobW9kYWwgIT09IHVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0KCdtb2RhbCcsIG1vZGFsKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vc2F2ZSBzY3JvbGwgdG8gcHJldmVudCBkb2N1bWVudCBqdW1wXHJcbiAgICAgICAgICAgICAgICAgICAgc2F2ZVNjcm9sbFBvc2l0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGVuc3VyZU5vT3ZlcmZsb3coKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWxsb3cgY3VzdG9tIGRpYWxvZyBjbGFzcyBvbiBzaG93XHJcbiAgICAgICAgICAgICAgICAgICAgaWYodHlwZW9mIGNsYXNzTmFtZSA9PT0gJ3N0cmluZycgJiYgY2xhc3NOYW1lICE9PSAnJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX19pbnRlcm5hbC5jbGFzc05hbWUgPSBjbGFzc05hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKHRoaXMuZWxlbWVudHMucm9vdCwgY2xhc3NOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1heGltaXplIGlmIHN0YXJ0IG1heGltaXplZFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICggdGhpcy5nZXQoJ3N0YXJ0TWF4aW1pemVkJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXhpbWl6ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKHRoaXMuaXNNYXhpbWl6ZWQoKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RvcmUodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVBYnNQb3NpdGlvbkZpeCh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3ModGhpcy5lbGVtZW50cy5yb290LCBjbGFzc2VzLmFuaW1hdGlvbk91dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkQ2xhc3ModGhpcy5lbGVtZW50cy5yb290LCBjbGFzc2VzLmFuaW1hdGlvbkluKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2V0IDFzIGZhbGxiYWNrIGluIGNhc2UgdHJhbnNpdGlvbiBldmVudCBkb2Vzbid0IGZpcmVcclxuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoIHRoaXMuX19pbnRlcm5hbC50aW1lckluKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9faW50ZXJuYWwudGltZXJJbiA9IHNldFRpbWVvdXQoIHRoaXMuX19pbnRlcm5hbC50cmFuc2l0aW9uSW5IYW5kbGVyLCB0cmFuc2l0aW9uLnN1cHBvcnRlZCA/IDEwMDAgOiAxMDAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaXNTYWZhcmkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3JjZSBkZXNrdG9wIHNhZmFyaSByZWZsb3dcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJvb3QgPSB0aGlzLmVsZW1lbnRzLnJvb3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvb3Quc3R5bGUuZGlzcGxheSAgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyb290LnN0eWxlLmRpc3BsYXkgID0gJ2Jsb2NrJzt9LCAwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vcmVmbG93XHJcbiAgICAgICAgICAgICAgICAgICAgcmVmbG93ID0gdGhpcy5lbGVtZW50cy5yb290Lm9mZnNldFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAvLyBzaG93IGRpYWxvZ1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKHRoaXMuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy5oaWRkZW4pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBpbnRlcm5hbCBvbiBzaG93IGV2ZW50XHJcbiAgICAgICAgICAgICAgICAgICAgaWYodHlwZW9mIHRoaXMuaG9va3Mub25zaG93ID09PSAnZnVuY3Rpb24nKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ob29rcy5vbnNob3cuY2FsbCh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFsbG93IGN1c3RvbSBgb25zaG93YCBtZXRob2RcclxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaEV2ZW50KCdvbnNob3cnLCB0aGlzKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAvLyByZXNldCBtb3ZlIHVwZGF0ZXNcclxuICAgICAgICAgICAgICAgICAgICByZXNldE1vdmUodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzZXQgcmVzaXplIHVwZGF0ZXNcclxuICAgICAgICAgICAgICAgICAgICByZXNldFJlc2l6ZSh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBzaGFrZSB0aGUgZGlhbG9nIHRvIGluZGljYXRlIGl0cyBhbHJlYWR5IG9wZW5cclxuICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcyh0aGlzLmVsZW1lbnRzLmRpYWxvZywgY2xhc3Nlcy5zaGFrZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3Moc2VsZi5lbGVtZW50cy5kaWFsb2csIGNsYXNzZXMuc2hha2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sMjAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogQ2xvc2UgdGhlIGRpYWxvZ1xyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkaWFsb2cgaW5zdGFuY2VcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGNsb3NlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fX2ludGVybmFsLmlzT3BlbiApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjdXN0b20gYG9uY2xvc2luZ2AgZXZlbnRcclxuICAgICAgICAgICAgICAgICAgICBpZihkaXNwYXRjaEV2ZW50KCdvbmNsb3NpbmcnLCB0aGlzKSAhPT0gZmFsc2Upe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdW5iaW5kRXZlbnRzKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3ModGhpcy5lbGVtZW50cy5yb290LCBjbGFzc2VzLmFuaW1hdGlvbkluKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkQ2xhc3ModGhpcy5lbGVtZW50cy5yb290LCBjbGFzc2VzLmFuaW1hdGlvbk91dCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXQgMXMgZmFsbGJhY2sgaW4gY2FzZSB0cmFuc2l0aW9uIGV2ZW50IGRvZXNuJ3QgZmlyZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoIHRoaXMuX19pbnRlcm5hbC50aW1lck91dCApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9faW50ZXJuYWwudGltZXJPdXQgPSBzZXRUaW1lb3V0KCB0aGlzLl9faW50ZXJuYWwudHJhbnNpdGlvbk91dEhhbmRsZXIsIHRyYW5zaXRpb24uc3VwcG9ydGVkID8gMTAwMCA6IDEwMCApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBoaWRlIGRpYWxvZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcyh0aGlzLmVsZW1lbnRzLnJvb3QsIGNsYXNzZXMuaGlkZGVuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9yZWZsb3dcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmbG93ID0gdGhpcy5lbGVtZW50cy5tb2RhbC5vZmZzZXRXaWR0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBjdXN0b20gZGlhbG9nIGNsYXNzIG9uIGhpZGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9faW50ZXJuYWwuY2xhc3NOYW1lICE9PSAndW5kZWZpbmVkJyAmJiB0aGlzLl9faW50ZXJuYWwuY2xhc3NOYW1lICE9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3ModGhpcy5lbGVtZW50cy5yb290LCB0aGlzLl9faW50ZXJuYWwuY2xhc3NOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW50ZXJuYWwgb24gY2xvc2UgZXZlbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYodHlwZW9mIHRoaXMuaG9va3Mub25jbG9zZSA9PT0gJ2Z1bmN0aW9uJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhvb2tzLm9uY2xvc2UuY2FsbCh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWxsb3cgY3VzdG9tIGBvbmNsb3NlYCBtZXRob2RcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hFdmVudCgnb25jbG9zZScsIHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9yZW1vdmUgZnJvbSBvcGVuIGRpYWxvZ3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkRpYWxvZ3Muc3BsaWNlKG9wZW5EaWFsb2dzLmluZGV4T2YodGhpcyksMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX19pbnRlcm5hbC5pc09wZW4gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuc3VyZU5vT3ZlcmZsb3coKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBDbG9zZSBhbGwgb3BlbiBkaWFsb2dzIGV4Y2VwdCB0aGlzLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBjbG9zZU90aGVyczpmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgYWxlcnRpZnkuY2xvc2VBbGwodGhpcyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIERlc3Ryb3lzIHRoaXMgZGlhbG9nIGluc3RhbmNlXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGRlc3Ryb3k6ZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9faW50ZXJuYWwuaXNPcGVuICkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbWFyayBkaWFsb2cgZm9yIGRlc3RydWN0aW9uLCB0aGlzIHdpbGwgYmUgY2FsbGVkIG9uIHRyYW5pc3Rpb25PdXQgZXZlbnQuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX2ludGVybmFsLmRlc3Ryb3kgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0cnVjdCh0aGlzLCBpbml0aWFsaXplKTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY2xvc2UgdGhlIGRpYWxvZyB0byB1bmJpbmQgYWxsIGV2ZW50cy5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBkZXN0cnVjdCh0aGlzLCBpbml0aWFsaXplKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH07XHJcblx0fSAoKSApO1xyXG4gICAgdmFyIG5vdGlmaWVyID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcmVmbG93LFxyXG4gICAgICAgICAgICBlbGVtZW50LFxyXG4gICAgICAgICAgICBvcGVuSW5zdGFuY2VzID0gW10sXHJcbiAgICAgICAgICAgIGNsYXNzZXMgPSB7XHJcbiAgICAgICAgICAgICAgICBiYXNlOiAnYWxlcnRpZnktbm90aWZpZXInLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ2Fqcy1tZXNzYWdlJyxcclxuICAgICAgICAgICAgICAgIHRvcDogJ2Fqcy10b3AnLFxyXG4gICAgICAgICAgICAgICAgcmlnaHQ6ICdhanMtcmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgYm90dG9tOiAnYWpzLWJvdHRvbScsXHJcbiAgICAgICAgICAgICAgICBsZWZ0OiAnYWpzLWxlZnQnLFxyXG4gICAgICAgICAgICAgICAgY2VudGVyOiAnYWpzLWNlbnRlcicsXHJcbiAgICAgICAgICAgICAgICB2aXNpYmxlOiAnYWpzLXZpc2libGUnLFxyXG4gICAgICAgICAgICAgICAgaGlkZGVuOiAnYWpzLWhpZGRlbicsXHJcbiAgICAgICAgICAgICAgICBjbG9zZTogJ2Fqcy1jbG9zZSdcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBIZWxwZXI6IGluaXRpYWxpemVzIHRoZSBub3RpZmllciBpbnN0YW5jZVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZShpbnN0YW5jZSkge1xyXG5cclxuICAgICAgICAgICAgaWYgKCFpbnN0YW5jZS5fX2ludGVybmFsKSB7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5fX2ludGVybmFsID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhbGVydGlmeS5kZWZhdWx0cy5ub3RpZmllci5wb3NpdGlvbixcclxuICAgICAgICAgICAgICAgICAgICBkZWxheTogYWxlcnRpZnkuZGVmYXVsdHMubm90aWZpZXIuZGVsYXksXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdESVYnKTtcclxuXHJcbiAgICAgICAgICAgICAgICB1cGRhdGVQb3NpdGlvbihpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vYWRkIHRvIERPTSB0cmVlLlxyXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5wYXJlbnROb2RlICE9PSBkb2N1bWVudC5ib2R5KSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBwdXNoSW5zdGFuY2UoaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgaW5zdGFuY2UuX19pbnRlcm5hbC5wdXNoZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBvcGVuSW5zdGFuY2VzLnB1c2goaW5zdGFuY2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBwb3BJbnN0YW5jZShpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBvcGVuSW5zdGFuY2VzLnNwbGljZShvcGVuSW5zdGFuY2VzLmluZGV4T2YoaW5zdGFuY2UpLCAxKTtcclxuICAgICAgICAgICAgaW5zdGFuY2UuX19pbnRlcm5hbC5wdXNoZWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSGVscGVyOiB1cGRhdGUgdGhlIG5vdGlmaWVyIGluc3RhbmNlIHBvc2l0aW9uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVQb3NpdGlvbihpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGNsYXNzZXMuYmFzZTtcclxuICAgICAgICAgICAgc3dpdGNoIChpbnN0YW5jZS5fX2ludGVybmFsLnBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3RvcC1yaWdodCc6XHJcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhlbGVtZW50LCBjbGFzc2VzLnRvcCArICcgJyArIGNsYXNzZXMucmlnaHQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3RvcC1sZWZ0JzpcclxuICAgICAgICAgICAgICAgIGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzZXMudG9wICsgJyAnICsgY2xhc3Nlcy5sZWZ0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICd0b3AtY2VudGVyJzpcclxuICAgICAgICAgICAgICAgIGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzZXMudG9wICsgJyAnICsgY2xhc3Nlcy5jZW50ZXIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2JvdHRvbS1sZWZ0JzpcclxuICAgICAgICAgICAgICAgIGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzZXMuYm90dG9tICsgJyAnICsgY2xhc3Nlcy5sZWZ0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdib3R0b20tY2VudGVyJzpcclxuICAgICAgICAgICAgICAgIGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzZXMuYm90dG9tICsgJyAnICsgY2xhc3Nlcy5jZW50ZXIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBjYXNlICdib3R0b20tcmlnaHQnOlxyXG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoZWxlbWVudCwgY2xhc3Nlcy5ib3R0b20gKyAnICcgKyBjbGFzc2VzLnJpZ2h0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIGNyZWF0ZXMgYSBuZXcgbm90aWZpY2F0aW9uIG1lc3NhZ2VcclxuICAgICAgICAqXHJcbiAgICAgICAgKiBAcGFyYW0gIHtET01FbGVtZW50fSBtZXNzYWdlXHRUaGUgbm90aWZpZXIgbWVzc2FnZSBlbGVtZW50XHJcbiAgICAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHdhaXQgICBUaW1lIChpbiBtcykgdG8gd2FpdCBiZWZvcmUgdGhlIG1lc3NhZ2UgaXMgZGlzbWlzc2VkLCBhIHZhbHVlIG9mIDAgbWVhbnMga2VlcCBvcGVuIHRpbGwgY2xpY2tlZC5cclxuICAgICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBjYWxsYmFjayBBIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGludm9rZWQgd2hlbiB0aGUgbWVzc2FnZSBpcyBkaXNtaXNzZWQuXHJcbiAgICAgICAgKlxyXG4gICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlKGRpdiwgY2FsbGJhY2spIHtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNsaWNrRGVsZWdhdGUoZXZlbnQsIGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZighaW5zdGFuY2UuX19pbnRlcm5hbC5jbG9zZUJ1dHRvbiB8fCBldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNsb3NlJykgPT09ICd0cnVlJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuZGlzbWlzcyh0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gdHJhbnNpdGlvbkRvbmUoZXZlbnQsIGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB1bmJpbmQgZXZlbnRcclxuICAgICAgICAgICAgICAgIG9mZihpbnN0YW5jZS5lbGVtZW50LCB0cmFuc2l0aW9uLnR5cGUsIHRyYW5zaXRpb25Eb25lKTtcclxuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgbWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVDaGlsZChpbnN0YW5jZS5lbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZShpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbnN0YW5jZS5fX2ludGVybmFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuX19pbnRlcm5hbCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHVzaGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsYXkgOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrSGFuZGxlcjogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uRW5kSGFuZGxlcjogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uVGltZW91dDogdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5fX2ludGVybmFsLmNsaWNrSGFuZGxlciA9IGRlbGVnYXRlKGluc3RhbmNlLCBjbGlja0RlbGVnYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5fX2ludGVybmFsLnRyYW5zaXRpb25FbmRIYW5kbGVyID0gZGVsZWdhdGUoaW5zdGFuY2UsIHRyYW5zaXRpb25Eb25lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiBjbGVhclRpbWVycyhpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGluc3RhbmNlLl9faW50ZXJuYWwudGltZXIpO1xyXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGluc3RhbmNlLl9faW50ZXJuYWwudHJhbnNpdGlvblRpbWVvdXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBpbml0aWFsaXplKHtcclxuICAgICAgICAgICAgICAgIC8qIG5vdGlmaWNhdGlvbiBET00gZWxlbWVudCovXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50OiBkaXYsXHJcbiAgICAgICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgICogUHVzaGVzIGEgbm90aWZpY2F0aW9uIG1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nIG9yIERPTUVsZW1lbnR9IGNvbnRlbnQgVGhlIG5vdGlmaWNhdGlvbiBtZXNzYWdlIGNvbnRlbnRcclxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSB3YWl0IFRoZSB0aW1lIChpbiBzZWNvbmRzKSB0byB3YWl0IGJlZm9yZSB0aGUgbWVzc2FnZSBpcyBkaXNtaXNzZWQsIGEgdmFsdWUgb2YgMCBtZWFucyBrZWVwIG9wZW4gdGlsbCBjbGlja2VkLlxyXG4gICAgICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgcHVzaDogZnVuY3Rpb24gKF9jb250ZW50LCBfd2FpdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5fX2ludGVybmFsLnB1c2hlZCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcHVzaEluc3RhbmNlKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVycyh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb250ZW50LCB3YWl0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCA9IHRoaXMuX19pbnRlcm5hbC5kZWxheTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIChfY29udGVudCkgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCA9IF9jb250ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gX2NvbnRlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCA9IHRoaXMuX19pbnRlcm5hbC5kZWxheTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gX2NvbnRlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWl0ID0gX3dhaXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9faW50ZXJuYWwuY2xvc2VCdXR0b24gPSBhbGVydGlmeS5kZWZhdWx0cy5ub3RpZmllci5jbG9zZUJ1dHRvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0IGNvbnRlbnRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q29udGVudChjb250ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhcHBlbmQgb3IgaW5zZXJ0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3RpZmllci5fX2ludGVybmFsLnBvc2l0aW9uLmluZGV4T2YoJ3RvcCcpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5pbnNlcnRCZWZvcmUodGhpcy5lbGVtZW50LCBlbGVtZW50LmZpcnN0Q2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZmxvdyA9IHRoaXMuZWxlbWVudC5vZmZzZXRXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkQ2xhc3ModGhpcy5lbGVtZW50LCBjbGFzc2VzLnZpc2libGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhdHRhY2ggY2xpY2sgZXZlbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgb24odGhpcy5lbGVtZW50LCAnY2xpY2snLCB0aGlzLl9faW50ZXJuYWwuY2xpY2tIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVsYXkod2FpdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICAgKiB7RnVuY3Rpb259IGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGludm9rZWQgYmVmb3JlIGRpc21pc3NpbmcgdGhlIG5vdGlmaWNhdGlvbiBtZXNzYWdlLlxyXG4gICAgICAgICAgICAgICAgICogUmVtYXJrczogQSByZXR1cm4gdmFsdWUgPT09ICdmYWxzZScgd2lsbCBjYW5jZWwgdGhlIGRpc21pc3NhbFxyXG4gICAgICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgb25kaXNtaXNzOiBmdW5jdGlvbiAoKSB7IH0sXHJcbiAgICAgICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgICoge0Z1bmN0aW9ufSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBpbnZva2VkIHdoZW4gdGhlIG1lc3NhZ2UgaXMgZGlzbWlzc2VkLlxyXG4gICAgICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxyXG4gICAgICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICAgICAqIERpc21pc3NlcyB0aGUgbm90aWZpY2F0aW9uIG1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gY2xpY2tlZCBBIGZsYWcgaW5kaWNhdGluZyBpZiB0aGUgZGlzbWlzc2FsIHdhcyBjYXVzZWQgYnkgYSBjbGljay5cclxuICAgICAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgIGRpc21pc3M6IGZ1bmN0aW9uIChjbGlja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX19pbnRlcm5hbC5wdXNoZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lcnModGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHR5cGVvZiB0aGlzLm9uZGlzbWlzcyA9PT0gJ2Z1bmN0aW9uJyAmJiB0aGlzLm9uZGlzbWlzcy5jYWxsKHRoaXMpID09PSBmYWxzZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZGV0YWNoIGNsaWNrIGV2ZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmYodGhpcy5lbGVtZW50LCAnY2xpY2snLCB0aGlzLl9faW50ZXJuYWwuY2xpY2tIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVuc3VyZSBlbGVtZW50IGV4aXN0c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmVsZW1lbnQgIT09ICd1bmRlZmluZWQnICYmIHRoaXMuZWxlbWVudC5wYXJlbnROb2RlID09PSBlbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90cmFuc2l0aW9uIGVuZCBvciBmYWxsYmFja1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX19pbnRlcm5hbC50cmFuc2l0aW9uVGltZW91dCA9IHNldFRpbWVvdXQodGhpcy5fX2ludGVybmFsLnRyYW5zaXRpb25FbmRIYW5kbGVyLCB0cmFuc2l0aW9uLnN1cHBvcnRlZCA/IDEwMDAgOiAxMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKHRoaXMuZWxlbWVudCwgY2xhc3Nlcy52aXNpYmxlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY3VzdG9tIGNhbGxiYWNrIG9uIGRpc21pc3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFjay5jYWxsKHRoaXMsIGNsaWNrZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcEluc3RhbmNlKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICAgKiBEZWxheXMgdGhlIG5vdGlmaWNhdGlvbiBtZXNzYWdlIGRpc21pc3NhbFxyXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHdhaXQgVGhlIHRpbWUgKGluIHNlY29uZHMpIHRvIHdhaXQgYmVmb3JlIHRoZSBtZXNzYWdlIGlzIGRpc21pc3NlZCwgYSB2YWx1ZSBvZiAwIG1lYW5zIGtlZXAgb3BlbiB0aWxsIGNsaWNrZWQuXHJcbiAgICAgICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICBkZWxheTogZnVuY3Rpb24gKHdhaXQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVycyh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9faW50ZXJuYWwuZGVsYXkgPSB0eXBlb2Ygd2FpdCAhPT0gJ3VuZGVmaW5lZCcgJiYgIWlzTmFOKCt3YWl0KSA/ICt3YWl0IDogbm90aWZpZXIuX19pbnRlcm5hbC5kZWxheTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fX2ludGVybmFsLmRlbGF5ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9faW50ZXJuYWwudGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgc2VsZi5kaXNtaXNzKCk7IH0sIHRoaXMuX19pbnRlcm5hbC5kZWxheSAqIDEwMDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgICogU2V0cyB0aGUgbm90aWZpY2F0aW9uIG1lc3NhZ2UgY29udGVudHNcclxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nIG9yIERPTUVsZW1lbnR9IGNvbnRlbnQgVGhlIG5vdGlmaWNhdGlvbiBtZXNzYWdlIGNvbnRlbnRcclxuICAgICAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgIHNldENvbnRlbnQ6IGZ1bmN0aW9uIChjb250ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhckNvbnRlbnRzKHRoaXMuZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5pbm5lckhUTUwgPSBjb250ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29udGVudCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MRWxlbWVudCAmJiB0aGlzLmVsZW1lbnQuZmlyc3RDaGlsZCAhPT0gY29udGVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhckNvbnRlbnRzKHRoaXMuZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZChjb250ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5fX2ludGVybmFsLmNsb3NlQnV0dG9uKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNsb3NlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcyhjbG9zZSwgY2xhc3Nlcy5jbG9zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlLnNldEF0dHJpYnV0ZSgnZGF0YS1jbG9zZScsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoY2xvc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgICogRGlzbWlzc2VzIGFsbCBvcGVuIG5vdGlmaWNhdGlvbnMgZXhjZXB0IHRoaXMuXHJcbiAgICAgICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICBkaXNtaXNzT3RoZXJzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbm90aWZpZXIuZGlzbWlzc0FsbCh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL25vdGlmaWVyIGFwaVxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBHZXRzIG9yIFNldHMgbm90aWZpZXIgc2V0dGluZ3MuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHNldHRpbmcgbmFtZVxyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge1ZhcmlhbnR9IHZhbHVlIFRoZSBzZXR0aW5nIHZhbHVlLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9XHRpZiB0aGUgY2FsbGVkIGFzIGEgc2V0dGVyLCByZXR1cm4gdGhlIG5vdGlmaWVyIGluc3RhbmNlLlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgc2V0dGluZzogZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIC8vZW5zdXJlIGluaXRcclxuICAgICAgICAgICAgICAgIGluaXRpYWxpemUodGhpcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2dldFxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9faW50ZXJuYWxba2V5XTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9zZXRcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Bvc2l0aW9uJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fX2ludGVybmFsLnBvc2l0aW9uID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVBvc2l0aW9uKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdkZWxheSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX19pbnRlcm5hbC5kZWxheSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIFtBbGlhc10gU2V0cyBkaWFsb2cgc2V0dGluZ3Mvb3B0aW9uc1xyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgc2V0OmZ1bmN0aW9uKGtleSx2YWx1ZSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmcoa2V5LHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogW0FsaWFzXSBHZXRzIGRpYWxvZyBzZXR0aW5ncy9vcHRpb25zXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBnZXQ6ZnVuY3Rpb24oa2V5KXtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNldHRpbmcoa2V5KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIENyZWF0ZXMgYSBuZXcgbm90aWZpY2F0aW9uIG1lc3NhZ2VcclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIHR5cGUgb2Ygbm90aWZpY2F0aW9uIG1lc3NhZ2UgKHNpbXBseSBhIENTUyBjbGFzcyBuYW1lICdhanMte3R5cGV9JyB0byBiZSBhZGRlZCkuXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICBBIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGludm9rZWQgd2hlbiB0aGUgbWVzc2FnZSBpcyBkaXNtaXNzZWQuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGNyZWF0ZTogZnVuY3Rpb24gKHR5cGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAvL2Vuc3VyZSBub3RpZmllciBpbml0XHJcbiAgICAgICAgICAgICAgICBpbml0aWFsaXplKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgLy9jcmVhdGUgbmV3IG5vdGlmaWNhdGlvbiBtZXNzYWdlXHJcbiAgICAgICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICBkaXYuY2xhc3NOYW1lID0gY2xhc3Nlcy5tZXNzYWdlICsgKCh0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgJiYgdHlwZSAhPT0gJycpID8gJyBhanMtJyArIHR5cGUgOiAnJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlKGRpdiwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogRGlzbWlzc2VzIGFsbCBvcGVuIG5vdGlmaWNhdGlvbnMuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBleGNwZXQgW29wdGlvbmFsXSBUaGUgbm90aWZpY2F0aW9uIG9iamVjdCB0byBleGNsdWRlIGZyb20gZGlzbWlzc2FsLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgZGlzbWlzc0FsbDogZnVuY3Rpb24gKGV4Y2VwdCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNsb25lID0gb3Blbkluc3RhbmNlcy5zbGljZSgwKTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgY2xvbmUubGVuZ3RoOyB4ICs9IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgIGluc3RhbmNlID0gY2xvbmVbeF07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4Y2VwdCA9PT0gdW5kZWZpbmVkIHx8IGV4Y2VwdCAhPT0gaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9KSgpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWxlcnRpZnkgcHVibGljIEFQSVxyXG4gICAgICogVGhpcyBjb250YWlucyBldmVyeXRoaW5nIHRoYXQgaXMgZXhwb3NlZCB0aHJvdWdoIHRoZSBhbGVydGlmeSBvYmplY3QuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBBbGVydGlmeSgpIHtcclxuXHJcbiAgICAgICAgLy8gaG9sZHMgYSByZWZlcmVuY2VzIG9mIGNyZWF0ZWQgZGlhbG9nc1xyXG4gICAgICAgIHZhciBkaWFsb2dzID0ge307XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEV4dGVuZHMgYSBnaXZlbiBwcm90b3R5cGUgYnkgbWVyZ2luZyBwcm9wZXJ0aWVzIGZyb20gYmFzZSBpbnRvIHN1Yi5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBzdWIge09iamVjdH0gc3ViIFRoZSBwcm90b3R5cGUgYmVpbmcgb3ZlcndyaXR0ZW4uXHJcbiAgICAgICAgICogQGJhc2Uge09iamVjdH0gYmFzZSBUaGUgcHJvdG90eXBlIGJlaW5nIHdyaXR0ZW4uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBleHRlbmRlZCBwcm90b3R5cGUuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gZXh0ZW5kKHN1YiwgYmFzZSkge1xyXG4gICAgICAgICAgICAvLyBjb3B5IGRpYWxvZyBwb3RvdHlwZSBvdmVyIGRlZmluaXRpb24uXHJcbiAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gYmFzZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJhc2UuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdWJbcHJvcF0gPSBiYXNlW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBzdWI7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBIZWxwZXI6IHJldHVybnMgYSBkaWFsb2cgaW5zdGFuY2UgZnJvbSBzYXZlZCBkaWFsb2dzLlxyXG4gICAgICAgICogYW5kIGluaXRpYWxpemVzIHRoZSBkaWFsb2cgaWYgaXRzIG5vdCBhbHJlYWR5IGluaXRpYWxpemVkLlxyXG4gICAgICAgICpcclxuICAgICAgICAqIEBuYW1lIHtTdHJpbmd9IG5hbWUgVGhlIGRpYWxvZyBuYW1lLlxyXG4gICAgICAgICpcclxuICAgICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRpYWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGdldF9kaWFsb2cobmFtZSkge1xyXG4gICAgICAgICAgICB2YXIgZGlhbG9nID0gZGlhbG9nc1tuYW1lXS5kaWFsb2c7XHJcbiAgICAgICAgICAgIC8vaW5pdGlhbGl6ZSB0aGUgZGlhbG9nIGlmIGl0cyBub3QgYWxyZWFkeSBpbml0aWFsaXplZC5cclxuICAgICAgICAgICAgaWYgKGRpYWxvZyAmJiB0eXBlb2YgZGlhbG9nLl9faW5pdCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgZGlhbG9nLl9faW5pdChkaWFsb2cpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBkaWFsb2c7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBIZWxwZXI6ICByZWdpc3RlcnMgYSBuZXcgZGlhbG9nIGRlZmluaXRpb24uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAbmFtZSB7U3RyaW5nfSBuYW1lIFRoZSBkaWFsb2cgbmFtZS5cclxuICAgICAgICAgKiBARmFjdG9yeSB7RnVuY3Rpb259IEZhY3RvcnkgYSBmdW5jdGlvbiByZXNwb3NpYmxlIGZvciBjcmVhdGluZyBkaWFsb2cgcHJvdG90eXBlLlxyXG4gICAgICAgICAqIEB0cmFuc2llbnQge0Jvb2xlYW59IHRyYW5zaWVudCBUcnVlIHRvIGNyZWF0ZSBhIG5ldyBkaWFsb2cgaW5zdGFuY2UgZWFjaCB0aW1lIHRoZSBkaWFsb2cgaXMgaW52b2tlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gICAgICAgICAqIEBiYXNlIHtTdHJpbmd9IGJhc2UgdGhlIG5hbWUgb2YgYW5vdGhlciBkaWFsb2cgdG8gaW5oZXJpdCBmcm9tLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGlhbG9nIGRlZmluaXRpb24uXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gcmVnaXN0ZXIobmFtZSwgRmFjdG9yeSwgdHJhbnNpZW50LCBiYXNlKSB7XHJcbiAgICAgICAgICAgIHZhciBkZWZpbml0aW9uID0ge1xyXG4gICAgICAgICAgICAgICAgZGlhbG9nOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgZmFjdG9yeTogRmFjdG9yeVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9pZiB0aGlzIGlzIGJhc2VkIG9uIGFuIGV4aXN0aW5nIGRpYWxvZywgY3JlYXRlIGEgbmV3IGRlZmluaXRpb25cclxuICAgICAgICAgICAgLy9ieSBhcHBseWluZyB0aGUgbmV3IHByb3RveXBlIG92ZXIgdGhlIGV4aXN0aW5nIG9uZS5cclxuICAgICAgICAgICAgaWYgKGJhc2UgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgZGVmaW5pdGlvbi5mYWN0b3J5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBleHRlbmQobmV3IGRpYWxvZ3NbYmFzZV0uZmFjdG9yeSgpLCBuZXcgRmFjdG9yeSgpKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghdHJhbnNpZW50KSB7XHJcbiAgICAgICAgICAgICAgICAvL2NyZWF0ZSBhIG5ldyBkZWZpbml0aW9uIGJhc2VkIG9uIGRpYWxvZ1xyXG4gICAgICAgICAgICAgICAgZGVmaW5pdGlvbi5kaWFsb2cgPSBleHRlbmQobmV3IGRlZmluaXRpb24uZmFjdG9yeSgpLCBkaWFsb2cpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBkaWFsb2dzW25hbWVdID0gZGVmaW5pdGlvbjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBBbGVydGlmeSBkZWZhdWx0c1xyXG4gICAgICAgICAgICAgKiBcclxuICAgICAgICAgICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGRlZmF1bHRzOiBkZWZhdWx0cyxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIERpYWxvZ3MgZmFjdG9yeSBcclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9ICAgICAgRGlhbG9nIG5hbWUuXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259ICAgIEEgRGlhbG9nIGZhY3RvcnkgZnVuY3Rpb24uXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gICAgIEluZGljYXRlcyB3aGV0aGVyIHRvIGNyZWF0ZSBhIHNpbmdsZXRvbiBvciB0cmFuc2llbnQgZGlhbG9nLlxyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gICAgICBUaGUgbmFtZSBvZiB0aGUgYmFzZSB0eXBlIHRvIGluaGVyaXQgZnJvbS5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGRpYWxvZzogZnVuY3Rpb24gKG5hbWUsIEZhY3RvcnksIHRyYW5zaWVudCwgYmFzZSkge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGdldCByZXF1ZXN0LCBjcmVhdGUgYSBuZXcgaW5zdGFuY2UgYW5kIHJldHVybiBpdC5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgRmFjdG9yeSAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRfZGlhbG9nKG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdhbGVydGlmeS5kaWFsb2c6IG5hbWUgYWxyZWFkeSBleGlzdHMnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyByZWdpc3RlciB0aGUgZGlhbG9nXHJcbiAgICAgICAgICAgICAgICB2YXIgZGVmaW5pdGlvbiA9IHJlZ2lzdGVyKG5hbWUsIEZhY3RvcnksIHRyYW5zaWVudCwgYmFzZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRyYW5zaWVudCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIGl0IHB1YmxpY1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXNbbmFtZV0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgcGFzc2VkIHdpdGggbm8gcGFyYW1zLCBjb25zaWRlciBpdCBhIGdldCByZXF1ZXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVmaW5pdGlvbi5kaWFsb2c7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBleHRlbmQobmV3IGRlZmluaXRpb24uZmFjdG9yeSgpLCBkaWFsb2cpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9lbnN1cmUgaW5pdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlICYmIHR5cGVvZiBpbnN0YW5jZS5fX2luaXQgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5fX2luaXQoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2VbJ21haW4nXS5hcHBseShpbnN0YW5jZSwgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZVsnc2hvdyddLmFwcGx5KGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1ha2UgaXQgcHVibGljXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpc1tuYW1lXSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9lbnN1cmUgaW5pdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVmaW5pdGlvbi5kaWFsb2cgJiYgdHlwZW9mIGRlZmluaXRpb24uZGlhbG9nLl9faW5pdCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmaW5pdGlvbi5kaWFsb2cuX19pbml0KGRlZmluaXRpb24uZGlhbG9nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIHBhc3NlZCB3aXRoIG5vIHBhcmFtcywgY29uc2lkZXIgaXQgYSBnZXQgcmVxdWVzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlZmluaXRpb24uZGlhbG9nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpYWxvZyA9IGRlZmluaXRpb24uZGlhbG9nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlhbG9nWydtYWluJ10uYXBwbHkoZGVmaW5pdGlvbi5kaWFsb2csIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGlhbG9nWydzaG93J10uYXBwbHkoZGVmaW5pdGlvbi5kaWFsb2cpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIENsb3NlIGFsbCBvcGVuIGRpYWxvZ3MuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBleGNwZXQgW29wdGlvbmFsXSBUaGUgZGlhbG9nIG9iamVjdCB0byBleGNsdWRlIGZyb20gY2xvc2luZy5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgY2xvc2VBbGw6IGZ1bmN0aW9uIChleGNlcHQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjbG9uZSA9IG9wZW5EaWFsb2dzLnNsaWNlKDApO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBjbG9uZS5sZW5ndGg7IHggKz0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IGNsb25lW3hdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChleGNlcHQgPT09IHVuZGVmaW5lZCB8fCBleGNlcHQgIT09IGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogR2V0cyBvciBTZXRzIGRpYWxvZyBzZXR0aW5ncy9vcHRpb25zLiBpZiB0aGUgZGlhbG9nIGlzIHRyYW5zaWVudCwgdGhpcyBjYWxsIGRvZXMgbm90aGluZy5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIGRpYWxvZyBuYW1lLlxyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IGtleSBBIHN0cmluZyBzcGVjaWZ5aW5nIGEgcHJvcGVyeSBuYW1lIG9yIGEgY29sbGVjdGlvbiBvZiBrZXkvdmFsdWUgcGFpcnMuXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7VmFyaWFudH0gdmFsdWUgT3B0aW9uYWwsIHRoZSB2YWx1ZSBhc3NvY2lhdGVkIHdpdGggdGhlIGtleSAoaW4gY2FzZSBpdCB3YXMgYSBzdHJpbmcpLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBzZXR0aW5nOiBmdW5jdGlvbiAobmFtZSwga2V5LCB2YWx1ZSkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChuYW1lID09PSAnbm90aWZpZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vdGlmaWVyLnNldHRpbmcoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGRpYWxvZyA9IGdldF9kaWFsb2cobmFtZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGlhbG9nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRpYWxvZy5zZXR0aW5nKGtleSwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogW0FsaWFzXSBTZXRzIGRpYWxvZyBzZXR0aW5ncy9vcHRpb25zIFxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbihuYW1lLGtleSx2YWx1ZSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5nKG5hbWUsIGtleSx2YWx1ZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBbQWxpYXNdIEdldHMgZGlhbG9nIHNldHRpbmdzL29wdGlvbnMgXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKG5hbWUsIGtleSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5nKG5hbWUsIGtleSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IG5vdGlmaWNhdGlvbiBtZXNzYWdlLlxyXG4gICAgICAgICAgICAgKiBJZiBhIHR5cGUgaXMgcGFzc2VkLCBhIGNsYXNzIG5hbWUgXCJhanMte3R5cGV9XCIgd2lsbCBiZSBhZGRlZC5cclxuICAgICAgICAgICAgICogVGhpcyBhbGxvd3MgZm9yIGN1c3RvbSBsb29rIGFuZCBmZWVsIGZvciB2YXJpb3VzIHR5cGVzIG9mIG5vdGlmaWNhdGlvbnMuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSAge1N0cmluZyB8IERPTUVsZW1lbnR9ICAgIFttZXNzYWdlPXVuZGVmaW5lZF1cdFx0TWVzc2FnZSB0ZXh0XHJcbiAgICAgICAgICAgICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgICAgICAgIFt0eXBlPScnXVx0XHRcdFx0VHlwZSBvZiBsb2cgbWVzc2FnZVxyXG4gICAgICAgICAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgICAgICAgICAgICBbd2FpdD0nJ11cdFx0XHRcdFRpbWUgKGluIHNlY29uZHMpIHRvIHdhaXQgYmVmb3JlIGF1dG8tY2xvc2VcclxuICAgICAgICAgICAgICogQHBhcmFtICB7RnVuY3Rpb259ICAgICAgICAgICAgICAgW2NhbGxiYWNrPXVuZGVmaW5lZF1cdEEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgaW52b2tlZCB3aGVuIHRoZSBsb2cgaXMgY2xvc2VkLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IE5vdGlmaWNhdGlvbiBvYmplY3QuXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBub3RpZnk6IGZ1bmN0aW9uIChtZXNzYWdlLCB0eXBlLCB3YWl0LCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vdGlmaWVyLmNyZWF0ZSh0eXBlLCBjYWxsYmFjaykucHVzaChtZXNzYWdlLCB3YWl0KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIENyZWF0ZXMgYSBuZXcgbm90aWZpY2F0aW9uIG1lc3NhZ2UuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSAge1N0cmluZ31cdFx0W21lc3NhZ2U9dW5kZWZpbmVkXVx0XHRNZXNzYWdlIHRleHRcclxuICAgICAgICAgICAgICogQHBhcmFtICB7U3RyaW5nfSAgICAgW3dhaXQ9JyddXHRcdFx0XHRUaW1lIChpbiBzZWNvbmRzKSB0byB3YWl0IGJlZm9yZSBhdXRvLWNsb3NlXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufVx0W2NhbGxiYWNrPXVuZGVmaW5lZF1cdEEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgaW52b2tlZCB3aGVuIHRoZSBsb2cgaXMgY2xvc2VkLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IE5vdGlmaWNhdGlvbiBvYmplY3QuXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBtZXNzYWdlOiBmdW5jdGlvbiAobWVzc2FnZSwgd2FpdCwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBub3RpZmllci5jcmVhdGUobnVsbCwgY2FsbGJhY2spLnB1c2gobWVzc2FnZSwgd2FpdCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IG5vdGlmaWNhdGlvbiBtZXNzYWdlIG9mIHR5cGUgJ3N1Y2Nlc3MnLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcGFyYW0gIHtTdHJpbmd9XHRcdFttZXNzYWdlPXVuZGVmaW5lZF1cdFx0TWVzc2FnZSB0ZXh0XHJcbiAgICAgICAgICAgICAqIEBwYXJhbSAge1N0cmluZ30gICAgIFt3YWl0PScnXVx0XHRcdFx0VGltZSAoaW4gc2Vjb25kcykgdG8gd2FpdCBiZWZvcmUgYXV0by1jbG9zZVxyXG4gICAgICAgICAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn1cdFtjYWxsYmFjaz11bmRlZmluZWRdXHRBIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGludm9rZWQgd2hlbiB0aGUgbG9nIGlzIGNsb3NlZC5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQHJldHVybiB7T2JqZWN0fSBOb3RpZmljYXRpb24gb2JqZWN0LlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKG1lc3NhZ2UsIHdhaXQsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbm90aWZpZXIuY3JlYXRlKCdzdWNjZXNzJywgY2FsbGJhY2spLnB1c2gobWVzc2FnZSwgd2FpdCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IG5vdGlmaWNhdGlvbiBtZXNzYWdlIG9mIHR5cGUgJ2Vycm9yJy5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQHBhcmFtICB7U3RyaW5nfVx0XHRbbWVzc2FnZT11bmRlZmluZWRdXHRcdE1lc3NhZ2UgdGV4dFxyXG4gICAgICAgICAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICBbd2FpdD0nJ11cdFx0XHRcdFRpbWUgKGluIHNlY29uZHMpIHRvIHdhaXQgYmVmb3JlIGF1dG8tY2xvc2VcclxuICAgICAgICAgICAgICogQHBhcmFtICB7RnVuY3Rpb259XHRbY2FsbGJhY2s9dW5kZWZpbmVkXVx0QSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBpbnZva2VkIHdoZW4gdGhlIGxvZyBpcyBjbG9zZWQuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEByZXR1cm4ge09iamVjdH0gTm90aWZpY2F0aW9uIG9iamVjdC5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAobWVzc2FnZSwgd2FpdCwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBub3RpZmllci5jcmVhdGUoJ2Vycm9yJywgY2FsbGJhY2spLnB1c2gobWVzc2FnZSwgd2FpdCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IG5vdGlmaWNhdGlvbiBtZXNzYWdlIG9mIHR5cGUgJ3dhcm5pbmcnLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcGFyYW0gIHtTdHJpbmd9XHRcdFttZXNzYWdlPXVuZGVmaW5lZF1cdFx0TWVzc2FnZSB0ZXh0XHJcbiAgICAgICAgICAgICAqIEBwYXJhbSAge1N0cmluZ30gICAgIFt3YWl0PScnXVx0XHRcdFx0VGltZSAoaW4gc2Vjb25kcykgdG8gd2FpdCBiZWZvcmUgYXV0by1jbG9zZVxyXG4gICAgICAgICAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn1cdFtjYWxsYmFjaz11bmRlZmluZWRdXHRBIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGludm9rZWQgd2hlbiB0aGUgbG9nIGlzIGNsb3NlZC5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQHJldHVybiB7T2JqZWN0fSBOb3RpZmljYXRpb24gb2JqZWN0LlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgd2FybmluZzogZnVuY3Rpb24gKG1lc3NhZ2UsIHdhaXQsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbm90aWZpZXIuY3JlYXRlKCd3YXJuaW5nJywgY2FsbGJhY2spLnB1c2gobWVzc2FnZSwgd2FpdCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBEaXNtaXNzZXMgYWxsIG9wZW4gbm90aWZpY2F0aW9uc1xyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBkaXNtaXNzQWxsOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBub3RpZmllci5kaXNtaXNzQWxsKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgdmFyIGFsZXJ0aWZ5ID0gbmV3IEFsZXJ0aWZ5KCk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEFsZXJ0IGRpYWxvZyBkZWZpbml0aW9uXHJcbiAgICAqXHJcbiAgICAqIGludm9rZWQgYnk6XHJcbiAgICAqXHRhbGVydGlmeS5hbGVydChtZXNzYWdlKTtcclxuICAgICpcdGFsZXJ0aWZ5LmFsZXJ0KHRpdGxlLCBtZXNzYWdlKTtcclxuICAgICpcdGFsZXJ0aWZ5LmFsZXJ0KG1lc3NhZ2UsIG9ub2spO1xyXG4gICAgKlx0YWxlcnRpZnkuYWxlcnQodGl0bGUsIG1lc3NhZ2UsIG9ub2spO1xyXG4gICAgICovXHJcbiAgICBhbGVydGlmeS5kaWFsb2coJ2FsZXJ0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG1haW46IGZ1bmN0aW9uIChfdGl0bGUsIF9tZXNzYWdlLCBfb25vaykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRpdGxlLCBtZXNzYWdlLCBvbm9rO1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IF90aXRsZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIF9tZXNzYWdlID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBfdGl0bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ub2sgPSBfbWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA9IF90aXRsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IF9tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZSA9IF90aXRsZTtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gX21lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgb25vayA9IF9vbm9rO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoJ3RpdGxlJywgdGl0bGUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoJ21lc3NhZ2UnLCBtZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0KCdvbm9rJywgb25vayk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0dXA6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uczogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBhbGVydGlmeS5kZWZhdWx0cy5nbG9zc2FyeS5vayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleToga2V5cy5FU0MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZva2VPbkNsb3NlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBhbGVydGlmeS5kZWZhdWx0cy50aGVtZS5vayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgZm9jdXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0OiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhpbWl6YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2l6YWJsZTogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBidWlsZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy8gbm90aGluZ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwcmVwYXJlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvL25vdGhpbmdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0TWVzc2FnZTogZnVuY3Rpb24gKG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q29udGVudChtZXNzYWdlKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgIG9ub2s6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgIGxhYmVsOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldHRpbmdVcGRhdGVkOiBmdW5jdGlvbiAoa2V5LCBvbGRWYWx1ZSwgbmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoa2V5KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdtZXNzYWdlJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldE1lc3NhZ2UobmV3VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbGFiZWwnOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9faW50ZXJuYWwuYnV0dG9uc1swXS5lbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX19pbnRlcm5hbC5idXR0b25zWzBdLmVsZW1lbnQuaW5uZXJIVE1MID0gbmV3VmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKGNsb3NlRXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5nZXQoJ29ub2snKSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR1cm5WYWx1ZSA9IHRoaXMuZ2V0KCdvbm9rJykuY2FsbCh0aGlzLCBjbG9zZUV2ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJldHVyblZhbHVlICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9zZUV2ZW50LmNhbmNlbCA9ICFyZXR1cm5WYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfSk7XHJcbiAgICAvKipcclxuICAgICAqIENvbmZpcm0gZGlhbG9nIG9iamVjdFxyXG4gICAgICpcclxuICAgICAqXHRhbGVydGlmeS5jb25maXJtKG1lc3NhZ2UpO1xyXG4gICAgICpcdGFsZXJ0aWZ5LmNvbmZpcm0obWVzc2FnZSwgb25vayk7XHJcbiAgICAgKlx0YWxlcnRpZnkuY29uZmlybShtZXNzYWdlLCBvbm9rLCBvbmNhbmNlbCk7XHJcbiAgICAgKlx0YWxlcnRpZnkuY29uZmlybSh0aXRsZSwgbWVzc2FnZSwgb25vaywgb25jYW5jZWwpO1xyXG4gICAgICovXHJcbiAgICBhbGVydGlmeS5kaWFsb2coJ2NvbmZpcm0nLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIHZhciBhdXRvQ29uZmlybSA9IHtcclxuICAgICAgICAgICAgdGltZXI6IG51bGwsXHJcbiAgICAgICAgICAgIGluZGV4OiBudWxsLFxyXG4gICAgICAgICAgICB0ZXh0OiBudWxsLFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogbnVsbCxcclxuICAgICAgICAgICAgdGFzazogZnVuY3Rpb24gKGV2ZW50LCBzZWxmKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5pc09wZW4oKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX19pbnRlcm5hbC5idXR0b25zW2F1dG9Db25maXJtLmluZGV4XS5lbGVtZW50LmlubmVySFRNTCA9IGF1dG9Db25maXJtLnRleHQgKyAnICgmIzgyMDc7JyArIGF1dG9Db25maXJtLmR1cmF0aW9uICsgJyYjODIwNzspICc7XHJcbiAgICAgICAgICAgICAgICAgICAgYXV0b0NvbmZpcm0uZHVyYXRpb24gLT0gMTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXV0b0NvbmZpcm0uZHVyYXRpb24gPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyQXV0b0NvbmZpcm0oc2VsZik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBidXR0b24gPSBzZWxmLl9faW50ZXJuYWwuYnV0dG9uc1thdXRvQ29uZmlybS5pbmRleF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjbG9zZUV2ZW50ID0gY3JlYXRlQ2xvc2VFdmVudChhdXRvQ29uZmlybS5pbmRleCwgYnV0dG9uKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2VsZi5jYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jYWxsYmFjay5hcHBseShzZWxmLCBbY2xvc2VFdmVudF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY2xvc2UgdGhlIGRpYWxvZy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsb3NlRXZlbnQuY2xvc2UgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyQXV0b0NvbmZpcm0oc2VsZik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBjbGVhckF1dG9Db25maXJtKHNlbGYpIHtcclxuICAgICAgICAgICAgaWYgKGF1dG9Db25maXJtLnRpbWVyICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGF1dG9Db25maXJtLnRpbWVyKTtcclxuICAgICAgICAgICAgICAgIGF1dG9Db25maXJtLnRpbWVyID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHNlbGYuX19pbnRlcm5hbC5idXR0b25zW2F1dG9Db25maXJtLmluZGV4XS5lbGVtZW50LmlubmVySFRNTCA9IGF1dG9Db25maXJtLnRleHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHN0YXJ0QXV0b0NvbmZpcm0oc2VsZiwgaW5kZXgsIGR1cmF0aW9uKSB7XHJcbiAgICAgICAgICAgIGNsZWFyQXV0b0NvbmZpcm0oc2VsZik7XHJcbiAgICAgICAgICAgIGF1dG9Db25maXJtLmR1cmF0aW9uID0gZHVyYXRpb247XHJcbiAgICAgICAgICAgIGF1dG9Db25maXJtLmluZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgICAgIGF1dG9Db25maXJtLnRleHQgPSBzZWxmLl9faW50ZXJuYWwuYnV0dG9uc1tpbmRleF0uZWxlbWVudC5pbm5lckhUTUw7XHJcbiAgICAgICAgICAgIGF1dG9Db25maXJtLnRpbWVyID0gc2V0SW50ZXJ2YWwoZGVsZWdhdGUoc2VsZiwgYXV0b0NvbmZpcm0udGFzayksIDEwMDApO1xyXG4gICAgICAgICAgICBhdXRvQ29uZmlybS50YXNrKG51bGwsIHNlbGYpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG1haW46IGZ1bmN0aW9uIChfdGl0bGUsIF9tZXNzYWdlLCBfb25vaywgX29uY2FuY2VsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGl0bGUsIG1lc3NhZ2UsIG9ub2ssIG9uY2FuY2VsO1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IF90aXRsZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gX3RpdGxlO1xyXG4gICAgICAgICAgICAgICAgICAgIG9ub2sgPSBfbWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gX3RpdGxlO1xyXG4gICAgICAgICAgICAgICAgICAgIG9ub2sgPSBfbWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICBvbmNhbmNlbCA9IF9vbm9rO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlID0gX3RpdGxlO1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBfbWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICBvbm9rID0gX29ub2s7XHJcbiAgICAgICAgICAgICAgICAgICAgb25jYW5jZWwgPSBfb25jYW5jZWw7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldCgndGl0bGUnLCB0aXRsZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldCgnbWVzc2FnZScsIG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoJ29ub2snLCBvbm9rKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0KCdvbmNhbmNlbCcsIG9uY2FuY2VsKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXR1cDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBidXR0b25zOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGFsZXJ0aWZ5LmRlZmF1bHRzLmdsb3NzYXJ5Lm9rLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBrZXlzLkVOVEVSLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBhbGVydGlmeS5kZWZhdWx0cy50aGVtZS5vayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogYWxlcnRpZnkuZGVmYXVsdHMuZ2xvc3NhcnkuY2FuY2VsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBrZXlzLkVTQyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludm9rZU9uQ2xvc2U6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGFsZXJ0aWZ5LmRlZmF1bHRzLnRoZW1lLmNhbmNlbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgZm9jdXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0OiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhpbWl6YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2l6YWJsZTogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBidWlsZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy9ub3RoaW5nXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHByZXBhcmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vbm90aGluZ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXRNZXNzYWdlOiBmdW5jdGlvbiAobWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDb250ZW50KG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogbnVsbCxcclxuICAgICAgICAgICAgICAgIGxhYmVsczogbnVsbCxcclxuICAgICAgICAgICAgICAgIG9ub2s6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBvbmNhbmNlbDogbnVsbCxcclxuICAgICAgICAgICAgICAgIGRlZmF1bHRGb2N1czogbnVsbCxcclxuICAgICAgICAgICAgICAgIHJldmVyc2VCdXR0b25zOiBudWxsLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXR0aW5nVXBkYXRlZDogZnVuY3Rpb24gKGtleSwgb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGtleSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbWVzc2FnZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRNZXNzYWdlKG5ld1ZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2xhYmVscyc6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCdvaycgaW4gbmV3VmFsdWUgJiYgdGhpcy5fX2ludGVybmFsLmJ1dHRvbnNbMF0uZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9faW50ZXJuYWwuYnV0dG9uc1swXS50ZXh0ID0gbmV3VmFsdWUub2s7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX19pbnRlcm5hbC5idXR0b25zWzBdLmVsZW1lbnQuaW5uZXJIVE1MID0gbmV3VmFsdWUub2s7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgnY2FuY2VsJyBpbiBuZXdWYWx1ZSAmJiB0aGlzLl9faW50ZXJuYWwuYnV0dG9uc1sxXS5lbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX19pbnRlcm5hbC5idXR0b25zWzFdLnRleHQgPSBuZXdWYWx1ZS5jYW5jZWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX19pbnRlcm5hbC5idXR0b25zWzFdLmVsZW1lbnQuaW5uZXJIVE1MID0gbmV3VmFsdWUuY2FuY2VsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3JldmVyc2VCdXR0b25zJzpcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50cy5idXR0b25zLnByaW1hcnkuYXBwZW5kQ2hpbGQodGhpcy5fX2ludGVybmFsLmJ1dHRvbnNbMF0uZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50cy5idXR0b25zLnByaW1hcnkuYXBwZW5kQ2hpbGQodGhpcy5fX2ludGVybmFsLmJ1dHRvbnNbMV0uZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnZGVmYXVsdEZvY3VzJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9faW50ZXJuYWwuZm9jdXMuZWxlbWVudCA9IG5ld1ZhbHVlID09PSAnb2snID8gMCA6IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoY2xvc2VFdmVudCkge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJBdXRvQ29uZmlybSh0aGlzKTtcclxuICAgICAgICAgICAgICAgIHZhciByZXR1cm5WYWx1ZTtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoY2xvc2VFdmVudC5pbmRleCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5nZXQoJ29ub2snKSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSA9IHRoaXMuZ2V0KCdvbm9rJykuY2FsbCh0aGlzLCBjbG9zZUV2ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXR1cm5WYWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlRXZlbnQuY2FuY2VsID0gIXJldHVyblZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5nZXQoJ29uY2FuY2VsJykgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSB0aGlzLmdldCgnb25jYW5jZWwnKS5jYWxsKHRoaXMsIGNsb3NlRXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJldHVyblZhbHVlICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VFdmVudC5jYW5jZWwgPSAhcmV0dXJuVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGF1dG9PazogZnVuY3Rpb24gKGR1cmF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBzdGFydEF1dG9Db25maXJtKHRoaXMsIDAsIGR1cmF0aW9uKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBhdXRvQ2FuY2VsOiBmdW5jdGlvbiAoZHVyYXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0QXV0b0NvbmZpcm0odGhpcywgMSwgZHVyYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfSk7XHJcbiAgICAvKipcclxuICAgICAqIFByb21wdCBkaWFsb2cgb2JqZWN0XHJcbiAgICAgKlxyXG4gICAgICogaW52b2tlZCBieTpcclxuICAgICAqXHRhbGVydGlmeS5wcm9tcHQobWVzc2FnZSk7XHJcbiAgICAgKlx0YWxlcnRpZnkucHJvbXB0KG1lc3NhZ2UsIHZhbHVlKTtcclxuICAgICAqXHRhbGVydGlmeS5wcm9tcHQobWVzc2FnZSwgdmFsdWUsIG9ub2spO1xyXG4gICAgICpcdGFsZXJ0aWZ5LnByb21wdChtZXNzYWdlLCB2YWx1ZSwgb25vaywgb25jYW5jZWwpO1xyXG4gICAgICpcdGFsZXJ0aWZ5LnByb21wdCh0aXRsZSwgbWVzc2FnZSwgdmFsdWUsIG9ub2ssIG9uY2FuY2VsKTtcclxuICAgICAqL1xyXG4gICAgYWxlcnRpZnkuZGlhbG9nKCdwcm9tcHQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnSU5QVVQnKTtcclxuICAgICAgICB2YXIgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ1AnKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBtYWluOiBmdW5jdGlvbiAoX3RpdGxlLCBfbWVzc2FnZSwgX3ZhbHVlLCBfb25vaywgX29uY2FuY2VsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGl0bGUsIG1lc3NhZ2UsIHZhbHVlLCBvbm9rLCBvbmNhbmNlbDtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBfdGl0bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IF90aXRsZTtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IF9tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBfdGl0bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBfbWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICBvbm9rID0gX3ZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBfdGl0bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBfbWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICBvbm9rID0gX3ZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIG9uY2FuY2VsID0gX29ub2s7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGUgPSBfdGl0bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IF9tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gX3ZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIG9ub2sgPSBfb25vaztcclxuICAgICAgICAgICAgICAgICAgICBvbmNhbmNlbCA9IF9vbmNhbmNlbDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0KCd0aXRsZScsIHRpdGxlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0KCdtZXNzYWdlJywgbWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldCgndmFsdWUnLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldCgnb25vaycsIG9ub2spO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoJ29uY2FuY2VsJywgb25jYW5jZWwpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldHVwOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbnM6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogYWxlcnRpZnkuZGVmYXVsdHMuZ2xvc3Nhcnkub2ssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IGtleXMuRU5URVIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGFsZXJ0aWZ5LmRlZmF1bHRzLnRoZW1lLm9rLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBhbGVydGlmeS5kZWZhdWx0cy5nbG9zc2FyeS5jYW5jZWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IGtleXMuRVNDLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52b2tlT25DbG9zZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogYWxlcnRpZnkuZGVmYXVsdHMudGhlbWUuY2FuY2VsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgICAgICBmb2N1czoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiBpbnB1dCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0OiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltaXphYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzaXphYmxlOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGJ1aWxkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dC5jbGFzc05hbWUgPSBhbGVydGlmeS5kZWZhdWx0cy50aGVtZS5pbnB1dDtcclxuICAgICAgICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0Jyk7XHJcbiAgICAgICAgICAgICAgICBpbnB1dC52YWx1ZSA9IHRoaXMuZ2V0KCd2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50cy5jb250ZW50LmFwcGVuZENoaWxkKHApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50cy5jb250ZW50LmFwcGVuZENoaWxkKGlucHV0KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcHJlcGFyZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy9ub3RoaW5nXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldE1lc3NhZ2U6IGZ1bmN0aW9uIChtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJDb250ZW50cyhwKTtcclxuICAgICAgICAgICAgICAgICAgICBwLmlubmVySFRNTCA9IG1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTEVsZW1lbnQgJiYgcC5maXJzdENoaWxkICE9PSBtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJDb250ZW50cyhwKTtcclxuICAgICAgICAgICAgICAgICAgICBwLmFwcGVuZENoaWxkKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgbGFiZWxzOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICBvbm9rOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICBvbmNhbmNlbDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6ICcnLFxyXG4gICAgICAgICAgICAgICAgdHlwZTondGV4dCcsXHJcbiAgICAgICAgICAgICAgICByZXZlcnNlQnV0dG9uczogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXR0aW5nVXBkYXRlZDogZnVuY3Rpb24gKGtleSwgb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGtleSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbWVzc2FnZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRNZXNzYWdlKG5ld1ZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3ZhbHVlJzpcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dC52YWx1ZSA9IG5ld1ZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAndHlwZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3RleHQnOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NvbG9yJzpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdkYXRlJzpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdkYXRldGltZS1sb2NhbCc6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZW1haWwnOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ21vbnRoJzpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdudW1iZXInOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Bhc3N3b3JkJzpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdzZWFyY2gnOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3RlbCc6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndGltZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnd2Vlayc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0LnR5cGUgPSBuZXdWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQudHlwZSA9ICd0ZXh0JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbGFiZWxzJzpcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUub2sgJiYgdGhpcy5fX2ludGVybmFsLmJ1dHRvbnNbMF0uZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9faW50ZXJuYWwuYnV0dG9uc1swXS5lbGVtZW50LmlubmVySFRNTCA9IG5ld1ZhbHVlLm9rO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUuY2FuY2VsICYmIHRoaXMuX19pbnRlcm5hbC5idXR0b25zWzFdLmVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fX2ludGVybmFsLmJ1dHRvbnNbMV0uZWxlbWVudC5pbm5lckhUTUwgPSBuZXdWYWx1ZS5jYW5jZWw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAncmV2ZXJzZUJ1dHRvbnMnOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRzLmJ1dHRvbnMucHJpbWFyeS5hcHBlbmRDaGlsZCh0aGlzLl9faW50ZXJuYWwuYnV0dG9uc1swXS5lbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRzLmJ1dHRvbnMucHJpbWFyeS5hcHBlbmRDaGlsZCh0aGlzLl9faW50ZXJuYWwuYnV0dG9uc1sxXS5lbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoY2xvc2VFdmVudCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJldHVyblZhbHVlO1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChjbG9zZUV2ZW50LmluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy52YWx1ZSA9IGlucHV0LnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5nZXQoJ29ub2snKSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSA9IHRoaXMuZ2V0KCdvbm9rJykuY2FsbCh0aGlzLCBjbG9zZUV2ZW50LCB0aGlzLnNldHRpbmdzLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXR1cm5WYWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlRXZlbnQuY2FuY2VsID0gIXJldHVyblZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5nZXQoJ29uY2FuY2VsJykgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSB0aGlzLmdldCgnb25jYW5jZWwnKS5jYWxsKHRoaXMsIGNsb3NlRXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJldHVyblZhbHVlICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VFdmVudC5jYW5jZWwgPSAhcmV0dXJuVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIWNsb3NlRXZlbnQuY2FuY2VsKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQudmFsdWUgPSB0aGlzLnNldHRpbmdzLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBDb21tb25KU1xyXG4gICAgaWYgKCB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09ICdvYmplY3QnICkge1xyXG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gYWxlcnRpZnk7XHJcbiAgICAvLyBBTURcclxuICAgIH0gZWxzZSBpZiAoIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xyXG4gICAgICAgIGRlZmluZSggW10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFsZXJ0aWZ5O1xyXG4gICAgICAgIH0gKTtcclxuICAgIC8vIHdpbmRvd1xyXG4gICAgfSBlbHNlIGlmICggIXdpbmRvdy5hbGVydGlmeSApIHtcclxuICAgICAgICB3aW5kb3cuYWxlcnRpZnkgPSBhbGVydGlmeTtcclxuICAgIH1cclxuXHJcbn0gKCB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHRoaXMgKSApO1xyXG4iLCIvKlxuKiAgQ29sb3Igb3B0aW9ucyAoYXBwbGllZCBvbiB0aGUgbWFwIGFuZCBvbiB0aGUgY2hhcnQpOlxuKi9cbmV4cG9ydCBjb25zdCBjb2xvcl9jb3VudHJpZXMgPSAncmdiKDE0NywgMTQ0LCAyNTIpJzsgLy8gQ29sb3IgZm9yIGZlYXR1cmVzIHdpdGhpbiB0aGUgc3R1ZHkgem9uZSBidXQgbm90IGhpZ2hsaWdodGVkXG5leHBvcnQgY29uc3QgY29sb3JfZGlzYWJsZWQgPSAnI2JlYmVjZCc7IC8vIENvbG9yIGZvciBmZWF0dXJlcyBvdXRzaWRlIHRoZSBzdHVkeSB6b25lIC8gd2l0aG91dCBkYXRhXG5leHBvcnQgY29uc3QgY29sb3Jfc3VwID0gJ2dyZWVuJzsgLy8gQ29sb3IgZm9yIHNlbGVjdGVkIGZlYXR1cmUgd2l0aCBcImJldHRlclwiIHZhbHVlcyB0aGFuIHRoZSByZWZlcmVuY2UgZmVhdHVyZVxuZXhwb3J0IGNvbnN0IGNvbG9yX2luZiA9ICdyZWQnOyAvLyBDb2xvciBmb3Igc2VsZWN0ZWQgZmVhdHVyZSB3aXRoIFwid29yc2VcIiB2YWx1ZXMgdGhhbiB0aGUgcmVmZXJlbmNlIGZlYXR1cmVcbmV4cG9ydCBjb25zdCBjb2xvcl9oaWdobGlnaHQgPSAneWVsbG93JzsgLy8gQ29sb3IgZm9yIHRoZSByZWZlcmVuY2UgZmVhdHVyZSAoXCJNYSByw6lnaW9uXCIpXG5leHBvcnQgY29uc3QgY29sb3JfZGVmYXVsdF9kaXNzaW0gPSAnZGFya3JlZCc7ICAvLyBOZXV0cmFsIGNvbG9yIGZvciBzZWxlY3RlZCBmZWF0dXJlcyB3aGVuIGdyZWVuL3JlZCBjYW4ndCBiZSB1c2VkXG5cbi8qXG4qICBNaXNjLiBvcHRpb25zOlxuKi9cbmV4cG9ydCBjb25zdCBNQVhfVkFSSUFCTEVTID0gNzsgLy8gVGhlIG1heGltdW0gbnVtYmVyIG9mIHZhcmlhYmxlcyB0aGF0IGNhbiBiZSBzZWxlY3RlZCBzaW11bHRhbmVvdXNseS5cbmV4cG9ydCBjb25zdCBSQVRJT19XSF9NQVAgPSAwLjg3OTtcbiIsImltcG9ydCB7IGNvbG9yX2luZiwgY29sb3Jfc3VwIH0gZnJvbSAnLi9vcHRpb25zJztcblxuY29uc3QgbWF0aF9wb3cgPSBNYXRoLnBvdztcbmNvbnN0IG1hdGhfYWJzID0gTWF0aC5hYnM7XG5jb25zdCBtYXRoX3JvdW5kID0gTWF0aC5yb3VuZDtcbmNvbnN0IG1hdGhfbWF4ID0gTWF0aC5tYXg7XG5jb25zdCBtYXRoX3NpbiA9IE1hdGguc2luO1xuY29uc3QgbWF0aF9jb3MgPSBNYXRoLmNvcztcbmNvbnN0IG1hdGhfc3FydCA9IE1hdGguc3FydDtcbmNvbnN0IEhBTEZfUEkgPSBNYXRoLlBJIC8gMjtcblxuZnVuY3Rpb24gcHJlcGFyZVRvb2x0aXAocGFyZW50X3N2Z19lbGVtKSB7XG4gIGNvbnN0IHRvb2x0aXAgPSBwYXJlbnRfc3ZnX2VsZW0uYXBwZW5kKCdnJylcbiAgICAuYXR0cignY2xhc3MnLCAndG9vbHRpcCcpXG4gICAgLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcblxuICB0b29sdGlwLmFwcGVuZCgncmVjdCcpXG4gICAgLmF0dHJzKHsgeDogMTUsIHdpZHRoOiAwLCBoZWlnaHQ6IDAsIGZpbGw6ICdiZWlnZScgfSlcbiAgICAuc3R5bGUoJ29wYWNpdHknLCAwLjc1KTtcblxuICB0b29sdGlwLmFwcGVuZCgndGV4dCcpXG4gICAgLmF0dHJzKHsgY2xhc3M6ICdpZF9mZWF0dXJlJywgeDogMjUsIGR5OiAnMS4yZW0nLCAnZm9udC1zaXplJzogJzE0cHgnIH0pXG4gICAgLnN0eWxlKCdmb250LXdlaWdodCcsICdib2xkJyk7XG5cbiAgdG9vbHRpcC5hcHBlbmQoJ3RleHQnKVxuICAgIC5hdHRycyh7XG4gICAgICBjbGFzczogJ3ZhbHVlX2ZlYXR1cmUxJyxcbiAgICAgIHg6IDI1LFxuICAgICAgZHk6ICcyLjRlbScsXG4gICAgICAnZm9udC1zaXplJzogJzE0cHgnLFxuICAgIH0pO1xuXG4gIHRvb2x0aXAuYXBwZW5kKCd0ZXh0JylcbiAgICAuYXR0cnMoe1xuICAgICAgY2xhc3M6ICd2YWx1ZV9mZWF0dXJlMicsXG4gICAgICB4OiAyNSxcbiAgICAgIGR5OiAnMy41ZW0nLFxuICAgICAgJ2ZvbnQtc2l6ZSc6ICcxNHB4JyxcbiAgICB9KTtcblxuICB0b29sdGlwLmFwcGVuZCgndGV4dCcpXG4gICAgLmF0dHJzKHtcbiAgICAgIGNsYXNzOiAndmFsdWVfZmVhdHVyZTMnLFxuICAgICAgeDogMjUsXG4gICAgICBkeTogJzQuNmVtJyxcbiAgICAgICdmb250LXNpemUnOiAnMTRweCcsXG4gICAgfSk7XG5cbiAgdG9vbHRpcC5hcHBlbmQoJ3RleHQnKVxuICAgIC5hdHRycyh7XG4gICAgICBjbGFzczogJ3ZhbHVlX2ZlYXR1cmU0JyxcbiAgICAgIHg6IDI1LFxuICAgICAgZHk6ICc1LjdlbScsXG4gICAgICAnZm9udC1zaXplJzogJzE0cHgnLFxuICAgIH0pO1xuXG4gIHRvb2x0aXAuYXBwZW5kKCd0ZXh0JylcbiAgICAuYXR0cnMoe1xuICAgICAgY2xhc3M6ICd2YWx1ZV9mZWF0dXJlNScsXG4gICAgICB4OiAyNSxcbiAgICAgIGR5OiAnNi44ZW0nLFxuICAgICAgJ2ZvbnQtc2l6ZSc6ICcxNHB4JyxcbiAgICB9KTtcblxuICByZXR1cm4gdG9vbHRpcDtcbn1cblxuZnVuY3Rpb24gdW5iaW5kVUkoKSB7XG4gIC8vIFJlbW92ZXMgdGhlIGN1cnJlbnQgYmVoYXZpb3IgY29ycmVzcG9uZGluZyB0byBjbGlja2luZyBvbiB0aGUgbGVmdCBtZW51OlxuICBkMy5zZWxlY3RBbGwoJ3NwYW4uZmlsdGVyX3YnKVxuICAgIC5vbignY2xpY2snLCBudWxsKTtcbiAgZDMuc2VsZWN0QWxsKCdzcGFuLnRhcmdldF9yZWdpb24nKVxuICAgIC5vbignY2xpY2snLCBudWxsKTtcbiAgZDMuc2VsZWN0QWxsKCdzcGFuLmxhYmVsX2NoaycpXG4gICAgLm9uKCdjbGljaycsIG51bGwpO1xuXG4gIC8vIFJlbW92ZSB0aGUgdGFibGU6XG4gIGQzLnNlbGVjdCgnLmRhdGFUYWJsZS13cmFwcGVyJykucmVtb3ZlKCk7XG5cbiAgLy8gVW5iaW5kIGJ1dHRvbnMgb24gdGhlIHRvcCBvZiB0aGUgbWFwOlxuICBkMy5zZWxlY3QoJyNoZWFkZXJfbWFwJylcbiAgICAuc2VsZWN0QWxsKCdpbWcnKVxuICAgIC5vbignY2xpY2snLCBudWxsKTtcblxuICAvLyBSZW1vdmUgdGhlIHNlbGVjdGlvbiBtZW51IChvciBidXR0b25zKSB1bmRlciB0aGUgY2hhcnQ6XG4gIGQzLnNlbGVjdCgnI2Jhcl9zZWN0aW9uID4gI21lbnVfc2VsZWN0aW9uJykucmVtb3ZlKCk7XG5cbiAgLy8gUmVtb3ZlcyB0aGUgY3VycmVudCBiZWhhdmlvciBjb3JyZXNwb25kaW5nIHRvIGNsaWNraW5nIG9uIHRoZSB0b3AgbWVudTpcbiAgZDMuc2VsZWN0QWxsKCcudHlwZV9jaGFydC50aXRsZV9tZW51Jykub24oJ2NsaWNrJywgbnVsbCk7XG5cbiAgLy8gUmVtb3ZlcyB0aGUgY3VycmVudCBiZWhhdmlvciBjb3JyZXNwb25kaW5nIHRvIHByZXNzaW5nIHRoZSBDb250cm9sIGtleTpcbiAgZG9jdW1lbnQub25rZXl1cCA9IG51bGw7XG4gIGRvY3VtZW50Lm9ua2V5ZG93biA9IG51bGw7XG59XG5cbi8qKlxuKiBGdW5jdGlvbiB0byBjb21wYXJlIHRoZSB2YWx1ZSBvZiBhIGZlYXR1cmUgdG8gdGhlIHJlZmVyZW5jZSB2YWx1ZSAoaS5lLiB0aGUgdmFsdWUgb2YgXCJteSByZWdpb25cIilcbiogYW5kIHJldHVybiB0aGUgYXBwcm9wcmlhdGUgY29sb3IgKHNlcmllIG1heSBiZSBpbnZlcnNlZClcbipcbiogQHBhcmFtIHtOdW1iZXJ9IHRlc3RfdmFsdWUgLSBUaGUgdmFsdWUgdG8gYmUgY29tcGFyZWQgdG8gdGhlIHZhbHVlIG9mIFwibXkgcmVnaW9uXCIuXG4qIEBwYXJhbSB7TnVtYmVyfSByZWZfdmFsdWUgLSBUaGUgdmFsdWUgb2YgbXkgcmVnaW9uLlxuKiBAcGFyYW0ge0Jvb2xlYW59IHNlcmllX2ludmVyc2VkIC0gV2hldGhlciB0aGUgc2VyaWUgaXMgaW52ZXJzZWQgb3Igbm90IGluIHRoZSBjdXJyZW50IGNoYXJ0LlxuKiBAcmV0dXJuIHtTdHJpbmd9IC0gQSBzdHJpbmcgY29udGFpbmluZyB0aGUgY29sb3IgdG8gYmUgdXNlZCBmb3IgdGhpcyB2YWx1ZS5cbipcbiovXG5jb25zdCBjb21wID0gKHRlc3RfdmFsdWUsIHJlZl92YWx1ZSwgc2VyaWVfaW52ZXJzZWQpID0+IHtcbiAgaWYgKHRlc3RfdmFsdWUgPCByZWZfdmFsdWUpIHtcbiAgICByZXR1cm4gc2VyaWVfaW52ZXJzZWQgPyBjb2xvcl9zdXAgOiBjb2xvcl9pbmY7XG4gIH1cbiAgcmV0dXJuIHNlcmllX2ludmVyc2VkID8gY29sb3JfaW5mIDogY29sb3Jfc3VwO1xufTtcblxuXG4vKipcbiogRnVuY3Rpb24gdG8gY29tcGFyZSB0aGUgdmFsdWUgb2YgYSBmZWF0dXJlIHRvIHRoZSByZWZlcmVuY2UgdmFsdWUgKGkuZS4gdGhlIHZhbHVlIG9mIFwibXkgcmVnaW9uXCIpXG4qIGFuZCByZXR1cm4gdGhlIGFwcHJvcHJpYXRlIGNvbG9yIChzZXJpZSBtYXkgYmUgaW52ZXJzZWQpXG4qXG4qIEBwYXJhbSB7TnVtYmVyfSB2YWwxIC0gVGhlIHZhbHVlIHRvIGJlIGNvbXBhcmVkIHRvIHRoZSB2YWx1ZSBvZiBcIm15IHJlZ2lvblwiIGZvciB0aGUgMXN0IHZhcmlhYmxlLlxuKiBAcGFyYW0ge051bWJlcn0gdmFsMiAtIFRoZSB2YWx1ZSB0byBiZSBjb21wYXJlZCB0byB0aGUgdmFsdWUgb2YgXCJteSByZWdpb25cIiBmb3IgdGhlIDJuZCB2YXJpYWJsZS5cbiogQHBhcmFtIHtOdW1iZXJ9IHJlZl92YWwxIC0gVGhlIHZhbHVlIG9mIG15IHJlZ2lvbiBmb3IgaGUgZmlyc3QgdmFyaWFibGUuXG4qIEBwYXJhbSB7TnVtYmVyfSByZWZfdmFsMiAtIFRoZSB2YWx1ZSBvZiBteSByZWdpb24gZm9yIHRoZSBzZWNvbmQgdmFyaWFibGUuXG4qIEBwYXJhbSB7Qm9vbGVhbn0geEludmVyc2VkIC0gV2hldGhlciB0aGUgc2VyaWUgaXMgaW52ZXJzZWQgb24gdGhlIHggYXhpcyBpbiB0aGUgY3VycmVudCBjaGFydC5cbiogQHBhcmFtIHtCb29sZWFufSB5SW52ZXJzZWQgLSBXaGV0aGVyIHRoZSBzZXJpZSBpcyBpbnZlcnNlZCBvbiB0aGUgeSBheGlzIGluIHRoZSBjdXJyZW50IGNoYXJ0LlxuKiBAcmV0dXJuIHtTdHJpbmd9IC0gQSBzdHJpbmcgY29udGFpbmluZyB0aGUgY29sb3IgdG8gYmUgdXNlZCBmb3IgdGhlc2VzIHZhbHVlcy5cbipcbiovXG5jb25zdCBjb21wMiA9ICh2YWwxLCB2YWwyLCByZWZfdmFsMSwgcmVmX3ZhbDIsIHhJbnZlcnNlZCwgeUludmVyc2VkKSA9PiB7XG4gIGlmICgodmFsMSA8IHJlZl92YWwxICYmICF4SW52ZXJzZWQpIHx8ICh2YWwxID4gcmVmX3ZhbDEgJiYgeEludmVyc2VkKSkgeyAvLyB2YWwxIGlzIGluZmVyaW9yOlxuICAgIGlmICh2YWwyIDwgcmVmX3ZhbDIpIHtcbiAgICAgIHJldHVybiB5SW52ZXJzZWQgPyAncmdiKDE2MCwgMzAsIDE2MCknIDogY29sb3JfaW5mO1xuICAgIH1cbiAgICByZXR1cm4geUludmVyc2VkID8gY29sb3JfaW5mIDogJ3JnYigxNjAsIDMwLCAxNjApJztcbiAgfVxuICAvLyB2YWwxIGlzIHN1cGVyaW9yIDpcbiAgaWYgKHZhbDIgPiByZWZfdmFsMikge1xuICAgIHJldHVybiAheUludmVyc2VkID8gY29sb3Jfc3VwIDogJ29yYW5nZSc7XG4gIH1cbiAgcmV0dXJuICF5SW52ZXJzZWQgPyAnb3JhbmdlJyA6IGNvbG9yX3N1cDtcbn07XG5cbmNsYXNzIFJlY3Qge1xuICBjb25zdHJ1Y3Rvcih0b3BsZWZ0LCBib3R0b21yaWdodCkge1xuICAgIHRoaXMueG1pbiA9IHRvcGxlZnRbMF07XG4gICAgdGhpcy54bWF4ID0gYm90dG9tcmlnaHRbMF07XG4gICAgdGhpcy55bWluID0gdG9wbGVmdFsxXTtcbiAgICB0aGlzLnltYXggPSBib3R0b21yaWdodFsxXTtcbiAgfVxuXG4gIGNvbnRhaW5zKHB0KSB7XG4gICAgaWYgKHB0WzBdID49IHRoaXMueG1pbiAmJiBwdFswXSA8PSB0aGlzLnhtYXhcbiAgICAgICAgJiYgcHRbMV0gPj0gdGhpcy55bWluICYmIHB0WzFdIDw9IHRoaXMueW1heCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5jb25zdCBQcm9wU2l6ZXIgPSBmdW5jdGlvbiBQcm9wU2l6ZXIoZml4ZWRfdmFsdWUsIGZpeGVkX3NpemUpIHtcbiAgdGhpcy5maXhlZF92YWx1ZSA9IGZpeGVkX3ZhbHVlO1xuICBjb25zdCBzcXJ0ID0gTWF0aC5zcXJ0O1xuICBjb25zdCBhYnMgPSBNYXRoLmFicztcbiAgY29uc3QgUEkgPSBNYXRoLlBJO1xuICB0aGlzLnNtYXggPSBmaXhlZF9zaXplICogZml4ZWRfc2l6ZSAqIFBJO1xuICB0aGlzLnNjYWxlID0gdmFsID0+IHNxcnQoYWJzKHZhbCkgKiB0aGlzLnNtYXggLyB0aGlzLmZpeGVkX3ZhbHVlKSAvIFBJO1xuICAvLyB0aGlzLmdldF92YWx1ZSA9IHNpemUgPT4gKChzaXplICogUEkpICoqIDIpIC8gdGhpcy5zbWF4ICogdGhpcy5maXhlZF92YWx1ZTtcbiAgLy8gVXNlIE1hdGggcG93IHRvIHN1cHBvcnQgYnJvd3NlciB3aXRob3V0ICoqIG9wZXJhdG9yOlxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1wcm9wZXJ0aWVzXG4gIHRoaXMuZ2V0X3ZhbHVlID0gc2l6ZSA9PiBNYXRoLnBvdyhzaXplICogUEksIDIpIC8gdGhpcy5zbWF4ICogdGhpcy5maXhlZF92YWx1ZTtcbn07XG5cbmNvbnN0IHJlbW92ZUR1cGxpY2F0ZXMgPSBmdW5jdGlvbiByZW1vdmVEdXBsaWNhdGVzKGFycikge1xuICBjb25zdCB0bXAgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbl9hcnIgPSBhcnIubGVuZ3RoOyBpIDwgbGVuX2FycjsgaSsrKSB7XG4gICAgaWYgKHRtcC5pbmRleE9mKGFycltpXSkgPT09IC0xKSB7XG4gICAgICB0bXAucHVzaChhcnJbaV0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdG1wO1xufTtcblxuY29uc3QgZ2V0U3ZnUGF0aFR5cGUgPSAocGF0aCkgPT4ge1xuICBpZiAocGF0aC5pbmRleE9mKCdNICcpID4gLTEgJiYgcGF0aC5pbmRleE9mKCcgTCAnKSA+IC0xKSB7XG4gICAgcmV0dXJuIDI7XG4gIH1cbiAgcmV0dXJuIDE7XG59O1xuXG5jb25zdCBzdmdQYXRoVG9Db29yZHMgPSAocGF0aCwgdHlwZV9wYXRoKSA9PiB7XG4gIGlmICh0eXBlX3BhdGggPT09IDEpIHtcbiAgICByZXR1cm4gcGF0aC5zbGljZSgxKS5zcGxpdCgnTCcpLm1hcChwdCA9PiBwdC5zcGxpdCgnLCcpLm1hcChhID0+ICthKSk7XG4gIH1cbiAgcmV0dXJuIHBhdGguc2xpY2UoMikuc3BsaXQoJyBMICcpLm1hcChwdCA9PiBwdC5zcGxpdCgnICcpLm1hcChhID0+ICthKSk7XG59O1xuXG5mdW5jdGlvbiBjb21wdXRlUGVyY2VudGlsZVJhbmsob2JqLCBmaWVsZF9uYW1lLCByZXN1bHRfZmllbGRfbmFtZSkge1xuICBjb25zdCB2YWx1ZXMgPSBvYmoubWFwKGQgPT4gZFtmaWVsZF9uYW1lXSk7XG4gIGNvbnN0IGxlbl92YWx1ZXMgPSB2YWx1ZXMubGVuZ3RoO1xuICBjb25zdCBnZXRQUiA9ICh2KSA9PiB7XG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbl92YWx1ZXM7IGkrKykge1xuICAgICAgaWYgKHZhbHVlc1tpXSA8PSB2KSB7XG4gICAgICAgIGNvdW50ICs9IDE7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAxMDAgKiBjb3VudCAvIGxlbl92YWx1ZXM7XG4gIH07XG4gIGZvciAobGV0IGl4ID0gMDsgaXggPCBsZW5fdmFsdWVzOyBpeCsrKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgb2JqW2l4XVtyZXN1bHRfZmllbGRfbmFtZV0gPSBnZXRQUih2YWx1ZXNbaXhdKTtcbiAgfVxufVxuXG5jb25zdCBfZ2V0UFIgPSAodiwgc2VyaWUpID0+IHtcbiAgbGV0IGNvdW50ID0gMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXJpZS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzZXJpZVtpXSA8PSB2KSB7XG4gICAgICBjb3VudCArPSAxO1xuICAgIH1cbiAgfVxuICByZXR1cm4gMTAwICogY291bnQgLyBzZXJpZS5sZW5ndGg7XG59O1xuXG5jb25zdCBnZXRNZWFuID0gKHNlcmllKSA9PiB7XG4gIGNvbnN0IG5iX3ZhbHVlcyA9IHNlcmllLmxlbmd0aDtcbiAgbGV0IHN1bSA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbmJfdmFsdWVzOyBpKyspIHtcbiAgICBzdW0gKz0gc2VyaWVbaV07XG4gIH1cbiAgcmV0dXJuIHN1bSAvIG5iX3ZhbHVlcztcbn07XG5cbmNvbnN0IGdldFN0ZERldiA9IChzZXJpZSwgbWVhbl92YWx1ZSkgPT4ge1xuICBjb25zdCBuYl92YWx1ZXMgPSBzZXJpZS5sZW5ndGg7XG4gIGlmICghbWVhbl92YWx1ZSkge1xuICAgIG1lYW5fdmFsdWUgPSBnZXRNZWFuKHNlcmllKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICB9XG4gIGxldCBzdW0gPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG5iX3ZhbHVlczsgaSsrKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtcHJvcGVydGllc1xuICAgIHN1bSArPSBtYXRoX3BvdyhzZXJpZVtpXSAtIG1lYW5fdmFsdWUsIDIpO1xuICB9XG4gIHJldHVybiBtYXRoX3NxcnQoKDEgLyBuYl92YWx1ZXMpICogc3VtKTtcbn07XG5cbmNvbnN0IGdldFN0YW5kYXJkaXplZE1lYW5TdGREZXYgPSAoc2VyaWUpID0+IHtcbiAgY29uc3QgbWVhbiA9IGdldE1lYW4oc2VyaWUpO1xuICBjb25zdCBzdGRkZXYgPSBnZXRTdGREZXYoc2VyaWUsIG1lYW4pO1xuICByZXR1cm4gc2VyaWUubWFwKHZhbCA9PiAodmFsIC0gbWVhbikgLyBzdGRkZXYpO1xufTtcblxuY29uc3Qgc2h1ZmZsZSA9IChhcnJheSkgPT4ge1xuICBmb3IgKGxldCBpID0gYXJyYXkubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkge1xuICAgIGNvbnN0IGogPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoaSArIDEpKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICBbYXJyYXlbaV0sIGFycmF5W2pdXSA9IFthcnJheVtqXSwgYXJyYXlbaV1dO1xuICB9XG4gIHJldHVybiBhcnJheTtcbn07XG5cbmZ1bmN0aW9uIGV1Y2xpZGlhbl9kaXN0YW5jZShmZWF0dXJlMSwgZmVhdHVyZTIpIHtcbiAgY29uc3QgW3gxLCB5MV0gPSBmZWF0dXJlMS5nZW9tZXRyeS5jb29yZGluYXRlcztcbiAgY29uc3QgW3gyLCB5Ml0gPSBmZWF0dXJlMi5nZW9tZXRyeS5jb29yZGluYXRlcztcbiAgY29uc3QgYSA9IHgxIC0geDI7XG4gIGNvbnN0IGIgPSB5MSAtIHkyO1xuICByZXR1cm4gbWF0aF9zcXJ0KGEgKiBhICsgYiAqIGIpO1xufVxuXG4vKipcbiogRnVuY3Rpb24gdG8gc2VsZWN0IHRoZSBmaXJzdCB2YXJpYWJsZSBvbiB0aGUgbGVmdCBtZW51XG4qICh0cmlnZ2VyZWQgYWZ0ZXIgY2hhbmdpbmcgcmVnaW9uLCBpZiBubyBtb3JlIHZhcmlhYmxlIHdhcyBzZWxlY3RlZClcbipcbiogQHJldHVybiB7dm9pZH1cbiovXG5mdW5jdGlvbiBzZWxlY3RGaXJzdEF2YWlsYWJsZVZhcigpIHtcbiAgY29uc3QgbWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtZW51Jyk7XG4gIGNvbnN0IHYgPSBtZW51LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YXJnZXRfdmFyaWFibGUnKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB2Lmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKCF2W2ldLmNsYXNzTGlzdC5jb250YWlucygnZGlzYWJsZWQnKSkge1xuICAgICAgdltpXS5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XG4gICAgICByZXR1cm4gdltpXS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHByZXBhcmVHZW9tTGF5ZXJJZChsYXllciwgaWRfZmllbGQpIHtcbiAgbGF5ZXIuZmVhdHVyZXMuZm9yRWFjaCgoZnQpID0+IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICBmdC5pZCA9IGZ0LnByb3BlcnRpZXNbaWRfZmllbGRdO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0UmFuZG9tKGFyciwgZmFsc2VfbGVuZ3RoKSB7XG4gIHJldHVybiBhcnJbTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogKGZhbHNlX2xlbmd0aCB8fCBhcnIubGVuZ3RoKSldO1xufVxuXG5leHBvcnQge1xuICBjb21wLFxuICBjb21wMixcbiAgbWF0aF9hYnMsXG4gIG1hdGhfcm91bmQsXG4gIG1hdGhfc2luLFxuICBtYXRoX2NvcyxcbiAgbWF0aF9tYXgsXG4gIG1hdGhfc3FydCxcbiAgbWF0aF9wb3csXG4gIEhBTEZfUEksXG4gIFJlY3QsXG4gIFByb3BTaXplcixcbiAgdW5iaW5kVUksXG4gIHByZXBhcmVUb29sdGlwLFxuICByZW1vdmVEdXBsaWNhdGVzLFxuICBnZXRTdmdQYXRoVHlwZSxcbiAgc3ZnUGF0aFRvQ29vcmRzLFxuICBjb21wdXRlUGVyY2VudGlsZVJhbmssXG4gIF9nZXRQUixcbiAgZ2V0TWVhbixcbiAgZ2V0U3RkRGV2LFxuICBnZXRTdGFuZGFyZGl6ZWRNZWFuU3RkRGV2LFxuICBzaHVmZmxlLFxuICBldWNsaWRpYW5fZGlzdGFuY2UsXG4gIHNlbGVjdEZpcnN0QXZhaWxhYmxlVmFyLFxuICBwcmVwYXJlR2VvbUxheWVySWQsXG4gIGdldFJhbmRvbSxcbn07XG4iLCJpbXBvcnQgeyByZW1vdmVEdXBsaWNhdGVzIH0gZnJvbSAnLi9oZWxwZXJzJztcblxuY29uc3QgY3JlYXRlTWVudSA9IGZ1bmN0aW9uIGNyZWF0ZU1lbnUobmFtZXMsIHZhcmlhYmxlcywgc3R1ZHlfem9uZXMsIHRlcnJpdG9yaWFsX21lc2gpIHtcbiAgLy8gRmlyc3Qgc2VjdGlvbiwgcmVnaW9ucyBuYW1lczpcbiAgY29uc3QgdGl0bGVfc2VjdGlvbjEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gIHRpdGxlX3NlY3Rpb24xLmNsYXNzTmFtZSA9ICd0aXRsZV9tZW51JztcbiAgdGl0bGVfc2VjdGlvbjEuaW5uZXJIVE1MID0gJ01hIHLDqWdpb24nO1xuICBjb25zdCBzZWN0aW9uMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBzZWN0aW9uMS5jbGFzc05hbWUgPSAnYm94JztcbiAgc2VjdGlvbjEuc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7XG4gIHNlY3Rpb24xLnN0eWxlLmhlaWdodCA9ICcxNSUnO1xuICBmb3IgKGxldCBpID0gMCwgbGVuX2kgPSBuYW1lcy5sZW5ndGg7IGkgPCBsZW5faTsgaSsrKSB7XG4gICAgY29uc3QgaWQgPSBuYW1lc1tpXS5nZW87XG4gICAgY29uc3QgbmFtZSA9IG5hbWVzW2ldLk5vbTtcbiAgICBjb25zdCBlbnRyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBlbnRyeS5pbm5lckhUTUwgPSBgPHNwYW4gdmFsdWU9XCIke2lkfVwiIGNsYXNzPSd0YXJnZXRfcmVnaW9uIHNxdWFyZSc+PC9zcGFuPjxzcGFuIGNsYXNzPVwibGFiZWxfY2hrXCI+JHtuYW1lfTwvc3Bhbj5gO1xuICAgIHNlY3Rpb24xLmFwcGVuZENoaWxkKGVudHJ5KTtcbiAgfVxuXG4gIC8vIFNlY29uZCBzZWN0aW9uLCBncm91cHMgb2YgdmFyaWFibGVzOlxuICBjb25zdCB0aXRsZV9zZWN0aW9uMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgdGl0bGVfc2VjdGlvbjIuY2xhc3NOYW1lID0gJ3RpdGxlX21lbnUnO1xuICB0aXRsZV9zZWN0aW9uMi5pbm5lckhUTUwgPSAnSW5kaWNhdGV1cnMnO1xuICBjb25zdCBzZWN0aW9uMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBzZWN0aW9uMi5pZCA9ICdtZW51X3ZhcmlhYmxlcyc7XG4gIHNlY3Rpb24yLmNsYXNzTmFtZSA9ICdib3gnO1xuICBzZWN0aW9uMi5zdHlsZS5vdmVyZmxvdyA9ICdhdXRvJztcbiAgc2VjdGlvbjIuc3R5bGUuaGVpZ2h0ID0gJzI1JSc7XG5cbiAgLy8gRmlsdGVyIHRoZSBcInZhcmlhYmxlc1wiIHZhcmlhYmxlIHRvIGZldGNoIHRoZSBncm91cCBuYW1lcyA6XG4gIGNvbnN0IGdyb3Vwc192YXIgPSByZW1vdmVEdXBsaWNhdGVzKHZhcmlhYmxlcy5tYXAoZCA9PiBkLmdyb3VwKS5maWx0ZXIoZCA9PiBkICE9PSAnTnVtL2TDqW5vbScpKTtcblxuICBmb3IgKGxldCBpID0gMCwgbGVuX2kgPSBncm91cHNfdmFyLmxlbmd0aDsgaSA8IGxlbl9pOyBpKyspIHtcbiAgICBjb25zdCBncF9uYW1lID0gZ3JvdXBzX3ZhcltpXTtcbiAgICBjb25zdCBlbnRyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBlbnRyeS5jbGFzc05hbWUgPSAnbmFtZV9ncm91cF92YXInO1xuICAgIGVudHJ5LmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz0nc3F1YXJlJz48L3NwYW4+PHNwYW4+JHtncF9uYW1lfTwvc3Bhbj5gO1xuICAgIHNlY3Rpb24yLmFwcGVuZENoaWxkKGVudHJ5KTtcbiAgICBjb25zdCBkaXZfZ3JwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGl2X2dycC5zdHlsZS5kaXNwbGF5ID0gaSA9PT0gMCA/IG51bGwgOiAnbm9uZSc7XG4gICAgY29uc3QgdmFyX25hbWVzID0gdmFyaWFibGVzLmZpbHRlcihkID0+IGQuZ3JvdXAgPT09IGdwX25hbWUpO1xuICAgIGZvciAobGV0IGogPSAwLCBsZW5faiA9IHZhcl9uYW1lcy5sZW5ndGg7IGogPCBsZW5fajsgaisrKSB7XG4gICAgICBjb25zdCBuYW1lX3ZhciA9IHZhcl9uYW1lc1tqXS5uYW1lO1xuICAgICAgY29uc3QgY29kZV92YXIgPSB2YXJfbmFtZXNbal0ucmF0aW87XG4gICAgICBjb25zdCBzdWJfZW50cnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICBzdWJfZW50cnkuY2xhc3NOYW1lID0gJ3NtYWxsJztcbiAgICAgIHN1Yl9lbnRyeS5pbm5lckhUTUwgPSBgPHNwYW4gdmFsdWU9XCIke2NvZGVfdmFyfVwiIGNsYXNzPVwidGFyZ2V0X3ZhcmlhYmxlIHNtYWxsX3NxdWFyZVwiPjwvc3Bhbj48c3BhbiBjbGFzcz1cImxhYmVsX2Noa1wiPiR7bmFtZV92YXJ9PC9zcGFuPjxzcGFuIGNsYXNzPVwiaV9pbmZvXCI+aTwvc3Bhbj5gO1xuICAgICAgZGl2X2dycC5hcHBlbmRDaGlsZChzdWJfZW50cnkpO1xuICAgIH1cbiAgICBzZWN0aW9uMi5hcHBlbmRDaGlsZChkaXZfZ3JwKTtcbiAgfVxuXG4gIC8vIFRoaXJkIHNlY3Rpb24sIHN0dWR5IHpvbmU6XG4gIGNvbnN0IHRpdGxlX3NlY3Rpb24zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICB0aXRsZV9zZWN0aW9uMy5jbGFzc05hbWUgPSAndGl0bGVfbWVudSc7XG4gIHRpdGxlX3NlY3Rpb24zLmlubmVySFRNTCA9ICdFc3BhY2UgZFxcJ8OpdHVkZSc7XG4gIGNvbnN0IHNlY3Rpb24zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHNlY3Rpb24zLmlkID0gJ21lbnVfc3R1ZHl6b25lJztcbiAgc2VjdGlvbjMuY2xhc3NOYW1lID0gJ2JveCc7XG4gIHNlY3Rpb24zLnN0eWxlLm92ZXJmbG93ID0gJ2F1dG8nO1xuICBzZWN0aW9uMy5zdHlsZS5tYXhIZWlnaHQgPSAnMjUlJztcbiAgZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gc3R1ZHlfem9uZXMubGVuZ3RoOyBpIDwgbGVuX2k7IGkrKykge1xuICAgIGNvbnN0IGVudHJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGNvbnN0IHpvbmUgPSBzdHVkeV96b25lc1tpXTtcbiAgICBpZiAoem9uZS5pZCA9PT0gJ2ZpbHRlcl9kaXN0Jykge1xuICAgICAgZW50cnkuaW5uZXJIVE1MID0gYDxzcGFuIGZpbHRlci12YWx1ZT1cIiR7em9uZS5pZH1cIiBjbGFzcz0nZmlsdGVyX3Ygc3F1YXJlJz48L3NwYW4+PHNwYW4gY2xhc3M9XCJsYWJlbF9jaGtcIj4ke3pvbmUubmFtZX08L3NwYW4+PGlucHV0IHZhbHVlPVwiNDUwXCIgZGlzYWJsZWQ9XCJkaXNhYmxlZFwiIHN0eWxlPVwid2lkdGg6IDU1cHg7IGhlaWdodDogMTNweDtcIiB0eXBlPVwibnVtYmVyXCIgbWluPVwiMFwiIG1heD1cIjEwMDAwMFwiIGlkPVwiZGlzdF9maWx0ZXJcIj48L2lucHV0PjxzcGFuPiBrbTwvc3Bhbj48c3BhbiBjbGFzcz1cImlfaW5mb1wiPmk8L3NwYW4+YDtcbiAgICB9IGVsc2Uge1xuICAgICAgZW50cnkuaW5uZXJIVE1MID0gYDxzcGFuIGZpbHRlci12YWx1ZT1cIiR7em9uZS5pZH1cIiBjbGFzcz0nZmlsdGVyX3Ygc3F1YXJlJz48L3NwYW4+PHNwYW4gY2xhc3M9XCJsYWJlbF9jaGtcIj4ke3pvbmUubmFtZX08L3NwYW4+PHNwYW4gY2xhc3M9XCJpX2luZm9cIj5pPC9zcGFuPmA7XG4gICAgfVxuICAgIHNlY3Rpb24zLmFwcGVuZENoaWxkKGVudHJ5KTtcbiAgfVxuXG4gIC8vIEZvdXJ0aCBzZWN0aW9uOlxuICBjb25zdCB0aXRsZV9zZWN0aW9uNCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgdGl0bGVfc2VjdGlvbjQuY2xhc3NOYW1lID0gJ3RpdGxlX21lbnUnO1xuICB0aXRsZV9zZWN0aW9uNC5pbm5lckhUTUwgPSAnTWFpbGxhZ2UgdGVycml0b3JpYWwgZFxcJ2FuYWx5c2UnO1xuICBjb25zdCBzZWN0aW9uNCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBzZWN0aW9uNC5pZCA9ICdtZW51X3RlcnJpdF9sZXZlbCc7XG4gIHNlY3Rpb240LmNsYXNzTmFtZSA9ICdib3gnO1xuICBzZWN0aW9uNC5zdHlsZS5vdmVyZmxvdyA9ICdhdXRvJztcbiAgc2VjdGlvbjQuc3R5bGUubWF4SGVpZ2h0ID0gJzIwJSc7XG4gIGZvciAobGV0IGkgPSAwLCBsZW5faSA9IHRlcnJpdG9yaWFsX21lc2gubGVuZ3RoOyBpIDwgbGVuX2k7IGkrKykge1xuICAgIGNvbnN0IGVudHJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGNvbnN0IHRlcnJpdF9sZXZlbCA9IHRlcnJpdG9yaWFsX21lc2hbaV07XG4gICAgZW50cnkuaW5uZXJIVE1MID0gYDxzcGFuIHZhbHVlPVwiJHt0ZXJyaXRfbGV2ZWwuaWR9XCIgY2xhc3M9J3RlcnJpdF9sZXZlbCBzcXVhcmUnPjwvc3Bhbj48c3BhbiBjbGFzcz1cImxhYmVsX2Noa1wiPiR7dGVycml0X2xldmVsLm5hbWV9PC9zcGFuPjxzcGFuIGNsYXNzPVwiaV9pbmZvXCI+aTwvc3Bhbj5gO1xuICAgIHNlY3Rpb240LmFwcGVuZENoaWxkKGVudHJ5KTtcbiAgfVxuXG4gIC8vIFRoZSBhY3R1YWwgbWVudSBjb250YWluaW5nIHRoZXNlIDQgc2VjdGlvbnM6XG4gIGNvbnN0IG1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVudScpO1xuICBtZW51LmlkID0gJ21lbnUnO1xuICBtZW51LnN0eWxlLmZsb2F0ID0gJ2xlZnQnO1xuICBtZW51LmFwcGVuZENoaWxkKHRpdGxlX3NlY3Rpb24xKTtcbiAgbWVudS5hcHBlbmRDaGlsZChzZWN0aW9uMSk7XG4gIG1lbnUuYXBwZW5kQ2hpbGQodGl0bGVfc2VjdGlvbjIpO1xuICBtZW51LmFwcGVuZENoaWxkKHNlY3Rpb24yKTtcbiAgbWVudS5hcHBlbmRDaGlsZCh0aXRsZV9zZWN0aW9uMyk7XG4gIG1lbnUuYXBwZW5kQ2hpbGQoc2VjdGlvbjMpO1xuICBtZW51LmFwcGVuZENoaWxkKHRpdGxlX3NlY3Rpb240KTtcbiAgbWVudS5hcHBlbmRDaGlsZChzZWN0aW9uNCk7XG59O1xuXG5leHBvcnQgeyBjcmVhdGVNZW51IH07XG4iLCJpbXBvcnQgeyBhcHAgfSBmcm9tICcuLy4uL21haW4nO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlVG9wTWVudSgpIHtcbiAgY29uc3QgdG9wX21lbnUgPSBkMy5zZWxlY3QoJyNtZW51dG9wJylcbiAgICAuc3R5bGVzKHsgJ2ZvbnQtZmFtaWx5JzogXCInU2lnbmlrYScsIHNhbnMtc2VyaWZcIiwgJ2ZvbnQtc2l6ZSc6ICcwLjgwZW0nLCAndGV4dC1hbGlnbic6ICdjZW50ZXInIH0pO1xuICBjb25zdCB3aWR0aF9sZWZ0ID0gYCR7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21lbnUnKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCArIDI1fXB4YDtcbiAgY29uc3Qgd2lkdGhfY2VudHJhbF9jaGFydCA9IGAke2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNiYXJfc2VjdGlvbicpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRofXB4YDtcbiAgY29uc3Qgd2lkdGhfbWFwID0gYCR7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21hcF9zZWN0aW9uJykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggLSA0MH1weGA7XG5cbiAgdG9wX21lbnVcbiAgICAuYXBwZW5kKCdkaXYnKVxuICAgIC5hdHRycyh7IGNsYXNzOiAndGl0bGVfc2VjdGlvbiB0MScgfSlcbiAgICAuaHRtbCgnU8OJTEVDVElPTicpO1xuXG4gIGNvbnN0IHR5cGVfY2hhcnQgPSB0b3BfbWVudVxuICAgIC5hcHBlbmQoJ2RpdicpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ3RvcF9zZWN0aW9uIHQyJylcbiAgICAuc3R5bGUoJ2Rpc3BsYXknLCAnZmxleCcpO1xuXG4gIGNvbnN0IHBvc2l0aW9uID0gdHlwZV9jaGFydFxuICAgIC5hcHBlbmQoJ2RpdicpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ3R5cGVfY29tcGFyYWlzb24nKTtcblxuICBwb3NpdGlvbi5hcHBlbmQoJ3AnKVxuICAgIC5hdHRyKCdjbGFzcycsICd0aXRsZV90eXBlX2NvbXAnKVxuICAgIC5odG1sKCdQT1NJVElPTicpO1xuXG4gIHBvc2l0aW9uLmFwcGVuZCgnc3BhbicpXG4gICAgLmF0dHJzKHsgY2xhc3M6ICd0eXBlX2NoYXJ0IGNoYXJ0X3QxIHNlbGVjdGVkJywgdmFsdWU6ICdCYXJDaGFydDEnIH0pXG4gICAgLmh0bWwoJzEgaW5kLicpO1xuXG4gIHBvc2l0aW9uLmFwcGVuZCgnc3BhbicpXG4gICAgLmF0dHJzKHsgY2xhc3M6ICd0eXBlX2NoYXJ0IGNoYXJ0X3QyIGRpc2FibGVkJywgdmFsdWU6ICdTY2F0dGVyUGxvdDInIH0pXG4gICAgLmh0bWwoJzIgaW5kLicpO1xuXG4gIHBvc2l0aW9uLmFwcGVuZCgnc3BhbicpXG4gICAgLmF0dHJzKHsgY2xhc3M6ICd0eXBlX2NoYXJ0IGNoYXJ0X3QzIGRpc2FibGVkJywgdmFsdWU6ICdSYWRhckNoYXJ0MycgfSlcbiAgICAuaHRtbCgnKzMgaW5kLicpO1xuXG4gIGNvbnN0IHJlc3NlbWJsYW5jZSA9IHR5cGVfY2hhcnRcbiAgICAuYXBwZW5kKCdkaXYnKVxuICAgIC5hdHRyKCdjbGFzcycsICd0eXBlX2NvbXBhcmFpc29uJyk7XG5cbiAgcmVzc2VtYmxhbmNlLmFwcGVuZCgncCcpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ3RpdGxlX3R5cGVfY29tcCcpXG4gICAgLmh0bWwoJ1JFU1NFTUJMQU5DRVMnKTtcblxuICByZXNzZW1ibGFuY2UuYXBwZW5kKCdzcGFuJylcbiAgICAuYXR0cnMoeyBjbGFzczogJ3R5cGVfY2hhcnQgY2hhcnRfdDEnLCB2YWx1ZTogJ1NpbWlsYXJpdHkxcGx1cycgfSlcbiAgICAuaHRtbCgnKzEgaW5kLicpO1xuXG4gIHRvcF9tZW51XG4gICAgLmFwcGVuZCgnZGl2JylcbiAgICAuYXR0cnMoeyBjbGFzczogJ3RpdGxlX3NlY3Rpb24gdDMnIH0pXG4gICAgLmh0bWwoJ1FVRUxMRVMgUsOJR0lPTlMgPycpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZUhlYWRlck1hcFNlY3Rpb24oKSB7XG4gIGNvbnN0IGhlYWRlcl9tYXBfc2VjdGlvbiA9IGQzLnNlbGVjdCgnI21hcF9zZWN0aW9uJylcbiAgICAuaW5zZXJ0KCdwJywgJy5jb21wbGV0dWRlX3NlY3Rpb24nKVxuICAgIC5hdHRyKCdpZCcsICdoZWFkZXJfbWFwJyk7XG5cbiAgaGVhZGVyX21hcF9zZWN0aW9uLmluc2VydCgnaW1nJylcbiAgICAuYXR0cnMoe1xuICAgICAgY2xhc3M6ICdtYXBfYnV0dG9uIGFjdGl2ZScsXG4gICAgICB3aWR0aDogMjAsXG4gICAgICBoZWlnaHQ6IDIwLFxuICAgICAgc3JjOiAnaW1nL2dpbXAtdG9vbC1yZWN0LXNlbGVjdC5wbmcnLFxuICAgICAgaWQ6ICdpbWdfcmVjdF9zZWxlYycsXG4gICAgfSk7XG5cbiAgaGVhZGVyX21hcF9zZWN0aW9uLmluc2VydCgnaW1nJylcbiAgICAuYXR0cnMoe1xuICAgICAgY2xhc3M6ICdtYXBfYnV0dG9uJyxcbiAgICAgIHdpZHRoOiAyMCxcbiAgICAgIGhlaWdodDogMjAsXG4gICAgICBzcmM6ICdpbWcvZ2ltcC10b29sLXpvb20ucG5nJyxcbiAgICAgIGlkOiAnaW1nX21hcF96b29tJyxcbiAgICB9KTtcblxuICBoZWFkZXJfbWFwX3NlY3Rpb24uaW5zZXJ0KCdpbWcnKVxuICAgIC5hdHRycyh7XG4gICAgICBjbGFzczogJ21hcF9idXR0b24nLFxuICAgICAgd2lkdGg6IDIwLFxuICAgICAgaGVpZ2h0OiAyMCxcbiAgICAgIHNyYzogJ2ltZy9naW1wLWN1cnNvci5wbmcnLFxuICAgICAgaWQ6ICdpbWdfbWFwX3NlbGVjdCcsXG4gICAgfSk7XG5cbiAgaGVhZGVyX21hcF9zZWN0aW9uLmluc2VydCgnZGl2JylcbiAgICAuYXR0cnMoe1xuICAgICAgaWQ6ICd6b29tX2luJyxcbiAgICAgIGNsYXNzOiAndG9wX2hhbGZfY2lyY2xlJyxcbiAgICB9KVxuICAgIC5hcHBlbmQoJ3NwYW4nKVxuICAgIC50ZXh0KCcrJyk7XG5cbiAgaGVhZGVyX21hcF9zZWN0aW9uLmluc2VydCgnZGl2JylcbiAgICAuYXR0cnMoe1xuICAgICAgaWQ6ICd6b29tX291dCcsXG4gICAgICBjbGFzczogJ3RvcF9oYWxmX2NpcmNsZScsXG4gICAgfSlcbiAgICAuYXBwZW5kKCdzcGFuJylcbiAgICAudGV4dCgnLScpO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlSGVhZGVyQ2hhcnQoKSB7XG4gIGNvbnN0IGhlYWRlcl9iYXJfc2VjdGlvbiA9IGQzLnNlbGVjdCgnI2Jhcl9zZWN0aW9uJylcbiAgICAuaW5zZXJ0KCdwJywgJ3N2ZycpXG4gICAgLmF0dHIoJ2lkJywgJ2hlYWRlcl9jaGFydCcpXG4gICAgLnN0eWxlKCdtYXJnaW4tYm90dG9tJywgJzAnKVxuICAgIC5zdHlsZSgnY2xlYXInLCAnYm90aCcpO1xuXG4gIGhlYWRlcl9iYXJfc2VjdGlvbi5pbnNlcnQoJ2ltZycpXG4gICAgLmF0dHJzKHtcbiAgICAgIHdpZHRoOiAyMCxcbiAgICAgIGhlaWdodDogMjAsXG4gICAgICBzcmM6ICdpbWcvZWRpdC10YWJsZS1pbnNlcnQtcm93LWFib3ZlLnN2ZycsXG4gICAgICBpZDogJ2ltZ190YWJsZScsXG4gICAgfSlcbiAgICAuc3R5bGVzKHsgbWFyZ2luOiAnM3B4JywgZmxvYXQ6ICdyaWdodCcgfSlcbiAgICAub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgY29sdW1ucyA9IE9iamVjdC5rZXlzKGFwcC5jdXJyZW50X2RhdGFbMF0pO1xuICAgICAgY29uc3QgY29udGVudCA9IFtcbiAgICAgICAgY29sdW1ucy5qb2luKCcsJyksICdcXHJcXG4nLFxuICAgICAgICBhcHAuY3VycmVudF9kYXRhLm1hcChkID0+IGNvbHVtbnMubWFwKGMgPT4gZFtjXSkuam9pbignLCcpKS5qb2luKCdcXHJcXG4nKSxcbiAgICAgIF0uam9pbignJyk7XG4gICAgICBjb25zdCBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBgZGF0YTp0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTgsJHtlbmNvZGVVUklDb21wb25lbnQoY29udGVudCl9YCk7XG4gICAgICBlbGVtLnNldEF0dHJpYnV0ZSgnZG93bmxvYWQnLCAnUmVnaW92aXpfZXhwb3J0LmNzdicpO1xuICAgICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbGVtKTtcbiAgICAgIGVsZW0uY2xpY2soKTtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZWxlbSk7XG4gICAgICAvLyBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRhdGFUYWJsZS13cmFwcGVyJykuc3R5bGUuZGlzcGxheSkge1xuICAgICAgLy8gICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3ZnX21hcCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAvLyAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzdmdfbGVnZW5kJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIC8vICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2hlYWRlcl9tYXAnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgLy8gICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaGVhZGVyX3RhYmxlJykuc3R5bGUuZGlzcGxheSA9IG51bGw7XG4gICAgICAvLyAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kYXRhVGFibGUtd3JhcHBlcicpLnN0eWxlLmRpc3BsYXkgPSBudWxsO1xuICAgICAgLy8gICB0aGlzLnN0eWxlLmZpbHRlciA9ICdpbnZlcnQoNzUlKSc7XG4gICAgICAvLyB9IGVsc2Uge1xuICAgICAgLy8gICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3ZnX21hcCcpLnN0eWxlLmRpc3BsYXkgPSBudWxsO1xuICAgICAgLy8gICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3ZnX2xlZ2VuZCcpLnN0eWxlLmRpc3BsYXkgPSBudWxsO1xuICAgICAgLy8gICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaGVhZGVyX21hcCcpLnN0eWxlLmRpc3BsYXkgPSBudWxsO1xuICAgICAgLy8gICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaGVhZGVyX3RhYmxlJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIC8vICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRhdGFUYWJsZS13cmFwcGVyJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIC8vICAgdGhpcy5zdHlsZS5maWx0ZXIgPSBudWxsO1xuICAgICAgLy8gfVxuICAgIH0pO1xuXG4gIGhlYWRlcl9iYXJfc2VjdGlvbi5pbnNlcnQoJ2ltZycpXG4gICAgLmF0dHJzKHtcbiAgICAgIHdpZHRoOiAyMCxcbiAgICAgIGhlaWdodDogMjAsXG4gICAgICBzcmM6ICdpbWcvcHJpbnRlci5zdmcnLFxuICAgICAgaWQ6ICdpbWdfcHJpbnRlcicsXG4gICAgfSlcbiAgICAuc3R5bGVzKHsgbWFyZ2luOiAnM3B4JywgZmxvYXQ6ICdyaWdodCcgfSk7XG5cbiAgaGVhZGVyX2Jhcl9zZWN0aW9uLmluc2VydCgnaW1nJylcbiAgICAuYXR0cnMoe1xuICAgICAgd2lkdGg6IDIwLFxuICAgICAgaGVpZ2h0OiAyMCxcbiAgICAgIHNyYzogJ2ltZy9ndGstaW5mby5zdmcnLFxuICAgICAgaWQ6ICdpbWdfaW5mbycsXG4gICAgfSlcbiAgICAuc3R5bGVzKHsgbWFyZ2luOiAnM3B4JywgZmxvYXQ6ICdyaWdodCcgfSk7XG59XG4iLCIoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuXHR0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG5cdHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG5cdChnbG9iYWwudGlwcHkgPSBmYWN0b3J5KCkpO1xufSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbnZhciBCcm93c2VyID0ge307XG5cbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICBCcm93c2VyLlNVUFBPUlRFRCA9ICdyZXF1ZXN0QW5pbWF0aW9uRnJhbWUnIGluIHdpbmRvdztcbiAgQnJvd3Nlci5TVVBQT1JUU19UT1VDSCA9ICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdztcbiAgQnJvd3Nlci50b3VjaCA9IGZhbHNlO1xuICBCcm93c2VyLmR5bmFtaWNJbnB1dERldGVjdGlvbiA9IHRydWU7XG4gIC8vIENocm9tZSBkZXZpY2UvdG91Y2ggZW11bGF0aW9uIGNhbiBtYWtlIHRoaXMgZHluYW1pY1xuICBCcm93c2VyLmlPUyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKC9pUGhvbmV8aVBhZHxpUG9kLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmICF3aW5kb3cuTVNTdHJlYW1cbiAgICApO1xuICB9O1xufVxuXG4vKipcbiogVGhlIGdsb2JhbCBzdG9yYWdlIGFycmF5IHdoaWNoIGhvbGRzIGFsbCBkYXRhIHJlZmVyZW5jZSBvYmplY3RzXG4qIGZyb20gZXZlcnkgaW5zdGFuY2VcbiogVGhpcyBhbGxvd3MgdXMgdG8gaGlkZSB0b29sdGlwcyBmcm9tIGFsbCBpbnN0YW5jZXMsIGZpbmRpbmcgdGhlIHJlZiB3aGVuXG4qIGNsaWNraW5nIG9uIHRoZSBib2R5LCBhbmQgZm9yIGZvbGxvd0N1cnNvclxuKi9cbnZhciBTdG9yZSA9IFtdO1xuXG4vKipcbiogU2VsZWN0b3IgY29uc3RhbnRzIHVzZWQgZm9yIGdyYWJiaW5nIGVsZW1lbnRzXG4qL1xudmFyIFNlbGVjdG9ycyA9IHtcbiAgUE9QUEVSOiAnLnRpcHB5LXBvcHBlcicsXG4gIFRPT0xUSVA6ICcudGlwcHktdG9vbHRpcCcsXG4gIENPTlRFTlQ6ICcudGlwcHktdG9vbHRpcC1jb250ZW50JyxcbiAgQ0lSQ0xFOiAnW3gtY2lyY2xlXScsXG4gIEFSUk9XOiAnW3gtYXJyb3ddJyxcbiAgVE9PTFRJUFBFRF9FTDogJ1tkYXRhLXRvb2x0aXBwZWRdJyxcbiAgQ09OVFJPTExFUjogJ1tkYXRhLXRpcHB5LWNvbnRyb2xsZXJdJ1xuXG4gIC8qKlxuICAqIFRoZSBkZWZhdWx0IHNldHRpbmdzIGFwcGxpZWQgdG8gZWFjaCBpbnN0YW5jZVxuICAqL1xufTt2YXIgRGVmYXVsdHMgPSB7XG4gIGh0bWw6IGZhbHNlLFxuICBwb3NpdGlvbjogJ3RvcCcsXG4gIGFuaW1hdGlvbjogJ3NoaWZ0JyxcbiAgYW5pbWF0ZUZpbGw6IHRydWUsXG4gIGFycm93OiBmYWxzZSxcbiAgYXJyb3dTaXplOiAncmVndWxhcicsXG4gIGRlbGF5OiAwLFxuICB0cmlnZ2VyOiAnbW91c2VlbnRlciBmb2N1cycsXG4gIGR1cmF0aW9uOiAzNTAsXG4gIGludGVyYWN0aXZlOiBmYWxzZSxcbiAgaW50ZXJhY3RpdmVCb3JkZXI6IDIsXG4gIHRoZW1lOiAnZGFyaycsXG4gIHNpemU6ICdyZWd1bGFyJyxcbiAgZGlzdGFuY2U6IDEwLFxuICBvZmZzZXQ6IDAsXG4gIGhpZGVPbkNsaWNrOiB0cnVlLFxuICBtdWx0aXBsZTogZmFsc2UsXG4gIGZvbGxvd0N1cnNvcjogZmFsc2UsXG4gIGluZXJ0aWE6IGZhbHNlLFxuICBmbGlwRHVyYXRpb246IDM1MCxcbiAgc3RpY2t5OiBmYWxzZSxcbiAgc3RpY2t5RHVyYXRpb246IDIwMCxcbiAgYXBwZW5kVG86IGZ1bmN0aW9uIGFwcGVuZFRvKCkge1xuICAgIHJldHVybiBkb2N1bWVudC5ib2R5O1xuICB9LFxuICB6SW5kZXg6IDk5OTksXG4gIHRvdWNoSG9sZDogZmFsc2UsXG4gIHBlcmZvcm1hbmNlOiBmYWxzZSxcbiAgZHluYW1pY1RpdGxlOiBmYWxzZSxcbiAgcG9wcGVyT3B0aW9uczoge31cblxuICAvKipcbiAgKiBUaGUga2V5cyBvZiB0aGUgZGVmYXVsdHMgb2JqZWN0IGZvciByZWR1Y2luZyBkb3duIGludG8gYSBuZXcgb2JqZWN0XG4gICogVXNlZCBpbiBgZ2V0SW5kaXZpZHVhbFNldHRpbmdzKClgXG4gICovXG59O3ZhciBEZWZhdWx0c0tleXMgPSBCcm93c2VyLlNVUFBPUlRFRCAmJiBPYmplY3Qua2V5cyhEZWZhdWx0cyk7XG5cbi8qKlxuKiBIaWRlcyBhbGwgcG9wcGVyc1xuKiBAcGFyYW0ge09iamVjdH0gZXhjbHVkZSAtIHJlZkRhdGEgdG8gZXhjbHVkZSBpZiBuZWVkZWRcbiovXG5mdW5jdGlvbiBoaWRlQWxsUG9wcGVycyhleGNsdWRlKSB7XG4gIFN0b3JlLmZvckVhY2goZnVuY3Rpb24gKHJlZkRhdGEpIHtcbiAgICB2YXIgcG9wcGVyID0gcmVmRGF0YS5wb3BwZXIsXG4gICAgICAgIHRpcHB5SW5zdGFuY2UgPSByZWZEYXRhLnRpcHB5SW5zdGFuY2UsXG4gICAgICAgIF9yZWZEYXRhJHNldHRpbmdzID0gcmVmRGF0YS5zZXR0aW5ncyxcbiAgICAgICAgYXBwZW5kVG8gPSBfcmVmRGF0YSRzZXR0aW5ncy5hcHBlbmRUbyxcbiAgICAgICAgaGlkZU9uQ2xpY2sgPSBfcmVmRGF0YSRzZXR0aW5ncy5oaWRlT25DbGljayxcbiAgICAgICAgdHJpZ2dlciA9IF9yZWZEYXRhJHNldHRpbmdzLnRyaWdnZXI7XG5cbiAgICAvLyBEb24ndCBoaWRlIGFscmVhZHkgaGlkZGVuIG9uZXNcblxuICAgIGlmICghYXBwZW5kVG8uY29udGFpbnMocG9wcGVyKSkgcmV0dXJuO1xuXG4gICAgLy8gaGlkZU9uQ2xpY2sgY2FuIGhhdmUgdGhlIHRydXRoeSB2YWx1ZSBvZiAncGVyc2lzdGVudCcsIHNvIHN0cmljdCBjaGVjayBpcyBuZWVkZWRcbiAgICB2YXIgaXNIaWRlT25DbGljayA9IGhpZGVPbkNsaWNrID09PSB0cnVlIHx8IHRyaWdnZXIuaW5kZXhPZignZm9jdXMnKSAhPT0gLTE7XG4gICAgdmFyIGlzTm90Q3VycmVudFJlZiA9ICFleGNsdWRlIHx8IHBvcHBlciAhPT0gZXhjbHVkZS5wb3BwZXI7XG5cbiAgICBpZiAoaXNIaWRlT25DbGljayAmJiBpc05vdEN1cnJlbnRSZWYpIHtcbiAgICAgIHRpcHB5SW5zdGFuY2UuaGlkZShwb3BwZXIpO1xuICAgIH1cbiAgfSk7XG59XG5cbnZhciBtYXRjaGVzID0ge307XG5cbmlmICh0eXBlb2YgRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgdmFyIGUgPSBFbGVtZW50LnByb3RvdHlwZTtcbiAgbWF0Y2hlcyA9IGUubWF0Y2hlcyB8fCBlLm1hdGNoZXNTZWxlY3RvciB8fCBlLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fCBlLm1vek1hdGNoZXNTZWxlY3RvciB8fCBlLm1zTWF0Y2hlc1NlbGVjdG9yIHx8IGZ1bmN0aW9uIChzKSB7XG4gICAgdmFyIG1hdGNoZXMgPSAodGhpcy5kb2N1bWVudCB8fCB0aGlzLm93bmVyRG9jdW1lbnQpLnF1ZXJ5U2VsZWN0b3JBbGwocyksXG4gICAgICAgIGkgPSBtYXRjaGVzLmxlbmd0aDtcbiAgICB3aGlsZSAoLS1pID49IDAgJiYgbWF0Y2hlcy5pdGVtKGkpICE9PSB0aGlzKSB7fVxuICAgIHJldHVybiBpID4gLTE7XG4gIH07XG59XG5cbnZhciBtYXRjaGVzJDEgPSBtYXRjaGVzO1xuXG4vKipcbiogUG9ueWZpbGwgdG8gZ2V0IHRoZSBjbG9zZXN0IHBhcmVudCBlbGVtZW50XG4qIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIGNoaWxkIG9mIHBhcmVudCB0byBiZSByZXR1cm5lZFxuKiBAcGFyYW0ge1N0cmluZ30gcGFyZW50U2VsZWN0b3IgLSBzZWxlY3RvciB0byBtYXRjaCB0aGUgcGFyZW50IGlmIGZvdW5kXG4qIEByZXR1cm4ge0VsZW1lbnR9XG4qL1xuZnVuY3Rpb24gY2xvc2VzdChlbGVtZW50LCBwYXJlbnRTZWxlY3Rvcikge1xuICB2YXIgX2Nsb3Nlc3QgPSBFbGVtZW50LnByb3RvdHlwZS5jbG9zZXN0IHx8IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgIHZhciBlbCA9IHRoaXM7XG4gICAgd2hpbGUgKGVsKSB7XG4gICAgICBpZiAobWF0Y2hlcyQxLmNhbGwoZWwsIHNlbGVjdG9yKSkge1xuICAgICAgICByZXR1cm4gZWw7XG4gICAgICB9XG4gICAgICBlbCA9IGVsLnBhcmVudEVsZW1lbnQ7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBfY2xvc2VzdC5jYWxsKGVsZW1lbnQsIHBhcmVudFNlbGVjdG9yKTtcbn1cblxuLyoqXG4qIFBvbnlmaWxsIGZvciBBcnJheS5wcm90b3R5cGUuZmluZFxuKiBAcGFyYW0ge0FycmF5fSBhcnJcbiogQHBhcmFtIHtGdW5jdGlvbn0gY2hlY2tGblxuKiBAcmV0dXJuIGl0ZW0gaW4gdGhlIGFycmF5XG4qL1xuZnVuY3Rpb24gZmluZChhcnIsIGNoZWNrRm4pIHtcbiAgaWYgKEFycmF5LnByb3RvdHlwZS5maW5kKSB7XG4gICAgcmV0dXJuIGFyci5maW5kKGNoZWNrRm4pO1xuICB9XG5cbiAgLy8gdXNlIGBmaWx0ZXJgIGFzIGZhbGxiYWNrXG4gIHJldHVybiBhcnIuZmlsdGVyKGNoZWNrRm4pWzBdO1xufVxuXG4vKipcbiogQWRkcyB0aGUgbmVlZGVkIGV2ZW50IGxpc3RlbmVyc1xuKi9cbmZ1bmN0aW9uIGJpbmRFdmVudExpc3RlbmVycygpIHtcbiAgdmFyIHRvdWNoSGFuZGxlciA9IGZ1bmN0aW9uIHRvdWNoSGFuZGxlcigpIHtcbiAgICBCcm93c2VyLnRvdWNoID0gdHJ1ZTtcblxuICAgIGlmIChCcm93c2VyLmlPUygpKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ3RpcHB5LXRvdWNoJyk7XG4gICAgfVxuXG4gICAgaWYgKEJyb3dzZXIuZHluYW1pY0lucHV0RGV0ZWN0aW9uICYmIHdpbmRvdy5wZXJmb3JtYW5jZSkge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgbW91c2Vtb3ZlSGFuZGxlcik7XG4gICAgfVxuICB9O1xuXG4gIHZhciBtb3VzZW1vdmVIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aW1lID0gdm9pZCAwO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTtcblxuICAgICAgLy8gQ2hyb21lIDYwKyBpcyAxIG1vdXNlbW92ZSBwZXIgckFGLCB1c2UgMjBtcyB0aW1lIGRpZmZlcmVuY2VcbiAgICAgIGlmIChub3cgLSB0aW1lIDwgMjApIHtcbiAgICAgICAgQnJvd3Nlci50b3VjaCA9IGZhbHNlO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBtb3VzZW1vdmVIYW5kbGVyKTtcbiAgICAgICAgaWYgKCFCcm93c2VyLmlPUygpKSB7XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCd0aXBweS10b3VjaCcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRpbWUgPSBub3c7XG4gICAgfTtcbiAgfSgpO1xuXG4gIHZhciBjbGlja0hhbmRsZXIgPSBmdW5jdGlvbiBjbGlja0hhbmRsZXIoZXZlbnQpIHtcbiAgICAvLyBTaW11bGF0ZWQgZXZlbnRzIGRpc3BhdGNoZWQgb24gdGhlIGRvY3VtZW50XG4gICAgaWYgKCEoZXZlbnQudGFyZ2V0IGluc3RhbmNlb2YgRWxlbWVudCkpIHtcbiAgICAgIHJldHVybiBoaWRlQWxsUG9wcGVycygpO1xuICAgIH1cblxuICAgIHZhciBlbCA9IGNsb3Nlc3QoZXZlbnQudGFyZ2V0LCBTZWxlY3RvcnMuVE9PTFRJUFBFRF9FTCk7XG4gICAgdmFyIHBvcHBlciA9IGNsb3Nlc3QoZXZlbnQudGFyZ2V0LCBTZWxlY3RvcnMuUE9QUEVSKTtcblxuICAgIGlmIChwb3BwZXIpIHtcbiAgICAgIHZhciByZWYgPSBmaW5kKFN0b3JlLCBmdW5jdGlvbiAocmVmKSB7XG4gICAgICAgIHJldHVybiByZWYucG9wcGVyID09PSBwb3BwZXI7XG4gICAgICB9KTtcbiAgICAgIHZhciBpbnRlcmFjdGl2ZSA9IHJlZi5zZXR0aW5ncy5pbnRlcmFjdGl2ZTtcblxuICAgICAgaWYgKGludGVyYWN0aXZlKSByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGVsKSB7XG4gICAgICB2YXIgX3JlZiA9IGZpbmQoU3RvcmUsIGZ1bmN0aW9uIChyZWYpIHtcbiAgICAgICAgcmV0dXJuIHJlZi5lbCA9PT0gZWw7XG4gICAgICB9KTtcbiAgICAgIHZhciBfcmVmJHNldHRpbmdzID0gX3JlZi5zZXR0aW5ncyxcbiAgICAgICAgICBoaWRlT25DbGljayA9IF9yZWYkc2V0dGluZ3MuaGlkZU9uQ2xpY2ssXG4gICAgICAgICAgbXVsdGlwbGUgPSBfcmVmJHNldHRpbmdzLm11bHRpcGxlLFxuICAgICAgICAgIHRyaWdnZXIgPSBfcmVmJHNldHRpbmdzLnRyaWdnZXI7XG5cbiAgICAgIC8vIEhpZGUgYWxsIHBvcHBlcnMgZXhjZXB0IHRoZSBvbmUgYmVsb25naW5nIHRvIHRoZSBlbGVtZW50IHRoYXQgd2FzIGNsaWNrZWQgSUZcbiAgICAgIC8vIGBtdWx0aXBsZWAgaXMgZmFsc2UgQU5EIHRoZXkgYXJlIGEgdG91Y2ggdXNlciwgT1JcbiAgICAgIC8vIGBtdWx0aXBsZWAgaXMgZmFsc2UgQU5EIGl0J3MgdHJpZ2dlcmVkIGJ5IGEgY2xpY2tcblxuICAgICAgaWYgKCFtdWx0aXBsZSAmJiBCcm93c2VyLnRvdWNoIHx8ICFtdWx0aXBsZSAmJiB0cmlnZ2VyLmluZGV4T2YoJ2NsaWNrJykgIT09IC0xKSB7XG4gICAgICAgIHJldHVybiBoaWRlQWxsUG9wcGVycyhfcmVmKTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgaGlkZU9uQ2xpY2sgaXMgbm90IHN0cmljdGx5IHRydWUgb3IgdHJpZ2dlcmVkIGJ5IGEgY2xpY2sgZG9uJ3QgaGlkZSBwb3BwZXJzXG4gICAgICBpZiAoaGlkZU9uQ2xpY2sgIT09IHRydWUgfHwgdHJpZ2dlci5pbmRleE9mKCdjbGljaycpICE9PSAtMSkgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIERvbid0IHRyaWdnZXIgYSBoaWRlIGZvciB0aXBweSBjb250cm9sbGVycywgYW5kIGRvbid0IG5lZWRsZXNzbHkgcnVuIGxvb3BcbiAgICBpZiAoY2xvc2VzdChldmVudC50YXJnZXQsIFNlbGVjdG9ycy5DT05UUk9MTEVSKSB8fCAhZG9jdW1lbnQucXVlcnlTZWxlY3RvcihTZWxlY3RvcnMuUE9QUEVSKSkgcmV0dXJuO1xuXG4gICAgaGlkZUFsbFBvcHBlcnMoKTtcbiAgfTtcblxuICB2YXIgYmx1ckhhbmRsZXIgPSBmdW5jdGlvbiBibHVySGFuZGxlcihldmVudCkge1xuICAgIHZhciBfZG9jdW1lbnQgPSBkb2N1bWVudCxcbiAgICAgICAgZWwgPSBfZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblxuICAgIGlmIChlbCAmJiBlbC5ibHVyICYmIG1hdGNoZXMkMS5jYWxsKGVsLCBTZWxlY3RvcnMuVE9PTFRJUFBFRF9FTCkpIHtcbiAgICAgIGVsLmJsdXIoKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gSG9vayBldmVudHNcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbGlja0hhbmRsZXIpO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdG91Y2hIYW5kbGVyKTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBibHVySGFuZGxlcik7XG5cbiAgaWYgKCFCcm93c2VyLlNVUFBPUlRTX1RPVUNIICYmIChuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPiAwIHx8IG5hdmlnYXRvci5tc01heFRvdWNoUG9pbnRzID4gMCkpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIHRvdWNoSGFuZGxlcik7XG4gIH1cbn1cblxuLyoqXG4qIFRvIHJ1biBhIHNpbmdsZSB0aW1lLCBvbmNlIERPTSBpcyBwcmVzdW1lZCB0byBiZSByZWFkeVxuKiBAcmV0dXJuIHtCb29sZWFufSB3aGV0aGVyIHRoZSBmdW5jdGlvbiBoYXMgcnVuIG9yIG5vdFxuKi9cbmZ1bmN0aW9uIGluaXQoKSB7XG4gIGlmIChpbml0LmRvbmUpIHJldHVybiBmYWxzZTtcbiAgaW5pdC5kb25lID0gdHJ1ZTtcblxuICBiaW5kRXZlbnRMaXN0ZW5lcnMoKTtcblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4qIFdhaXRzIHVudGlsIG5leHQgcmVwYWludCB0byBleGVjdXRlIGEgZm5cbiogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiovXG5mdW5jdGlvbiBkZWZlcihmbikge1xuICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICBzZXRUaW1lb3V0KGZuLCAwKTtcbiAgfSk7XG59XG5cbi8qKlxuKiBSZXR1cm5zIHRoZSBzdXBwb3J0ZWQgcHJlZml4ZWQgcHJvcGVydHkgLSBvbmx5IGB3ZWJraXRgIGlzIG5lZWRlZCwgYG1vemAsIGBtc2AgYW5kIGBvYCBhcmUgb2Jzb2xldGVcbiogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5XG4qIEByZXR1cm4ge1N0cmluZ30gLSBicm93c2VyIHN1cHBvcnRlZCBwcmVmaXhlZCBwcm9wZXJ0eVxuKi9cbmZ1bmN0aW9uIHByZWZpeChwcm9wZXJ0eSkge1xuICB2YXIgcHJlZml4ZXMgPSBbZmFsc2UsICd3ZWJraXQnXTtcbiAgdmFyIHVwcGVyUHJvcCA9IHByb3BlcnR5LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcHJvcGVydHkuc2xpY2UoMSk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmVmaXhlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBfcHJlZml4ID0gcHJlZml4ZXNbaV07XG4gICAgdmFyIHByZWZpeGVkUHJvcCA9IF9wcmVmaXggPyAnJyArIF9wcmVmaXggKyB1cHBlclByb3AgOiBwcm9wZXJ0eTtcbiAgICBpZiAodHlwZW9mIHdpbmRvdy5kb2N1bWVudC5ib2R5LnN0eWxlW3ByZWZpeGVkUHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gcHJlZml4ZWRQcm9wO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiogUG9ueWZpbGwgZm9yIEFycmF5LnByb3RvdHlwZS5maW5kSW5kZXhcbiogQHBhcmFtIHtBcnJheX0gYXJyXG4qIEBwYXJhbSB7RnVuY3Rpb259IGNoZWNrRm5cbiogQHJldHVybiBpbmRleCBvZiB0aGUgaXRlbSBpbiB0aGUgYXJyYXlcbiovXG5mdW5jdGlvbiBmaW5kSW5kZXgoYXJyLCBjaGVja0ZuKSB7XG4gIGlmIChBcnJheS5wcm90b3R5cGUuZmluZEluZGV4KSB7XG4gICAgcmV0dXJuIGFyci5maW5kSW5kZXgoY2hlY2tGbik7XG4gIH1cblxuICAvLyBmYWxsYmFja1xuICByZXR1cm4gYXJyLmluZGV4T2YoZmluZChhcnIsIGNoZWNrRm4pKTtcbn1cblxuLyoqXG4qIFJlbW92ZXMgdGhlIHRpdGxlIGZyb20gdGhlIHRvb2x0aXBwZWQgZWxlbWVudCwgc2V0dGluZyBgZGF0YS1vcmlnaW5hbC10aXRsZWBcbiogYXBwcm9wcmlhdGVseVxuKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4qL1xuZnVuY3Rpb24gcmVtb3ZlVGl0bGUoZWwpIHtcbiAgdmFyIHRpdGxlID0gZWwuZ2V0QXR0cmlidXRlKCd0aXRsZScpO1xuXG4gIC8vIE9ubHkgc2V0IGBkYXRhLW9yaWdpbmFsLXRpdGxlYCBhdHRyIGlmIHRoZXJlIGlzIGEgdGl0bGVcbiAgaWYgKHRpdGxlKSB7XG4gICAgZWwuc2V0QXR0cmlidXRlKCdkYXRhLW9yaWdpbmFsLXRpdGxlJywgdGl0bGUpO1xuICB9XG5cbiAgZWwucmVtb3ZlQXR0cmlidXRlKCd0aXRsZScpO1xufVxuXG4vKipcbiogRGV0ZXJtaW5lcyBpZiBhbiBlbGVtZW50IGlzIHZpc2libGUgaW4gdGhlIHZpZXdwb3J0XG4qIEBwYXJhbSB7RWxlbWVudH0gZWxcbiogQHJldHVybiB7Qm9vbGVhbn1cbiovXG5mdW5jdGlvbiBlbGVtZW50SXNJblZpZXdwb3J0KGVsKSB7XG4gIHZhciByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgcmV0dXJuIHJlY3QudG9wID49IDAgJiYgcmVjdC5sZWZ0ID49IDAgJiYgcmVjdC5ib3R0b20gPD0gKHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KSAmJiByZWN0LnJpZ2h0IDw9ICh3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpO1xufVxuXG4vKipcbiogVHJpZ2dlcnMgYSBkb2N1bWVudCByZXBhaW50IG9yIHJlZmxvdyBmb3IgQ1NTIHRyYW5zaXRpb25cbiogQHBhcmFtIHtFbGVtZW50fSB0b29sdGlwXG4qIEBwYXJhbSB7RWxlbWVudH0gY2lyY2xlXG4qL1xuZnVuY3Rpb24gdHJpZ2dlclJlZmxvdyh0b29sdGlwLCBjaXJjbGUpIHtcbiAgLy8gU2FmYXJpIG5lZWRzIHRoZSBzcGVjaWZpYyAndHJhbnNmb3JtJyBwcm9wZXJ0eSB0byBiZSBhY2Nlc3NlZFxuICBjaXJjbGUgPyB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShjaXJjbGUpW3ByZWZpeCgndHJhbnNmb3JtJyldIDogd2luZG93LmdldENvbXB1dGVkU3R5bGUodG9vbHRpcCkub3BhY2l0eTtcbn1cblxuLyoqXG4qIE1vZGlmaWVzIGVsZW1lbnRzJyBjbGFzcyBsaXN0c1xuKiBAcGFyYW0ge0VsZW1lbnRbXX0gZWxzIC0gQXJyYXkgb2YgZWxlbWVudHNcbiogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiovXG5mdW5jdGlvbiBtb2RpZnlDbGFzc0xpc3QoZWxzLCBjYWxsYmFjaykge1xuICBlbHMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICBpZiAoIWVsKSByZXR1cm47XG4gICAgY2FsbGJhY2soZWwuY2xhc3NMaXN0KTtcbiAgfSk7XG59XG5cbi8qKlxuKiBSZXR1cm5zIGlubmVyIGVsZW1lbnRzIG9mIHRoZSBwb3BwZXIgZWxlbWVudFxuKiBAcGFyYW0ge0VsZW1lbnR9IHBvcHBlclxuKiBAcmV0dXJuIHtPYmplY3R9XG4qL1xuZnVuY3Rpb24gZ2V0SW5uZXJFbGVtZW50cyhwb3BwZXIpIHtcbiAgcmV0dXJuIHtcbiAgICB0b29sdGlwOiBwb3BwZXIucXVlcnlTZWxlY3RvcihTZWxlY3RvcnMuVE9PTFRJUCksXG4gICAgY2lyY2xlOiBwb3BwZXIucXVlcnlTZWxlY3RvcihTZWxlY3RvcnMuQ0lSQ0xFKSxcbiAgICBjb250ZW50OiBwb3BwZXIucXVlcnlTZWxlY3RvcihTZWxlY3RvcnMuQ09OVEVOVClcbiAgfTtcbn1cblxuLyoqXG4qIEFwcGxpZXMgdGhlIHRyYW5zaXRpb24gZHVyYXRpb24gdG8gZWFjaCBlbGVtZW50XG4qIEBwYXJhbSB7RWxlbWVudFtdfSBlbHMgLSBBcnJheSBvZiBlbGVtZW50c1xuKiBAcGFyYW0ge051bWJlcn0gZHVyYXRpb25cbiovXG5mdW5jdGlvbiBhcHBseVRyYW5zaXRpb25EdXJhdGlvbihlbHMsIGR1cmF0aW9uKSB7XG4gIGVscy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgIGlmICghZWwpIHJldHVybjtcblxuICAgIHZhciBpc0NvbnRlbnQgPSBtYXRjaGVzJDEuY2FsbChlbCwgU2VsZWN0b3JzLkNPTlRFTlQpO1xuXG4gICAgdmFyIF9kdXJhdGlvbiA9IGlzQ29udGVudCA/IE1hdGgucm91bmQoZHVyYXRpb24gLyAxLjMpIDogZHVyYXRpb247XG5cbiAgICBlbC5zdHlsZVtwcmVmaXgoJ3RyYW5zaXRpb25EdXJhdGlvbicpXSA9IF9kdXJhdGlvbiArICdtcyc7XG4gIH0pO1xufVxuXG4vKipcbiogRGV0ZXJtaW5lcyBpZiBhIHBvcHBlciBpcyBjdXJyZW50bHkgdmlzaWJsZVxuKiBAcGFyYW0ge0VsZW1lbnR9IHBvcHBlclxuKiBAcmV0dXJuIHtCb29sZWFufVxuKi9cbmZ1bmN0aW9uIGlzVmlzaWJsZShwb3BwZXIpIHtcbiAgcmV0dXJuIHBvcHBlci5zdHlsZS52aXNpYmlsaXR5ID09PSAndmlzaWJsZSc7XG59XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5mdW5jdGlvbiBpc09iamVjdExpdGVyYWwoaW5wdXQpIHtcbiAgcmV0dXJuICEhaW5wdXQgJiYgaW5wdXQudG9TdHJpbmcoKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XG59XG5cbi8qKlxuKiBSZXR1cm5zIHRoZSBub24tc2hpZnRlZCBwbGFjZW1lbnQgKGUuZy4sICdib3R0b20tc3RhcnQnID0+ICdib3R0b20nKVxuKiBAcGFyYW0ge1N0cmluZ30gcGxhY2VtZW50XG4qIEByZXR1cm4ge1N0cmluZ31cbiovXG5mdW5jdGlvbiBnZXRDb3JlUGxhY2VtZW50KHBsYWNlbWVudCkge1xuICByZXR1cm4gcGxhY2VtZW50LnJlcGxhY2UoLy0uKy8sICcnKTtcbn1cblxuLyoqXG4qIE1vdXNlbW92ZSBldmVudCBsaXN0ZW5lciBjYWxsYmFjayBtZXRob2QgZm9yIGZvbGxvdyBjdXJzb3Igc2V0dGluZ1xuKiBAcGFyYW0ge01vdXNlRXZlbnR9IGVcbiovXG5mdW5jdGlvbiBmb2xsb3dDdXJzb3JIYW5kbGVyKGUpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICB2YXIgZGF0YSA9IGZpbmQoU3RvcmUsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgcmV0dXJuIGRhdGEuZWwgPT09IF90aGlzO1xuICB9KTtcblxuICB2YXIgcG9wcGVyID0gZGF0YS5wb3BwZXIsXG4gICAgICBvZmZzZXQgPSBkYXRhLnNldHRpbmdzLm9mZnNldDtcblxuXG4gIHZhciBwb3NpdGlvbiA9IGdldENvcmVQbGFjZW1lbnQocG9wcGVyLmdldEF0dHJpYnV0ZSgneC1wbGFjZW1lbnQnKSk7XG4gIHZhciBoYWxmUG9wcGVyV2lkdGggPSBNYXRoLnJvdW5kKHBvcHBlci5vZmZzZXRXaWR0aCAvIDIpO1xuICB2YXIgaGFsZlBvcHBlckhlaWdodCA9IE1hdGgucm91bmQocG9wcGVyLm9mZnNldEhlaWdodCAvIDIpO1xuICB2YXIgdmlld3BvcnRQYWRkaW5nID0gNTtcbiAgdmFyIHBhZ2VXaWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRXaWR0aCB8fCBkb2N1bWVudC5ib2R5Lm9mZnNldFdpZHRoO1xuXG4gIHZhciBwYWdlWCA9IGUucGFnZVgsXG4gICAgICBwYWdlWSA9IGUucGFnZVk7XG5cblxuICB2YXIgeCA9IHZvaWQgMCxcbiAgICAgIHkgPSB2b2lkIDA7XG5cbiAgc3dpdGNoIChwb3NpdGlvbikge1xuICAgIGNhc2UgJ3RvcCc6XG4gICAgICB4ID0gcGFnZVggLSBoYWxmUG9wcGVyV2lkdGggKyBvZmZzZXQ7XG4gICAgICB5ID0gcGFnZVkgLSAyICogaGFsZlBvcHBlckhlaWdodDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICB4ID0gcGFnZVggLSBoYWxmUG9wcGVyV2lkdGggKyBvZmZzZXQ7XG4gICAgICB5ID0gcGFnZVkgKyAxMDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgeCA9IHBhZ2VYIC0gMiAqIGhhbGZQb3BwZXJXaWR0aDtcbiAgICAgIHkgPSBwYWdlWSAtIGhhbGZQb3BwZXJIZWlnaHQgKyBvZmZzZXQ7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdyaWdodCc6XG4gICAgICB4ID0gcGFnZVggKyA1O1xuICAgICAgeSA9IHBhZ2VZIC0gaGFsZlBvcHBlckhlaWdodCArIG9mZnNldDtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgdmFyIGlzUmlnaHRPdmVyZmxvd2luZyA9IHBhZ2VYICsgdmlld3BvcnRQYWRkaW5nICsgaGFsZlBvcHBlcldpZHRoICsgb2Zmc2V0ID4gcGFnZVdpZHRoO1xuICB2YXIgaXNMZWZ0T3ZlcmZsb3dpbmcgPSBwYWdlWCAtIHZpZXdwb3J0UGFkZGluZyAtIGhhbGZQb3BwZXJXaWR0aCArIG9mZnNldCA8IDA7XG5cbiAgLy8gUHJldmVudCBsZWZ0L3JpZ2h0IG92ZXJmbG93XG4gIGlmIChwb3NpdGlvbiA9PT0gJ3RvcCcgfHwgcG9zaXRpb24gPT09ICdib3R0b20nKSB7XG4gICAgaWYgKGlzUmlnaHRPdmVyZmxvd2luZykge1xuICAgICAgeCA9IHBhZ2VXaWR0aCAtIHZpZXdwb3J0UGFkZGluZyAtIDIgKiBoYWxmUG9wcGVyV2lkdGg7XG4gICAgfVxuXG4gICAgaWYgKGlzTGVmdE92ZXJmbG93aW5nKSB7XG4gICAgICB4ID0gdmlld3BvcnRQYWRkaW5nO1xuICAgIH1cbiAgfVxuXG4gIHBvcHBlci5zdHlsZVtwcmVmaXgoJ3RyYW5zZm9ybScpXSA9ICd0cmFuc2xhdGUzZCgnICsgeCArICdweCwgJyArIHkgKyAncHgsIDApJztcbn1cblxuLyoqXG4qIFJldHVybnMgYW4gYXJyYXkgb2YgZWxlbWVudHMgYmFzZWQgb24gdGhlIHNlbGVjdG9yIGlucHV0XG4qIEBwYXJhbSB7U3RyaW5nfEVsZW1lbnR8RWxlbWVudFtdfSBzZWxlY3RvclxuKiBAcmV0dXJuIHtFbGVtZW50W119XG4qL1xuZnVuY3Rpb24gZ2V0QXJyYXlPZkVsZW1lbnRzKHNlbGVjdG9yKSB7XG4gIGlmIChzZWxlY3RvciBpbnN0YW5jZW9mIEVsZW1lbnQgfHwgaXNPYmplY3RMaXRlcmFsKHNlbGVjdG9yKSkge1xuICAgIHJldHVybiBbc2VsZWN0b3JdO1xuICB9XG5cbiAgaWYgKHNlbGVjdG9yIGluc3RhbmNlb2YgTm9kZUxpc3QpIHtcbiAgICByZXR1cm4gW10uc2xpY2UuY2FsbChzZWxlY3Rvcik7XG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheShzZWxlY3RvcikpIHtcbiAgICByZXR1cm4gc2VsZWN0b3I7XG4gIH1cblxuICB0cnkge1xuICAgIHJldHVybiBbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKTtcbiAgfSBjYXRjaCAoXykge1xuICAgIHJldHVybiBbXTtcbiAgfVxufVxuXG4vKipcbiogUHJlcGFyZXMgdGhlIGNhbGxiYWNrIGZ1bmN0aW9ucyBmb3IgYHNob3dgIGFuZCBgaGlkZWAgbWV0aG9kc1xuKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuKiBAcGFyYW0ge051bWJlcn0gZHVyYXRpb25cbiogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBjYWxsYmFjayBmdW5jdGlvbiB0byBmaXJlIG9uY2UgdHJhbnNpdGlvbnMgY29tcGxldGVcbiovXG5mdW5jdGlvbiBvblRyYW5zaXRpb25FbmQoZGF0YSwgZHVyYXRpb24sIGNhbGxiYWNrKSB7XG4gIC8vIE1ha2UgY2FsbGJhY2sgc3luY2hyb25vdXMgaWYgZHVyYXRpb24gaXMgMFxuICBpZiAoIWR1cmF0aW9uKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gIH1cblxuICB2YXIgX2dldElubmVyRWxlbWVudHMgPSBnZXRJbm5lckVsZW1lbnRzKGRhdGEucG9wcGVyKSxcbiAgICAgIHRvb2x0aXAgPSBfZ2V0SW5uZXJFbGVtZW50cy50b29sdGlwO1xuXG4gIHZhciB0cmFuc2l0aW9uZW5kRmlyZWQgPSBmYWxzZTtcblxuICB2YXIgbGlzdGVuZXJDYWxsYmFjayA9IGZ1bmN0aW9uIGxpc3RlbmVyQ2FsbGJhY2soZSkge1xuICAgIGlmIChlLnRhcmdldCA9PT0gdG9vbHRpcCAmJiAhdHJhbnNpdGlvbmVuZEZpcmVkKSB7XG4gICAgICB0cmFuc2l0aW9uZW5kRmlyZWQgPSB0cnVlO1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gRmlyZSBjYWxsYmFjayB1cG9uIHRyYW5zaXRpb24gY29tcGxldGlvblxuICB0b29sdGlwLmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmtpdFRyYW5zaXRpb25FbmQnLCBsaXN0ZW5lckNhbGxiYWNrKTtcbiAgdG9vbHRpcC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgbGlzdGVuZXJDYWxsYmFjayk7XG5cbiAgLy8gRmFsbGJhY2s6IHRyYW5zaXRpb25lbmQgbGlzdGVuZXIgc29tZXRpbWVzIG1heSBub3QgZmlyZVxuICBjbGVhclRpbWVvdXQoZGF0YS5fdHJhbnNpdGlvbmVuZFRpbWVvdXQpO1xuICBkYXRhLl90cmFuc2l0aW9uZW5kVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIGlmICghdHJhbnNpdGlvbmVuZEZpcmVkKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgfSwgZHVyYXRpb24pO1xufVxuXG4vKiohXG4gKiBAZmlsZU92ZXJ2aWV3IEtpY2thc3MgbGlicmFyeSB0byBjcmVhdGUgYW5kIHBsYWNlIHBvcHBlcnMgbmVhciB0aGVpciByZWZlcmVuY2UgZWxlbWVudHMuXG4gKiBAdmVyc2lvbiAxLjEyLjRcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTYgRmVkZXJpY28gWml2b2xvIGFuZCBjb250cmlidXRvcnNcbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsXG4gKiBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEVcbiAqIFNPRlRXQVJFLlxuICovXG52YXIgbmF0aXZlSGludHMgPSBbJ25hdGl2ZSBjb2RlJywgJ1tvYmplY3QgTXV0YXRpb25PYnNlcnZlckNvbnN0cnVjdG9yXSddO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIGZ1bmN0aW9uIGlzIGltcGxlbWVudGVkIG5hdGl2ZWx5IChhcyBvcHBvc2VkIHRvIGEgcG9seWZpbGwpLlxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtGdW5jdGlvbiB8IHVuZGVmaW5lZH0gZm4gdGhlIGZ1bmN0aW9uIHRvIGNoZWNrXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAqL1xudmFyIGlzTmF0aXZlID0gZnVuY3Rpb24gaXNOYXRpdmUoZm4pIHtcbiAgcmV0dXJuIG5hdGl2ZUhpbnRzLnNvbWUoZnVuY3Rpb24gKGhpbnQpIHtcbiAgICByZXR1cm4gKGZuIHx8ICcnKS50b1N0cmluZygpLmluZGV4T2YoaGludCkgPiAtMTtcbiAgfSk7XG59O1xuXG52YXIgaXNCcm93c2VyID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XG52YXIgbG9uZ2VyVGltZW91dEJyb3dzZXJzID0gWydFZGdlJywgJ1RyaWRlbnQnLCAnRmlyZWZveCddO1xudmFyIHRpbWVvdXREdXJhdGlvbiA9IDA7XG5mb3IgKHZhciBpID0gMDsgaSA8IGxvbmdlclRpbWVvdXRCcm93c2Vycy5sZW5ndGg7IGkgKz0gMSkge1xuICBpZiAoaXNCcm93c2VyICYmIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihsb25nZXJUaW1lb3V0QnJvd3NlcnNbaV0pID49IDApIHtcbiAgICB0aW1lb3V0RHVyYXRpb24gPSAxO1xuICAgIGJyZWFrO1xuICB9XG59XG5cbmZ1bmN0aW9uIG1pY3JvdGFza0RlYm91bmNlKGZuKSB7XG4gIHZhciBzY2hlZHVsZWQgPSBmYWxzZTtcbiAgdmFyIGkgPSAwO1xuICB2YXIgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcblxuICAvLyBNdXRhdGlvbk9ic2VydmVyIHByb3ZpZGVzIGEgbWVjaGFuaXNtIGZvciBzY2hlZHVsaW5nIG1pY3JvdGFza3MsIHdoaWNoXG4gIC8vIGFyZSBzY2hlZHVsZWQgKmJlZm9yZSogdGhlIG5leHQgdGFzay4gVGhpcyBnaXZlcyB1cyBhIHdheSB0byBkZWJvdW5jZVxuICAvLyBhIGZ1bmN0aW9uIGJ1dCBlbnN1cmUgaXQncyBjYWxsZWQgKmJlZm9yZSogdGhlIG5leHQgcGFpbnQuXG4gIHZhciBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uICgpIHtcbiAgICBmbigpO1xuICAgIHNjaGVkdWxlZCA9IGZhbHNlO1xuICB9KTtcblxuICBvYnNlcnZlci5vYnNlcnZlKGVsZW0sIHsgYXR0cmlidXRlczogdHJ1ZSB9KTtcblxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmICghc2NoZWR1bGVkKSB7XG4gICAgICBzY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ3gtaW5kZXgnLCBpKTtcbiAgICAgIGkgPSBpICsgMTsgLy8gZG9uJ3QgdXNlIGNvbXB1bmQgKCs9KSBiZWNhdXNlIGl0IGRvZXNuJ3QgZ2V0IG9wdGltaXplZCBpbiBWOFxuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gdGFza0RlYm91bmNlKGZuKSB7XG4gIHZhciBzY2hlZHVsZWQgPSBmYWxzZTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXNjaGVkdWxlZCkge1xuICAgICAgc2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBzY2hlZHVsZWQgPSBmYWxzZTtcbiAgICAgICAgZm4oKTtcbiAgICAgIH0sIHRpbWVvdXREdXJhdGlvbik7XG4gICAgfVxuICB9O1xufVxuXG4vLyBJdCdzIGNvbW1vbiBmb3IgTXV0YXRpb25PYnNlcnZlciBwb2x5ZmlsbHMgdG8gYmUgc2VlbiBpbiB0aGUgd2lsZCwgaG93ZXZlclxuLy8gdGhlc2UgcmVseSBvbiBNdXRhdGlvbiBFdmVudHMgd2hpY2ggb25seSBvY2N1ciB3aGVuIGFuIGVsZW1lbnQgaXMgY29ubmVjdGVkXG4vLyB0byB0aGUgRE9NLiBUaGUgYWxnb3JpdGhtIHVzZWQgaW4gdGhpcyBtb2R1bGUgZG9lcyBub3QgdXNlIGEgY29ubmVjdGVkIGVsZW1lbnQsXG4vLyBhbmQgc28gd2UgbXVzdCBlbnN1cmUgdGhhdCBhICpuYXRpdmUqIE11dGF0aW9uT2JzZXJ2ZXIgaXMgYXZhaWxhYmxlLlxudmFyIHN1cHBvcnRzTmF0aXZlTXV0YXRpb25PYnNlcnZlciA9IGlzQnJvd3NlciAmJiBpc05hdGl2ZSh3aW5kb3cuTXV0YXRpb25PYnNlcnZlcik7XG5cbi8qKlxuKiBDcmVhdGUgYSBkZWJvdW5jZWQgdmVyc2lvbiBvZiBhIG1ldGhvZCwgdGhhdCdzIGFzeW5jaHJvbm91c2x5IGRlZmVycmVkXG4qIGJ1dCBjYWxsZWQgaW4gdGhlIG1pbmltdW0gdGltZSBwb3NzaWJsZS5cbipcbiogQG1ldGhvZFxuKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4qIEBhcmd1bWVudCB7RnVuY3Rpb259IGZuXG4qIEByZXR1cm5zIHtGdW5jdGlvbn1cbiovXG52YXIgZGVib3VuY2UgPSBzdXBwb3J0c05hdGl2ZU11dGF0aW9uT2JzZXJ2ZXIgPyBtaWNyb3Rhc2tEZWJvdW5jZSA6IHRhc2tEZWJvdW5jZTtcblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgZ2l2ZW4gdmFyaWFibGUgaXMgYSBmdW5jdGlvblxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtBbnl9IGZ1bmN0aW9uVG9DaGVjayAtIHZhcmlhYmxlIHRvIGNoZWNrXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gYW5zd2VyIHRvOiBpcyBhIGZ1bmN0aW9uP1xuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGZ1bmN0aW9uVG9DaGVjaykge1xuICB2YXIgZ2V0VHlwZSA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb25Ub0NoZWNrICYmIGdldFR5cGUudG9TdHJpbmcuY2FsbChmdW5jdGlvblRvQ2hlY2spID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xufVxuXG4vKipcbiAqIEdldCBDU1MgY29tcHV0ZWQgcHJvcGVydHkgb2YgdGhlIGdpdmVuIGVsZW1lbnRcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7RWVtZW50fSBlbGVtZW50XG4gKiBAYXJndW1lbnQge1N0cmluZ30gcHJvcGVydHlcbiAqL1xuZnVuY3Rpb24gZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5KGVsZW1lbnQsIHByb3BlcnR5KSB7XG4gIGlmIChlbGVtZW50Lm5vZGVUeXBlICE9PSAxKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIC8vIE5PVEU6IDEgRE9NIGFjY2VzcyBoZXJlXG4gIHZhciBjc3MgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCBudWxsKTtcbiAgcmV0dXJuIHByb3BlcnR5ID8gY3NzW3Byb3BlcnR5XSA6IGNzcztcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBwYXJlbnROb2RlIG9yIHRoZSBob3N0IG9mIHRoZSBlbGVtZW50XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtFbGVtZW50fSBwYXJlbnRcbiAqL1xuZnVuY3Rpb24gZ2V0UGFyZW50Tm9kZShlbGVtZW50KSB7XG4gIGlmIChlbGVtZW50Lm5vZGVOYW1lID09PSAnSFRNTCcpIHtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuICByZXR1cm4gZWxlbWVudC5wYXJlbnROb2RlIHx8IGVsZW1lbnQuaG9zdDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzY3JvbGxpbmcgcGFyZW50IG9mIHRoZSBnaXZlbiBlbGVtZW50XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtFbGVtZW50fSBzY3JvbGwgcGFyZW50XG4gKi9cbmZ1bmN0aW9uIGdldFNjcm9sbFBhcmVudChlbGVtZW50KSB7XG4gIC8vIFJldHVybiBib2R5LCBgZ2V0U2Nyb2xsYCB3aWxsIHRha2UgY2FyZSB0byBnZXQgdGhlIGNvcnJlY3QgYHNjcm9sbFRvcGAgZnJvbSBpdFxuICBpZiAoIWVsZW1lbnQgfHwgWydIVE1MJywgJ0JPRFknLCAnI2RvY3VtZW50J10uaW5kZXhPZihlbGVtZW50Lm5vZGVOYW1lKSAhPT0gLTEpIHtcbiAgICByZXR1cm4gd2luZG93LmRvY3VtZW50LmJvZHk7XG4gIH1cblxuICAvLyBGaXJlZm94IHdhbnQgdXMgdG8gY2hlY2sgYC14YCBhbmQgYC15YCB2YXJpYXRpb25zIGFzIHdlbGxcblxuICB2YXIgX2dldFN0eWxlQ29tcHV0ZWRQcm9wID0gZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5KGVsZW1lbnQpLFxuICAgICAgb3ZlcmZsb3cgPSBfZ2V0U3R5bGVDb21wdXRlZFByb3Aub3ZlcmZsb3csXG4gICAgICBvdmVyZmxvd1ggPSBfZ2V0U3R5bGVDb21wdXRlZFByb3Aub3ZlcmZsb3dYLFxuICAgICAgb3ZlcmZsb3dZID0gX2dldFN0eWxlQ29tcHV0ZWRQcm9wLm92ZXJmbG93WTtcblxuICBpZiAoLyhhdXRvfHNjcm9sbCkvLnRlc3Qob3ZlcmZsb3cgKyBvdmVyZmxvd1kgKyBvdmVyZmxvd1gpKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cblxuICByZXR1cm4gZ2V0U2Nyb2xsUGFyZW50KGdldFBhcmVudE5vZGUoZWxlbWVudCkpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIG9mZnNldCBwYXJlbnQgb2YgdGhlIGdpdmVuIGVsZW1lbnRcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybnMge0VsZW1lbnR9IG9mZnNldCBwYXJlbnRcbiAqL1xuZnVuY3Rpb24gZ2V0T2Zmc2V0UGFyZW50KGVsZW1lbnQpIHtcbiAgLy8gTk9URTogMSBET00gYWNjZXNzIGhlcmVcbiAgdmFyIG9mZnNldFBhcmVudCA9IGVsZW1lbnQgJiYgZWxlbWVudC5vZmZzZXRQYXJlbnQ7XG4gIHZhciBub2RlTmFtZSA9IG9mZnNldFBhcmVudCAmJiBvZmZzZXRQYXJlbnQubm9kZU5hbWU7XG5cbiAgaWYgKCFub2RlTmFtZSB8fCBub2RlTmFtZSA9PT0gJ0JPRFknIHx8IG5vZGVOYW1lID09PSAnSFRNTCcpIHtcbiAgICByZXR1cm4gd2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgfVxuXG4gIC8vIC5vZmZzZXRQYXJlbnQgd2lsbCByZXR1cm4gdGhlIGNsb3Nlc3QgVEQgb3IgVEFCTEUgaW4gY2FzZVxuICAvLyBubyBvZmZzZXRQYXJlbnQgaXMgcHJlc2VudCwgSSBoYXRlIHRoaXMgam9iLi4uXG4gIGlmIChbJ1REJywgJ1RBQkxFJ10uaW5kZXhPZihvZmZzZXRQYXJlbnQubm9kZU5hbWUpICE9PSAtMSAmJiBnZXRTdHlsZUNvbXB1dGVkUHJvcGVydHkob2Zmc2V0UGFyZW50LCAncG9zaXRpb24nKSA9PT0gJ3N0YXRpYycpIHtcbiAgICByZXR1cm4gZ2V0T2Zmc2V0UGFyZW50KG9mZnNldFBhcmVudCk7XG4gIH1cblxuICByZXR1cm4gb2Zmc2V0UGFyZW50O1xufVxuXG5mdW5jdGlvbiBpc09mZnNldENvbnRhaW5lcihlbGVtZW50KSB7XG4gIHZhciBub2RlTmFtZSA9IGVsZW1lbnQubm9kZU5hbWU7XG5cbiAgaWYgKG5vZGVOYW1lID09PSAnQk9EWScpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIG5vZGVOYW1lID09PSAnSFRNTCcgfHwgZ2V0T2Zmc2V0UGFyZW50KGVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQpID09PSBlbGVtZW50O1xufVxuXG4vKipcbiAqIEZpbmRzIHRoZSByb290IG5vZGUgKGRvY3VtZW50LCBzaGFkb3dET00gcm9vdCkgb2YgdGhlIGdpdmVuIGVsZW1lbnRcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gbm9kZVxuICogQHJldHVybnMge0VsZW1lbnR9IHJvb3Qgbm9kZVxuICovXG5mdW5jdGlvbiBnZXRSb290KG5vZGUpIHtcbiAgaWYgKG5vZGUucGFyZW50Tm9kZSAhPT0gbnVsbCkge1xuICAgIHJldHVybiBnZXRSb290KG5vZGUucGFyZW50Tm9kZSk7XG4gIH1cblxuICByZXR1cm4gbm9kZTtcbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgb2Zmc2V0IHBhcmVudCBjb21tb24gdG8gdGhlIHR3byBwcm92aWRlZCBub2Rlc1xuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50MVxuICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50MlxuICogQHJldHVybnMge0VsZW1lbnR9IGNvbW1vbiBvZmZzZXQgcGFyZW50XG4gKi9cbmZ1bmN0aW9uIGZpbmRDb21tb25PZmZzZXRQYXJlbnQoZWxlbWVudDEsIGVsZW1lbnQyKSB7XG4gIC8vIFRoaXMgY2hlY2sgaXMgbmVlZGVkIHRvIGF2b2lkIGVycm9ycyBpbiBjYXNlIG9uZSBvZiB0aGUgZWxlbWVudHMgaXNuJ3QgZGVmaW5lZCBmb3IgYW55IHJlYXNvblxuICBpZiAoIWVsZW1lbnQxIHx8ICFlbGVtZW50MS5ub2RlVHlwZSB8fCAhZWxlbWVudDIgfHwgIWVsZW1lbnQyLm5vZGVUeXBlKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIH1cblxuICAvLyBIZXJlIHdlIG1ha2Ugc3VyZSB0byBnaXZlIGFzIFwic3RhcnRcIiB0aGUgZWxlbWVudCB0aGF0IGNvbWVzIGZpcnN0IGluIHRoZSBET01cbiAgdmFyIG9yZGVyID0gZWxlbWVudDEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZWxlbWVudDIpICYgTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9GT0xMT1dJTkc7XG4gIHZhciBzdGFydCA9IG9yZGVyID8gZWxlbWVudDEgOiBlbGVtZW50MjtcbiAgdmFyIGVuZCA9IG9yZGVyID8gZWxlbWVudDIgOiBlbGVtZW50MTtcblxuICAvLyBHZXQgY29tbW9uIGFuY2VzdG9yIGNvbnRhaW5lclxuICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICByYW5nZS5zZXRTdGFydChzdGFydCwgMCk7XG4gIHJhbmdlLnNldEVuZChlbmQsIDApO1xuICB2YXIgY29tbW9uQW5jZXN0b3JDb250YWluZXIgPSByYW5nZS5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtcblxuICAvLyBCb3RoIG5vZGVzIGFyZSBpbnNpZGUgI2RvY3VtZW50XG5cbiAgaWYgKGVsZW1lbnQxICE9PSBjb21tb25BbmNlc3RvckNvbnRhaW5lciAmJiBlbGVtZW50MiAhPT0gY29tbW9uQW5jZXN0b3JDb250YWluZXIgfHwgc3RhcnQuY29udGFpbnMoZW5kKSkge1xuICAgIGlmIChpc09mZnNldENvbnRhaW5lcihjb21tb25BbmNlc3RvckNvbnRhaW5lcikpIHtcbiAgICAgIHJldHVybiBjb21tb25BbmNlc3RvckNvbnRhaW5lcjtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0T2Zmc2V0UGFyZW50KGNvbW1vbkFuY2VzdG9yQ29udGFpbmVyKTtcbiAgfVxuXG4gIC8vIG9uZSBvZiB0aGUgbm9kZXMgaXMgaW5zaWRlIHNoYWRvd0RPTSwgZmluZCB3aGljaCBvbmVcbiAgdmFyIGVsZW1lbnQxcm9vdCA9IGdldFJvb3QoZWxlbWVudDEpO1xuICBpZiAoZWxlbWVudDFyb290Lmhvc3QpIHtcbiAgICByZXR1cm4gZmluZENvbW1vbk9mZnNldFBhcmVudChlbGVtZW50MXJvb3QuaG9zdCwgZWxlbWVudDIpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmaW5kQ29tbW9uT2Zmc2V0UGFyZW50KGVsZW1lbnQxLCBnZXRSb290KGVsZW1lbnQyKS5ob3N0KTtcbiAgfVxufVxuXG4vKipcbiAqIEdldHMgdGhlIHNjcm9sbCB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudCBpbiB0aGUgZ2l2ZW4gc2lkZSAodG9wIGFuZCBsZWZ0KVxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50XG4gKiBAYXJndW1lbnQge1N0cmluZ30gc2lkZSBgdG9wYCBvciBgbGVmdGBcbiAqIEByZXR1cm5zIHtudW1iZXJ9IGFtb3VudCBvZiBzY3JvbGxlZCBwaXhlbHNcbiAqL1xuZnVuY3Rpb24gZ2V0U2Nyb2xsKGVsZW1lbnQpIHtcbiAgdmFyIHNpZGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICd0b3AnO1xuXG4gIHZhciB1cHBlclNpZGUgPSBzaWRlID09PSAndG9wJyA/ICdzY3JvbGxUb3AnIDogJ3Njcm9sbExlZnQnO1xuICB2YXIgbm9kZU5hbWUgPSBlbGVtZW50Lm5vZGVOYW1lO1xuXG4gIGlmIChub2RlTmFtZSA9PT0gJ0JPRFknIHx8IG5vZGVOYW1lID09PSAnSFRNTCcpIHtcbiAgICB2YXIgaHRtbCA9IHdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgdmFyIHNjcm9sbGluZ0VsZW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudCB8fCBodG1sO1xuICAgIHJldHVybiBzY3JvbGxpbmdFbGVtZW50W3VwcGVyU2lkZV07XG4gIH1cblxuICByZXR1cm4gZWxlbWVudFt1cHBlclNpZGVdO1xufVxuXG4vKlxuICogU3VtIG9yIHN1YnRyYWN0IHRoZSBlbGVtZW50IHNjcm9sbCB2YWx1ZXMgKGxlZnQgYW5kIHRvcCkgZnJvbSBhIGdpdmVuIHJlY3Qgb2JqZWN0XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0ge09iamVjdH0gcmVjdCAtIFJlY3Qgb2JqZWN0IHlvdSB3YW50IHRvIGNoYW5nZVxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIFRoZSBlbGVtZW50IGZyb20gdGhlIGZ1bmN0aW9uIHJlYWRzIHRoZSBzY3JvbGwgdmFsdWVzXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHN1YnRyYWN0IC0gc2V0IHRvIHRydWUgaWYgeW91IHdhbnQgdG8gc3VidHJhY3QgdGhlIHNjcm9sbCB2YWx1ZXNcbiAqIEByZXR1cm4ge09iamVjdH0gcmVjdCAtIFRoZSBtb2RpZmllciByZWN0IG9iamVjdFxuICovXG5mdW5jdGlvbiBpbmNsdWRlU2Nyb2xsKHJlY3QsIGVsZW1lbnQpIHtcbiAgdmFyIHN1YnRyYWN0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTtcblxuICB2YXIgc2Nyb2xsVG9wID0gZ2V0U2Nyb2xsKGVsZW1lbnQsICd0b3AnKTtcbiAgdmFyIHNjcm9sbExlZnQgPSBnZXRTY3JvbGwoZWxlbWVudCwgJ2xlZnQnKTtcbiAgdmFyIG1vZGlmaWVyID0gc3VidHJhY3QgPyAtMSA6IDE7XG4gIHJlY3QudG9wICs9IHNjcm9sbFRvcCAqIG1vZGlmaWVyO1xuICByZWN0LmJvdHRvbSArPSBzY3JvbGxUb3AgKiBtb2RpZmllcjtcbiAgcmVjdC5sZWZ0ICs9IHNjcm9sbExlZnQgKiBtb2RpZmllcjtcbiAgcmVjdC5yaWdodCArPSBzY3JvbGxMZWZ0ICogbW9kaWZpZXI7XG4gIHJldHVybiByZWN0O1xufVxuXG4vKlxuICogSGVscGVyIHRvIGRldGVjdCBib3JkZXJzIG9mIGEgZ2l2ZW4gZWxlbWVudFxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQHBhcmFtIHtDU1NTdHlsZURlY2xhcmF0aW9ufSBzdHlsZXNcbiAqIFJlc3VsdCBvZiBgZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5YCBvbiB0aGUgZ2l2ZW4gZWxlbWVudFxuICogQHBhcmFtIHtTdHJpbmd9IGF4aXMgLSBgeGAgb3IgYHlgXG4gKiBAcmV0dXJuIHtudW1iZXJ9IGJvcmRlcnMgLSBUaGUgYm9yZGVycyBzaXplIG9mIHRoZSBnaXZlbiBheGlzXG4gKi9cblxuZnVuY3Rpb24gZ2V0Qm9yZGVyc1NpemUoc3R5bGVzLCBheGlzKSB7XG4gIHZhciBzaWRlQSA9IGF4aXMgPT09ICd4JyA/ICdMZWZ0JyA6ICdUb3AnO1xuICB2YXIgc2lkZUIgPSBzaWRlQSA9PT0gJ0xlZnQnID8gJ1JpZ2h0JyA6ICdCb3R0b20nO1xuXG4gIHJldHVybiArc3R5bGVzWydib3JkZXInICsgc2lkZUEgKyAnV2lkdGgnXS5zcGxpdCgncHgnKVswXSArICtzdHlsZXNbJ2JvcmRlcicgKyBzaWRlQiArICdXaWR0aCddLnNwbGl0KCdweCcpWzBdO1xufVxuXG4vKipcbiAqIFRlbGxzIGlmIHlvdSBhcmUgcnVubmluZyBJbnRlcm5ldCBFeHBsb3JlciAxMFxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQHJldHVybnMge0Jvb2xlYW59IGlzSUUxMFxuICovXG52YXIgaXNJRTEwID0gdW5kZWZpbmVkO1xuXG52YXIgaXNJRTEwJDEgPSBmdW5jdGlvbiBpc0lFMTAkMSgpIHtcbiAgaWYgKGlzSUUxMCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgaXNJRTEwID0gbmF2aWdhdG9yLmFwcFZlcnNpb24uaW5kZXhPZignTVNJRSAxMCcpICE9PSAtMTtcbiAgfVxuICByZXR1cm4gaXNJRTEwO1xufTtcblxuZnVuY3Rpb24gZ2V0U2l6ZShheGlzLCBib2R5LCBodG1sLCBjb21wdXRlZFN0eWxlLCBpbmNsdWRlU2Nyb2xsKSB7XG4gIHJldHVybiBNYXRoLm1heChib2R5WydvZmZzZXQnICsgYXhpc10sIGluY2x1ZGVTY3JvbGwgPyBib2R5WydzY3JvbGwnICsgYXhpc10gOiAwLCBodG1sWydjbGllbnQnICsgYXhpc10sIGh0bWxbJ29mZnNldCcgKyBheGlzXSwgaW5jbHVkZVNjcm9sbCA/IGh0bWxbJ3Njcm9sbCcgKyBheGlzXSA6IDAsIGlzSUUxMCQxKCkgPyBodG1sWydvZmZzZXQnICsgYXhpc10gKyBjb21wdXRlZFN0eWxlWydtYXJnaW4nICsgKGF4aXMgPT09ICdIZWlnaHQnID8gJ1RvcCcgOiAnTGVmdCcpXSArIGNvbXB1dGVkU3R5bGVbJ21hcmdpbicgKyAoYXhpcyA9PT0gJ0hlaWdodCcgPyAnQm90dG9tJyA6ICdSaWdodCcpXSA6IDApO1xufVxuXG5mdW5jdGlvbiBnZXRXaW5kb3dTaXplcygpIHtcbiAgdmFyIGluY2x1ZGVTY3JvbGwgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHRydWU7XG5cbiAgdmFyIGJvZHkgPSB3aW5kb3cuZG9jdW1lbnQuYm9keTtcbiAgdmFyIGh0bWwgPSB3aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICB2YXIgY29tcHV0ZWRTdHlsZSA9IGlzSUUxMCQxKCkgJiYgd2luZG93LmdldENvbXB1dGVkU3R5bGUoaHRtbCk7XG5cbiAgcmV0dXJuIHtcbiAgICBoZWlnaHQ6IGdldFNpemUoJ0hlaWdodCcsIGJvZHksIGh0bWwsIGNvbXB1dGVkU3R5bGUsIGluY2x1ZGVTY3JvbGwpLFxuICAgIHdpZHRoOiBnZXRTaXplKCdXaWR0aCcsIGJvZHksIGh0bWwsIGNvbXB1dGVkU3R5bGUsIGluY2x1ZGVTY3JvbGwpXG4gIH07XG59XG5cbnZhciBjbGFzc0NhbGxDaGVjayA9IGZ1bmN0aW9uIGNsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn07XG5cbnZhciBjcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfTtcbn0oKTtcblxudmFyIGRlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn07XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59O1xuXG4vKipcbiAqIEdpdmVuIGVsZW1lbnQgb2Zmc2V0cywgZ2VuZXJhdGUgYW4gb3V0cHV0IHNpbWlsYXIgdG8gZ2V0Qm91bmRpbmdDbGllbnRSZWN0XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge09iamVjdH0gb2Zmc2V0c1xuICogQHJldHVybnMge09iamVjdH0gQ2xpZW50UmVjdCBsaWtlIG91dHB1dFxuICovXG5mdW5jdGlvbiBnZXRDbGllbnRSZWN0KG9mZnNldHMpIHtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBvZmZzZXRzLCB7XG4gICAgcmlnaHQ6IG9mZnNldHMubGVmdCArIG9mZnNldHMud2lkdGgsXG4gICAgYm90dG9tOiBvZmZzZXRzLnRvcCArIG9mZnNldHMuaGVpZ2h0XG4gIH0pO1xufVxuXG4vKipcbiAqIEdldCBib3VuZGluZyBjbGllbnQgcmVjdCBvZiBnaXZlbiBlbGVtZW50XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJuIHtPYmplY3R9IGNsaWVudCByZWN0XG4gKi9cbmZ1bmN0aW9uIGdldEJvdW5kaW5nQ2xpZW50UmVjdChlbGVtZW50KSB7XG4gIHZhciByZWN0ID0ge307XG5cbiAgLy8gSUUxMCAxMCBGSVg6IFBsZWFzZSwgZG9uJ3QgYXNrLCB0aGUgZWxlbWVudCBpc24ndFxuICAvLyBjb25zaWRlcmVkIGluIERPTSBpbiBzb21lIGNpcmN1bXN0YW5jZXMuLi5cbiAgLy8gVGhpcyBpc24ndCByZXByb2R1Y2libGUgaW4gSUUxMCBjb21wYXRpYmlsaXR5IG1vZGUgb2YgSUUxMVxuICBpZiAoaXNJRTEwJDEoKSkge1xuICAgIHRyeSB7XG4gICAgICByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIHZhciBzY3JvbGxUb3AgPSBnZXRTY3JvbGwoZWxlbWVudCwgJ3RvcCcpO1xuICAgICAgdmFyIHNjcm9sbExlZnQgPSBnZXRTY3JvbGwoZWxlbWVudCwgJ2xlZnQnKTtcbiAgICAgIHJlY3QudG9wICs9IHNjcm9sbFRvcDtcbiAgICAgIHJlY3QubGVmdCArPSBzY3JvbGxMZWZ0O1xuICAgICAgcmVjdC5ib3R0b20gKz0gc2Nyb2xsVG9wO1xuICAgICAgcmVjdC5yaWdodCArPSBzY3JvbGxMZWZ0O1xuICAgIH0gY2F0Y2ggKGVycikge31cbiAgfSBlbHNlIHtcbiAgICByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgfVxuXG4gIHZhciByZXN1bHQgPSB7XG4gICAgbGVmdDogcmVjdC5sZWZ0LFxuICAgIHRvcDogcmVjdC50b3AsXG4gICAgd2lkdGg6IHJlY3QucmlnaHQgLSByZWN0LmxlZnQsXG4gICAgaGVpZ2h0OiByZWN0LmJvdHRvbSAtIHJlY3QudG9wXG4gIH07XG5cbiAgLy8gc3VidHJhY3Qgc2Nyb2xsYmFyIHNpemUgZnJvbSBzaXplc1xuICB2YXIgc2l6ZXMgPSBlbGVtZW50Lm5vZGVOYW1lID09PSAnSFRNTCcgPyBnZXRXaW5kb3dTaXplcygpIDoge307XG4gIHZhciB3aWR0aCA9IHNpemVzLndpZHRoIHx8IGVsZW1lbnQuY2xpZW50V2lkdGggfHwgcmVzdWx0LnJpZ2h0IC0gcmVzdWx0LmxlZnQ7XG4gIHZhciBoZWlnaHQgPSBzaXplcy5oZWlnaHQgfHwgZWxlbWVudC5jbGllbnRIZWlnaHQgfHwgcmVzdWx0LmJvdHRvbSAtIHJlc3VsdC50b3A7XG5cbiAgdmFyIGhvcml6U2Nyb2xsYmFyID0gZWxlbWVudC5vZmZzZXRXaWR0aCAtIHdpZHRoO1xuICB2YXIgdmVydFNjcm9sbGJhciA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0IC0gaGVpZ2h0O1xuXG4gIC8vIGlmIGFuIGh5cG90aGV0aWNhbCBzY3JvbGxiYXIgaXMgZGV0ZWN0ZWQsIHdlIG11c3QgYmUgc3VyZSBpdCdzIG5vdCBhIGBib3JkZXJgXG4gIC8vIHdlIG1ha2UgdGhpcyBjaGVjayBjb25kaXRpb25hbCBmb3IgcGVyZm9ybWFuY2UgcmVhc29uc1xuICBpZiAoaG9yaXpTY3JvbGxiYXIgfHwgdmVydFNjcm9sbGJhcikge1xuICAgIHZhciBzdHlsZXMgPSBnZXRTdHlsZUNvbXB1dGVkUHJvcGVydHkoZWxlbWVudCk7XG4gICAgaG9yaXpTY3JvbGxiYXIgLT0gZ2V0Qm9yZGVyc1NpemUoc3R5bGVzLCAneCcpO1xuICAgIHZlcnRTY3JvbGxiYXIgLT0gZ2V0Qm9yZGVyc1NpemUoc3R5bGVzLCAneScpO1xuXG4gICAgcmVzdWx0LndpZHRoIC09IGhvcml6U2Nyb2xsYmFyO1xuICAgIHJlc3VsdC5oZWlnaHQgLT0gdmVydFNjcm9sbGJhcjtcbiAgfVxuXG4gIHJldHVybiBnZXRDbGllbnRSZWN0KHJlc3VsdCk7XG59XG5cbmZ1bmN0aW9uIGdldE9mZnNldFJlY3RSZWxhdGl2ZVRvQXJiaXRyYXJ5Tm9kZShjaGlsZHJlbiwgcGFyZW50KSB7XG4gIHZhciBpc0lFMTAgPSBpc0lFMTAkMSgpO1xuICB2YXIgaXNIVE1MID0gcGFyZW50Lm5vZGVOYW1lID09PSAnSFRNTCc7XG4gIHZhciBjaGlsZHJlblJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QoY2hpbGRyZW4pO1xuICB2YXIgcGFyZW50UmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChwYXJlbnQpO1xuICB2YXIgc2Nyb2xsUGFyZW50ID0gZ2V0U2Nyb2xsUGFyZW50KGNoaWxkcmVuKTtcblxuICB2YXIgc3R5bGVzID0gZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5KHBhcmVudCk7XG4gIHZhciBib3JkZXJUb3BXaWR0aCA9ICtzdHlsZXMuYm9yZGVyVG9wV2lkdGguc3BsaXQoJ3B4JylbMF07XG4gIHZhciBib3JkZXJMZWZ0V2lkdGggPSArc3R5bGVzLmJvcmRlckxlZnRXaWR0aC5zcGxpdCgncHgnKVswXTtcblxuICB2YXIgb2Zmc2V0cyA9IGdldENsaWVudFJlY3Qoe1xuICAgIHRvcDogY2hpbGRyZW5SZWN0LnRvcCAtIHBhcmVudFJlY3QudG9wIC0gYm9yZGVyVG9wV2lkdGgsXG4gICAgbGVmdDogY2hpbGRyZW5SZWN0LmxlZnQgLSBwYXJlbnRSZWN0LmxlZnQgLSBib3JkZXJMZWZ0V2lkdGgsXG4gICAgd2lkdGg6IGNoaWxkcmVuUmVjdC53aWR0aCxcbiAgICBoZWlnaHQ6IGNoaWxkcmVuUmVjdC5oZWlnaHRcbiAgfSk7XG4gIG9mZnNldHMubWFyZ2luVG9wID0gMDtcbiAgb2Zmc2V0cy5tYXJnaW5MZWZ0ID0gMDtcblxuICAvLyBTdWJ0cmFjdCBtYXJnaW5zIG9mIGRvY3VtZW50RWxlbWVudCBpbiBjYXNlIGl0J3MgYmVpbmcgdXNlZCBhcyBwYXJlbnRcbiAgLy8gd2UgZG8gdGhpcyBvbmx5IG9uIEhUTUwgYmVjYXVzZSBpdCdzIHRoZSBvbmx5IGVsZW1lbnQgdGhhdCBiZWhhdmVzXG4gIC8vIGRpZmZlcmVudGx5IHdoZW4gbWFyZ2lucyBhcmUgYXBwbGllZCB0byBpdC4gVGhlIG1hcmdpbnMgYXJlIGluY2x1ZGVkIGluXG4gIC8vIHRoZSBib3ggb2YgdGhlIGRvY3VtZW50RWxlbWVudCwgaW4gdGhlIG90aGVyIGNhc2VzIG5vdC5cbiAgaWYgKCFpc0lFMTAgJiYgaXNIVE1MKSB7XG4gICAgdmFyIG1hcmdpblRvcCA9ICtzdHlsZXMubWFyZ2luVG9wLnNwbGl0KCdweCcpWzBdO1xuICAgIHZhciBtYXJnaW5MZWZ0ID0gK3N0eWxlcy5tYXJnaW5MZWZ0LnNwbGl0KCdweCcpWzBdO1xuXG4gICAgb2Zmc2V0cy50b3AgLT0gYm9yZGVyVG9wV2lkdGggLSBtYXJnaW5Ub3A7XG4gICAgb2Zmc2V0cy5ib3R0b20gLT0gYm9yZGVyVG9wV2lkdGggLSBtYXJnaW5Ub3A7XG4gICAgb2Zmc2V0cy5sZWZ0IC09IGJvcmRlckxlZnRXaWR0aCAtIG1hcmdpbkxlZnQ7XG4gICAgb2Zmc2V0cy5yaWdodCAtPSBib3JkZXJMZWZ0V2lkdGggLSBtYXJnaW5MZWZ0O1xuXG4gICAgLy8gQXR0YWNoIG1hcmdpblRvcCBhbmQgbWFyZ2luTGVmdCBiZWNhdXNlIGluIHNvbWUgY2lyY3Vtc3RhbmNlcyB3ZSBtYXkgbmVlZCB0aGVtXG4gICAgb2Zmc2V0cy5tYXJnaW5Ub3AgPSBtYXJnaW5Ub3A7XG4gICAgb2Zmc2V0cy5tYXJnaW5MZWZ0ID0gbWFyZ2luTGVmdDtcbiAgfVxuXG4gIGlmIChpc0lFMTAgPyBwYXJlbnQuY29udGFpbnMoc2Nyb2xsUGFyZW50KSA6IHBhcmVudCA9PT0gc2Nyb2xsUGFyZW50ICYmIHNjcm9sbFBhcmVudC5ub2RlTmFtZSAhPT0gJ0JPRFknKSB7XG4gICAgb2Zmc2V0cyA9IGluY2x1ZGVTY3JvbGwob2Zmc2V0cywgcGFyZW50KTtcbiAgfVxuXG4gIHJldHVybiBvZmZzZXRzO1xufVxuXG5mdW5jdGlvbiBnZXRWaWV3cG9ydE9mZnNldFJlY3RSZWxhdGl2ZVRvQXJ0Yml0cmFyeU5vZGUoZWxlbWVudCkge1xuICB2YXIgaHRtbCA9IHdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIHZhciByZWxhdGl2ZU9mZnNldCA9IGdldE9mZnNldFJlY3RSZWxhdGl2ZVRvQXJiaXRyYXJ5Tm9kZShlbGVtZW50LCBodG1sKTtcbiAgdmFyIHdpZHRoID0gTWF0aC5tYXgoaHRtbC5jbGllbnRXaWR0aCwgd2luZG93LmlubmVyV2lkdGggfHwgMCk7XG4gIHZhciBoZWlnaHQgPSBNYXRoLm1heChodG1sLmNsaWVudEhlaWdodCwgd2luZG93LmlubmVySGVpZ2h0IHx8IDApO1xuXG4gIHZhciBzY3JvbGxUb3AgPSBnZXRTY3JvbGwoaHRtbCk7XG4gIHZhciBzY3JvbGxMZWZ0ID0gZ2V0U2Nyb2xsKGh0bWwsICdsZWZ0Jyk7XG5cbiAgdmFyIG9mZnNldCA9IHtcbiAgICB0b3A6IHNjcm9sbFRvcCAtIHJlbGF0aXZlT2Zmc2V0LnRvcCArIHJlbGF0aXZlT2Zmc2V0Lm1hcmdpblRvcCxcbiAgICBsZWZ0OiBzY3JvbGxMZWZ0IC0gcmVsYXRpdmVPZmZzZXQubGVmdCArIHJlbGF0aXZlT2Zmc2V0Lm1hcmdpbkxlZnQsXG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0XG4gIH07XG5cbiAgcmV0dXJuIGdldENsaWVudFJlY3Qob2Zmc2V0KTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgZ2l2ZW4gZWxlbWVudCBpcyBmaXhlZCBvciBpcyBpbnNpZGUgYSBmaXhlZCBwYXJlbnRcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudFxuICogQGFyZ3VtZW50IHtFbGVtZW50fSBjdXN0b21Db250YWluZXJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBhbnN3ZXIgdG8gXCJpc0ZpeGVkP1wiXG4gKi9cbmZ1bmN0aW9uIGlzRml4ZWQoZWxlbWVudCkge1xuICB2YXIgbm9kZU5hbWUgPSBlbGVtZW50Lm5vZGVOYW1lO1xuICBpZiAobm9kZU5hbWUgPT09ICdCT0RZJyB8fCBub2RlTmFtZSA9PT0gJ0hUTUwnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChnZXRTdHlsZUNvbXB1dGVkUHJvcGVydHkoZWxlbWVudCwgJ3Bvc2l0aW9uJykgPT09ICdmaXhlZCcpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gaXNGaXhlZChnZXRQYXJlbnROb2RlKGVsZW1lbnQpKTtcbn1cblxuLyoqXG4gKiBDb21wdXRlZCB0aGUgYm91bmRhcmllcyBsaW1pdHMgYW5kIHJldHVybiB0aGVtXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwb3BwZXJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHJlZmVyZW5jZVxuICogQHBhcmFtIHtudW1iZXJ9IHBhZGRpbmdcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGJvdW5kYXJpZXNFbGVtZW50IC0gRWxlbWVudCB1c2VkIHRvIGRlZmluZSB0aGUgYm91bmRhcmllc1xuICogQHJldHVybnMge09iamVjdH0gQ29vcmRpbmF0ZXMgb2YgdGhlIGJvdW5kYXJpZXNcbiAqL1xuZnVuY3Rpb24gZ2V0Qm91bmRhcmllcyhwb3BwZXIsIHJlZmVyZW5jZSwgcGFkZGluZywgYm91bmRhcmllc0VsZW1lbnQpIHtcbiAgLy8gTk9URTogMSBET00gYWNjZXNzIGhlcmVcbiAgdmFyIGJvdW5kYXJpZXMgPSB7IHRvcDogMCwgbGVmdDogMCB9O1xuICB2YXIgb2Zmc2V0UGFyZW50ID0gZmluZENvbW1vbk9mZnNldFBhcmVudChwb3BwZXIsIHJlZmVyZW5jZSk7XG5cbiAgLy8gSGFuZGxlIHZpZXdwb3J0IGNhc2VcbiAgaWYgKGJvdW5kYXJpZXNFbGVtZW50ID09PSAndmlld3BvcnQnKSB7XG4gICAgYm91bmRhcmllcyA9IGdldFZpZXdwb3J0T2Zmc2V0UmVjdFJlbGF0aXZlVG9BcnRiaXRyYXJ5Tm9kZShvZmZzZXRQYXJlbnQpO1xuICB9IGVsc2Uge1xuICAgIC8vIEhhbmRsZSBvdGhlciBjYXNlcyBiYXNlZCBvbiBET00gZWxlbWVudCB1c2VkIGFzIGJvdW5kYXJpZXNcbiAgICB2YXIgYm91bmRhcmllc05vZGUgPSB2b2lkIDA7XG4gICAgaWYgKGJvdW5kYXJpZXNFbGVtZW50ID09PSAnc2Nyb2xsUGFyZW50Jykge1xuICAgICAgYm91bmRhcmllc05vZGUgPSBnZXRTY3JvbGxQYXJlbnQoZ2V0UGFyZW50Tm9kZShwb3BwZXIpKTtcbiAgICAgIGlmIChib3VuZGFyaWVzTm9kZS5ub2RlTmFtZSA9PT0gJ0JPRFknKSB7XG4gICAgICAgIGJvdW5kYXJpZXNOb2RlID0gd2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGJvdW5kYXJpZXNFbGVtZW50ID09PSAnd2luZG93Jykge1xuICAgICAgYm91bmRhcmllc05vZGUgPSB3aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBib3VuZGFyaWVzTm9kZSA9IGJvdW5kYXJpZXNFbGVtZW50O1xuICAgIH1cblxuICAgIHZhciBvZmZzZXRzID0gZ2V0T2Zmc2V0UmVjdFJlbGF0aXZlVG9BcmJpdHJhcnlOb2RlKGJvdW5kYXJpZXNOb2RlLCBvZmZzZXRQYXJlbnQpO1xuXG4gICAgLy8gSW4gY2FzZSBvZiBIVE1MLCB3ZSBuZWVkIGEgZGlmZmVyZW50IGNvbXB1dGF0aW9uXG4gICAgaWYgKGJvdW5kYXJpZXNOb2RlLm5vZGVOYW1lID09PSAnSFRNTCcgJiYgIWlzRml4ZWQob2Zmc2V0UGFyZW50KSkge1xuICAgICAgdmFyIF9nZXRXaW5kb3dTaXplcyA9IGdldFdpbmRvd1NpemVzKGZhbHNlKSxcbiAgICAgICAgICBoZWlnaHQgPSBfZ2V0V2luZG93U2l6ZXMuaGVpZ2h0LFxuICAgICAgICAgIHdpZHRoID0gX2dldFdpbmRvd1NpemVzLndpZHRoO1xuXG4gICAgICBib3VuZGFyaWVzLnRvcCArPSBvZmZzZXRzLnRvcCAtIG9mZnNldHMubWFyZ2luVG9wO1xuICAgICAgYm91bmRhcmllcy5ib3R0b20gPSBoZWlnaHQgKyBvZmZzZXRzLnRvcDtcbiAgICAgIGJvdW5kYXJpZXMubGVmdCArPSBvZmZzZXRzLmxlZnQgLSBvZmZzZXRzLm1hcmdpbkxlZnQ7XG4gICAgICBib3VuZGFyaWVzLnJpZ2h0ID0gd2lkdGggKyBvZmZzZXRzLmxlZnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGZvciBhbGwgdGhlIG90aGVyIERPTSBlbGVtZW50cywgdGhpcyBvbmUgaXMgZ29vZFxuICAgICAgYm91bmRhcmllcyA9IG9mZnNldHM7XG4gICAgfVxuICB9XG5cbiAgLy8gQWRkIHBhZGRpbmdzXG4gIGJvdW5kYXJpZXMubGVmdCArPSBwYWRkaW5nO1xuICBib3VuZGFyaWVzLnRvcCArPSBwYWRkaW5nO1xuICBib3VuZGFyaWVzLnJpZ2h0IC09IHBhZGRpbmc7XG4gIGJvdW5kYXJpZXMuYm90dG9tIC09IHBhZGRpbmc7XG5cbiAgcmV0dXJuIGJvdW5kYXJpZXM7XG59XG5cbmZ1bmN0aW9uIGdldEFyZWEoX3JlZikge1xuICB2YXIgd2lkdGggPSBfcmVmLndpZHRoLFxuICAgICAgaGVpZ2h0ID0gX3JlZi5oZWlnaHQ7XG5cbiAgcmV0dXJuIHdpZHRoICogaGVpZ2h0O1xufVxuXG4vKipcbiAqIFV0aWxpdHkgdXNlZCB0byB0cmFuc2Zvcm0gdGhlIGBhdXRvYCBwbGFjZW1lbnQgdG8gdGhlIHBsYWNlbWVudCB3aXRoIG1vcmVcbiAqIGF2YWlsYWJsZSBzcGFjZS5cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSB1cGRhdGUgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkXG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVBdXRvUGxhY2VtZW50KHBsYWNlbWVudCwgcmVmUmVjdCwgcG9wcGVyLCByZWZlcmVuY2UsIGJvdW5kYXJpZXNFbGVtZW50KSB7XG4gIHZhciBwYWRkaW5nID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgJiYgYXJndW1lbnRzWzVdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNV0gOiAwO1xuXG4gIGlmIChwbGFjZW1lbnQuaW5kZXhPZignYXV0bycpID09PSAtMSkge1xuICAgIHJldHVybiBwbGFjZW1lbnQ7XG4gIH1cblxuICB2YXIgYm91bmRhcmllcyA9IGdldEJvdW5kYXJpZXMocG9wcGVyLCByZWZlcmVuY2UsIHBhZGRpbmcsIGJvdW5kYXJpZXNFbGVtZW50KTtcblxuICB2YXIgcmVjdHMgPSB7XG4gICAgdG9wOiB7XG4gICAgICB3aWR0aDogYm91bmRhcmllcy53aWR0aCxcbiAgICAgIGhlaWdodDogcmVmUmVjdC50b3AgLSBib3VuZGFyaWVzLnRvcFxuICAgIH0sXG4gICAgcmlnaHQ6IHtcbiAgICAgIHdpZHRoOiBib3VuZGFyaWVzLnJpZ2h0IC0gcmVmUmVjdC5yaWdodCxcbiAgICAgIGhlaWdodDogYm91bmRhcmllcy5oZWlnaHRcbiAgICB9LFxuICAgIGJvdHRvbToge1xuICAgICAgd2lkdGg6IGJvdW5kYXJpZXMud2lkdGgsXG4gICAgICBoZWlnaHQ6IGJvdW5kYXJpZXMuYm90dG9tIC0gcmVmUmVjdC5ib3R0b21cbiAgICB9LFxuICAgIGxlZnQ6IHtcbiAgICAgIHdpZHRoOiByZWZSZWN0LmxlZnQgLSBib3VuZGFyaWVzLmxlZnQsXG4gICAgICBoZWlnaHQ6IGJvdW5kYXJpZXMuaGVpZ2h0XG4gICAgfVxuICB9O1xuXG4gIHZhciBzb3J0ZWRBcmVhcyA9IE9iamVjdC5rZXlzKHJlY3RzKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBfZXh0ZW5kcyh7XG4gICAgICBrZXk6IGtleVxuICAgIH0sIHJlY3RzW2tleV0sIHtcbiAgICAgIGFyZWE6IGdldEFyZWEocmVjdHNba2V5XSlcbiAgICB9KTtcbiAgfSkuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBiLmFyZWEgLSBhLmFyZWE7XG4gIH0pO1xuXG4gIHZhciBmaWx0ZXJlZEFyZWFzID0gc29ydGVkQXJlYXMuZmlsdGVyKGZ1bmN0aW9uIChfcmVmMikge1xuICAgIHZhciB3aWR0aCA9IF9yZWYyLndpZHRoLFxuICAgICAgICBoZWlnaHQgPSBfcmVmMi5oZWlnaHQ7XG4gICAgcmV0dXJuIHdpZHRoID49IHBvcHBlci5jbGllbnRXaWR0aCAmJiBoZWlnaHQgPj0gcG9wcGVyLmNsaWVudEhlaWdodDtcbiAgfSk7XG5cbiAgdmFyIGNvbXB1dGVkUGxhY2VtZW50ID0gZmlsdGVyZWRBcmVhcy5sZW5ndGggPiAwID8gZmlsdGVyZWRBcmVhc1swXS5rZXkgOiBzb3J0ZWRBcmVhc1swXS5rZXk7XG5cbiAgdmFyIHZhcmlhdGlvbiA9IHBsYWNlbWVudC5zcGxpdCgnLScpWzFdO1xuXG4gIHJldHVybiBjb21wdXRlZFBsYWNlbWVudCArICh2YXJpYXRpb24gPyAnLScgKyB2YXJpYXRpb24gOiAnJyk7XG59XG5cbi8qKlxuICogR2V0IG9mZnNldHMgdG8gdGhlIHJlZmVyZW5jZSBlbGVtZW50XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhdGVcbiAqIEBwYXJhbSB7RWxlbWVudH0gcG9wcGVyIC0gdGhlIHBvcHBlciBlbGVtZW50XG4gKiBAcGFyYW0ge0VsZW1lbnR9IHJlZmVyZW5jZSAtIHRoZSByZWZlcmVuY2UgZWxlbWVudCAodGhlIHBvcHBlciB3aWxsIGJlIHJlbGF0aXZlIHRvIHRoaXMpXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgb2Zmc2V0cyB3aGljaCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlclxuICovXG5mdW5jdGlvbiBnZXRSZWZlcmVuY2VPZmZzZXRzKHN0YXRlLCBwb3BwZXIsIHJlZmVyZW5jZSkge1xuICB2YXIgY29tbW9uT2Zmc2V0UGFyZW50ID0gZmluZENvbW1vbk9mZnNldFBhcmVudChwb3BwZXIsIHJlZmVyZW5jZSk7XG4gIHJldHVybiBnZXRPZmZzZXRSZWN0UmVsYXRpdmVUb0FyYml0cmFyeU5vZGUocmVmZXJlbmNlLCBjb21tb25PZmZzZXRQYXJlbnQpO1xufVxuXG4vKipcbiAqIEdldCB0aGUgb3V0ZXIgc2l6ZXMgb2YgdGhlIGdpdmVuIGVsZW1lbnQgKG9mZnNldCBzaXplICsgbWFyZ2lucylcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybnMge09iamVjdH0gb2JqZWN0IGNvbnRhaW5pbmcgd2lkdGggYW5kIGhlaWdodCBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIGdldE91dGVyU2l6ZXMoZWxlbWVudCkge1xuICB2YXIgc3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gIHZhciB4ID0gcGFyc2VGbG9hdChzdHlsZXMubWFyZ2luVG9wKSArIHBhcnNlRmxvYXQoc3R5bGVzLm1hcmdpbkJvdHRvbSk7XG4gIHZhciB5ID0gcGFyc2VGbG9hdChzdHlsZXMubWFyZ2luTGVmdCkgKyBwYXJzZUZsb2F0KHN0eWxlcy5tYXJnaW5SaWdodCk7XG4gIHZhciByZXN1bHQgPSB7XG4gICAgd2lkdGg6IGVsZW1lbnQub2Zmc2V0V2lkdGggKyB5LFxuICAgIGhlaWdodDogZWxlbWVudC5vZmZzZXRIZWlnaHQgKyB4XG4gIH07XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0IHRoZSBvcHBvc2l0ZSBwbGFjZW1lbnQgb2YgdGhlIGdpdmVuIG9uZVxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtTdHJpbmd9IHBsYWNlbWVudFxuICogQHJldHVybnMge1N0cmluZ30gZmxpcHBlZCBwbGFjZW1lbnRcbiAqL1xuZnVuY3Rpb24gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQocGxhY2VtZW50KSB7XG4gIHZhciBoYXNoID0geyBsZWZ0OiAncmlnaHQnLCByaWdodDogJ2xlZnQnLCBib3R0b206ICd0b3AnLCB0b3A6ICdib3R0b20nIH07XG4gIHJldHVybiBwbGFjZW1lbnQucmVwbGFjZSgvbGVmdHxyaWdodHxib3R0b218dG9wL2csIGZ1bmN0aW9uIChtYXRjaGVkKSB7XG4gICAgcmV0dXJuIGhhc2hbbWF0Y2hlZF07XG4gIH0pO1xufVxuXG4vKipcbiAqIEdldCBvZmZzZXRzIHRvIHRoZSBwb3BwZXJcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBwYXJhbSB7T2JqZWN0fSBwb3NpdGlvbiAtIENTUyBwb3NpdGlvbiB0aGUgUG9wcGVyIHdpbGwgZ2V0IGFwcGxpZWRcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBvcHBlciAtIHRoZSBwb3BwZXIgZWxlbWVudFxuICogQHBhcmFtIHtPYmplY3R9IHJlZmVyZW5jZU9mZnNldHMgLSB0aGUgcmVmZXJlbmNlIG9mZnNldHMgKHRoZSBwb3BwZXIgd2lsbCBiZSByZWxhdGl2ZSB0byB0aGlzKVxuICogQHBhcmFtIHtTdHJpbmd9IHBsYWNlbWVudCAtIG9uZSBvZiB0aGUgdmFsaWQgcGxhY2VtZW50IG9wdGlvbnNcbiAqIEByZXR1cm5zIHtPYmplY3R9IHBvcHBlck9mZnNldHMgLSBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgb2Zmc2V0cyB3aGljaCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlclxuICovXG5mdW5jdGlvbiBnZXRQb3BwZXJPZmZzZXRzKHBvcHBlciwgcmVmZXJlbmNlT2Zmc2V0cywgcGxhY2VtZW50KSB7XG4gIHBsYWNlbWVudCA9IHBsYWNlbWVudC5zcGxpdCgnLScpWzBdO1xuXG4gIC8vIEdldCBwb3BwZXIgbm9kZSBzaXplc1xuICB2YXIgcG9wcGVyUmVjdCA9IGdldE91dGVyU2l6ZXMocG9wcGVyKTtcblxuICAvLyBBZGQgcG9zaXRpb24sIHdpZHRoIGFuZCBoZWlnaHQgdG8gb3VyIG9mZnNldHMgb2JqZWN0XG4gIHZhciBwb3BwZXJPZmZzZXRzID0ge1xuICAgIHdpZHRoOiBwb3BwZXJSZWN0LndpZHRoLFxuICAgIGhlaWdodDogcG9wcGVyUmVjdC5oZWlnaHRcbiAgfTtcblxuICAvLyBkZXBlbmRpbmcgYnkgdGhlIHBvcHBlciBwbGFjZW1lbnQgd2UgaGF2ZSB0byBjb21wdXRlIGl0cyBvZmZzZXRzIHNsaWdodGx5IGRpZmZlcmVudGx5XG4gIHZhciBpc0hvcml6ID0gWydyaWdodCcsICdsZWZ0J10uaW5kZXhPZihwbGFjZW1lbnQpICE9PSAtMTtcbiAgdmFyIG1haW5TaWRlID0gaXNIb3JpeiA/ICd0b3AnIDogJ2xlZnQnO1xuICB2YXIgc2Vjb25kYXJ5U2lkZSA9IGlzSG9yaXogPyAnbGVmdCcgOiAndG9wJztcbiAgdmFyIG1lYXN1cmVtZW50ID0gaXNIb3JpeiA/ICdoZWlnaHQnIDogJ3dpZHRoJztcbiAgdmFyIHNlY29uZGFyeU1lYXN1cmVtZW50ID0gIWlzSG9yaXogPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG5cbiAgcG9wcGVyT2Zmc2V0c1ttYWluU2lkZV0gPSByZWZlcmVuY2VPZmZzZXRzW21haW5TaWRlXSArIHJlZmVyZW5jZU9mZnNldHNbbWVhc3VyZW1lbnRdIC8gMiAtIHBvcHBlclJlY3RbbWVhc3VyZW1lbnRdIC8gMjtcbiAgaWYgKHBsYWNlbWVudCA9PT0gc2Vjb25kYXJ5U2lkZSkge1xuICAgIHBvcHBlck9mZnNldHNbc2Vjb25kYXJ5U2lkZV0gPSByZWZlcmVuY2VPZmZzZXRzW3NlY29uZGFyeVNpZGVdIC0gcG9wcGVyUmVjdFtzZWNvbmRhcnlNZWFzdXJlbWVudF07XG4gIH0gZWxzZSB7XG4gICAgcG9wcGVyT2Zmc2V0c1tzZWNvbmRhcnlTaWRlXSA9IHJlZmVyZW5jZU9mZnNldHNbZ2V0T3Bwb3NpdGVQbGFjZW1lbnQoc2Vjb25kYXJ5U2lkZSldO1xuICB9XG5cbiAgcmV0dXJuIHBvcHBlck9mZnNldHM7XG59XG5cbi8qKlxuICogTWltaWNzIHRoZSBgZmluZGAgbWV0aG9kIG9mIEFycmF5XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0FycmF5fSBhcnJcbiAqIEBhcmd1bWVudCBwcm9wXG4gKiBAYXJndW1lbnQgdmFsdWVcbiAqIEByZXR1cm5zIGluZGV4IG9yIC0xXG4gKi9cbmZ1bmN0aW9uIGZpbmQkMShhcnIsIGNoZWNrKSB7XG4gIC8vIHVzZSBuYXRpdmUgZmluZCBpZiBzdXBwb3J0ZWRcbiAgaWYgKEFycmF5LnByb3RvdHlwZS5maW5kKSB7XG4gICAgcmV0dXJuIGFyci5maW5kKGNoZWNrKTtcbiAgfVxuXG4gIC8vIHVzZSBgZmlsdGVyYCB0byBvYnRhaW4gdGhlIHNhbWUgYmVoYXZpb3Igb2YgYGZpbmRgXG4gIHJldHVybiBhcnIuZmlsdGVyKGNoZWNrKVswXTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gdGhlIGluZGV4IG9mIHRoZSBtYXRjaGluZyBvYmplY3RcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7QXJyYXl9IGFyclxuICogQGFyZ3VtZW50IHByb3BcbiAqIEBhcmd1bWVudCB2YWx1ZVxuICogQHJldHVybnMgaW5kZXggb3IgLTFcbiAqL1xuZnVuY3Rpb24gZmluZEluZGV4JDEoYXJyLCBwcm9wLCB2YWx1ZSkge1xuICAvLyB1c2UgbmF0aXZlIGZpbmRJbmRleCBpZiBzdXBwb3J0ZWRcbiAgaWYgKEFycmF5LnByb3RvdHlwZS5maW5kSW5kZXgpIHtcbiAgICByZXR1cm4gYXJyLmZpbmRJbmRleChmdW5jdGlvbiAoY3VyKSB7XG4gICAgICByZXR1cm4gY3VyW3Byb3BdID09PSB2YWx1ZTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIHVzZSBgZmluZGAgKyBgaW5kZXhPZmAgaWYgYGZpbmRJbmRleGAgaXNuJ3Qgc3VwcG9ydGVkXG4gIHZhciBtYXRjaCA9IGZpbmQkMShhcnIsIGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gb2JqW3Byb3BdID09PSB2YWx1ZTtcbiAgfSk7XG4gIHJldHVybiBhcnIuaW5kZXhPZihtYXRjaCk7XG59XG5cbi8qKlxuICogTG9vcCB0cm91Z2ggdGhlIGxpc3Qgb2YgbW9kaWZpZXJzIGFuZCBydW4gdGhlbSBpbiBvcmRlcixcbiAqIGVhY2ggb2YgdGhlbSB3aWxsIHRoZW4gZWRpdCB0aGUgZGF0YSBvYmplY3QuXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0ge2RhdGFPYmplY3R9IGRhdGFcbiAqIEBwYXJhbSB7QXJyYXl9IG1vZGlmaWVyc1xuICogQHBhcmFtIHtTdHJpbmd9IGVuZHMgLSBPcHRpb25hbCBtb2RpZmllciBuYW1lIHVzZWQgYXMgc3RvcHBlclxuICogQHJldHVybnMge2RhdGFPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIHJ1bk1vZGlmaWVycyhtb2RpZmllcnMsIGRhdGEsIGVuZHMpIHtcbiAgdmFyIG1vZGlmaWVyc1RvUnVuID0gZW5kcyA9PT0gdW5kZWZpbmVkID8gbW9kaWZpZXJzIDogbW9kaWZpZXJzLnNsaWNlKDAsIGZpbmRJbmRleCQxKG1vZGlmaWVycywgJ25hbWUnLCBlbmRzKSk7XG5cbiAgbW9kaWZpZXJzVG9SdW4uZm9yRWFjaChmdW5jdGlvbiAobW9kaWZpZXIpIHtcbiAgICBpZiAobW9kaWZpZXIuZnVuY3Rpb24pIHtcbiAgICAgIGNvbnNvbGUud2FybignYG1vZGlmaWVyLmZ1bmN0aW9uYCBpcyBkZXByZWNhdGVkLCB1c2UgYG1vZGlmaWVyLmZuYCEnKTtcbiAgICB9XG4gICAgdmFyIGZuID0gbW9kaWZpZXIuZnVuY3Rpb24gfHwgbW9kaWZpZXIuZm47XG4gICAgaWYgKG1vZGlmaWVyLmVuYWJsZWQgJiYgaXNGdW5jdGlvbihmbikpIHtcbiAgICAgIC8vIEFkZCBwcm9wZXJ0aWVzIHRvIG9mZnNldHMgdG8gbWFrZSB0aGVtIGEgY29tcGxldGUgY2xpZW50UmVjdCBvYmplY3RcbiAgICAgIC8vIHdlIGRvIHRoaXMgYmVmb3JlIGVhY2ggbW9kaWZpZXIgdG8gbWFrZSBzdXJlIHRoZSBwcmV2aW91cyBvbmUgZG9lc24ndFxuICAgICAgLy8gbWVzcyB3aXRoIHRoZXNlIHZhbHVlc1xuICAgICAgZGF0YS5vZmZzZXRzLnBvcHBlciA9IGdldENsaWVudFJlY3QoZGF0YS5vZmZzZXRzLnBvcHBlcik7XG4gICAgICBkYXRhLm9mZnNldHMucmVmZXJlbmNlID0gZ2V0Q2xpZW50UmVjdChkYXRhLm9mZnNldHMucmVmZXJlbmNlKTtcblxuICAgICAgZGF0YSA9IGZuKGRhdGEsIG1vZGlmaWVyKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIHBvc2l0aW9uIG9mIHRoZSBwb3BwZXIsIGNvbXB1dGluZyB0aGUgbmV3IG9mZnNldHMgYW5kIGFwcGx5aW5nXG4gKiB0aGUgbmV3IHN0eWxlLjxiciAvPlxuICogUHJlZmVyIGBzY2hlZHVsZVVwZGF0ZWAgb3ZlciBgdXBkYXRlYCBiZWNhdXNlIG9mIHBlcmZvcm1hbmNlIHJlYXNvbnMuXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgLy8gaWYgcG9wcGVyIGlzIGRlc3Ryb3llZCwgZG9uJ3QgcGVyZm9ybSBhbnkgZnVydGhlciB1cGRhdGVcbiAgaWYgKHRoaXMuc3RhdGUuaXNEZXN0cm95ZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgZGF0YSA9IHtcbiAgICBpbnN0YW5jZTogdGhpcyxcbiAgICBzdHlsZXM6IHt9LFxuICAgIGFycm93U3R5bGVzOiB7fSxcbiAgICBhdHRyaWJ1dGVzOiB7fSxcbiAgICBmbGlwcGVkOiBmYWxzZSxcbiAgICBvZmZzZXRzOiB7fVxuICB9O1xuXG4gIC8vIGNvbXB1dGUgcmVmZXJlbmNlIGVsZW1lbnQgb2Zmc2V0c1xuICBkYXRhLm9mZnNldHMucmVmZXJlbmNlID0gZ2V0UmVmZXJlbmNlT2Zmc2V0cyh0aGlzLnN0YXRlLCB0aGlzLnBvcHBlciwgdGhpcy5yZWZlcmVuY2UpO1xuXG4gIC8vIGNvbXB1dGUgYXV0byBwbGFjZW1lbnQsIHN0b3JlIHBsYWNlbWVudCBpbnNpZGUgdGhlIGRhdGEgb2JqZWN0LFxuICAvLyBtb2RpZmllcnMgd2lsbCBiZSBhYmxlIHRvIGVkaXQgYHBsYWNlbWVudGAgaWYgbmVlZGVkXG4gIC8vIGFuZCByZWZlciB0byBvcmlnaW5hbFBsYWNlbWVudCB0byBrbm93IHRoZSBvcmlnaW5hbCB2YWx1ZVxuICBkYXRhLnBsYWNlbWVudCA9IGNvbXB1dGVBdXRvUGxhY2VtZW50KHRoaXMub3B0aW9ucy5wbGFjZW1lbnQsIGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UsIHRoaXMucG9wcGVyLCB0aGlzLnJlZmVyZW5jZSwgdGhpcy5vcHRpb25zLm1vZGlmaWVycy5mbGlwLmJvdW5kYXJpZXNFbGVtZW50LCB0aGlzLm9wdGlvbnMubW9kaWZpZXJzLmZsaXAucGFkZGluZyk7XG5cbiAgLy8gc3RvcmUgdGhlIGNvbXB1dGVkIHBsYWNlbWVudCBpbnNpZGUgYG9yaWdpbmFsUGxhY2VtZW50YFxuICBkYXRhLm9yaWdpbmFsUGxhY2VtZW50ID0gZGF0YS5wbGFjZW1lbnQ7XG5cbiAgLy8gY29tcHV0ZSB0aGUgcG9wcGVyIG9mZnNldHNcbiAgZGF0YS5vZmZzZXRzLnBvcHBlciA9IGdldFBvcHBlck9mZnNldHModGhpcy5wb3BwZXIsIGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UsIGRhdGEucGxhY2VtZW50KTtcbiAgZGF0YS5vZmZzZXRzLnBvcHBlci5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG5cbiAgLy8gcnVuIHRoZSBtb2RpZmllcnNcbiAgZGF0YSA9IHJ1bk1vZGlmaWVycyh0aGlzLm1vZGlmaWVycywgZGF0YSk7XG5cbiAgLy8gdGhlIGZpcnN0IGB1cGRhdGVgIHdpbGwgY2FsbCBgb25DcmVhdGVgIGNhbGxiYWNrXG4gIC8vIHRoZSBvdGhlciBvbmVzIHdpbGwgY2FsbCBgb25VcGRhdGVgIGNhbGxiYWNrXG4gIGlmICghdGhpcy5zdGF0ZS5pc0NyZWF0ZWQpIHtcbiAgICB0aGlzLnN0YXRlLmlzQ3JlYXRlZCA9IHRydWU7XG4gICAgdGhpcy5vcHRpb25zLm9uQ3JlYXRlKGRhdGEpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMub3B0aW9ucy5vblVwZGF0ZShkYXRhKTtcbiAgfVxufVxuXG4vKipcbiAqIEhlbHBlciB1c2VkIHRvIGtub3cgaWYgdGhlIGdpdmVuIG1vZGlmaWVyIGlzIGVuYWJsZWQuXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNNb2RpZmllckVuYWJsZWQobW9kaWZpZXJzLCBtb2RpZmllck5hbWUpIHtcbiAgcmV0dXJuIG1vZGlmaWVycy5zb21lKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgdmFyIG5hbWUgPSBfcmVmLm5hbWUsXG4gICAgICAgIGVuYWJsZWQgPSBfcmVmLmVuYWJsZWQ7XG4gICAgcmV0dXJuIGVuYWJsZWQgJiYgbmFtZSA9PT0gbW9kaWZpZXJOYW1lO1xuICB9KTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHByZWZpeGVkIHN1cHBvcnRlZCBwcm9wZXJ0eSBuYW1lXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge1N0cmluZ30gcHJvcGVydHkgKGNhbWVsQ2FzZSlcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHByZWZpeGVkIHByb3BlcnR5IChjYW1lbENhc2Ugb3IgUGFzY2FsQ2FzZSwgZGVwZW5kaW5nIG9uIHRoZSB2ZW5kb3IgcHJlZml4KVxuICovXG5mdW5jdGlvbiBnZXRTdXBwb3J0ZWRQcm9wZXJ0eU5hbWUocHJvcGVydHkpIHtcbiAgdmFyIHByZWZpeGVzID0gW2ZhbHNlLCAnbXMnLCAnV2Via2l0JywgJ01veicsICdPJ107XG4gIHZhciB1cHBlclByb3AgPSBwcm9wZXJ0eS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHByb3BlcnR5LnNsaWNlKDEpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJlZml4ZXMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgdmFyIHByZWZpeCA9IHByZWZpeGVzW2ldO1xuICAgIHZhciB0b0NoZWNrID0gcHJlZml4ID8gJycgKyBwcmVmaXggKyB1cHBlclByb3AgOiBwcm9wZXJ0eTtcbiAgICBpZiAodHlwZW9mIHdpbmRvdy5kb2N1bWVudC5ib2R5LnN0eWxlW3RvQ2hlY2tdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIHRvQ2hlY2s7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIERlc3Ryb3kgdGhlIHBvcHBlclxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlclxuICovXG5mdW5jdGlvbiBkZXN0cm95KCkge1xuICB0aGlzLnN0YXRlLmlzRGVzdHJveWVkID0gdHJ1ZTtcblxuICAvLyB0b3VjaCBET00gb25seSBpZiBgYXBwbHlTdHlsZWAgbW9kaWZpZXIgaXMgZW5hYmxlZFxuICBpZiAoaXNNb2RpZmllckVuYWJsZWQodGhpcy5tb2RpZmllcnMsICdhcHBseVN0eWxlJykpIHtcbiAgICB0aGlzLnBvcHBlci5yZW1vdmVBdHRyaWJ1dGUoJ3gtcGxhY2VtZW50Jyk7XG4gICAgdGhpcy5wb3BwZXIuc3R5bGUubGVmdCA9ICcnO1xuICAgIHRoaXMucG9wcGVyLnN0eWxlLnBvc2l0aW9uID0gJyc7XG4gICAgdGhpcy5wb3BwZXIuc3R5bGUudG9wID0gJyc7XG4gICAgdGhpcy5wb3BwZXIuc3R5bGVbZ2V0U3VwcG9ydGVkUHJvcGVydHlOYW1lKCd0cmFuc2Zvcm0nKV0gPSAnJztcbiAgfVxuXG4gIHRoaXMuZGlzYWJsZUV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgLy8gcmVtb3ZlIHRoZSBwb3BwZXIgaWYgdXNlciBleHBsaWNpdHkgYXNrZWQgZm9yIHRoZSBkZWxldGlvbiBvbiBkZXN0cm95XG4gIC8vIGRvIG5vdCB1c2UgYHJlbW92ZWAgYmVjYXVzZSBJRTExIGRvZXNuJ3Qgc3VwcG9ydCBpdFxuICBpZiAodGhpcy5vcHRpb25zLnJlbW92ZU9uRGVzdHJveSkge1xuICAgIHRoaXMucG9wcGVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5wb3BwZXIpO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBhdHRhY2hUb1Njcm9sbFBhcmVudHMoc2Nyb2xsUGFyZW50LCBldmVudCwgY2FsbGJhY2ssIHNjcm9sbFBhcmVudHMpIHtcbiAgdmFyIGlzQm9keSA9IHNjcm9sbFBhcmVudC5ub2RlTmFtZSA9PT0gJ0JPRFknO1xuICB2YXIgdGFyZ2V0ID0gaXNCb2R5ID8gd2luZG93IDogc2Nyb2xsUGFyZW50O1xuICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgY2FsbGJhY2ssIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcblxuICBpZiAoIWlzQm9keSkge1xuICAgIGF0dGFjaFRvU2Nyb2xsUGFyZW50cyhnZXRTY3JvbGxQYXJlbnQodGFyZ2V0LnBhcmVudE5vZGUpLCBldmVudCwgY2FsbGJhY2ssIHNjcm9sbFBhcmVudHMpO1xuICB9XG4gIHNjcm9sbFBhcmVudHMucHVzaCh0YXJnZXQpO1xufVxuXG4vKipcbiAqIFNldHVwIG5lZWRlZCBldmVudCBsaXN0ZW5lcnMgdXNlZCB0byB1cGRhdGUgdGhlIHBvcHBlciBwb3NpdGlvblxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc2V0dXBFdmVudExpc3RlbmVycyhyZWZlcmVuY2UsIG9wdGlvbnMsIHN0YXRlLCB1cGRhdGVCb3VuZCkge1xuICAvLyBSZXNpemUgZXZlbnQgbGlzdGVuZXIgb24gd2luZG93XG4gIHN0YXRlLnVwZGF0ZUJvdW5kID0gdXBkYXRlQm91bmQ7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBzdGF0ZS51cGRhdGVCb3VuZCwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuXG4gIC8vIFNjcm9sbCBldmVudCBsaXN0ZW5lciBvbiBzY3JvbGwgcGFyZW50c1xuICB2YXIgc2Nyb2xsRWxlbWVudCA9IGdldFNjcm9sbFBhcmVudChyZWZlcmVuY2UpO1xuICBhdHRhY2hUb1Njcm9sbFBhcmVudHMoc2Nyb2xsRWxlbWVudCwgJ3Njcm9sbCcsIHN0YXRlLnVwZGF0ZUJvdW5kLCBzdGF0ZS5zY3JvbGxQYXJlbnRzKTtcbiAgc3RhdGUuc2Nyb2xsRWxlbWVudCA9IHNjcm9sbEVsZW1lbnQ7XG4gIHN0YXRlLmV2ZW50c0VuYWJsZWQgPSB0cnVlO1xuXG4gIHJldHVybiBzdGF0ZTtcbn1cblxuLyoqXG4gKiBJdCB3aWxsIGFkZCByZXNpemUvc2Nyb2xsIGV2ZW50cyBhbmQgc3RhcnQgcmVjYWxjdWxhdGluZ1xuICogcG9zaXRpb24gb2YgdGhlIHBvcHBlciBlbGVtZW50IHdoZW4gdGhleSBhcmUgdHJpZ2dlcmVkLlxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlclxuICovXG5mdW5jdGlvbiBlbmFibGVFdmVudExpc3RlbmVycygpIHtcbiAgaWYgKCF0aGlzLnN0YXRlLmV2ZW50c0VuYWJsZWQpIHtcbiAgICB0aGlzLnN0YXRlID0gc2V0dXBFdmVudExpc3RlbmVycyh0aGlzLnJlZmVyZW5jZSwgdGhpcy5vcHRpb25zLCB0aGlzLnN0YXRlLCB0aGlzLnNjaGVkdWxlVXBkYXRlKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZSBldmVudCBsaXN0ZW5lcnMgdXNlZCB0byB1cGRhdGUgdGhlIHBvcHBlciBwb3NpdGlvblxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcnMocmVmZXJlbmNlLCBzdGF0ZSkge1xuICAvLyBSZW1vdmUgcmVzaXplIGV2ZW50IGxpc3RlbmVyIG9uIHdpbmRvd1xuICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgc3RhdGUudXBkYXRlQm91bmQpO1xuXG4gIC8vIFJlbW92ZSBzY3JvbGwgZXZlbnQgbGlzdGVuZXIgb24gc2Nyb2xsIHBhcmVudHNcbiAgc3RhdGUuc2Nyb2xsUGFyZW50cy5mb3JFYWNoKGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc3RhdGUudXBkYXRlQm91bmQpO1xuICB9KTtcblxuICAvLyBSZXNldCBzdGF0ZVxuICBzdGF0ZS51cGRhdGVCb3VuZCA9IG51bGw7XG4gIHN0YXRlLnNjcm9sbFBhcmVudHMgPSBbXTtcbiAgc3RhdGUuc2Nyb2xsRWxlbWVudCA9IG51bGw7XG4gIHN0YXRlLmV2ZW50c0VuYWJsZWQgPSBmYWxzZTtcbiAgcmV0dXJuIHN0YXRlO1xufVxuXG4vKipcbiAqIEl0IHdpbGwgcmVtb3ZlIHJlc2l6ZS9zY3JvbGwgZXZlbnRzIGFuZCB3b24ndCByZWNhbGN1bGF0ZSBwb3BwZXIgcG9zaXRpb25cbiAqIHdoZW4gdGhleSBhcmUgdHJpZ2dlcmVkLiBJdCBhbHNvIHdvbid0IHRyaWdnZXIgb25VcGRhdGUgY2FsbGJhY2sgYW55bW9yZSxcbiAqIHVubGVzcyB5b3UgY2FsbCBgdXBkYXRlYCBtZXRob2QgbWFudWFsbHkuXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyXG4gKi9cbmZ1bmN0aW9uIGRpc2FibGVFdmVudExpc3RlbmVycygpIHtcbiAgaWYgKHRoaXMuc3RhdGUuZXZlbnRzRW5hYmxlZCkge1xuICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnNjaGVkdWxlVXBkYXRlKTtcbiAgICB0aGlzLnN0YXRlID0gcmVtb3ZlRXZlbnRMaXN0ZW5lcnModGhpcy5yZWZlcmVuY2UsIHRoaXMuc3RhdGUpO1xuICB9XG59XG5cbi8qKlxuICogVGVsbHMgaWYgYSBnaXZlbiBpbnB1dCBpcyBhIG51bWJlclxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQHBhcmFtIHsqfSBpbnB1dCB0byBjaGVja1xuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNOdW1lcmljKG4pIHtcbiAgcmV0dXJuIG4gIT09ICcnICYmICFpc05hTihwYXJzZUZsb2F0KG4pKSAmJiBpc0Zpbml0ZShuKTtcbn1cblxuLyoqXG4gKiBTZXQgdGhlIHN0eWxlIHRvIHRoZSBnaXZlbiBwb3BwZXJcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnQgdG8gYXBwbHkgdGhlIHN0eWxlIHRvXG4gKiBAYXJndW1lbnQge09iamVjdH0gc3R5bGVzXG4gKiBPYmplY3Qgd2l0aCBhIGxpc3Qgb2YgcHJvcGVydGllcyBhbmQgdmFsdWVzIHdoaWNoIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudFxuICovXG5mdW5jdGlvbiBzZXRTdHlsZXMoZWxlbWVudCwgc3R5bGVzKSB7XG4gIE9iamVjdC5rZXlzKHN0eWxlcykuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgIHZhciB1bml0ID0gJyc7XG4gICAgLy8gYWRkIHVuaXQgaWYgdGhlIHZhbHVlIGlzIG51bWVyaWMgYW5kIGlzIG9uZSBvZiB0aGUgZm9sbG93aW5nXG4gICAgaWYgKFsnd2lkdGgnLCAnaGVpZ2h0JywgJ3RvcCcsICdyaWdodCcsICdib3R0b20nLCAnbGVmdCddLmluZGV4T2YocHJvcCkgIT09IC0xICYmIGlzTnVtZXJpYyhzdHlsZXNbcHJvcF0pKSB7XG4gICAgICB1bml0ID0gJ3B4JztcbiAgICB9XG4gICAgZWxlbWVudC5zdHlsZVtwcm9wXSA9IHN0eWxlc1twcm9wXSArIHVuaXQ7XG4gIH0pO1xufVxuXG4vKipcbiAqIFNldCB0aGUgYXR0cmlidXRlcyB0byB0aGUgZ2l2ZW4gcG9wcGVyXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50IHRvIGFwcGx5IHRoZSBhdHRyaWJ1dGVzIHRvXG4gKiBAYXJndW1lbnQge09iamVjdH0gc3R5bGVzXG4gKiBPYmplY3Qgd2l0aCBhIGxpc3Qgb2YgcHJvcGVydGllcyBhbmQgdmFsdWVzIHdoaWNoIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudFxuICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzKGVsZW1lbnQsIGF0dHJpYnV0ZXMpIHtcbiAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgIHZhciB2YWx1ZSA9IGF0dHJpYnV0ZXNbcHJvcF07XG4gICAgaWYgKHZhbHVlICE9PSBmYWxzZSkge1xuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUocHJvcCwgYXR0cmlidXRlc1twcm9wXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKHByb3ApO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgTW9kaWZpZXJzXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgYHVwZGF0ZWAgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YS5zdHlsZXMgLSBMaXN0IG9mIHN0eWxlIHByb3BlcnRpZXMgLSB2YWx1ZXMgdG8gYXBwbHkgdG8gcG9wcGVyIGVsZW1lbnRcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhLmF0dHJpYnV0ZXMgLSBMaXN0IG9mIGF0dHJpYnV0ZSBwcm9wZXJ0aWVzIC0gdmFsdWVzIHRvIGFwcGx5IHRvIHBvcHBlciBlbGVtZW50XG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgc2FtZSBkYXRhIG9iamVjdFxuICovXG5mdW5jdGlvbiBhcHBseVN0eWxlKGRhdGEpIHtcbiAgLy8gYW55IHByb3BlcnR5IHByZXNlbnQgaW4gYGRhdGEuc3R5bGVzYCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlcixcbiAgLy8gaW4gdGhpcyB3YXkgd2UgY2FuIG1ha2UgdGhlIDNyZCBwYXJ0eSBtb2RpZmllcnMgYWRkIGN1c3RvbSBzdHlsZXMgdG8gaXRcbiAgLy8gQmUgYXdhcmUsIG1vZGlmaWVycyBjb3VsZCBvdmVycmlkZSB0aGUgcHJvcGVydGllcyBkZWZpbmVkIGluIHRoZSBwcmV2aW91c1xuICAvLyBsaW5lcyBvZiB0aGlzIG1vZGlmaWVyIVxuICBzZXRTdHlsZXMoZGF0YS5pbnN0YW5jZS5wb3BwZXIsIGRhdGEuc3R5bGVzKTtcblxuICAvLyBhbnkgcHJvcGVydHkgcHJlc2VudCBpbiBgZGF0YS5hdHRyaWJ1dGVzYCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlcixcbiAgLy8gdGhleSB3aWxsIGJlIHNldCBhcyBIVE1MIGF0dHJpYnV0ZXMgb2YgdGhlIGVsZW1lbnRcbiAgc2V0QXR0cmlidXRlcyhkYXRhLmluc3RhbmNlLnBvcHBlciwgZGF0YS5hdHRyaWJ1dGVzKTtcblxuICAvLyBpZiBhcnJvd0VsZW1lbnQgaXMgZGVmaW5lZCBhbmQgYXJyb3dTdHlsZXMgaGFzIHNvbWUgcHJvcGVydGllc1xuICBpZiAoZGF0YS5hcnJvd0VsZW1lbnQgJiYgT2JqZWN0LmtleXMoZGF0YS5hcnJvd1N0eWxlcykubGVuZ3RoKSB7XG4gICAgc2V0U3R5bGVzKGRhdGEuYXJyb3dFbGVtZW50LCBkYXRhLmFycm93U3R5bGVzKTtcbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIFNldCB0aGUgeC1wbGFjZW1lbnQgYXR0cmlidXRlIGJlZm9yZSBldmVyeXRoaW5nIGVsc2UgYmVjYXVzZSBpdCBjb3VsZCBiZSB1c2VkXG4gKiB0byBhZGQgbWFyZ2lucyB0byB0aGUgcG9wcGVyIG1hcmdpbnMgbmVlZHMgdG8gYmUgY2FsY3VsYXRlZCB0byBnZXQgdGhlXG4gKiBjb3JyZWN0IHBvcHBlciBvZmZzZXRzLlxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5tb2RpZmllcnNcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHJlZmVyZW5jZSAtIFRoZSByZWZlcmVuY2UgZWxlbWVudCB1c2VkIHRvIHBvc2l0aW9uIHRoZSBwb3BwZXJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBvcHBlciAtIFRoZSBIVE1MIGVsZW1lbnQgdXNlZCBhcyBwb3BwZXIuXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFBvcHBlci5qcyBvcHRpb25zXG4gKi9cbmZ1bmN0aW9uIGFwcGx5U3R5bGVPbkxvYWQocmVmZXJlbmNlLCBwb3BwZXIsIG9wdGlvbnMsIG1vZGlmaWVyT3B0aW9ucywgc3RhdGUpIHtcbiAgLy8gY29tcHV0ZSByZWZlcmVuY2UgZWxlbWVudCBvZmZzZXRzXG4gIHZhciByZWZlcmVuY2VPZmZzZXRzID0gZ2V0UmVmZXJlbmNlT2Zmc2V0cyhzdGF0ZSwgcG9wcGVyLCByZWZlcmVuY2UpO1xuXG4gIC8vIGNvbXB1dGUgYXV0byBwbGFjZW1lbnQsIHN0b3JlIHBsYWNlbWVudCBpbnNpZGUgdGhlIGRhdGEgb2JqZWN0LFxuICAvLyBtb2RpZmllcnMgd2lsbCBiZSBhYmxlIHRvIGVkaXQgYHBsYWNlbWVudGAgaWYgbmVlZGVkXG4gIC8vIGFuZCByZWZlciB0byBvcmlnaW5hbFBsYWNlbWVudCB0byBrbm93IHRoZSBvcmlnaW5hbCB2YWx1ZVxuICB2YXIgcGxhY2VtZW50ID0gY29tcHV0ZUF1dG9QbGFjZW1lbnQob3B0aW9ucy5wbGFjZW1lbnQsIHJlZmVyZW5jZU9mZnNldHMsIHBvcHBlciwgcmVmZXJlbmNlLCBvcHRpb25zLm1vZGlmaWVycy5mbGlwLmJvdW5kYXJpZXNFbGVtZW50LCBvcHRpb25zLm1vZGlmaWVycy5mbGlwLnBhZGRpbmcpO1xuXG4gIHBvcHBlci5zZXRBdHRyaWJ1dGUoJ3gtcGxhY2VtZW50JywgcGxhY2VtZW50KTtcblxuICAvLyBBcHBseSBgcG9zaXRpb25gIHRvIHBvcHBlciBiZWZvcmUgYW55dGhpbmcgZWxzZSBiZWNhdXNlXG4gIC8vIHdpdGhvdXQgdGhlIHBvc2l0aW9uIGFwcGxpZWQgd2UgY2FuJ3QgZ3VhcmFudGVlIGNvcnJlY3QgY29tcHV0YXRpb25zXG4gIHNldFN0eWxlcyhwb3BwZXIsIHsgcG9zaXRpb246ICdhYnNvbHV0ZScgfSk7XG5cbiAgcmV0dXJuIG9wdGlvbnM7XG59XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgTW9kaWZpZXJzXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgYHVwZGF0ZWAgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkXG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVTdHlsZShkYXRhLCBvcHRpb25zKSB7XG4gIHZhciB4ID0gb3B0aW9ucy54LFxuICAgICAgeSA9IG9wdGlvbnMueTtcbiAgdmFyIHBvcHBlciA9IGRhdGEub2Zmc2V0cy5wb3BwZXI7XG5cbiAgLy8gUmVtb3ZlIHRoaXMgbGVnYWN5IHN1cHBvcnQgaW4gUG9wcGVyLmpzIHYyXG5cbiAgdmFyIGxlZ2FjeUdwdUFjY2VsZXJhdGlvbk9wdGlvbiA9IGZpbmQkMShkYXRhLmluc3RhbmNlLm1vZGlmaWVycywgZnVuY3Rpb24gKG1vZGlmaWVyKSB7XG4gICAgcmV0dXJuIG1vZGlmaWVyLm5hbWUgPT09ICdhcHBseVN0eWxlJztcbiAgfSkuZ3B1QWNjZWxlcmF0aW9uO1xuICBpZiAobGVnYWN5R3B1QWNjZWxlcmF0aW9uT3B0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb25zb2xlLndhcm4oJ1dBUk5JTkc6IGBncHVBY2NlbGVyYXRpb25gIG9wdGlvbiBtb3ZlZCB0byBgY29tcHV0ZVN0eWxlYCBtb2RpZmllciBhbmQgd2lsbCBub3QgYmUgc3VwcG9ydGVkIGluIGZ1dHVyZSB2ZXJzaW9ucyBvZiBQb3BwZXIuanMhJyk7XG4gIH1cbiAgdmFyIGdwdUFjY2VsZXJhdGlvbiA9IGxlZ2FjeUdwdUFjY2VsZXJhdGlvbk9wdGlvbiAhPT0gdW5kZWZpbmVkID8gbGVnYWN5R3B1QWNjZWxlcmF0aW9uT3B0aW9uIDogb3B0aW9ucy5ncHVBY2NlbGVyYXRpb247XG5cbiAgdmFyIG9mZnNldFBhcmVudCA9IGdldE9mZnNldFBhcmVudChkYXRhLmluc3RhbmNlLnBvcHBlcik7XG4gIHZhciBvZmZzZXRQYXJlbnRSZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KG9mZnNldFBhcmVudCk7XG5cbiAgLy8gU3R5bGVzXG4gIHZhciBzdHlsZXMgPSB7XG4gICAgcG9zaXRpb246IHBvcHBlci5wb3NpdGlvblxuICB9O1xuXG4gIC8vIGZsb29yIHNpZGVzIHRvIGF2b2lkIGJsdXJyeSB0ZXh0XG4gIHZhciBvZmZzZXRzID0ge1xuICAgIGxlZnQ6IE1hdGguZmxvb3IocG9wcGVyLmxlZnQpLFxuICAgIHRvcDogTWF0aC5mbG9vcihwb3BwZXIudG9wKSxcbiAgICBib3R0b206IE1hdGguZmxvb3IocG9wcGVyLmJvdHRvbSksXG4gICAgcmlnaHQ6IE1hdGguZmxvb3IocG9wcGVyLnJpZ2h0KVxuICB9O1xuXG4gIHZhciBzaWRlQSA9IHggPT09ICdib3R0b20nID8gJ3RvcCcgOiAnYm90dG9tJztcbiAgdmFyIHNpZGVCID0geSA9PT0gJ3JpZ2h0JyA/ICdsZWZ0JyA6ICdyaWdodCc7XG5cbiAgLy8gaWYgZ3B1QWNjZWxlcmF0aW9uIGlzIHNldCB0byBgdHJ1ZWAgYW5kIHRyYW5zZm9ybSBpcyBzdXBwb3J0ZWQsXG4gIC8vICB3ZSB1c2UgYHRyYW5zbGF0ZTNkYCB0byBhcHBseSB0aGUgcG9zaXRpb24gdG8gdGhlIHBvcHBlciB3ZVxuICAvLyBhdXRvbWF0aWNhbGx5IHVzZSB0aGUgc3VwcG9ydGVkIHByZWZpeGVkIHZlcnNpb24gaWYgbmVlZGVkXG4gIHZhciBwcmVmaXhlZFByb3BlcnR5ID0gZ2V0U3VwcG9ydGVkUHJvcGVydHlOYW1lKCd0cmFuc2Zvcm0nKTtcblxuICAvLyBub3csIGxldCdzIG1ha2UgYSBzdGVwIGJhY2sgYW5kIGxvb2sgYXQgdGhpcyBjb2RlIGNsb3NlbHkgKHd0Zj8pXG4gIC8vIElmIHRoZSBjb250ZW50IG9mIHRoZSBwb3BwZXIgZ3Jvd3Mgb25jZSBpdCdzIGJlZW4gcG9zaXRpb25lZCwgaXRcbiAgLy8gbWF5IGhhcHBlbiB0aGF0IHRoZSBwb3BwZXIgZ2V0cyBtaXNwbGFjZWQgYmVjYXVzZSBvZiB0aGUgbmV3IGNvbnRlbnRcbiAgLy8gb3ZlcmZsb3dpbmcgaXRzIHJlZmVyZW5jZSBlbGVtZW50XG4gIC8vIFRvIGF2b2lkIHRoaXMgcHJvYmxlbSwgd2UgcHJvdmlkZSB0d28gb3B0aW9ucyAoeCBhbmQgeSksIHdoaWNoIGFsbG93XG4gIC8vIHRoZSBjb25zdW1lciB0byBkZWZpbmUgdGhlIG9mZnNldCBvcmlnaW4uXG4gIC8vIElmIHdlIHBvc2l0aW9uIGEgcG9wcGVyIG9uIHRvcCBvZiBhIHJlZmVyZW5jZSBlbGVtZW50LCB3ZSBjYW4gc2V0XG4gIC8vIGB4YCB0byBgdG9wYCB0byBtYWtlIHRoZSBwb3BwZXIgZ3JvdyB0b3dhcmRzIGl0cyB0b3AgaW5zdGVhZCBvZlxuICAvLyBpdHMgYm90dG9tLlxuICB2YXIgbGVmdCA9IHZvaWQgMCxcbiAgICAgIHRvcCA9IHZvaWQgMDtcbiAgaWYgKHNpZGVBID09PSAnYm90dG9tJykge1xuICAgIHRvcCA9IC1vZmZzZXRQYXJlbnRSZWN0LmhlaWdodCArIG9mZnNldHMuYm90dG9tO1xuICB9IGVsc2Uge1xuICAgIHRvcCA9IG9mZnNldHMudG9wO1xuICB9XG4gIGlmIChzaWRlQiA9PT0gJ3JpZ2h0Jykge1xuICAgIGxlZnQgPSAtb2Zmc2V0UGFyZW50UmVjdC53aWR0aCArIG9mZnNldHMucmlnaHQ7XG4gIH0gZWxzZSB7XG4gICAgbGVmdCA9IG9mZnNldHMubGVmdDtcbiAgfVxuICBpZiAoZ3B1QWNjZWxlcmF0aW9uICYmIHByZWZpeGVkUHJvcGVydHkpIHtcbiAgICBzdHlsZXNbcHJlZml4ZWRQcm9wZXJ0eV0gPSAndHJhbnNsYXRlM2QoJyArIGxlZnQgKyAncHgsICcgKyB0b3AgKyAncHgsIDApJztcbiAgICBzdHlsZXNbc2lkZUFdID0gMDtcbiAgICBzdHlsZXNbc2lkZUJdID0gMDtcbiAgICBzdHlsZXMud2lsbENoYW5nZSA9ICd0cmFuc2Zvcm0nO1xuICB9IGVsc2Uge1xuICAgIC8vIG90aHdlcmlzZSwgd2UgdXNlIHRoZSBzdGFuZGFyZCBgdG9wYCwgYGxlZnRgLCBgYm90dG9tYCBhbmQgYHJpZ2h0YCBwcm9wZXJ0aWVzXG4gICAgdmFyIGludmVydFRvcCA9IHNpZGVBID09PSAnYm90dG9tJyA/IC0xIDogMTtcbiAgICB2YXIgaW52ZXJ0TGVmdCA9IHNpZGVCID09PSAncmlnaHQnID8gLTEgOiAxO1xuICAgIHN0eWxlc1tzaWRlQV0gPSB0b3AgKiBpbnZlcnRUb3A7XG4gICAgc3R5bGVzW3NpZGVCXSA9IGxlZnQgKiBpbnZlcnRMZWZ0O1xuICAgIHN0eWxlcy53aWxsQ2hhbmdlID0gc2lkZUEgKyAnLCAnICsgc2lkZUI7XG4gIH1cblxuICAvLyBBdHRyaWJ1dGVzXG4gIHZhciBhdHRyaWJ1dGVzID0ge1xuICAgICd4LXBsYWNlbWVudCc6IGRhdGEucGxhY2VtZW50XG4gIH07XG5cbiAgLy8gVXBkYXRlIGBkYXRhYCBhdHRyaWJ1dGVzLCBzdHlsZXMgYW5kIGFycm93U3R5bGVzXG4gIGRhdGEuYXR0cmlidXRlcyA9IF9leHRlbmRzKHt9LCBhdHRyaWJ1dGVzLCBkYXRhLmF0dHJpYnV0ZXMpO1xuICBkYXRhLnN0eWxlcyA9IF9leHRlbmRzKHt9LCBzdHlsZXMsIGRhdGEuc3R5bGVzKTtcbiAgZGF0YS5hcnJvd1N0eWxlcyA9IF9leHRlbmRzKHt9LCBkYXRhLm9mZnNldHMuYXJyb3csIGRhdGEuYXJyb3dTdHlsZXMpO1xuXG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIEhlbHBlciB1c2VkIHRvIGtub3cgaWYgdGhlIGdpdmVuIG1vZGlmaWVyIGRlcGVuZHMgZnJvbSBhbm90aGVyIG9uZS48YnIgLz5cbiAqIEl0IGNoZWNrcyBpZiB0aGUgbmVlZGVkIG1vZGlmaWVyIGlzIGxpc3RlZCBhbmQgZW5hYmxlZC5cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBwYXJhbSB7QXJyYXl9IG1vZGlmaWVycyAtIGxpc3Qgb2YgbW9kaWZpZXJzXG4gKiBAcGFyYW0ge1N0cmluZ30gcmVxdWVzdGluZ05hbWUgLSBuYW1lIG9mIHJlcXVlc3RpbmcgbW9kaWZpZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSByZXF1ZXN0ZWROYW1lIC0gbmFtZSBvZiByZXF1ZXN0ZWQgbW9kaWZpZXJcbiAqIEByZXR1cm5zIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBpc01vZGlmaWVyUmVxdWlyZWQobW9kaWZpZXJzLCByZXF1ZXN0aW5nTmFtZSwgcmVxdWVzdGVkTmFtZSkge1xuICB2YXIgcmVxdWVzdGluZyA9IGZpbmQkMShtb2RpZmllcnMsIGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgdmFyIG5hbWUgPSBfcmVmLm5hbWU7XG4gICAgcmV0dXJuIG5hbWUgPT09IHJlcXVlc3RpbmdOYW1lO1xuICB9KTtcblxuICB2YXIgaXNSZXF1aXJlZCA9ICEhcmVxdWVzdGluZyAmJiBtb2RpZmllcnMuc29tZShmdW5jdGlvbiAobW9kaWZpZXIpIHtcbiAgICByZXR1cm4gbW9kaWZpZXIubmFtZSA9PT0gcmVxdWVzdGVkTmFtZSAmJiBtb2RpZmllci5lbmFibGVkICYmIG1vZGlmaWVyLm9yZGVyIDwgcmVxdWVzdGluZy5vcmRlcjtcbiAgfSk7XG5cbiAgaWYgKCFpc1JlcXVpcmVkKSB7XG4gICAgdmFyIF9yZXF1ZXN0aW5nID0gJ2AnICsgcmVxdWVzdGluZ05hbWUgKyAnYCc7XG4gICAgdmFyIHJlcXVlc3RlZCA9ICdgJyArIHJlcXVlc3RlZE5hbWUgKyAnYCc7XG4gICAgY29uc29sZS53YXJuKHJlcXVlc3RlZCArICcgbW9kaWZpZXIgaXMgcmVxdWlyZWQgYnkgJyArIF9yZXF1ZXN0aW5nICsgJyBtb2RpZmllciBpbiBvcmRlciB0byB3b3JrLCBiZSBzdXJlIHRvIGluY2x1ZGUgaXQgYmVmb3JlICcgKyBfcmVxdWVzdGluZyArICchJyk7XG4gIH1cbiAgcmV0dXJuIGlzUmVxdWlyZWQ7XG59XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgTW9kaWZpZXJzXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgdXBkYXRlIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBhcnJvdyhkYXRhLCBvcHRpb25zKSB7XG4gIC8vIGFycm93IGRlcGVuZHMgb24ga2VlcFRvZ2V0aGVyIGluIG9yZGVyIHRvIHdvcmtcbiAgaWYgKCFpc01vZGlmaWVyUmVxdWlyZWQoZGF0YS5pbnN0YW5jZS5tb2RpZmllcnMsICdhcnJvdycsICdrZWVwVG9nZXRoZXInKSkge1xuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgdmFyIGFycm93RWxlbWVudCA9IG9wdGlvbnMuZWxlbWVudDtcblxuICAvLyBpZiBhcnJvd0VsZW1lbnQgaXMgYSBzdHJpbmcsIHN1cHBvc2UgaXQncyBhIENTUyBzZWxlY3RvclxuICBpZiAodHlwZW9mIGFycm93RWxlbWVudCA9PT0gJ3N0cmluZycpIHtcbiAgICBhcnJvd0VsZW1lbnQgPSBkYXRhLmluc3RhbmNlLnBvcHBlci5xdWVyeVNlbGVjdG9yKGFycm93RWxlbWVudCk7XG5cbiAgICAvLyBpZiBhcnJvd0VsZW1lbnQgaXMgbm90IGZvdW5kLCBkb24ndCBydW4gdGhlIG1vZGlmaWVyXG4gICAgaWYgKCFhcnJvd0VsZW1lbnQpIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBpZiB0aGUgYXJyb3dFbGVtZW50IGlzbid0IGEgcXVlcnkgc2VsZWN0b3Igd2UgbXVzdCBjaGVjayB0aGF0IHRoZVxuICAgIC8vIHByb3ZpZGVkIERPTSBub2RlIGlzIGNoaWxkIG9mIGl0cyBwb3BwZXIgbm9kZVxuICAgIGlmICghZGF0YS5pbnN0YW5jZS5wb3BwZXIuY29udGFpbnMoYXJyb3dFbGVtZW50KSkge1xuICAgICAgY29uc29sZS53YXJuKCdXQVJOSU5HOiBgYXJyb3cuZWxlbWVudGAgbXVzdCBiZSBjaGlsZCBvZiBpdHMgcG9wcGVyIGVsZW1lbnQhJyk7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gIH1cblxuICB2YXIgcGxhY2VtZW50ID0gZGF0YS5wbGFjZW1lbnQuc3BsaXQoJy0nKVswXTtcbiAgdmFyIF9kYXRhJG9mZnNldHMgPSBkYXRhLm9mZnNldHMsXG4gICAgICBwb3BwZXIgPSBfZGF0YSRvZmZzZXRzLnBvcHBlcixcbiAgICAgIHJlZmVyZW5jZSA9IF9kYXRhJG9mZnNldHMucmVmZXJlbmNlO1xuXG4gIHZhciBpc1ZlcnRpY2FsID0gWydsZWZ0JywgJ3JpZ2h0J10uaW5kZXhPZihwbGFjZW1lbnQpICE9PSAtMTtcblxuICB2YXIgbGVuID0gaXNWZXJ0aWNhbCA/ICdoZWlnaHQnIDogJ3dpZHRoJztcbiAgdmFyIHNpZGVDYXBpdGFsaXplZCA9IGlzVmVydGljYWwgPyAnVG9wJyA6ICdMZWZ0JztcbiAgdmFyIHNpZGUgPSBzaWRlQ2FwaXRhbGl6ZWQudG9Mb3dlckNhc2UoKTtcbiAgdmFyIGFsdFNpZGUgPSBpc1ZlcnRpY2FsID8gJ2xlZnQnIDogJ3RvcCc7XG4gIHZhciBvcFNpZGUgPSBpc1ZlcnRpY2FsID8gJ2JvdHRvbScgOiAncmlnaHQnO1xuICB2YXIgYXJyb3dFbGVtZW50U2l6ZSA9IGdldE91dGVyU2l6ZXMoYXJyb3dFbGVtZW50KVtsZW5dO1xuXG4gIC8vXG4gIC8vIGV4dGVuZHMga2VlcFRvZ2V0aGVyIGJlaGF2aW9yIG1ha2luZyBzdXJlIHRoZSBwb3BwZXIgYW5kIGl0c1xuICAvLyByZWZlcmVuY2UgaGF2ZSBlbm91Z2ggcGl4ZWxzIGluIGNvbmp1Y3Rpb25cbiAgLy9cblxuICAvLyB0b3AvbGVmdCBzaWRlXG4gIGlmIChyZWZlcmVuY2Vbb3BTaWRlXSAtIGFycm93RWxlbWVudFNpemUgPCBwb3BwZXJbc2lkZV0pIHtcbiAgICBkYXRhLm9mZnNldHMucG9wcGVyW3NpZGVdIC09IHBvcHBlcltzaWRlXSAtIChyZWZlcmVuY2Vbb3BTaWRlXSAtIGFycm93RWxlbWVudFNpemUpO1xuICB9XG4gIC8vIGJvdHRvbS9yaWdodCBzaWRlXG4gIGlmIChyZWZlcmVuY2Vbc2lkZV0gKyBhcnJvd0VsZW1lbnRTaXplID4gcG9wcGVyW29wU2lkZV0pIHtcbiAgICBkYXRhLm9mZnNldHMucG9wcGVyW3NpZGVdICs9IHJlZmVyZW5jZVtzaWRlXSArIGFycm93RWxlbWVudFNpemUgLSBwb3BwZXJbb3BTaWRlXTtcbiAgfVxuXG4gIC8vIGNvbXB1dGUgY2VudGVyIG9mIHRoZSBwb3BwZXJcbiAgdmFyIGNlbnRlciA9IHJlZmVyZW5jZVtzaWRlXSArIHJlZmVyZW5jZVtsZW5dIC8gMiAtIGFycm93RWxlbWVudFNpemUgLyAyO1xuXG4gIC8vIENvbXB1dGUgdGhlIHNpZGVWYWx1ZSB1c2luZyB0aGUgdXBkYXRlZCBwb3BwZXIgb2Zmc2V0c1xuICAvLyB0YWtlIHBvcHBlciBtYXJnaW4gaW4gYWNjb3VudCBiZWNhdXNlIHdlIGRvbid0IGhhdmUgdGhpcyBpbmZvIGF2YWlsYWJsZVxuICB2YXIgcG9wcGVyTWFyZ2luU2lkZSA9IGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eShkYXRhLmluc3RhbmNlLnBvcHBlciwgJ21hcmdpbicgKyBzaWRlQ2FwaXRhbGl6ZWQpLnJlcGxhY2UoJ3B4JywgJycpO1xuICB2YXIgc2lkZVZhbHVlID0gY2VudGVyIC0gZ2V0Q2xpZW50UmVjdChkYXRhLm9mZnNldHMucG9wcGVyKVtzaWRlXSAtIHBvcHBlck1hcmdpblNpZGU7XG5cbiAgLy8gcHJldmVudCBhcnJvd0VsZW1lbnQgZnJvbSBiZWluZyBwbGFjZWQgbm90IGNvbnRpZ3VvdXNseSB0byBpdHMgcG9wcGVyXG4gIHNpZGVWYWx1ZSA9IE1hdGgubWF4KE1hdGgubWluKHBvcHBlcltsZW5dIC0gYXJyb3dFbGVtZW50U2l6ZSwgc2lkZVZhbHVlKSwgMCk7XG5cbiAgZGF0YS5hcnJvd0VsZW1lbnQgPSBhcnJvd0VsZW1lbnQ7XG4gIGRhdGEub2Zmc2V0cy5hcnJvdyA9IHt9O1xuICBkYXRhLm9mZnNldHMuYXJyb3dbc2lkZV0gPSBNYXRoLnJvdW5kKHNpZGVWYWx1ZSk7XG4gIGRhdGEub2Zmc2V0cy5hcnJvd1thbHRTaWRlXSA9ICcnOyAvLyBtYWtlIHN1cmUgdG8gdW5zZXQgYW55IGV2ZW50dWFsIGFsdFNpZGUgdmFsdWUgZnJvbSB0aGUgRE9NIG5vZGVcblxuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIG9wcG9zaXRlIHBsYWNlbWVudCB2YXJpYXRpb24gb2YgdGhlIGdpdmVuIG9uZVxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtTdHJpbmd9IHBsYWNlbWVudCB2YXJpYXRpb25cbiAqIEByZXR1cm5zIHtTdHJpbmd9IGZsaXBwZWQgcGxhY2VtZW50IHZhcmlhdGlvblxuICovXG5mdW5jdGlvbiBnZXRPcHBvc2l0ZVZhcmlhdGlvbih2YXJpYXRpb24pIHtcbiAgaWYgKHZhcmlhdGlvbiA9PT0gJ2VuZCcpIHtcbiAgICByZXR1cm4gJ3N0YXJ0JztcbiAgfSBlbHNlIGlmICh2YXJpYXRpb24gPT09ICdzdGFydCcpIHtcbiAgICByZXR1cm4gJ2VuZCc7XG4gIH1cbiAgcmV0dXJuIHZhcmlhdGlvbjtcbn1cblxuLyoqXG4gKiBMaXN0IG9mIGFjY2VwdGVkIHBsYWNlbWVudHMgdG8gdXNlIGFzIHZhbHVlcyBvZiB0aGUgYHBsYWNlbWVudGAgb3B0aW9uLjxiciAvPlxuICogVmFsaWQgcGxhY2VtZW50cyBhcmU6XG4gKiAtIGBhdXRvYFxuICogLSBgdG9wYFxuICogLSBgcmlnaHRgXG4gKiAtIGBib3R0b21gXG4gKiAtIGBsZWZ0YFxuICpcbiAqIEVhY2ggcGxhY2VtZW50IGNhbiBoYXZlIGEgdmFyaWF0aW9uIGZyb20gdGhpcyBsaXN0OlxuICogLSBgLXN0YXJ0YFxuICogLSBgLWVuZGBcbiAqXG4gKiBWYXJpYXRpb25zIGFyZSBpbnRlcnByZXRlZCBlYXNpbHkgaWYgeW91IHRoaW5rIG9mIHRoZW0gYXMgdGhlIGxlZnQgdG8gcmlnaHRcbiAqIHdyaXR0ZW4gbGFuZ3VhZ2VzLiBIb3Jpem9udGFsbHkgKGB0b3BgIGFuZCBgYm90dG9tYCksIGBzdGFydGAgaXMgbGVmdCBhbmQgYGVuZGBcbiAqIGlzIHJpZ2h0LjxiciAvPlxuICogVmVydGljYWxseSAoYGxlZnRgIGFuZCBgcmlnaHRgKSwgYHN0YXJ0YCBpcyB0b3AgYW5kIGBlbmRgIGlzIGJvdHRvbS5cbiAqXG4gKiBTb21lIHZhbGlkIGV4YW1wbGVzIGFyZTpcbiAqIC0gYHRvcC1lbmRgIChvbiB0b3Agb2YgcmVmZXJlbmNlLCByaWdodCBhbGlnbmVkKVxuICogLSBgcmlnaHQtc3RhcnRgIChvbiByaWdodCBvZiByZWZlcmVuY2UsIHRvcCBhbGlnbmVkKVxuICogLSBgYm90dG9tYCAob24gYm90dG9tLCBjZW50ZXJlZClcbiAqIC0gYGF1dG8tcmlnaHRgIChvbiB0aGUgc2lkZSB3aXRoIG1vcmUgc3BhY2UgYXZhaWxhYmxlLCBhbGlnbm1lbnQgZGVwZW5kcyBieSBwbGFjZW1lbnQpXG4gKlxuICogQHN0YXRpY1xuICogQHR5cGUge0FycmF5fVxuICogQGVudW0ge1N0cmluZ31cbiAqIEByZWFkb25seVxuICogQG1ldGhvZCBwbGFjZW1lbnRzXG4gKiBAbWVtYmVyb2YgUG9wcGVyXG4gKi9cbnZhciBwbGFjZW1lbnRzID0gWydhdXRvLXN0YXJ0JywgJ2F1dG8nLCAnYXV0by1lbmQnLCAndG9wLXN0YXJ0JywgJ3RvcCcsICd0b3AtZW5kJywgJ3JpZ2h0LXN0YXJ0JywgJ3JpZ2h0JywgJ3JpZ2h0LWVuZCcsICdib3R0b20tZW5kJywgJ2JvdHRvbScsICdib3R0b20tc3RhcnQnLCAnbGVmdC1lbmQnLCAnbGVmdCcsICdsZWZ0LXN0YXJ0J107XG5cbi8vIEdldCByaWQgb2YgYGF1dG9gIGBhdXRvLXN0YXJ0YCBhbmQgYGF1dG8tZW5kYFxudmFyIHZhbGlkUGxhY2VtZW50cyA9IHBsYWNlbWVudHMuc2xpY2UoMyk7XG5cbi8qKlxuICogR2l2ZW4gYW4gaW5pdGlhbCBwbGFjZW1lbnQsIHJldHVybnMgYWxsIHRoZSBzdWJzZXF1ZW50IHBsYWNlbWVudHNcbiAqIGNsb2Nrd2lzZSAob3IgY291bnRlci1jbG9ja3dpc2UpLlxuICpcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7U3RyaW5nfSBwbGFjZW1lbnQgLSBBIHZhbGlkIHBsYWNlbWVudCAoaXQgYWNjZXB0cyB2YXJpYXRpb25zKVxuICogQGFyZ3VtZW50IHtCb29sZWFufSBjb3VudGVyIC0gU2V0IHRvIHRydWUgdG8gd2FsayB0aGUgcGxhY2VtZW50cyBjb3VudGVyY2xvY2t3aXNlXG4gKiBAcmV0dXJucyB7QXJyYXl9IHBsYWNlbWVudHMgaW5jbHVkaW5nIHRoZWlyIHZhcmlhdGlvbnNcbiAqL1xuZnVuY3Rpb24gY2xvY2t3aXNlKHBsYWNlbWVudCkge1xuICB2YXIgY291bnRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG5cbiAgdmFyIGluZGV4ID0gdmFsaWRQbGFjZW1lbnRzLmluZGV4T2YocGxhY2VtZW50KTtcbiAgdmFyIGFyciA9IHZhbGlkUGxhY2VtZW50cy5zbGljZShpbmRleCArIDEpLmNvbmNhdCh2YWxpZFBsYWNlbWVudHMuc2xpY2UoMCwgaW5kZXgpKTtcbiAgcmV0dXJuIGNvdW50ZXIgPyBhcnIucmV2ZXJzZSgpIDogYXJyO1xufVxuXG52YXIgQkVIQVZJT1JTID0ge1xuICBGTElQOiAnZmxpcCcsXG4gIENMT0NLV0lTRTogJ2Nsb2Nrd2lzZScsXG4gIENPVU5URVJDTE9DS1dJU0U6ICdjb3VudGVyY2xvY2t3aXNlJ1xufTtcblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBNb2RpZmllcnNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSB1cGRhdGUgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkXG4gKi9cbmZ1bmN0aW9uIGZsaXAoZGF0YSwgb3B0aW9ucykge1xuICAvLyBpZiBgaW5uZXJgIG1vZGlmaWVyIGlzIGVuYWJsZWQsIHdlIGNhbid0IHVzZSB0aGUgYGZsaXBgIG1vZGlmaWVyXG4gIGlmIChpc01vZGlmaWVyRW5hYmxlZChkYXRhLmluc3RhbmNlLm1vZGlmaWVycywgJ2lubmVyJykpIHtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIGlmIChkYXRhLmZsaXBwZWQgJiYgZGF0YS5wbGFjZW1lbnQgPT09IGRhdGEub3JpZ2luYWxQbGFjZW1lbnQpIHtcbiAgICAvLyBzZWVtcyBsaWtlIGZsaXAgaXMgdHJ5aW5nIHRvIGxvb3AsIHByb2JhYmx5IHRoZXJlJ3Mgbm90IGVub3VnaCBzcGFjZSBvbiBhbnkgb2YgdGhlIGZsaXBwYWJsZSBzaWRlc1xuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgdmFyIGJvdW5kYXJpZXMgPSBnZXRCb3VuZGFyaWVzKGRhdGEuaW5zdGFuY2UucG9wcGVyLCBkYXRhLmluc3RhbmNlLnJlZmVyZW5jZSwgb3B0aW9ucy5wYWRkaW5nLCBvcHRpb25zLmJvdW5kYXJpZXNFbGVtZW50KTtcblxuICB2YXIgcGxhY2VtZW50ID0gZGF0YS5wbGFjZW1lbnQuc3BsaXQoJy0nKVswXTtcbiAgdmFyIHBsYWNlbWVudE9wcG9zaXRlID0gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQocGxhY2VtZW50KTtcbiAgdmFyIHZhcmlhdGlvbiA9IGRhdGEucGxhY2VtZW50LnNwbGl0KCctJylbMV0gfHwgJyc7XG5cbiAgdmFyIGZsaXBPcmRlciA9IFtdO1xuXG4gIHN3aXRjaCAob3B0aW9ucy5iZWhhdmlvcikge1xuICAgIGNhc2UgQkVIQVZJT1JTLkZMSVA6XG4gICAgICBmbGlwT3JkZXIgPSBbcGxhY2VtZW50LCBwbGFjZW1lbnRPcHBvc2l0ZV07XG4gICAgICBicmVhaztcbiAgICBjYXNlIEJFSEFWSU9SUy5DTE9DS1dJU0U6XG4gICAgICBmbGlwT3JkZXIgPSBjbG9ja3dpc2UocGxhY2VtZW50KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQkVIQVZJT1JTLkNPVU5URVJDTE9DS1dJU0U6XG4gICAgICBmbGlwT3JkZXIgPSBjbG9ja3dpc2UocGxhY2VtZW50LCB0cnVlKTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBmbGlwT3JkZXIgPSBvcHRpb25zLmJlaGF2aW9yO1xuICB9XG5cbiAgZmxpcE9yZGVyLmZvckVhY2goZnVuY3Rpb24gKHN0ZXAsIGluZGV4KSB7XG4gICAgaWYgKHBsYWNlbWVudCAhPT0gc3RlcCB8fCBmbGlwT3JkZXIubGVuZ3RoID09PSBpbmRleCArIDEpIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIHBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50LnNwbGl0KCctJylbMF07XG4gICAgcGxhY2VtZW50T3Bwb3NpdGUgPSBnZXRPcHBvc2l0ZVBsYWNlbWVudChwbGFjZW1lbnQpO1xuXG4gICAgdmFyIHBvcHBlck9mZnNldHMgPSBkYXRhLm9mZnNldHMucG9wcGVyO1xuICAgIHZhciByZWZPZmZzZXRzID0gZGF0YS5vZmZzZXRzLnJlZmVyZW5jZTtcblxuICAgIC8vIHVzaW5nIGZsb29yIGJlY2F1c2UgdGhlIHJlZmVyZW5jZSBvZmZzZXRzIG1heSBjb250YWluIGRlY2ltYWxzIHdlIGFyZSBub3QgZ29pbmcgdG8gY29uc2lkZXIgaGVyZVxuICAgIHZhciBmbG9vciA9IE1hdGguZmxvb3I7XG4gICAgdmFyIG92ZXJsYXBzUmVmID0gcGxhY2VtZW50ID09PSAnbGVmdCcgJiYgZmxvb3IocG9wcGVyT2Zmc2V0cy5yaWdodCkgPiBmbG9vcihyZWZPZmZzZXRzLmxlZnQpIHx8IHBsYWNlbWVudCA9PT0gJ3JpZ2h0JyAmJiBmbG9vcihwb3BwZXJPZmZzZXRzLmxlZnQpIDwgZmxvb3IocmVmT2Zmc2V0cy5yaWdodCkgfHwgcGxhY2VtZW50ID09PSAndG9wJyAmJiBmbG9vcihwb3BwZXJPZmZzZXRzLmJvdHRvbSkgPiBmbG9vcihyZWZPZmZzZXRzLnRvcCkgfHwgcGxhY2VtZW50ID09PSAnYm90dG9tJyAmJiBmbG9vcihwb3BwZXJPZmZzZXRzLnRvcCkgPCBmbG9vcihyZWZPZmZzZXRzLmJvdHRvbSk7XG5cbiAgICB2YXIgb3ZlcmZsb3dzTGVmdCA9IGZsb29yKHBvcHBlck9mZnNldHMubGVmdCkgPCBmbG9vcihib3VuZGFyaWVzLmxlZnQpO1xuICAgIHZhciBvdmVyZmxvd3NSaWdodCA9IGZsb29yKHBvcHBlck9mZnNldHMucmlnaHQpID4gZmxvb3IoYm91bmRhcmllcy5yaWdodCk7XG4gICAgdmFyIG92ZXJmbG93c1RvcCA9IGZsb29yKHBvcHBlck9mZnNldHMudG9wKSA8IGZsb29yKGJvdW5kYXJpZXMudG9wKTtcbiAgICB2YXIgb3ZlcmZsb3dzQm90dG9tID0gZmxvb3IocG9wcGVyT2Zmc2V0cy5ib3R0b20pID4gZmxvb3IoYm91bmRhcmllcy5ib3R0b20pO1xuXG4gICAgdmFyIG92ZXJmbG93c0JvdW5kYXJpZXMgPSBwbGFjZW1lbnQgPT09ICdsZWZ0JyAmJiBvdmVyZmxvd3NMZWZ0IHx8IHBsYWNlbWVudCA9PT0gJ3JpZ2h0JyAmJiBvdmVyZmxvd3NSaWdodCB8fCBwbGFjZW1lbnQgPT09ICd0b3AnICYmIG92ZXJmbG93c1RvcCB8fCBwbGFjZW1lbnQgPT09ICdib3R0b20nICYmIG92ZXJmbG93c0JvdHRvbTtcblxuICAgIC8vIGZsaXAgdGhlIHZhcmlhdGlvbiBpZiByZXF1aXJlZFxuICAgIHZhciBpc1ZlcnRpY2FsID0gWyd0b3AnLCAnYm90dG9tJ10uaW5kZXhPZihwbGFjZW1lbnQpICE9PSAtMTtcbiAgICB2YXIgZmxpcHBlZFZhcmlhdGlvbiA9ICEhb3B0aW9ucy5mbGlwVmFyaWF0aW9ucyAmJiAoaXNWZXJ0aWNhbCAmJiB2YXJpYXRpb24gPT09ICdzdGFydCcgJiYgb3ZlcmZsb3dzTGVmdCB8fCBpc1ZlcnRpY2FsICYmIHZhcmlhdGlvbiA9PT0gJ2VuZCcgJiYgb3ZlcmZsb3dzUmlnaHQgfHwgIWlzVmVydGljYWwgJiYgdmFyaWF0aW9uID09PSAnc3RhcnQnICYmIG92ZXJmbG93c1RvcCB8fCAhaXNWZXJ0aWNhbCAmJiB2YXJpYXRpb24gPT09ICdlbmQnICYmIG92ZXJmbG93c0JvdHRvbSk7XG5cbiAgICBpZiAob3ZlcmxhcHNSZWYgfHwgb3ZlcmZsb3dzQm91bmRhcmllcyB8fCBmbGlwcGVkVmFyaWF0aW9uKSB7XG4gICAgICAvLyB0aGlzIGJvb2xlYW4gdG8gZGV0ZWN0IGFueSBmbGlwIGxvb3BcbiAgICAgIGRhdGEuZmxpcHBlZCA9IHRydWU7XG5cbiAgICAgIGlmIChvdmVybGFwc1JlZiB8fCBvdmVyZmxvd3NCb3VuZGFyaWVzKSB7XG4gICAgICAgIHBsYWNlbWVudCA9IGZsaXBPcmRlcltpbmRleCArIDFdO1xuICAgICAgfVxuXG4gICAgICBpZiAoZmxpcHBlZFZhcmlhdGlvbikge1xuICAgICAgICB2YXJpYXRpb24gPSBnZXRPcHBvc2l0ZVZhcmlhdGlvbih2YXJpYXRpb24pO1xuICAgICAgfVxuXG4gICAgICBkYXRhLnBsYWNlbWVudCA9IHBsYWNlbWVudCArICh2YXJpYXRpb24gPyAnLScgKyB2YXJpYXRpb24gOiAnJyk7XG5cbiAgICAgIC8vIHRoaXMgb2JqZWN0IGNvbnRhaW5zIGBwb3NpdGlvbmAsIHdlIHdhbnQgdG8gcHJlc2VydmUgaXQgYWxvbmcgd2l0aFxuICAgICAgLy8gYW55IGFkZGl0aW9uYWwgcHJvcGVydHkgd2UgbWF5IGFkZCBpbiB0aGUgZnV0dXJlXG4gICAgICBkYXRhLm9mZnNldHMucG9wcGVyID0gX2V4dGVuZHMoe30sIGRhdGEub2Zmc2V0cy5wb3BwZXIsIGdldFBvcHBlck9mZnNldHMoZGF0YS5pbnN0YW5jZS5wb3BwZXIsIGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UsIGRhdGEucGxhY2VtZW50KSk7XG5cbiAgICAgIGRhdGEgPSBydW5Nb2RpZmllcnMoZGF0YS5pbnN0YW5jZS5tb2RpZmllcnMsIGRhdGEsICdmbGlwJyk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgTW9kaWZpZXJzXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgdXBkYXRlIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBrZWVwVG9nZXRoZXIoZGF0YSkge1xuICB2YXIgX2RhdGEkb2Zmc2V0cyA9IGRhdGEub2Zmc2V0cyxcbiAgICAgIHBvcHBlciA9IF9kYXRhJG9mZnNldHMucG9wcGVyLFxuICAgICAgcmVmZXJlbmNlID0gX2RhdGEkb2Zmc2V0cy5yZWZlcmVuY2U7XG5cbiAgdmFyIHBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50LnNwbGl0KCctJylbMF07XG4gIHZhciBmbG9vciA9IE1hdGguZmxvb3I7XG4gIHZhciBpc1ZlcnRpY2FsID0gWyd0b3AnLCAnYm90dG9tJ10uaW5kZXhPZihwbGFjZW1lbnQpICE9PSAtMTtcbiAgdmFyIHNpZGUgPSBpc1ZlcnRpY2FsID8gJ3JpZ2h0JyA6ICdib3R0b20nO1xuICB2YXIgb3BTaWRlID0gaXNWZXJ0aWNhbCA/ICdsZWZ0JyA6ICd0b3AnO1xuICB2YXIgbWVhc3VyZW1lbnQgPSBpc1ZlcnRpY2FsID8gJ3dpZHRoJyA6ICdoZWlnaHQnO1xuXG4gIGlmIChwb3BwZXJbc2lkZV0gPCBmbG9vcihyZWZlcmVuY2Vbb3BTaWRlXSkpIHtcbiAgICBkYXRhLm9mZnNldHMucG9wcGVyW29wU2lkZV0gPSBmbG9vcihyZWZlcmVuY2Vbb3BTaWRlXSkgLSBwb3BwZXJbbWVhc3VyZW1lbnRdO1xuICB9XG4gIGlmIChwb3BwZXJbb3BTaWRlXSA+IGZsb29yKHJlZmVyZW5jZVtzaWRlXSkpIHtcbiAgICBkYXRhLm9mZnNldHMucG9wcGVyW29wU2lkZV0gPSBmbG9vcihyZWZlcmVuY2Vbc2lkZV0pO1xuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBzdHJpbmcgY29udGFpbmluZyB2YWx1ZSArIHVuaXQgaW50byBhIHB4IHZhbHVlIG51bWJlclxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2Yge21vZGlmaWVyc35vZmZzZXR9XG4gKiBAcHJpdmF0ZVxuICogQGFyZ3VtZW50IHtTdHJpbmd9IHN0ciAtIFZhbHVlICsgdW5pdCBzdHJpbmdcbiAqIEBhcmd1bWVudCB7U3RyaW5nfSBtZWFzdXJlbWVudCAtIGBoZWlnaHRgIG9yIGB3aWR0aGBcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBwb3BwZXJPZmZzZXRzXG4gKiBAYXJndW1lbnQge09iamVjdH0gcmVmZXJlbmNlT2Zmc2V0c1xuICogQHJldHVybnMge051bWJlcnxTdHJpbmd9XG4gKiBWYWx1ZSBpbiBwaXhlbHMsIG9yIG9yaWdpbmFsIHN0cmluZyBpZiBubyB2YWx1ZXMgd2VyZSBleHRyYWN0ZWRcbiAqL1xuZnVuY3Rpb24gdG9WYWx1ZShzdHIsIG1lYXN1cmVtZW50LCBwb3BwZXJPZmZzZXRzLCByZWZlcmVuY2VPZmZzZXRzKSB7XG4gIC8vIHNlcGFyYXRlIHZhbHVlIGZyb20gdW5pdFxuICB2YXIgc3BsaXQgPSBzdHIubWF0Y2goLygoPzpcXC18XFwrKT9cXGQqXFwuP1xcZCopKC4qKS8pO1xuICB2YXIgdmFsdWUgPSArc3BsaXRbMV07XG4gIHZhciB1bml0ID0gc3BsaXRbMl07XG5cbiAgLy8gSWYgaXQncyBub3QgYSBudW1iZXIgaXQncyBhbiBvcGVyYXRvciwgSSBndWVzc1xuICBpZiAoIXZhbHVlKSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuXG4gIGlmICh1bml0LmluZGV4T2YoJyUnKSA9PT0gMCkge1xuICAgIHZhciBlbGVtZW50ID0gdm9pZCAwO1xuICAgIHN3aXRjaCAodW5pdCkge1xuICAgICAgY2FzZSAnJXAnOlxuICAgICAgICBlbGVtZW50ID0gcG9wcGVyT2Zmc2V0cztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICclJzpcbiAgICAgIGNhc2UgJyVyJzpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGVsZW1lbnQgPSByZWZlcmVuY2VPZmZzZXRzO1xuICAgIH1cblxuICAgIHZhciByZWN0ID0gZ2V0Q2xpZW50UmVjdChlbGVtZW50KTtcbiAgICByZXR1cm4gcmVjdFttZWFzdXJlbWVudF0gLyAxMDAgKiB2YWx1ZTtcbiAgfSBlbHNlIGlmICh1bml0ID09PSAndmgnIHx8IHVuaXQgPT09ICd2dycpIHtcbiAgICAvLyBpZiBpcyBhIHZoIG9yIHZ3LCB3ZSBjYWxjdWxhdGUgdGhlIHNpemUgYmFzZWQgb24gdGhlIHZpZXdwb3J0XG4gICAgdmFyIHNpemUgPSB2b2lkIDA7XG4gICAgaWYgKHVuaXQgPT09ICd2aCcpIHtcbiAgICAgIHNpemUgPSBNYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LCB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNpemUgPSBNYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsIHdpbmRvdy5pbm5lcldpZHRoIHx8IDApO1xuICAgIH1cbiAgICByZXR1cm4gc2l6ZSAvIDEwMCAqIHZhbHVlO1xuICB9IGVsc2Uge1xuICAgIC8vIGlmIGlzIGFuIGV4cGxpY2l0IHBpeGVsIHVuaXQsIHdlIGdldCByaWQgb2YgdGhlIHVuaXQgYW5kIGtlZXAgdGhlIHZhbHVlXG4gICAgLy8gaWYgaXMgYW4gaW1wbGljaXQgdW5pdCwgaXQncyBweCwgYW5kIHdlIHJldHVybiBqdXN0IHRoZSB2YWx1ZVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufVxuXG4vKipcbiAqIFBhcnNlIGFuIGBvZmZzZXRgIHN0cmluZyB0byBleHRyYXBvbGF0ZSBgeGAgYW5kIGB5YCBudW1lcmljIG9mZnNldHMuXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiB7bW9kaWZpZXJzfm9mZnNldH1cbiAqIEBwcml2YXRlXG4gKiBAYXJndW1lbnQge1N0cmluZ30gb2Zmc2V0XG4gKiBAYXJndW1lbnQge09iamVjdH0gcG9wcGVyT2Zmc2V0c1xuICogQGFyZ3VtZW50IHtPYmplY3R9IHJlZmVyZW5jZU9mZnNldHNcbiAqIEBhcmd1bWVudCB7U3RyaW5nfSBiYXNlUGxhY2VtZW50XG4gKiBAcmV0dXJucyB7QXJyYXl9IGEgdHdvIGNlbGxzIGFycmF5IHdpdGggeCBhbmQgeSBvZmZzZXRzIGluIG51bWJlcnNcbiAqL1xuZnVuY3Rpb24gcGFyc2VPZmZzZXQob2Zmc2V0LCBwb3BwZXJPZmZzZXRzLCByZWZlcmVuY2VPZmZzZXRzLCBiYXNlUGxhY2VtZW50KSB7XG4gIHZhciBvZmZzZXRzID0gWzAsIDBdO1xuXG4gIC8vIFVzZSBoZWlnaHQgaWYgcGxhY2VtZW50IGlzIGxlZnQgb3IgcmlnaHQgYW5kIGluZGV4IGlzIDAgb3RoZXJ3aXNlIHVzZSB3aWR0aFxuICAvLyBpbiB0aGlzIHdheSB0aGUgZmlyc3Qgb2Zmc2V0IHdpbGwgdXNlIGFuIGF4aXMgYW5kIHRoZSBzZWNvbmQgb25lXG4gIC8vIHdpbGwgdXNlIHRoZSBvdGhlciBvbmVcbiAgdmFyIHVzZUhlaWdodCA9IFsncmlnaHQnLCAnbGVmdCddLmluZGV4T2YoYmFzZVBsYWNlbWVudCkgIT09IC0xO1xuXG4gIC8vIFNwbGl0IHRoZSBvZmZzZXQgc3RyaW5nIHRvIG9idGFpbiBhIGxpc3Qgb2YgdmFsdWVzIGFuZCBvcGVyYW5kc1xuICAvLyBUaGUgcmVnZXggYWRkcmVzc2VzIHZhbHVlcyB3aXRoIHRoZSBwbHVzIG9yIG1pbnVzIHNpZ24gaW4gZnJvbnQgKCsxMCwgLTIwLCBldGMpXG4gIHZhciBmcmFnbWVudHMgPSBvZmZzZXQuc3BsaXQoLyhcXCt8XFwtKS8pLm1hcChmdW5jdGlvbiAoZnJhZykge1xuICAgIHJldHVybiBmcmFnLnRyaW0oKTtcbiAgfSk7XG5cbiAgLy8gRGV0ZWN0IGlmIHRoZSBvZmZzZXQgc3RyaW5nIGNvbnRhaW5zIGEgcGFpciBvZiB2YWx1ZXMgb3IgYSBzaW5nbGUgb25lXG4gIC8vIHRoZXkgY291bGQgYmUgc2VwYXJhdGVkIGJ5IGNvbW1hIG9yIHNwYWNlXG4gIHZhciBkaXZpZGVyID0gZnJhZ21lbnRzLmluZGV4T2YoZmluZCQxKGZyYWdtZW50cywgZnVuY3Rpb24gKGZyYWcpIHtcbiAgICByZXR1cm4gZnJhZy5zZWFyY2goLyx8XFxzLykgIT09IC0xO1xuICB9KSk7XG5cbiAgaWYgKGZyYWdtZW50c1tkaXZpZGVyXSAmJiBmcmFnbWVudHNbZGl2aWRlcl0uaW5kZXhPZignLCcpID09PSAtMSkge1xuICAgIGNvbnNvbGUud2FybignT2Zmc2V0cyBzZXBhcmF0ZWQgYnkgd2hpdGUgc3BhY2UocykgYXJlIGRlcHJlY2F0ZWQsIHVzZSBhIGNvbW1hICgsKSBpbnN0ZWFkLicpO1xuICB9XG5cbiAgLy8gSWYgZGl2aWRlciBpcyBmb3VuZCwgd2UgZGl2aWRlIHRoZSBsaXN0IG9mIHZhbHVlcyBhbmQgb3BlcmFuZHMgdG8gZGl2aWRlXG4gIC8vIHRoZW0gYnkgb2ZzZXQgWCBhbmQgWS5cbiAgdmFyIHNwbGl0UmVnZXggPSAvXFxzKixcXHMqfFxccysvO1xuICB2YXIgb3BzID0gZGl2aWRlciAhPT0gLTEgPyBbZnJhZ21lbnRzLnNsaWNlKDAsIGRpdmlkZXIpLmNvbmNhdChbZnJhZ21lbnRzW2RpdmlkZXJdLnNwbGl0KHNwbGl0UmVnZXgpWzBdXSksIFtmcmFnbWVudHNbZGl2aWRlcl0uc3BsaXQoc3BsaXRSZWdleClbMV1dLmNvbmNhdChmcmFnbWVudHMuc2xpY2UoZGl2aWRlciArIDEpKV0gOiBbZnJhZ21lbnRzXTtcblxuICAvLyBDb252ZXJ0IHRoZSB2YWx1ZXMgd2l0aCB1bml0cyB0byBhYnNvbHV0ZSBwaXhlbHMgdG8gYWxsb3cgb3VyIGNvbXB1dGF0aW9uc1xuICBvcHMgPSBvcHMubWFwKGZ1bmN0aW9uIChvcCwgaW5kZXgpIHtcbiAgICAvLyBNb3N0IG9mIHRoZSB1bml0cyByZWx5IG9uIHRoZSBvcmllbnRhdGlvbiBvZiB0aGUgcG9wcGVyXG4gICAgdmFyIG1lYXN1cmVtZW50ID0gKGluZGV4ID09PSAxID8gIXVzZUhlaWdodCA6IHVzZUhlaWdodCkgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG4gICAgdmFyIG1lcmdlV2l0aFByZXZpb3VzID0gZmFsc2U7XG4gICAgcmV0dXJuIG9wXG4gICAgLy8gVGhpcyBhZ2dyZWdhdGVzIGFueSBgK2Agb3IgYC1gIHNpZ24gdGhhdCBhcmVuJ3QgY29uc2lkZXJlZCBvcGVyYXRvcnNcbiAgICAvLyBlLmcuOiAxMCArICs1ID0+IFsxMCwgKywgKzVdXG4gICAgLnJlZHVjZShmdW5jdGlvbiAoYSwgYikge1xuICAgICAgaWYgKGFbYS5sZW5ndGggLSAxXSA9PT0gJycgJiYgWycrJywgJy0nXS5pbmRleE9mKGIpICE9PSAtMSkge1xuICAgICAgICBhW2EubGVuZ3RoIC0gMV0gPSBiO1xuICAgICAgICBtZXJnZVdpdGhQcmV2aW91cyA9IHRydWU7XG4gICAgICAgIHJldHVybiBhO1xuICAgICAgfSBlbHNlIGlmIChtZXJnZVdpdGhQcmV2aW91cykge1xuICAgICAgICBhW2EubGVuZ3RoIC0gMV0gKz0gYjtcbiAgICAgICAgbWVyZ2VXaXRoUHJldmlvdXMgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYS5jb25jYXQoYik7XG4gICAgICB9XG4gICAgfSwgW10pXG4gICAgLy8gSGVyZSB3ZSBjb252ZXJ0IHRoZSBzdHJpbmcgdmFsdWVzIGludG8gbnVtYmVyIHZhbHVlcyAoaW4gcHgpXG4gICAgLm1hcChmdW5jdGlvbiAoc3RyKSB7XG4gICAgICByZXR1cm4gdG9WYWx1ZShzdHIsIG1lYXN1cmVtZW50LCBwb3BwZXJPZmZzZXRzLCByZWZlcmVuY2VPZmZzZXRzKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gTG9vcCB0cm91Z2ggdGhlIG9mZnNldHMgYXJyYXlzIGFuZCBleGVjdXRlIHRoZSBvcGVyYXRpb25zXG4gIG9wcy5mb3JFYWNoKGZ1bmN0aW9uIChvcCwgaW5kZXgpIHtcbiAgICBvcC5mb3JFYWNoKGZ1bmN0aW9uIChmcmFnLCBpbmRleDIpIHtcbiAgICAgIGlmIChpc051bWVyaWMoZnJhZykpIHtcbiAgICAgICAgb2Zmc2V0c1tpbmRleF0gKz0gZnJhZyAqIChvcFtpbmRleDIgLSAxXSA9PT0gJy0nID8gLTEgOiAxKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBvZmZzZXRzO1xufVxuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IHVwZGF0ZSBtZXRob2RcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnNcbiAqIEBhcmd1bWVudCB7TnVtYmVyfFN0cmluZ30gb3B0aW9ucy5vZmZzZXQ9MFxuICogVGhlIG9mZnNldCB2YWx1ZSBhcyBkZXNjcmliZWQgaW4gdGhlIG1vZGlmaWVyIGRlc2NyaXB0aW9uXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkXG4gKi9cbmZ1bmN0aW9uIG9mZnNldChkYXRhLCBfcmVmKSB7XG4gIHZhciBvZmZzZXQgPSBfcmVmLm9mZnNldDtcbiAgdmFyIHBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50LFxuICAgICAgX2RhdGEkb2Zmc2V0cyA9IGRhdGEub2Zmc2V0cyxcbiAgICAgIHBvcHBlciA9IF9kYXRhJG9mZnNldHMucG9wcGVyLFxuICAgICAgcmVmZXJlbmNlID0gX2RhdGEkb2Zmc2V0cy5yZWZlcmVuY2U7XG5cbiAgdmFyIGJhc2VQbGFjZW1lbnQgPSBwbGFjZW1lbnQuc3BsaXQoJy0nKVswXTtcblxuICB2YXIgb2Zmc2V0cyA9IHZvaWQgMDtcbiAgaWYgKGlzTnVtZXJpYygrb2Zmc2V0KSkge1xuICAgIG9mZnNldHMgPSBbK29mZnNldCwgMF07XG4gIH0gZWxzZSB7XG4gICAgb2Zmc2V0cyA9IHBhcnNlT2Zmc2V0KG9mZnNldCwgcG9wcGVyLCByZWZlcmVuY2UsIGJhc2VQbGFjZW1lbnQpO1xuICB9XG5cbiAgaWYgKGJhc2VQbGFjZW1lbnQgPT09ICdsZWZ0Jykge1xuICAgIHBvcHBlci50b3AgKz0gb2Zmc2V0c1swXTtcbiAgICBwb3BwZXIubGVmdCAtPSBvZmZzZXRzWzFdO1xuICB9IGVsc2UgaWYgKGJhc2VQbGFjZW1lbnQgPT09ICdyaWdodCcpIHtcbiAgICBwb3BwZXIudG9wICs9IG9mZnNldHNbMF07XG4gICAgcG9wcGVyLmxlZnQgKz0gb2Zmc2V0c1sxXTtcbiAgfSBlbHNlIGlmIChiYXNlUGxhY2VtZW50ID09PSAndG9wJykge1xuICAgIHBvcHBlci5sZWZ0ICs9IG9mZnNldHNbMF07XG4gICAgcG9wcGVyLnRvcCAtPSBvZmZzZXRzWzFdO1xuICB9IGVsc2UgaWYgKGJhc2VQbGFjZW1lbnQgPT09ICdib3R0b20nKSB7XG4gICAgcG9wcGVyLmxlZnQgKz0gb2Zmc2V0c1swXTtcbiAgICBwb3BwZXIudG9wICs9IG9mZnNldHNbMV07XG4gIH1cblxuICBkYXRhLnBvcHBlciA9IHBvcHBlcjtcbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgTW9kaWZpZXJzXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgYHVwZGF0ZWAgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkXG4gKi9cbmZ1bmN0aW9uIHByZXZlbnRPdmVyZmxvdyhkYXRhLCBvcHRpb25zKSB7XG4gIHZhciBib3VuZGFyaWVzRWxlbWVudCA9IG9wdGlvbnMuYm91bmRhcmllc0VsZW1lbnQgfHwgZ2V0T2Zmc2V0UGFyZW50KGRhdGEuaW5zdGFuY2UucG9wcGVyKTtcblxuICAvLyBJZiBvZmZzZXRQYXJlbnQgaXMgdGhlIHJlZmVyZW5jZSBlbGVtZW50LCB3ZSByZWFsbHkgd2FudCB0b1xuICAvLyBnbyBvbmUgc3RlcCB1cCBhbmQgdXNlIHRoZSBuZXh0IG9mZnNldFBhcmVudCBhcyByZWZlcmVuY2UgdG9cbiAgLy8gYXZvaWQgdG8gbWFrZSB0aGlzIG1vZGlmaWVyIGNvbXBsZXRlbHkgdXNlbGVzcyBhbmQgbG9vayBsaWtlIGJyb2tlblxuICBpZiAoZGF0YS5pbnN0YW5jZS5yZWZlcmVuY2UgPT09IGJvdW5kYXJpZXNFbGVtZW50KSB7XG4gICAgYm91bmRhcmllc0VsZW1lbnQgPSBnZXRPZmZzZXRQYXJlbnQoYm91bmRhcmllc0VsZW1lbnQpO1xuICB9XG5cbiAgdmFyIGJvdW5kYXJpZXMgPSBnZXRCb3VuZGFyaWVzKGRhdGEuaW5zdGFuY2UucG9wcGVyLCBkYXRhLmluc3RhbmNlLnJlZmVyZW5jZSwgb3B0aW9ucy5wYWRkaW5nLCBib3VuZGFyaWVzRWxlbWVudCk7XG4gIG9wdGlvbnMuYm91bmRhcmllcyA9IGJvdW5kYXJpZXM7XG5cbiAgdmFyIG9yZGVyID0gb3B0aW9ucy5wcmlvcml0eTtcbiAgdmFyIHBvcHBlciA9IGRhdGEub2Zmc2V0cy5wb3BwZXI7XG5cbiAgdmFyIGNoZWNrID0ge1xuICAgIHByaW1hcnk6IGZ1bmN0aW9uIHByaW1hcnkocGxhY2VtZW50KSB7XG4gICAgICB2YXIgdmFsdWUgPSBwb3BwZXJbcGxhY2VtZW50XTtcbiAgICAgIGlmIChwb3BwZXJbcGxhY2VtZW50XSA8IGJvdW5kYXJpZXNbcGxhY2VtZW50XSAmJiAhb3B0aW9ucy5lc2NhcGVXaXRoUmVmZXJlbmNlKSB7XG4gICAgICAgIHZhbHVlID0gTWF0aC5tYXgocG9wcGVyW3BsYWNlbWVudF0sIGJvdW5kYXJpZXNbcGxhY2VtZW50XSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVmaW5lUHJvcGVydHkoe30sIHBsYWNlbWVudCwgdmFsdWUpO1xuICAgIH0sXG4gICAgc2Vjb25kYXJ5OiBmdW5jdGlvbiBzZWNvbmRhcnkocGxhY2VtZW50KSB7XG4gICAgICB2YXIgbWFpblNpZGUgPSBwbGFjZW1lbnQgPT09ICdyaWdodCcgPyAnbGVmdCcgOiAndG9wJztcbiAgICAgIHZhciB2YWx1ZSA9IHBvcHBlclttYWluU2lkZV07XG4gICAgICBpZiAocG9wcGVyW3BsYWNlbWVudF0gPiBib3VuZGFyaWVzW3BsYWNlbWVudF0gJiYgIW9wdGlvbnMuZXNjYXBlV2l0aFJlZmVyZW5jZSkge1xuICAgICAgICB2YWx1ZSA9IE1hdGgubWluKHBvcHBlclttYWluU2lkZV0sIGJvdW5kYXJpZXNbcGxhY2VtZW50XSAtIChwbGFjZW1lbnQgPT09ICdyaWdodCcgPyBwb3BwZXIud2lkdGggOiBwb3BwZXIuaGVpZ2h0KSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVmaW5lUHJvcGVydHkoe30sIG1haW5TaWRlLCB2YWx1ZSk7XG4gICAgfVxuICB9O1xuXG4gIG9yZGVyLmZvckVhY2goZnVuY3Rpb24gKHBsYWNlbWVudCkge1xuICAgIHZhciBzaWRlID0gWydsZWZ0JywgJ3RvcCddLmluZGV4T2YocGxhY2VtZW50KSAhPT0gLTEgPyAncHJpbWFyeScgOiAnc2Vjb25kYXJ5JztcbiAgICBwb3BwZXIgPSBfZXh0ZW5kcyh7fSwgcG9wcGVyLCBjaGVja1tzaWRlXShwbGFjZW1lbnQpKTtcbiAgfSk7XG5cbiAgZGF0YS5vZmZzZXRzLnBvcHBlciA9IHBvcHBlcjtcblxuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBNb2RpZmllcnNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSBgdXBkYXRlYCBtZXRob2RcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBkYXRhIG9iamVjdCwgcHJvcGVybHkgbW9kaWZpZWRcbiAqL1xuZnVuY3Rpb24gc2hpZnQoZGF0YSkge1xuICB2YXIgcGxhY2VtZW50ID0gZGF0YS5wbGFjZW1lbnQ7XG4gIHZhciBiYXNlUGxhY2VtZW50ID0gcGxhY2VtZW50LnNwbGl0KCctJylbMF07XG4gIHZhciBzaGlmdHZhcmlhdGlvbiA9IHBsYWNlbWVudC5zcGxpdCgnLScpWzFdO1xuXG4gIC8vIGlmIHNoaWZ0IHNoaWZ0dmFyaWF0aW9uIGlzIHNwZWNpZmllZCwgcnVuIHRoZSBtb2RpZmllclxuICBpZiAoc2hpZnR2YXJpYXRpb24pIHtcbiAgICB2YXIgX2RhdGEkb2Zmc2V0cyA9IGRhdGEub2Zmc2V0cyxcbiAgICAgICAgcmVmZXJlbmNlID0gX2RhdGEkb2Zmc2V0cy5yZWZlcmVuY2UsXG4gICAgICAgIHBvcHBlciA9IF9kYXRhJG9mZnNldHMucG9wcGVyO1xuXG4gICAgdmFyIGlzVmVydGljYWwgPSBbJ2JvdHRvbScsICd0b3AnXS5pbmRleE9mKGJhc2VQbGFjZW1lbnQpICE9PSAtMTtcbiAgICB2YXIgc2lkZSA9IGlzVmVydGljYWwgPyAnbGVmdCcgOiAndG9wJztcbiAgICB2YXIgbWVhc3VyZW1lbnQgPSBpc1ZlcnRpY2FsID8gJ3dpZHRoJyA6ICdoZWlnaHQnO1xuXG4gICAgdmFyIHNoaWZ0T2Zmc2V0cyA9IHtcbiAgICAgIHN0YXJ0OiBkZWZpbmVQcm9wZXJ0eSh7fSwgc2lkZSwgcmVmZXJlbmNlW3NpZGVdKSxcbiAgICAgIGVuZDogZGVmaW5lUHJvcGVydHkoe30sIHNpZGUsIHJlZmVyZW5jZVtzaWRlXSArIHJlZmVyZW5jZVttZWFzdXJlbWVudF0gLSBwb3BwZXJbbWVhc3VyZW1lbnRdKVxuICAgIH07XG5cbiAgICBkYXRhLm9mZnNldHMucG9wcGVyID0gX2V4dGVuZHMoe30sIHBvcHBlciwgc2hpZnRPZmZzZXRzW3NoaWZ0dmFyaWF0aW9uXSk7XG4gIH1cblxuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBNb2RpZmllcnNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSB1cGRhdGUgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkXG4gKi9cbmZ1bmN0aW9uIGhpZGUoZGF0YSkge1xuICBpZiAoIWlzTW9kaWZpZXJSZXF1aXJlZChkYXRhLmluc3RhbmNlLm1vZGlmaWVycywgJ2hpZGUnLCAncHJldmVudE92ZXJmbG93JykpIHtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIHZhciByZWZSZWN0ID0gZGF0YS5vZmZzZXRzLnJlZmVyZW5jZTtcbiAgdmFyIGJvdW5kID0gZmluZCQxKGRhdGEuaW5zdGFuY2UubW9kaWZpZXJzLCBmdW5jdGlvbiAobW9kaWZpZXIpIHtcbiAgICByZXR1cm4gbW9kaWZpZXIubmFtZSA9PT0gJ3ByZXZlbnRPdmVyZmxvdyc7XG4gIH0pLmJvdW5kYXJpZXM7XG5cbiAgaWYgKHJlZlJlY3QuYm90dG9tIDwgYm91bmQudG9wIHx8IHJlZlJlY3QubGVmdCA+IGJvdW5kLnJpZ2h0IHx8IHJlZlJlY3QudG9wID4gYm91bmQuYm90dG9tIHx8IHJlZlJlY3QucmlnaHQgPCBib3VuZC5sZWZ0KSB7XG4gICAgLy8gQXZvaWQgdW5uZWNlc3NhcnkgRE9NIGFjY2VzcyBpZiB2aXNpYmlsaXR5IGhhc24ndCBjaGFuZ2VkXG4gICAgaWYgKGRhdGEuaGlkZSA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgZGF0YS5oaWRlID0gdHJ1ZTtcbiAgICBkYXRhLmF0dHJpYnV0ZXNbJ3gtb3V0LW9mLWJvdW5kYXJpZXMnXSA9ICcnO1xuICB9IGVsc2Uge1xuICAgIC8vIEF2b2lkIHVubmVjZXNzYXJ5IERPTSBhY2Nlc3MgaWYgdmlzaWJpbGl0eSBoYXNuJ3QgY2hhbmdlZFxuICAgIGlmIChkYXRhLmhpZGUgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICBkYXRhLmhpZGUgPSBmYWxzZTtcbiAgICBkYXRhLmF0dHJpYnV0ZXNbJ3gtb3V0LW9mLWJvdW5kYXJpZXMnXSA9IGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgTW9kaWZpZXJzXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgYHVwZGF0ZWAgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkXG4gKi9cbmZ1bmN0aW9uIGlubmVyKGRhdGEpIHtcbiAgdmFyIHBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50O1xuICB2YXIgYmFzZVBsYWNlbWVudCA9IHBsYWNlbWVudC5zcGxpdCgnLScpWzBdO1xuICB2YXIgX2RhdGEkb2Zmc2V0cyA9IGRhdGEub2Zmc2V0cyxcbiAgICAgIHBvcHBlciA9IF9kYXRhJG9mZnNldHMucG9wcGVyLFxuICAgICAgcmVmZXJlbmNlID0gX2RhdGEkb2Zmc2V0cy5yZWZlcmVuY2U7XG5cbiAgdmFyIGlzSG9yaXogPSBbJ2xlZnQnLCAncmlnaHQnXS5pbmRleE9mKGJhc2VQbGFjZW1lbnQpICE9PSAtMTtcblxuICB2YXIgc3VidHJhY3RMZW5ndGggPSBbJ3RvcCcsICdsZWZ0J10uaW5kZXhPZihiYXNlUGxhY2VtZW50KSA9PT0gLTE7XG5cbiAgcG9wcGVyW2lzSG9yaXogPyAnbGVmdCcgOiAndG9wJ10gPSByZWZlcmVuY2VbYmFzZVBsYWNlbWVudF0gLSAoc3VidHJhY3RMZW5ndGggPyBwb3BwZXJbaXNIb3JpeiA/ICd3aWR0aCcgOiAnaGVpZ2h0J10gOiAwKTtcblxuICBkYXRhLnBsYWNlbWVudCA9IGdldE9wcG9zaXRlUGxhY2VtZW50KHBsYWNlbWVudCk7XG4gIGRhdGEub2Zmc2V0cy5wb3BwZXIgPSBnZXRDbGllbnRSZWN0KHBvcHBlcik7XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogTW9kaWZpZXIgZnVuY3Rpb24sIGVhY2ggbW9kaWZpZXIgY2FuIGhhdmUgYSBmdW5jdGlvbiBvZiB0aGlzIHR5cGUgYXNzaWduZWRcbiAqIHRvIGl0cyBgZm5gIHByb3BlcnR5LjxiciAvPlxuICogVGhlc2UgZnVuY3Rpb25zIHdpbGwgYmUgY2FsbGVkIG9uIGVhY2ggdXBkYXRlLCB0aGlzIG1lYW5zIHRoYXQgeW91IG11c3RcbiAqIG1ha2Ugc3VyZSB0aGV5IGFyZSBwZXJmb3JtYW50IGVub3VnaCB0byBhdm9pZCBwZXJmb3JtYW5jZSBib3R0bGVuZWNrcy5cbiAqXG4gKiBAZnVuY3Rpb24gTW9kaWZpZXJGblxuICogQGFyZ3VtZW50IHtkYXRhT2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSBgdXBkYXRlYCBtZXRob2RcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtkYXRhT2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkXG4gKi9cblxuLyoqXG4gKiBNb2RpZmllcnMgYXJlIHBsdWdpbnMgdXNlZCB0byBhbHRlciB0aGUgYmVoYXZpb3Igb2YgeW91ciBwb3BwZXJzLjxiciAvPlxuICogUG9wcGVyLmpzIHVzZXMgYSBzZXQgb2YgOSBtb2RpZmllcnMgdG8gcHJvdmlkZSBhbGwgdGhlIGJhc2ljIGZ1bmN0aW9uYWxpdGllc1xuICogbmVlZGVkIGJ5IHRoZSBsaWJyYXJ5LlxuICpcbiAqIFVzdWFsbHkgeW91IGRvbid0IHdhbnQgdG8gb3ZlcnJpZGUgdGhlIGBvcmRlcmAsIGBmbmAgYW5kIGBvbkxvYWRgIHByb3BzLlxuICogQWxsIHRoZSBvdGhlciBwcm9wZXJ0aWVzIGFyZSBjb25maWd1cmF0aW9ucyB0aGF0IGNvdWxkIGJlIHR3ZWFrZWQuXG4gKiBAbmFtZXNwYWNlIG1vZGlmaWVyc1xuICovXG52YXIgbW9kaWZpZXJzID0ge1xuICAvKipcbiAgICogTW9kaWZpZXIgdXNlZCB0byBzaGlmdCB0aGUgcG9wcGVyIG9uIHRoZSBzdGFydCBvciBlbmQgb2YgaXRzIHJlZmVyZW5jZVxuICAgKiBlbGVtZW50LjxiciAvPlxuICAgKiBJdCB3aWxsIHJlYWQgdGhlIHZhcmlhdGlvbiBvZiB0aGUgYHBsYWNlbWVudGAgcHJvcGVydHkuPGJyIC8+XG4gICAqIEl0IGNhbiBiZSBvbmUgZWl0aGVyIGAtZW5kYCBvciBgLXN0YXJ0YC5cbiAgICogQG1lbWJlcm9mIG1vZGlmaWVyc1xuICAgKiBAaW5uZXJcbiAgICovXG4gIHNoaWZ0OiB7XG4gICAgLyoqIEBwcm9wIHtudW1iZXJ9IG9yZGVyPTEwMCAtIEluZGV4IHVzZWQgdG8gZGVmaW5lIHRoZSBvcmRlciBvZiBleGVjdXRpb24gKi9cbiAgICBvcmRlcjogMTAwLFxuICAgIC8qKiBAcHJvcCB7Qm9vbGVhbn0gZW5hYmxlZD10cnVlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi9cbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIC8qKiBAcHJvcCB7TW9kaWZpZXJGbn0gKi9cbiAgICBmbjogc2hpZnRcbiAgfSxcblxuICAvKipcbiAgICogVGhlIGBvZmZzZXRgIG1vZGlmaWVyIGNhbiBzaGlmdCB5b3VyIHBvcHBlciBvbiBib3RoIGl0cyBheGlzLlxuICAgKlxuICAgKiBJdCBhY2NlcHRzIHRoZSBmb2xsb3dpbmcgdW5pdHM6XG4gICAqIC0gYHB4YCBvciB1bml0bGVzcywgaW50ZXJwcmV0ZWQgYXMgcGl4ZWxzXG4gICAqIC0gYCVgIG9yIGAlcmAsIHBlcmNlbnRhZ2UgcmVsYXRpdmUgdG8gdGhlIGxlbmd0aCBvZiB0aGUgcmVmZXJlbmNlIGVsZW1lbnRcbiAgICogLSBgJXBgLCBwZXJjZW50YWdlIHJlbGF0aXZlIHRvIHRoZSBsZW5ndGggb2YgdGhlIHBvcHBlciBlbGVtZW50XG4gICAqIC0gYHZ3YCwgQ1NTIHZpZXdwb3J0IHdpZHRoIHVuaXRcbiAgICogLSBgdmhgLCBDU1Mgdmlld3BvcnQgaGVpZ2h0IHVuaXRcbiAgICpcbiAgICogRm9yIGxlbmd0aCBpcyBpbnRlbmRlZCB0aGUgbWFpbiBheGlzIHJlbGF0aXZlIHRvIHRoZSBwbGFjZW1lbnQgb2YgdGhlIHBvcHBlci48YnIgLz5cbiAgICogVGhpcyBtZWFucyB0aGF0IGlmIHRoZSBwbGFjZW1lbnQgaXMgYHRvcGAgb3IgYGJvdHRvbWAsIHRoZSBsZW5ndGggd2lsbCBiZSB0aGVcbiAgICogYHdpZHRoYC4gSW4gY2FzZSBvZiBgbGVmdGAgb3IgYHJpZ2h0YCwgaXQgd2lsbCBiZSB0aGUgaGVpZ2h0LlxuICAgKlxuICAgKiBZb3UgY2FuIHByb3ZpZGUgYSBzaW5nbGUgdmFsdWUgKGFzIGBOdW1iZXJgIG9yIGBTdHJpbmdgKSwgb3IgYSBwYWlyIG9mIHZhbHVlc1xuICAgKiBhcyBgU3RyaW5nYCBkaXZpZGVkIGJ5IGEgY29tbWEgb3Igb25lIChvciBtb3JlKSB3aGl0ZSBzcGFjZXMuPGJyIC8+XG4gICAqIFRoZSBsYXR0ZXIgaXMgYSBkZXByZWNhdGVkIG1ldGhvZCBiZWNhdXNlIGl0IGxlYWRzIHRvIGNvbmZ1c2lvbiBhbmQgd2lsbCBiZVxuICAgKiByZW1vdmVkIGluIHYyLjxiciAvPlxuICAgKiBBZGRpdGlvbmFsbHksIGl0IGFjY2VwdHMgYWRkaXRpb25zIGFuZCBzdWJ0cmFjdGlvbnMgYmV0d2VlbiBkaWZmZXJlbnQgdW5pdHMuXG4gICAqIE5vdGUgdGhhdCBtdWx0aXBsaWNhdGlvbnMgYW5kIGRpdmlzaW9ucyBhcmVuJ3Qgc3VwcG9ydGVkLlxuICAgKlxuICAgKiBWYWxpZCBleGFtcGxlcyBhcmU6XG4gICAqIGBgYFxuICAgKiAxMFxuICAgKiAnMTAlJ1xuICAgKiAnMTAsIDEwJ1xuICAgKiAnMTAlLCAxMCdcbiAgICogJzEwICsgMTAlJ1xuICAgKiAnMTAgLSA1dmggKyAzJSdcbiAgICogJy0xMHB4ICsgNXZoLCA1cHggLSA2JSdcbiAgICogYGBgXG4gICAqID4gKipOQioqOiBJZiB5b3UgZGVzaXJlIHRvIGFwcGx5IG9mZnNldHMgdG8geW91ciBwb3BwZXJzIGluIGEgd2F5IHRoYXQgbWF5IG1ha2UgdGhlbSBvdmVybGFwXG4gICAqID4gd2l0aCB0aGVpciByZWZlcmVuY2UgZWxlbWVudCwgdW5mb3J0dW5hdGVseSwgeW91IHdpbGwgaGF2ZSB0byBkaXNhYmxlIHRoZSBgZmxpcGAgbW9kaWZpZXIuXG4gICAqID4gTW9yZSBvbiB0aGlzIFtyZWFkaW5nIHRoaXMgaXNzdWVdKGh0dHBzOi8vZ2l0aHViLmNvbS9GZXpWcmFzdGEvcG9wcGVyLmpzL2lzc3Vlcy8zNzMpXG4gICAqXG4gICAqIEBtZW1iZXJvZiBtb2RpZmllcnNcbiAgICogQGlubmVyXG4gICAqL1xuICBvZmZzZXQ6IHtcbiAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9MjAwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgIG9yZGVyOiAyMDAsXG4gICAgLyoqIEBwcm9wIHtCb29sZWFufSBlbmFibGVkPXRydWUgLSBXaGV0aGVyIHRoZSBtb2RpZmllciBpcyBlbmFibGVkIG9yIG5vdCAqL1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqL1xuICAgIGZuOiBvZmZzZXQsXG4gICAgLyoqIEBwcm9wIHtOdW1iZXJ8U3RyaW5nfSBvZmZzZXQ9MFxuICAgICAqIFRoZSBvZmZzZXQgdmFsdWUgYXMgZGVzY3JpYmVkIGluIHRoZSBtb2RpZmllciBkZXNjcmlwdGlvblxuICAgICAqL1xuICAgIG9mZnNldDogMFxuICB9LFxuXG4gIC8qKlxuICAgKiBNb2RpZmllciB1c2VkIHRvIHByZXZlbnQgdGhlIHBvcHBlciBmcm9tIGJlaW5nIHBvc2l0aW9uZWQgb3V0c2lkZSB0aGUgYm91bmRhcnkuXG4gICAqXG4gICAqIEFuIHNjZW5hcmlvIGV4aXN0cyB3aGVyZSB0aGUgcmVmZXJlbmNlIGl0c2VsZiBpcyBub3Qgd2l0aGluIHRoZSBib3VuZGFyaWVzLjxiciAvPlxuICAgKiBXZSBjYW4gc2F5IGl0IGhhcyBcImVzY2FwZWQgdGhlIGJvdW5kYXJpZXNcIiDigJQgb3IganVzdCBcImVzY2FwZWRcIi48YnIgLz5cbiAgICogSW4gdGhpcyBjYXNlIHdlIG5lZWQgdG8gZGVjaWRlIHdoZXRoZXIgdGhlIHBvcHBlciBzaG91bGQgZWl0aGVyOlxuICAgKlxuICAgKiAtIGRldGFjaCBmcm9tIHRoZSByZWZlcmVuY2UgYW5kIHJlbWFpbiBcInRyYXBwZWRcIiBpbiB0aGUgYm91bmRhcmllcywgb3JcbiAgICogLSBpZiBpdCBzaG91bGQgaWdub3JlIHRoZSBib3VuZGFyeSBhbmQgXCJlc2NhcGUgd2l0aCBpdHMgcmVmZXJlbmNlXCJcbiAgICpcbiAgICogV2hlbiBgZXNjYXBlV2l0aFJlZmVyZW5jZWAgaXMgc2V0IHRvYHRydWVgIGFuZCByZWZlcmVuY2UgaXMgY29tcGxldGVseVxuICAgKiBvdXRzaWRlIGl0cyBib3VuZGFyaWVzLCB0aGUgcG9wcGVyIHdpbGwgb3ZlcmZsb3cgKG9yIGNvbXBsZXRlbHkgbGVhdmUpXG4gICAqIHRoZSBib3VuZGFyaWVzIGluIG9yZGVyIHRvIHJlbWFpbiBhdHRhY2hlZCB0byB0aGUgZWRnZSBvZiB0aGUgcmVmZXJlbmNlLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAqIEBpbm5lclxuICAgKi9cbiAgcHJldmVudE92ZXJmbG93OiB7XG4gICAgLyoqIEBwcm9wIHtudW1iZXJ9IG9yZGVyPTMwMCAtIEluZGV4IHVzZWQgdG8gZGVmaW5lIHRoZSBvcmRlciBvZiBleGVjdXRpb24gKi9cbiAgICBvcmRlcjogMzAwLFxuICAgIC8qKiBAcHJvcCB7Qm9vbGVhbn0gZW5hYmxlZD10cnVlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi9cbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIC8qKiBAcHJvcCB7TW9kaWZpZXJGbn0gKi9cbiAgICBmbjogcHJldmVudE92ZXJmbG93LFxuICAgIC8qKlxuICAgICAqIEBwcm9wIHtBcnJheX0gW3ByaW9yaXR5PVsnbGVmdCcsJ3JpZ2h0JywndG9wJywnYm90dG9tJ11dXG4gICAgICogUG9wcGVyIHdpbGwgdHJ5IHRvIHByZXZlbnQgb3ZlcmZsb3cgZm9sbG93aW5nIHRoZXNlIHByaW9yaXRpZXMgYnkgZGVmYXVsdCxcbiAgICAgKiB0aGVuLCBpdCBjb3VsZCBvdmVyZmxvdyBvbiB0aGUgbGVmdCBhbmQgb24gdG9wIG9mIHRoZSBgYm91bmRhcmllc0VsZW1lbnRgXG4gICAgICovXG4gICAgcHJpb3JpdHk6IFsnbGVmdCcsICdyaWdodCcsICd0b3AnLCAnYm90dG9tJ10sXG4gICAgLyoqXG4gICAgICogQHByb3Age251bWJlcn0gcGFkZGluZz01XG4gICAgICogQW1vdW50IG9mIHBpeGVsIHVzZWQgdG8gZGVmaW5lIGEgbWluaW11bSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBib3VuZGFyaWVzXG4gICAgICogYW5kIHRoZSBwb3BwZXIgdGhpcyBtYWtlcyBzdXJlIHRoZSBwb3BwZXIgaGFzIGFsd2F5cyBhIGxpdHRsZSBwYWRkaW5nXG4gICAgICogYmV0d2VlbiB0aGUgZWRnZXMgb2YgaXRzIGNvbnRhaW5lclxuICAgICAqL1xuICAgIHBhZGRpbmc6IDUsXG4gICAgLyoqXG4gICAgICogQHByb3Age1N0cmluZ3xIVE1MRWxlbWVudH0gYm91bmRhcmllc0VsZW1lbnQ9J3Njcm9sbFBhcmVudCdcbiAgICAgKiBCb3VuZGFyaWVzIHVzZWQgYnkgdGhlIG1vZGlmaWVyLCBjYW4gYmUgYHNjcm9sbFBhcmVudGAsIGB3aW5kb3dgLFxuICAgICAqIGB2aWV3cG9ydGAgb3IgYW55IERPTSBlbGVtZW50LlxuICAgICAqL1xuICAgIGJvdW5kYXJpZXNFbGVtZW50OiAnc2Nyb2xsUGFyZW50J1xuICB9LFxuXG4gIC8qKlxuICAgKiBNb2RpZmllciB1c2VkIHRvIG1ha2Ugc3VyZSB0aGUgcmVmZXJlbmNlIGFuZCBpdHMgcG9wcGVyIHN0YXkgbmVhciBlYWNob3RoZXJzXG4gICAqIHdpdGhvdXQgbGVhdmluZyBhbnkgZ2FwIGJldHdlZW4gdGhlIHR3by4gRXhwZWNpYWxseSB1c2VmdWwgd2hlbiB0aGUgYXJyb3cgaXNcbiAgICogZW5hYmxlZCBhbmQgeW91IHdhbnQgdG8gYXNzdXJlIGl0IHRvIHBvaW50IHRvIGl0cyByZWZlcmVuY2UgZWxlbWVudC5cbiAgICogSXQgY2FyZXMgb25seSBhYm91dCB0aGUgZmlyc3QgYXhpcywgeW91IGNhbiBzdGlsbCBoYXZlIHBvcHBlcnMgd2l0aCBtYXJnaW5cbiAgICogYmV0d2VlbiB0aGUgcG9wcGVyIGFuZCBpdHMgcmVmZXJlbmNlIGVsZW1lbnQuXG4gICAqIEBtZW1iZXJvZiBtb2RpZmllcnNcbiAgICogQGlubmVyXG4gICAqL1xuICBrZWVwVG9nZXRoZXI6IHtcbiAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9NDAwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgIG9yZGVyOiA0MDAsXG4gICAgLyoqIEBwcm9wIHtCb29sZWFufSBlbmFibGVkPXRydWUgLSBXaGV0aGVyIHRoZSBtb2RpZmllciBpcyBlbmFibGVkIG9yIG5vdCAqL1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqL1xuICAgIGZuOiBrZWVwVG9nZXRoZXJcbiAgfSxcblxuICAvKipcbiAgICogVGhpcyBtb2RpZmllciBpcyB1c2VkIHRvIG1vdmUgdGhlIGBhcnJvd0VsZW1lbnRgIG9mIHRoZSBwb3BwZXIgdG8gbWFrZVxuICAgKiBzdXJlIGl0IGlzIHBvc2l0aW9uZWQgYmV0d2VlbiB0aGUgcmVmZXJlbmNlIGVsZW1lbnQgYW5kIGl0cyBwb3BwZXIgZWxlbWVudC5cbiAgICogSXQgd2lsbCByZWFkIHRoZSBvdXRlciBzaXplIG9mIHRoZSBgYXJyb3dFbGVtZW50YCBub2RlIHRvIGRldGVjdCBob3cgbWFueVxuICAgKiBwaXhlbHMgb2YgY29uanVjdGlvbiBhcmUgbmVlZGVkLlxuICAgKlxuICAgKiBJdCBoYXMgbm8gZWZmZWN0IGlmIG5vIGBhcnJvd0VsZW1lbnRgIGlzIHByb3ZpZGVkLlxuICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAqIEBpbm5lclxuICAgKi9cbiAgYXJyb3c6IHtcbiAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9NTAwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgIG9yZGVyOiA1MDAsXG4gICAgLyoqIEBwcm9wIHtCb29sZWFufSBlbmFibGVkPXRydWUgLSBXaGV0aGVyIHRoZSBtb2RpZmllciBpcyBlbmFibGVkIG9yIG5vdCAqL1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqL1xuICAgIGZuOiBhcnJvdyxcbiAgICAvKiogQHByb3Age1N0cmluZ3xIVE1MRWxlbWVudH0gZWxlbWVudD0nW3gtYXJyb3ddJyAtIFNlbGVjdG9yIG9yIG5vZGUgdXNlZCBhcyBhcnJvdyAqL1xuICAgIGVsZW1lbnQ6ICdbeC1hcnJvd10nXG4gIH0sXG5cbiAgLyoqXG4gICAqIE1vZGlmaWVyIHVzZWQgdG8gZmxpcCB0aGUgcG9wcGVyJ3MgcGxhY2VtZW50IHdoZW4gaXQgc3RhcnRzIHRvIG92ZXJsYXAgaXRzXG4gICAqIHJlZmVyZW5jZSBlbGVtZW50LlxuICAgKlxuICAgKiBSZXF1aXJlcyB0aGUgYHByZXZlbnRPdmVyZmxvd2AgbW9kaWZpZXIgYmVmb3JlIGl0IGluIG9yZGVyIHRvIHdvcmsuXG4gICAqXG4gICAqICoqTk9URToqKiB0aGlzIG1vZGlmaWVyIHdpbGwgaW50ZXJydXB0IHRoZSBjdXJyZW50IHVwZGF0ZSBjeWNsZSBhbmQgd2lsbFxuICAgKiByZXN0YXJ0IGl0IGlmIGl0IGRldGVjdHMgdGhlIG5lZWQgdG8gZmxpcCB0aGUgcGxhY2VtZW50LlxuICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAqIEBpbm5lclxuICAgKi9cbiAgZmxpcDoge1xuICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj02MDAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovXG4gICAgb3JkZXI6IDYwMCxcbiAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9dHJ1ZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovXG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovXG4gICAgZm46IGZsaXAsXG4gICAgLyoqXG4gICAgICogQHByb3Age1N0cmluZ3xBcnJheX0gYmVoYXZpb3I9J2ZsaXAnXG4gICAgICogVGhlIGJlaGF2aW9yIHVzZWQgdG8gY2hhbmdlIHRoZSBwb3BwZXIncyBwbGFjZW1lbnQuIEl0IGNhbiBiZSBvbmUgb2ZcbiAgICAgKiBgZmxpcGAsIGBjbG9ja3dpc2VgLCBgY291bnRlcmNsb2Nrd2lzZWAgb3IgYW4gYXJyYXkgd2l0aCBhIGxpc3Qgb2YgdmFsaWRcbiAgICAgKiBwbGFjZW1lbnRzICh3aXRoIG9wdGlvbmFsIHZhcmlhdGlvbnMpLlxuICAgICAqL1xuICAgIGJlaGF2aW9yOiAnZmxpcCcsXG4gICAgLyoqXG4gICAgICogQHByb3Age251bWJlcn0gcGFkZGluZz01XG4gICAgICogVGhlIHBvcHBlciB3aWxsIGZsaXAgaWYgaXQgaGl0cyB0aGUgZWRnZXMgb2YgdGhlIGBib3VuZGFyaWVzRWxlbWVudGBcbiAgICAgKi9cbiAgICBwYWRkaW5nOiA1LFxuICAgIC8qKlxuICAgICAqIEBwcm9wIHtTdHJpbmd8SFRNTEVsZW1lbnR9IGJvdW5kYXJpZXNFbGVtZW50PSd2aWV3cG9ydCdcbiAgICAgKiBUaGUgZWxlbWVudCB3aGljaCB3aWxsIGRlZmluZSB0aGUgYm91bmRhcmllcyBvZiB0aGUgcG9wcGVyIHBvc2l0aW9uLFxuICAgICAqIHRoZSBwb3BwZXIgd2lsbCBuZXZlciBiZSBwbGFjZWQgb3V0c2lkZSBvZiB0aGUgZGVmaW5lZCBib3VuZGFyaWVzXG4gICAgICogKGV4Y2VwdCBpZiBrZWVwVG9nZXRoZXIgaXMgZW5hYmxlZClcbiAgICAgKi9cbiAgICBib3VuZGFyaWVzRWxlbWVudDogJ3ZpZXdwb3J0J1xuICB9LFxuXG4gIC8qKlxuICAgKiBNb2RpZmllciB1c2VkIHRvIG1ha2UgdGhlIHBvcHBlciBmbG93IHRvd2FyZCB0aGUgaW5uZXIgb2YgdGhlIHJlZmVyZW5jZSBlbGVtZW50LlxuICAgKiBCeSBkZWZhdWx0LCB3aGVuIHRoaXMgbW9kaWZpZXIgaXMgZGlzYWJsZWQsIHRoZSBwb3BwZXIgd2lsbCBiZSBwbGFjZWQgb3V0c2lkZVxuICAgKiB0aGUgcmVmZXJlbmNlIGVsZW1lbnQuXG4gICAqIEBtZW1iZXJvZiBtb2RpZmllcnNcbiAgICogQGlubmVyXG4gICAqL1xuICBpbm5lcjoge1xuICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj03MDAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovXG4gICAgb3JkZXI6IDcwMCxcbiAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9ZmFsc2UgLSBXaGV0aGVyIHRoZSBtb2RpZmllciBpcyBlbmFibGVkIG9yIG5vdCAqL1xuICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgIC8qKiBAcHJvcCB7TW9kaWZpZXJGbn0gKi9cbiAgICBmbjogaW5uZXJcbiAgfSxcblxuICAvKipcbiAgICogTW9kaWZpZXIgdXNlZCB0byBoaWRlIHRoZSBwb3BwZXIgd2hlbiBpdHMgcmVmZXJlbmNlIGVsZW1lbnQgaXMgb3V0c2lkZSBvZiB0aGVcbiAgICogcG9wcGVyIGJvdW5kYXJpZXMuIEl0IHdpbGwgc2V0IGEgYHgtb3V0LW9mLWJvdW5kYXJpZXNgIGF0dHJpYnV0ZSB3aGljaCBjYW5cbiAgICogYmUgdXNlZCB0byBoaWRlIHdpdGggYSBDU1Mgc2VsZWN0b3IgdGhlIHBvcHBlciB3aGVuIGl0cyByZWZlcmVuY2UgaXNcbiAgICogb3V0IG9mIGJvdW5kYXJpZXMuXG4gICAqXG4gICAqIFJlcXVpcmVzIHRoZSBgcHJldmVudE92ZXJmbG93YCBtb2RpZmllciBiZWZvcmUgaXQgaW4gb3JkZXIgdG8gd29yay5cbiAgICogQG1lbWJlcm9mIG1vZGlmaWVyc1xuICAgKiBAaW5uZXJcbiAgICovXG4gIGhpZGU6IHtcbiAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9ODAwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgIG9yZGVyOiA4MDAsXG4gICAgLyoqIEBwcm9wIHtCb29sZWFufSBlbmFibGVkPXRydWUgLSBXaGV0aGVyIHRoZSBtb2RpZmllciBpcyBlbmFibGVkIG9yIG5vdCAqL1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqL1xuICAgIGZuOiBoaWRlXG4gIH0sXG5cbiAgLyoqXG4gICAqIENvbXB1dGVzIHRoZSBzdHlsZSB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgcG9wcGVyIGVsZW1lbnQgdG8gZ2V0c1xuICAgKiBwcm9wZXJseSBwb3NpdGlvbmVkLlxuICAgKlxuICAgKiBOb3RlIHRoYXQgdGhpcyBtb2RpZmllciB3aWxsIG5vdCB0b3VjaCB0aGUgRE9NLCBpdCBqdXN0IHByZXBhcmVzIHRoZSBzdHlsZXNcbiAgICogc28gdGhhdCBgYXBwbHlTdHlsZWAgbW9kaWZpZXIgY2FuIGFwcGx5IGl0LiBUaGlzIHNlcGFyYXRpb24gaXMgdXNlZnVsXG4gICAqIGluIGNhc2UgeW91IG5lZWQgdG8gcmVwbGFjZSBgYXBwbHlTdHlsZWAgd2l0aCBhIGN1c3RvbSBpbXBsZW1lbnRhdGlvbi5cbiAgICpcbiAgICogVGhpcyBtb2RpZmllciBoYXMgYDg1MGAgYXMgYG9yZGVyYCB2YWx1ZSB0byBtYWludGFpbiBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG4gICAqIHdpdGggcHJldmlvdXMgdmVyc2lvbnMgb2YgUG9wcGVyLmpzLiBFeHBlY3QgdGhlIG1vZGlmaWVycyBvcmRlcmluZyBtZXRob2RcbiAgICogdG8gY2hhbmdlIGluIGZ1dHVyZSBtYWpvciB2ZXJzaW9ucyBvZiB0aGUgbGlicmFyeS5cbiAgICpcbiAgICogQG1lbWJlcm9mIG1vZGlmaWVyc1xuICAgKiBAaW5uZXJcbiAgICovXG4gIGNvbXB1dGVTdHlsZToge1xuICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj04NTAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovXG4gICAgb3JkZXI6IDg1MCxcbiAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9dHJ1ZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovXG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovXG4gICAgZm46IGNvbXB1dGVTdHlsZSxcbiAgICAvKipcbiAgICAgKiBAcHJvcCB7Qm9vbGVhbn0gZ3B1QWNjZWxlcmF0aW9uPXRydWVcbiAgICAgKiBJZiB0cnVlLCBpdCB1c2VzIHRoZSBDU1MgM2QgdHJhbnNmb3JtYXRpb24gdG8gcG9zaXRpb24gdGhlIHBvcHBlci5cbiAgICAgKiBPdGhlcndpc2UsIGl0IHdpbGwgdXNlIHRoZSBgdG9wYCBhbmQgYGxlZnRgIHByb3BlcnRpZXMuXG4gICAgICovXG4gICAgZ3B1QWNjZWxlcmF0aW9uOiB0cnVlLFxuICAgIC8qKlxuICAgICAqIEBwcm9wIHtzdHJpbmd9IFt4PSdib3R0b20nXVxuICAgICAqIFdoZXJlIHRvIGFuY2hvciB0aGUgWCBheGlzIChgYm90dG9tYCBvciBgdG9wYCkuIEFLQSBYIG9mZnNldCBvcmlnaW4uXG4gICAgICogQ2hhbmdlIHRoaXMgaWYgeW91ciBwb3BwZXIgc2hvdWxkIGdyb3cgaW4gYSBkaXJlY3Rpb24gZGlmZmVyZW50IGZyb20gYGJvdHRvbWBcbiAgICAgKi9cbiAgICB4OiAnYm90dG9tJyxcbiAgICAvKipcbiAgICAgKiBAcHJvcCB7c3RyaW5nfSBbeD0nbGVmdCddXG4gICAgICogV2hlcmUgdG8gYW5jaG9yIHRoZSBZIGF4aXMgKGBsZWZ0YCBvciBgcmlnaHRgKS4gQUtBIFkgb2Zmc2V0IG9yaWdpbi5cbiAgICAgKiBDaGFuZ2UgdGhpcyBpZiB5b3VyIHBvcHBlciBzaG91bGQgZ3JvdyBpbiBhIGRpcmVjdGlvbiBkaWZmZXJlbnQgZnJvbSBgcmlnaHRgXG4gICAgICovXG4gICAgeTogJ3JpZ2h0J1xuICB9LFxuXG4gIC8qKlxuICAgKiBBcHBsaWVzIHRoZSBjb21wdXRlZCBzdHlsZXMgdG8gdGhlIHBvcHBlciBlbGVtZW50LlxuICAgKlxuICAgKiBBbGwgdGhlIERPTSBtYW5pcHVsYXRpb25zIGFyZSBsaW1pdGVkIHRvIHRoaXMgbW9kaWZpZXIuIFRoaXMgaXMgdXNlZnVsIGluIGNhc2VcbiAgICogeW91IHdhbnQgdG8gaW50ZWdyYXRlIFBvcHBlci5qcyBpbnNpZGUgYSBmcmFtZXdvcmsgb3IgdmlldyBsaWJyYXJ5IGFuZCB5b3VcbiAgICogd2FudCB0byBkZWxlZ2F0ZSBhbGwgdGhlIERPTSBtYW5pcHVsYXRpb25zIHRvIGl0LlxuICAgKlxuICAgKiBOb3RlIHRoYXQgaWYgeW91IGRpc2FibGUgdGhpcyBtb2RpZmllciwgeW91IG11c3QgbWFrZSBzdXJlIHRoZSBwb3BwZXIgZWxlbWVudFxuICAgKiBoYXMgaXRzIHBvc2l0aW9uIHNldCB0byBgYWJzb2x1dGVgIGJlZm9yZSBQb3BwZXIuanMgY2FuIGRvIGl0cyB3b3JrIVxuICAgKlxuICAgKiBKdXN0IGRpc2FibGUgdGhpcyBtb2RpZmllciBhbmQgZGVmaW5lIHlvdSBvd24gdG8gYWNoaWV2ZSB0aGUgZGVzaXJlZCBlZmZlY3QuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBtb2RpZmllcnNcbiAgICogQGlubmVyXG4gICAqL1xuICBhcHBseVN0eWxlOiB7XG4gICAgLyoqIEBwcm9wIHtudW1iZXJ9IG9yZGVyPTkwMCAtIEluZGV4IHVzZWQgdG8gZGVmaW5lIHRoZSBvcmRlciBvZiBleGVjdXRpb24gKi9cbiAgICBvcmRlcjogOTAwLFxuICAgIC8qKiBAcHJvcCB7Qm9vbGVhbn0gZW5hYmxlZD10cnVlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi9cbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIC8qKiBAcHJvcCB7TW9kaWZpZXJGbn0gKi9cbiAgICBmbjogYXBwbHlTdHlsZSxcbiAgICAvKiogQHByb3Age0Z1bmN0aW9ufSAqL1xuICAgIG9uTG9hZDogYXBwbHlTdHlsZU9uTG9hZCxcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDEuMTAuMCwgdGhlIHByb3BlcnR5IG1vdmVkIHRvIGBjb21wdXRlU3R5bGVgIG1vZGlmaWVyXG4gICAgICogQHByb3Age0Jvb2xlYW59IGdwdUFjY2VsZXJhdGlvbj10cnVlXG4gICAgICogSWYgdHJ1ZSwgaXQgdXNlcyB0aGUgQ1NTIDNkIHRyYW5zZm9ybWF0aW9uIHRvIHBvc2l0aW9uIHRoZSBwb3BwZXIuXG4gICAgICogT3RoZXJ3aXNlLCBpdCB3aWxsIHVzZSB0aGUgYHRvcGAgYW5kIGBsZWZ0YCBwcm9wZXJ0aWVzLlxuICAgICAqL1xuICAgIGdwdUFjY2VsZXJhdGlvbjogdW5kZWZpbmVkXG4gIH1cbn07XG5cbi8qKlxuICogVGhlIGBkYXRhT2JqZWN0YCBpcyBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIGluZm9ybWF0aW9ucyB1c2VkIGJ5IFBvcHBlci5qc1xuICogdGhpcyBvYmplY3QgZ2V0IHBhc3NlZCB0byBtb2RpZmllcnMgYW5kIHRvIHRoZSBgb25DcmVhdGVgIGFuZCBgb25VcGRhdGVgIGNhbGxiYWNrcy5cbiAqIEBuYW1lIGRhdGFPYmplY3RcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLmluc3RhbmNlIFRoZSBQb3BwZXIuanMgaW5zdGFuY2VcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBkYXRhLnBsYWNlbWVudCBQbGFjZW1lbnQgYXBwbGllZCB0byBwb3BwZXJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBkYXRhLm9yaWdpbmFsUGxhY2VtZW50IFBsYWNlbWVudCBvcmlnaW5hbGx5IGRlZmluZWQgb24gaW5pdFxuICogQHByb3BlcnR5IHtCb29sZWFufSBkYXRhLmZsaXBwZWQgVHJ1ZSBpZiBwb3BwZXIgaGFzIGJlZW4gZmxpcHBlZCBieSBmbGlwIG1vZGlmaWVyXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IGRhdGEuaGlkZSBUcnVlIGlmIHRoZSByZWZlcmVuY2UgZWxlbWVudCBpcyBvdXQgb2YgYm91bmRhcmllcywgdXNlZnVsIHRvIGtub3cgd2hlbiB0byBoaWRlIHRoZSBwb3BwZXIuXG4gKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fSBkYXRhLmFycm93RWxlbWVudCBOb2RlIHVzZWQgYXMgYXJyb3cgYnkgYXJyb3cgbW9kaWZpZXJcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLnN0eWxlcyBBbnkgQ1NTIHByb3BlcnR5IGRlZmluZWQgaGVyZSB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlciwgaXQgZXhwZWN0cyB0aGUgSmF2YVNjcmlwdCBub21lbmNsYXR1cmUgKGVnLiBgbWFyZ2luQm90dG9tYClcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLmFycm93U3R5bGVzIEFueSBDU1MgcHJvcGVydHkgZGVmaW5lZCBoZXJlIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgcG9wcGVyIGFycm93LCBpdCBleHBlY3RzIHRoZSBKYXZhU2NyaXB0IG5vbWVuY2xhdHVyZSAoZWcuIGBtYXJnaW5Cb3R0b21gKVxuICogQHByb3BlcnR5IHtPYmplY3R9IGRhdGEuYm91bmRhcmllcyBPZmZzZXRzIG9mIHRoZSBwb3BwZXIgYm91bmRhcmllc1xuICogQHByb3BlcnR5IHtPYmplY3R9IGRhdGEub2Zmc2V0cyBUaGUgbWVhc3VyZW1lbnRzIG9mIHBvcHBlciwgcmVmZXJlbmNlIGFuZCBhcnJvdyBlbGVtZW50cy5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLm9mZnNldHMucG9wcGVyIGB0b3BgLCBgbGVmdGAsIGB3aWR0aGAsIGBoZWlnaHRgIHZhbHVlc1xuICogQHByb3BlcnR5IHtPYmplY3R9IGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UgYHRvcGAsIGBsZWZ0YCwgYHdpZHRoYCwgYGhlaWdodGAgdmFsdWVzXG4gKiBAcHJvcGVydHkge09iamVjdH0gZGF0YS5vZmZzZXRzLmFycm93XSBgdG9wYCBhbmQgYGxlZnRgIG9mZnNldHMsIG9ubHkgb25lIG9mIHRoZW0gd2lsbCBiZSBkaWZmZXJlbnQgZnJvbSAwXG4gKi9cblxuLyoqXG4gKiBEZWZhdWx0IG9wdGlvbnMgcHJvdmlkZWQgdG8gUG9wcGVyLmpzIGNvbnN0cnVjdG9yLjxiciAvPlxuICogVGhlc2UgY2FuIGJlIG92ZXJyaWRlbiB1c2luZyB0aGUgYG9wdGlvbnNgIGFyZ3VtZW50IG9mIFBvcHBlci5qcy48YnIgLz5cbiAqIFRvIG92ZXJyaWRlIGFuIG9wdGlvbiwgc2ltcGx5IHBhc3MgYXMgM3JkIGFyZ3VtZW50IGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lXG4gKiBzdHJ1Y3R1cmUgb2YgdGhpcyBvYmplY3QsIGV4YW1wbGU6XG4gKiBgYGBcbiAqIG5ldyBQb3BwZXIocmVmLCBwb3AsIHtcbiAqICAgbW9kaWZpZXJzOiB7XG4gKiAgICAgcHJldmVudE92ZXJmbG93OiB7IGVuYWJsZWQ6IGZhbHNlIH1cbiAqICAgfVxuICogfSlcbiAqIGBgYFxuICogQHR5cGUge09iamVjdH1cbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQb3BwZXJcbiAqL1xudmFyIERlZmF1bHRzJDEgPSB7XG4gIC8qKlxuICAgKiBQb3BwZXIncyBwbGFjZW1lbnRcbiAgICogQHByb3Age1BvcHBlci5wbGFjZW1lbnRzfSBwbGFjZW1lbnQ9J2JvdHRvbSdcbiAgICovXG4gIHBsYWNlbWVudDogJ2JvdHRvbScsXG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgZXZlbnRzIChyZXNpemUsIHNjcm9sbCkgYXJlIGluaXRpYWxseSBlbmFibGVkXG4gICAqIEBwcm9wIHtCb29sZWFufSBldmVudHNFbmFibGVkPXRydWVcbiAgICovXG4gIGV2ZW50c0VuYWJsZWQ6IHRydWUsXG5cbiAgLyoqXG4gICAqIFNldCB0byB0cnVlIGlmIHlvdSB3YW50IHRvIGF1dG9tYXRpY2FsbHkgcmVtb3ZlIHRoZSBwb3BwZXIgd2hlblxuICAgKiB5b3UgY2FsbCB0aGUgYGRlc3Ryb3lgIG1ldGhvZC5cbiAgICogQHByb3Age0Jvb2xlYW59IHJlbW92ZU9uRGVzdHJveT1mYWxzZVxuICAgKi9cbiAgcmVtb3ZlT25EZXN0cm95OiBmYWxzZSxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgY2FsbGVkIHdoZW4gdGhlIHBvcHBlciBpcyBjcmVhdGVkLjxiciAvPlxuICAgKiBCeSBkZWZhdWx0LCBpcyBzZXQgdG8gbm8tb3AuPGJyIC8+XG4gICAqIEFjY2VzcyBQb3BwZXIuanMgaW5zdGFuY2Ugd2l0aCBgZGF0YS5pbnN0YW5jZWAuXG4gICAqIEBwcm9wIHtvbkNyZWF0ZX1cbiAgICovXG4gIG9uQ3JlYXRlOiBmdW5jdGlvbiBvbkNyZWF0ZSgpIHt9LFxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBjYWxsZWQgd2hlbiB0aGUgcG9wcGVyIGlzIHVwZGF0ZWQsIHRoaXMgY2FsbGJhY2sgaXMgbm90IGNhbGxlZFxuICAgKiBvbiB0aGUgaW5pdGlhbGl6YXRpb24vY3JlYXRpb24gb2YgdGhlIHBvcHBlciwgYnV0IG9ubHkgb24gc3Vic2VxdWVudFxuICAgKiB1cGRhdGVzLjxiciAvPlxuICAgKiBCeSBkZWZhdWx0LCBpcyBzZXQgdG8gbm8tb3AuPGJyIC8+XG4gICAqIEFjY2VzcyBQb3BwZXIuanMgaW5zdGFuY2Ugd2l0aCBgZGF0YS5pbnN0YW5jZWAuXG4gICAqIEBwcm9wIHtvblVwZGF0ZX1cbiAgICovXG4gIG9uVXBkYXRlOiBmdW5jdGlvbiBvblVwZGF0ZSgpIHt9LFxuXG4gIC8qKlxuICAgKiBMaXN0IG9mIG1vZGlmaWVycyB1c2VkIHRvIG1vZGlmeSB0aGUgb2Zmc2V0cyBiZWZvcmUgdGhleSBhcmUgYXBwbGllZCB0byB0aGUgcG9wcGVyLlxuICAgKiBUaGV5IHByb3ZpZGUgbW9zdCBvZiB0aGUgZnVuY3Rpb25hbGl0aWVzIG9mIFBvcHBlci5qc1xuICAgKiBAcHJvcCB7bW9kaWZpZXJzfVxuICAgKi9cbiAgbW9kaWZpZXJzOiBtb2RpZmllcnNcbn07XG5cbi8qKlxuICogQGNhbGxiYWNrIG9uQ3JlYXRlXG4gKiBAcGFyYW0ge2RhdGFPYmplY3R9IGRhdGFcbiAqL1xuXG4vKipcbiAqIEBjYWxsYmFjayBvblVwZGF0ZVxuICogQHBhcmFtIHtkYXRhT2JqZWN0fSBkYXRhXG4gKi9cblxuLy8gVXRpbHNcbi8vIE1ldGhvZHNcbnZhciBQb3BwZXIgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgUG9wcGVyLmpzIGluc3RhbmNlXG4gICAqIEBjbGFzcyBQb3BwZXJcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudHxyZWZlcmVuY2VPYmplY3R9IHJlZmVyZW5jZSAtIFRoZSByZWZlcmVuY2UgZWxlbWVudCB1c2VkIHRvIHBvc2l0aW9uIHRoZSBwb3BwZXJcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcG9wcGVyIC0gVGhlIEhUTUwgZWxlbWVudCB1c2VkIGFzIHBvcHBlci5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBZb3VyIGN1c3RvbSBvcHRpb25zIHRvIG92ZXJyaWRlIHRoZSBvbmVzIGRlZmluZWQgaW4gW0RlZmF1bHRzXSgjZGVmYXVsdHMpXG4gICAqIEByZXR1cm4ge09iamVjdH0gaW5zdGFuY2UgLSBUaGUgZ2VuZXJhdGVkIFBvcHBlci5qcyBpbnN0YW5jZVxuICAgKi9cbiAgZnVuY3Rpb24gUG9wcGVyKHJlZmVyZW5jZSwgcG9wcGVyKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBQb3BwZXIpO1xuXG4gICAgdGhpcy5zY2hlZHVsZVVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoX3RoaXMudXBkYXRlKTtcbiAgICB9O1xuXG4gICAgLy8gbWFrZSB1cGRhdGUoKSBkZWJvdW5jZWQsIHNvIHRoYXQgaXQgb25seSBydW5zIGF0IG1vc3Qgb25jZS1wZXItdGlja1xuICAgIHRoaXMudXBkYXRlID0gZGVib3VuY2UodGhpcy51cGRhdGUuYmluZCh0aGlzKSk7XG5cbiAgICAvLyB3aXRoIHt9IHdlIGNyZWF0ZSBhIG5ldyBvYmplY3Qgd2l0aCB0aGUgb3B0aW9ucyBpbnNpZGUgaXRcbiAgICB0aGlzLm9wdGlvbnMgPSBfZXh0ZW5kcyh7fSwgUG9wcGVyLkRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgIC8vIGluaXQgc3RhdGVcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNEZXN0cm95ZWQ6IGZhbHNlLFxuICAgICAgaXNDcmVhdGVkOiBmYWxzZSxcbiAgICAgIHNjcm9sbFBhcmVudHM6IFtdXG4gICAgfTtcblxuICAgIC8vIGdldCByZWZlcmVuY2UgYW5kIHBvcHBlciBlbGVtZW50cyAoYWxsb3cgalF1ZXJ5IHdyYXBwZXJzKVxuICAgIHRoaXMucmVmZXJlbmNlID0gcmVmZXJlbmNlLmpxdWVyeSA/IHJlZmVyZW5jZVswXSA6IHJlZmVyZW5jZTtcbiAgICB0aGlzLnBvcHBlciA9IHBvcHBlci5qcXVlcnkgPyBwb3BwZXJbMF0gOiBwb3BwZXI7XG5cbiAgICAvLyBEZWVwIG1lcmdlIG1vZGlmaWVycyBvcHRpb25zXG4gICAgdGhpcy5vcHRpb25zLm1vZGlmaWVycyA9IHt9O1xuICAgIE9iamVjdC5rZXlzKF9leHRlbmRzKHt9LCBQb3BwZXIuRGVmYXVsdHMubW9kaWZpZXJzLCBvcHRpb25zLm1vZGlmaWVycykpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIF90aGlzLm9wdGlvbnMubW9kaWZpZXJzW25hbWVdID0gX2V4dGVuZHMoe30sIFBvcHBlci5EZWZhdWx0cy5tb2RpZmllcnNbbmFtZV0gfHwge30sIG9wdGlvbnMubW9kaWZpZXJzID8gb3B0aW9ucy5tb2RpZmllcnNbbmFtZV0gOiB7fSk7XG4gICAgfSk7XG5cbiAgICAvLyBSZWZhY3RvcmluZyBtb2RpZmllcnMnIGxpc3QgKE9iamVjdCA9PiBBcnJheSlcbiAgICB0aGlzLm1vZGlmaWVycyA9IE9iamVjdC5rZXlzKHRoaXMub3B0aW9ucy5tb2RpZmllcnMpLm1hcChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgcmV0dXJuIF9leHRlbmRzKHtcbiAgICAgICAgbmFtZTogbmFtZVxuICAgICAgfSwgX3RoaXMub3B0aW9ucy5tb2RpZmllcnNbbmFtZV0pO1xuICAgIH0pXG4gICAgLy8gc29ydCB0aGUgbW9kaWZpZXJzIGJ5IG9yZGVyXG4gICAgLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBhLm9yZGVyIC0gYi5vcmRlcjtcbiAgICB9KTtcblxuICAgIC8vIG1vZGlmaWVycyBoYXZlIHRoZSBhYmlsaXR5IHRvIGV4ZWN1dGUgYXJiaXRyYXJ5IGNvZGUgd2hlbiBQb3BwZXIuanMgZ2V0IGluaXRlZFxuICAgIC8vIHN1Y2ggY29kZSBpcyBleGVjdXRlZCBpbiB0aGUgc2FtZSBvcmRlciBvZiBpdHMgbW9kaWZpZXJcbiAgICAvLyB0aGV5IGNvdWxkIGFkZCBuZXcgcHJvcGVydGllcyB0byB0aGVpciBvcHRpb25zIGNvbmZpZ3VyYXRpb25cbiAgICAvLyBCRSBBV0FSRTogZG9uJ3QgYWRkIG9wdGlvbnMgdG8gYG9wdGlvbnMubW9kaWZpZXJzLm5hbWVgIGJ1dCB0byBgbW9kaWZpZXJPcHRpb25zYCFcbiAgICB0aGlzLm1vZGlmaWVycy5mb3JFYWNoKGZ1bmN0aW9uIChtb2RpZmllck9wdGlvbnMpIHtcbiAgICAgIGlmIChtb2RpZmllck9wdGlvbnMuZW5hYmxlZCAmJiBpc0Z1bmN0aW9uKG1vZGlmaWVyT3B0aW9ucy5vbkxvYWQpKSB7XG4gICAgICAgIG1vZGlmaWVyT3B0aW9ucy5vbkxvYWQoX3RoaXMucmVmZXJlbmNlLCBfdGhpcy5wb3BwZXIsIF90aGlzLm9wdGlvbnMsIG1vZGlmaWVyT3B0aW9ucywgX3RoaXMuc3RhdGUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gZmlyZSB0aGUgZmlyc3QgdXBkYXRlIHRvIHBvc2l0aW9uIHRoZSBwb3BwZXIgaW4gdGhlIHJpZ2h0IHBsYWNlXG4gICAgdGhpcy51cGRhdGUoKTtcblxuICAgIHZhciBldmVudHNFbmFibGVkID0gdGhpcy5vcHRpb25zLmV2ZW50c0VuYWJsZWQ7XG4gICAgaWYgKGV2ZW50c0VuYWJsZWQpIHtcbiAgICAgIC8vIHNldHVwIGV2ZW50IGxpc3RlbmVycywgdGhleSB3aWxsIHRha2UgY2FyZSBvZiB1cGRhdGUgdGhlIHBvc2l0aW9uIGluIHNwZWNpZmljIHNpdHVhdGlvbnNcbiAgICAgIHRoaXMuZW5hYmxlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXRlLmV2ZW50c0VuYWJsZWQgPSBldmVudHNFbmFibGVkO1xuICB9XG5cbiAgLy8gV2UgY2FuJ3QgdXNlIGNsYXNzIHByb3BlcnRpZXMgYmVjYXVzZSB0aGV5IGRvbid0IGdldCBsaXN0ZWQgaW4gdGhlXG4gIC8vIGNsYXNzIHByb3RvdHlwZSBhbmQgYnJlYWsgc3R1ZmYgbGlrZSBTaW5vbiBzdHVic1xuXG5cbiAgY3JlYXRlQ2xhc3MoUG9wcGVyLCBbe1xuICAgIGtleTogJ3VwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZSQkMSgpIHtcbiAgICAgIHJldHVybiB1cGRhdGUuY2FsbCh0aGlzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkZXN0cm95JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSQkMSgpIHtcbiAgICAgIHJldHVybiBkZXN0cm95LmNhbGwodGhpcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZW5hYmxlRXZlbnRMaXN0ZW5lcnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbmFibGVFdmVudExpc3RlbmVycyQkMSgpIHtcbiAgICAgIHJldHVybiBlbmFibGVFdmVudExpc3RlbmVycy5jYWxsKHRoaXMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2Rpc2FibGVFdmVudExpc3RlbmVycycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRpc2FibGVFdmVudExpc3RlbmVycyQkMSgpIHtcbiAgICAgIHJldHVybiBkaXNhYmxlRXZlbnRMaXN0ZW5lcnMuY2FsbCh0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTY2hlZHVsZSBhbiB1cGRhdGUsIGl0IHdpbGwgcnVuIG9uIHRoZSBuZXh0IFVJIHVwZGF0ZSBhdmFpbGFibGVcbiAgICAgKiBAbWV0aG9kIHNjaGVkdWxlVXBkYXRlXG4gICAgICogQG1lbWJlcm9mIFBvcHBlclxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQ29sbGVjdGlvbiBvZiB1dGlsaXRpZXMgdXNlZnVsIHdoZW4gd3JpdGluZyBjdXN0b20gbW9kaWZpZXJzLlxuICAgICAqIFN0YXJ0aW5nIGZyb20gdmVyc2lvbiAxLjcsIHRoaXMgbWV0aG9kIGlzIGF2YWlsYWJsZSBvbmx5IGlmIHlvdVxuICAgICAqIGluY2x1ZGUgYHBvcHBlci11dGlscy5qc2AgYmVmb3JlIGBwb3BwZXIuanNgLlxuICAgICAqXG4gICAgICogKipERVBSRUNBVElPTioqOiBUaGlzIHdheSB0byBhY2Nlc3MgUG9wcGVyVXRpbHMgaXMgZGVwcmVjYXRlZFxuICAgICAqIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdjIhIFVzZSB0aGUgUG9wcGVyVXRpbHMgbW9kdWxlIGRpcmVjdGx5IGluc3RlYWQuXG4gICAgICogRHVlIHRvIHRoZSBoaWdoIGluc3RhYmlsaXR5IG9mIHRoZSBtZXRob2RzIGNvbnRhaW5lZCBpbiBVdGlscywgd2UgY2FuJ3RcbiAgICAgKiBndWFyYW50ZWUgdGhlbSB0byBmb2xsb3cgc2VtdmVyLiBVc2UgdGhlbSBhdCB5b3VyIG93biByaXNrIVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAxLjhcbiAgICAgKiBAbWVtYmVyIFV0aWxzXG4gICAgICogQG1lbWJlcm9mIFBvcHBlclxuICAgICAqL1xuXG4gIH1dKTtcbiAgcmV0dXJuIFBvcHBlcjtcbn0oKTtcblxuLyoqXG4gKiBUaGUgYHJlZmVyZW5jZU9iamVjdGAgaXMgYW4gb2JqZWN0IHRoYXQgcHJvdmlkZXMgYW4gaW50ZXJmYWNlIGNvbXBhdGlibGUgd2l0aCBQb3BwZXIuanNcbiAqIGFuZCBsZXRzIHlvdSB1c2UgaXQgYXMgcmVwbGFjZW1lbnQgb2YgYSByZWFsIERPTSBub2RlLjxiciAvPlxuICogWW91IGNhbiB1c2UgdGhpcyBtZXRob2QgdG8gcG9zaXRpb24gYSBwb3BwZXIgcmVsYXRpdmVseSB0byBhIHNldCBvZiBjb29yZGluYXRlc1xuICogaW4gY2FzZSB5b3UgZG9uJ3QgaGF2ZSBhIERPTSBub2RlIHRvIHVzZSBhcyByZWZlcmVuY2UuXG4gKlxuICogYGBgXG4gKiBuZXcgUG9wcGVyKHJlZmVyZW5jZU9iamVjdCwgcG9wcGVyTm9kZSk7XG4gKiBgYGBcbiAqXG4gKiBOQjogVGhpcyBmZWF0dXJlIGlzbid0IHN1cHBvcnRlZCBpbiBJbnRlcm5ldCBFeHBsb3JlciAxMFxuICogQG5hbWUgcmVmZXJlbmNlT2JqZWN0XG4gKiBAcHJvcGVydHkge0Z1bmN0aW9ufSBkYXRhLmdldEJvdW5kaW5nQ2xpZW50UmVjdFxuICogQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBzZXQgb2YgY29vcmRpbmF0ZXMgY29tcGF0aWJsZSB3aXRoIHRoZSBuYXRpdmUgYGdldEJvdW5kaW5nQ2xpZW50UmVjdGAgbWV0aG9kLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGRhdGEuY2xpZW50V2lkdGhcbiAqIEFuIEVTNiBnZXR0ZXIgdGhhdCB3aWxsIHJldHVybiB0aGUgd2lkdGggb2YgdGhlIHZpcnR1YWwgcmVmZXJlbmNlIGVsZW1lbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gZGF0YS5jbGllbnRIZWlnaHRcbiAqIEFuIEVTNiBnZXR0ZXIgdGhhdCB3aWxsIHJldHVybiB0aGUgaGVpZ2h0IG9mIHRoZSB2aXJ0dWFsIHJlZmVyZW5jZSBlbGVtZW50LlxuICovXG5cblBvcHBlci5VdGlscyA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IGdsb2JhbCkuUG9wcGVyVXRpbHM7XG5Qb3BwZXIucGxhY2VtZW50cyA9IHBsYWNlbWVudHM7XG5Qb3BwZXIuRGVmYXVsdHMgPSBEZWZhdWx0cyQxO1xuXG4vKipcbiogUmV0dXJucyB0aGUgZGlzdGFuY2UgdGFraW5nIGludG8gYWNjb3VudCB0aGUgZGVmYXVsdCBkaXN0YW5jZSBkdWUgdG9cbiogdGhlIHRyYW5zZm9ybTogdHJhbnNsYXRlIHNldHRpbmcgaW4gQ1NTXG4qIEBwYXJhbSB7TnVtYmVyfSBkaXN0YW5jZVxuKiBAcmV0dXJuIHtTdHJpbmd9XG4qL1xuZnVuY3Rpb24gZ2V0T2Zmc2V0RGlzdGFuY2VJblB4KGRpc3RhbmNlKSB7XG4gIHJldHVybiAtKGRpc3RhbmNlIC0gRGVmYXVsdHMuZGlzdGFuY2UpICsgJ3B4Jztcbn1cblxudmFyIGNsYXNzQ2FsbENoZWNrJDEgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufTtcblxudmFyIGNyZWF0ZUNsYXNzJDEgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH07XG59KCk7XG5cblxuXG5cblxuXG5cbnZhciBfZXh0ZW5kcyQxID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn07XG5cbi8qKlxuKiBDcmVhdGVzIGEgbmV3IHBvcHBlciBpbnN0YW5jZVxuKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuKiBAcmV0dXJuIHtPYmplY3R9IC0gdGhlIHBvcHBlciBpbnN0YW5jZVxuKi9cbmZ1bmN0aW9uIGNyZWF0ZVBvcHBlckluc3RhbmNlKGRhdGEpIHtcbiAgdmFyIGVsID0gZGF0YS5lbCxcbiAgICAgIHBvcHBlciA9IGRhdGEucG9wcGVyLFxuICAgICAgX2RhdGEkc2V0dGluZ3MgPSBkYXRhLnNldHRpbmdzLFxuICAgICAgcG9zaXRpb24gPSBfZGF0YSRzZXR0aW5ncy5wb3NpdGlvbixcbiAgICAgIHBvcHBlck9wdGlvbnMgPSBfZGF0YSRzZXR0aW5ncy5wb3BwZXJPcHRpb25zLFxuICAgICAgb2Zmc2V0ID0gX2RhdGEkc2V0dGluZ3Mub2Zmc2V0LFxuICAgICAgZGlzdGFuY2UgPSBfZGF0YSRzZXR0aW5ncy5kaXN0YW5jZSxcbiAgICAgIGZsaXBEdXJhdGlvbiA9IF9kYXRhJHNldHRpbmdzLmZsaXBEdXJhdGlvbjtcblxuICB2YXIgX2dldElubmVyRWxlbWVudHMgPSBnZXRJbm5lckVsZW1lbnRzKHBvcHBlciksXG4gICAgICB0b29sdGlwID0gX2dldElubmVyRWxlbWVudHMudG9vbHRpcDtcblxuICB2YXIgY29uZmlnID0gX2V4dGVuZHMkMSh7XG4gICAgcGxhY2VtZW50OiBwb3NpdGlvblxuICB9LCBwb3BwZXJPcHRpb25zIHx8IHt9LCB7XG4gICAgbW9kaWZpZXJzOiBfZXh0ZW5kcyQxKHt9LCBwb3BwZXJPcHRpb25zID8gcG9wcGVyT3B0aW9ucy5tb2RpZmllcnMgOiB7fSwge1xuICAgICAgZmxpcDogX2V4dGVuZHMkMSh7XG4gICAgICAgIHBhZGRpbmc6IGRpc3RhbmNlICsgNSAvKiA1cHggZnJvbSB2aWV3cG9ydCBib3VuZGFyeSAqL1xuICAgICAgfSwgcG9wcGVyT3B0aW9ucyAmJiBwb3BwZXJPcHRpb25zLm1vZGlmaWVycyA/IHBvcHBlck9wdGlvbnMubW9kaWZpZXJzLmZsaXAgOiB7fSksXG4gICAgICBvZmZzZXQ6IF9leHRlbmRzJDEoe1xuICAgICAgICBvZmZzZXQ6IG9mZnNldFxuICAgICAgfSwgcG9wcGVyT3B0aW9ucyAmJiBwb3BwZXJPcHRpb25zLm1vZGlmaWVycyA/IHBvcHBlck9wdGlvbnMubW9kaWZpZXJzLm9mZnNldCA6IHt9KVxuICAgIH0pLFxuICAgIG9uVXBkYXRlOiBmdW5jdGlvbiBvblVwZGF0ZSgpIHtcbiAgICAgIHZhciBzdHlsZXMgPSB0b29sdGlwLnN0eWxlO1xuICAgICAgc3R5bGVzLnRvcCA9ICcnO1xuICAgICAgc3R5bGVzLmJvdHRvbSA9ICcnO1xuICAgICAgc3R5bGVzLmxlZnQgPSAnJztcbiAgICAgIHN0eWxlcy5yaWdodCA9ICcnO1xuICAgICAgc3R5bGVzW2dldENvcmVQbGFjZW1lbnQocG9wcGVyLmdldEF0dHJpYnV0ZSgneC1wbGFjZW1lbnQnKSldID0gZ2V0T2Zmc2V0RGlzdGFuY2VJblB4KGRpc3RhbmNlKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIFVwZGF0ZSB0aGUgcG9wcGVyJ3MgcG9zaXRpb24gd2hlbmV2ZXIgaXRzIGNvbnRlbnQgY2hhbmdlc1xuICAvLyBOb3Qgc3VwcG9ydGVkIGluIElFMTAgdW5sZXNzIHBvbHlmaWxsZWRcbiAgaWYgKHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyKSB7XG4gICAgdmFyIHN0eWxlcyA9IHBvcHBlci5zdHlsZTtcblxuICAgIHZhciBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgIHN0eWxlc1twcmVmaXgoJ3RyYW5zaXRpb25EdXJhdGlvbicpXSA9ICcwbXMnO1xuICAgICAgZGF0YS5wb3BwZXJJbnN0YW5jZS51cGRhdGUoKTtcbiAgICAgIGRlZmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc3R5bGVzW3ByZWZpeCgndHJhbnNpdGlvbkR1cmF0aW9uJyldID0gZmxpcER1cmF0aW9uICsgJ21zJztcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZShwb3BwZXIsIHtcbiAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICAgIHN1YnRyZWU6IHRydWUsXG4gICAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlXG4gICAgfSk7XG5cbiAgICBkYXRhLl9tdXRhdGlvbk9ic2VydmVycy5wdXNoKG9ic2VydmVyKTtcbiAgfVxuXG4gIHJldHVybiBuZXcgUG9wcGVyKGVsLCBwb3BwZXIsIGNvbmZpZyk7XG59XG5cbi8qKlxuKiBBcHBlbmRzIHRoZSBwb3BwZXIgYW5kIGNyZWF0ZXMgYSBwb3BwZXIgaW5zdGFuY2UgaWYgb25lIGRvZXMgbm90IGV4aXN0XG4qIEFsc28gdXBkYXRlcyBpdHMgcG9zaXRpb24gaWYgbmVlZCBiZSBhbmQgZW5hYmxlcyBldmVudCBsaXN0ZW5lcnNcbiogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSAgdGhlIGVsZW1lbnQvcG9wcGVyIHJlZmVyZW5jZSBkYXRhXG4qL1xuZnVuY3Rpb24gbW91bnRQb3BwZXIoZGF0YSkge1xuICB2YXIgZWwgPSBkYXRhLmVsLFxuICAgICAgcG9wcGVyID0gZGF0YS5wb3BwZXIsXG4gICAgICBfZGF0YSRzZXR0aW5ncyA9IGRhdGEuc2V0dGluZ3MsXG4gICAgICBhcHBlbmRUbyA9IF9kYXRhJHNldHRpbmdzLmFwcGVuZFRvLFxuICAgICAgZm9sbG93Q3Vyc29yID0gX2RhdGEkc2V0dGluZ3MuZm9sbG93Q3Vyc29yO1xuXG4gIC8vIEFscmVhZHkgb24gdGhlIERPTVxuXG4gIGlmIChhcHBlbmRUby5jb250YWlucyhwb3BwZXIpKSByZXR1cm47XG5cbiAgYXBwZW5kVG8uYXBwZW5kQ2hpbGQocG9wcGVyKTtcblxuICBpZiAoIWRhdGEucG9wcGVySW5zdGFuY2UpIHtcbiAgICBkYXRhLnBvcHBlckluc3RhbmNlID0gY3JlYXRlUG9wcGVySW5zdGFuY2UoZGF0YSk7XG4gIH0gZWxzZSB7XG4gICAgZGF0YS5wb3BwZXJJbnN0YW5jZS51cGRhdGUoKTtcbiAgICBpZiAoIWZvbGxvd0N1cnNvciB8fCBCcm93c2VyLnRvdWNoKSB7XG4gICAgICBkYXRhLnBvcHBlckluc3RhbmNlLmVuYWJsZUV2ZW50TGlzdGVuZXJzKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gU2luY2UgdG91Y2ggaXMgZGV0ZXJtaW5lZCBkeW5hbWljYWxseSwgZm9sbG93Q3Vyc29yIGlzIHNldCBvbiBtb3VudFxuICBpZiAoZm9sbG93Q3Vyc29yICYmICFCcm93c2VyLnRvdWNoKSB7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZm9sbG93Q3Vyc29ySGFuZGxlcik7XG4gICAgZGF0YS5wb3BwZXJJbnN0YW5jZS5kaXNhYmxlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuXG4vKipcbiogVXBkYXRlcyBhIHBvcHBlcidzIHBvc2l0aW9uIG9uIGVhY2ggYW5pbWF0aW9uIGZyYW1lIHRvIG1ha2UgaXQgc3RpY2sgdG8gYSBtb3ZpbmcgZWxlbWVudFxuKiBAcGFyYW0ge09iamVjdH0gcmVmRGF0YVxuKi9cbmZ1bmN0aW9uIG1ha2VTdGlja3kocmVmRGF0YSkge1xuICB2YXIgcG9wcGVyID0gcmVmRGF0YS5wb3BwZXIsXG4gICAgICBwb3BwZXJJbnN0YW5jZSA9IHJlZkRhdGEucG9wcGVySW5zdGFuY2UsXG4gICAgICBzdGlja3lEdXJhdGlvbiA9IHJlZkRhdGEuc2V0dGluZ3Muc3RpY2t5RHVyYXRpb247XG5cblxuICB2YXIgYXBwbHlUcmFuc2l0aW9uRHVyYXRpb24gPSBmdW5jdGlvbiBhcHBseVRyYW5zaXRpb25EdXJhdGlvbigpIHtcbiAgICByZXR1cm4gcG9wcGVyLnN0eWxlW3ByZWZpeCgndHJhbnNpdGlvbkR1cmF0aW9uJyldID0gc3RpY2t5RHVyYXRpb24gKyAnbXMnO1xuICB9O1xuXG4gIHZhciByZW1vdmVUcmFuc2l0aW9uRHVyYXRpb24gPSBmdW5jdGlvbiByZW1vdmVUcmFuc2l0aW9uRHVyYXRpb24oKSB7XG4gICAgcmV0dXJuIHBvcHBlci5zdHlsZVtwcmVmaXgoJ3RyYW5zaXRpb25EdXJhdGlvbicpXSA9ICcnO1xuICB9O1xuXG4gIHZhciB1cGRhdGVQb3NpdGlvbiA9IGZ1bmN0aW9uIHVwZGF0ZVBvc2l0aW9uKCkge1xuICAgIHBvcHBlckluc3RhbmNlICYmIHBvcHBlckluc3RhbmNlLnNjaGVkdWxlVXBkYXRlKCk7XG5cbiAgICBhcHBseVRyYW5zaXRpb25EdXJhdGlvbigpO1xuXG4gICAgaXNWaXNpYmxlKHBvcHBlcikgPyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHVwZGF0ZVBvc2l0aW9uKSA6IHJlbW92ZVRyYW5zaXRpb25EdXJhdGlvbigpO1xuICB9O1xuXG4gIC8vIFdhaXQgdW50aWwgUG9wcGVyJ3MgcG9zaXRpb24gaGFzIGJlZW4gdXBkYXRlZCBpbml0aWFsbHlcbiAgZGVmZXIodXBkYXRlUG9zaXRpb24pO1xufVxuXG4vKipcbiogUmV0dXJucyBhbiBvYmplY3Qgb2Ygc2V0dGluZ3MgdG8gb3ZlcnJpZGUgZ2xvYmFsIHNldHRpbmdzXG4qIEBwYXJhbSB7RWxlbWVudH0gZWwgLSB0aGUgdG9vbHRpcHBlZCBlbGVtZW50XG4qIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZVNldHRpbmdzXG4qIEByZXR1cm4ge09iamVjdH0gLSBpbmRpdmlkdWFsIHNldHRpbmdzXG4qL1xuZnVuY3Rpb24gZ2V0SW5kaXZpZHVhbFNldHRpbmdzKGVsLCBpbnN0YW5jZVNldHRpbmdzKSB7XG4gIHZhciBzZXR0aW5ncyA9IERlZmF1bHRzS2V5cy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7XG4gICAgdmFyIHZhbCA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS0nICsga2V5LnRvTG93ZXJDYXNlKCkpIHx8IGluc3RhbmNlU2V0dGluZ3Nba2V5XTtcblxuICAgIC8vIENvbnZlcnQgc3RyaW5ncyB0byBib29sZWFuc1xuICAgIGlmICh2YWwgPT09ICdmYWxzZScpIHZhbCA9IGZhbHNlO1xuICAgIGlmICh2YWwgPT09ICd0cnVlJykgdmFsID0gdHJ1ZTtcblxuICAgIC8vIENvbnZlcnQgbnVtYmVyIHN0cmluZ3MgdG8gdHJ1ZSBudW1iZXJzXG4gICAgaWYgKGlzRmluaXRlKHZhbCkgJiYgIWlzTmFOKHBhcnNlRmxvYXQodmFsKSkpIHtcbiAgICAgIHZhbCA9IHBhcnNlRmxvYXQodmFsKTtcbiAgICB9XG5cbiAgICAvLyBDb252ZXJ0IGFycmF5IHN0cmluZ3MgdG8gYWN0dWFsIGFycmF5c1xuICAgIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJyAmJiB2YWwudHJpbSgpLmNoYXJBdCgwKSA9PT0gJ1snKSB7XG4gICAgICB2YWwgPSBKU09OLnBhcnNlKHZhbCk7XG4gICAgfVxuXG4gICAgYWNjW2tleV0gPSB2YWw7XG5cbiAgICByZXR1cm4gYWNjO1xuICB9LCB7fSk7XG5cbiAgcmV0dXJuIF9leHRlbmRzJDEoe30sIGluc3RhbmNlU2V0dGluZ3MsIHNldHRpbmdzKTtcbn1cblxuLyoqXG4qIENyZWF0ZXMgYSBwb3BwZXIgZWxlbWVudCB0aGVuIHJldHVybnMgaXRcbiogQHBhcmFtIHtOdW1iZXJ9IGlkIC0gdGhlIHBvcHBlciBpZFxuKiBAcGFyYW0ge1N0cmluZ30gdGl0bGUgLSB0aGUgdG9vbHRpcCdzIGB0aXRsZWAgYXR0cmlidXRlXG4qIEBwYXJhbSB7T2JqZWN0fSBzZXR0aW5ncyAtIGluZGl2aWR1YWwgc2V0dGluZ3NcbiogQHJldHVybiB7RWxlbWVudH0gLSB0aGUgcG9wcGVyIGVsZW1lbnRcbiovXG5mdW5jdGlvbiBjcmVhdGVQb3BwZXJFbGVtZW50KGlkLCB0aXRsZSwgc2V0dGluZ3MpIHtcbiAgdmFyIHBvc2l0aW9uID0gc2V0dGluZ3MucG9zaXRpb24sXG4gICAgICBkaXN0YW5jZSA9IHNldHRpbmdzLmRpc3RhbmNlLFxuICAgICAgYXJyb3cgPSBzZXR0aW5ncy5hcnJvdyxcbiAgICAgIGFuaW1hdGVGaWxsID0gc2V0dGluZ3MuYW5pbWF0ZUZpbGwsXG4gICAgICBpbmVydGlhID0gc2V0dGluZ3MuaW5lcnRpYSxcbiAgICAgIGFuaW1hdGlvbiA9IHNldHRpbmdzLmFuaW1hdGlvbixcbiAgICAgIGFycm93U2l6ZSA9IHNldHRpbmdzLmFycm93U2l6ZSxcbiAgICAgIHNpemUgPSBzZXR0aW5ncy5zaXplLFxuICAgICAgdGhlbWUgPSBzZXR0aW5ncy50aGVtZSxcbiAgICAgIGh0bWwgPSBzZXR0aW5ncy5odG1sLFxuICAgICAgekluZGV4ID0gc2V0dGluZ3MuekluZGV4LFxuICAgICAgaW50ZXJhY3RpdmUgPSBzZXR0aW5ncy5pbnRlcmFjdGl2ZTtcblxuXG4gIHZhciBwb3BwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgcG9wcGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndGlwcHktcG9wcGVyJyk7XG4gIHBvcHBlci5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAndG9vbHRpcCcpO1xuICBwb3BwZXIuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gIHBvcHBlci5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3RpcHB5LXRvb2x0aXAtJyArIGlkKTtcbiAgcG9wcGVyLnN0eWxlLnpJbmRleCA9IHpJbmRleDtcblxuICB2YXIgdG9vbHRpcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICB0b29sdGlwLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndGlwcHktdG9vbHRpcCB0aXBweS10b29sdGlwLS0nICsgc2l6ZSArICcgbGVhdmUnKTtcbiAgdG9vbHRpcC5zZXRBdHRyaWJ1dGUoJ2RhdGEtYW5pbWF0aW9uJywgYW5pbWF0aW9uKTtcblxuICB0aGVtZS5zcGxpdCgnICcpLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcbiAgICB0b29sdGlwLmNsYXNzTGlzdC5hZGQodCArICctdGhlbWUnKTtcbiAgfSk7XG5cbiAgaWYgKGFycm93KSB7XG4gICAgLy8gQWRkIGFuIGFycm93XG4gICAgdmFyIF9hcnJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIF9hcnJvdy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2Fycm93LScgKyBhcnJvd1NpemUpO1xuICAgIF9hcnJvdy5zZXRBdHRyaWJ1dGUoJ3gtYXJyb3cnLCAnJyk7XG4gICAgdG9vbHRpcC5hcHBlbmRDaGlsZChfYXJyb3cpO1xuICB9XG5cbiAgaWYgKGFuaW1hdGVGaWxsKSB7XG4gICAgLy8gQ3JlYXRlIGFuaW1hdGVGaWxsIGNpcmNsZSBlbGVtZW50IGZvciBhbmltYXRpb25cbiAgICB0b29sdGlwLnNldEF0dHJpYnV0ZSgnZGF0YS1hbmltYXRlZmlsbCcsICcnKTtcbiAgICB2YXIgY2lyY2xlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY2lyY2xlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnbGVhdmUnKTtcbiAgICBjaXJjbGUuc2V0QXR0cmlidXRlKCd4LWNpcmNsZScsICcnKTtcbiAgICB0b29sdGlwLmFwcGVuZENoaWxkKGNpcmNsZSk7XG4gIH1cblxuICBpZiAoaW5lcnRpYSkge1xuICAgIC8vIENoYW5nZSB0cmFuc2l0aW9uIHRpbWluZyBmdW5jdGlvbiBjdWJpYyBiZXppZXJcbiAgICB0b29sdGlwLnNldEF0dHJpYnV0ZSgnZGF0YS1pbmVydGlhJywgJycpO1xuICB9XG5cbiAgaWYgKGludGVyYWN0aXZlKSB7XG4gICAgdG9vbHRpcC5zZXRBdHRyaWJ1dGUoJ2RhdGEtaW50ZXJhY3RpdmUnLCAnJyk7XG4gIH1cblxuICAvLyBUb29sdGlwIGNvbnRlbnQgKHRleHQgb3IgSFRNTClcbiAgdmFyIGNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgY29udGVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3RpcHB5LXRvb2x0aXAtY29udGVudCcpO1xuXG4gIGlmIChodG1sKSB7XG4gICAgdmFyIHRlbXBsYXRlSWQgPSB2b2lkIDA7XG5cbiAgICBpZiAoaHRtbCBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoaHRtbCk7XG4gICAgICB0ZW1wbGF0ZUlkID0gJyMnICsgaHRtbC5pZCB8fCAndGlwcHktaHRtbC10ZW1wbGF0ZSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaHRtbC5yZXBsYWNlKCcjJywgJycpKS5pbm5lckhUTUw7XG4gICAgICB0ZW1wbGF0ZUlkID0gaHRtbDtcbiAgICB9XG5cbiAgICBwb3BwZXIuY2xhc3NMaXN0LmFkZCgnaHRtbC10ZW1wbGF0ZScpO1xuICAgIGludGVyYWN0aXZlICYmIHBvcHBlci5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJy0xJyk7XG4gICAgdG9vbHRpcC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGVtcGxhdGUtaWQnLCB0ZW1wbGF0ZUlkKTtcbiAgfSBlbHNlIHtcbiAgICBjb250ZW50LmlubmVySFRNTCA9IHRpdGxlO1xuICB9XG5cbiAgLy8gSW5pdCBkaXN0YW5jZS4gRnVydGhlciB1cGRhdGVzIGFyZSBtYWRlIGluIHRoZSBwb3BwZXIgaW5zdGFuY2UncyBgb25VcGRhdGUoKWAgbWV0aG9kXG4gIHRvb2x0aXAuc3R5bGVbZ2V0Q29yZVBsYWNlbWVudChwb3NpdGlvbildID0gZ2V0T2Zmc2V0RGlzdGFuY2VJblB4KGRpc3RhbmNlKTtcblxuICB0b29sdGlwLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuICBwb3BwZXIuYXBwZW5kQ2hpbGQodG9vbHRpcCk7XG5cbiAgcmV0dXJuIHBvcHBlcjtcbn1cblxuLyoqXG4qIENyZWF0ZXMgYSB0cmlnZ2VyXG4qIEBwYXJhbSB7T2JqZWN0fSBldmVudCAtIHRoZSBjdXN0b20gZXZlbnQgc3BlY2lmaWVkIGluIHRoZSBgdHJpZ2dlcmAgc2V0dGluZ1xuKiBAcGFyYW0ge0VsZW1lbnR9IGVsIC0gdG9vbHRpcHBlZCBlbGVtZW50XG4qIEBwYXJhbSB7T2JqZWN0fSBoYW5kbGVycyAtIHRoZSBoYW5kbGVycyBmb3IgZWFjaCBsaXN0ZW5lclxuKiBAcGFyYW0ge0Jvb2xlYW59IHRvdWNoSG9sZFxuKiBAcmV0dXJuIHtBcnJheX0gLSBhcnJheSBvZiBsaXN0ZW5lciBvYmplY3RzXG4qL1xuZnVuY3Rpb24gY3JlYXRlVHJpZ2dlcihldmVudCwgZWwsIGhhbmRsZXJzLCB0b3VjaEhvbGQpIHtcbiAgdmFyIGxpc3RlbmVycyA9IFtdO1xuXG4gIGlmIChldmVudCA9PT0gJ21hbnVhbCcpIHJldHVybiBsaXN0ZW5lcnM7XG5cbiAgLy8gRW50ZXJcbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlcnMuaGFuZGxlVHJpZ2dlcik7XG4gIGxpc3RlbmVycy5wdXNoKHtcbiAgICBldmVudDogZXZlbnQsXG4gICAgaGFuZGxlcjogaGFuZGxlcnMuaGFuZGxlVHJpZ2dlclxuICB9KTtcblxuICAvLyBMZWF2ZVxuICBpZiAoZXZlbnQgPT09ICdtb3VzZWVudGVyJykge1xuICAgIGlmIChCcm93c2VyLlNVUFBPUlRTX1RPVUNIICYmIHRvdWNoSG9sZCkge1xuICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGhhbmRsZXJzLmhhbmRsZVRyaWdnZXIpO1xuICAgICAgbGlzdGVuZXJzLnB1c2goe1xuICAgICAgICBldmVudDogJ3RvdWNoc3RhcnQnLFxuICAgICAgICBoYW5kbGVyOiBoYW5kbGVycy5oYW5kbGVUcmlnZ2VyXG4gICAgICB9KTtcbiAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgaGFuZGxlcnMuaGFuZGxlTW91c2VsZWF2ZSk7XG4gICAgICBsaXN0ZW5lcnMucHVzaCh7XG4gICAgICAgIGV2ZW50OiAndG91Y2hlbmQnLFxuICAgICAgICBoYW5kbGVyOiBoYW5kbGVycy5oYW5kbGVNb3VzZWxlYXZlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgaGFuZGxlcnMuaGFuZGxlTW91c2VsZWF2ZSk7XG4gICAgbGlzdGVuZXJzLnB1c2goe1xuICAgICAgZXZlbnQ6ICdtb3VzZWxlYXZlJyxcbiAgICAgIGhhbmRsZXI6IGhhbmRsZXJzLmhhbmRsZU1vdXNlbGVhdmVcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChldmVudCA9PT0gJ2ZvY3VzJykge1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBoYW5kbGVycy5oYW5kbGVCbHVyKTtcbiAgICBsaXN0ZW5lcnMucHVzaCh7XG4gICAgICBldmVudDogJ2JsdXInLFxuICAgICAgaGFuZGxlcjogaGFuZGxlcnMuaGFuZGxlQmx1clxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGxpc3RlbmVycztcbn1cblxuLyoqXG4qIERldGVybWluZXMgaWYgdGhlIG1vdXNlJ3MgY3Vyc29yIGlzIG91dHNpZGUgdGhlIGludGVyYWN0aXZlIGJvcmRlclxuKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50XG4qIEBwYXJhbSB7RWxlbWVudH0gcG9wcGVyXG4qIEBwYXJhbSB7T2JqZWN0fSBzZXR0aW5nc1xuKiBAcmV0dXJuIHtCb29sZWFufVxuKi9cbmZ1bmN0aW9uIGN1cnNvcklzT3V0c2lkZUludGVyYWN0aXZlQm9yZGVyKGV2ZW50LCBwb3BwZXIsIHNldHRpbmdzKSB7XG4gIGlmICghcG9wcGVyLmdldEF0dHJpYnV0ZSgneC1wbGFjZW1lbnQnKSkgcmV0dXJuIHRydWU7XG5cbiAgdmFyIHggPSBldmVudC5jbGllbnRYLFxuICAgICAgeSA9IGV2ZW50LmNsaWVudFk7XG4gIHZhciBpbnRlcmFjdGl2ZUJvcmRlciA9IHNldHRpbmdzLmludGVyYWN0aXZlQm9yZGVyLFxuICAgICAgZGlzdGFuY2UgPSBzZXR0aW5ncy5kaXN0YW5jZTtcblxuXG4gIHZhciByZWN0ID0gcG9wcGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICB2YXIgY29yZVBvc2l0aW9uID0gZ2V0Q29yZVBsYWNlbWVudChwb3BwZXIuZ2V0QXR0cmlidXRlKCd4LXBsYWNlbWVudCcpKTtcbiAgdmFyIGJvcmRlcldpdGhEaXN0YW5jZSA9IGludGVyYWN0aXZlQm9yZGVyICsgZGlzdGFuY2U7XG5cbiAgdmFyIGV4Y2VlZHMgPSB7XG4gICAgdG9wOiByZWN0LnRvcCAtIHkgPiBpbnRlcmFjdGl2ZUJvcmRlcixcbiAgICBib3R0b206IHkgLSByZWN0LmJvdHRvbSA+IGludGVyYWN0aXZlQm9yZGVyLFxuICAgIGxlZnQ6IHJlY3QubGVmdCAtIHggPiBpbnRlcmFjdGl2ZUJvcmRlcixcbiAgICByaWdodDogeCAtIHJlY3QucmlnaHQgPiBpbnRlcmFjdGl2ZUJvcmRlclxuICB9O1xuXG4gIHN3aXRjaCAoY29yZVBvc2l0aW9uKSB7XG4gICAgY2FzZSAndG9wJzpcbiAgICAgIGV4Y2VlZHMudG9wID0gcmVjdC50b3AgLSB5ID4gYm9yZGVyV2l0aERpc3RhbmNlO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnYm90dG9tJzpcbiAgICAgIGV4Y2VlZHMuYm90dG9tID0geSAtIHJlY3QuYm90dG9tID4gYm9yZGVyV2l0aERpc3RhbmNlO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnbGVmdCc6XG4gICAgICBleGNlZWRzLmxlZnQgPSByZWN0LmxlZnQgLSB4ID4gYm9yZGVyV2l0aERpc3RhbmNlO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAncmlnaHQnOlxuICAgICAgZXhjZWVkcy5yaWdodCA9IHggLSByZWN0LnJpZ2h0ID4gYm9yZGVyV2l0aERpc3RhbmNlO1xuICAgICAgYnJlYWs7XG4gIH1cblxuICByZXR1cm4gZXhjZWVkcy50b3AgfHwgZXhjZWVkcy5ib3R0b20gfHwgZXhjZWVkcy5sZWZ0IHx8IGV4Y2VlZHMucmlnaHQ7XG59XG5cbi8qKlxuKiBSZXR1cm5zIHJlbGV2YW50IGxpc3RlbmVyIGNhbGxiYWNrcyBmb3IgZWFjaCByZWZcbiogQHBhcmFtIHtFbGVtZW50fSBlbFxuKiBAcGFyYW0ge0VsZW1lbnR9IHBvcHBlclxuKiBAcGFyYW0ge09iamVjdH0gc2V0dGluZ3NcbiogQHJldHVybiB7T2JqZWN0fSAtIHJlbGV2YW50IGxpc3RlbmVyIGhhbmRsZXJzXG4qL1xuZnVuY3Rpb24gZ2V0RXZlbnRMaXN0ZW5lckhhbmRsZXJzKGVsLCBwb3BwZXIsIHNldHRpbmdzKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgdmFyIHBvc2l0aW9uID0gc2V0dGluZ3MucG9zaXRpb24sXG4gICAgICBkZWxheSA9IHNldHRpbmdzLmRlbGF5LFxuICAgICAgZHVyYXRpb24gPSBzZXR0aW5ncy5kdXJhdGlvbixcbiAgICAgIGludGVyYWN0aXZlID0gc2V0dGluZ3MuaW50ZXJhY3RpdmUsXG4gICAgICBpbnRlcmFjdGl2ZUJvcmRlciA9IHNldHRpbmdzLmludGVyYWN0aXZlQm9yZGVyLFxuICAgICAgZGlzdGFuY2UgPSBzZXR0aW5ncy5kaXN0YW5jZSxcbiAgICAgIGhpZGVPbkNsaWNrID0gc2V0dGluZ3MuaGlkZU9uQ2xpY2ssXG4gICAgICB0cmlnZ2VyID0gc2V0dGluZ3MudHJpZ2dlcixcbiAgICAgIHRvdWNoSG9sZCA9IHNldHRpbmdzLnRvdWNoSG9sZCxcbiAgICAgIHRvdWNoV2FpdCA9IHNldHRpbmdzLnRvdWNoV2FpdDtcblxuXG4gIHZhciBzaG93RGVsYXkgPSB2b2lkIDAsXG4gICAgICBoaWRlRGVsYXkgPSB2b2lkIDA7XG5cbiAgdmFyIGNsZWFyVGltZW91dHMgPSBmdW5jdGlvbiBjbGVhclRpbWVvdXRzKCkge1xuICAgIGNsZWFyVGltZW91dChzaG93RGVsYXkpO1xuICAgIGNsZWFyVGltZW91dChoaWRlRGVsYXkpO1xuICB9O1xuXG4gIHZhciBfc2hvdyA9IGZ1bmN0aW9uIF9zaG93KCkge1xuICAgIGNsZWFyVGltZW91dHMoKTtcblxuICAgIC8vIE5vdCBoaWRkZW4uIEZvciBjbGlja2luZyB3aGVuIGl0IGFsc28gaGFzIGEgYGZvY3VzYCBldmVudCBsaXN0ZW5lclxuICAgIGlmIChpc1Zpc2libGUocG9wcGVyKSkgcmV0dXJuO1xuXG4gICAgdmFyIF9kZWxheSA9IEFycmF5LmlzQXJyYXkoZGVsYXkpID8gZGVsYXlbMF0gOiBkZWxheTtcblxuICAgIGlmIChkZWxheSkge1xuICAgICAgc2hvd0RlbGF5ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5zaG93KHBvcHBlcik7XG4gICAgICB9LCBfZGVsYXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBfdGhpcy5zaG93KHBvcHBlcik7XG4gICAgfVxuICB9O1xuXG4gIHZhciBzaG93ID0gZnVuY3Rpb24gc2hvdyhldmVudCkge1xuICAgIHJldHVybiBfdGhpcy5jYWxsYmFja3Mud2FpdCA/IF90aGlzLmNhbGxiYWNrcy53YWl0LmNhbGwocG9wcGVyLCBfc2hvdywgZXZlbnQpIDogX3Nob3coKTtcbiAgfTtcblxuICB2YXIgaGlkZSA9IGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgY2xlYXJUaW1lb3V0cygpO1xuXG4gICAgdmFyIF9kZWxheSA9IEFycmF5LmlzQXJyYXkoZGVsYXkpID8gZGVsYXlbMV0gOiBkZWxheTtcblxuICAgIGlmIChkZWxheSkge1xuICAgICAgaGlkZURlbGF5ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5oaWRlKHBvcHBlcik7XG4gICAgICB9LCBfZGVsYXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBfdGhpcy5oaWRlKHBvcHBlcik7XG4gICAgfVxuICB9O1xuXG4gIHZhciBoYW5kbGVUcmlnZ2VyID0gZnVuY3Rpb24gaGFuZGxlVHJpZ2dlcihldmVudCkge1xuICAgIHZhciBtb3VzZWVudGVyVG91Y2ggPSBldmVudC50eXBlID09PSAnbW91c2VlbnRlcicgJiYgQnJvd3Nlci5TVVBQT1JUU19UT1VDSCAmJiBCcm93c2VyLnRvdWNoO1xuXG4gICAgaWYgKG1vdXNlZW50ZXJUb3VjaCAmJiB0b3VjaEhvbGQpIHJldHVybjtcblxuICAgIC8vIFRvZ2dsZSBzaG93L2hpZGUgd2hlbiBjbGlja2luZyBjbGljay10cmlnZ2VyZWQgdG9vbHRpcHNcbiAgICB2YXIgaXNDbGljayA9IGV2ZW50LnR5cGUgPT09ICdjbGljayc7XG4gICAgdmFyIGlzTm90UGVyc2lzdGVudCA9IGhpZGVPbkNsaWNrICE9PSAncGVyc2lzdGVudCc7XG5cbiAgICBpc0NsaWNrICYmIGlzVmlzaWJsZShwb3BwZXIpICYmIGlzTm90UGVyc2lzdGVudCA/IGhpZGUoKSA6IHNob3coZXZlbnQpO1xuXG4gICAgaWYgKG1vdXNlZW50ZXJUb3VjaCAmJiBCcm93c2VyLmlPUygpICYmIGVsLmNsaWNrKSB7XG4gICAgICBlbC5jbGljaygpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgaGFuZGxlTW91c2VsZWF2ZSA9IGZ1bmN0aW9uIGhhbmRsZU1vdXNlbGVhdmUoZXZlbnQpIHtcblxuICAgIC8vIERvbid0IGZpcmUgJ21vdXNlbGVhdmUnLCB1c2UgdGhlICd0b3VjaGVuZCdcbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ21vdXNlbGVhdmUnICYmIEJyb3dzZXIuU1VQUE9SVFNfVE9VQ0ggJiYgQnJvd3Nlci50b3VjaCAmJiB0b3VjaEhvbGQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaW50ZXJhY3RpdmUpIHtcbiAgICAgIC8vIFRlbXBvcmFyaWx5IGhhbmRsZSBtb3VzZW1vdmUgdG8gY2hlY2sgaWYgdGhlIG1vdXNlIGxlZnQgc29tZXdoZXJlXG4gICAgICAvLyBvdGhlciB0aGFuIGl0cyBwb3BwZXJcbiAgICAgIHZhciBoYW5kbGVNb3VzZW1vdmUgPSBmdW5jdGlvbiBoYW5kbGVNb3VzZW1vdmUoZXZlbnQpIHtcblxuICAgICAgICB2YXIgdHJpZ2dlckhpZGUgPSBmdW5jdGlvbiB0cmlnZ2VySGlkZSgpIHtcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBoaWRlKTtcbiAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kbGVNb3VzZW1vdmUpO1xuICAgICAgICAgIGhpZGUoKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgY2xvc2VzdFRvb2x0aXBwZWRFbCA9IGNsb3Nlc3QoZXZlbnQudGFyZ2V0LCBTZWxlY3RvcnMuVE9PTFRJUFBFRF9FTCk7XG5cbiAgICAgICAgdmFyIGlzT3ZlclBvcHBlciA9IGNsb3Nlc3QoZXZlbnQudGFyZ2V0LCBTZWxlY3RvcnMuUE9QUEVSKSA9PT0gcG9wcGVyO1xuICAgICAgICB2YXIgaXNPdmVyRWwgPSBjbG9zZXN0VG9vbHRpcHBlZEVsID09PSBlbDtcbiAgICAgICAgdmFyIGlzQ2xpY2tUcmlnZ2VyZWQgPSB0cmlnZ2VyLmluZGV4T2YoJ2NsaWNrJykgIT09IC0xO1xuICAgICAgICB2YXIgaXNPdmVyT3RoZXJUb29sdGlwcGVkRWwgPSBjbG9zZXN0VG9vbHRpcHBlZEVsICYmIGNsb3Nlc3RUb29sdGlwcGVkRWwgIT09IGVsO1xuXG4gICAgICAgIGlmIChpc092ZXJPdGhlclRvb2x0aXBwZWRFbCkge1xuICAgICAgICAgIHJldHVybiB0cmlnZ2VySGlkZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzT3ZlclBvcHBlciB8fCBpc092ZXJFbCB8fCBpc0NsaWNrVHJpZ2dlcmVkKSByZXR1cm47XG5cbiAgICAgICAgaWYgKGN1cnNvcklzT3V0c2lkZUludGVyYWN0aXZlQm9yZGVyKGV2ZW50LCBwb3BwZXIsIHNldHRpbmdzKSkge1xuICAgICAgICAgIHRyaWdnZXJIaWRlKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGhpZGUpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgaGFuZGxlTW91c2Vtb3ZlKTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIElmIGl0J3Mgbm90IGludGVyYWN0aXZlLCBqdXN0IGhpZGUgaXRcbiAgICBoaWRlKCk7XG4gIH07XG5cbiAgdmFyIGhhbmRsZUJsdXIgPSBmdW5jdGlvbiBoYW5kbGVCbHVyKGV2ZW50KSB7XG4gICAgLy8gSWdub3JlIGJsdXIgb24gdG91Y2ggZGV2aWNlcywgaWYgdGhlcmUgaXMgbm8gYHJlbGF0ZWRUYXJnZXRgLCBoaWRlXG4gICAgLy8gSWYgdGhlIHJlbGF0ZWQgdGFyZ2V0IGlzIGEgcG9wcGVyLCBpZ25vcmVcbiAgICBpZiAoIWV2ZW50LnJlbGF0ZWRUYXJnZXQgfHwgQnJvd3Nlci50b3VjaCkgcmV0dXJuO1xuICAgIGlmIChjbG9zZXN0KGV2ZW50LnJlbGF0ZWRUYXJnZXQsIFNlbGVjdG9ycy5QT1BQRVIpKSByZXR1cm47XG5cbiAgICBoaWRlKCk7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBoYW5kbGVUcmlnZ2VyOiBoYW5kbGVUcmlnZ2VyLFxuICAgIGhhbmRsZU1vdXNlbGVhdmU6IGhhbmRsZU1vdXNlbGVhdmUsXG4gICAgaGFuZGxlQmx1cjogaGFuZGxlQmx1clxuICB9O1xufVxuXG4vKipcbiogRXZhbHVhdGVzL21vZGlmaWVzIHRoZSBzZXR0aW5ncyBvYmplY3QgZm9yIGFwcHJvcHJpYXRlIGJlaGF2aW9yXG4qIEBwYXJhbSB7T2JqZWN0fSBzZXR0aW5nc1xuKiBAcmV0dXJuIHtPYmplY3R9IG1vZGlmaWVkL2V2YWx1YXRlZCBzZXR0aW5nc1xuKi9cbmZ1bmN0aW9uIGV2YWx1YXRlU2V0dGluZ3Moc2V0dGluZ3MpIHtcbiAgLy8gYW5pbWF0ZUZpbGwgaXMgZGlzYWJsZWQgaWYgYW4gYXJyb3cgaXMgdHJ1ZVxuICBpZiAoc2V0dGluZ3MuYXJyb3cpIHtcbiAgICBzZXR0aW5ncy5hbmltYXRlRmlsbCA9IGZhbHNlO1xuICB9XG5cbiAgLy8gcmVhc3NpZ24gYXBwZW5kVG8gaW50byB0aGUgcmVzdWx0IG9mIGV2YWx1YXRpbmcgYXBwZW5kVG9cbiAgLy8gaWYgaXQncyBzZXQgYXMgYSBmdW5jdGlvbiBpbnN0ZWFkIG9mIEVsZW1lbnRcbiAgaWYgKHNldHRpbmdzLmFwcGVuZFRvICYmIHR5cGVvZiBzZXR0aW5ncy5hcHBlbmRUbyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHNldHRpbmdzLmFwcGVuZFRvID0gc2V0dGluZ3MuYXBwZW5kVG8oKTtcbiAgfVxuXG4gIHJldHVybiBzZXR0aW5ncztcbn1cblxudmFyIGlkQ291bnRlciA9IDE7XG5cbi8qKlxuKiBDcmVhdGVzIHRvb2x0aXBzIGZvciBhbGwgZWwgZWxlbWVudHMgdGhhdCBtYXRjaCB0aGUgaW5zdGFuY2UncyBzZWxlY3RvclxuKiBAcGFyYW0ge0VsZW1lbnRbXX0gZWxzXG4qIEByZXR1cm4ge09iamVjdFtdfSBBcnJheSBvZiByZWYgZGF0YSBvYmplY3RzXG4qL1xuZnVuY3Rpb24gY3JlYXRlVG9vbHRpcHMoZWxzKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgcmV0dXJuIGVscy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgZWwpIHtcbiAgICB2YXIgaWQgPSBpZENvdW50ZXI7XG5cbiAgICB2YXIgc2V0dGluZ3MgPSBfZXh0ZW5kcyQxKHt9LCBldmFsdWF0ZVNldHRpbmdzKF90aGlzLnNldHRpbmdzLnBlcmZvcm1hbmNlID8gX3RoaXMuc2V0dGluZ3MgOiBnZXRJbmRpdmlkdWFsU2V0dGluZ3MoZWwsIF90aGlzLnNldHRpbmdzKSkpO1xuXG4gICAgaWYgKHR5cGVvZiBzZXR0aW5ncy5odG1sID09PSAnZnVuY3Rpb24nKSBzZXR0aW5ncy5odG1sID0gc2V0dGluZ3MuaHRtbChlbCk7XG5cbiAgICB2YXIgaHRtbCA9IHNldHRpbmdzLmh0bWwsXG4gICAgICAgIHRyaWdnZXIgPSBzZXR0aW5ncy50cmlnZ2VyLFxuICAgICAgICB0b3VjaEhvbGQgPSBzZXR0aW5ncy50b3VjaEhvbGQsXG4gICAgICAgIGR5bmFtaWNUaXRsZSA9IHNldHRpbmdzLmR5bmFtaWNUaXRsZTtcblxuXG4gICAgdmFyIHRpdGxlID0gZWwuZ2V0QXR0cmlidXRlKCd0aXRsZScpO1xuICAgIGlmICghdGl0bGUgJiYgIWh0bWwpIHJldHVybiBhY2M7XG5cbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcHBlZCcsICcnKTtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGVzY3JpYmVkYnknLCAndGlwcHktdG9vbHRpcC0nICsgaWQpO1xuICAgIHJlbW92ZVRpdGxlKGVsKTtcblxuICAgIHZhciBwb3BwZXIgPSBjcmVhdGVQb3BwZXJFbGVtZW50KGlkLCB0aXRsZSwgc2V0dGluZ3MpO1xuICAgIHZhciBoYW5kbGVycyA9IGdldEV2ZW50TGlzdGVuZXJIYW5kbGVycy5jYWxsKF90aGlzLCBlbCwgcG9wcGVyLCBzZXR0aW5ncyk7XG5cbiAgICB2YXIgbGlzdGVuZXJzID0gW107XG5cbiAgICB0cmlnZ2VyLnRyaW0oKS5zcGxpdCgnICcpLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICByZXR1cm4gbGlzdGVuZXJzID0gbGlzdGVuZXJzLmNvbmNhdChjcmVhdGVUcmlnZ2VyKGV2ZW50LCBlbCwgaGFuZGxlcnMsIHRvdWNoSG9sZCkpO1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGEgbXV0YXRpb24gb2JzZXJ2ZXIgdG8gb2JzZXJ2ZSB0aGUgcmVmZXJlbmNlIGVsZW1lbnQgZm9yIGB0aXRsZWBcbiAgICAvLyBhdHRyaWJ1dGUgY2hhbmdlcywgdGhlbiBhdXRvbWF0aWNhbGx5IHVwZGF0ZSB0b29sdGlwIGNvbnRlbnRcbiAgICB2YXIgb2JzZXJ2ZXIgPSB2b2lkIDA7XG5cbiAgICBpZiAoZHluYW1pY1RpdGxlICYmIHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyKSB7XG4gICAgICB2YXIgX2dldElubmVyRWxlbWVudHMgPSBnZXRJbm5lckVsZW1lbnRzKHBvcHBlciksXG4gICAgICAgICAgY29udGVudCA9IF9nZXRJbm5lckVsZW1lbnRzLmNvbnRlbnQ7XG5cbiAgICAgIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGl0bGUgPSBlbC5nZXRBdHRyaWJ1dGUoJ3RpdGxlJyk7XG4gICAgICAgIGlmICh0aXRsZSkge1xuICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gdGl0bGU7XG4gICAgICAgICAgcmVtb3ZlVGl0bGUoZWwpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShlbCwgeyBhdHRyaWJ1dGVzOiB0cnVlIH0pO1xuICAgIH1cblxuICAgIGFjYy5wdXNoKHtcbiAgICAgIGlkOiBpZCxcbiAgICAgIGVsOiBlbCxcbiAgICAgIHBvcHBlcjogcG9wcGVyLFxuICAgICAgc2V0dGluZ3M6IHNldHRpbmdzLFxuICAgICAgbGlzdGVuZXJzOiBsaXN0ZW5lcnMsXG4gICAgICB0aXBweUluc3RhbmNlOiBfdGhpcyxcbiAgICAgIF9tdXRhdGlvbk9ic2VydmVyczogW29ic2VydmVyXVxuICAgIH0pO1xuXG4gICAgaWRDb3VudGVyKys7XG5cbiAgICByZXR1cm4gYWNjO1xuICB9LCBbXSk7XG59XG5cbi8qIFV0aWxpdHkgZnVuY3Rpb25zICovXG4vKiBDb3JlIGxpYnJhcnkgZnVuY3Rpb25zICovXG4vKipcbiogQHBhcmFtIHtTdHJpbmd8RWxlbWVudHxFbGVtZW50W119IHNlbGVjdG9yXG4qIEBwYXJhbSB7T2JqZWN0fSBzZXR0aW5ncyAob3B0aW9uYWwpIC0gdGhlIG9iamVjdCBvZiBzZXR0aW5ncyB0byBiZSBhcHBsaWVkIHRvIHRoZSBpbnN0YW5jZVxuKi9cblxudmFyIFRpcHB5ID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBUaXBweShzZWxlY3Rvcikge1xuICAgIHZhciBzZXR0aW5ncyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgY2xhc3NDYWxsQ2hlY2skMSh0aGlzLCBUaXBweSk7XG5cbiAgICAvLyBVc2UgZGVmYXVsdCBicm93c2VyIHRvb2x0aXAgb24gdW5zdXBwb3J0ZWQgYnJvd3NlcnNcbiAgICBpZiAoIUJyb3dzZXIuU1VQUE9SVEVEKSByZXR1cm47XG5cbiAgICBpbml0KCk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgZGVzdHJveWVkOiBmYWxzZVxuICAgIH07XG5cbiAgICB0aGlzLnNlbGVjdG9yID0gc2VsZWN0b3I7XG5cbiAgICB0aGlzLnNldHRpbmdzID0gX2V4dGVuZHMkMSh7fSwgRGVmYXVsdHMsIHNldHRpbmdzKTtcblxuICAgIGlmIChzZXR0aW5ncy5zaG93IHx8IHNldHRpbmdzLnNob3duIHx8IHNldHRpbmdzLmhpZGUgfHwgc2V0dGluZ3MuaGlkZGVuKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0NhbGxiYWNrcyB3aXRob3V0IHRoZSBgb25gIHByZWZpeCBhcmUgZGVwcmVjYXRlZCAod2l0aCB0aGUgZXhjZXB0aW9uIG9mIGB3YWl0YCkuJyArICcgVXNlIG9uU2hvdywgb25TaG93biwgb25IaWRlLCBhbmQgb25IaWRkZW4gaW5zdGVhZC4nKTtcbiAgICB9XG5cbiAgICB0aGlzLmNhbGxiYWNrcyA9IHtcbiAgICAgIHdhaXQ6IHNldHRpbmdzLndhaXQsXG4gICAgICBzaG93OiBzZXR0aW5ncy5vblNob3cgfHwgc2V0dGluZ3Muc2hvdyB8fCBub29wLFxuICAgICAgc2hvd246IHNldHRpbmdzLm9uU2hvd24gfHwgc2V0dGluZ3Muc2hvd24gfHwgbm9vcCxcbiAgICAgIGhpZGU6IHNldHRpbmdzLm9uSGlkZSB8fCBzZXR0aW5ncy5oaWRlIHx8IG5vb3AsXG4gICAgICBoaWRkZW46IHNldHRpbmdzLm9uSGlkZGVuIHx8IHNldHRpbmdzLmhpZGRlbiB8fCBub29wXG4gICAgfTtcblxuICAgIHRoaXMuc3RvcmUgPSBjcmVhdGVUb29sdGlwcy5jYWxsKHRoaXMsIGdldEFycmF5T2ZFbGVtZW50cyhzZWxlY3RvcikpO1xuICAgIFN0b3JlLnB1c2guYXBwbHkoU3RvcmUsIHRoaXMuc3RvcmUpO1xuICB9XG5cbiAgLyoqXG4gICogUmV0dXJucyB0aGUgcmVmZXJlbmNlIGVsZW1lbnQncyBwb3BwZXIgZWxlbWVudFxuICAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAgKiBAcmV0dXJuIHtFbGVtZW50fVxuICAqL1xuXG5cbiAgY3JlYXRlQ2xhc3MkMShUaXBweSwgW3tcbiAgICBrZXk6ICdnZXRQb3BwZXJFbGVtZW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UG9wcGVyRWxlbWVudChlbCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGZpbmQodGhpcy5zdG9yZSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICByZXR1cm4gZGF0YS5lbCA9PT0gZWw7XG4gICAgICAgIH0pLnBvcHBlcjtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2dldFBvcHBlckVsZW1lbnRdOiBFbGVtZW50IHBhc3NlZCBhcyB0aGUgYXJndW1lbnQgZG9lcyBub3QgZXhpc3QgaW4gdGhlIGluc3RhbmNlJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBSZXR1cm5zIGEgcG9wcGVyJ3MgcmVmZXJlbmNlIGVsZW1lbnRcbiAgICAqIEBwYXJhbSB7RWxlbWVudH0gcG9wcGVyXG4gICAgKiBAcmV0dXJuIHtFbGVtZW50fVxuICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2dldFJlZmVyZW5jZUVsZW1lbnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRSZWZlcmVuY2VFbGVtZW50KHBvcHBlcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGZpbmQodGhpcy5zdG9yZSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICByZXR1cm4gZGF0YS5wb3BwZXIgPT09IHBvcHBlcjtcbiAgICAgICAgfSkuZWw7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tnZXRSZWZlcmVuY2VFbGVtZW50XTogUG9wcGVyIHBhc3NlZCBhcyB0aGUgYXJndW1lbnQgZG9lcyBub3QgZXhpc3QgaW4gdGhlIGluc3RhbmNlJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBSZXR1cm5zIHRoZSByZWZlcmVuY2UgZGF0YSBvYmplY3QgZnJvbSBlaXRoZXIgdGhlIHJlZmVyZW5jZSBlbGVtZW50IG9yIHBvcHBlciBlbGVtZW50XG4gICAgKiBAcGFyYW0ge0VsZW1lbnR9IHggKHJlZmVyZW5jZSBlbGVtZW50IG9yIHBvcHBlcilcbiAgICAqIEByZXR1cm4ge09iamVjdH1cbiAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRSZWZlcmVuY2VEYXRhJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UmVmZXJlbmNlRGF0YSh4KSB7XG4gICAgICByZXR1cm4gZmluZCh0aGlzLnN0b3JlLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gZGF0YS5lbCA9PT0geCB8fCBkYXRhLnBvcHBlciA9PT0geDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogU2hvd3MgYSBwb3BwZXJcbiAgICAqIEBwYXJhbSB7RWxlbWVudH0gcG9wcGVyXG4gICAgKiBAcGFyYW0ge051bWJlcn0gY3VzdG9tRHVyYXRpb24gKG9wdGlvbmFsKVxuICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3Nob3cnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93KHBvcHBlciwgY3VzdG9tRHVyYXRpb24pIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLnN0YXRlLmRlc3Ryb3llZCkgcmV0dXJuO1xuXG4gICAgICB2YXIgZGF0YSA9IGZpbmQodGhpcy5zdG9yZSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIGRhdGEucG9wcGVyID09PSBwb3BwZXI7XG4gICAgICB9KTtcblxuICAgICAgdmFyIF9nZXRJbm5lckVsZW1lbnRzID0gZ2V0SW5uZXJFbGVtZW50cyhwb3BwZXIpLFxuICAgICAgICAgIHRvb2x0aXAgPSBfZ2V0SW5uZXJFbGVtZW50cy50b29sdGlwLFxuICAgICAgICAgIGNpcmNsZSA9IF9nZXRJbm5lckVsZW1lbnRzLmNpcmNsZSxcbiAgICAgICAgICBjb250ZW50ID0gX2dldElubmVyRWxlbWVudHMuY29udGVudDtcblxuICAgICAgLy8gRGVzdHJveSBwb3BwZXIgaWYgaXRzIHJlZmVyZW5jZSBpcyBubyBsb25nZXIgb24gdGhlIERPTSAoZXhjbHVkaW5nIHJlZk9ianMpXG5cblxuICAgICAgaWYgKCF0aGlzLnNlbGVjdG9yLnJlZk9iaiAmJiAhZG9jdW1lbnQuYm9keS5jb250YWlucyhkYXRhLmVsKSkge1xuICAgICAgICB0aGlzLmRlc3Ryb3kocG9wcGVyKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNhbGxiYWNrcy5zaG93LmNhbGwocG9wcGVyKTtcblxuICAgICAgdmFyIGVsID0gZGF0YS5lbCxcbiAgICAgICAgICBfZGF0YSRzZXR0aW5ncyA9IGRhdGEuc2V0dGluZ3MsXG4gICAgICAgICAgYXBwZW5kVG8gPSBfZGF0YSRzZXR0aW5ncy5hcHBlbmRUbyxcbiAgICAgICAgICBzdGlja3kgPSBfZGF0YSRzZXR0aW5ncy5zdGlja3ksXG4gICAgICAgICAgaW50ZXJhY3RpdmUgPSBfZGF0YSRzZXR0aW5ncy5pbnRlcmFjdGl2ZSxcbiAgICAgICAgICBmb2xsb3dDdXJzb3IgPSBfZGF0YSRzZXR0aW5ncy5mb2xsb3dDdXJzb3IsXG4gICAgICAgICAgZmxpcER1cmF0aW9uID0gX2RhdGEkc2V0dGluZ3MuZmxpcER1cmF0aW9uLFxuICAgICAgICAgIGR1cmF0aW9uID0gX2RhdGEkc2V0dGluZ3MuZHVyYXRpb247XG5cblxuICAgICAgdmFyIF9kdXJhdGlvbiA9IGN1c3RvbUR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBjdXN0b21EdXJhdGlvbiA6IEFycmF5LmlzQXJyYXkoZHVyYXRpb24pID8gZHVyYXRpb25bMF0gOiBkdXJhdGlvbjtcblxuICAgICAgLy8gUHJldmVudCBhIHRyYW5zaXRpb24gd2hlbiBwb3BwZXIgY2hhbmdlcyBwb3NpdGlvblxuICAgICAgYXBwbHlUcmFuc2l0aW9uRHVyYXRpb24oW3BvcHBlciwgdG9vbHRpcCwgY2lyY2xlXSwgMCk7XG5cbiAgICAgIG1vdW50UG9wcGVyKGRhdGEpO1xuXG4gICAgICBwb3BwZXIuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbiAgICAgIHBvcHBlci5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG5cbiAgICAgIC8vIFdhaXQgZm9yIHBvcHBlcidzIHBvc2l0aW9uIHRvIHVwZGF0ZVxuICAgICAgZGVmZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIWlzVmlzaWJsZShwb3BwZXIpKSByZXR1cm47XG5cbiAgICAgICAgLy8gU29tZXRpbWVzIHRoZSBhcnJvdyB3aWxsIG5vdCBiZSBpbiB0aGUgY29ycmVjdCBwb3NpdGlvbiwgZm9yY2UgYW5vdGhlciB1cGRhdGVcbiAgICAgICAgaWYgKCFmb2xsb3dDdXJzb3IgfHwgQnJvd3Nlci50b3VjaCkge1xuICAgICAgICAgIGRhdGEucG9wcGVySW5zdGFuY2UudXBkYXRlKCk7XG4gICAgICAgICAgYXBwbHlUcmFuc2l0aW9uRHVyYXRpb24oW3BvcHBlcl0sIGZsaXBEdXJhdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZS1hcHBseSB0cmFuc2l0aW9uIGR1cmF0aW9uc1xuICAgICAgICBhcHBseVRyYW5zaXRpb25EdXJhdGlvbihbdG9vbHRpcCwgY2lyY2xlXSwgX2R1cmF0aW9uKTtcblxuICAgICAgICAvLyBNYWtlIGNvbnRlbnQgZmFkZSBvdXQgYSBiaXQgZmFzdGVyIHRoYW4gdGhlIHRvb2x0aXAgaWYgYGFuaW1hdGVGaWxsYFxuICAgICAgICBpZiAoY2lyY2xlKSBjb250ZW50LnN0eWxlLm9wYWNpdHkgPSAxO1xuXG4gICAgICAgIC8vIEludGVyYWN0aXZlIHRvb2x0aXBzIHJlY2VpdmUgYSBjbGFzcyBvZiAnYWN0aXZlJ1xuICAgICAgICBpbnRlcmFjdGl2ZSAmJiBlbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcblxuICAgICAgICAvLyBVcGRhdGUgcG9wcGVyJ3MgcG9zaXRpb24gb24gZXZlcnkgYW5pbWF0aW9uIGZyYW1lXG4gICAgICAgIHN0aWNreSAmJiBtYWtlU3RpY2t5KGRhdGEpO1xuXG4gICAgICAgIC8vIFJlcGFpbnQvcmVmbG93IGlzIHJlcXVpcmVkIGZvciBDU1MgdHJhbnNpdGlvbiB3aGVuIGFwcGVuZGluZ1xuICAgICAgICB0cmlnZ2VyUmVmbG93KHRvb2x0aXAsIGNpcmNsZSk7XG5cbiAgICAgICAgbW9kaWZ5Q2xhc3NMaXN0KFt0b29sdGlwLCBjaXJjbGVdLCBmdW5jdGlvbiAobGlzdCkge1xuICAgICAgICAgIGxpc3QuY29udGFpbnMoJ3RpcHB5LW5vdHJhbnNpdGlvbicpICYmIGxpc3QucmVtb3ZlKCd0aXBweS1ub3RyYW5zaXRpb24nKTtcbiAgICAgICAgICBsaXN0LnJlbW92ZSgnbGVhdmUnKTtcbiAgICAgICAgICBsaXN0LmFkZCgnZW50ZXInKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gV2FpdCBmb3IgdHJhbnNpdGlvbnMgdG8gY29tcGxldGVcbiAgICAgICAgb25UcmFuc2l0aW9uRW5kKGRhdGEsIF9kdXJhdGlvbiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICghaXNWaXNpYmxlKHBvcHBlcikgfHwgZGF0YS5fb25TaG93bkZpcmVkKSByZXR1cm47XG5cbiAgICAgICAgICAvLyBGb2N1cyBpbnRlcmFjdGl2ZSB0b29sdGlwcyBvbmx5XG4gICAgICAgICAgaW50ZXJhY3RpdmUgJiYgcG9wcGVyLmZvY3VzKCk7XG4gICAgICAgICAgLy8gUmVtb3ZlIHRyYW5zaXRpb25zIGZyb20gdG9vbHRpcFxuICAgICAgICAgIHRvb2x0aXAuY2xhc3NMaXN0LmFkZCgndGlwcHktbm90cmFuc2l0aW9uJyk7XG4gICAgICAgICAgLy8gUHJldmVudHMgc2hvd24oKSBmcm9tIGZpcmluZyBtb3JlIHRoYW4gb25jZSBmcm9tIGVhcmx5IHRyYW5zaXRpb24gY2FuY2VsbGF0aW9uc1xuICAgICAgICAgIGRhdGEuX29uU2hvd25GaXJlZCA9IHRydWU7XG5cbiAgICAgICAgICBfdGhpcy5jYWxsYmFja3Muc2hvd24uY2FsbChwb3BwZXIpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogSGlkZXMgYSBwb3BwZXJcbiAgICAqIEBwYXJhbSB7RWxlbWVudH0gcG9wcGVyXG4gICAgKiBAcGFyYW0ge051bWJlcn0gY3VzdG9tRHVyYXRpb24gKG9wdGlvbmFsKVxuICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2hpZGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoaWRlKHBvcHBlciwgY3VzdG9tRHVyYXRpb24pIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5zdGF0ZS5kZXN0cm95ZWQpIHJldHVybjtcblxuICAgICAgdGhpcy5jYWxsYmFja3MuaGlkZS5jYWxsKHBvcHBlcik7XG5cbiAgICAgIHZhciBkYXRhID0gZmluZCh0aGlzLnN0b3JlLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gZGF0YS5wb3BwZXIgPT09IHBvcHBlcjtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgX2dldElubmVyRWxlbWVudHMyID0gZ2V0SW5uZXJFbGVtZW50cyhwb3BwZXIpLFxuICAgICAgICAgIHRvb2x0aXAgPSBfZ2V0SW5uZXJFbGVtZW50czIudG9vbHRpcCxcbiAgICAgICAgICBjaXJjbGUgPSBfZ2V0SW5uZXJFbGVtZW50czIuY2lyY2xlLFxuICAgICAgICAgIGNvbnRlbnQgPSBfZ2V0SW5uZXJFbGVtZW50czIuY29udGVudDtcblxuICAgICAgdmFyIGVsID0gZGF0YS5lbCxcbiAgICAgICAgICBfZGF0YSRzZXR0aW5nczIgPSBkYXRhLnNldHRpbmdzLFxuICAgICAgICAgIGFwcGVuZFRvID0gX2RhdGEkc2V0dGluZ3MyLmFwcGVuZFRvLFxuICAgICAgICAgIHN0aWNreSA9IF9kYXRhJHNldHRpbmdzMi5zdGlja3ksXG4gICAgICAgICAgaW50ZXJhY3RpdmUgPSBfZGF0YSRzZXR0aW5nczIuaW50ZXJhY3RpdmUsXG4gICAgICAgICAgZm9sbG93Q3Vyc29yID0gX2RhdGEkc2V0dGluZ3MyLmZvbGxvd0N1cnNvcixcbiAgICAgICAgICBodG1sID0gX2RhdGEkc2V0dGluZ3MyLmh0bWwsXG4gICAgICAgICAgdHJpZ2dlciA9IF9kYXRhJHNldHRpbmdzMi50cmlnZ2VyLFxuICAgICAgICAgIGR1cmF0aW9uID0gX2RhdGEkc2V0dGluZ3MyLmR1cmF0aW9uO1xuXG5cbiAgICAgIHZhciBfZHVyYXRpb24gPSBjdXN0b21EdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gY3VzdG9tRHVyYXRpb24gOiBBcnJheS5pc0FycmF5KGR1cmF0aW9uKSA/IGR1cmF0aW9uWzFdIDogZHVyYXRpb247XG5cbiAgICAgIGRhdGEuX29uU2hvd25GaXJlZCA9IGZhbHNlO1xuICAgICAgaW50ZXJhY3RpdmUgJiYgZWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG5cbiAgICAgIHBvcHBlci5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgICBwb3BwZXIuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG5cbiAgICAgIGFwcGx5VHJhbnNpdGlvbkR1cmF0aW9uKFt0b29sdGlwLCBjaXJjbGUsIGNpcmNsZSA/IGNvbnRlbnQgOiBudWxsXSwgX2R1cmF0aW9uKTtcblxuICAgICAgaWYgKGNpcmNsZSkgY29udGVudC5zdHlsZS5vcGFjaXR5ID0gMDtcblxuICAgICAgbW9kaWZ5Q2xhc3NMaXN0KFt0b29sdGlwLCBjaXJjbGVdLCBmdW5jdGlvbiAobGlzdCkge1xuICAgICAgICBsaXN0LmNvbnRhaW5zKCd0aXBweS10b29sdGlwJykgJiYgbGlzdC5yZW1vdmUoJ3RpcHB5LW5vdHJhbnNpdGlvbicpO1xuICAgICAgICBsaXN0LnJlbW92ZSgnZW50ZXInKTtcbiAgICAgICAgbGlzdC5hZGQoJ2xlYXZlJyk7XG4gICAgICB9KTtcblxuICAgICAgLy8gUmUtZm9jdXMgY2xpY2stdHJpZ2dlcmVkIGh0bWwgZWxlbWVudHNcbiAgICAgIC8vIGFuZCB0aGUgdG9vbHRpcHBlZCBlbGVtZW50IElTIGluIHRoZSB2aWV3cG9ydCAob3RoZXJ3aXNlIGl0IGNhdXNlcyB1bnNpZ2h0bHkgc2Nyb2xsaW5nXG4gICAgICAvLyBpZiB0aGUgdG9vbHRpcCBpcyBjbG9zZWQgYW5kIHRoZSBlbGVtZW50IGlzbid0IGluIHRoZSB2aWV3cG9ydCBhbnltb3JlKVxuICAgICAgaWYgKGh0bWwgJiYgdHJpZ2dlci5pbmRleE9mKCdjbGljaycpICE9PSAtMSAmJiBlbGVtZW50SXNJblZpZXdwb3J0KGVsKSkge1xuICAgICAgICBlbC5mb2N1cygpO1xuICAgICAgfVxuXG4gICAgICAvLyBXYWl0IGZvciB0cmFuc2l0aW9ucyB0byBjb21wbGV0ZVxuICAgICAgb25UcmFuc2l0aW9uRW5kKGRhdGEsIF9kdXJhdGlvbiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBgaXNWaXNpYmxlYCBpcyBub3QgY29tcGxldGVseSByZWxpYWJsZSB0byBkZXRlcm1pbmUgaWYgd2Ugc2hvdWxkbid0XG4gICAgICAgIC8vIHJ1biB0aGUgaGlkZGVuIGNhbGxiYWNrLCB3ZSBuZWVkIHRvIGNoZWNrIHRoZSBjb21wdXRlZCBvcGFjaXR5IHN0eWxlLlxuICAgICAgICAvLyBUaGlzIHByZXZlbnRzIGdsaXRjaHkgYmVoYXZpb3Igb2YgdGhlIHRyYW5zaXRpb24gd2hlbiBxdWlja2x5IHNob3dpbmdcbiAgICAgICAgLy8gYW5kIGhpZGluZyBhIHRvb2x0aXAuXG4gICAgICAgIGlmIChpc1Zpc2libGUocG9wcGVyKSB8fCAhYXBwZW5kVG8uY29udGFpbnMocG9wcGVyKSB8fCBnZXRDb21wdXRlZFN0eWxlKHRvb2x0aXApLm9wYWNpdHkgPT09ICcxJykgcmV0dXJuO1xuXG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGZvbGxvd0N1cnNvckhhbmRsZXIpO1xuICAgICAgICBkYXRhLnBvcHBlckluc3RhbmNlLmRpc2FibGVFdmVudExpc3RlbmVycygpO1xuICAgICAgICBhcHBlbmRUby5yZW1vdmVDaGlsZChwb3BwZXIpO1xuXG4gICAgICAgIF90aGlzMi5jYWxsYmFja3MuaGlkZGVuLmNhbGwocG9wcGVyKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogVXBkYXRlcyBhIHBvcHBlciB3aXRoIG5ldyBjb250ZW50XG4gICAgKiBAcGFyYW0ge0VsZW1lbnR9IHBvcHBlclxuICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3VwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZShwb3BwZXIpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLmRlc3Ryb3llZCkgcmV0dXJuO1xuXG4gICAgICB2YXIgZGF0YSA9IGZpbmQodGhpcy5zdG9yZSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIGRhdGEucG9wcGVyID09PSBwb3BwZXI7XG4gICAgICB9KTtcblxuICAgICAgdmFyIF9nZXRJbm5lckVsZW1lbnRzMyA9IGdldElubmVyRWxlbWVudHMocG9wcGVyKSxcbiAgICAgICAgICBjb250ZW50ID0gX2dldElubmVyRWxlbWVudHMzLmNvbnRlbnQ7XG5cbiAgICAgIHZhciBlbCA9IGRhdGEuZWwsXG4gICAgICAgICAgaHRtbCA9IGRhdGEuc2V0dGluZ3MuaHRtbDtcblxuXG4gICAgICBpZiAoaHRtbCBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdBYm9ydGVkOiB1cGRhdGUoKSBzaG91bGQgbm90IGJlIHVzZWQgaWYgYGh0bWxgIGlzIGEgRE9NIGVsZW1lbnQnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb250ZW50LmlubmVySFRNTCA9IGh0bWwgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChodG1sLnJlcGxhY2UoJyMnLCAnJykpLmlubmVySFRNTCA6IGVsLmdldEF0dHJpYnV0ZSgndGl0bGUnKSB8fCBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnKTtcblxuICAgICAgaWYgKCFodG1sKSByZW1vdmVUaXRsZShlbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBEZXN0cm95cyBhIHBvcHBlclxuICAgICogQHBhcmFtIHtFbGVtZW50fSBwb3BwZXJcbiAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gX2lzTGFzdCAtIHByaXZhdGUgcGFyYW0gdXNlZCBieSBkZXN0cm95QWxsIHRvIG9wdGltaXplXG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZGVzdHJveScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3kocG9wcGVyLCBfaXNMYXN0KSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMuc3RhdGUuZGVzdHJveWVkKSByZXR1cm47XG5cbiAgICAgIHZhciBkYXRhID0gZmluZCh0aGlzLnN0b3JlLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gZGF0YS5wb3BwZXIgPT09IHBvcHBlcjtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgZWwgPSBkYXRhLmVsLFxuICAgICAgICAgIHBvcHBlckluc3RhbmNlID0gZGF0YS5wb3BwZXJJbnN0YW5jZSxcbiAgICAgICAgICBsaXN0ZW5lcnMgPSBkYXRhLmxpc3RlbmVycyxcbiAgICAgICAgICBfbXV0YXRpb25PYnNlcnZlcnMgPSBkYXRhLl9tdXRhdGlvbk9ic2VydmVycztcblxuICAgICAgLy8gRW5zdXJlIHRoZSBwb3BwZXIgaXMgaGlkZGVuXG5cbiAgICAgIGlmIChpc1Zpc2libGUocG9wcGVyKSkge1xuICAgICAgICB0aGlzLmhpZGUocG9wcGVyLCAwKTtcbiAgICAgIH1cblxuICAgICAgLy8gUmVtb3ZlIFRpcHB5LW9ubHkgZXZlbnQgbGlzdGVuZXJzIGZyb20gdG9vbHRpcHBlZCBlbGVtZW50XG4gICAgICBsaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgcmV0dXJuIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIobGlzdGVuZXIuZXZlbnQsIGxpc3RlbmVyLmhhbmRsZXIpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFJlc3RvcmUgb3JpZ2luYWwgdGl0bGVcbiAgICAgIGVsLnNldEF0dHJpYnV0ZSgndGl0bGUnLCBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnKSk7XG5cbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1vcmlnaW5hbC10aXRsZScpO1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXRvb2x0aXBwZWQnKTtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1kZXNjcmliZWRieScpO1xuXG4gICAgICBwb3BwZXJJbnN0YW5jZSAmJiBwb3BwZXJJbnN0YW5jZS5kZXN0cm95KCk7XG5cbiAgICAgIF9tdXRhdGlvbk9ic2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgICBvYnNlcnZlciAmJiBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gUmVtb3ZlIGZyb20gc3RvcmVcbiAgICAgIFN0b3JlLnNwbGljZShmaW5kSW5kZXgoU3RvcmUsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHJldHVybiBkYXRhLnBvcHBlciA9PT0gcG9wcGVyO1xuICAgICAgfSksIDEpO1xuXG4gICAgICAvLyBFbnN1cmUgZmlsdGVyIGlzIGNhbGxlZCBvbmx5IG9uY2VcbiAgICAgIGlmIChfaXNMYXN0ID09PSB1bmRlZmluZWQgfHwgX2lzTGFzdCkge1xuICAgICAgICB0aGlzLnN0b3JlID0gU3RvcmUuZmlsdGVyKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgcmV0dXJuIGRhdGEudGlwcHlJbnN0YW5jZSA9PT0gX3RoaXMzO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAqIERlc3Ryb3lzIGFsbCB0b29sdGlwcyBjcmVhdGVkIGJ5IHRoZSBpbnN0YW5jZVxuICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2Rlc3Ryb3lBbGwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95QWxsKCkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLnN0YXRlLmRlc3Ryb3llZCkgcmV0dXJuO1xuXG4gICAgICB2YXIgc3RvcmVMZW5ndGggPSB0aGlzLnN0b3JlLmxlbmd0aDtcblxuICAgICAgdGhpcy5zdG9yZS5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmLCBpbmRleCkge1xuICAgICAgICB2YXIgcG9wcGVyID0gX3JlZi5wb3BwZXI7XG5cbiAgICAgICAgX3RoaXM0LmRlc3Ryb3kocG9wcGVyLCBpbmRleCA9PT0gc3RvcmVMZW5ndGggLSAxKTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnN0b3JlID0gbnVsbDtcbiAgICAgIHRoaXMuc3RhdGUuZGVzdHJveWVkID0gdHJ1ZTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFRpcHB5O1xufSgpO1xuXG5mdW5jdGlvbiB0aXBweSQyKHNlbGVjdG9yLCBzZXR0aW5ncykge1xuICAvLyBDcmVhdGUgYSB2aXJ0dWFsIG9iamVjdCBmb3IgY3VzdG9tIHBvc2l0aW9uaW5nXG4gIGlmIChpc09iamVjdExpdGVyYWwoc2VsZWN0b3IpKSB7XG4gICAgc2VsZWN0b3IgPSB7XG4gICAgICByZWZPYmo6IHRydWUsXG4gICAgICBhdHRyaWJ1dGVzOiBzZWxlY3Rvci5hdHRyaWJ1dGVzIHx8IHt9LFxuICAgICAgZ2V0Qm91bmRpbmdDbGllbnRSZWN0OiBzZWxlY3Rvci5nZXRCb3VuZGluZ0NsaWVudFJlY3QsXG4gICAgICBjbGllbnRXaWR0aDogc2VsZWN0b3IuY2xpZW50V2lkdGgsXG4gICAgICBjbGllbnRIZWlnaHQ6IHNlbGVjdG9yLmNsaWVudEhlaWdodCxcbiAgICAgIHNldEF0dHJpYnV0ZTogZnVuY3Rpb24gc2V0QXR0cmlidXRlKGtleSwgdmFsKSB7XG4gICAgICAgIHNlbGVjdG9yLmF0dHJpYnV0ZXNba2V5XSA9IHZhbDtcbiAgICAgIH0sXG4gICAgICBnZXRBdHRyaWJ1dGU6IGZ1bmN0aW9uIGdldEF0dHJpYnV0ZShrZXkpIHtcbiAgICAgICAgcmV0dXJuIHNlbGVjdG9yLmF0dHJpYnV0ZXNba2V5XTtcbiAgICAgIH0sXG4gICAgICByZW1vdmVBdHRyaWJ1dGU6IGZ1bmN0aW9uIHJlbW92ZUF0dHJpYnV0ZShrZXkpIHtcbiAgICAgICAgZGVsZXRlIHNlbGVjdG9yLmF0dHJpYnV0ZXNba2V5XTtcbiAgICAgIH0sXG4gICAgICBhZGRFdmVudExpc3RlbmVyOiBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKCkge30sXG4gICAgICByZW1vdmVFdmVudExpc3RlbmVyOiBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKCkge30sXG4gICAgICBjbGFzc0xpc3Q6IHtcbiAgICAgICAgY2xhc3NOYW1lczoge30sXG4gICAgICAgIGFkZDogZnVuY3Rpb24gYWRkKGtleSkge1xuICAgICAgICAgIHNlbGVjdG9yLmNsYXNzTGlzdC5jbGFzc05hbWVzW2tleV0gPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShrZXkpIHtcbiAgICAgICAgICBzZWxlY3Rvci5jbGFzc0xpc3QuY2xhc3NOYW1lc1trZXldID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRhaW5zOiBmdW5jdGlvbiBjb250YWlucyhrZXkpIHtcbiAgICAgICAgICByZXR1cm4gISFzZWxlY3Rvci5jbGFzc0xpc3QuY2xhc3NOYW1lc1trZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBuZXcgVGlwcHkoc2VsZWN0b3IsIHNldHRpbmdzKTtcbn1cblxudGlwcHkkMi5Ccm93c2VyID0gQnJvd3NlcjtcbnRpcHB5JDIuRGVmYXVsdHMgPSBEZWZhdWx0cztcbnRpcHB5JDIuZGlzYWJsZUR5bmFtaWNJbnB1dERldGVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIEJyb3dzZXIuZHluYW1pY0lucHV0RGV0ZWN0aW9uID0gZmFsc2U7XG59O1xudGlwcHkkMi5lbmFibGVEeW5hbWljSW5wdXREZXRlY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBCcm93c2VyLmR5bmFtaWNJbnB1dERldGVjdGlvbiA9IHRydWU7XG59O1xuXG5yZXR1cm4gdGlwcHkkMjtcblxufSkpKTtcbiIsImltcG9ydCB7IGNvbG9yX2hpZ2hsaWdodCB9IGZyb20gJy4vb3B0aW9ucyc7XG5pbXBvcnQgeyB2YXJpYWJsZXNfaW5mbyB9IGZyb20gJy4vLi4vbWFpbic7XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG5cbi8qKlxuKiBBdHRhY2ggdGhlIGZ1bGxfZGF0YXNldCBBcnJheSB0byB0aGUgYXBwIE9iamVjdCBhbmQgY3JlYXRlIGEgZGljdGlvbm5hcnlcbiogYWxsb3dpbmcgdG8gb2J0YWluIHRlcnJpdG9yaWFsIHVuaXRzIG5hbWUgZnJvbSB0aGVpciBJZC5cbipcbiogQHBhcmFtIHtBcnJheX0gZnVsbF9kYXRhc2V0IC0gVGhlIGRhdGFzZXQgYXMgYW4gQXJyYXkgb2YgT2JqZWN0XG4qIEBwYXJhbSB7T2JqZWN0fSBhcHAgLSBUaGUgdmFyaWFibGUgY29udGFpbmluZyB0aGUgZ2xvYmFsIHBhcmFtZXRlcnMgYWJvdXRcbiogICB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgYXBwbGljYXRpb24uXG4qIEByZXR1cm4ge3ZvaWR9XG4qXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXBhcmVfZGF0YXNldChmdWxsX2RhdGFzZXQsIGFwcCkge1xuICBhcHAuZnVsbF9kYXRhc2V0ID0gZnVsbF9kYXRhc2V0O1xuICAvLyBDcmVhdGUgYW4gT2JqZWN0IGZlYXR1cmVfaWQgLT4gIGZlYXR1cmVfbmFtZSBmb3IgZWFzaWVyIGxvb2t1cDpcbiAgYXBwLmZlYXR1cmVfbmFtZXMgPSB7fTtcbiAgZnVsbF9kYXRhc2V0LmZvckVhY2goKGVsZW0pID0+IHtcbiAgICBhcHAuZmVhdHVyZV9uYW1lc1tlbGVtLmdlb10gPSBlbGVtLk5vbTtcbiAgfSk7XG59XG5cblxuLyoqXG4qXG4qIEBwYXJhbSB7T2JqZWN0fSBhcHAgLSBUaGUgdmFyaWFibGUgY29udGFpbmluZyB0aGUgZ2xvYmFsIHBhcmFtZXRlcnMgYWJvdXRcbiogICB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgYXBwbGljYXRpb24uXG4qIEByZXR1cm4ge0FycmF5fSAtIFRoZSBmaWx0ZXJlZCBkYXRhLCBjb250YWluaW5nIG9ubHkgdGhlIHJlcXVlc3RlZCB2YXJpYWJsZXNcbiogICBmb3IgdGhlIGZlYXR1cmUgb2YgdGhlIGN1cnJlbnQgc3R1ZHkgem9uZSxcbiogICAgd2l0aG91dCBmZWF0dXJlcyBjb250YWluaW5nIGVtcHR5IHJhdGlvcy5cbipcbiovXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyTGV2ZWxWYXIoYXBwKSB7XG4gIC8vIEZldGNoIHRoZSBuYW1lKHMpIG9mIHRoZSByYXRpbyAoYW5kIGFzc29jaWF0ZWQgbnVtIGFuZCBkZW51bSB2YXJpYWJsZSksXG4gIC8vIHRoZSBuYW1lIG9mIHRoZSB0YXJnZXRlZCByZWdpb24gYW5kIHRoZSBjdXJyZW50IGxldmVsIDpcbiAgY29uc3Qge1xuICAgIG51bSwgZGVudW0sIHJhdGlvLCBjdXJyZW50X2xldmVsLCBpZF9maWVsZCwgZmlsdGVyX2tleSwgbmFtZV9maWVsZCwgbXlfcmVnaW9uLFxuICB9ID0gYXBwLmN1cnJlbnRfY29uZmlnO1xuXG4gIGNvbnN0IGFsbF92YXJpYWJsZXMgPSByYXRpby5jb25jYXQobnVtKS5jb25jYXQoZGVudW0pO1xuICAvLyBQcmVwYXJlIHRoZSBkYXRhOlxuICBsZXQgdGVtcDtcbiAgaWYgKGZpbHRlcl9rZXkgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgIHRlbXAgPSBhcHAuZnVsbF9kYXRhc2V0XG4gICAgICAuZmlsdGVyKGZ0ID0+ICtmdFtjdXJyZW50X2xldmVsXSAmJiBmaWx0ZXJfa2V5LmluZGV4T2YoZnRbaWRfZmllbGRdKSA+IC0xKTtcbiAgfSBlbHNlIGlmIChmaWx0ZXJfa2V5KSB7XG4gICAgY29uc3QgbXlfY2F0ZWdvcnkgPSBhcHAuZnVsbF9kYXRhc2V0LmZpbHRlcihmdCA9PiBmdFtpZF9maWVsZF0gPT09IG15X3JlZ2lvbilbMF1bZmlsdGVyX2tleV07XG4gICAgdGVtcCA9IGFwcC5mdWxsX2RhdGFzZXRcbiAgICAgIC5maWx0ZXIoZnQgPT4gK2Z0W2N1cnJlbnRfbGV2ZWxdICYmIGZ0W2ZpbHRlcl9rZXldID09PSBteV9jYXRlZ29yeSk7XG4gIH0gZWxzZSB7XG4gICAgdGVtcCA9IGFwcC5mdWxsX2RhdGFzZXRcbiAgICAgIC5maWx0ZXIoZnQgPT4gK2Z0W2N1cnJlbnRfbGV2ZWxdKTtcbiAgfVxuICB0ZW1wID0gdGVtcC5tYXAoKGZ0KSA9PiB7XG4gICAgY29uc3QgcHJvcHNfZmVhdHVyZSA9IHtcbiAgICAgIGlkOiBmdFtpZF9maWVsZF0sXG4gICAgICBuYW1lOiBmdFtuYW1lX2ZpZWxkXSxcbiAgICB9O1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW5faSA9IGFsbF92YXJpYWJsZXMubGVuZ3RoOyBpIDwgbGVuX2k7IGkrKykge1xuICAgICAgcHJvcHNfZmVhdHVyZVthbGxfdmFyaWFibGVzW2ldXSA9ICtmdFthbGxfdmFyaWFibGVzW2ldXTtcbiAgICB9XG4gICAgcmV0dXJuIHByb3BzX2ZlYXR1cmU7XG4gIH0pO1xuICBhcHAuY3VycmVudF9kYXRhID0gdGVtcDtcbn1cblxuXG4vKipcbiogVE9ET1xuKi9cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJMZXZlbEdlb20obnV0c19mZWF0dXJlcywgZmlsdGVyID0gJ05VVFMxJykge1xuICByZXR1cm4gbnV0c19mZWF0dXJlcy5maWx0ZXIoZCA9PiAhIWQucHJvcGVydGllc1tmaWx0ZXJdKTtcbn1cblxuLyoqXG4qIEZ1bmN0aW9uIHRvIHByZXBhcmUgdGhlIGdsb2JhbCBcInZhcmlhYmxlc19pbmZvXCIgQXJyYXkgb2Ygb2JqZWN0cyBmcm9tIHRoZSBhcnJheVxuKiBjb250YWluaW5nIHRoZSByZWFkZWQgJ21ldGFkYXRhLmNzdicgZmlsZS5cbipcbiogQHBhcmFtIHtBcnJheX0gbWV0YWRhdGFfaW5kaWNhdGV1cnMgLSBUaGUgYXJyYXkgcmV0dXJuZWQgYnkgZDMuY3N2LlxuKiBAcmV0dXJuIHt2b2lkfVxuKlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmVwYXJlVmFyaWFibGVzSW5mbyhtZXRhZGF0YV9pbmRpY2F0ZXVycykge1xuICBtZXRhZGF0YV9pbmRpY2F0ZXVyc1xuICAgIC5maWx0ZXIoZnQgPT4gZnRbJ1R5cGUgc3RhdGlzdGlxdWUnXSA9PT0gJ1JhdGlvJylcbiAgICAuZm9yRWFjaCgoZnQpID0+IHtcbiAgICAgIHZhcmlhYmxlc19pbmZvLnB1c2goe1xuICAgICAgICByYXRpbzogZnQuaWQsXG4gICAgICAgIG51bTogYCR7ZnQuaWQxfV8ke3BhcnNlSW50KGZ0LkFubsOpZSwgMTApfWAsXG4gICAgICAgIGRlbnVtOiBgJHtmdC5pZDJ9XyR7cGFyc2VJbnQoZnQuQW5uw6llLCAxMCl9YCxcbiAgICAgICAgbmFtZTogYCR7ZnQuTm9tfSAoJHtwYXJzZUludChmdC5Bbm7DqWUsIDEwKX0pYCxcbiAgICAgICAgdW5pdDogYCR7ZnRbJ1VuaXTDqSddfWAsXG4gICAgICAgIGdyb3VwOiBmdFsnVGjDqG1lJ10sXG4gICAgICAgIG1ldGhvZG86IGZ0WydNw6l0aG9kb2xvZ2llJ10sXG4gICAgICAgIHNvdXJjZTogZnQuU291cmNlLFxuICAgICAgICBsYXN0X3VwZGF0ZTogZnRbJ0Rlcm5pw6hyZSBtaXNlIMOgIGpvdXInXSxcbiAgICAgIH0pO1xuICAgIH0pO1xufVxuXG4vKipcbiogU2V0IGFuZCBhcHBseSBhIG5ldyBmaWx0ZXIgKGllLiByZXN0cmljdCB0aGUgc3R1ZHkgem9uZSkgb24gdGhlIGRhdGFzZXQgdG8gYmUgdXNlZC5cbipcbiogQHBhcmFtIHtTdHJpbmd9IGZpbHRlcl90eXBlIC0gVGhlIG5hbWUgb2YgdGhlIGZpbHRlciB0byB1c2UuXG4qIEByZXR1cm4ge3ZvaWR9XG4qXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5RmlsdGVyKGFwcCwgZmlsdGVyX3R5cGUpIHtcbiAgaWYgKGZpbHRlcl90eXBlID09PSAnZmlsdGVyX2NvdW50cnknKSB7XG4gICAgYXBwLmN1cnJlbnRfY29uZmlnLmZpbHRlcl9rZXkgPSAnUGF5cyc7XG4gIH0gZWxzZSBpZiAoZmlsdGVyX3R5cGUgPT09ICdub19maWx0ZXInKSB7XG4gICAgYXBwLmN1cnJlbnRfY29uZmlnLmZpbHRlcl9rZXkgPSB1bmRlZmluZWQ7XG4gIH0gZWxzZSBpZiAoZmlsdGVyX3R5cGUgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgIGFwcC5jdXJyZW50X2NvbmZpZy5maWx0ZXJfa2V5ID0gZmlsdGVyX3R5cGU7XG4gIH0gZWxzZSB7XG4gICAgYXBwLmN1cnJlbnRfY29uZmlnLmZpbHRlcl9rZXkgPSAndHlwZV90ZXN0JztcbiAgfVxuICBmaWx0ZXJMZXZlbFZhcihhcHApO1xuICBhcHAuY29sb3JzID0ge307XG4gIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG59XG5cbi8vIFRPRE8gOiBEb2NcbmV4cG9ydCBmdW5jdGlvbiBjaGFuZ2VSZWdpb24oYXBwLCBpZF9yZWdpb24sIG1hcF9lbGVtKSB7XG4gIGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24gPSBpZF9yZWdpb247XG4gIGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25fcHJldHR5X25hbWUgPSBhcHAuZmVhdHVyZV9uYW1lc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXTtcbiAgaWYgKGFwcC5jdXJyZW50X2NvbmZpZy5maWx0ZXJfa2V5IGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICBtYXBfZWxlbS5jb21wdXRlRGlzdE1hdCgpO1xuICAgIGFwcC5jdXJyZW50X2NvbmZpZy5maWx0ZXJfa2V5ID0gbWFwX2VsZW0uZ2V0VW5pdHNXaXRoaW4oK2QzLnNlbGVjdCgnI2Rpc3RfZmlsdGVyJykucHJvcGVydHkoJ3ZhbHVlJykpO1xuICAgIGZpbHRlckxldmVsVmFyKGFwcCk7XG4gIH0gZWxzZSBpZiAoYXBwLmN1cnJlbnRfY29uZmlnLmZpbHRlcl9rZXkpIHtcbiAgICBmaWx0ZXJMZXZlbFZhcihhcHApO1xuICB9XG4gIC8vIFJlc2V0IHRoZSBjb2xvciB0byB1c2Ugb24gdGhlIGNoYXJ0L21hcDpcbiAgYXBwLmNvbG9ycyA9IHt9O1xuICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xufVxuXG4vKipcbipcbiogQHBhcmFtIGFwcCAtXG4qIEBwYXJhbSBjb2RlX3JhdGlvIC0gVGhlIGNvZGUgb2YgdGhlIHZhcmlhYmxlIHRvIGJlIGFkZGVkLlxuKiBAcmV0dXJuIHt2b2lkfVxuKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRWYXJpYWJsZShhcHAsIGNvZGVfcmF0aW8pIHtcbiAgY29uc3QgdmFyaWFibGVfaW5mbyA9IHZhcmlhYmxlc19pbmZvLmZpbHRlcihkID0+IGQucmF0aW8gPT09IGNvZGVfcmF0aW8pWzBdO1xuICBhcHAuY29sb3JzID0ge307XG4gIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gIGFwcC5jdXJyZW50X2NvbmZpZy5udW0ucHVzaCh2YXJpYWJsZV9pbmZvLm51bSk7XG4gIGFwcC5jdXJyZW50X2NvbmZpZy5kZW51bS5wdXNoKHZhcmlhYmxlX2luZm8uZGVudW0pO1xuICBhcHAuY3VycmVudF9jb25maWcucmF0aW8ucHVzaCh2YXJpYWJsZV9pbmZvLnJhdGlvKTtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvX3ByZXR0eV9uYW1lLnB1c2godmFyaWFibGVfaW5mby5uYW1lKTtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvX3VuaXQucHVzaCh2YXJpYWJsZV9pbmZvLnVuaXQpO1xuICBmaWx0ZXJMZXZlbFZhcihhcHApO1xufVxuXG4vKipcbipcbiogQHBhcmFtIGFwcCAtXG4qIEBwYXJhbSBjb2RlX3JhdGlvIC0gVGhlIGNvZGUgb2YgdGhlIHZhcmlhYmxlIHRvIGJlIHJlbW92ZS5cbiogQHJldHVybiB7dm9pZH1cbiovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlVmFyaWFibGUoYXBwLCBjb2RlX3JhdGlvKSB7XG4gIGNvbnN0IGl4ID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvLmluZGV4T2YoY29kZV9yYXRpbyk7XG4gIGFwcC5jdXJyZW50X2NvbmZpZy5udW0uc3BsaWNlKGl4LCAxKTtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLmRlbnVtLnNwbGljZShpeCwgMSk7XG4gIGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpby5zcGxpY2UoaXgsIDEpO1xuICBhcHAuY3VycmVudF9jb25maWcucmF0aW9fcHJldHR5X25hbWUuc3BsaWNlKGl4LCAxKTtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvX3VuaXQuc3BsaWNlKGl4LCAxKTtcbiAgZmlsdGVyTGV2ZWxWYXIoYXBwKTtcbn1cblxuLyoqXG4qIFJlc2V0IHRoZSBjdXJyZW50IHZhcmlhYmxlcyBpbiB1c2UuXG4qXG4qIEBwYXJhbSBhcHAgLVxuKiBAcGFyYW0gY29kZXNfcmF0aW8gLVxuKiBAcmV0dXJuIHt2b2lkfVxuKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNldFZhcmlhYmxlcyhhcHAsIGNvZGVzX3JhdGlvKSB7XG4gIGFwcC5jb2xvcnMgPSB7fTtcbiAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLm51bSA9IFtdO1xuICBhcHAuY3VycmVudF9jb25maWcuZGVudW0gPSBbXTtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvID0gW107XG4gIGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpb19wcmV0dHlfbmFtZSA9IFtdO1xuICBhcHAuY3VycmVudF9jb25maWcucmF0aW9fdW5pdCA9IFtdO1xuICBmb3IgKGxldCBpID0gMCwgbGVuID0gY29kZXNfcmF0aW8ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBjb25zdCBjb2RlX3JhdGlvID0gY29kZXNfcmF0aW9baV07XG4gICAgY29uc3QgdmFyaWFibGVfaW5mbyA9IHZhcmlhYmxlc19pbmZvLmZpbHRlcihkID0+IGQucmF0aW8gPT09IGNvZGVfcmF0aW8pWzBdO1xuICAgIGFwcC5jdXJyZW50X2NvbmZpZy5udW0ucHVzaCh2YXJpYWJsZV9pbmZvLm51bSk7XG4gICAgYXBwLmN1cnJlbnRfY29uZmlnLmRlbnVtLnB1c2godmFyaWFibGVfaW5mby5kZW51bSk7XG4gICAgYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvLnB1c2godmFyaWFibGVfaW5mby5yYXRpbyk7XG4gICAgYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvX3ByZXR0eV9uYW1lLnB1c2godmFyaWFibGVfaW5mby5uYW1lKTtcbiAgICBhcHAuY3VycmVudF9jb25maWcucmF0aW9fdW5pdC5wdXNoKHZhcmlhYmxlX2luZm8udW5pdCk7XG4gIH1cbiAgZmlsdGVyTGV2ZWxWYXIoYXBwKTtcbn1cblxuLyoqXG4qIENvbXB1dGUgdGhlIHJhdGlvIG9mIGF2YWlsYWJsZSAoPSBub3QgZW1wdHkpIHZhbHVlcyAodGhlIFwiY29tcGzDqXR1ZGVcIikgd2l0aGluXG4qIHRoZSBzdWJzZXQgY3VycmVudGx5IGluIHVzZSBmb3IgYWxsIHRoZSB2YXJpYWJsZXMgaW4gXCJ2YXJzXCIuXG4qXG4qIEBwYXJhbSB7T2JqZWN0fSBhcHAgLSBUaGUgdmFyaWFibGUgY29udGFpbmluZyB0aGUgZ2xvYmFsIHBhcmFtZXRlcnMgYWJvdXRcbiogICB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgYXBwbGljYXRpb24uXG4qIEBwYXJhbSB7QXJyYXl9IHZhcnMgLSBBIGxpc3Qgb2YgdmFyaWFibGUgbmFtZXMgZm9yIHdoaWNoIGNvbXBsZXRlbmVzcyB3aWxsIGJlIGNhbGN1bGF0ZWQuXG4qIEBwYXJhbSB7U3RyaW5nfSBvdXRwdXQgLSBXaGV0aGVyIHRvIG91dHB1dCB0aGUgcmVzdWx0IGFzIGEgTnVtYmVyIG9yIGFzIGFuIEFycmF5XG4qIEByZXR1cm4ge051bWJlciBvciBBcnJheX0gLSBOdW1iZXI6IFRoZSByYXRpb3Mgb2YgZmVhdHVyZXMgd2l0aCBhdmFpbGFibGUgdmFsdWVzIHdpdGhpblxuKiAgICB0aGUgc3R1ZHkgem9uZSAoaW4gJSkgb3IsIEFycmF5IDogdGhlIG51bWJlciBvZiBmZWF0dXJlcyB3aXRoIGF2YWlsYWJsZSB2YWx1ZXNcbiogICAgYW5kIHRoZSB0b3RhbCBudW1iZXIgb2YgZmVhdHVyZXMuXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGNhbGNDb21wbGV0dWRlU3Vic2V0KGFwcCwgdmFycywgb3V0cHV0ID0gJ3JhdGlvJykge1xuICBjb25zdCB7XG4gICAgY3VycmVudF9sZXZlbCwgaWRfZmllbGQsIGZpbHRlcl9rZXksIG15X3JlZ2lvbixcbiAgfSA9IGFwcC5jdXJyZW50X2NvbmZpZztcblxuICAvLyBDb21wdXRlIHRoZSBsZW5ndGggb2YgdGhlIGRhdGFzZXQgKHdpdGhpbiB0aGUgXCJzdHVkeSB6b25lXCIgaWYgYW55KTpcbiAgbGV0IHRlbXA7XG4gIGlmIChmaWx0ZXJfa2V5IGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICB0ZW1wID0gYXBwLmZ1bGxfZGF0YXNldFxuICAgICAgLmZpbHRlcihmdCA9PiAhIStmdFtjdXJyZW50X2xldmVsXSAmJiBmaWx0ZXJfa2V5LmluZGV4T2YoZnRbaWRfZmllbGRdKSA+IC0xKTtcbiAgfSBlbHNlIGlmIChmaWx0ZXJfa2V5KSB7XG4gICAgY29uc3QgbXlfY2F0ZWdvcnkgPSBhcHAuZnVsbF9kYXRhc2V0LmZpbmQoZnQgPT4gZnRbaWRfZmllbGRdID09PSBteV9yZWdpb24pW2ZpbHRlcl9rZXldO1xuICAgIHRlbXAgPSBhcHAuZnVsbF9kYXRhc2V0XG4gICAgICAuZmlsdGVyKGZ0ID0+ICEhK2Z0W2N1cnJlbnRfbGV2ZWxdICYmIGZ0W2ZpbHRlcl9rZXldID09PSBteV9jYXRlZ29yeSk7XG4gIH0gZWxzZSB7XG4gICAgdGVtcCA9IGFwcC5mdWxsX2RhdGFzZXRcbiAgICAgIC5maWx0ZXIoZnQgPT4gISErZnRbY3VycmVudF9sZXZlbF0pO1xuICB9XG4gIGNvbnN0IHRvdGFsX2xlbmd0aCA9IHRlbXAubGVuZ3RoO1xuXG4gIC8vIENvbXB1dGUgdGhlIGxlbmd0aCBvZiB0aGUgZGF0YXNldCBpZiB3ZSBmaWx0ZXIgZW1wdHkgZmVhdHVyZXNcbiAgLy8gb24gYWxsIHRoZSB2YXJpYWJsZXMgb2YgXCJ2YXJzXCI6XG4gIHRlbXAgPSB0ZW1wLm1hcCgoZnQpID0+IHtcbiAgICBjb25zdCBwcm9wc19mZWF0dXJlID0ge1xuICAgICAgaWQ6IGZ0W2lkX2ZpZWxkXSxcbiAgICB9O1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW5faSA9IHZhcnMubGVuZ3RoOyBpIDwgbGVuX2k7IGkrKykge1xuICAgICAgcHJvcHNfZmVhdHVyZVt2YXJzW2ldXSA9ICtmdFt2YXJzW2ldXTtcbiAgICB9XG4gICAgcmV0dXJuIHByb3BzX2ZlYXR1cmU7XG4gIH0pLmZpbHRlcihmdCA9PiB2YXJzLm1hcChyYXRpb19uYW1lID0+ICEhZnRbcmF0aW9fbmFtZV0pLmV2ZXJ5KHYgPT4gdiA9PT0gdHJ1ZSkpO1xuICBjb25zdCBmaWx0ZXJlZF9sZW5ndGggPSB0ZW1wLmxlbmd0aDtcblxuICBpZiAoIShvdXRwdXQgPT09ICdyYXRpbycpKSB7XG4gICAgLy8gUmV0dXJuIHRoZSBudW1iZXIgb2YgZmVhdHVyZXMgd2l0aCBhdmFpbGFibGUgdmFsdWVzIHdpdGhpblxuICAgIC8vIHRoZSBzdHVkeSB6b25lLCBhbmQgdGhlIHRvdGFsIG51bWJlciBvZiBmZWF0dXJlcyBvZiB0aGUgc3R1ZHkgem9uZVxuICAgIHJldHVybiBbZmlsdGVyZWRfbGVuZ3RoLCB0b3RhbF9sZW5ndGhdO1xuICB9XG4gIC8vIFJldHVybiB0aGUgcmF0aW8gb2YgYXZhaWxhYmxlIHZhbHVlcyAoXCJjb21wbMOpdHVkZVwiKSB3aXRoaW5cbiAgLy8gdGhlIHN0dWR5IHpvbmUgc2VsZWN0ZWQgYnkgdGhlIHVzZXI6XG4gIHJldHVybiBNYXRoLnJvdW5kKChmaWx0ZXJlZF9sZW5ndGggLyB0b3RhbF9sZW5ndGgpICogMTAwMDApIC8gMTAwO1xufVxuXG4vKipcbiogQ29tcHV0ZSB0aGUgcmF0aW8gb2YgcG9wdWxhdGlvbiBjb3ZlcmVkIGJ5IGZlYXR1cmVzIG9uIHdoaWNoIGFsbCB0aGUgdmFyaWFibGVzXG4qIG9mIFwidmFyc1wiIGFyZSBhdmFpbGFibGUuXG4qXG4qIEBwYXJhbSB7T2JqZWN0fSBhcHAgLVRoZSB2YXJpYWJsZSBjb250YWluaW5nIHRoZSBnbG9iYWwgcGFyYW1ldGVycyBhYm91dFxuKiAgIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBhcHBsaWNhdGlvbi5cbiogQHBhcmFtIHtBcnJheX0gdmFycyAtIEEgbGlzdCBvZiB2YXJpYWJsZSBuYW1lcyBmb3Igd2hpY2ggY29tcGxldGVuZXNzIHdpbGwgYmUgY2FsY3VsYXRlZC5cbiogQHJldHVybiB7TnVtYmVyfSAtIFRoZSByYXRpbyAoaW4gJSkgb2YgcG9wdWxhdGlvbiBjb3ZlcmVkIGJ5IGZlYXR1cmVzIGZvciB3aGljaFxuKiAgIGFyZSBhdmFpbGFibGUgd2l0aGluIHRoZSBzdHVkeSB6b25lLlxuKlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBjYWxjUG9wQ29tcGxldHVkZVN1YnNldChhcHAsIHZhcnMpIHtcbiAgY29uc3Qge1xuICAgIGN1cnJlbnRfbGV2ZWwsIGlkX2ZpZWxkLCBmaWx0ZXJfa2V5LCBteV9yZWdpb24sIHBvcF9maWVsZCxcbiAgfSA9IGFwcC5jdXJyZW50X2NvbmZpZztcblxuICAvLyBDb21wdXRlIHRoZSB0b3RhbCBwb3B1bGF0aW9uIHN0b2NrIG9mIHRoZSBkYXRhICh3aXRoaW4gdGhlIFwic3R1ZHkgem9uZVwiIGlmIGFueSk6XG4gIGxldCB0ZW1wO1xuICBpZiAoZmlsdGVyX2tleSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgdGVtcCA9IGFwcC5mdWxsX2RhdGFzZXRcbiAgICAgIC5maWx0ZXIoZnQgPT4gISErZnRbY3VycmVudF9sZXZlbF0gJiYgZmlsdGVyX2tleS5pbmRleE9mKGZ0W2lkX2ZpZWxkXSkgPiAtMSk7XG4gIH0gZWxzZSBpZiAoZmlsdGVyX2tleSkge1xuICAgIGNvbnN0IG15X2NhdGVnb3J5ID0gYXBwLmZ1bGxfZGF0YXNldC5maW5kKGZ0ID0+IGZ0W2lkX2ZpZWxkXSA9PT0gbXlfcmVnaW9uKVtmaWx0ZXJfa2V5XTtcbiAgICB0ZW1wID0gYXBwLmZ1bGxfZGF0YXNldFxuICAgICAgLmZpbHRlcihmdCA9PiAhIStmdFtjdXJyZW50X2xldmVsXSAmJiBmdFtmaWx0ZXJfa2V5XSA9PT0gbXlfY2F0ZWdvcnkpO1xuICB9IGVsc2Uge1xuICAgIHRlbXAgPSBhcHAuZnVsbF9kYXRhc2V0XG4gICAgICAuZmlsdGVyKGZ0ID0+ICEhK2Z0W2N1cnJlbnRfbGV2ZWxdKTtcbiAgfVxuICBsZXQgdG90YWxfcG9wID0gMDtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRlbXAubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB0b3RhbF9wb3AgKz0gaXNOYU4oK3RlbXBbaV1bcG9wX2ZpZWxkXSkgPyAwIDogK3RlbXBbaV1bcG9wX2ZpZWxkXTtcbiAgfVxuICAvLyBDb21wdXRlIHRoZSBwb3B1bGF0aW9uIHN0b2NrIG9mIHRoZSBkYXRhc2V0IGlmIHdlIGZpbHRlciBlbXB0eSBmZWF0dXJlc1xuICAvLyBvbiBhbGwgdGhlIHZhcmlhYmxlcyBvZiBcInZhcnNcIjpcbiAgdGVtcCA9IHRlbXAubWFwKChmdCkgPT4ge1xuICAgIGNvbnN0IHByb3BzX2ZlYXR1cmUgPSB7XG4gICAgICBpZDogZnRbaWRfZmllbGRdLFxuICAgICAgcG9wOiArZnRbcG9wX2ZpZWxkXSxcbiAgICB9O1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW5faSA9IHZhcnMubGVuZ3RoOyBpIDwgbGVuX2k7IGkrKykge1xuICAgICAgcHJvcHNfZmVhdHVyZVt2YXJzW2ldXSA9ICtmdFt2YXJzW2ldXTtcbiAgICB9XG4gICAgcmV0dXJuIHByb3BzX2ZlYXR1cmU7XG4gIH0pLmZpbHRlcihmdCA9PiB2YXJzLm1hcChyYXRpb19uYW1lID0+ICEhZnRbcmF0aW9fbmFtZV0pLmV2ZXJ5KHYgPT4gdiA9PT0gdHJ1ZSkpO1xuICBsZXQgc3Vic2V0X3BvcCA9IDA7XG4gIGZvciAobGV0IGkgPSAwLCBsZW4gPSB0ZW1wLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgc3Vic2V0X3BvcCArPSBpc05hTih0ZW1wW2ldLnBvcCkgPyAwIDogdGVtcFtpXS5wb3A7XG4gIH1cbiAgLy8gUmV0dXJuIHRoZSByYXRpbyBvZiBwb3B1bGF0aW9uIHZhbHVlcyAoXCJjb21wbMOpdHVkZVwiKSB3aXRoaW5cbiAgLy8gdGhlIHN0dWR5IHpvbmUgc2VsZWN0ZWQgYnkgdGhlIHVzZXI6XG4gIHJldHVybiBNYXRoLnJvdW5kKChzdWJzZXRfcG9wIC8gdG90YWxfcG9wKSAqIDEwMDAwKSAvIDEwMDtcbn1cbi8qIGVzbGludC1lbmFibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cbiIsImltcG9ydCB0aXBweSBmcm9tICd0aXBweS5qcyc7XG5pbXBvcnQgeyBhcHAgfSBmcm9tICcuLy4uL21haW4nO1xuaW1wb3J0IHsgY29sb3JfZGlzYWJsZWQsIGNvbG9yX2NvdW50cmllcywgY29sb3Jfc3VwLCBjb2xvcl9pbmYsIGNvbG9yX2hpZ2hsaWdodCwgY29sb3JfZGVmYXVsdF9kaXNzaW0sIFJBVElPX1dIX01BUCB9IGZyb20gJy4vb3B0aW9ucyc7XG5pbXBvcnQgeyBnZXRTdmdQYXRoVHlwZSwgc3ZnUGF0aFRvQ29vcmRzLCBldWNsaWRpYW5fZGlzdGFuY2UgfSBmcm9tICcuL2hlbHBlcnMnO1xuaW1wb3J0IHsgZmlsdGVyTGV2ZWxHZW9tIH0gZnJvbSAnLi9wcmVwYXJlX2RhdGEnO1xuXG4vLyBjb25zdCBzdmdfbWFwID0gZDMuc2VsZWN0KCdzdmcjc3ZnX21hcCcpLFxuLy8gICBtYXJnaW5fbWFwID0geyB0b3A6IDAsIHJpZ2h0OiAwLCBib3R0b206IDAsIGxlZnQ6IDAgfSxcbi8vICAgYmJveF9zdmcgPSBzdmdfbWFwLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbi8vICAgd2lkdGhfbWFwID0gK2Jib3hfc3ZnLndpZHRoIC0gbWFyZ2luX21hcC5sZWZ0IC0gbWFyZ2luX21hcC5yaWdodCxcbi8vICAgaGVpZ2h0X21hcCA9ICtiYm94X3N2Zy5oZWlnaHQgLSBtYXJnaW5fbWFwLnRvcCAtIG1hcmdpbl9tYXAuYm90dG9tO1xuXG5jb25zdCBzdmdfbWFwID0gZDMuc2VsZWN0KCdzdmcjc3ZnX21hcCcpO1xuY29uc3QgYmJveF9zdmcgPSBzdmdfbWFwLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbmNvbnN0IHdpZHRoX21hcCA9ICtiYm94X3N2Zy53aWR0aDtcbmNvbnN0IGhlaWdodF9tYXAgPSB3aWR0aF9tYXAgKiAoMSAvIFJBVElPX1dIX01BUCk7XG5zdmdfbWFwLmF0dHIoJ2hlaWdodCcsIGAke2hlaWdodF9tYXB9cHhgKTtcblxuY29uc3Qgc3R5bGVzID0ge1xuICBmcmFtZTogeyBpZDogJ2ZyYW1lJywgZmlsbDogJyNlOWY0ZmUnLCAnZmlsbC1vcGFjaXR5JzogMSB9LFxuICBjb3VudHJpZXM6IHsgaWQ6ICdjb3VudHJpZXMnLCBmaWxsOiAnI2Q2ZDZkNicsICdmaWxsLW9wYWNpdHknOiAxIH0sXG4gIGJveGVzOiB7IGlkOiAnYm94ZXMnLCBmaWxsOiAnI2U5ZjRmZScsICdmaWxsLW9wYWNpdHknOiAxIH0sXG4gIG51dHM6IHsgaWQ6ICdudXRzJywgZmlsbDogJyM5MzkwZmMnLCAnZmlsbC1vcGFjaXR5JzogMSwgJ3N0cm9rZS13aWR0aCc6IDAuNSwgc3Ryb2tlOiAnI2Y3ZmNmZScsICdzdHJva2Utb3BhY2l0eSc6IDAuOSwgdGFyZ2V0OiB0cnVlIH0sXG4gIGNvdW50cmllc19yZW1vdGU6IHsgaWQ6ICdjb3VudHJpZXNfcmVtb3RlJywgZmlsbDogJyNkNmQ2ZDYnLCAnZmlsbC1vcGFjaXR5JzogMSB9LFxuICBjeXBydXNfbm9uX2VzcG9uX3NwYWNlOiB7IGlkOiAnY3lwcnVzX25vbl9lc3Bvbl9zcGFjZScsIGZpbGw6ICcjZmZmZmZmJywgJ2ZpbGwtb3BhY2l0eSc6IDEgfSxcbiAgYm9yZGVyczogeyBpZDogJ2JvcmRlcnMnLCBmaWxsOiAnbm9uZScsICdzdHJva2Utd2lkdGgnOiAxLCBzdHJva2U6ICcjZmZmZmZmJyB9LFxuICBjb3VudHJpZXNfcmVtb3RlX2JvdW5kYXJpZXM6IHsgaWQ6ICdjb3VudHJpZXNfcmVtb3RlX2JvdW5kYXJpZXMnLCBmaWxsOiAnbm9uZScsICdzdHJva2Utd2lkdGgnOiAxLCBzdHJva2U6ICcjZmZmZmZmJyB9LFxuICBjb2FzdHM6IHsgaWQ6ICdjb2FzdHMnLCBmaWxsOiAnbm9uZScsIHN0cm9rZTogJyNkMmRiZWYnLCAnc3Ryb2tlLXdpZHRoJzogMC41IH0sXG4gIGNvYXN0c19yZW1vdGU6IHsgaWQ6ICdjb2FzdHNfcmVtb3RlJywgZmlsbDogJ25vbmUnLCBzdHJva2U6ICcjZDJkYmVmJywgJ3N0cm9rZS13aWR0aCc6IDAuNSB9LFxuICBib3hlczI6IHsgaWQ6ICdib3hlczInLCBzdHJva2U6ICcjN2E3YTdhJywgJ3N0cm9rZS13aWR0aCc6IDEsIGZpbGw6ICdub25lJyB9LFxuICBsaW5lOiB7IGlkOiAnbGluZScsIHN0cm9rZTogJyNkNmQ2ZDYnLCAnc3Ryb2tlLXdpZHRoJzogMS41LCBmaWxsOiAnbm9uZScgfSxcbn07XG5cbmxldCBwcm9qZWN0aW9uO1xubGV0IHBhdGg7XG5cbmZ1bmN0aW9uIGdldF9iYm94X2xheWVyX3BhdGgobmFtZSkge1xuICBjb25zdCBiYm94X2xheWVyID0gW1tJbmZpbml0eSwgSW5maW5pdHldLCBbLUluZmluaXR5LCAtSW5maW5pdHldXTtcbiAgc3ZnX21hcC5zZWxlY3QoYCMke25hbWV9YClcbiAgICAuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAuZWFjaCgoZCkgPT4ge1xuICAgICAgY29uc3QgYmJveF9wYXRoID0gcGF0aC5ib3VuZHMoZC5nZW9tZXRyeSk7XG4gICAgICBiYm94X2xheWVyWzBdWzBdID0gYmJveF9wYXRoWzBdWzBdIDwgYmJveF9sYXllclswXVswXSA/IGJib3hfcGF0aFswXVswXSA6IGJib3hfbGF5ZXJbMF1bMF07XG4gICAgICBiYm94X2xheWVyWzBdWzFdID0gYmJveF9wYXRoWzBdWzFdIDwgYmJveF9sYXllclswXVsxXSA/IGJib3hfcGF0aFswXVsxXSA6IGJib3hfbGF5ZXJbMF1bMV07XG4gICAgICBiYm94X2xheWVyWzFdWzBdID0gYmJveF9wYXRoWzFdWzBdID4gYmJveF9sYXllclsxXVswXSA/IGJib3hfcGF0aFsxXVswXSA6IGJib3hfbGF5ZXJbMV1bMF07XG4gICAgICBiYm94X2xheWVyWzFdWzFdID0gYmJveF9wYXRoWzFdWzFdID4gYmJveF9sYXllclsxXVsxXSA/IGJib3hfcGF0aFsxXVsxXSA6IGJib3hfbGF5ZXJbMV1bMV07XG4gICAgfSk7XG4gIHJldHVybiBiYm94X2xheWVyO1xufVxuXG5mdW5jdGlvbiBmaXRMYXllcigpIHtcbiAgcHJvamVjdGlvbi5zY2FsZSgxKS50cmFuc2xhdGUoWzAsIDBdKTtcbiAgY29uc3QgYiA9IGdldF9iYm94X2xheWVyX3BhdGgoJ2ZyYW1lJyk7XG4gIGNvbnN0IHMgPSAxIC8gTWF0aC5tYXgoKGJbMV1bMF0gLSBiWzBdWzBdKSAvIHdpZHRoX21hcCwgKGJbMV1bMV0gLSBiWzBdWzFdKSAvIGhlaWdodF9tYXApO1xuICBjb25zdCB0ID0gWyh3aWR0aF9tYXAgLSBzICogKGJbMV1bMF0gKyBiWzBdWzBdKSkgLyAyLCAoaGVpZ2h0X21hcCAtIHMgKiAoYlsxXVsxXSArIGJbMF1bMV0pKSAvIDJdO1xuICBwcm9qZWN0aW9uLnNjYWxlKHMpLnRyYW5zbGF0ZSh0KTtcbiAgc3ZnX21hcC5zZWxlY3RBbGwoJ3BhdGgnKS5hdHRyKCdkJywgcGF0aCk7XG59XG5cbmZ1bmN0aW9uIG1hcF96b29tZWQoKSB7XG4gIGNvbnN0IHRyYW5zZm9ybSA9IGQzLmV2ZW50ID8gZDMuZXZlbnQudHJhbnNmb3JtIDogc3ZnX21hcC5ub2RlKCkuX196b29tO1xuICBpZiAodHJhbnNmb3JtLmsgPCAxKSB0cmFuc2Zvcm0uayA9IDE7XG4gIGlmICh0cmFuc2Zvcm0uayA9PT0gMSkge1xuICAgIHRyYW5zZm9ybS54ID0gMDtcbiAgICB0cmFuc2Zvcm0ueSA9IDA7XG4gIH1cbiAgY29uc3QgbGF5ZXJzID0gc3ZnX21hcC5zZWxlY3QoJyNsYXllcnMnKTtcbiAgY29uc3QgdCA9IGxheWVyc1xuICAgIC5zZWxlY3RBbGwoJ2cnKVxuICAgIC50cmFuc2l0aW9uKClcbiAgICAuZHVyYXRpb24oMjI1KTtcblxuICBsYXllcnMuc2VsZWN0QWxsKCdnJylcbiAgICAudHJhbnNpdGlvbih0KVxuICAgIC5zdHlsZSgnc3Ryb2tlLXdpZHRoJywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGAke3N0eWxlc1t0aGlzLmlkXVsnc3Ryb2tlLXdpZHRoJ10gLyB0cmFuc2Zvcm0ua31weGA7XG4gICAgfSk7XG5cbiAgbGF5ZXJzLnNlbGVjdEFsbCgnZycpXG4gICAgLnRyYW5zaXRpb24odClcbiAgICAuYXR0cigndHJhbnNmb3JtJywgdHJhbnNmb3JtKTtcblxuICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpXG4gICAgLnRyYW5zaXRpb24odClcbiAgICAuYXR0cigndHJhbnNmb3JtJywgdHJhbnNmb3JtKTtcbn1cblxuZnVuY3Rpb24gaW50ZXJwb2xhdGVab29tKHRyYW5zbGF0ZSwgc2NhbGUpIHtcbiAgY29uc3Qgbm9kZV9zdmdfbWFwID0gc3ZnX21hcC5ub2RlKCk7XG4gIGNvbnN0IHRyYW5zZm9ybSA9IGQzLnpvb21UcmFuc2Zvcm0obm9kZV9zdmdfbWFwKTtcbiAgcmV0dXJuIGQzLnRyYW5zaXRpb24oKS5kdXJhdGlvbigyMjUpLnR3ZWVuKCd6b29tJywgKCkgPT4ge1xuICAgIGNvbnN0IGlUcmFuc2xhdGUgPSBkMy5pbnRlcnBvbGF0ZShbdHJhbnNmb3JtLngsIHRyYW5zZm9ybS55XSwgdHJhbnNsYXRlKTtcbiAgICBjb25zdCBpU2NhbGUgPSBkMy5pbnRlcnBvbGF0ZSh0cmFuc2Zvcm0uaywgc2NhbGUpO1xuICAgIHJldHVybiAodF92YWx1ZSkgPT4ge1xuICAgICAgbm9kZV9zdmdfbWFwLl9fem9vbS5rID0gaVNjYWxlKHRfdmFsdWUpO1xuICAgICAgY29uc3QgX3QgPSBpVHJhbnNsYXRlKHRfdmFsdWUpO1xuICAgICAgbm9kZV9zdmdfbWFwLl9fem9vbS54ID0gX3RbMF07XG4gICAgICBub2RlX3N2Z19tYXAuX196b29tLnkgPSBfdFsxXTtcbiAgICAgIG1hcF96b29tZWQoKTtcbiAgICB9O1xuICB9KTtcbn1cblxuZnVuY3Rpb24gem9vbUNsaWNrKCkge1xuICBjb25zdCBkaXJlY3Rpb24gPSAodGhpcy5pZCA9PT0gJ3pvb21faW4nKSA/IDEgOiAtMSxcbiAgICBmYWN0b3IgPSAwLjEsXG4gICAgY2VudGVyID0gW3dpZHRoX21hcCAvIDIsIGhlaWdodF9tYXAgLyAyXSxcbiAgICB0cmFuc2Zvcm0gPSBkMy56b29tVHJhbnNmb3JtKHN2Z19tYXAubm9kZSgpKSxcbiAgICB0cmFuc2xhdGUgPSBbdHJhbnNmb3JtLngsIHRyYW5zZm9ybS55XSxcbiAgICB2aWV3ID0geyB4OiB0cmFuc2xhdGVbMF0sIHk6IHRyYW5zbGF0ZVsxXSwgazogdHJhbnNmb3JtLmsgfTtcbiAgbGV0IHRhcmdldF96b29tID0gMSxcbiAgICB0cmFuc2xhdGUwID0gW10sXG4gICAgbCA9IFtdO1xuICBkMy5ldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB0YXJnZXRfem9vbSA9IHRyYW5zZm9ybS5rICogKDEgKyBmYWN0b3IgKiBkaXJlY3Rpb24pO1xuICB0cmFuc2xhdGUwID0gWyhjZW50ZXJbMF0gLSB2aWV3LngpIC8gdmlldy5rLCAoY2VudGVyWzFdIC0gdmlldy55KSAvIHZpZXcua107XG4gIHZpZXcuayA9IHRhcmdldF96b29tO1xuICBsID0gW3RyYW5zbGF0ZTBbMF0gKiB2aWV3LmsgKyB2aWV3LngsIHRyYW5zbGF0ZTBbMV0gKiB2aWV3LmsgKyB2aWV3LnldO1xuICB2aWV3LnggKz0gY2VudGVyWzBdIC0gbFswXTtcbiAgdmlldy55ICs9IGNlbnRlclsxXSAtIGxbMV07XG4gIGludGVycG9sYXRlWm9vbShbdmlldy54LCB2aWV3LnldLCB2aWV3LmspO1xufVxuXG5cbmZ1bmN0aW9uIG1ha2VNYXBMZWdlbmQobGVnZW5kX2VsZW1zLCBzaXplLCB0cmFuc2xhdGVZKSB7XG4gIGNvbnN0IHJlY3Rfc2l6ZSA9IDE0O1xuICBjb25zdCBzcGFjaW5nID0gNDtcbiAgY29uc3QgbGdkX2hlaWdodCA9IHJlY3Rfc2l6ZSArIHNwYWNpbmc7XG4gIGNvbnN0IG9mZnNldCA9IGxnZF9oZWlnaHQgKiBsZWdlbmRfZWxlbXMubGVuZ3RoIC8gMjtcblxuICBjb25zdCBncnBfbGdkID0gZDMuc2VsZWN0KCcjc3ZnX2xlZ2VuZCcpXG4gICAgLmF0dHIoJ2hlaWdodCcsIHNpemUpXG4gICAgLmFwcGVuZCgnZycpXG4gICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoNTAsICR7dHJhbnNsYXRlWX0pYClcbiAgICAuc3R5bGVzKHsgJ2ZvbnQtc2l6ZSc6ICcxMXB4JywgJ2ZvbnQtZmFtaWx5JzogJ1xcJ1NpZ25pa2FcXCcsIHNhbnMtc2VyaWYnIH0pO1xuXG4gIGNvbnN0IGxlZ2VuZHMgPSBncnBfbGdkLnNlbGVjdEFsbCgnLmxlZ2VuZCcpXG4gICAgLmRhdGEobGVnZW5kX2VsZW1zKVxuICAgIC5lbnRlcigpXG4gICAgLmFwcGVuZCgnZycpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ2xlZ2VuZCcpXG4gICAgLmF0dHIoJ3RyYW5zZm9ybScsIChkLCBpKSA9PiB7XG4gICAgICBjb25zdCB0eCA9IC0yICogcmVjdF9zaXplO1xuICAgICAgY29uc3QgdHkgPSBpICogbGdkX2hlaWdodCAtIG9mZnNldDtcbiAgICAgIHJldHVybiBgdHJhbnNsYXRlKCR7W3R4LCB0eV19KWA7XG4gICAgfSk7XG5cbiAgbGVnZW5kcy5hcHBlbmQoJ3JlY3QnKVxuICAgIC5hdHRycyh7IHdpZHRoOiByZWN0X3NpemUsIGhlaWdodDogcmVjdF9zaXplIH0pXG4gICAgLnN0eWxlcyhkID0+ICh7IGZpbGw6IGQuY29sb3IsIHN0cm9rZTogZC5jb2xvciB9KSk7XG5cbiAgbGVnZW5kcy5hcHBlbmQoJ3RleHQnKVxuICAgIC5hdHRycyh7IHg6IHJlY3Rfc2l6ZSArIHNwYWNpbmcsIHk6IHJlY3Rfc2l6ZSAtIHNwYWNpbmcgfSlcbiAgICAudGV4dChkID0+IGQudGV4dCk7XG59XG5cbmZ1bmN0aW9uIGdldExlZ2VuZEVsZW1zKHR5cGUpIHtcbiAgaWYgKHR5cGUgPT09IDApIHtcbiAgICByZXR1cm4gW1xuICAgICAgW1xuICAgICAgICB7IGNvbG9yOiBjb2xvcl9oaWdobGlnaHQsIHRleHQ6IGBNYSByw6lnaW9uIDogJHthcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uX3ByZXR0eV9uYW1lfWAgfSxcbiAgICAgICAgeyBjb2xvcjogY29sb3JfY291bnRyaWVzLCB0ZXh0OiAnQXV0cmVzIHLDqWdpb25zIGRlIGxcXCdlc3BhY2UgZFxcJ8OpdHVkZScgfSxcbiAgICAgICAgeyBjb2xvcjogY29sb3Jfc3VwLCB0ZXh0OiAnUmFuZyBwbHVzIMOpbGV2w6kgcXVlIG1hIHLDqWdpb24nIH0sXG4gICAgICAgIHsgY29sb3I6IGNvbG9yX2luZiwgdGV4dDogJ1JhbmcgbW9pbnMgw6lsZXbDqSBxdWUgbWEgcsOpZ2lvbicgfSxcbiAgICAgIF0sXG4gICAgICAnNzUnLCAnNDEnLFxuICAgIF07XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gMSkge1xuICAgIHJldHVybiBbXG4gICAgICBbXG4gICAgICAgIHsgY29sb3I6IGNvbG9yX2hpZ2hsaWdodCwgdGV4dDogYE1hIHLDqWdpb24gOiAke2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25fcHJldHR5X25hbWV9YCB9LFxuICAgICAgICB7IGNvbG9yOiBjb2xvcl9jb3VudHJpZXMsIHRleHQ6ICdBdXRyZXMgcsOpZ2lvbnMgZGUgbFxcJ2VzcGFjZSBkXFwnw6l0dWRlJyB9LFxuICAgICAgICB7IGNvbG9yOiBjb2xvcl9zdXAsIHRleHQ6ICdSYW5nIHBsdXMgw6lsZXbDqSBxdWUgbWEgcsOpZ2lvbiAoMiBpbmRpY2F0ZXVycyknIH0sXG4gICAgICAgIHsgY29sb3I6IGNvbG9yX2luZiwgdGV4dDogJ1JhbmcgbW9pbnMgw6lsZXbDqSBxdWUgbWEgcsOpZ2lvbiAoMiBpbmRpY2F0ZXVycyknIH0sXG4gICAgICAgIHsgY29sb3I6IG51bGwsIHRleHQ6ICdSYW5nIHBsdXMgw6lsZXbDqSBxdWUgbWEgcsOpZ2lvbiAoMSBpbmRpY2F0ZXVyIHN1ciAyKScgfSxcbiAgICAgIF0sXG4gICAgICAnOTUnLCAnNTAnLFxuICAgIF07XG4gIH1cbiAgcmV0dXJuIFtcbiAgICBbXG4gICAgICB7IGNvbG9yOiBjb2xvcl9oaWdobGlnaHQsIHRleHQ6IGBNYSByw6lnaW9uIDogJHthcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uX3ByZXR0eV9uYW1lfWAgfSxcbiAgICAgIHsgY29sb3I6IGNvbG9yX2NvdW50cmllcywgdGV4dDogJ0F1dHJlcyByw6lnaW9ucyBkZSBsXFwnZXNwYWNlIGRcXCfDqXR1ZGUnIH0sXG4gICAgICB7IGNvbG9yOiBjb2xvcl9kZWZhdWx0X2Rpc3NpbSwgdGV4dDogJ1LDqWdpb25zIHPDqWxlY3Rpb25uw6llcyBwb3VyIGxhIGNvbXBhcmFpc29uJyB9LFxuICAgIF0sXG4gICAgJzYwJywgJzMyJyxcbiAgXTtcbn1cblxuXG5jbGFzcyBNYXBTZWxlY3Qge1xuICBjb25zdHJ1Y3RvcihudXRzLCBvdGhlcl9sYXllcnMsIGZpbHRlciA9ICdOVVRTMScpIHtcbiAgICBhcHAubWFwRHJhd1JhdGlvID0gYXBwLnJhdGlvVG9XaWRlO1xuICAgIHByb2plY3Rpb24gPSBkMy5nZW9JZGVudGl0eSgpXG4gICAgICAuZml0RXh0ZW50KFtbMCwgMF0sIFt3aWR0aF9tYXAsIGhlaWdodF9tYXBdXSwgb3RoZXJfbGF5ZXJzLmdldCgnZnJhbWUnKSlcbiAgICAgIC5yZWZsZWN0WSh0cnVlKTtcblxuICAgIHBhdGggPSBkMy5nZW9QYXRoKCkucHJvamVjdGlvbihwcm9qZWN0aW9uKTtcblxuICAgIGNvbnN0IGxheWVycyA9IHN2Z19tYXAuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdpZCcsICdsYXllcnMnKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICdzY2FsZSgxKScpO1xuICAgIHRoaXMubnV0cyA9IG51dHM7XG4gICAgdGhpcy56b29tX21hcCA9IGQzLnpvb20oKVxuICAgICAgLnNjYWxlRXh0ZW50KFsxLCA1XSlcbiAgICAgIC50cmFuc2xhdGVFeHRlbnQoW1swLCAwXSwgW3dpZHRoX21hcCwgaGVpZ2h0X21hcF1dKVxuICAgICAgLm9uKCd6b29tJywgbWFwX3pvb21lZCk7XG5cbiAgICBzdmdfbWFwLmNhbGwodGhpcy56b29tX21hcCk7XG5cbiAgICBjb25zdCBsYXllcl9saXN0ID0gT2JqZWN0LmtleXMoc3R5bGVzKTtcbiAgICBmb3IgKGxldCBpID0gMCwgbl9sYXllciA9IGxheWVyX2xpc3QubGVuZ3RoOyBpIDwgbl9sYXllcjsgaSsrKSB7XG4gICAgICBjb25zdCBuYW1lX2x5ciA9IGxheWVyX2xpc3RbaV07XG4gICAgICBjb25zdCBzdHlsZV9sYXllciA9IHN0eWxlc1tuYW1lX2x5cl07XG4gICAgICBpZiAoc3R5bGVfbGF5ZXIudGFyZ2V0ID09PSB0cnVlKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0X2xheWVyID0gbGF5ZXJzLmFwcGVuZCgnZycpXG4gICAgICAgICAgLmF0dHJzKHN0eWxlX2xheWVyKTtcbiAgICAgICAgdGhpcy50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgICAgICAuZGF0YShmaWx0ZXJMZXZlbEdlb20odGhpcy5udXRzLmZlYXR1cmVzLCBmaWx0ZXIpLCBkID0+IGQuaWQpXG4gICAgICAgICAgLmVudGVyKClcbiAgICAgICAgICAuYXBwZW5kKCdwYXRoJylcbiAgICAgICAgICAuYXR0cigndGl0bGUnLCBkID0+IGAke2QucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcubmFtZV9maWVsZF19ICgke2QuaWR9KWApXG4gICAgICAgICAgLmF0dHIoJ2ZpbGwnLCBkID0+IChkLmlkICE9PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uID8gY29sb3JfY291bnRyaWVzIDogY29sb3JfaGlnaGxpZ2h0KSlcbiAgICAgICAgICAuYXR0cignZCcsIHBhdGgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGF5ZXJzLmFwcGVuZCgnZycpXG4gICAgICAgICAgLmF0dHJzKHN0eWxlX2xheWVyKVxuICAgICAgICAgIC5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgICAgIC5kYXRhKG90aGVyX2xheWVycy5nZXQobmFtZV9seXIpLmZlYXR1cmVzKVxuICAgICAgICAgIC5lbnRlcigpXG4gICAgICAgICAgLmFwcGVuZCgncGF0aCcpXG4gICAgICAgICAgLmF0dHJzKHsgZDogcGF0aCB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmaXRMYXllcigpO1xuICAgIGFwcC50eXBlX3BhdGggPSBnZXRTdmdQYXRoVHlwZSh0aGlzLnRhcmdldF9sYXllci5zZWxlY3QoJ3BhdGgnKS5ub2RlKCkuZ2V0QXR0cmlidXRlKCdkJykpO1xuICAgIHRoaXMudGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3B0cyA9IHN2Z1BhdGhUb0Nvb3Jkcyh0aGlzLmdldEF0dHJpYnV0ZSgnZCcpLCBhcHAudHlwZV9wYXRoKTtcbiAgICAgIH0pO1xuICAgIHRoaXMudG9vbHRpcHMgPSB0aXBweSh0aGlzLnRhcmdldF9sYXllci5ub2RlKCkucXVlcnlTZWxlY3RvckFsbCgncGF0aCcpLCB7XG4gICAgICBhbmltYXRpb246ICdmYWRlJyxcbiAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgZm9sbG93Q3Vyc29yOiB0cnVlLFxuICAgICAgLy8gcGVyZm9ybWFuY2U6IHRydWUsXG4gICAgfSk7XG4gIH1cblxuICB1cGRhdGVMZXZlbFJlZ2lvbihmaWx0ZXIgPSAnTlVUUzEnKSB7XG4gICAgdGhpcy50b29sdGlwcy5kZXN0cm95QWxsKCk7XG4gICAgY29uc3QgbmV3X3NlbGVjdGlvbiA9IGZpbHRlckxldmVsR2VvbSh0aGlzLm51dHMuZmVhdHVyZXMsIGZpbHRlcik7XG4gICAgY29uc3Qgc2VsZWN0aW9uID0gdGhpcy50YXJnZXRfbGF5ZXJcbiAgICAgIC5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLmRhdGEobmV3X3NlbGVjdGlvbiwgZCA9PiBkLmlkKTtcbiAgICBzZWxlY3Rpb24uZW50ZXIoKVxuICAgICAgLmFwcGVuZCgncGF0aCcpXG4gICAgICAuYXR0cnMoZCA9PiAoe1xuICAgICAgICB0aXRsZTogYCR7ZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5uYW1lX2ZpZWxkXX0gKCR7ZC5pZH0pYCxcbiAgICAgICAgZmlsbDogZC5pZCAhPT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbiA/IGNvbG9yX2NvdW50cmllcyA6IGNvbG9yX2hpZ2hsaWdodCxcbiAgICAgICAgZDogcGF0aCxcbiAgICAgIH0pKTtcbiAgICBzZWxlY3Rpb25cbiAgICAgIC5hdHRyKCdkJywgcGF0aCk7XG4gICAgc2VsZWN0aW9uXG4gICAgICAuZXhpdCgpXG4gICAgICAucmVtb3ZlKCk7XG4gICAgdGhpcy5yZXNldENvbG9ycyhuZXdfc2VsZWN0aW9uLm1hcChkID0+IGQuaWQpKTtcbiAgICB0aGlzLmNvbXB1dGVEaXN0TWF0KCk7XG4gICAgdGhpcy50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fcHRzID0gdW5kZWZpbmVkO1xuICAgICAgfSk7XG4gICAgdGhpcy50b29sdGlwcyA9IHRpcHB5KHRoaXMudGFyZ2V0X2xheWVyLm5vZGUoKS5xdWVyeVNlbGVjdG9yQWxsKCdwYXRoJyksIHtcbiAgICAgIGFuaW1hdGlvbjogJ2ZhZGUnLFxuICAgICAgZHVyYXRpb246IDAsXG4gICAgICBmb2xsb3dDdXJzb3I6IHRydWUsXG4gICAgICAvLyBwZXJmb3JtYW5jZTogdHJ1ZSxcbiAgICB9KTtcbiAgfVxuXG4gIHJlc2V0Q29sb3JzKGN1cnJlbnRfaWRzKSB7XG4gICAgdGhpcy50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5hdHRyKCdmaWxsJywgKGQpID0+IHtcbiAgICAgICAgaWYgKGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pIHtcbiAgICAgICAgICByZXR1cm4gY29sb3JfaGlnaGxpZ2h0O1xuICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRfaWRzLmluZGV4T2YoZC5pZCkgPiAtMSkge1xuICAgICAgICAgIHJldHVybiBhcHAuY29sb3JzW2QuaWRdIHx8IGNvbG9yX2NvdW50cmllcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sb3JfZGlzYWJsZWQ7XG4gICAgICB9KTtcbiAgfVxuXG4gIHJlc2V0Wm9vbSgpIHtcbiAgICBzdmdfbWFwLnRyYW5zaXRpb24oKVxuICAgICAgLmR1cmF0aW9uKDI1MClcbiAgICAgIC5jYWxsKHRoaXMuem9vbV9tYXAudHJhbnNmb3JtLCBkMy56b29tSWRlbnRpdHkpO1xuICB9XG5cbiAgdXBkYXRlTGVnZW5kKCkge1xuICAgIGQzLnNlbGVjdCgnI3N2Z19sZWdlbmQgPiBnID4gLmxlZ2VuZCA+IHRleHQnKVxuICAgICAgLnRleHQoYE1hIHLDqWdpb24gOiAke2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25fcHJldHR5X25hbWV9YCk7XG4gIH1cblxuICByZW1vdmVSZWN0QnJ1c2goKSB7XG4gICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKS5jYWxsKHRoaXMuYnJ1c2hfbWFwLm1vdmUsIG51bGwpO1xuICB9XG5cbiAgY2FsbEJydXNoKHNlbGVjdGlvbikge1xuICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJykuY2FsbCh0aGlzLmJydXNoX21hcC5tb3ZlLCBzZWxlY3Rpb24pO1xuICB9XG5cbiAgYmluZEJydXNoQ2xpY2soY2hhcnQpIHtcbiAgICBpZiAoY2hhcnQuaGFuZGxlQ2xpY2tNYXApIHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfbWFwX3NlbGVjdCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVkJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX21hcF9zZWxlY3QnKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19tYXBfc2VsZWN0JykuY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKTtcbiAgICB9XG4gICAgaWYgKGNoYXJ0LmhhbmRsZV9icnVzaF9tYXApIHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfcmVjdF9zZWxlYycpLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVkJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX3JlY3Rfc2VsZWMnKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfbWFwX3pvb20nKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfbWFwX3NlbGVjdCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgdGhpcy5icnVzaF9tYXAgPSBkMy5icnVzaCgpXG4gICAgICAgIC5leHRlbnQoW1swLCAwXSwgW3dpZHRoX21hcCwgaGVpZ2h0X21hcF1dKVxuICAgICAgICAub24oJ3N0YXJ0IGJydXNoJywgKCkgPT4ge1xuICAgICAgICAgIGNoYXJ0LmhhbmRsZV9icnVzaF9tYXAoZDMuZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICAgIHN2Z19tYXAuYXBwZW5kKCdnJylcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2JydXNoX21hcCcpXG4gICAgICAgIC5jYWxsKHRoaXMuYnJ1c2hfbWFwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19yZWN0X3NlbGVjJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX3JlY3Rfc2VsZWMnKS5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19tYXBfem9vbScpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19tYXBfc2VsZWN0JykuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgfVxuICAgIGlmIChjaGFydC5oYW5kbGVDbGlja01hcCAmJiAhY2hhcnQuaGFuZGxlX2JydXNoX21hcCkge1xuICAgICAgdGhpcy50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgY2hhcnQuaGFuZGxlQ2xpY2tNYXAoZCwgdGhpcyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGdldFVuaXRzV2l0aGluKGRpc3Rfa20pIHtcbiAgICBjb25zdCBkaXN0ID0gZGlzdF9rbSAqIDEwMDA7XG4gICAgaWYgKCF0aGlzLmRpc3RfdG9fbXlfcmVnaW9uKSB0aGlzLmNvbXB1dGVEaXN0TWF0KCk7XG4gICAgcmV0dXJuIHRoaXMuZGlzdF90b19teV9yZWdpb24uZmlsdGVyKGQgPT4gZC5kaXN0IDw9IGRpc3QpLm1hcChkID0+IGQuaWQpO1xuICB9XG5cbiAgY29tcHV0ZURpc3RNYXQoKSB7XG4gICAgY29uc3QgZmVhdHVyZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2VcbiAgICAgIC5jYWxsKHRoaXMudGFyZ2V0X2xheWVyLm5vZGUoKS5xdWVyeVNlbGVjdG9yQWxsKCdwYXRoJykpO1xuICAgIGNvbnN0IG5iX2Z0ID0gZmVhdHVyZXMubGVuZ3RoO1xuICAgIGNvbnN0IG15X3JlZ2lvbl9nZW9tID0gZmVhdHVyZXMuZmluZChcbiAgICAgIGQgPT4gZC5fX2RhdGFfXy5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbikuX19kYXRhX18uZ2VvbWV0cnk7XG4gICAgY29uc3QgbXlfcmVnaW9uX2NlbnRyb2lkID0gdHVyZi5jZW50cm9pZChteV9yZWdpb25fZ2VvbSk7XG4gICAgY29uc3QgcmVzdWx0X2Rpc3QgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5iX2Z0OyBpKyspIHtcbiAgICAgIGNvbnN0IGlkID0gZmVhdHVyZXNbaV0uX19kYXRhX18uaWQ7XG4gICAgICBjb25zdCBkaXN0ID0gZXVjbGlkaWFuX2Rpc3RhbmNlKFxuICAgICAgICBteV9yZWdpb25fY2VudHJvaWQsIHR1cmYuY2VudHJvaWQoZmVhdHVyZXNbaV0uX19kYXRhX18uZ2VvbWV0cnkpKTtcbiAgICAgIHJlc3VsdF9kaXN0LnB1c2goeyBpZCwgZGlzdCB9KTtcbiAgICB9XG4gICAgdGhpcy5kaXN0X3RvX215X3JlZ2lvbiA9IHJlc3VsdF9kaXN0O1xuICB9XG5cbiAgdW5iaW5kQnJ1c2hDbGljaygpIHtcbiAgICB0aGlzLmJydXNoX21hcCA9IG51bGw7XG4gICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKVxuICAgICAgLnJlbW92ZSgpO1xuICB9XG5cbiAgZGlzcGxheUxlZ2VuZCh0eXBlID0gMCkge1xuICAgIGQzLnNlbGVjdEFsbCgnI3N2Z19sZWdlbmQgPiBnJykucmVtb3ZlKCk7XG4gICAgY29uc3QgW2VsZW1zLCBzaXplLCB0eV0gPSBnZXRMZWdlbmRFbGVtcyh0eXBlKTtcbiAgICBtYWtlTWFwTGVnZW5kKGVsZW1zLCBzaXplLCB0eSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbWFrZVNvdXJjZVNlY3Rpb24oKSB7XG4gIGNvbnN0IHBhcmVudCA9IHN2Z19tYXAubm9kZSgpLnBhcmVudEVsZW1lbnQ7XG4gIGNvbnN0IGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gIGVsZW0uc3R5bGUuZm9udFNpemUgPSAnMC40NWVtJztcbiAgZWxlbS5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gIGVsZW0uaW5uZXJIVE1MID0gJ0Rvbm7DqWVzIDogRXVyb3N0YXQgKHTDqWzDqWNoYXJnZW1lbnQgOiBPY3QuIDIwMTcpLSBMaW1pdGUgYWRtaW5pc3RyYXRpdmU6IFVNUyBSSUFURSwgQ0MtQlktU0EnO1xuICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGVsZW0sIHBhcmVudC5xdWVyeVNlbGVjdG9yKCcjaGVhZGVyX21hcCcpKTtcbiAgZWxlbS5zdHlsZS5sZWZ0ID0gJzQ5JSc7XG4gIGVsZW0uc3R5bGUucGFkZGluZ0xlZnQgPSAnMmVtJztcbiAgZWxlbS5zdHlsZS50b3AgPSAnMzIlJztcbiAgZWxlbS5zdHlsZS5tYXJnaW4gPSAnYXV0byc7XG4gIGVsZW0uc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gIGVsZW0uY2xhc3NOYW1lID0gJ3JvdGF0ZSc7XG59XG5cbmV4cG9ydCB7XG4gIE1hcFNlbGVjdCxcbiAgbWFrZVNvdXJjZVNlY3Rpb24sXG4gIG1ha2VNYXBMZWdlbmQsXG4gIHN2Z19tYXAsXG4gIHpvb21DbGljayxcbn07XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBUYWJsZVJlc3VtZVN0YXQge1xuICBjb25zdHJ1Y3RvcihzdW1tYXJ5X2ZlYXR1cmVzLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBkb2MgPSBkb2N1bWVudDtcbiAgICBjb25zdCBuYl9mZWF0dXJlcyA9IHN1bW1hcnlfZmVhdHVyZXMubGVuZ3RoO1xuICAgIGNvbnN0IGNvbHVtbl9uYW1lcyA9IFsnVmFyaWFibGUnLCAnTWluJywgJ01veWVubmUnLCAnTWF4JywgJ01hIHLDqWdpb24nXTtcbiAgICBjb25zdCBuYl9jb2x1bW5zID0gY29sdW1uX25hbWVzLmxlbmd0aDtcbiAgICBjb25zdCBjb250YWluZXJfZGl2ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IG15VGFibGUgPSBkb2MuY3JlYXRlRWxlbWVudCgndGFibGUnKTtcbiAgICBjb25zdCBoZWFkZXJzID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3RoZWFkJyk7XG4gICAgY29uc3QgdGFibGVfYm9keSA9IGRvYy5jcmVhdGVFbGVtZW50KCd0Ym9keScpO1xuICAgIGNvbnN0IGhlYWRlcnNfcm93ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgbXlUYWJsZS5jbGFzc05hbWUgPSAnbWluaXRhYmxlJztcbiAgICBjb250YWluZXJfZGl2LmNsYXNzTmFtZSA9ICdtaW5pdGFibGVfY29udGFpbmVyJztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5iX2NvbHVtbnM7IGkrKykge1xuICAgICAgY29uc3QgY2VsbCA9IGRvYy5jcmVhdGVFbGVtZW50KCd0aCcpO1xuICAgICAgY2VsbC5pbm5lckhUTUwgPSBjb2x1bW5fbmFtZXNbaV07XG4gICAgICBoZWFkZXJzX3Jvdy5hcHBlbmRDaGlsZChjZWxsKTtcbiAgICB9XG4gICAgaGVhZGVycy5hcHBlbmRDaGlsZChoZWFkZXJzX3Jvdyk7XG4gICAgbXlUYWJsZS5hcHBlbmRDaGlsZChoZWFkZXJzKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5iX2ZlYXR1cmVzOyBpKyspIHtcbiAgICAgIGNvbnN0IHJvdyA9IGRvYy5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgICAgcm93LmlkID0gYHJvd18ke3N1bW1hcnlfZmVhdHVyZXNbaV0uaWR9YDtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbmJfY29sdW1uczsgaisrKSB7XG4gICAgICAgIGNvbnN0IGNlbGwgPSBkb2MuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICAgICAgY29uc3QgY29sX25hbWUgPSBjb2x1bW5fbmFtZXNbal07XG4gICAgICAgIGlmIChjb2xfbmFtZSAhPT0gJ1ZhcmlhYmxlJykge1xuICAgICAgICAgIGNlbGwuaW5uZXJIVE1MID0gTWF0aC5yb3VuZChzdW1tYXJ5X2ZlYXR1cmVzW2ldW2NvbF9uYW1lXSAqIDEwKSAvIDEwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNlbGwuaW5uZXJIVE1MID0gc3VtbWFyeV9mZWF0dXJlc1tpXVtjb2xfbmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcm93LmFwcGVuZENoaWxkKGNlbGwpO1xuICAgICAgfVxuICAgICAgdGFibGVfYm9keS5hcHBlbmRDaGlsZChyb3cpO1xuICAgIH1cbiAgICBteVRhYmxlLmFwcGVuZENoaWxkKHRhYmxlX2JvZHkpO1xuICAgIG15VGFibGUuc2V0QXR0cmlidXRlKCdpZCcsIG9wdGlvbnMuaWQgfHwgJ3RhYmxlX3N1bW1hcnknKTtcbiAgICBjb250YWluZXJfZGl2LmFwcGVuZENoaWxkKG15VGFibGUpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtYXBfc2VjdGlvbicpLmFwcGVuZENoaWxkKGNvbnRhaW5lcl9kaXYpO1xuICAgIHRoaXMubmJfY29sdW1ucyA9IG5iX2NvbHVtbnM7XG4gICAgdGhpcy5jb2x1bW5fbmFtZXMgPSBjb2x1bW5fbmFtZXM7XG4gICAgdGhpcy50YWJsZV9ib2R5ID0gdGFibGVfYm9keTtcbiAgfVxuXG4gIGFkZEZlYXR1cmVzKHN1bW1hcnlfZmVhdHVyZXMpIHtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gc3VtbWFyeV9mZWF0dXJlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdGhpcy5hZGRGZWF0dXJlKHN1bW1hcnlfZmVhdHVyZXNbaV0pO1xuICAgIH1cbiAgfVxuXG4gIGFkZEZlYXR1cmUoc3VtbWFyeSkge1xuICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgcm93LmlkID0gYHJvd18ke3N1bW1hcnkuaWR9YDtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMubmJfY29sdW1uczsgaisrKSB7XG4gICAgICBjb25zdCBjZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICAgIGNvbnN0IGNvbF9uYW1lID0gdGhpcy5jb2x1bW5fbmFtZXNbal07XG4gICAgICBpZiAoY29sX25hbWUgIT09ICdWYXJpYWJsZScpIHtcbiAgICAgICAgY2VsbC5pbm5lckhUTUwgPSBNYXRoLnJvdW5kKHN1bW1hcnlbY29sX25hbWVdICogMTApIC8gMTA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjZWxsLmlubmVySFRNTCA9IHN1bW1hcnlbY29sX25hbWVdO1xuICAgICAgfVxuICAgICAgcm93LmFwcGVuZENoaWxkKGNlbGwpO1xuICAgIH1cbiAgICB0aGlzLnRhYmxlX2JvZHkuYXBwZW5kQ2hpbGQocm93KTtcbiAgfVxuXG4gIHJlbW92ZUZlYXR1cmUoaWRfdmFyaWFibGUpIHtcbiAgICBjb25zdCByb3cgPSB0aGlzLnRhYmxlX2JvZHkucXVlcnlTZWxlY3RvcihgdHIjcm93XyR7aWRfdmFyaWFibGV9YCk7XG4gICAgaWYgKHJvdykgcm93LnJlbW92ZSgpO1xuICB9XG5cbiAgcmVtb3ZlQWxsKCkge1xuICAgIGNvbnN0IHJvd3MgPSB0aGlzLnRhYmxlX2JvZHkucXVlcnlTZWxlY3RvckFsbCgndHInKTtcbiAgICBmb3IgKGxldCBpID0gcm93cy5sZW5ndGggLSAxOyBpID4gLTE7IGktLSkge1xuICAgICAgcm93c1tpXS5yZW1vdmUoKTtcbiAgICB9XG4gIH1cblxuICByZW1vdmUoKSB7XG4gICAgdGhpcy50YWJsZV9ib2R5LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5yZW1vdmUoKTtcbiAgICB0aGlzLnRhYmxlX2JvZHkgPSBudWxsO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDb21wbGV0dWRlU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHBhcmVudCwgYmVmb3JlKSB7XG4gICAgdGhpcy5zZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5zZWN0aW9uLmNsYXNzTmFtZSA9ICdjb21wbGV0dWRlX3NlY3Rpb24nO1xuICAgIHRoaXMuY29tcGxldHVkZV9wb3B1bGF0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIHRoaXMuY29tcGxldHVkZV9mZWF0dXJlcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICB0aGlzLmNvbXBsZXR1ZGVfZmVhdHVyZXMuY2xhc3NOYW1lID0gJ2FjdGl2ZSc7XG4gICAgdGhpcy5zZWN0aW9uLmFwcGVuZENoaWxkKHRoaXMuY29tcGxldHVkZV9mZWF0dXJlcyk7XG4gICAgdGhpcy5zZWN0aW9uLmFwcGVuZENoaWxkKHRoaXMuY29tcGxldHVkZV9wb3B1bGF0aW9uKTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKHRoaXMuc2VjdGlvbiwgYmVmb3JlKTtcbiAgICB0aGlzLmNvbXBsZXR1ZGVfZmVhdHVyZXMub25jbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICBzZWxmLmNvbXBsZXR1ZGVfcG9wdWxhdGlvbi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICB9O1xuICAgIHRoaXMuY29tcGxldHVkZV9wb3B1bGF0aW9uLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgc2VsZi5jb21wbGV0dWRlX2ZlYXR1cmVzLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIH07XG4gIH1cblxuICB1cGRhdGUodmFsdWVfZmVhdHVyZXMsIHZhbHVlX3BvcCkge1xuICAgIHRoaXMuY29tcGxldHVkZV9mZWF0dXJlcy5pbm5lckhUTUwgPSBgRG9ubsOpZXMgZGlzcG9uaWJsZXMgcG91ciAke3ZhbHVlX2ZlYXR1cmVzWzBdfS8ke3ZhbHVlX2ZlYXR1cmVzWzFdfSByw6lnaW9ucy5gO1xuICAgIHRoaXMuY29tcGxldHVkZV9wb3B1bGF0aW9uLmlubmVySFRNTCA9IGBEb25uw6llcyBkaXNwb25pYmxlcyBwb3VyICR7dmFsdWVfcG9wfSUgZGUgbGEgcG9wdWxhdGlvbiBkZSBsJ2VzcGFjZSBkJ8OpdHVkZS5gO1xuICB9XG5cbiAgcmVtb3ZlKCkge1xuICAgIHRoaXMuc2VjdGlvbi5yZW1vdmUoKTtcbiAgICB0aGlzLnNlY3Rpb24gPSBudWxsO1xuICAgIHRoaXMuY29tcGxldHVkZV9wb3B1bGF0aW9uID0gbnVsbDtcbiAgICB0aGlzLmNvbXBsZXR1ZGVfZmVhdHVyZXMgPSBudWxsO1xuICB9XG59XG4iLCJpbXBvcnQgeyBjb21wLCBtYXRoX3JvdW5kLCBtYXRoX2FicywgUmVjdCwgcHJlcGFyZVRvb2x0aXAsIGdldE1lYW4sIHN2Z1BhdGhUb0Nvb3Jkcywgc2VsZWN0Rmlyc3RBdmFpbGFibGVWYXIgfSBmcm9tICcuLy4uL2hlbHBlcnMnO1xuaW1wb3J0IHsgY29sb3JfZGlzYWJsZWQsIGNvbG9yX2NvdW50cmllcywgY29sb3Jfc3VwLCBjb2xvcl9pbmYsIGNvbG9yX2hpZ2hsaWdodCB9IGZyb20gJy4vLi4vb3B0aW9ucyc7XG5pbXBvcnQgeyBjYWxjUG9wQ29tcGxldHVkZVN1YnNldCwgY2FsY0NvbXBsZXR1ZGVTdWJzZXQsIGFkZFZhcmlhYmxlIH0gZnJvbSAnLi8uLi9wcmVwYXJlX2RhdGEnO1xuaW1wb3J0IHsgc3ZnX21hcCB9IGZyb20gJy4vLi4vbWFwJztcbmltcG9ydCB7IGFwcCwgcmVzZXRDb2xvcnMsIHZhcmlhYmxlc19pbmZvIH0gZnJvbSAnLi8uLi8uLi9tYWluJztcbmltcG9ydCBUYWJsZVJlc3VtZVN0YXQgZnJvbSAnLi8uLi90YWJsZVJlc3VtZVN0YXQnO1xuaW1wb3J0IENvbXBsZXR1ZGVTZWN0aW9uIGZyb20gJy4vLi4vY29tcGxldHVkZSc7XG5cbmxldCBzdmdfYmFyID0gZDMuc2VsZWN0KCdzdmcjc3ZnX2JhcicpLFxuICBtYXJnaW4gPSB7IHRvcDogMTAsIHJpZ2h0OiAyMCwgYm90dG9tOiAxMDAsIGxlZnQ6IDQ1IH0sXG4gIG1hcmdpbjIgPSB7IHRvcDogNDMwLCByaWdodDogMjAsIGJvdHRvbTogMTUsIGxlZnQ6IDQ1IH0sXG4gIGJib3hfc3ZnID0gc3ZnX2Jhci5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gIHdpZHRoID0gK2Jib3hfc3ZnLndpZHRoIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQsXG4gIGhlaWdodCA9ICtiYm94X3N2Zy5oZWlnaHQgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbSxcbiAgaGVpZ2h0MiA9ICtiYm94X3N2Zy5oZWlnaHQgLSBtYXJnaW4yLnRvcCAtIG1hcmdpbjIuYm90dG9tLFxuICBzdmdfY29udGFpbmVyO1xuXG5sZXQgbmJGdDtcbmxldCBjdXJyZW50X3JhbmdlX2JydXNoID0gWzAsIDBdO1xubGV0IGN1cnJlbnRfcmFuZ2UgPSBbMCwgMF07XG5sZXQgZGlzcGxheWVkO1xuXG5mdW5jdGlvbiB1cGRhdGVEaW1lbnNpb25zKCkge1xuICBzdmdfYmFyID0gZDMuc2VsZWN0KCdzdmcjc3ZnX2JhcicpO1xuICBiYm94X3N2ZyA9IHN2Z19iYXIubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBtYXJnaW4gPSB7IHRvcDogMTAsIHJpZ2h0OiAyMCwgYm90dG9tOiAoNTAwICogYXBwLnJhdGlvVG9XaWRlKSAvIDUsIGxlZnQ6IDQ1IH07XG4gIG1hcmdpbjIgPSB7IHRvcDogKDUwMCAqIGFwcC5yYXRpb1RvV2lkZSkgKiAwLjg2LCByaWdodDogMjAsIGJvdHRvbTogKDUwMCAqIGFwcC5yYXRpb1RvV2lkZSkgLyA0MCwgbGVmdDogNDUgfTtcbiAgd2lkdGggPSArYmJveF9zdmcud2lkdGggLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodDtcbiAgaGVpZ2h0ID0gNTAwICogYXBwLnJhdGlvVG9XaWRlIC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XG4gIHN2Z19iYXIuYXR0cignaGVpZ2h0JywgYCR7NTAwICogYXBwLnJhdGlvVG9XaWRlfXB4YCk7XG4gIGhlaWdodDIgPSA1MDAgKiBhcHAucmF0aW9Ub1dpZGUgLSBtYXJnaW4yLnRvcCAtIG1hcmdpbjIuYm90dG9tO1xuICBzdmdfY29udGFpbmVyID0gc3ZnX2Jhci5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdjb250YWluZXInKTtcbn1cblxuZnVuY3Rpb24gZ2V0TWVhblJhbmsobWVhbl92YWx1ZSwgcmF0aW9fdG9fdXNlKSB7XG4gIGxldCBtZWFuX3JhbmsgPSBhcHAuY3VycmVudF9kYXRhLm1hcChcbiAgICAoZCwgaSkgPT4gW2RbcmF0aW9fdG9fdXNlXSwgbWF0aF9hYnMobWVhbl92YWx1ZSAtIGRbcmF0aW9fdG9fdXNlXSksIGldKTtcbiAgbWVhbl9yYW5rLnNvcnQoKGEsIGIpID0+IGFbMV0gLSBiWzFdKTtcbiAgbWVhbl9yYW5rID0gbWVhbl9yYW5rWzBdO1xuICBpZiAobWVhbl9yYW5rWzFdID4gbWVhbl92YWx1ZSkge1xuICAgIG1lYW5fcmFuayA9IG1lYW5fcmFua1syXSAtIDE7XG4gIH0gZWxzZSB7XG4gICAgbWVhbl9yYW5rID0gbWVhbl9yYW5rWzJdO1xuICB9XG4gIHJldHVybiBtZWFuX3Jhbms7XG59XG5cblxuZXhwb3J0IGNsYXNzIEJhckNoYXJ0MSB7XG4gIGNvbnN0cnVjdG9yKHJlZl9kYXRhKSB7XG4gICAgdGhpcy5icnVzaGVkID0gKCkgPT4ge1xuICAgICAgaWYgKGQzLmV2ZW50LnNvdXJjZUV2ZW50ICYmIGQzLmV2ZW50LnNvdXJjZUV2ZW50LnR5cGUgPT09ICd6b29tJykgcmV0dXJuOyAvLyBpZ25vcmUgYnJ1c2gtYnktem9vbVxuICAgICAgaWYgKCF0aGlzLngpIHsgY29uc29sZS5sb2coJ2EnKTsgcmV0dXJuOyB9XG4gICAgICBjb25zdCBzID0gZDMuZXZlbnQuc2VsZWN0aW9uIHx8IHRoaXMueDIucmFuZ2UoKTtcbiAgICAgIGNvbnRleHRfbGVmdF9oYW5kbGUuYXR0cigneCcsIHNbMF0gLSAxMik7XG4gICAgICBjb250ZXh0X3JpZ2h0X2hhbmRsZS5hdHRyKCd4Jywgc1sxXSAtIDcpO1xuICAgICAgY3VycmVudF9yYW5nZSA9IFttYXRoX3JvdW5kKHNbMF0gLyAod2lkdGggLyBuYkZ0KSksIG1hdGhfcm91bmQoc1sxXSAvICh3aWR0aCAvIG5iRnQpKV07XG4gICAgICB0aGlzLnguZG9tYWluKHRoaXMuZGF0YS5zbGljZShjdXJyZW50X3JhbmdlWzBdLCBjdXJyZW50X3JhbmdlWzFdKS5tYXAoZnQgPT4gZnQuaWQpKTtcbiAgICAgIHN2Z19jb250YWluZXIuc2VsZWN0KCcuem9vbScpLmNhbGwodGhpcy56b29tLnRyYW5zZm9ybSwgZDMuem9vbUlkZW50aXR5XG4gICAgICAgIC5zY2FsZSh3aWR0aCAvIChjdXJyZW50X3JhbmdlWzFdIC0gY3VycmVudF9yYW5nZVswXSkpXG4gICAgICAgIC50cmFuc2xhdGUoLWN1cnJlbnRfcmFuZ2VbMF0sIDApKTtcbiAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICB0aGlzLnVwZGF0ZUNvbnRleHQoY3VycmVudF9yYW5nZVswXSwgY3VycmVudF9yYW5nZVsxXSk7XG4gICAgICBzdmdfY29udGFpbmVyLnNlbGVjdCgnLmJydXNoX3RvcCcpLmNhbGwodGhpcy5icnVzaF90b3AubW92ZSwgbnVsbCk7XG4gICAgICAvLyB0aGlzLmJydXNoZWRfdG9wKCk7XG4gICAgfTtcblxuICAgIHRoaXMuYnJ1c2hlZF90b3AgPSAoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuX2ZvY3VzKSB7IGNvbnNvbGUubG9nKCdiJyk7IHJldHVybjsgfVxuICAgICAgaWYgKCF0aGlzLm1hcF9lbGVtKSB7IGNvbnNvbGUubG9nKCdjJyk7IHJldHVybjsgfVxuICAgICAgY29uc3QgZDNfZXZlbnQgPSBkMy5ldmVudDtcbiAgICAgIGNvbnN0IHJhdGlvX3RvX3VzZSA9IHRoaXMucmF0aW9fdG9fdXNlO1xuICAgICAgY29uc3QgcmVmX3ZhbHVlID0gdGhpcy5yZWZfdmFsdWU7XG4gICAgICAvLyBpZiAoZDNfZXZlbnQgJiYgZDNfZXZlbnQuc2VsZWN0aW9uXG4gICAgICAvLyAgICAgICAmJiBkM19ldmVudC5zb3VyY2VFdmVudCAmJiBkM19ldmVudC5zb3VyY2VFdmVudC50YXJnZXQgPT09IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5icnVzaF90b3AgPiByZWN0Lm92ZXJsYXknKSkge1xuICAgICAgaWYgKGQzX2V2ZW50ICYmIGQzX2V2ZW50LnNlbGVjdGlvbiAmJiBkM19ldmVudC5zb3VyY2VFdmVudCAmJiBkM19ldmVudC5zb3VyY2VFdmVudC50YXJnZXQpIHtcbiAgICAgICAgdGhpcy5tYXBfZWxlbS5yZW1vdmVSZWN0QnJ1c2goKTtcbiAgICAgICAgY29uc3QgcyA9IGQzX2V2ZW50LnNlbGVjdGlvbjtcbiAgICAgICAgY3VycmVudF9yYW5nZV9icnVzaCA9IFtcbiAgICAgICAgICBjdXJyZW50X3JhbmdlWzBdICsgbWF0aF9yb3VuZChzWzBdIC8gKHdpZHRoIC8gZGlzcGxheWVkKSkgLSAxLFxuICAgICAgICAgIGN1cnJlbnRfcmFuZ2VbMF0gKyBtYXRoX3JvdW5kKHNbMV0gLyAod2lkdGggLyBkaXNwbGF5ZWQpKSxcbiAgICAgICAgXTtcbiAgICAgICAgLy8gdGhpcy54LmRvbWFpbih0aGlzLmRhdGEuc2xpY2UoY3VycmVudF9yYW5nZV9icnVzaFswXSArIDEsIGN1cnJlbnRfcmFuZ2VfYnJ1c2hbMV0pXG4gICAgICAgIC8vICAgLm1hcChmdCA9PiBmdC5pZCkpO1xuICAgICAgICBhcHAuY29sb3JzID0ge307XG4gICAgICAgIHRoaXMuX2ZvY3VzLnNlbGVjdEFsbCgnLmJhcicpXG4gICAgICAgICAgLnN0eWxlKCdmaWxsJywgKGQsIGkpID0+IHtcbiAgICAgICAgICAgIGlmIChkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKSB7XG4gICAgICAgICAgICAgIGFwcC5jb2xvcnNbZC5pZF0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgICAgICAgICAgIHJldHVybiBjb2xvcl9oaWdobGlnaHQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGkgPiBjdXJyZW50X3JhbmdlX2JydXNoWzBdICYmIGkgPCBjdXJyZW50X3JhbmdlX2JydXNoWzFdKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gY29tcChkW3JhdGlvX3RvX3VzZV0sIHJlZl92YWx1ZSwgdGhpcy5zZXJpZV9pbnZlcnNlZCk7XG4gICAgICAgICAgICAgIGFwcC5jb2xvcnNbZC5pZF0gPSBjb2xvcjtcbiAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbG9yX2NvdW50cmllcztcbiAgICAgICAgICB9KTtcbiAgICAgICAgLy8gdGhpcy51cGRhdGUoKTtcbiAgICAgICAgaWYgKHRoaXMucmVzZXRfc3RhdGVfYnV0dG9uID09PSB0cnVlKSB7XG4gICAgICAgICAgZDMuc2VsZWN0QWxsKCcjbWVudV9zZWxlY3Rpb24gPiBidXR0b24nKS5hdHRyKCdjbGFzcycsICdidXR0b25fYmx1ZScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChkM19ldmVudCAmJiAhZDNfZXZlbnQuc2VsZWN0aW9uXG4gICAgICAgICAgICAmJiBkM19ldmVudC5zb3VyY2VFdmVudCAmJiBkM19ldmVudC5zb3VyY2VFdmVudC5kZXRhaWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRoaXMubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gICAgICAgICAgYXBwLmNvbG9ycyA9IHt9O1xuICAgICAgICAgIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgICAgICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ZvY3VzLnNlbGVjdEFsbCgnLmJhcicpXG4gICAgICAgICAgLnN0eWxlKCdmaWxsJywgZCA9PiBhcHAuY29sb3JzW2QuaWRdIHx8IGNvbG9yX2NvdW50cmllcyk7XG4gICAgICAgIGlmICh0aGlzLnJlc2V0X3N0YXRlX2J1dHRvbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGQzLnNlbGVjdEFsbCgnI21lbnVfc2VsZWN0aW9uID4gYnV0dG9uJykuYXR0cignY2xhc3MnLCAnYnV0dG9uX2JsdWUnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgdXBkYXRlRGltZW5zaW9ucygpO1xuICAgIGFwcC5jaGFydERyYXdSYXRpbyA9IGFwcC5yYXRpb1RvV2lkZTtcbiAgICAvLyBTZXQgdGhlIG1pbmltdW0gbnVtYmVyIG9mIHZhcmlhYmxlcyB0byBrZWVwIHNlbGVjdGVkIGZvciB0aGlzIGtpbmQgb2YgY2hhcnQ6XG4gICAgYXBwLmN1cnJlbnRfY29uZmlnLm5iX3ZhciA9IDE7XG4gICAgY29uc3QgeCA9IGQzLnNjYWxlQmFuZCgpLnJhbmdlKFswLCB3aWR0aF0pLnBhZGRpbmcoMC4xKSxcbiAgICAgIHgyID0gZDMuc2NhbGVCYW5kKCkucmFuZ2UoWzAsIHdpZHRoXSkucGFkZGluZygwLjEpLFxuICAgICAgeSA9IGQzLnNjYWxlTGluZWFyKCkucmFuZ2UoW2hlaWdodCwgMF0pLFxuICAgICAgeTIgPSBkMy5zY2FsZUxpbmVhcigpLnJhbmdlKFtoZWlnaHQyLCAwXSk7XG5cbiAgICBjb25zdCB4QXhpcyA9IGQzLmF4aXNCb3R0b20oeCk7XG4gICAgY29uc3QgeEF4aXMyID0gZDMuYXhpc0JvdHRvbSh4Mik7XG4gICAgY29uc3QgeUF4aXMgPSBkMy5heGlzTGVmdCh5KTtcblxuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy54MiA9IHgyO1xuICAgIHRoaXMueSA9IHk7XG4gICAgdGhpcy55MiA9IHkyO1xuICAgIHRoaXMueEF4aXMgPSB4QXhpcztcbiAgICB0aGlzLnlBeGlzID0geUF4aXM7XG4gICAgdGhpcy54QXhpczIgPSB4QXhpczI7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgYXZhaWxhYmxlX3JhdGlvcyA9IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpbztcbiAgICBjb25zdCByYXRpb190b191c2UgPSBhdmFpbGFibGVfcmF0aW9zWzBdO1xuICAgIHRoaXMucmF0aW9fdG9fdXNlID0gcmF0aW9fdG9fdXNlO1xuICAgIHRoaXMudW5pdCA9IHZhcmlhYmxlc19pbmZvLmZpbmQoZnQgPT4gZnQucmF0aW8gPT09IHJhdGlvX3RvX3VzZSkudW5pdDtcbiAgICB0aGlzLmRhdGEgPSByZWZfZGF0YS5maWx0ZXIoZnQgPT4gISFmdFtyYXRpb190b191c2VdKTtcbiAgICB0aGlzLmRhdGEuc29ydCgoYSwgYikgPT4gYVtyYXRpb190b191c2VdIC0gYltyYXRpb190b191c2VdKTtcbiAgICB0aGlzLmN1cnJlbnRfaWRzID0gdGhpcy5kYXRhLm1hcChkID0+IGQuaWQpO1xuICAgIHJlc2V0Q29sb3JzKCk7XG4gICAgdGhpcy5jdXJyZW50X3JhbmtzID0gdGhpcy5kYXRhLm1hcCgoZCwgaSkgPT4gaSArIDEpO1xuICAgIG5iRnQgPSB0aGlzLmRhdGEubGVuZ3RoO1xuICAgIHRoaXMubWVhbl92YWx1ZSA9IGdldE1lYW4odGhpcy5kYXRhLm1hcChkID0+IGRbcmF0aW9fdG9fdXNlXSkpO1xuICAgIHRoaXMucmVmX3ZhbHVlID0gdGhpcy5kYXRhLmZpbHRlcihcbiAgICAgIGZ0ID0+IGZ0LmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVswXVtyYXRpb190b191c2VdO1xuICAgIHN2Z19jb250YWluZXIuYXBwZW5kKCdkZWZzJylcbiAgICAgIC5hcHBlbmQoJ2NsaXBQYXRoJylcbiAgICAgIC5hdHRyKCdpZCcsICdjbGlwJylcbiAgICAgIC5hcHBlbmQoJ3JlY3QnKVxuICAgICAgLmF0dHJzKHsgd2lkdGgsIGhlaWdodCB9KTtcblxuICAgIGNvbnN0IGZvY3VzID0gc3ZnX2NvbnRhaW5lci5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgY2xhc3M6ICdmb2N1cycsXG4gICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke21hcmdpbi5sZWZ0fSwgJHttYXJnaW4udG9wfSlgLFxuICAgICAgfSk7XG5cbiAgICBjb25zdCBjb250ZXh0ID0gc3ZnX2NvbnRhaW5lci5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgY2xhc3M6ICdjb250ZXh0JyxcbiAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7bWFyZ2luMi5sZWZ0fSwgJHttYXJnaW4yLnRvcH0pYCxcbiAgICAgIH0pO1xuXG4gICAgdGhpcy5fZm9jdXMgPSBmb2N1cztcbiAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuXG4gICAgeC5kb21haW4odGhpcy5jdXJyZW50X2lkcyk7XG4gICAgeS5kb21haW4oW1xuICAgICAgMCxcbiAgICAgIGQzLm1heCh0aGlzLmRhdGEsIGQgPT4gZFtyYXRpb190b191c2VdKSxcbiAgICBdKTtcbiAgICB4Mi5kb21haW4oeC5kb21haW4oKSk7XG4gICAgeTIuZG9tYWluKHkuZG9tYWluKCkpO1xuXG4gICAgY29uc3QgYnJ1c2hfYm90dG9tID0gZDMuYnJ1c2hYKClcbiAgICAgIC5leHRlbnQoW1swLCAwXSwgW3dpZHRoLCBoZWlnaHQyXV0pXG4gICAgICAub24oJ2JydXNoIGVuZCcsIHRoaXMuYnJ1c2hlZCk7XG5cbiAgICBjb25zdCBicnVzaF90b3AgPSBkMy5icnVzaFgoKVxuICAgICAgLmV4dGVudChbWzAsIDBdLCBbd2lkdGgsIGhlaWdodF1dKVxuICAgICAgLm9uKCdicnVzaCBlbmQnLCB0aGlzLmJydXNoZWRfdG9wKTtcblxuICAgIGNvbnN0IHpvb20gPSBkMy56b29tKClcbiAgICAgIC5zY2FsZUV4dGVudChbMSwgSW5maW5pdHldKVxuICAgICAgLnRyYW5zbGF0ZUV4dGVudChbWzAsIDBdLCBbd2lkdGgsIGhlaWdodF1dKVxuICAgICAgLmV4dGVudChbWzAsIDBdLCBbd2lkdGgsIGhlaWdodF1dKTtcbiAgICAgIC8vIC5vbihcInpvb21cIiwgem9vbWVkKTtcbiAgICB0aGlzLmJydXNoX3RvcCA9IGJydXNoX3RvcDtcbiAgICB0aGlzLmJydXNoX2JvdHRvbSA9IGJydXNoX2JvdHRvbTtcbiAgICB0aGlzLnpvb20gPSB6b29tO1xuXG4gICAgZm9jdXMuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAnYXhpcyBheGlzLS14JywgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKDAsICR7aGVpZ2h0fSlgIH0pXG4gICAgICAuY2FsbCh4QXhpcyk7XG5cbiAgICBmb2N1cy5zZWxlY3QoJy5heGlzLS14JylcbiAgICAgIC5zZWxlY3RBbGwoJ3RleHQnKVxuICAgICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdlbmQnKVxuICAgICAgLmF0dHJzKHsgZHg6ICctMC44ZW0nLCBkeTogJzAuMTVlbScsIHRyYW5zZm9ybTogJ3JvdGF0ZSgtNjUpJyB9KTtcblxuICAgIGZvY3VzLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignY2xhc3MnLCAnYXhpcyBheGlzLS15JylcbiAgICAgIC5jYWxsKHlBeGlzKTtcblxuICAgIHRoaXMuZ19iYXIgPSBmb2N1cy5hcHBlbmQoJ2cnKTtcblxuICAgIGNvbnN0IGdyb3VwZV9saW5lX21lYW4gPSBmb2N1cy5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdtZWFuJyk7XG4gICAgZ3JvdXBlX2xpbmVfbWVhbi5hcHBlbmQoJ3RleHQnKVxuICAgICAgLmF0dHJzKHsgeDogNjAsIHk6IHkodGhpcy5tZWFuX3ZhbHVlKSArIDIwIH0pXG4gICAgICAuc3R5bGVzKHtcbiAgICAgICAgZGlzcGxheTogJ25vbmUnLFxuICAgICAgICBmaWxsOiAncmVkJyxcbiAgICAgICAgJ2ZpbGwtb3BhY2l0eSc6ICcwLjgnLFxuICAgICAgICAnZm9udC1mYW1pbHknOiAnXFwnU2lnbmlrYVxcJywgc2Fucy1zZXJpZicsXG4gICAgICB9KVxuICAgICAgLnRleHQoYFZhbGV1ciBtb3llbm5lIDogJHtNYXRoLnJvdW5kKHRoaXMubWVhbl92YWx1ZSAqIDEwKSAvIDEwfSAke3RoaXMudW5pdH1gKTtcblxuICAgIGdyb3VwZV9saW5lX21lYW4uYXBwZW5kKCdsaW5lJylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIHgxOiAwLFxuICAgICAgICB4Mjogd2lkdGgsXG4gICAgICAgIHkxOiB5KHRoaXMubWVhbl92YWx1ZSksXG4gICAgICAgIHkyOiB5KHRoaXMubWVhbl92YWx1ZSksXG4gICAgICAgICdzdHJva2UtZGFzaGFycmF5JzogJzEwLCA1JyxcbiAgICAgICAgJ3N0cm9rZS13aWR0aCc6ICcycHgnLFxuICAgICAgICBjbGFzczogJ21lYW5fbGluZScsXG4gICAgICB9KVxuICAgICAgLnN0eWxlKCdzdHJva2UnLCAncmVkJyk7XG5cbiAgICBncm91cGVfbGluZV9tZWFuLmFwcGVuZCgnbGluZScpXG4gICAgICAuYXR0cnMoeyB4MTogMCwgeDI6IHdpZHRoLCB5MTogeSh0aGlzLm1lYW5fdmFsdWUpLCB5MjogeSh0aGlzLm1lYW5fdmFsdWUpLCAnc3Ryb2tlLXdpZHRoJzogJzE0cHgnLCBjbGFzczogJ3RyYW5zcF9tZWFuX2xpbmUnIH0pXG4gICAgICAuc3R5bGUoJ3N0cm9rZScsICd0cmFuc3BhcmVudCcpXG4gICAgICAub24oJ21vdXNlb3ZlcicsICgpID0+IHtcbiAgICAgICAgZ3JvdXBlX2xpbmVfbWVhbi5zZWxlY3QoJ3RleHQnKVxuICAgICAgICAgIC5zdHlsZSgnZGlzcGxheScsICdpbml0aWFsJyk7XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZW91dCcsICgpID0+IHtcbiAgICAgICAgZ3JvdXBlX2xpbmVfbWVhbi5zZWxlY3QoJ3RleHQnKVxuICAgICAgICAgIC5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICB9KTtcblxuICAgIHRoaXMudXBkYXRlTWluaUJhcnMoKTtcblxuICAgIGNvbnN0IGdfYnJ1c2hfYm90dG9tID0gY29udGV4dC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2JydXNoX2JvdHRvbScpXG4gICAgICAuY2FsbChicnVzaF9ib3R0b20pO1xuXG4gICAgY29uc3QgY29udGV4dF9sZWZ0X2hhbmRsZSA9IGdfYnJ1c2hfYm90dG9tLmluc2VydCgnaW1hZ2UnLCAnLmhhbmRsZScpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICB3aWR0aDogMjAsXG4gICAgICAgIGhlaWdodDogaGVpZ2h0MixcbiAgICAgICAgeDogeDIodGhpcy5jdXJyZW50X2lkc1swXSkgLSAxMixcbiAgICAgICAgJ3hsaW5rOmhyZWYnOiAnaW1nL2xlZnQtaGFuZGxlLnBuZycsXG4gICAgICB9KTtcblxuICAgIGNvbnN0IGNvbnRleHRfcmlnaHRfaGFuZGxlID0gZ19icnVzaF9ib3R0b20uaW5zZXJ0KCdpbWFnZScsICcuaGFuZGxlJylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIHdpZHRoOiAyMCxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQyLFxuICAgICAgICB4OiB4Mih0aGlzLmN1cnJlbnRfaWRzW3RoaXMuY3VycmVudF9pZHMubGVuZ3RoIC0gMV0pIC0gNyxcbiAgICAgICAgJ3hsaW5rOmhyZWYnOiAnaW1nL3JpZ2h0LWhhbmRsZS5wbmcnLFxuICAgICAgfSk7XG5cbiAgICBmb2N1cy5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2JydXNoX3RvcCcpXG4gICAgICAuY2FsbChicnVzaF90b3ApXG4gICAgICAuY2FsbChicnVzaF90b3AubW92ZSwgbnVsbCk7XG5cbiAgICBnX2JydXNoX2JvdHRvbS5jYWxsKGJydXNoX2JvdHRvbS5tb3ZlLCB4LnJhbmdlKCkpO1xuXG4gICAgdGhpcy5jb21wbGV0dWRlID0gbmV3IENvbXBsZXR1ZGVTZWN0aW9uKFxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21hcF9zZWN0aW9uJyksXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3ZnX21hcCcpKTtcbiAgICB0aGlzLmNvbXBsZXR1ZGUudXBkYXRlKFxuICAgICAgY2FsY0NvbXBsZXR1ZGVTdWJzZXQoYXBwLCBbdGhpcy5yYXRpb190b191c2VdLCAnYXJyYXknKSxcbiAgICAgIGNhbGNQb3BDb21wbGV0dWRlU3Vic2V0KGFwcCwgW3RoaXMucmF0aW9fdG9fdXNlXSkpO1xuXG4gICAgc3ZnX2NvbnRhaW5lci5hcHBlbmQoJ2ltYWdlJylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIHg6IHdpZHRoICsgbWFyZ2luLmxlZnQgKyA1LFxuICAgICAgICB5OiAzODUsXG4gICAgICAgIHdpZHRoOiAxNSxcbiAgICAgICAgaGVpZ2h0OiAxNSxcbiAgICAgICAgJ3hsaW5rOmhyZWYnOiAnaW1nL3JldmVyc2VfcGx1cy5wbmcnLFxuICAgICAgICBpZDogJ2ltZ19yZXZlcnNlJyxcbiAgICAgIH0pXG4gICAgICAub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAvLyB0aGlzLmRhdGEgPSBhcHAuY3VycmVudF9kYXRhLnNsaWNlKCk7XG4gICAgICAgIGlmICghdGhpcy5zZXJpZV9pbnZlcnNlZCkge1xuICAgICAgICAgIHRoaXMuZGF0YS5zb3J0KChhLCBiKSA9PiBiW3RoaXMucmF0aW9fdG9fdXNlXSAtIGFbdGhpcy5yYXRpb190b191c2VdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmRhdGEuc29ydCgoYSwgYikgPT4gYVt0aGlzLnJhdGlvX3RvX3VzZV0gLSBiW3RoaXMucmF0aW9fdG9fdXNlXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50X2lkcyA9IHRoaXMuZGF0YS5tYXAoZCA9PiBkLmlkKTtcbiAgICAgICAgdGhpcy5zZXJpZV9pbnZlcnNlZCA9ICF0aGlzLnNlcmllX2ludmVyc2VkO1xuICAgICAgICB4LmRvbWFpbih0aGlzLmRhdGEuc2xpY2UoY3VycmVudF9yYW5nZVswXSwgY3VycmVudF9yYW5nZVsxXSkubWFwKGZ0ID0+IGZ0LmlkKSk7XG4gICAgICAgIHgyLmRvbWFpbih0aGlzLmRhdGEubWFwKGZ0ID0+IGZ0LmlkKSk7XG4gICAgICAgIC8vIHN2Z19jb250YWluZXIuc2VsZWN0KFwiLnpvb21cIikuY2FsbCh6b29tLnRyYW5zZm9ybSwgZDMuem9vbUlkZW50aXR5XG4gICAgICAgIC8vICAgICAuc2NhbGUod2lkdGggLyAoY3VycmVudF9yYW5nZVsxXSAtIGN1cnJlbnRfcmFuZ2VbMF0pKVxuICAgICAgICAvLyAgICAgLnRyYW5zbGF0ZSgtY3VycmVudF9yYW5nZVswXSwgMCkpO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICAvLyB0aGlzLnVwZGF0ZU1pbmlCYXJzKCk7XG4gICAgICAgIHRoaXMudXBkYXRlQ29udGV4dChjdXJyZW50X3JhbmdlWzBdLCBjdXJyZW50X3JhbmdlWzFdKTtcbiAgICAgICAgc3ZnX2NvbnRhaW5lci5zZWxlY3QoJy5icnVzaF90b3AnKS5jYWxsKGJydXNoX3RvcC5tb3ZlLCBudWxsKTtcbiAgICAgICAgdGhpcy5tYXBfZWxlbS5yZW1vdmVSZWN0QnJ1c2goKTtcbiAgICAgICAgc3ZnX2NvbnRhaW5lci5zZWxlY3QoJy5icnVzaF9ib3R0b20nKS5jYWxsKGJydXNoX2JvdHRvbS5tb3ZlLCB4LnJhbmdlKCkpO1xuICAgICAgfSk7XG5cbiAgICAvLyBQcmVwYXJlIHRoZSB0b29sdGlwIGRpc3BsYXllZCBvbiBtb3VzZW92ZXI6XG4gICAgY29uc3QgdG9vbHRpcCA9IHByZXBhcmVUb29sdGlwKHN2Z19jb250YWluZXIpO1xuXG4gICAgLy8gRGVhY3RpdmF0ZSB0aGUgYnJ1c2ggcmVjdCBzZWxlY3Rpb24gb24gdGhlIG1hcCArIG9uIHRoZSBjaGFydFxuICAgIC8vIHdoZW4gaGUgdXNlciBwcmVzcyB0aGUgQ3RybCBrZXk6XG4gICAgZG9jdW1lbnQub25rZXlkb3duID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQgJiYgZXZlbnQua2V5ID09PSAnQ29udHJvbCcpIHtcbiAgICAgICAgc3ZnX2NvbnRhaW5lci5zZWxlY3QoJy5icnVzaF90b3AnKVxuICAgICAgICAgIC5zZWxlY3RBbGwoJy5zZWxlY3Rpb24sIC5vdmVybGF5JylcbiAgICAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpXG4gICAgICAgICAgLnNlbGVjdEFsbCgnLnNlbGVjdGlvbiwgLm92ZXJsYXknKVxuICAgICAgICAgIC5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBkb2N1bWVudC5vbmtleXVwID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQgJiYgZXZlbnQua2V5ID09PSAnQ29udHJvbCcpIHtcbiAgICAgICAgc3ZnX2NvbnRhaW5lci5zZWxlY3QoJy5icnVzaF90b3AnKVxuICAgICAgICAgIC5zZWxlY3RBbGwoJy5zZWxlY3Rpb24sIC5vdmVybGF5JylcbiAgICAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTtcbiAgICAgICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKVxuICAgICAgICAgIC5zZWxlY3RBbGwoJy5zZWxlY3Rpb24sIC5vdmVybGF5JylcbiAgICAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgaGVhZGVyX2Jhcl9zZWN0aW9uID0gZDMuc2VsZWN0KCcjaGVhZGVyX2NoYXJ0Jyk7XG5cbiAgICB0aGlzLnNlbGVjX3ZhciA9IGhlYWRlcl9iYXJfc2VjdGlvblxuICAgICAgLmluc2VydCgnc2VsZWN0JywgJyNpbWdfdGFibGUnKVxuICAgICAgLmF0dHJzKHsgY2xhc3M6ICd0aXRsZV92YXJpYWJsZScgfSlcbiAgICAgIC5zdHlsZXMoe1xuICAgICAgICAnZm9udC1mYW1pbHknOiAnXFwnU2lnbmlrYVxcJywgc2Fucy1zZXJpZicsXG4gICAgICAgICdmb250LXdlaWdodCc6ICc4MDAnLFxuICAgICAgICAnZm9udC1zaXplJzogJzAuOGVtJyxcbiAgICAgICAgJ21hcmdpbi10b3AnOiAnMTJweCcsXG4gICAgICAgICdtYXJnaW4tbGVmdCc6ICc0MHB4JyxcbiAgICAgICAgZmxvYXQ6ICdsZWZ0JyxcbiAgICAgIH0pO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gYXZhaWxhYmxlX3JhdGlvcy5sZW5ndGg7IGkgPCBsZW5faTsgaSsrKSB7XG4gICAgICBjb25zdCBjb2RlX3ZhcmlhYmxlID0gYXZhaWxhYmxlX3JhdGlvc1tpXTtcbiAgICAgIGNvbnN0IG5hbWVfdmFyaWFibGUgPSBhcHAuY3VycmVudF9jb25maWcucmF0aW9fcHJldHR5X25hbWVbaV07XG4gICAgICBjb25zdCB1bml0ID0gdmFyaWFibGVzX2luZm8uZmluZChmdCA9PiBmdC5yYXRpbyA9PT0gY29kZV92YXJpYWJsZSkudW5pdDtcbiAgICAgIGNvbnN0IHllYXIgPSBuYW1lX3ZhcmlhYmxlLm1hdGNoKC9cXChbXildKlxcKSQvKVswXTtcbiAgICAgIGNvbnN0IHVuaXRfeWVhciA9IGAke3llYXIuc2xpY2UoMCwgMSl9JHt1bml0fSwgJHt5ZWFyLnNsaWNlKDEsIDYpfWA7XG5cbiAgICAgIHRoaXMuc2VsZWNfdmFyLmFwcGVuZCgnb3B0aW9uJylcbiAgICAgICAgLmF0dHIoJ3ZhbHVlJywgY29kZV92YXJpYWJsZSlcbiAgICAgICAgLnRleHQobmFtZV92YXJpYWJsZS5yZXBsYWNlKHllYXIsIHVuaXRfeWVhcikpO1xuICAgIH1cblxuICAgIHRoaXMuc2VsZWNfdmFyLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCBjb2RlX3ZhcmlhYmxlID0gdGhpcy52YWx1ZTtcbiAgICAgIHNlbGYuY2hhbmdlVmFyaWFibGUoY29kZV92YXJpYWJsZSk7XG4gICAgICBzZWxmLmNoYW5nZVN0dWR5Wm9uZSgpO1xuICAgICAgc2VsZi51cGRhdGVDb21wbGV0dWRlKCk7XG4gICAgfSk7XG5cbiAgICAvLyBDcmVhdGUgdGhlIG1lbnUgdW5kZXIgdGhlIGNoYXJ0IGFsbG93aW5nIHRvIHVzZSBzb21lIHVzZWZ1bCBzZWxlY3Rpb25zXG4gICAgLy8gKGFib3ZlIG9yIGJlbG93IHRoZSBtZWFuIHZhbHVlIGFuZCBhYm92ZSBvciBiZWxvdyBteV9yZWdpb24pXG4gICAgY29uc3QgbWVudV9zZWxlY3Rpb24gPSBkMy5zZWxlY3QoJyNiYXJfc2VjdGlvbicpXG4gICAgICAuYXBwZW5kKCdkaXYnKVxuICAgICAgLmF0dHIoJ2lkJywgJ21lbnVfc2VsZWN0aW9uJylcbiAgICAgIC5zdHlsZXMoeyBwYWRkaW5nOiAnMCAxMHB4IDEwcHggMTBweCcsICd0ZXh0LWFsaWduJzogJ2NlbnRlcicsIGNvbG9yOiAnIzRmODFiZCcgfSk7XG5cbiAgICBtZW51X3NlbGVjdGlvbi5hcHBlbmQoJ3AnKVxuICAgICAgLmF0dHIoJ2lkJywgJ3NlbGVjdGlvbl9zdWJ0aXRsZScpXG4gICAgICAuc3R5bGVzKHsgbWFyZ2luOiAnMTBweCAwcHggMnB4IDBweCcgfSlcbiAgICAgIC5odG1sKCdTw6lsZWN0aW9uIGRlcyByw6lnaW9ucyBheWFudCBkZXMgdmFsZXVycy4uLicpO1xuXG4gICAgbWVudV9zZWxlY3Rpb24uYXBwZW5kKCdidXR0b24nKVxuICAgICAgLmF0dHJzKHsgY2xhc3M6ICdidXR0b25fYmx1ZScsIGlkOiAnYnRuX2Fib3ZlX21lYW4nIH0pXG4gICAgICAudGV4dCgnaW5mw6lyaWV1cmVzIMOgIGxhIG1veWVubmUnKVxuICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbWVudV9zZWxlY3Rpb24uc2VsZWN0QWxsKCdidXR0b24nKS5hdHRyKCdjbGFzcycsICdidXR0b25fYmx1ZScpO1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ3ByZXNzZWQnKTtcbiAgICAgICAgc2VsZi5zZWxlY3RCZWxvd01lYW4oKTtcbiAgICAgIH0pO1xuXG4gICAgbWVudV9zZWxlY3Rpb24uYXBwZW5kKCdidXR0b24nKVxuICAgICAgLmF0dHJzKHsgY2xhc3M6ICdidXR0b25fYmx1ZScsIGlkOiAnYnRuX2Fib3ZlX215X3JlZ2lvbicgfSlcbiAgICAgIC50ZXh0KCdpbmbDqXJpZXVycyDDoCBtYSByw6lnaW9uJylcbiAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG1lbnVfc2VsZWN0aW9uLnNlbGVjdEFsbCgnYnV0dG9uJykuYXR0cignY2xhc3MnLCAnYnV0dG9uX2JsdWUnKTtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdwcmVzc2VkJyk7XG4gICAgICAgIHNlbGYuc2VsZWN0QmVsb3dNeVJlZ2lvbigpO1xuICAgICAgfSk7XG5cbiAgICBtZW51X3NlbGVjdGlvbi5hcHBlbmQoJ2J1dHRvbicpXG4gICAgICAuYXR0cnMoeyBjbGFzczogJ2J1dHRvbl9ibHVlJywgaWQ6ICdidG5fYmVsb3dfbWVhbicgfSlcbiAgICAgIC50ZXh0KCdzdXDDqXJpZXVyZXMgw6AgbGEgbW95ZW5uZScpXG4gICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBtZW51X3NlbGVjdGlvbi5zZWxlY3RBbGwoJ2J1dHRvbicpLmF0dHIoJ2NsYXNzJywgJ2J1dHRvbl9ibHVlJyk7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgncHJlc3NlZCcpO1xuICAgICAgICBzZWxmLnNlbGVjdEFib3ZlTWVhbigpO1xuICAgICAgfSk7XG5cbiAgICBtZW51X3NlbGVjdGlvbi5hcHBlbmQoJ2J1dHRvbicpXG4gICAgICAuYXR0cnMoeyBjbGFzczogJ2J1dHRvbl9ibHVlJywgaWQ6ICdidG5fYmVsb3dfbXlfcmVnaW9uJyB9KVxuICAgICAgLnRleHQoJ3N1cMOpcmlldXJlcyDDoCBtYSByw6lnaW9uJylcbiAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG1lbnVfc2VsZWN0aW9uLnNlbGVjdEFsbCgnYnV0dG9uJykuYXR0cignY2xhc3MnLCAnYnV0dG9uX2JsdWUnKTtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdwcmVzc2VkJyk7XG4gICAgICAgIHNlbGYuc2VsZWN0QWJvdmVNeVJlZ2lvbigpO1xuICAgICAgfSk7XG5cbiAgICB0aGlzLm1ha2VUYWJsZVN0YXQoKTtcbiAgfVxuXG4gIHVwZGF0ZUNvbXBsZXR1ZGUoKSB7XG4gICAgdGhpcy5jb21wbGV0dWRlLnVwZGF0ZShcbiAgICAgIGNhbGNDb21wbGV0dWRlU3Vic2V0KGFwcCwgW3RoaXMucmF0aW9fdG9fdXNlXSwgJ2FycmF5JyksXG4gICAgICBjYWxjUG9wQ29tcGxldHVkZVN1YnNldChhcHAsIFt0aGlzLnJhdGlvX3RvX3VzZV0pKTtcbiAgfVxuXG4gIHVwZGF0ZUNvbnRleHQobWluLCBtYXgpIHtcbiAgICB0aGlzLmNvbnRleHQuc2VsZWN0QWxsKCcuYmFyJylcbiAgICAgICAuc3R5bGUoJ2ZpbGwtb3BhY2l0eScsIChfLCBpKSA9PiAoaSA+PSBtaW4gJiYgaSA8IG1heCA/ICcxJyA6ICcwLjMnKSk7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgZGlzcGxheWVkID0gMDtcbiAgICBjb25zdCByYXRpb190b191c2UgPSB0aGlzLnJhdGlvX3RvX3VzZTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBiYXIgPSB0aGlzLmdfYmFyLnNlbGVjdEFsbCgnLmJhcicpXG4gICAgICAuZGF0YSh0aGlzLmRhdGEpO1xuXG4gICAgaWYgKHRoaXMucmVzZXRfc3RhdGVfYnV0dG9uID09PSB0cnVlKSB7XG4gICAgICBkMy5zZWxlY3RBbGwoJyNtZW51X3NlbGVjdGlvbiA+IGJ1dHRvbicpLmF0dHIoJ2NsYXNzJywgJ2J1dHRvbl9ibHVlJyk7XG4gICAgfVxuXG4gICAgYmFyXG4gICAgICAuYXR0cnMoZCA9PiAoe1xuICAgICAgICB4OiB0aGlzLngoZC5pZCksXG4gICAgICAgIHk6IHRoaXMueShkW3JhdGlvX3RvX3VzZV0pLFxuICAgICAgICB3aWR0aDogdGhpcy54LmJhbmR3aWR0aCgpLFxuICAgICAgICBoZWlnaHQ6IGhlaWdodCAtIHRoaXMueShkW3JhdGlvX3RvX3VzZV0pLFxuICAgICAgfSkpXG4gICAgICAuc3R5bGUoJ2ZpbGwnLCBkID0+IGFwcC5jb2xvcnNbZC5pZF0gfHwgY29sb3JfY291bnRyaWVzKVxuICAgICAgLnN0eWxlKCdkaXNwbGF5JywgKGQpID0+IHtcbiAgICAgICAgY29uc3QgdG9fZGlzcGxheSA9IHRoaXMueChkLmlkKSAhPSBudWxsO1xuICAgICAgICBpZiAodG9fZGlzcGxheSkge1xuICAgICAgICAgIGRpc3BsYXllZCArPSAxO1xuICAgICAgICAgIHJldHVybiAnaW5pdGlhbCc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICdub25lJztcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlb3ZlcicsICgpID0+IHtcbiAgICAgICAgc3ZnX2NvbnRhaW5lci5zZWxlY3QoJy50b29sdGlwJykuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTtcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlb3V0JywgKCkgPT4ge1xuICAgICAgICBzdmdfY29udGFpbmVyLnNlbGVjdCgnLnRvb2x0aXAnKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICBjb25zdCB0b29sdGlwID0gc3ZnX2NvbnRhaW5lci5zZWxlY3QoJy50b29sdGlwJyk7XG4gICAgICAgIHRvb2x0aXAuc2VsZWN0KCdyZWN0JykuYXR0cnMoeyB3aWR0aDogMCwgaGVpZ2h0OiAwIH0pO1xuICAgICAgICB0b29sdGlwXG4gICAgICAgICAgLnNlbGVjdCgndGV4dC5pZF9mZWF0dXJlJylcbiAgICAgICAgICAudGV4dChgJHtkLmlkfWApO1xuICAgICAgICB0b29sdGlwLnNlbGVjdCgndGV4dC52YWx1ZV9mZWF0dXJlMScpXG4gICAgICAgICAgLnRleHQoYCR7bWF0aF9yb3VuZChkW3NlbGYucmF0aW9fdG9fdXNlXSAqIDEwKSAvIDEwfSAke3NlbGYudW5pdH1gKTtcbiAgICAgICAgdG9vbHRpcC5zZWxlY3QoJ3RleHQudmFsdWVfZmVhdHVyZTInKVxuICAgICAgICAgIC50ZXh0KGBSYW5nIDogJHtzZWxmLmN1cnJlbnRfaWRzLmluZGV4T2YoZC5pZCkgKyAxfS8ke3NlbGYuY3VycmVudF9pZHMubGVuZ3RofWApO1xuICAgICAgICBjb25zdCBiID0gdG9vbHRpcC5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHRvb2x0aXAuc2VsZWN0KCdyZWN0JylcbiAgICAgICAgICAuYXR0cnMoe1xuICAgICAgICAgICAgd2lkdGg6IGIud2lkdGggKyAyMCxcbiAgICAgICAgICAgIGhlaWdodDogYi5oZWlnaHQgKyA3LjUsXG4gICAgICAgICAgfSk7XG4gICAgICAgIHRvb2x0aXBcbiAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke1tkMy5tb3VzZSh0aGlzKVswXSAtIDUsIGQzLm1vdXNlKHRoaXMpWzFdIC0gKGIuaGVpZ2h0ICsgNSldfSlgKTtcbiAgICAgIH0pO1xuXG4gICAgYmFyLmVudGVyKClcbiAgICAgIC5pbnNlcnQoJ3JlY3QnLCAnLm1lYW4nKVxuICAgICAgLmF0dHJzKGQgPT4gKHtcbiAgICAgICAgY2xhc3M6ICdiYXInLFxuICAgICAgICB4OiB0aGlzLngoZC5pZCksXG4gICAgICAgIHk6IHRoaXMueShkW3JhdGlvX3RvX3VzZV0pLFxuICAgICAgICB3aWR0aDogdGhpcy54LmJhbmR3aWR0aCgpLFxuICAgICAgICBoZWlnaHQ6IGhlaWdodCAtIHRoaXMueShkW3JhdGlvX3RvX3VzZV0pLFxuICAgICAgfSkpO1xuXG4gICAgYmFyLmV4aXQoKS5yZW1vdmUoKTtcblxuICAgIHRoaXMuX2ZvY3VzLnNlbGVjdCgnLmF4aXMtLXknKVxuICAgICAgLmNhbGwodGhpcy55QXhpcyk7XG5cbiAgICBjb25zdCBheGlzX3ggPSB0aGlzLl9mb2N1cy5zZWxlY3QoJy5heGlzLS14JylcbiAgICAgIC5hdHRyKCdmb250LXNpemUnLCAoKSA9PiAoZGlzcGxheWVkID4gNzUgPyA2IDogMTApKVxuICAgICAgLmNhbGwodGhpcy54QXhpcyk7XG4gICAgYXhpc194XG4gICAgICAuc2VsZWN0QWxsKCd0ZXh0JylcbiAgICAgIC5hdHRycygoKSA9PiB7XG4gICAgICAgIGlmIChkaXNwbGF5ZWQgPiAxMDApIHtcbiAgICAgICAgICByZXR1cm4geyBkeDogJy0wLjhlbScsIGR5OiAnMC4xNWVtJywgdHJhbnNmb3JtOiAncm90YXRlKC02NSknIH07XG4gICAgICAgIH0gZWxzZSBpZiAoZGlzcGxheWVkID4gMjApIHtcbiAgICAgICAgICByZXR1cm4geyBkeDogJy0wLjhlbScsIGR5OiAnMC4xNWVtJywgdHJhbnNmb3JtOiAncm90YXRlKC02NSknIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHsgZHg6ICcwJywgZHk6ICcwLjcxZW0nLCB0cmFuc2Zvcm06IG51bGwgfTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAoKSA9PiAoZGlzcGxheWVkID4gMjAgPyAnZW5kJyA6ICdtaWRkbGUnKSk7XG5cbiAgICB0aGlzLnVwZGF0ZU1pbmlCYXJzKCk7XG4gIH1cblxuXG4gIHVwZGF0ZU1pbmlCYXJzKCkge1xuICAgIGNvbnN0IHJhdGlvX3RvX3VzZSA9IHRoaXMucmF0aW9fdG9fdXNlO1xuICAgIGNvbnN0IG1pbmlfYmFycyA9IHRoaXMuY29udGV4dC5zZWxlY3RBbGwoJy5iYXInKVxuICAgICAgLmRhdGEodGhpcy5kYXRhKTtcblxuICAgIG1pbmlfYmFyc1xuICAgICAgLmF0dHJzKGQgPT4gKHtcbiAgICAgICAgeDogdGhpcy54MihkLmlkKSxcbiAgICAgICAgeTogdGhpcy55MihkW3JhdGlvX3RvX3VzZV0pLFxuICAgICAgICB3aWR0aDogdGhpcy54Mi5iYW5kd2lkdGgoKSxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQyIC0gdGhpcy55MihkW3JhdGlvX3RvX3VzZV0pLFxuICAgICAgfSkpXG4gICAgICAuc3R5bGUoJ2ZpbGwnLCBkID0+IChkLmlkICE9PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uID8gY29sb3JfY291bnRyaWVzIDogY29sb3JfaGlnaGxpZ2h0KSk7XG5cbiAgICBtaW5pX2JhcnNcbiAgICAgIC5lbnRlcigpXG4gICAgICAuaW5zZXJ0KCdyZWN0JylcbiAgICAgIC5hdHRycyhkID0+ICh7XG4gICAgICAgIGNsYXNzOiAnYmFyJyxcbiAgICAgICAgeDogdGhpcy54MihkLmlkKSxcbiAgICAgICAgeTogdGhpcy55MihkW3JhdGlvX3RvX3VzZV0pLFxuICAgICAgICB3aWR0aDogdGhpcy54Mi5iYW5kd2lkdGgoKSxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQyIC0gdGhpcy55MihkW3JhdGlvX3RvX3VzZV0pLFxuICAgICAgfSkpXG4gICAgICAuc3R5bGUoJ2ZpbGwnLCBkID0+IChkLmlkICE9PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uID8gY29sb3JfY291bnRyaWVzIDogY29sb3JfaGlnaGxpZ2h0KSk7XG4gICAgbWluaV9iYXJzLmV4aXQoKS5yZW1vdmUoKTtcbiAgfVxuXG4gIHVwZGF0ZU1hcFJlZ2lvKCkge1xuICAgIHRoaXMubWFwX2VsZW0udGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuYXR0cignZmlsbCcsIGQgPT4gKHRoaXMuY3VycmVudF9pZHMuaW5kZXhPZihkLmlkKSA+IC0xXG4gICAgICAgID8gKGFwcC5jb2xvcnNbZC5pZF0gfHwgY29sb3JfY291bnRyaWVzKVxuICAgICAgICA6IGNvbG9yX2Rpc2FibGVkKSk7XG4gIH1cblxuICBzZWxlY3RBYm92ZU15UmVnaW9uKCkge1xuICAgIGNvbnN0IG15X3JhbmsgPSB0aGlzLmRhdGEubWFwKChkLCBpKSA9PiBbZC5pZCwgaV0pXG4gICAgICAuZmlsdGVyKGQgPT4gZFswXSA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbilbMF1bMV07XG4gICAgYXBwLmNvbG9ycyA9IHt9O1xuICAgIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgaWYgKCF0aGlzLnNlcmllX2ludmVyc2VkKSB7XG4gICAgICBjdXJyZW50X3JhbmdlX2JydXNoID0gW215X3JhbmssIHRoaXMuZGF0YS5sZW5ndGhdO1xuICAgICAgdGhpcy5kYXRhXG4gICAgICAgIC5maWx0ZXIoKGQsIGkpID0+IGkgPiBteV9yYW5rKVxuICAgICAgICAubWFwKGQgPT4gZC5pZClcbiAgICAgICAgLmZvckVhY2goKGZ0KSA9PiB7IGFwcC5jb2xvcnNbZnRdID0gY29sb3Jfc3VwOyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9yYW5nZV9icnVzaCA9IFswLCBteV9yYW5rXTtcbiAgICAgIHRoaXMuZGF0YVxuICAgICAgICAuZmlsdGVyKChkLCBpKSA9PiBpIDwgbXlfcmFuaylcbiAgICAgICAgLm1hcChkID0+IGQuaWQpXG4gICAgICAgIC5mb3JFYWNoKChmdCkgPT4geyBhcHAuY29sb3JzW2Z0XSA9IGNvbG9yX2luZjsgfSk7XG4gICAgfVxuICAgIHRoaXMucmVzZXRfc3RhdGVfYnV0dG9uID0gZmFsc2U7XG4gICAgc3ZnX2NvbnRhaW5lci5zZWxlY3QoJy5icnVzaF9ib3R0b20nKS5jYWxsKFxuICAgICAgdGhpcy5icnVzaF9ib3R0b20ubW92ZSwgdGhpcy54Mi5yYW5nZSgpKTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIC8vIHN2Z19jb250YWluZXIuc2VsZWN0KCcuYnJ1c2hfdG9wJykuY2FsbCh0aGlzLmJydXNoX3RvcC5tb3ZlLCBjdXJyZW50X3JhbmdlX2JydXNoLm1hcChkID0+IGQgKiAod2lkdGggLyBuYkZ0KSkpO1xuICAgIHRoaXMubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICAgIHRoaXMucmVzZXRfc3RhdGVfYnV0dG9uID0gdHJ1ZTtcbiAgfVxuXG4gIHNlbGVjdEJlbG93TXlSZWdpb24oKSB7XG4gICAgY29uc3QgbXlfcmFuayA9IHRoaXMuZGF0YS5tYXAoKGQsIGkpID0+IFtkLmlkLCBpXSlcbiAgICAgIC5maWx0ZXIoZCA9PiBkWzBdID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVswXVsxXTtcblxuICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgIGlmICghdGhpcy5zZXJpZV9pbnZlcnNlZCkge1xuICAgICAgY3VycmVudF9yYW5nZV9icnVzaCA9IFswLCBteV9yYW5rXTtcbiAgICAgIHRoaXMuZGF0YVxuICAgICAgICAuZmlsdGVyKChkLCBpKSA9PiBpIDwgbXlfcmFuaylcbiAgICAgICAgLm1hcChkID0+IGQuaWQpXG4gICAgICAgIC5mb3JFYWNoKChmdCkgPT4geyBhcHAuY29sb3JzW2Z0XSA9IGNvbG9yX2luZjsgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbbXlfcmFuaywgdGhpcy5kYXRhLmxlbmd0aF07XG4gICAgICB0aGlzLmRhdGFcbiAgICAgICAgLmZpbHRlcigoZCwgaSkgPT4gaSA+IG15X3JhbmspXG4gICAgICAgIC5tYXAoZCA9PiBkLmlkKVxuICAgICAgICAuZm9yRWFjaCgoZnQpID0+IHsgYXBwLmNvbG9yc1tmdF0gPSBjb2xvcl9zdXA7IH0pO1xuICAgIH1cbiAgICB0aGlzLnJlc2V0X3N0YXRlX2J1dHRvbiA9IGZhbHNlO1xuICAgIHN2Z19jb250YWluZXIuc2VsZWN0KCcuYnJ1c2hfYm90dG9tJykuY2FsbChcbiAgICAgIHRoaXMuYnJ1c2hfYm90dG9tLm1vdmUsIHRoaXMueDIucmFuZ2UoKSk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgICAvLyBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX3RvcCcpLmNhbGwodGhpcy5icnVzaF90b3AubW92ZSwgY3VycmVudF9yYW5nZV9icnVzaC5tYXAoZCA9PiBkICogKHdpZHRoIC8gbmJGdCkpKTtcbiAgICB0aGlzLm1hcF9lbGVtLnJlbW92ZVJlY3RCcnVzaCgpO1xuICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgICB0aGlzLnJlc2V0X3N0YXRlX2J1dHRvbiA9IHRydWU7XG4gIH1cblxuICBzZWxlY3RBYm92ZU1lYW4oKSB7XG4gICAgY29uc3QgbWVhbl9yYW5rID0gZ2V0TWVhblJhbmsodGhpcy5tZWFuX3ZhbHVlLCB0aGlzLnJhdGlvX3RvX3VzZSk7XG4gICAgY29uc3QgcmF0aW9fdG9fdXNlID0gdGhpcy5yYXRpb190b191c2U7XG4gICAgY29uc3QgcmVmX3ZhbHVlID0gdGhpcy5yZWZfdmFsdWU7XG5cbiAgICBhcHAuY29sb3JzID0ge307XG4gICAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICBpZiAoIXRoaXMuc2VyaWVfaW52ZXJzZWQpIHtcbiAgICAgIGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbbWVhbl9yYW5rLCB0aGlzLmRhdGEubGVuZ3RoXTtcbiAgICAgIHRoaXMuZGF0YS5maWx0ZXIoZCA9PiBkW3JhdGlvX3RvX3VzZV0gPiB0aGlzLm1lYW5fdmFsdWUpLmZvckVhY2goKGZ0KSA9PiB7XG4gICAgICAgIGlmIChmdFtyYXRpb190b191c2VdID4gcmVmX3ZhbHVlKSBhcHAuY29sb3JzW2Z0LmlkXSA9IGNvbG9yX3N1cDtcbiAgICAgICAgZWxzZSBhcHAuY29sb3JzW2Z0LmlkXSA9IGNvbG9yX2luZjtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X3JhbmdlX2JydXNoID0gWzAsIG1lYW5fcmFuayArIDFdO1xuICAgICAgdGhpcy5kYXRhLmZpbHRlcihkID0+IGRbcmF0aW9fdG9fdXNlXSA+IHRoaXMubWVhbl92YWx1ZSkuZm9yRWFjaCgoZnQpID0+IHtcbiAgICAgICAgaWYgKGZ0W3JhdGlvX3RvX3VzZV0gPiByZWZfdmFsdWUpIGFwcC5jb2xvcnNbZnQuaWRdID0gY29sb3JfaW5mO1xuICAgICAgICBlbHNlIGFwcC5jb2xvcnNbZnQuaWRdID0gY29sb3Jfc3VwO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgdGhpcy5yZXNldF9zdGF0ZV9idXR0b24gPSBmYWxzZTtcbiAgICBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX2JvdHRvbScpLmNhbGwoXG4gICAgICB0aGlzLmJydXNoX2JvdHRvbS5tb3ZlLCB0aGlzLngyLnJhbmdlKCkpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gICAgdGhpcy5tYXBfZWxlbS5yZW1vdmVSZWN0QnJ1c2goKTtcbiAgICAvLyBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX3RvcCcpLmNhbGwodGhpcy5icnVzaF90b3AubW92ZSwgY3VycmVudF9yYW5nZV9icnVzaC5tYXAoZCA9PiBkICogKHdpZHRoIC8gbmJGdCkpKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgdGhpcy5yZXNldF9zdGF0ZV9idXR0b24gPSB0cnVlO1xuICB9XG5cbiAgc2VsZWN0QmVsb3dNZWFuKCkge1xuICAgIGNvbnN0IG1lYW5fcmFuayA9IGdldE1lYW5SYW5rKHRoaXMubWVhbl92YWx1ZSwgdGhpcy5yYXRpb190b191c2UpO1xuICAgIGNvbnN0IHJhdGlvX3RvX3VzZSA9IHRoaXMucmF0aW9fdG9fdXNlO1xuICAgIGNvbnN0IHJlZl92YWx1ZSA9IHRoaXMucmVmX3ZhbHVlO1xuICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICBpZiAoIXRoaXMuc2VyaWVfaW52ZXJzZWQpIHtcbiAgICAgIGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbMCwgbWVhbl9yYW5rXTtcbiAgICAgIHRoaXMuZGF0YS5maWx0ZXIoZCA9PiBkW3JhdGlvX3RvX3VzZV0gPCB0aGlzLm1lYW5fdmFsdWUpLmZvckVhY2goKGZ0KSA9PiB7XG4gICAgICAgIGlmIChmdFtyYXRpb190b191c2VdIDwgcmVmX3ZhbHVlKSBhcHAuY29sb3JzW2Z0LmlkXSA9IGNvbG9yX2luZjtcbiAgICAgICAgZWxzZSBhcHAuY29sb3JzW2Z0LmlkXSA9IGNvbG9yX3N1cDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X3JhbmdlX2JydXNoID0gW21lYW5fcmFuayArIDEsIHRoaXMuZGF0YS5sZW5ndGhdO1xuICAgICAgdGhpcy5kYXRhLmZpbHRlcihkID0+IGRbcmF0aW9fdG9fdXNlXSA8IHRoaXMubWVhbl92YWx1ZSkuZm9yRWFjaCgoZnQpID0+IHtcbiAgICAgICAgaWYgKGZ0W3JhdGlvX3RvX3VzZV0gPCByZWZfdmFsdWUpIGFwcC5jb2xvcnNbZnQuaWRdID0gY29sb3Jfc3VwO1xuICAgICAgICBlbHNlIGFwcC5jb2xvcnNbZnQuaWRdID0gY29sb3JfaW5mO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgdGhpcy5yZXNldF9zdGF0ZV9idXR0b24gPSBmYWxzZTtcbiAgICBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX2JvdHRvbScpLmNhbGwoXG4gICAgICB0aGlzLmJydXNoX2JvdHRvbS5tb3ZlLCB0aGlzLngyLnJhbmdlKCkpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gICAgdGhpcy5tYXBfZWxlbS5yZW1vdmVSZWN0QnJ1c2goKTtcbiAgICAvLyBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX3RvcCcpLmNhbGwodGhpcy5icnVzaF90b3AubW92ZSwgY3VycmVudF9yYW5nZV9icnVzaC5tYXAoZCA9PiBkICogKHdpZHRoIC8gbmJGdCkpKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgdGhpcy5yZXNldF9zdGF0ZV9idXR0b24gPSB0cnVlO1xuICB9XG5cbiAgaGFuZGxlX2JydXNoX21hcChldmVudCkge1xuICAgIGlmICghZXZlbnQgfHwgIWV2ZW50LnNlbGVjdGlvbikge1xuICAgICAgdGhpcy5sYXN0X21hcF9zZWxlY3Rpb24gPSB1bmRlZmluZWQ7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJhdGlvX3RvX3VzZSA9IHRoaXMucmF0aW9fdG9fdXNlO1xuICAgIGNvbnN0IHJlZl92YWx1ZSA9IHRoaXMucmVmX3ZhbHVlO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfdG9wJykuY2FsbChzZWxmLmJydXNoX3RvcC5tb3ZlLCBudWxsKTtcbiAgICBjb25zdCBbdG9wbGVmdCwgYm90dG9tcmlnaHRdID0gZXZlbnQuc2VsZWN0aW9uO1xuICAgIHRoaXMubGFzdF9tYXBfc2VsZWN0aW9uID0gW3RvcGxlZnQsIGJvdHRvbXJpZ2h0XTtcbiAgICAvLyBjb25zdCB0cmFuc2Zvcm0gPSBzdmdfbWFwLm5vZGUoKS5fX3pvb207XG4gICAgLy8gdG9wbGVmdFswXSA9ICh0b3BsZWZ0WzBdIC0gdHJhbnNmb3JtLngpIC8gdHJhbnNmb3JtLms7XG4gICAgLy8gdG9wbGVmdFsxXSA9ICh0b3BsZWZ0WzFdIC0gdHJhbnNmb3JtLnkpIC8gdHJhbnNmb3JtLms7XG4gICAgLy8gYm90dG9tcmlnaHRbMF0gPSAoYm90dG9tcmlnaHRbMF0gLSB0cmFuc2Zvcm0ueCkgLyB0cmFuc2Zvcm0uaztcbiAgICAvLyBib3R0b21yaWdodFsxXSA9IChib3R0b21yaWdodFsxXSAtIHRyYW5zZm9ybS55KSAvIHRyYW5zZm9ybS5rO1xuICAgIGNvbnN0IHJlY3QgPSBuZXcgUmVjdCh0b3BsZWZ0LCBib3R0b21yaWdodCk7XG4gICAgYXBwLmNvbG9ycyA9IHt9O1xuICAgIHNlbGYubWFwX2VsZW0udGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuYXR0cignZmlsbCcsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgIGNvbnN0IGlkID0gZC5pZDtcbiAgICAgICAgaWYgKGlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKSB7XG4gICAgICAgICAgYXBwLmNvbG9yc1tpZF0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgICAgICAgcmV0dXJuIGNvbG9yX2hpZ2hsaWdodDtcbiAgICAgICAgfSBlbHNlIGlmIChzZWxmLmN1cnJlbnRfaWRzLmluZGV4T2YoaWQpIDwgMCkge1xuICAgICAgICAgIHJldHVybiBjb2xvcl9kaXNhYmxlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX3B0cykge1xuICAgICAgICAgIHRoaXMuX3B0cyA9IHN2Z1BhdGhUb0Nvb3Jkcyh0aGlzLmdldEF0dHJpYnV0ZSgnZCcpLCBhcHAudHlwZV9wYXRoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwdHMgPSB0aGlzLl9wdHM7XG4gICAgICAgIGZvciAobGV0IGl4ID0gMCwgbmJfcHRzID0gcHRzLmxlbmd0aDsgaXggPCBuYl9wdHM7IGl4KyspIHtcbiAgICAgICAgICBpZiAocmVjdC5jb250YWlucyhwdHNbaXhdKSkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBkLnByb3BlcnRpZXNbcmF0aW9fdG9fdXNlXTtcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gY29tcCh2YWx1ZSwgcmVmX3ZhbHVlLCB0aGlzLnNlcmllX2ludmVyc2VkKTtcbiAgICAgICAgICAgIGFwcC5jb2xvcnNbaWRdID0gY29sb3I7XG4gICAgICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2xvcl9jb3VudHJpZXM7XG4gICAgICB9KTtcbiAgICBzZWxmLl9mb2N1cy5zZWxlY3RBbGwoJy5iYXInKVxuICAgICAgLnN0eWxlKCdmaWxsJywgZCA9PiBhcHAuY29sb3JzW2QuaWRdIHx8IGNvbG9yX2NvdW50cmllcyk7XG4gICAgY29uc3QgaWRzID0gT2JqZWN0LmtleXMoYXBwLmNvbG9ycyk7XG4gICAgY29uc3QgcmFua3MgPSBpZHMubWFwKGQgPT4gdGhpcy5jdXJyZW50X2lkcy5pbmRleE9mKGQuaWQpID4gLTEpLm1hcChkID0+IHRoaXMuY3VycmVudF9yYW5rc1tkXSk7XG4gICAgaWYgKHJhbmtzLmxlbmd0aCA+IDEpIHtcbiAgICAgIGNvbnN0IGMxID0gcmFua3NbMF0gLSAxO1xuICAgICAgY29uc3QgYzIgPSByYW5rc1tyYW5rcy5sZW5ndGggLSAxXTtcbiAgICAgIGlmIChjMSA8IGN1cnJlbnRfcmFuZ2VbMF0gfHwgYzIgPiBjdXJyZW50X3JhbmdlWzFdKSB7XG4gICAgICAgIGN1cnJlbnRfcmFuZ2UgPSBbXG4gICAgICAgICAgcmFua3NbMF0gLSAxLFxuICAgICAgICAgIHJhbmtzW3JhbmtzLmxlbmd0aCAtIDFdLFxuICAgICAgICBdO1xuICAgICAgICBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX2JvdHRvbScpLmNhbGwoXG4gICAgICAgICAgc2VsZi5icnVzaF9ib3R0b20ubW92ZSxcbiAgICAgICAgICBbY3VycmVudF9yYW5nZVswXSAqICh3aWR0aCAvIG5iRnQpLCBjdXJyZW50X3JhbmdlWzFdICogKHdpZHRoIC8gbmJGdCldKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9yYW5nZSA9IFswLCB0aGlzLmRhdGEubGVuZ3RoXTtcbiAgICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfYm90dG9tJykuY2FsbChcbiAgICAgICAgc2VsZi5icnVzaF9ib3R0b20ubW92ZSwgc2VsZi54LnJhbmdlKCkpO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZUNsaWNrTWFwKGQsIHBhcmVudCkge1xuICAgIGNvbnN0IGlkID0gZC5pZDtcbiAgICBpZiAodGhpcy5jdXJyZW50X2lkcy5pbmRleE9mKGlkKSA8IDAgfHwgaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pIHJldHVybjtcbiAgICBpZiAoYXBwLmNvbG9yc1tpZF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgYXBwLmNvbG9yc1tpZF0gPSB1bmRlZmluZWQ7XG4gICAgICBkMy5zZWxlY3QocGFyZW50KS5hdHRyKCdmaWxsJywgY29sb3JfY291bnRyaWVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgY29sb3IgPSBjb21wKFxuICAgICAgICBkLnByb3BlcnRpZXNbdGhpcy5yYXRpb190b191c2VdLFxuICAgICAgICB0aGlzLnJlZl92YWx1ZSxcbiAgICAgICAgdGhpcy5zZXJpZV9pbnZlcnNlZCk7XG4gICAgICBhcHAuY29sb3JzW2lkXSA9IGNvbG9yO1xuICAgICAgZDMuc2VsZWN0KHBhcmVudCkuYXR0cignZmlsbCcsIGNvbG9yKTtcbiAgICB9XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIHVwZGF0ZUNoYW5nZVJlZ2lvbigpIHtcbiAgICBpZiAoYXBwLmN1cnJlbnRfY29uZmlnLmZpbHRlcl9rZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5jaGFuZ2VTdHVkeVpvbmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZWZfdmFsdWUgPSB0aGlzLmRhdGEuZmluZChcbiAgICAgICAgZnQgPT4gZnQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pW3RoaXMucmF0aW9fdG9fdXNlXTtcbiAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICB0aGlzLnVwZGF0ZUNvbnRleHQoMCwgdGhpcy5kYXRhLmxlbmd0aCk7XG4gICAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgICB0aGlzLnVwZGF0ZVRhYmxlU3RhdHMoKTtcbiAgICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfYm90dG9tJykuY2FsbCh0aGlzLmJydXNoX2JvdHRvbS5tb3ZlLCB0aGlzLngucmFuZ2UoKSk7XG4gICAgICB0aGlzLm1hcF9lbGVtLnJlbW92ZVJlY3RCcnVzaCgpO1xuICAgICAgdGhpcy5tYXBfZWxlbS51cGRhdGVMZWdlbmQoKTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGVNZWFuVmFsdWUoKSB7XG4gICAgY29uc3QgeSA9IHRoaXMueTtcbiAgICBjb25zdCByYXRpb190b191c2UgPSB0aGlzLnJhdGlvX3RvX3VzZTtcbiAgICBjb25zdCBncnBfbWVhbiA9IHRoaXMuX2ZvY3VzLnNlbGVjdCgnLm1lYW4nKTtcbiAgICB0aGlzLm1lYW5fdmFsdWUgPSBnZXRNZWFuKHRoaXMuZGF0YS5tYXAoZCA9PiBkW3JhdGlvX3RvX3VzZV0pKTtcbiAgICBncnBfbWVhbi5zZWxlY3QoJ3RleHQnKVxuICAgICAgLmF0dHIoJ3knLCB5KHRoaXMubWVhbl92YWx1ZSkgKyAyMClcbiAgICAgIC50ZXh0KGBWYWxldXIgbW95ZW5uZSA6ICR7TWF0aC5yb3VuZCh0aGlzLm1lYW5fdmFsdWUgKiAxMCkgLyAxMH0gJHt0aGlzLnVuaXR9YCk7XG4gICAgZ3JwX21lYW4uc2VsZWN0KCcubWVhbl9saW5lJylcbiAgICAgIC5hdHRycyh7IHkxOiB5KHRoaXMubWVhbl92YWx1ZSksIHkyOiB5KHRoaXMubWVhbl92YWx1ZSkgfSk7XG4gICAgZ3JwX21lYW4uc2VsZWN0KCcudHJhbnNwX21lYW5fbGluZScpXG4gICAgICAuYXR0cnMoeyB5MTogeSh0aGlzLm1lYW5fdmFsdWUpLCB5MjogeSh0aGlzLm1lYW5fdmFsdWUpIH0pO1xuICB9XG5cbiAgY2hhbmdlU3R1ZHlab25lKCkge1xuICAgIGNvbnN0IHJhdGlvX3RvX3VzZSA9IHRoaXMucmF0aW9fdG9fdXNlO1xuICAgIHRoaXMuZGF0YSA9IGFwcC5jdXJyZW50X2RhdGEuZmlsdGVyKGZ0ID0+ICEhZnRbcmF0aW9fdG9fdXNlXSk7XG4gICAgdGhpcy5yZWZfdmFsdWUgPSB0aGlzLmRhdGEuZmluZChcbiAgICAgIGZ0ID0+IGZ0LmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVtyYXRpb190b191c2VdO1xuICAgIHRoaXMuY3VycmVudF9yYW5rcyA9IHRoaXMuZGF0YS5tYXAoKGQsIGkpID0+IGkgKyAxKTtcbiAgICBpZiAodGhpcy5zZXJpZV9pbnZlcnNlZCkge1xuICAgICAgdGhpcy5kYXRhLnNvcnQoKGEsIGIpID0+IGJbcmF0aW9fdG9fdXNlXSAtIGFbcmF0aW9fdG9fdXNlXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGF0YS5zb3J0KChhLCBiKSA9PiBhW3JhdGlvX3RvX3VzZV0gLSBiW3JhdGlvX3RvX3VzZV0pO1xuICAgIH1cbiAgICB0aGlzLmN1cnJlbnRfaWRzID0gdGhpcy5kYXRhLm1hcChkID0+IGQuaWQpO1xuICAgIG5iRnQgPSB0aGlzLmRhdGEubGVuZ3RoO1xuICAgIHRoaXMucmVmX3ZhbHVlID0gdGhpcy5kYXRhLmZpbmQoXG4gICAgICBmdCA9PiBmdC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbilbcmF0aW9fdG9fdXNlXTtcbiAgICB0aGlzLnguZG9tYWluKHRoaXMuY3VycmVudF9pZHMpO1xuICAgIC8vIGNvbnN0IG1pbl9zZXJpZSA9IGQzLm1pbih0aGlzLmRhdGEsIGQgPT4gZFtyYXRpb190b191c2VdKTtcbiAgICBjb25zdCBtYXhfc2VyaWUgPSBkMy5tYXgodGhpcy5kYXRhLCBkID0+IGRbcmF0aW9fdG9fdXNlXSk7XG4gICAgLy8gY29uc3Qgb2Zmc2V0X3kgPSAobWF4X3NlcmllIC0gbWluX3NlcmllKSAvIDIwO1xuICAgIHRoaXMueS5kb21haW4oW1xuICAgICAgLy8gbWluX3NlcmllIC0gb2Zmc2V0X3ksIG1heF9zZXJpZSxcbiAgICAgIDAsIG1heF9zZXJpZSxcbiAgICBdKTtcbiAgICB0aGlzLngyLmRvbWFpbih0aGlzLnguZG9tYWluKCkpO1xuICAgIHRoaXMueTIuZG9tYWluKHRoaXMueS5kb21haW4oKSk7XG4gICAgdGhpcy51cGRhdGVNZWFuVmFsdWUoKTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIHRoaXMudXBkYXRlQ29udGV4dCgwLCB0aGlzLmRhdGEubGVuZ3RoKTtcblxuICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfYm90dG9tJykuY2FsbCh0aGlzLmJydXNoX2JvdHRvbS5tb3ZlLCB0aGlzLngyLnJhbmdlKCkpO1xuICAgIHRoaXMubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gICAgYXBwLmNvbG9ycyA9IHt9O1xuICAgIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgdGhpcy51cGRhdGVUYWJsZVN0YXRzKCk7XG4gICAgdGhpcy51cGRhdGVDb21wbGV0dWRlKCk7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICB9XG5cbiAgYWRkVmFyaWFibGUoY29kZV92YXJpYWJsZSwgbmFtZV92YXJpYWJsZSkge1xuICAgIC8vIEZldGNoIHRoZSB1bml0IGZvciB0aGlzIGluZGljYXRvcjpcbiAgICBjb25zdCB1bml0ID0gdmFyaWFibGVzX2luZm8uZmluZChmdCA9PiBmdC5yYXRpbyA9PT0gY29kZV92YXJpYWJsZSkudW5pdDtcbiAgICBjb25zdCB5ZWFyID0gbmFtZV92YXJpYWJsZS5tYXRjaCgvXFwoW14pXSpcXCkkLylbMF07XG4gICAgY29uc3QgdW5pdF95ZWFyID0gYCR7eWVhci5zbGljZSgwLCAxKX0ke3VuaXR9LCAke3llYXIuc2xpY2UoMSwgNil9YDtcbiAgICAvLyBBZGQgdGhlIHZhcmlhYmxlIHRvIHRoZSBpbnB1dCBlbGVtZW50IGFsbG93aW5nIHRvIGNob29zZSB2YXJpYWJsZXM6XG4gICAgdGhpcy5zZWxlY192YXIuYXBwZW5kKCdvcHRpb24nKVxuICAgICAgLmF0dHIoJ3ZhbHVlJywgY29kZV92YXJpYWJsZSlcbiAgICAgIC50ZXh0KG5hbWVfdmFyaWFibGUucmVwbGFjZSh5ZWFyLCB1bml0X3llYXIpKTtcblxuICAgIC8vIEFuZCB1c2UgaXQgaW1tZWRpYXRseTpcbiAgICB0aGlzLnNlbGVjX3Zhci5ub2RlKCkudmFsdWUgPSBjb2RlX3ZhcmlhYmxlO1xuICAgIHRoaXMuc2VsZWNfdmFyLmRpc3BhdGNoKCdjaGFuZ2UnKTtcbiAgfVxuXG4gIHJlbW92ZVZhcmlhYmxlKGNvZGVfdmFyaWFibGUpIHtcbiAgICAvLyBBZGQgdGhlIHZhcmlhYmxlIHRvIHRoZSBpbnB1dCBlbGVtZW50IGFsbG93aW5nIHRvIGNob29zZSB2YXJpYWJsZXM6XG4gICAgdGhpcy5zZWxlY192YXIuc2VsZWN0KGBvcHRpb25bdmFsdWU9JHtjb2RlX3ZhcmlhYmxlfV1gKS5yZW1vdmUoKTtcbiAgICBpZiAodGhpcy5yYXRpb190b191c2UgPT09IGNvZGVfdmFyaWFibGUpIHtcbiAgICAgIHRoaXMuc2VsZWNfdmFyLm5vZGUoKS52YWx1ZSA9IHRoaXMuc2VsZWNfdmFyLnNlbGVjdCgnb3B0aW9uJykubm9kZSgpLnZhbHVlO1xuICAgICAgdGhpcy5zZWxlY192YXIuZGlzcGF0Y2goJ2NoYW5nZScpO1xuICAgIH1cbiAgfVxuXG4gIGNoYW5nZVZhcmlhYmxlKGNvZGVfdmFyaWFibGUpIHtcbiAgICB0aGlzLnJhdGlvX3RvX3VzZSA9IGNvZGVfdmFyaWFibGU7XG4gICAgdGhpcy51bml0ID0gdmFyaWFibGVzX2luZm8uZmluZChmdCA9PiBmdC5yYXRpbyA9PT0gY29kZV92YXJpYWJsZSkudW5pdDtcbiAgfVxuXG4gIHJlbW92ZSgpIHtcbiAgICB0aGlzLl9mb2N1cy5yZW1vdmUoKTtcbiAgICB0aGlzLmNvbnRleHQucmVtb3ZlKCk7XG4gICAgdGhpcy5zZWxlY192YXIucmVtb3ZlKCk7XG4gICAgdGhpcy50YWJsZV9zdGF0cy5yZW1vdmUoKTtcbiAgICB0aGlzLnRhYmxlX3N0YXRzID0gbnVsbDtcbiAgICB0aGlzLm1hcF9lbGVtLnVuYmluZEJydXNoQ2xpY2soKTtcbiAgICB0aGlzLm1hcF9lbGVtID0gbnVsbDtcbiAgICB0aGlzLmNvbXBsZXR1ZGUucmVtb3ZlKCk7XG4gICAgdGhpcy5jb21wbGV0dWRlID0gbnVsbDtcbiAgICBkMy5zZWxlY3QoJyNzdmdfYmFyJykuaHRtbCgnJyk7XG4gIH1cblxuICBiaW5kTWFwKG1hcF9lbGVtKSB7XG4gICAgdGhpcy5tYXBfZWxlbSA9IG1hcF9lbGVtO1xuICAgIHRoaXMubWFwX2VsZW0ucmVzZXRDb2xvcnModGhpcy5jdXJyZW50X2lkcyk7XG4gICAgdGhpcy5tYXBfZWxlbS5kaXNwbGF5TGVnZW5kKDApO1xuICB9XG5cbiAgdXBkYXRlVGFibGVTdGF0cygpIHtcbiAgICB0aGlzLnRhYmxlX3N0YXRzLnJlbW92ZUFsbCgpO1xuICAgIHRoaXMudGFibGVfc3RhdHMuYWRkRmVhdHVyZSh0aGlzLnByZXBhcmVUYWJsZVN0YXQoKSk7XG4gIH1cblxuICBwcmVwYXJlVGFibGVTdGF0KCkge1xuICAgIGNvbnN0IHZhbHVlcyA9IHRoaXMuZGF0YS5tYXAoZCA9PiBkW3RoaXMucmF0aW9fdG9fdXNlXSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIE1pbjogZDMubWluKHZhbHVlcyksXG4gICAgICBNYXg6IGQzLm1heCh2YWx1ZXMpLFxuICAgICAgTW95ZW5uZTogZ2V0TWVhbih2YWx1ZXMpLFxuICAgICAgaWQ6IHRoaXMucmF0aW9fdG9fdXNlLFxuICAgICAgVmFyaWFibGU6IHRoaXMucmF0aW9fdG9fdXNlLFxuICAgICAgJ01hIHLDqWdpb24nOiB0aGlzLnJlZl92YWx1ZSxcbiAgICB9O1xuICB9XG5cbiAgbWFrZVRhYmxlU3RhdCgpIHtcbiAgICBjb25zdCBmZWF0dXJlID0gdGhpcy5wcmVwYXJlVGFibGVTdGF0KCk7XG4gICAgdGhpcy50YWJsZV9zdGF0cyA9IG5ldyBUYWJsZVJlc3VtZVN0YXQoW2ZlYXR1cmVdKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgY29udGV4dE1lbnUge1xuICBjb25zdHJ1Y3RvcihpdGVtcykge1xuICAgIGlmIChpdGVtcykge1xuICAgICAgdGhpcy5zZXRJdGVtcyhpdGVtcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaXRlbXMgPSBbXTtcbiAgICB9XG4gIH1cblxuICBhZGRJdGVtKGl0ZW0pIHtcbiAgICB0aGlzLml0ZW1zLnB1c2goe1xuICAgICAgbmFtZTogaXRlbS5uYW1lLFxuICAgICAgYWN0aW9uOiBpdGVtLmFjdGlvbixcbiAgICB9KTtcbiAgfVxuXG4gIHJlbW92ZUl0ZW0obmFtZSkge1xuICAgIGZvciAobGV0IGkgPSB0aGlzLml0ZW1zLmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHtcbiAgICAgIGlmICh0aGlzLml0ZW1zW2ldLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgdGhpcy5pdGVtcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNldEl0ZW1zKGl0ZW1zKSB7XG4gICAgdGhpcy5pdGVtcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwLCBuYl9pdGVtcyA9IGl0ZW1zLmxlbmd0aDsgaSA8IG5iX2l0ZW1zOyBpKyspIHtcbiAgICAgIGlmIChpdGVtc1tpXS5uYW1lICYmIGl0ZW1zW2ldLmFjdGlvbikge1xuICAgICAgICB0aGlzLmFkZEl0ZW0oaXRlbXNbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNob3dNZW51KGV2ZW50LCBwYXJlbnQsIGl0ZW1zLCBwb3NpdGlvbikge1xuICAgIGlmIChldmVudC5wcmV2ZW50RGVmYXVsdCkgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoZXZlbnQuc3RvcFByb3BhZ2F0aW9uKSBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpZiAodGhpcy5ET01vYmopIHtcbiAgICAgIHRoaXMuaGlkZU1lbnUoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGl0ZW1zKSB7XG4gICAgICB0aGlzLnNldEl0ZW1zKGl0ZW1zKTtcbiAgICB9XG5cbiAgICB0aGlzLmluaXRNZW51KHBhcmVudCk7XG4gICAgaWYgKCFwb3NpdGlvbikge1xuICAgICAgdGhpcy5ET01vYmouc3R5bGUudG9wID0gYCR7ZXZlbnQuY2xpZW50WSArIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wfXB4YDtcbiAgICAgIHRoaXMuRE9Nb2JqLnN0eWxlLmxlZnQgPSBgJHtldmVudC5jbGllbnRYfXB4YDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5ET01vYmouc3R5bGUudG9wID0gYCR7cG9zaXRpb25bMV19cHhgO1xuICAgICAgdGhpcy5ET01vYmouc3R5bGUubGVmdCA9IGAke3Bvc2l0aW9uWzBdfXB4YDtcbiAgICB9XG4gICAgdGhpcy5kaXNwbGF5ZWQgPSB0cnVlO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmhpZGVNZW51KCkpO1xuICAgIH0sIDE1MCk7XG4gIH1cblxuICBoaWRlTWVudSgpIHtcbiAgICBpZiAodGhpcy5ET01vYmogJiYgdGhpcy5ET01vYmoucGFyZW50RWxlbWVudCAmJiB0aGlzLkRPTW9iai5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKSB7XG4gICAgICB0aGlzLkRPTW9iai5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuRE9Nb2JqKTtcbiAgICAgIHRoaXMuRE9Nb2JqID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5kaXNwbGF5ZWQgPSBmYWxzZTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGlkZU1lbnUpO1xuICB9XG5cbiAgaW5pdE1lbnUocGFyZW50KSB7XG4gICAgaWYgKHRoaXMuRE9Nb2JqICYmIHRoaXMuRE9Nb2JqLnBhcmVudEVsZW1lbnQgJiYgdGhpcy5ET01vYmoucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCkge1xuICAgICAgdGhpcy5ET01vYmoucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLkRPTW9iaik7XG4gICAgICB0aGlzLkRPTW9iaiA9IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IG1lbnUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdCBsaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcbiAgICBtZW51LmNsYXNzTmFtZSA9ICdjb250ZXh0LW1lbnUnO1xuICAgIG1lbnUuYXBwZW5kQ2hpbGQobGlzdCk7XG4gICAgZm9yIChsZXQgaSA9IDAsIG5iX2l0ZW0gPSB0aGlzLml0ZW1zLmxlbmd0aDsgaSA8IG5iX2l0ZW07IGkrKykge1xuICAgICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcsIGkpO1xuICAgICAgaXRlbS5pbm5lckhUTUwgPSBgPHNwYW4gY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS1uYW1lXCI+JHt0aGlzLml0ZW1zW2ldLm5hbWV9PC9zcGFuPmA7XG4gICAgICBsaXN0LmFwcGVuZENoaWxkKGl0ZW0pO1xuICAgICAgaXRlbS5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBpeCA9IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4Jyk7XG4gICAgICAgIHNlbGYuaXRlbXNbaXhdLmFjdGlvbigpO1xuICAgICAgfTtcbiAgICB9XG4gICAgdGhpcy5ET01vYmogPSBtZW51O1xuICAgIHBhcmVudC5hcHBlbmRDaGlsZChtZW51KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgUmVjdCwgY29tcDIsIHByZXBhcmVUb29sdGlwLCBzdmdQYXRoVG9Db29yZHMsIF9nZXRQUiwgY29tcHV0ZVBlcmNlbnRpbGVSYW5rLCBnZXRNZWFuIH0gZnJvbSAnLi8uLi9oZWxwZXJzJztcbmltcG9ydCB7IGNvbG9yX2Rpc2FibGVkLCBjb2xvcl9jb3VudHJpZXMsIGNvbG9yX2hpZ2hsaWdodCB9IGZyb20gJy4vLi4vb3B0aW9ucyc7XG5pbXBvcnQgeyBjYWxjUG9wQ29tcGxldHVkZVN1YnNldCwgY2FsY0NvbXBsZXR1ZGVTdWJzZXQgfSBmcm9tICcuLy4uL3ByZXBhcmVfZGF0YSc7XG5pbXBvcnQgeyBzdmdfbWFwIH0gZnJvbSAnLi8uLi9tYXAnO1xuaW1wb3J0IHsgYXBwLCB2YXJpYWJsZXNfaW5mbywgcmVzZXRDb2xvcnMgfSBmcm9tICcuLy4uLy4uL21haW4nO1xuaW1wb3J0IENvbnRleHRNZW51IGZyb20gJy4vLi4vY29udGV4dE1lbnUnO1xuaW1wb3J0IENvbXBsZXR1ZGVTZWN0aW9uIGZyb20gJy4vLi4vY29tcGxldHVkZSc7XG5pbXBvcnQgVGFibGVSZXN1bWVTdGF0IGZyb20gJy4vLi4vdGFibGVSZXN1bWVTdGF0JztcblxubGV0IHN2Z19iYXIsIG1hcmdpbiwgYmJveF9zdmcsIHdpZHRoLCBoZWlnaHQsIHN2Z19jb250YWluZXI7XG5cbmNvbnN0IHVwZGF0ZURpbWVuc2lvbnMgPSAoKSA9PiB7XG4gIHN2Z19iYXIgPSBkMy5zZWxlY3QoJyNzdmdfYmFyJyk7XG4gIG1hcmdpbiA9IHsgdG9wOiAyMCwgcmlnaHQ6IDIwLCBib3R0b206IDQwLCBsZWZ0OiA0MCB9O1xuICBiYm94X3N2ZyA9IHN2Z19iYXIubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICB3aWR0aCA9ICtiYm94X3N2Zy53aWR0aCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0O1xuICBoZWlnaHQgPSA1MDAgKiBhcHAucmF0aW9Ub1dpZGUgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcbiAgc3ZnX2Jhci5hdHRyKCdoZWlnaHQnLCBgJHs1MDAgKiBhcHAucmF0aW9Ub1dpZGV9cHhgKTtcbiAgc3ZnX2NvbnRhaW5lciA9IHN2Z19iYXIuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnY29udGFpbmVyJyk7XG59O1xuLyoqIENsYXNzIHJlcHJlc2VudGluZyBhIHNjYXR0ZXJwbG90ICovXG5leHBvcnQgY2xhc3MgU2NhdHRlclBsb3QyIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIHRoZSBzY2F0dGVycGxvdCBvbiB0aGUgYHN2Z19iYXJgIHN2ZyBlbGVtZW50IHByZXZpb3VzbHkgZGVmaW5lZFxuICAgKiBAcGFyYW0ge0FycmF5fSByZWZfZGF0YSAtIEEgcmVmZXJlbmNlIHRvIHRoZSBzdWJzZXQgb2YgdGhlIGRhdGFzZXQgdG8gYmUgdXNlZFxuICAgKiB0byBjcmVhdGUgdGhlIHNjYXR0ZXJwbG90IChzaG91bGQgY29udGFpbiBhdCBsZWFzdCB0d28gZmllbGQgZmxhZ2dlZCBhcyByYXRpb1xuICAgKiBpbiB0aGUgYGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpb2AgT2JqZWN0KS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHJlZl9kYXRhKSB7XG4gICAgdGhpcy5icnVzaGVkID0gKCkgPT4ge1xuICAgICAgaWYgKGQzLmV2ZW50ICYmICFkMy5ldmVudC5zZWxlY3Rpb24pIHtcbiAgICAgICAgaWYgKGQzLmV2ZW50LnR5cGUgPT09ICdlbmQnICYmIGQzLmV2ZW50LnNvdXJjZUV2ZW50LnR5cGUgPT09ICdtb3VzZXVwJykge1xuICAgICAgICAgIHRoaXMubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgYXBwLmNvbG9ycyA9IHt9O1xuICAgICAgICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgICAgICB0aGlzLnVwZGF0ZUxpZ2h0KCk7XG4gICAgICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByZXNldENvbG9ycygpO1xuICAgICAgLy8gY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICBjb25zdCBbdG9wbGVmdCwgYm90dG9tcmlnaHRdID0gZDMuZXZlbnQuc2VsZWN0aW9uO1xuICAgICAgY29uc3QgcmFuZ2VfeCA9IFtcbiAgICAgICAgdGhpcy54LmludmVydCh0b3BsZWZ0WzBdKSxcbiAgICAgICAgdGhpcy54LmludmVydChib3R0b21yaWdodFswXSksXG4gICAgICBdO1xuICAgICAgY29uc3QgcmFuZ2VfeSA9IFtcbiAgICAgICAgdGhpcy55LmludmVydChib3R0b21yaWdodFsxXSksXG4gICAgICAgIHRoaXMueS5pbnZlcnQodG9wbGVmdFsxXSksXG4gICAgICBdO1xuICAgICAgaWYgKHRoaXMueEludmVyc2VkKSByYW5nZV94LnJldmVyc2UoKTtcbiAgICAgIGlmICh0aGlzLnlJbnZlcnNlZCkgcmFuZ2VfeS5yZXZlcnNlKCk7XG4gICAgICBsZXQgdDE7XG4gICAgICBsZXQgdDI7XG4gICAgICBpZiAodGhpcy50eXBlID09PSAndmFsdWUnKSB7XG4gICAgICAgIHQxID0gdGhpcy52YXJpYWJsZTE7XG4gICAgICAgIHQyID0gdGhpcy52YXJpYWJsZTI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0MSA9IHRoaXMucmFua192YXJpYWJsZTE7XG4gICAgICAgIHQyID0gdGhpcy5yYW5rX3ZhcmlhYmxlMjtcbiAgICAgIH1cblxuICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gdGhpcy5kYXRhLmxlbmd0aDsgaSA8IGxlbl9pOyBpKyspIHtcbiAgICAgICAgY29uc3QgZnQgPSB0aGlzLmRhdGFbaV07XG4gICAgICAgIGlmIChmdFt0MV0gPiByYW5nZV94WzBdICYmIGZ0W3QxXSA8IHJhbmdlX3hbMV1cbiAgICAgICAgICAgICYmIGZ0W3QyXSA+IHJhbmdlX3lbMF0gJiYgZnRbdDJdIDwgcmFuZ2VfeVsxXSkge1xuICAgICAgICAgIGFwcC5jb2xvcnNbZnQuaWRdID0gY29tcDIoXG4gICAgICAgICAgICBmdFt0aGlzLnZhcmlhYmxlMV0sIGZ0W3RoaXMudmFyaWFibGUyXSxcbiAgICAgICAgICAgIHRoaXMucmVmX3ZhbHVlMSwgdGhpcy5yZWZfdmFsdWUyLFxuICAgICAgICAgICAgdGhpcy54SW52ZXJzZWQsIHRoaXMueUludmVyc2VkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICAgIHRoaXMudXBkYXRlTGlnaHQoKTtcbiAgICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgICAgIHRoaXMubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gICAgfTtcbiAgICB1cGRhdGVEaW1lbnNpb25zKCk7XG4gICAgYXBwLmNoYXJ0RHJhd1JhdGlvID0gYXBwLnJhdGlvVG9XaWRlO1xuICAgIC8vIFNldCB0aGUgbWluaW11bSBudW1iZXIgb2YgdmFyaWFibGVzIHRvIGtlZXAgc2VsZWN0ZWQgZm9yIHRoaXMga2luZCBvZiBjaGFydDpcbiAgICBhcHAuY3VycmVudF9jb25maWcubmJfdmFyID0gMjtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICB0aGlzLnR5cGUgPSAndmFsdWUnO1xuICAgIHRoaXMudmFyaWFibGUxID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvWzBdO1xuICAgIHRoaXMudmFyaWFibGUyID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvWzFdO1xuICAgIHRoaXMucmFua192YXJpYWJsZTEgPSBgcHJfJHt0aGlzLnZhcmlhYmxlMX1gO1xuICAgIHRoaXMucmFua192YXJpYWJsZTIgPSBgcHJfJHt0aGlzLnZhcmlhYmxlMn1gO1xuICAgIHRoaXMudW5pdDEgPSB2YXJpYWJsZXNfaW5mby5maW5kKGZ0ID0+IGZ0LnJhdGlvID09PSB0aGlzLnZhcmlhYmxlMSkudW5pdDtcbiAgICB0aGlzLnVuaXQyID0gdmFyaWFibGVzX2luZm8uZmluZChmdCA9PiBmdC5yYXRpbyA9PT0gdGhpcy52YXJpYWJsZTIpLnVuaXQ7XG4gICAgdGhpcy5wcmV0dHlfbmFtZTEgPSBhcHAuY3VycmVudF9jb25maWcucmF0aW9fcHJldHR5X25hbWVbMF07XG4gICAgdGhpcy5wcmV0dHlfbmFtZTIgPSBhcHAuY3VycmVudF9jb25maWcucmF0aW9fcHJldHR5X25hbWVbMV07XG4gICAgdGhpcy5kYXRhID0gcmVmX2RhdGEuZmlsdGVyKGZ0ID0+ICEhZnRbdGhpcy52YXJpYWJsZTFdICYmICEhZnRbdGhpcy52YXJpYWJsZTJdKVxuICAgICAgLm1hcCgoZCkgPT4ge1xuICAgICAgICBjb25zdCByZXMgPSB7IGlkOiBkLmlkIH07XG4gICAgICAgIHJlc1t0aGlzLnZhcmlhYmxlMV0gPSBkW3RoaXMudmFyaWFibGUxXTtcbiAgICAgICAgcmVzW3RoaXMudmFyaWFibGUyXSA9IGRbdGhpcy52YXJpYWJsZTJdO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfSk7XG4gICAgdGhpcy5jdXJyZW50X2lkcyA9IHRoaXMuZGF0YS5tYXAoZCA9PiBkLmlkKTtcbiAgICByZXNldENvbG9ycyh0aGlzLmN1cnJlbnRfaWRzKTtcbiAgICB0aGlzLm5iRnQgPSB0aGlzLmRhdGEubGVuZ3RoO1xuICAgIGNvbXB1dGVQZXJjZW50aWxlUmFuayh0aGlzLmRhdGEsIHRoaXMudmFyaWFibGUxLCB0aGlzLnJhbmtfdmFyaWFibGUxKTtcbiAgICBjb21wdXRlUGVyY2VudGlsZVJhbmsodGhpcy5kYXRhLCB0aGlzLnZhcmlhYmxlMiwgdGhpcy5yYW5rX3ZhcmlhYmxlMik7XG5cbiAgICB0aGlzLnggPSBkMy5zY2FsZUxpbmVhcigpXG4gICAgICAucmFuZ2UoWzAsIHdpZHRoXSlcbiAgICAgIC5uaWNlKCk7XG4gICAgdGhpcy55ID0gZDMuc2NhbGVMaW5lYXIoKVxuICAgICAgLnJhbmdlKFtoZWlnaHQsIDBdKVxuICAgICAgLm5pY2UoKTtcbiAgICB0aGlzLnhBeGlzID0gZDMuYXhpc0JvdHRvbSh0aGlzLngpLnRpY2tzKDEyKTtcbiAgICB0aGlzLnlBeGlzID0gZDMuYXhpc0xlZnQodGhpcy55KS50aWNrcygxMiAqIGhlaWdodCAvIHdpZHRoKTtcbiAgICB0aGlzLnhBeGlzMiA9IGQzLmF4aXNCb3R0b20odGhpcy54KS50aWNrcygxMik7XG4gICAgdGhpcy55QXhpczIgPSBkMy5heGlzTGVmdCh0aGlzLnkpLnRpY2tzKDEyICogaGVpZ2h0IC8gd2lkdGgpO1xuXG4gICAgdGhpcy5icnVzaCA9IGQzLmJydXNoKClcbiAgICAgIC5leHRlbnQoW1swLCAwXSwgW3dpZHRoLCBoZWlnaHRdXSlcbiAgICAgIC5vbignYnJ1c2ggZW5kJywgdGhpcy5icnVzaGVkKTtcblxuICAgIHRoaXMueEludmVyc2VkID0gZmFsc2U7XG4gICAgdGhpcy55SW52ZXJzZWQgPSBmYWxzZTtcbiAgICB0aGlzLnJlZl92YWx1ZTEgPSB0aGlzLmRhdGEuZmluZChcbiAgICAgIGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbilbdGhpcy52YXJpYWJsZTFdO1xuICAgIHRoaXMucmVmX3ZhbHVlMiA9IHRoaXMuZGF0YS5maW5kKFxuICAgICAgZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVt0aGlzLnZhcmlhYmxlMl07XG5cbiAgICB0aGlzLnBsb3QgPSBzdmdfY29udGFpbmVyLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke1ttYXJnaW4ubGVmdCwgbWFyZ2luLnRvcF19KWApO1xuXG4gICAgdGhpcy5wbG90LmFwcGVuZCgnZGVmcycpXG4gICAgICAuYXBwZW5kKCdzdmc6Y2xpcFBhdGgnKVxuICAgICAgLmF0dHIoJ2lkJywgJ2NsaXAnKVxuICAgICAgLmFwcGVuZCgnc3ZnOnJlY3QnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgd2lkdGgsXG4gICAgICAgIGhlaWdodCxcbiAgICAgICAgeDogMCxcbiAgICAgICAgeTogMCxcbiAgICAgIH0pO1xuXG4gICAgdGhpcy5zY2F0dGVyID0gdGhpcy5wbG90LmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignaWQnLCAnc2NhdHRlcnBsb3QnKVxuICAgICAgLmF0dHIoJ2NsaXAtcGF0aCcsICd1cmwoI2NsaXApJyk7XG5cbiAgICB0aGlzLnNjYXR0ZXIuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdicnVzaCcpXG4gICAgICAuY2FsbCh0aGlzLmJydXNoKTtcblxuICAgIHRoaXMubWFrZUdyaWQoKTtcblxuICAgIGNvbnN0IGdyb3VwZV9saW5lX21lYW4gPSB0aGlzLnBsb3QuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdjbGlwLXBhdGgnLCAndXJsKCNjbGlwKScpXG4gICAgICAuYXR0cignY2xhc3MnLCAnbWVhbicpO1xuICAgIGdyb3VwZV9saW5lX21lYW4uYXBwZW5kKCdsaW5lJylcbiAgICAgIC5hdHRyKCdjbGlwLXBhdGgnLCAndXJsKCNjbGlwKScpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICBpZDogJ21lYW5feCcsXG4gICAgICAgIHgxOiB0aGlzLngodGhpcy5tZWFuX3ZhcmlhYmxlMSksXG4gICAgICAgIHgyOiB0aGlzLngodGhpcy5tZWFuX3ZhcmlhYmxlMSksXG4gICAgICAgIHkxOiAwLFxuICAgICAgICB5Mjogd2lkdGgsXG4gICAgICAgICdzdHJva2UtZGFzaGFycmF5JzogJzEwLCA1JyxcbiAgICAgICAgJ3N0cm9rZS13aWR0aCc6ICcycHgnLFxuICAgICAgfSlcbiAgICAgIC5zdHlsZSgnc3Ryb2tlJywgJ3JlZCcpO1xuICAgIGdyb3VwZV9saW5lX21lYW4uYXBwZW5kKCdsaW5lJylcbiAgICAgIC5zdHlsZSgnc3Ryb2tlJywgJ3JlZCcpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICBpZDogJ21lYW5feScsXG4gICAgICAgIHgxOiAwLFxuICAgICAgICB4Mjogd2lkdGgsXG4gICAgICAgIHkxOiB0aGlzLnkodGhpcy5tZWFuX3ZhcmlhYmxlMiksXG4gICAgICAgIHkyOiB0aGlzLnkodGhpcy5tZWFuX3ZhcmlhYmxlMiksXG4gICAgICAgICdjbGlwLXBhdGgnOiAndXJsKCNjbGlwKScsXG4gICAgICAgICdzdHJva2UtZGFzaGFycmF5JzogJzEwLCA1JyxcbiAgICAgICAgJ3N0cm9rZS13aWR0aCc6ICcycHgnLFxuICAgICAgfSk7XG5cbiAgICB0aGlzLnBsb3QuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIGNsYXNzOiAneCBheGlzJywgaWQ6ICdheGlzLS14JywgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKDAsICR7aGVpZ2h0fSlgLFxuICAgICAgfSlcbiAgICAgIC5jYWxsKHRoaXMueEF4aXMpO1xuXG4gICAgdGhpcy5wbG90LmFwcGVuZCgnZycpXG4gICAgICAuYXR0cnMoeyBjbGFzczogJ3kgYXhpcycsIGlkOiAnYXhpcy0teScsIG9wYWNpdHk6IDAuOSB9KVxuICAgICAgLmNhbGwodGhpcy55QXhpcyk7XG5cbiAgICAvLyBQcmVwYXJlIHRoZSB0b29sdGlwIGRpc3BsYXllZCBvbiBtb3VzZW92ZXI6XG4gICAgcHJlcGFyZVRvb2x0aXAodGhpcy5wbG90KTtcblxuICAgIHRoaXMucHJlcGFyZVRpdGxlQXhpcygpO1xuXG4gICAgc3ZnX2NvbnRhaW5lci5hcHBlbmQoJ2ltYWdlJylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIHg6IG1hcmdpbi5sZWZ0ICsgd2lkdGggLyAyIC0gMjAgLSBzdmdfY29udGFpbmVyLnNlbGVjdCgnI3RpdGxlLWF4aXMteCcpLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCAvIDIsXG4gICAgICAgIHk6IG1hcmdpbi50b3AgKyBoZWlnaHQgKyBtYXJnaW4uYm90dG9tIC8gMiAtIDIuNSxcbiAgICAgICAgd2lkdGg6IDE1LFxuICAgICAgICBoZWlnaHQ6IDE1LFxuICAgICAgICAneGxpbms6aHJlZic6ICdpbWcvcmV2ZXJzZV9wbHVzLnBuZycsXG4gICAgICAgIGlkOiAnaW1nX3JldmVyc2VfeCcsXG4gICAgICB9KVxuICAgICAgLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGhpcy54SW52ZXJzZWQgPSAhdGhpcy54SW52ZXJzZWQ7XG4gICAgICAgIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uYkZ0OyBpKyspIHtcbiAgICAgICAgLy8gICBzZWxmLmRhdGFbaV1bc2VsZi5yYW5rX3ZhcmlhYmxlMV0gPSAxMDAgLSBzZWxmLmRhdGFbaV1bc2VsZi5yYW5rX3ZhcmlhYmxlMV07XG4gICAgICAgIC8vIH1cblxuICAgICAgICBpZiAodGhpcy5sYXN0X21hcF9zZWxlY3Rpb24pIHtcbiAgICAgICAgICB0aGlzLm1hcF9lbGVtLmNhbGxCcnVzaCh0aGlzLmxhc3RfbWFwX3NlbGVjdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICBzdmdfY29udGFpbmVyLmFwcGVuZCgnaW1hZ2UnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgeDogbWFyZ2luLmxlZnQgLyAyIC0gMjAsXG4gICAgICAgIHk6IG1hcmdpbi50b3AgKyAoaGVpZ2h0IC8gMikgKyBzdmdfY29udGFpbmVyLnNlbGVjdCgnI3RpdGxlLWF4aXMteScpLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgLyAyICsgNSxcbiAgICAgICAgd2lkdGg6IDE1LFxuICAgICAgICBoZWlnaHQ6IDE1LFxuICAgICAgICAneGxpbms6aHJlZic6ICdpbWcvcmV2ZXJzZV9wbHVzLnBuZycsXG4gICAgICAgIGlkOiAnaW1nX3JldmVyc2VfeScsXG4gICAgICB9KVxuICAgICAgLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGhpcy55SW52ZXJzZWQgPSAhdGhpcy55SW52ZXJzZWQ7XG4gICAgICAgIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uYkZ0OyBpKyspIHtcbiAgICAgICAgLy8gICB0aGlzLmRhdGFbaV1bdGhpcy5yYW5rX3ZhcmlhYmxlMl0gPSAxMDAgLSB0aGlzLmRhdGFbaV1bdGhpcy5yYW5rX3ZhcmlhYmxlMl07XG4gICAgICAgIC8vIH1cbiAgICAgICAgaWYgKHRoaXMubGFzdF9tYXBfc2VsZWN0aW9uKSB7XG4gICAgICAgICAgdGhpcy5tYXBfZWxlbS5jYWxsQnJ1c2godGhpcy5sYXN0X21hcF9zZWxlY3Rpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgdGhpcy5jb21wbGV0dWRlID0gbmV3IENvbXBsZXR1ZGVTZWN0aW9uKFxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21hcF9zZWN0aW9uJyksXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3ZnX21hcCcpKTtcbiAgICB0aGlzLmNvbXBsZXR1ZGUudXBkYXRlKFxuICAgICAgY2FsY0NvbXBsZXR1ZGVTdWJzZXQoYXBwLCBbdGhpcy52YXJpYWJsZTEsIHRoaXMudmFyaWFibGUyXSwgJ2FycmF5JyksXG4gICAgICBjYWxjUG9wQ29tcGxldHVkZVN1YnNldChhcHAsIFt0aGlzLnZhcmlhYmxlMSwgdGhpcy52YXJpYWJsZTJdKSk7XG5cbiAgICAvLyBEZWFjdGl2YXRlIHRoZSByZWN0IGJydXNoIHNlbGVjdGlvbiBvbiB0aGUgbWFwXG4gICAgLy8gd2hpbGUgdGhlIHVzZXIgcHJlc3MgdGhlIEN0cmwga2V5OlxuICAgIGRvY3VtZW50Lm9ua2V5ZG93biA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50LmtleSA9PT0gJ0NvbnRyb2wnKSB7XG4gICAgICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJylcbiAgICAgICAgICAuc2VsZWN0QWxsKCcuc2VsZWN0aW9uLCAub3ZlcmxheScpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIC8vIFJlYWN0aXZhdGUgdGhlIHJlY3QgYnJ1c2ggc2VsZWN0aW9uIG9uIHRoZSBtYXBcbiAgICAvLyB3aGVuIHRoZSB1c2VyIGRvZXNuJ3QgcHJlc3MgdGhlIEN0cmwga2V5IGFueW1vcmVcbiAgICBkb2N1bWVudC5vbmtleXVwID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQgJiYgZXZlbnQua2V5ID09PSAnQ29udHJvbCcpIHtcbiAgICAgICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKVxuICAgICAgICAgIC5zZWxlY3RBbGwoJy5zZWxlY3Rpb24sIC5vdmVybGF5JylcbiAgICAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgbWVudV9zZWxlY3Rpb24gPSBkMy5zZWxlY3Qoc3ZnX2Jhci5ub2RlKCkucGFyZW50RWxlbWVudClcbiAgICAgIC5hcHBlbmQoJ2RpdicpXG4gICAgICAuYXR0cignaWQnLCAnbWVudV9zZWxlY3Rpb24nKVxuICAgICAgLnN0eWxlcyh7IHBvc2l0aW9uOiAncmVsYXRpdmUnLCAndGV4dC1hbGlnbic6ICdjZW50ZXInIH0pO1xuXG4gICAgY29uc3QgY2hhcnRfdHlwZSA9IG1lbnVfc2VsZWN0aW9uLmFwcGVuZCgncCcpO1xuXG4gICAgY2hhcnRfdHlwZS5hcHBlbmQoJ3NwYW4nKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgaWQ6ICdpbmRfcmF3X3ZhbHVlcycsXG4gICAgICAgIGNsYXNzOiAnY2hvaWNlX2luZCBhY3RpdmUnLFxuICAgICAgfSlcbiAgICAgIC50ZXh0KCdWYWxldXJzIGJydXRlcycpO1xuXG4gICAgY2hhcnRfdHlwZS5hcHBlbmQoJ3NwYW4nKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgaWQ6ICdpbmRfcmFua3MnLFxuICAgICAgICBjbGFzczogJ2Nob2ljZV9pbmQnLFxuICAgICAgfSlcbiAgICAgIC50ZXh0KCdWYWxldXJzIGRlIHJhbmcnKTtcblxuICAgIHRoaXMuYmluZE1lbnUoKTtcbiAgICAvLyB0aGlzLnVwZGF0ZSgpO1xuICAgIHRoaXMubWFrZVRhYmxlU3RhdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSB0aGUgdW5kZXJseWluZyBncmV5IGdyaWRcbiAgICovXG4gIG1ha2VHcmlkKCkge1xuICAgIHRoaXMucGxvdC5pbnNlcnQoJ2cnLCAnI3NjYXR0ZXJwbG90JylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIGNsYXNzOiAnZ3JpZCBncmlkLXgnLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoMCwgJHtoZWlnaHR9KWAsXG4gICAgICB9KVxuICAgICAgLmNhbGwodGhpcy54QXhpczJcbiAgICAgICAgLnRpY2tTaXplKC1oZWlnaHQpXG4gICAgICAgIC50aWNrRm9ybWF0KCcnKSk7XG4gICAgdGhpcy5wbG90Lmluc2VydCgnZycsICcjc2NhdHRlcnBsb3QnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2dyaWQgZ3JpZC15JylcbiAgICAgIC5jYWxsKHRoaXMueUF4aXMyXG4gICAgICAgIC50aWNrU2l6ZSgtd2lkdGgpXG4gICAgICAgIC50aWNrRm9ybWF0KCcnKSk7XG4gIH1cblxuXG4gIHVwZGF0ZUF4aXNHcmlkKCkge1xuICAgIHRoaXMucGxvdC5zZWxlY3QoJy5ncmlkLXgnKVxuICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgLmR1cmF0aW9uKDEyNSlcbiAgICAgIC5jYWxsKHRoaXMueEF4aXMyLnRpY2tTaXplKC1oZWlnaHQpLnRpY2tGb3JtYXQoJycpKTtcbiAgICB0aGlzLnBsb3Quc2VsZWN0KCcuZ3JpZC15JylcbiAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgIC5kdXJhdGlvbigxMjUpXG4gICAgICAuY2FsbCh0aGlzLnlBeGlzMi50aWNrU2l6ZSgtd2lkdGgpLnRpY2tGb3JtYXQoJycpKTtcbiAgICB0aGlzLnBsb3Quc2VsZWN0KCcjYXhpcy0teCcpXG4gICAgICAudHJhbnNpdGlvbigpXG4gICAgICAuZHVyYXRpb24oMTI1KVxuICAgICAgLmNhbGwodGhpcy54QXhpcyk7XG4gICAgdGhpcy5wbG90LnNlbGVjdCgnI2F4aXMtLXknKVxuICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgLmR1cmF0aW9uKDEyNSlcbiAgICAgIC5jYWxsKHRoaXMueUF4aXMpO1xuICAgIHRoaXMucGxvdC5zZWxlY3RBbGwoJy5ncmlkJylcbiAgICAgIC5zZWxlY3RBbGwoJ2xpbmUnKVxuICAgICAgLmF0dHIoJ3N0cm9rZScsICdsaWdodGdyYXknKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgdGhlIHRpdGxlIG9mIHRoZSBYIGFuZCBZIGF4aXMgd2l0aCB0aGUgYXNzb2NpYXRlZCBjb250ZXh0IG1lbnVcbiAgICogZGlzcGxheWVkIHdoZW4gdGhleSBhcmUgY2xpY2tlZCBhbmQgYWxsb3dpbmcgdG8gc2VsZWN0IGFuIG90aGVyIHZhcmlhYmxlXG4gICAqIGZvciB0aGlzIGF4aXMuXG4gICAqL1xuICBwcmVwYXJlVGl0bGVBeGlzKCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHRoaXMubWVudVggPSBuZXcgQ29udGV4dE1lbnUoKTtcbiAgICB0aGlzLm1lbnVZID0gbmV3IENvbnRleHRNZW51KCk7XG4gICAgdGhpcy5pdGVtc1ggPSBhcHAuY3VycmVudF9jb25maWcucmF0aW8uZmlsdGVyKGVsZW0gPT4gZWxlbSAhPT0gdGhpcy52YXJpYWJsZTIpXG4gICAgICAubWFwKGVsZW0gPT4gKHtcbiAgICAgICAgbmFtZTogZWxlbSxcbiAgICAgICAgYWN0aW9uOiAoKSA9PiB0aGlzLmNoYW5nZVZhcmlhYmxlWChlbGVtKSxcbiAgICAgIH0pKTtcbiAgICB0aGlzLml0ZW1zWSA9IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpby5maWx0ZXIoZWxlbSA9PiBlbGVtICE9PSB0aGlzLnZhcmlhYmxlMSlcbiAgICAgIC5tYXAoZWxlbSA9PiAoe1xuICAgICAgICBuYW1lOiBlbGVtLFxuICAgICAgICBhY3Rpb246ICgpID0+IHRoaXMuY2hhbmdlVmFyaWFibGVZKGVsZW0pLFxuICAgICAgfSkpO1xuXG4gICAgc3ZnX2NvbnRhaW5lci5hcHBlbmQoJ3RleHQnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgaWQ6ICd0aXRsZS1heGlzLXgnLFxuICAgICAgICB4OiBtYXJnaW4ubGVmdCArIHdpZHRoIC8gMixcbiAgICAgICAgeTogbWFyZ2luLnRvcCArIGhlaWdodCArIG1hcmdpbi5ib3R0b20gLyAyICsgMTAsXG4gICAgICB9KVxuICAgICAgLnN0eWxlcyh7ICdmb250LWZhbWlseSc6ICdzYW5zLXNlcmlmJywgJ2ZvbnQtc2l6ZSc6ICcxMnB4JywgJ3RleHQtYW5jaG9yJzogJ21pZGRsZScgfSlcbiAgICAgIC50ZXh0KHRoaXMudmFyaWFibGUxKVxuICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgYmJveCA9IHRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGlmIChzZWxmLm1lbnVZLmRpc3BsYXllZCkge1xuICAgICAgICAgIHNlbGYubWVudVkuaGlkZU1lbnUoKTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLm1lbnVYLnNob3dNZW51KGQzLmV2ZW50LCBkb2N1bWVudC5ib2R5LCBzZWxmLml0ZW1zWCwgW2Jib3gubGVmdCAtIDIwLCBiYm94LnRvcCArIDIwXSk7XG4gICAgICB9KTtcblxuICAgIHN2Z19jb250YWluZXIuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIGlkOiAndGl0bGUtYXhpcy15JyxcbiAgICAgICAgeDogbWFyZ2luLmxlZnQgLyAyLFxuICAgICAgICB5OiBtYXJnaW4udG9wICsgKGhlaWdodCAvIDIpIC0gMTAsXG4gICAgICAgIHRyYW5zZm9ybTogYHJvdGF0ZSgtOTAsICR7bWFyZ2luLmxlZnQgLyAyfSwgJHttYXJnaW4udG9wICsgKGhlaWdodCAvIDIpfSlgLFxuICAgICAgfSlcbiAgICAgIC5zdHlsZXMoeyAnZm9udC1mYW1pbHknOiAnc2Fucy1zZXJpZicsICdmb250LXNpemUnOiAnMTJweCcsICd0ZXh0LWFuY2hvcic6ICdtaWRkbGUnIH0pXG4gICAgICAudGV4dCh0aGlzLnZhcmlhYmxlMilcbiAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IGJib3ggPSB0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBpZiAoc2VsZi5tZW51WC5kaXNwbGF5ZWQpIHtcbiAgICAgICAgICBzZWxmLm1lbnVYLmhpZGVNZW51KCk7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5tZW51WS5zaG93TWVudShkMy5ldmVudCwgZG9jdW1lbnQuYm9keSwgc2VsZi5pdGVtc1ksIFtiYm94LmxlZnQsIGJib3guYm90dG9tICsgMTBdKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlTGlnaHQoKSB7XG4gICAgY29uc3QgZGVmYXVsdF9jb2xvciA9ICdncmF5JztcbiAgICB0aGlzLnNjYXR0ZXIuc2VsZWN0QWxsKCcuZG90JylcbiAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgIC5kdXJhdGlvbigxMjUpXG4gICAgICAuc3R5bGVzKGQgPT4gKHtcbiAgICAgICAgZmlsbDogYXBwLmNvbG9yc1tkLmlkXSB8fCBkZWZhdWx0X2NvbG9yLFxuICAgICAgfSkpO1xuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGRhdGEgPSBzZWxmLmRhdGE7XG5cbiAgICBpZiAodGhpcy50eXBlID09PSAncmFuaycpIHtcbiAgICAgIGNvbnN0IHJhbmtfdmFyaWFibGUxID0gdGhpcy5yYW5rX3ZhcmlhYmxlMTtcbiAgICAgIGNvbnN0IHJhbmtfdmFyaWFibGUyID0gdGhpcy5yYW5rX3ZhcmlhYmxlMjtcbiAgICAgIGNvbnN0IHJhbmdlX3ggPSB0aGlzLnhJbnZlcnNlZFxuICAgICAgICA/IGQzLmV4dGVudCh0aGlzLmRhdGEsIGQgPT4gZFtyYW5rX3ZhcmlhYmxlMV0pLnJldmVyc2UoKVxuICAgICAgICA6IGQzLmV4dGVudCh0aGlzLmRhdGEsIGQgPT4gZFtyYW5rX3ZhcmlhYmxlMV0pO1xuICAgICAgY29uc3QgcmFuZ2VfeSA9IHRoaXMueUludmVyc2VkXG4gICAgICAgID8gZDMuZXh0ZW50KHRoaXMuZGF0YSwgZCA9PiBkW3JhbmtfdmFyaWFibGUyXSkucmV2ZXJzZSgpXG4gICAgICAgIDogZDMuZXh0ZW50KHRoaXMuZGF0YSwgZCA9PiBkW3JhbmtfdmFyaWFibGUyXSk7XG4gICAgICBjb25zdCBzZXJpZV94ID0gdGhpcy5kYXRhLm1hcChkID0+IGRbdGhpcy52YXJpYWJsZTFdKTtcbiAgICAgIGNvbnN0IHNlcmllX3kgPSB0aGlzLmRhdGEubWFwKGQgPT4gZFt0aGlzLnZhcmlhYmxlMl0pO1xuICAgICAgdGhpcy54LmRvbWFpbihyYW5nZV94KS5uaWNlKCk7XG4gICAgICB0aGlzLnkuZG9tYWluKHJhbmdlX3kpLm5pY2UoKTtcbiAgICAgIHRoaXMubWVhbl92YXJpYWJsZTEgPSBfZ2V0UFIoXG4gICAgICAgIGdldE1lYW4oc2VyaWVfeCksIHNlcmllX3gpO1xuICAgICAgdGhpcy5tZWFuX3ZhcmlhYmxlMiA9IF9nZXRQUihcbiAgICAgICAgZ2V0TWVhbihzZXJpZV95KSwgc2VyaWVfeSk7XG5cbiAgICAgIGNvbnN0IHggPSB0aGlzLng7XG4gICAgICBjb25zdCB5ID0gdGhpcy55O1xuICAgICAgY29uc3QgZGVmYXVsdF9jb2xvciA9ICdncmF5JztcblxuICAgICAgY29uc3QgZG90cyA9IHRoaXMuc2NhdHRlci5zZWxlY3RBbGwoJy5kb3QnKVxuICAgICAgICAuZGF0YShkYXRhLCBkID0+IGQuaWQpO1xuXG4gICAgICBkb3RzXG4gICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgLmR1cmF0aW9uKDEyNSlcbiAgICAgICAgLmF0dHJzKGQgPT4gKHtcbiAgICAgICAgICByOiA1LFxuICAgICAgICAgIGN4OiB4KGRbcmFua192YXJpYWJsZTFdKSxcbiAgICAgICAgICBjeTogeShkW3JhbmtfdmFyaWFibGUyXSksXG4gICAgICAgIH0pKVxuICAgICAgICAuc3R5bGVzKGQgPT4gKHtcbiAgICAgICAgICBmaWxsOiBhcHAuY29sb3JzW2QuaWRdIHx8IGRlZmF1bHRfY29sb3IsXG4gICAgICAgIH0pKTtcblxuICAgICAgZG90cy5lbnRlcigpXG4gICAgICAgIC5pbnNlcnQoJ2NpcmNsZScpXG4gICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgLmR1cmF0aW9uKDEyNSlcbiAgICAgICAgLnN0eWxlcyhkID0+ICh7XG4gICAgICAgICAgZmlsbDogYXBwLmNvbG9yc1tkLmlkXSB8fCBkZWZhdWx0X2NvbG9yLFxuICAgICAgICB9KSlcbiAgICAgICAgLmF0dHJzKGQgPT4gKHtcbiAgICAgICAgICByOiA1LFxuICAgICAgICAgIGN4OiB4KGRbcmFua192YXJpYWJsZTFdKSxcbiAgICAgICAgICBjeTogeShkW3JhbmtfdmFyaWFibGUyXSksXG4gICAgICAgICAgY2xhc3M6ICdkb3QnLFxuICAgICAgICB9KSlcbiAgICAgICAgLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5zY2F0dGVyLnNlbGVjdEFsbCgnLmRvdCcpXG4gICAgICAgICAgICAub24oJ21vdXNlb3Zlci50b29sdGlwJywgKCkgPT4ge1xuICAgICAgICAgICAgICBzdmdfY29udGFpbmVyLnNlbGVjdCgnLnRvb2x0aXAnKS5zdHlsZSgnZGlzcGxheScsIG51bGwpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5vbignbW91c2Vtb3ZlLnRvb2x0aXAnLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICBjb25zdCB0b29sdGlwID0gc3ZnX2NvbnRhaW5lci5zZWxlY3QoJy50b29sdGlwJylcbiAgICAgICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke1tkMy5tb3VzZSh0aGlzKVswXSAtIDUsIGQzLm1vdXNlKHRoaXMpWzFdIC0gMzVdfSlgKTtcbiAgICAgICAgICAgICAgdG9vbHRpcC5zZWxlY3QoJ3JlY3QnKS5hdHRycyh7IHdpZHRoOiAwLCBoZWlnaHQ6IDAgfSk7XG4gICAgICAgICAgICAgIHRvb2x0aXAuc2VsZWN0KCd0ZXh0LmlkX2ZlYXR1cmUnKVxuICAgICAgICAgICAgICAgIC50ZXh0KGAke2QuaWR9YCk7XG4gICAgICAgICAgICAgIHRvb2x0aXAuc2VsZWN0KCd0ZXh0LnZhbHVlX2ZlYXR1cmUxJylcbiAgICAgICAgICAgICAgICAudGV4dChgJHtzZWxmLnZhcmlhYmxlMX0gKHJhbmcpIDogJHtNYXRoLnJvdW5kKGRbc2VsZi5yYW5rX3ZhcmlhYmxlMV0gKiAxMCkgLyAxMH0vMTAwYCk7XG4gICAgICAgICAgICAgIHRvb2x0aXAuc2VsZWN0KCd0ZXh0LnZhbHVlX2ZlYXR1cmUyJylcbiAgICAgICAgICAgICAgICAudGV4dChgJHtzZWxmLnZhcmlhYmxlMX0gKHZhbGV1cikgOiAke01hdGgucm91bmQoZFtzZWxmLnZhcmlhYmxlMV0gKiAxMCkgLyAxMH0gJHtzZWxmLnVuaXQxfWApO1xuICAgICAgICAgICAgICB0b29sdGlwLnNlbGVjdCgndGV4dC52YWx1ZV9mZWF0dXJlMycpXG4gICAgICAgICAgICAgICAgLnRleHQoYCR7c2VsZi52YXJpYWJsZTJ9IChyYW5nKSA6ICR7TWF0aC5yb3VuZChkW3NlbGYucmFua192YXJpYWJsZTJdICogMTApIC8gMTB9LzEwMGApO1xuICAgICAgICAgICAgICB0b29sdGlwLnNlbGVjdCgndGV4dC52YWx1ZV9mZWF0dXJlNCcpXG4gICAgICAgICAgICAgIC50ZXh0KGAke3NlbGYudmFyaWFibGUyfSAodmFsZXVyKSA6ICR7TWF0aC5yb3VuZChkW3NlbGYudmFyaWFibGUyXSAqIDEwKSAvIDEwfSAke3NlbGYudW5pdDJ9YCk7XG4gICAgICAgICAgICAgIGNvbnN0IGIgPSB0b29sdGlwLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgdG9vbHRpcC5zZWxlY3QoJ3JlY3QnKVxuICAgICAgICAgICAgICAgIC5hdHRycyh7IHdpZHRoOiBiLndpZHRoICsgMjAsIGhlaWdodDogYi5oZWlnaHQgKyA3LjUgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm9uKCdtb3VzZW91dC50b29sdGlwJywgKCkgPT4ge1xuICAgICAgICAgICAgICBzdmdfY29udGFpbmVyLnNlbGVjdCgnLnRvb2x0aXAnKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICBkb3RzLmV4aXQoKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oMTI1KS5yZW1vdmUoKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMudHlwZSA9PT0gJ3ZhbHVlJykge1xuICAgICAgY29uc3QgdmFyaWFibGUxID0gdGhpcy52YXJpYWJsZTE7XG4gICAgICBjb25zdCB2YXJpYWJsZTIgPSB0aGlzLnZhcmlhYmxlMjtcbiAgICAgIGNvbnN0IHNlcmllX3ggPSB0aGlzLmRhdGEubWFwKGQgPT4gZFt2YXJpYWJsZTFdKTtcbiAgICAgIGNvbnN0IHNlcmllX3kgPSB0aGlzLmRhdGEubWFwKGQgPT4gZFt2YXJpYWJsZTJdKTtcbiAgICAgIGNvbnN0IHJhbmdlX3ggPSB0aGlzLnhJbnZlcnNlZFxuICAgICAgICA/IGQzLmV4dGVudChzZXJpZV94KS5yZXZlcnNlKClcbiAgICAgICAgOiBkMy5leHRlbnQoc2VyaWVfeCk7XG4gICAgICBjb25zdCByYW5nZV95ID0gdGhpcy55SW52ZXJzZWRcbiAgICAgICAgPyBkMy5leHRlbnQoc2VyaWVfeSkucmV2ZXJzZSgpXG4gICAgICAgIDogZDMuZXh0ZW50KHNlcmllX3kpO1xuICAgICAgdGhpcy54LmRvbWFpbihyYW5nZV94KS5uaWNlKCk7XG4gICAgICB0aGlzLnkuZG9tYWluKHJhbmdlX3kpLm5pY2UoKTtcbiAgICAgIHRoaXMubWVhbl92YXJpYWJsZTEgPSBnZXRNZWFuKHNlcmllX3gpO1xuICAgICAgdGhpcy5tZWFuX3ZhcmlhYmxlMiA9IGdldE1lYW4oc2VyaWVfeSk7XG5cbiAgICAgIGNvbnN0IHggPSB0aGlzLng7XG4gICAgICBjb25zdCB5ID0gdGhpcy55O1xuICAgICAgY29uc3QgZGVmYXVsdF9jb2xvciA9ICdncmF5JztcblxuICAgICAgdGhpcy5wbG90LnNlbGVjdCgnI2F4aXMtLXgnKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oMTI1KS5jYWxsKHRoaXMueEF4aXMpO1xuICAgICAgdGhpcy5wbG90LnNlbGVjdCgnI2F4aXMtLXknKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oMTI1KS5jYWxsKHRoaXMueUF4aXMpO1xuXG4gICAgICBjb25zdCBkb3RzID0gdGhpcy5zY2F0dGVyLnNlbGVjdEFsbCgnLmRvdCcpXG4gICAgICAgIC5kYXRhKGRhdGEsIGQgPT4gZC5pZCk7XG5cbiAgICAgIGRvdHNcbiAgICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgICAuZHVyYXRpb24oMTI1KVxuICAgICAgICAuYXR0cnMoZCA9PiAoe1xuICAgICAgICAgIHI6IDUsXG4gICAgICAgICAgY3g6IHgoZFt2YXJpYWJsZTFdKSxcbiAgICAgICAgICBjeTogeShkW3ZhcmlhYmxlMl0pLFxuICAgICAgICB9KSlcbiAgICAgICAgLnN0eWxlcyhkID0+ICh7XG4gICAgICAgICAgZmlsbDogYXBwLmNvbG9yc1tkLmlkXSB8fCBkZWZhdWx0X2NvbG9yLFxuICAgICAgICB9KSk7XG5cbiAgICAgIGRvdHMuZW50ZXIoKVxuICAgICAgICAuaW5zZXJ0KCdjaXJjbGUnKVxuICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgIC5kdXJhdGlvbigxMjUpXG4gICAgICAgIC5zdHlsZXMoZCA9PiAoe1xuICAgICAgICAgIGZpbGw6IGFwcC5jb2xvcnNbZC5pZF0gfHwgZGVmYXVsdF9jb2xvcixcbiAgICAgICAgfSkpXG4gICAgICAgIC5hdHRycyhkID0+ICh7XG4gICAgICAgICAgcjogNSxcbiAgICAgICAgICBjeDogeChkW3ZhcmlhYmxlMV0pLFxuICAgICAgICAgIGN5OiB5KGRbdmFyaWFibGUyXSksXG4gICAgICAgICAgY2xhc3M6ICdkb3QnLFxuICAgICAgICB9KSlcbiAgICAgICAgLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5zY2F0dGVyLnNlbGVjdEFsbCgnLmRvdCcpXG4gICAgICAgICAgICAub24oJ21vdXNlb3Zlci50b29sdGlwJywgKCkgPT4ge1xuICAgICAgICAgICAgICBzdmdfY29udGFpbmVyLnNlbGVjdCgnLnRvb2x0aXAnKS5zdHlsZSgnZGlzcGxheScsIG51bGwpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5vbignbW91c2Vtb3ZlLnRvb2x0aXAnLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICBjb25zdCB0b29sdGlwID0gc3ZnX2NvbnRhaW5lci5zZWxlY3QoJy50b29sdGlwJylcbiAgICAgICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke1tkMy5tb3VzZSh0aGlzKVswXSAtIDUsIGQzLm1vdXNlKHRoaXMpWzFdIC0gMzVdfSlgKTtcbiAgICAgICAgICAgICAgdG9vbHRpcC5zZWxlY3QoJ3JlY3QnKS5hdHRycyh7IHdpZHRoOiAwLCBoZWlnaHQ6IDAgfSk7XG4gICAgICAgICAgICAgIHRvb2x0aXAuc2VsZWN0KCd0ZXh0LmlkX2ZlYXR1cmUnKVxuICAgICAgICAgICAgICAgIC50ZXh0KGAke2QuaWR9YCk7XG4gICAgICAgICAgICAgIHRvb2x0aXAuc2VsZWN0KCd0ZXh0LnZhbHVlX2ZlYXR1cmUxJylcbiAgICAgICAgICAgICAgICAudGV4dChgJHtzZWxmLnZhcmlhYmxlMX0gKHJhbmcpIDogJHtNYXRoLnJvdW5kKGRbc2VsZi5yYW5rX3ZhcmlhYmxlMV0gKiAxMCkgLyAxMH0vMTAwYCk7XG4gICAgICAgICAgICAgIHRvb2x0aXAuc2VsZWN0KCd0ZXh0LnZhbHVlX2ZlYXR1cmUyJylcbiAgICAgICAgICAgICAgICAudGV4dChgJHtzZWxmLnZhcmlhYmxlMX0gKHZhbGV1cikgOiAke01hdGgucm91bmQoZFtzZWxmLnZhcmlhYmxlMV0gKiAxMCkgLyAxMH0gJHtzZWxmLnVuaXQxfWApO1xuICAgICAgICAgICAgICB0b29sdGlwLnNlbGVjdCgndGV4dC52YWx1ZV9mZWF0dXJlMycpXG4gICAgICAgICAgICAgICAgLnRleHQoYCR7c2VsZi52YXJpYWJsZTJ9IChyYW5nKSA6ICR7TWF0aC5yb3VuZChkW3NlbGYucmFua192YXJpYWJsZTJdICogMTApIC8gMTB9LzEwMGApO1xuICAgICAgICAgICAgICB0b29sdGlwLnNlbGVjdCgndGV4dC52YWx1ZV9mZWF0dXJlNCcpXG4gICAgICAgICAgICAgIC50ZXh0KGAke3NlbGYudmFyaWFibGUyfSAodmFsZXVyKSA6ICR7TWF0aC5yb3VuZChkW3NlbGYudmFyaWFibGUyXSAqIDEwKSAvIDEwfSAke3NlbGYudW5pdDJ9YCk7XG4gICAgICAgICAgICAgIGNvbnN0IGIgPSB0b29sdGlwLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgdG9vbHRpcC5zZWxlY3QoJ3JlY3QnKVxuICAgICAgICAgICAgICAgIC5hdHRycyh7IHdpZHRoOiBiLndpZHRoICsgMjAsIGhlaWdodDogYi5oZWlnaHQgKyA3LjUgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm9uKCdtb3VzZW91dC50b29sdGlwJywgKCkgPT4ge1xuICAgICAgICAgICAgICBzdmdfY29udGFpbmVyLnNlbGVjdCgnLnRvb2x0aXAnKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgIGRvdHMuZXhpdCgpLnRyYW5zaXRpb24oKS5kdXJhdGlvbigxMjUpLnJlbW92ZSgpO1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZU1lYW5WYWx1ZSgpO1xuICAgIHRoaXMudXBkYXRlQXhpc0dyaWQoKTtcbiAgfVxuXG4gIHVwZGF0ZUNvbXBsZXR1ZGUoKSB7XG4gICAgdGhpcy5jb21wbGV0dWRlLnVwZGF0ZShcbiAgICAgIGNhbGNDb21wbGV0dWRlU3Vic2V0KGFwcCwgW3RoaXMudmFyaWFibGUxLCB0aGlzLnZhcmlhYmxlMl0sICdhcnJheScpLFxuICAgICAgY2FsY1BvcENvbXBsZXR1ZGVTdWJzZXQoYXBwLCBbdGhpcy52YXJpYWJsZTEsIHRoaXMudmFyaWFibGUyXSkpO1xuICB9XG5cbiAgdXBkYXRlTWFwUmVnaW8oKSB7XG4gICAgaWYgKCF0aGlzLm1hcF9lbGVtKSByZXR1cm47XG4gICAgdGhpcy5tYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5hdHRyKCdmaWxsJywgZCA9PiAodGhpcy5jdXJyZW50X2lkcy5pbmRleE9mKGQuaWQpID4gLTFcbiAgICAgICAgPyAoYXBwLmNvbG9yc1tkLmlkXSB8fCBjb2xvcl9jb3VudHJpZXMpXG4gICAgICAgIDogY29sb3JfZGlzYWJsZWQpKTtcbiAgfVxuXG4gIGhhbmRsZV9icnVzaF9tYXAoZXZlbnQpIHtcbiAgICBpZiAoIWV2ZW50IHx8ICFldmVudC5zZWxlY3Rpb24pIHtcbiAgICAgIHRoaXMubGFzdF9tYXBfc2VsZWN0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzdmdfY29udGFpbmVyLnNlbGVjdCgnLmJydXNoJykuY2FsbCh0aGlzLmJydXNoLm1vdmUsIG51bGwpO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IFt0b3BsZWZ0LCBib3R0b21yaWdodF0gPSBldmVudC5zZWxlY3Rpb247XG4gICAgdGhpcy5sYXN0X21hcF9zZWxlY3Rpb24gPSBbdG9wbGVmdCwgYm90dG9tcmlnaHRdO1xuICAgIGNvbnN0IHJlY3QgPSBuZXcgUmVjdCh0b3BsZWZ0LCBib3R0b21yaWdodCk7XG4gICAgYXBwLmNvbG9ycyA9IHt9O1xuICAgIHNlbGYubWFwX2VsZW0udGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuYXR0cignZmlsbCcsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgIGNvbnN0IGlkID0gZC5pZDtcbiAgICAgICAgaWYgKGlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKSB7XG4gICAgICAgICAgYXBwLmNvbG9yc1tpZF0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgICAgICAgcmV0dXJuIGNvbG9yX2hpZ2hsaWdodDtcbiAgICAgICAgfSBlbHNlIGlmIChzZWxmLmN1cnJlbnRfaWRzLmluZGV4T2YoaWQpIDwgMCkge1xuICAgICAgICAgIHJldHVybiBjb2xvcl9kaXNhYmxlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX3B0cykge1xuICAgICAgICAgIHRoaXMuX3B0cyA9IHN2Z1BhdGhUb0Nvb3Jkcyh0aGlzLmdldEF0dHJpYnV0ZSgnZCcpLCBhcHAudHlwZV9wYXRoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwdHMgPSB0aGlzLl9wdHM7XG4gICAgICAgIGZvciAobGV0IGl4ID0gMCwgbmJfcHRzID0gcHRzLmxlbmd0aDsgaXggPCBuYl9wdHM7IGl4KyspIHtcbiAgICAgICAgICBpZiAocmVjdC5jb250YWlucyhwdHNbaXhdKSkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUxID0gZC5wcm9wZXJ0aWVzW3NlbGYudmFyaWFibGUxXTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlMiA9IGQucHJvcGVydGllc1tzZWxmLnZhcmlhYmxlMl07XG4gICAgICAgICAgICBjb25zdCBjb2xvciA9IGNvbXAyKFxuICAgICAgICAgICAgICB2YWx1ZTEsIHZhbHVlMixcbiAgICAgICAgICAgICAgc2VsZi5yZWZfdmFsdWUxLCBzZWxmLnJlZl92YWx1ZTIsXG4gICAgICAgICAgICAgIHNlbGYueEludmVyc2VkLCBzZWxmLnlJbnZlcnNlZCk7XG4gICAgICAgICAgICBhcHAuY29sb3JzW2lkXSA9IGNvbG9yO1xuICAgICAgICAgICAgcmV0dXJuIGNvbG9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sb3JfY291bnRyaWVzO1xuICAgICAgfSk7XG4gICAgc2VsZi51cGRhdGVMaWdodCgpO1xuICB9XG5cbiAgaGFuZGxlQ2xpY2tNYXAoZCwgcGFyZW50KSB7XG4gICAgY29uc3QgaWQgPSBkLmlkO1xuICAgIGlmICh0aGlzLmN1cnJlbnRfaWRzLmluZGV4T2YoaWQpIDwgMCB8fCBpZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbikgcmV0dXJuO1xuICAgIGlmIChhcHAuY29sb3JzW2lkXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBDaGFuZ2UgaXRzIGNvbG9yIGluIHRoZSBnbG9iYWwgY29sb3JzIG9iamVjdDpcbiAgICAgIGFwcC5jb2xvcnNbaWRdID0gdW5kZWZpbmVkO1xuICAgICAgLy8gQ2hhbmdlIHRoZSBjb2xvciBvbiB0aGUgbWFwOlxuICAgICAgZDMuc2VsZWN0KHBhcmVudCkuYXR0cignZmlsbCcsIGNvbG9yX2NvdW50cmllcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHZhbHVlMSA9IGQucHJvcGVydGllc1t0aGlzLnZhcmlhYmxlMV07XG4gICAgICBjb25zdCB2YWx1ZTIgPSBkLnByb3BlcnRpZXNbdGhpcy52YXJpYWJsZTJdO1xuICAgICAgY29uc3QgY29sb3IgPSBjb21wMihcbiAgICAgICAgdmFsdWUxLCB2YWx1ZTIsXG4gICAgICAgIHRoaXMucmVmX3ZhbHVlMSwgdGhpcy5yZWZfdmFsdWUyLFxuICAgICAgICB0aGlzLnhJbnZlcnNlZCwgdGhpcy55SW52ZXJzZWQpO1xuICAgICAgYXBwLmNvbG9yc1tpZF0gPSBjb2xvcjtcbiAgICAgIC8vIENoYW5nZSB0aGUgY29sb3Igb24gdGhlIG1hcDpcbiAgICAgIGQzLnNlbGVjdChwYXJlbnQpLmF0dHIoJ2ZpbGwnLCBjb2xvcik7XG4gICAgICAvLyBBZGQgdGhlIGNsaWNrZWQgZmVhdHVyZSBvbiB0aGUgY29sb3JlZCBzZWxlY3Rpb24gb24gdGhlIGNoYXJ0OlxuICAgIH1cbiAgICB0aGlzLnVwZGF0ZUxpZ2h0KCk7XG4gIH1cblxuICB1cGRhdGVNZWFuVmFsdWUoKSB7XG4gICAgaWYgKHRoaXMudHlwZSA9PT0gJ3ZhbHVlJykge1xuICAgICAgdGhpcy5tZWFuX3ZhcmlhYmxlMSA9IGdldE1lYW4odGhpcy5kYXRhLm1hcChkID0+IGRbdGhpcy52YXJpYWJsZTFdKSk7XG4gICAgICB0aGlzLm1lYW5fdmFyaWFibGUyID0gZ2V0TWVhbih0aGlzLmRhdGEubWFwKGQgPT4gZFt0aGlzLnZhcmlhYmxlMl0pKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMudHlwZSA9PT0gJ3JhbmsnKSB7XG4gICAgICB0aGlzLm1lYW5fdmFyaWFibGUxID0gX2dldFBSKFxuICAgICAgICBnZXRNZWFuKHRoaXMuZGF0YS5tYXAoZCA9PiBkW3RoaXMudmFyaWFibGUxXSkpLCB0aGlzLmRhdGEubWFwKGQgPT4gZFt0aGlzLnZhcmlhYmxlMV0pKTtcbiAgICAgIHRoaXMubWVhbl92YXJpYWJsZTIgPSBfZ2V0UFIoXG4gICAgICAgIGdldE1lYW4odGhpcy5kYXRhLm1hcChkID0+IGRbdGhpcy52YXJpYWJsZTJdKSksIHRoaXMuZGF0YS5tYXAoZCA9PiBkW3RoaXMudmFyaWFibGUyXSkpO1xuICAgIH1cbiAgICBjb25zdCBncnBfbWVhbiA9IHRoaXMucGxvdC5zZWxlY3QoJ2cubWVhbicpO1xuICAgIGdycF9tZWFuLnNlbGVjdCgnI21lYW5feCcpXG4gICAgICAudHJhbnNpdGlvbigpXG4gICAgICAuZHVyYXRpb24oMTI1KVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgeDE6IHRoaXMueCh0aGlzLm1lYW5fdmFyaWFibGUxKSxcbiAgICAgICAgeDI6IHRoaXMueCh0aGlzLm1lYW5fdmFyaWFibGUxKSxcbiAgICAgIH0pO1xuICAgIGdycF9tZWFuLnNlbGVjdCgnI21lYW5feScpXG4gICAgICAudHJhbnNpdGlvbigpXG4gICAgICAuZHVyYXRpb24oMTI1KVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgeTE6IHRoaXMueSh0aGlzLm1lYW5fdmFyaWFibGUyKSxcbiAgICAgICAgeTI6IHRoaXMueSh0aGlzLm1lYW5fdmFyaWFibGUyKSxcbiAgICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlQ2hhbmdlUmVnaW9uKCkge1xuICAgIGlmIChhcHAuY3VycmVudF9jb25maWcuZmlsdGVyX2tleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmNoYW5nZVN0dWR5Wm9uZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlZl92YWx1ZTEgPSB0aGlzLmRhdGEuZmluZChcbiAgICAgICAgZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVt0aGlzLnZhcmlhYmxlMV07XG4gICAgICB0aGlzLnJlZl92YWx1ZTIgPSB0aGlzLmRhdGEuZmluZChcbiAgICAgICAgZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVt0aGlzLnZhcmlhYmxlMl07XG4gICAgICB0aGlzLm1hcF9lbGVtLnJlbW92ZVJlY3RCcnVzaCgpO1xuICAgICAgdGhpcy5tYXBfZWxlbS51cGRhdGVMZWdlbmQoKTtcbiAgICAgIHRoaXMubWFwX2VsZW0ucmVzZXRDb2xvcnModGhpcy5jdXJyZW50X2lkcyk7XG4gICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIGNoYW5nZVN0dWR5Wm9uZSgpIHtcbiAgICB0aGlzLmRhdGEgPSBhcHAuY3VycmVudF9kYXRhLmZpbHRlcihmdCA9PiAhIWZ0W3RoaXMudmFyaWFibGUxXSAmJiAhIWZ0W3RoaXMudmFyaWFibGUyXSlcbiAgICAgIC5tYXAoKGQpID0+IHtcbiAgICAgICAgY29uc3QgcmVzID0geyBpZDogZC5pZCB9O1xuICAgICAgICByZXNbdGhpcy52YXJpYWJsZTFdID0gZFt0aGlzLnZhcmlhYmxlMV07XG4gICAgICAgIHJlc1t0aGlzLnZhcmlhYmxlMl0gPSBkW3RoaXMudmFyaWFibGUyXTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIH0pO1xuICAgIHRoaXMuY3VycmVudF9pZHMgPSB0aGlzLmRhdGEubWFwKGQgPT4gZC5pZCk7XG4gICAgcmVzZXRDb2xvcnMoKTtcbiAgICB0aGlzLm5iRnQgPSB0aGlzLmRhdGEubGVuZ3RoO1xuICAgIGNvbXB1dGVQZXJjZW50aWxlUmFuayh0aGlzLmRhdGEsIHRoaXMudmFyaWFibGUxLCB0aGlzLnJhbmtfdmFyaWFibGUxKTtcbiAgICBjb21wdXRlUGVyY2VudGlsZVJhbmsodGhpcy5kYXRhLCB0aGlzLnZhcmlhYmxlMiwgdGhpcy5yYW5rX3ZhcmlhYmxlMik7XG5cbiAgICB0aGlzLnhJbnZlcnNlZCA9IGZhbHNlO1xuICAgIHRoaXMueUludmVyc2VkID0gZmFsc2U7XG4gICAgY29uc3QgdG1wX215X3JlZ2lvbiA9IHRoaXMuZGF0YS5maWx0ZXIoZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVswXTtcbiAgICB0aGlzLnJlZl92YWx1ZTEgPSB0bXBfbXlfcmVnaW9uW3RoaXMudmFyaWFibGUxXTtcbiAgICB0aGlzLnJlZl92YWx1ZTIgPSB0bXBfbXlfcmVnaW9uW3RoaXMudmFyaWFibGUyXTtcblxuICAgIHRoaXMubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gICAgdGhpcy51cGRhdGVJdGVtc0N0eE1lbnUoKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgdGhpcy51cGRhdGVUYWJsZVN0YXQoKTtcbiAgICB0aGlzLnVwZGF0ZUNvbXBsZXR1ZGUoKTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG5cbiAgY2hhbmdlVmFyaWFibGVYKGNvZGVfdmFyaWFibGUpIHtcbiAgICB0aGlzLnZhcmlhYmxlMSA9IGNvZGVfdmFyaWFibGU7XG4gICAgdGhpcy5yYW5rX3ZhcmlhYmxlMSA9IGBwcl8ke3RoaXMudmFyaWFibGUxfWA7XG4gICAgY29uc3QgdmFyX2luZm8gPSB2YXJpYWJsZXNfaW5mby5maW5kKGZ0ID0+IGZ0LnJhdGlvID09PSBjb2RlX3ZhcmlhYmxlKTtcbiAgICB0aGlzLnByZXR0eV9uYW1lMSA9IHZhcl9pbmZvLm5hbWU7XG4gICAgdGhpcy51bml0MSA9IHZhcl9pbmZvLnVuaXQ7XG4gICAgc3ZnX2NvbnRhaW5lci5zZWxlY3QoJyN0aXRsZS1heGlzLXgnKVxuICAgICAgLnRleHQoY29kZV92YXJpYWJsZSk7XG4gICAgLy8gVE9ETzogQWxzbyBjaGFuZ2UgdGhlIHBvc2l0aW9uIG9mIHRoZSBidXR0b24gYWxvd2luZyB0byBpbnZlcnNlIHRoZSBzZXJpZVxuICAgIHRoaXMudXBkYXRlSXRlbXNDdHhNZW51KCk7XG4gICAgdGhpcy5kYXRhID0gYXBwLmN1cnJlbnRfZGF0YS5maWx0ZXIoZnQgPT4gISFmdFt0aGlzLnZhcmlhYmxlMV0gJiYgISFmdFt0aGlzLnZhcmlhYmxlMl0pXG4gICAgICAubWFwKChkKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcyA9IHsgaWQ6IGQuaWQgfTtcbiAgICAgICAgcmVzW3RoaXMudmFyaWFibGUxXSA9IGRbdGhpcy52YXJpYWJsZTFdO1xuICAgICAgICByZXNbdGhpcy52YXJpYWJsZTJdID0gZFt0aGlzLnZhcmlhYmxlMl07XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgICB9KTtcbiAgICB0aGlzLmN1cnJlbnRfaWRzID0gdGhpcy5kYXRhLm1hcChkID0+IGQuaWQpO1xuICAgIHJlc2V0Q29sb3JzKCk7XG4gICAgdGhpcy5uYkZ0ID0gdGhpcy5kYXRhLmxlbmd0aDtcbiAgICBjb21wdXRlUGVyY2VudGlsZVJhbmsodGhpcy5kYXRhLCB0aGlzLnZhcmlhYmxlMSwgdGhpcy5yYW5rX3ZhcmlhYmxlMSk7XG4gICAgY29tcHV0ZVBlcmNlbnRpbGVSYW5rKHRoaXMuZGF0YSwgdGhpcy52YXJpYWJsZTIsIHRoaXMucmFua192YXJpYWJsZTIpO1xuICAgIHRoaXMucmVmX3ZhbHVlMSA9IHRoaXMuZGF0YS5maW5kKFxuICAgICAgZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVt0aGlzLnZhcmlhYmxlMV07XG4gICAgdGhpcy51cGRhdGVDb21wbGV0dWRlKCk7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICAgIHRoaXMudXBkYXRlVGFibGVTdGF0KCk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIGNoYW5nZVZhcmlhYmxlWShjb2RlX3ZhcmlhYmxlKSB7XG4gICAgdGhpcy52YXJpYWJsZTIgPSBjb2RlX3ZhcmlhYmxlO1xuICAgIHRoaXMucmFua192YXJpYWJsZTIgPSBgcHJfJHt0aGlzLnZhcmlhYmxlMn1gO1xuICAgIGNvbnN0IHZhcl9pbmZvID0gdmFyaWFibGVzX2luZm8uZmluZChmdCA9PiBmdC5yYXRpbyA9PT0gY29kZV92YXJpYWJsZSk7XG4gICAgdGhpcy5wcmV0dHlfbmFtZTIgPSB2YXJfaW5mby5uYW1lO1xuICAgIHRoaXMudW5pdDIgPSB2YXJfaW5mby51bml0O1xuICAgIHN2Z19jb250YWluZXIuc2VsZWN0KCcjdGl0bGUtYXhpcy15JylcbiAgICAgIC50ZXh0KGNvZGVfdmFyaWFibGUpO1xuICAgIC8vIFRPRE86IEFsc28gY2hhbmdlIHRoZSBwb3NpdGlvbiBvZiB0aGUgYnV0dG9uIGFsb3dpbmcgdG8gaW52ZXJzZSB0aGUgc2VyaWVcbiAgICB0aGlzLnVwZGF0ZUl0ZW1zQ3R4TWVudSgpO1xuICAgIHRoaXMuZGF0YSA9IGFwcC5jdXJyZW50X2RhdGEuZmlsdGVyKGZ0ID0+ICEhZnRbdGhpcy52YXJpYWJsZTFdICYmICEhZnRbdGhpcy52YXJpYWJsZTJdKVxuICAgICAgLm1hcCgoZCkgPT4ge1xuICAgICAgICBjb25zdCByZXMgPSB7IGlkOiBkLmlkIH07XG4gICAgICAgIHJlc1t0aGlzLnZhcmlhYmxlMV0gPSBkW3RoaXMudmFyaWFibGUxXTtcbiAgICAgICAgcmVzW3RoaXMudmFyaWFibGUyXSA9IGRbdGhpcy52YXJpYWJsZTJdO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfSk7XG4gICAgdGhpcy5jdXJyZW50X2lkcyA9IHRoaXMuZGF0YS5tYXAoZCA9PiBkLmlkKTtcbiAgICByZXNldENvbG9ycygpO1xuICAgIHRoaXMubmJGdCA9IHRoaXMuZGF0YS5sZW5ndGg7XG4gICAgY29tcHV0ZVBlcmNlbnRpbGVSYW5rKHRoaXMuZGF0YSwgdGhpcy52YXJpYWJsZTEsIHRoaXMucmFua192YXJpYWJsZTEpO1xuICAgIGNvbXB1dGVQZXJjZW50aWxlUmFuayh0aGlzLmRhdGEsIHRoaXMudmFyaWFibGUyLCB0aGlzLnJhbmtfdmFyaWFibGUyKTtcbiAgICB0aGlzLnJlZl92YWx1ZTIgPSB0aGlzLmRhdGEuZmluZChcbiAgICAgIGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbilbdGhpcy52YXJpYWJsZTJdO1xuICAgIHRoaXMudXBkYXRlQ29tcGxldHVkZSgpO1xuICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgICB0aGlzLnVwZGF0ZVRhYmxlU3RhdCgpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cblxuICB1cGRhdGVJdGVtc0N0eE1lbnUoKSB7XG4gICAgdGhpcy5pdGVtc1ggPSBhcHAuY3VycmVudF9jb25maWcucmF0aW8uZmlsdGVyKGVsZW0gPT4gZWxlbSAhPT0gdGhpcy52YXJpYWJsZTIpXG4gICAgICAubWFwKGVsZW0gPT4gKHtcbiAgICAgICAgbmFtZTogZWxlbSxcbiAgICAgICAgYWN0aW9uOiAoKSA9PiB0aGlzLmNoYW5nZVZhcmlhYmxlWChlbGVtKSxcbiAgICAgIH0pKTtcbiAgICB0aGlzLml0ZW1zWSA9IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpby5maWx0ZXIoZWxlbSA9PiBlbGVtICE9PSB0aGlzLnZhcmlhYmxlMSlcbiAgICAgIC5tYXAoZWxlbSA9PiAoe1xuICAgICAgICBuYW1lOiBlbGVtLFxuICAgICAgICBhY3Rpb246ICgpID0+IHRoaXMuY2hhbmdlVmFyaWFibGVZKGVsZW0pLFxuICAgICAgfSkpO1xuICB9XG5cbiAgYWRkVmFyaWFibGUoY29kZV92YXJpYWJsZSwgbmFtZV92YXJpYWJsZSkge1xuICAgIHRoaXMuaXRlbXNYLnB1c2goe1xuICAgICAgbmFtZTogY29kZV92YXJpYWJsZSxcbiAgICAgIGFjdGlvbjogKCkgPT4gdGhpcy5jaGFuZ2VWYXJpYWJsZVgoY29kZV92YXJpYWJsZSksXG4gICAgfSk7XG4gICAgdGhpcy5pdGVtc1kucHVzaCh7XG4gICAgICBuYW1lOiBjb2RlX3ZhcmlhYmxlLFxuICAgICAgYWN0aW9uOiAoKSA9PiB0aGlzLmNoYW5nZVZhcmlhYmxlWShjb2RlX3ZhcmlhYmxlKSxcbiAgICB9KTtcbiAgfVxuXG4gIHJlbW92ZVZhcmlhYmxlKGNvZGVfdmFyaWFibGUpIHtcbiAgICAvLyBSZW1vdmUgdGhlIHZhcmlhYmxlIGZyb20gdGhlIFggYW5kIFkgbGlzdCBvZiBpdGVtczpcbiAgICBmb3IgKGxldCBpID0gdGhpcy5pdGVtc1gubGVuZ3RoIC0gMTsgaSA+IC0xOyBpLS0pIHtcbiAgICAgIGlmICh0aGlzLml0ZW1zWFtpXS5uYW1lID09PSBjb2RlX3ZhcmlhYmxlKSB7XG4gICAgICAgIHRoaXMuaXRlbXNYLnNwbGljZShpLCAxKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSB0aGlzLml0ZW1zWS5sZW5ndGggLSAxOyBpID4gLTE7IGktLSkge1xuICAgICAgaWYgKHRoaXMuaXRlbXNZW2ldLm5hbWUgPT09IGNvZGVfdmFyaWFibGUpIHtcbiAgICAgICAgdGhpcy5pdGVtc1kuc3BsaWNlKGksIDEpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgdmFyaWFibGUgdG8gcmVtb3ZlIHdhcyBjdXJyZW50bHkgdXNlZCBmb3IgZHJhd2luZyB0aGlzIGNoYXJ0LFxuICAgIC8vIHNldCBhIG5ldyB2YXJpYWJsZSBmb3IgdGhpcyBheGlzIGFuZCByZWRyYXcgdGhlIGNoYXJ0OlxuICAgIGlmIChjb2RlX3ZhcmlhYmxlID09PSB0aGlzLnZhcmlhYmxlMSkge1xuICAgICAgY29uc3QgbmV3X3Zhcl94ID0gdGhpcy5pdGVtc1guZmlsdGVyKGZ0ID0+IGZ0Lm5hbWUgIT09IHRoaXMudmFyaWFibGUyKVswXS5uYW1lO1xuICAgICAgdGhpcy5jaGFuZ2VWYXJpYWJsZVgobmV3X3Zhcl94KTtcbiAgICB9IGVsc2UgaWYgKGNvZGVfdmFyaWFibGUgPT09IHRoaXMudmFyaWFibGUyKSB7XG4gICAgICBjb25zdCBuZXdfdmFyX3kgPSB0aGlzLml0ZW1zWS5maWx0ZXIoZnQgPT4gZnQubmFtZSAhPT0gdGhpcy52YXJpYWJsZTEpWzBdLm5hbWU7XG4gICAgICB0aGlzLmNoYW5nZVZhcmlhYmxlWShuZXdfdmFyX3kpO1xuICAgIH1cbiAgfVxuXG4gIHJlbW92ZSgpIHtcbiAgICB0aGlzLnRhYmxlX3N0YXRzLnJlbW92ZSgpO1xuICAgIHRoaXMubWFwX2VsZW0udW5iaW5kQnJ1c2hDbGljaygpO1xuICAgIHRoaXMubWFwX2VsZW0gPSBudWxsO1xuICAgIHRoaXMuY29tcGxldHVkZS5yZW1vdmUoKTtcbiAgICB0aGlzLmNvbXBsZXR1ZGUgPSBudWxsO1xuICAgIHN2Z19iYXIuaHRtbCgnJyk7XG4gIH1cblxuICBiaW5kTWFwKG1hcF9lbGVtKSB7XG4gICAgdGhpcy5tYXBfZWxlbSA9IG1hcF9lbGVtO1xuICAgIHRoaXMubWFwX2VsZW0uZGlzcGxheUxlZ2VuZCgxKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIGJpbmRNZW51KCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IG1lbnUgPSBkMy5zZWxlY3QoJyNtZW51X3NlbGVjdGlvbicpO1xuXG4gICAgbWVudS5zZWxlY3QoJyNpbmRfcmF3X3ZhbHVlcycpXG4gICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYudHlwZSA9ICd2YWx1ZSc7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIG1lbnUuc2VsZWN0KCcjaW5kX3JhbmtzJylcbiAgICAgICAgICAuYXR0cignY2xhc3MnLCAnY2hvaWNlX2luZCcpO1xuICAgICAgICAvLyBzZWxmLmdfYmFyLnNlbGVjdEFsbCgnZycpLnJlbW92ZSgpO1xuICAgICAgICBzZWxmLnVwZGF0ZSgpO1xuICAgICAgfSk7XG5cbiAgICBtZW51LnNlbGVjdCgnI2luZF9yYW5rcycpXG4gICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYudHlwZSA9ICdyYW5rJztcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgbWVudS5zZWxlY3QoJyNpbmRfcmF3X3ZhbHVlcycpXG4gICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2Nob2ljZV9pbmQnKTtcbiAgICAgICAgLy8gc2VsZi5nX2Jhci5zZWxlY3RBbGwoJ3JlY3QnKS5yZW1vdmUoKTtcbiAgICAgICAgc2VsZi51cGRhdGUoKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgcHJlcGFyZVRhYmxlU3RhdCgpIHtcbiAgICBjb25zdCB2YWx1ZXMxID0gdGhpcy5kYXRhLm1hcChkID0+IGRbdGhpcy52YXJpYWJsZTFdKTtcbiAgICBjb25zdCB2YWx1ZXMyID0gdGhpcy5kYXRhLm1hcChkID0+IGRbdGhpcy52YXJpYWJsZTJdKTtcbiAgICBjb25zdCBmZWF0dXJlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgTWluOiBkMy5taW4odmFsdWVzMSksXG4gICAgICAgIE1heDogZDMubWF4KHZhbHVlczEpLFxuICAgICAgICBNb3llbm5lOiBnZXRNZWFuKHZhbHVlczEpLFxuICAgICAgICBpZDogdGhpcy52YXJpYWJsZTEsXG4gICAgICAgIFZhcmlhYmxlOiB0aGlzLnZhcmlhYmxlMSxcbiAgICAgICAgJ01hIHLDqWdpb24nOiB0aGlzLnJlZl92YWx1ZTEsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBNaW46IGQzLm1pbih2YWx1ZXMyKSxcbiAgICAgICAgTWF4OiBkMy5tYXgodmFsdWVzMiksXG4gICAgICAgIE1veWVubmU6IGdldE1lYW4odmFsdWVzMiksXG4gICAgICAgIGlkOiB0aGlzLnZhcmlhYmxlMixcbiAgICAgICAgVmFyaWFibGU6IHRoaXMudmFyaWFibGUyLFxuICAgICAgICAnTWEgcsOpZ2lvbic6IHRoaXMucmVmX3ZhbHVlMixcbiAgICAgIH1dO1xuICAgIHJldHVybiBmZWF0dXJlcztcbiAgfVxuXG4gIHVwZGF0ZVRhYmxlU3RhdCgpIHtcbiAgICB0aGlzLnRhYmxlX3N0YXRzLnJlbW92ZUFsbCgpO1xuICAgIHRoaXMudGFibGVfc3RhdHMuYWRkRmVhdHVyZXModGhpcy5wcmVwYXJlVGFibGVTdGF0KCkpO1xuICB9XG5cbiAgbWFrZVRhYmxlU3RhdCgpIHtcbiAgICBjb25zdCBmZWF0dXJlcyA9IHRoaXMucHJlcGFyZVRhYmxlU3RhdCgpO1xuICAgIHRoaXMudGFibGVfc3RhdHMgPSBuZXcgVGFibGVSZXN1bWVTdGF0KGZlYXR1cmVzKTtcbiAgfVxuXG59XG4iLCJpbXBvcnQge1xuICBtYXRoX21heCwgbWF0aF9zaW4sIG1hdGhfY29zLCBIQUxGX1BJLCBjb21wdXRlUGVyY2VudGlsZVJhbmssIGdldE1lYW4gfSBmcm9tICcuLy4uL2hlbHBlcnMnO1xuaW1wb3J0IHsgY29sb3JfZGlzYWJsZWQsIGNvbG9yX2NvdW50cmllcywgY29sb3JfaGlnaGxpZ2h0LCBjb2xvcl9kZWZhdWx0X2Rpc3NpbSB9IGZyb20gJy4vLi4vb3B0aW9ucyc7XG5pbXBvcnQgeyBjYWxjUG9wQ29tcGxldHVkZVN1YnNldCwgY2FsY0NvbXBsZXR1ZGVTdWJzZXQgfSBmcm9tICcuLy4uL3ByZXBhcmVfZGF0YSc7XG5pbXBvcnQgeyBhcHAsIHZhcmlhYmxlc19pbmZvIH0gZnJvbSAnLi8uLi8uLi9tYWluJztcbmltcG9ydCBDb21wbGV0dWRlU2VjdGlvbiBmcm9tICcuLy4uL2NvbXBsZXR1ZGUnO1xuaW1wb3J0IFRhYmxlUmVzdW1lU3RhdCBmcm9tICcuLy4uL3RhYmxlUmVzdW1lU3RhdCc7XG5cblxubGV0IHN2Z19iYXIsIG1hcmdpbiwgYmJveF9zdmcsIHdpZHRoLCBoZWlnaHQ7XG5cbmNvbnN0IHVwZGF0ZURpbWVuc2lvbnMgPSAoKSA9PiB7XG4gIHN2Z19iYXIgPSBkMy5zZWxlY3QoJyNzdmdfYmFyJyk7XG4gIG1hcmdpbiA9IHsgdG9wOiA3MCwgcmlnaHQ6IDcwLCBib3R0b206IDgwLCBsZWZ0OiA3MCB9O1xuICBiYm94X3N2ZyA9IHN2Z19iYXIubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICB3aWR0aCA9ICtiYm94X3N2Zy53aWR0aCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0O1xuICBoZWlnaHQgPSA1MDAgKiBhcHAucmF0aW9Ub1dpZGUgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcbiAgc3ZnX2Jhci5hdHRyKCdoZWlnaHQnLCBgJHs1MDAgKiBhcHAucmF0aW9Ub1dpZGV9cHhgKTtcbiAgc3ZnX2JhciA9IHN2Z19iYXIuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnY29udGFpbmVyJyk7XG59O1xuXG5jb25zdCB3cmFwID0gKF90ZXh0LCBfd2lkdGgpID0+IHtcbiAgX3RleHQuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgdGV4dCA9IGQzLnNlbGVjdCh0aGlzKSxcbiAgICAgIHdvcmRzID0gdGV4dC50ZXh0KCkuc3BsaXQoL1xccysvKS5yZXZlcnNlKCksXG4gICAgICBsaW5lSGVpZ2h0ID0gMS40LFxuICAgICAgeCA9ICt0ZXh0LmF0dHIoJ3gnKSxcbiAgICAgIGR5ID0gcGFyc2VGbG9hdCh0ZXh0LmF0dHIoJ2R5JykpOyAvLyBlbXNcbiAgICBsZXQgeSA9ICt0ZXh0LmF0dHIoJ3knKTtcbiAgICBsZXQgbGluZSA9IFtdO1xuICAgIGxldCBsaW5lTnVtYmVyID0gMDtcbiAgICBpZiAoeSA+IGhlaWdodCAvIDIgLSAzNSkge1xuICAgICAgeSAtPSA0MDtcbiAgICB9XG4gICAgbGV0IHRzcGFuID0gdGV4dC50ZXh0KG51bGwpXG4gICAgICAuYXBwZW5kKCd0c3BhbicpXG4gICAgICAuYXR0cigneCcsIHgpXG4gICAgICAuYXR0cigneScsIHkpXG4gICAgICAuYXR0cignZHknLCBgJHtkeX1lbWApO1xuICAgIGxldCB3b3JkID0gd29yZHMucG9wKCk7XG4gICAgd2hpbGUgKHdvcmQpIHtcbiAgICAgIGxpbmUucHVzaCh3b3JkKTtcbiAgICAgIHRzcGFuLnRleHQobGluZS5qb2luKCcgJykpO1xuICAgICAgaWYgKHRzcGFuLm5vZGUoKS5nZXRDb21wdXRlZFRleHRMZW5ndGgoKSA+IF93aWR0aCkge1xuICAgICAgICBsaW5lLnBvcCgpO1xuICAgICAgICB0c3Bhbi50ZXh0KGxpbmUuam9pbignICcpKTtcbiAgICAgICAgbGluZSA9IFt3b3JkXTtcbiAgICAgICAgdHNwYW4gPSB0ZXh0LmFwcGVuZCgndHNwYW4nKVxuICAgICAgICAgIC5hdHRyKCd4JywgeClcbiAgICAgICAgICAuYXR0cigneScsIHkpXG4gICAgICAgICAgLmF0dHIoJ2R5JywgYCR7KytsaW5lTnVtYmVyICogbGluZUhlaWdodCArIGR5fWVtYClcbiAgICAgICAgICAudGV4dCh3b3JkKTtcbiAgICAgIH1cbiAgICAgIHdvcmQgPSB3b3Jkcy5wb3AoKTtcbiAgICB9XG4gIH0pO1xufTtcblxuY29uc3QgbW92ZSA9IGZ1bmN0aW9uIG1vdmUoYXJyYXksIGZyb20sIHRvKSB7XG4gIGFycmF5LnNwbGljZSh0bywgMCwgYXJyYXkuc3BsaWNlKGZyb20sIDEpWzBdKTtcbiAgcmV0dXJuIGFycmF5O1xufTtcblxuY29uc3Qgc3dhcCA9IGZ1bmN0aW9uIHN3YXAoYXJyYXksIGl4MSwgaXgyKSB7XG4gIFthcnJheVtpeDFdLCBhcnJheVtpeDJdXSA9IFthcnJheVtpeDJdLCBhcnJheVtpeDFdXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICByZXR1cm4gYXJyYXk7XG59O1xuXG5leHBvcnQgY29uc3QgcHJlcGFyZV9kYXRhX3JhZGFyX2RlZmF1bHQgPSAoZGF0YSwgdmFyaWFibGVzKSA9PiB7XG4gIC8vIFByZXBhcmUgdGhlIGRhdGEgZm9yIFwiTXkgUsOpZ2lvblwiOlxuICBjb25zdCB2X215X3JlZ2lvbiA9IGRhdGEuZmluZChkID0+IGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pO1xuICBjb25zdCBvamJfbXlfcmVnaW9uID0ge1xuICAgIG5hbWU6IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24sXG4gICAgYXhlczogW10sXG4gIH07XG4gIHZhcmlhYmxlcy5mb3JFYWNoKCh2KSA9PiB7XG4gICAgY29uc3QgdCA9IHZhcmlhYmxlc19pbmZvLmZpbmQoZCA9PiBkLnJhdGlvID09PSB2KS5uYW1lO1xuICAgIGNvbnN0IF92ID0gYHByXyR7dn1gO1xuICAgIG9qYl9teV9yZWdpb24uYXhlcy5wdXNoKHtcbiAgICAgIGF4aXM6IHQsIHZhbHVlOiB2X215X3JlZ2lvbltfdl0sXG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gb2piX215X3JlZ2lvbjtcbn07XG5cbmV4cG9ydCBjb25zdCBwcmVwYXJlX2RhdGFfcmFkYXJfZnQgPSAoZGF0YSwgdmFyaWFibGVzLCBmdCkgPT4ge1xuICBjb25zdCBmdF92YWx1ZXMgPSBkYXRhLmZpbmQoZCA9PiBkLmlkID09PSBmdCk7XG4gIGlmICghZnRfdmFsdWVzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3Qgb2JqID0ge1xuICAgIG5hbWU6IGZ0LFxuICAgIGF4ZXM6IFtdLFxuICB9O1xuICB2YXJpYWJsZXMuZm9yRWFjaCgodikgPT4ge1xuICAgIGNvbnN0IHQgPSB2YXJpYWJsZXNfaW5mby5maW5kKGQgPT4gZC5yYXRpbyA9PT0gdikubmFtZTtcbiAgICBjb25zdCBfdiA9IGBwcl8ke3Z9YDtcbiAgICBvYmouYXhlcy5wdXNoKHtcbiAgICAgIGF4aXM6IHQsIHZhbHVlOiBmdF92YWx1ZXNbX3ZdLFxuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIG9iajtcbn07XG5cbmV4cG9ydCBjbGFzcyBSYWRhckNoYXJ0MyB7XG4gIGNvbnN0cnVjdG9yKGRhdGEsIG9wdGlvbnMpIHtcbiAgICB1cGRhdGVEaW1lbnNpb25zKCk7XG4gICAgY29uc3QgY2ZnID0ge1xuICAgICAgdzogd2lkdGggLSAyMCwgLy8gV2lkdGggb2YgdGhlIGNpcmNsZVxuICAgICAgaDogaGVpZ2h0IC0gMjAsIC8vIEhlaWdodCBvZiB0aGUgY2lyY2xlXG4gICAgICBtYXJnaW46IG1hcmdpbiwgLy8gVGhlIG1hcmdpbnMgb2YgdGhlIFNWR1xuICAgICAgbGV2ZWxzOiAxMCwgLy8gSG93IG1hbnkgbGV2ZWxzIG9yIGlubmVyIGNpcmNsZXMgc2hvdWxkIHRoZXJlIGJlIGRyYXduXG4gICAgICBtYXhWYWx1ZTogMTAwLCAvLyBXaGF0IGlzIHRoZSB2YWx1ZSB0aGF0IHRoZSBiaWdnZXN0IGNpcmNsZSB3aWxsIHJlcHJlc2VudFxuICAgICAgbGFiZWxGYWN0b3I6IDEuMywgLy8gSG93IG11Y2ggZmFydGhlciB0aGFuIHRoZSByYWRpdXMgb2YgdGhlIG91dGVyIGNpcmNsZSBzaG91bGQgdGhlIGxhYmVscyBiZSBwbGFjZWRcbiAgICAgIHdyYXBXaWR0aDogOTUsIC8vIFRoZSBudW1iZXIgb2YgcGl4ZWxzIGFmdGVyIHdoaWNoIGEgbGFiZWwgbmVlZHMgdG8gYmUgZ2l2ZW4gYSBuZXcgbGluZVxuICAgICAgb3BhY2l0eUFyZWE6IDAuMTAsIC8vIFRoZSBvcGFjaXR5IG9mIHRoZSBhcmVhIG9mIHRoZSBibG9iXG4gICAgICBkb3RSYWRpdXM6IDQsIC8vIFRoZSBzaXplIG9mIHRoZSBjb2xvcmVkIGNpcmNsZXMgb2YgZWFjaCBibG9nXG4gICAgICBvcGFjaXR5Q2lyY2xlczogMC4xLCAvLyBUaGUgb3BhY2l0eSBvZiB0aGUgY2lyY2xlcyBvZiBlYWNoIGJsb2JcbiAgICAgIHN0cm9rZVdpZHRoOiAyLCAvLyBUaGUgd2lkdGggb2YgdGhlIHN0cm9rZSBhcm91bmQgZWFjaCBibG9iXG4gICAgICByb3VuZFN0cm9rZXM6IHRydWUsIC8vIElmIHRydWUgdGhlIGFyZWEgYW5kIHN0cm9rZSB3aWxsIGZvbGxvdyBhIHJvdW5kIHBhdGggKGNhcmRpbmFsLWNsb3NlZClcbiAgICAgIGNvbG9yOiBkMy5zY2FsZU9yZGluYWwoZDMuc2NoZW1lQ2F0ZWdvcnkxMCksIC8vIENvbG9yIGZ1bmN0aW9uLFxuICAgICAgZm9ybWF0OiAnLjInLCAvLyBUaGUgZm9ybWF0IHN0cmluZyB0byBiZSB1c2VkIGJ5IGQzLmZvcm1hdFxuICAgICAgdW5pdDogJyUnLCAvLyBUaGUgdW5pdCB0byBkaXNwbGF5IGFmdGVyIHRoZSBudW1iZXIgb24gdGhlIGF4aXMgYW5kIHBvaW50IHRvb2x0aXBzIChsaWtlICQsIOKCrCwgJSwgZXRjKVxuICAgICAgbGVnZW5kOiBmYWxzZSxcbiAgICAgIGFsbG93SW52ZXJzZURhdGE6IHRydWUsXG4gICAgfTtcbiAgICB0aGlzLmNmZyA9IGNmZztcbiAgICAvLyBQdXQgYWxsIG9mIHRoZSBvcHRpb25zIGludG8gYSB2YXJpYWJsZSBjYWxsZWQgY2ZnXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc3Qgb3B0c19rZXkgPSBPYmplY3Qua2V5cyhvcHRpb25zKTtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBsZW5faSA9IG9wdHNfa2V5Lmxlbmd0aDsgaSA8IGxlbl9pOyBpKyspIHtcbiAgICAgICAgY29uc3QgayA9IG9wdHNfa2V5W2ldO1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnNba10gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgY2ZnW2tdID0gb3B0aW9uc1trXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZyA9IHN2Z19iYXIuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdpZCcsICdSYWRhckdycCcpXG4gICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke2NmZy53IC8gMiArIGNmZy5tYXJnaW4ubGVmdH0sJHtjZmcuaCAvIDIgKyBjZmcubWFyZ2luLnRvcH0pYCk7XG5cbiAgICB0aGlzLnByZXBhcmVEYXRhKGRhdGEpO1xuICAgIHRoaXMuZHJhd0F4aXNHcmlkKCk7XG4gICAgdGhpcy5kcmF3QXJlYSgpO1xuICAgIHRoaXMuaGFuZGxlTGVnZW5kKCk7XG5cbiAgICB0aGlzLmNvbXBsZXR1ZGUgPSBuZXcgQ29tcGxldHVkZVNlY3Rpb24oXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWFwX3NlY3Rpb24nKSxcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzdmdfbWFwJykpO1xuICAgIC8vIENvbXB1dGUgdGhlIFwiY29tcGzDqXR1ZGVcIiB2YWx1ZSBmb3IgdGhlc2UgcmF0aW9zOlxuICAgIHRoaXMuY29tcGxldHVkZS51cGRhdGUoXG4gICAgICBjYWxjQ29tcGxldHVkZVN1YnNldChhcHAsIHRoaXMudmFyaWFibGVzLCAnYXJyYXknKSxcbiAgICAgIGNhbGNQb3BDb21wbGV0dWRlU3Vic2V0KGFwcCwgdGhpcy52YXJpYWJsZXMpKTtcbiAgICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgIGlmIChjZmcuYWxsb3dJbnZlcnNlRGF0YSkge1xuICAgICAgdGhpcy5pbnZlcnNlX2RhdGEgPSAoZmllbGQpID0+IHtcbiAgICAgICAgY29uc3QgZGF0YV9sZW5ndGggPSB0aGlzLmRhdGEubGVuZ3RoO1xuICAgICAgICBpZiAoIWZpZWxkKSB7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhX2xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBheCA9IHRoaXMuZGF0YVtpXS5heGVzO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBheC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICBheFtqXS52YWx1ZSA9IDEwMCAtIGF4W2pdLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGFfbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF4ID0gdGhpcy5kYXRhW2ldLmF4ZXM7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGF4Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgIGlmIChheFtqXS5heGlzID09PSBmaWVsZCkge1xuICAgICAgICAgICAgICAgIGF4W2pdLnZhbHVlID0gMTAwIC0gYXhbal0udmFsdWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgIH07XG4gICAgfVxuICAgIHRoaXMubWFrZVRhYmxlU3RhdCgpO1xuICB9XG5cbiAgYWRkX2VsZW1lbnQoZWxlbSkge1xuICAgIGNvbnN0IG5fYXhpcyA9IGVsZW0uYXhlcy5tYXAoaSA9PiBpLmF4aXMpO1xuICAgIGlmICghKEpTT04uc3RyaW5naWZ5KG5fYXhpcykgPT09IEpTT04uc3RyaW5naWZ5KHRoaXMuYWxsQXhpcykpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIGVsZW1lbnQgd2l0aCBzYW1lIGF4ZXMgbmFtZSB0aGFuIGV4aXN0aW5nIGRhdGEuJyk7XG4gICAgfVxuICAgIHRoaXMuZGF0YS5wdXNoKGVsZW0pO1xuICAgIHRoaXMuZGlzcGxheWVkX2lkcy5wdXNoKGVsZW0ubmFtZSk7XG4gICAgYXBwLmNvbG9ycyA9IHt9XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmRhdGEubGVuZ3RoOyBqKyspIHtcbiAgICAgIGNvbnN0IG9uX2F4ZXMgPSBbXTtcbiAgICAgIGlmICh0aGlzLmlkX215X3JlZ2lvbiA9PT0gdGhpcy5kYXRhW2pdLm5hbWUpIGFwcC5jb2xvcnNbdGhpcy5kYXRhW2pdLm5hbWVdID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgICAgZWxzZSBhcHAuY29sb3JzW3RoaXMuZGF0YVtqXS5uYW1lXSA9IHRoaXMuY2ZnLmNvbG9yKGogKyAxKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kYXRhW2pdLmF4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5kYXRhW2pdLmF4ZXNbaV0uaWQgPSB0aGlzLmRhdGFbal0ubmFtZTtcbiAgICAgICAgb25fYXhlcy5wdXNoKHRoaXMuZGF0YVtqXS5uYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgY2ZnID0gdGhpcy5jZmc7XG5cbiAgICBjb25zdCBibG9iV3JhcHBlciA9IHRoaXMuZ1xuICAgICAgLmluc2VydCgnZycsICcucmFkYXJDaXJjbGVXcmFwcGVyJylcbiAgICAgIC5hdHRyKCdpZCcsIGVsZW0ubmFtZS5pbmRleE9mKCcgJykgPiAtMSA/ICdjdHgnIDogZWxlbS5uYW1lKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ3JhZGFyV3JhcHBlcicpO1xuXG4gICAgLy8gQXBwZW5kIHRoZSBiYWNrZ3JvdW5kc1xuICAgIGJsb2JXcmFwcGVyXG4gICAgICAuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdyYWRhckFyZWEnKVxuICAgICAgLmF0dHIoJ2QnLCB0aGlzLnJhZGFyTGluZShlbGVtLmF4ZXMpKVxuICAgICAgLnN0eWxlKCdmaWxsJywgYXBwLmNvbG9yc1tlbGVtLm5hbWVdKVxuICAgICAgLnN0eWxlKCdmaWxsLW9wYWNpdHknLCBjZmcub3BhY2l0eUFyZWEpXG4gICAgICAub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gRGltIGFsbCBibG9ic1xuICAgICAgICBzZWxmLmcuc2VsZWN0QWxsKCcucmFkYXJBcmVhJylcbiAgICAgICAgICAudHJhbnNpdGlvbigpLmR1cmF0aW9uKDIwMClcbiAgICAgICAgICAuc3R5bGUoJ2ZpbGwtb3BhY2l0eScsIDApO1xuICAgICAgICAvLyBCcmluZyBiYWNrIHRoZSBob3ZlcmVkIG92ZXIgYmxvYlxuICAgICAgICBkMy5zZWxlY3QodGhpcylcbiAgICAgICAgICAudHJhbnNpdGlvbigpLmR1cmF0aW9uKDIwMClcbiAgICAgICAgICAuc3R5bGUoJ2ZpbGwtb3BhY2l0eScsIDAuMyk7XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZW91dCcsICgpID0+IHtcbiAgICAgICAgLy8gQnJpbmcgYmFjayBhbGwgYmxvYnNcbiAgICAgICAgc2VsZi5nLnNlbGVjdEFsbCgnLnJhZGFyQXJlYScpXG4gICAgICAgICAgLnRyYW5zaXRpb24oKS5kdXJhdGlvbigyMDApXG4gICAgICAgICAgLnN0eWxlKCdmaWxsLW9wYWNpdHknLCBjZmcub3BhY2l0eUFyZWEpO1xuICAgICAgfSk7XG4gICAgICAvLyAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgLy8gICBjb25zdCBwID0gdGhpcy5wYXJlbnRFbGVtZW50O1xuICAgICAgLy8gICBpZiAocC5wcmV2aW91c1NpYmxpbmcuY2xhc3NOYW1lICE9PSAndG9vbHRpcCcpIHtcbiAgICAgIC8vICAgICBjb25zdCBncm91cCA9IGcubm9kZSgpO1xuICAgICAgLy8gICAgIGdyb3VwLmluc2VydEJlZm9yZShwLCBncm91cC5xdWVyeVNlbGVjdG9yKCcudG9vbHRpcCcpKTtcbiAgICAgIC8vICAgICBjb25zdCBuZXdfb3JkZXIgPSBbXTtcbiAgICAgIC8vICAgICBnLnNlbGVjdEFsbCgnLnJhZGFyV3JhcHBlcicpLmVhY2goZCA9PiBuZXdfb3JkZXIucHVzaChkLm5hbWUpKTtcbiAgICAgIC8vICAgICBuZXdfb3JkZXIucmV2ZXJzZSgpO1xuICAgICAgLy8gICAgIHVwZGF0ZUxlZ2VuZChuZXdfb3JkZXIpO1xuICAgICAgLy8gICB9XG4gICAgICAvLyB9KTtcblxuICAgIC8vIENyZWF0ZSB0aGUgb3V0bGluZXNcbiAgICBibG9iV3JhcHBlci5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ3JhZGFyU3Ryb2tlJylcbiAgICAgIC5hdHRyKCdkJywgdGhpcy5yYWRhckxpbmUoZWxlbS5heGVzKSlcbiAgICAgIC5zdHlsZSgnc3Ryb2tlLXdpZHRoJywgYCR7Y2ZnLnN0cm9rZVdpZHRofXB4YClcbiAgICAgIC5zdHlsZSgnc3Ryb2tlJywgYXBwLmNvbG9yc1tlbGVtLm5hbWVdKVxuICAgICAgLnN0eWxlKCdmaWxsJywgJ25vbmUnKVxuICAgICAgLnN0eWxlKCdmaWx0ZXInLCAndXJsKCNnbG93KScpO1xuXG4gICAgLy8gQXBwZW5kIHRoZSBjaXJjbGVzXG4gICAgYmxvYldyYXBwZXIuc2VsZWN0QWxsKCcucmFkYXJDaXJjbGUnKVxuICAgICAgLmRhdGEoZWxlbS5heGVzKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ2NpcmNsZScpXG4gICAgICAuYXR0cignY2xhc3MnLCAncmFkYXJDaXJjbGUnKVxuICAgICAgLmF0dHIoJ3InLCBjZmcuZG90UmFkaXVzKVxuICAgICAgLmF0dHIoJ2N4JywgKGQsIGkpID0+IHRoaXMuclNjYWxlKGQudmFsdWUpICogbWF0aF9jb3ModGhpcy5hbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpKVxuICAgICAgLmF0dHIoJ2N5JywgKGQsIGkpID0+IHRoaXMuclNjYWxlKGQudmFsdWUpICogbWF0aF9zaW4odGhpcy5hbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpKVxuICAgICAgLnN0eWxlKCdmaWxsJywgYXBwLmNvbG9yc1tlbGVtLm5hbWVdKVxuICAgICAgLnN0eWxlKCdmaWxsLW9wYWNpdHknLCAwLjgpO1xuXG4gICAgYmxvYldyYXBwZXIubm9kZSgpLl9fZGF0YV9fID0gZWxlbTtcblxuICAgIC8vIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyAvLy8vLy8gQXBwZW5kIGludmlzaWJsZSBjaXJjbGVzIGZvciB0b29sdGlwIC8vLy8vLy8vLy8vXG4gICAgLy8gLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgLy8gV3JhcHBlciBmb3IgdGhlIGludmlzaWJsZSBjaXJjbGVzIG9uIHRvcFxuICAgIGNvbnN0IGJsb2JDaXJjbGVXcmFwcGVyID0gdGhpcy5nXG4gICAgICAuaW5zZXJ0KCdnJywgJy50b29sdGlwJylcbiAgICAgIC5hdHRyKCdpZCcsIGVsZW0ubmFtZS5pbmRleE9mKCcgJykgPiAtMSA/ICdjdHgnIDogZWxlbS5uYW1lKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ3JhZGFyQ2lyY2xlV3JhcHBlcicpO1xuXG4gICAgYmxvYkNpcmNsZVdyYXBwZXIubm9kZSgpLl9fZGF0YV9fID0gZWxlbTtcblxuICAgIC8vIEFwcGVuZCBhIHNldCBvZiBpbnZpc2libGUgY2lyY2xlcyBvbiB0b3AgZm9yIHRoZSBtb3VzZW92ZXIgcG9wLXVwXG4gICAgYmxvYkNpcmNsZVdyYXBwZXIuc2VsZWN0QWxsKCcucmFkYXJJbnZpc2libGVDaXJjbGUnKVxuICAgICAgLmRhdGEoZWxlbS5heGVzKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ2NpcmNsZScpXG4gICAgICAuYXR0cignY2xhc3MnLCAncmFkYXJJbnZpc2libGVDaXJjbGUnKVxuICAgICAgLmF0dHIoJ3InLCBjZmcuZG90UmFkaXVzICogMS41KVxuICAgICAgLmF0dHIoJ2N4JywgKGQsIGkpID0+IHRoaXMuclNjYWxlKGQudmFsdWUpICogbWF0aF9jb3ModGhpcy5hbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpKVxuICAgICAgLmF0dHIoJ2N5JywgKGQsIGkpID0+IHRoaXMuclNjYWxlKGQudmFsdWUpICogbWF0aF9zaW4odGhpcy5hbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpKVxuICAgICAgLnN0eWxlKCdmaWxsJywgJ25vbmUnKVxuICAgICAgLnN0eWxlKCdwb2ludGVyLWV2ZW50cycsICdhbGwnKVxuICAgICAgLm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICBzZWxmLmcuc2VsZWN0KCcudG9vbHRpcCcpXG4gICAgICAgICAgLmF0dHIoJ3gnLCB0aGlzLmN4LmJhc2VWYWwudmFsdWUgLSAxMClcbiAgICAgICAgICAuYXR0cigneScsIHRoaXMuY3kuYmFzZVZhbC52YWx1ZSAtIDEwKVxuICAgICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCAnYmxvY2snKVxuICAgICAgICAgIC50ZXh0KHNlbGYuRm9ybWF0KGQudmFsdWUpICsgY2ZnLnVuaXQpO1xuICAgICAgfSlcbiAgICAgIC5vbignbW91c2VvdXQnLCAoKSA9PiB7XG4gICAgICAgIHNlbGYuZy5zZWxlY3QoJy50b29sdGlwJykudHJhbnNpdGlvbigpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKS50ZXh0KCcnKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgY2hhbmdlT3JkZXIoKSB7XG4gICAgdGhpcy5kYXRhID0gdGhpcy5kYXRhLnNsaWNlKDEsIHRoaXMuZGF0YS5sZW5ndGgpLmNvbmNhdCh0aGlzLmRhdGEuc2xpY2UoMCwgMSkpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cblxuICBwcmVwYXJlRGF0YShkYXRhKSB7XG4gICAgLy8gU2V0IHRoZSBtaW5pbXVtIG51bWJlciBvZiB2YXJpYWJsZXMgdG8ga2VlcCBzZWxlY3RlZCBmb3IgdGhpcyBraW5kIG9mIGNoYXJ0OlxuICAgIGFwcC5jdXJyZW50X2NvbmZpZy5uYl92YXIgPSAzO1xuICAgIHRoaXMudmFyaWFibGVzID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvO1xuICAgIHRoaXMucmVmX2RhdGEgPSBkYXRhLnNsaWNlKCkuZmlsdGVyKFxuICAgICAgZnQgPT4gdGhpcy52YXJpYWJsZXMubWFwKHYgPT4gISFmdFt2XSkuZXZlcnkoZCA9PiBkID09PSB0cnVlKSk7XG4gICAgdGhpcy5yYW5rX3ZhcmlhYmxlcyA9IHRoaXMudmFyaWFibGVzLm1hcChkID0+IGBwcl8ke2R9YCk7XG4gICAgdGhpcy52YXJpYWJsZXMuZm9yRWFjaCgoZCwgaSkgPT4ge1xuICAgICAgY29tcHV0ZVBlcmNlbnRpbGVSYW5rKHRoaXMucmVmX2RhdGEsIGQsIHRoaXMucmFua192YXJpYWJsZXNbaV0pO1xuICAgIH0pO1xuICAgIHRoaXMuZGF0YSA9IFtwcmVwYXJlX2RhdGFfcmFkYXJfZGVmYXVsdCh0aGlzLnJlZl9kYXRhLCB0aGlzLnZhcmlhYmxlcyldO1xuICAgIHRoaXMuZGlzcGxheWVkX2lkcyA9IHRoaXMuZGF0YS5tYXAoZCA9PiBkLm5hbWUpO1xuICAgIHRoaXMuY3VycmVudF9pZHMgPSB0aGlzLnJlZl9kYXRhLm1hcChkID0+IGQuaWQpO1xuICAgIHRoaXMuaWRfbXlfcmVnaW9uID0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbjtcblxuICAgIC8vIElmIHRoZSBzdXBwbGllZCBtYXhWYWx1ZSBpcyBzbWFsbGVyIHRoYW4gdGhlIGFjdHVhbCBvbmUsIHJlcGxhY2UgYnkgdGhlIG1heCBpbiB0aGUgZGF0YVxuICAgIGxldCBtYXhWYWx1ZSA9IDA7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmRhdGEubGVuZ3RoOyBqKyspIHtcbiAgICAgIGlmICh0aGlzLmlkX215X3JlZ2lvbiA9PT0gdGhpcy5kYXRhW2pdLm5hbWUpIGFwcC5jb2xvcnNbdGhpcy5kYXRhW2pdLm5hbWVdID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgICAgZWxzZSBhcHAuY29sb3JzW3RoaXMuZGF0YVtqXS5uYW1lXSA9IHRoaXMuY2ZnLmNvbG9yKGogKyAxKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kYXRhW2pdLmF4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5kYXRhW2pdLmF4ZXNbaV0uaWQgPSB0aGlzLmRhdGFbal0ubmFtZTtcbiAgICAgICAgaWYgKHRoaXMuZGF0YVtqXS5heGVzW2ldLnZhbHVlID4gbWF4VmFsdWUpIHtcbiAgICAgICAgICBtYXhWYWx1ZSA9IHRoaXMuZGF0YVtqXS5heGVzW2ldLnZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5tYXhWYWx1ZSA9IG1hdGhfbWF4KHRoaXMuY2ZnLm1heFZhbHVlLCBtYXhWYWx1ZSk7XG4gICAgdGhpcy5hbGxBeGlzID0gdGhpcy5kYXRhWzBdLmF4ZXMubWFwKGkgPT4gaS5heGlzKTsgLy8gTmFtZXMgb2YgZWFjaCBheGlzXG4gICAgdGhpcy50b3RhbCA9IHRoaXMuYWxsQXhpcy5sZW5ndGg7IC8vIFRoZSBudW1iZXIgb2YgZGlmZmVyZW50IGF4ZXNcbiAgICB0aGlzLnJhZGl1cyA9IE1hdGgubWluKHRoaXMuY2ZnLncgLyAyLCB0aGlzLmNmZy5oIC8gMik7IC8vIFJhZGl1cyBvZiB0aGUgb3V0ZXJtb3N0IGNpcmNsZVxuICAgIHRoaXMuRm9ybWF0ID0gZDMuZm9ybWF0KHRoaXMuY2ZnLmZvcm1hdCk7IC8vIEZvcm1hdHRpbmdcbiAgICB0aGlzLmFuZ2xlU2xpY2UgPSBNYXRoLlBJICogMiAvIHRoaXMudG90YWw7IC8vIFRoZSB3aWR0aCBpbiByYWRpYW5zIG9mIGVhY2ggXCJzbGljZVwiXG4gICAgLy8gU2NhbGUgZm9yIHRoZSByYWRpdXNcbiAgICB0aGlzLnJTY2FsZSA9IGQzLnNjYWxlTGluZWFyKClcbiAgICAgIC5yYW5nZShbMCwgdGhpcy5yYWRpdXNdKVxuICAgICAgLmRvbWFpbihbMCwgdGhpcy5tYXhWYWx1ZV0pO1xuICAgIC8vIFRoZSByYWRpYWwgbGluZSBmdW5jdGlvblxuICAgIHRoaXMucmFkYXJMaW5lID0gZDMucmFkaWFsTGluZSgpXG4gICAgICAuY3VydmUodGhpcy5jZmcucm91bmRTdHJva2VzID8gZDMuY3VydmVDYXJkaW5hbENsb3NlZCA6IGQzLmN1cnZlTGluZWFyQ2xvc2VkKVxuICAgICAgLnJhZGl1cyhkID0+IHRoaXMuclNjYWxlKGQudmFsdWUpKVxuICAgICAgLmFuZ2xlKChkLCBpKSA9PiBpICogdGhpcy5hbmdsZVNsaWNlKTtcbiAgfVxuXG4gIGRyYXdBeGlzR3JpZCgpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBjZmcgPSB0aGlzLmNmZztcbiAgICBjb25zdCBnID0gdGhpcy5nO1xuICAgIGNvbnN0IHJhZGl1cyA9IHRoaXMucmFkaXVzO1xuICAgIGNvbnN0IG1heFZhbHVlID0gdGhpcy5tYXhWYWx1ZTtcbiAgICBjb25zdCByU2NhbGUgPSB0aGlzLnJTY2FsZTtcbiAgICBjb25zdCBhbmdsZVNsaWNlID0gdGhpcy5hbmdsZVNsaWNlO1xuXG4gICAgY29uc3QgbGFiZWxDbGlja2VkID0gZnVuY3Rpb24gbGFiZWxDbGlja2VkKCkge1xuICAgICAgY29uc3QgaXggPSArdGhpcy5pZDtcbiAgICAgIGlmIChpeCArIDEgPT09IHNlbGYuYWxsQXhpcy5sZW5ndGgpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxmLmRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBzd2FwKHNlbGYuZGF0YVtpXS5heGVzLCBpeCwgMCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG5ld19peCA9IGl4ICsgMTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxmLmRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBtb3ZlKHNlbGYuZGF0YVtpXS5heGVzLCBpeCwgbmV3X2l4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc2VsZi51cGRhdGUoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgbGFiZWxDdHhNZW51ID0gZnVuY3Rpb24gbGFiZWxDdHhNZW51KGxhYmVsKSB7XG4gICAgICBkMy5ldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGQzLmV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBzZWxmLmludmVyc2VfZGF0YShsYWJlbCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGF4aXNHcmlkID0gZy5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdheGlzV3JhcHBlcicpO1xuXG4gICAgLy8gRHJhdyB0aGUgYmFja2dyb3VuZCBjaXJjbGVzXG4gICAgYXhpc0dyaWQuc2VsZWN0QWxsKCcubGV2ZWxzJylcbiAgICAgIC5kYXRhKGQzLnJhbmdlKDEsIChjZmcubGV2ZWxzICsgMSkpLnJldmVyc2UoKSlcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdjaXJjbGUnKVxuICAgICAgLmF0dHJzKGQgPT4gKHtcbiAgICAgICAgY2xhc3M6ICdncmlkQ2lyY2xlJyxcbiAgICAgICAgcjogcmFkaXVzIC8gY2ZnLmxldmVscyAqIGQsXG4gICAgICB9KSlcbiAgICAgIC5zdHlsZXMoKGQpID0+IHtcbiAgICAgICAgaWYgKGQgPT09IDUpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZmlsbDogJyNDRENEQ0QnLFxuICAgICAgICAgICAgc3Ryb2tlOiAncmdiKDI0NSwgMTM4LCAxMzgpJyxcbiAgICAgICAgICAgICdzdHJva2UtZGFzaGFycmF5JzogJzUsIDUnLFxuICAgICAgICAgICAgJ2ZpbGwtb3BhY2l0eSc6IGNmZy5vcGFjaXR5Q2lyY2xlcyxcbiAgICAgICAgICAgIGZpbHRlcjogJ3VybCgjZ2xvdyknLFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBmaWxsOiAnI0NEQ0RDRCcsXG4gICAgICAgICAgc3Ryb2tlOiAnI0NEQ0RDRCcsXG4gICAgICAgICAgJ2ZpbGwtb3BhY2l0eSc6IGNmZy5vcGFjaXR5Q2lyY2xlcyxcbiAgICAgICAgICBmaWx0ZXI6ICd1cmwoI2dsb3cpJyxcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuXG5cbiAgICAvLyAvLyBUZXh0IGluZGljYXRpbmcgYXQgd2hhdCAlIGVhY2ggbGV2ZWwgaXNcbiAgICAvLyBheGlzR3JpZC5zZWxlY3RBbGwoJy5heGlzTGFiZWwnKVxuICAgIC8vICAgLmRhdGEoZDMucmFuZ2UoMSwgKGNmZy5sZXZlbHMgKyAxKSkucmV2ZXJzZSgpKVxuICAgIC8vICAgLmVudGVyKCkuYXBwZW5kKCd0ZXh0JylcbiAgICAvLyAgIC5hdHRyKCdjbGFzcycsICdheGlzTGFiZWwnKVxuICAgIC8vICAgLmF0dHIoJ3gnLCA0KVxuICAgIC8vICAgLmF0dHIoJ3knLCBkID0+IC1kICogcmFkaXVzIC8gY2ZnLmxldmVscylcbiAgICAvLyAgIC5hdHRyKCdkeScsICcwLjRlbScpXG4gICAgLy8gICAuc3R5bGUoJ2ZvbnQtc2l6ZScsICcxMHB4JylcbiAgICAvLyAgIC5hdHRyKCdmaWxsJywgJyM3MzczNzMnKVxuICAgIC8vICAgLnRleHQoZCA9PiBGb3JtYXQobWF4VmFsdWUgKiBkIC8gY2ZnLmxldmVscykgKyBjZmcudW5pdCk7XG5cbiAgICAvLyBDcmVhdGUgdGhlIHN0cmFpZ2h0IGxpbmVzIHJhZGlhdGluZyBvdXR3YXJkIGZyb20gdGhlIGNlbnRlclxuICAgIGNvbnN0IGF4aXMgPSBheGlzR3JpZC5zZWxlY3RBbGwoJy5heGlzJylcbiAgICAgIC5kYXRhKHRoaXMuYWxsQXhpcylcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdheGlzJyk7XG4gICAgLy8gQXBwZW5kIHRoZSBsaW5lc1xuICAgIGF4aXMuYXBwZW5kKCdsaW5lJylcbiAgICAgIC5hdHRyKCd4MScsIDApXG4gICAgICAuYXR0cigneTEnLCAwKVxuICAgICAgLmF0dHIoJ3gyJywgKGQsIGkpID0+IHJTY2FsZShtYXhWYWx1ZSAqIDEuMSkgKiBtYXRoX2NvcyhhbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpKVxuICAgICAgLmF0dHIoJ3kyJywgKGQsIGkpID0+IHJTY2FsZShtYXhWYWx1ZSAqIDEuMSkgKiBtYXRoX3NpbihhbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2xpbmUnKVxuICAgICAgLnN0eWxlKCdzdHJva2UnLCAnd2hpdGUnKVxuICAgICAgLnN0eWxlKCdzdHJva2Utd2lkdGgnLCAnMnB4Jyk7XG5cbiAgICAvLyBBcHBlbmQgdGhlIGxhYmVscyBhdCBlYWNoIGF4aXNcbiAgICBheGlzLmFwcGVuZCgndGV4dCcpXG4gICAgICAuYXR0cignY2xhc3MnLCAnbGVnZW5kJylcbiAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgJzExcHgnKVxuICAgICAgLmF0dHIoJ2lkJywgKGQsIGkpID0+IGkpXG4gICAgICAuYXR0cigndGV4dC1hbmNob3InLCAnbWlkZGxlJylcbiAgICAgIC5hdHRyKCdkeScsICcwLjM1ZW0nKVxuICAgICAgLmF0dHIoJ3gnLCAoZCwgaSkgPT4gclNjYWxlKG1heFZhbHVlICogY2ZnLmxhYmVsRmFjdG9yKSAqIG1hdGhfY29zKGFuZ2xlU2xpY2UgKiBpIC0gSEFMRl9QSSkpXG4gICAgICAuYXR0cigneScsIChkLCBpKSA9PiByU2NhbGUobWF4VmFsdWUgKiBjZmcubGFiZWxGYWN0b3IpICogbWF0aF9zaW4oYW5nbGVTbGljZSAqIGkgLSBIQUxGX1BJKSlcbiAgICAgIC50ZXh0KGQgPT4gZClcbiAgICAgIC5vbignY2xpY2snLCBsYWJlbENsaWNrZWQpXG4gICAgICAub24oJ2NvbnRleHRtZW51JywgY2ZnLmFsbG93SW52ZXJzZURhdGEgPyBsYWJlbEN0eE1lbnUgOiBudWxsKVxuICAgICAgLmNhbGwod3JhcCwgY2ZnLndyYXBXaWR0aCk7XG5cbiAgICAvLyBGaWx0ZXIgZm9yIHRoZSBvdXRzaWRlIGdsb3dcbiAgICBjb25zdCBmaWx0ZXIgPSBnLmFwcGVuZCgnZGVmcycpXG4gICAgICAuYXBwZW5kKCdmaWx0ZXInKVxuICAgICAgLmF0dHIoJ2lkJywgJ2dsb3cnKTtcbiAgICBmaWx0ZXIuYXBwZW5kKCdmZUdhdXNzaWFuQmx1cicpXG4gICAgICAuYXR0cignc3RkRGV2aWF0aW9uJywgJzIuNScpXG4gICAgICAuYXR0cigncmVzdWx0JywgJ2NvbG9yZWRCbHVyJyk7XG4gICAgY29uc3QgZmVNZXJnZSA9IGZpbHRlci5hcHBlbmQoJ2ZlTWVyZ2UnKTtcbiAgICBmZU1lcmdlLmFwcGVuZCgnZmVNZXJnZU5vZGUnKS5hdHRyKCdpbicsICdjb2xvcmVkQmx1cicpO1xuICAgIGZlTWVyZ2UuYXBwZW5kKCdmZU1lcmdlTm9kZScpLmF0dHIoJ2luJywgJ1NvdXJjZUdyYXBoaWMnKTtcblxuICAgIHRoaXMuYXhpc0dyaWQgPSBheGlzR3JpZDtcbiAgfVxuXG4gIGhhbmRsZUxlZ2VuZCgpIHtcbiAgICBjb25zdCBjZmcgPSB0aGlzLmNmZztcbiAgICBpZiAoY2ZnLmxlZ2VuZCAhPT0gZmFsc2UgJiYgdHlwZW9mIGNmZy5sZWdlbmQgPT09ICdvYmplY3QnKSB7XG4gICAgICBjb25zdCBuYW1lcyA9IHRoaXMuZGF0YS5tYXAoZWwgPT4gZWwubmFtZSk7XG4gICAgICBpZiAoY2ZnLmxlZ2VuZC50aXRsZSkge1xuICAgICAgICB0aGlzLmxlZ2VuZFpvbmUuYXBwZW5kKCd0ZXh0JylcbiAgICAgICAgICAuYXR0cignY2xhc3MnLCAndGl0bGUnKVxuICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDAsIC0yMCknKVxuICAgICAgICAgIC5hdHRyKCd4JywgY2ZnLncgLSA3MClcbiAgICAgICAgICAuYXR0cigneScsIDEwKVxuICAgICAgICAgIC5hdHRyKCdmb250LXNpemUnLCAnMTJweCcpXG4gICAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnIzQwNDA0MCcpXG4gICAgICAgICAgLnRleHQoY2ZnLmxlZ2VuZC50aXRsZSk7XG4gICAgICB9XG4gICAgICBjb25zdCBsZWdlbmQgPSB0aGlzLmxlZ2VuZFpvbmVcbiAgICAgICAgLnNlbGVjdEFsbCgnZycpXG4gICAgICAgIC5kYXRhKG5hbWVzKTtcbiAgICAgIGNvbnN0IGxlZ2VuZEVudGVyID0gbGVnZW5kXG4gICAgICAgIC5lbnRlcigpXG4gICAgICAgIC5hcHBlbmQoJ2cnKTtcblxuICAgICAgLy8gQ3JlYXRlIHJlY3RhbmdsZXMgbWFya2Vyc1xuICAgICAgbGVnZW5kRW50ZXJcbiAgICAgICAgLmFwcGVuZCgncmVjdCcpXG4gICAgICAgIC5hdHRycygoZCwgaSkgPT4gKHtcbiAgICAgICAgICB4OiBjZmcudyAtIDY1LFxuICAgICAgICAgIHk6IGkgKiAyMCxcbiAgICAgICAgICB3aWR0aDogMTAsXG4gICAgICAgICAgaGVpZ2h0OiAxMCxcbiAgICAgICAgfSkpXG4gICAgICAgIC5zdHlsZSgnZmlsbCcsIGQgPT4gYXBwLmNvbG9yc1tkLm5hbWVdKTtcblxuICAgICAgLy8gQ3JlYXRlIGxhYmVsc1xuICAgICAgbGVnZW5kRW50ZXJcbiAgICAgICAgLmFwcGVuZCgndGV4dCcpXG4gICAgICAgIC5hdHRycygoZCwgaSkgPT4gKHtcbiAgICAgICAgICB4OiBjZmcudyAtIDUyLFxuICAgICAgICAgIHk6IGkgKiAyMCArIDksXG4gICAgICAgICAgZmlsbDogJyM3MzczNzMnLFxuICAgICAgICAgICdmb250LXNpemUnOiAnMTFweCcsXG4gICAgICAgIH0pKVxuICAgICAgICAudGV4dChkID0+IGQpO1xuXG4gICAgICBsZWdlbmQubWVyZ2UobGVnZW5kRW50ZXIpLnNlbGVjdEFsbCgncmVjdCcpXG4gICAgICAgIC5hdHRyKCd5JywgKGQsIGkpID0+IGkgKiAyMClcbiAgICAgICAgLnN0eWxlKCdmaWxsJywgZCA9PiBhcHAuY29sb3JzW2QubmFtZV0pO1xuXG4gICAgICBsZWdlbmQubWVyZ2UobGVnZW5kRW50ZXIpLnNlbGVjdEFsbCgndGV4dCcpXG4gICAgICAgIC5hdHRycygoZCwgaSkgPT4gKHtcbiAgICAgICAgICB4OiBjZmcudyAtIDUyLFxuICAgICAgICAgIHk6IGkgKiAyMCArIDksXG4gICAgICAgIH0pKVxuICAgICAgICAudGV4dChkID0+IGQpO1xuXG4gICAgICBsZWdlbmQuZXhpdCgpLnJlbW92ZSgpO1xuICAgIH1cbiAgfVxuXG4gIGRyYXdBcmVhKCkge1xuICAgIGNvbnN0IGNmZyA9IHRoaXMuY2ZnO1xuICAgIGNvbnN0IGcgPSB0aGlzLmc7XG4gICAgY29uc3QgRm9ybWF0ID0gdGhpcy5Gb3JtYXQ7XG4gICAgY29uc3QgclNjYWxlID0gdGhpcy5yU2NhbGU7XG4gICAgY29uc3QgYW5nbGVTbGljZSA9IHRoaXMuYW5nbGVTbGljZTtcblxuICAgIC8vIENyZWF0ZSBhIHdyYXBwZXIgZm9yIHRoZSBibG9ic1xuICAgIGNvbnN0IGJsb2JXcmFwcGVyID0gZy5zZWxlY3RBbGwoJy5yYWRhcldyYXBwZXInKVxuICAgICAgLmRhdGEodGhpcy5kYXRhLCBkID0+IGQubmFtZSlcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdpZCcsIGQgPT4gKGQubmFtZS5pbmRleE9mKCcgJykgPiAtMSA/ICdjdHgnIDogZC5uYW1lKSlcbiAgICAgIC5hdHRyKCdjbGFzcycsICdyYWRhcldyYXBwZXInKTtcblxuICAgIC8vIEFwcGVuZCB0aGUgYmFja2dyb3VuZHNcbiAgICBibG9iV3JhcHBlclxuICAgICAgLmFwcGVuZCgncGF0aCcpXG4gICAgICAuYXR0cignY2xhc3MnLCAncmFkYXJBcmVhJylcbiAgICAgIC5hdHRyKCdkJywgZCA9PiB0aGlzLnJhZGFyTGluZShkLmF4ZXMpKVxuICAgICAgLnN0eWxlKCdmaWxsJywgZCA9PiBhcHAuY29sb3JzW2QubmFtZV0pXG4gICAgICAuc3R5bGUoJ2ZpbGwtb3BhY2l0eScsIGNmZy5vcGFjaXR5QXJlYSlcbiAgICAgIC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBEaW0gYWxsIGJsb2JzXG4gICAgICAgIGcuc2VsZWN0QWxsKCcucmFkYXJBcmVhJylcbiAgICAgICAgICAudHJhbnNpdGlvbigpLmR1cmF0aW9uKDIwMClcbiAgICAgICAgICAuc3R5bGUoJ2ZpbGwtb3BhY2l0eScsIDAuMSk7XG4gICAgICAgIC8vIEJyaW5nIGJhY2sgdGhlIGhvdmVyZWQgb3ZlciBibG9iXG4gICAgICAgIGQzLnNlbGVjdCh0aGlzKVxuICAgICAgICAgIC50cmFuc2l0aW9uKCkuZHVyYXRpb24oMjAwKVxuICAgICAgICAgIC5zdHlsZSgnZmlsbC1vcGFjaXR5JywgMC43KTtcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlb3V0JywgKCkgPT4ge1xuICAgICAgICBnLnNlbGVjdEFsbCgnLnJhZGFyQXJlYScpXG4gICAgICAgICAgLnRyYW5zaXRpb24oKS5kdXJhdGlvbigyMDApXG4gICAgICAgICAgLnN0eWxlKCdmaWxsLW9wYWNpdHknLCBjZmcub3BhY2l0eUFyZWEpO1xuICAgICAgfSk7XG5cbiAgICAvLyBDcmVhdGUgdGhlIG91dGxpbmVzXG4gICAgYmxvYldyYXBwZXIuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdyYWRhclN0cm9rZScpXG4gICAgICAuYXR0cignZCcsIGQgPT4gdGhpcy5yYWRhckxpbmUoZC5heGVzKSlcbiAgICAgIC5zdHlsZSgnc3Ryb2tlLXdpZHRoJywgYCR7Y2ZnLnN0cm9rZVdpZHRofXB4YClcbiAgICAgIC5zdHlsZSgnc3Ryb2tlJywgKGQsIGkpID0+IGFwcC5jb2xvcnNbZC5uYW1lXSlcbiAgICAgIC5zdHlsZSgnZmlsbCcsICdub25lJylcbiAgICAgIC5zdHlsZSgnZmlsdGVyJywgJ3VybCgjZ2xvdyknKTtcblxuICAgIC8vIEFwcGVuZCB0aGUgY2lyY2xlc1xuICAgIGJsb2JXcmFwcGVyLnNlbGVjdEFsbCgnLnJhZGFyQ2lyY2xlJylcbiAgICAgIC5kYXRhKGQgPT4gZC5heGVzKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ2NpcmNsZScpXG4gICAgICAuYXR0cignY2xhc3MnLCAncmFkYXJDaXJjbGUnKVxuICAgICAgLmF0dHIoJ3InLCBjZmcuZG90UmFkaXVzKVxuICAgICAgLmF0dHIoJ2N4JywgKGQsIGkpID0+IHJTY2FsZShkLnZhbHVlKSAqIG1hdGhfY29zKGFuZ2xlU2xpY2UgKiBpIC0gSEFMRl9QSSkpXG4gICAgICAuYXR0cignY3knLCAoZCwgaSkgPT4gclNjYWxlKGQudmFsdWUpICogbWF0aF9zaW4oYW5nbGVTbGljZSAqIGkgLSBIQUxGX1BJKSlcbiAgICAgIC5zdHlsZSgnZmlsbCcsIGQgPT4gYXBwLmNvbG9yc1tkLmlkXSlcbiAgICAgIC5zdHlsZSgnZmlsbC1vcGFjaXR5JywgMC44KTtcblxuICAgIC8vIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyAvLy8vLy8gQXBwZW5kIGludmlzaWJsZSBjaXJjbGVzIGZvciB0b29sdGlwIC8vLy8vLy8vLy8vXG4gICAgLy8gLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgLy8gV3JhcHBlciBmb3IgdGhlIGludmlzaWJsZSBjaXJjbGVzIG9uIHRvcFxuICAgIGNvbnN0IGJsb2JDaXJjbGVXcmFwcGVyID0gZy5zZWxlY3RBbGwoJy5yYWRhckNpcmNsZVdyYXBwZXInKVxuICAgICAgLmRhdGEodGhpcy5kYXRhLCBkID0+IGQubmFtZSlcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdpZCcsIGQgPT4gKGQubmFtZS5pbmRleE9mKCcgJykgPiAtMSA/ICdjdHgnIDogZC5uYW1lKSlcbiAgICAgIC5hdHRyKCdjbGFzcycsICdyYWRhckNpcmNsZVdyYXBwZXInKTtcblxuICAgIC8vIEFwcGVuZCBhIHNldCBvZiBpbnZpc2libGUgY2lyY2xlcyBvbiB0b3AgZm9yIHRoZSBtb3VzZW92ZXIgcG9wLXVwXG4gICAgYmxvYkNpcmNsZVdyYXBwZXIuc2VsZWN0QWxsKCcucmFkYXJJbnZpc2libGVDaXJjbGUnKVxuICAgICAgLmRhdGEoZCA9PiBkLmF4ZXMpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgnY2lyY2xlJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdyYWRhckludmlzaWJsZUNpcmNsZScpXG4gICAgICAuYXR0cigncicsIGNmZy5kb3RSYWRpdXMgKiAxLjUpXG4gICAgICAuYXR0cignY3gnLCAoZCwgaSkgPT4gclNjYWxlKGQudmFsdWUpICogbWF0aF9jb3MoYW5nbGVTbGljZSAqIGkgLSBIQUxGX1BJKSlcbiAgICAgIC5hdHRyKCdjeScsIChkLCBpKSA9PiByU2NhbGUoZC52YWx1ZSkgKiBtYXRoX3NpbihhbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpKVxuICAgICAgLnN0eWxlKCdmaWxsJywgJ25vbmUnKVxuICAgICAgLnN0eWxlKCdwb2ludGVyLWV2ZW50cycsICdhbGwnKVxuICAgICAgLm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICBnLnNlbGVjdCgnLnRvb2x0aXAnKVxuICAgICAgICAgIC5hdHRyKCd4JywgdGhpcy5jeC5iYXNlVmFsLnZhbHVlIC0gMTApXG4gICAgICAgICAgLmF0dHIoJ3knLCB0aGlzLmN5LmJhc2VWYWwudmFsdWUgLSAxMClcbiAgICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ2Jsb2NrJylcbiAgICAgICAgICAudGV4dChGb3JtYXQoZC52YWx1ZSkgKyBjZmcudW5pdCk7XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZW91dCcsICgpID0+IHtcbiAgICAgICAgZy5zZWxlY3QoJy50b29sdGlwJykudHJhbnNpdGlvbigpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKS50ZXh0KCcnKTtcbiAgICAgIH0pO1xuXG4gICAgY29uc3QgdG9vbHRpcCA9IGcuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAndG9vbHRpcCcsIHg6IDAsIHk6IDAsIGR5OiAnMC4zNWVtJywgJ3RleHQtYW5jaG9yJzogJ21pZGRsZScgfSlcbiAgICAgIC5zdHlsZXMoeyAnZm9udC1zaXplJzogJzEycHgnLCBkaXNwbGF5OiAnbm9uZScgfSk7XG5cbiAgICB0aGlzLmxlZ2VuZFpvbmUgPSBzdmdfYmFyLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICBpZDogJ2xlZ2VuZFpvbmUnLFxuICAgICAgICBjbGFzczogJ2xlZ2VuZCcsXG4gICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke2NmZy5sZWdlbmQudHJhbnNsYXRlWH0sJHtjZmcubGVnZW5kLnRyYW5zbGF0ZVkgKyAyMH0pYCxcbiAgICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIGNvbnN0IHJTY2FsZSA9IHRoaXMuclNjYWxlO1xuICAgIGNvbnN0IG1heFZhbHVlID0gdGhpcy5tYXhWYWx1ZTtcbiAgICBjb25zdCBjZmcgPSB0aGlzLmNmZztcbiAgICBjb25zdCBhbmdsZVNsaWNlID0gdGhpcy5hbmdsZVNsaWNlO1xuICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuY3VycmVudF9pZHMpO1xuICAgIC8vIGlmIChuZXdfZGF0YSkge1xuICAgIC8vICAgY29uc3QgbmV3X2F4aXMgPSBuZXdfZGF0YVswXS5heGVzLm1hcChlbGVtID0+IGVsZW0uYXhpcyk7XG4gICAgLy8gICBpZiAoIShKU09OLnN0cmluZ2lmeShuZXdfYXhpcykgPT09IEpTT04uc3RyaW5naWZ5KHRoaXMuYWxsQXhpcykpKSB7XG4gICAgLy8gICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgZWxlbWVudCB3aXRoIHNhbWUgYXhlcyBuYW1lIHRoYW4gZXhpc3RpbmcgZGF0YS4nKTtcbiAgICAvLyAgIH1cbiAgICAvLyAgIHRoaXMuZGF0YSA9IG5ld19kYXRhO1xuICAgIC8vICAgdGhpcy5hbGxBeGlzID0gbmV3X2F4aXM7XG4gICAgLy8gfSBlbHNlIHtcbiAgICB0aGlzLmFsbEF4aXMgPSB0aGlzLmRhdGFbMF0uYXhlcy5tYXAoZWxlbSA9PiBlbGVtLmF4aXMpO1xuICAgIC8vIH1cbiAgICBjb25zdCB1cGRhdGVfYXhpcyA9IHRoaXMuYXhpc0dyaWQuc2VsZWN0QWxsKCcuYXhpcycpXG4gICAgICAuZGF0YSh0aGlzLmFsbEF4aXMpO1xuXG4gICAgY29uc3QgdCA9IHRoaXMuZy5zZWxlY3RBbGwoJy5yYWRhcldyYXBwZXInKVxuICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgLmR1cmF0aW9uKDIyNSk7XG4gICAgICAvLyAub24oJ2VuZCcsICgpID0+IHtcbiAgICAgIC8vICAgcGFyZW50LnNlbGVjdEFsbCgndGV4dC5sZWdlbmQnKVxuICAgICAgLy8gICAgIC50ZXh0KGQgPT4gZClcbiAgICAgIC8vICAgICAuY2FsbCh3cmFwLCBjZmcud3JhcFdpZHRoKTtcbiAgICAgIC8vICAgLy8gd3JhcChwYXJlbnQuc2VsZWN0QWxsKCd0ZXh0LmxlZ2VuZCcpLCBjZmcud3JhcFdpZHRoKTtcbiAgICAgIC8vIH0pO1xuICAgIHVwZGF0ZV9heGlzLnNlbGVjdCgndGV4dC5sZWdlbmQnKVxuICAgICAgLmF0dHJzKChkLCBpKSA9PiAoe1xuICAgICAgICBpZDogaSxcbiAgICAgICAgeDogclNjYWxlKG1heFZhbHVlICogY2ZnLmxhYmVsRmFjdG9yKSAqIG1hdGhfY29zKGFuZ2xlU2xpY2UgKiBpIC0gSEFMRl9QSSksXG4gICAgICAgIHk6IHJTY2FsZShtYXhWYWx1ZSAqIGNmZy5sYWJlbEZhY3RvcikgKiBtYXRoX3NpbihhbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpLFxuICAgICAgfSkpXG4gICAgICAudGV4dChkID0+IGQpXG4gICAgICAuY2FsbCh3cmFwLCBjZmcud3JhcFdpZHRoKTtcblxuICAgIGNvbnN0IHVwZGF0ZV9ibG9iV3JhcHBlciA9IHRoaXMuZy5zZWxlY3RBbGwoJy5yYWRhcldyYXBwZXInKVxuICAgICAgLmRhdGEodGhpcy5kYXRhLCBkID0+IGQubmFtZSk7XG5cbiAgICB1cGRhdGVfYmxvYldyYXBwZXIuc2VsZWN0KCcucmFkYXJBcmVhJylcbiAgICAgIC50cmFuc2l0aW9uKHQpXG4gICAgICAuYXR0cignZCcsIGQgPT4gdGhpcy5yYWRhckxpbmUoZC5heGVzKSk7XG5cbiAgICB1cGRhdGVfYmxvYldyYXBwZXIuc2VsZWN0KCcucmFkYXJTdHJva2UnKVxuICAgICAgLnRyYW5zaXRpb24odClcbiAgICAgIC5hdHRyKCdkJywgZCA9PiB0aGlzLnJhZGFyTGluZShkLmF4ZXMpKTtcblxuICAgIGNvbnN0IGNpcmNsZSA9IHVwZGF0ZV9ibG9iV3JhcHBlci5zZWxlY3RBbGwoJy5yYWRhckNpcmNsZScpXG4gICAgICAuZGF0YShkID0+IGQuYXhlcyk7XG4gICAgY2lyY2xlXG4gICAgICAudHJhbnNpdGlvbih0KVxuICAgICAgLmF0dHJzKChkLCBpKSA9PiAoe1xuICAgICAgICBjeDogclNjYWxlKGQudmFsdWUpICogbWF0aF9jb3MoYW5nbGVTbGljZSAqIGkgLSBIQUxGX1BJKSxcbiAgICAgICAgY3k6IHJTY2FsZShkLnZhbHVlKSAqIG1hdGhfc2luKGFuZ2xlU2xpY2UgKiBpIC0gSEFMRl9QSSksXG4gICAgICB9KSlcbiAgICAgIC5zdHlsZXMoKGQpID0+ICh7XG4gICAgICAgIGZpbGw6IGFwcC5jb2xvcnNbZC5pZF0sXG4gICAgICAgICdmaWxsLW9wYWNpdHknOiAwLjgsXG4gICAgICB9KSk7XG5cbiAgICBjb25zdCB1cGRhdGVfYmxvYkNpcmNsZVdyYXBwZXIgPSB0aGlzLmcuc2VsZWN0QWxsKCcucmFkYXJDaXJjbGVXcmFwcGVyJylcbiAgICAgIC5kYXRhKHRoaXMuZGF0YSwgZCA9PiBkLm5hbWUpO1xuXG4gICAgY29uc3QgaW52aXNpYmxlQ2lyY2xlID0gdXBkYXRlX2Jsb2JDaXJjbGVXcmFwcGVyLnNlbGVjdEFsbCgnLnJhZGFySW52aXNpYmxlQ2lyY2xlJylcbiAgICAgIC5kYXRhKGQgPT4gZC5heGVzKTtcbiAgICBpbnZpc2libGVDaXJjbGVcbiAgICAgIC50cmFuc2l0aW9uKHQpXG4gICAgICAuYXR0cnMoKGQsIGkpID0+ICh7XG4gICAgICAgIGN4OiByU2NhbGUoZC52YWx1ZSkgKiBtYXRoX2NvcyhhbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpLFxuICAgICAgICBjeTogclNjYWxlKGQudmFsdWUpICogbWF0aF9zaW4oYW5nbGVTbGljZSAqIGkgLSBIQUxGX1BJKSxcbiAgICAgIH0pKTtcbiAgfVxuXG4gIHJvdW5kX3N0cm9rZSh2YWwpIHtcbiAgICBpZiAodmFsID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLmNmZy5yb3VuZFN0cm9rZXM7XG4gICAgfSBlbHNlIGlmICh2YWwgIT09IHRoaXMuY2ZnLnJvdW5kU3Ryb2tlcykge1xuICAgICAgdGhpcy5jZmcucm91bmRTdHJva2VzID0gdmFsO1xuICAgICAgdGhpcy5yYWRhckxpbmUgPSBkMy5yYWRpYWxMaW5lKClcbiAgICAgICAgLmN1cnZlKHRoaXMuY2ZnLnJvdW5kU3Ryb2tlcyA/IGQzLmN1cnZlQ2FyZGluYWxDbG9zZWQgOiBkMy5jdXJ2ZUxpbmVhckNsb3NlZClcbiAgICAgICAgLnJhZGl1cyhkID0+IHRoaXMuclNjYWxlKGQudmFsdWUpKVxuICAgICAgICAuYW5nbGUoKGQsIGkpID0+IGkgKiB0aGlzLmFuZ2xlU2xpY2UpO1xuICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbDtcbiAgfVxuXG4gIGJpbmRNYXAobWFwX2VsZW0pIHtcbiAgICB0aGlzLm1hcF9lbGVtID0gbWFwX2VsZW07XG4gICAgdGhpcy5tYXBfZWxlbS5yZXNldENvbG9ycyh0aGlzLmN1cnJlbnRfaWRzKTtcbiAgICB0aGlzLm1hcF9lbGVtLmRpc3BsYXlMZWdlbmQoMik7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICB9XG5cbiAgcmVtb3ZlKCkge1xuICAgIHRoaXMudGFibGVfc3RhdHMucmVtb3ZlKCk7XG4gICAgdGhpcy50YWJsZV9zdGF0cyA9IG51bGw7XG4gICAgdGhpcy5tYXBfZWxlbS51bmJpbmRCcnVzaENsaWNrKCk7XG4gICAgdGhpcy5tYXBfZWxlbSA9IG51bGw7XG4gICAgdGhpcy5jb21wbGV0dWRlLnJlbW92ZSgpO1xuICAgIHRoaXMuY29tcGxldHVkZSA9IG51bGw7XG4gICAgZDMuc2VsZWN0KCcjc3ZnX2JhcicpLmh0bWwoJycpO1xuICB9XG5cbiAgdXBkYXRlQ2hhbmdlUmVnaW9uKCkge1xuICAgIHRoaXMuY2hhbmdlU3R1ZHlab25lKCk7XG4gIH1cblxuICBjaGFuZ2VTdHVkeVpvbmUoKSB7XG4gICAgY29uc3Qgb2xkX215X3JlZ2lvbiA9IHRoaXMuaWRfbXlfcmVnaW9uO1xuICAgIGNvbnN0IG90aGVyX2ZlYXR1cmVzID0gdGhpcy5kaXNwbGF5ZWRfaWRzLmZpbHRlcihkID0+IGQgIT09IG9sZF9teV9yZWdpb24pO1xuICAgIHRoaXMuZy5yZW1vdmUoKTtcbiAgICB0aGlzLmcgPSBzdmdfYmFyLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignaWQnLCAnUmFkYXJHcnAnKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHt0aGlzLmNmZy53IC8gMiArIHRoaXMuY2ZnLm1hcmdpbi5sZWZ0fSwke3RoaXMuY2ZnLmggLyAyICsgdGhpcy5jZmcubWFyZ2luLnRvcH0pYCk7XG5cbiAgICB0aGlzLmlkX215X3JlZ2lvbiA9IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb247XG4gICAgdGhpcy5wcmVwYXJlRGF0YShhcHAuY3VycmVudF9kYXRhKTtcbiAgICB0aGlzLmRyYXdBeGlzR3JpZCgpO1xuICAgIHRoaXMuZHJhd0FyZWEoKTtcbiAgICB0aGlzLmhhbmRsZUxlZ2VuZCgpO1xuICAgIG90aGVyX2ZlYXR1cmVzLmZvckVhY2goKGlkKSA9PiB7XG4gICAgICBjb25zdCBhID0gcHJlcGFyZV9kYXRhX3JhZGFyX2Z0KHRoaXMucmVmX2RhdGEsIHRoaXMudmFyaWFibGVzLCBpZCk7XG4gICAgICB0aGlzLmFkZF9lbGVtZW50KGEpO1xuICAgIH0pO1xuICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgICB0aGlzLnVwZGF0ZUNvbXBsZXR1ZGUoKTtcbiAgICB0aGlzLnVwZGF0ZVRhYmxlU3RhdCgpO1xuICB9XG5cbiAgYWRkVmFyaWFibGUoY29kZV92YXJpYWJsZSwgbmFtZV92YXJpYWJsZSkge1xuICAgIGNvbnN0IG90aGVyX2ZlYXR1cmVzID0gdGhpcy5kaXNwbGF5ZWRfaWRzLmZpbHRlcihkID0+IGQgIT09IHRoaXMuaWRfbXlfcmVnaW9uKTtcbiAgICB0aGlzLmcucmVtb3ZlKCk7XG4gICAgdGhpcy5nID0gc3ZnX2Jhci5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2lkJywgJ1JhZGFyR3JwJylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7dGhpcy5jZmcudyAvIDIgKyB0aGlzLmNmZy5tYXJnaW4ubGVmdH0sJHt0aGlzLmNmZy5oIC8gMiArIHRoaXMuY2ZnLm1hcmdpbi50b3B9KWApO1xuXG4gICAgdGhpcy5wcmVwYXJlRGF0YShhcHAuY3VycmVudF9kYXRhKTtcbiAgICB0aGlzLmRyYXdBeGlzR3JpZCgpO1xuICAgIHRoaXMuZHJhd0FyZWEoKTtcbiAgICB0aGlzLmhhbmRsZUxlZ2VuZCgpO1xuICAgIG90aGVyX2ZlYXR1cmVzLmZvckVhY2goKGlkKSA9PiB7XG4gICAgICBjb25zdCBhID0gcHJlcGFyZV9kYXRhX3JhZGFyX2Z0KHRoaXMucmVmX2RhdGEsIHRoaXMudmFyaWFibGVzLCBpZCk7XG4gICAgICB0aGlzLmFkZF9lbGVtZW50KGEpO1xuICAgIH0pO1xuICAgIHRoaXMudXBkYXRlQ29tcGxldHVkZSgpO1xuICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgICB0aGlzLnVwZGF0ZVRhYmxlU3RhdCgpO1xuICB9XG5cbiAgcmVtb3ZlVmFyaWFibGUoY29kZV92YXJpYWJsZSkge1xuICAgIGNvbnN0IG90aGVyX2ZlYXR1cmVzID0gdGhpcy5kaXNwbGF5ZWRfaWRzLmZpbHRlcihkID0+IGQgIT09IHRoaXMuaWRfbXlfcmVnaW9uKTtcbiAgICB0aGlzLmcucmVtb3ZlKCk7XG4gICAgdGhpcy5nID0gc3ZnX2Jhci5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2lkJywgJ1JhZGFyR3JwJylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7dGhpcy5jZmcudyAvIDIgKyB0aGlzLmNmZy5tYXJnaW4ubGVmdH0sJHt0aGlzLmNmZy5oIC8gMiArIHRoaXMuY2ZnLm1hcmdpbi50b3B9KWApO1xuXG4gICAgdGhpcy5wcmVwYXJlRGF0YShhcHAuY3VycmVudF9kYXRhKTtcbiAgICB0aGlzLmRyYXdBeGlzR3JpZCgpO1xuICAgIHRoaXMuZHJhd0FyZWEoKTtcbiAgICB0aGlzLmhhbmRsZUxlZ2VuZCgpO1xuICAgIG90aGVyX2ZlYXR1cmVzLmZvckVhY2goKGlkKSA9PiB7XG4gICAgICBjb25zdCBhID0gcHJlcGFyZV9kYXRhX3JhZGFyX2Z0KHRoaXMucmVmX2RhdGEsIHRoaXMudmFyaWFibGVzLCBpZCk7XG4gICAgICB0aGlzLmFkZF9lbGVtZW50KGEpO1xuICAgIH0pO1xuICAgIHRoaXMudXBkYXRlQ29tcGxldHVkZSgpO1xuICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgICB0aGlzLnVwZGF0ZVRhYmxlU3RhdCgpO1xuICB9XG5cbiAgcHJlcGFyZVRhYmxlU3RhdCgpIHtcbiAgICBjb25zdCBhbGxfdmFsdWVzID0gdGhpcy52YXJpYWJsZXMubWFwKHYgPT4gdGhpcy5yZWZfZGF0YS5tYXAoZCA9PiBkW3ZdKSk7XG4gICAgY29uc3QgbXlfcmVnaW9uID0gdGhpcy5yZWZfZGF0YS5maW5kKGQgPT4gZC5pZCA9PT0gdGhpcy5pZF9teV9yZWdpb24pO1xuICAgIGNvbnN0IGZlYXR1cmVzID0gYWxsX3ZhbHVlcy5tYXAoKHZhbHVlcywgaSkgPT4gKHtcbiAgICAgIE1pbjogZDMubWluKHZhbHVlcyksXG4gICAgICBNYXg6IGQzLm1heCh2YWx1ZXMpLFxuICAgICAgTW95ZW5uZTogZ2V0TWVhbih2YWx1ZXMpLFxuICAgICAgaWQ6IHRoaXMudmFyaWFibGVzW2ldLFxuICAgICAgVmFyaWFibGU6IHRoaXMudmFyaWFibGVzW2ldLFxuICAgICAgJ01hIHLDqWdpb24nOiBteV9yZWdpb25bdGhpcy52YXJpYWJsZXNbaV1dLFxuICAgIH0pKTtcbiAgICByZXR1cm4gZmVhdHVyZXM7XG4gIH1cblxuICBoYW5kbGVDbGlja01hcChkLCBwYXJlbnQpIHtcbiAgICBjb25zdCBpZCA9IGQuaWQ7XG4gICAgaWYgKHRoaXMuY3VycmVudF9pZHMuaW5kZXhPZihpZCkgPCAwIHx8IGlkID09PSB0aGlzLmlkX215X3JlZ2lvbikgcmV0dXJuO1xuICAgIGlmICh0aGlzLmRpc3BsYXllZF9pZHMuaW5kZXhPZihpZCkgPCAwKSB7XG4gICAgICBjb25zdCBhID0gcHJlcGFyZV9kYXRhX3JhZGFyX2Z0KHRoaXMucmVmX2RhdGEsIHRoaXMudmFyaWFibGVzLCBpZCk7XG4gICAgICB0aGlzLmFkZF9lbGVtZW50KGEpO1xuICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5nLnNlbGVjdEFsbChgIyR7aWR9LnJhZGFyV3JhcHBlcmApLnJlbW92ZSgpO1xuICAgICAgdGhpcy5nLnNlbGVjdEFsbChgIyR7aWR9LnJhZGFyQ2lyY2xlV3JhcHBlcmApLnJlbW92ZSgpO1xuICAgICAgY29uc3QgaXggPSB0aGlzLmRhdGEubWFwKChfZCwgaSkgPT4gW2ksIF9kLm5hbWUgPT09IGlkXSkuZmluZChfZCA9PiBfZFsxXSA9PT0gdHJ1ZSlbMF07XG4gICAgICB0aGlzLmRhdGEuc3BsaWNlKGl4LCAxKTtcbiAgICAgIHRoaXMuZGlzcGxheWVkX2lkcyA9IHRoaXMuZGF0YS5tYXAoX2QgPT4gX2QubmFtZSk7XG4gICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gIH1cblxuICB1cGRhdGVDb21wbGV0dWRlKCkge1xuICAgIHRoaXMuY29tcGxldHVkZS51cGRhdGUoXG4gICAgICBjYWxjQ29tcGxldHVkZVN1YnNldChhcHAsIHRoaXMudmFyaWFibGVzLCAnYXJyYXknKSxcbiAgICAgIGNhbGNQb3BDb21wbGV0dWRlU3Vic2V0KGFwcCwgdGhpcy52YXJpYWJsZXMpKTtcbiAgfVxuXG4gIHVwZGF0ZU1hcFJlZ2lvKCkge1xuICAgIGlmICghdGhpcy5tYXBfZWxlbSkgcmV0dXJuO1xuICAgIHRoaXMubWFwX2VsZW0udGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuYXR0cignZmlsbCcsIGQgPT4gKGQuaWQgPT09IHRoaXMuaWRfbXlfcmVnaW9uXG4gICAgICAgID8gY29sb3JfaGlnaGxpZ2h0XG4gICAgICAgIDogdGhpcy5jdXJyZW50X2lkcy5pbmRleE9mKGQuaWQpID4gLTFcbiAgICAgICAgPyAodGhpcy5kaXNwbGF5ZWRfaWRzLmluZGV4T2YoZC5pZCkgPiAtMVxuICAgICAgICA/IGFwcC5jb2xvcnNbZC5pZF0gOiBjb2xvcl9jb3VudHJpZXMpIDogY29sb3JfZGlzYWJsZWQpKTtcbiAgfVxuXG4gIHVwZGF0ZVRhYmxlU3RhdCgpIHtcbiAgICB0aGlzLnRhYmxlX3N0YXRzLnJlbW92ZUFsbCgpO1xuICAgIHRoaXMudGFibGVfc3RhdHMuYWRkRmVhdHVyZXModGhpcy5wcmVwYXJlVGFibGVTdGF0KCkpO1xuICB9XG5cbiAgbWFrZVRhYmxlU3RhdCgpIHtcbiAgICBjb25zdCBmZWF0dXJlcyA9IHRoaXMucHJlcGFyZVRhYmxlU3RhdCgpO1xuICAgIHRoaXMudGFibGVfc3RhdHMgPSBuZXcgVGFibGVSZXN1bWVTdGF0KGZlYXR1cmVzKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgY29tcCwgbWF0aF9yb3VuZCwgbWF0aF9hYnMsIG1hdGhfc3FydCwgUHJvcFNpemVyLCBwcmVwYXJlVG9vbHRpcCwgZ2V0TWVhbiB9IGZyb20gJy4vLi4vaGVscGVycyc7XG5pbXBvcnQgeyBjb2xvcl9kaXNhYmxlZCwgY29sb3JfY291bnRyaWVzLCBjb2xvcl9kZWZhdWx0X2Rpc3NpbSwgY29sb3JfaGlnaGxpZ2h0IH0gZnJvbSAnLi8uLi9vcHRpb25zJztcbmltcG9ydCB7IGNhbGNQb3BDb21wbGV0dWRlU3Vic2V0LCBjYWxjQ29tcGxldHVkZVN1YnNldCB9IGZyb20gJy4vLi4vcHJlcGFyZV9kYXRhJztcbi8vIGltcG9ydCB7IHN2Z19tYXAgfSBmcm9tICcuLy4uL21hcCc7XG5pbXBvcnQgeyBhcHAsIHJlc2V0Q29sb3JzIH0gZnJvbSAnLi8uLi8uLi9tYWluJztcbmltcG9ydCBUYWJsZVJlc3VtZVN0YXQgZnJvbSAnLi8uLi90YWJsZVJlc3VtZVN0YXQnO1xuaW1wb3J0IENvbXBsZXR1ZGVTZWN0aW9uIGZyb20gJy4vLi4vY29tcGxldHVkZSc7XG5cbmxldCBzdmdfYmFyO1xubGV0IG1hcmdpbjtcbmxldCBiYm94X3N2ZztcbmxldCB3aWR0aDtcbmxldCBoZWlnaHQ7XG5sZXQgc3ZnX2NvbnRhaW5lcjtcblxuY29uc3QgdXBkYXRlRGltZW5zaW9ucyA9ICgpID0+IHtcbiAgc3ZnX2JhciA9IGQzLnNlbGVjdCgnI3N2Z19iYXInKTtcbiAgbWFyZ2luID0geyB0b3A6IDIwLCByaWdodDogMjAsIGJvdHRvbTogNDAsIGxlZnQ6IDMwIH07XG4gIGJib3hfc3ZnID0gc3ZnX2Jhci5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHdpZHRoID0gK2Jib3hfc3ZnLndpZHRoIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7XG4gIGhlaWdodCA9IDUwMCAqIGFwcC5yYXRpb1RvV2lkZSAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tO1xuICBzdmdfYmFyLmF0dHIoJ2hlaWdodCcsIGAkezUwMCAqIGFwcC5yYXRpb1RvV2lkZX1weGApO1xuICBzdmdfY29udGFpbmVyID0gc3ZnX2Jhci5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdjb250YWluZXInKTtcbn07XG5cblxuZXhwb3J0IGNsYXNzIFNpbWlsYXJpdHkxcGx1cyB7XG4gIGNvbnN0cnVjdG9yKHJlZl9kYXRhKSB7XG4gICAgdXBkYXRlRGltZW5zaW9ucygpO1xuICAgIGFwcC5jaGFydERyYXdSYXRpbyA9IGFwcC5yYXRpb1RvV2lkZTtcbiAgICAvLyBTZXQgdGhlIG1pbmltdW0gbnVtYmVyIG9mIHZhcmlhYmxlcyB0byBrZWVwIHNlbGVjdGVkIGZvciB0aGlzIGtpbmQgb2YgY2hhcnQ6XG4gICAgYXBwLmN1cnJlbnRfY29uZmlnLm5iX3ZhciA9IDE7XG4gICAgdGhpcy5yYXRpb3MgPSBhcHAuY3VycmVudF9jb25maWcucmF0aW87XG4gICAgdGhpcy5udW1zID0gYXBwLmN1cnJlbnRfY29uZmlnLm51bTtcbiAgICB0aGlzLmRhdGEgPSByZWZfZGF0YS5maWx0ZXIoZnQgPT4gdGhpcy5yYXRpb3MubWFwKHYgPT4gISFmdFt2XSkuZXZlcnkodiA9PiB2ID09PSB0cnVlKSkuc2xpY2UoKTtcbiAgICB0aGlzLm15X3JlZ2lvbiA9IHRoaXMuZGF0YS5maW5kKGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbik7XG4gICAgdGhpcy5kYXRhLmZvckVhY2goKGZ0KSA9PiB7XG4gICAgICB0aGlzLnJhdGlvcy5mb3JFYWNoKCh2KSA9PiB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICBmdFtgZGlzdF8ke3Z9YF0gPSBtYXRoX2FicygrZnRbdl0gLSArdGhpcy5teV9yZWdpb25bdl0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5jdXJyZW50X2lkcyA9IHRoaXMuZGF0YS5tYXAoZCA9PiBkLmlkKTtcbiAgICByZXNldENvbG9ycygpO1xuICAgIHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbiA9IFtdO1xuICAgIHRoaXMuc2VyaWVfaW52ZXJzZWQgPSBmYWxzZTtcbiAgICB0aGlzLnByb3BvcnRpb25uYWxfc3ltYm9scyA9IGZhbHNlO1xuICAgIHRoaXMuZHJhd19ncm91cCA9IHN2Z19jb250YWluZXJcbiAgICAgIC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHttYXJnaW4ubGVmdH0sICR7bWFyZ2luLnRvcH0pYCk7XG5cbiAgICAvLyBQcmVwYXJlIHRoZSB0b29sdGlwIGRpc3BsYXllZCBvbiBtb3VzZW92ZXI6XG4gICAgcHJlcGFyZVRvb2x0aXAoc3ZnX2NvbnRhaW5lcik7XG5cbiAgICB0aGlzLmNvbXBsZXR1ZGUgPSBuZXcgQ29tcGxldHVkZVNlY3Rpb24oXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWFwX3NlY3Rpb24nKSxcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzdmdfbWFwJykpO1xuICAgIHRoaXMuY29tcGxldHVkZS51cGRhdGUoXG4gICAgICBjYWxjQ29tcGxldHVkZVN1YnNldChhcHAsIHRoaXMucmF0aW9zLCAnYXJyYXknKSxcbiAgICAgIGNhbGNQb3BDb21wbGV0dWRlU3Vic2V0KGFwcCwgdGhpcy5yYXRpb3MpKTtcblxuICAgIC8vIENyZWF0ZSB0aGUgYnV0dG9uIGFsbG93aW5nIHRvIGNob29zZVxuICAgIC8vIGlmIHRoZSBjb2xvcnMgYXJlIGludmVyc2VkXG4gICAgLy8gKGxpa2UgZ3JlZW4vcmVkIGZvciBzdXBlcmlvci9pbmZlcmlvciByZWdpb25zKVxuICAgIHN2Z19jb250YWluZXIuYXBwZW5kKCdpbWFnZScpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICB4OiB3aWR0aCArIG1hcmdpbi5sZWZ0ICsgNSxcbiAgICAgICAgeTogMjMyLjUsXG4gICAgICAgIHdpZHRoOiAxNSxcbiAgICAgICAgaGVpZ2h0OiAxNSxcbiAgICAgICAgJ3hsaW5rOmhyZWYnOiAnaW1nL3JldmVyc2VfcGx1cy5wbmcnLFxuICAgICAgICBpZDogJ2ltZ19yZXZlcnNlJyxcbiAgICAgIH0pXG4gICAgICAub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLnNlcmllX2ludmVyc2VkID0gIXRoaXMuc2VyaWVfaW52ZXJzZWQ7XG4gICAgICAgIHRoaXMuYXBwbHlTZWxlY3Rpb24odGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uLmxlbmd0aCk7XG4gICAgICB9KTtcblxuICAgIC8vIENyZWF0ZSB0aGUgc2VjdGlvbiBjb250YWluaW5nIHRoZSBpbnB1dCBlbGVtZW50IGFsbG93aW5nIHRvIGNob3NlXG4gICAgLy8gaG93IG1hbnkgXCJjbG9zZVwiIHJlZ2lvbnMgd2Ugd2FudCB0byBoaWdobGlnaHQuXG4gICAgY29uc3QgbWVudV9zZWxlY3Rpb24gPSBkMy5zZWxlY3Qoc3ZnX2Jhci5ub2RlKCkucGFyZW50RWxlbWVudClcbiAgICAgIC5hcHBlbmQoJ2RpdicpXG4gICAgICAuYXR0cignaWQnLCAnbWVudV9zZWxlY3Rpb24nKVxuICAgICAgLnN0eWxlcyh7IHBvc2l0aW9uOiAncmVsYXRpdmUnLCBjb2xvcjogJyM0ZjgxYmQnLCAndGV4dC1hbGlnbic6ICdjZW50ZXInIH0pO1xuICAgIGNvbnN0IHNlbGVjdGlvbl9jbG9zZSA9IG1lbnVfc2VsZWN0aW9uLmFwcGVuZCgncCcpO1xuICAgIHNlbGVjdGlvbl9jbG9zZS5hcHBlbmQoJ3NwYW4nKVxuICAgICAgLmh0bWwoJ1PDqWxlY3Rpb24gZGVzJyk7XG4gICAgc2VsZWN0aW9uX2Nsb3NlLmFwcGVuZCgnaW5wdXQnKVxuICAgICAgLmF0dHJzKHsgY2xhc3M6ICduYl9zZWxlY3QnLCB0eXBlOiAnbnVtYmVyJyB9KVxuICAgICAgLnN0eWxlcyh7IGNvbG9yOiAnIzRmODFiZCcsICdtYXJnaW4tbGVmdCc6ICcxcHgnIH0pXG4gICAgICAucHJvcGVydHkoJ3ZhbHVlJywgNSk7XG4gICAgc2VsZWN0aW9uX2Nsb3NlLmFwcGVuZCgnc3BhbicpXG4gICAgICAuaHRtbCgncsOpZ2lvbnMgbGVzIHBsdXMgcHJvY2hlcycpO1xuICAgIGNvbnN0IHNlY3Rpb24gPSBtZW51X3NlbGVjdGlvbi5hcHBlbmQoJ3NlY3Rpb24nKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ3NsaWRlci1jaGVja2JveCcpO1xuICAgIHNlY3Rpb24uYXBwZW5kKCdpbnB1dCcpXG4gICAgICAuYXR0cnMoeyB0eXBlOiAnY2hlY2tib3gnLCBpZDogJ2NoZWNrX3Byb3AnIH0pO1xuICAgIHNlY3Rpb24uYXBwZW5kKCdsYWJlbCcpXG4gICAgICAuYXR0cnMoeyBjbGFzczogJ2xhYmVsJywgZm9yOiAnY2hlY2tfcHJvcCcgfSlcbiAgICAgIC50ZXh0KCdDZXJjbGVzIHByb3BvcnRpb25uZWxzIGF1IG51bcOpcmF0ZXVyJyk7XG5cbiAgICB0aGlzLmJpbmRNZW51KCk7XG4gICAgdGhpcy5tYWtlVGFibGVTdGF0KCk7XG4gIH1cblxuICBhcHBseVNlbGVjdGlvbihuYikge1xuICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICBpZiAobmIgPiAwKSB7XG4gICAgICB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24gPSB0aGlzLmRhdGEubWFwKChmdCkgPT4ge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1wcm9wZXJ0aWVzXG4gICAgICAgIGNvbnN0IGdsb2JhbF9kaXN0ID0gbWF0aF9zcXJ0KHRoaXMucmF0aW9zLm1hcCh2ID0+IGBkaXN0XyR7dn1gKS5tYXAodiA9PiBNYXRoLnBvdyhmdFt2XSwgMikpLnJlZHVjZSgoYSwgYikgPT4gYSArIGIpKTtcbiAgICAgICAgY29uc3Qgb2JqID0ge1xuICAgICAgICAgIGlkOiBmdC5pZCxcbiAgICAgICAgICBkaXN0OiBnbG9iYWxfZGlzdCxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5yYXRpb3MuZm9yRWFjaCgodikgPT4geyBvYmpbdl0gPSBmdFt2XTsgfSk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbi5zb3J0KChhLCBiKSA9PiBhLmRpc3QgLSBiLmRpc3QpO1xuICAgICAgdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uID0gdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uLnNsaWNlKDEsIG5iICsgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbiA9IFtdO1xuICAgIH1cbiAgICB0aGlzLnJlbW92ZUxpbmVzKCk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZGF0YSA9IHNlbGYuZGF0YTtcbiAgICBjb25zdCBoaWdobGlnaHRfc2VsZWN0aW9uID0gc2VsZi5oaWdobGlnaHRfc2VsZWN0aW9uO1xuICAgIGNvbnN0IG5iX3ZhcmlhYmxlcyA9IHNlbGYucmF0aW9zLmxlbmd0aDtcbiAgICBjb25zdCBvZmZzZXQgPSBoZWlnaHQgLyBuYl92YXJpYWJsZXMgKyAxO1xuICAgIGxldCBoZWlnaHRfdG9fdXNlID0gb2Zmc2V0IC8gMjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5iX3ZhcmlhYmxlczsgaSsrKSB7XG4gICAgICBjb25zdCByYXRpb19uYW1lID0gc2VsZi5yYXRpb3NbaV07XG4gICAgICBjb25zdCBudW1fbmFtZSA9IHNlbGYubnVtc1tpXTtcbiAgICAgIGNvbnN0IG15X3JlZ2lvbl92YWx1ZSA9IHNlbGYubXlfcmVnaW9uW3JhdGlvX25hbWVdO1xuICAgICAgY29uc3QgcmF0aW9fdmFsdWVzID0gdGhpcy5kYXRhLm1hcChkID0+IGRbcmF0aW9fbmFtZV0pO1xuICAgICAgbGV0IGcgPSB0aGlzLmRyYXdfZ3JvdXAuc2VsZWN0KGAjJHtyYXRpb19uYW1lfWApO1xuICAgICAgbGV0IGF4aXMgPSB0aGlzLmRyYXdfZ3JvdXAuc2VsZWN0KGBnLmF4aXMtLXguJHtyYXRpb19uYW1lfWApO1xuICAgICAgaWYgKCFnLm5vZGUoKSkge1xuICAgICAgICBnID0gdGhpcy5kcmF3X2dyb3VwXG4gICAgICAgICAgLmFwcGVuZCgnZycpXG4gICAgICAgICAgLmF0dHJzKHtcbiAgICAgICAgICAgIGlkOiByYXRpb19uYW1lLFxuICAgICAgICAgICAgbnVtOiBudW1fbmFtZSxcbiAgICAgICAgICAgIGNsYXNzOiAnZ3JwX3ZhcicsXG4gICAgICAgICAgfSk7XG4gICAgICAgIGF4aXMgPSBnLmFwcGVuZCgnZycpXG4gICAgICAgICAgLmF0dHJzKHtcbiAgICAgICAgICAgIGNsYXNzOiBgYXhpcyBheGlzLS14ICR7cmF0aW9fbmFtZX1gLFxuICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKDAsIDEwKScsXG4gICAgICAgICAgfSk7XG4gICAgICAgIGcuYXBwZW5kKCd0ZXh0JylcbiAgICAgICAgICAuYXR0cnMoe1xuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IC03LjUsXG4gICAgICAgICAgICBmaWxsOiAnIzRmODFiZCcsXG4gICAgICAgICAgICAnZm9udC1zaXplJzogJzExcHgnLFxuICAgICAgICAgICAgJ2ZvbnQtd2VpZ2h0JzogJ2JvbGQnLFxuICAgICAgICAgICAgJ2ZvbnQtZmFtaWx5JzogJ1wiU2lnbmlrYVwiLHNhbnMtc2VyaWYnLFxuICAgICAgICAgIH0pXG4gICAgICAgICAgLnRleHQocmF0aW9fbmFtZSk7XG4gICAgICB9XG4gICAgICBnLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoMCwgJHtoZWlnaHRfdG9fdXNlfSlgKTtcbiAgICAgIGxldCBfbWluO1xuICAgICAgbGV0IF9tYXg7XG4gICAgICB0aGlzLmRhdGEuc29ydCgoYSwgYikgPT4gYltgZGlzdF8ke3JhdGlvX25hbWV9YF0gLSBhW2BkaXN0XyR7cmF0aW9fbmFtZX1gXSk7XG4gICAgICBpZiAoaGlnaGxpZ2h0X3NlbGVjdGlvbi5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGRpc3RfYXhpcyA9IE1hdGgubWF4KFxuICAgICAgICAgIG1hdGhfYWJzKG15X3JlZ2lvbl92YWx1ZSAtICtkMy5taW4oaGlnaGxpZ2h0X3NlbGVjdGlvbiwgZCA9PiBkW3JhdGlvX25hbWVdKSksXG4gICAgICAgICAgbWF0aF9hYnMoK2QzLm1heChoaWdobGlnaHRfc2VsZWN0aW9uLCBkID0+IGRbcmF0aW9fbmFtZV0pIC0gbXlfcmVnaW9uX3ZhbHVlKSk7XG4gICAgICAgIGNvbnN0IG1hcmdpbl9taW5fbWF4ID0gbWF0aF9yb3VuZChkaXN0X2F4aXMpIC8gODtcbiAgICAgICAgX21pbiA9IG15X3JlZ2lvbl92YWx1ZSAtIGRpc3RfYXhpcyAtIG1hcmdpbl9taW5fbWF4O1xuICAgICAgICBfbWF4ID0gbXlfcmVnaW9uX3ZhbHVlICsgZGlzdF9heGlzICsgbWFyZ2luX21pbl9tYXg7XG4gICAgICAgIC8vIGlmIChfbWluID4gX21heCkgeyBbX21pbiwgX21heF0gPSBbX21heCwgX21pbl07IH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGRpc3RfYXhpcyA9IE1hdGgubWF4KFxuICAgICAgICAgIG1hdGhfYWJzKG15X3JlZ2lvbl92YWx1ZSAtIGQzLm1pbihyYXRpb192YWx1ZXMpKSxcbiAgICAgICAgICBtYXRoX2FicyhkMy5tYXgocmF0aW9fdmFsdWVzKSAtIG15X3JlZ2lvbl92YWx1ZSkpO1xuICAgICAgICBjb25zdCBtYXJnaW5fbWluX21heCA9IG1hdGhfcm91bmQoZGlzdF9heGlzKSAvIDg7XG4gICAgICAgIF9taW4gPSBteV9yZWdpb25fdmFsdWUgLSBkaXN0X2F4aXMgLSBtYXJnaW5fbWluX21heDtcbiAgICAgICAgX21heCA9IG15X3JlZ2lvbl92YWx1ZSArIGRpc3RfYXhpcyArIG1hcmdpbl9taW5fbWF4O1xuICAgICAgfVxuICAgICAgdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgICAgYXBwLmNvbG9yc1tlbGVtLmlkXSA9IGNvbXAoZWxlbVtyYXRpb19uYW1lXSwgbXlfcmVnaW9uX3ZhbHVlLCB0aGlzLnNlcmllX2ludmVyc2VkKTtcbiAgICAgIH0pO1xuXG4gICAgICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuXG4gICAgICBjb25zdCBzaXplX2Z1bmMgPSB0aGlzLnByb3BvcnRpb25uYWxfc3ltYm9scyA/IG5ldyBQcm9wU2l6ZXIoZDMubWF4KGRhdGEsIGQgPT4gZFtudW1fbmFtZV0pLCAzMykuc2NhbGUgOiAoKSA9PiA3LjU7XG4gICAgICBjb25zdCB4U2NhbGUgPSBkMy5zY2FsZUxpbmVhcigpXG4gICAgICAgIC5kb21haW4oW19taW4sIF9tYXhdKVxuICAgICAgICAucmFuZ2UoWzAsIHdpZHRoXSk7XG5cbiAgICAgIGF4aXNcbiAgICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgICAuZHVyYXRpb24oMTI1KVxuICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHhTY2FsZSkpO1xuXG4gICAgICBjb25zdCBidWJibGVzID0gZy5zZWxlY3RBbGwoJy5idWJibGUnKVxuICAgICAgICAuZGF0YShkYXRhLCBkID0+IGQuaWQpO1xuXG4gICAgICBidWJibGVzXG4gICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgLmR1cmF0aW9uKDEyNSlcbiAgICAgICAgLmF0dHJzKChkKSA9PiB7XG4gICAgICAgICAgbGV0IHhfdmFsdWUgPSB4U2NhbGUoZFtyYXRpb19uYW1lXSk7XG4gICAgICAgICAgaWYgKHhfdmFsdWUgPiB3aWR0aCkgeF92YWx1ZSA9IHdpZHRoICsgMjAwO1xuICAgICAgICAgIGVsc2UgaWYgKHhfdmFsdWUgPCAwKSB4X3ZhbHVlID0gLTIwMDtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY3g6IHhfdmFsdWUsXG4gICAgICAgICAgICBjeTogMTAsXG4gICAgICAgICAgICByOiBzaXplX2Z1bmMoZFtudW1fbmFtZV0pLFxuICAgICAgICAgIH07XG4gICAgICAgIH0pXG4gICAgICAgIC5zdHlsZXMoZCA9PiAoe1xuICAgICAgICAgIGZpbGw6IGFwcC5jb2xvcnNbZC5pZF0gfHwgY29sb3JfY291bnRyaWVzLFxuICAgICAgICAgICdmaWxsLW9wYWNpdHknOiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uID8gMSA6IGFwcC5jb2xvcnNbZC5pZF0gPyAwLjcgOiAwLjEsXG4gICAgICAgICAgc3Ryb2tlOiAnZGFya2dyYXknLFxuICAgICAgICAgICdzdHJva2Utd2lkdGgnOiAwLjc1LFxuICAgICAgICAgICdzdHJva2Utb3BhY2l0eSc6IDAuNzUsXG4gICAgICAgIH0pKTtcblxuICAgICAgYnViYmxlc1xuICAgICAgICAuZW50ZXIoKVxuICAgICAgICAuaW5zZXJ0KCdjaXJjbGUnKVxuICAgICAgICAuc3R5bGVzKGQgPT4gKHtcbiAgICAgICAgICBmaWxsOiBhcHAuY29sb3JzW2QuaWRdIHx8IGNvbG9yX2NvdW50cmllcyxcbiAgICAgICAgICAnZmlsbC1vcGFjaXR5JzogZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbiA/IDEgOiBhcHAuY29sb3JzW2QuaWRdID8gMC43IDogMC4xLFxuICAgICAgICAgIHN0cm9rZTogJ2RhcmtncmF5JyxcbiAgICAgICAgICAnc3Ryb2tlLXdpZHRoJzogMC43NSxcbiAgICAgICAgICAnc3Ryb2tlLW9wYWNpdHknOiAwLjc1LFxuICAgICAgICB9KSlcbiAgICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgICAuZHVyYXRpb24oMTI1KVxuICAgICAgICAuYXR0cnMoKGQpID0+IHtcbiAgICAgICAgICBsZXQgeF92YWx1ZSA9IHhTY2FsZShkW3JhdGlvX25hbWVdKTtcbiAgICAgICAgICBpZiAoeF92YWx1ZSA+IHdpZHRoKSB4X3ZhbHVlID0gd2lkdGggKyAyMDA7XG4gICAgICAgICAgZWxzZSBpZiAoeF92YWx1ZSA8IDApIHhfdmFsdWUgPSAtMjAwO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogZC5pZCxcbiAgICAgICAgICAgIGNsYXNzOiAnYnViYmxlJyxcbiAgICAgICAgICAgIGN4OiB4X3ZhbHVlLFxuICAgICAgICAgICAgY3k6IDEwLFxuICAgICAgICAgICAgcjogc2l6ZV9mdW5jKGRbbnVtX25hbWVdKSxcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcblxuICAgICAgYnViYmxlcy5leGl0KCkudHJhbnNpdGlvbigpLmR1cmF0aW9uKDEyNSkucmVtb3ZlKCk7XG4gICAgICBoZWlnaHRfdG9fdXNlICs9IG9mZnNldDtcbiAgICB9XG4gICAgc2V0VGltZW91dCgoKSA9PiB7IHRoaXMubWFrZVRvb2x0aXBzKCk7IH0sIDEyNSk7XG4gIH1cblxuICB1cGRhdGVDb21wbGV0dWRlKCkge1xuICAgIHRoaXMuY29tcGxldHVkZS51cGRhdGUoXG4gICAgICBjYWxjQ29tcGxldHVkZVN1YnNldChhcHAsIHRoaXMucmF0aW9zLCAnYXJyYXknKSxcbiAgICAgIGNhbGNQb3BDb21wbGV0dWRlU3Vic2V0KGFwcCwgdGhpcy5yYXRpb3MpKTtcbiAgfVxuXG4gIHVwZGF0ZU1hcFJlZ2lvKCkge1xuICAgIGlmICghdGhpcy5tYXBfZWxlbSkgcmV0dXJuO1xuICAgIHRoaXMubWFwX2VsZW0udGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuYXR0cignZmlsbCcsIChkKSA9PiB7XG4gICAgICAgIGNvbnN0IF9pZCA9IGQuaWQ7XG4gICAgICAgIGlmIChfaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pIHtcbiAgICAgICAgICByZXR1cm4gY29sb3JfaGlnaGxpZ2h0O1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY3VycmVudF9pZHMuaW5kZXhPZihfaWQpID4gLTEpIHtcbiAgICAgICAgICBpZiAoYXBwLmNvbG9yc1tfaWRdKSByZXR1cm4gY29sb3JfZGVmYXVsdF9kaXNzaW07XG4gICAgICAgICAgcmV0dXJuIGNvbG9yX2NvdW50cmllcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sb3JfZGlzYWJsZWQ7XG4gICAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZUNsaWNrTWFwKGQsIHBhcmVudCkge1xuICAgIGxldCB0b19kaXNwbGF5ID0gZmFsc2U7XG4gICAgY29uc3QgaWQgPSBkLmlkO1xuICAgIGlmICh0aGlzLmN1cnJlbnRfaWRzLmluZGV4T2YoaWQpIDwgMCB8fCBpZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbikgcmV0dXJuO1xuICAgIGlmIChhcHAuY29sb3JzW2lkXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBSZW1vdmUgdGhlIGNsaWNrZWQgZmVhdHVyZSBmcm9tIHRoZSBjb2xvcmVkIHNlbGVjdGlvbiBvbiB0aGUgY2hhcnQ6XG4gICAgICBjb25zdCBpZF90b19yZW1vdmUgPSB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb25cbiAgICAgICAgLm1hcCgoZnQsIGkpID0+IChmdC5pZCA9PT0gaWQgPyBpIDogbnVsbCkpLmZpbHRlcihmdCA9PiBmdClbMF07XG4gICAgICB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24uc3BsaWNlKGlkX3RvX3JlbW92ZSwgMSk7XG4gICAgICAvLyBDaGFuZ2UgaXRzIGNvbG9yIGluIHRoZSBnbG9iYWwgY29sb3JzIG9iamVjdDpcbiAgICAgIGFwcC5jb2xvcnNbaWRdID0gdW5kZWZpbmVkO1xuICAgICAgLy8gQ2hhbmdlIHRoZSBjb2xvciBvbiB0aGUgbWFwOlxuICAgICAgZDMuc2VsZWN0KHBhcmVudCkuYXR0cignZmlsbCcsIGNvbG9yX2NvdW50cmllcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwcC5jb2xvcnNbaWRdID0gY29sb3JfZGVmYXVsdF9kaXNzaW07XG4gICAgICAvLyBDaGFuZ2UgdGhlIGNvbG9yIG9uIHRoZSBtYXA6XG4gICAgICBkMy5zZWxlY3QocGFyZW50KS5hdHRyKCdmaWxsJywgY29sb3JfZGVmYXVsdF9kaXNzaW0pO1xuICAgICAgLy8gQWRkIHRoZSBjbGlja2VkIGZlYXR1cmUgb24gdGhlIGNvbG9yZWQgc2VsZWN0aW9uIG9uIHRoZSBjaGFydDpcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXByb3BlcnRpZXNcbiAgICAgIGNvbnN0IGdsb2JhbF9kaXN0ID0gbWF0aF9zcXJ0KHRoaXMucmF0aW9zLm1hcCh2ID0+IGBkaXN0XyR7dn1gKS5tYXAodiA9PiBNYXRoLnBvdygrZC5wcm9wZXJ0aWVzW3ZdLCAyKSkucmVkdWNlKChhLCBiKSA9PiBhICsgYikpO1xuICAgICAgY29uc3Qgb2JqID0ge1xuICAgICAgICBpZCxcbiAgICAgICAgZGlzdDogZ2xvYmFsX2Rpc3QsXG4gICAgICB9O1xuICAgICAgdGhpcy5yYXRpb3MuZm9yRWFjaCgodikgPT4geyBvYmpbdl0gPSArZC5wcm9wZXJ0aWVzW3ZdOyB9KTtcbiAgICAgIHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbi5wdXNoKG9iaik7XG4gICAgICB0b19kaXNwbGF5ID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uLnNvcnQoKGEsIGIpID0+IGEuZGlzdCAtIGIuZGlzdCk7XG4gICAgdGhpcy5yZW1vdmVMaW5lcygpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gICAgaWYgKHRvX2Rpc3BsYXkpIHNldFRpbWVvdXQoKCkgPT4geyB0aGlzLmRpc3BsYXlMaW5lKGlkKTsgfSwgMTUwKTtcbiAgfVxuXG4gIG1ha2VUb29sdGlwcygpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICB0aGlzLmRyYXdfZ3JvdXAuc2VsZWN0QWxsKCdnLmdycF92YXInKVxuICAgICAgLnNlbGVjdEFsbCgnY2lyY2xlJylcbiAgICAgICAgLm9uKCdtb3VzZW92ZXInLCAoKSA9PiB7XG4gICAgICAgICAgc3ZnX2NvbnRhaW5lci5zZWxlY3QoJy50b29sdGlwJykuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKCdtb3VzZW91dCcsICgpID0+IHtcbiAgICAgICAgICBzdmdfY29udGFpbmVyLnNlbGVjdCgnLnRvb2x0aXAnKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICBjb25zdCB0b29sdGlwID0gc3ZnX2NvbnRhaW5lci5zZWxlY3QoJy50b29sdGlwJyk7XG4gICAgICAgICAgY29uc3QgcmF0aW9fbiA9IHRoaXMucGFyZW50RWxlbWVudC5pZDtcbiAgICAgICAgICBjb25zdCBudW1fbiA9IHRoaXMucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ251bScpO1xuICAgICAgICAgIGNvbnN0IHR5ID0gK3RoaXMucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScpLnNwbGl0KCd0cmFuc2xhdGUoMCwgJylbMV0uc3BsaXQoJyknKVswXTtcbiAgICAgICAgICB0b29sdGlwLnNlbGVjdCgncmVjdCcpLmF0dHJzKHsgd2lkdGg6IDAsIGhlaWdodDogMCB9KTtcbiAgICAgICAgICB0b29sdGlwXG4gICAgICAgICAgICAuc2VsZWN0KCd0ZXh0LmlkX2ZlYXR1cmUnKVxuICAgICAgICAgICAgLnRleHQoYCR7ZC5pZH1gKTtcbiAgICAgICAgICB0b29sdGlwLnNlbGVjdCgndGV4dC52YWx1ZV9mZWF0dXJlMScpXG4gICAgICAgICAgICAudGV4dChgUmF0aW86ICR7TWF0aC5yb3VuZChkW3JhdGlvX25dICogMTApIC8gMTB9YCk7XG4gICAgICAgICAgdG9vbHRpcC5zZWxlY3QoJ3RleHQudmFsdWVfZmVhdHVyZTInKVxuICAgICAgICAgICAgLnRleHQoYFN0b2NrOiAke01hdGgucm91bmQoZFtudW1fbl0gKiAxMCkgLyAxMH1gKTtcbiAgICAgICAgICBjb25zdCBiID0gdG9vbHRpcC5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgdG9vbHRpcC5zZWxlY3QoJ3JlY3QnKVxuICAgICAgICAgICAgLmF0dHJzKHtcbiAgICAgICAgICAgICAgd2lkdGg6IGIud2lkdGggKyAyMCxcbiAgICAgICAgICAgICAgaGVpZ2h0OiBiLmhlaWdodCArIDcuNSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIHRvb2x0aXBcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7W2QzLm1vdXNlKHRoaXMpWzBdIC0gNSwgZDMubW91c2UodGhpcylbMV0gLSA0NSArIHR5XX0pYCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgIGlmICh0aGlzLnN0eWxlLmZpbGwgIT09IGNvbG9yX2NvdW50cmllcykgc2VsZi5kaXNwbGF5TGluZShkLmlkKTtcbiAgICAgICAgfSk7XG4gIH1cblxuICBkaXNwbGF5TGluZShpZF9yZWdpb24pIHtcbiAgICBpZiAodGhpcy5yYXRpb3MubGVuZ3RoID09PSAxKSByZXR1cm47XG4gICAgY29uc3QgY29vcmRzID0gW107XG4gICAgc3ZnX2NvbnRhaW5lci5zZWxlY3RBbGwoJy5ncnBfdmFyJylcbiAgICAgIC5zZWxlY3RBbGwoYCMke2lkX3JlZ2lvbn0uYnViYmxlYClcbiAgICAgIC5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgdHkgPSArdGhpcy5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgndHJhbnNmb3JtJykuc3BsaXQoJ3RyYW5zbGF0ZSgwLCAnKVsxXS5yZXBsYWNlKCcpJywgJycpO1xuICAgICAgICBjb29yZHMucHVzaChbdGhpcy5jeC5iYXNlVmFsLnZhbHVlLCB0aGlzLmN5LmJhc2VWYWwudmFsdWUgKyB0eV0pO1xuICAgICAgfSk7XG5cbiAgICBjb25zdCBsID0gdGhpcy5kcmF3X2dyb3VwLmFwcGVuZCgncGF0aCcpXG4gICAgICAuZGF0dW0oY29vcmRzKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgY2xhc3M6ICdyZWdpb19saW5lJyxcbiAgICAgICAgZmlsbDogJ25vbmUnLFxuICAgICAgICBzdHJva2U6ICdzdGVlbGJsdWUnLFxuICAgICAgICAnc3Ryb2tlLWxpbmVqb2luJzogJ3JvdW5kJyxcbiAgICAgICAgJ3N0cm9rZS1saW5lY2FwJzogJ3JvdW5kJyxcbiAgICAgICAgJ3N0cm9rZS13aWR0aCc6IDEuNSxcbiAgICAgICAgZDogZDMubGluZSgpLngoX2QgPT4gX2RbMF0pLnkoX2QgPT4gX2RbMV0pLFxuICAgICAgfSk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBsLnJlbW92ZSgpO1xuICAgIH0sIDUwMDApO1xuICB9XG5cbiAgdXBkYXRlQ2hhbmdlUmVnaW9uKCkge1xuICAgIHRoaXMucmVtb3ZlTGluZXMoKTtcbiAgICBpZiAoYXBwLmN1cnJlbnRfY29uZmlnLmZpbHRlcl9rZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5jaGFuZ2VTdHVkeVpvbmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tYXBfZWxlbS51cGRhdGVMZWdlbmQoKTtcbiAgICAgIHRoaXMubXlfcmVnaW9uID0gdGhpcy5kYXRhLmZpbmQoZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKTtcbiAgICAgIHRoaXMuZGF0YVxuICAgICAgICAuZm9yRWFjaCgoZnQpID0+IHtcbiAgICAgICAgICB0aGlzLnJhdGlvcy5mb3JFYWNoKCh2KSA9PiB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgICAgIGZ0W2BkaXN0XyR7dn1gXSA9IG1hdGhfYWJzKCtmdFt2XSAtICt0aGlzLm15X3JlZ2lvblt2XSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgdGhpcy51cGRhdGVUYWJsZVN0YXQoKTtcbiAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgICAvLyB0aGlzLmFwcGx5U2VsZWN0aW9uKHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbi5sZW5ndGgpO1xuICAgIH1cbiAgfVxuXG4gIGNoYW5nZVN0dWR5Wm9uZSgpIHtcbiAgICB0aGlzLnJlbW92ZUxpbmVzKCk7XG4gICAgdGhpcy5tYXBfZWxlbS51cGRhdGVMZWdlbmQoKTtcbiAgICB0aGlzLnJhdGlvcyA9IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpbztcbiAgICB0aGlzLm51bXMgPSBhcHAuY3VycmVudF9jb25maWcubnVtO1xuICAgIHRoaXMuZGF0YSA9IGFwcC5jdXJyZW50X2RhdGEuZmlsdGVyKFxuICAgICAgZnQgPT4gdGhpcy5yYXRpb3MubWFwKHYgPT4gISFmdFt2XSkuZXZlcnkodiA9PiB2ID09PSB0cnVlKSkuc2xpY2UoKTtcbiAgICB0aGlzLm15X3JlZ2lvbiA9IHRoaXMuZGF0YS5maW5kKGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbik7XG4gICAgdGhpcy5kYXRhLmZvckVhY2goKGZ0KSA9PiB7XG4gICAgICB0aGlzLnJhdGlvcy5mb3JFYWNoKCh2KSA9PiB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICBmdFtgZGlzdF8ke3Z9YF0gPSBtYXRoX2FicygrZnRbdl0gLSArdGhpcy5teV9yZWdpb25bdl0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5jdXJyZW50X2lkcyA9IHRoaXMuZGF0YS5tYXAoZCA9PiBkLmlkKTtcbiAgICBjb25zdCB0ZW1wID0gdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uLmxlbmd0aDtcbiAgICB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24gPSBbXTtcbiAgICB0aGlzLnVwZGF0ZVRhYmxlU3RhdCgpO1xuICAgIHRoaXMudXBkYXRlQ29tcGxldHVkZSgpO1xuICAgIHRoaXMuYXBwbHlTZWxlY3Rpb24odGVtcCk7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICB9XG5cbiAgYWRkVmFyaWFibGUoY29kZV92YXJpYWJsZSwgbmFtZV92YXJpYWJsZSkge1xuICAgIHRoaXMucmVtb3ZlTGluZXMoKTtcbiAgICB0aGlzLnJhdGlvcyA9IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpby5zbGljZSgpO1xuICAgIHRoaXMubnVtcyA9IGFwcC5jdXJyZW50X2NvbmZpZy5udW0uc2xpY2UoKTtcbiAgICB0aGlzLmRhdGEgPSBhcHAuY3VycmVudF9kYXRhLmZpbHRlcihcbiAgICAgIGZ0ID0+IHRoaXMucmF0aW9zLm1hcCh2ID0+ICEhZnRbdl0pLmV2ZXJ5KHYgPT4gdiA9PT0gdHJ1ZSkpLnNsaWNlKCk7XG4gICAgdGhpcy5jdXJyZW50X2lkcyA9IHRoaXMuZGF0YS5tYXAoZCA9PiBkLmlkKTtcbiAgICB0aGlzLm15X3JlZ2lvbiA9IHRoaXMuZGF0YS5maW5kKGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbik7XG4gICAgdGhpcy5kYXRhLmZvckVhY2goKGZ0KSA9PiB7XG4gICAgICB0aGlzLnJhdGlvcy5mb3JFYWNoKCh2KSA9PiB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICBmdFtgZGlzdF8ke3Z9YF0gPSBtYXRoX2FicygrZnRbdl0gLSArdGhpcy5teV9yZWdpb25bdl0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uID0gdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uLm1hcCgoZCkgPT4ge1xuICAgICAgY29uc3Qgb2JqID0gT2JqZWN0LmFzc2lnbihkLCB7fSk7XG4gICAgICBjb25zdCBmdCA9IHRoaXMuZGF0YS5maW5kKGVsZW0gPT4gZWxlbS5pZCA9PT0gb2JqLmlkKTtcbiAgICAgIGlmICghZnQpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB0aGlzLnJhdGlvcy5mb3JFYWNoKCh2KSA9PiB7XG4gICAgICAgIG9ialt2XSA9ICtmdFt2XTtcbiAgICAgICAgb2JqW2BkaXN0XyR7dn1gXSA9ICtmdFtgZGlzdF8ke3Z9YF07XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfSkuZmlsdGVyKGQgPT4gISFkKTtcbiAgICAvLyBBbmQgdXNlIGl0IGltbWVkaWF0bHk6XG4gICAgdGhpcy51cGRhdGVUYWJsZVN0YXQoKTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgfVxuXG4gIHJlbW92ZVZhcmlhYmxlKGNvZGVfdmFyaWFibGUpIHtcbiAgICB0aGlzLnJlbW92ZUxpbmVzKCk7XG4gICAgdGhpcy5yYXRpb3MgPSBhcHAuY3VycmVudF9jb25maWcucmF0aW8uc2xpY2UoKTtcbiAgICB0aGlzLm51bXMgPSBhcHAuY3VycmVudF9jb25maWcubnVtLnNsaWNlKCk7XG4gICAgdGhpcy5kYXRhID0gYXBwLmN1cnJlbnRfZGF0YS5maWx0ZXIoXG4gICAgICBmdCA9PiB0aGlzLnJhdGlvcy5tYXAodiA9PiAhIWZ0W3ZdKS5ldmVyeSh2ID0+IHYgPT09IHRydWUpKS5zbGljZSgpO1xuICAgIHRoaXMubXlfcmVnaW9uID0gdGhpcy5kYXRhLmZpbmQoZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKTtcblxuICAgIHRoaXMuZHJhd19ncm91cC5zZWxlY3QoYGcjJHtjb2RlX3ZhcmlhYmxlfWApLnJlbW92ZSgpO1xuICAgIC8vIEFuZCB1c2UgaXQgaW1tZWRpYXRseTpcbiAgICB0aGlzLnVwZGF0ZVRhYmxlU3RhdCgpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICB9XG5cbiAgYmluZE1lbnUoKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgbWVudSA9IGQzLnNlbGVjdCgnI21lbnVfc2VsZWN0aW9uJyk7XG4gICAgY29uc3QgYXBwbHljaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBzZWxmLm1hcF9lbGVtLnJlbW92ZVJlY3RCcnVzaCgpO1xuICAgICAgY29uc3QgdmFsdWUgPSArdGhpcy52YWx1ZTtcbiAgICAgIGlmICh2YWx1ZSA8IDEpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IDE7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlbGYuYXBwbHlTZWxlY3Rpb24odmFsdWUpO1xuICAgIH07XG4gICAgbWVudS5zZWxlY3QoJy5uYl9zZWxlY3QnKVxuICAgICAgLm9uKCdjaGFuZ2UnLCBhcHBseWNoYW5nZSk7XG4gICAgbWVudS5zZWxlY3QoJy5uYl9zZWxlY3QnKVxuICAgICAgLm9uKCd3aGVlbCcsIGFwcGx5Y2hhbmdlKTtcbiAgICBtZW51LnNlbGVjdCgnLm5iX3NlbGVjdCcpXG4gICAgICAub24oJ2tleXVwJywgYXBwbHljaGFuZ2UpO1xuICAgIG1lbnUuc2VsZWN0KCcjY2hlY2tfcHJvcCcpXG4gICAgICAub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tlZCkge1xuICAgICAgICAgIHNlbGYucHJvcG9ydGlvbm5hbF9zeW1ib2xzID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLnByb3BvcnRpb25uYWxfc3ltYm9scyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYudXBkYXRlKCk7XG4gICAgICB9KTtcbiAgfVxuXG4gIHJlbW92ZUxpbmVzKCkge1xuICAgIHRoaXMuZHJhd19ncm91cC5zZWxlY3RBbGwoJy5yZWdpb19saW5lJykucmVtb3ZlKCk7XG4gIH1cblxuICByZW1vdmUoKSB7XG4gICAgdGhpcy5tYXBfZWxlbS51bmJpbmRCcnVzaENsaWNrKCk7XG4gICAgdGhpcy5tYXBfZWxlbSA9IG51bGw7XG4gICAgdGhpcy50YWJsZV9zdGF0cy5yZW1vdmUoKTtcbiAgICB0aGlzLnRhYmxlX3N0YXRzID0gbnVsbDtcbiAgICB0aGlzLmNvbXBsZXR1ZGUucmVtb3ZlKCk7XG4gICAgdGhpcy5jb21wbGV0dWRlID0gbnVsbDtcbiAgICBzdmdfYmFyLmh0bWwoJycpO1xuICB9XG5cbiAgYmluZE1hcChtYXBfZWxlbSkge1xuICAgIHRoaXMubWFwX2VsZW0gPSBtYXBfZWxlbTtcbiAgICB0aGlzLm1hcF9lbGVtLnJlc2V0Q29sb3JzKHRoaXMuY3VycmVudF9pZHMpO1xuICAgIHRoaXMubWFwX2VsZW0uZGlzcGxheUxlZ2VuZCgyKTtcbiAgICB0aGlzLmFwcGx5U2VsZWN0aW9uKDUpO1xuICB9XG5cbiAgcHJlcGFyZVRhYmxlU3RhdCgpIHtcbiAgICBjb25zdCByYXRpb3MgPSB0aGlzLnJhdGlvcztcbiAgICBjb25zdCBhbGxfdmFsdWVzID0gcmF0aW9zLm1hcCh2ID0+IHRoaXMuZGF0YS5tYXAoZCA9PiArZFt2XSkpO1xuICAgIGNvbnN0IG15X3JlZ2lvbiA9IHRoaXMubXlfcmVnaW9uO1xuICAgIGNvbnN0IGZlYXR1cmVzID0gYWxsX3ZhbHVlcy5tYXAoKHZhbHVlcywgaSkgPT4gKHtcbiAgICAgIE1pbjogZDMubWluKHZhbHVlcyksXG4gICAgICBNYXg6IGQzLm1heCh2YWx1ZXMpLFxuICAgICAgTW95ZW5uZTogZ2V0TWVhbih2YWx1ZXMpLFxuICAgICAgaWQ6IHRoaXMucmF0aW9zW2ldLFxuICAgICAgVmFyaWFibGU6IHRoaXMucmF0aW9zW2ldLFxuICAgICAgJ01hIHLDqWdpb24nOiBteV9yZWdpb25bdGhpcy5yYXRpb3NbaV1dLFxuICAgIH0pKTtcbiAgICByZXR1cm4gZmVhdHVyZXM7XG4gIH1cblxuICB1cGRhdGVUYWJsZVN0YXQoKSB7XG4gICAgdGhpcy50YWJsZV9zdGF0cy5yZW1vdmVBbGwoKTtcbiAgICB0aGlzLnRhYmxlX3N0YXRzLmFkZEZlYXR1cmVzKHRoaXMucHJlcGFyZVRhYmxlU3RhdCgpKTtcbiAgfVxuXG4gIG1ha2VUYWJsZVN0YXQoKSB7XG4gICAgY29uc3QgZmVhdHVyZXMgPSB0aGlzLnByZXBhcmVUYWJsZVN0YXQoKTtcbiAgICB0aGlzLnRhYmxlX3N0YXRzID0gbmV3IFRhYmxlUmVzdW1lU3RhdChmZWF0dXJlcyk7XG4gIH1cbn1cbiIsIi8vIGltcG9ydCBkZWJ1ZyBmcm9tICdkZWJ1Zyc7XG5pbXBvcnQgdGluZ2xlIGZyb20gJ3RpbmdsZS5qcyc7XG5pbXBvcnQgYWxlcnRpZnkgZnJvbSAnYWxlcnRpZnlqcyc7XG5pbXBvcnQgeyBjcmVhdGVNZW51IH0gZnJvbSAnLi9tb2R1bGVzL21lbnVsZWZ0JztcbmltcG9ydCB7IG1ha2VUb3BNZW51LCBtYWtlSGVhZGVyQ2hhcnQsIG1ha2VIZWFkZXJNYXBTZWN0aW9uIH0gZnJvbSAnLi9tb2R1bGVzL21lbnV0b3AnO1xuaW1wb3J0IHsgTWFwU2VsZWN0LCBtYWtlU291cmNlU2VjdGlvbiwgc3ZnX21hcCwgem9vbUNsaWNrIH0gZnJvbSAnLi9tb2R1bGVzL21hcCc7XG4vLyBpbXBvcnQgeyBtYWtlVGFibGUgfSBmcm9tICcuL21vZHVsZXMvdGFibGUnO1xuaW1wb3J0IHsgY29sb3JfaGlnaGxpZ2h0LCBNQVhfVkFSSUFCTEVTLCBSQVRJT19XSF9NQVAgfSBmcm9tICcuL21vZHVsZXMvb3B0aW9ucyc7XG5pbXBvcnQgeyBCYXJDaGFydDEgfSBmcm9tICcuL21vZHVsZXMvY2hhcnRzL2JhckNoYXJ0XzF2JztcbmltcG9ydCB7IFNjYXR0ZXJQbG90MiB9IGZyb20gJy4vbW9kdWxlcy9jaGFydHMvc2NhdHRlclBsb3RfMnYnO1xuaW1wb3J0IHsgUmFkYXJDaGFydDMgfSBmcm9tICcuL21vZHVsZXMvY2hhcnRzL3JhZGFyQ2hhcnRfM3YnO1xuaW1wb3J0IHsgU2ltaWxhcml0eTFwbHVzIH0gZnJvbSAnLi9tb2R1bGVzL2NoYXJ0cy9zaW1pbGFyaXR5MXYnO1xuaW1wb3J0IHsgdW5iaW5kVUksIHNlbGVjdEZpcnN0QXZhaWxhYmxlVmFyLCBwcmVwYXJlR2VvbUxheWVySWQsIGdldFJhbmRvbSB9IGZyb20gJy4vbW9kdWxlcy9oZWxwZXJzJztcbmltcG9ydCB7XG4gIHByZXBhcmVfZGF0YXNldCxcbiAgZmlsdGVyTGV2ZWxWYXIsXG4gIGFwcGx5RmlsdGVyLFxuICBjaGFuZ2VSZWdpb24sXG4gIGFkZFZhcmlhYmxlLFxuICByZW1vdmVWYXJpYWJsZSxcbiAgcmVzZXRWYXJpYWJsZXMsXG4gIHByZXBhcmVWYXJpYWJsZXNJbmZvLFxufSBmcm9tICcuL21vZHVsZXMvcHJlcGFyZV9kYXRhJztcblxuZXhwb3J0IGNvbnN0IHZhcmlhYmxlc19pbmZvID0gW107XG5cbmNvbnN0IHN0dWR5X3pvbmVzID0gW1xuICB7IGlkOiAnbm9fZmlsdGVyJywgbmFtZTogJ1VFMjgnIH0sXG4gIHsgaWQ6ICdmaWx0ZXJfY291bnRyeScsIG5hbWU6ICdGaWx0cmUgbmF0aW9uYWwgKEZyYW5jZSknIH0sXG4gIC8vIHsgaWQ6ICdmaWx0ZXJfcGFyYW0yJywgbmFtZTogJ0VzcGFjZSBkZSBjb21wYXJhaXNvbiBuwrAyJyB9LFxuICB7IGlkOiAnZmlsdGVyX2Rpc3QnLCBuYW1lOiAnUsOpZ2lvbiBkYW5zIHVuIHJheW9uIGRlICcgfSxcbl07XG5cbmNvbnN0IHRlcnJpdG9yaWFsX21lc2ggPSBbXG4gIHsgaWQ6ICdOVVRTMScsIG5hbWU6ICdOVVRTMScgfSxcbiAgeyBpZDogJ05VVFNfZGVjaXNpb24nLCBuYW1lOiAnTlVUUzEvMiAobml2ZWF1IGRlIGTDqWNpc2lvbiknIH1dO1xuXG5leHBvcnQgY29uc3QgYXBwID0ge1xuICAvLyBBIG1hcHBpbmcgaWQgLT4gY29sb3IsIGNvbnRhaW5pbmcgdGhlIGNvbG9yIHRvIHVzZSBmb3IgZWFjaFxuICAvLyBmZWF0dXJlIG5vdCB1c2luZyB0aGUgZGVmYXVsdCBjb2xvciBvciB0aGUgZGlzYWJsZWQgY29sb3JcbiAgY29sb3JzOiB7fSxcbiAgLy8gVGhlIGZpbHRlcmVkIGRhdGFzZXQgKGFjY2NvcmRpbmcgdG86IHRoZSBjdXJyZW50IHRlcnJpdG9yaWFsIGxldmVsLFxuICAvLyB0aGUgZmlsdGVyIGtleSAoaWYgYW55KSBhbmQgdGhlIHJhdGlvKHMpIHNlbGVjdGVkIG9uIHRoZSBsZWZ0IG1lbnU6XG4gIGN1cnJlbnRfZGF0YTogW10sXG4gIC8vIFRoZSBmdWxsIGRhdGFzZXQgcHJvdmlkZWQgKGNvbnRhaW5pbmcgYWxsIHRoZSBmZWF0dXJlcyBhdCBhbnkgbGV2ZWwgaW4gb25lIHRhYmxlKVxuICAvLyBSb3cgd2l0aG91dCBkYXRhIGFyZSBleHBlY3RlZCB0byBiZSBlbXB0eSBvciB0byBjb250YWluIHRoZSBcIk5BXCIgc3RyaW5nLlxuICBmdWxsX2RhdGFzZXQ6IFtdLFxuICAvLyBUaGUgaWRzIG9mIHRoZSBjdXJyZW50IGZlYXR1cmUgaW4gdXNlIChhY2Njb3JkaW5nIHRvOiB0aGUgY3VycmVudCB0ZXJyaXRvcmlhbCBsZXZlbCxcbiAgLy8gdGhlIGZpbHRlciBrZXkgKGlmIGFueSkgYW5kIHRoZSByYXRpbyhzKSB1c2VkIGluIHRoZSBjdXJyZW50IGNoYXJ0OyBmaWx0ZXJlZFxuICAvLyB0byBub3QgY29udGFpbiBmZWF0dXJlIHdpdGggZW1wdHkgcmF0aW8gdmFsdWVzIHdpdGhpbiB0aGUgcmF0aW9zIGluIHVzZSkuXG4gIGN1cnJlbnRfaWRzOiBbXSxcbn07XG5cbmZ1bmN0aW9uIHNldERlZmF1bHRDb25maWcoY29kZSA9ICdGUkUnLCB2YXJpYWJsZSA9ICdSVF9DSE9NXzE1NzQnKSB7IC8vIH0sIGxldmVsID0gJ05VVFMxJykge1xuICBhcHAuY3VycmVudF9jb25maWcgPSB7XG4gICAgLy8gVGhlIG5hbWUgb2YgdGhlIGZpZWxkIG9mIHRoZSBkYXRhc2V0IGNvbnRhaW5pbmcgdGhlIElEIG9mIGVhY2ggZmVhdHVyZTpcbiAgICBpZF9maWVsZDogJ2dlbycsXG4gICAgLy8gVGhlIG5hbWUgb2YgdGhlIGZpZWxkIG9mIHRoZSBkYXRhc2V0IGNvbnRhaW5pbmcgdGhlIG5hbWUgb2YgZWFjaCBmZWF0dXJlOlxuICAgIG5hbWVfZmllbGQ6ICdOb20nLFxuICAgIC8vIFRoZSBuYW1lIG9mIHRoZSBmaWVsZCBvZiB0aGUgZGF0YXNldCBjb250YWluaW5nIHRoZSBwb3B1bGF0aW9uIG9mIGVhY2ggZmVhdHVyZTpcbiAgICBwb3BfZmllbGQ6ICdQT1BfQUdFX1RfMjAxNicsXG4gICAgLy8gVGhlIG5hbWUgb2YgdGhlIGZpZWxkIG9mIHRoZSBnZW9qc29uIGxheWVyIGNvbnRhaW5pbmcgdGhlIElEIG9mIGVhY2ggZmVhdHVyZVxuICAgIC8vICh0aGVzZSB2YWx1ZXMgc2hvdWxkIG1hdGNoIHdpdGggdGhlIHZhbHVlcyBvZiB0aGUgXCJpZF9maWVsZFwiIGluIHRoZVxuICAgIC8vIHRhYnVsYXIgZGF0YXNldClcbiAgICBpZF9maWVsZF9nZW9tOiAnaWQnLFxuICAgIG51bTogWydDSE9NXzE1NzRfMjAxNiddLFxuICAgIGRlbnVtOiBbJ0FDVF8xNTc0XzIwMTYnXSxcbiAgICByYXRpbzogW3ZhcmlhYmxlXSxcbiAgICByYXRpb19wcmV0dHlfbmFtZTogWydUYXV4IGRlIGNow7RtYWdlICgxNS03NCBhbnMpICgyMDE2KSddLFxuICAgIHJhdGlvX3VuaXQ6IFsnJSddLFxuICAgIC8vIFRoZSBsZXZlbCBjdXJyZW50bHkgaW4gdXNlOlxuICAgIGN1cnJlbnRfbGV2ZWw6ICdOVVRTMScsXG4gICAgLy8gVGhlIElEIG9mIHRoZSByZWdpb24gY3VycmVudGx5IGluIHVzZTpcbiAgICBteV9yZWdpb246IGNvZGUsXG4gICAgLy8gVGhlIG5hbWUgb2YgdGhlIHJlZ2lvbiBjdXJyZW50bHkgaW4gdXNlOlxuICAgIG15X3JlZ2lvbl9wcmV0dHlfbmFtZTogYXBwLmZlYXR1cmVfbmFtZXNbY29kZV0sXG4gICAgLy8gSG93IG1hbnkgcmF0aW8gb24gdGhlIGN1cnJlbnQgY2hhcnQ6XG4gICAgbmJfdmFyOiAxLFxuICB9O1xuICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xufVxuXG5mdW5jdGlvbiBzZXREZWZhdWx0Q29uZmlnTWVudShjb2RlID0gJ0ZSRScsIHZhcmlhYmxlID0gJ1JUX0NIT01fMTU3NCcsIGxldmVsID0gJ05VVFMxJykge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAudGFyZ2V0X3JlZ2lvbi5zcXVhcmVbdmFsdWU9XCIke2NvZGV9XCJdYCkuY2xhc3NMaXN0LmFkZCgnY2hlY2tlZCcpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAudGFyZ2V0X3ZhcmlhYmxlLnNtYWxsX3NxdWFyZVt2YWx1ZT1cIiR7dmFyaWFibGV9XCJdYCkuY2xhc3NMaXN0LmFkZCgnY2hlY2tlZCcpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmlsdGVyX3Yuc3F1YXJlW2ZpbHRlci12YWx1ZT1cIm5vX2ZpbHRlclwiXScpLmNsYXNzTGlzdC5hZGQoJ2NoZWNrZWQnKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnRlcnJpdF9sZXZlbC5zcXVhcmVbdmFsdWU9XCIke2xldmVsfVwiXWApLmNsYXNzTGlzdC5hZGQoJ2NoZWNrZWQnKTtcbiAgdXBkYXRlQXZhaWxhYmxlUmF0aW9zKGNvZGUpO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiByZXNldENvbG9ycygpIHtcbiAgYXBwLmNvbG9ycyA9IHt9O1xuICAvLyBmb3IgKGxldCBpID0gMCwgbGVuX2kgPSBjdXJyZW50X2lkcy5sZW5ndGg7IGkgPCBsZW5faTsgaSsrKSB7XG4gIC8vICAgYXBwLmNvbG9yc1tjdXJyZW50X2lkc1tpXV0gPSBjb2xvcl9jb3VudHJpZXM7XG4gIC8vIH1cbiAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbn1cblxuLyoqXG4qIEZ1bmN0aW9uIHRvIHVwZGF0ZSB0aGUgYXZhaWxhYmxlcyByYXRpb3MgaW4gdGhlIGxlZnQgbWVudSAoYWZ0ZXIgY2hhbmdpbmcgcmVnaW9uKVxuKiBJZiBhIHNlbGVjdGVkIHZhcmlhYmxlIGlzIG5vdCBhdmFpbGFibGUgYW55bW9yZSBpdCB3aWxsIGJlIGRlc2VsZWN0ZWQuXG4qIElmIHRoZXJlIHNlbGVjdGVkIHZhcmlhYmxlIChhbGwgdGhlIHByZXZpb3VzbHkgc2VsZWN0ZWQgdmFyaWFibGVzIGFyZSB1bmF2YWlsYWJsZSBmb3IgdGhpcyByZWdpb24pXG4qIHRoZSBmaXJzdCB2YXJpYWJsZSBvbiB0aGUgbWVudSB3aWxsIGJlIHNlbGVjdGVkLlxuKiBJZiB0aGUgbmV3IG51bWJlciBvZiBzZWxlY3RlZCBmZWF0dXJlIGlzIGluZmVyaW9yIHRvIHRoZSBudW1iZXIgb2YgdmFyaWFibGVzIG9uIHRoZSBjdXJyZW50XG4qIGNoYXJ0LCBhIG5ldyBjaGFydCAoc3VpdGFibGUgZm9yIG9ubHkgMSB2YXJpYWJsZSkgd2lsbCBiZSBzZWxlY3RlZC5cbipcbipcbiogQHBhcmFtIHtTdHJpbmd9IG15X3JlZ2lvbiAtIFRoZSBJRCBvZiB0aGUgbmV3bHkgc2VsZWN0ZWQgcmVnaW9uLlxuKiBAcmV0dXJuIHtOdW1iZXJ9IC0gVGhlIG5ldyBudW1iZXIgb2Ygc2VsZWN0ZWQgcmF0aW9zLlxuKlxuKi9cbmZ1bmN0aW9uIHVwZGF0ZUF2YWlsYWJsZVJhdGlvcyhteV9yZWdpb24pIHtcbiAgY29uc3QgZGF0YV9teV9mZWF0dXJlID0gYXBwLmZ1bGxfZGF0YXNldC5maWx0ZXIoXG4gICAgZnQgPT4gZnRbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkXSA9PT0gbXlfcmVnaW9uKVswXTtcbiAgY29uc3QgbWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtZW51Jyk7XG4gIGNvbnN0IGxpbmVzID0gbWVudS5xdWVyeVNlbGVjdG9yQWxsKCcudGFyZ2V0X3ZhcmlhYmxlJyk7XG4gIGZvciAobGV0IGkgPSAwLCBuYl9saW5lcyA9IGxpbmVzLmxlbmd0aDsgaSA8IG5iX2xpbmVzOyBpKyspIHtcbiAgICBjb25zdCBjb2RlX3ZhcmlhYmxlID0gbGluZXNbaV0uZ2V0QXR0cmlidXRlKCd2YWx1ZScpO1xuICAgIGlmIChkYXRhX215X2ZlYXR1cmVbY29kZV92YXJpYWJsZV0gIT09IHVuZGVmaW5lZFxuICAgICAgICAmJiBkYXRhX215X2ZlYXR1cmVbY29kZV92YXJpYWJsZV0gIT09ICdOQScpIHtcbiAgICAgIGxpbmVzW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVkJyk7XG4gICAgICBsaW5lc1tpXS5uZXh0U2libGluZy5jbGFzc0xpc3QucmVtb3ZlKCdkaXNhYmxlZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsaW5lc1tpXS5jbGFzc0xpc3QucmVtb3ZlKCdjaGVja2VkJyk7XG4gICAgICBsaW5lc1tpXS5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xuICAgICAgbGluZXNbaV0ubmV4dFNpYmxpbmcuY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKTtcbiAgICB9XG4gIH1cbiAgY29uc3QgbmV3X3ZhciA9IG1lbnUucXVlcnlTZWxlY3RvckFsbCgnLnRhcmdldF92YXJpYWJsZS5jaGVja2VkJyk7XG4gIGlmIChuZXdfdmFyLmxlbmd0aCAhPT0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvLmxlbmd0aCkge1xuICAgIGxldCBuZXdfdmFyX25hbWVzO1xuICAgIGlmIChuZXdfdmFyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29uc3QgbmFtZSA9IHNlbGVjdEZpcnN0QXZhaWxhYmxlVmFyKCk7XG4gICAgICBuZXdfdmFyX25hbWVzID0gW25hbWVdO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdfdmFyX25hbWVzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoXG4gICAgICAgIG5ld192YXIpLm1hcChlbGVtID0+IGVsZW0uZ2V0QXR0cmlidXRlKCd2YWx1ZScpKTtcbiAgICB9XG4gICAgcmVzZXRWYXJpYWJsZXMoYXBwLCBuZXdfdmFyX25hbWVzKTtcbiAgfVxuICByZXR1cm4gbmV3X3Zhci5sZW5ndGg7XG59XG5cbi8qKlxuKiBVcGRhdGUgdGhlIG1lbnUgbG9jYXRlZCBvbiB0aGUgdG9wIG9mIHRoZSB3aW5kb3cgdGhlIGRpc3BsYXkgdGhlIGF2YWlsYWJsZVxuKiBjaGFydHMsIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBudW1iZXIgb2Ygc2VsZWN0ZWQgdmFyaWFibGVzLlxuKlxuKiBAcGFyYW0ge051bWJlcn0gbmJfdmFyIC0gSG93IG1hbnkgdmFyaWFibGVzIGFyZSBjdXJyZW50bHkgc2VsZWN0ZWQuXG4qIEByZXR1cm4ge3ZvaWR9XG4qXG4qL1xuZnVuY3Rpb24gdXBkYXRlQXZhaWxhYmxlQ2hhcnRzKG5iX3Zhcikge1xuICBpZiAobmJfdmFyID09PSAxKSB7IC8vIEFsbG93IGFsbCBraW5kIG9mIHZpenUgd2l0aCAxIHZhcmlhYmxlOlxuICAgIGQzLnNlbGVjdEFsbCgnLmNoYXJ0X3QxJykuZWFjaChmdW5jdGlvbiAoKSB7IHRoaXMuY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZWQnKTsgfSk7XG4gICAgZDMuc2VsZWN0QWxsKCcuY2hhcnRfdDIsIC5jaGFydF90MycpLmVhY2goZnVuY3Rpb24gKCkgeyB0aGlzLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJyk7IH0pO1xuICB9IGVsc2UgaWYgKG5iX3ZhciA9PT0gMikgeyAvLyBBbGxvdyBhbGwga2luZCBvZiB2aXp1IHdpdGggMiB2YXJpYWJsZXM6XG4gICAgZDMuc2VsZWN0QWxsKCcuY2hhcnRfdDEsIC5jaGFydF90MicpLmVhY2goZnVuY3Rpb24gKCkgeyB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVkJyk7IH0pO1xuICAgIGQzLnNlbGVjdEFsbCgnLmNoYXJ0X3QzJykuZWFjaChmdW5jdGlvbiAoKSB7IHRoaXMuY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKTsgfSk7XG4gIH0gZWxzZSBpZiAobmJfdmFyID4gMikgeyAvLyBBbGxvdyBhbGwga2luZCBvZiB2aXp1IHdpdGggMyB2YXJpYWJsZXM6XG4gICAgZDMuc2VsZWN0QWxsKCcuY2hhcnRfdDEsIC5jaGFydF90MiwgLmNoYXJ0X3QzJykuZWFjaChmdW5jdGlvbiAoKSB7IHRoaXMuY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZWQnKTsgfSk7XG4gIH1cbn1cblxuLyoqXG4qIENyZWF0ZSBoYW5kbGVycyBmb3IgdXNlciBldmVudCBvbiB0aGUgbGVmdCBtZW51IGFuZCBvbiB0aGUgbWFwIGZvciBjaGFydHMgb25seVxuKiBhbGxvd2luZyB0byB1c2UgMSB2YXJpYWJsZS5cbipcbiogQHBhcmFtIHtPYmplY3R9IGNoYXJ0IC0gVGhlIGNoYXJ0IG9iamVjdC5cbiogQHBhcmFtIHtPYmplY3R9IG1hcF9lbGVtIC0gVGhlIG1hcCBvYmplY3QuXG4qIEByZXR1cm4ge3ZvaWR9XG4qXG4qL1xuZnVuY3Rpb24gYmluZFVJX2NoYXJ0KGNoYXJ0LCBtYXBfZWxlbSkge1xuICAvLyBVc2VyIGNoYW5nZSB0aGUgc3R1ZHkgem9uZTpcbiAgZDMuc2VsZWN0QWxsKCdzcGFuLmZpbHRlcl92JylcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCF0aGlzLmNsYXNzTGlzdC5jb250YWlucygnY2hlY2tlZCcpKSB7XG4gICAgICAgIGQzLnNlbGVjdEFsbCgnc3Bhbi5maWx0ZXJfdicpLmF0dHIoJ2NsYXNzJywgJ2ZpbHRlcl92IHNxdWFyZScpO1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2NoZWNrZWQnKTtcbiAgICAgICAgY29uc3QgZmlsdGVyX3R5cGUgPSB0aGlzLmdldEF0dHJpYnV0ZSgnZmlsdGVyLXZhbHVlJyk7XG4gICAgICAgIGlmIChmaWx0ZXJfdHlwZSA9PT0gJ2ZpbHRlcl9kaXN0Jykge1xuICAgICAgICAgIGNvbnN0IGlucHV0X2VsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzdF9maWx0ZXInKTtcbiAgICAgICAgICBpbnB1dF9lbGVtLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICAgICAgICBjb25zdCBkaXN0ID0gK2lucHV0X2VsZW0udmFsdWU7XG4gICAgICAgICAgY29uc3QgaWRzID0gbWFwX2VsZW0uZ2V0VW5pdHNXaXRoaW4oZGlzdCk7XG4gICAgICAgICAgYXBwbHlGaWx0ZXIoYXBwLCBpZHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXN0X2ZpbHRlcicpLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgICAgICBhcHBseUZpbHRlcihhcHAsIGZpbHRlcl90eXBlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBtYWtlVGFibGUoYXBwLmN1cnJlbnRfZGF0YSwgYXBwLmN1cnJlbnRfY29uZmlnKTtcbiAgICAgICAgY2hhcnQuY2hhbmdlU3R1ZHlab25lKCk7XG4gICAgICAgIGNoYXJ0LnVwZGF0ZUNvbXBsZXR1ZGUoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICBkMy5zZWxlY3QoJyNkaXN0X2ZpbHRlcicpXG4gICAgLm9uKCdjaGFuZ2UsIGtleXVwJywgZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgaWRzID0gbWFwX2VsZW0uZ2V0VW5pdHNXaXRoaW4oK3RoaXMudmFsdWUpO1xuICAgICAgYXBwbHlGaWx0ZXIoYXBwLCBpZHMpO1xuICAgICAgLy8gbWFrZVRhYmxlKGFwcC5jdXJyZW50X2RhdGEsIGFwcC5jdXJyZW50X2NvbmZpZyk7XG4gICAgICBjaGFydC5jaGFuZ2VTdHVkeVpvbmUoKTtcbiAgICAgIGNoYXJ0LnVwZGF0ZUNvbXBsZXR1ZGUoKTtcbiAgICB9KTtcblxuICAvLyBVc2VyIGNoYW5nZSB0aGUgdGFyZ2V0ZWQgcmVnaW9uOlxuICBkMy5zZWxlY3RBbGwoJ3NwYW4udGFyZ2V0X3JlZ2lvbicpXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2NoZWNrZWQnKSkge1xuICAgICAgICBkMy5zZWxlY3RBbGwoJ3NwYW4udGFyZ2V0X3JlZ2lvbicpLmF0dHIoJ2NsYXNzJywgJ3RhcmdldF9yZWdpb24gc3F1YXJlJyk7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnY2hlY2tlZCcpO1xuICAgICAgICBjb25zdCBpZF9yZWdpb24gPSB0aGlzLmdldEF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgICAgICAgY29uc3Qgb2xkX25iX3ZhciA9IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpby5sZW5ndGg7XG4gICAgICAgIGNoYW5nZVJlZ2lvbihhcHAsIGlkX3JlZ2lvbiwgbWFwX2VsZW0pO1xuICAgICAgICAvLyBVcGRhdGUgdGhlIGF2YWlsYWJsZXMgcmF0aW8gb24gdGhlIGxlZnQgbWVudVxuICAgICAgICAvLyAodGhpcyBtYXkgY2hhbmdlIHRoZSBjdXJyZW50IHNlbGVjdGVkIHJhdGlvKHMpIGFzIHNvbWUgdmFyaWFibGVzIGFyZVxuICAgICAgICAvLyBub3QgYXZhaWxhYmxlIGZvciBzb21lIGZlYXR1cmVzKSBhbmQgZmV0Y2ggdGhlIG51bWJlciBvZiBzZWxlY3RlZFxuICAgICAgICAvLyB2YXJpYWJsZXMgYWZ0ZXIgdGhhdDpcbiAgICAgICAgY29uc3QgbmV3X25iX3ZhciA9IHVwZGF0ZUF2YWlsYWJsZVJhdGlvcyhpZF9yZWdpb24pO1xuICAgICAgICB1cGRhdGVBdmFpbGFibGVDaGFydHMobmV3X25iX3Zhcik7XG4gICAgICAgIGlmIChuZXdfbmJfdmFyID49IGFwcC5jdXJyZW50X2NvbmZpZy5uYl92YXIpIHtcbiAgICAgICAgICBpZiAob2xkX25iX3ZhciA9PT0gbmV3X25iX3Zhcikge1xuICAgICAgICAgICAgY2hhcnQudXBkYXRlQ2hhbmdlUmVnaW9uKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGQzLnNlbGVjdCgnc3Bhbi50eXBlX2NoYXJ0LnNlbGVjdGVkJykuZGlzcGF0Y2goJ2NsaWNrJyk7XG4gICAgICAgICAgICBhbGVydGlmeS53YXJuaW5nKCdVbmUgdmFyaWFibGUgcHLDqWPDqWRlbW1lbnQgc8OpbGVjdGlvbm7DqWUgblxcJ2VzdCBwYXMgZGlzcG9uaWJsZSBwb3VyIGNldHRlIHLDqWdpb24uJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIElmIHRoZXJlIGZld2VyIHNlbGVjdGVkIHZhcmlhYmxlcyB0aGFuIHJlcXVlc3RlZCBieSB0aGUgY3VycmVudCBjaGFydCxcbiAgICAgICAgICAvLyByZWRyYXcgdGhlIGZpcnN0IChkZWZhdWx0KSBraW5kIG9mIGNoYXJ0OlxuICAgICAgICAgIGQzLnNlbGVjdCgnc3Bhbi5jaGFydF90MVt2YWx1ZT1cIkJhckNoYXJ0MVwiXScpLmRpc3BhdGNoKCdjbGljaycpO1xuICAgICAgICAgIGFsZXJ0aWZ5Lndhcm5pbmcoJ0RlcyB2YXJpYWJsZXMgc8OpbGVjdGlvbm7DqWVzIHNvbnQgaW5kaXNwb25pYmxlcyBwb3VyIGNldHRlIHLDqWdpb24uIFVuIGNoYW5nZW1lbnQgZGUgcmVwcsOpc2VudGF0aW9uIGVzdCBuw6ljZXNzYWlyZS4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gIC8vIFVzZXIgY2xpY2sgb24gdGhlIG5hbWUgb2YgYSBncm91cCBvZiB2YXJpYWJsZXNcbiAgLy8gdG8gZXhwYW5kIG9yIGNvbGxhcHNlIGl0cyBjb250ZW50OlxuICBkMy5zZWxlY3RBbGwoJy5uYW1lX2dyb3VwX3ZhcicpXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IGdyb3VwX3ZhciA9IHRoaXMubmV4dFNpYmxpbmc7XG4gICAgICBpZiAoZ3JvdXBfdmFyLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJykge1xuICAgICAgICBncm91cF92YXIuc3R5bGUuZGlzcGxheSA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBncm91cF92YXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH1cbiAgICB9KTtcblxuICAvLyBVc2VyIGNsaWNrIHRvIGFkZC9yZW1vdmUgYSB2YXJpYWJsZSBmcm9tIHRoZSBjb21wYXJpc29uOlxuICBkMy5zZWxlY3RBbGwoJ3NwYW4udGFyZ2V0X3ZhcmlhYmxlJylcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXNhYmxlZCcpKSByZXR1cm47XG4gICAgICBsZXQgbmJfdmFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4udGFyZ2V0X3ZhcmlhYmxlJykpLmZpbHRlcihcbiAgICAgICAgICBlbGVtID0+ICEhZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2NoZWNrZWQnKSkubGVuZ3RoO1xuICAgICAgLy8gU2VsZWN0IGEgbmV3IHZhcmlhYmxlIGFuZCB0cmlnZ2VyIHRoZSBhcHByb3ByaWF0ZSBjaGFuZ2VzIG9uIHRoZSBjdXJyZW50IGNoYXJ0OlxuICAgICAgaWYgKCF0aGlzLmNsYXNzTGlzdC5jb250YWlucygnY2hlY2tlZCcpKSB7XG4gICAgICAgIC8vIFdlIGRvbid0IHdhbnQgdGhlIHVzZXIgdG8gYmUgYWJsZSB0byBzZWxlY3QgbW9yZSB0aGFuXG4gICAgICAgIC8vIE1BWF9WQVJJQUJMRVMgKGRlZmF1bHQgPSA3KSB2YXJpYWJsZXMgc2ltdWx0YW5lb3VzbHk6XG4gICAgICAgIGlmIChuYl92YXIgPj0gTUFYX1ZBUklBQkxFUykge1xuICAgICAgICAgIGFsZXJ0aWZ5Lndhcm5pbmcoJ0xlIG5vbWJyZSBtYXhpbWFsIGRlIHZhcmlhYmxlcyBzw6lsZWN0aW9ubsOpZXMgZXN0IGF0dGVpbnQuJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnY2hlY2tlZCcpO1xuICAgICAgICBjb25zdCBjb2RlX3ZhcmlhYmxlID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG4gICAgICAgIGNvbnN0IG5hbWVfdmFyaWFibGUgPSB2YXJpYWJsZXNfaW5mby5maW5kKGQgPT4gZC5yYXRpbyA9PT0gY29kZV92YXJpYWJsZSkubmFtZTtcbiAgICAgICAgYWRkVmFyaWFibGUoYXBwLCBjb2RlX3ZhcmlhYmxlKTtcbiAgICAgICAgLy8gbWFrZVRhYmxlKGFwcC5jdXJyZW50X2RhdGEsIGFwcC5jdXJyZW50X2NvbmZpZyk7XG4gICAgICAgIGNoYXJ0LmFkZFZhcmlhYmxlKGNvZGVfdmFyaWFibGUsIG5hbWVfdmFyaWFibGUpO1xuICAgICAgICBuYl92YXIgKz0gMTtcbiAgICAgIH0gZWxzZSB7IC8vIFJlbW92ZSBhIHZhcmlhYmxlIGZyb20gdGhlIHNlbGVjdGlvbjpcbiAgICAgICAgbmJfdmFyIC09IDE7XG4gICAgICAgIC8vIFdlIGRvbid0IHdhbnQgdG8gbGV0IHRoZSB1c2VyIHJlbW92ZSB0aGUgdmFyaWFibGUgaWZcbiAgICAgICAgLy8gaXQncyB0aGUgb25seSBvbmUgc2VsZWN0ZWQgb3IgaWYgdGhlIGN1cnJlbnRseSBkaXNwbGF5ZWRcbiAgICAgICAgLy8gY2hhcnQgbmVlZCBhIG1pbmltdW0gbnVtYmVyIG9mIHZhcmlhYmxlczpcbiAgICAgICAgaWYgKG5iX3ZhciA8IGFwcC5jdXJyZW50X2NvbmZpZy5uYl92YXIpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29kZV92YXJpYWJsZSA9IHRoaXMuZ2V0QXR0cmlidXRlKCd2YWx1ZScpO1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoJ2NoZWNrZWQnKTtcbiAgICAgICAgcmVtb3ZlVmFyaWFibGUoYXBwLCBjb2RlX3ZhcmlhYmxlKTtcbiAgICAgICAgY2hhcnQucmVtb3ZlVmFyaWFibGUoY29kZV92YXJpYWJsZSk7XG4gICAgICAgIC8vIG1ha2VUYWJsZShhcHAuY3VycmVudF9kYXRhLCBhcHAuY3VycmVudF9jb25maWcpO1xuICAgICAgfVxuICAgICAgLy8gVXBkYXRlIHRoZSB0b3AgbWVudSB0byBkaXNwbGF5IGF2YWlsYWJsZSBjaGFydHMgYWNjb3JkaW5nIHRvIHRoZSBjdXJyZW50XG4gICAgICAvLyBudW1iZXIgb2YgYXZhaWxhYmxlIHZhcmlhYmxlczpcbiAgICAgIHVwZGF0ZUF2YWlsYWJsZUNoYXJ0cyhuYl92YXIpO1xuICAgIH0pO1xuXG4gIGQzLnNlbGVjdEFsbCgnc3Bhbi50ZXJyaXRfbGV2ZWwnKVxuICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdjaGVja2VkJykpIHtcbiAgICAgICAgLy8gUmVzZXQgdGhlIHN0dWR5IHpvbmUgOlxuICAgICAgICBkMy5zZWxlY3QoJ3NwYW4uZmlsdGVyX3ZbZmlsdGVyLXZhbHVlPVwibm9fZmlsdGVyXCJdJykuZGlzcGF0Y2goJ2NsaWNrJyk7XG4gICAgICAgIGQzLnNlbGVjdEFsbCgnc3Bhbi50ZXJyaXRfbGV2ZWwnKS5hdHRyKCdjbGFzcycsICd0ZXJyaXRfbGV2ZWwgc3F1YXJlJyk7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnY2hlY2tlZCcpO1xuICAgICAgICBjb25zdCBsZXZlbF92YWx1ZSA9IHRoaXMuZ2V0QXR0cmlidXRlKCd2YWx1ZScpO1xuICAgICAgICBhcHAuY3VycmVudF9jb25maWcuY3VycmVudF9sZXZlbCA9IGxldmVsX3ZhbHVlO1xuICAgICAgICBmaWx0ZXJMZXZlbFZhcihhcHApO1xuICAgICAgICByZXNldENvbG9ycygpO1xuICAgICAgICBtYXBfZWxlbS51cGRhdGVMZXZlbFJlZ2lvbihsZXZlbF92YWx1ZSk7XG4gICAgICAgIG1hcF9lbGVtLnVuYmluZEJydXNoQ2xpY2soKTtcbiAgICAgICAgbWFwX2VsZW0uYmluZEJydXNoQ2xpY2soY2hhcnQpO1xuICAgICAgICBjaGFydC5jaGFuZ2VTdHVkeVpvbmUoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAvLyBEaXNwYXRjaCBhIGNsaWNrIGV2ZW50IG9uIHRoZSBhc3NvY2lhdGVkIGNoZWNrYm94IHdoZW4gdGhlIHRleHQgaXMgY2xpY2tlZDpcbiAgZDMuc2VsZWN0QWxsKCdzcGFuLmxhYmVsX2NoaycpXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMucHJldmlvdXNTaWJsaW5nLmNsaWNrKCk7XG4gICAgfSk7XG5cbiAgY29uc3QgaGVhZGVyX21hcF9zZWN0aW9uID0gZDMuc2VsZWN0KCcjbWFwX3NlY3Rpb24gPiAjaGVhZGVyX21hcCcpO1xuXG4gIGhlYWRlcl9tYXBfc2VjdGlvbi5zZWxlY3QoJyNpbWdfcmVjdF9zZWxlYycpXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfbWFwX3pvb20nKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19tYXBfc2VsZWN0JykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgIHN2Z19tYXAub24oJy56b29tJywgbnVsbCk7XG4gICAgICAgIGlmIChtYXBfZWxlbS5icnVzaF9tYXApIHtcbiAgICAgICAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpLnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgbWFwX2VsZW0udGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpLm9uKCdjbGljaycsIG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIGhlYWRlcl9tYXBfc2VjdGlvbi5zZWxlY3QoJyNpbWdfbWFwX3pvb20nKVxuICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX3JlY3Rfc2VsZWMnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19tYXBfc2VsZWN0JykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgIHN2Z19tYXAuY2FsbChtYXBfZWxlbS56b29tX21hcCk7XG4gICAgICAgIGlmIChtYXBfZWxlbS5icnVzaF9tYXApIHtcbiAgICAgICAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpLmNhbGwobWFwX2VsZW0uYnJ1c2hfbWFwLm1vdmUsIG51bGwpO1xuICAgICAgICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJykuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICB9XG4gICAgICAgIG1hcF9lbGVtLnRhcmdldF9sYXllci5zZWxlY3RBbGwoJ3BhdGgnKS5vbignY2xpY2snLCBudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICBoZWFkZXJfbWFwX3NlY3Rpb24uc2VsZWN0KCcjaW1nX21hcF9zZWxlY3QnKVxuICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX3JlY3Rfc2VsZWMnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19tYXBfem9vbScpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICBzdmdfbWFwLm9uKCcuem9vbScsIG51bGwpO1xuICAgICAgICBpZiAobWFwX2VsZW0uYnJ1c2hfbWFwKSB7XG4gICAgICAgICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKS5jYWxsKG1hcF9lbGVtLmJydXNoX21hcC5tb3ZlLCBudWxsKTtcbiAgICAgICAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgfVxuICAgICAgICBtYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIGNoYXJ0LmhhbmRsZUNsaWNrTWFwKGQsIHRoaXMpO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIGhlYWRlcl9tYXBfc2VjdGlvbi5zZWxlY3QoJyN6b29tX2luJylcbiAgICAub24oJ2NsaWNrJywgem9vbUNsaWNrKTtcblxuICBoZWFkZXJfbWFwX3NlY3Rpb24uc2VsZWN0KCcjem9vbV9vdXQnKVxuICAgIC5vbignY2xpY2snLCB6b29tQ2xpY2spO1xuXG4gIGlmICghbWFwX2VsZW0uYnJ1c2hfbWFwKSB7XG4gICAgaWYgKGNoYXJ0LmhhbmRsZUNsaWNrTWFwKSB7XG4gICAgICBtYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgY2hhcnQuaGFuZGxlQ2xpY2tNYXAoZCwgdGhpcyk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBtYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgICAgLm9uKCdjbGljaycsIG51bGwpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGNvbnN0IGhlYWRlcl90YWJsZV9zZWN0aW9uID0gZDMuc2VsZWN0KCcjbWFwX3NlY3Rpb24nKVxuICAvLyAgICAgLmluc2VydCgncCcsICdzdmcnKVxuICAvLyAgICAgLmF0dHIoJ2lkJywgJ2hlYWRlcl90YWJsZScpXG4gIC8vICAgICAuc3R5bGVzKHsgZGlzcGxheTogJ25vbmUnLCBtYXJnaW46ICdhdXRvJywgJ3RleHQtYWxpZ24nOiAncmlnaHQnIH0pO1xuXG4gIC8vIGhlYWRlcl90YWJsZV9zZWN0aW9uLmFwcGVuZCgnc3BhbicpXG4gIC8vICAgLmF0dHIoJ2NsYXNzJywgJ2J1dHRvbl9ibHVlJylcbiAgLy8gICAuaHRtbCgnQ1NWJylcbiAgLy8gICAub24oJ2NsaWNrJywgKCkgPT4ge1xuICAvLyAgICAgY29uc3QgY29sdW1ucyA9IE9iamVjdC5rZXlzKGFwcC5jdXJyZW50X2RhdGFbMF0pO1xuICAvLyAgICAgY29uc3QgY29udGVudCA9IFtcbiAgLy8gICAgICAgJ2lkLE51bcOpcmF0ZXVyLETDqW5vbWluYXRldXIsUmF0aW8sUmFuZ1xcclxcbicsXG4gIC8vICAgICAgIGFwcC5jdXJyZW50X2RhdGEubWFwKGQgPT4gY29sdW1ucy5tYXAoYyA9PiBkW2NdKS5qb2luKCcsJykpLmpvaW4oJ1xcclxcbicpLFxuICAvLyAgICAgXS5qb2luKCcnKTtcbiAgLy8gICAgIGNvbnN0IGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gIC8vICAgICBlbGVtLnNldEF0dHJpYnV0ZSgnaHJlZicsIGBkYXRhOnRleHQvcGxhaW47Y2hhcnNldD11dGYtOCwke2VuY29kZVVSSUNvbXBvbmVudChjb250ZW50KX1gKTtcbiAgLy8gICAgIGVsZW0uc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsICdSZWdpb3Zpel9leHBvcnQuY3N2Jyk7XG4gIC8vICAgICBlbGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIC8vICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsZW0pO1xuICAvLyAgICAgZWxlbS5jbGljaygpO1xuICAvLyAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlbGVtKTtcbiAgLy8gICB9KTtcbiAgYmluZFRvcEJ1dHRvbnMoY2hhcnQsIG1hcF9lbGVtKTtcbn1cblxuLyoqXG4qIEZ1bmN0aW9uIHRvIGhhbmRsZSBjbGljayBvbiB0aGUgdG9wIG1lbnUsIGluIG9yZGVyIHRvIGNob29zZVxuKiB0aGUga2luZCBvZiBhdmFpbGFibGVzIHJlcHJlc2VudGF0aW9uXG4qXG4qIEBwYXJhbSB7T2JqZWN0fSBjaGFydCAtXG4qIEBwYXJhbSB7T2JqZWN0fSBtYXBfZWxlbSAtXG4qIEByZXR1cm4ge3ZvaWR9XG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmRUb3BCdXR0b25zKGNoYXJ0LCBtYXBfZWxlbSkge1xuICBkMy5zZWxlY3RBbGwoJy50eXBlX2NoYXJ0JylcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXNhYmxlZCcpKSByZXR1cm47XG4gICAgICAvLyBpZiAodGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHJldHVybjtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50eXBlX2NoYXJ0LnNlbGVjdGVkJykuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAgIGNoYXJ0LnJlbW92ZSgpO1xuICAgICAgY2hhcnQgPSBudWxsOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICB1bmJpbmRVSSgpO1xuICAgICAgbWFwX2VsZW0ucmVzZXRab29tKCk7XG4gICAgICBhcHAuY29sb3JzID0ge307XG4gICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZ2V0QXR0cmlidXRlKCd2YWx1ZScpO1xuICAgICAgaWYgKHZhbHVlID09PSAnQmFyQ2hhcnQxJykge1xuICAgICAgICBjb25zb2xlLmxvZygnQmFyQ2hhcnQxJyk7XG4gICAgICAgIC8vIG1ha2VUYWJsZShhcHAuY3VycmVudF9kYXRhLCBhcHAuY3VycmVudF9jb25maWcpO1xuICAgICAgICBjaGFydCA9IG5ldyBCYXJDaGFydDEoYXBwLmN1cnJlbnRfZGF0YSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgYmluZFVJX2NoYXJ0KGNoYXJ0LCBtYXBfZWxlbSk7XG4gICAgICAgIG1hcF9lbGVtLmJpbmRCcnVzaENsaWNrKGNoYXJ0KTtcbiAgICAgICAgY2hhcnQuYmluZE1hcChtYXBfZWxlbSk7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnU2NhdHRlclBsb3QyJykge1xuICAgICAgICBjb25zb2xlLmxvZygnU2NhdHRlclBsb3QyJyk7XG4gICAgICAgIC8vIG1ha2VUYWJsZShhcHAuY3VycmVudF9kYXRhLCBhcHAuY3VycmVudF9jb25maWcpO1xuICAgICAgICBjaGFydCA9IG5ldyBTY2F0dGVyUGxvdDIoYXBwLmN1cnJlbnRfZGF0YSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgYmluZFVJX2NoYXJ0KGNoYXJ0LCBtYXBfZWxlbSk7XG4gICAgICAgIG1hcF9lbGVtLmJpbmRCcnVzaENsaWNrKGNoYXJ0KTtcbiAgICAgICAgY2hhcnQuYmluZE1hcChtYXBfZWxlbSk7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnUmFkYXJDaGFydDMnKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdSYWRhckNoYXJ0MycpO1xuICAgICAgICAvLyBtYWtlVGFibGUoYXBwLmN1cnJlbnRfZGF0YSwgYXBwLmN1cnJlbnRfY29uZmlnKTtcbiAgICAgICAgY2hhcnQgPSBuZXcgUmFkYXJDaGFydDMoYXBwLmN1cnJlbnRfZGF0YSk7XG4gICAgICAgIGJpbmRVSV9jaGFydChjaGFydCwgbWFwX2VsZW0pO1xuICAgICAgICBtYXBfZWxlbS5iaW5kQnJ1c2hDbGljayhjaGFydCk7XG4gICAgICAgIGNoYXJ0LmJpbmRNYXAobWFwX2VsZW0pO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJ1NpbWlsYXJpdHkxcGx1cycpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1NpbWlsYXJpdHkxcGx1cycpO1xuICAgICAgICAvLyBtYWtlVGFibGUoYXBwLmN1cnJlbnRfZGF0YSwgYXBwLmN1cnJlbnRfY29uZmlnKTtcbiAgICAgICAgY2hhcnQgPSBuZXcgU2ltaWxhcml0eTFwbHVzKGFwcC5jdXJyZW50X2RhdGEpO1xuICAgICAgICBiaW5kVUlfY2hhcnQoY2hhcnQsIG1hcF9lbGVtKTtcbiAgICAgICAgbWFwX2VsZW0uYmluZEJydXNoQ2xpY2soY2hhcnQpO1xuICAgICAgICBjaGFydC5iaW5kTWFwKG1hcF9lbGVtKTtcbiAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gYmluZEhlbHBNZW51KCkge1xuICBjb25zdCBoZWxwX2J1dHRvbnNfdmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21lbnVfdmFyaWFibGVzJykucXVlcnlTZWxlY3RvckFsbCgnc3Bhbi5pX2luZm8nKTtcbiAgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoaGVscF9idXR0b25zX3ZhcikuZm9yRWFjaCgoYnRuX2kpID0+IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICBidG5faS5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgY29kZV92YXJpYWJsZSA9IHRoaXMucHJldmlvdXNTaWJsaW5nLnByZXZpb3VzU2libGluZy5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG4gICAgICBjb25zdCBvID0gdmFyaWFibGVzX2luZm8uZmluZChkID0+IGQucmF0aW8gPT09IGNvZGVfdmFyaWFibGUpO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5ldy1jYXBcbiAgICAgIGNvbnN0IG1vZGFsID0gbmV3IHRpbmdsZS5tb2RhbCh7XG4gICAgICAgIHN0aWNreUZvb3RlcjogZmFsc2UsXG4gICAgICAgIGNsb3NlTWV0aG9kczogWydvdmVybGF5JywgJ2J1dHRvbicsICdlc2NhcGUnXSxcbiAgICAgICAgY2xvc2VMYWJlbDogJ0Nsb3NlJyxcbiAgICAgICAgb25PcGVuKCkge1xuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Rpdi50aW5nbGUtbW9kYWwudGluZ2xlLW1vZGFsLS12aXNpYmxlJykuc3R5bGUuYmFja2dyb3VuZCA9ICdyZ2JhKDAsMCwwLDAuNCknO1xuICAgICAgICB9LFxuICAgICAgICBvbkNsb3NlKCkge1xuICAgICAgICAgIG1vZGFsLmRlc3Ryb3koKTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgbW9kYWwuc2V0Q29udGVudChcbiAgICAgICAgYDxwIHN0eWxlPVwiZm9udC1mYW1pbHk6ICdTaWduaWthJyxzYW5zLXNlcmlmO2NvbG9yOiAjNGY4MWJkO2ZvbnQtc2l6ZTogMS4zcmVtO1wiPkRlc2NyaXB0aW9uIGRlIGwnaW5kaWNhdGV1cjwvcD5cbiAgICAgICAgPHAgc3R5bGU9XCJmb250LWZhbWlseTogJ1NpZ25pa2EnLHNhbnMtc2VyaWY7dGV4dC1hbGlnbjoganVzdGlmeTtcIj4ke28ubWV0aG9kby5zcGxpdCgnXFxuJykuam9pbignPGJyPicpfTwvcD5cbiAgICAgICAgPHAgc3R5bGU9XCJmb250LWZhbWlseTogJ1NpZ25pa2EnLHNhbnMtc2VyaWY7Zm9udC1zaXplOiAwLjhlbVwiPiR7by5zb3VyY2V9PC9wPlxuICAgICAgICA8cCBzdHlsZT1cImZvbnQtZmFtaWx5OiAnU2lnbmlrYScsc2Fucy1zZXJpZjtmb250LXNpemU6IDAuOGVtXCI+RGF0ZSBkZSB0w6lsw6ljaGFyZ2VtZW50IGRlIGxhIGRvbm7DqWVzIDogJHtvLmxhc3RfdXBkYXRlfTwvcD5gKTtcbiAgICAgIG1vZGFsLm9wZW4oKTtcbiAgICB9O1xuICB9KTtcblxuICBjb25zdCBoZWxwc19idXR0b25zX3N0dWR5X3pvbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWVudV9zdHVkeXpvbmUnKS5xdWVyeVNlbGVjdG9yQWxsKCdzcGFuLmlfaW5mbycpO1xuICBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChoZWxwc19idXR0b25zX3N0dWR5X3pvbmUpLmZvckVhY2goKGJ0bl9pKSA9PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgYnRuX2kub25jbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IGZpbHRlcl9uYW1lID0gdGhpcy5wcmV2aW91c1NpYmxpbmcucHJldmlvdXNTaWJsaW5nLmdldEF0dHJpYnV0ZSgnZmlsdGVyLXZhbHVlJyk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbmV3LWNhcFxuICAgICAgY29uc3QgbW9kYWwgPSBuZXcgdGluZ2xlLm1vZGFsKHtcbiAgICAgICAgc3RpY2t5Rm9vdGVyOiBmYWxzZSxcbiAgICAgICAgY2xvc2VNZXRob2RzOiBbJ292ZXJsYXknLCAnYnV0dG9uJywgJ2VzY2FwZSddLFxuICAgICAgICBjbG9zZUxhYmVsOiAnQ2xvc2UnLFxuICAgICAgICBvbk9wZW4oKSB7XG4gICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZGl2LnRpbmdsZS1tb2RhbC50aW5nbGUtbW9kYWwtLXZpc2libGUnKS5zdHlsZS5iYWNrZ3JvdW5kID0gJ3JnYmEoMCwwLDAsMC40KSc7XG4gICAgICAgIH0sXG4gICAgICAgIG9uQ2xvc2UoKSB7XG4gICAgICAgICAgbW9kYWwuZGVzdHJveSgpO1xuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBtb2RhbC5zZXRDb250ZW50KFxuICAgICAgICBgPHAgc3R5bGU9XCJmb250LWZhbWlseTogJ1NpZ25pa2EnLHNhbnMtc2VyaWY7Y29sb3I6ICM0ZjgxYmQ7Zm9udC1zaXplOiAxLjNyZW07XCI+TcOpdGhvZG9sb2dpZTwvcD5cbiAgICAgICAgPHAgc3R5bGU9XCJmb250LWZhbWlseTogJ1NpZ25pa2EnLHNhbnMtc2VyaWY7dGV4dC1hbGlnbjoganVzdGlmeTtcIj4ke2ZpbHRlcl9uYW1lfTwvcD5gKTtcbiAgICAgIG1vZGFsLm9wZW4oKTtcbiAgICB9O1xuICB9KTtcblxuICBjb25zdCBoZWxwc19idXR0b25zX3RlcnJpdF91bml0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21lbnVfdGVycml0X2xldmVsJykucXVlcnlTZWxlY3RvckFsbCgnc3Bhbi5pX2luZm8nKTtcbiAgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoaGVscHNfYnV0dG9uc190ZXJyaXRfdW5pdCkuZm9yRWFjaCgoYnRuX2kpID0+IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICBidG5faS5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgdGVycml0X2xldmVsX25hbWUgPSB0aGlzLnByZXZpb3VzU2libGluZy5wcmV2aW91c1NpYmxpbmcuZ2V0QXR0cmlidXRlKCd2YWx1ZScpO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5ldy1jYXBcbiAgICAgIGNvbnN0IG1vZGFsID0gbmV3IHRpbmdsZS5tb2RhbCh7XG4gICAgICAgIHN0aWNreUZvb3RlcjogZmFsc2UsXG4gICAgICAgIGNsb3NlTWV0aG9kczogWydvdmVybGF5JywgJ2J1dHRvbicsICdlc2NhcGUnXSxcbiAgICAgICAgY2xvc2VMYWJlbDogJ0Nsb3NlJyxcbiAgICAgICAgb25PcGVuKCkge1xuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Rpdi50aW5nbGUtbW9kYWwudGluZ2xlLW1vZGFsLS12aXNpYmxlJykuc3R5bGUuYmFja2dyb3VuZCA9ICdyZ2JhKDAsMCwwLDAsMC40KSc7XG4gICAgICAgIH0sXG4gICAgICAgIG9uQ2xvc2UoKSB7XG4gICAgICAgICAgbW9kYWwuZGVzdHJveSgpO1xuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBtb2RhbC5zZXRDb250ZW50KGBcbiAgICAgICAgPHAgc3R5bGU9XCJmb250LWZhbWlseTogJ1NpZ25pa2EnLHNhbnMtc2VyaWY7IGNvbG9yOiAjNGY4MWJkO2ZvbnQtc2l6ZTogMS4zcmVtO1wiPlRpdHJlPC9wPlxuICAgICAgICA8cCBzdHlsZT1cImZvbnQtZmFtaWx5OiAnU2lnbmlrYScsc2Fucy1zZXJpZjt0ZXh0LWFsaWduOiBqdXN0aWZ5O1wiPiR7dGVycml0X2xldmVsX25hbWV9PC9wPmApO1xuICAgICAgbW9kYWwub3BlbigpO1xuICAgIH07XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBsb2FkRGF0YSgpIHtcbiAgZDMucXVldWUoNClcbiAgICAuZGVmZXIoZDMuY3N2LCAnZGF0YS9SRUdJT1ZJWl9EQVRBLmNzdicpXG4gICAgLmRlZmVyKGQzLmpzb24sICdkYXRhL0NHRVRfbnV0c19hbGwzMDM1Lmdlb2pzb24nKVxuICAgIC5kZWZlcihkMy5qc29uLCAnZGF0YS9ib3JkZXJzMzAzNS5nZW9qc29uJylcbiAgICAuZGVmZXIoZDMuanNvbiwgJ2RhdGEvY291bnRyaWVzMzAzNS5nZW9qc29uJylcbiAgICAuZGVmZXIoZDMuanNvbiwgJ2RhdGEvY291bnRyaWVzLXJlbW90ZTMwMzUuZ2VvanNvbicpXG4gICAgLmRlZmVyKGQzLmpzb24sICdkYXRhL2NvYXN0czMwMzUuZ2VvanNvbicpXG4gICAgLmRlZmVyKGQzLmpzb24sICdkYXRhL2NvYXN0cy1yZW1vdGUzMDM1Lmdlb2pzb24nKVxuICAgIC5kZWZlcihkMy5qc29uLCAnZGF0YS9jeXBydXNfbm9uX2VzcG9uX3NwYWNlMzAzNS5nZW9qc29uJylcbiAgICAuZGVmZXIoZDMuanNvbiwgJ2RhdGEvY291bnRyaWVzLXJlbW90ZS1ib3VuZGFyaWVzMzAzNS5nZW9qc29uJylcbiAgICAuZGVmZXIoZDMuanNvbiwgJ2RhdGEvZnJhbWUzMDM1Lmdlb2pzb24nKVxuICAgIC5kZWZlcihkMy5qc29uLCAnZGF0YS9ib3hlczMwMzUuZ2VvanNvbicpXG4gICAgLmRlZmVyKGQzLmpzb24sICdkYXRhL2xpbmUzMDM1Lmdlb2pzb24nKVxuICAgIC5kZWZlcihkMy5jc3YsICdkYXRhL2luZGljYXRldXJzX21ldGEuY3N2JylcbiAgICAuYXdhaXRBbGwoKGVycm9yLCByZXN1bHRzKSA9PiB7XG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdsb2FkaW5nJyk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3Bpbm5lcicpLnJlbW92ZSgpO1xuICAgICAgYXBwLnJhdGlvVG9XaWRlID0gZ2V0UmF0aW9Ub1dpZGUoKTtcbiAgICAgIGNvbnN0IFtcbiAgICAgICAgZnVsbF9kYXRhc2V0LCBudXRzLCBib3JkZXJzLCBjb3VudHJpZXMsIGNvdW50cmllc19yZW1vdGUsXG4gICAgICAgIGNvYXN0cywgY29hc3RzX3JlbW90ZSwgY3lwcnVzX25vbl9lc3Bvbl9zcGFjZSxcbiAgICAgICAgY291bnRyaWVzX3JlbW90ZV9ib3VuZGFyaWVzLCBmcmFtZSwgYm94ZXMsIGxpbmUsIG1ldGFkYXRhX2luZGljYXRldXJzLFxuICAgICAgXSA9IHJlc3VsdHM7XG4gICAgICBhbGVydGlmeS5zZXQoJ25vdGlmaWVyJywgJ3Bvc2l0aW9uJywgJ2JvdHRvbS1sZWZ0Jyk7XG4gICAgICBjb25zdCBmZWF0dXJlc19tZW51ID0gZnVsbF9kYXRhc2V0LmZpbHRlcihmdCA9PiBmdC5nZW8uaW5kZXhPZignRlInKSA+IC0xXG4gICAgICAgICYmICtmdC5sZXZlbCA9PT0gMSk7XG4gICAgICBjb25zdCBzdGFydF9yZWdpb24gPSBnZXRSYW5kb20oZmVhdHVyZXNfbWVudS5tYXAoZCA9PiBkLmdlbyksIDEzKTtcbiAgICAgIGNvbnN0IHN0YXJ0X3ZhcmlhYmxlID0gZ2V0UmFuZG9tKFxuICAgICAgICBbJ1JUX0NIT01fMTU3NCcsICdSVF9FTVBfMjU2NCcsICdSVF9FTlNTVVBfMjU2NCcsICdSVF9SRVYnLCAnUlRfVkFfVEVSVCcsICdSVF9QSUJfSEFCJ10pO1xuXG4gICAgICBwcmVwYXJlVmFyaWFibGVzSW5mbyhtZXRhZGF0YV9pbmRpY2F0ZXVycywgdmFyaWFibGVzX2luZm8pO1xuICAgICAgcHJlcGFyZV9kYXRhc2V0KGZ1bGxfZGF0YXNldCwgYXBwKTtcbiAgICAgIHNldERlZmF1bHRDb25maWcoc3RhcnRfcmVnaW9uLCBzdGFydF92YXJpYWJsZSwgJ05VVFMxJyk7XG4gICAgICBwcmVwYXJlR2VvbUxheWVySWQobnV0cywgYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb20pO1xuICAgICAgY3JlYXRlTWVudShmZWF0dXJlc19tZW51LCB2YXJpYWJsZXNfaW5mbywgc3R1ZHlfem9uZXMsIHRlcnJpdG9yaWFsX21lc2gpO1xuICAgICAgYmluZEhlbHBNZW51KCk7XG4gICAgICBtYWtlVG9wTWVudSgpO1xuICAgICAgbWFrZUhlYWRlckNoYXJ0KCk7XG4gICAgICBzZXREZWZhdWx0Q29uZmlnTWVudShzdGFydF9yZWdpb24sIHN0YXJ0X3ZhcmlhYmxlLCAnTlVUUzEnKTtcbiAgICAgIGZpbHRlckxldmVsVmFyKGFwcCk7XG4gICAgICBjb25zdCBvdGhlcl9sYXllcnMgPSBuZXcgTWFwKFtcbiAgICAgICAgWydib3JkZXJzJywgYm9yZGVyc10sIFsnYm94ZXMnLCBib3hlc10sXG4gICAgICAgIFsnY291bnRyaWVzJywgY291bnRyaWVzXSwgWydjb3VudHJpZXNfcmVtb3RlJywgY291bnRyaWVzX3JlbW90ZV0sXG4gICAgICAgIFsnY29hc3RzJywgY29hc3RzXSwgWydjb2FzdHNfcmVtb3RlJywgY29hc3RzX3JlbW90ZV0sXG4gICAgICAgIFsnY3lwcnVzX25vbl9lc3Bvbl9zcGFjZScsIGN5cHJ1c19ub25fZXNwb25fc3BhY2VdLFxuICAgICAgICBbJ2NvdW50cmllc19yZW1vdGVfYm91bmRhcmllcycsIGNvdW50cmllc19yZW1vdGVfYm91bmRhcmllc10sXG4gICAgICAgIFsnZnJhbWUnLCBmcmFtZV0sIFsnbGluZScsIGxpbmVdLCBbJ2JveGVzMicsIGJveGVzXSxcbiAgICAgIF0pO1xuICAgICAgY29uc3QgbWFwX2VsZW0gPSBuZXcgTWFwU2VsZWN0KG51dHMsIG90aGVyX2xheWVycyk7XG4gICAgICBjb25zdCBjaGFydCA9IG5ldyBCYXJDaGFydDEoYXBwLmN1cnJlbnRfZGF0YSk7XG4gICAgICAvLyBtYWtlVGFibGUoYXBwLmN1cnJlbnRfZGF0YSwgYXBwLmN1cnJlbnRfY29uZmlnKTtcbiAgICAgIG1ha2VIZWFkZXJNYXBTZWN0aW9uKCk7XG4gICAgICBtYWtlU291cmNlU2VjdGlvbigpO1xuICAgICAgYmluZFVJX2NoYXJ0KGNoYXJ0LCBtYXBfZWxlbSk7XG4gICAgICBtYXBfZWxlbS5iaW5kQnJ1c2hDbGljayhjaGFydCk7XG4gICAgICBjaGFydC5iaW5kTWFwKG1hcF9lbGVtKTtcbiAgICB9KTtcbn1cblxubG9hZERhdGEoKTtcblxuY29uc3QgZ2V0UmF0aW9Ub1dpZGUgPSAoKSA9PiB7XG4gIGlmICh3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogMTU2MXB4KScpLm1hdGNoZXMpIHtcbiAgICByZXR1cm4gMTU1MCAvIDEzNTA7XG4gIH0gZWxzZSBpZiAod2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDEzNjFweCkgYW5kIChtYXgtd2lkdGg6IDE1NjBweCknKS5tYXRjaGVzKSB7XG4gICAgcmV0dXJuIDEzNTAgLyAxMzUwO1xuICB9IGVsc2UgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMTYxcHgpIGFuZCAobWF4LXdpZHRoOiAxMzYwcHgpJykubWF0Y2hlcykge1xuICAgIHJldHVybiAxMTUwIC8gMTM1MDtcbiAgfSBlbHNlIGlmICh3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogOTYwcHgpIGFuZCAobWF4LXdpZHRoOiAxMTYwcHgpJykubWF0Y2hlcykge1xuICAgIHJldHVybiA5NjAgLyAxMzUwO1xuICB9IGVsc2UgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKCcobWF4LXdpZHRoOiA5NTlweCknKS5tYXRjaGVzKSB7XG4gICAgcmV0dXJuIDU0MCAvIDEzNTA7XG4gIH1cbn07XG5cbndpbmRvdy5vbnJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgcHJldmlvdXNfcmF0aW8gPSBhcHAucmF0aW9Ub1dpZGU7XG4gIGNvbnN0IG5ld19yYXRpbyA9IGdldFJhdGlvVG9XaWRlKCk7XG4gIGlmIChwcmV2aW91c19yYXRpbyA9PT0gbmV3X3JhdGlvKSByZXR1cm47XG4gIGFwcC5yYXRpb1RvV2lkZSA9IG5ld19yYXRpbztcbiAgY29uc3QgY2hhcnRfc2NhbGVfdmFsdWUgPSBuZXdfcmF0aW8gLyBhcHAuY2hhcnREcmF3UmF0aW87XG4gIGQzLnNlbGVjdCgnI3N2Z19iYXInKS5hdHRyKCdoZWlnaHQnLCBgJHs1MDAgKiBhcHAucmF0aW9Ub1dpZGV9cHhgKTtcbiAgZDMuc2VsZWN0KCcjc3ZnX2JhciA+IGcuY29udGFpbmVyJykuYXR0cigndHJhbnNmb3JtJywgYHNjYWxlKCR7Y2hhcnRfc2NhbGVfdmFsdWV9KWApO1xuXG4gIGNvbnN0IGJib3hfc3ZnID0gc3ZnX21hcC5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIGNvbnN0IHdpZHRoX21hcCA9ICtiYm94X3N2Zy53aWR0aDtcbiAgY29uc3QgaGVpZ2h0X21hcCA9IHdpZHRoX21hcCAqICgxIC8gUkFUSU9fV0hfTUFQKTtcbiAgY29uc3QgbWFwX3NjYWxlX3ZhbHVlID0gbmV3X3JhdGlvIC8gYXBwLm1hcERyYXdSYXRpbztcbiAgc3ZnX21hcC5hdHRyKCdoZWlnaHQnLCBgJHtoZWlnaHRfbWFwfXB4YCk7XG4gIHN2Z19tYXAuc2VsZWN0KCcjbGF5ZXJzJykuYXR0cigndHJhbnNmb3JtJywgYHNjYWxlKCR7bWFwX3NjYWxlX3ZhbHVlfSlgKTtcbiAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKS5hdHRyKCd0cmFuc2Zvcm0nLCBgc2NhbGUoJHttYXBfc2NhbGVfdmFsdWV9KWApO1xuICBkMy5zZWxlY3QoJyNzdmdfbGVnZW5kJykuYXR0cigndHJhbnNmb3JtJywgYHNjYWxlKCR7bWFwX3NjYWxlX3ZhbHVlfSlgKTtcbn07XG4iXSwibmFtZXMiOlsiZGVmaW5lIiwidGhpcyIsImNvbG9yX2NvdW50cmllcyIsImNvbG9yX2Rpc2FibGVkIiwiY29sb3Jfc3VwIiwiY29sb3JfaW5mIiwiY29sb3JfaGlnaGxpZ2h0IiwiY29sb3JfZGVmYXVsdF9kaXNzaW0iLCJNQVhfVkFSSUFCTEVTIiwiUkFUSU9fV0hfTUFQIiwibWF0aF9hYnMiLCJNYXRoIiwiYWJzIiwibWF0aF9yb3VuZCIsInJvdW5kIiwibWF0aF9tYXgiLCJtYXgiLCJtYXRoX3NpbiIsInNpbiIsIm1hdGhfY29zIiwiY29zIiwibWF0aF9zcXJ0Iiwic3FydCIsIkhBTEZfUEkiLCJQSSIsInByZXBhcmVUb29sdGlwIiwicGFyZW50X3N2Z19lbGVtIiwidG9vbHRpcCIsImFwcGVuZCIsImF0dHIiLCJzdHlsZSIsImF0dHJzIiwieCIsIndpZHRoIiwiaGVpZ2h0IiwiZmlsbCIsImNsYXNzIiwiZHkiLCJ1bmJpbmRVSSIsInNlbGVjdEFsbCIsIm9uIiwic2VsZWN0IiwicmVtb3ZlIiwib25rZXl1cCIsIm9ua2V5ZG93biIsImNvbXAiLCJ0ZXN0X3ZhbHVlIiwicmVmX3ZhbHVlIiwic2VyaWVfaW52ZXJzZWQiLCJjb21wMiIsInZhbDEiLCJ2YWwyIiwicmVmX3ZhbDEiLCJyZWZfdmFsMiIsInhJbnZlcnNlZCIsInlJbnZlcnNlZCIsIlJlY3QiLCJ0b3BsZWZ0IiwiYm90dG9tcmlnaHQiLCJ4bWluIiwieG1heCIsInltaW4iLCJ5bWF4IiwicHQiLCJQcm9wU2l6ZXIiLCJmaXhlZF92YWx1ZSIsImZpeGVkX3NpemUiLCJzbWF4Iiwic2NhbGUiLCJ2YWwiLCJnZXRfdmFsdWUiLCJwb3ciLCJzaXplIiwicmVtb3ZlRHVwbGljYXRlcyIsImFyciIsInRtcCIsImkiLCJsZW5fYXJyIiwibGVuZ3RoIiwiaW5kZXhPZiIsInB1c2giLCJnZXRTdmdQYXRoVHlwZSIsInBhdGgiLCJzdmdQYXRoVG9Db29yZHMiLCJ0eXBlX3BhdGgiLCJzbGljZSIsInNwbGl0IiwibWFwIiwiYSIsImNvbXB1dGVQZXJjZW50aWxlUmFuayIsIm9iaiIsImZpZWxkX25hbWUiLCJyZXN1bHRfZmllbGRfbmFtZSIsInZhbHVlcyIsImQiLCJsZW5fdmFsdWVzIiwiZ2V0UFIiLCJ2IiwiY291bnQiLCJpeCIsIl9nZXRQUiIsInNlcmllIiwiZ2V0TWVhbiIsIm5iX3ZhbHVlcyIsInN1bSIsImV1Y2xpZGlhbl9kaXN0YW5jZSIsImZlYXR1cmUxIiwiZmVhdHVyZTIiLCJnZW9tZXRyeSIsImNvb3JkaW5hdGVzIiwieDEiLCJ5MSIsIngyIiwieTIiLCJiIiwic2VsZWN0Rmlyc3RBdmFpbGFibGVWYXIiLCJtZW51IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicXVlcnlTZWxlY3RvckFsbCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiYWRkIiwiZ2V0QXR0cmlidXRlIiwicHJlcGFyZUdlb21MYXllcklkIiwibGF5ZXIiLCJpZF9maWVsZCIsImZlYXR1cmVzIiwiZm9yRWFjaCIsImZ0IiwiaWQiLCJwcm9wZXJ0aWVzIiwiZ2V0UmFuZG9tIiwiZmFsc2VfbGVuZ3RoIiwicmFuZG9tIiwiY3JlYXRlTWVudSIsIm5hbWVzIiwidmFyaWFibGVzIiwic3R1ZHlfem9uZXMiLCJ0ZXJyaXRvcmlhbF9tZXNoIiwidGl0bGVfc2VjdGlvbjEiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiaW5uZXJIVE1MIiwic2VjdGlvbjEiLCJvdmVyZmxvdyIsImxlbl9pIiwiZ2VvIiwibmFtZSIsIk5vbSIsImVudHJ5IiwiYXBwZW5kQ2hpbGQiLCJ0aXRsZV9zZWN0aW9uMiIsInNlY3Rpb24yIiwiZ3JvdXBzX3ZhciIsImdyb3VwIiwiZmlsdGVyIiwiZ3BfbmFtZSIsImRpdl9ncnAiLCJkaXNwbGF5IiwidmFyX25hbWVzIiwiaiIsImxlbl9qIiwibmFtZV92YXIiLCJjb2RlX3ZhciIsInJhdGlvIiwic3ViX2VudHJ5IiwidGl0bGVfc2VjdGlvbjMiLCJzZWN0aW9uMyIsIm1heEhlaWdodCIsInpvbmUiLCJ0aXRsZV9zZWN0aW9uNCIsInNlY3Rpb240IiwidGVycml0X2xldmVsIiwiZ2V0RWxlbWVudEJ5SWQiLCJmbG9hdCIsIm1ha2VUb3BNZW51IiwidG9wX21lbnUiLCJkMyIsInN0eWxlcyIsIndpZHRoX2xlZnQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ3aWR0aF9jZW50cmFsX2NoYXJ0Iiwid2lkdGhfbWFwIiwiaHRtbCIsInR5cGVfY2hhcnQiLCJwb3NpdGlvbiIsInZhbHVlIiwicmVzc2VtYmxhbmNlIiwibWFrZUhlYWRlck1hcFNlY3Rpb24iLCJoZWFkZXJfbWFwX3NlY3Rpb24iLCJpbnNlcnQiLCJ0ZXh0IiwibWFrZUhlYWRlckNoYXJ0IiwiaGVhZGVyX2Jhcl9zZWN0aW9uIiwibWFyZ2luIiwiY29sdW1ucyIsIk9iamVjdCIsImtleXMiLCJhcHAiLCJjdXJyZW50X2RhdGEiLCJjb250ZW50Iiwiam9pbiIsImMiLCJlbGVtIiwic2V0QXR0cmlidXRlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiYm9keSIsImNsaWNrIiwicmVtb3ZlQ2hpbGQiLCJnbG9iYWwiLCJwcmVwYXJlX2RhdGFzZXQiLCJmdWxsX2RhdGFzZXQiLCJmZWF0dXJlX25hbWVzIiwiZmlsdGVyTGV2ZWxWYXIiLCJjdXJyZW50X2NvbmZpZyIsIm51bSIsImRlbnVtIiwiY3VycmVudF9sZXZlbCIsImZpbHRlcl9rZXkiLCJuYW1lX2ZpZWxkIiwibXlfcmVnaW9uIiwiYWxsX3ZhcmlhYmxlcyIsImNvbmNhdCIsInRlbXAiLCJBcnJheSIsIm15X2NhdGVnb3J5IiwicHJvcHNfZmVhdHVyZSIsImZpbHRlckxldmVsR2VvbSIsIm51dHNfZmVhdHVyZXMiLCJwcmVwYXJlVmFyaWFibGVzSW5mbyIsIm1ldGFkYXRhX2luZGljYXRldXJzIiwiaWQxIiwicGFyc2VJbnQiLCJBbm7DqWUiLCJpZDIiLCJTb3VyY2UiLCJhcHBseUZpbHRlciIsImZpbHRlcl90eXBlIiwidW5kZWZpbmVkIiwiY29sb3JzIiwiY2hhbmdlUmVnaW9uIiwiaWRfcmVnaW9uIiwibWFwX2VsZW0iLCJteV9yZWdpb25fcHJldHR5X25hbWUiLCJjb21wdXRlRGlzdE1hdCIsImdldFVuaXRzV2l0aGluIiwicHJvcGVydHkiLCJhZGRWYXJpYWJsZSIsImNvZGVfcmF0aW8iLCJ2YXJpYWJsZV9pbmZvIiwidmFyaWFibGVzX2luZm8iLCJyYXRpb19wcmV0dHlfbmFtZSIsInJhdGlvX3VuaXQiLCJ1bml0IiwicmVtb3ZlVmFyaWFibGUiLCJzcGxpY2UiLCJyZXNldFZhcmlhYmxlcyIsImNvZGVzX3JhdGlvIiwibGVuIiwiY2FsY0NvbXBsZXR1ZGVTdWJzZXQiLCJ2YXJzIiwib3V0cHV0IiwiZmluZCIsInRvdGFsX2xlbmd0aCIsInJhdGlvX25hbWUiLCJldmVyeSIsImZpbHRlcmVkX2xlbmd0aCIsImNhbGNQb3BDb21wbGV0dWRlU3Vic2V0IiwicG9wX2ZpZWxkIiwidG90YWxfcG9wIiwiaXNOYU4iLCJzdWJzZXRfcG9wIiwicG9wIiwic3ZnX21hcCIsImJib3hfc3ZnIiwibm9kZSIsImhlaWdodF9tYXAiLCJzdHJva2UiLCJ0YXJnZXQiLCJwcm9qZWN0aW9uIiwiZ2V0X2Jib3hfbGF5ZXJfcGF0aCIsImJib3hfbGF5ZXIiLCJJbmZpbml0eSIsImVhY2giLCJiYm94X3BhdGgiLCJib3VuZHMiLCJmaXRMYXllciIsInRyYW5zbGF0ZSIsInMiLCJ0IiwibWFwX3pvb21lZCIsInRyYW5zZm9ybSIsImV2ZW50IiwiX196b29tIiwiayIsInkiLCJsYXllcnMiLCJ0cmFuc2l0aW9uIiwiZHVyYXRpb24iLCJpbnRlcnBvbGF0ZVpvb20iLCJub2RlX3N2Z19tYXAiLCJ6b29tVHJhbnNmb3JtIiwidHdlZW4iLCJpVHJhbnNsYXRlIiwiaW50ZXJwb2xhdGUiLCJpU2NhbGUiLCJ0X3ZhbHVlIiwiX3QiLCJ6b29tQ2xpY2siLCJkaXJlY3Rpb24iLCJmYWN0b3IiLCJjZW50ZXIiLCJ2aWV3IiwidGFyZ2V0X3pvb20iLCJ0cmFuc2xhdGUwIiwibCIsInByZXZlbnREZWZhdWx0IiwibWFrZU1hcExlZ2VuZCIsImxlZ2VuZF9lbGVtcyIsInRyYW5zbGF0ZVkiLCJyZWN0X3NpemUiLCJzcGFjaW5nIiwibGdkX2hlaWdodCIsIm9mZnNldCIsImdycF9sZ2QiLCJsZWdlbmRzIiwiZGF0YSIsImVudGVyIiwidHgiLCJ0eSIsImNvbG9yIiwiZ2V0TGVnZW5kRWxlbXMiLCJ0eXBlIiwiTWFwU2VsZWN0IiwibnV0cyIsIm90aGVyX2xheWVycyIsIm1hcERyYXdSYXRpbyIsInJhdGlvVG9XaWRlIiwiZ2VvSWRlbnRpdHkiLCJmaXRFeHRlbnQiLCJnZXQiLCJyZWZsZWN0WSIsImdlb1BhdGgiLCJ6b29tX21hcCIsInpvb20iLCJzY2FsZUV4dGVudCIsInRyYW5zbGF0ZUV4dGVudCIsImNhbGwiLCJsYXllcl9saXN0Iiwibl9sYXllciIsIm5hbWVfbHlyIiwic3R5bGVfbGF5ZXIiLCJ0YXJnZXRfbGF5ZXIiLCJfcHRzIiwidG9vbHRpcHMiLCJ0aXBweSIsImRlc3Ryb3lBbGwiLCJuZXdfc2VsZWN0aW9uIiwic2VsZWN0aW9uIiwiZXhpdCIsInJlc2V0Q29sb3JzIiwiY3VycmVudF9pZHMiLCJ6b29tSWRlbnRpdHkiLCJicnVzaF9tYXAiLCJtb3ZlIiwiY2hhcnQiLCJoYW5kbGVDbGlja01hcCIsImhhbmRsZV9icnVzaF9tYXAiLCJicnVzaCIsImV4dGVudCIsImRpc3Rfa20iLCJkaXN0IiwiZGlzdF90b19teV9yZWdpb24iLCJwcm90b3R5cGUiLCJuYl9mdCIsIm15X3JlZ2lvbl9nZW9tIiwiX19kYXRhX18iLCJteV9yZWdpb25fY2VudHJvaWQiLCJ0dXJmIiwiY2VudHJvaWQiLCJyZXN1bHRfZGlzdCIsImVsZW1zIiwibWFrZVNvdXJjZVNlY3Rpb24iLCJwYXJlbnQiLCJwYXJlbnRFbGVtZW50IiwiZm9udFNpemUiLCJpbnNlcnRCZWZvcmUiLCJsZWZ0IiwicGFkZGluZ0xlZnQiLCJ0b3AiLCJUYWJsZVJlc3VtZVN0YXQiLCJzdW1tYXJ5X2ZlYXR1cmVzIiwib3B0aW9ucyIsImRvYyIsIm5iX2ZlYXR1cmVzIiwiY29sdW1uX25hbWVzIiwibmJfY29sdW1ucyIsImNvbnRhaW5lcl9kaXYiLCJteVRhYmxlIiwiaGVhZGVycyIsInRhYmxlX2JvZHkiLCJoZWFkZXJzX3JvdyIsImNlbGwiLCJyb3ciLCJjb2xfbmFtZSIsImFkZEZlYXR1cmUiLCJzdW1tYXJ5IiwiaWRfdmFyaWFibGUiLCJyb3dzIiwiQ29tcGxldHVkZVNlY3Rpb24iLCJiZWZvcmUiLCJzZWN0aW9uIiwiY29tcGxldHVkZV9wb3B1bGF0aW9uIiwiY29tcGxldHVkZV9mZWF0dXJlcyIsInNlbGYiLCJvbmNsaWNrIiwidmFsdWVfZmVhdHVyZXMiLCJ2YWx1ZV9wb3AiLCJzdmdfYmFyIiwicmlnaHQiLCJib3R0b20iLCJtYXJnaW4yIiwiaGVpZ2h0MiIsInN2Z19jb250YWluZXIiLCJuYkZ0IiwiY3VycmVudF9yYW5nZV9icnVzaCIsImN1cnJlbnRfcmFuZ2UiLCJkaXNwbGF5ZWQiLCJ1cGRhdGVEaW1lbnNpb25zIiwiZ2V0TWVhblJhbmsiLCJtZWFuX3ZhbHVlIiwicmF0aW9fdG9fdXNlIiwibWVhbl9yYW5rIiwic29ydCIsIkJhckNoYXJ0MSIsInJlZl9kYXRhIiwiYnJ1c2hlZCIsInNvdXJjZUV2ZW50IiwibG9nIiwicmFuZ2UiLCJkb21haW4iLCJ1cGRhdGUiLCJ1cGRhdGVDb250ZXh0IiwiYnJ1c2hfdG9wIiwiYnJ1c2hlZF90b3AiLCJfZm9jdXMiLCJkM19ldmVudCIsInJlbW92ZVJlY3RCcnVzaCIsInJlc2V0X3N0YXRlX2J1dHRvbiIsInVwZGF0ZU1hcFJlZ2lvIiwiZGV0YWlsIiwiY2hhcnREcmF3UmF0aW8iLCJuYl92YXIiLCJzY2FsZUJhbmQiLCJwYWRkaW5nIiwic2NhbGVMaW5lYXIiLCJ4QXhpcyIsImF4aXNCb3R0b20iLCJ4QXhpczIiLCJ5QXhpcyIsImF4aXNMZWZ0IiwiYXZhaWxhYmxlX3JhdGlvcyIsImN1cnJlbnRfcmFua3MiLCJmb2N1cyIsImNvbnRleHQiLCJicnVzaF9ib3R0b20iLCJicnVzaFgiLCJkeCIsImdfYmFyIiwiZ3JvdXBlX2xpbmVfbWVhbiIsInVwZGF0ZU1pbmlCYXJzIiwiZ19icnVzaF9ib3R0b20iLCJjb250ZXh0X2xlZnRfaGFuZGxlIiwiY29udGV4dF9yaWdodF9oYW5kbGUiLCJjb21wbGV0dWRlIiwia2V5Iiwic2VsZWNfdmFyIiwiY29kZV92YXJpYWJsZSIsIm5hbWVfdmFyaWFibGUiLCJ5ZWFyIiwibWF0Y2giLCJ1bml0X3llYXIiLCJyZXBsYWNlIiwiY2hhbmdlVmFyaWFibGUiLCJjaGFuZ2VTdHVkeVpvbmUiLCJ1cGRhdGVDb21wbGV0dWRlIiwibWVudV9zZWxlY3Rpb24iLCJzZWxlY3RCZWxvd01lYW4iLCJzZWxlY3RCZWxvd015UmVnaW9uIiwic2VsZWN0QWJvdmVNZWFuIiwic2VsZWN0QWJvdmVNeVJlZ2lvbiIsIm1ha2VUYWJsZVN0YXQiLCJtaW4iLCJfIiwiYmFyIiwiYmFuZHdpZHRoIiwidG9fZGlzcGxheSIsIm1vdXNlIiwiYXhpc194IiwibWluaV9iYXJzIiwibXlfcmFuayIsImxhc3RfbWFwX3NlbGVjdGlvbiIsInJlY3QiLCJwdHMiLCJuYl9wdHMiLCJpZHMiLCJyYW5rcyIsImMxIiwiYzIiLCJ1cGRhdGVUYWJsZVN0YXRzIiwidXBkYXRlTGVnZW5kIiwiZ3JwX21lYW4iLCJtYXhfc2VyaWUiLCJ1cGRhdGVNZWFuVmFsdWUiLCJkaXNwYXRjaCIsInRhYmxlX3N0YXRzIiwidW5iaW5kQnJ1c2hDbGljayIsImRpc3BsYXlMZWdlbmQiLCJyZW1vdmVBbGwiLCJwcmVwYXJlVGFibGVTdGF0IiwiZmVhdHVyZSIsImNvbnRleHRNZW51IiwiaXRlbXMiLCJzZXRJdGVtcyIsIml0ZW0iLCJhY3Rpb24iLCJuYl9pdGVtcyIsImFkZEl0ZW0iLCJzdG9wUHJvcGFnYXRpb24iLCJET01vYmoiLCJoaWRlTWVudSIsImluaXRNZW51IiwiY2xpZW50WSIsInNjcm9sbFRvcCIsImNsaWVudFgiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImxpc3QiLCJuYl9pdGVtIiwiU2NhdHRlclBsb3QyIiwidXBkYXRlTGlnaHQiLCJyYW5nZV94IiwiaW52ZXJ0IiwicmFuZ2VfeSIsInJldmVyc2UiLCJ0MSIsInQyIiwidmFyaWFibGUxIiwidmFyaWFibGUyIiwicmFua192YXJpYWJsZTEiLCJyYW5rX3ZhcmlhYmxlMiIsInJlZl92YWx1ZTEiLCJyZWZfdmFsdWUyIiwidW5pdDEiLCJ1bml0MiIsInByZXR0eV9uYW1lMSIsInByZXR0eV9uYW1lMiIsInJlcyIsIm5pY2UiLCJ0aWNrcyIsInlBeGlzMiIsInBsb3QiLCJzY2F0dGVyIiwibWFrZUdyaWQiLCJtZWFuX3ZhcmlhYmxlMSIsIm1lYW5fdmFyaWFibGUyIiwib3BhY2l0eSIsInByZXBhcmVUaXRsZUF4aXMiLCJjYWxsQnJ1c2giLCJjaGFydF90eXBlIiwiYmluZE1lbnUiLCJ0aWNrU2l6ZSIsInRpY2tGb3JtYXQiLCJtZW51WCIsIkNvbnRleHRNZW51IiwibWVudVkiLCJpdGVtc1giLCJjaGFuZ2VWYXJpYWJsZVgiLCJpdGVtc1kiLCJjaGFuZ2VWYXJpYWJsZVkiLCJiYm94Iiwic2hvd01lbnUiLCJkZWZhdWx0X2NvbG9yIiwic2VyaWVfeCIsInNlcmllX3kiLCJkb3RzIiwidXBkYXRlQXhpc0dyaWQiLCJ2YWx1ZTEiLCJ2YWx1ZTIiLCJ0bXBfbXlfcmVnaW9uIiwidXBkYXRlSXRlbXNDdHhNZW51IiwidXBkYXRlVGFibGVTdGF0IiwidmFyX2luZm8iLCJuZXdfdmFyX3giLCJuZXdfdmFyX3kiLCJ2YWx1ZXMxIiwidmFsdWVzMiIsImFkZEZlYXR1cmVzIiwid3JhcCIsIl90ZXh0IiwiX3dpZHRoIiwid29yZHMiLCJsaW5lSGVpZ2h0IiwicGFyc2VGbG9hdCIsImxpbmUiLCJsaW5lTnVtYmVyIiwidHNwYW4iLCJ3b3JkIiwiZ2V0Q29tcHV0ZWRUZXh0TGVuZ3RoIiwiYXJyYXkiLCJmcm9tIiwidG8iLCJzd2FwIiwiaXgxIiwiaXgyIiwicHJlcGFyZV9kYXRhX3JhZGFyX2RlZmF1bHQiLCJ2X215X3JlZ2lvbiIsIm9qYl9teV9yZWdpb24iLCJfdiIsImF4ZXMiLCJwcmVwYXJlX2RhdGFfcmFkYXJfZnQiLCJmdF92YWx1ZXMiLCJSYWRhckNoYXJ0MyIsImNmZyIsInNjYWxlT3JkaW5hbCIsInNjaGVtZUNhdGVnb3J5MTAiLCJvcHRzX2tleSIsImciLCJ3IiwiaCIsInByZXBhcmVEYXRhIiwiZHJhd0F4aXNHcmlkIiwiZHJhd0FyZWEiLCJoYW5kbGVMZWdlbmQiLCJhbGxvd0ludmVyc2VEYXRhIiwiaW52ZXJzZV9kYXRhIiwiZmllbGQiLCJkYXRhX2xlbmd0aCIsImF4IiwiYXhpcyIsIm5fYXhpcyIsIkpTT04iLCJzdHJpbmdpZnkiLCJhbGxBeGlzIiwiRXJyb3IiLCJkaXNwbGF5ZWRfaWRzIiwib25fYXhlcyIsImlkX215X3JlZ2lvbiIsImJsb2JXcmFwcGVyIiwicmFkYXJMaW5lIiwib3BhY2l0eUFyZWEiLCJzdHJva2VXaWR0aCIsImRvdFJhZGl1cyIsInJTY2FsZSIsImFuZ2xlU2xpY2UiLCJibG9iQ2lyY2xlV3JhcHBlciIsImN4IiwiYmFzZVZhbCIsImN5IiwiRm9ybWF0IiwicmFua192YXJpYWJsZXMiLCJtYXhWYWx1ZSIsInRvdGFsIiwicmFkaXVzIiwiZm9ybWF0IiwicmFkaWFsTGluZSIsImN1cnZlIiwicm91bmRTdHJva2VzIiwiY3VydmVDYXJkaW5hbENsb3NlZCIsImN1cnZlTGluZWFyQ2xvc2VkIiwiYW5nbGUiLCJsYWJlbENsaWNrZWQiLCJuZXdfaXgiLCJsYWJlbEN0eE1lbnUiLCJsYWJlbCIsImF4aXNHcmlkIiwibGV2ZWxzIiwib3BhY2l0eUNpcmNsZXMiLCJsYWJlbEZhY3RvciIsIndyYXBXaWR0aCIsImZlTWVyZ2UiLCJsZWdlbmQiLCJiYWJlbEhlbHBlcnMudHlwZW9mIiwiZWwiLCJ0aXRsZSIsImxlZ2VuZFpvbmUiLCJsZWdlbmRFbnRlciIsIm1lcmdlIiwidHJhbnNsYXRlWCIsInVwZGF0ZV9heGlzIiwidXBkYXRlX2Jsb2JXcmFwcGVyIiwiY2lyY2xlIiwidXBkYXRlX2Jsb2JDaXJjbGVXcmFwcGVyIiwiaW52aXNpYmxlQ2lyY2xlIiwib2xkX215X3JlZ2lvbiIsIm90aGVyX2ZlYXR1cmVzIiwiYWRkX2VsZW1lbnQiLCJhbGxfdmFsdWVzIiwiX2QiLCJTaW1pbGFyaXR5MXBsdXMiLCJyYXRpb3MiLCJudW1zIiwiaGlnaGxpZ2h0X3NlbGVjdGlvbiIsInByb3BvcnRpb25uYWxfc3ltYm9scyIsImRyYXdfZ3JvdXAiLCJhcHBseVNlbGVjdGlvbiIsInNlbGVjdGlvbl9jbG9zZSIsImZvciIsIm5iIiwiZ2xvYmFsX2Rpc3QiLCJyZWR1Y2UiLCJyZW1vdmVMaW5lcyIsIm5iX3ZhcmlhYmxlcyIsImhlaWdodF90b191c2UiLCJudW1fbmFtZSIsIm15X3JlZ2lvbl92YWx1ZSIsInJhdGlvX3ZhbHVlcyIsIl9taW4iLCJfbWF4IiwiZGlzdF9heGlzIiwibWFyZ2luX21pbl9tYXgiLCJzaXplX2Z1bmMiLCJ4U2NhbGUiLCJidWJibGVzIiwieF92YWx1ZSIsIm1ha2VUb29sdGlwcyIsIl9pZCIsImlkX3RvX3JlbW92ZSIsInNldFRpbWVvdXQiLCJkaXNwbGF5TGluZSIsInJhdGlvX24iLCJudW1fbiIsImNvb3JkcyIsImRhdHVtIiwiYXNzaWduIiwiYXBwbHljaGFuZ2UiLCJjaGVja2VkIiwic2V0RGVmYXVsdENvbmZpZyIsImNvZGUiLCJ2YXJpYWJsZSIsInNldERlZmF1bHRDb25maWdNZW51IiwibGV2ZWwiLCJ1cGRhdGVBdmFpbGFibGVSYXRpb3MiLCJkYXRhX215X2ZlYXR1cmUiLCJsaW5lcyIsIm5iX2xpbmVzIiwibmV4dFNpYmxpbmciLCJuZXdfdmFyIiwibmV3X3Zhcl9uYW1lcyIsInVwZGF0ZUF2YWlsYWJsZUNoYXJ0cyIsImJpbmRVSV9jaGFydCIsImlucHV0X2VsZW0iLCJyZW1vdmVBdHRyaWJ1dGUiLCJvbGRfbmJfdmFyIiwibmV3X25iX3ZhciIsInVwZGF0ZUNoYW5nZVJlZ2lvbiIsIndhcm5pbmciLCJncm91cF92YXIiLCJsZXZlbF92YWx1ZSIsInVwZGF0ZUxldmVsUmVnaW9uIiwiYmluZEJydXNoQ2xpY2siLCJwcmV2aW91c1NpYmxpbmciLCJiaW5kVG9wQnV0dG9ucyIsInJlc2V0Wm9vbSIsImJpbmRNYXAiLCJiaW5kSGVscE1lbnUiLCJoZWxwX2J1dHRvbnNfdmFyIiwiYnRuX2kiLCJvIiwibW9kYWwiLCJ0aW5nbGUiLCJiYWNrZ3JvdW5kIiwiZGVzdHJveSIsInNldENvbnRlbnQiLCJtZXRob2RvIiwic291cmNlIiwibGFzdF91cGRhdGUiLCJvcGVuIiwiaGVscHNfYnV0dG9uc19zdHVkeV96b25lIiwiZmlsdGVyX25hbWUiLCJoZWxwc19idXR0b25zX3RlcnJpdF91bml0IiwidGVycml0X2xldmVsX25hbWUiLCJsb2FkRGF0YSIsInF1ZXVlIiwiZGVmZXIiLCJjc3YiLCJqc29uIiwiYXdhaXRBbGwiLCJlcnJvciIsInJlc3VsdHMiLCJnZXRSYXRpb1RvV2lkZSIsImJvcmRlcnMiLCJjb3VudHJpZXMiLCJjb3VudHJpZXNfcmVtb3RlIiwiY29hc3RzIiwiY29hc3RzX3JlbW90ZSIsImN5cHJ1c19ub25fZXNwb25fc3BhY2UiLCJjb3VudHJpZXNfcmVtb3RlX2JvdW5kYXJpZXMiLCJmcmFtZSIsImJveGVzIiwic2V0IiwiZmVhdHVyZXNfbWVudSIsInN0YXJ0X3JlZ2lvbiIsInN0YXJ0X3ZhcmlhYmxlIiwiaWRfZmllbGRfZ2VvbSIsIk1hcCIsIndpbmRvdyIsIm1hdGNoTWVkaWEiLCJtYXRjaGVzIiwib25yZXNpemUiLCJwcmV2aW91c19yYXRpbyIsIm5ld19yYXRpbyIsImNoYXJ0X3NjYWxlX3ZhbHVlIiwibWFwX3NjYWxlX3ZhbHVlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxFQUFFLE9BQU9BLFNBQU0sRUFBRUEsU0FBTSxDQUFDLEdBQUcsQ0FBQ0EsU0FBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEFBQXlCLGNBQWMsQ0FBQyxDQUFDLEVBQUUsQUFBYSxDQUFBLENBQUMsQ0FBQ0MsY0FBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFBLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFBLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMscUJBQXFCLENBQUMsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLDBCQUEwQixDQUFDLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLDJCQUEyQixDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFBLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLDBCQUEwQixDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFBLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUMsTUFBTSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFBLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsYUFBYSxHQUFHLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsbUJBQW1CLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUMsTUFBTSxDQUFDLG1CQUFtQixDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxlQUFlLENBQUMsV0FBVyxDQUFDLGdCQUFnQixDQUFDLGFBQWEsQ0FBQyxlQUFlLENBQUMsZ0JBQWdCLENBQUMscUJBQXFCLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQSxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFBLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLGdCQUFnQixDQUFDLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLFVBQVUsRUFBRSxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLEVBQUUsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFBLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLHVCQUF1QixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsR0FBRyxVQUFVLEVBQUUsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsdUJBQXVCLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxVQUFVLEVBQUUsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxVQUFVLEVBQUUsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQSxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsVUFBVSxDQUFDLE9BQU8sSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsZUFBZSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsa0NBQWtDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDLGdCQUFnQixDQUFDLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcs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LENBQUMsS0FBSyxDQUFDOzs7Z0JBRzdELFFBQVEsQ0FBQyxNQUFNLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUM7OztnQkFHM0MsUUFBUSxDQUFDLEtBQUssR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQztnQkFDekMsUUFBUSxDQUFDLEtBQUssQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQztnQkFDNUMsUUFBUSxDQUFDLE1BQU0sR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQztnQkFDNUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDLEtBQUssR0FBRyxTQUFTLENBQUMsUUFBUSxHQUFHLFNBQVMsQ0FBQyxNQUFNLEdBQUcsU0FBUyxDQUFDLElBQUksR0FBRyxTQUFTLENBQUMsTUFBTSxHQUFHLFNBQVMsQ0FBQyxZQUFZLEdBQUcsU0FBUyxDQUFDLEtBQUssQ0FBQzs7O2dCQUduSyxRQUFRLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQztnQkFDcEIsUUFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQztnQkFDaEQsUUFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQzs7O2dCQUcvQyxRQUFRLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQztnQkFDdkIsUUFBUSxDQUFDLFFBQVEsQ0FBQyxTQUFTLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUM7Z0JBQzVELFFBQVEsQ0FBQyxRQUFRLENBQUMsR0FBRyxHQUFHLFFBQVEsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQztnQkFDL0QsUUFBUSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDO2dCQUMvRCxRQUFRLENBQUMs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
