(function (exports,debug) {
'use strict';

debug = 'default' in debug ? debug['default'] : debug;

var createMenu = function createMenu(names, variables, study_zones, territorial_mesh) {
  // First section, regions names:
  var title_section1 = document.createElement('p');
  title_section1.className = 'title_menu';
  title_section1.innerHTML = 'Ma région';
  var section1 = document.createElement('div');
  section1.className = 'box';
  section1.style.overflow = 'auto';
  section1.style.height = '200px';
  for (var i = 0, len_i = names.length; i < len_i; i++) {
    var id = names[i].geo;
    var name = names[i].Nom;
    var entry = document.createElement('p');
    entry.innerHTML = '<span value="' + id + '" class=\'target_region square\'></span><span class="label_chk">' + name + '</span>';
    section1.appendChild(entry);
  }

  // Second section, groups of variables:
  var title_section2 = document.createElement('p');
  title_section2.className = 'title_menu';
  title_section2.innerHTML = 'Mon/mes indicateurs';
  var section2 = document.createElement('div');
  section2.className = 'box';
  var groups_var = Object.keys(variables);
  for (var _i = 0, _len_i = groups_var.length; _i < _len_i; _i++) {
    var gp_name = groups_var[_i];
    var _entry = document.createElement('p');
    _entry.innerHTML = '<span class=\'square\'></span><span class="label_chk">' + gp_name + '</span>';
    section2.appendChild(_entry);
    var var_names = Object.keys(variables[gp_name]);
    for (var j = 0, len_j = var_names.length; j < len_j; j++) {
      var name_var = var_names[j];
      var code_var = variables[gp_name][name_var];
      var sub_entry = document.createElement('p');
      sub_entry.className = 'small';
      sub_entry.innerHTML = '<span value="' + code_var + '" class="small_square"></span><span>' + var_names[j] + '</span>';
      section2.appendChild(sub_entry);
    }
  }

  // Third section, study zone:
  var title_section3 = document.createElement('p');
  title_section3.className = 'title_menu';
  title_section3.innerHTML = 'Mon espace d\'étude';
  var section3 = document.createElement('div');
  section3.className = 'box';
  for (var _i2 = 0, _len_i2 = study_zones.length; _i2 < _len_i2; _i2++) {
    var _entry2 = document.createElement('p');
    var zone = study_zones[_i2];
    _entry2.innerHTML = '<span filter-value="' + zone.id + '" class=\'filter_v square\'></span><span class="label_chk">' + zone.name + '</span>';
    section3.appendChild(_entry2);
  }

  // Fourth section:
  var title_section4 = document.createElement('p');
  title_section4.className = 'title_menu';
  title_section4.innerHTML = 'Maillage territorial d\'analyse';
  var section4 = document.createElement('div');
  section4.className = 'box';
  for (var _i3 = 0, _len_i3 = territorial_mesh.length; _i3 < _len_i3; _i3++) {
    var _entry3 = document.createElement('p');
    var territ_level = territorial_mesh[_i3];
    _entry3.innerHTML = '<span value="' + territ_level.id + '" class=\'square\'></span><span class="label_chk">' + territ_level.name + '</span>';
    section4.appendChild(_entry3);
  }

  // The actual menu containing these 4 sections:
  var menu = document.getElementById('menu');
  menu.id = 'menu';
  menu.style.width = '340px';
  menu.style.float = 'left';
  menu.appendChild(title_section1);
  menu.appendChild(section1);
  menu.appendChild(title_section2);
  menu.appendChild(section2);
  menu.appendChild(title_section3);
  menu.appendChild(section3);
  menu.appendChild(title_section4);
  menu.appendChild(section4);
};

var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};





function createCommonjsModule(fn, module) {
	return module = { exports: {} }, fn(module, module.exports), module.exports;
}

var vanillaDataTables = createCommonjsModule(function (module, exports) {
/*!
 *
 * Vanilla-DataTables
 * Copyright (c) 2015-2017 Karl Saunders (http://mobius.ovh)
 * Licensed under MIT (http://www.opensource.org/licenses/mit-license.php)
 *
 * Version: 1.4.15
 *
 */
(function (root, factory) {
    var plugin = "DataTable";

    if (typeof undefined === "function" && undefined.amd) {
        undefined([], factory(plugin));
    } else {
        module.exports = factory(plugin);
    }
})(commonjsGlobal, function (plugin) {
    "use strict";
    var win = window,
        doc = document,
        body = doc.body;

    /**
     * Default configuration
     * @typ {Object}
     */
    var defaultConfig = {
        perPage: 10,
        perPageSelect: [5, 10, 15, 20, 25],

        sortable: true,
        searchable: true,

        // Pagination
        nextPrev: true,
        firstLast: false,
        prevText: "&lsaquo;",
        nextText: "&rsaquo;",
        firstText: "&laquo;",
        lastText: "&raquo;",
        ellipsisText: "&hellip;",
        ascText: "▴",
        descText: "▾",
        truncatePager: true,
        pagerDelta: 2,

        fixedColumns: true,
        fixedHeight: false,

        header: true,
        footer: false,

        // Customise the display text
        labels: {
            placeholder: "Search...", // The search input placeholder
            perPage: "{select} entries per page", // per-page dropdown label
            noRows: "No entries found", // Message shown when there are no search results
            info: "Showing {start} to {end} of {rows} entries" //
        },

        // Customise the layout
        layout: {
            top: "{select}{search}",
            bottom: "{info}{pager}"
        }
    };

    /**
     * Check is item is object
     * @return {Boolean}
     */
    var isObject = function (val) {
        return Object.prototype.toString.call(val) === "[object Object]";
    };

    /**
     * Check is item is array
     * @return {Boolean}
     */
    var isArray = function (val) {
        return Array.isArray(val);
    };

    /**
     * Check for valid JSON string
     * @param  {String}   str
     * @return {Boolean|Array|Object}
     */
    var isJson = function (str) {
        var t = !1;
        try {
            t = JSON.parse(str);
        } catch (e) {
            return !1;
        }
        return !(null === t || (!isArray(t) && !isObject(t))) && t;
    };

    /**
     * Merge objects (reccursive)
     * @param  {Object} r
     * @param  {Object} t
     * @return {Object}
     */
    var extend = function (src, props) {
        for (var prop in props) {
            if (props.hasOwnProperty(prop)) {
                var val = props[prop];
                if (val && isObject(val)) {
                    src[prop] = src[prop] || {};
                    extend(src[prop], val);
                } else {
                    src[prop] = val;
                }
            }
        }
        return src;
    };

    /**
     * Iterator helper
     * @param  {(Array|Object)}   arr     Any object, array or array-like collection.
     * @param  {Function}         fn      Callback
     * @param  {Object}           scope   Change the value of this
     * @return {Void}
     */
    var each = function (arr, fn, scope) {
        var n;
        if (isObject(arr)) {
            for (n in arr) {
                if (Object.prototype.hasOwnProperty.call(arr, n)) {
                    fn.call(scope, arr[n], n);
                }
            }
        } else {
            for (n = 0; n < arr.length; n++) {
                fn.call(scope, arr[n], n);
            }
        }
    };

    /**
     * Add event listener to target
     * @param  {Object} el
     * @param  {String} e
     * @param  {Function} fn
     */
    var on = function (el, e, fn) {
        el.addEventListener(e, fn, false);
    };

    /**
     * Create DOM element node
     * @param  {String}   a nodeName
     * @param  {Object}   b properties and attributes
     * @return {Object}
     */
    var createElement = function (a, b) {
        var d = doc.createElement(a);
        if (b && "object" == typeof b) {
            var e;
            for (e in b) {
                if ("html" === e) {
                    d.innerHTML = b[e];
                } else {
                    d.setAttribute(e, b[e]);
                }
            }
        }
        return d;
    };

    var flush = function (el, ie) {
        if (el instanceof NodeList) {
            each(el, function (e) {
                flush(e, ie);
            });
        } else {
            if (ie) {
                while (el.hasChildNodes()) {
                    el.removeChild(el.firstChild);
                }
            } else {
                el.innerHTML = "";
            }
        }
    };

    /**
     * Create button helper
     * @param  {String}   c
     * @param  {Number}   p
     * @param  {String}   t
     * @return {Object}
     */
    var button = function (c, p, t) {
        return createElement("li", {
            class: c,
            html: '<a href="#" data-page="' + p + '">' + t + "</a>"
        });
    };

    /**
     * classList shim
     * @type {Object}
     */
    var classList = {
        add: function (s, a) {
            if (s.classList) {
                s.classList.add(a);
            } else {
                if (!classList.contains(s, a)) {
                    s.className = s.className.trim() + " " + a;
                }
            }
        },
        remove: function (s, a) {
            if (s.classList) {
                s.classList.remove(a);
            } else {
                if (classList.contains(s, a)) {
                    s.className = s.className.replace(
                        new RegExp("(^|\\s)" + a.split(" ").join("|") + "(\\s|$)", "gi"),
                        " "
                    );
                }
            }
        },
        contains: function (s, a) {
            if (s)
                return s.classList ?
                    s.classList.contains(a) :
                    !!s.className &&
                    !!s.className.match(new RegExp("(\\s|^)" + a + "(\\s|$)"));
        }
    };

    /**
     * Bubble sort algorithm
     */
    var sortItems = function (a, b) {
        var c, d;
        if (1 === b) {
            c = 0;
            d = a.length;
        } else {
            if (b === -1) {
                c = a.length - 1;
                d = -1;
            }
        }
        for (var e = !0; e;) {
            e = !1;
            for (var f = c; f != d; f += b) {
                if (a[f + b] && a[f].value > a[f + b].value) {
                    var g = a[f],
                        h = a[f + b],
                        i = g;
                    a[f] = h;
                    a[f + b] = i;
                    e = !0;
                }
            }
        }
        return a;
    };

    /**
     * Pager truncation algorithm
     */
    var truncate = function (a, b, c, d, ellipsis) {
        d = d || 2;
        var j,
            e = 2 * d,
            f = b - d,
            g = b + d,
            h = [],
            i = [];
        if (b < 4 - d + e) {
            g = 3 + e;
        } else if (b > c - (3 - d + e)) {
            f = c - (2 + e);
        }
        for (var k = 1; k <= c; k++) {
            if (1 == k || k == c || (k >= f && k <= g)) {
                var l = a[k - 1];
                classList.remove(l, "active");
                h.push(l);
            }
        }
        each(h, function (c) {
            var d = c.children[0].getAttribute("data-page");
            if (j) {
                var e = j.children[0].getAttribute("data-page");
                if (d - e == 2) i.push(a[e]);
                else if (d - e != 1) {
                    var f = createElement("li", {
                        class: "ellipsis",
                        html: '<a href="#">' + ellipsis + "</a>"
                    });
                    i.push(f);
                }
            }
            i.push(c);
            j = c;
        });

        return i;
    };

    /**
     * Parse data to HTML table
     */
    var dataToTable = function (data) {
        var thead = false,
            tbody = false;

        data = data || this.options.data;

        if (data.headings) {
            thead = createElement("thead");
            var tr = createElement("tr");
            each(data.headings, function (col) {
                var td = createElement("th", {
                    html: col
                });
                tr.appendChild(td);
            });

            thead.appendChild(tr);
        }

        if (data.data) {
            tbody = createElement("tbody");
            each(data.data, function (rows) {
                if (data.headings) {
                    if (data.headings.length !== rows.length) {
                        throw new Error(
                            "The number of rows do not match the number of headings."
                        );
                    }
                }
                var tr = createElement("tr");
                each(rows, function (value) {
                    var td = createElement("td", {
                        html: value
                    });
                    tr.appendChild(td);
                });
                tbody.appendChild(tr);
            });
        }

        if (thead) {
            if (this.table.tHead !== null) {
                this.table.removeChild(this.table.tHead);
            }
            this.table.appendChild(thead);
        }

        if (tbody) {
            if (this.table.tBodies.length) {
                this.table.removeChild(this.table.tBodies[0]);
            }
            this.table.appendChild(tbody);
        }
    };

    /**
     * Use moment.js to parse cell contents for sorting
     * @param  {String} content     The datetime string to parse
     * @param  {String} format      The format for moment to use
     * @return {String|Boolean}     Datatime string or false
     */
    var parseDate = function (content, format) {
        var date = false;

        // moment() throws a fit if the string isn't a valid datetime string
        // so we need to supply the format to the constructor (https://momentjs.com/docs/#/parsing/string-format/)

        // Converting to YYYYMMDD ensures we can accurately sort the column numerically

        if (format) {
            switch (format) {
            case "ISO_8601":
                date = moment(content, moment.ISO_8601).format("YYYYMMDD");
                break;
            case "RFC_2822":
                date = moment(content, "ddd, MM MMM YYYY HH:mm:ss ZZ").format("YYYYMMDD");
                break;
            case "MYSQL":
                date = moment(content, "YYYY-MM-DD hh:mm:ss").format("YYYYMMDD");
                break;
            case "UNIX":
                date = moment(content).unix();
                break;
                // User defined format using the data-format attribute or columns[n].format option
            default:
                date = moment(content, format).format("YYYYMMDD");
                break;
            }
        }

        return date;
    };

    /**
     * Columns API
     * @param {Object} instance DataTable instance
     * @param {Mixed} columns  Column index or array of column indexes
     */
    var Columns = function (dt) {
        this.dt = dt;
        return this;
    };

    /**
     * Swap two columns
     * @return {Void}
     */
    Columns.prototype.swap = function (columns) {
        if (columns.length && columns.length === 2) {
            var cols = [];

            // Get the current column indexes
            each(this.dt.headings, function (h, i) {
                cols.push(i);
            });

            var x = columns[0];
            var y = columns[1];
            var b = cols[y];
            cols[y] = cols[x];
            cols[x] = b;

            this.order(cols);
        }
    };

    /**
     * Reorder the columns
     * @return {Array} columns  Array of ordered column indexes
     */
    Columns.prototype.order = function (columns) {
        var a, b, c, d, h, s;

        var temp_a = [];
        var temp_b = [];
        var temp_c = [];
        var temp_d = [];

        var dt = this.dt;

        // Order the headings
        each(columns, function (column, x) {
            h = dt.headings[column];
            s = h.getAttribute("data-sortable") !== "false";
            a = h.cloneNode(true);
            a.originalCellIndex = x;
            a.sortable = s;

            temp_a.push(a);

            if (dt.hiddenColumns.indexOf(column) < 0) {
                b = h.cloneNode(true);
                b.originalCellIndex = x;
                b.sortable = s;

                temp_b.push(b);
            }
        });

        // Order the row cells
        each(dt.data, function (row, i) {
            c = row.cloneNode();
            d = row.cloneNode();

            c.dataIndex = i;
            d.dataIndex = i;

            if (row.searchIndex !== null && row.searchIndex !== undefined) {
                c.searchIndex = row.searchIndex;
                d.searchIndex = row.searchIndex;
            }

            // Append to cell to the fragment in the correct order
            each(
                columns,
                function (x, column) {
                    c.appendChild(row.cells[column].cloneNode(true));

                    if (dt.hiddenColumns.indexOf(column) < 0) {
                        d.appendChild(row.cells[column].cloneNode(true));
                    }
                },
                this
            );

            temp_c.push(c);
            temp_d.push(d);
        });

        dt.headings = temp_a;
        dt.activeHeadings = temp_b;

        dt.data = temp_c;
        dt.activeRows = temp_d;

        // Update
        dt.update();
    };

    /**
     * Hide columns
     * @return {Void}
     */
    Columns.prototype.hide = function (columns) {
        if (columns.length) {
            var dt = this.dt;

            each(columns, function (column) {
                if (dt.hiddenColumns.indexOf(column) < 0) {
                    dt.hiddenColumns.push(column);
                }
            });

            this.rebuild();
        }
    };

    /**
     * Show columns
     * @return {Void}
     */
    Columns.prototype.show = function (columns) {
        if (columns.length) {
            var index, dt = this.dt;

            each(columns, function (column) {
                index = dt.hiddenColumns.indexOf(column);
                if (index > -1) {
                    dt.hiddenColumns.splice(index, 1);
                }
            });

            this.rebuild();
        }
    };

    /**
     * Check column(s) visibility
     * @return {Boolean}
     */
    Columns.prototype.visible = function (columns) {
        var cols, dt = this.dt;

        columns = columns || dt.headings.map(function (th) {
            return th.originalCellIndex;
        });

        if (!isNaN(columns)) {
            cols = dt.hiddenColumns.indexOf(columns) < 0;
        } else if (isArray(columns)) {
            cols = [];
            each(columns, function (column) {
                cols.push(dt.hiddenColumns.indexOf(column) < 0);
            });
        }

        return cols;
    };

    /**
     * Check column(s) visibility
     * @return {Boolean}
     */
    Columns.prototype.hidden = function (columns) {
        var cols, dt = this.dt;

        columns = columns || this.dt.headings.map(function (th) {
            return th.originalCellIndex;
        });

        if (!isNaN(columns)) {
            cols = dt.hiddenColumns.indexOf(this.columns) > -1;
        } else if (isArray(columns)) {
            cols = [];
            each(columns, function (column) {
                cols.push(dt.hiddenColumns.indexOf(column) > -1);
            });
        }

        return cols;
    };

    /**
     * Add a new column
     * @param {Object} data
     */
    Columns.prototype.add = function (data) {
        var that = this,
            td, th = document.createElement("th");

        if (!this.dt.headings.length) {
            this.dt.insert({
                headings: [data.heading],
                data: data.data.map(function (i) {
                    return [i];
                })
            });
            this.rebuild();
            return;
        }

        if (!this.dt.hiddenHeader) {
            if (data.heading.nodeName) {
                th.appendChild(data.heading);
            } else {
                th.innerHTML = data.heading;
            }
        } else {
            th.innerHTML = "";
        }

        this.dt.headings.push(th);

        each(this.dt.data, function (row, i) {
            if (data.data[i]) {
                td = document.createElement("td");

                if (data.data[i].nodeName) {
                    td.appendChild(data.data[i]);
                } else {
                    td.innerHTML = data.data[i];
                }

                td.data = td.innerHTML;

                if (data.render) {
                    td.innerHTML = data.render.call(that, td.data, td, row);
                }

                row.appendChild(td);
            }
        });

        if (data.type) {
            th.setAttribute("data-type", data.type);
        }
        if (data.format) {
            th.setAttribute("data-format", data.format);
        }

        if (data.hasOwnProperty("sortable")) {
            th.sortable = data.sortable;
            th.setAttribute("data-sortable", data.sortable === true ? "true" : "false");
        }

        this.rebuild();

        this.dt.renderHeader();
    };

    /**
     * Remove column(s)
     * @param  {Array|Number} select
     * @return {Void}
     */
    Columns.prototype.remove = function (select) {
        if (isArray(select)) {
            // Remove in reverse otherwise the indexes will be incorrect
            select.sort(function (a, b) {
                return b - a;
            });

            each(select, function (column) {
                this.remove(column);
            }, this);
        } else {
            this.dt.headings.splice(select, 1);

            each(this.dt.data, function (row) {
                row.removeChild(row.cells[select]);
            });
        }

        this.rebuild();
    };

    /**
     * Sort by column
     * @param  {int} column - The column no.
     * @param  {string} direction - asc or desc
     * @return {void}
     */
    Columns.prototype.sort = function (column, direction, init) {

        var dt = this.dt;

        // Check column is present
        if (dt.hasHeadings && (column < 1 || column > dt.activeHeadings.length)) {
            return false;
        }

        dt.sorting = true;

        // Convert to zero-indexed
        column = column - 1;

        var dir,
            rows = dt.data,
            alpha = [],
            numeric = [],
            a = 0,
            n = 0,
            th = dt.activeHeadings[column];

        column = th.originalCellIndex;

        each(rows, function (tr) {
            var cell = tr.cells[column];
            var content = cell.data;
            var num = content.replace(/(\$|\,|\s|%)/g, "");

            // Check for date format and moment.js
            if (th.getAttribute("data-type") === "date" && win.moment) {
                var format = false,
                    formatted = th.hasAttribute("data-format");

                if (formatted) {
                    format = th.getAttribute("data-format");
                }

                num = parseDate(content, format);
            }

            if (parseFloat(num) == num) {
                numeric[n++] = {
                    value: Number(num),
                    row: tr
                };
            } else {
                alpha[a++] = {
                    value: content,
                    row: tr
                };
            }
        });

        /* Sort according to direction (ascending or descending) */
        var top, btm;
        if (classList.contains(th, "asc") || direction == "asc") {
            top = sortItems(alpha, -1);
            btm = sortItems(numeric, -1);
            dir = "descending";
            classList.remove(th, "asc");
            classList.add(th, "desc");
        } else {
            top = sortItems(numeric, 1);
            btm = sortItems(alpha, 1);
            dir = "ascending";
            classList.remove(th, "desc");
            classList.add(th, "asc");
        }

        /* Clear asc/desc class names from the last sorted column's th if it isn't the same as the one that was just clicked */
        if (dt.lastTh && th != dt.lastTh) {
            classList.remove(dt.lastTh, "desc");
            classList.remove(dt.lastTh, "asc");
        }

        dt.lastTh = th;

        /* Reorder the table */
        rows = top.concat(btm);

        dt.data = [];
        var indexes = [];

        each(rows, function (v, i) {
            dt.data.push(v.row);

            if (v.row.searchIndex !== null && v.row.searchIndex !== undefined) {
                indexes.push(i);
            }
        }, dt);

        dt.searchData = indexes;

        this.rebuild();

        dt.update();

        if (!init) {
            dt.emit("datatable.sort", column, dir);
        }
    };

    /**
     * Rebuild the columns
     * @return {Void}
     */
    Columns.prototype.rebuild = function () {
        var a, b, c, d;
        var dt = this.dt,
            temp = [];

        dt.activeRows = [];
        dt.activeHeadings = [];

        each(dt.headings, function (th, i) {
            th.originalCellIndex = i;
            th.sortable = th.getAttribute("data-sortable") !== "false";
            if (dt.hiddenColumns.indexOf(i) < 0) {
                dt.activeHeadings.push(th);
            }
        }, this);

        // Loop over the rows and reorder the cells
        each(dt.data, function (row, i) {
            a = row.cloneNode();
            b = row.cloneNode();

            a.dataIndex = i;
            b.dataIndex = i;

            if (row.searchIndex !== null && row.searchIndex !== undefined) {
                a.searchIndex = row.searchIndex;
                b.searchIndex = row.searchIndex;
            }

            // Append to cell to the fragment in the correct order
            each(row.cells, function (cell) {
                c = cell.cloneNode(true);
                c.data = cell.data;
                a.appendChild(c);

                if (dt.hiddenColumns.indexOf(cell.cellIndex) < 0) {
                    d = cell.cloneNode(true);
                    d.data = cell.data;
                    b.appendChild(d);
                }
            });

            // Append the fragment with the ordered cells
            temp.push(a);
            dt.activeRows.push(b);
        });

        dt.data = temp;

        dt.update();
    };

    /**
     * Rows API
     * @param {Object} instance DataTable instance
     * @param {Array} rows
     */
    var Rows = function (dt, rows) {
        this.dt = dt;
        this.rows = rows;

        return this;
    };

    /**
     * Build a new row
     * @param  {Array} row
     * @return {HTMLElement}
     */
    Rows.prototype.build = function (row) {
        var td, tr = createElement("tr");

        var headings = this.dt.headings;

        if (!headings.length) {
            headings = row.map(function () {
                return "";
            });
        }

        each(headings, function (h, i) {
            td = createElement("td");

            if (row[i] && row[i].length) {
                td.innerHTML = row[i];
            }

            td.data = row[i];

            tr.appendChild(td);
        });

        return tr;
    };

    Rows.prototype.render = function (row) {
        return row;
    };

    /**
     * Add new row
     * @param {Array} select
     */
    Rows.prototype.add = function (data) {

        if (isArray(data)) {
            var dt = this.dt;
            // Check for multiple rows
            if (isArray(data[0])) {
                each(data, function (row, i) {
                    dt.data.push(this.build(row));
                }, this);
            } else {
                dt.data.push(this.build(data));
            }

            this.update();

            dt.columns().rebuild();
        }
    };

    /**
     * Remove row(s)
     * @param  {Array|Number} select
     * @return {Void}
     */
    Rows.prototype.remove = function (select) {

        var dt = this.dt;

        if (isArray(select)) {
            // Remove in reverse otherwise the indexes will be incorrect
            select.sort(function (a, b) {
                return b - a;
            });

            each(select, function (row, i) {
                dt.data.splice(row, 1);
            });
        } else {
            dt.data.splice(select, 1);
        }

        this.update();
        dt.columns().rebuild();
    };

    /**
     * Update row indexes
     * @return {Void}
     */
    Rows.prototype.update = function () {
        each(this.dt.data, function (row, i) {
            row.dataIndex = i;
        });
    };

    ////////////////////
    //    MAIN LIB    //
    ////////////////////

    var DataTable = function (table, options) {
        this.initialized = false;

        // user options
        this.options = extend(defaultConfig, options);

        if (typeof table === "string") {
            var selector = table;
            table = document.querySelector(table);

            if (!table) {
                throw new Error("The element '" + selector + "' can not be found.");
            }
        }

        if (table.tagName.toLowerCase() !== "table") {
            throw new Error("The selected element is not a table.");
        }

        this.initialLayout = table.innerHTML;
        this.initialSortable = this.options.sortable;

        // Disable manual sorting if no header is present (#4)
        if (!this.options.header) {
            this.options.sortable = false;
        }

        if (table.tHead === null) {
            if (!this.options.data ||
                (this.options.data && !this.options.data.headings)
            ) {
                this.options.sortable = false;
            }
        }

        if (table.tBodies.length && !table.tBodies[0].rows.length) {
            if (this.options.data) {
                if (!this.options.data.data) {
                    throw new Error(
                        "You seem to be using the data option, but you've not defined any rows."
                    );
                }
            }
        }

        this.table = table;

        this.init();
    };

    var proto = DataTable.prototype;

    /**
     * Add custom property or method to extend DataTable
     * @param  {String} prop    - Method name or property
     * @param  {Mixed} val      - Function or property value
     * @return {Void}
     */
    DataTable.extend = function (prop, val) {
        if (typeof val === "function") {
            DataTable.prototype[prop] = val;
        } else {
            DataTable[prop] = val;
        }
    };

    /**
     * Initialize the instance
     * @param  {Object} options
     * @return {Void}
     */
    proto.init = function (options) {
        if (this.initialized || classList.contains(this.table, "dataTable-table")) {
            return false;
        }

        var that = this;

        this.options = extend(this.options, options || {});

        // IE detection
        this.isIE = !!/(msie|trident)/i.test(navigator.userAgent);

        this.currentPage = 1;
        this.onFirstPage = true;

        this.hiddenColumns = [];
        this.columnRenderers = [];
        this.selectedColumns = [];

        this.render();

        if (this.options.plugins) {
            each(this.options.plugins, function (options, plugin) {
                this[plugin](options);
            }, this);
        }

        setTimeout(function () {
            that.emit("datatable.init");
            that.initialized = true;
        }, 10);
    };

    /**
     * Render the instance
     * @param  {String} type
     * @return {Void}
     */
    proto.render = function (type) {
        if (type) {
            switch (type) {
            case "page":
                this.renderPage();
                break;
            case "pager":
                this.renderPager();
                break;
            case "header":
                this.renderHeader();
                break;
            }

            return false;
        }

        var that = this,
            o = that.options,
            template = "";

        // Convert data to HTML
        if (o.data) {
            dataToTable.call(that);
        }

        if (o.ajax) {
            var ajax = o.ajax;
            var xhr = new XMLHttpRequest();

            var xhrProgress = function (e) {
                that.emit("datatable.ajax.progress", e, xhr);
            };

            var xhrLoad = function (e) {
                if (xhr.readyState === 4) {
                    that.emit("datatable.ajax.loaded", e, xhr);

                    if (xhr.status === 200) {
                        var obj = {};
                        obj.data = ajax.load ? ajax.load.call(that, xhr) : xhr.responseText;

                        obj.type = "json";

                        if (ajax.content && ajax.content.type) {
                            obj.type = ajax.content.type;

                            obj = extend(obj, ajax.content);
                        }

                        that.import(obj);

                        that.setColumns(true);

                        that.emit("datatable.ajax.success", e, xhr);
                    } else {
                        that.emit("datatable.ajax.error", e, xhr);
                    }
                }
            };

            var xhrFailed = function (e) {
                that.emit("datatable.ajax.error", e, xhr);
            };

            var xhrCancelled = function (e) {
                that.emit("datatable.ajax.abort", e, xhr);
            };

            on(xhr, "progress", xhrProgress);
            on(xhr, "load", xhrLoad);
            on(xhr, "error", xhrFailed);
            on(xhr, "abort", xhrCancelled);

            that.emit("datatable.ajax.loading", xhr);

            xhr.open("GET", typeof ajax === "string" ? o.ajax : o.ajax.url);
            xhr.send();
        }

        // Store references
        that.body = that.table.tBodies[0];
        that.head = that.table.tHead;
        that.foot = that.table.tFoot;

        if (!that.body) {
            that.body = createElement("tbody");

            that.table.appendChild(that.body);
        }

        that.hasRows = that.body.rows.length > 0;

        // Make a tHead if there isn't one (fixes #8)
        if (!that.head) {
            var h = createElement("thead");
            var t = createElement("tr");

            if (that.hasRows) {
                each(that.body.rows[0].cells, function () {
                    t.appendChild(createElement("th"));
                });

                h.appendChild(t);
            }

            that.head = h;

            that.table.insertBefore(that.head, that.body);

            that.hiddenHeader = !o.ajax;
        }

        that.headings = [];
        that.hasHeadings = that.head.rows.length > 0;

        if (that.hasHeadings) {
            that.header = that.head.rows[0];
            that.headings = [].slice.call(that.header.cells);
        }

        // Header
        if (!o.header) {
            if (that.head) {
                that.table.removeChild(that.table.tHead);
            }
        }

        // Footer
        if (o.footer) {
            if (that.head && !that.foot) {
                that.foot = createElement("tfoot", {
                    html: that.head.innerHTML
                });
                that.table.appendChild(that.foot);
            }
        } else {
            if (that.foot) {
                that.table.removeChild(that.table.tFoot);
            }
        }

        // Build
        that.wrapper = createElement("div", {
            class: "dataTable-wrapper dataTable-loading"
        });

        // Template for custom layouts
        template += "<div class='dataTable-top'>";
        template += o.layout.top;
        template += "</div>";
        template += "<div class='dataTable-container'></div>";
        template += "<div class='dataTable-bottom'>";
        template += o.layout.bottom;
        template += "</div>";

        // Info placement
        template = template.replace("{info}", "<div class='dataTable-info'></div>");

        // Per Page Select
        if (o.perPageSelect) {
            var wrap = "<div class='dataTable-dropdown'><label>";
            wrap += o.labels.perPage;
            wrap += "</label></div>";

            // Create the select
            var select = createElement("select", {
                class: "dataTable-selector"
            });

            // Create the options
            each(o.perPageSelect, function (val) {
                var selected = val === o.perPage;
                var option = new Option(val, val, selected, selected);
                select.add(option);
            });

            // Custom label
            wrap = wrap.replace("{select}", select.outerHTML);

            // Selector placement
            template = template.replace("{select}", wrap);
        } else {
            template = template.replace("{select}", "");
        }

        // Searchable
        if (o.searchable) {
            var form =
                "<div class='dataTable-search'><input class='dataTable-input' placeholder='" +
                o.labels.placeholder +
                "' type='text'></div>";

            // Search input placement
            template = template.replace("{search}", form);
        } else {
            template = template.replace("{search}", "");
        }

        if (that.hasHeadings) {
            // Sortable
            this.render("header");
        }

        // Add table class
        classList.add(that.table, "dataTable-table");

        // Paginator
        var w = createElement("div", {
            class: "dataTable-pagination"
        });
        var paginator = createElement("ul");
        w.appendChild(paginator);

        // Pager(s) placement
        template = template.replace(/\{pager\}/g, w.outerHTML);

        that.wrapper.innerHTML = template;

        that.container = that.wrapper.querySelector(".dataTable-container");

        that.pagers = that.wrapper.querySelectorAll(".dataTable-pagination");

        that.label = that.wrapper.querySelector(".dataTable-info");

        // Insert in to DOM tree
        that.table.parentNode.replaceChild(that.wrapper, that.table);
        that.container.appendChild(that.table);

        // Store the table dimensions
        that.rect = that.table.getBoundingClientRect();

        // Convert rows to array for processing
        that.data = [].slice.call(that.body.rows);
        that.activeRows = that.data.slice();
        that.activeHeadings = that.headings.slice();

        // Update
        that.update();

        if (!o.ajax) {
            that.setColumns();
        }

        // Fixed height
        if (o.fixedHeight) {
            this.fixHeight();
        }

        that.fixColumns();

        // Class names
        if (!o.header) {
            classList.add(that.wrapper, "no-header");
        }

        if (!o.footer) {
            classList.add(that.wrapper, "no-footer");
        }

        if (o.sortable) {
            classList.add(that.wrapper, "sortable");
        }

        if (o.searchable) {
            classList.add(that.wrapper, "searchable");
        }

        if (o.fixedHeight) {
            classList.add(that.wrapper, "fixed-height");
        }

        if (o.fixedColumns) {
            classList.add(that.wrapper, "fixed-columns");
        }

        that.bindEvents();
    };

    /**
     * Render the page
     * @return {Void}
     */
    proto.renderPage = function () {
        if (this.hasRows && this.totalPages) {
            if (this.currentPage > this.totalPages) {
                this.currentPage = 1;
            }

            // Use a fragment to limit touching the DOM
            var index = this.currentPage - 1,
                frag = doc.createDocumentFragment();

            if (this.hasHeadings) {
                flush(this.header, this.isIE);

                each(this.activeHeadings, function (th) {
                    this.header.appendChild(th);
                }, this);
            }

            each(this.pages[index], function (row) {
                frag.appendChild(this.rows().render(row));
            }, this);

            this.clear(frag);

            this.onFirstPage = this.currentPage === 1;
            this.onLastPage = this.currentPage === this.lastPage;
        } else {
            this.clear();
        }

        // Update the info
        var current = 0,
            f = 0,
            t = 0,
            items;

        if (this.totalPages) {
            current = this.currentPage - 1;
            f = current * this.options.perPage;
            t = f + this.pages[current].length;
            f = f + 1;
            items = !!this.searching ? this.searchData.length : this.data.length;
        }

        if (this.label && this.options.labels.info.length) {
            // CUSTOM LABELS
            var string = this.options.labels.info
                .replace("{start}", f)
                .replace("{end}", t)
                .replace("{page}", this.currentPage)
                .replace("{pages}", this.totalPages)
                .replace("{rows}", items);

            this.label.innerHTML = items ? string : "";
        }

        if (this.options.fixedHeight && this.currentPage == 1) {
            this.fixHeight();
        }
    };

    /**
     * Render the pager(s)
     * @return {Void}
     */
    proto.renderPager = function () {
        flush(this.pagers, this.isIE);

        if (this.totalPages > 1) {
            var c = "pager",
                frag = doc.createDocumentFragment(),
                prev = this.onFirstPage ? 1 : this.currentPage - 1,
                next = this.onlastPage ? this.totalPages : this.currentPage + 1;

            // first button
            if (this.options.firstLast) {
                frag.appendChild(button(c, 1, this.options.firstText));
            }

            // prev button
            if (this.options.nextPrev) {
                frag.appendChild(button(c, prev, this.options.prevText));
            }

            var pager = this.links;

            // truncate the links
            if (this.options.truncatePager) {
                pager = truncate(
                    this.links,
                    this.currentPage,
                    this.pages.length,
                    this.options.pagerDelta,
                    this.options.ellipsisText
                );
            }

            // active page link
            classList.add(this.links[this.currentPage - 1], "active");

            // append the links
            each(pager, function (p) {
                classList.remove(p, "active");
                frag.appendChild(p);
            });

            classList.add(this.links[this.currentPage - 1], "active");

            // next button
            if (this.options.nextPrev) {
                frag.appendChild(button(c, next, this.options.nextText));
            }

            // first button
            if (this.options.firstLast) {
                frag.appendChild(button(c, this.totalPages, this.options.lastText));
            }

            // We may have more than one pager
            each(this.pagers, function (pager) {
                pager.appendChild(frag.cloneNode(true));
            });
        }
    };

    /**
     * Render the header
     * @return {Void}
     */
    proto.renderHeader = function () {
        var that = this;

        that.labels = [];

        if (that.headings && that.headings.length) {
            each(that.headings, function (th, i) {

                that.labels[i] = th.textContent;

                if (classList.contains(th.firstElementChild, "dataTable-sorter")) {
                    th.innerHTML = th.firstElementChild.innerHTML;
                }

                th.sortable = th.getAttribute("data-sortable") !== "false";

                th.originalCellIndex = i;
                if (that.options.sortable && th.sortable) {
                    var link = createElement("a", {
                        href: "#",
                        class: "dataTable-sorter",
                        html: th.innerHTML
                    });

                    th.innerHTML = "";
                    th.setAttribute("data-sortable", "");
                    th.appendChild(link);
                }
            });
        }

        that.fixColumns();
    };

    /**
     * Bind event listeners
     * @return {[type]} [description]
     */
    proto.bindEvents = function () {
        var that = this,
            o = that.options;

        // Per page selector
        if (o.perPageSelect) {
            var selector = that.wrapper.querySelector(".dataTable-selector");
            if (selector) {
                // Change per page
                on(selector, "change", function (e) {
                    o.perPage = parseInt(this.value, 10);
                    that.update();

                    if (o.fixedHeight) {
                        this.fixHeight();
                    }

                    that.emit("datatable.perpage");
                });
            }
        }

        // Search input
        if (o.searchable) {
            that.input = that.wrapper.querySelector(".dataTable-input");
            if (that.input) {
                on(that.input, "keyup", function (e) {
                    that.search(this.value);
                });
            }
        }

        // Pager(s) / sorting
        on(that.wrapper, "click", function (e) {
            var t = e.target;
            if (t.nodeName.toLowerCase() === "a") {
                if (t.hasAttribute("data-page")) {
                    that.page(t.getAttribute("data-page"));
                    e.preventDefault();
                } else if (
                    o.sortable &&
                    classList.contains(t, "dataTable-sorter") &&
                    t.parentNode.getAttribute("data-sortable") != "false"
                ) {
                    that.columns().sort(that.activeHeadings.indexOf(t.parentNode) + 1);
                    e.preventDefault();
                }
            }
        });
    };

    /**
     * Set up columns
     * @return {[type]} [description]
     */
    proto.setColumns = function (ajax) {

        var that = this;

        if (!ajax) {
            each(that.data, function (row) {
                each(row.cells, function (cell) {
                    cell.data = cell.innerHTML;
                });
            });
        }

        // Check for the columns option
        if (that.options.columns && that.headings.length) {

            each(that.options.columns, function (data) {

                // convert single column selection to array
                if (!isArray(data.select)) {
                    data.select = [data.select];
                }

                if (data.hasOwnProperty("render") && typeof data.render === "function") {
                    that.selectedColumns = that.selectedColumns.concat(data.select);

                    that.columnRenderers.push({
                        columns: data.select,
                        renderer: data.render
                    });
                }

                // Add the data attributes to the th elements
                each(data.select, function (column) {
                    var th = that.headings[column];
                    if (data.type) {
                        th.setAttribute("data-type", data.type);
                    }
                    if (data.format) {
                        th.setAttribute("data-format", data.format);
                    }
                    if (data.hasOwnProperty("sortable")) {
                        th.setAttribute("data-sortable", data.sortable);
                    }

                    if (data.hasOwnProperty("hidden")) {
                        if (data.hidden !== false) {
                            that.columns(column).hide();
                        }
                    }

                    if (data.hasOwnProperty("sort") && data.select.length === 1) {
                        that.columns().sort(data.select[0] + 1, data.sort, true);
                    }
                });
            });
        }

        if (that.hasRows) {
            each(that.data, function (row, i) {
                row.dataIndex = i;
                each(row.cells, function (cell) {
                    cell.data = cell.innerHTML;
                });
            });

            if (that.selectedColumns.length) {
                each(that.data, function (row) {
                    each(row.cells, function (cell, i) {
                        if (that.selectedColumns.indexOf(i) > -1) {
                            each(that.columnRenderers, function (o) {
                                if (o.columns.indexOf(i) > -1) {
                                    cell.innerHTML = o.renderer.call(that, cell.data, cell, row);
                                }
                            });
                        }
                    });
                });
            }

            that.columns().rebuild();
        }

        that.render("header");
    };

    /**
     * Destroy the instance
     * @return {void}
     */
    proto.destroy = function () {
        this.table.innerHTML = this.initialLayout;

        // Remove the className
        classList.remove(this.table, "dataTable-table");

        // Remove the containers
        this.wrapper.parentNode.replaceChild(this.table, this.wrapper);

        this.initialized = false;
    };

    /**
     * Update the instance
     * @return {Void}
     */
    proto.update = function () {
        this.paginate(this);
        this.render("page");

        this.links = [];

        var i = this.pages.length;
        while (i--) {
            var num = i + 1;
            this.links[i] = button(i === 0 ? "active" : "", num, num);
        }

        this.sorting = false;

        this.render("pager");

        this.rows().update();

        this.emit("datatable.update");
    };

    /**
     * Sort rows into pages
     * @return {Number}
     */
    proto.paginate = function () {
        var perPage = this.options.perPage,
            rows = this.activeRows;

        if (this.searching) {
            rows = [];

            each(this.searchData, function (index) {
                rows.push(this.activeRows[index]);
            }, this);
        }

        // Check for hidden columns
        this.pages = rows
            .map(function (tr, i) {
                return i % perPage === 0 ? rows.slice(i, i + perPage) : null;
            })
            .filter(function (page) {
                return page;
            });

        this.totalPages = this.lastPage = this.pages.length;

        return this.totalPages;
    };

    /**
     * Fix column widths
     * @return {Void}
     */
    proto.fixColumns = function () {

        if (this.options.fixedColumns && this.activeHeadings && this.activeHeadings.length) {

            var cells,
                hd = false;

            this.columnWidths = [];

            // If we have headings we need only set the widths on them
            // otherwise we need a temp header and the widths need applying to all cells
            if (this.table.tHead) {
                // Reset widths
                each(this.activeHeadings, function (cell) {
                    cell.style.width = "";
                }, this);

                each(this.activeHeadings, function (cell, i) {
                    var ow = cell.offsetWidth;
                    var w = ow / this.rect.width * 100;
                    cell.style.width = w + "%";
                    this.columnWidths[i] = ow;
                }, this);
            } else {
                cells = [];

                // Make temperary headings
                hd = createElement("thead");
                var r = createElement("tr");
                var c = this.table.tBodies[0].rows[0].cells;
                each(c, function () {
                    var th = createElement("th");
                    r.appendChild(th);
                    cells.push(th);
                });

                hd.appendChild(r);
                this.table.insertBefore(hd, this.body);

                var widths = [];
                each(cells, function (cell, i) {
                    var ow = cell.offsetWidth;
                    var w = ow / this.rect.width * 100;
                    widths.push(w);
                    this.columnWidths[i] = ow;
                }, this);

                each(this.data, function (row) {
                    each(row.cells, function (cell, i) {
                        if (this.columns(cell.cellIndex).visible())
                            cell.style.width = widths[i] + "%";
                    }, this);
                }, this);

                // Discard the temp header
                this.table.removeChild(hd);
            }
        }
    };

    /**
     * Fix the container height;
     * @return {Void}
     */
    proto.fixHeight = function () {
        this.container.style.height = null;
        this.rect = this.container.getBoundingClientRect();
        this.container.style.height = this.rect.height + "px";
    };

    /**
     * Perform a search of the data set
     * @param  {string} query
     * @return {void}
     */
    proto.search = function (query) {
        if (!this.hasRows) return false;

        var that = this;

        query = query.toLowerCase();

        this.currentPage = 1;
        this.searching = true;
        this.searchData = [];

        if (!query.length) {
            this.searching = false;
            this.update();
            this.emit("datatable.search", query, this.searchData);
            classList.remove(this.wrapper, "search-results");
            return false;
        }

        this.clear();

        each(this.data, function (row, idx) {
            var inArray = this.searchData.indexOf(row) > -1;

            // https://github.com/Mobius1/Vanilla-DataTables/issues/12
            var doesQueryMatch = query.split(" ").reduce(function (bool, word) {
                var includes = false;

                for (var x = 0; x < row.cells.length; x++) {
                    if (
                        row.cells[x].textContent.toLowerCase().indexOf(word) > -1 &&
                        that.columns(row.cells[x].cellIndex).visible()
                    ) {
                        includes = true;
                        break;
                    }
                }

                return bool && includes;
            }, true);

            if (doesQueryMatch && !inArray) {
                row.searchIndex = idx;
                this.searchData.push(idx);
            } else {
                row.searchIndex = null;
            }
        }, this);

        classList.add(this.wrapper, "search-results");

        if (!that.searchData.length) {
            classList.remove(that.wrapper, "search-results");

            that.setMessage(that.options.labels.noRows);
        } else {
            that.update();
        }

        this.emit("datatable.search", query, this.searchData);
    };

    /**
     * Change page
     * @param  {int} page
     * @return {void}
     */
    proto.page = function (page) {
        // We don't want to load the current page again.
        if (page == this.currentPage) {
            return false;
        }

        if (!isNaN(page)) {
            this.currentPage = parseInt(page, 10);
        }

        if (page > this.pages.length || page < 0) {
            return false;
        }

        this.render("page");
        this.render("pager");

        this.emit("datatable.page", page);
    };

    /**
     * Sort by column
     * @param  {int} column - The column no.
     * @param  {string} direction - asc or desc
     * @return {void}
     */
    proto.sortColumn = function (column, direction) {
        // Use columns API until sortColumn method is removed
        this.columns().sort(column, direction);
    };

    /**
     * Add new row data
     * @param {object} data
     */
    proto.insert = function (data) {

        var that = this,
            rows = [];
        if (isObject(data)) {
            if (data.headings) {
                if (!that.hasHeadings && !that.hasRows) {
                    var tr = createElement("tr"),
                        th;
                    each(data.headings, function (heading) {
                        th = createElement("th", {
                            html: heading
                        });

                        tr.appendChild(th);
                    });
                    that.head.appendChild(tr);

                    that.header = tr;
                    that.headings = [].slice.call(tr.cells);
                    that.hasHeadings = true;

                    // Re-enable sorting if it was disabled due
                    // to missing header
                    that.options.sortable = that.initialSortable;

                    // Allow sorting on new header
                    that.render("header");
                }
            }

            if (data.data && isArray(data.data)) {
                rows = data.data;
            }
        } else if (isArray(data)) {
            each(data, function (row) {
                var r = [];
                each(row, function (cell, heading) {

                    var index = that.labels.indexOf(heading);

                    if (index > -1) {
                        r[index] = cell;
                    }
                });
                rows.push(r);
            });
        }

        if (rows.length) {
            that.rows().add(rows);

            that.hasRows = true;
        }

        that.update();

        that.fixColumns();
    };

    /**
     * Refresh the instance
     * @return {void}
     */
    proto.refresh = function () {
        if (this.options.searchable) {
            this.input.value = "";
            this.searching = false;
        }
        this.currentPage = 1;
        this.onFirstPage = true;
        this.update();

        this.emit("datatable.refresh");
    };

    /**
     * Truncate the table
     * @param  {mixes} html - HTML string or HTMLElement
     * @return {void}
     */
    proto.clear = function (html) {
        if (this.body) {
            flush(this.body, this.isIE);
        }

        var parent = this.body;
        if (!this.body) {
            parent = this.table;
        }

        if (html) {
            if (typeof html === "string") {
                var frag = doc.createDocumentFragment();
                frag.innerHTML = html;
            }

            parent.appendChild(html);
        }
    };

    /**
     * Export table to various formats (csv, txt or sql)
     * @param  {Object} options User options
     * @return {Boolean}
     */
    proto.export = function (options) {
        if (!this.hasHeadings && !this.hasRows) return false;

        var headers = this.activeHeadings,
            rows = [],
            arr = [],
            i,
            x,
            str,
            link;

        var defaults = {
            download: true,
            skipColumn: [],

            // csv
            lineDelimiter: "\n",
            columnDelimiter: ",",

            // sql
            tableName: "myTable",

            // json
            replacer: null,
            space: 4
        };

        // Check for the options object
        if (!isObject(options)) {
            return false;
        }

        var o = extend(defaults, options);

        if (o.type) {
            if (o.type === "txt" || o.type === "csv") {
                // Include headings
                rows[0] = this.header;
            }

            // Selection or whole table
            if (o.selection) {
                // Page number
                if (!isNaN(o.selection)) {
                    rows = rows.concat(this.pages[o.selection - 1]);
                } else if (isArray(o.selection)) {
                    // Array of page numbers
                    for (i = 0; i < o.selection.length; i++) {
                        rows = rows.concat(this.pages[o.selection[i] - 1]);
                    }
                }
            } else {
                rows = rows.concat(this.activeRows);
            }

            // Only proceed if we have data
            if (rows.length) {
                if (o.type === "txt" || o.type === "csv") {
                    str = "";

                    for (i = 0; i < rows.length; i++) {
                        for (x = 0; x < rows[i].cells.length; x++) {
                            // Check for column skip and visibility
                            if (
                                o.skipColumn.indexOf(headers[x].originalCellIndex) < 0 &&
                                this.columns(headers[x].originalCellIndex).visible()
                            ) {
                                str += rows[i].cells[x].textContent + o.columnDelimiter;
                            }
                        }
                        // Remove trailing column delimiter
                        str = str.trim().substring(0, str.length - 1);

                        // Apply line delimiter
                        str += o.lineDelimiter;
                    }

                    // Remove trailing line delimiter
                    str = str.trim().substring(0, str.length - 1);

                    if (o.download) {
                        str = "data:text/csv;charset=utf-8," + str;
                    }
                } else if (o.type === "sql") {
                    // Begin INSERT statement
                    str = "INSERT INTO `" + o.tableName + "` (";

                    // Convert table headings to column names
                    for (i = 0; i < headers.length; i++) {
                        // Check for column skip and column visibility
                        if (
                            o.skipColumn.indexOf(headers[i].originalCellIndex) < 0 &&
                            this.columns(headers[i].originalCellIndex).visible()
                        ) {
                            str += "`" + headers[i].textContent + "`,";
                        }
                    }

                    // Remove trailing comma
                    str = str.trim().substring(0, str.length - 1);

                    // Begin VALUES
                    str += ") VALUES ";

                    // Iterate rows and convert cell data to column values
                    for (i = 0; i < rows.length; i++) {
                        str += "(";

                        for (x = 0; x < rows[i].cells.length; x++) {
                            // Check for column skip and column visibility
                            if (
                                o.skipColumn.indexOf(headers[x].originalCellIndex) < 0 &&
                                this.columns(headers[x].originalCellIndex).visible()
                            ) {
                                str += '"' + rows[i].cells[x].textContent + '",';
                            }
                        }

                        // Remove trailing comma
                        str = str.trim().substring(0, str.length - 1);

                        // end VALUES
                        str += "),";
                    }

                    // Remove trailing comma
                    str = str.trim().substring(0, str.length - 1);

                    // Add trailing colon
                    str += ";";

                    if (o.download) {
                        str = "data:application/sql;charset=utf-8," + str;
                    }
                } else if (o.type === "json") {
                    // Iterate rows
                    for (x = 0; x < rows.length; x++) {
                        arr[x] = arr[x] || {};
                        // Iterate columns
                        for (i = 0; i < headers.length; i++) {
                            // Check for column skip and column visibility
                            if (
                                o.skipColumn.indexOf(headers[i].originalCellIndex) < 0 &&
                                this.columns(headers[i].originalCellIndex).visible()
                            ) {
                                arr[x][headers[i].textContent] = rows[x].cells[i].textContent;
                            }
                        }
                    }

                    // Convert the array of objects to JSON string
                    str = JSON.stringify(arr, o.replacer, o.space);

                    if (o.download) {
                        str = "data:application/json;charset=utf-8," + str;
                    }
                }

                // Download
                if (o.download) {
                    // Filename
                    o.filename = o.filename || "datatable_export";
                    o.filename += "." + o.type;

                    str = encodeURI(str);

                    // Create a link to trigger the download
                    link = document.createElement("a");
                    link.href = str;
                    link.download = o.filename;

                    // Append the link
                    body.appendChild(link);

                    // Trigger the download
                    link.click();

                    // Remove the link
                    body.removeChild(link);
                }

                return str;
            }
        }

        return false;
    };

    /**
     * Import data to the table
     * @param  {Object} options User options
     * @return {Boolean}
     */
    proto.import = function (options) {
        var obj = false;
        var defaults = {
            // csv
            lineDelimiter: "\n",
            columnDelimiter: ","
        };

        // Check for the options object
        if (!isObject(options)) {
            return false;
        }

        options = extend(defaults, options);

        if (options.data.length || isObject(options.data)) {
            // Import CSV
            if (options.type === "csv") {
                obj = {
                    data: []
                };

                // Split the string into rows
                var rows = options.data.split(options.lineDelimiter);

                if (rows.length) {

                    if (options.headings) {
                        obj.headings = rows[0].split(options.columnDelimiter);

                        rows.shift();
                    }

                    each(rows, function (row, i) {
                        obj.data[i] = [];

                        // Split the rows into values
                        var values = row.split(options.columnDelimiter);

                        if (values.length) {
                            each(values, function (value) {
                                obj.data[i].push(value);
                            });
                        }
                    });
                }
            } else if (options.type === "json") {
                var json = isJson(options.data);

                // Valid JSON string
                if (json) {
                    obj = {
                        headings: [],
                        data: []
                    };

                    each(json, function (data, i) {
                        obj.data[i] = [];
                        each(data, function (value, column) {
                            if (obj.headings.indexOf(column) < 0) {
                                obj.headings.push(column);
                            }

                            obj.data[i].push(value);
                        });
                    });
                } else {
                    console.warn("That's not valid JSON!");
                }
            }

            if (isObject(options.data)) {
                obj = options.data;
            }

            if (obj) {
                // Add the rows
                this.insert(obj);
            }
        }

        return false;
    };
    /**
     * Print the table
     * @return {void}
     */
    proto.print = function () {
        var headings = this.activeHeadings;
        var rows = this.activeRows;
        var table = createElement("table");
        var thead = createElement("thead");
        var tbody = createElement("tbody");

        var tr = createElement("tr");
        each(headings, function (th) {
            tr.appendChild(
                createElement("th", {
                    html: th.textContent
                })
            );
        });

        thead.appendChild(tr);

        each(rows, function (row) {
            var tr = createElement("tr");
            each(row.cells, function (cell) {
                tr.appendChild(
                    createElement("td", {
                        html: cell.textContent
                    })
                );
            });
            tbody.appendChild(tr);
        });

        table.appendChild(thead);
        table.appendChild(tbody);

        // Open new window
        var w = win.open();

        // Append the table to the body
        w.document.body.appendChild(table);

        // Print
        w.print();
    };

    /**
     * Show a message in the table
     * @param {string} message
     */
    proto.setMessage = function (message) {
        var colspan = 1;

        if (this.hasRows) {
            colspan = this.data[0].cells.length;
        }

        this.clear(
            createElement("tr", {
                html: '<td class="dataTables-empty" colspan="' +
                    colspan +
                    '">' +
                    message +
                    "</td>"
            })
        );
    };

    /**
     * Columns API access
     * @return {Object} new Columns instance
     */
    proto.columns = function (columns) {
        return new Columns(this, columns);
    };

    /**
     * Rows API access
     * @return {Object} new Rows instance
     */
    proto.rows = function (rows) {
        return new Rows(this, rows);
    };

    /**
     * Add custom event listener
     * @param  {String} event
     * @param  {Function} callback
     * @return {Void}
     */
    proto.on = function (event, callback) {
        this.events = this.events || {};
        this.events[event] = this.events[event] || [];
        this.events[event].push(callback);
    };

    /**
     * Remove custom event listener
     * @param  {String} event
     * @param  {Function} callback
     * @return {Void}
     */
    proto.off = function (event, callback) {
        this.events = this.events || {};
        if (event in this.events === false) return;
        this.events[event].splice(this.events[event].indexOf(callback), 1);
    };

    /**
     * Fire custom event
     * @param  {String} event
     * @return {Void}
     */
    proto.emit = function (event) {
        this.events = this.events || {};
        if (event in this.events === false) return;
        for (var i = 0; i < this.events[event].length; i++) {
            this.events[event][i].apply(this, Array.prototype.slice.call(arguments, 1));
        }
    };

    return DataTable;
});
});

function createTableDOM(data, opts, config) {
  var num = config.num,
      denum = config.denum,
      ratio = config.ratio,
      my_region = config.my_region;

  var options = opts || {};
  options.id = options.id || 'myTable';
  var doc = document,
      nb_features = data.length,
      column_names = Object.getOwnPropertyNames(data[0]),
      nb_columns = column_names.length;
  var myTable = doc.createElement('table'),
      headers = doc.createElement('thead'),
      body = doc.createElement('tbody'),
      headers_row = doc.createElement('tr');
  for (var i = 0; i < nb_columns; i++) {
    var cell = doc.createElement('th');
    var col_name = column_names[i];
    if (col_name === 'num') {
      cell.innerHTML = 'Num<br><span class="small">' + num;
    } else if (col_name === 'denum') {
      cell.innerHTML = 'Denum<br><span class="small">' + denum;
    } else if (col_name === 'ratio') {
      cell.innerHTML = 'Ratio<br><span class="small">' + ratio;
    } else if (col_name === 'rang') {
      cell.innerHTML = 'Rang ';
    } else {
      cell.innerHTML = col_name;
    }
    headers_row.appendChild(cell);
  }
  headers.appendChild(headers_row);
  myTable.appendChild(headers);
  for (var _i = 0; _i < nb_features; _i++) {
    var row = doc.createElement('tr');
    row.id = 'row_' + data[_i].id;
    if (data[_i].id === my_region) {
      row.className = 'yellow';
    }
    for (var j = 0; j < nb_columns; j++) {
      var _cell = doc.createElement('td');
      var _col_name = column_names[j];
      if (_col_name === 'num' || _col_name === 'denum' || _col_name === 'ratio') {
        _cell.innerHTML = Math.round(data[_i][_col_name] * 100) / 10;
      } else {
        _cell.innerHTML = data[_i][_col_name];
      }
      row.appendChild(_cell);
    }
    body.appendChild(row);
  }
  myTable.appendChild(body);
  myTable.setAttribute('id', options.id);
  return myTable;
}

function makeTable(data_no_empty, config) {
  var table = createTableDOM(data_no_empty, undefined, config);
  document.querySelector('#map_section').append(table);
  var dataTable = new vanillaDataTables('#myTable');
  var t = document.querySelector('.dataTable-wrapper');
  t.style.marginTop = '20px';
  t.style.display = 'none';
  t.style.fontSize = '0.7em';
  t.querySelector('.dataTable-top').remove();
  Array.from(t.querySelectorAll('span.small')).forEach(function (el) {
    el.onclick = function () {
      el.parentElement.click();
    }; // eslint-disable-line no-param-reassign
  });
}

function prepare_dataset(full_dataset, app) {
  app.full_dataset = full_dataset; // eslint-disable-line no-param-reassign
  // Create an Object feature_id ->  feature_name:
  app.feature_names = {}; // eslint-disable-line no-param-reassign
  full_dataset.forEach(function (elem) {
    app.feature_names[elem.geo] = elem.Nom; // eslint-disable-line no-param-reassign
  });
}

function filter_no_empty(app) {
  var _app$current_config = app.current_config,
      num = _app$current_config.num,
      denum = _app$current_config.denum,
      ratio = _app$current_config.ratio,
      my_region = _app$current_config.my_region,
      current_level = _app$current_config.current_level;

  var filtered_data = app.full_dataset.filter(function (ft) {
    return +ft.level === current_level;
  }).map(function (ft) {
    return {
      id: ft.geo,
      name: ft.Nom,
      num: +ft[num],
      denum: +ft[denum] / 1000,
      ratio: +ft[ratio]
    };
  }).filter(function (ft) {
    if (ft.id === my_region) {
      app.current_config.ref_value = ft.ratio; // eslint-disable-line no-param-reassign
    }
    return ft.ratio;
  });
  app.serie_inversed = false; // eslint-disable-line no-param-reassign
  filtered_data.sort(function (a, b) {
    return a.ratio - b.ratio;
  });
  filtered_data.forEach(function (d, i) {
    d.rang = i + 1;
  }); // eslint-disable-line no-param-reassign
  return filtered_data;
}

var classCallCheck = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

var createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();



























var slicedToArray = function () {
  function sliceIterator(arr, i) {
    var _arr = [];
    var _n = true;
    var _d = false;
    var _e = undefined;

    try {
      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
        _arr.push(_s.value);

        if (i && _arr.length === i) break;
      }
    } catch (err) {
      _d = true;
      _e = err;
    } finally {
      try {
        if (!_n && _i["return"]) _i["return"]();
      } finally {
        if (_d) throw _e;
      }
    }

    return _arr;
  }

  return function (arr, i) {
    if (Array.isArray(arr)) {
      return arr;
    } else if (Symbol.iterator in Object(arr)) {
      return sliceIterator(arr, i);
    } else {
      throw new TypeError("Invalid attempt to destructure non-iterable instance");
    }
  };
}();

var math_abs = Math.abs;
var math_round = Math.round;

var comp = function comp(test_value, ref_value, serie_inversed) {
  if (test_value < ref_value) {
    return serie_inversed ? 'green' : 'red';
  } else {
    return serie_inversed ? 'red' : 'green';
  }
};

var Rect = function () {
  function Rect(topleft, bottomright) {
    classCallCheck(this, Rect);

    this.xmin = topleft[0];
    this.xmax = bottomright[0];
    this.ymin = topleft[1];
    this.ymax = bottomright[1];
  }

  createClass(Rect, [{
    key: 'contains',
    value: function contains(pt) {
      if (pt[0] >= this.xmin && pt[0] <= this.xmax && pt[1] >= this.ymin && pt[1] <= this.ymax) {
        return true;
      }
      return false;
    }
  }]);
  return Rect;
}();

var styles = {
  template: { stroke_width: 0 },
  countries: { stroke_width: 0.5 },
  seaboxes: { stroke_width: 1 },
  remote: { stroke_width: 0.5 },
  seaboxes2: { stroke_width: 1 },
  nuts1: { stroke_width: 0.5 },
  nuts1_no_data: { stroke_width: 0.5 }
};

var color_countries$1 = 'rgb(147,144,252)';
var color_disabled$1 = 'rgb(214, 214, 214)';

var projection = void 0;
var path = void 0;

function get_bbox_layer_path(name) {
  var bbox_layer = [[Infinity, Infinity], [-Infinity, -Infinity]];
  svg_map.select('#' + name).selectAll('path').each(function (d) {
    var bbox_path = path.bounds(d.geometry);
    bbox_layer[0][0] = bbox_path[0][0] < bbox_layer[0][0] ? bbox_path[0][0] : bbox_layer[0][0];
    bbox_layer[0][1] = bbox_path[0][1] < bbox_layer[0][1] ? bbox_path[0][1] : bbox_layer[0][1];
    bbox_layer[1][0] = bbox_path[1][0] > bbox_layer[1][0] ? bbox_path[1][0] : bbox_layer[1][0];
    bbox_layer[1][1] = bbox_path[1][1] > bbox_layer[1][1] ? bbox_path[1][1] : bbox_layer[1][1];
  });
  return bbox_layer;
}

function fitLayer() {
  projection.scale(1).translate([0, 0]);
  var b = get_bbox_layer_path('template');
  var s = 0.95 / Math.max((b[1][0] - b[0][0]) / width_map, (b[1][1] - b[0][1]) / height_map);
  var t = [(width_map - s * (b[1][0] + b[0][0])) / 2, (height_map - s * (b[1][1] + b[0][1])) / 2];
  projection.scale(s).translate(t);
  svg_map.selectAll('path').attr('d', path);
}

function map_zoomed() {
  var transform = d3.event.transform;
  if (transform.k === 1) {
    transform.x = 0;
    transform.y = 0;
  }
  var layers = svg_map.select('#layers');
  var t = layers.selectAll('g').transition().duration(225);

  layers.selectAll('g').transition(t).style('stroke-width', function () {
    return styles[this.id].stroke_width / transform.k + 'px';
  });

  layers.selectAll('g').transition(t).attr('transform', transform);

  svg_map.select('.brush_map').transition(t).attr('transform', transform);
}

var MapSelect = function () {
  function MapSelect(nuts1, countries, remote, template, seaboxes) {
    classCallCheck(this, MapSelect);

    projection = d3.geoIdentity().fitExtent([[0, 0], [width_map, height_map]], template).reflectY(true);

    nuts1.features.forEach(function (ft) {
      ft.properties.ratio = // eslint-disable-line no-param-reassign
      +ft.properties[app.current_config.num] / +ft.properties[app.current_config.denum] * 100000;
    });
    var no_data_features = nuts1.features.filter(function (ft) {
      return isNaN(ft.properties.ratio);
    });
    // eslint-disable-next-line no-param-reassign
    nuts1.features = nuts1.features.filter(function (ft) {
      return !isNaN(ft.properties.ratio);
    });

    path = d3.geoPath().projection(projection);
    var layers = svg_map.append('g').attr('id', 'layers');

    this.zoom_map = d3.zoom().scaleExtent([1, 5]).translateExtent([[0, 0], [width_map, height_map]]).on('zoom', map_zoomed);

    svg_map.call(this.zoom_map);

    layers.append('g').attr('id', 'template').attrs({ fill: 'rgb(247, 252, 254)', 'fill-opacity': 1 }).selectAll('path').data(template.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs({ fill: 'rgb(214, 214, 214)', 'fill-opacity': 1, 'stroke-width': 0.5, stroke: '#ffffff' }).attr('id', 'countries').selectAll('path').data(countries.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs({ fill: '#e0faff', 'fill-opacity': 1, stroke: 'black', 'stroke-width': 1 }).attr('id', 'seaboxes').selectAll('path').data(seaboxes.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs({ fill: 'rgb(214, 214, 214)', 'fill-opacity': 1, 'stroke-width': 0.5, stroke: '#ffffff' }).attr('id', 'remote').selectAll('path').data(remote.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs({ fill: 'none', stroke: 'black', 'stroke-width': 1 }).attr('id', 'seaboxes').selectAll('path').data(seaboxes.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs({ id: 'nuts1_no_data', fill: 'white', 'fill-opacity': 1, 'stroke-width': 0.5, stroke: 'lightgrey' }).selectAll('path').data(no_data_features).enter().append('path').attr('d', path);

    this.nuts1_lyr = layers.append('g').attrs({ id: 'nuts1', 'fill-opacity': 1, 'stroke-width': 0.5, stroke: '#ffffff' });
    this.nuts1_lyr.selectAll('path').data(nuts1.features).enter().append('path').attr('fill', function (d) {
      return d.properties.NUTS1_2016 !== app.current_config.my_region ? color_countries$1 : 'yellow';
    }).attr('d', path);

    fitLayer();
  }

  createClass(MapSelect, [{
    key: 'resetZoom',
    value: function resetZoom() {
      svg_map.transition().duration(750).call(this.zoom_map.transform, d3.zoomIdentity);
    }
  }, {
    key: 'bindBrush',
    value: function bindBrush(svg_bar$$1, brush_top$$1, brush_bottom$$1, focus) {
      var _this = this;

      this.brush_map = d3.brush().extent([[0, 0], [width_map, height_map]]).on('start brush', function () {
        if (!d3.event || !d3.event.selection) return;
        svg_bar$$1.select('.brush_top').call(brush_top$$1.move, null);

        var _d3$event$selection = slicedToArray(d3.event.selection, 2),
            topleft = _d3$event$selection[0],
            bottomright = _d3$event$selection[1];
        // const transform = svg_map.node().__zoom;
        // topleft[0] = (topleft[0] - transform.x) / transform.k;
        // topleft[1] = (topleft[1] - transform.y) / transform.k;
        // bottomright[0] = (bottomright[0] - transform.x) / transform.k;
        // bottomright[1] = (bottomright[1] - transform.y) / transform.k;


        var rect = new Rect(topleft, bottomright);
        app.colors = {};
        _this.nuts1_lyr.selectAll('path').attr('fill', function (d) {
          var id = d.properties.NUTS1_2016;
          if (id === app.current_config.my_region) {
            app.colors[id] = 'yellow';
            return 'yellow';
          } else if (app.current_ids.indexOf(id) < 0) {
            return color_disabled$1;
          }
          if (!this._pts) {
            this._pts = this.getAttribute('d').slice(1).split('L').map(function (pt) {
              return pt.split(',').map(function (a) {
                return +a;
              });
            });
          }
          var pts = this._pts;
          for (var ix = 0, nb_pts = pts.length; ix < nb_pts; ix++) {
            if (rect.contains(pts[ix])) {
              var value = d.properties[app.current_config.ratio];
              var color = comp(value, app.current_config.ref_value, app.serie_inversed);
              app.colors[id] = color;
              return color;
            }
          }
          return color_countries$1;
        });
        focus.selectAll('.bar').style('fill', function (d) {
          return app.colors[d.id] || color_countries$1;
        });
        var ids = Object.keys(app.colors);
        var ranks = ids.map(function (d) {
          return app.current_ids.indexOf(d.id) > -1;
        }).map(function (d) {
          return app.current_ranks[d];
        });
        if (ranks.length > 1) {
          var c1 = ranks[0] - 1;
          var c2 = ranks[ranks.length - 1];
          if (c1 < app.current_range[0] || c2 > app.current_range[1]) {
            app.current_range = [ranks[0] - 1, ranks[ranks.length - 1]];
            svg_bar$$1.select('.brush_bottom').call(brush_bottom$$1.move, [app.current_range[0] * (width / app.nbFt), app.current_range[1] * (width / app.nbFt)]);
          }
        } else {
          app.current_range = [0, app.current_data.length];
          svg_bar$$1.select('.brush_bottom').call(brush_bottom$$1.move, x.range());
        }
        // d3.select('#myTable').selectAll('tbody > tr')
        //   .attr('class', function(d, i) { return colors[this.id.split('row_')[1]]; });
      });

      svg_map.append('g').attr('class', 'brush_map').call(this.brush_map);
    }
  }]);
  return MapSelect;
}();

function makeSourceSection() {
  var text_zone = d3.select('#svg_legend').append('text').attrs({ y: 32.5, 'text-anchor': 'end' }).style('font-size', '11px').style('font-family', '\'Signika\', sans-serif');
  text_zone.append('tspan').attrs({ x: 470, dy: 12 }).text('Niveau régional : NUTS 1 (version 2016)');
  text_zone.append('tspan').attrs({ x: 470, dy: 12 }).text('Origine des données : Eurostat, 2016');
  text_zone.append('tspan').attrs({ x: 470, dy: 12 }).text('Limite administrative: UMS RIATE, CC-BY-SA');
}

function makeMapLegend() {
  var legend_elems = [{ color: 'yellow', text: 'Ma r\xE9gion : ' + app.current_config.my_region_pretty_name }, { color: color_countries$1, text: 'Autres régions du filtre de comparaison' }, { color: 'green', text: 'Rang plus élevé que ma région' }, { color: 'red', text: 'Rang moins élevé que ma région' }];

  var rect_size = 14;
  var spacing = 4;
  var lgd_height = rect_size + spacing;
  var offset = lgd_height * legend_elems.length / 2;

  var grp_lgd = d3.select('#svg_legend').append('g').attr('transform', 'translate(50, 40)').styles({ 'font-size': '11px', 'font-family': '\'Signika\', sans-serif' });

  var legends = grp_lgd.selectAll('.legend').data(legend_elems).enter().append('g').attr('class', 'legend').attr('transform', function (d, i) {
    var tx = -2 * rect_size;
    var ty = i * lgd_height - offset;
    // return 'translate(' + tx + ',' + ty + ')';
    return 'translate(' + [tx, ty] + ')';
  });

  legends.append('rect').attrs({ width: rect_size, height: rect_size }).styles(function (d) {
    return { fill: d.color, stroke: d.color };
  });

  legends.append('text').attr('x', rect_size + spacing).attr('y', rect_size - spacing).text(function (d) {
    return d.text;
  });
}

function updateLegend() {
  d3.select('#svg_legend > g > .legend > text').text('Ma r\xE9gion : ' + app.current_config.my_region_pretty_name);
}

debug('app:log');

var variables = {
  'Pauvreté exclusion': {
    'Taux d\'emploi': 'TX_EMP_2014',
    'Taux de chomage': 'TX_CHOM_2014'
  },
  'Groupe 2': {
    'Indicateur 1': 'IND_1',
    'Indicateur 2': 'IND_2'
  }
};

var study_zones = [{ id: 'filter_FR', name: 'Filtre national (France)' }, { id: 'filter_param2', name: 'Espace de comparaison n°2' }];

var territorial_mesh = [{ id: 'NUTS1', name: 'NUTS1' }, { id: 'NUTS12stat', name: 'NUTS1/2 (statistique)' }];

var svg_bar = d3.select('svg#svg_bar');
var margin = { top: 10, right: 20, bottom: 110, left: 30 };
var margin2 = { top: 430, right: 20, bottom: 30, left: 30 };
var width = +svg_bar.attr('width') - margin.left - margin.right;
var height = +svg_bar.attr('height') - margin.top - margin.bottom;
var height2 = +svg_bar.attr('height') - margin2.top - margin2.bottom;

var svg_map = d3.select('svg#svg_map');
var margin_map = { top: 40, right: 10, bottom: 40, left: 10 };
var width_map = +svg_bar.attr('width') - margin.left - margin.right;
var height_map = +svg_bar.attr('height') - margin.top - margin.bottom;

var x$1 = d3.scaleBand().range([0, width]).padding(0.1);
var x2 = d3.scaleBand().range([0, width]).padding(0.1);
var y = d3.scaleLinear().range([height, 0]);
var y2 = d3.scaleLinear().range([height2, 0]);

var xAxis = d3.axisBottom(x$1);
var xAxis2 = d3.axisBottom(x2);
var yAxis = d3.axisLeft(y);

var color_countries = 'rgb(147,144,252)';
var color_disabled = 'rgb(214, 214, 214)';

exports.brush_bottom = void 0;
exports.brush_top = void 0;
exports.zoom = void 0;
var ref_data = void 0;
exports.data = void 0;
exports.nbFt = void 0;
var length_dataset = void 0;
exports.mean_value = void 0;
var focus = void 0;
var context = void 0;
var displayed = void 0;
var current_range = [0, 0];
var current_range_brush = [0, 0];

var g_bar = void 0;
var map_elem = void 0;

var app = {
  colors: {},
  currrent_data: [],
  full_dataset: []
};

loadData();

var changeRegion = function changeRegion(id_region) {
  app.current_config.my_region = id_region;
  app.current_config.my_region_pretty_name = app.feature_names[app.current_config.my_region];
  app.colors = {};
  app.colors[app.current_config.my_region] = 'yellow';
  // app.current_data = filter_no_empty(app);
  app.current_config.ref_value = app.current_data.filter(function (d) {
    return d.id === app.current_config.my_region;
  }).map(function (d) {
    return d.ratio;
  })[0];
  update();
  updateMiniBars();
  updateContext(0, exports.data.length);
  updateMapRegio();
  svg_bar.select('.brush_bottom').call(exports.brush_bottom.move, x$1.range());
  svg_map.select('.brush_map').call(map_elem.brush_map.move, null);
  updateLegend();
};

// const prepareData = (geojson_layer) => {
//   ref_data = geojson_layer.features.filter(ft => +ft.level === current_level)
//     .map(ft => ({
//       id: ft.properties[app.current_config.id_field_geom],
//       num: +ft.properties[app.current_config.num],
//       denum: +ft.properties[app.current_config.denum] / 1000,
//       // TX_EMP_2014: (+ft.properties[app.current_config.num] / +ft.properties[app.current_config.denum]) * 100000,
//       ratio: (+ft.properties[app.current_config.num] / +ft.properties[app.current_config.denum]) * 100000,
//     })).filter(ft => {
//       if (ft.id === my_region) {
//         ref_value = ft.ratio;
//       }
//       return ft.ratio;
//     });
//   ref_data.sort((a, b) => a.ratio - b.ratio);
//   ref_data.forEach((d, i) => d.rang = i + 1);
//   return ref_data;
// };

function loadData() {
  d3.queue(4).defer(d3.csv, 'data/REGIOVIZ_DATA_aggregated.csv').defer(d3.json, 'data/cget-nuts1-3035.geojson').defer(d3.json, 'data/countries3035.geojson').defer(d3.json, 'data/remote3035.geojson').defer(d3.json, 'data/template3035.geojson').defer(d3.json, 'data/sea_boxes.geojson').awaitAll(function (error, results) {
    if (error) throw error;

    var _results = slicedToArray(results, 6),
        full_dataset = _results[0],
        nuts1 = _results[1],
        countries = _results[2],
        remote = _results[3],
        template = _results[4],
        seaboxes = _results[5];

    prepare_dataset(full_dataset, app);

    app.current_config = {
      id_field: 'geo',
      id_field_geom: 'NUTS1_2016',
      num: 'CHOM_1524_2015',
      denum: 'ACT_1524_2015',
      ratio: 'PC_CHOM_1524_2015',
      ratio_pretty_name: 'Taux d\'emploi (2015)',
      current_level: 1,
      my_region: 'FRE',
      my_region_pretty_name: app.feature_names['FRE']
    };
    app.colors[app.current_config.my_region] = 'yellow';
    createMenu(full_dataset, variables, study_zones, territorial_mesh);
    app.current_data = filter_no_empty(app);
    map_elem = new MapSelect(nuts1, countries, remote, template, seaboxes);
    makeChart(app.current_data);
    makeUI();
    map_elem.bindBrush(svg_bar, exports.brush_top, exports.brush_bottom, focus);
    makeSourceSection();
    makeMapLegend();
    makeTable(app.current_data, app.current_config);
    console.log(app);
  });
}

function makeUI() {
  d3.select('#bar_section').insert('p', 'svg').attr('class', 'title_menu').style('margin-top', '15px').style('font-size', '0.75em').text('Rang (1 individu)');
  var header_bar_section = d3.select('#bar_section').insert('p', 'svg').style('margin-bottom', '0');
  header_bar_section.insert('span').styles({
    'font-family': '\'Signika\', sans-serif',
    'font-weight': '800',
    'font-size': '14px',
    'margin-top': '12px',
    'margin-left': '40px',
    float: 'left'
  }).attr('class', 'title_variable').html(app.current_config.ratio_pretty_name);
  header_bar_section.insert('img').attrs({
    width: 24,
    height: 24,
    src: 'img/edit-table-insert-row-above.svg',
    id: 'img_table'
  }).style('margin', '3px').style('float', 'right').on('click', function () {
    if (document.querySelector('.dataTable-wrapper').style.display) {
      document.querySelector('#svg_map').style.display = 'none';
      document.querySelector('#svg_legend').style.display = 'none';
      document.querySelector('#header_map').style.display = 'none';
      document.querySelector('#header_table').style.display = null;
      document.querySelector('.dataTable-wrapper').style.display = null;
      this.style.filter = 'invert(75%)';
    } else {
      document.querySelector('#svg_map').style.display = null;
      document.querySelector('#svg_legend').style.display = null;
      document.querySelector('#header_map').style.display = null;
      document.querySelector('#header_table').style.display = 'none';
      document.querySelector('.dataTable-wrapper').style.display = 'none';
      this.style.filter = null;
    }
  });

  header_bar_section.insert('img').attrs({
    width: 24,
    height: 24,
    src: 'img/printer.svg',
    id: 'img_printer'
  }).style('margin', '3px').style('float', 'right');

  header_bar_section.insert('img').attrs({
    width: 24,
    height: 24,
    src: 'img/gtk-info.svg',
    id: 'img_info'
  }).style('margin', '3px').style('float', 'right');

  d3.selectAll('span.filter_v').on('click', function () {
    if (!this.classList.contains('checked')) {
      d3.selectAll('span.filter_v').attr('class', 'filter_v square');
      this.classList.add('checked');
      var filter_type = this.getAttribute('filter-value');
      applyFilter(filter_type);
    }
  });

  d3.selectAll('span.target_region').on('click', function () {
    if (!this.classList.contains('checked')) {
      d3.selectAll('span.target_region').attr('class', 'target_region square');
      this.classList.add('checked');
      changeRegion(this.getAttribute('value'));
    }
  });

  d3.selectAll('span.label_chk').on('click', function () {
    this.previousSibling.click();
  });

  var header_map_section = d3.select('#map_section').insert('p', 'svg').attr('id', 'header_map').style('margin-bottom', '0').style('margin-top', '0').style('margin-left', '10px');

  header_map_section.insert('img').attrs({
    width: 20,
    height: 20,
    src: 'img/gimp-tool-rect-select.png',
    id: 'img_rect_selec',
    class: 'active'
  }).styles({
    margin: '3px',
    float: 'left'
  }).on('click', function () {
    if (!this.classList.contains('active')) {
      this.classList.add('active');
      this.style.filter = '';
      document.getElementById('img_map_zoom').style.filter = 'opacity(25%)';
      document.getElementById('img_map_zoom').classList.remove('active');
      document.getElementById('img_map_select').style.filter = 'opacity(25%)';
      document.getElementById('img_map_select').classList.remove('active');
      svg_map.on('.zoom', null);
      svg_map.select('.brush_map').style('display', null);
      map_elem.nuts1_lyr.selectAll('path').on('click', null);
    }
  });

  header_map_section.insert('img').attrs({
    width: 20,
    height: 20,
    src: 'img/gimp-tool-zoom.png',
    id: 'img_map_zoom'
  }).styles({
    margin: '3px',
    float: 'left',
    filter: 'opacity(25%)'
  }).on('click', function () {
    if (!this.classList.contains('active')) {
      this.classList.add('active');
      this.style.filter = '';
      document.getElementById('img_rect_selec').style.filter = 'opacity(25%)';
      document.getElementById('img_rect_selec').classList.remove('active');
      document.getElementById('img_map_select').style.filter = 'opacity(25%)';
      document.getElementById('img_map_select').classList.remove('active');
      svg_map.call(map_elem.zoom_map);
      svg_map.select('.brush_map').call(map_elem.brush_map.move, null);
      svg_map.select('.brush_map').style('display', 'none');
      map_elem.nuts1_lyr.selectAll('path').on('click', null);
    }
  });

  header_map_section.insert('img').attrs({
    width: 20,
    height: 20,
    src: 'img/gimp-cursor.png',
    id: 'img_map_select'
  }).styles({
    margin: '3px',
    float: 'left',
    filter: 'opacity(25%)'
  }).on('click', function () {
    if (!this.classList.contains('active')) {
      this.classList.add('active');
      this.style.filter = '';
      document.getElementById('img_rect_selec').style.filter = 'opacity(25%)';
      document.getElementById('img_rect_selec').classList.remove('active');
      document.getElementById('img_map_zoom').style.filter = 'opacity(25%)';
      document.getElementById('img_map_zoom').classList.remove('active');
      svg_map.on('.zoom', null);
      svg_map.select('.brush_map').call(map_elem.brush_map.move, null);
      svg_map.select('.brush_map').style('display', 'none');
      map_elem.nuts1_lyr.selectAll('path').on('click', function (d) {
        var id = d.properties[app.current_config.id_field_geom];
        if (app.current_ids.indexOf(id) < 0 || id === app.current_config.my_region) return;
        if (app.colors[id] !== undefined) {
          app.colors[id] = undefined;
          d3.select(this).attr('fill', color_countries);
        } else {
          // const value = d.properties.ratio;
          // const color = comp(value, ref_value);
          // app.colors[id] = color;
          // d3.select(this).attr('fill', color);
          d3.select(this).attr('fill', app.colors[id] = comp(d.properties[app.current_config.ratio], app.current_config.ref_value, app.serie_inversed));
        }
        update();
      });
    }
  });

  var header_table_section = d3.select('#map_section').insert('p', 'svg').attr('id', 'header_table').style('display', 'none').style('text-align', 'right').style('margin', 'auto');

  header_table_section.append('span').attr('class', 'button_blue').html('CSV').on('click', function () {
    var content = ['id,Numérateur,Dénominateur,Ratio,Rang\r\n', ref_data.map(function (d) {
      return [d.id, d.num, d.denum, d.ratio, d.rang].join(',');
    }).join('\r\n')].join('');
    var elem = document.createElement('a');
    elem.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(content));
    elem.setAttribute('download', 'table.csv');
    elem.style.display = 'none';
    document.body.appendChild(elem);
    elem.click();
    document.body.removeChild(elem);
  });

  var buttons_under_chart = d3.select('#bar_section').append('div').styles({ padding: '10px', 'text-align': 'center' });

  buttons_under_chart.append('button').attrs({ class: 'button_blue', id: 'btn_above_mean' }).style('margin', '8px').text('< à la moyenne').on('click', selectBelowMean);

  buttons_under_chart.append('button').attrs({ class: 'button_blue', id: 'btn_below_mean' }).style('margin', '8px').text('> à la moyenne').on('click', selectAboveMean);

  buttons_under_chart.append('button').attrs({ class: 'button_blue', id: 'btn_above_my_region' }).style('margin', '8px').text('< à ma région').on('click', selectBelowMyRegion);

  buttons_under_chart.append('button').attrs({ class: 'button_blue', id: 'btn_below_my_region' }).style('margin', '8px').text('> à ma région').on('click', selectAboveMyRegion);
}

function makeChart(ref_data) {
  exports.data = [].concat(ref_data);
  exports.data.sort(function (a, b) {
    return a.ratio - b.ratio;
  });
  app.current_ids = exports.data.map(function (d) {
    return d.id;
  });
  app.current_ranks = exports.data.map(function (d, i) {
    return i + 1;
  });
  exports.nbFt = exports.data.length;
  exports.mean_value = d3.mean(exports.data.map(function (d) {
    return d.ratio;
  }));
  exports.brush_bottom = d3.brushX().extent([[0, 0], [width, height2]]).on('brush end', brushed);

  exports.brush_top = d3.brushX().extent([[0, 0], [width, height]]).on('brush end', brushed_top);

  exports.zoom = d3.zoom().scaleExtent([1, Infinity]).translateExtent([[0, 0], [width, height]]).extent([[0, 0], [width, height]]);
  // .on("zoom", zoomed);

  svg_bar.append('defs').append('clipPath').attr('id', 'clip').append('rect').attr('width', width).attr('height', height);

  focus = svg_bar.append('g').attr('class', 'focus').attr('transform', 'translate(' + margin.left + ', ' + margin.top + ')');

  context = svg_bar.append("g").attr('class', 'context').attr('transform', 'translate(' + margin2.left + ', ' + margin2.top + ')');

  x$1.domain(exports.data.map(function (ft) {
    return ft.id;
  }));
  y.domain([d3.min(exports.data, function (d) {
    return d.ratio;
  }), d3.max(exports.data, function (d) {
    return d.ratio;
  })]);
  x2.domain(x$1.domain());
  y2.domain(y.domain());

  focus.append('g').attrs({ class: 'axis axis--x', transform: 'translate(0, ' + height + ')' }).call(xAxis);

  focus.select('.axis--x').selectAll('text').style('text-anchor', 'end').attrs({ dx: '-0.8em', dy: '0.15em', transform: 'rotate(-65)' });

  focus.append('g').attr('class', 'axis axis--y').call(yAxis);

  g_bar = focus.append('g');

  var groupe_line_mean = focus.append('g').attr('class', 'mean');
  groupe_line_mean.append('text').attrs({ x: 60, y: y(exports.mean_value) + 20 }).styles({
    display: 'none',
    fill: 'red',
    'fill-opacity': '0.8',
    'font-family': '\'Signika\', sans-serif'
  }).text('Valeur moyenne');

  groupe_line_mean.append('line').attrs({
    x1: 0,
    x2: width,
    y1: y(exports.mean_value),
    y2: y(exports.mean_value),
    'stroke-dasharray': '10, 5',
    'stroke-width': '2px',
    class: 'mean_line'
  }).style('stroke', 'red');

  // groupe_line_mean.append('line')
  //     .attrs({ x1: 0, x2: width, y1: y(mean_value), y2: y(mean_value), 'stroke-width': '14px' })
  //     .style('stroke', 'transparent')
  //     .on('mouseover', function (){
  //       groupe_line_mean.select('text').style('display', 'initial');
  //     })
  //     .on('mouseout', function () {
  //       groupe_line_mean.select('text').style('display', 'none');
  //     });

  updateMiniBars();

  context.append('g').attr('class', 'brush_bottom').call(exports.brush_bottom).call(exports.brush_bottom.move, x$1.range());

  focus.append('g').attr('class', 'brush_top').call(exports.brush_top).call(exports.brush_top.move, null);

  svg_bar.append('text').attrs({ x: 60, y: 40 }).styles({ 'font-family': '\'Signika\', sans-serif' }).text('Compl\xE9tude : ' + math_round(exports.data.length / length_dataset * 1000) / 10 + '%');

  svg_bar.append('image').attrs({
    x: width + margin.left + 5,
    y: 385,
    width: 15,
    height: 15,
    'xlink:href': 'img/reverse_blue.png',
    id: 'img_reverse'
  }).on('click', function () {
    app.serie_inversed = !app.serie_inversed;
    if (exports.data[0].ratio < exports.data[exports.data.length - 1].ratio) {
      exports.data.sort(function (a, b) {
        return b.ratio - a.ratio;
      });
    } else {
      exports.data.sort(function (a, b) {
        return a.ratio - b.ratio;
      });
    }
    x$1.domain(exports.data.slice(current_range[0], current_range[1]).map(function (ft) {
      return ft.id;
    }));
    x2.domain(exports.data.map(function (ft) {
      return ft.id;
    }));
    // svg_bar.select(".zoom").call(zoom.transform, d3.zoomIdentity
    //     .scale(width / (current_range[1] - current_range[0]))
    //     .translate(-current_range[0], 0));
    update();
    updateMiniBars();
    updateContext(current_range[0], current_range[1]);
    svg_bar.select('.brush_top').call(exports.brush_top.move, null);
    svg_map.select('.brush_map').call(map_elem.brush_map.move, null);
    svg_bar.select('.brush_bottom').call(exports.brush_bottom.move, x$1.range());
  });

  // Prep the tooltip bits, initial display is hidden
  var tooltip = svg_bar.append('g').attr('class', 'tooltip').style('display', 'none');

  tooltip.append('rect').attr('width', 50).attr('height', 40).attr('fill', 'white').style('opacity', 0.5);

  tooltip.append('text').attr('class', 'id_feature').attr('x', 25).attr('dy', '1.2em').style('text-anchor', 'middle').attr('font-size', '14px');

  tooltip.append('text').attr('class', 'value_feature').attr('x', 25).attr('dy', '2.4em').style('text-anchor', 'middle').attr('font-size', '14px').attr('font-weight', 'bold');
}

function updateMapRegio() {
  map_elem.nuts1_lyr.selectAll('path').attr('fill', function (d) {
    return app.current_ids.indexOf(d.properties[app.current_config.id_field_geom]) > -1 ? app.colors[d.properties[app.current_config.id_field_geom]] || color_countries : color_disabled;
  });
}

function updateMiniBars() {
  var mini_bars = context.selectAll('.bar').data(exports.data);

  mini_bars.attr('x', function (d) {
    return x2(d.id);
  }).attr('width', x2.bandwidth()).attr('y', function (d) {
    return y2(d.ratio);
  }).attr('height', function (d) {
    return height2 - y2(d.ratio);
  }).style('fill', function (d) {
    return d.id !== app.current_config.my_region ? color_countries : 'yellow';
  });

  mini_bars.enter().insert('rect').attr('class', 'bar').attr('x', function (d) {
    return x2(d.id);
  }).attr('width', x2.bandwidth()).attr('y', function (d) {
    return y2(d.ratio);
  }).attr('height', function (d) {
    return height2 - y2(d.ratio);
  }).style('fill', function (d) {
    return d.id !== app.current_config.my_region ? color_countries : 'yellow';
  });
  mini_bars.exit().remove();
  // context.select('.axis--x').remove();
  // context.append("g")
  //   .attr("class", "axis axis--x")
  //   .attr("transform", "translate(0," + height2 + ")")
  //   .call(xAxis2)
  //     .selectAll("text")
  //     .style("text-anchor", "end")
  //     .attr("dx", "-.8em")
  //     .attr("dy", ".15em")
  //     .attr("transform", "rotate(-65)");
}

function update() {
  displayed = 0;

  var bar = g_bar.selectAll('.bar').data(exports.data);

  bar.attr('x', function (d) {
    return x$1(d.id);
  }).attr('width', x$1.bandwidth()).attr('y', function (d) {
    return y(d.ratio);
  }).attr('height', function (d) {
    return height - y(d.ratio);
  }).style('fill', function (d) {
    return app.colors[d.id] || color_countries;
  }).style('display', function (d) {
    var to_display = x$1(d.id) != null;
    if (to_display) {
      displayed += 1;
      return 'initial';
    }
    return 'none';
  }).on('mouseover', function () {
    svg_bar.select('.tooltip').style('display', null);
  }).on('mouseout', function () {
    svg_bar.select('.tooltip').style('display', 'none');
  }).on('mousemove', function (d) {
    var tooltip = svg_bar.select('.tooltip');
    tooltip.select('text.id_feature').text('' + d.id);
    tooltip.select('text.value_feature').text('' + math_round(d.ratio));
    tooltip.attr('transform', 'translate(' + [d3.mouse(this)[0] - 5, d3.mouse(this)[1] - 45] + ')');
  });

  bar.enter().insert('rect', '.mean').attr('class', 'bar').attr('x', function (d) {
    return x$1(d.id);
  }).attr('width', x$1.bandwidth()).attr('y', function (d) {
    return y(d.ratio);
  }).attr('height', function (d) {
    return height - y(d.ratio);
  });

  bar.exit().remove();

  focus.select('.axis--y').call(yAxis);

  focus.select('.mean_line').attrs({
    y1: y(exports.mean_value),
    y2: y(exports.mean_value)
  });

  var axis_x = focus.select('.axis--x').attr('font-size', function () {
    return displayed > 75 ? 6 : 10;
  }).call(xAxis);
  axis_x.selectAll('text').attrs(function () {
    if (displayed > 100) {
      return { dx: '-0.8em', dy: '0.15em', transform: 'rotate(-65)' };
    } else if (displayed > 20) {
      return { dx: '-0.8em', dy: '0.15em', transform: 'rotate(-65)' };
    } else {
      return { dx: '0', dy: '0.71em', transform: null };
    }
  }).style('text-anchor', function () {
    return displayed > 20 ? 'end' : 'middle';
  });
}

function updateContext(min, max) {
  context.selectAll('.bar').style('fill-opacity', function (_, i) {
    return i >= min && i < max ? '1' : '0.3';
  });
}

function brushed() {
  if (d3.event.sourceEvent && d3.event.sourceEvent.type === 'zoom') return; // ignore brush-by-zoom
  var s = d3.event.selection || x2.range();
  current_range = [math_round(s[0] / (width / exports.nbFt)), math_round(s[1] / (width / exports.nbFt))];
  x$1.domain(exports.data.slice(current_range[0], current_range[1]).map(function (ft) {
    return ft.id;
  }));
  svg_bar.select('.zoom').call(exports.zoom.transform, d3.zoomIdentity.scale(width / (current_range[1] - current_range[0])).translate(-current_range[0], 0));
  update();
  updateContext(current_range[0], current_range[1]);
  svg_bar.select('.brush_top').call(exports.brush_top.move, null);
  brushed_top();
}

function brushed_top() {
  var d3_event = d3.event;
  if (d3_event && d3_event.selection && d3_event.sourceEvent && d3_event.sourceEvent.target === document.querySelector('.brush_top > rect.overlay')) {
    svg_map.select('.brush_map').call(map_elem.brush_map.move, null);
    var s = d3_event.selection;
    current_range_brush = [current_range[0] + math_round(s[0] / (width / displayed)) - 1, current_range[0] + math_round(s[1] / (width / displayed))];
    x$1.domain(exports.data.slice(current_range_brush[0] + 1, current_range_brush[1]).map(function (ft) {
      return ft.id;
    }));
    app.colors = {};
    focus.selectAll('.bar').style('fill', function (d, i) {
      if (d.id === app.current_config.my_region) {
        app.colors[d.id] = 'yellow';
        return 'yellow';
      } else if (i > current_range_brush[0] && i < current_range_brush[1]) {
        var color = comp(d.ratio, app.current_config.ref_value, app.serie_inversed);
        app.colors[d.id] = color;
        return color;
      }
      return color_countries;
    });
    updateMapRegio();
    // d3.select('#myTable').selectAll('tbody > tr')
    //   .attr('class', function(d, i) { return app.colors[this.id.split('row_')[1]]; });
  } else {
    if (d3_event && !d3_event.selection && d3_event.sourceEvent && d3_event.sourceEvent.detail !== undefined) {
      svg_map.select('.brush_map').call(map_elem.brush_map.move, null);
      app.colors = {};
      app.colors[app.current_config.my_region] = 'yellow';
      updateMapRegio();
      // nuts1_lyr.selectAll('path')
      //   .attr('fill', (d, i) => current_ids.indexOf(d.properties[id_field]) > -1
      //                             ? (app.colors[d.properties[id_field]] || color_countries)
      //                             : color_disabled);
    }
    focus.selectAll('.bar').style('fill', function (d) {
      return app.colors[d.id] || color_countries;
    });
    // d3.select('#myTable').selectAll('tbody > tr')
    //   .attr('class', function(d, i) { return this.id === `row_${my_region}` ? 'yellow' : 'white'; });
  }
}

function applyFilter(filter_type) {
  if (filter_type === 'no_filter') {
    exports.data = ref_data.slice();
  } else if (filter_type === 'national_FR') {
    exports.data = ref_data.filter(function (d) {
      return d.id.indexOf('FR') > -1;
    });
  } else {
    var a = math_round(Math.random() * 50);
    var b = math_round(Math.random() * 101);
    if (a > b) {
      
      var _ref = [b, a];
      a = _ref[0];
      b = _ref[1];
    }exports.data = ref_data.slice(a, b);
    if (exports.data.filter(function (d) {
      return d.id === app.current_config.my_region;
    })[0] === undefined) {
      exports.data.push(ref_data.filter(function (d) {
        return d.id === app.current_config.my_region;
      })[0]);
    }
  }
  app.current_ids = exports.data.map(function (d) {
    return d.id;
  });
  app.current_ranks = exports.data.map(function (d, i) {
    return i + 1;
  });
  if (!app.serie_inversed) {
    exports.data.sort(function (a, b) {
      return a.ratio - b.ratio;
    });
  } else {
    exports.data.sort(function (a, b) {
      return b.ratio - a.ratio;
    });
  }
  app.colors = {};
  app.colors[app.current_config.my_region] = 'yellow';
  exports.nbFt = exports.data.length;
  x$1.domain(exports.data.map(function (ft) {
    return ft.id;
  }));
  y.domain([d3.min(exports.data, function (d) {
    return d.ratio;
  }) - 2, d3.max(exports.data, function (d) {
    return d.ratio;
  })]);
  x2.domain(x$1.domain());
  y2.domain(y.domain());
  update();
  updateMiniBars();
  updateContext(0, exports.data.length);
  // brush_bottom.extent(current_range)
  svg_bar.select('.brush_bottom').call(exports.brush_bottom.move, x2.range());
  svg_map.select('.brush_map').call(map_elem.brush_map.move, null);
  app.colors = {};
  app.colors[app.current_config.my_region] = 'yellow';
  updateMapRegio();
}

function selectBelowMyRegion() {
  var my_rank = exports.data.map(function (d, i) {
    return [d.id, i];
  }).filter(function (d) {
    return d[0] === app.current_config.my_region;
  })[0][1];
  app.colors = {};
  app.colors[app.current_config.my_region] = 'yellow';
  if (!app.serie_inversed) {
    current_range_brush = [0, my_rank];
    exports.data.filter(function (d, i) {
      return i < my_rank;
    }).map(function (d) {
      return d.id;
    }).forEach(function (ft) {
      app.colors[ft] = 'red';
    });
  } else {
    current_range_brush = [my_rank, exports.data.length];
    exports.data.filter(function (d, i) {
      return i > my_rank;
    }).map(function (d) {
      return d.id;
    }).forEach(function (ft) {
      app.colors[ft] = 'green';
    });
  }
  svg_bar.select('.brush_top').call(exports.brush_top.move, current_range_brush.map(function (d) {
    return d * (width / exports.nbFt);
  }));
  updateMapRegio();
}

function selectAboveMyRegion() {
  var my_rank = exports.data.map(function (d, i) {
    return [d.id, i];
  }).filter(function (d) {
    return d[0] === app.current_config.my_region;
  })[0][1];
  app.colors = {};
  app.colors[app.current_config.my_region] = 'yellow';
  if (!app.serie_inversed) {
    current_range_brush = [my_rank, exports.data.length];
    exports.data.filter(function (d, i) {
      return i > my_rank;
    }).map(function (d) {
      return d.id;
    }).forEach(function (ft) {
      app.colors[ft] = 'green';
    });
  } else {
    current_range_brush = [0, my_rank];
    exports.data.filter(function (d, i) {
      return i < my_rank;
    }).map(function (d) {
      return d.id;
    }).forEach(function (ft) {
      app.colors[ft] = 'red';
    });
  }
  svg_bar.select('.brush_top').call(exports.brush_top.move, current_range_brush.map(function (d) {
    return d * (width / exports.nbFt);
  }));
  updateMapRegio();
}

function getMeanRank() {
  var mean_rank = exports.data.map(function (d, i) {
    return [d.ratio, math_abs(exports.mean_value - d.ratio), i];
  });
  mean_rank.sort(function (a, b) {
    return a[1] - b[1];
  });
  mean_rank = mean_rank[0];
  if (mean_rank[1] > exports.mean_value) {
    mean_rank = mean_rank[2] - 1;
  } else {
    mean_rank = mean_rank[2];
  }
  return mean_rank;
}

function selectAboveMean() {
  var mean_rank = getMeanRank();
  app.colors = {};
  app.colors[app.current_config.my_region] = 'yellow';
  if (!app.serie_inversed) {
    current_range_brush = [mean_rank, exports.data.length];
    exports.data.filter(function (d) {
      return d.ratio > exports.mean_value;
    }).forEach(function (ft) {
      if (ft.ratio > app.current_config.ref_value) app.colors[ft.id] = 'green';else app.colors[ft.id] = 'red';
    });
  } else {
    current_range_brush = [0, mean_rank + 1];
    exports.data.filter(function (d) {
      return d.ratio > exports.mean_value;
    }).forEach(function (ft) {
      if (ft.ratio > app.current_config.ref_value) app.colors[ft.id] = 'red';else app.colors[ft.id] = 'green';
    });
  }
  app.colors[app.current_config.my_region] = 'yellow';
  svg_bar.select('.brush_top').call(exports.brush_top.move, current_range_brush.map(function (d) {
    return d * (width / exports.nbFt);
  }));
  updateMapRegio();
}

function selectBelowMean() {
  var mean_rank = getMeanRank();
  app.colors = {};
  if (!app.serie_inversed) {
    current_range_brush = [0, mean_rank];
    exports.data.filter(function (d) {
      return d.ratio < exports.mean_value;
    }).forEach(function (ft) {
      if (ft.ratio < app.current_config.ref_value) app.colors[ft.id] = 'red';else app.colors[ft.id] = 'green';
    });
  } else {
    current_range_brush = [mean_rank + 1, exports.data.length];
    exports.data.filter(function (d) {
      return d.ratio < exports.mean_value;
    }).forEach(function (ft) {
      if (ft.ratio < app.current_config.ref_value) app.colors[ft.id] = 'green';else app.colors[ft.id] = 'red';
    });
  }
  app.colors[app.current_config.my_region] = 'yellow';
  svg_bar.select('.brush_top').call(exports.brush_top.move, current_range_brush.map(function (d) {
    return d * (width / exports.nbFt);
  }));
  updateMapRegio();
}

exports.svg_bar = svg_bar;
exports.margin = margin;
exports.margin2 = margin2;
exports.width = width;
exports.height = height;
exports.height2 = height2;
exports.svg_map = svg_map;
exports.margin_map = margin_map;
exports.width_map = width_map;
exports.height_map = height_map;
exports.ref_data = ref_data;
exports.length_dataset = length_dataset;
exports.app = app;

}((this.modules = this.modules || {}),debug));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvbWVudWxlZnQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvdmFuaWxsYS1kYXRhdGFibGVzL3NyYy92YW5pbGxhLWRhdGFUYWJsZXMuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL3RhYmxlLmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9wcmVwYXJlX2RhdGEuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL2hlbHBlcnMuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL21hcC5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21haW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgY3JlYXRlTWVudSA9IGZ1bmN0aW9uIGNyZWF0ZU1lbnUobmFtZXMsIHZhcmlhYmxlcywgc3R1ZHlfem9uZXMsIHRlcnJpdG9yaWFsX21lc2gpIHtcbiAgLy8gRmlyc3Qgc2VjdGlvbiwgcmVnaW9ucyBuYW1lczpcbiAgY29uc3QgdGl0bGVfc2VjdGlvbjEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gIHRpdGxlX3NlY3Rpb24xLmNsYXNzTmFtZSA9ICd0aXRsZV9tZW51JztcbiAgdGl0bGVfc2VjdGlvbjEuaW5uZXJIVE1MID0gJ01hIHLDqWdpb24nO1xuICBjb25zdCBzZWN0aW9uMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBzZWN0aW9uMS5jbGFzc05hbWUgPSAnYm94JztcbiAgc2VjdGlvbjEuc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7XG4gIHNlY3Rpb24xLnN0eWxlLmhlaWdodCA9ICcyMDBweCc7XG4gIGZvciAobGV0IGkgPSAwLCBsZW5faSA9IG5hbWVzLmxlbmd0aDsgaSA8IGxlbl9pOyBpKyspIHtcbiAgICBjb25zdCBpZCA9IG5hbWVzW2ldLmdlbztcbiAgICBjb25zdCBuYW1lID0gbmFtZXNbaV0uTm9tO1xuICAgIGNvbnN0IGVudHJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGVudHJ5LmlubmVySFRNTCA9IGA8c3BhbiB2YWx1ZT1cIiR7aWR9XCIgY2xhc3M9J3RhcmdldF9yZWdpb24gc3F1YXJlJz48L3NwYW4+PHNwYW4gY2xhc3M9XCJsYWJlbF9jaGtcIj4ke25hbWV9PC9zcGFuPmA7XG4gICAgc2VjdGlvbjEuYXBwZW5kQ2hpbGQoZW50cnkpO1xuICB9XG5cbiAgLy8gU2Vjb25kIHNlY3Rpb24sIGdyb3VwcyBvZiB2YXJpYWJsZXM6XG4gIGNvbnN0IHRpdGxlX3NlY3Rpb24yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICB0aXRsZV9zZWN0aW9uMi5jbGFzc05hbWUgPSAndGl0bGVfbWVudSc7XG4gIHRpdGxlX3NlY3Rpb24yLmlubmVySFRNTCA9ICdNb24vbWVzIGluZGljYXRldXJzJztcbiAgY29uc3Qgc2VjdGlvbjIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgc2VjdGlvbjIuY2xhc3NOYW1lID0gJ2JveCc7XG4gIGNvbnN0IGdyb3Vwc192YXIgPSBPYmplY3Qua2V5cyh2YXJpYWJsZXMpO1xuICBmb3IgKGxldCBpID0gMCwgbGVuX2kgPSBncm91cHNfdmFyLmxlbmd0aDsgaSA8IGxlbl9pOyBpKyspIHtcbiAgICBjb25zdCBncF9uYW1lID0gZ3JvdXBzX3ZhcltpXTtcbiAgICBjb25zdCBlbnRyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBlbnRyeS5pbm5lckhUTUwgPSBgPHNwYW4gY2xhc3M9J3NxdWFyZSc+PC9zcGFuPjxzcGFuIGNsYXNzPVwibGFiZWxfY2hrXCI+JHtncF9uYW1lfTwvc3Bhbj5gO1xuICAgIHNlY3Rpb24yLmFwcGVuZENoaWxkKGVudHJ5KTtcbiAgICBjb25zdCB2YXJfbmFtZXMgPSBPYmplY3Qua2V5cyh2YXJpYWJsZXNbZ3BfbmFtZV0pO1xuICAgIGZvciAobGV0IGogPSAwLCBsZW5faiA9IHZhcl9uYW1lcy5sZW5ndGg7IGogPCBsZW5fajsgaisrKSB7XG4gICAgICBjb25zdCBuYW1lX3ZhciA9IHZhcl9uYW1lc1tqXTtcbiAgICAgIGNvbnN0IGNvZGVfdmFyID0gdmFyaWFibGVzW2dwX25hbWVdW25hbWVfdmFyXTtcbiAgICAgIGNvbnN0IHN1Yl9lbnRyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgIHN1Yl9lbnRyeS5jbGFzc05hbWUgPSAnc21hbGwnO1xuICAgICAgc3ViX2VudHJ5LmlubmVySFRNTCA9IGA8c3BhbiB2YWx1ZT1cIiR7Y29kZV92YXJ9XCIgY2xhc3M9XCJzbWFsbF9zcXVhcmVcIj48L3NwYW4+PHNwYW4+JHt2YXJfbmFtZXNbal19PC9zcGFuPmA7XG4gICAgICBzZWN0aW9uMi5hcHBlbmRDaGlsZChzdWJfZW50cnkpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFRoaXJkIHNlY3Rpb24sIHN0dWR5IHpvbmU6XG4gIGNvbnN0IHRpdGxlX3NlY3Rpb24zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICB0aXRsZV9zZWN0aW9uMy5jbGFzc05hbWUgPSAndGl0bGVfbWVudSc7XG4gIHRpdGxlX3NlY3Rpb24zLmlubmVySFRNTCA9ICdNb24gZXNwYWNlIGRcXCfDqXR1ZGUnO1xuICBjb25zdCBzZWN0aW9uMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBzZWN0aW9uMy5jbGFzc05hbWUgPSAnYm94JztcbiAgZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gc3R1ZHlfem9uZXMubGVuZ3RoOyBpIDwgbGVuX2k7IGkrKykge1xuICAgIGNvbnN0IGVudHJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGNvbnN0IHpvbmUgPSBzdHVkeV96b25lc1tpXTtcbiAgICBlbnRyeS5pbm5lckhUTUwgPSBgPHNwYW4gZmlsdGVyLXZhbHVlPVwiJHt6b25lLmlkfVwiIGNsYXNzPSdmaWx0ZXJfdiBzcXVhcmUnPjwvc3Bhbj48c3BhbiBjbGFzcz1cImxhYmVsX2Noa1wiPiR7em9uZS5uYW1lfTwvc3Bhbj5gO1xuICAgIHNlY3Rpb24zLmFwcGVuZENoaWxkKGVudHJ5KTtcbiAgfVxuXG4gIC8vIEZvdXJ0aCBzZWN0aW9uOlxuICBjb25zdCB0aXRsZV9zZWN0aW9uNCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgdGl0bGVfc2VjdGlvbjQuY2xhc3NOYW1lID0gJ3RpdGxlX21lbnUnO1xuICB0aXRsZV9zZWN0aW9uNC5pbm5lckhUTUwgPSAnTWFpbGxhZ2UgdGVycml0b3JpYWwgZFxcJ2FuYWx5c2UnO1xuICBjb25zdCBzZWN0aW9uNCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBzZWN0aW9uNC5jbGFzc05hbWUgPSAnYm94JztcbiAgZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gdGVycml0b3JpYWxfbWVzaC5sZW5ndGg7IGkgPCBsZW5faTsgaSsrKSB7XG4gICAgY29uc3QgZW50cnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgY29uc3QgdGVycml0X2xldmVsID0gdGVycml0b3JpYWxfbWVzaFtpXTtcbiAgICBlbnRyeS5pbm5lckhUTUwgPSBgPHNwYW4gdmFsdWU9XCIke3RlcnJpdF9sZXZlbC5pZH1cIiBjbGFzcz0nc3F1YXJlJz48L3NwYW4+PHNwYW4gY2xhc3M9XCJsYWJlbF9jaGtcIj4ke3RlcnJpdF9sZXZlbC5uYW1lfTwvc3Bhbj5gO1xuICAgIHNlY3Rpb240LmFwcGVuZENoaWxkKGVudHJ5KTtcbiAgfVxuXG4gIC8vIFRoZSBhY3R1YWwgbWVudSBjb250YWluaW5nIHRoZXNlIDQgc2VjdGlvbnM6XG4gIGNvbnN0IG1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVudScpO1xuICBtZW51LmlkID0gJ21lbnUnO1xuICBtZW51LnN0eWxlLndpZHRoID0gJzM0MHB4JztcbiAgbWVudS5zdHlsZS5mbG9hdCA9ICdsZWZ0JztcbiAgbWVudS5hcHBlbmRDaGlsZCh0aXRsZV9zZWN0aW9uMSk7XG4gIG1lbnUuYXBwZW5kQ2hpbGQoc2VjdGlvbjEpO1xuICBtZW51LmFwcGVuZENoaWxkKHRpdGxlX3NlY3Rpb24yKTtcbiAgbWVudS5hcHBlbmRDaGlsZChzZWN0aW9uMik7XG4gIG1lbnUuYXBwZW5kQ2hpbGQodGl0bGVfc2VjdGlvbjMpO1xuICBtZW51LmFwcGVuZENoaWxkKHNlY3Rpb24zKTtcbiAgbWVudS5hcHBlbmRDaGlsZCh0aXRsZV9zZWN0aW9uNCk7XG4gIG1lbnUuYXBwZW5kQ2hpbGQoc2VjdGlvbjQpO1xufTtcblxuZXhwb3J0IHsgY3JlYXRlTWVudSB9O1xuIiwiLyohXHJcbiAqXHJcbiAqIFZhbmlsbGEtRGF0YVRhYmxlc1xyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtMjAxNyBLYXJsIFNhdW5kZXJzIChodHRwOi8vbW9iaXVzLm92aClcclxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocClcclxuICpcclxuICogVmVyc2lvbjogMS40LjE1XHJcbiAqXHJcbiAqL1xyXG4oZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcclxuICAgIHZhciBwbHVnaW4gPSBcIkRhdGFUYWJsZVwiO1xyXG5cclxuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xyXG4gICAgICAgIGRlZmluZShbXSwgZmFjdG9yeShwbHVnaW4pKTtcclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocGx1Z2luKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcm9vdFtwbHVnaW5dID0gZmFjdG9yeShwbHVnaW4pO1xyXG4gICAgfVxyXG59KSh0aGlzLCBmdW5jdGlvbiAocGx1Z2luKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuICAgIHZhciB3aW4gPSB3aW5kb3csXHJcbiAgICAgICAgZG9jID0gZG9jdW1lbnQsXHJcbiAgICAgICAgYm9keSA9IGRvYy5ib2R5O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVmYXVsdCBjb25maWd1cmF0aW9uXHJcbiAgICAgKiBAdHlwIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIHZhciBkZWZhdWx0Q29uZmlnID0ge1xyXG4gICAgICAgIHBlclBhZ2U6IDEwLFxyXG4gICAgICAgIHBlclBhZ2VTZWxlY3Q6IFs1LCAxMCwgMTUsIDIwLCAyNV0sXHJcblxyXG4gICAgICAgIHNvcnRhYmxlOiB0cnVlLFxyXG4gICAgICAgIHNlYXJjaGFibGU6IHRydWUsXHJcblxyXG4gICAgICAgIC8vIFBhZ2luYXRpb25cclxuICAgICAgICBuZXh0UHJldjogdHJ1ZSxcclxuICAgICAgICBmaXJzdExhc3Q6IGZhbHNlLFxyXG4gICAgICAgIHByZXZUZXh0OiBcIiZsc2FxdW87XCIsXHJcbiAgICAgICAgbmV4dFRleHQ6IFwiJnJzYXF1bztcIixcclxuICAgICAgICBmaXJzdFRleHQ6IFwiJmxhcXVvO1wiLFxyXG4gICAgICAgIGxhc3RUZXh0OiBcIiZyYXF1bztcIixcclxuICAgICAgICBlbGxpcHNpc1RleHQ6IFwiJmhlbGxpcDtcIixcclxuICAgICAgICBhc2NUZXh0OiBcIuKWtFwiLFxyXG4gICAgICAgIGRlc2NUZXh0OiBcIuKWvlwiLFxyXG4gICAgICAgIHRydW5jYXRlUGFnZXI6IHRydWUsXHJcbiAgICAgICAgcGFnZXJEZWx0YTogMixcclxuXHJcbiAgICAgICAgZml4ZWRDb2x1bW5zOiB0cnVlLFxyXG4gICAgICAgIGZpeGVkSGVpZ2h0OiBmYWxzZSxcclxuXHJcbiAgICAgICAgaGVhZGVyOiB0cnVlLFxyXG4gICAgICAgIGZvb3RlcjogZmFsc2UsXHJcblxyXG4gICAgICAgIC8vIEN1c3RvbWlzZSB0aGUgZGlzcGxheSB0ZXh0XHJcbiAgICAgICAgbGFiZWxzOiB7XHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIlNlYXJjaC4uLlwiLCAvLyBUaGUgc2VhcmNoIGlucHV0IHBsYWNlaG9sZGVyXHJcbiAgICAgICAgICAgIHBlclBhZ2U6IFwie3NlbGVjdH0gZW50cmllcyBwZXIgcGFnZVwiLCAvLyBwZXItcGFnZSBkcm9wZG93biBsYWJlbFxyXG4gICAgICAgICAgICBub1Jvd3M6IFwiTm8gZW50cmllcyBmb3VuZFwiLCAvLyBNZXNzYWdlIHNob3duIHdoZW4gdGhlcmUgYXJlIG5vIHNlYXJjaCByZXN1bHRzXHJcbiAgICAgICAgICAgIGluZm86IFwiU2hvd2luZyB7c3RhcnR9IHRvIHtlbmR9IG9mIHtyb3dzfSBlbnRyaWVzXCIgLy9cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvLyBDdXN0b21pc2UgdGhlIGxheW91dFxyXG4gICAgICAgIGxheW91dDoge1xyXG4gICAgICAgICAgICB0b3A6IFwie3NlbGVjdH17c2VhcmNofVwiLFxyXG4gICAgICAgICAgICBib3R0b206IFwie2luZm99e3BhZ2VyfVwiXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGlzIGl0ZW0gaXMgb2JqZWN0XHJcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICB2YXIgaXNPYmplY3QgPSBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWwpID09PSBcIltvYmplY3QgT2JqZWN0XVwiO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGlzIGl0ZW0gaXMgYXJyYXlcclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIHZhciBpc0FycmF5ID0gZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgZm9yIHZhbGlkIEpTT04gc3RyaW5nXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgc3RyXHJcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufEFycmF5fE9iamVjdH1cclxuICAgICAqL1xyXG4gICAgdmFyIGlzSnNvbiA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgICAgICB2YXIgdCA9ICExO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHQgPSBKU09OLnBhcnNlKHN0cik7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gITE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAhKG51bGwgPT09IHQgfHwgKCFpc0FycmF5KHQpICYmICFpc09iamVjdCh0KSkpICYmIHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWVyZ2Ugb2JqZWN0cyAocmVjY3Vyc2l2ZSlcclxuICAgICAqIEBwYXJhbSAge09iamVjdH0gclxyXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSB0XHJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIHZhciBleHRlbmQgPSBmdW5jdGlvbiAoc3JjLCBwcm9wcykge1xyXG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gcHJvcHMpIHtcclxuICAgICAgICAgICAgaWYgKHByb3BzLmhhc093blByb3BlcnR5KHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gcHJvcHNbcHJvcF07XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsICYmIGlzT2JqZWN0KHZhbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzcmNbcHJvcF0gPSBzcmNbcHJvcF0gfHwge307XHJcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5kKHNyY1twcm9wXSwgdmFsKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3JjW3Byb3BdID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzcmM7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSXRlcmF0b3IgaGVscGVyXHJcbiAgICAgKiBAcGFyYW0gIHsoQXJyYXl8T2JqZWN0KX0gICBhcnIgICAgIEFueSBvYmplY3QsIGFycmF5IG9yIGFycmF5LWxpa2UgY29sbGVjdGlvbi5cclxuICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSAgICAgICAgIGZuICAgICAgQ2FsbGJhY2tcclxuICAgICAqIEBwYXJhbSAge09iamVjdH0gICAgICAgICAgIHNjb3BlICAgQ2hhbmdlIHRoZSB2YWx1ZSBvZiB0aGlzXHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICB2YXIgZWFjaCA9IGZ1bmN0aW9uIChhcnIsIGZuLCBzY29wZSkge1xyXG4gICAgICAgIHZhciBuO1xyXG4gICAgICAgIGlmIChpc09iamVjdChhcnIpKSB7XHJcbiAgICAgICAgICAgIGZvciAobiBpbiBhcnIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXJyLCBuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZuLmNhbGwoc2NvcGUsIGFycltuXSwgbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKG4gPSAwOyBuIDwgYXJyLmxlbmd0aDsgbisrKSB7XHJcbiAgICAgICAgICAgICAgICBmbi5jYWxsKHNjb3BlLCBhcnJbbl0sIG4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZCBldmVudCBsaXN0ZW5lciB0byB0YXJnZXRcclxuICAgICAqIEBwYXJhbSAge09iamVjdH0gZWxcclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gZVxyXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGZuXHJcbiAgICAgKi9cclxuICAgIHZhciBvbiA9IGZ1bmN0aW9uIChlbCwgZSwgZm4pIHtcclxuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKGUsIGZuLCBmYWxzZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIERPTSBlbGVtZW50IG5vZGVcclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICBhIG5vZGVOYW1lXHJcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgYiBwcm9wZXJ0aWVzIGFuZCBhdHRyaWJ1dGVzXHJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIHZhciBjcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICB2YXIgZCA9IGRvYy5jcmVhdGVFbGVtZW50KGEpO1xyXG4gICAgICAgIGlmIChiICYmIFwib2JqZWN0XCIgPT0gdHlwZW9mIGIpIHtcclxuICAgICAgICAgICAgdmFyIGU7XHJcbiAgICAgICAgICAgIGZvciAoZSBpbiBiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoXCJodG1sXCIgPT09IGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBkLmlubmVySFRNTCA9IGJbZV07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGQuc2V0QXR0cmlidXRlKGUsIGJbZV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgZmx1c2ggPSBmdW5jdGlvbiAoZWwsIGllKSB7XHJcbiAgICAgICAgaWYgKGVsIGluc3RhbmNlb2YgTm9kZUxpc3QpIHtcclxuICAgICAgICAgICAgZWFjaChlbCwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIGZsdXNoKGUsIGllKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGllKSB7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoZWwuaGFzQ2hpbGROb2RlcygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWwucmVtb3ZlQ2hpbGQoZWwuZmlyc3RDaGlsZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBlbC5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBidXR0b24gaGVscGVyXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgY1xyXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgIHBcclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICB0XHJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIHZhciBidXR0b24gPSBmdW5jdGlvbiAoYywgcCwgdCkge1xyXG4gICAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50KFwibGlcIiwge1xyXG4gICAgICAgICAgICBjbGFzczogYyxcclxuICAgICAgICAgICAgaHRtbDogJzxhIGhyZWY9XCIjXCIgZGF0YS1wYWdlPVwiJyArIHAgKyAnXCI+JyArIHQgKyBcIjwvYT5cIlxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGNsYXNzTGlzdCBzaGltXHJcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICB2YXIgY2xhc3NMaXN0ID0ge1xyXG4gICAgICAgIGFkZDogZnVuY3Rpb24gKHMsIGEpIHtcclxuICAgICAgICAgICAgaWYgKHMuY2xhc3NMaXN0KSB7XHJcbiAgICAgICAgICAgICAgICBzLmNsYXNzTGlzdC5hZGQoYSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWNsYXNzTGlzdC5jb250YWlucyhzLCBhKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHMuY2xhc3NOYW1lID0gcy5jbGFzc05hbWUudHJpbSgpICsgXCIgXCIgKyBhO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIChzLCBhKSB7XHJcbiAgICAgICAgICAgIGlmIChzLmNsYXNzTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgcy5jbGFzc0xpc3QucmVtb3ZlKGEpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNsYXNzTGlzdC5jb250YWlucyhzLCBhKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHMuY2xhc3NOYW1lID0gcy5jbGFzc05hbWUucmVwbGFjZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFJlZ0V4cChcIihefFxcXFxzKVwiICsgYS5zcGxpdChcIiBcIikuam9pbihcInxcIikgKyBcIihcXFxcc3wkKVwiLCBcImdpXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiBcIlxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRhaW5zOiBmdW5jdGlvbiAocywgYSkge1xyXG4gICAgICAgICAgICBpZiAocylcclxuICAgICAgICAgICAgICAgIHJldHVybiBzLmNsYXNzTGlzdCA/XHJcbiAgICAgICAgICAgICAgICAgICAgcy5jbGFzc0xpc3QuY29udGFpbnMoYSkgOlxyXG4gICAgICAgICAgICAgICAgICAgICEhcy5jbGFzc05hbWUgJiZcclxuICAgICAgICAgICAgICAgICAgICAhIXMuY2xhc3NOYW1lLm1hdGNoKG5ldyBSZWdFeHAoXCIoXFxcXHN8XilcIiArIGEgKyBcIihcXFxcc3wkKVwiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEJ1YmJsZSBzb3J0IGFsZ29yaXRobVxyXG4gICAgICovXHJcbiAgICB2YXIgc29ydEl0ZW1zID0gZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICB2YXIgYywgZDtcclxuICAgICAgICBpZiAoMSA9PT0gYikge1xyXG4gICAgICAgICAgICBjID0gMDtcclxuICAgICAgICAgICAgZCA9IGEubGVuZ3RoO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChiID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgYyA9IGEubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgICAgIGQgPSAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHZhciBlID0gITA7IGU7KSB7XHJcbiAgICAgICAgICAgIGUgPSAhMTtcclxuICAgICAgICAgICAgZm9yICh2YXIgZiA9IGM7IGYgIT0gZDsgZiArPSBiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYVtmICsgYl0gJiYgYVtmXS52YWx1ZSA+IGFbZiArIGJdLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGcgPSBhW2ZdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoID0gYVtmICsgYl0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBnO1xyXG4gICAgICAgICAgICAgICAgICAgIGFbZl0gPSBoO1xyXG4gICAgICAgICAgICAgICAgICAgIGFbZiArIGJdID0gaTtcclxuICAgICAgICAgICAgICAgICAgICBlID0gITA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGE7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGFnZXIgdHJ1bmNhdGlvbiBhbGdvcml0aG1cclxuICAgICAqL1xyXG4gICAgdmFyIHRydW5jYXRlID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQsIGVsbGlwc2lzKSB7XHJcbiAgICAgICAgZCA9IGQgfHwgMjtcclxuICAgICAgICB2YXIgaixcclxuICAgICAgICAgICAgZSA9IDIgKiBkLFxyXG4gICAgICAgICAgICBmID0gYiAtIGQsXHJcbiAgICAgICAgICAgIGcgPSBiICsgZCxcclxuICAgICAgICAgICAgaCA9IFtdLFxyXG4gICAgICAgICAgICBpID0gW107XHJcbiAgICAgICAgaWYgKGIgPCA0IC0gZCArIGUpIHtcclxuICAgICAgICAgICAgZyA9IDMgKyBlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYiA+IGMgLSAoMyAtIGQgKyBlKSkge1xyXG4gICAgICAgICAgICBmID0gYyAtICgyICsgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAodmFyIGsgPSAxOyBrIDw9IGM7IGsrKykge1xyXG4gICAgICAgICAgICBpZiAoMSA9PSBrIHx8IGsgPT0gYyB8fCAoayA+PSBmICYmIGsgPD0gZykpIHtcclxuICAgICAgICAgICAgICAgIHZhciBsID0gYVtrIC0gMV07XHJcbiAgICAgICAgICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKGwsIFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICAgICAgaC5wdXNoKGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVhY2goaCwgZnVuY3Rpb24gKGMpIHtcclxuICAgICAgICAgICAgdmFyIGQgPSBjLmNoaWxkcmVuWzBdLmdldEF0dHJpYnV0ZShcImRhdGEtcGFnZVwiKTtcclxuICAgICAgICAgICAgaWYgKGopIHtcclxuICAgICAgICAgICAgICAgIHZhciBlID0gai5jaGlsZHJlblswXS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBhZ2VcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoZCAtIGUgPT0gMikgaS5wdXNoKGFbZV0pO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZCAtIGUgIT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmID0gY3JlYXRlRWxlbWVudChcImxpXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IFwiZWxsaXBzaXNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogJzxhIGhyZWY9XCIjXCI+JyArIGVsbGlwc2lzICsgXCI8L2E+XCJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpLnB1c2goZik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaS5wdXNoKGMpO1xyXG4gICAgICAgICAgICBqID0gYztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGFyc2UgZGF0YSB0byBIVE1MIHRhYmxlXHJcbiAgICAgKi9cclxuICAgIHZhciBkYXRhVG9UYWJsZSA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgdmFyIHRoZWFkID0gZmFsc2UsXHJcbiAgICAgICAgICAgIHRib2R5ID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGRhdGEgPSBkYXRhIHx8IHRoaXMub3B0aW9ucy5kYXRhO1xyXG5cclxuICAgICAgICBpZiAoZGF0YS5oZWFkaW5ncykge1xyXG4gICAgICAgICAgICB0aGVhZCA9IGNyZWF0ZUVsZW1lbnQoXCJ0aGVhZFwiKTtcclxuICAgICAgICAgICAgdmFyIHRyID0gY3JlYXRlRWxlbWVudChcInRyXCIpO1xyXG4gICAgICAgICAgICBlYWNoKGRhdGEuaGVhZGluZ3MsIGZ1bmN0aW9uIChjb2wpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0ZCA9IGNyZWF0ZUVsZW1lbnQoXCJ0aFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgaHRtbDogY29sXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRkKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGVhZC5hcHBlbmRDaGlsZCh0cik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZGF0YS5kYXRhKSB7XHJcbiAgICAgICAgICAgIHRib2R5ID0gY3JlYXRlRWxlbWVudChcInRib2R5XCIpO1xyXG4gICAgICAgICAgICBlYWNoKGRhdGEuZGF0YSwgZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmhlYWRpbmdzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuaGVhZGluZ3MubGVuZ3RoICE9PSByb3dzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlRoZSBudW1iZXIgb2Ygcm93cyBkbyBub3QgbWF0Y2ggdGhlIG51bWJlciBvZiBoZWFkaW5ncy5cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciB0ciA9IGNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcclxuICAgICAgICAgICAgICAgIGVhY2gocm93cywgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRkID0gY3JlYXRlRWxlbWVudChcInRkXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRib2R5LmFwcGVuZENoaWxkKHRyKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhlYWQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudGFibGUudEhlYWQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGFibGUucmVtb3ZlQ2hpbGQodGhpcy50YWJsZS50SGVhZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy50YWJsZS5hcHBlbmRDaGlsZCh0aGVhZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGJvZHkpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudGFibGUudEJvZGllcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGFibGUucmVtb3ZlQ2hpbGQodGhpcy50YWJsZS50Qm9kaWVzWzBdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnRhYmxlLmFwcGVuZENoaWxkKHRib2R5KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXNlIG1vbWVudC5qcyB0byBwYXJzZSBjZWxsIGNvbnRlbnRzIGZvciBzb3J0aW5nXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGNvbnRlbnQgICAgIFRoZSBkYXRldGltZSBzdHJpbmcgdG8gcGFyc2VcclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gZm9ybWF0ICAgICAgVGhlIGZvcm1hdCBmb3IgbW9tZW50IHRvIHVzZVxyXG4gICAgICogQHJldHVybiB7U3RyaW5nfEJvb2xlYW59ICAgICBEYXRhdGltZSBzdHJpbmcgb3IgZmFsc2VcclxuICAgICAqL1xyXG4gICAgdmFyIHBhcnNlRGF0ZSA9IGZ1bmN0aW9uIChjb250ZW50LCBmb3JtYXQpIHtcclxuICAgICAgICB2YXIgZGF0ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBtb21lbnQoKSB0aHJvd3MgYSBmaXQgaWYgdGhlIHN0cmluZyBpc24ndCBhIHZhbGlkIGRhdGV0aW1lIHN0cmluZ1xyXG4gICAgICAgIC8vIHNvIHdlIG5lZWQgdG8gc3VwcGx5IHRoZSBmb3JtYXQgdG8gdGhlIGNvbnN0cnVjdG9yIChodHRwczovL21vbWVudGpzLmNvbS9kb2NzLyMvcGFyc2luZy9zdHJpbmctZm9ybWF0LylcclxuXHJcbiAgICAgICAgLy8gQ29udmVydGluZyB0byBZWVlZTU1ERCBlbnN1cmVzIHdlIGNhbiBhY2N1cmF0ZWx5IHNvcnQgdGhlIGNvbHVtbiBudW1lcmljYWxseVxyXG5cclxuICAgICAgICBpZiAoZm9ybWF0KSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoZm9ybWF0KSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJJU09fODYwMVwiOlxyXG4gICAgICAgICAgICAgICAgZGF0ZSA9IG1vbWVudChjb250ZW50LCBtb21lbnQuSVNPXzg2MDEpLmZvcm1hdChcIllZWVlNTUREXCIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJSRkNfMjgyMlwiOlxyXG4gICAgICAgICAgICAgICAgZGF0ZSA9IG1vbWVudChjb250ZW50LCBcImRkZCwgTU0gTU1NIFlZWVkgSEg6bW06c3MgWlpcIikuZm9ybWF0KFwiWVlZWU1NRERcIik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIk1ZU1FMXCI6XHJcbiAgICAgICAgICAgICAgICBkYXRlID0gbW9tZW50KGNvbnRlbnQsIFwiWVlZWS1NTS1ERCBoaDptbTpzc1wiKS5mb3JtYXQoXCJZWVlZTU1ERFwiKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiVU5JWFwiOlxyXG4gICAgICAgICAgICAgICAgZGF0ZSA9IG1vbWVudChjb250ZW50KS51bml4KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIC8vIFVzZXIgZGVmaW5lZCBmb3JtYXQgdXNpbmcgdGhlIGRhdGEtZm9ybWF0IGF0dHJpYnV0ZSBvciBjb2x1bW5zW25dLmZvcm1hdCBvcHRpb25cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGRhdGUgPSBtb21lbnQoY29udGVudCwgZm9ybWF0KS5mb3JtYXQoXCJZWVlZTU1ERFwiKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZGF0ZTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb2x1bW5zIEFQSVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIERhdGFUYWJsZSBpbnN0YW5jZVxyXG4gICAgICogQHBhcmFtIHtNaXhlZH0gY29sdW1ucyAgQ29sdW1uIGluZGV4IG9yIGFycmF5IG9mIGNvbHVtbiBpbmRleGVzXHJcbiAgICAgKi9cclxuICAgIHZhciBDb2x1bW5zID0gZnVuY3Rpb24gKGR0KSB7XHJcbiAgICAgICAgdGhpcy5kdCA9IGR0O1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN3YXAgdHdvIGNvbHVtbnNcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIENvbHVtbnMucHJvdG90eXBlLnN3YXAgPSBmdW5jdGlvbiAoY29sdW1ucykge1xyXG4gICAgICAgIGlmIChjb2x1bW5zLmxlbmd0aCAmJiBjb2x1bW5zLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICB2YXIgY29scyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgLy8gR2V0IHRoZSBjdXJyZW50IGNvbHVtbiBpbmRleGVzXHJcbiAgICAgICAgICAgIGVhY2godGhpcy5kdC5oZWFkaW5ncywgZnVuY3Rpb24gKGgsIGkpIHtcclxuICAgICAgICAgICAgICAgIGNvbHMucHVzaChpKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgeCA9IGNvbHVtbnNbMF07XHJcbiAgICAgICAgICAgIHZhciB5ID0gY29sdW1uc1sxXTtcclxuICAgICAgICAgICAgdmFyIGIgPSBjb2xzW3ldO1xyXG4gICAgICAgICAgICBjb2xzW3ldID0gY29sc1t4XTtcclxuICAgICAgICAgICAgY29sc1t4XSA9IGI7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9yZGVyKGNvbHMpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW9yZGVyIHRoZSBjb2x1bW5zXHJcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gY29sdW1ucyAgQXJyYXkgb2Ygb3JkZXJlZCBjb2x1bW4gaW5kZXhlc1xyXG4gICAgICovXHJcbiAgICBDb2x1bW5zLnByb3RvdHlwZS5vcmRlciA9IGZ1bmN0aW9uIChjb2x1bW5zKSB7XHJcbiAgICAgICAgdmFyIGEsIGIsIGMsIGQsIGgsIHM7XHJcblxyXG4gICAgICAgIHZhciB0ZW1wX2EgPSBbXTtcclxuICAgICAgICB2YXIgdGVtcF9iID0gW107XHJcbiAgICAgICAgdmFyIHRlbXBfYyA9IFtdO1xyXG4gICAgICAgIHZhciB0ZW1wX2QgPSBbXTtcclxuXHJcbiAgICAgICAgdmFyIGR0ID0gdGhpcy5kdDtcclxuXHJcbiAgICAgICAgLy8gT3JkZXIgdGhlIGhlYWRpbmdzXHJcbiAgICAgICAgZWFjaChjb2x1bW5zLCBmdW5jdGlvbiAoY29sdW1uLCB4KSB7XHJcbiAgICAgICAgICAgIGggPSBkdC5oZWFkaW5nc1tjb2x1bW5dO1xyXG4gICAgICAgICAgICBzID0gaC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNvcnRhYmxlXCIpICE9PSBcImZhbHNlXCI7XHJcbiAgICAgICAgICAgIGEgPSBoLmNsb25lTm9kZSh0cnVlKTtcclxuICAgICAgICAgICAgYS5vcmlnaW5hbENlbGxJbmRleCA9IHg7XHJcbiAgICAgICAgICAgIGEuc29ydGFibGUgPSBzO1xyXG5cclxuICAgICAgICAgICAgdGVtcF9hLnB1c2goYSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZHQuaGlkZGVuQ29sdW1ucy5pbmRleE9mKGNvbHVtbikgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBiID0gaC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBiLm9yaWdpbmFsQ2VsbEluZGV4ID0geDtcclxuICAgICAgICAgICAgICAgIGIuc29ydGFibGUgPSBzO1xyXG5cclxuICAgICAgICAgICAgICAgIHRlbXBfYi5wdXNoKGIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIE9yZGVyIHRoZSByb3cgY2VsbHNcclxuICAgICAgICBlYWNoKGR0LmRhdGEsIGZ1bmN0aW9uIChyb3csIGkpIHtcclxuICAgICAgICAgICAgYyA9IHJvdy5jbG9uZU5vZGUoKTtcclxuICAgICAgICAgICAgZCA9IHJvdy5jbG9uZU5vZGUoKTtcclxuXHJcbiAgICAgICAgICAgIGMuZGF0YUluZGV4ID0gaTtcclxuICAgICAgICAgICAgZC5kYXRhSW5kZXggPSBpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHJvdy5zZWFyY2hJbmRleCAhPT0gbnVsbCAmJiByb3cuc2VhcmNoSW5kZXggIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgYy5zZWFyY2hJbmRleCA9IHJvdy5zZWFyY2hJbmRleDtcclxuICAgICAgICAgICAgICAgIGQuc2VhcmNoSW5kZXggPSByb3cuc2VhcmNoSW5kZXg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEFwcGVuZCB0byBjZWxsIHRvIHRoZSBmcmFnbWVudCBpbiB0aGUgY29ycmVjdCBvcmRlclxyXG4gICAgICAgICAgICBlYWNoKFxyXG4gICAgICAgICAgICAgICAgY29sdW1ucyxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh4LCBjb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBjLmFwcGVuZENoaWxkKHJvdy5jZWxsc1tjb2x1bW5dLmNsb25lTm9kZSh0cnVlKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkdC5oaWRkZW5Db2x1bW5zLmluZGV4T2YoY29sdW1uKSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZC5hcHBlbmRDaGlsZChyb3cuY2VsbHNbY29sdW1uXS5jbG9uZU5vZGUodHJ1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB0aGlzXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICB0ZW1wX2MucHVzaChjKTtcclxuICAgICAgICAgICAgdGVtcF9kLnB1c2goZCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGR0LmhlYWRpbmdzID0gdGVtcF9hO1xyXG4gICAgICAgIGR0LmFjdGl2ZUhlYWRpbmdzID0gdGVtcF9iO1xyXG5cclxuICAgICAgICBkdC5kYXRhID0gdGVtcF9jO1xyXG4gICAgICAgIGR0LmFjdGl2ZVJvd3MgPSB0ZW1wX2Q7XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZVxyXG4gICAgICAgIGR0LnVwZGF0ZSgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEhpZGUgY29sdW1uc1xyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgQ29sdW1ucy5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uIChjb2x1bW5zKSB7XHJcbiAgICAgICAgaWYgKGNvbHVtbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHZhciBkdCA9IHRoaXMuZHQ7XHJcblxyXG4gICAgICAgICAgICBlYWNoKGNvbHVtbnMsIGZ1bmN0aW9uIChjb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChkdC5oaWRkZW5Db2x1bW5zLmluZGV4T2YoY29sdW1uKSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBkdC5oaWRkZW5Db2x1bW5zLnB1c2goY29sdW1uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlYnVpbGQoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2hvdyBjb2x1bW5zXHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBDb2x1bW5zLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKGNvbHVtbnMpIHtcclxuICAgICAgICBpZiAoY29sdW1ucy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4LCBkdCA9IHRoaXMuZHQ7XHJcblxyXG4gICAgICAgICAgICBlYWNoKGNvbHVtbnMsIGZ1bmN0aW9uIChjb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgIGluZGV4ID0gZHQuaGlkZGVuQ29sdW1ucy5pbmRleE9mKGNvbHVtbik7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGR0LmhpZGRlbkNvbHVtbnMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlYnVpbGQoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgY29sdW1uKHMpIHZpc2liaWxpdHlcclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIENvbHVtbnMucHJvdG90eXBlLnZpc2libGUgPSBmdW5jdGlvbiAoY29sdW1ucykge1xyXG4gICAgICAgIHZhciBjb2xzLCBkdCA9IHRoaXMuZHQ7XHJcblxyXG4gICAgICAgIGNvbHVtbnMgPSBjb2x1bW5zIHx8IGR0LmhlYWRpbmdzLm1hcChmdW5jdGlvbiAodGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoLm9yaWdpbmFsQ2VsbEluZGV4O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoIWlzTmFOKGNvbHVtbnMpKSB7XHJcbiAgICAgICAgICAgIGNvbHMgPSBkdC5oaWRkZW5Db2x1bW5zLmluZGV4T2YoY29sdW1ucykgPCAwO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShjb2x1bW5zKSkge1xyXG4gICAgICAgICAgICBjb2xzID0gW107XHJcbiAgICAgICAgICAgIGVhY2goY29sdW1ucywgZnVuY3Rpb24gKGNvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgY29scy5wdXNoKGR0LmhpZGRlbkNvbHVtbnMuaW5kZXhPZihjb2x1bW4pIDwgMCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNvbHM7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgY29sdW1uKHMpIHZpc2liaWxpdHlcclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIENvbHVtbnMucHJvdG90eXBlLmhpZGRlbiA9IGZ1bmN0aW9uIChjb2x1bW5zKSB7XHJcbiAgICAgICAgdmFyIGNvbHMsIGR0ID0gdGhpcy5kdDtcclxuXHJcbiAgICAgICAgY29sdW1ucyA9IGNvbHVtbnMgfHwgdGhpcy5kdC5oZWFkaW5ncy5tYXAoZnVuY3Rpb24gKHRoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aC5vcmlnaW5hbENlbGxJbmRleDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKCFpc05hTihjb2x1bW5zKSkge1xyXG4gICAgICAgICAgICBjb2xzID0gZHQuaGlkZGVuQ29sdW1ucy5pbmRleE9mKHRoaXMuY29sdW1ucykgPiAtMTtcclxuICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkoY29sdW1ucykpIHtcclxuICAgICAgICAgICAgY29scyA9IFtdO1xyXG4gICAgICAgICAgICBlYWNoKGNvbHVtbnMsIGZ1bmN0aW9uIChjb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgIGNvbHMucHVzaChkdC5oaWRkZW5Db2x1bW5zLmluZGV4T2YoY29sdW1uKSA+IC0xKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gY29scztcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgYSBuZXcgY29sdW1uXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxyXG4gICAgICovXHJcbiAgICBDb2x1bW5zLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcyxcclxuICAgICAgICAgICAgdGQsIHRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRoXCIpO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuZHQuaGVhZGluZ3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZHQuaW5zZXJ0KHtcclxuICAgICAgICAgICAgICAgIGhlYWRpbmdzOiBbZGF0YS5oZWFkaW5nXSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEuZGF0YS5tYXAoZnVuY3Rpb24gKGkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2ldO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucmVidWlsZCgpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXRoaXMuZHQuaGlkZGVuSGVhZGVyKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmhlYWRpbmcubm9kZU5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHRoLmFwcGVuZENoaWxkKGRhdGEuaGVhZGluZyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aC5pbm5lckhUTUwgPSBkYXRhLmhlYWRpbmc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aC5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5kdC5oZWFkaW5ncy5wdXNoKHRoKTtcclxuXHJcbiAgICAgICAgZWFjaCh0aGlzLmR0LmRhdGEsIGZ1bmN0aW9uIChyb3csIGkpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuZGF0YVtpXSkge1xyXG4gICAgICAgICAgICAgICAgdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZGF0YVtpXS5ub2RlTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRkLmFwcGVuZENoaWxkKGRhdGEuZGF0YVtpXSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRkLmlubmVySFRNTCA9IGRhdGEuZGF0YVtpXTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0ZC5kYXRhID0gdGQuaW5uZXJIVE1MO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnJlbmRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRkLmlubmVySFRNTCA9IGRhdGEucmVuZGVyLmNhbGwodGhhdCwgdGQuZGF0YSwgdGQsIHJvdyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKHRkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoZGF0YS50eXBlKSB7XHJcbiAgICAgICAgICAgIHRoLnNldEF0dHJpYnV0ZShcImRhdGEtdHlwZVwiLCBkYXRhLnR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGF0YS5mb3JtYXQpIHtcclxuICAgICAgICAgICAgdGguc2V0QXR0cmlidXRlKFwiZGF0YS1mb3JtYXRcIiwgZGF0YS5mb3JtYXQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoXCJzb3J0YWJsZVwiKSkge1xyXG4gICAgICAgICAgICB0aC5zb3J0YWJsZSA9IGRhdGEuc29ydGFibGU7XHJcbiAgICAgICAgICAgIHRoLnNldEF0dHJpYnV0ZShcImRhdGEtc29ydGFibGVcIiwgZGF0YS5zb3J0YWJsZSA9PT0gdHJ1ZSA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucmVidWlsZCgpO1xyXG5cclxuICAgICAgICB0aGlzLmR0LnJlbmRlckhlYWRlcigpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZSBjb2x1bW4ocylcclxuICAgICAqIEBwYXJhbSAge0FycmF5fE51bWJlcn0gc2VsZWN0XHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBDb2x1bW5zLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoc2VsZWN0KSB7XHJcbiAgICAgICAgaWYgKGlzQXJyYXkoc2VsZWN0KSkge1xyXG4gICAgICAgICAgICAvLyBSZW1vdmUgaW4gcmV2ZXJzZSBvdGhlcndpc2UgdGhlIGluZGV4ZXMgd2lsbCBiZSBpbmNvcnJlY3RcclxuICAgICAgICAgICAgc2VsZWN0LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBiIC0gYTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBlYWNoKHNlbGVjdCwgZnVuY3Rpb24gKGNvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmUoY29sdW1uKTtcclxuICAgICAgICAgICAgfSwgdGhpcyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5kdC5oZWFkaW5ncy5zcGxpY2Uoc2VsZWN0LCAxKTtcclxuXHJcbiAgICAgICAgICAgIGVhY2godGhpcy5kdC5kYXRhLCBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgICAgICByb3cucmVtb3ZlQ2hpbGQocm93LmNlbGxzW3NlbGVjdF0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucmVidWlsZCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNvcnQgYnkgY29sdW1uXHJcbiAgICAgKiBAcGFyYW0gIHtpbnR9IGNvbHVtbiAtIFRoZSBjb2x1bW4gbm8uXHJcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IGRpcmVjdGlvbiAtIGFzYyBvciBkZXNjXHJcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBDb2x1bW5zLnByb3RvdHlwZS5zb3J0ID0gZnVuY3Rpb24gKGNvbHVtbiwgZGlyZWN0aW9uLCBpbml0KSB7XHJcblxyXG4gICAgICAgIHZhciBkdCA9IHRoaXMuZHQ7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGNvbHVtbiBpcyBwcmVzZW50XHJcbiAgICAgICAgaWYgKGR0Lmhhc0hlYWRpbmdzICYmIChjb2x1bW4gPCAxIHx8IGNvbHVtbiA+IGR0LmFjdGl2ZUhlYWRpbmdzLmxlbmd0aCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZHQuc29ydGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgIC8vIENvbnZlcnQgdG8gemVyby1pbmRleGVkXHJcbiAgICAgICAgY29sdW1uID0gY29sdW1uIC0gMTtcclxuXHJcbiAgICAgICAgdmFyIGRpcixcclxuICAgICAgICAgICAgcm93cyA9IGR0LmRhdGEsXHJcbiAgICAgICAgICAgIGFscGhhID0gW10sXHJcbiAgICAgICAgICAgIG51bWVyaWMgPSBbXSxcclxuICAgICAgICAgICAgYSA9IDAsXHJcbiAgICAgICAgICAgIG4gPSAwLFxyXG4gICAgICAgICAgICB0aCA9IGR0LmFjdGl2ZUhlYWRpbmdzW2NvbHVtbl07XHJcblxyXG4gICAgICAgIGNvbHVtbiA9IHRoLm9yaWdpbmFsQ2VsbEluZGV4O1xyXG5cclxuICAgICAgICBlYWNoKHJvd3MsIGZ1bmN0aW9uICh0cikge1xyXG4gICAgICAgICAgICB2YXIgY2VsbCA9IHRyLmNlbGxzW2NvbHVtbl07XHJcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gY2VsbC5kYXRhO1xyXG4gICAgICAgICAgICB2YXIgbnVtID0gY29udGVudC5yZXBsYWNlKC8oXFwkfFxcLHxcXHN8JSkvZywgXCJcIik7XHJcblxyXG4gICAgICAgICAgICAvLyBDaGVjayBmb3IgZGF0ZSBmb3JtYXQgYW5kIG1vbWVudC5qc1xyXG4gICAgICAgICAgICBpZiAodGguZ2V0QXR0cmlidXRlKFwiZGF0YS10eXBlXCIpID09PSBcImRhdGVcIiAmJiB3aW4ubW9tZW50KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZm9ybWF0ID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkID0gdGguaGFzQXR0cmlidXRlKFwiZGF0YS1mb3JtYXRcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGZvcm1hdHRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdCA9IHRoLmdldEF0dHJpYnV0ZShcImRhdGEtZm9ybWF0XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIG51bSA9IHBhcnNlRGF0ZShjb250ZW50LCBmb3JtYXQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAocGFyc2VGbG9hdChudW0pID09IG51bSkge1xyXG4gICAgICAgICAgICAgICAgbnVtZXJpY1tuKytdID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBOdW1iZXIobnVtKSxcclxuICAgICAgICAgICAgICAgICAgICByb3c6IHRyXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYWxwaGFbYSsrXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY29udGVudCxcclxuICAgICAgICAgICAgICAgICAgICByb3c6IHRyXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qIFNvcnQgYWNjb3JkaW5nIHRvIGRpcmVjdGlvbiAoYXNjZW5kaW5nIG9yIGRlc2NlbmRpbmcpICovXHJcbiAgICAgICAgdmFyIHRvcCwgYnRtO1xyXG4gICAgICAgIGlmIChjbGFzc0xpc3QuY29udGFpbnModGgsIFwiYXNjXCIpIHx8IGRpcmVjdGlvbiA9PSBcImFzY1wiKSB7XHJcbiAgICAgICAgICAgIHRvcCA9IHNvcnRJdGVtcyhhbHBoYSwgLTEpO1xyXG4gICAgICAgICAgICBidG0gPSBzb3J0SXRlbXMobnVtZXJpYywgLTEpO1xyXG4gICAgICAgICAgICBkaXIgPSBcImRlc2NlbmRpbmdcIjtcclxuICAgICAgICAgICAgY2xhc3NMaXN0LnJlbW92ZSh0aCwgXCJhc2NcIik7XHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5hZGQodGgsIFwiZGVzY1wiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0b3AgPSBzb3J0SXRlbXMobnVtZXJpYywgMSk7XHJcbiAgICAgICAgICAgIGJ0bSA9IHNvcnRJdGVtcyhhbHBoYSwgMSk7XHJcbiAgICAgICAgICAgIGRpciA9IFwiYXNjZW5kaW5nXCI7XHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5yZW1vdmUodGgsIFwiZGVzY1wiKTtcclxuICAgICAgICAgICAgY2xhc3NMaXN0LmFkZCh0aCwgXCJhc2NcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBDbGVhciBhc2MvZGVzYyBjbGFzcyBuYW1lcyBmcm9tIHRoZSBsYXN0IHNvcnRlZCBjb2x1bW4ncyB0aCBpZiBpdCBpc24ndCB0aGUgc2FtZSBhcyB0aGUgb25lIHRoYXQgd2FzIGp1c3QgY2xpY2tlZCAqL1xyXG4gICAgICAgIGlmIChkdC5sYXN0VGggJiYgdGggIT0gZHQubGFzdFRoKSB7XHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5yZW1vdmUoZHQubGFzdFRoLCBcImRlc2NcIik7XHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5yZW1vdmUoZHQubGFzdFRoLCBcImFzY1wiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGR0Lmxhc3RUaCA9IHRoO1xyXG5cclxuICAgICAgICAvKiBSZW9yZGVyIHRoZSB0YWJsZSAqL1xyXG4gICAgICAgIHJvd3MgPSB0b3AuY29uY2F0KGJ0bSk7XHJcblxyXG4gICAgICAgIGR0LmRhdGEgPSBbXTtcclxuICAgICAgICB2YXIgaW5kZXhlcyA9IFtdO1xyXG5cclxuICAgICAgICBlYWNoKHJvd3MsIGZ1bmN0aW9uICh2LCBpKSB7XHJcbiAgICAgICAgICAgIGR0LmRhdGEucHVzaCh2LnJvdyk7XHJcblxyXG4gICAgICAgICAgICBpZiAodi5yb3cuc2VhcmNoSW5kZXggIT09IG51bGwgJiYgdi5yb3cuc2VhcmNoSW5kZXggIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgaW5kZXhlcy5wdXNoKGkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgZHQpO1xyXG5cclxuICAgICAgICBkdC5zZWFyY2hEYXRhID0gaW5kZXhlcztcclxuXHJcbiAgICAgICAgdGhpcy5yZWJ1aWxkKCk7XHJcblxyXG4gICAgICAgIGR0LnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICBpZiAoIWluaXQpIHtcclxuICAgICAgICAgICAgZHQuZW1pdChcImRhdGF0YWJsZS5zb3J0XCIsIGNvbHVtbiwgZGlyKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVidWlsZCB0aGUgY29sdW1uc1xyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgQ29sdW1ucy5wcm90b3R5cGUucmVidWlsZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgYSwgYiwgYywgZDtcclxuICAgICAgICB2YXIgZHQgPSB0aGlzLmR0LFxyXG4gICAgICAgICAgICB0ZW1wID0gW107XHJcblxyXG4gICAgICAgIGR0LmFjdGl2ZVJvd3MgPSBbXTtcclxuICAgICAgICBkdC5hY3RpdmVIZWFkaW5ncyA9IFtdO1xyXG5cclxuICAgICAgICBlYWNoKGR0LmhlYWRpbmdzLCBmdW5jdGlvbiAodGgsIGkpIHtcclxuICAgICAgICAgICAgdGgub3JpZ2luYWxDZWxsSW5kZXggPSBpO1xyXG4gICAgICAgICAgICB0aC5zb3J0YWJsZSA9IHRoLmdldEF0dHJpYnV0ZShcImRhdGEtc29ydGFibGVcIikgIT09IFwiZmFsc2VcIjtcclxuICAgICAgICAgICAgaWYgKGR0LmhpZGRlbkNvbHVtbnMuaW5kZXhPZihpKSA8IDApIHtcclxuICAgICAgICAgICAgICAgIGR0LmFjdGl2ZUhlYWRpbmdzLnB1c2godGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgdGhpcyk7XHJcblxyXG4gICAgICAgIC8vIExvb3Agb3ZlciB0aGUgcm93cyBhbmQgcmVvcmRlciB0aGUgY2VsbHNcclxuICAgICAgICBlYWNoKGR0LmRhdGEsIGZ1bmN0aW9uIChyb3csIGkpIHtcclxuICAgICAgICAgICAgYSA9IHJvdy5jbG9uZU5vZGUoKTtcclxuICAgICAgICAgICAgYiA9IHJvdy5jbG9uZU5vZGUoKTtcclxuXHJcbiAgICAgICAgICAgIGEuZGF0YUluZGV4ID0gaTtcclxuICAgICAgICAgICAgYi5kYXRhSW5kZXggPSBpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHJvdy5zZWFyY2hJbmRleCAhPT0gbnVsbCAmJiByb3cuc2VhcmNoSW5kZXggIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgYS5zZWFyY2hJbmRleCA9IHJvdy5zZWFyY2hJbmRleDtcclxuICAgICAgICAgICAgICAgIGIuc2VhcmNoSW5kZXggPSByb3cuc2VhcmNoSW5kZXg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEFwcGVuZCB0byBjZWxsIHRvIHRoZSBmcmFnbWVudCBpbiB0aGUgY29ycmVjdCBvcmRlclxyXG4gICAgICAgICAgICBlYWNoKHJvdy5jZWxscywgZnVuY3Rpb24gKGNlbGwpIHtcclxuICAgICAgICAgICAgICAgIGMgPSBjZWxsLmNsb25lTm9kZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIGMuZGF0YSA9IGNlbGwuZGF0YTtcclxuICAgICAgICAgICAgICAgIGEuYXBwZW5kQ2hpbGQoYyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGR0LmhpZGRlbkNvbHVtbnMuaW5kZXhPZihjZWxsLmNlbGxJbmRleCkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZCA9IGNlbGwuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGQuZGF0YSA9IGNlbGwuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICBiLmFwcGVuZENoaWxkKGQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFwcGVuZCB0aGUgZnJhZ21lbnQgd2l0aCB0aGUgb3JkZXJlZCBjZWxsc1xyXG4gICAgICAgICAgICB0ZW1wLnB1c2goYSk7XHJcbiAgICAgICAgICAgIGR0LmFjdGl2ZVJvd3MucHVzaChiKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZHQuZGF0YSA9IHRlbXA7XHJcblxyXG4gICAgICAgIGR0LnVwZGF0ZSgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJvd3MgQVBJXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2UgRGF0YVRhYmxlIGluc3RhbmNlXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSByb3dzXHJcbiAgICAgKi9cclxuICAgIHZhciBSb3dzID0gZnVuY3Rpb24gKGR0LCByb3dzKSB7XHJcbiAgICAgICAgdGhpcy5kdCA9IGR0O1xyXG4gICAgICAgIHRoaXMucm93cyA9IHJvd3M7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEJ1aWxkIGEgbmV3IHJvd1xyXG4gICAgICogQHBhcmFtICB7QXJyYXl9IHJvd1xyXG4gICAgICogQHJldHVybiB7SFRNTEVsZW1lbnR9XHJcbiAgICAgKi9cclxuICAgIFJvd3MucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgIHZhciB0ZCwgdHIgPSBjcmVhdGVFbGVtZW50KFwidHJcIik7XHJcblxyXG4gICAgICAgIHZhciBoZWFkaW5ncyA9IHRoaXMuZHQuaGVhZGluZ3M7XHJcblxyXG4gICAgICAgIGlmICghaGVhZGluZ3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGhlYWRpbmdzID0gcm93Lm1hcChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBlYWNoKGhlYWRpbmdzLCBmdW5jdGlvbiAoaCwgaSkge1xyXG4gICAgICAgICAgICB0ZCA9IGNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChyb3dbaV0gJiYgcm93W2ldLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdGQuaW5uZXJIVE1MID0gcm93W2ldO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0ZC5kYXRhID0gcm93W2ldO1xyXG5cclxuICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gdHI7XHJcbiAgICB9O1xyXG5cclxuICAgIFJvd3MucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgICByZXR1cm4gcm93O1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZCBuZXcgcm93XHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBzZWxlY3RcclxuICAgICAqL1xyXG4gICAgUm93cy5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuXHJcbiAgICAgICAgaWYgKGlzQXJyYXkoZGF0YSkpIHtcclxuICAgICAgICAgICAgdmFyIGR0ID0gdGhpcy5kdDtcclxuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIG11bHRpcGxlIHJvd3NcclxuICAgICAgICAgICAgaWYgKGlzQXJyYXkoZGF0YVswXSkpIHtcclxuICAgICAgICAgICAgICAgIGVhY2goZGF0YSwgZnVuY3Rpb24gKHJvdywgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGR0LmRhdGEucHVzaCh0aGlzLmJ1aWxkKHJvdykpO1xyXG4gICAgICAgICAgICAgICAgfSwgdGhpcyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkdC5kYXRhLnB1c2godGhpcy5idWlsZChkYXRhKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XHJcblxyXG4gICAgICAgICAgICBkdC5jb2x1bW5zKCkucmVidWlsZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmUgcm93KHMpXHJcbiAgICAgKiBAcGFyYW0gIHtBcnJheXxOdW1iZXJ9IHNlbGVjdFxyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgUm93cy5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKHNlbGVjdCkge1xyXG5cclxuICAgICAgICB2YXIgZHQgPSB0aGlzLmR0O1xyXG5cclxuICAgICAgICBpZiAoaXNBcnJheShzZWxlY3QpKSB7XHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSBpbiByZXZlcnNlIG90aGVyd2lzZSB0aGUgaW5kZXhlcyB3aWxsIGJlIGluY29ycmVjdFxyXG4gICAgICAgICAgICBzZWxlY3Quc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGIgLSBhO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGVhY2goc2VsZWN0LCBmdW5jdGlvbiAocm93LCBpKSB7XHJcbiAgICAgICAgICAgICAgICBkdC5kYXRhLnNwbGljZShyb3csIDEpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkdC5kYXRhLnNwbGljZShzZWxlY3QsIDEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICBkdC5jb2x1bW5zKCkucmVidWlsZCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZSByb3cgaW5kZXhlc1xyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgUm93cy5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGVhY2godGhpcy5kdC5kYXRhLCBmdW5jdGlvbiAocm93LCBpKSB7XHJcbiAgICAgICAgICAgIHJvdy5kYXRhSW5kZXggPSBpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgLy8gICAgTUFJTiBMSUIgICAgLy9cclxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gICAgdmFyIERhdGFUYWJsZSA9IGZ1bmN0aW9uICh0YWJsZSwgb3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gdXNlciBvcHRpb25zXHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gZXh0ZW5kKGRlZmF1bHRDb25maWcsIG9wdGlvbnMpO1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHRhYmxlID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxlY3RvciA9IHRhYmxlO1xyXG4gICAgICAgICAgICB0YWJsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFibGUpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCF0YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIGVsZW1lbnQgJ1wiICsgc2VsZWN0b3IgKyBcIicgY2FuIG5vdCBiZSBmb3VuZC5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0YWJsZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT09IFwidGFibGVcIikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc2VsZWN0ZWQgZWxlbWVudCBpcyBub3QgYSB0YWJsZS5cIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmluaXRpYWxMYXlvdXQgPSB0YWJsZS5pbm5lckhUTUw7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsU29ydGFibGUgPSB0aGlzLm9wdGlvbnMuc29ydGFibGU7XHJcblxyXG4gICAgICAgIC8vIERpc2FibGUgbWFudWFsIHNvcnRpbmcgaWYgbm8gaGVhZGVyIGlzIHByZXNlbnQgKCM0KVxyXG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmhlYWRlcikge1xyXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuc29ydGFibGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0YWJsZS50SGVhZCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5kYXRhIHx8XHJcbiAgICAgICAgICAgICAgICAodGhpcy5vcHRpb25zLmRhdGEgJiYgIXRoaXMub3B0aW9ucy5kYXRhLmhlYWRpbmdzKVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5zb3J0YWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGFibGUudEJvZGllcy5sZW5ndGggJiYgIXRhYmxlLnRCb2RpZXNbMF0ucm93cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5kYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5kYXRhLmRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiWW91IHNlZW0gdG8gYmUgdXNpbmcgdGhlIGRhdGEgb3B0aW9uLCBidXQgeW91J3ZlIG5vdCBkZWZpbmVkIGFueSByb3dzLlwiXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy50YWJsZSA9IHRhYmxlO1xyXG5cclxuICAgICAgICB0aGlzLmluaXQoKTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIHByb3RvID0gRGF0YVRhYmxlLnByb3RvdHlwZTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZCBjdXN0b20gcHJvcGVydHkgb3IgbWV0aG9kIHRvIGV4dGVuZCBEYXRhVGFibGVcclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gcHJvcCAgICAtIE1ldGhvZCBuYW1lIG9yIHByb3BlcnR5XHJcbiAgICAgKiBAcGFyYW0gIHtNaXhlZH0gdmFsICAgICAgLSBGdW5jdGlvbiBvciBwcm9wZXJ0eSB2YWx1ZVxyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgRGF0YVRhYmxlLmV4dGVuZCA9IGZ1bmN0aW9uIChwcm9wLCB2YWwpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgIERhdGFUYWJsZS5wcm90b3R5cGVbcHJvcF0gPSB2YWw7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgRGF0YVRhYmxlW3Byb3BdID0gdmFsO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWFsaXplIHRoZSBpbnN0YW5jZVxyXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zXHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5pbml0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgICAgICBpZiAodGhpcy5pbml0aWFsaXplZCB8fCBjbGFzc0xpc3QuY29udGFpbnModGhpcy50YWJsZSwgXCJkYXRhVGFibGUtdGFibGVcIikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xyXG5cclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBleHRlbmQodGhpcy5vcHRpb25zLCBvcHRpb25zIHx8IHt9KTtcclxuXHJcbiAgICAgICAgLy8gSUUgZGV0ZWN0aW9uXHJcbiAgICAgICAgdGhpcy5pc0lFID0gISEvKG1zaWV8dHJpZGVudCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xyXG5cclxuICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTtcclxuICAgICAgICB0aGlzLm9uRmlyc3RQYWdlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdGhpcy5oaWRkZW5Db2x1bW5zID0gW107XHJcbiAgICAgICAgdGhpcy5jb2x1bW5SZW5kZXJlcnMgPSBbXTtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkQ29sdW1ucyA9IFtdO1xyXG5cclxuICAgICAgICB0aGlzLnJlbmRlcigpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnBsdWdpbnMpIHtcclxuICAgICAgICAgICAgZWFjaCh0aGlzLm9wdGlvbnMucGx1Z2lucywgZnVuY3Rpb24gKG9wdGlvbnMsIHBsdWdpbikge1xyXG4gICAgICAgICAgICAgICAgdGhpc1twbHVnaW5dKG9wdGlvbnMpO1xyXG4gICAgICAgICAgICB9LCB0aGlzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGF0LmVtaXQoXCJkYXRhdGFibGUuaW5pdFwiKTtcclxuICAgICAgICAgICAgdGhhdC5pbml0aWFsaXplZCA9IHRydWU7XHJcbiAgICAgICAgfSwgMTApO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciB0aGUgaW5zdGFuY2VcclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gdHlwZVxyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICBpZiAodHlwZSkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBcInBhZ2VcIjpcclxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyUGFnZSgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJwYWdlclwiOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJQYWdlcigpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJoZWFkZXJcIjpcclxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVySGVhZGVyKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzLFxyXG4gICAgICAgICAgICBvID0gdGhhdC5vcHRpb25zLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZSA9IFwiXCI7XHJcblxyXG4gICAgICAgIC8vIENvbnZlcnQgZGF0YSB0byBIVE1MXHJcbiAgICAgICAgaWYgKG8uZGF0YSkge1xyXG4gICAgICAgICAgICBkYXRhVG9UYWJsZS5jYWxsKHRoYXQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG8uYWpheCkge1xyXG4gICAgICAgICAgICB2YXIgYWpheCA9IG8uYWpheDtcclxuICAgICAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHhoclByb2dyZXNzID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIHRoYXQuZW1pdChcImRhdGF0YWJsZS5hamF4LnByb2dyZXNzXCIsIGUsIHhocik7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgeGhyTG9hZCA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0LmVtaXQoXCJkYXRhdGFibGUuYWpheC5sb2FkZWRcIiwgZSwgeGhyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5kYXRhID0gYWpheC5sb2FkID8gYWpheC5sb2FkLmNhbGwodGhhdCwgeGhyKSA6IHhoci5yZXNwb25zZVRleHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoudHlwZSA9IFwianNvblwiO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFqYXguY29udGVudCAmJiBhamF4LmNvbnRlbnQudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnR5cGUgPSBhamF4LmNvbnRlbnQudHlwZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmogPSBleHRlbmQob2JqLCBhamF4LmNvbnRlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmltcG9ydChvYmopO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5zZXRDb2x1bW5zKHRydWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5lbWl0KFwiZGF0YXRhYmxlLmFqYXguc3VjY2Vzc1wiLCBlLCB4aHIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuZW1pdChcImRhdGF0YWJsZS5hamF4LmVycm9yXCIsIGUsIHhocik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIHhockZhaWxlZCA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGF0LmVtaXQoXCJkYXRhdGFibGUuYWpheC5lcnJvclwiLCBlLCB4aHIpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIHhockNhbmNlbGxlZCA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGF0LmVtaXQoXCJkYXRhdGFibGUuYWpheC5hYm9ydFwiLCBlLCB4aHIpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgb24oeGhyLCBcInByb2dyZXNzXCIsIHhoclByb2dyZXNzKTtcclxuICAgICAgICAgICAgb24oeGhyLCBcImxvYWRcIiwgeGhyTG9hZCk7XHJcbiAgICAgICAgICAgIG9uKHhociwgXCJlcnJvclwiLCB4aHJGYWlsZWQpO1xyXG4gICAgICAgICAgICBvbih4aHIsIFwiYWJvcnRcIiwgeGhyQ2FuY2VsbGVkKTtcclxuXHJcbiAgICAgICAgICAgIHRoYXQuZW1pdChcImRhdGF0YWJsZS5hamF4LmxvYWRpbmdcIiwgeGhyKTtcclxuXHJcbiAgICAgICAgICAgIHhoci5vcGVuKFwiR0VUXCIsIHR5cGVvZiBhamF4ID09PSBcInN0cmluZ1wiID8gby5hamF4IDogby5hamF4LnVybCk7XHJcbiAgICAgICAgICAgIHhoci5zZW5kKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTdG9yZSByZWZlcmVuY2VzXHJcbiAgICAgICAgdGhhdC5ib2R5ID0gdGhhdC50YWJsZS50Qm9kaWVzWzBdO1xyXG4gICAgICAgIHRoYXQuaGVhZCA9IHRoYXQudGFibGUudEhlYWQ7XHJcbiAgICAgICAgdGhhdC5mb290ID0gdGhhdC50YWJsZS50Rm9vdDtcclxuXHJcbiAgICAgICAgaWYgKCF0aGF0LmJvZHkpIHtcclxuICAgICAgICAgICAgdGhhdC5ib2R5ID0gY3JlYXRlRWxlbWVudChcInRib2R5XCIpO1xyXG5cclxuICAgICAgICAgICAgdGhhdC50YWJsZS5hcHBlbmRDaGlsZCh0aGF0LmJvZHkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhhdC5oYXNSb3dzID0gdGhhdC5ib2R5LnJvd3MubGVuZ3RoID4gMDtcclxuXHJcbiAgICAgICAgLy8gTWFrZSBhIHRIZWFkIGlmIHRoZXJlIGlzbid0IG9uZSAoZml4ZXMgIzgpXHJcbiAgICAgICAgaWYgKCF0aGF0LmhlYWQpIHtcclxuICAgICAgICAgICAgdmFyIGggPSBjcmVhdGVFbGVtZW50KFwidGhlYWRcIik7XHJcbiAgICAgICAgICAgIHZhciB0ID0gY3JlYXRlRWxlbWVudChcInRyXCIpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoYXQuaGFzUm93cykge1xyXG4gICAgICAgICAgICAgICAgZWFjaCh0aGF0LmJvZHkucm93c1swXS5jZWxscywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHQuYXBwZW5kQ2hpbGQoY3JlYXRlRWxlbWVudChcInRoXCIpKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGguYXBwZW5kQ2hpbGQodCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoYXQuaGVhZCA9IGg7XHJcblxyXG4gICAgICAgICAgICB0aGF0LnRhYmxlLmluc2VydEJlZm9yZSh0aGF0LmhlYWQsIHRoYXQuYm9keSk7XHJcblxyXG4gICAgICAgICAgICB0aGF0LmhpZGRlbkhlYWRlciA9ICFvLmFqYXg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGF0LmhlYWRpbmdzID0gW107XHJcbiAgICAgICAgdGhhdC5oYXNIZWFkaW5ncyA9IHRoYXQuaGVhZC5yb3dzLmxlbmd0aCA+IDA7XHJcblxyXG4gICAgICAgIGlmICh0aGF0Lmhhc0hlYWRpbmdzKSB7XHJcbiAgICAgICAgICAgIHRoYXQuaGVhZGVyID0gdGhhdC5oZWFkLnJvd3NbMF07XHJcbiAgICAgICAgICAgIHRoYXQuaGVhZGluZ3MgPSBbXS5zbGljZS5jYWxsKHRoYXQuaGVhZGVyLmNlbGxzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEhlYWRlclxyXG4gICAgICAgIGlmICghby5oZWFkZXIpIHtcclxuICAgICAgICAgICAgaWYgKHRoYXQuaGVhZCkge1xyXG4gICAgICAgICAgICAgICAgdGhhdC50YWJsZS5yZW1vdmVDaGlsZCh0aGF0LnRhYmxlLnRIZWFkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRm9vdGVyXHJcbiAgICAgICAgaWYgKG8uZm9vdGVyKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGF0LmhlYWQgJiYgIXRoYXQuZm9vdCkge1xyXG4gICAgICAgICAgICAgICAgdGhhdC5mb290ID0gY3JlYXRlRWxlbWVudChcInRmb290XCIsIHtcclxuICAgICAgICAgICAgICAgICAgICBodG1sOiB0aGF0LmhlYWQuaW5uZXJIVE1MXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoYXQudGFibGUuYXBwZW5kQ2hpbGQodGhhdC5mb290KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGF0LmZvb3QpIHtcclxuICAgICAgICAgICAgICAgIHRoYXQudGFibGUucmVtb3ZlQ2hpbGQodGhhdC50YWJsZS50Rm9vdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEJ1aWxkXHJcbiAgICAgICAgdGhhdC53cmFwcGVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XHJcbiAgICAgICAgICAgIGNsYXNzOiBcImRhdGFUYWJsZS13cmFwcGVyIGRhdGFUYWJsZS1sb2FkaW5nXCJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gVGVtcGxhdGUgZm9yIGN1c3RvbSBsYXlvdXRzXHJcbiAgICAgICAgdGVtcGxhdGUgKz0gXCI8ZGl2IGNsYXNzPSdkYXRhVGFibGUtdG9wJz5cIjtcclxuICAgICAgICB0ZW1wbGF0ZSArPSBvLmxheW91dC50b3A7XHJcbiAgICAgICAgdGVtcGxhdGUgKz0gXCI8L2Rpdj5cIjtcclxuICAgICAgICB0ZW1wbGF0ZSArPSBcIjxkaXYgY2xhc3M9J2RhdGFUYWJsZS1jb250YWluZXInPjwvZGl2PlwiO1xyXG4gICAgICAgIHRlbXBsYXRlICs9IFwiPGRpdiBjbGFzcz0nZGF0YVRhYmxlLWJvdHRvbSc+XCI7XHJcbiAgICAgICAgdGVtcGxhdGUgKz0gby5sYXlvdXQuYm90dG9tO1xyXG4gICAgICAgIHRlbXBsYXRlICs9IFwiPC9kaXY+XCI7XHJcblxyXG4gICAgICAgIC8vIEluZm8gcGxhY2VtZW50XHJcbiAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKFwie2luZm99XCIsIFwiPGRpdiBjbGFzcz0nZGF0YVRhYmxlLWluZm8nPjwvZGl2PlwiKTtcclxuXHJcbiAgICAgICAgLy8gUGVyIFBhZ2UgU2VsZWN0XHJcbiAgICAgICAgaWYgKG8ucGVyUGFnZVNlbGVjdCkge1xyXG4gICAgICAgICAgICB2YXIgd3JhcCA9IFwiPGRpdiBjbGFzcz0nZGF0YVRhYmxlLWRyb3Bkb3duJz48bGFiZWw+XCI7XHJcbiAgICAgICAgICAgIHdyYXAgKz0gby5sYWJlbHMucGVyUGFnZTtcclxuICAgICAgICAgICAgd3JhcCArPSBcIjwvbGFiZWw+PC9kaXY+XCI7XHJcblxyXG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIHNlbGVjdFxyXG4gICAgICAgICAgICB2YXIgc2VsZWN0ID0gY3JlYXRlRWxlbWVudChcInNlbGVjdFwiLCB7XHJcbiAgICAgICAgICAgICAgICBjbGFzczogXCJkYXRhVGFibGUtc2VsZWN0b3JcIlxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgb3B0aW9uc1xyXG4gICAgICAgICAgICBlYWNoKG8ucGVyUGFnZVNlbGVjdCwgZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkID0gdmFsID09PSBvLnBlclBhZ2U7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9uID0gbmV3IE9wdGlvbih2YWwsIHZhbCwgc2VsZWN0ZWQsIHNlbGVjdGVkKTtcclxuICAgICAgICAgICAgICAgIHNlbGVjdC5hZGQob3B0aW9uKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBDdXN0b20gbGFiZWxcclxuICAgICAgICAgICAgd3JhcCA9IHdyYXAucmVwbGFjZShcIntzZWxlY3R9XCIsIHNlbGVjdC5vdXRlckhUTUwpO1xyXG5cclxuICAgICAgICAgICAgLy8gU2VsZWN0b3IgcGxhY2VtZW50XHJcbiAgICAgICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZShcIntzZWxlY3R9XCIsIHdyYXApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZShcIntzZWxlY3R9XCIsIFwiXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2VhcmNoYWJsZVxyXG4gICAgICAgIGlmIChvLnNlYXJjaGFibGUpIHtcclxuICAgICAgICAgICAgdmFyIGZvcm0gPVxyXG4gICAgICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPSdkYXRhVGFibGUtc2VhcmNoJz48aW5wdXQgY2xhc3M9J2RhdGFUYWJsZS1pbnB1dCcgcGxhY2Vob2xkZXI9J1wiICtcclxuICAgICAgICAgICAgICAgIG8ubGFiZWxzLnBsYWNlaG9sZGVyICtcclxuICAgICAgICAgICAgICAgIFwiJyB0eXBlPSd0ZXh0Jz48L2Rpdj5cIjtcclxuXHJcbiAgICAgICAgICAgIC8vIFNlYXJjaCBpbnB1dCBwbGFjZW1lbnRcclxuICAgICAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKFwie3NlYXJjaH1cIiwgZm9ybSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKFwie3NlYXJjaH1cIiwgXCJcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhhdC5oYXNIZWFkaW5ncykge1xyXG4gICAgICAgICAgICAvLyBTb3J0YWJsZVxyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcihcImhlYWRlclwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFkZCB0YWJsZSBjbGFzc1xyXG4gICAgICAgIGNsYXNzTGlzdC5hZGQodGhhdC50YWJsZSwgXCJkYXRhVGFibGUtdGFibGVcIik7XHJcblxyXG4gICAgICAgIC8vIFBhZ2luYXRvclxyXG4gICAgICAgIHZhciB3ID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XHJcbiAgICAgICAgICAgIGNsYXNzOiBcImRhdGFUYWJsZS1wYWdpbmF0aW9uXCJcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgcGFnaW5hdG9yID0gY3JlYXRlRWxlbWVudChcInVsXCIpO1xyXG4gICAgICAgIHcuYXBwZW5kQ2hpbGQocGFnaW5hdG9yKTtcclxuXHJcbiAgICAgICAgLy8gUGFnZXIocykgcGxhY2VtZW50XHJcbiAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC9cXHtwYWdlclxcfS9nLCB3Lm91dGVySFRNTCk7XHJcblxyXG4gICAgICAgIHRoYXQud3JhcHBlci5pbm5lckhUTUwgPSB0ZW1wbGF0ZTtcclxuXHJcbiAgICAgICAgdGhhdC5jb250YWluZXIgPSB0aGF0LndyYXBwZXIucXVlcnlTZWxlY3RvcihcIi5kYXRhVGFibGUtY29udGFpbmVyXCIpO1xyXG5cclxuICAgICAgICB0aGF0LnBhZ2VycyA9IHRoYXQud3JhcHBlci5xdWVyeVNlbGVjdG9yQWxsKFwiLmRhdGFUYWJsZS1wYWdpbmF0aW9uXCIpO1xyXG5cclxuICAgICAgICB0aGF0LmxhYmVsID0gdGhhdC53cmFwcGVyLnF1ZXJ5U2VsZWN0b3IoXCIuZGF0YVRhYmxlLWluZm9cIik7XHJcblxyXG4gICAgICAgIC8vIEluc2VydCBpbiB0byBET00gdHJlZVxyXG4gICAgICAgIHRoYXQudGFibGUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQodGhhdC53cmFwcGVyLCB0aGF0LnRhYmxlKTtcclxuICAgICAgICB0aGF0LmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGF0LnRhYmxlKTtcclxuXHJcbiAgICAgICAgLy8gU3RvcmUgdGhlIHRhYmxlIGRpbWVuc2lvbnNcclxuICAgICAgICB0aGF0LnJlY3QgPSB0aGF0LnRhYmxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICAgICAgICAvLyBDb252ZXJ0IHJvd3MgdG8gYXJyYXkgZm9yIHByb2Nlc3NpbmdcclxuICAgICAgICB0aGF0LmRhdGEgPSBbXS5zbGljZS5jYWxsKHRoYXQuYm9keS5yb3dzKTtcclxuICAgICAgICB0aGF0LmFjdGl2ZVJvd3MgPSB0aGF0LmRhdGEuc2xpY2UoKTtcclxuICAgICAgICB0aGF0LmFjdGl2ZUhlYWRpbmdzID0gdGhhdC5oZWFkaW5ncy5zbGljZSgpO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGVcclxuICAgICAgICB0aGF0LnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICBpZiAoIW8uYWpheCkge1xyXG4gICAgICAgICAgICB0aGF0LnNldENvbHVtbnMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEZpeGVkIGhlaWdodFxyXG4gICAgICAgIGlmIChvLmZpeGVkSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZml4SGVpZ2h0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGF0LmZpeENvbHVtbnMoKTtcclxuXHJcbiAgICAgICAgLy8gQ2xhc3MgbmFtZXNcclxuICAgICAgICBpZiAoIW8uaGVhZGVyKSB7XHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5hZGQodGhhdC53cmFwcGVyLCBcIm5vLWhlYWRlclwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghby5mb290ZXIpIHtcclxuICAgICAgICAgICAgY2xhc3NMaXN0LmFkZCh0aGF0LndyYXBwZXIsIFwibm8tZm9vdGVyXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG8uc29ydGFibGUpIHtcclxuICAgICAgICAgICAgY2xhc3NMaXN0LmFkZCh0aGF0LndyYXBwZXIsIFwic29ydGFibGVcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoby5zZWFyY2hhYmxlKSB7XHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5hZGQodGhhdC53cmFwcGVyLCBcInNlYXJjaGFibGVcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoby5maXhlZEhlaWdodCkge1xyXG4gICAgICAgICAgICBjbGFzc0xpc3QuYWRkKHRoYXQud3JhcHBlciwgXCJmaXhlZC1oZWlnaHRcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoby5maXhlZENvbHVtbnMpIHtcclxuICAgICAgICAgICAgY2xhc3NMaXN0LmFkZCh0aGF0LndyYXBwZXIsIFwiZml4ZWQtY29sdW1uc1wiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoYXQuYmluZEV2ZW50cygpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciB0aGUgcGFnZVxyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8ucmVuZGVyUGFnZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5oYXNSb3dzICYmIHRoaXMudG90YWxQYWdlcykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UGFnZSA+IHRoaXMudG90YWxQYWdlcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFVzZSBhIGZyYWdtZW50IHRvIGxpbWl0IHRvdWNoaW5nIHRoZSBET01cclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5jdXJyZW50UGFnZSAtIDEsXHJcbiAgICAgICAgICAgICAgICBmcmFnID0gZG9jLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmhhc0hlYWRpbmdzKSB7XHJcbiAgICAgICAgICAgICAgICBmbHVzaCh0aGlzLmhlYWRlciwgdGhpcy5pc0lFKTtcclxuXHJcbiAgICAgICAgICAgICAgICBlYWNoKHRoaXMuYWN0aXZlSGVhZGluZ3MsIGZ1bmN0aW9uICh0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGVhZGVyLmFwcGVuZENoaWxkKHRoKTtcclxuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBlYWNoKHRoaXMucGFnZXNbaW5kZXhdLCBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgICAgICBmcmFnLmFwcGVuZENoaWxkKHRoaXMucm93cygpLnJlbmRlcihyb3cpKTtcclxuICAgICAgICAgICAgfSwgdGhpcyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNsZWFyKGZyYWcpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vbkZpcnN0UGFnZSA9IHRoaXMuY3VycmVudFBhZ2UgPT09IDE7XHJcbiAgICAgICAgICAgIHRoaXMub25MYXN0UGFnZSA9IHRoaXMuY3VycmVudFBhZ2UgPT09IHRoaXMubGFzdFBhZ2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jbGVhcigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBpbmZvXHJcbiAgICAgICAgdmFyIGN1cnJlbnQgPSAwLFxyXG4gICAgICAgICAgICBmID0gMCxcclxuICAgICAgICAgICAgdCA9IDAsXHJcbiAgICAgICAgICAgIGl0ZW1zO1xyXG5cclxuICAgICAgICBpZiAodGhpcy50b3RhbFBhZ2VzKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnQgPSB0aGlzLmN1cnJlbnRQYWdlIC0gMTtcclxuICAgICAgICAgICAgZiA9IGN1cnJlbnQgKiB0aGlzLm9wdGlvbnMucGVyUGFnZTtcclxuICAgICAgICAgICAgdCA9IGYgKyB0aGlzLnBhZ2VzW2N1cnJlbnRdLmxlbmd0aDtcclxuICAgICAgICAgICAgZiA9IGYgKyAxO1xyXG4gICAgICAgICAgICBpdGVtcyA9ICEhdGhpcy5zZWFyY2hpbmcgPyB0aGlzLnNlYXJjaERhdGEubGVuZ3RoIDogdGhpcy5kYXRhLmxlbmd0aDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmxhYmVsICYmIHRoaXMub3B0aW9ucy5sYWJlbHMuaW5mby5sZW5ndGgpIHtcclxuICAgICAgICAgICAgLy8gQ1VTVE9NIExBQkVMU1xyXG4gICAgICAgICAgICB2YXIgc3RyaW5nID0gdGhpcy5vcHRpb25zLmxhYmVscy5pbmZvXHJcbiAgICAgICAgICAgICAgICAucmVwbGFjZShcIntzdGFydH1cIiwgZilcclxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKFwie2VuZH1cIiwgdClcclxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKFwie3BhZ2V9XCIsIHRoaXMuY3VycmVudFBhZ2UpXHJcbiAgICAgICAgICAgICAgICAucmVwbGFjZShcIntwYWdlc31cIiwgdGhpcy50b3RhbFBhZ2VzKVxyXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoXCJ7cm93c31cIiwgaXRlbXMpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5sYWJlbC5pbm5lckhUTUwgPSBpdGVtcyA/IHN0cmluZyA6IFwiXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmZpeGVkSGVpZ2h0ICYmIHRoaXMuY3VycmVudFBhZ2UgPT0gMSkge1xyXG4gICAgICAgICAgICB0aGlzLmZpeEhlaWdodCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgdGhlIHBhZ2VyKHMpXHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5yZW5kZXJQYWdlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmbHVzaCh0aGlzLnBhZ2VycywgdGhpcy5pc0lFKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMudG90YWxQYWdlcyA+IDEpIHtcclxuICAgICAgICAgICAgdmFyIGMgPSBcInBhZ2VyXCIsXHJcbiAgICAgICAgICAgICAgICBmcmFnID0gZG9jLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcclxuICAgICAgICAgICAgICAgIHByZXYgPSB0aGlzLm9uRmlyc3RQYWdlID8gMSA6IHRoaXMuY3VycmVudFBhZ2UgLSAxLFxyXG4gICAgICAgICAgICAgICAgbmV4dCA9IHRoaXMub25sYXN0UGFnZSA/IHRoaXMudG90YWxQYWdlcyA6IHRoaXMuY3VycmVudFBhZ2UgKyAxO1xyXG5cclxuICAgICAgICAgICAgLy8gZmlyc3QgYnV0dG9uXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZmlyc3RMYXN0KSB7XHJcbiAgICAgICAgICAgICAgICBmcmFnLmFwcGVuZENoaWxkKGJ1dHRvbihjLCAxLCB0aGlzLm9wdGlvbnMuZmlyc3RUZXh0KSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHByZXYgYnV0dG9uXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMubmV4dFByZXYpIHtcclxuICAgICAgICAgICAgICAgIGZyYWcuYXBwZW5kQ2hpbGQoYnV0dG9uKGMsIHByZXYsIHRoaXMub3B0aW9ucy5wcmV2VGV4dCkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgcGFnZXIgPSB0aGlzLmxpbmtzO1xyXG5cclxuICAgICAgICAgICAgLy8gdHJ1bmNhdGUgdGhlIGxpbmtzXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMudHJ1bmNhdGVQYWdlcikge1xyXG4gICAgICAgICAgICAgICAgcGFnZXIgPSB0cnVuY2F0ZShcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpbmtzLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWdlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnBhZ2VyRGVsdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmVsbGlwc2lzVGV4dFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gYWN0aXZlIHBhZ2UgbGlua1xyXG4gICAgICAgICAgICBjbGFzc0xpc3QuYWRkKHRoaXMubGlua3NbdGhpcy5jdXJyZW50UGFnZSAtIDFdLCBcImFjdGl2ZVwiKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGFwcGVuZCB0aGUgbGlua3NcclxuICAgICAgICAgICAgZWFjaChwYWdlciwgZnVuY3Rpb24gKHApIHtcclxuICAgICAgICAgICAgICAgIGNsYXNzTGlzdC5yZW1vdmUocCwgXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgICAgICBmcmFnLmFwcGVuZENoaWxkKHApO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5hZGQodGhpcy5saW5rc1t0aGlzLmN1cnJlbnRQYWdlIC0gMV0sIFwiYWN0aXZlXCIpO1xyXG5cclxuICAgICAgICAgICAgLy8gbmV4dCBidXR0b25cclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5uZXh0UHJldikge1xyXG4gICAgICAgICAgICAgICAgZnJhZy5hcHBlbmRDaGlsZChidXR0b24oYywgbmV4dCwgdGhpcy5vcHRpb25zLm5leHRUZXh0KSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGZpcnN0IGJ1dHRvblxyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmZpcnN0TGFzdCkge1xyXG4gICAgICAgICAgICAgICAgZnJhZy5hcHBlbmRDaGlsZChidXR0b24oYywgdGhpcy50b3RhbFBhZ2VzLCB0aGlzLm9wdGlvbnMubGFzdFRleHQpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gV2UgbWF5IGhhdmUgbW9yZSB0aGFuIG9uZSBwYWdlclxyXG4gICAgICAgICAgICBlYWNoKHRoaXMucGFnZXJzLCBmdW5jdGlvbiAocGFnZXIpIHtcclxuICAgICAgICAgICAgICAgIHBhZ2VyLmFwcGVuZENoaWxkKGZyYWcuY2xvbmVOb2RlKHRydWUpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciB0aGUgaGVhZGVyXHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5yZW5kZXJIZWFkZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xyXG5cclxuICAgICAgICB0aGF0LmxhYmVscyA9IFtdO1xyXG5cclxuICAgICAgICBpZiAodGhhdC5oZWFkaW5ncyAmJiB0aGF0LmhlYWRpbmdzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBlYWNoKHRoYXQuaGVhZGluZ3MsIGZ1bmN0aW9uICh0aCwgaSkge1xyXG5cclxuICAgICAgICAgICAgICAgIHRoYXQubGFiZWxzW2ldID0gdGgudGV4dENvbnRlbnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNsYXNzTGlzdC5jb250YWlucyh0aC5maXJzdEVsZW1lbnRDaGlsZCwgXCJkYXRhVGFibGUtc29ydGVyXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGguaW5uZXJIVE1MID0gdGguZmlyc3RFbGVtZW50Q2hpbGQuaW5uZXJIVE1MO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoLnNvcnRhYmxlID0gdGguZ2V0QXR0cmlidXRlKFwiZGF0YS1zb3J0YWJsZVwiKSAhPT0gXCJmYWxzZVwiO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoLm9yaWdpbmFsQ2VsbEluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGF0Lm9wdGlvbnMuc29ydGFibGUgJiYgdGguc29ydGFibGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbGluayA9IGNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHJlZjogXCIjXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiBcImRhdGFUYWJsZS1zb3J0ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogdGguaW5uZXJIVE1MXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGguc2V0QXR0cmlidXRlKFwiZGF0YS1zb3J0YWJsZVwiLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB0aC5hcHBlbmRDaGlsZChsaW5rKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGF0LmZpeENvbHVtbnMoKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBCaW5kIGV2ZW50IGxpc3RlbmVyc1xyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgIHByb3RvLmJpbmRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzLFxyXG4gICAgICAgICAgICBvID0gdGhhdC5vcHRpb25zO1xyXG5cclxuICAgICAgICAvLyBQZXIgcGFnZSBzZWxlY3RvclxyXG4gICAgICAgIGlmIChvLnBlclBhZ2VTZWxlY3QpIHtcclxuICAgICAgICAgICAgdmFyIHNlbGVjdG9yID0gdGhhdC53cmFwcGVyLnF1ZXJ5U2VsZWN0b3IoXCIuZGF0YVRhYmxlLXNlbGVjdG9yXCIpO1xyXG4gICAgICAgICAgICBpZiAoc2VsZWN0b3IpIHtcclxuICAgICAgICAgICAgICAgIC8vIENoYW5nZSBwZXIgcGFnZVxyXG4gICAgICAgICAgICAgICAgb24oc2VsZWN0b3IsIFwiY2hhbmdlXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgby5wZXJQYWdlID0gcGFyc2VJbnQodGhpcy52YWx1ZSwgMTApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQudXBkYXRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvLmZpeGVkSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZml4SGVpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGF0LmVtaXQoXCJkYXRhdGFibGUucGVycGFnZVwiKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTZWFyY2ggaW5wdXRcclxuICAgICAgICBpZiAoby5zZWFyY2hhYmxlKSB7XHJcbiAgICAgICAgICAgIHRoYXQuaW5wdXQgPSB0aGF0LndyYXBwZXIucXVlcnlTZWxlY3RvcihcIi5kYXRhVGFibGUtaW5wdXRcIik7XHJcbiAgICAgICAgICAgIGlmICh0aGF0LmlucHV0KSB7XHJcbiAgICAgICAgICAgICAgICBvbih0aGF0LmlucHV0LCBcImtleXVwXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5zZWFyY2godGhpcy52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUGFnZXIocykgLyBzb3J0aW5nXHJcbiAgICAgICAgb24odGhhdC53cmFwcGVyLCBcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHZhciB0ID0gZS50YXJnZXQ7XHJcbiAgICAgICAgICAgIGlmICh0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiYVwiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodC5oYXNBdHRyaWJ1dGUoXCJkYXRhLXBhZ2VcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0LnBhZ2UodC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBhZ2VcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgby5zb3J0YWJsZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTGlzdC5jb250YWlucyh0LCBcImRhdGFUYWJsZS1zb3J0ZXJcIikgJiZcclxuICAgICAgICAgICAgICAgICAgICB0LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1zb3J0YWJsZVwiKSAhPSBcImZhbHNlXCJcclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuY29sdW1ucygpLnNvcnQodGhhdC5hY3RpdmVIZWFkaW5ncy5pbmRleE9mKHQucGFyZW50Tm9kZSkgKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdXAgY29sdW1uc1xyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgIHByb3RvLnNldENvbHVtbnMgPSBmdW5jdGlvbiAoYWpheCkge1xyXG5cclxuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XHJcblxyXG4gICAgICAgIGlmICghYWpheCkge1xyXG4gICAgICAgICAgICBlYWNoKHRoYXQuZGF0YSwgZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICAgICAgZWFjaChyb3cuY2VsbHMsIGZ1bmN0aW9uIChjZWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2VsbC5kYXRhID0gY2VsbC5pbm5lckhUTUw7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVjayBmb3IgdGhlIGNvbHVtbnMgb3B0aW9uXHJcbiAgICAgICAgaWYgKHRoYXQub3B0aW9ucy5jb2x1bW5zICYmIHRoYXQuaGVhZGluZ3MubGVuZ3RoKSB7XHJcblxyXG4gICAgICAgICAgICBlYWNoKHRoYXQub3B0aW9ucy5jb2x1bW5zLCBmdW5jdGlvbiAoZGF0YSkge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGNvbnZlcnQgc2luZ2xlIGNvbHVtbiBzZWxlY3Rpb24gdG8gYXJyYXlcclxuICAgICAgICAgICAgICAgIGlmICghaXNBcnJheShkYXRhLnNlbGVjdCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLnNlbGVjdCA9IFtkYXRhLnNlbGVjdF07XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoXCJyZW5kZXJcIikgJiYgdHlwZW9mIGRhdGEucmVuZGVyID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0LnNlbGVjdGVkQ29sdW1ucyA9IHRoYXQuc2VsZWN0ZWRDb2x1bW5zLmNvbmNhdChkYXRhLnNlbGVjdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuY29sdW1uUmVuZGVyZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5zOiBkYXRhLnNlbGVjdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXI6IGRhdGEucmVuZGVyXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBkYXRhIGF0dHJpYnV0ZXMgdG8gdGhlIHRoIGVsZW1lbnRzXHJcbiAgICAgICAgICAgICAgICBlYWNoKGRhdGEuc2VsZWN0LCBmdW5jdGlvbiAoY29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRoID0gdGhhdC5oZWFkaW5nc1tjb2x1bW5dO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGguc2V0QXR0cmlidXRlKFwiZGF0YS10eXBlXCIsIGRhdGEudHlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmZvcm1hdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWZvcm1hdFwiLCBkYXRhLmZvcm1hdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KFwic29ydGFibGVcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGguc2V0QXR0cmlidXRlKFwiZGF0YS1zb3J0YWJsZVwiLCBkYXRhLnNvcnRhYmxlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KFwiaGlkZGVuXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmhpZGRlbiAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuY29sdW1ucyhjb2x1bW4pLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoXCJzb3J0XCIpICYmIGRhdGEuc2VsZWN0Lmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmNvbHVtbnMoKS5zb3J0KGRhdGEuc2VsZWN0WzBdICsgMSwgZGF0YS5zb3J0LCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhhdC5oYXNSb3dzKSB7XHJcbiAgICAgICAgICAgIGVhY2godGhhdC5kYXRhLCBmdW5jdGlvbiAocm93LCBpKSB7XHJcbiAgICAgICAgICAgICAgICByb3cuZGF0YUluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgIGVhY2gocm93LmNlbGxzLCBmdW5jdGlvbiAoY2VsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNlbGwuZGF0YSA9IGNlbGwuaW5uZXJIVE1MO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoYXQuc2VsZWN0ZWRDb2x1bW5zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgZWFjaCh0aGF0LmRhdGEsIGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICBlYWNoKHJvdy5jZWxscywgZnVuY3Rpb24gKGNlbGwsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoYXQuc2VsZWN0ZWRDb2x1bW5zLmluZGV4T2YoaSkgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWFjaCh0aGF0LmNvbHVtblJlbmRlcmVycywgZnVuY3Rpb24gKG8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoby5jb2x1bW5zLmluZGV4T2YoaSkgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWxsLmlubmVySFRNTCA9IG8ucmVuZGVyZXIuY2FsbCh0aGF0LCBjZWxsLmRhdGEsIGNlbGwsIHJvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGF0LmNvbHVtbnMoKS5yZWJ1aWxkKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGF0LnJlbmRlcihcImhlYWRlclwiKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZXN0cm95IHRoZSBpbnN0YW5jZVxyXG4gICAgICogQHJldHVybiB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8uZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnRhYmxlLmlubmVySFRNTCA9IHRoaXMuaW5pdGlhbExheW91dDtcclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlIHRoZSBjbGFzc05hbWVcclxuICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKHRoaXMudGFibGUsIFwiZGF0YVRhYmxlLXRhYmxlXCIpO1xyXG5cclxuICAgICAgICAvLyBSZW1vdmUgdGhlIGNvbnRhaW5lcnNcclxuICAgICAgICB0aGlzLndyYXBwZXIucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQodGhpcy50YWJsZSwgdGhpcy53cmFwcGVyKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZSB0aGUgaW5zdGFuY2VcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnBhZ2luYXRlKHRoaXMpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyKFwicGFnZVwiKTtcclxuXHJcbiAgICAgICAgdGhpcy5saW5rcyA9IFtdO1xyXG5cclxuICAgICAgICB2YXIgaSA9IHRoaXMucGFnZXMubGVuZ3RoO1xyXG4gICAgICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICAgICAgdmFyIG51bSA9IGkgKyAxO1xyXG4gICAgICAgICAgICB0aGlzLmxpbmtzW2ldID0gYnV0dG9uKGkgPT09IDAgPyBcImFjdGl2ZVwiIDogXCJcIiwgbnVtLCBudW0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zb3J0aW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMucmVuZGVyKFwicGFnZXJcIik7XHJcblxyXG4gICAgICAgIHRoaXMucm93cygpLnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICB0aGlzLmVtaXQoXCJkYXRhdGFibGUudXBkYXRlXCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNvcnQgcm93cyBpbnRvIHBhZ2VzXHJcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLnBhZ2luYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBwZXJQYWdlID0gdGhpcy5vcHRpb25zLnBlclBhZ2UsXHJcbiAgICAgICAgICAgIHJvd3MgPSB0aGlzLmFjdGl2ZVJvd3M7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNlYXJjaGluZykge1xyXG4gICAgICAgICAgICByb3dzID0gW107XHJcblxyXG4gICAgICAgICAgICBlYWNoKHRoaXMuc2VhcmNoRGF0YSwgZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICByb3dzLnB1c2godGhpcy5hY3RpdmVSb3dzW2luZGV4XSk7XHJcbiAgICAgICAgICAgIH0sIHRoaXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGhpZGRlbiBjb2x1bW5zXHJcbiAgICAgICAgdGhpcy5wYWdlcyA9IHJvd3NcclxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAodHIsIGkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpICUgcGVyUGFnZSA9PT0gMCA/IHJvd3Muc2xpY2UoaSwgaSArIHBlclBhZ2UpIDogbnVsbDtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAocGFnZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhZ2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnRvdGFsUGFnZXMgPSB0aGlzLmxhc3RQYWdlID0gdGhpcy5wYWdlcy5sZW5ndGg7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnRvdGFsUGFnZXM7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRml4IGNvbHVtbiB3aWR0aHNcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLmZpeENvbHVtbnMgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZml4ZWRDb2x1bW5zICYmIHRoaXMuYWN0aXZlSGVhZGluZ3MgJiYgdGhpcy5hY3RpdmVIZWFkaW5ncy5sZW5ndGgpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBjZWxscyxcclxuICAgICAgICAgICAgICAgIGhkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbHVtbldpZHRocyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBoZWFkaW5ncyB3ZSBuZWVkIG9ubHkgc2V0IHRoZSB3aWR0aHMgb24gdGhlbVxyXG4gICAgICAgICAgICAvLyBvdGhlcndpc2Ugd2UgbmVlZCBhIHRlbXAgaGVhZGVyIGFuZCB0aGUgd2lkdGhzIG5lZWQgYXBwbHlpbmcgdG8gYWxsIGNlbGxzXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRhYmxlLnRIZWFkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBSZXNldCB3aWR0aHNcclxuICAgICAgICAgICAgICAgIGVhY2godGhpcy5hY3RpdmVIZWFkaW5ncywgZnVuY3Rpb24gKGNlbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjZWxsLnN0eWxlLndpZHRoID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgICAgIGVhY2godGhpcy5hY3RpdmVIZWFkaW5ncywgZnVuY3Rpb24gKGNlbGwsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgb3cgPSBjZWxsLm9mZnNldFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB3ID0gb3cgLyB0aGlzLnJlY3Qud2lkdGggKiAxMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgY2VsbC5zdHlsZS53aWR0aCA9IHcgKyBcIiVcIjtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbHVtbldpZHRoc1tpXSA9IG93O1xyXG4gICAgICAgICAgICAgICAgfSwgdGhpcyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjZWxscyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIE1ha2UgdGVtcGVyYXJ5IGhlYWRpbmdzXHJcbiAgICAgICAgICAgICAgICBoZCA9IGNyZWF0ZUVsZW1lbnQoXCJ0aGVhZFwiKTtcclxuICAgICAgICAgICAgICAgIHZhciByID0gY3JlYXRlRWxlbWVudChcInRyXCIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGMgPSB0aGlzLnRhYmxlLnRCb2RpZXNbMF0ucm93c1swXS5jZWxscztcclxuICAgICAgICAgICAgICAgIGVhY2goYywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aCA9IGNyZWF0ZUVsZW1lbnQoXCJ0aFwiKTtcclxuICAgICAgICAgICAgICAgICAgICByLmFwcGVuZENoaWxkKHRoKTtcclxuICAgICAgICAgICAgICAgICAgICBjZWxscy5wdXNoKHRoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGhkLmFwcGVuZENoaWxkKHIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50YWJsZS5pbnNlcnRCZWZvcmUoaGQsIHRoaXMuYm9keSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHdpZHRocyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZWFjaChjZWxscywgZnVuY3Rpb24gKGNlbGwsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgb3cgPSBjZWxsLm9mZnNldFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB3ID0gb3cgLyB0aGlzLnJlY3Qud2lkdGggKiAxMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGhzLnB1c2godyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2x1bW5XaWR0aHNbaV0gPSBvdztcclxuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgICAgIGVhY2godGhpcy5kYXRhLCBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWFjaChyb3cuY2VsbHMsIGZ1bmN0aW9uIChjZWxsLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbHVtbnMoY2VsbC5jZWxsSW5kZXgpLnZpc2libGUoKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwuc3R5bGUud2lkdGggPSB3aWR0aHNbaV0gKyBcIiVcIjtcclxuICAgICAgICAgICAgICAgICAgICB9LCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIERpc2NhcmQgdGhlIHRlbXAgaGVhZGVyXHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlLnJlbW92ZUNoaWxkKGhkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBGaXggdGhlIGNvbnRhaW5lciBoZWlnaHQ7XHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5maXhIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gbnVsbDtcclxuICAgICAgICB0aGlzLnJlY3QgPSB0aGlzLmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSB0aGlzLnJlY3QuaGVpZ2h0ICsgXCJweFwiO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFBlcmZvcm0gYSBzZWFyY2ggb2YgdGhlIGRhdGEgc2V0XHJcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IHF1ZXJ5XHJcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5zZWFyY2ggPSBmdW5jdGlvbiAocXVlcnkpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaGFzUm93cykgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XHJcblxyXG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7XHJcbiAgICAgICAgdGhpcy5zZWFyY2hpbmcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc2VhcmNoRGF0YSA9IFtdO1xyXG5cclxuICAgICAgICBpZiAoIXF1ZXJ5Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLnNlYXJjaGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJkYXRhdGFibGUuc2VhcmNoXCIsIHF1ZXJ5LCB0aGlzLnNlYXJjaERhdGEpO1xyXG4gICAgICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKHRoaXMud3JhcHBlciwgXCJzZWFyY2gtcmVzdWx0c1wiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jbGVhcigpO1xyXG5cclxuICAgICAgICBlYWNoKHRoaXMuZGF0YSwgZnVuY3Rpb24gKHJvdywgaWR4KSB7XHJcbiAgICAgICAgICAgIHZhciBpbkFycmF5ID0gdGhpcy5zZWFyY2hEYXRhLmluZGV4T2Yocm93KSA+IC0xO1xyXG5cclxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL01vYml1czEvVmFuaWxsYS1EYXRhVGFibGVzL2lzc3Vlcy8xMlxyXG4gICAgICAgICAgICB2YXIgZG9lc1F1ZXJ5TWF0Y2ggPSBxdWVyeS5zcGxpdChcIiBcIikucmVkdWNlKGZ1bmN0aW9uIChib29sLCB3b3JkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5jbHVkZXMgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHJvdy5jZWxscy5sZW5ndGg7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm93LmNlbGxzW3hdLnRleHRDb250ZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZih3b3JkKSA+IC0xICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuY29sdW1ucyhyb3cuY2VsbHNbeF0uY2VsbEluZGV4KS52aXNpYmxlKClcclxuICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZXMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJvb2wgJiYgaW5jbHVkZXM7XHJcbiAgICAgICAgICAgIH0sIHRydWUpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGRvZXNRdWVyeU1hdGNoICYmICFpbkFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICByb3cuc2VhcmNoSW5kZXggPSBpZHg7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlYXJjaERhdGEucHVzaChpZHgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcm93LnNlYXJjaEluZGV4ID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICBjbGFzc0xpc3QuYWRkKHRoaXMud3JhcHBlciwgXCJzZWFyY2gtcmVzdWx0c1wiKTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGF0LnNlYXJjaERhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5yZW1vdmUodGhhdC53cmFwcGVyLCBcInNlYXJjaC1yZXN1bHRzXCIpO1xyXG5cclxuICAgICAgICAgICAgdGhhdC5zZXRNZXNzYWdlKHRoYXQub3B0aW9ucy5sYWJlbHMubm9Sb3dzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGF0LnVwZGF0ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5lbWl0KFwiZGF0YXRhYmxlLnNlYXJjaFwiLCBxdWVyeSwgdGhpcy5zZWFyY2hEYXRhKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGFuZ2UgcGFnZVxyXG4gICAgICogQHBhcmFtICB7aW50fSBwYWdlXHJcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5wYWdlID0gZnVuY3Rpb24gKHBhZ2UpIHtcclxuICAgICAgICAvLyBXZSBkb24ndCB3YW50IHRvIGxvYWQgdGhlIGN1cnJlbnQgcGFnZSBhZ2Fpbi5cclxuICAgICAgICBpZiAocGFnZSA9PSB0aGlzLmN1cnJlbnRQYWdlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghaXNOYU4ocGFnZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IHBhcnNlSW50KHBhZ2UsIDEwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChwYWdlID4gdGhpcy5wYWdlcy5sZW5ndGggfHwgcGFnZSA8IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5yZW5kZXIoXCJwYWdlXCIpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyKFwicGFnZXJcIik7XHJcblxyXG4gICAgICAgIHRoaXMuZW1pdChcImRhdGF0YWJsZS5wYWdlXCIsIHBhZ2UpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNvcnQgYnkgY29sdW1uXHJcbiAgICAgKiBAcGFyYW0gIHtpbnR9IGNvbHVtbiAtIFRoZSBjb2x1bW4gbm8uXHJcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IGRpcmVjdGlvbiAtIGFzYyBvciBkZXNjXHJcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5zb3J0Q29sdW1uID0gZnVuY3Rpb24gKGNvbHVtbiwgZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgLy8gVXNlIGNvbHVtbnMgQVBJIHVudGlsIHNvcnRDb2x1bW4gbWV0aG9kIGlzIHJlbW92ZWRcclxuICAgICAgICB0aGlzLmNvbHVtbnMoKS5zb3J0KGNvbHVtbiwgZGlyZWN0aW9uKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgbmV3IHJvdyBkYXRhXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YVxyXG4gICAgICovXHJcbiAgICBwcm90by5pbnNlcnQgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG5cclxuICAgICAgICB2YXIgdGhhdCA9IHRoaXMsXHJcbiAgICAgICAgICAgIHJvd3MgPSBbXTtcclxuICAgICAgICBpZiAoaXNPYmplY3QoZGF0YSkpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuaGVhZGluZ3MpIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhhdC5oYXNIZWFkaW5ncyAmJiAhdGhhdC5oYXNSb3dzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRyID0gY3JlYXRlRWxlbWVudChcInRyXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aDtcclxuICAgICAgICAgICAgICAgICAgICBlYWNoKGRhdGEuaGVhZGluZ3MsIGZ1bmN0aW9uIChoZWFkaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoID0gY3JlYXRlRWxlbWVudChcInRoXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw6IGhlYWRpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5oZWFkLmFwcGVuZENoaWxkKHRyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5oZWFkZXIgPSB0cjtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0LmhlYWRpbmdzID0gW10uc2xpY2UuY2FsbCh0ci5jZWxscyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5oYXNIZWFkaW5ncyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlLWVuYWJsZSBzb3J0aW5nIGlmIGl0IHdhcyBkaXNhYmxlZCBkdWVcclxuICAgICAgICAgICAgICAgICAgICAvLyB0byBtaXNzaW5nIGhlYWRlclxyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQub3B0aW9ucy5zb3J0YWJsZSA9IHRoYXQuaW5pdGlhbFNvcnRhYmxlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBBbGxvdyBzb3J0aW5nIG9uIG5ldyBoZWFkZXJcclxuICAgICAgICAgICAgICAgICAgICB0aGF0LnJlbmRlcihcImhlYWRlclwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGRhdGEuZGF0YSAmJiBpc0FycmF5KGRhdGEuZGF0YSkpIHtcclxuICAgICAgICAgICAgICAgIHJvd3MgPSBkYXRhLmRhdGE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkoZGF0YSkpIHtcclxuICAgICAgICAgICAgZWFjaChkYXRhLCBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgciA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZWFjaChyb3csIGZ1bmN0aW9uIChjZWxsLCBoZWFkaW5nKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoYXQubGFiZWxzLmluZGV4T2YoaGVhZGluZyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJbaW5kZXhdID0gY2VsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJvd3MucHVzaChyKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocm93cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhhdC5yb3dzKCkuYWRkKHJvd3MpO1xyXG5cclxuICAgICAgICAgICAgdGhhdC5oYXNSb3dzID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoYXQudXBkYXRlKCk7XHJcblxyXG4gICAgICAgIHRoYXQuZml4Q29sdW1ucygpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlZnJlc2ggdGhlIGluc3RhbmNlXHJcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5yZWZyZXNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2VhcmNoYWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLmlucHV0LnZhbHVlID0gXCJcIjtcclxuICAgICAgICAgICAgdGhpcy5zZWFyY2hpbmcgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7XHJcbiAgICAgICAgdGhpcy5vbkZpcnN0UGFnZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbWl0KFwiZGF0YXRhYmxlLnJlZnJlc2hcIik7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVHJ1bmNhdGUgdGhlIHRhYmxlXHJcbiAgICAgKiBAcGFyYW0gIHttaXhlc30gaHRtbCAtIEhUTUwgc3RyaW5nIG9yIEhUTUxFbGVtZW50XHJcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5jbGVhciA9IGZ1bmN0aW9uIChodG1sKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYm9keSkge1xyXG4gICAgICAgICAgICBmbHVzaCh0aGlzLmJvZHksIHRoaXMuaXNJRSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgcGFyZW50ID0gdGhpcy5ib2R5O1xyXG4gICAgICAgIGlmICghdGhpcy5ib2R5KSB7XHJcbiAgICAgICAgICAgIHBhcmVudCA9IHRoaXMudGFibGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaHRtbCkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGh0bWwgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBmcmFnID0gZG9jLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcclxuICAgICAgICAgICAgICAgIGZyYWcuaW5uZXJIVE1MID0gaHRtbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKGh0bWwpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFeHBvcnQgdGFibGUgdG8gdmFyaW91cyBmb3JtYXRzIChjc3YsIHR4dCBvciBzcWwpXHJcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnMgVXNlciBvcHRpb25zXHJcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICBwcm90by5leHBvcnQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgICAgIGlmICghdGhpcy5oYXNIZWFkaW5ncyAmJiAhdGhpcy5oYXNSb3dzKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIHZhciBoZWFkZXJzID0gdGhpcy5hY3RpdmVIZWFkaW5ncyxcclxuICAgICAgICAgICAgcm93cyA9IFtdLFxyXG4gICAgICAgICAgICBhcnIgPSBbXSxcclxuICAgICAgICAgICAgaSxcclxuICAgICAgICAgICAgeCxcclxuICAgICAgICAgICAgc3RyLFxyXG4gICAgICAgICAgICBsaW5rO1xyXG5cclxuICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XHJcbiAgICAgICAgICAgIGRvd25sb2FkOiB0cnVlLFxyXG4gICAgICAgICAgICBza2lwQ29sdW1uOiBbXSxcclxuXHJcbiAgICAgICAgICAgIC8vIGNzdlxyXG4gICAgICAgICAgICBsaW5lRGVsaW1pdGVyOiBcIlxcblwiLFxyXG4gICAgICAgICAgICBjb2x1bW5EZWxpbWl0ZXI6IFwiLFwiLFxyXG5cclxuICAgICAgICAgICAgLy8gc3FsXHJcbiAgICAgICAgICAgIHRhYmxlTmFtZTogXCJteVRhYmxlXCIsXHJcblxyXG4gICAgICAgICAgICAvLyBqc29uXHJcbiAgICAgICAgICAgIHJlcGxhY2VyOiBudWxsLFxyXG4gICAgICAgICAgICBzcGFjZTogNFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGZvciB0aGUgb3B0aW9ucyBvYmplY3RcclxuICAgICAgICBpZiAoIWlzT2JqZWN0KG9wdGlvbnMpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBvID0gZXh0ZW5kKGRlZmF1bHRzLCBvcHRpb25zKTtcclxuXHJcbiAgICAgICAgaWYgKG8udHlwZSkge1xyXG4gICAgICAgICAgICBpZiAoby50eXBlID09PSBcInR4dFwiIHx8IG8udHlwZSA9PT0gXCJjc3ZcIikge1xyXG4gICAgICAgICAgICAgICAgLy8gSW5jbHVkZSBoZWFkaW5nc1xyXG4gICAgICAgICAgICAgICAgcm93c1swXSA9IHRoaXMuaGVhZGVyO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBTZWxlY3Rpb24gb3Igd2hvbGUgdGFibGVcclxuICAgICAgICAgICAgaWYgKG8uc2VsZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBQYWdlIG51bWJlclxyXG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTihvLnNlbGVjdGlvbikpIHtcclxuICAgICAgICAgICAgICAgICAgICByb3dzID0gcm93cy5jb25jYXQodGhpcy5wYWdlc1tvLnNlbGVjdGlvbiAtIDFdKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShvLnNlbGVjdGlvbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBBcnJheSBvZiBwYWdlIG51bWJlcnNcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgby5zZWxlY3Rpb24ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm93cyA9IHJvd3MuY29uY2F0KHRoaXMucGFnZXNbby5zZWxlY3Rpb25baV0gLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcm93cyA9IHJvd3MuY29uY2F0KHRoaXMuYWN0aXZlUm93cyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIE9ubHkgcHJvY2VlZCBpZiB3ZSBoYXZlIGRhdGFcclxuICAgICAgICAgICAgaWYgKHJvd3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoby50eXBlID09PSBcInR4dFwiIHx8IG8udHlwZSA9PT0gXCJjc3ZcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IFwiXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCByb3dzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoeCA9IDA7IHggPCByb3dzW2ldLmNlbGxzLmxlbmd0aDsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgY29sdW1uIHNraXAgYW5kIHZpc2liaWxpdHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLnNraXBDb2x1bW4uaW5kZXhPZihoZWFkZXJzW3hdLm9yaWdpbmFsQ2VsbEluZGV4KSA8IDAgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbHVtbnMoaGVhZGVyc1t4XS5vcmlnaW5hbENlbGxJbmRleCkudmlzaWJsZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHIgKz0gcm93c1tpXS5jZWxsc1t4XS50ZXh0Q29udGVudCArIG8uY29sdW1uRGVsaW1pdGVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0cmFpbGluZyBjb2x1bW4gZGVsaW1pdGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciA9IHN0ci50cmltKCkuc3Vic3RyaW5nKDAsIHN0ci5sZW5ndGggLSAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFwcGx5IGxpbmUgZGVsaW1pdGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSBvLmxpbmVEZWxpbWl0ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdHJhaWxpbmcgbGluZSBkZWxpbWl0ZXJcclxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBzdHIudHJpbSgpLnN1YnN0cmluZygwLCBzdHIubGVuZ3RoIC0gMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvLmRvd25sb2FkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciA9IFwiZGF0YTp0ZXh0L2NzdjtjaGFyc2V0PXV0Zi04LFwiICsgc3RyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoby50eXBlID09PSBcInNxbFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQmVnaW4gSU5TRVJUIHN0YXRlbWVudFxyXG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IFwiSU5TRVJUIElOVE8gYFwiICsgby50YWJsZU5hbWUgKyBcImAgKFwiO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IHRhYmxlIGhlYWRpbmdzIHRvIGNvbHVtbiBuYW1lc1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBoZWFkZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBjb2x1bW4gc2tpcCBhbmQgY29sdW1uIHZpc2liaWxpdHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgby5za2lwQ29sdW1uLmluZGV4T2YoaGVhZGVyc1tpXS5vcmlnaW5hbENlbGxJbmRleCkgPCAwICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbHVtbnMoaGVhZGVyc1tpXS5vcmlnaW5hbENlbGxJbmRleCkudmlzaWJsZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9IFwiYFwiICsgaGVhZGVyc1tpXS50ZXh0Q29udGVudCArIFwiYCxcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRyYWlsaW5nIGNvbW1hXHJcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gc3RyLnRyaW0oKS5zdWJzdHJpbmcoMCwgc3RyLmxlbmd0aCAtIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBCZWdpbiBWQUxVRVNcclxuICAgICAgICAgICAgICAgICAgICBzdHIgKz0gXCIpIFZBTFVFUyBcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSXRlcmF0ZSByb3dzIGFuZCBjb252ZXJ0IGNlbGwgZGF0YSB0byBjb2x1bW4gdmFsdWVzXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHJvd3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9IFwiKFwiO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh4ID0gMDsgeCA8IHJvd3NbaV0uY2VsbHMubGVuZ3RoOyB4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBjb2x1bW4gc2tpcCBhbmQgY29sdW1uIHZpc2liaWxpdHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLnNraXBDb2x1bW4uaW5kZXhPZihoZWFkZXJzW3hdLm9yaWdpbmFsQ2VsbEluZGV4KSA8IDAgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbHVtbnMoaGVhZGVyc1t4XS5vcmlnaW5hbENlbGxJbmRleCkudmlzaWJsZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHIgKz0gJ1wiJyArIHJvd3NbaV0uY2VsbHNbeF0udGV4dENvbnRlbnQgKyAnXCIsJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRyYWlsaW5nIGNvbW1hXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciA9IHN0ci50cmltKCkuc3Vic3RyaW5nKDAsIHN0ci5sZW5ndGggLSAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVuZCBWQUxVRVNcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9IFwiKSxcIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0cmFpbGluZyBjb21tYVxyXG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IHN0ci50cmltKCkuc3Vic3RyaW5nKDAsIHN0ci5sZW5ndGggLSAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRyYWlsaW5nIGNvbG9uXHJcbiAgICAgICAgICAgICAgICAgICAgc3RyICs9IFwiO1wiO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoby5kb3dubG9hZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHIgPSBcImRhdGE6YXBwbGljYXRpb24vc3FsO2NoYXJzZXQ9dXRmLTgsXCIgKyBzdHI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvLnR5cGUgPT09IFwianNvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSXRlcmF0ZSByb3dzXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh4ID0gMDsgeCA8IHJvd3MubGVuZ3RoOyB4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJyW3hdID0gYXJyW3hdIHx8IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJdGVyYXRlIGNvbHVtbnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGhlYWRlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBjb2x1bW4gc2tpcCBhbmQgY29sdW1uIHZpc2liaWxpdHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLnNraXBDb2x1bW4uaW5kZXhPZihoZWFkZXJzW2ldLm9yaWdpbmFsQ2VsbEluZGV4KSA8IDAgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbHVtbnMoaGVhZGVyc1tpXS5vcmlnaW5hbENlbGxJbmRleCkudmlzaWJsZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJbeF1baGVhZGVyc1tpXS50ZXh0Q29udGVudF0gPSByb3dzW3hdLmNlbGxzW2ldLnRleHRDb250ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IHRoZSBhcnJheSBvZiBvYmplY3RzIHRvIEpTT04gc3RyaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gSlNPTi5zdHJpbmdpZnkoYXJyLCBvLnJlcGxhY2VyLCBvLnNwYWNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG8uZG93bmxvYWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyID0gXCJkYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOCxcIiArIHN0cjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gRG93bmxvYWRcclxuICAgICAgICAgICAgICAgIGlmIChvLmRvd25sb2FkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRmlsZW5hbWVcclxuICAgICAgICAgICAgICAgICAgICBvLmZpbGVuYW1lID0gby5maWxlbmFtZSB8fCBcImRhdGF0YWJsZV9leHBvcnRcIjtcclxuICAgICAgICAgICAgICAgICAgICBvLmZpbGVuYW1lICs9IFwiLlwiICsgby50eXBlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBlbmNvZGVVUkkoc3RyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbGluayB0byB0cmlnZ2VyIHRoZSBkb3dubG9hZFxyXG4gICAgICAgICAgICAgICAgICAgIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBsaW5rLmhyZWYgPSBzdHI7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluay5kb3dubG9hZCA9IG8uZmlsZW5hbWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFwcGVuZCB0aGUgbGlua1xyXG4gICAgICAgICAgICAgICAgICAgIGJvZHkuYXBwZW5kQ2hpbGQobGluayk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRyaWdnZXIgdGhlIGRvd25sb2FkXHJcbiAgICAgICAgICAgICAgICAgICAgbGluay5jbGljaygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIGxpbmtcclxuICAgICAgICAgICAgICAgICAgICBib2R5LnJlbW92ZUNoaWxkKGxpbmspO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBzdHI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbXBvcnQgZGF0YSB0byB0aGUgdGFibGVcclxuICAgICAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9ucyBVc2VyIG9wdGlvbnNcclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIHByb3RvLmltcG9ydCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIG9iaiA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBkZWZhdWx0cyA9IHtcclxuICAgICAgICAgICAgLy8gY3N2XHJcbiAgICAgICAgICAgIGxpbmVEZWxpbWl0ZXI6IFwiXFxuXCIsXHJcbiAgICAgICAgICAgIGNvbHVtbkRlbGltaXRlcjogXCIsXCJcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBDaGVjayBmb3IgdGhlIG9wdGlvbnMgb2JqZWN0XHJcbiAgICAgICAgaWYgKCFpc09iamVjdChvcHRpb25zKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBvcHRpb25zID0gZXh0ZW5kKGRlZmF1bHRzLCBvcHRpb25zKTtcclxuXHJcbiAgICAgICAgaWYgKG9wdGlvbnMuZGF0YS5sZW5ndGggfHwgaXNPYmplY3Qob3B0aW9ucy5kYXRhKSkge1xyXG4gICAgICAgICAgICAvLyBJbXBvcnQgQ1NWXHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnR5cGUgPT09IFwiY3N2XCIpIHtcclxuICAgICAgICAgICAgICAgIG9iaiA9IHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBbXVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTcGxpdCB0aGUgc3RyaW5nIGludG8gcm93c1xyXG4gICAgICAgICAgICAgICAgdmFyIHJvd3MgPSBvcHRpb25zLmRhdGEuc3BsaXQob3B0aW9ucy5saW5lRGVsaW1pdGVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocm93cy5sZW5ndGgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuaGVhZGluZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmhlYWRpbmdzID0gcm93c1swXS5zcGxpdChvcHRpb25zLmNvbHVtbkRlbGltaXRlcik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3dzLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBlYWNoKHJvd3MsIGZ1bmN0aW9uIChyb3csIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmRhdGFbaV0gPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNwbGl0IHRoZSByb3dzIGludG8gdmFsdWVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSByb3cuc3BsaXQob3B0aW9ucy5jb2x1bW5EZWxpbWl0ZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVhY2godmFsdWVzLCBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouZGF0YVtpXS5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy50eXBlID09PSBcImpzb25cIikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGpzb24gPSBpc0pzb24ob3B0aW9ucy5kYXRhKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBWYWxpZCBKU09OIHN0cmluZ1xyXG4gICAgICAgICAgICAgICAgaWYgKGpzb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRpbmdzOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogW11cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBlYWNoKGpzb24sIGZ1bmN0aW9uIChkYXRhLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5kYXRhW2ldID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVhY2goZGF0YSwgZnVuY3Rpb24gKHZhbHVlLCBjb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmouaGVhZGluZ3MuaW5kZXhPZihjb2x1bW4pIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5oZWFkaW5ncy5wdXNoKGNvbHVtbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmRhdGFbaV0ucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJUaGF0J3Mgbm90IHZhbGlkIEpTT04hXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoaXNPYmplY3Qob3B0aW9ucy5kYXRhKSkge1xyXG4gICAgICAgICAgICAgICAgb2JqID0gb3B0aW9ucy5kYXRhO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAob2JqKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIHJvd3NcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5zZXJ0KG9iaik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFByaW50IHRoZSB0YWJsZVxyXG4gICAgICogQHJldHVybiB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8ucHJpbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGhlYWRpbmdzID0gdGhpcy5hY3RpdmVIZWFkaW5ncztcclxuICAgICAgICB2YXIgcm93cyA9IHRoaXMuYWN0aXZlUm93cztcclxuICAgICAgICB2YXIgdGFibGUgPSBjcmVhdGVFbGVtZW50KFwidGFibGVcIik7XHJcbiAgICAgICAgdmFyIHRoZWFkID0gY3JlYXRlRWxlbWVudChcInRoZWFkXCIpO1xyXG4gICAgICAgIHZhciB0Ym9keSA9IGNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiKTtcclxuXHJcbiAgICAgICAgdmFyIHRyID0gY3JlYXRlRWxlbWVudChcInRyXCIpO1xyXG4gICAgICAgIGVhY2goaGVhZGluZ3MsIGZ1bmN0aW9uICh0aCkge1xyXG4gICAgICAgICAgICB0ci5hcHBlbmRDaGlsZChcclxuICAgICAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnQoXCJ0aFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgaHRtbDogdGgudGV4dENvbnRlbnRcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoZWFkLmFwcGVuZENoaWxkKHRyKTtcclxuXHJcbiAgICAgICAgZWFjaChyb3dzLCBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgIHZhciB0ciA9IGNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcclxuICAgICAgICAgICAgZWFjaChyb3cuY2VsbHMsIGZ1bmN0aW9uIChjZWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0ci5hcHBlbmRDaGlsZChcclxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVFbGVtZW50KFwidGRcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sOiBjZWxsLnRleHRDb250ZW50XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0Ym9keS5hcHBlbmRDaGlsZCh0cik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRhYmxlLmFwcGVuZENoaWxkKHRoZWFkKTtcclxuICAgICAgICB0YWJsZS5hcHBlbmRDaGlsZCh0Ym9keSk7XHJcblxyXG4gICAgICAgIC8vIE9wZW4gbmV3IHdpbmRvd1xyXG4gICAgICAgIHZhciB3ID0gd2luLm9wZW4oKTtcclxuXHJcbiAgICAgICAgLy8gQXBwZW5kIHRoZSB0YWJsZSB0byB0aGUgYm9keVxyXG4gICAgICAgIHcuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0YWJsZSk7XHJcblxyXG4gICAgICAgIC8vIFByaW50XHJcbiAgICAgICAgdy5wcmludCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNob3cgYSBtZXNzYWdlIGluIHRoZSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2VcclxuICAgICAqL1xyXG4gICAgcHJvdG8uc2V0TWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XHJcbiAgICAgICAgdmFyIGNvbHNwYW4gPSAxO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5oYXNSb3dzKSB7XHJcbiAgICAgICAgICAgIGNvbHNwYW4gPSB0aGlzLmRhdGFbMF0uY2VsbHMubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jbGVhcihcclxuICAgICAgICAgICAgY3JlYXRlRWxlbWVudChcInRyXCIsIHtcclxuICAgICAgICAgICAgICAgIGh0bWw6ICc8dGQgY2xhc3M9XCJkYXRhVGFibGVzLWVtcHR5XCIgY29sc3Bhbj1cIicgK1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbHNwYW4gK1xyXG4gICAgICAgICAgICAgICAgICAgICdcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlICtcclxuICAgICAgICAgICAgICAgICAgICBcIjwvdGQ+XCJcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbHVtbnMgQVBJIGFjY2Vzc1xyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBuZXcgQ29sdW1ucyBpbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBwcm90by5jb2x1bW5zID0gZnVuY3Rpb24gKGNvbHVtbnMpIHtcclxuICAgICAgICByZXR1cm4gbmV3IENvbHVtbnModGhpcywgY29sdW1ucyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUm93cyBBUEkgYWNjZXNzXHJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG5ldyBSb3dzIGluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIHByb3RvLnJvd3MgPSBmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgIHJldHVybiBuZXcgUm93cyh0aGlzLCByb3dzKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgY3VzdG9tIGV2ZW50IGxpc3RlbmVyXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGV2ZW50XHJcbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2tcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLm9uID0gZnVuY3Rpb24gKGV2ZW50LCBjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuZXZlbnRzID0gdGhpcy5ldmVudHMgfHwge307XHJcbiAgICAgICAgdGhpcy5ldmVudHNbZXZlbnRdID0gdGhpcy5ldmVudHNbZXZlbnRdIHx8IFtdO1xyXG4gICAgICAgIHRoaXMuZXZlbnRzW2V2ZW50XS5wdXNoKGNhbGxiYWNrKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmUgY3VzdG9tIGV2ZW50IGxpc3RlbmVyXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGV2ZW50XHJcbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2tcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLm9mZiA9IGZ1bmN0aW9uIChldmVudCwgY2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLmV2ZW50cyA9IHRoaXMuZXZlbnRzIHx8IHt9O1xyXG4gICAgICAgIGlmIChldmVudCBpbiB0aGlzLmV2ZW50cyA9PT0gZmFsc2UpIHJldHVybjtcclxuICAgICAgICB0aGlzLmV2ZW50c1tldmVudF0uc3BsaWNlKHRoaXMuZXZlbnRzW2V2ZW50XS5pbmRleE9mKGNhbGxiYWNrKSwgMSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRmlyZSBjdXN0b20gZXZlbnRcclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gZXZlbnRcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLmVtaXQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICB0aGlzLmV2ZW50cyA9IHRoaXMuZXZlbnRzIHx8IHt9O1xyXG4gICAgICAgIGlmIChldmVudCBpbiB0aGlzLmV2ZW50cyA9PT0gZmFsc2UpIHJldHVybjtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZXZlbnRzW2V2ZW50XS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50c1tldmVudF1baV0uYXBwbHkodGhpcywgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gRGF0YVRhYmxlO1xyXG59KTsiLCJpbXBvcnQgRGF0YVRhYmxlIGZyb20gJ3ZhbmlsbGEtZGF0YXRhYmxlcyc7XG5cbmZ1bmN0aW9uIGNyZWF0ZVRhYmxlRE9NKGRhdGEsIG9wdHMsIGNvbmZpZykge1xuICBjb25zdCB7IG51bSwgZGVudW0sIHJhdGlvLCBteV9yZWdpb24gfSA9IGNvbmZpZztcbiAgY29uc3Qgb3B0aW9ucyA9IG9wdHMgfHwge307XG4gIG9wdGlvbnMuaWQgPSBvcHRpb25zLmlkIHx8ICdteVRhYmxlJztcbiAgY29uc3QgZG9jID0gZG9jdW1lbnQsXG4gICAgbmJfZmVhdHVyZXMgPSBkYXRhLmxlbmd0aCxcbiAgICBjb2x1bW5fbmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkYXRhWzBdKSxcbiAgICBuYl9jb2x1bW5zID0gY29sdW1uX25hbWVzLmxlbmd0aDtcbiAgY29uc3QgbXlUYWJsZSA9IGRvYy5jcmVhdGVFbGVtZW50KCd0YWJsZScpLFxuICAgIGhlYWRlcnMgPSBkb2MuY3JlYXRlRWxlbWVudCgndGhlYWQnKSxcbiAgICBib2R5ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3Rib2R5JyksXG4gICAgaGVhZGVyc19yb3cgPSBkb2MuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYl9jb2x1bW5zOyBpKyspIHtcbiAgICBjb25zdCBjZWxsID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3RoJyk7XG4gICAgY29uc3QgY29sX25hbWUgPSBjb2x1bW5fbmFtZXNbaV07XG4gICAgaWYgKGNvbF9uYW1lID09PSAnbnVtJykge1xuICAgICAgY2VsbC5pbm5lckhUTUwgPSBgTnVtPGJyPjxzcGFuIGNsYXNzPVwic21hbGxcIj4ke251bX1gO1xuICAgIH0gZWxzZSBpZiAoY29sX25hbWUgPT09ICdkZW51bScpIHtcbiAgICAgIGNlbGwuaW5uZXJIVE1MID0gYERlbnVtPGJyPjxzcGFuIGNsYXNzPVwic21hbGxcIj4ke2RlbnVtfWA7XG4gICAgfSBlbHNlIGlmIChjb2xfbmFtZSA9PT0gJ3JhdGlvJykge1xuICAgICAgY2VsbC5pbm5lckhUTUwgPSBgUmF0aW88YnI+PHNwYW4gY2xhc3M9XCJzbWFsbFwiPiR7cmF0aW99YDtcbiAgICB9IGVsc2UgaWYgKGNvbF9uYW1lID09PSAncmFuZycpIHtcbiAgICAgIGNlbGwuaW5uZXJIVE1MID0gJ1JhbmcgJztcbiAgICB9IGVsc2Uge1xuICAgICAgY2VsbC5pbm5lckhUTUwgPSBjb2xfbmFtZTtcbiAgICB9XG4gICAgaGVhZGVyc19yb3cuYXBwZW5kQ2hpbGQoY2VsbCk7XG4gIH1cbiAgaGVhZGVycy5hcHBlbmRDaGlsZChoZWFkZXJzX3Jvdyk7XG4gIG15VGFibGUuYXBwZW5kQ2hpbGQoaGVhZGVycyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbmJfZmVhdHVyZXM7IGkrKykge1xuICAgIGNvbnN0IHJvdyA9IGRvYy5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgIHJvdy5pZCA9IGByb3dfJHtkYXRhW2ldLmlkfWA7XG4gICAgaWYgKGRhdGFbaV0uaWQgPT09IG15X3JlZ2lvbikge1xuICAgICAgcm93LmNsYXNzTmFtZSA9ICd5ZWxsb3cnO1xuICAgIH1cbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IG5iX2NvbHVtbnM7IGorKykge1xuICAgICAgY29uc3QgY2VsbCA9IGRvYy5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgY29uc3QgY29sX25hbWUgPSBjb2x1bW5fbmFtZXNbal07XG4gICAgICBpZiAoY29sX25hbWUgPT09ICdudW0nIHx8IGNvbF9uYW1lID09PSAnZGVudW0nIHx8IGNvbF9uYW1lID09PSAncmF0aW8nKSB7XG4gICAgICAgIGNlbGwuaW5uZXJIVE1MID0gTWF0aC5yb3VuZChkYXRhW2ldW2NvbF9uYW1lXSAqIDEwMCkgLyAxMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNlbGwuaW5uZXJIVE1MID0gZGF0YVtpXVtjb2xfbmFtZV07XG4gICAgICB9XG4gICAgICByb3cuYXBwZW5kQ2hpbGQoY2VsbCk7XG4gICAgfVxuICAgIGJvZHkuYXBwZW5kQ2hpbGQocm93KTtcbiAgfVxuICBteVRhYmxlLmFwcGVuZENoaWxkKGJvZHkpO1xuICBteVRhYmxlLnNldEF0dHJpYnV0ZSgnaWQnLCBvcHRpb25zLmlkKTtcbiAgcmV0dXJuIG15VGFibGU7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VUYWJsZShkYXRhX25vX2VtcHR5LCBjb25maWcpIHtcbiAgY29uc3QgdGFibGUgPSBjcmVhdGVUYWJsZURPTShkYXRhX25vX2VtcHR5LCB1bmRlZmluZWQsIGNvbmZpZyk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtYXBfc2VjdGlvbicpLmFwcGVuZCh0YWJsZSk7XG4gIGNvbnN0IGRhdGFUYWJsZSA9IG5ldyBEYXRhVGFibGUoJyNteVRhYmxlJyk7XG4gIGNvbnN0IHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGF0YVRhYmxlLXdyYXBwZXInKTtcbiAgdC5zdHlsZS5tYXJnaW5Ub3AgPSAnMjBweCc7XG4gIHQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgdC5zdHlsZS5mb250U2l6ZSA9ICcwLjdlbSc7XG4gIHQucXVlcnlTZWxlY3RvcignLmRhdGFUYWJsZS10b3AnKS5yZW1vdmUoKTtcbiAgQXJyYXkuZnJvbSh0LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4uc21hbGwnKSlcbiAgICAuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgIGVsLm9uY2xpY2sgPSAoKSA9PiB7IGVsLnBhcmVudEVsZW1lbnQuY2xpY2soKTsgfTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIH0pO1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIHByZXBhcmVfZGF0YXNldChmdWxsX2RhdGFzZXQsIGFwcCkge1xuICBhcHAuZnVsbF9kYXRhc2V0ID0gZnVsbF9kYXRhc2V0OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIC8vIENyZWF0ZSBhbiBPYmplY3QgZmVhdHVyZV9pZCAtPiAgZmVhdHVyZV9uYW1lOlxuICBhcHAuZmVhdHVyZV9uYW1lcyA9IHt9OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIGZ1bGxfZGF0YXNldC5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgYXBwLmZlYXR1cmVfbmFtZXNbZWxlbS5nZW9dID0gZWxlbS5Ob207IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJfbm9fZW1wdHkoYXBwKSB7XG4gIGNvbnN0IHsgbnVtLCBkZW51bSwgcmF0aW8sIG15X3JlZ2lvbiwgY3VycmVudF9sZXZlbCB9ID0gYXBwLmN1cnJlbnRfY29uZmlnO1xuICBjb25zdCBmaWx0ZXJlZF9kYXRhID0gYXBwLmZ1bGxfZGF0YXNldC5maWx0ZXIoZnQgPT4gK2Z0LmxldmVsID09PSBjdXJyZW50X2xldmVsKS5tYXAoZnQgPT4gKHtcbiAgICBpZDogZnQuZ2VvLFxuICAgIG5hbWU6IGZ0Lk5vbSxcbiAgICBudW06ICtmdFtudW1dLFxuICAgIGRlbnVtOiArZnRbZGVudW1dIC8gMTAwMCxcbiAgICByYXRpbzogK2Z0W3JhdGlvXSxcbiAgfSkpLmZpbHRlcigoZnQpID0+IHtcbiAgICBpZiAoZnQuaWQgPT09IG15X3JlZ2lvbikge1xuICAgICAgYXBwLmN1cnJlbnRfY29uZmlnLnJlZl92YWx1ZSA9IGZ0LnJhdGlvOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgfVxuICAgIHJldHVybiBmdC5yYXRpbztcbiAgfSk7XG4gIGFwcC5zZXJpZV9pbnZlcnNlZCA9IGZhbHNlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIGZpbHRlcmVkX2RhdGEuc29ydCgoYSwgYikgPT4gYS5yYXRpbyAtIGIucmF0aW8pO1xuICBmaWx0ZXJlZF9kYXRhLmZvckVhY2goKGQsIGkpID0+IHsgZC5yYW5nID0gaSArIDE7IH0pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIHJldHVybiBmaWx0ZXJlZF9kYXRhO1xufVxuIiwiY29uc3QgbWF0aF9hYnMgPSBNYXRoLmFicztcbmNvbnN0IG1hdGhfcm91bmQgPSBNYXRoLnJvdW5kO1xuXG5jb25zdCBjb21wID0gKHRlc3RfdmFsdWUsIHJlZl92YWx1ZSwgc2VyaWVfaW52ZXJzZWQpID0+IHtcbiAgaWYgKHRlc3RfdmFsdWUgPCByZWZfdmFsdWUpIHtcbiAgICByZXR1cm4gc2VyaWVfaW52ZXJzZWQgPyAnZ3JlZW4nIDogJ3JlZCc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHNlcmllX2ludmVyc2VkID8gJ3JlZCcgOiAnZ3JlZW4nO1xuICB9XG59O1xuXG5jbGFzcyBSZWN0IHtcbiAgY29uc3RydWN0b3IodG9wbGVmdCwgYm90dG9tcmlnaHQpIHtcbiAgICB0aGlzLnhtaW4gPSB0b3BsZWZ0WzBdO1xuICAgIHRoaXMueG1heCA9IGJvdHRvbXJpZ2h0WzBdO1xuICAgIHRoaXMueW1pbiA9IHRvcGxlZnRbMV07XG4gICAgdGhpcy55bWF4ID0gYm90dG9tcmlnaHRbMV07XG4gIH1cblxuICBjb250YWlucyhwdCkge1xuICAgIGlmIChwdFswXSA+PSB0aGlzLnhtaW4gJiYgcHRbMF0gPD0gdGhpcy54bWF4XG4gICAgICAgICYmIHB0WzFdID49IHRoaXMueW1pbiAmJiBwdFsxXSA8PSB0aGlzLnltYXgpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IHtcbiAgY29tcCxcbiAgbWF0aF9hYnMsXG4gIG1hdGhfcm91bmQsXG4gIFJlY3QsXG59O1xuIiwiaW1wb3J0IHsgYXBwLCBzdmdfbWFwLCB3aWR0aF9tYXAsIGhlaWdodF9tYXAsIHdpZHRoIGFzIHdpZHRoX2NoYXJ0IH0gZnJvbSAnLi8uLi9tYWluJztcbmltcG9ydCB7IGNvbXAsIFJlY3QgfSBmcm9tICcuL2hlbHBlcnMnO1xuXG5jb25zdCBzdHlsZXMgPSB7XG4gIHRlbXBsYXRlOiB7IHN0cm9rZV93aWR0aDogMCB9LFxuICBjb3VudHJpZXM6IHsgc3Ryb2tlX3dpZHRoOiAwLjUgfSxcbiAgc2VhYm94ZXM6IHsgc3Ryb2tlX3dpZHRoOiAxIH0sXG4gIHJlbW90ZTogeyBzdHJva2Vfd2lkdGg6IDAuNSB9LFxuICBzZWFib3hlczI6IHsgc3Ryb2tlX3dpZHRoOiAxIH0sXG4gIG51dHMxOiB7IHN0cm9rZV93aWR0aDogMC41IH0sXG4gIG51dHMxX25vX2RhdGE6IHsgc3Ryb2tlX3dpZHRoOiAwLjUgfSxcbn07XG5cbmNvbnN0IGNvbG9yX2NvdW50cmllcyA9ICdyZ2IoMTQ3LDE0NCwyNTIpJztcbmNvbnN0IGNvbG9yX2Rpc2FibGVkID0gJ3JnYigyMTQsIDIxNCwgMjE0KSc7XG5cbmxldCBwcm9qZWN0aW9uO1xubGV0IHBhdGg7XG5cbmZ1bmN0aW9uIGdldF9iYm94X2xheWVyX3BhdGgobmFtZSkge1xuICBjb25zdCBiYm94X2xheWVyID0gW1tJbmZpbml0eSwgSW5maW5pdHldLCBbLUluZmluaXR5LCAtSW5maW5pdHldXTtcbiAgc3ZnX21hcC5zZWxlY3QoYCMke25hbWV9YClcbiAgICAuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAuZWFjaCgoZCkgPT4ge1xuICAgICAgY29uc3QgYmJveF9wYXRoID0gcGF0aC5ib3VuZHMoZC5nZW9tZXRyeSk7XG4gICAgICBiYm94X2xheWVyWzBdWzBdID0gYmJveF9wYXRoWzBdWzBdIDwgYmJveF9sYXllclswXVswXSA/IGJib3hfcGF0aFswXVswXSA6IGJib3hfbGF5ZXJbMF1bMF07XG4gICAgICBiYm94X2xheWVyWzBdWzFdID0gYmJveF9wYXRoWzBdWzFdIDwgYmJveF9sYXllclswXVsxXSA/IGJib3hfcGF0aFswXVsxXSA6IGJib3hfbGF5ZXJbMF1bMV07XG4gICAgICBiYm94X2xheWVyWzFdWzBdID0gYmJveF9wYXRoWzFdWzBdID4gYmJveF9sYXllclsxXVswXSA/IGJib3hfcGF0aFsxXVswXSA6IGJib3hfbGF5ZXJbMV1bMF07XG4gICAgICBiYm94X2xheWVyWzFdWzFdID0gYmJveF9wYXRoWzFdWzFdID4gYmJveF9sYXllclsxXVsxXSA/IGJib3hfcGF0aFsxXVsxXSA6IGJib3hfbGF5ZXJbMV1bMV07XG4gICAgfSk7XG4gIHJldHVybiBiYm94X2xheWVyO1xufVxuXG5cbmZ1bmN0aW9uIGZpdExheWVyKCkge1xuICBwcm9qZWN0aW9uLnNjYWxlKDEpLnRyYW5zbGF0ZShbMCwgMF0pO1xuICBjb25zdCBiID0gZ2V0X2Jib3hfbGF5ZXJfcGF0aCgndGVtcGxhdGUnKTtcbiAgY29uc3QgcyA9IDAuOTUgLyBNYXRoLm1heCgoYlsxXVswXSAtIGJbMF1bMF0pIC8gd2lkdGhfbWFwLCAoYlsxXVsxXSAtIGJbMF1bMV0pIC8gaGVpZ2h0X21hcCk7XG4gIGNvbnN0IHQgPSBbKHdpZHRoX21hcCAtIHMgKiAoYlsxXVswXSArIGJbMF1bMF0pKSAvIDIsIChoZWlnaHRfbWFwIC0gcyAqIChiWzFdWzFdICsgYlswXVsxXSkpIC8gMl07XG4gIHByb2plY3Rpb24uc2NhbGUocykudHJhbnNsYXRlKHQpO1xuICBzdmdfbWFwLnNlbGVjdEFsbCgncGF0aCcpLmF0dHIoJ2QnLCBwYXRoKTtcbn1cblxuZnVuY3Rpb24gbWFwX3pvb21lZCgpIHtcbiAgY29uc3QgdHJhbnNmb3JtID0gZDMuZXZlbnQudHJhbnNmb3JtO1xuICBpZiAodHJhbnNmb3JtLmsgPT09IDEpIHtcbiAgICB0cmFuc2Zvcm0ueCA9IDA7XG4gICAgdHJhbnNmb3JtLnkgPSAwO1xuICB9XG4gIGNvbnN0IGxheWVycyA9IHN2Z19tYXAuc2VsZWN0KCcjbGF5ZXJzJyk7XG4gIGNvbnN0IHQgPSBsYXllcnNcbiAgICAuc2VsZWN0QWxsKCdnJylcbiAgICAudHJhbnNpdGlvbigpXG4gICAgLmR1cmF0aW9uKDIyNSk7XG5cbiAgbGF5ZXJzLnNlbGVjdEFsbCgnZycpXG4gICAgLnRyYW5zaXRpb24odClcbiAgICAuc3R5bGUoJ3N0cm9rZS13aWR0aCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBgJHtzdHlsZXNbdGhpcy5pZF0uc3Ryb2tlX3dpZHRoIC8gdHJhbnNmb3JtLmt9cHhgO1xuICAgIH0pO1xuXG4gIGxheWVycy5zZWxlY3RBbGwoJ2cnKVxuICAgIC50cmFuc2l0aW9uKHQpXG4gICAgLmF0dHIoJ3RyYW5zZm9ybScsIHRyYW5zZm9ybSk7XG5cbiAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKVxuICAgIC50cmFuc2l0aW9uKHQpXG4gICAgLmF0dHIoJ3RyYW5zZm9ybScsIHRyYW5zZm9ybSk7XG59XG5cbmNsYXNzIE1hcFNlbGVjdCB7XG4gIGNvbnN0cnVjdG9yKG51dHMxLCBjb3VudHJpZXMsIHJlbW90ZSwgdGVtcGxhdGUsIHNlYWJveGVzKSB7XG4gICAgcHJvamVjdGlvbiA9IGQzLmdlb0lkZW50aXR5KClcbiAgICAgIC5maXRFeHRlbnQoW1swLCAwXSwgW3dpZHRoX21hcCwgaGVpZ2h0X21hcF1dLCB0ZW1wbGF0ZSlcbiAgICAgIC5yZWZsZWN0WSh0cnVlKTtcblxuICAgIG51dHMxLmZlYXR1cmVzLmZvckVhY2goKGZ0KSA9PiB7XG4gICAgICBmdC5wcm9wZXJ0aWVzLnJhdGlvID0gKCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgICtmdC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5udW1dIC8gK2Z0LnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmRlbnVtXSkgKiAxMDAwMDA7XG4gICAgfSk7XG4gICAgY29uc3Qgbm9fZGF0YV9mZWF0dXJlcyA9IG51dHMxLmZlYXR1cmVzLmZpbHRlcihmdCA9PiBpc05hTihmdC5wcm9wZXJ0aWVzLnJhdGlvKSk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgbnV0czEuZmVhdHVyZXMgPSBudXRzMS5mZWF0dXJlcy5maWx0ZXIoZnQgPT4gIWlzTmFOKGZ0LnByb3BlcnRpZXMucmF0aW8pKTtcblxuICAgIHBhdGggPSBkMy5nZW9QYXRoKCkucHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICBjb25zdCBsYXllcnMgPSBzdmdfbWFwLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignaWQnLCAnbGF5ZXJzJyk7XG5cbiAgICB0aGlzLnpvb21fbWFwID0gZDMuem9vbSgpXG4gICAgICAuc2NhbGVFeHRlbnQoWzEsIDVdKVxuICAgICAgLnRyYW5zbGF0ZUV4dGVudChbWzAsIDBdLCBbd2lkdGhfbWFwLCBoZWlnaHRfbWFwXV0pXG4gICAgICAub24oJ3pvb20nLCBtYXBfem9vbWVkKTtcblxuICAgIHN2Z19tYXAuY2FsbCh0aGlzLnpvb21fbWFwKTtcblxuICAgIGxheWVycy5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2lkJywgJ3RlbXBsYXRlJylcbiAgICAgIC5hdHRycyh7IGZpbGw6ICdyZ2IoMjQ3LCAyNTIsIDI1NCknLCAnZmlsbC1vcGFjaXR5JzogMSB9KVxuICAgICAgLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuZGF0YSh0ZW1wbGF0ZS5mZWF0dXJlcylcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRycyh7IGQ6IHBhdGggfSk7XG5cbiAgICBsYXllcnMuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyh7IGZpbGw6ICdyZ2IoMjE0LCAyMTQsIDIxNCknLCAnZmlsbC1vcGFjaXR5JzogMSwgJ3N0cm9rZS13aWR0aCc6IDAuNSwgc3Ryb2tlOiAnI2ZmZmZmZicgfSlcbiAgICAgIC5hdHRyKCdpZCcsICdjb3VudHJpZXMnKVxuICAgICAgLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuZGF0YShjb3VudHJpZXMuZmVhdHVyZXMpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgncGF0aCcpXG4gICAgICAuYXR0cnMoeyBkOiBwYXRoIH0pO1xuXG4gICAgbGF5ZXJzLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cnMoeyBmaWxsOiAnI2UwZmFmZicsICdmaWxsLW9wYWNpdHknOiAxLCBzdHJva2U6ICdibGFjaycsICdzdHJva2Utd2lkdGgnOiAxIH0pXG4gICAgICAuYXR0cignaWQnLCAnc2VhYm94ZXMnKVxuICAgICAgLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuZGF0YShzZWFib3hlcy5mZWF0dXJlcylcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRycyh7IGQ6IHBhdGggfSk7XG5cbiAgICBsYXllcnMuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyh7IGZpbGw6ICdyZ2IoMjE0LCAyMTQsIDIxNCknLCAnZmlsbC1vcGFjaXR5JzogMSwgJ3N0cm9rZS13aWR0aCc6IDAuNSwgc3Ryb2tlOiAnI2ZmZmZmZicgfSlcbiAgICAgIC5hdHRyKCdpZCcsICdyZW1vdGUnKVxuICAgICAgLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuZGF0YShyZW1vdGUuZmVhdHVyZXMpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgncGF0aCcpXG4gICAgICAuYXR0cnMoeyBkOiBwYXRoIH0pO1xuXG4gICAgbGF5ZXJzLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cnMoeyBmaWxsOiAnbm9uZScsIHN0cm9rZTogJ2JsYWNrJywgJ3N0cm9rZS13aWR0aCc6IDEgfSlcbiAgICAgIC5hdHRyKCdpZCcsICdzZWFib3hlcycpXG4gICAgICAuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5kYXRhKHNlYWJveGVzLmZlYXR1cmVzKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHJzKHsgZDogcGF0aCB9KTtcblxuICAgIGxheWVycy5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHsgaWQ6ICdudXRzMV9ub19kYXRhJywgZmlsbDogJ3doaXRlJywgJ2ZpbGwtb3BhY2l0eSc6IDEsICdzdHJva2Utd2lkdGgnOiAwLjUsIHN0cm9rZTogJ2xpZ2h0Z3JleScgfSlcbiAgICAgIC5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLmRhdGEobm9fZGF0YV9mZWF0dXJlcylcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRyKCdkJywgcGF0aCk7XG5cbiAgICB0aGlzLm51dHMxX2x5ciA9IGxheWVycy5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHsgaWQ6ICdudXRzMScsICdmaWxsLW9wYWNpdHknOiAxLCAnc3Ryb2tlLXdpZHRoJzogMC41LCBzdHJva2U6ICcjZmZmZmZmJyB9KTtcbiAgICB0aGlzLm51dHMxX2x5ci5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLmRhdGEobnV0czEuZmVhdHVyZXMpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgncGF0aCcpXG4gICAgICAuYXR0cignZmlsbCcsIGQgPT4gKGQucHJvcGVydGllcy5OVVRTMV8yMDE2ICE9PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uID8gY29sb3JfY291bnRyaWVzIDogJ3llbGxvdycpKVxuICAgICAgLmF0dHIoJ2QnLCBwYXRoKTtcblxuICAgIGZpdExheWVyKCk7XG4gIH1cblxuICByZXNldFpvb20oKSB7XG4gICAgc3ZnX21hcC50cmFuc2l0aW9uKClcbiAgICAgIC5kdXJhdGlvbig3NTApXG4gICAgICAuY2FsbCh0aGlzLnpvb21fbWFwLnRyYW5zZm9ybSwgZDMuem9vbUlkZW50aXR5KTtcbiAgfVxuXG4gIGJpbmRCcnVzaChzdmdfYmFyLCBicnVzaF90b3AsIGJydXNoX2JvdHRvbSwgZm9jdXMpIHtcbiAgICB0aGlzLmJydXNoX21hcCA9IGQzLmJydXNoKClcbiAgICAgIC5leHRlbnQoW1swLCAwXSwgW3dpZHRoX21hcCwgaGVpZ2h0X21hcF1dKVxuICAgICAgLm9uKCdzdGFydCBicnVzaCcsICgpID0+IHtcbiAgICAgICAgaWYgKCFkMy5ldmVudCB8fCAhZDMuZXZlbnQuc2VsZWN0aW9uKSByZXR1cm47XG4gICAgICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfdG9wJykuY2FsbChicnVzaF90b3AubW92ZSwgbnVsbCk7XG4gICAgICAgIGNvbnN0IFt0b3BsZWZ0LCBib3R0b21yaWdodF0gPSBkMy5ldmVudC5zZWxlY3Rpb247XG4gICAgICAgIC8vIGNvbnN0IHRyYW5zZm9ybSA9IHN2Z19tYXAubm9kZSgpLl9fem9vbTtcbiAgICAgICAgLy8gdG9wbGVmdFswXSA9ICh0b3BsZWZ0WzBdIC0gdHJhbnNmb3JtLngpIC8gdHJhbnNmb3JtLms7XG4gICAgICAgIC8vIHRvcGxlZnRbMV0gPSAodG9wbGVmdFsxXSAtIHRyYW5zZm9ybS55KSAvIHRyYW5zZm9ybS5rO1xuICAgICAgICAvLyBib3R0b21yaWdodFswXSA9IChib3R0b21yaWdodFswXSAtIHRyYW5zZm9ybS54KSAvIHRyYW5zZm9ybS5rO1xuICAgICAgICAvLyBib3R0b21yaWdodFsxXSA9IChib3R0b21yaWdodFsxXSAtIHRyYW5zZm9ybS55KSAvIHRyYW5zZm9ybS5rO1xuICAgICAgICBjb25zdCByZWN0ID0gbmV3IFJlY3QodG9wbGVmdCwgYm90dG9tcmlnaHQpO1xuICAgICAgICBhcHAuY29sb3JzID0ge307XG4gICAgICAgIHRoaXMubnV0czFfbHlyLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAgICAgLmF0dHIoJ2ZpbGwnLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgY29uc3QgaWQgPSBkLnByb3BlcnRpZXMuTlVUUzFfMjAxNjtcbiAgICAgICAgICAgIGlmIChpZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbikge1xuICAgICAgICAgICAgICBhcHAuY29sb3JzW2lkXSA9ICd5ZWxsb3cnO1xuICAgICAgICAgICAgICByZXR1cm4gJ3llbGxvdyc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFwcC5jdXJyZW50X2lkcy5pbmRleE9mKGlkKSA8IDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yX2Rpc2FibGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLl9wdHMpIHtcbiAgICAgICAgICAgICAgdGhpcy5fcHRzID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2QnKS5zbGljZSgxKS5zcGxpdCgnTCcpLm1hcChwdCA9PiBwdC5zcGxpdCgnLCcpLm1hcChhID0+ICthKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwdHMgPSB0aGlzLl9wdHM7XG4gICAgICAgICAgICBmb3IgKGxldCBpeCA9IDAsIG5iX3B0cyA9IHB0cy5sZW5ndGg7IGl4IDwgbmJfcHRzOyBpeCsrKSB7XG4gICAgICAgICAgICAgIGlmIChyZWN0LmNvbnRhaW5zKHB0c1tpeF0pKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvXTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb2xvciA9IGNvbXAodmFsdWUsIGFwcC5jdXJyZW50X2NvbmZpZy5yZWZfdmFsdWUsIGFwcC5zZXJpZV9pbnZlcnNlZCk7XG4gICAgICAgICAgICAgICAgYXBwLmNvbG9yc1tpZF0gPSBjb2xvcjtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb2xvcl9jb3VudHJpZXM7XG4gICAgICAgICAgfSk7XG4gICAgICAgIGZvY3VzLnNlbGVjdEFsbCgnLmJhcicpXG4gICAgICAgICAgLnN0eWxlKCdmaWxsJywgZCA9PiBhcHAuY29sb3JzW2QuaWRdIHx8IGNvbG9yX2NvdW50cmllcyk7XG4gICAgICAgIGNvbnN0IGlkcyA9IE9iamVjdC5rZXlzKGFwcC5jb2xvcnMpO1xuICAgICAgICBjb25zdCByYW5rcyA9IGlkcy5tYXAoZCA9PiBhcHAuY3VycmVudF9pZHMuaW5kZXhPZihkLmlkKSA+IC0xKS5tYXAoZCA9PiBhcHAuY3VycmVudF9yYW5rc1tkXSk7XG4gICAgICAgIGlmIChyYW5rcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgY29uc3QgYzEgPSByYW5rc1swXSAtIDE7XG4gICAgICAgICAgY29uc3QgYzIgPSByYW5rc1tyYW5rcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICBpZiAoYzEgPCBhcHAuY3VycmVudF9yYW5nZVswXSB8fCBjMiA+IGFwcC5jdXJyZW50X3JhbmdlWzFdKSB7XG4gICAgICAgICAgICBhcHAuY3VycmVudF9yYW5nZSA9IFtcbiAgICAgICAgICAgICAgcmFua3NbMF0gLSAxLFxuICAgICAgICAgICAgICByYW5rc1tyYW5rcy5sZW5ndGggLSAxXSxcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX2JvdHRvbScpLmNhbGwoXG4gICAgICAgICAgICAgIGJydXNoX2JvdHRvbS5tb3ZlLFxuICAgICAgICAgICAgICBbYXBwLmN1cnJlbnRfcmFuZ2VbMF0gKiAod2lkdGhfY2hhcnQgLyBhcHAubmJGdCksIGFwcC5jdXJyZW50X3JhbmdlWzFdICogKHdpZHRoX2NoYXJ0IC8gYXBwLm5iRnQpXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFwcC5jdXJyZW50X3JhbmdlID0gWzAsIGFwcC5jdXJyZW50X2RhdGEubGVuZ3RoXTtcbiAgICAgICAgICBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX2JvdHRvbScpLmNhbGwoXG4gICAgICAgICAgICBicnVzaF9ib3R0b20ubW92ZSwgeC5yYW5nZSgpKTtcbiAgICAgICAgfVxuICAgICAgICAgIC8vIGQzLnNlbGVjdCgnI215VGFibGUnKS5zZWxlY3RBbGwoJ3Rib2R5ID4gdHInKVxuICAgICAgICAgIC8vICAgLmF0dHIoJ2NsYXNzJywgZnVuY3Rpb24oZCwgaSkgeyByZXR1cm4gY29sb3JzW3RoaXMuaWQuc3BsaXQoJ3Jvd18nKVsxXV07IH0pO1xuICAgICAgfSk7XG5cbiAgICBzdmdfbWFwLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignY2xhc3MnLCAnYnJ1c2hfbWFwJylcbiAgICAgIC5jYWxsKHRoaXMuYnJ1c2hfbWFwKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBtYWtlU291cmNlU2VjdGlvbigpIHtcbiAgY29uc3QgdGV4dF96b25lID0gZDMuc2VsZWN0KCcjc3ZnX2xlZ2VuZCcpXG4gICAgLmFwcGVuZCgndGV4dCcpXG4gICAgLmF0dHJzKHsgeTogMzIuNSwgJ3RleHQtYW5jaG9yJzogJ2VuZCcgfSlcbiAgICAuc3R5bGUoJ2ZvbnQtc2l6ZScsICcxMXB4JylcbiAgICAuc3R5bGUoJ2ZvbnQtZmFtaWx5JywgJ1xcJ1NpZ25pa2FcXCcsIHNhbnMtc2VyaWYnKTtcbiAgdGV4dF96b25lLmFwcGVuZCgndHNwYW4nKVxuICAgIC5hdHRycyh7IHg6IDQ3MCwgZHk6IDEyIH0pXG4gICAgLnRleHQoJ05pdmVhdSByw6lnaW9uYWwgOiBOVVRTIDEgKHZlcnNpb24gMjAxNiknKTtcbiAgdGV4dF96b25lLmFwcGVuZCgndHNwYW4nKVxuICAgIC5hdHRycyh7IHg6IDQ3MCwgZHk6IDEyIH0pXG4gICAgLnRleHQoJ09yaWdpbmUgZGVzIGRvbm7DqWVzIDogRXVyb3N0YXQsIDIwMTYnKTtcbiAgdGV4dF96b25lLmFwcGVuZCgndHNwYW4nKVxuICAgIC5hdHRycyh7IHg6IDQ3MCwgZHk6IDEyIH0pXG4gICAgLnRleHQoJ0xpbWl0ZSBhZG1pbmlzdHJhdGl2ZTogVU1TIFJJQVRFLCBDQy1CWS1TQScpO1xufVxuXG5mdW5jdGlvbiBtYWtlTWFwTGVnZW5kKCkge1xuICBjb25zdCBsZWdlbmRfZWxlbXMgPSBbXG4gICAgeyBjb2xvcjogJ3llbGxvdycsIHRleHQ6IGBNYSByw6lnaW9uIDogJHthcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uX3ByZXR0eV9uYW1lfWAgfSxcbiAgICB7IGNvbG9yOiBjb2xvcl9jb3VudHJpZXMsIHRleHQ6ICdBdXRyZXMgcsOpZ2lvbnMgZHUgZmlsdHJlIGRlIGNvbXBhcmFpc29uJyB9LFxuICAgIHsgY29sb3I6ICdncmVlbicsIHRleHQ6ICdSYW5nIHBsdXMgw6lsZXbDqSBxdWUgbWEgcsOpZ2lvbicgfSxcbiAgICB7IGNvbG9yOiAncmVkJywgdGV4dDogJ1JhbmcgbW9pbnMgw6lsZXbDqSBxdWUgbWEgcsOpZ2lvbicgfSxcbiAgXTtcblxuICBjb25zdCByZWN0X3NpemUgPSAxNDtcbiAgY29uc3Qgc3BhY2luZyA9IDQ7XG4gIGNvbnN0IGxnZF9oZWlnaHQgPSByZWN0X3NpemUgKyBzcGFjaW5nO1xuICBjb25zdCBvZmZzZXQgPSBsZ2RfaGVpZ2h0ICogbGVnZW5kX2VsZW1zLmxlbmd0aCAvIDI7XG5cbiAgY29uc3QgZ3JwX2xnZCA9IGQzLnNlbGVjdCgnI3N2Z19sZWdlbmQnKVxuICAgIC5hcHBlbmQoJ2cnKVxuICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDUwLCA0MCknKVxuICAgIC5zdHlsZXMoeyAnZm9udC1zaXplJzogJzExcHgnLCAnZm9udC1mYW1pbHknOiAnXFwnU2lnbmlrYVxcJywgc2Fucy1zZXJpZicgfSk7XG5cbiAgY29uc3QgbGVnZW5kcyA9IGdycF9sZ2Quc2VsZWN0QWxsKCcubGVnZW5kJylcbiAgICAuZGF0YShsZWdlbmRfZWxlbXMpXG4gICAgLmVudGVyKClcbiAgICAuYXBwZW5kKCdnJylcbiAgICAuYXR0cignY2xhc3MnLCAnbGVnZW5kJylcbiAgICAuYXR0cigndHJhbnNmb3JtJywgKGQsIGkpID0+IHtcbiAgICAgIGNvbnN0IHR4ID0gLTIgKiByZWN0X3NpemU7XG4gICAgICBjb25zdCB0eSA9IGkgKiBsZ2RfaGVpZ2h0IC0gb2Zmc2V0O1xuICAgICAgLy8gcmV0dXJuICd0cmFuc2xhdGUoJyArIHR4ICsgJywnICsgdHkgKyAnKSc7XG4gICAgICByZXR1cm4gYHRyYW5zbGF0ZSgke1t0eCwgdHldfSlgO1xuICAgIH0pO1xuXG4gIGxlZ2VuZHMuYXBwZW5kKCdyZWN0JylcbiAgICAuYXR0cnMoeyB3aWR0aDogcmVjdF9zaXplLCBoZWlnaHQ6IHJlY3Rfc2l6ZSB9KVxuICAgIC5zdHlsZXMoZCA9PiAoeyBmaWxsOiBkLmNvbG9yLCBzdHJva2U6IGQuY29sb3IgfSkpO1xuXG4gIGxlZ2VuZHMuYXBwZW5kKCd0ZXh0JylcbiAgICAuYXR0cigneCcsIHJlY3Rfc2l6ZSArIHNwYWNpbmcpXG4gICAgLmF0dHIoJ3knLCByZWN0X3NpemUgLSBzcGFjaW5nKVxuICAgIC50ZXh0KGQgPT4gZC50ZXh0KTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlTGVnZW5kKCkge1xuICBkMy5zZWxlY3QoJyNzdmdfbGVnZW5kID4gZyA+IC5sZWdlbmQgPiB0ZXh0JykudGV4dChgTWEgcsOpZ2lvbiA6ICR7YXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl9wcmV0dHlfbmFtZX1gKTtcbn1cblxuZXhwb3J0IHtcbiAgTWFwU2VsZWN0LFxuICBtYWtlU291cmNlU2VjdGlvbixcbiAgbWFrZU1hcExlZ2VuZCxcbiAgdXBkYXRlTGVnZW5kLFxufTtcbiIsImltcG9ydCBkZWJ1ZyBmcm9tICdkZWJ1Zyc7XG5pbXBvcnQgeyBjcmVhdGVNZW51IH0gZnJvbSAnLi9tb2R1bGVzL21lbnVsZWZ0JztcbmltcG9ydCB7IG1ha2VUYWJsZSB9IGZyb20gJy4vbW9kdWxlcy90YWJsZSc7XG5pbXBvcnQgeyBwcmVwYXJlX2RhdGFzZXQsIGZpbHRlcl9ub19lbXB0eSB9IGZyb20gJy4vbW9kdWxlcy9wcmVwYXJlX2RhdGEnO1xuaW1wb3J0IHsgTWFwU2VsZWN0LCBtYWtlU291cmNlU2VjdGlvbiwgbWFrZU1hcExlZ2VuZCwgdXBkYXRlTGVnZW5kIH0gZnJvbSAnLi9tb2R1bGVzL21hcCc7XG5pbXBvcnQgeyBjb21wLCBtYXRoX2FicywgbWF0aF9yb3VuZCB9IGZyb20gJy4vbW9kdWxlcy9oZWxwZXJzJztcblxuZGVidWcoJ2FwcDpsb2cnKTtcblxuY29uc3QgdmFyaWFibGVzID0ge1xuICAnUGF1dnJldMOpIGV4Y2x1c2lvbic6IHtcbiAgICAnVGF1eCBkXFwnZW1wbG9pJzogJ1RYX0VNUF8yMDE0JyxcbiAgICAnVGF1eCBkZSBjaG9tYWdlJzogJ1RYX0NIT01fMjAxNCcsXG4gIH0sXG4gICdHcm91cGUgMic6IHtcbiAgICAnSW5kaWNhdGV1ciAxJzogJ0lORF8xJyxcbiAgICAnSW5kaWNhdGV1ciAyJzogJ0lORF8yJyxcbiAgfSxcbn07XG5cbmNvbnN0IHN0dWR5X3pvbmVzID0gW1xuICB7IGlkOiAnZmlsdGVyX0ZSJywgbmFtZTogJ0ZpbHRyZSBuYXRpb25hbCAoRnJhbmNlKScgfSxcbiAgeyBpZDogJ2ZpbHRlcl9wYXJhbTInLCBuYW1lOiAnRXNwYWNlIGRlIGNvbXBhcmFpc29uIG7CsDInIH0sXG5dO1xuXG5jb25zdCB0ZXJyaXRvcmlhbF9tZXNoID0gW1xuICB7IGlkOiAnTlVUUzEnLCBuYW1lOiAnTlVUUzEnIH0sXG4gIHsgaWQ6ICdOVVRTMTJzdGF0JywgbmFtZTogJ05VVFMxLzIgKHN0YXRpc3RpcXVlKScgfSxcbl07XG5cbmV4cG9ydCBjb25zdCBzdmdfYmFyID0gZDMuc2VsZWN0KCdzdmcjc3ZnX2JhcicpLFxuICBtYXJnaW4gPSB7IHRvcDogMTAsIHJpZ2h0OiAyMCwgYm90dG9tOiAxMTAsIGxlZnQ6IDMwIH0sXG4gIG1hcmdpbjIgPSB7IHRvcDogNDMwLCByaWdodDogMjAsIGJvdHRvbTogMzAsIGxlZnQ6IDMwIH0sXG4gIHdpZHRoID0gK3N2Z19iYXIuYXR0cignd2lkdGgnKSAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0LFxuICBoZWlnaHQgPSArc3ZnX2Jhci5hdHRyKCdoZWlnaHQnKSAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tLFxuICBoZWlnaHQyID0gK3N2Z19iYXIuYXR0cignaGVpZ2h0JykgLSBtYXJnaW4yLnRvcCAtIG1hcmdpbjIuYm90dG9tO1xuXG5leHBvcnQgY29uc3Qgc3ZnX21hcCA9IGQzLnNlbGVjdCgnc3ZnI3N2Z19tYXAnKSxcbiAgbWFyZ2luX21hcCA9IHsgdG9wOiA0MCwgcmlnaHQ6IDEwLCBib3R0b206IDQwLCBsZWZ0OiAxMCB9LFxuICB3aWR0aF9tYXAgPSArc3ZnX2Jhci5hdHRyKCd3aWR0aCcpIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQsXG4gIGhlaWdodF9tYXAgPSArc3ZnX2Jhci5hdHRyKCdoZWlnaHQnKSAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tO1xuXG5jb25zdCB4ID0gZDMuc2NhbGVCYW5kKCkucmFuZ2UoWzAsIHdpZHRoXSkucGFkZGluZygwLjEpLFxuICB4MiA9IGQzLnNjYWxlQmFuZCgpLnJhbmdlKFswLCB3aWR0aF0pLnBhZGRpbmcoMC4xKSxcbiAgeSA9IGQzLnNjYWxlTGluZWFyKCkucmFuZ2UoW2hlaWdodCwgMF0pLFxuICB5MiA9IGQzLnNjYWxlTGluZWFyKCkucmFuZ2UoW2hlaWdodDIsIDBdKTtcblxuY29uc3QgeEF4aXMgPSBkMy5heGlzQm90dG9tKHgpLFxuICB4QXhpczIgPSBkMy5heGlzQm90dG9tKHgyKSxcbiAgeUF4aXMgPSBkMy5heGlzTGVmdCh5KTtcblxuY29uc3QgY29sb3JfY291bnRyaWVzID0gJ3JnYigxNDcsMTQ0LDI1MiknO1xuY29uc3QgY29sb3JfZGlzYWJsZWQgPSAncmdiKDIxNCwgMjE0LCAyMTQpJztcblxuZXhwb3J0IGxldCBicnVzaF9ib3R0b20sIGJydXNoX3RvcCwgem9vbSwgcmVmX2RhdGEsIGRhdGEsIG5iRnQsIGxlbmd0aF9kYXRhc2V0LCBtZWFuX3ZhbHVlO1xubGV0IGZvY3VzLCBjb250ZXh0O1xubGV0IGRpc3BsYXllZDtcbmxldCBjdXJyZW50X3JhbmdlID0gWzAsIDBdO1xubGV0IGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbMCwgMF07XG5cbmxldCBnX2JhcjtcbmxldCBtYXBfZWxlbTtcblxuZXhwb3J0IGNvbnN0IGFwcCA9IHtcbiAgY29sb3JzOiB7fSxcbiAgY3VycnJlbnRfZGF0YTogW10sXG4gIGZ1bGxfZGF0YXNldDogW10sXG59O1xuXG5sb2FkRGF0YSgpO1xuXG5jb25zdCBjaGFuZ2VSZWdpb24gPSAoaWRfcmVnaW9uKSA9PiB7XG4gIGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24gPSBpZF9yZWdpb247XG4gIGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25fcHJldHR5X25hbWUgPSBhcHAuZmVhdHVyZV9uYW1lc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXTtcbiAgYXBwLmNvbG9ycyA9IHt9O1xuICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gJ3llbGxvdyc7XG4gIC8vIGFwcC5jdXJyZW50X2RhdGEgPSBmaWx0ZXJfbm9fZW1wdHkoYXBwKTtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLnJlZl92YWx1ZSA9IGFwcC5jdXJyZW50X2RhdGEuZmlsdGVyKGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbikubWFwKGQgPT4gZC5yYXRpbylbMF07XG4gIHVwZGF0ZSgpO1xuICB1cGRhdGVNaW5pQmFycygpO1xuICB1cGRhdGVDb250ZXh0KDAsIGRhdGEubGVuZ3RoKTtcbiAgdXBkYXRlTWFwUmVnaW8oKTtcbiAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF9ib3R0b20nKS5jYWxsKGJydXNoX2JvdHRvbS5tb3ZlLCB4LnJhbmdlKCkpO1xuICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpLmNhbGwobWFwX2VsZW0uYnJ1c2hfbWFwLm1vdmUsIG51bGwpO1xuICB1cGRhdGVMZWdlbmQoKTtcbn07XG5cblxuLy8gY29uc3QgcHJlcGFyZURhdGEgPSAoZ2VvanNvbl9sYXllcikgPT4ge1xuLy8gICByZWZfZGF0YSA9IGdlb2pzb25fbGF5ZXIuZmVhdHVyZXMuZmlsdGVyKGZ0ID0+ICtmdC5sZXZlbCA9PT0gY3VycmVudF9sZXZlbClcbi8vICAgICAubWFwKGZ0ID0+ICh7XG4vLyAgICAgICBpZDogZnQucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV0sXG4vLyAgICAgICBudW06ICtmdC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5udW1dLFxuLy8gICAgICAgZGVudW06ICtmdC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5kZW51bV0gLyAxMDAwLFxuLy8gICAgICAgLy8gVFhfRU1QXzIwMTQ6ICgrZnQucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcubnVtXSAvICtmdC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5kZW51bV0pICogMTAwMDAwLFxuLy8gICAgICAgcmF0aW86ICgrZnQucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcubnVtXSAvICtmdC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5kZW51bV0pICogMTAwMDAwLFxuLy8gICAgIH0pKS5maWx0ZXIoZnQgPT4ge1xuLy8gICAgICAgaWYgKGZ0LmlkID09PSBteV9yZWdpb24pIHtcbi8vICAgICAgICAgcmVmX3ZhbHVlID0gZnQucmF0aW87XG4vLyAgICAgICB9XG4vLyAgICAgICByZXR1cm4gZnQucmF0aW87XG4vLyAgICAgfSk7XG4vLyAgIHJlZl9kYXRhLnNvcnQoKGEsIGIpID0+IGEucmF0aW8gLSBiLnJhdGlvKTtcbi8vICAgcmVmX2RhdGEuZm9yRWFjaCgoZCwgaSkgPT4gZC5yYW5nID0gaSArIDEpO1xuLy8gICByZXR1cm4gcmVmX2RhdGE7XG4vLyB9O1xuXG5mdW5jdGlvbiBsb2FkRGF0YSgpIHtcbiAgZDMucXVldWUoNClcbiAgICAuZGVmZXIoZDMuY3N2LCAnZGF0YS9SRUdJT1ZJWl9EQVRBX2FnZ3JlZ2F0ZWQuY3N2JylcbiAgICAuZGVmZXIoZDMuanNvbiwgJ2RhdGEvY2dldC1udXRzMS0zMDM1Lmdlb2pzb24nKVxuICAgIC5kZWZlcihkMy5qc29uLCAnZGF0YS9jb3VudHJpZXMzMDM1Lmdlb2pzb24nKVxuICAgIC5kZWZlcihkMy5qc29uLCAnZGF0YS9yZW1vdGUzMDM1Lmdlb2pzb24nKVxuICAgIC5kZWZlcihkMy5qc29uLCAnZGF0YS90ZW1wbGF0ZTMwMzUuZ2VvanNvbicpXG4gICAgLmRlZmVyKGQzLmpzb24sICdkYXRhL3NlYV9ib3hlcy5nZW9qc29uJylcbiAgICAuYXdhaXRBbGwoKGVycm9yLCByZXN1bHRzKSA9PiB7XG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICAgICAgY29uc3QgW2Z1bGxfZGF0YXNldCwgbnV0czEsIGNvdW50cmllcywgcmVtb3RlLCB0ZW1wbGF0ZSwgc2VhYm94ZXNdID0gcmVzdWx0cztcblxuICAgICAgcHJlcGFyZV9kYXRhc2V0KGZ1bGxfZGF0YXNldCwgYXBwKTtcblxuICAgICAgYXBwLmN1cnJlbnRfY29uZmlnID0ge1xuICAgICAgICBpZF9maWVsZDogJ2dlbycsXG4gICAgICAgIGlkX2ZpZWxkX2dlb206ICdOVVRTMV8yMDE2JyxcbiAgICAgICAgbnVtOiAnQ0hPTV8xNTI0XzIwMTUnLFxuICAgICAgICBkZW51bTogJ0FDVF8xNTI0XzIwMTUnLFxuICAgICAgICByYXRpbzogJ1BDX0NIT01fMTUyNF8yMDE1JyxcbiAgICAgICAgcmF0aW9fcHJldHR5X25hbWU6ICdUYXV4IGRcXCdlbXBsb2kgKDIwMTUpJyxcbiAgICAgICAgY3VycmVudF9sZXZlbDogMSxcbiAgICAgICAgbXlfcmVnaW9uOiAnRlJFJyxcbiAgICAgICAgbXlfcmVnaW9uX3ByZXR0eV9uYW1lOiBhcHAuZmVhdHVyZV9uYW1lc1snRlJFJ10sXG4gICAgICB9O1xuICAgICAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9ICd5ZWxsb3cnO1xuICAgICAgY3JlYXRlTWVudShmdWxsX2RhdGFzZXQsIHZhcmlhYmxlcywgc3R1ZHlfem9uZXMsIHRlcnJpdG9yaWFsX21lc2gpO1xuICAgICAgYXBwLmN1cnJlbnRfZGF0YSA9IGZpbHRlcl9ub19lbXB0eShhcHApO1xuICAgICAgbWFwX2VsZW0gPSBuZXcgTWFwU2VsZWN0KG51dHMxLCBjb3VudHJpZXMsIHJlbW90ZSwgdGVtcGxhdGUsIHNlYWJveGVzKTtcbiAgICAgIG1ha2VDaGFydChhcHAuY3VycmVudF9kYXRhKTtcbiAgICAgIG1ha2VVSSgpO1xuICAgICAgbWFwX2VsZW0uYmluZEJydXNoKHN2Z19iYXIsIGJydXNoX3RvcCwgYnJ1c2hfYm90dG9tLCBmb2N1cyk7XG4gICAgICBtYWtlU291cmNlU2VjdGlvbigpO1xuICAgICAgbWFrZU1hcExlZ2VuZCgpO1xuICAgICAgbWFrZVRhYmxlKGFwcC5jdXJyZW50X2RhdGEsIGFwcC5jdXJyZW50X2NvbmZpZyk7XG4gICAgICBjb25zb2xlLmxvZyhhcHApO1xuICAgIH0pO1xufVxuXG5cbmZ1bmN0aW9uIG1ha2VVSSgpIHtcbiAgZDMuc2VsZWN0KCcjYmFyX3NlY3Rpb24nKVxuICAgIC5pbnNlcnQoJ3AnLCAnc3ZnJylcbiAgICAuYXR0cignY2xhc3MnLCAndGl0bGVfbWVudScpXG4gICAgLnN0eWxlKCdtYXJnaW4tdG9wJywgJzE1cHgnKVxuICAgIC5zdHlsZSgnZm9udC1zaXplJywgJzAuNzVlbScpXG4gICAgLnRleHQoJ1JhbmcgKDEgaW5kaXZpZHUpJyk7XG4gIGNvbnN0IGhlYWRlcl9iYXJfc2VjdGlvbiA9ICBkMy5zZWxlY3QoJyNiYXJfc2VjdGlvbicpXG4gICAgLmluc2VydCgncCcsICdzdmcnKVxuICAgIC5zdHlsZSgnbWFyZ2luLWJvdHRvbScsICcwJyk7XG4gIGhlYWRlcl9iYXJfc2VjdGlvbi5pbnNlcnQoJ3NwYW4nKVxuICAgIC5zdHlsZXMoe1xuICAgICAgJ2ZvbnQtZmFtaWx5JzogJ1xcJ1NpZ25pa2FcXCcsIHNhbnMtc2VyaWYnLFxuICAgICAgJ2ZvbnQtd2VpZ2h0JzogJzgwMCcsXG4gICAgICAnZm9udC1zaXplJzogJzE0cHgnLFxuICAgICAgJ21hcmdpbi10b3AnOiAnMTJweCcsXG4gICAgICAnbWFyZ2luLWxlZnQnOiAnNDBweCcsXG4gICAgICBmbG9hdDogJ2xlZnQnLFxuICAgIH0pXG4gICAgLmF0dHIoJ2NsYXNzJywgJ3RpdGxlX3ZhcmlhYmxlJylcbiAgICAuaHRtbChhcHAuY3VycmVudF9jb25maWcucmF0aW9fcHJldHR5X25hbWUpO1xuICBoZWFkZXJfYmFyX3NlY3Rpb24uaW5zZXJ0KCdpbWcnKVxuICAgIC5hdHRycyh7XG4gICAgICB3aWR0aDogMjQsXG4gICAgICBoZWlnaHQ6IDI0LFxuICAgICAgc3JjOiAnaW1nL2VkaXQtdGFibGUtaW5zZXJ0LXJvdy1hYm92ZS5zdmcnLFxuICAgICAgaWQ6ICdpbWdfdGFibGUnLFxuICAgIH0pXG4gICAgLnN0eWxlKCdtYXJnaW4nLCAnM3B4JylcbiAgICAuc3R5bGUoJ2Zsb2F0JywgJ3JpZ2h0JylcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kYXRhVGFibGUtd3JhcHBlcicpLnN0eWxlLmRpc3BsYXkpIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N2Z19tYXAnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3ZnX2xlZ2VuZCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNoZWFkZXJfbWFwJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2hlYWRlcl90YWJsZScpLnN0eWxlLmRpc3BsYXkgPSBudWxsO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGF0YVRhYmxlLXdyYXBwZXInKS5zdHlsZS5kaXNwbGF5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdHlsZS5maWx0ZXIgPSAnaW52ZXJ0KDc1JSknO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N2Z19tYXAnKS5zdHlsZS5kaXNwbGF5ID0gbnVsbDtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N2Z19sZWdlbmQnKS5zdHlsZS5kaXNwbGF5ID0gbnVsbDtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2hlYWRlcl9tYXAnKS5zdHlsZS5kaXNwbGF5ID0gbnVsbDtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2hlYWRlcl90YWJsZScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kYXRhVGFibGUtd3JhcHBlcicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIHRoaXMuc3R5bGUuZmlsdGVyID0gbnVsbDtcbiAgICAgIH1cbiAgICB9KTtcblxuICBoZWFkZXJfYmFyX3NlY3Rpb24uaW5zZXJ0KCdpbWcnKVxuICAgIC5hdHRycyh7XG4gICAgICB3aWR0aDogMjQsXG4gICAgICBoZWlnaHQ6IDI0LFxuICAgICAgc3JjOiAnaW1nL3ByaW50ZXIuc3ZnJyxcbiAgICAgIGlkOiAnaW1nX3ByaW50ZXInLFxuICAgIH0pXG4gICAgLnN0eWxlKCdtYXJnaW4nLCAnM3B4JylcbiAgICAuc3R5bGUoJ2Zsb2F0JywgJ3JpZ2h0Jyk7XG5cbiAgaGVhZGVyX2Jhcl9zZWN0aW9uLmluc2VydCgnaW1nJylcbiAgICAuYXR0cnMoe1xuICAgICAgd2lkdGg6IDI0LFxuICAgICAgaGVpZ2h0OiAyNCxcbiAgICAgIHNyYzogJ2ltZy9ndGstaW5mby5zdmcnLFxuICAgICAgaWQ6ICdpbWdfaW5mbycsXG4gICAgfSlcbiAgICAuc3R5bGUoJ21hcmdpbicsICczcHgnKVxuICAgIC5zdHlsZSgnZmxvYXQnLCAncmlnaHQnKTtcblxuICBkMy5zZWxlY3RBbGwoJ3NwYW4uZmlsdGVyX3YnKVxuICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdjaGVja2VkJykpIHtcbiAgICAgICAgZDMuc2VsZWN0QWxsKCdzcGFuLmZpbHRlcl92JykuYXR0cignY2xhc3MnLCAnZmlsdGVyX3Ygc3F1YXJlJyk7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnY2hlY2tlZCcpO1xuICAgICAgICBjb25zdCBmaWx0ZXJfdHlwZSA9IHRoaXMuZ2V0QXR0cmlidXRlKCdmaWx0ZXItdmFsdWUnKTtcbiAgICAgICAgYXBwbHlGaWx0ZXIoZmlsdGVyX3R5cGUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIGQzLnNlbGVjdEFsbCgnc3Bhbi50YXJnZXRfcmVnaW9uJylcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCF0aGlzLmNsYXNzTGlzdC5jb250YWlucygnY2hlY2tlZCcpKSB7XG4gICAgICAgIGQzLnNlbGVjdEFsbCgnc3Bhbi50YXJnZXRfcmVnaW9uJykuYXR0cignY2xhc3MnLCAndGFyZ2V0X3JlZ2lvbiBzcXVhcmUnKTtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XG4gICAgICAgIGNoYW5nZVJlZ2lvbih0aGlzLmdldEF0dHJpYnV0ZSgndmFsdWUnKSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgZDMuc2VsZWN0QWxsKCdzcGFuLmxhYmVsX2NoaycpXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMucHJldmlvdXNTaWJsaW5nLmNsaWNrKCk7XG4gICAgfSk7XG5cbiAgY29uc3QgaGVhZGVyX21hcF9zZWN0aW9uID0gIGQzLnNlbGVjdCgnI21hcF9zZWN0aW9uJylcbiAgICAuaW5zZXJ0KCdwJywgJ3N2ZycpXG4gICAgLmF0dHIoJ2lkJywgJ2hlYWRlcl9tYXAnKVxuICAgIC5zdHlsZSgnbWFyZ2luLWJvdHRvbScsICcwJylcbiAgICAuc3R5bGUoJ21hcmdpbi10b3AnLCAnMCcpXG4gICAgLnN0eWxlKCdtYXJnaW4tbGVmdCcsICcxMHB4Jyk7XG5cbiAgaGVhZGVyX21hcF9zZWN0aW9uLmluc2VydCgnaW1nJylcbiAgICAuYXR0cnMoe1xuICAgICAgd2lkdGg6IDIwLFxuICAgICAgaGVpZ2h0OiAyMCxcbiAgICAgIHNyYzogJ2ltZy9naW1wLXRvb2wtcmVjdC1zZWxlY3QucG5nJyxcbiAgICAgIGlkOiAnaW1nX3JlY3Rfc2VsZWMnLFxuICAgICAgY2xhc3M6ICdhY3RpdmUnLFxuICAgIH0pXG4gICAgLnN0eWxlcyh7XG4gICAgICBtYXJnaW46ICczcHgnLFxuICAgICAgZmxvYXQ6ICdsZWZ0JyxcbiAgICB9KVxuICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICB0aGlzLnN0eWxlLmZpbHRlciA9ICcnO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX21hcF96b29tJykuc3R5bGUuZmlsdGVyID0gJ29wYWNpdHkoMjUlKSc7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfbWFwX3pvb20nKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19tYXBfc2VsZWN0Jykuc3R5bGUuZmlsdGVyID0gJ29wYWNpdHkoMjUlKSc7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfbWFwX3NlbGVjdCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICBzdmdfbWFwLm9uKCcuem9vbScsIG51bGwpO1xuICAgICAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpLnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7XG4gICAgICAgIG1hcF9lbGVtLm51dHMxX2x5ci5zZWxlY3RBbGwoJ3BhdGgnKS5vbignY2xpY2snLCBudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICBoZWFkZXJfbWFwX3NlY3Rpb24uaW5zZXJ0KCdpbWcnKVxuICAgIC5hdHRycyh7XG4gICAgICB3aWR0aDogMjAsXG4gICAgICBoZWlnaHQ6IDIwLFxuICAgICAgc3JjOiAnaW1nL2dpbXAtdG9vbC16b29tLnBuZycsXG4gICAgICBpZDogJ2ltZ19tYXBfem9vbScsXG4gICAgfSlcbiAgICAuc3R5bGVzKHtcbiAgICAgIG1hcmdpbjogJzNweCcsXG4gICAgICBmbG9hdDogJ2xlZnQnLFxuICAgICAgZmlsdGVyOiAnb3BhY2l0eSgyNSUpJyxcbiAgICB9KVxuICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICB0aGlzLnN0eWxlLmZpbHRlciA9ICcnO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX3JlY3Rfc2VsZWMnKS5zdHlsZS5maWx0ZXIgPSAnb3BhY2l0eSgyNSUpJztcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19yZWN0X3NlbGVjJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfbWFwX3NlbGVjdCcpLnN0eWxlLmZpbHRlciA9ICdvcGFjaXR5KDI1JSknO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX21hcF9zZWxlY3QnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgc3ZnX21hcC5jYWxsKG1hcF9lbGVtLnpvb21fbWFwKTtcbiAgICAgICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKS5jYWxsKG1hcF9lbGVtLmJydXNoX21hcC5tb3ZlLCBudWxsKTtcbiAgICAgICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgIG1hcF9lbGVtLm51dHMxX2x5ci5zZWxlY3RBbGwoJ3BhdGgnKS5vbignY2xpY2snLCBudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICBoZWFkZXJfbWFwX3NlY3Rpb24uaW5zZXJ0KCdpbWcnKVxuICAgIC5hdHRycyh7XG4gICAgICB3aWR0aDogMjAsXG4gICAgICBoZWlnaHQ6IDIwLFxuICAgICAgc3JjOiAnaW1nL2dpbXAtY3Vyc29yLnBuZycsXG4gICAgICBpZDogJ2ltZ19tYXBfc2VsZWN0JyxcbiAgICB9KVxuICAgIC5zdHlsZXMoe1xuICAgICAgbWFyZ2luOiAnM3B4JyxcbiAgICAgIGZsb2F0OiAnbGVmdCcsXG4gICAgICBmaWx0ZXI6ICdvcGFjaXR5KDI1JSknLFxuICAgIH0pXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIHRoaXMuc3R5bGUuZmlsdGVyID0gJyc7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfcmVjdF9zZWxlYycpLnN0eWxlLmZpbHRlciA9ICdvcGFjaXR5KDI1JSknO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX3JlY3Rfc2VsZWMnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19tYXBfem9vbScpLnN0eWxlLmZpbHRlciA9ICdvcGFjaXR5KDI1JSknO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX21hcF96b29tJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgIHN2Z19tYXAub24oJy56b29tJywgbnVsbCk7XG4gICAgICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJykuY2FsbChtYXBfZWxlbS5icnVzaF9tYXAubW92ZSwgbnVsbCk7XG4gICAgICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJykuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICBtYXBfZWxlbS5udXRzMV9seXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXTtcbiAgICAgICAgICAgIGlmIChhcHAuY3VycmVudF9pZHMuaW5kZXhPZihpZCkgPCAwIHx8IGlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKSByZXR1cm47XG4gICAgICAgICAgICBpZiAoYXBwLmNvbG9yc1tpZF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBhcHAuY29sb3JzW2lkXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMpLmF0dHIoJ2ZpbGwnLCBjb2xvcl9jb3VudHJpZXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gY29uc3QgdmFsdWUgPSBkLnByb3BlcnRpZXMucmF0aW87XG4gICAgICAgICAgICAgIC8vIGNvbnN0IGNvbG9yID0gY29tcCh2YWx1ZSwgcmVmX3ZhbHVlKTtcbiAgICAgICAgICAgICAgLy8gYXBwLmNvbG9yc1tpZF0gPSBjb2xvcjtcbiAgICAgICAgICAgICAgLy8gZDMuc2VsZWN0KHRoaXMpLmF0dHIoJ2ZpbGwnLCBjb2xvcik7XG4gICAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKS5hdHRyKCdmaWxsJywgYXBwLmNvbG9yc1tpZF0gPSBjb21wKGQucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcucmF0aW9dLCBhcHAuY3VycmVudF9jb25maWcucmVmX3ZhbHVlLCBhcHAuc2VyaWVfaW52ZXJzZWQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVwZGF0ZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIGNvbnN0IGhlYWRlcl90YWJsZV9zZWN0aW9uID0gZDMuc2VsZWN0KCcjbWFwX3NlY3Rpb24nKVxuICAgICAgLmluc2VydCgncCcsICdzdmcnKVxuICAgICAgLmF0dHIoJ2lkJywgJ2hlYWRlcl90YWJsZScpXG4gICAgICAuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpXG4gICAgICAuc3R5bGUoJ3RleHQtYWxpZ24nLCAncmlnaHQnKVxuICAgICAgLnN0eWxlKCdtYXJnaW4nLCAnYXV0bycpO1xuXG4gIGhlYWRlcl90YWJsZV9zZWN0aW9uLmFwcGVuZCgnc3BhbicpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ2J1dHRvbl9ibHVlJylcbiAgICAuaHRtbCgnQ1NWJylcbiAgICAub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgY29udGVudCA9IFtcbiAgICAgICAgJ2lkLE51bcOpcmF0ZXVyLETDqW5vbWluYXRldXIsUmF0aW8sUmFuZ1xcclxcbicsXG4gICAgICAgIHJlZl9kYXRhLm1hcChkID0+IFtkLmlkLCBkLm51bSwgZC5kZW51bSwgZC5yYXRpbywgZC5yYW5nXS5qb2luKCcsJykpLmpvaW4oJ1xcclxcbicpLFxuICAgICAgXS5qb2luKCcnKTtcbiAgICAgIGNvbnN0IGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICBlbGVtLnNldEF0dHJpYnV0ZSgnaHJlZicsIGBkYXRhOnRleHQvcGxhaW47Y2hhcnNldD11dGYtOCwke2VuY29kZVVSSUNvbXBvbmVudChjb250ZW50KX1gKTtcbiAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsICd0YWJsZS5jc3YnKTtcbiAgICAgIGVsZW0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWxlbSk7XG4gICAgICBlbGVtLmNsaWNrKCk7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGVsZW0pO1xuICAgIH0pO1xuXG4gIGNvbnN0IGJ1dHRvbnNfdW5kZXJfY2hhcnQgPSBkMy5zZWxlY3QoJyNiYXJfc2VjdGlvbicpXG4gICAgLmFwcGVuZCgnZGl2JylcbiAgICAuc3R5bGVzKHsgcGFkZGluZzogJzEwcHgnLCAndGV4dC1hbGlnbic6ICdjZW50ZXInIH0pO1xuXG4gIGJ1dHRvbnNfdW5kZXJfY2hhcnQuYXBwZW5kKCdidXR0b24nKVxuICAgIC5hdHRycyh7IGNsYXNzOiAnYnV0dG9uX2JsdWUnLCBpZDogJ2J0bl9hYm92ZV9tZWFuJyB9KVxuICAgIC5zdHlsZSgnbWFyZ2luJywgJzhweCcpXG4gICAgLnRleHQoJzwgw6AgbGEgbW95ZW5uZScpXG4gICAgLm9uKCdjbGljaycsIHNlbGVjdEJlbG93TWVhbik7XG5cbiAgYnV0dG9uc191bmRlcl9jaGFydC5hcHBlbmQoJ2J1dHRvbicpXG4gICAgLmF0dHJzKHsgY2xhc3M6ICdidXR0b25fYmx1ZScsIGlkOiAnYnRuX2JlbG93X21lYW4nIH0pXG4gICAgLnN0eWxlKCdtYXJnaW4nLCAnOHB4JylcbiAgICAudGV4dCgnPiDDoCBsYSBtb3llbm5lJylcbiAgICAub24oJ2NsaWNrJywgc2VsZWN0QWJvdmVNZWFuKTtcblxuICBidXR0b25zX3VuZGVyX2NoYXJ0LmFwcGVuZCgnYnV0dG9uJylcbiAgICAuYXR0cnMoeyBjbGFzczogJ2J1dHRvbl9ibHVlJywgaWQ6ICdidG5fYWJvdmVfbXlfcmVnaW9uJyB9KVxuICAgIC5zdHlsZSgnbWFyZ2luJywgJzhweCcpXG4gICAgLnRleHQoJzwgw6AgbWEgcsOpZ2lvbicpXG4gICAgLm9uKCdjbGljaycsIHNlbGVjdEJlbG93TXlSZWdpb24pO1xuXG4gIGJ1dHRvbnNfdW5kZXJfY2hhcnQuYXBwZW5kKCdidXR0b24nKVxuICAgIC5hdHRycyh7IGNsYXNzOiAnYnV0dG9uX2JsdWUnLCBpZDogJ2J0bl9iZWxvd19teV9yZWdpb24nIH0pXG4gICAgLnN0eWxlKCdtYXJnaW4nLCAnOHB4JylcbiAgICAudGV4dCgnPiDDoCBtYSByw6lnaW9uJylcbiAgICAub24oJ2NsaWNrJywgc2VsZWN0QWJvdmVNeVJlZ2lvbik7XG59XG5cbmZ1bmN0aW9uIG1ha2VDaGFydChyZWZfZGF0YSkge1xuICBkYXRhID0gW10uY29uY2F0KHJlZl9kYXRhKTtcbiAgZGF0YS5zb3J0KChhLCBiKSA9PiBhLnJhdGlvIC0gYi5yYXRpbyk7XG4gIGFwcC5jdXJyZW50X2lkcyA9IGRhdGEubWFwKGQgPT4gZC5pZCk7XG4gIGFwcC5jdXJyZW50X3JhbmtzID0gZGF0YS5tYXAoKGQsIGkpID0+IGkgKyAxKTtcbiAgbmJGdCA9IGRhdGEubGVuZ3RoO1xuICBtZWFuX3ZhbHVlID0gZDMubWVhbihkYXRhLm1hcChkID0+IGQucmF0aW8pKTtcbiAgYnJ1c2hfYm90dG9tID0gZDMuYnJ1c2hYKClcbiAgICAuZXh0ZW50KFtbMCwgMF0sIFt3aWR0aCwgaGVpZ2h0Ml1dKVxuICAgIC5vbignYnJ1c2ggZW5kJywgYnJ1c2hlZCk7XG5cbiAgYnJ1c2hfdG9wID0gZDMuYnJ1c2hYKClcbiAgICAuZXh0ZW50KFtbMCwgMF0sIFt3aWR0aCwgaGVpZ2h0XV0pXG4gICAgLm9uKCdicnVzaCBlbmQnLCBicnVzaGVkX3RvcCk7XG5cbiAgem9vbSA9IGQzLnpvb20oKVxuICAgIC5zY2FsZUV4dGVudChbMSwgSW5maW5pdHldKVxuICAgIC50cmFuc2xhdGVFeHRlbnQoW1swLCAwXSwgW3dpZHRoLCBoZWlnaHRdXSlcbiAgICAuZXh0ZW50KFtbMCwgMF0sIFt3aWR0aCwgaGVpZ2h0XV0pO1xuICAgIC8vIC5vbihcInpvb21cIiwgem9vbWVkKTtcblxuICBzdmdfYmFyLmFwcGVuZCgnZGVmcycpXG4gICAgLmFwcGVuZCgnY2xpcFBhdGgnKVxuICAgIC5hdHRyKCdpZCcsICdjbGlwJylcbiAgICAuYXBwZW5kKCdyZWN0JylcbiAgICAuYXR0cignd2lkdGgnLCB3aWR0aClcbiAgICAuYXR0cignaGVpZ2h0JywgaGVpZ2h0KTtcblxuICBmb2N1cyA9IHN2Z19iYXIuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdmb2N1cycpXG4gICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke21hcmdpbi5sZWZ0fSwgJHttYXJnaW4udG9wfSlgKTtcblxuICBjb250ZXh0ID0gc3ZnX2Jhci5hcHBlbmQoXCJnXCIpXG4gICAgICAuYXR0cignY2xhc3MnLCAnY29udGV4dCcpXG4gICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke21hcmdpbjIubGVmdH0sICR7bWFyZ2luMi50b3B9KWApO1xuXG4gIHguZG9tYWluKGRhdGEubWFwKGZ0ID0+IGZ0LmlkKSk7XG4gIHkuZG9tYWluKFtkMy5taW4oZGF0YSwgZCA9PiBkLnJhdGlvKSwgZDMubWF4KGRhdGEsIGQgPT4gZC5yYXRpbyldKTtcbiAgeDIuZG9tYWluKHguZG9tYWluKCkpO1xuICB5Mi5kb21haW4oeS5kb21haW4oKSk7XG5cbiAgZm9jdXMuYXBwZW5kKCdnJylcbiAgICAuYXR0cnMoeyBjbGFzczogJ2F4aXMgYXhpcy0teCcsIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgwLCAke2hlaWdodH0pYCB9KVxuICAgIC5jYWxsKHhBeGlzKTtcblxuICBmb2N1cy5zZWxlY3QoJy5heGlzLS14JylcbiAgICAuc2VsZWN0QWxsKCd0ZXh0JylcbiAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ2VuZCcpXG4gICAgLmF0dHJzKHsgZHg6ICctMC44ZW0nLCBkeTogJzAuMTVlbScsIHRyYW5zZm9ybTogJ3JvdGF0ZSgtNjUpJyB9KTtcblxuICBmb2N1cy5hcHBlbmQoJ2cnKVxuICAgIC5hdHRyKCdjbGFzcycsICdheGlzIGF4aXMtLXknKVxuICAgIC5jYWxsKHlBeGlzKTtcblxuICBnX2JhciA9IGZvY3VzLmFwcGVuZCgnZycpO1xuXG4gIGNvbnN0IGdyb3VwZV9saW5lX21lYW4gPSBmb2N1cy5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdtZWFuJyk7XG4gIGdyb3VwZV9saW5lX21lYW4uYXBwZW5kKCd0ZXh0JylcbiAgICAuYXR0cnMoeyB4OiA2MCwgeTogeShtZWFuX3ZhbHVlKSArIDIwIH0pXG4gICAgLnN0eWxlcyh7XG4gICAgICBkaXNwbGF5OiAnbm9uZScsXG4gICAgICBmaWxsOiAncmVkJyxcbiAgICAgICdmaWxsLW9wYWNpdHknOiAnMC44JyxcbiAgICAgICdmb250LWZhbWlseSc6ICdcXCdTaWduaWthXFwnLCBzYW5zLXNlcmlmJyxcbiAgICB9KVxuICAgIC50ZXh0KCdWYWxldXIgbW95ZW5uZScpO1xuXG4gIGdyb3VwZV9saW5lX21lYW4uYXBwZW5kKCdsaW5lJylcbiAgICAuYXR0cnMoe1xuICAgICAgeDE6IDAsXG4gICAgICB4Mjogd2lkdGgsXG4gICAgICB5MTogeShtZWFuX3ZhbHVlKSxcbiAgICAgIHkyOiB5KG1lYW5fdmFsdWUpLFxuICAgICAgJ3N0cm9rZS1kYXNoYXJyYXknOiAnMTAsIDUnLFxuICAgICAgJ3N0cm9rZS13aWR0aCc6ICcycHgnLFxuICAgICAgY2xhc3M6ICdtZWFuX2xpbmUnLFxuICAgIH0pXG4gICAgLnN0eWxlKCdzdHJva2UnLCAncmVkJyk7XG5cbiAgLy8gZ3JvdXBlX2xpbmVfbWVhbi5hcHBlbmQoJ2xpbmUnKVxuICAvLyAgICAgLmF0dHJzKHsgeDE6IDAsIHgyOiB3aWR0aCwgeTE6IHkobWVhbl92YWx1ZSksIHkyOiB5KG1lYW5fdmFsdWUpLCAnc3Ryb2tlLXdpZHRoJzogJzE0cHgnIH0pXG4gIC8vICAgICAuc3R5bGUoJ3N0cm9rZScsICd0cmFuc3BhcmVudCcpXG4gIC8vICAgICAub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uICgpe1xuICAvLyAgICAgICBncm91cGVfbGluZV9tZWFuLnNlbGVjdCgndGV4dCcpLnN0eWxlKCdkaXNwbGF5JywgJ2luaXRpYWwnKTtcbiAgLy8gICAgIH0pXG4gIC8vICAgICAub24oJ21vdXNlb3V0JywgZnVuY3Rpb24gKCkge1xuICAvLyAgICAgICBncm91cGVfbGluZV9tZWFuLnNlbGVjdCgndGV4dCcpLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgLy8gICAgIH0pO1xuXG4gIHVwZGF0ZU1pbmlCYXJzKCk7XG5cbiAgY29udGV4dC5hcHBlbmQoJ2cnKVxuICAgIC5hdHRyKCdjbGFzcycsICdicnVzaF9ib3R0b20nKVxuICAgIC5jYWxsKGJydXNoX2JvdHRvbSlcbiAgICAuY2FsbChicnVzaF9ib3R0b20ubW92ZSwgeC5yYW5nZSgpKTtcblxuICBmb2N1cy5hcHBlbmQoJ2cnKVxuICAgIC5hdHRyKCdjbGFzcycsICdicnVzaF90b3AnKVxuICAgIC5jYWxsKGJydXNoX3RvcClcbiAgICAuY2FsbChicnVzaF90b3AubW92ZSwgbnVsbCk7XG5cbiAgc3ZnX2Jhci5hcHBlbmQoJ3RleHQnKVxuICAgIC5hdHRycyh7IHg6IDYwLCB5OiA0MCB9KVxuICAgIC5zdHlsZXMoeyAnZm9udC1mYW1pbHknOiAnXFwnU2lnbmlrYVxcJywgc2Fucy1zZXJpZicgfSlcbiAgICAudGV4dChgQ29tcGzDqXR1ZGUgOiAke21hdGhfcm91bmQoZGF0YS5sZW5ndGggLyBsZW5ndGhfZGF0YXNldCAqIDEwMDApIC8gMTB9JWApO1xuXG4gIHN2Z19iYXIuYXBwZW5kKCdpbWFnZScpXG4gICAgLmF0dHJzKHtcbiAgICAgIHg6IHdpZHRoICsgbWFyZ2luLmxlZnQgKyA1LFxuICAgICAgeTogMzg1LFxuICAgICAgd2lkdGg6IDE1LFxuICAgICAgaGVpZ2h0OiAxNSxcbiAgICAgICd4bGluazpocmVmJzogJ2ltZy9yZXZlcnNlX2JsdWUucG5nJyxcbiAgICAgIGlkOiAnaW1nX3JldmVyc2UnLFxuICAgIH0pXG4gICAgLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgIGFwcC5zZXJpZV9pbnZlcnNlZCA9ICFhcHAuc2VyaWVfaW52ZXJzZWQ7XG4gICAgICBpZiAoZGF0YVswXS5yYXRpbyA8IGRhdGFbZGF0YS5sZW5ndGggLSAxXS5yYXRpbykge1xuICAgICAgICBkYXRhLnNvcnQoKGEsIGIpID0+IGIucmF0aW8gLSBhLnJhdGlvKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGEuc29ydCgoYSwgYikgPT4gYS5yYXRpbyAtIGIucmF0aW8pO1xuICAgICAgfVxuICAgICAgeC5kb21haW4oZGF0YS5zbGljZShjdXJyZW50X3JhbmdlWzBdLCBjdXJyZW50X3JhbmdlWzFdKS5tYXAoZnQgPT4gZnQuaWQpKTtcbiAgICAgIHgyLmRvbWFpbihkYXRhLm1hcChmdCA9PiBmdC5pZCkpO1xuICAgICAgLy8gc3ZnX2Jhci5zZWxlY3QoXCIuem9vbVwiKS5jYWxsKHpvb20udHJhbnNmb3JtLCBkMy56b29tSWRlbnRpdHlcbiAgICAgIC8vICAgICAuc2NhbGUod2lkdGggLyAoY3VycmVudF9yYW5nZVsxXSAtIGN1cnJlbnRfcmFuZ2VbMF0pKVxuICAgICAgLy8gICAgIC50cmFuc2xhdGUoLWN1cnJlbnRfcmFuZ2VbMF0sIDApKTtcbiAgICAgIHVwZGF0ZSgpO1xuICAgICAgdXBkYXRlTWluaUJhcnMoKTtcbiAgICAgIHVwZGF0ZUNvbnRleHQoY3VycmVudF9yYW5nZVswXSwgY3VycmVudF9yYW5nZVsxXSk7XG4gICAgICBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX3RvcCcpLmNhbGwoYnJ1c2hfdG9wLm1vdmUsIG51bGwpO1xuICAgICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKS5jYWxsKG1hcF9lbGVtLmJydXNoX21hcC5tb3ZlLCBudWxsKTtcbiAgICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfYm90dG9tJykuY2FsbChicnVzaF9ib3R0b20ubW92ZSwgeC5yYW5nZSgpKTtcbiAgICB9KTtcblxuICAvLyBQcmVwIHRoZSB0b29sdGlwIGJpdHMsIGluaXRpYWwgZGlzcGxheSBpcyBoaWRkZW5cbiAgY29uc3QgdG9vbHRpcCA9IHN2Z19iYXIuYXBwZW5kKCdnJylcbiAgICAuYXR0cignY2xhc3MnLCAndG9vbHRpcCcpXG4gICAgLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcblxuICB0b29sdGlwLmFwcGVuZCgncmVjdCcpXG4gICAgLmF0dHIoJ3dpZHRoJywgNTApXG4gICAgLmF0dHIoJ2hlaWdodCcsIDQwKVxuICAgIC5hdHRyKCdmaWxsJywgJ3doaXRlJylcbiAgICAuc3R5bGUoJ29wYWNpdHknLCAwLjUpO1xuXG4gIHRvb2x0aXAuYXBwZW5kKCd0ZXh0JylcbiAgICAuYXR0cignY2xhc3MnLCAnaWRfZmVhdHVyZScpXG4gICAgLmF0dHIoJ3gnLCAyNSlcbiAgICAuYXR0cignZHknLCAnMS4yZW0nKVxuICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnbWlkZGxlJylcbiAgICAuYXR0cignZm9udC1zaXplJywgJzE0cHgnKTtcblxuICB0b29sdGlwLmFwcGVuZCgndGV4dCcpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ3ZhbHVlX2ZlYXR1cmUnKVxuICAgIC5hdHRyKCd4JywgMjUpXG4gICAgLmF0dHIoJ2R5JywgJzIuNGVtJylcbiAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpXG4gICAgLmF0dHIoJ2ZvbnQtc2l6ZScsICcxNHB4JylcbiAgICAuYXR0cignZm9udC13ZWlnaHQnLCAnYm9sZCcpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVNYXBSZWdpbygpIHtcbiAgbWFwX2VsZW0ubnV0czFfbHlyLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgLmF0dHIoJ2ZpbGwnLCBkID0+IChhcHAuY3VycmVudF9pZHMuaW5kZXhPZihkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dKSA+IC0xXG4gICAgICA/IChhcHAuY29sb3JzW2QucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV1dIHx8IGNvbG9yX2NvdW50cmllcylcbiAgICAgIDogY29sb3JfZGlzYWJsZWQpKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlTWluaUJhcnMoKXtcbiAgY29uc3QgbWluaV9iYXJzID0gY29udGV4dC5zZWxlY3RBbGwoJy5iYXInKVxuICAgIC5kYXRhKGRhdGEpO1xuXG4gIG1pbmlfYmFyc1xuICAgIC5hdHRyKCd4JywgZCA9PiB4MihkLmlkKSlcbiAgICAuYXR0cignd2lkdGgnLCB4Mi5iYW5kd2lkdGgoKSlcbiAgICAuYXR0cigneScsIGQgPT4geTIoZC5yYXRpbykpXG4gICAgLmF0dHIoJ2hlaWdodCcsIGQgPT4gaGVpZ2h0MiAtIHkyKGQucmF0aW8pKVxuICAgIC5zdHlsZSgnZmlsbCcsIGQgPT4gKGQuaWQgIT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24gPyBjb2xvcl9jb3VudHJpZXMgOiAneWVsbG93JykpO1xuXG4gIG1pbmlfYmFyc1xuICAgIC5lbnRlcigpXG4gICAgLmluc2VydCgncmVjdCcpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ2JhcicpXG4gICAgLmF0dHIoJ3gnLCBkID0+IHgyKGQuaWQpKVxuICAgIC5hdHRyKCd3aWR0aCcsIHgyLmJhbmR3aWR0aCgpKVxuICAgIC5hdHRyKCd5JywgZCA9PiB5MihkLnJhdGlvKSlcbiAgICAuYXR0cignaGVpZ2h0JywgZCA9PiBoZWlnaHQyIC0geTIoZC5yYXRpbykpXG4gICAgLnN0eWxlKCdmaWxsJywgZCA9PiAoZC5pZCAhPT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbiA/IGNvbG9yX2NvdW50cmllcyA6ICd5ZWxsb3cnKSk7XG4gIG1pbmlfYmFycy5leGl0KCkucmVtb3ZlKCk7XG4gIC8vIGNvbnRleHQuc2VsZWN0KCcuYXhpcy0teCcpLnJlbW92ZSgpO1xuICAvLyBjb250ZXh0LmFwcGVuZChcImdcIilcbiAgLy8gICAuYXR0cihcImNsYXNzXCIsIFwiYXhpcyBheGlzLS14XCIpXG4gIC8vICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodDIgKyBcIilcIilcbiAgLy8gICAuY2FsbCh4QXhpczIpXG4gIC8vICAgICAuc2VsZWN0QWxsKFwidGV4dFwiKVxuICAvLyAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJlbmRcIilcbiAgLy8gICAgIC5hdHRyKFwiZHhcIiwgXCItLjhlbVwiKVxuICAvLyAgICAgLmF0dHIoXCJkeVwiLCBcIi4xNWVtXCIpXG4gIC8vICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInJvdGF0ZSgtNjUpXCIpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGUoKSB7XG4gIGRpc3BsYXllZCA9IDA7XG5cbiAgY29uc3QgYmFyID0gZ19iYXIuc2VsZWN0QWxsKCcuYmFyJylcbiAgICAuZGF0YShkYXRhKTtcblxuICBiYXJcbiAgICAuYXR0cigneCcsIGQgPT4geChkLmlkKSlcbiAgICAuYXR0cignd2lkdGgnLCB4LmJhbmR3aWR0aCgpKVxuICAgIC5hdHRyKCd5JywgZCA9PiB5KGQucmF0aW8pKVxuICAgIC5hdHRyKCdoZWlnaHQnLCBkID0+IGhlaWdodCAtIHkoZC5yYXRpbykpXG4gICAgLnN0eWxlKCdmaWxsJywgZCA9PiBhcHAuY29sb3JzW2QuaWRdIHx8IGNvbG9yX2NvdW50cmllcylcbiAgICAuc3R5bGUoJ2Rpc3BsYXknLCAoZCkgPT4ge1xuICAgICAgY29uc3QgdG9fZGlzcGxheSA9IHgoZC5pZCkgIT0gbnVsbDtcbiAgICAgIGlmICh0b19kaXNwbGF5KSB7XG4gICAgICAgIGRpc3BsYXllZCArPSAxO1xuICAgICAgICByZXR1cm4gJ2luaXRpYWwnO1xuICAgICAgfVxuICAgICAgcmV0dXJuICdub25lJztcbiAgICB9KVxuICAgIC5vbignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgICAgc3ZnX2Jhci5zZWxlY3QoJy50b29sdGlwJykuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTtcbiAgICB9KVxuICAgIC5vbignbW91c2VvdXQnLCAoKSA9PiB7XG4gICAgICBzdmdfYmFyLnNlbGVjdCgnLnRvb2x0aXAnKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgfSlcbiAgICAub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChkKSB7XG4gICAgICBjb25zdCB0b29sdGlwID0gc3ZnX2Jhci5zZWxlY3QoJy50b29sdGlwJyk7XG4gICAgICB0b29sdGlwXG4gICAgICAgIC5zZWxlY3QoJ3RleHQuaWRfZmVhdHVyZScpXG4gICAgICAgIC50ZXh0KGAke2QuaWR9YCk7XG4gICAgICB0b29sdGlwLnNlbGVjdCgndGV4dC52YWx1ZV9mZWF0dXJlJylcbiAgICAgICAgLnRleHQoYCR7bWF0aF9yb3VuZChkLnJhdGlvKX1gKTtcbiAgICAgIHRvb2x0aXBcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHtbZDMubW91c2UodGhpcylbMF0gLSA1LCBkMy5tb3VzZSh0aGlzKVsxXSAtIDQ1XX0pYCk7XG4gICAgfSk7XG5cbiAgYmFyLmVudGVyKClcbiAgICAuaW5zZXJ0KCdyZWN0JywgJy5tZWFuJylcbiAgICAuYXR0cignY2xhc3MnLCAnYmFyJylcbiAgICAuYXR0cigneCcsIGQgPT4geChkLmlkKSlcbiAgICAuYXR0cignd2lkdGgnLCB4LmJhbmR3aWR0aCgpKVxuICAgIC5hdHRyKCd5JywgZCA9PiB5KGQucmF0aW8pKVxuICAgIC5hdHRyKCdoZWlnaHQnLCBkID0+IGhlaWdodCAtIHkoZC5yYXRpbykpO1xuXG4gIGJhci5leGl0KCkucmVtb3ZlKCk7XG5cbiAgZm9jdXMuc2VsZWN0KCcuYXhpcy0teScpXG4gICAgLmNhbGwoeUF4aXMpO1xuXG4gIGZvY3VzLnNlbGVjdCgnLm1lYW5fbGluZScpXG4gICAgLmF0dHJzKHtcbiAgICAgIHkxOiB5KG1lYW5fdmFsdWUpLFxuICAgICAgeTI6IHkobWVhbl92YWx1ZSksXG4gICAgfSk7XG5cbiAgY29uc3QgYXhpc194ID0gZm9jdXMuc2VsZWN0KCcuYXhpcy0teCcpXG4gICAgLmF0dHIoJ2ZvbnQtc2l6ZScsICgpID0+IChkaXNwbGF5ZWQgPiA3NSA/IDYgOiAxMCkpXG4gICAgLmNhbGwoeEF4aXMpO1xuICBheGlzX3hcbiAgICAuc2VsZWN0QWxsKCd0ZXh0JylcbiAgICAuYXR0cnMoKCkgPT4ge1xuICAgICAgaWYgKGRpc3BsYXllZCA+IDEwMCkge1xuICAgICAgICByZXR1cm4geyBkeDogJy0wLjhlbScsIGR5OiAnMC4xNWVtJywgdHJhbnNmb3JtOiAncm90YXRlKC02NSknIH07XG4gICAgICB9IGVsc2UgaWYgKGRpc3BsYXllZCA+IDIwKSB7XG4gICAgICAgIHJldHVybiB7IGR4OiAnLTAuOGVtJywgZHk6ICcwLjE1ZW0nLCB0cmFuc2Zvcm06ICdyb3RhdGUoLTY1KScgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7IGR4OiAnMCcsIGR5OiAnMC43MWVtJywgdHJhbnNmb3JtOiBudWxsIH07XG4gICAgICB9XG4gICAgfSlcbiAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgKCkgPT4gKGRpc3BsYXllZCA+IDIwID8gJ2VuZCcgOiAnbWlkZGxlJykpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVDb250ZXh0KG1pbiwgbWF4KSB7XG4gIGNvbnRleHQuc2VsZWN0QWxsKCcuYmFyJylcbiAgICAgIC5zdHlsZSgnZmlsbC1vcGFjaXR5JywgKF8sIGkpID0+IChpID49IG1pbiAmJiBpIDwgbWF4ID8gJzEnIDogJzAuMycpKTtcbn1cblxuZnVuY3Rpb24gYnJ1c2hlZCgpIHtcbiAgaWYgKGQzLmV2ZW50LnNvdXJjZUV2ZW50ICYmIGQzLmV2ZW50LnNvdXJjZUV2ZW50LnR5cGUgPT09ICd6b29tJykgcmV0dXJuOyAvLyBpZ25vcmUgYnJ1c2gtYnktem9vbVxuICBjb25zdCBzID0gZDMuZXZlbnQuc2VsZWN0aW9uIHx8IHgyLnJhbmdlKCk7XG4gIGN1cnJlbnRfcmFuZ2UgPSBbbWF0aF9yb3VuZChzWzBdIC8gKHdpZHRoIC8gbmJGdCkpLCBtYXRoX3JvdW5kKHNbMV0gLyAod2lkdGggLyBuYkZ0KSldO1xuICB4LmRvbWFpbihkYXRhLnNsaWNlKGN1cnJlbnRfcmFuZ2VbMF0sIGN1cnJlbnRfcmFuZ2VbMV0pLm1hcChmdCA9PiBmdC5pZCkpO1xuICBzdmdfYmFyLnNlbGVjdCgnLnpvb20nKS5jYWxsKHpvb20udHJhbnNmb3JtLCBkMy56b29tSWRlbnRpdHlcbiAgICAuc2NhbGUod2lkdGggLyAoY3VycmVudF9yYW5nZVsxXSAtIGN1cnJlbnRfcmFuZ2VbMF0pKVxuICAgIC50cmFuc2xhdGUoLWN1cnJlbnRfcmFuZ2VbMF0sIDApKTtcbiAgdXBkYXRlKCk7XG4gIHVwZGF0ZUNvbnRleHQoY3VycmVudF9yYW5nZVswXSwgY3VycmVudF9yYW5nZVsxXSk7XG4gIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfdG9wJykuY2FsbChicnVzaF90b3AubW92ZSwgbnVsbCk7XG4gIGJydXNoZWRfdG9wKCk7XG59XG5cbmZ1bmN0aW9uIGJydXNoZWRfdG9wKCkge1xuICBjb25zdCBkM19ldmVudCA9IGQzLmV2ZW50O1xuICBpZiAoZDNfZXZlbnQgJiYgZDNfZXZlbnQuc2VsZWN0aW9uXG4gICAgICAgICYmIGQzX2V2ZW50LnNvdXJjZUV2ZW50ICYmIGQzX2V2ZW50LnNvdXJjZUV2ZW50LnRhcmdldCA9PT0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJydXNoX3RvcCA+IHJlY3Qub3ZlcmxheScpKSB7XG4gICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKS5jYWxsKG1hcF9lbGVtLmJydXNoX21hcC5tb3ZlLCBudWxsKTtcbiAgICBjb25zdCBzID0gZDNfZXZlbnQuc2VsZWN0aW9uO1xuICAgIGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbXG4gICAgICBjdXJyZW50X3JhbmdlWzBdICsgbWF0aF9yb3VuZChzWzBdIC8gKHdpZHRoIC8gZGlzcGxheWVkKSkgLSAxLFxuICAgICAgY3VycmVudF9yYW5nZVswXSArIG1hdGhfcm91bmQoc1sxXSAvICh3aWR0aCAvIGRpc3BsYXllZCkpLFxuICAgIF07XG4gICAgeC5kb21haW4oZGF0YS5zbGljZShjdXJyZW50X3JhbmdlX2JydXNoWzBdICsgMSwgY3VycmVudF9yYW5nZV9icnVzaFsxXSkubWFwKGZ0ID0+IGZ0LmlkKSk7XG4gICAgYXBwLmNvbG9ycyA9IHt9O1xuICAgIGZvY3VzLnNlbGVjdEFsbCgnLmJhcicpXG4gICAgICAuc3R5bGUoJ2ZpbGwnLCAoZCwgaSkgPT4ge1xuICAgICAgICBpZiAoZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbikge1xuICAgICAgICAgIGFwcC5jb2xvcnNbZC5pZF0gPSAneWVsbG93JztcbiAgICAgICAgICByZXR1cm4gJ3llbGxvdyc7XG4gICAgICAgIH0gZWxzZSBpZiAoaSA+IGN1cnJlbnRfcmFuZ2VfYnJ1c2hbMF0gJiYgaSA8IGN1cnJlbnRfcmFuZ2VfYnJ1c2hbMV0pIHtcbiAgICAgICAgICBjb25zdCBjb2xvciA9IGNvbXAoZC5yYXRpbywgYXBwLmN1cnJlbnRfY29uZmlnLnJlZl92YWx1ZSwgYXBwLnNlcmllX2ludmVyc2VkKTtcbiAgICAgICAgICBhcHAuY29sb3JzW2QuaWRdID0gY29sb3I7XG4gICAgICAgICAgcmV0dXJuIGNvbG9yO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2xvcl9jb3VudHJpZXM7XG4gICAgICB9KTtcbiAgICAgIHVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgLy8gZDMuc2VsZWN0KCcjbXlUYWJsZScpLnNlbGVjdEFsbCgndGJvZHkgPiB0cicpXG4gICAgLy8gICAuYXR0cignY2xhc3MnLCBmdW5jdGlvbihkLCBpKSB7IHJldHVybiBhcHAuY29sb3JzW3RoaXMuaWQuc3BsaXQoJ3Jvd18nKVsxXV07IH0pO1xuICB9IGVsc2Uge1xuICAgIGlmIChkM19ldmVudCAmJiAhZDNfZXZlbnQuc2VsZWN0aW9uXG4gICAgICAgICYmIGQzX2V2ZW50LnNvdXJjZUV2ZW50ICYmIGQzX2V2ZW50LnNvdXJjZUV2ZW50LmRldGFpbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpLmNhbGwobWFwX2VsZW0uYnJ1c2hfbWFwLm1vdmUsIG51bGwpO1xuICAgICAgYXBwLmNvbG9ycyA9IHt9O1xuICAgICAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9ICd5ZWxsb3cnO1xuICAgICAgdXBkYXRlTWFwUmVnaW8oKTtcbiAgICAgIC8vIG51dHMxX2x5ci5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLy8gICAuYXR0cignZmlsbCcsIChkLCBpKSA9PiBjdXJyZW50X2lkcy5pbmRleE9mKGQucHJvcGVydGllc1tpZF9maWVsZF0pID4gLTFcbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IChhcHAuY29sb3JzW2QucHJvcGVydGllc1tpZF9maWVsZF1dIHx8IGNvbG9yX2NvdW50cmllcylcbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGNvbG9yX2Rpc2FibGVkKTtcbiAgICB9XG4gICAgZm9jdXMuc2VsZWN0QWxsKCcuYmFyJylcbiAgICAgIC5zdHlsZSgnZmlsbCcsIGQgPT4gYXBwLmNvbG9yc1tkLmlkXSB8fCBjb2xvcl9jb3VudHJpZXMpO1xuICAgIC8vIGQzLnNlbGVjdCgnI215VGFibGUnKS5zZWxlY3RBbGwoJ3Rib2R5ID4gdHInKVxuICAgIC8vICAgLmF0dHIoJ2NsYXNzJywgZnVuY3Rpb24oZCwgaSkgeyByZXR1cm4gdGhpcy5pZCA9PT0gYHJvd18ke215X3JlZ2lvbn1gID8gJ3llbGxvdycgOiAnd2hpdGUnOyB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseUZpbHRlcihmaWx0ZXJfdHlwZSkge1xuICBpZiAoZmlsdGVyX3R5cGUgPT09ICdub19maWx0ZXInKSB7XG4gICAgZGF0YSA9IHJlZl9kYXRhLnNsaWNlKCk7XG4gIH0gZWxzZSBpZiAoZmlsdGVyX3R5cGUgPT09ICduYXRpb25hbF9GUicpIHtcbiAgICBkYXRhID0gcmVmX2RhdGEuZmlsdGVyKGQgPT4gZC5pZC5pbmRleE9mKCdGUicpID4gLTEpO1xuICB9IGVsc2Uge1xuICAgIGxldCBhID0gbWF0aF9yb3VuZChNYXRoLnJhbmRvbSgpICogNTApO1xuICAgIGxldCBiID0gbWF0aF9yb3VuZChNYXRoLnJhbmRvbSgpICogMTAxKTtcbiAgICBpZiAoYSA+IGIpIFthLCBiXSA9IFtiLCBhXTtcbiAgICBkYXRhID0gcmVmX2RhdGEuc2xpY2UoYSwgYik7XG4gICAgaWYgKGRhdGEuZmlsdGVyKGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbilbMF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgZGF0YS5wdXNoKHJlZl9kYXRhLmZpbHRlcihkID0+IGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pWzBdKTtcbiAgICB9XG4gIH1cbiAgYXBwLmN1cnJlbnRfaWRzID0gZGF0YS5tYXAoZCA9PiBkLmlkKTtcbiAgYXBwLmN1cnJlbnRfcmFua3MgPSBkYXRhLm1hcCgoZCwgaSkgPT4gaSArIDEpO1xuICBpZiAoIWFwcC5zZXJpZV9pbnZlcnNlZCkge1xuICAgIGRhdGEuc29ydCgoYSwgYikgPT4gYS5yYXRpbyAtIGIucmF0aW8pO1xuICB9IGVsc2Uge1xuICAgIGRhdGEuc29ydCgoYSwgYikgPT4gYi5yYXRpbyAtIGEucmF0aW8pO1xuICB9XG4gIGFwcC5jb2xvcnMgPSB7fTtcbiAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9ICd5ZWxsb3cnO1xuICBuYkZ0ID0gZGF0YS5sZW5ndGg7XG4gIHguZG9tYWluKGRhdGEubWFwKGZ0ID0+IGZ0LmlkKSk7XG4gIHkuZG9tYWluKFtkMy5taW4oZGF0YSwgZCA9PiBkLnJhdGlvKSAtIDIsIGQzLm1heChkYXRhLCBkID0+IGQucmF0aW8pXSk7XG4gIHgyLmRvbWFpbih4LmRvbWFpbigpKTtcbiAgeTIuZG9tYWluKHkuZG9tYWluKCkpO1xuICB1cGRhdGUoKTtcbiAgdXBkYXRlTWluaUJhcnMoKTtcbiAgdXBkYXRlQ29udGV4dCgwLCBkYXRhLmxlbmd0aCk7XG4gIC8vIGJydXNoX2JvdHRvbS5leHRlbnQoY3VycmVudF9yYW5nZSlcbiAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF9ib3R0b20nKS5jYWxsKGJydXNoX2JvdHRvbS5tb3ZlLCB4Mi5yYW5nZSgpKTtcbiAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKS5jYWxsKG1hcF9lbGVtLmJydXNoX21hcC5tb3ZlLCBudWxsKTtcbiAgYXBwLmNvbG9ycyA9IHt9O1xuICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gJ3llbGxvdyc7XG4gIHVwZGF0ZU1hcFJlZ2lvKCk7XG59XG5cbmZ1bmN0aW9uIHNlbGVjdEJlbG93TXlSZWdpb24oKSB7XG4gIGNvbnN0IG15X3JhbmsgPSBkYXRhLm1hcCgoZCwgaSkgPT4gW2QuaWQsIGldKVxuICAgIC5maWx0ZXIoZCA9PiBkWzBdID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVswXVsxXTtcbiAgYXBwLmNvbG9ycyA9IHt9O1xuICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gJ3llbGxvdyc7XG4gIGlmICghYXBwLnNlcmllX2ludmVyc2VkKSB7XG4gICAgY3VycmVudF9yYW5nZV9icnVzaCA9IFswLCBteV9yYW5rXTtcbiAgICBkYXRhLmZpbHRlcigoZCwgaSkgPT4gaSA8IG15X3JhbmspLm1hcChkID0+IGQuaWQpLmZvckVhY2goKGZ0KSA9PiB7IGFwcC5jb2xvcnNbZnRdID0gJ3JlZCc7IH0pO1xuICB9IGVsc2Uge1xuICAgIGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbbXlfcmFuaywgZGF0YS5sZW5ndGhdO1xuICAgIGRhdGEuZmlsdGVyKChkLCBpKSA9PiBpID4gbXlfcmFuaykubWFwKGQgPT4gZC5pZCkuZm9yRWFjaCgoZnQpID0+IHsgYXBwLmNvbG9yc1tmdF0gPSAnZ3JlZW4nOyB9KTtcbiAgfVxuICBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX3RvcCcpLmNhbGwoYnJ1c2hfdG9wLm1vdmUsIGN1cnJlbnRfcmFuZ2VfYnJ1c2gubWFwKGQgPT4gZCAqICh3aWR0aCAvIG5iRnQpKSk7XG4gIHVwZGF0ZU1hcFJlZ2lvKCk7XG59XG5cbmZ1bmN0aW9uIHNlbGVjdEFib3ZlTXlSZWdpb24oKSB7XG4gIGNvbnN0IG15X3JhbmsgPSBkYXRhLm1hcCgoZCwgaSkgPT4gW2QuaWQsIGldKVxuICAgIC5maWx0ZXIoZCA9PiBkWzBdID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVswXVsxXTtcbiAgYXBwLmNvbG9ycyA9IHt9O1xuICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gJ3llbGxvdyc7XG4gIGlmICghYXBwLnNlcmllX2ludmVyc2VkKSB7XG4gICAgY3VycmVudF9yYW5nZV9icnVzaCA9IFtteV9yYW5rLCBkYXRhLmxlbmd0aF07XG4gICAgZGF0YS5maWx0ZXIoKGQsIGkpID0+IGkgPiBteV9yYW5rKS5tYXAoZCA9PiBkLmlkKS5mb3JFYWNoKChmdCkgPT4geyBhcHAuY29sb3JzW2Z0XSA9ICdncmVlbic7IH0pO1xuICB9IGVsc2Uge1xuICAgIGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbMCwgbXlfcmFua107XG4gICAgZGF0YS5maWx0ZXIoKGQsIGkpID0+IGkgPCBteV9yYW5rKS5tYXAoZCA9PiBkLmlkKS5mb3JFYWNoKChmdCkgPT4geyBhcHAuY29sb3JzW2Z0XSA9ICdyZWQnOyB9KTtcbiAgfVxuICBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX3RvcCcpLmNhbGwoYnJ1c2hfdG9wLm1vdmUsIGN1cnJlbnRfcmFuZ2VfYnJ1c2gubWFwKGQgPT4gZCAqICh3aWR0aCAvIG5iRnQpKSk7XG4gIHVwZGF0ZU1hcFJlZ2lvKCk7XG59XG5cbmZ1bmN0aW9uIGdldE1lYW5SYW5rKCkge1xuICBsZXQgbWVhbl9yYW5rID0gZGF0YS5tYXAoKGQsIGkpID0+IFtkLnJhdGlvLCBtYXRoX2FicyhtZWFuX3ZhbHVlIC0gZC5yYXRpbyksIGldKTtcbiAgbWVhbl9yYW5rLnNvcnQoKGEsIGIpID0+IGFbMV0gLSBiWzFdKTtcbiAgbWVhbl9yYW5rID0gbWVhbl9yYW5rWzBdO1xuICBpZiAobWVhbl9yYW5rWzFdID4gbWVhbl92YWx1ZSkge1xuICAgIG1lYW5fcmFuayA9IG1lYW5fcmFua1syXSAtIDE7XG4gIH0gZWxzZSB7XG4gICAgbWVhbl9yYW5rID0gbWVhbl9yYW5rWzJdO1xuICB9XG4gIHJldHVybiBtZWFuX3Jhbms7XG59XG5cbmZ1bmN0aW9uIHNlbGVjdEFib3ZlTWVhbigpIHtcbiAgY29uc3QgbWVhbl9yYW5rID0gZ2V0TWVhblJhbmsoKTtcbiAgYXBwLmNvbG9ycyA9IHt9O1xuICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gJ3llbGxvdyc7XG4gIGlmICghYXBwLnNlcmllX2ludmVyc2VkKSB7XG4gICAgY3VycmVudF9yYW5nZV9icnVzaCA9IFttZWFuX3JhbmssIGRhdGEubGVuZ3RoXTtcbiAgICBkYXRhLmZpbHRlcihkID0+IGQucmF0aW8gPiBtZWFuX3ZhbHVlKS5mb3JFYWNoKChmdCkgPT4ge1xuICAgICAgaWYgKGZ0LnJhdGlvID4gYXBwLmN1cnJlbnRfY29uZmlnLnJlZl92YWx1ZSkgYXBwLmNvbG9yc1tmdC5pZF0gPSAnZ3JlZW4nO1xuICAgICAgZWxzZSBhcHAuY29sb3JzW2Z0LmlkXSA9ICdyZWQnO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbMCwgbWVhbl9yYW5rICsgMV07XG4gICAgZGF0YS5maWx0ZXIoZCA9PiBkLnJhdGlvID4gbWVhbl92YWx1ZSkuZm9yRWFjaCgoZnQpID0+IHtcbiAgICAgIGlmIChmdC5yYXRpbyA+IGFwcC5jdXJyZW50X2NvbmZpZy5yZWZfdmFsdWUpIGFwcC5jb2xvcnNbZnQuaWRdID0gJ3JlZCc7XG4gICAgICBlbHNlIGFwcC5jb2xvcnNbZnQuaWRdID0gJ2dyZWVuJztcbiAgICB9KTtcbiAgfVxuICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gJ3llbGxvdyc7XG4gIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfdG9wJykuY2FsbChicnVzaF90b3AubW92ZSwgY3VycmVudF9yYW5nZV9icnVzaC5tYXAoZCA9PiBkICogKHdpZHRoIC8gbmJGdCkpKTtcbiAgdXBkYXRlTWFwUmVnaW8oKTtcbn1cblxuZnVuY3Rpb24gc2VsZWN0QmVsb3dNZWFuKCkge1xuICBjb25zdCBtZWFuX3JhbmsgPSBnZXRNZWFuUmFuaygpO1xuICBhcHAuY29sb3JzID0ge307XG4gIGlmICghYXBwLnNlcmllX2ludmVyc2VkKSB7XG4gICAgY3VycmVudF9yYW5nZV9icnVzaCA9IFswLCBtZWFuX3JhbmtdO1xuICAgIGRhdGEuZmlsdGVyKGQgPT4gZC5yYXRpbyA8IG1lYW5fdmFsdWUpLmZvckVhY2goKGZ0KSA9PiB7XG4gICAgICBpZiAoZnQucmF0aW8gPCBhcHAuY3VycmVudF9jb25maWcucmVmX3ZhbHVlKSBhcHAuY29sb3JzW2Z0LmlkXSA9ICdyZWQnO1xuICAgICAgZWxzZSBhcHAuY29sb3JzW2Z0LmlkXSA9ICdncmVlbic7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgY3VycmVudF9yYW5nZV9icnVzaCA9IFttZWFuX3JhbmsgKyAxLCBkYXRhLmxlbmd0aF07XG4gICAgZGF0YS5maWx0ZXIoZCA9PiBkLnJhdGlvIDwgbWVhbl92YWx1ZSkuZm9yRWFjaCgoZnQpID0+IHtcbiAgICAgIGlmIChmdC5yYXRpbyA8IGFwcC5jdXJyZW50X2NvbmZpZy5yZWZfdmFsdWUpIGFwcC5jb2xvcnNbZnQuaWRdID0gJ2dyZWVuJztcbiAgICAgIGVsc2UgYXBwLmNvbG9yc1tmdC5pZF0gPSAncmVkJztcbiAgICB9KTtcbiAgfVxuICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gJ3llbGxvdyc7XG4gIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfdG9wJykuY2FsbChicnVzaF90b3AubW92ZSwgY3VycmVudF9yYW5nZV9icnVzaC5tYXAoZCA9PiBkICogKHdpZHRoIC8gbmJGdCkpKTtcbiAgdXBkYXRlTWFwUmVnaW8oKTtcbn1cbiJdLCJuYW1lcyI6WyJjcmVhdGVNZW51IiwibmFtZXMiLCJ2YXJpYWJsZXMiLCJzdHVkeV96b25lcyIsInRlcnJpdG9yaWFsX21lc2giLCJ0aXRsZV9zZWN0aW9uMSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImlubmVySFRNTCIsInNlY3Rpb24xIiwic3R5bGUiLCJvdmVyZmxvdyIsImhlaWdodCIsImkiLCJsZW5faSIsImxlbmd0aCIsImlkIiwiZ2VvIiwibmFtZSIsIk5vbSIsImVudHJ5IiwiYXBwZW5kQ2hpbGQiLCJ0aXRsZV9zZWN0aW9uMiIsInNlY3Rpb24yIiwiZ3JvdXBzX3ZhciIsIk9iamVjdCIsImtleXMiLCJncF9uYW1lIiwidmFyX25hbWVzIiwiaiIsImxlbl9qIiwibmFtZV92YXIiLCJjb2RlX3ZhciIsInN1Yl9lbnRyeSIsInRpdGxlX3NlY3Rpb24zIiwic2VjdGlvbjMiLCJ6b25lIiwidGl0bGVfc2VjdGlvbjQiLCJzZWN0aW9uNCIsInRlcnJpdF9sZXZlbCIsIm1lbnUiLCJnZXRFbGVtZW50QnlJZCIsIndpZHRoIiwiZmxvYXQiLCJkZWZpbmUiLCJ0aGlzIiwiY3JlYXRlVGFibGVET00iLCJkYXRhIiwib3B0cyIsImNvbmZpZyIsIm51bSIsImRlbnVtIiwicmF0aW8iLCJteV9yZWdpb24iLCJvcHRpb25zIiwiZG9jIiwibmJfZmVhdHVyZXMiLCJjb2x1bW5fbmFtZXMiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwibmJfY29sdW1ucyIsIm15VGFibGUiLCJoZWFkZXJzIiwiYm9keSIsImhlYWRlcnNfcm93IiwiY2VsbCIsImNvbF9uYW1lIiwicm93IiwiTWF0aCIsInJvdW5kIiwic2V0QXR0cmlidXRlIiwibWFrZVRhYmxlIiwiZGF0YV9ub19lbXB0eSIsInRhYmxlIiwidW5kZWZpbmVkIiwicXVlcnlTZWxlY3RvciIsImFwcGVuZCIsImRhdGFUYWJsZSIsIkRhdGFUYWJsZSIsInQiLCJtYXJnaW5Ub3AiLCJkaXNwbGF5IiwiZm9udFNpemUiLCJyZW1vdmUiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJlbCIsIm9uY2xpY2siLCJwYXJlbnRFbGVtZW50IiwiY2xpY2siLCJwcmVwYXJlX2RhdGFzZXQiLCJmdWxsX2RhdGFzZXQiLCJhcHAiLCJmZWF0dXJlX25hbWVzIiwiZWxlbSIsImZpbHRlcl9ub19lbXB0eSIsImN1cnJlbnRfY29uZmlnIiwiY3VycmVudF9sZXZlbCIsImZpbHRlcmVkX2RhdGEiLCJmaWx0ZXIiLCJmdCIsImxldmVsIiwibWFwIiwicmVmX3ZhbHVlIiwic2VyaWVfaW52ZXJzZWQiLCJzb3J0IiwiYSIsImIiLCJkIiwicmFuZyIsIm1hdGhfYWJzIiwiYWJzIiwibWF0aF9yb3VuZCIsImNvbXAiLCJ0ZXN0X3ZhbHVlIiwiUmVjdCIsInRvcGxlZnQiLCJib3R0b21yaWdodCIsInhtaW4iLCJ4bWF4IiwieW1pbiIsInltYXgiLCJwdCIsInN0eWxlcyIsInN0cm9rZV93aWR0aCIsImNvbG9yX2NvdW50cmllcyIsImNvbG9yX2Rpc2FibGVkIiwicHJvamVjdGlvbiIsInBhdGgiLCJnZXRfYmJveF9sYXllcl9wYXRoIiwiYmJveF9sYXllciIsIkluZmluaXR5Iiwic2VsZWN0Iiwic2VsZWN0QWxsIiwiZWFjaCIsImJib3hfcGF0aCIsImJvdW5kcyIsImdlb21ldHJ5IiwiZml0TGF5ZXIiLCJzY2FsZSIsInRyYW5zbGF0ZSIsInMiLCJtYXgiLCJ3aWR0aF9tYXAiLCJoZWlnaHRfbWFwIiwiYXR0ciIsIm1hcF96b29tZWQiLCJ0cmFuc2Zvcm0iLCJkMyIsImV2ZW50IiwiayIsIngiLCJ5IiwibGF5ZXJzIiwic3ZnX21hcCIsInRyYW5zaXRpb24iLCJkdXJhdGlvbiIsIk1hcFNlbGVjdCIsIm51dHMxIiwiY291bnRyaWVzIiwicmVtb3RlIiwidGVtcGxhdGUiLCJzZWFib3hlcyIsImdlb0lkZW50aXR5IiwiZml0RXh0ZW50IiwicmVmbGVjdFkiLCJmZWF0dXJlcyIsInByb3BlcnRpZXMiLCJub19kYXRhX2ZlYXR1cmVzIiwiaXNOYU4iLCJnZW9QYXRoIiwiem9vbV9tYXAiLCJ6b29tIiwic2NhbGVFeHRlbnQiLCJ0cmFuc2xhdGVFeHRlbnQiLCJvbiIsImNhbGwiLCJhdHRycyIsImZpbGwiLCJlbnRlciIsInN0cm9rZSIsIm51dHMxX2x5ciIsIk5VVFMxXzIwMTYiLCJ6b29tSWRlbnRpdHkiLCJzdmdfYmFyIiwiYnJ1c2hfdG9wIiwiYnJ1c2hfYm90dG9tIiwiZm9jdXMiLCJicnVzaF9tYXAiLCJicnVzaCIsImV4dGVudCIsInNlbGVjdGlvbiIsIm1vdmUiLCJyZWN0IiwiY29sb3JzIiwiY3VycmVudF9pZHMiLCJpbmRleE9mIiwiX3B0cyIsImdldEF0dHJpYnV0ZSIsInNsaWNlIiwic3BsaXQiLCJwdHMiLCJpeCIsIm5iX3B0cyIsImNvbnRhaW5zIiwidmFsdWUiLCJjb2xvciIsImlkcyIsInJhbmtzIiwiY3VycmVudF9yYW5rcyIsImMxIiwiYzIiLCJjdXJyZW50X3JhbmdlIiwid2lkdGhfY2hhcnQiLCJuYkZ0IiwiY3VycmVudF9kYXRhIiwicmFuZ2UiLCJtYWtlU291cmNlU2VjdGlvbiIsInRleHRfem9uZSIsImR5IiwidGV4dCIsIm1ha2VNYXBMZWdlbmQiLCJsZWdlbmRfZWxlbXMiLCJteV9yZWdpb25fcHJldHR5X25hbWUiLCJyZWN0X3NpemUiLCJzcGFjaW5nIiwibGdkX2hlaWdodCIsIm9mZnNldCIsImdycF9sZ2QiLCJsZWdlbmRzIiwidHgiLCJ0eSIsInVwZGF0ZUxlZ2VuZCIsImRlYnVnIiwibWFyZ2luIiwidG9wIiwicmlnaHQiLCJib3R0b20iLCJsZWZ0IiwibWFyZ2luMiIsImhlaWdodDIiLCJtYXJnaW5fbWFwIiwic2NhbGVCYW5kIiwicGFkZGluZyIsIngyIiwic2NhbGVMaW5lYXIiLCJ5MiIsInhBeGlzIiwiYXhpc0JvdHRvbSIsInhBeGlzMiIsInlBeGlzIiwiYXhpc0xlZnQiLCJyZWZfZGF0YSIsImxlbmd0aF9kYXRhc2V0IiwibWVhbl92YWx1ZSIsImNvbnRleHQiLCJkaXNwbGF5ZWQiLCJjdXJyZW50X3JhbmdlX2JydXNoIiwiZ19iYXIiLCJtYXBfZWxlbSIsImxvYWREYXRhIiwiY2hhbmdlUmVnaW9uIiwiaWRfcmVnaW9uIiwicXVldWUiLCJkZWZlciIsImNzdiIsImpzb24iLCJhd2FpdEFsbCIsImVycm9yIiwicmVzdWx0cyIsImJpbmRCcnVzaCIsImxvZyIsIm1ha2VVSSIsImluc2VydCIsImhlYWRlcl9iYXJfc2VjdGlvbiIsImh0bWwiLCJyYXRpb19wcmV0dHlfbmFtZSIsImNsYXNzTGlzdCIsImFkZCIsImZpbHRlcl90eXBlIiwicHJldmlvdXNTaWJsaW5nIiwiaGVhZGVyX21hcF9zZWN0aW9uIiwiaWRfZmllbGRfZ2VvbSIsImhlYWRlcl90YWJsZV9zZWN0aW9uIiwiY29udGVudCIsImpvaW4iLCJlbmNvZGVVUklDb21wb25lbnQiLCJyZW1vdmVDaGlsZCIsImJ1dHRvbnNfdW5kZXJfY2hhcnQiLCJjbGFzcyIsInNlbGVjdEJlbG93TWVhbiIsInNlbGVjdEFib3ZlTWVhbiIsInNlbGVjdEJlbG93TXlSZWdpb24iLCJzZWxlY3RBYm92ZU15UmVnaW9uIiwibWFrZUNoYXJ0IiwiY29uY2F0IiwibWVhbiIsImJydXNoWCIsImJydXNoZWQiLCJicnVzaGVkX3RvcCIsImRvbWFpbiIsIm1pbiIsImR4IiwiZ3JvdXBlX2xpbmVfbWVhbiIsInRvb2x0aXAiLCJ1cGRhdGVNYXBSZWdpbyIsInVwZGF0ZU1pbmlCYXJzIiwibWluaV9iYXJzIiwiYmFuZHdpZHRoIiwiZXhpdCIsInVwZGF0ZSIsImJhciIsInRvX2Rpc3BsYXkiLCJtb3VzZSIsImF4aXNfeCIsInVwZGF0ZUNvbnRleHQiLCJfIiwic291cmNlRXZlbnQiLCJ0eXBlIiwiZDNfZXZlbnQiLCJ0YXJnZXQiLCJkZXRhaWwiLCJhcHBseUZpbHRlciIsInJhbmRvbSIsInB1c2giLCJteV9yYW5rIiwiZ2V0TWVhblJhbmsiLCJtZWFuX3JhbmsiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsSUFBTUEsYUFBYSxTQUFTQSxVQUFULENBQW9CQyxLQUFwQixFQUEyQkMsU0FBM0IsRUFBc0NDLFdBQXRDLEVBQW1EQyxnQkFBbkQsRUFBcUU7O01BRWhGQyxpQkFBaUJDLFNBQVNDLGFBQVQsQ0FBdUIsR0FBdkIsQ0FBdkI7aUJBQ2VDLFNBQWYsR0FBMkIsWUFBM0I7aUJBQ2VDLFNBQWYsR0FBMkIsV0FBM0I7TUFDTUMsV0FBV0osU0FBU0MsYUFBVCxDQUF1QixLQUF2QixDQUFqQjtXQUNTQyxTQUFULEdBQXFCLEtBQXJCO1dBQ1NHLEtBQVQsQ0FBZUMsUUFBZixHQUEwQixNQUExQjtXQUNTRCxLQUFULENBQWVFLE1BQWYsR0FBd0IsT0FBeEI7T0FDSyxJQUFJQyxJQUFJLENBQVIsRUFBV0MsUUFBUWQsTUFBTWUsTUFBOUIsRUFBc0NGLElBQUlDLEtBQTFDLEVBQWlERCxHQUFqRCxFQUFzRDtRQUM5Q0csS0FBS2hCLE1BQU1hLENBQU4sRUFBU0ksR0FBcEI7UUFDTUMsT0FBT2xCLE1BQU1hLENBQU4sRUFBU00sR0FBdEI7UUFDTUMsUUFBUWYsU0FBU0MsYUFBVCxDQUF1QixHQUF2QixDQUFkO1VBQ01FLFNBQU4scUJBQWtDUSxFQUFsQyx3RUFBcUdFLElBQXJHO2FBQ1NHLFdBQVQsQ0FBcUJELEtBQXJCOzs7O01BSUlFLGlCQUFpQmpCLFNBQVNDLGFBQVQsQ0FBdUIsR0FBdkIsQ0FBdkI7aUJBQ2VDLFNBQWYsR0FBMkIsWUFBM0I7aUJBQ2VDLFNBQWYsR0FBMkIscUJBQTNCO01BQ01lLFdBQVdsQixT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
