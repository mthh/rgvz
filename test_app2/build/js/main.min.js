(function (exports) {
'use strict';

var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};





function createCommonjsModule(fn, module) {
	return module = { exports: {} }, fn(module, module.exports), module.exports;
}

/**
 * Helpers.
 */

var s = 1000;
var m = s * 60;
var h = m * 60;
var d = h * 24;
var y = d * 365.25;

/**
 * Parse or format the given `val`.
 *
 * Options:
 *
 *  - `long` verbose formatting [false]
 *
 * @param {String|Number} val
 * @param {Object} [options]
 * @throws {Error} throw an error if val is not a non-empty string or a number
 * @return {String|Number}
 * @api public
 */

var ms = function(val, options) {
  options = options || {};
  var type = typeof val;
  if (type === 'string' && val.length > 0) {
    return parse(val);
  } else if (type === 'number' && isNaN(val) === false) {
    return options.long ? fmtLong(val) : fmtShort(val);
  }
  throw new Error(
    'val is not a non-empty string or a valid number. val=' +
      JSON.stringify(val)
  );
};

/**
 * Parse the given `str` and return milliseconds.
 *
 * @param {String} str
 * @return {Number}
 * @api private
 */

function parse(str) {
  str = String(str);
  if (str.length > 100) {
    return;
  }
  var match = /^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(
    str
  );
  if (!match) {
    return;
  }
  var n = parseFloat(match[1]);
  var type = (match[2] || 'ms').toLowerCase();
  switch (type) {
    case 'years':
    case 'year':
    case 'yrs':
    case 'yr':
    case 'y':
      return n * y;
    case 'days':
    case 'day':
    case 'd':
      return n * d;
    case 'hours':
    case 'hour':
    case 'hrs':
    case 'hr':
    case 'h':
      return n * h;
    case 'minutes':
    case 'minute':
    case 'mins':
    case 'min':
    case 'm':
      return n * m;
    case 'seconds':
    case 'second':
    case 'secs':
    case 'sec':
    case 's':
      return n * s;
    case 'milliseconds':
    case 'millisecond':
    case 'msecs':
    case 'msec':
    case 'ms':
      return n;
    default:
      return undefined;
  }
}

/**
 * Short format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

function fmtShort(ms) {
  if (ms >= d) {
    return Math.round(ms / d) + 'd';
  }
  if (ms >= h) {
    return Math.round(ms / h) + 'h';
  }
  if (ms >= m) {
    return Math.round(ms / m) + 'm';
  }
  if (ms >= s) {
    return Math.round(ms / s) + 's';
  }
  return ms + 'ms';
}

/**
 * Long format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

function fmtLong(ms) {
  return plural(ms, d, 'day') ||
    plural(ms, h, 'hour') ||
    plural(ms, m, 'minute') ||
    plural(ms, s, 'second') ||
    ms + ' ms';
}

/**
 * Pluralization helper.
 */

function plural(ms, n, name) {
  if (ms < n) {
    return;
  }
  if (ms < n * 1.5) {
    return Math.floor(ms / n) + ' ' + name;
  }
  return Math.ceil(ms / n) + ' ' + name + 's';
}

var debug$1 = createCommonjsModule(function (module, exports) {
/**
 * This is the common logic for both the Node.js and web browser
 * implementations of `debug()`.
 *
 * Expose `debug()` as the module.
 */

exports = module.exports = createDebug.debug = createDebug['default'] = createDebug;
exports.coerce = coerce;
exports.disable = disable;
exports.enable = enable;
exports.enabled = enabled;
exports.humanize = ms;

/**
 * The currently active debug mode names, and names to skip.
 */

exports.names = [];
exports.skips = [];

/**
 * Map of special "%n" handling functions, for the debug "format" argument.
 *
 * Valid key names are a single, lower or upper-case letter, i.e. "n" and "N".
 */

exports.formatters = {};

/**
 * Previous log timestamp.
 */

var prevTime;

/**
 * Select a color.
 * @param {String} namespace
 * @return {Number}
 * @api private
 */

function selectColor(namespace) {
  var hash = 0, i;

  for (i in namespace) {
    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);
    hash |= 0; // Convert to 32bit integer
  }

  return exports.colors[Math.abs(hash) % exports.colors.length];
}

/**
 * Create a debugger with the given `namespace`.
 *
 * @param {String} namespace
 * @return {Function}
 * @api public
 */

function createDebug(namespace) {

  function debug() {
    // disabled?
    if (!debug.enabled) return;

    var self = debug;

    // set `diff` timestamp
    var curr = +new Date();
    var ms$$1 = curr - (prevTime || curr);
    self.diff = ms$$1;
    self.prev = prevTime;
    self.curr = curr;
    prevTime = curr;

    // turn the `arguments` into a proper Array
    var args = new Array(arguments.length);
    for (var i = 0; i < args.length; i++) {
      args[i] = arguments[i];
    }

    args[0] = exports.coerce(args[0]);

    if ('string' !== typeof args[0]) {
      // anything else let's inspect with %O
      args.unshift('%O');
    }

    // apply any `formatters` transformations
    var index = 0;
    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {
      // if we encounter an escaped % then don't increase the array index
      if (match === '%%') return match;
      index++;
      var formatter = exports.formatters[format];
      if ('function' === typeof formatter) {
        var val = args[index];
        match = formatter.call(self, val);

        // now we need to remove `args[index]` since it's inlined in the `format`
        args.splice(index, 1);
        index--;
      }
      return match;
    });

    // apply env-specific formatting (colors, etc.)
    exports.formatArgs.call(self, args);

    var logFn = debug.log || exports.log || console.log.bind(console);
    logFn.apply(self, args);
  }

  debug.namespace = namespace;
  debug.enabled = exports.enabled(namespace);
  debug.useColors = exports.useColors();
  debug.color = selectColor(namespace);

  // env-specific initialization logic for debug instances
  if ('function' === typeof exports.init) {
    exports.init(debug);
  }

  return debug;
}

/**
 * Enables a debug mode by namespaces. This can include modes
 * separated by a colon and wildcards.
 *
 * @param {String} namespaces
 * @api public
 */

function enable(namespaces) {
  exports.save(namespaces);

  exports.names = [];
  exports.skips = [];

  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\s,]+/);
  var len = split.length;

  for (var i = 0; i < len; i++) {
    if (!split[i]) continue; // ignore empty strings
    namespaces = split[i].replace(/\*/g, '.*?');
    if (namespaces[0] === '-') {
      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));
    } else {
      exports.names.push(new RegExp('^' + namespaces + '$'));
    }
  }
}

/**
 * Disable debug output.
 *
 * @api public
 */

function disable() {
  exports.enable('');
}

/**
 * Returns true if the given mode name is enabled, false otherwise.
 *
 * @param {String} name
 * @return {Boolean}
 * @api public
 */

function enabled(name) {
  var i, len;
  for (i = 0, len = exports.skips.length; i < len; i++) {
    if (exports.skips[i].test(name)) {
      return false;
    }
  }
  for (i = 0, len = exports.names.length; i < len; i++) {
    if (exports.names[i].test(name)) {
      return true;
    }
  }
  return false;
}

/**
 * Coerce `val`.
 *
 * @param {Mixed} val
 * @return {Mixed}
 * @api private
 */

function coerce(val) {
  if (val instanceof Error) return val.stack || val.message;
  return val;
}
});

var browser$1 = createCommonjsModule(function (module, exports) {
/**
 * This is the web browser implementation of `debug()`.
 *
 * Expose `debug()` as the module.
 */

exports = module.exports = debug$1;
exports.log = log;
exports.formatArgs = formatArgs;
exports.save = save;
exports.load = load;
exports.useColors = useColors;
exports.storage = 'undefined' != typeof chrome
               && 'undefined' != typeof chrome.storage
                  ? chrome.storage.local
                  : localstorage();

/**
 * Colors.
 */

exports.colors = [
  'lightseagreen',
  'forestgreen',
  'goldenrod',
  'dodgerblue',
  'darkorchid',
  'crimson'
];

/**
 * Currently only WebKit-based Web Inspectors, Firefox >= v31,
 * and the Firebug extension (any Firefox version) are known
 * to support "%c" CSS customizations.
 *
 * TODO: add a `localStorage` variable to explicitly enable/disable colors
 */

function useColors() {
  // NB: In an Electron preload script, document will be defined but not fully
  // initialized. Since we know we're in Chrome, we'll just detect this case
  // explicitly
  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {
    return true;
  }

  // is webkit? http://stackoverflow.com/a/16459606/376773
  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632
  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||
    // is firebug? http://stackoverflow.com/a/398120/376773
    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||
    // is firefox >= v31?
    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages
    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||
    // double check webkit in userAgent just in case we are in a worker
    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/));
}

/**
 * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.
 */

exports.formatters.j = function(v) {
  try {
    return JSON.stringify(v);
  } catch (err) {
    return '[UnexpectedJSONParseError]: ' + err.message;
  }
};


/**
 * Colorize log arguments if enabled.
 *
 * @api public
 */

function formatArgs(args) {
  var useColors = this.useColors;

  args[0] = (useColors ? '%c' : '')
    + this.namespace
    + (useColors ? ' %c' : ' ')
    + args[0]
    + (useColors ? '%c ' : ' ')
    + '+' + exports.humanize(this.diff);

  if (!useColors) return;

  var c = 'color: ' + this.color;
  args.splice(1, 0, c, 'color: inherit');

  // the final "%c" is somewhat tricky, because there could be other
  // arguments passed either before or after the %c, so we need to
  // figure out the correct index to insert the CSS into
  var index = 0;
  var lastC = 0;
  args[0].replace(/%[a-zA-Z%]/g, function(match) {
    if ('%%' === match) return;
    index++;
    if ('%c' === match) {
      // we only are interested in the *last* %c
      // (the user may have provided their own)
      lastC = index;
    }
  });

  args.splice(lastC, 0, c);
}

/**
 * Invokes `console.log()` when available.
 * No-op when `console.log` is not a "function".
 *
 * @api public
 */

function log() {
  // this hackery is required for IE8/9, where
  // the `console.log` function doesn't have 'apply'
  return 'object' === typeof console
    && console.log
    && Function.prototype.apply.call(console.log, console, arguments);
}

/**
 * Save `namespaces`.
 *
 * @param {String} namespaces
 * @api private
 */

function save(namespaces) {
  try {
    if (null == namespaces) {
      exports.storage.removeItem('debug');
    } else {
      exports.storage.debug = namespaces;
    }
  } catch(e) {}
}

/**
 * Load `namespaces`.
 *
 * @return {String} returns the previously persisted debug modes
 * @api private
 */

function load() {
  var r;
  try {
    r = exports.storage.debug;
  } catch(e) {}

  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG
  if (!r && typeof process !== 'undefined' && 'env' in process) {
    r = process.env.DEBUG;
  }

  return r;
}

/**
 * Enable namespaces listed in `localStorage.debug` initially.
 */

exports.enable(load());

/**
 * Localstorage attempts to return the localstorage.
 *
 * This is necessary because safari throws
 * when a user disables cookies/localstorage
 * and you attempt to access it.
 *
 * @return {LocalStorage}
 * @api private
 */

function localstorage() {
  try {
    return window.localStorage;
  } catch (e) {}
}
});

var color_countries = 'rgb(147,144,252)';
var color_disabled = 'rgb(214, 214, 214)';
var color_sup = 'green';
var color_inf = 'red';
var color_highlight = 'yellow';

var classCallCheck = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

var createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();



























var slicedToArray = function () {
  function sliceIterator(arr, i) {
    var _arr = [];
    var _n = true;
    var _d = false;
    var _e = undefined;

    try {
      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
        _arr.push(_s.value);

        if (i && _arr.length === i) break;
      }
    } catch (err) {
      _d = true;
      _e = err;
    } finally {
      try {
        if (!_n && _i["return"]) _i["return"]();
      } finally {
        if (_d) throw _e;
      }
    }

    return _arr;
  }

  return function (arr, i) {
    if (Array.isArray(arr)) {
      return arr;
    } else if (Symbol.iterator in Object(arr)) {
      return sliceIterator(arr, i);
    } else {
      throw new TypeError("Invalid attempt to destructure non-iterable instance");
    }
  };
}();

var math_abs = Math.abs;
var math_round = Math.round;

function prepareTooltip(parent_svg_elem) {
  var tooltip = parent_svg_elem.append('g').attr('class', 'tooltip').style('display', 'none');

  tooltip.append('rect').attrs({ width: 50, height: 40, fill: 'white' }).style('opacity', 0.5);

  tooltip.append('text').attrs({ class: 'id_feature', x: 25, dy: '1.2em', 'font-size': '14px' }).style('text-anchor', 'middle');

  tooltip.append('text').attrs({
    class: 'value_feature1',
    x: 25,
    dy: '2.4em',
    'font-size': '14px',
    'font-weight': 'bold' }).style('text-anchor', 'middle');

  tooltip.append('text').attrs({
    class: 'value_feature2',
    x: 25,
    dy: '3.5em',
    'font-size': '14px',
    'font-weight': 'bold' }).style('text-anchor', 'middle');

  tooltip.append('text').attrs({
    class: 'value_feature3',
    x: 25,
    dy: '4.6em',
    'font-size': '14px',
    'font-weight': 'bold' }).style('text-anchor', 'middle');

  tooltip.append('text').attrs({
    class: 'value_feature4',
    x: 25,
    dy: '5.7em',
    'font-size': '14px',
    'font-weight': 'bold' }).style('text-anchor', 'middle');

  return tooltip;
}

function unbindUI() {
  // Removes the current behavior corresponding to clicking on the left menu:
  d3.selectAll('span.filter_v').on('click', null);
  d3.selectAll('span.target_region').on('click', null);
  d3.selectAll('span.label_chk').on('click', null);

  // Remove the table:
  d3.select('.dataTable-wrapper').remove();

  // Unbind buttons on the top of the map:
  d3.select('#header_map').selectAll('img').on('click', null);

  // Remove the selection menu (or buttons) under the chart:
  d3.select('#bar_section > #buttons_under_chart').remove();

  // Removes the current behavior corresponding to clicking on the top menu:
  d3.selectAll('.type_chart.title_menu').on('click', null);

  // Removes the current behavior corresponding to pressing the Control key:
  document.onkeyup = null;
  document.onkeydown = null;
}

/**
*
*
*
*
*/
var comp = function comp(test_value, ref_value, serie_inversed) {
  if (test_value < ref_value) {
    return serie_inversed ? color_sup : color_inf;
  }
  return serie_inversed ? color_inf : color_sup;
};

/**
*
*
*
*
*/
var comp2 = function comp2(val1, val2, ref_val1, ref_val2, xInversed, yInversed) {
  if (val1 < ref_val1 && !xInversed || val1 > ref_val1 && xInversed) {
    // val1 is inferior:
    if (val2 < ref_val2) {
      return yInversed ? 'rgb(160, 30, 160)' : color_inf;
    }
    return yInversed ? color_inf : 'rgb(160, 30, 160)';
  }
  // val1 is superior :
  if (val2 > ref_val2) {
    return !yInversed ? color_sup : 'rgb(160, 30, 160)';
  }
  return !yInversed ? 'rgb(160, 30, 160)' : color_sup;
};

var Rect = function () {
  function Rect(topleft, bottomright) {
    classCallCheck(this, Rect);

    this.xmin = topleft[0];
    this.xmax = bottomright[0];
    this.ymin = topleft[1];
    this.ymax = bottomright[1];
  }

  createClass(Rect, [{
    key: 'contains',
    value: function contains(pt) {
      if (pt[0] >= this.xmin && pt[0] <= this.xmax && pt[1] >= this.ymin && pt[1] <= this.ymax) {
        return true;
      }
      return false;
    }
  }]);
  return Rect;
}();

var PropSizer = function PropSizer(fixed_value, fixed_size) {
  var _this = this;

  this.fixed_value = fixed_value;
  var sqrt = Math.sqrt;
  var abs = Math.abs;
  var PI = Math.PI;
  this.smax = fixed_size * fixed_size * PI;
  this.scale = function (val) {
    return sqrt(abs(val) * _this.smax / _this.fixed_value) / PI;
  };
  // this.get_value = size => ((size * PI) ** 2) / this.smax * this.fixed_value;
  // Use Math pow to support browser without ** operator:
  // eslint-disable-next-line no-restricted-properties
  this.get_value = function (size) {
    return Math.pow(size * PI, 2) / _this.smax * _this.fixed_value;
  };
};

var removeDuplicates = function removeDuplicates(arr) {
  var tmp = [];
  for (var i = 0, len_arr = arr.length; i < len_arr; i++) {
    if (tmp.indexOf(arr[i]) === -1) {
      tmp.push(arr[i]);
    }
  }
  return tmp;
};

var getSvgPathType = function getSvgPathType(path) {
  if (path.indexOf('M ') > -1 && path.indexOf(' L ') > -1) {
    return 2;
  }
  return 1;
};

var svgPathToCoords = function svgPathToCoords(path, type_path) {
  if (type_path === 1) {
    return path.slice(1).split('L').map(function (pt) {
      return pt.split(',').map(function (a) {
        return +a;
      });
    });
  }
  return path.slice(2).split(' L ').map(function (pt) {
    return pt.split(' ').map(function (a) {
      return +a;
    });
  });
};

function computePercentileRank(obj, field_name, result_field_name) {
  var values = obj.map(function (d) {
    return d[field_name];
  });
  var len_values = values.length;
  var getPR = function getPR(v) {
    var count = 0;
    for (var i = 0; i < len_values; i++) {
      if (values[i] <= v) {
        count += 1;
      }
    }
    return 100 * count / len_values;
  };
  for (var ix = 0; ix < len_values; ix++) {
    obj[ix][result_field_name] = getPR(values[ix]);
  }
}

var _getPR = function _getPR(v, serie) {
  var count = 0;
  for (var i = 0; i < serie.length; i++) {
    if (serie[i] <= v) {
      count += 1;
    }
  }
  return 100 * count / serie.length;
};

var createMenu = function createMenu(names, variables, study_zones, territorial_mesh) {
  // First section, regions names:
  var title_section1 = document.createElement('p');
  title_section1.className = 'title_menu';
  title_section1.innerHTML = 'Ma région';
  var section1 = document.createElement('div');
  section1.className = 'box';
  section1.style.overflow = 'auto';
  section1.style.height = '200px';
  for (var i = 0, len_i = names.length; i < len_i; i++) {
    var id = names[i].geo;
    var name = names[i].Nom;
    var entry = document.createElement('p');
    entry.innerHTML = '<span value="' + id + '" class=\'target_region square\'></span><span class="label_chk">' + name + '</span>';
    section1.appendChild(entry);
  }

  // Second section, groups of variables:
  var title_section2 = document.createElement('p');
  title_section2.className = 'title_menu';
  title_section2.innerHTML = 'Mon/mes indicateurs';
  var section2 = document.createElement('div');
  section2.className = 'box';

  // Filter the "variables" variable to fetch the group names :
  var groups_var = removeDuplicates(variables.map(function (d) {
    return d.group;
  }));

  var _loop = function _loop(_i, _len_i) {
    var gp_name = groups_var[_i];
    var entry = document.createElement('p');
    entry.innerHTML = '<span class=\'square\'></span><span>' + gp_name + '</span>';
    section2.appendChild(entry);
    var var_names = variables.filter(function (d) {
      return d.group === gp_name;
    });
    for (var j = 0, len_j = var_names.length; j < len_j; j++) {
      var name_var = var_names[j].name;
      var code_var = var_names[j].ratio;
      var sub_entry = document.createElement('p');
      sub_entry.className = 'small';
      sub_entry.innerHTML = '<span value="' + code_var + '" class="target_variable small_square"></span><span class="label_chk">' + name_var + '</span>';
      section2.appendChild(sub_entry);
    }
  };

  for (var _i = 0, _len_i = groups_var.length; _i < _len_i; _i++) {
    _loop(_i, _len_i);
  }

  // Third section, study zone:
  var title_section3 = document.createElement('p');
  title_section3.className = 'title_menu';
  title_section3.innerHTML = 'Mon espace d\'étude';
  var section3 = document.createElement('div');
  section3.className = 'box';
  for (var _i2 = 0, _len_i2 = study_zones.length; _i2 < _len_i2; _i2++) {
    var _entry = document.createElement('p');
    var zone = study_zones[_i2];
    _entry.innerHTML = '<span filter-value="' + zone.id + '" class=\'filter_v square\'></span><span class="label_chk">' + zone.name + '</span>';
    section3.appendChild(_entry);
  }

  // Fourth section:
  var title_section4 = document.createElement('p');
  title_section4.className = 'title_menu';
  title_section4.innerHTML = 'Maillage territorial d\'analyse';
  var section4 = document.createElement('div');
  section4.className = 'box';
  for (var _i3 = 0, _len_i3 = territorial_mesh.length; _i3 < _len_i3; _i3++) {
    var _entry2 = document.createElement('p');
    var territ_level = territorial_mesh[_i3];
    _entry2.innerHTML = '<span value="' + territ_level.id + '" class=\'square territ_level\'></span><span class="label_chk">' + territ_level.name + '</span>';
    section4.appendChild(_entry2);
  }

  // The actual menu containing these 4 sections:
  var menu = document.getElementById('menu');
  menu.id = 'menu';
  menu.style.width = '340px';
  menu.style.float = 'left';
  menu.appendChild(title_section1);
  menu.appendChild(section1);
  menu.appendChild(title_section2);
  menu.appendChild(section2);
  menu.appendChild(title_section3);
  menu.appendChild(section3);
  menu.appendChild(title_section4);
  menu.appendChild(section4);
};

function makeTopMenu() {
  var top_menu = d3.select('#menutop').styles({ 'font-family': "'Signika', sans-serif", 'font-size': '0.80em', padding: '0.3px' });
  var width_left = document.querySelector('#menu').getBoundingClientRect().width + 25 + 'px';
  var t = document.querySelector('#bar_section').getBoundingClientRect().width;
  var width_central_chart = t + 'px';
  var width_map = document.querySelector('#map_section').getBoundingClientRect().width - 35 + 'px';
  var width_type_comp = (t - 80) / 3 - 2 + 'px';
  top_menu.append('div').attrs({ class: 'title_section' }).styles({ width: width_left, float: 'left', margin: '0 3px' }).html('SÉLECTION');

  var type_chart = top_menu.append('div').attr('class', 'top_section').styles({ width: width_central_chart, float: 'left', margin: '0 3px', 'text-align': 'center' });

  var position = type_chart.append('div').attr('class', 'type_comparaison').styles({ width: width_type_comp });

  position.append('p').attr('class', 'title_type_comp').html('POSITION');

  position.append('span').attrs({ class: 'type_chart chart_t1', value: 'BarChart1' }).html('1 ind.');

  position.append('span').attrs({ class: 'type_chart chart_t2 disabled', value: 'ScatterPlot2' }).html('2 ind.');

  position.append('span').attr('class', 'type_chart chart_t3 disabled').html('+3 ind.');

  var ressemblance = type_chart.append('div').attr('class', 'type_comparaison').styles({ width: width_type_comp });

  ressemblance.append('p').attr('class', 'title_type_comp').html('RESSEMBLANCES');

  ressemblance.append('span').attrs({ class: 'type_chart chart_t1', value: 'BubbleChart1' }).html('1 ind.');

  ressemblance.append('span').attr('class', 'type_chart chart_t2 disabled').html('+2 ind.');

  var inegalite = type_chart.append('div').attr('class', 'type_comparaison').styles({ width: width_type_comp });

  inegalite.append('p').attr('class', 'title_type_comp').html('INÉGALITÉS');

  inegalite.append('span').attr('class', 'type_chart chart_t1 disabled').html('1 ind.');

  inegalite.append('span').attr('class', 'type_chart chart_t2 disabled').html('+2 ind.');

  top_menu.append('div').attrs({ class: 'title_section' }).styles({ width: width_map, float: 'left', margin: '0 0 0 20px' }).html('QUELLES REGIONS ?');
}

function makeHeaderMapSection() {
  var header_map_section = d3.select('#map_section').insert('p', 'svg').attr('id', 'header_map').style('margin', '0 0 0 10px');

  header_map_section.insert('img').attrs({
    class: 'map_button active',
    width: 20,
    height: 20,
    src: 'img/gimp-tool-rect-select.png',
    id: 'img_rect_selec'
  });

  header_map_section.insert('img').attrs({
    class: 'map_button',
    width: 20,
    height: 20,
    src: 'img/gimp-tool-zoom.png',
    id: 'img_map_zoom'
  });

  header_map_section.insert('img').attrs({
    class: 'map_button',
    width: 20,
    height: 20,
    src: 'img/gimp-cursor.png',
    id: 'img_map_select'
  });
}

function makeHeaderChart() {
  var header_bar_section = d3.select('#bar_section').insert('p', 'svg').attr('id', 'header_chart').style('margin-bottom', '0').style('clear', 'both');

  header_bar_section.insert('img').attrs({
    width: 24,
    height: 24,
    src: 'img/edit-table-insert-row-above.svg',
    id: 'img_table'
  }).styles({ margin: '3px', float: 'right' }).on('click', function () {
    if (document.querySelector('.dataTable-wrapper').style.display) {
      document.querySelector('#svg_map').style.display = 'none';
      document.querySelector('#svg_legend').style.display = 'none';
      document.querySelector('#header_map').style.display = 'none';
      document.querySelector('#header_table').style.display = null;
      document.querySelector('.dataTable-wrapper').style.display = null;
      this.style.filter = 'invert(75%)';
    } else {
      document.querySelector('#svg_map').style.display = null;
      document.querySelector('#svg_legend').style.display = null;
      document.querySelector('#header_map').style.display = null;
      document.querySelector('#header_table').style.display = 'none';
      document.querySelector('.dataTable-wrapper').style.display = 'none';
      this.style.filter = null;
    }
  });

  header_bar_section.insert('img').attrs({
    width: 24,
    height: 24,
    src: 'img/printer.svg',
    id: 'img_printer'
  }).styles({ margin: '3px', float: 'right' });

  header_bar_section.insert('img').attrs({
    width: 24,
    height: 24,
    src: 'img/gtk-info.svg',
    id: 'img_info'
  }).styles({ margin: '3px', float: 'right' });
}

var vanillaDataTables = createCommonjsModule(function (module, exports) {
/*!
 *
 * Vanilla-DataTables
 * Copyright (c) 2015-2017 Karl Saunders (http://mobius.ovh)
 * Licensed under MIT (http://www.opensource.org/licenses/mit-license.php)
 *
 * Version: 1.4.15
 *
 */
(function (root, factory) {
    var plugin = "DataTable";

    if (typeof undefined === "function" && undefined.amd) {
        undefined([], factory(plugin));
    } else {
        module.exports = factory(plugin);
    }
})(commonjsGlobal, function (plugin) {
    "use strict";
    var win = window,
        doc = document,
        body = doc.body;

    /**
     * Default configuration
     * @typ {Object}
     */
    var defaultConfig = {
        perPage: 10,
        perPageSelect: [5, 10, 15, 20, 25],

        sortable: true,
        searchable: true,

        // Pagination
        nextPrev: true,
        firstLast: false,
        prevText: "&lsaquo;",
        nextText: "&rsaquo;",
        firstText: "&laquo;",
        lastText: "&raquo;",
        ellipsisText: "&hellip;",
        ascText: "▴",
        descText: "▾",
        truncatePager: true,
        pagerDelta: 2,

        fixedColumns: true,
        fixedHeight: false,

        header: true,
        footer: false,

        // Customise the display text
        labels: {
            placeholder: "Search...", // The search input placeholder
            perPage: "{select} entries per page", // per-page dropdown label
            noRows: "No entries found", // Message shown when there are no search results
            info: "Showing {start} to {end} of {rows} entries" //
        },

        // Customise the layout
        layout: {
            top: "{select}{search}",
            bottom: "{info}{pager}"
        }
    };

    /**
     * Check is item is object
     * @return {Boolean}
     */
    var isObject = function (val) {
        return Object.prototype.toString.call(val) === "[object Object]";
    };

    /**
     * Check is item is array
     * @return {Boolean}
     */
    var isArray = function (val) {
        return Array.isArray(val);
    };

    /**
     * Check for valid JSON string
     * @param  {String}   str
     * @return {Boolean|Array|Object}
     */
    var isJson = function (str) {
        var t = !1;
        try {
            t = JSON.parse(str);
        } catch (e) {
            return !1;
        }
        return !(null === t || (!isArray(t) && !isObject(t))) && t;
    };

    /**
     * Merge objects (reccursive)
     * @param  {Object} r
     * @param  {Object} t
     * @return {Object}
     */
    var extend = function (src, props) {
        for (var prop in props) {
            if (props.hasOwnProperty(prop)) {
                var val = props[prop];
                if (val && isObject(val)) {
                    src[prop] = src[prop] || {};
                    extend(src[prop], val);
                } else {
                    src[prop] = val;
                }
            }
        }
        return src;
    };

    /**
     * Iterator helper
     * @param  {(Array|Object)}   arr     Any object, array or array-like collection.
     * @param  {Function}         fn      Callback
     * @param  {Object}           scope   Change the value of this
     * @return {Void}
     */
    var each = function (arr, fn, scope) {
        var n;
        if (isObject(arr)) {
            for (n in arr) {
                if (Object.prototype.hasOwnProperty.call(arr, n)) {
                    fn.call(scope, arr[n], n);
                }
            }
        } else {
            for (n = 0; n < arr.length; n++) {
                fn.call(scope, arr[n], n);
            }
        }
    };

    /**
     * Add event listener to target
     * @param  {Object} el
     * @param  {String} e
     * @param  {Function} fn
     */
    var on = function (el, e, fn) {
        el.addEventListener(e, fn, false);
    };

    /**
     * Create DOM element node
     * @param  {String}   a nodeName
     * @param  {Object}   b properties and attributes
     * @return {Object}
     */
    var createElement = function (a, b) {
        var d = doc.createElement(a);
        if (b && "object" == typeof b) {
            var e;
            for (e in b) {
                if ("html" === e) {
                    d.innerHTML = b[e];
                } else {
                    d.setAttribute(e, b[e]);
                }
            }
        }
        return d;
    };

    var flush = function (el, ie) {
        if (el instanceof NodeList) {
            each(el, function (e) {
                flush(e, ie);
            });
        } else {
            if (ie) {
                while (el.hasChildNodes()) {
                    el.removeChild(el.firstChild);
                }
            } else {
                el.innerHTML = "";
            }
        }
    };

    /**
     * Create button helper
     * @param  {String}   c
     * @param  {Number}   p
     * @param  {String}   t
     * @return {Object}
     */
    var button = function (c, p, t) {
        return createElement("li", {
            class: c,
            html: '<a href="#" data-page="' + p + '">' + t + "</a>"
        });
    };

    /**
     * classList shim
     * @type {Object}
     */
    var classList = {
        add: function (s, a) {
            if (s.classList) {
                s.classList.add(a);
            } else {
                if (!classList.contains(s, a)) {
                    s.className = s.className.trim() + " " + a;
                }
            }
        },
        remove: function (s, a) {
            if (s.classList) {
                s.classList.remove(a);
            } else {
                if (classList.contains(s, a)) {
                    s.className = s.className.replace(
                        new RegExp("(^|\\s)" + a.split(" ").join("|") + "(\\s|$)", "gi"),
                        " "
                    );
                }
            }
        },
        contains: function (s, a) {
            if (s)
                return s.classList ?
                    s.classList.contains(a) :
                    !!s.className &&
                    !!s.className.match(new RegExp("(\\s|^)" + a + "(\\s|$)"));
        }
    };

    /**
     * Bubble sort algorithm
     */
    var sortItems = function (a, b) {
        var c, d;
        if (1 === b) {
            c = 0;
            d = a.length;
        } else {
            if (b === -1) {
                c = a.length - 1;
                d = -1;
            }
        }
        for (var e = !0; e;) {
            e = !1;
            for (var f = c; f != d; f += b) {
                if (a[f + b] && a[f].value > a[f + b].value) {
                    var g = a[f],
                        h = a[f + b],
                        i = g;
                    a[f] = h;
                    a[f + b] = i;
                    e = !0;
                }
            }
        }
        return a;
    };

    /**
     * Pager truncation algorithm
     */
    var truncate = function (a, b, c, d, ellipsis) {
        d = d || 2;
        var j,
            e = 2 * d,
            f = b - d,
            g = b + d,
            h = [],
            i = [];
        if (b < 4 - d + e) {
            g = 3 + e;
        } else if (b > c - (3 - d + e)) {
            f = c - (2 + e);
        }
        for (var k = 1; k <= c; k++) {
            if (1 == k || k == c || (k >= f && k <= g)) {
                var l = a[k - 1];
                classList.remove(l, "active");
                h.push(l);
            }
        }
        each(h, function (c) {
            var d = c.children[0].getAttribute("data-page");
            if (j) {
                var e = j.children[0].getAttribute("data-page");
                if (d - e == 2) i.push(a[e]);
                else if (d - e != 1) {
                    var f = createElement("li", {
                        class: "ellipsis",
                        html: '<a href="#">' + ellipsis + "</a>"
                    });
                    i.push(f);
                }
            }
            i.push(c);
            j = c;
        });

        return i;
    };

    /**
     * Parse data to HTML table
     */
    var dataToTable = function (data) {
        var thead = false,
            tbody = false;

        data = data || this.options.data;

        if (data.headings) {
            thead = createElement("thead");
            var tr = createElement("tr");
            each(data.headings, function (col) {
                var td = createElement("th", {
                    html: col
                });
                tr.appendChild(td);
            });

            thead.appendChild(tr);
        }

        if (data.data) {
            tbody = createElement("tbody");
            each(data.data, function (rows) {
                if (data.headings) {
                    if (data.headings.length !== rows.length) {
                        throw new Error(
                            "The number of rows do not match the number of headings."
                        );
                    }
                }
                var tr = createElement("tr");
                each(rows, function (value) {
                    var td = createElement("td", {
                        html: value
                    });
                    tr.appendChild(td);
                });
                tbody.appendChild(tr);
            });
        }

        if (thead) {
            if (this.table.tHead !== null) {
                this.table.removeChild(this.table.tHead);
            }
            this.table.appendChild(thead);
        }

        if (tbody) {
            if (this.table.tBodies.length) {
                this.table.removeChild(this.table.tBodies[0]);
            }
            this.table.appendChild(tbody);
        }
    };

    /**
     * Use moment.js to parse cell contents for sorting
     * @param  {String} content     The datetime string to parse
     * @param  {String} format      The format for moment to use
     * @return {String|Boolean}     Datatime string or false
     */
    var parseDate = function (content, format) {
        var date = false;

        // moment() throws a fit if the string isn't a valid datetime string
        // so we need to supply the format to the constructor (https://momentjs.com/docs/#/parsing/string-format/)

        // Converting to YYYYMMDD ensures we can accurately sort the column numerically

        if (format) {
            switch (format) {
            case "ISO_8601":
                date = moment(content, moment.ISO_8601).format("YYYYMMDD");
                break;
            case "RFC_2822":
                date = moment(content, "ddd, MM MMM YYYY HH:mm:ss ZZ").format("YYYYMMDD");
                break;
            case "MYSQL":
                date = moment(content, "YYYY-MM-DD hh:mm:ss").format("YYYYMMDD");
                break;
            case "UNIX":
                date = moment(content).unix();
                break;
                // User defined format using the data-format attribute or columns[n].format option
            default:
                date = moment(content, format).format("YYYYMMDD");
                break;
            }
        }

        return date;
    };

    /**
     * Columns API
     * @param {Object} instance DataTable instance
     * @param {Mixed} columns  Column index or array of column indexes
     */
    var Columns = function (dt) {
        this.dt = dt;
        return this;
    };

    /**
     * Swap two columns
     * @return {Void}
     */
    Columns.prototype.swap = function (columns) {
        if (columns.length && columns.length === 2) {
            var cols = [];

            // Get the current column indexes
            each(this.dt.headings, function (h, i) {
                cols.push(i);
            });

            var x = columns[0];
            var y = columns[1];
            var b = cols[y];
            cols[y] = cols[x];
            cols[x] = b;

            this.order(cols);
        }
    };

    /**
     * Reorder the columns
     * @return {Array} columns  Array of ordered column indexes
     */
    Columns.prototype.order = function (columns) {
        var a, b, c, d, h, s;

        var temp_a = [];
        var temp_b = [];
        var temp_c = [];
        var temp_d = [];

        var dt = this.dt;

        // Order the headings
        each(columns, function (column, x) {
            h = dt.headings[column];
            s = h.getAttribute("data-sortable") !== "false";
            a = h.cloneNode(true);
            a.originalCellIndex = x;
            a.sortable = s;

            temp_a.push(a);

            if (dt.hiddenColumns.indexOf(column) < 0) {
                b = h.cloneNode(true);
                b.originalCellIndex = x;
                b.sortable = s;

                temp_b.push(b);
            }
        });

        // Order the row cells
        each(dt.data, function (row, i) {
            c = row.cloneNode();
            d = row.cloneNode();

            c.dataIndex = i;
            d.dataIndex = i;

            if (row.searchIndex !== null && row.searchIndex !== undefined) {
                c.searchIndex = row.searchIndex;
                d.searchIndex = row.searchIndex;
            }

            // Append to cell to the fragment in the correct order
            each(
                columns,
                function (x, column) {
                    c.appendChild(row.cells[column].cloneNode(true));

                    if (dt.hiddenColumns.indexOf(column) < 0) {
                        d.appendChild(row.cells[column].cloneNode(true));
                    }
                },
                this
            );

            temp_c.push(c);
            temp_d.push(d);
        });

        dt.headings = temp_a;
        dt.activeHeadings = temp_b;

        dt.data = temp_c;
        dt.activeRows = temp_d;

        // Update
        dt.update();
    };

    /**
     * Hide columns
     * @return {Void}
     */
    Columns.prototype.hide = function (columns) {
        if (columns.length) {
            var dt = this.dt;

            each(columns, function (column) {
                if (dt.hiddenColumns.indexOf(column) < 0) {
                    dt.hiddenColumns.push(column);
                }
            });

            this.rebuild();
        }
    };

    /**
     * Show columns
     * @return {Void}
     */
    Columns.prototype.show = function (columns) {
        if (columns.length) {
            var index, dt = this.dt;

            each(columns, function (column) {
                index = dt.hiddenColumns.indexOf(column);
                if (index > -1) {
                    dt.hiddenColumns.splice(index, 1);
                }
            });

            this.rebuild();
        }
    };

    /**
     * Check column(s) visibility
     * @return {Boolean}
     */
    Columns.prototype.visible = function (columns) {
        var cols, dt = this.dt;

        columns = columns || dt.headings.map(function (th) {
            return th.originalCellIndex;
        });

        if (!isNaN(columns)) {
            cols = dt.hiddenColumns.indexOf(columns) < 0;
        } else if (isArray(columns)) {
            cols = [];
            each(columns, function (column) {
                cols.push(dt.hiddenColumns.indexOf(column) < 0);
            });
        }

        return cols;
    };

    /**
     * Check column(s) visibility
     * @return {Boolean}
     */
    Columns.prototype.hidden = function (columns) {
        var cols, dt = this.dt;

        columns = columns || this.dt.headings.map(function (th) {
            return th.originalCellIndex;
        });

        if (!isNaN(columns)) {
            cols = dt.hiddenColumns.indexOf(this.columns) > -1;
        } else if (isArray(columns)) {
            cols = [];
            each(columns, function (column) {
                cols.push(dt.hiddenColumns.indexOf(column) > -1);
            });
        }

        return cols;
    };

    /**
     * Add a new column
     * @param {Object} data
     */
    Columns.prototype.add = function (data) {
        var that = this,
            td, th = document.createElement("th");

        if (!this.dt.headings.length) {
            this.dt.insert({
                headings: [data.heading],
                data: data.data.map(function (i) {
                    return [i];
                })
            });
            this.rebuild();
            return;
        }

        if (!this.dt.hiddenHeader) {
            if (data.heading.nodeName) {
                th.appendChild(data.heading);
            } else {
                th.innerHTML = data.heading;
            }
        } else {
            th.innerHTML = "";
        }

        this.dt.headings.push(th);

        each(this.dt.data, function (row, i) {
            if (data.data[i]) {
                td = document.createElement("td");

                if (data.data[i].nodeName) {
                    td.appendChild(data.data[i]);
                } else {
                    td.innerHTML = data.data[i];
                }

                td.data = td.innerHTML;

                if (data.render) {
                    td.innerHTML = data.render.call(that, td.data, td, row);
                }

                row.appendChild(td);
            }
        });

        if (data.type) {
            th.setAttribute("data-type", data.type);
        }
        if (data.format) {
            th.setAttribute("data-format", data.format);
        }

        if (data.hasOwnProperty("sortable")) {
            th.sortable = data.sortable;
            th.setAttribute("data-sortable", data.sortable === true ? "true" : "false");
        }

        this.rebuild();

        this.dt.renderHeader();
    };

    /**
     * Remove column(s)
     * @param  {Array|Number} select
     * @return {Void}
     */
    Columns.prototype.remove = function (select) {
        if (isArray(select)) {
            // Remove in reverse otherwise the indexes will be incorrect
            select.sort(function (a, b) {
                return b - a;
            });

            each(select, function (column) {
                this.remove(column);
            }, this);
        } else {
            this.dt.headings.splice(select, 1);

            each(this.dt.data, function (row) {
                row.removeChild(row.cells[select]);
            });
        }

        this.rebuild();
    };

    /**
     * Sort by column
     * @param  {int} column - The column no.
     * @param  {string} direction - asc or desc
     * @return {void}
     */
    Columns.prototype.sort = function (column, direction, init) {

        var dt = this.dt;

        // Check column is present
        if (dt.hasHeadings && (column < 1 || column > dt.activeHeadings.length)) {
            return false;
        }

        dt.sorting = true;

        // Convert to zero-indexed
        column = column - 1;

        var dir,
            rows = dt.data,
            alpha = [],
            numeric = [],
            a = 0,
            n = 0,
            th = dt.activeHeadings[column];

        column = th.originalCellIndex;

        each(rows, function (tr) {
            var cell = tr.cells[column];
            var content = cell.data;
            var num = content.replace(/(\$|\,|\s|%)/g, "");

            // Check for date format and moment.js
            if (th.getAttribute("data-type") === "date" && win.moment) {
                var format = false,
                    formatted = th.hasAttribute("data-format");

                if (formatted) {
                    format = th.getAttribute("data-format");
                }

                num = parseDate(content, format);
            }

            if (parseFloat(num) == num) {
                numeric[n++] = {
                    value: Number(num),
                    row: tr
                };
            } else {
                alpha[a++] = {
                    value: content,
                    row: tr
                };
            }
        });

        /* Sort according to direction (ascending or descending) */
        var top, btm;
        if (classList.contains(th, "asc") || direction == "asc") {
            top = sortItems(alpha, -1);
            btm = sortItems(numeric, -1);
            dir = "descending";
            classList.remove(th, "asc");
            classList.add(th, "desc");
        } else {
            top = sortItems(numeric, 1);
            btm = sortItems(alpha, 1);
            dir = "ascending";
            classList.remove(th, "desc");
            classList.add(th, "asc");
        }

        /* Clear asc/desc class names from the last sorted column's th if it isn't the same as the one that was just clicked */
        if (dt.lastTh && th != dt.lastTh) {
            classList.remove(dt.lastTh, "desc");
            classList.remove(dt.lastTh, "asc");
        }

        dt.lastTh = th;

        /* Reorder the table */
        rows = top.concat(btm);

        dt.data = [];
        var indexes = [];

        each(rows, function (v, i) {
            dt.data.push(v.row);

            if (v.row.searchIndex !== null && v.row.searchIndex !== undefined) {
                indexes.push(i);
            }
        }, dt);

        dt.searchData = indexes;

        this.rebuild();

        dt.update();

        if (!init) {
            dt.emit("datatable.sort", column, dir);
        }
    };

    /**
     * Rebuild the columns
     * @return {Void}
     */
    Columns.prototype.rebuild = function () {
        var a, b, c, d;
        var dt = this.dt,
            temp = [];

        dt.activeRows = [];
        dt.activeHeadings = [];

        each(dt.headings, function (th, i) {
            th.originalCellIndex = i;
            th.sortable = th.getAttribute("data-sortable") !== "false";
            if (dt.hiddenColumns.indexOf(i) < 0) {
                dt.activeHeadings.push(th);
            }
        }, this);

        // Loop over the rows and reorder the cells
        each(dt.data, function (row, i) {
            a = row.cloneNode();
            b = row.cloneNode();

            a.dataIndex = i;
            b.dataIndex = i;

            if (row.searchIndex !== null && row.searchIndex !== undefined) {
                a.searchIndex = row.searchIndex;
                b.searchIndex = row.searchIndex;
            }

            // Append to cell to the fragment in the correct order
            each(row.cells, function (cell) {
                c = cell.cloneNode(true);
                c.data = cell.data;
                a.appendChild(c);

                if (dt.hiddenColumns.indexOf(cell.cellIndex) < 0) {
                    d = cell.cloneNode(true);
                    d.data = cell.data;
                    b.appendChild(d);
                }
            });

            // Append the fragment with the ordered cells
            temp.push(a);
            dt.activeRows.push(b);
        });

        dt.data = temp;

        dt.update();
    };

    /**
     * Rows API
     * @param {Object} instance DataTable instance
     * @param {Array} rows
     */
    var Rows = function (dt, rows) {
        this.dt = dt;
        this.rows = rows;

        return this;
    };

    /**
     * Build a new row
     * @param  {Array} row
     * @return {HTMLElement}
     */
    Rows.prototype.build = function (row) {
        var td, tr = createElement("tr");

        var headings = this.dt.headings;

        if (!headings.length) {
            headings = row.map(function () {
                return "";
            });
        }

        each(headings, function (h, i) {
            td = createElement("td");

            if (row[i] && row[i].length) {
                td.innerHTML = row[i];
            }

            td.data = row[i];

            tr.appendChild(td);
        });

        return tr;
    };

    Rows.prototype.render = function (row) {
        return row;
    };

    /**
     * Add new row
     * @param {Array} select
     */
    Rows.prototype.add = function (data) {

        if (isArray(data)) {
            var dt = this.dt;
            // Check for multiple rows
            if (isArray(data[0])) {
                each(data, function (row, i) {
                    dt.data.push(this.build(row));
                }, this);
            } else {
                dt.data.push(this.build(data));
            }

            this.update();

            dt.columns().rebuild();
        }
    };

    /**
     * Remove row(s)
     * @param  {Array|Number} select
     * @return {Void}
     */
    Rows.prototype.remove = function (select) {

        var dt = this.dt;

        if (isArray(select)) {
            // Remove in reverse otherwise the indexes will be incorrect
            select.sort(function (a, b) {
                return b - a;
            });

            each(select, function (row, i) {
                dt.data.splice(row, 1);
            });
        } else {
            dt.data.splice(select, 1);
        }

        this.update();
        dt.columns().rebuild();
    };

    /**
     * Update row indexes
     * @return {Void}
     */
    Rows.prototype.update = function () {
        each(this.dt.data, function (row, i) {
            row.dataIndex = i;
        });
    };

    ////////////////////
    //    MAIN LIB    //
    ////////////////////

    var DataTable = function (table, options) {
        this.initialized = false;

        // user options
        this.options = extend(defaultConfig, options);

        if (typeof table === "string") {
            var selector = table;
            table = document.querySelector(table);

            if (!table) {
                throw new Error("The element '" + selector + "' can not be found.");
            }
        }

        if (table.tagName.toLowerCase() !== "table") {
            throw new Error("The selected element is not a table.");
        }

        this.initialLayout = table.innerHTML;
        this.initialSortable = this.options.sortable;

        // Disable manual sorting if no header is present (#4)
        if (!this.options.header) {
            this.options.sortable = false;
        }

        if (table.tHead === null) {
            if (!this.options.data ||
                (this.options.data && !this.options.data.headings)
            ) {
                this.options.sortable = false;
            }
        }

        if (table.tBodies.length && !table.tBodies[0].rows.length) {
            if (this.options.data) {
                if (!this.options.data.data) {
                    throw new Error(
                        "You seem to be using the data option, but you've not defined any rows."
                    );
                }
            }
        }

        this.table = table;

        this.init();
    };

    var proto = DataTable.prototype;

    /**
     * Add custom property or method to extend DataTable
     * @param  {String} prop    - Method name or property
     * @param  {Mixed} val      - Function or property value
     * @return {Void}
     */
    DataTable.extend = function (prop, val) {
        if (typeof val === "function") {
            DataTable.prototype[prop] = val;
        } else {
            DataTable[prop] = val;
        }
    };

    /**
     * Initialize the instance
     * @param  {Object} options
     * @return {Void}
     */
    proto.init = function (options) {
        if (this.initialized || classList.contains(this.table, "dataTable-table")) {
            return false;
        }

        var that = this;

        this.options = extend(this.options, options || {});

        // IE detection
        this.isIE = !!/(msie|trident)/i.test(navigator.userAgent);

        this.currentPage = 1;
        this.onFirstPage = true;

        this.hiddenColumns = [];
        this.columnRenderers = [];
        this.selectedColumns = [];

        this.render();

        if (this.options.plugins) {
            each(this.options.plugins, function (options, plugin) {
                this[plugin](options);
            }, this);
        }

        setTimeout(function () {
            that.emit("datatable.init");
            that.initialized = true;
        }, 10);
    };

    /**
     * Render the instance
     * @param  {String} type
     * @return {Void}
     */
    proto.render = function (type) {
        if (type) {
            switch (type) {
            case "page":
                this.renderPage();
                break;
            case "pager":
                this.renderPager();
                break;
            case "header":
                this.renderHeader();
                break;
            }

            return false;
        }

        var that = this,
            o = that.options,
            template = "";

        // Convert data to HTML
        if (o.data) {
            dataToTable.call(that);
        }

        if (o.ajax) {
            var ajax = o.ajax;
            var xhr = new XMLHttpRequest();

            var xhrProgress = function (e) {
                that.emit("datatable.ajax.progress", e, xhr);
            };

            var xhrLoad = function (e) {
                if (xhr.readyState === 4) {
                    that.emit("datatable.ajax.loaded", e, xhr);

                    if (xhr.status === 200) {
                        var obj = {};
                        obj.data = ajax.load ? ajax.load.call(that, xhr) : xhr.responseText;

                        obj.type = "json";

                        if (ajax.content && ajax.content.type) {
                            obj.type = ajax.content.type;

                            obj = extend(obj, ajax.content);
                        }

                        that.import(obj);

                        that.setColumns(true);

                        that.emit("datatable.ajax.success", e, xhr);
                    } else {
                        that.emit("datatable.ajax.error", e, xhr);
                    }
                }
            };

            var xhrFailed = function (e) {
                that.emit("datatable.ajax.error", e, xhr);
            };

            var xhrCancelled = function (e) {
                that.emit("datatable.ajax.abort", e, xhr);
            };

            on(xhr, "progress", xhrProgress);
            on(xhr, "load", xhrLoad);
            on(xhr, "error", xhrFailed);
            on(xhr, "abort", xhrCancelled);

            that.emit("datatable.ajax.loading", xhr);

            xhr.open("GET", typeof ajax === "string" ? o.ajax : o.ajax.url);
            xhr.send();
        }

        // Store references
        that.body = that.table.tBodies[0];
        that.head = that.table.tHead;
        that.foot = that.table.tFoot;

        if (!that.body) {
            that.body = createElement("tbody");

            that.table.appendChild(that.body);
        }

        that.hasRows = that.body.rows.length > 0;

        // Make a tHead if there isn't one (fixes #8)
        if (!that.head) {
            var h = createElement("thead");
            var t = createElement("tr");

            if (that.hasRows) {
                each(that.body.rows[0].cells, function () {
                    t.appendChild(createElement("th"));
                });

                h.appendChild(t);
            }

            that.head = h;

            that.table.insertBefore(that.head, that.body);

            that.hiddenHeader = !o.ajax;
        }

        that.headings = [];
        that.hasHeadings = that.head.rows.length > 0;

        if (that.hasHeadings) {
            that.header = that.head.rows[0];
            that.headings = [].slice.call(that.header.cells);
        }

        // Header
        if (!o.header) {
            if (that.head) {
                that.table.removeChild(that.table.tHead);
            }
        }

        // Footer
        if (o.footer) {
            if (that.head && !that.foot) {
                that.foot = createElement("tfoot", {
                    html: that.head.innerHTML
                });
                that.table.appendChild(that.foot);
            }
        } else {
            if (that.foot) {
                that.table.removeChild(that.table.tFoot);
            }
        }

        // Build
        that.wrapper = createElement("div", {
            class: "dataTable-wrapper dataTable-loading"
        });

        // Template for custom layouts
        template += "<div class='dataTable-top'>";
        template += o.layout.top;
        template += "</div>";
        template += "<div class='dataTable-container'></div>";
        template += "<div class='dataTable-bottom'>";
        template += o.layout.bottom;
        template += "</div>";

        // Info placement
        template = template.replace("{info}", "<div class='dataTable-info'></div>");

        // Per Page Select
        if (o.perPageSelect) {
            var wrap = "<div class='dataTable-dropdown'><label>";
            wrap += o.labels.perPage;
            wrap += "</label></div>";

            // Create the select
            var select = createElement("select", {
                class: "dataTable-selector"
            });

            // Create the options
            each(o.perPageSelect, function (val) {
                var selected = val === o.perPage;
                var option = new Option(val, val, selected, selected);
                select.add(option);
            });

            // Custom label
            wrap = wrap.replace("{select}", select.outerHTML);

            // Selector placement
            template = template.replace("{select}", wrap);
        } else {
            template = template.replace("{select}", "");
        }

        // Searchable
        if (o.searchable) {
            var form =
                "<div class='dataTable-search'><input class='dataTable-input' placeholder='" +
                o.labels.placeholder +
                "' type='text'></div>";

            // Search input placement
            template = template.replace("{search}", form);
        } else {
            template = template.replace("{search}", "");
        }

        if (that.hasHeadings) {
            // Sortable
            this.render("header");
        }

        // Add table class
        classList.add(that.table, "dataTable-table");

        // Paginator
        var w = createElement("div", {
            class: "dataTable-pagination"
        });
        var paginator = createElement("ul");
        w.appendChild(paginator);

        // Pager(s) placement
        template = template.replace(/\{pager\}/g, w.outerHTML);

        that.wrapper.innerHTML = template;

        that.container = that.wrapper.querySelector(".dataTable-container");

        that.pagers = that.wrapper.querySelectorAll(".dataTable-pagination");

        that.label = that.wrapper.querySelector(".dataTable-info");

        // Insert in to DOM tree
        that.table.parentNode.replaceChild(that.wrapper, that.table);
        that.container.appendChild(that.table);

        // Store the table dimensions
        that.rect = that.table.getBoundingClientRect();

        // Convert rows to array for processing
        that.data = [].slice.call(that.body.rows);
        that.activeRows = that.data.slice();
        that.activeHeadings = that.headings.slice();

        // Update
        that.update();

        if (!o.ajax) {
            that.setColumns();
        }

        // Fixed height
        if (o.fixedHeight) {
            this.fixHeight();
        }

        that.fixColumns();

        // Class names
        if (!o.header) {
            classList.add(that.wrapper, "no-header");
        }

        if (!o.footer) {
            classList.add(that.wrapper, "no-footer");
        }

        if (o.sortable) {
            classList.add(that.wrapper, "sortable");
        }

        if (o.searchable) {
            classList.add(that.wrapper, "searchable");
        }

        if (o.fixedHeight) {
            classList.add(that.wrapper, "fixed-height");
        }

        if (o.fixedColumns) {
            classList.add(that.wrapper, "fixed-columns");
        }

        that.bindEvents();
    };

    /**
     * Render the page
     * @return {Void}
     */
    proto.renderPage = function () {
        if (this.hasRows && this.totalPages) {
            if (this.currentPage > this.totalPages) {
                this.currentPage = 1;
            }

            // Use a fragment to limit touching the DOM
            var index = this.currentPage - 1,
                frag = doc.createDocumentFragment();

            if (this.hasHeadings) {
                flush(this.header, this.isIE);

                each(this.activeHeadings, function (th) {
                    this.header.appendChild(th);
                }, this);
            }

            each(this.pages[index], function (row) {
                frag.appendChild(this.rows().render(row));
            }, this);

            this.clear(frag);

            this.onFirstPage = this.currentPage === 1;
            this.onLastPage = this.currentPage === this.lastPage;
        } else {
            this.clear();
        }

        // Update the info
        var current = 0,
            f = 0,
            t = 0,
            items;

        if (this.totalPages) {
            current = this.currentPage - 1;
            f = current * this.options.perPage;
            t = f + this.pages[current].length;
            f = f + 1;
            items = !!this.searching ? this.searchData.length : this.data.length;
        }

        if (this.label && this.options.labels.info.length) {
            // CUSTOM LABELS
            var string = this.options.labels.info
                .replace("{start}", f)
                .replace("{end}", t)
                .replace("{page}", this.currentPage)
                .replace("{pages}", this.totalPages)
                .replace("{rows}", items);

            this.label.innerHTML = items ? string : "";
        }

        if (this.options.fixedHeight && this.currentPage == 1) {
            this.fixHeight();
        }
    };

    /**
     * Render the pager(s)
     * @return {Void}
     */
    proto.renderPager = function () {
        flush(this.pagers, this.isIE);

        if (this.totalPages > 1) {
            var c = "pager",
                frag = doc.createDocumentFragment(),
                prev = this.onFirstPage ? 1 : this.currentPage - 1,
                next = this.onlastPage ? this.totalPages : this.currentPage + 1;

            // first button
            if (this.options.firstLast) {
                frag.appendChild(button(c, 1, this.options.firstText));
            }

            // prev button
            if (this.options.nextPrev) {
                frag.appendChild(button(c, prev, this.options.prevText));
            }

            var pager = this.links;

            // truncate the links
            if (this.options.truncatePager) {
                pager = truncate(
                    this.links,
                    this.currentPage,
                    this.pages.length,
                    this.options.pagerDelta,
                    this.options.ellipsisText
                );
            }

            // active page link
            classList.add(this.links[this.currentPage - 1], "active");

            // append the links
            each(pager, function (p) {
                classList.remove(p, "active");
                frag.appendChild(p);
            });

            classList.add(this.links[this.currentPage - 1], "active");

            // next button
            if (this.options.nextPrev) {
                frag.appendChild(button(c, next, this.options.nextText));
            }

            // first button
            if (this.options.firstLast) {
                frag.appendChild(button(c, this.totalPages, this.options.lastText));
            }

            // We may have more than one pager
            each(this.pagers, function (pager) {
                pager.appendChild(frag.cloneNode(true));
            });
        }
    };

    /**
     * Render the header
     * @return {Void}
     */
    proto.renderHeader = function () {
        var that = this;

        that.labels = [];

        if (that.headings && that.headings.length) {
            each(that.headings, function (th, i) {

                that.labels[i] = th.textContent;

                if (classList.contains(th.firstElementChild, "dataTable-sorter")) {
                    th.innerHTML = th.firstElementChild.innerHTML;
                }

                th.sortable = th.getAttribute("data-sortable") !== "false";

                th.originalCellIndex = i;
                if (that.options.sortable && th.sortable) {
                    var link = createElement("a", {
                        href: "#",
                        class: "dataTable-sorter",
                        html: th.innerHTML
                    });

                    th.innerHTML = "";
                    th.setAttribute("data-sortable", "");
                    th.appendChild(link);
                }
            });
        }

        that.fixColumns();
    };

    /**
     * Bind event listeners
     * @return {[type]} [description]
     */
    proto.bindEvents = function () {
        var that = this,
            o = that.options;

        // Per page selector
        if (o.perPageSelect) {
            var selector = that.wrapper.querySelector(".dataTable-selector");
            if (selector) {
                // Change per page
                on(selector, "change", function (e) {
                    o.perPage = parseInt(this.value, 10);
                    that.update();

                    if (o.fixedHeight) {
                        this.fixHeight();
                    }

                    that.emit("datatable.perpage");
                });
            }
        }

        // Search input
        if (o.searchable) {
            that.input = that.wrapper.querySelector(".dataTable-input");
            if (that.input) {
                on(that.input, "keyup", function (e) {
                    that.search(this.value);
                });
            }
        }

        // Pager(s) / sorting
        on(that.wrapper, "click", function (e) {
            var t = e.target;
            if (t.nodeName.toLowerCase() === "a") {
                if (t.hasAttribute("data-page")) {
                    that.page(t.getAttribute("data-page"));
                    e.preventDefault();
                } else if (
                    o.sortable &&
                    classList.contains(t, "dataTable-sorter") &&
                    t.parentNode.getAttribute("data-sortable") != "false"
                ) {
                    that.columns().sort(that.activeHeadings.indexOf(t.parentNode) + 1);
                    e.preventDefault();
                }
            }
        });
    };

    /**
     * Set up columns
     * @return {[type]} [description]
     */
    proto.setColumns = function (ajax) {

        var that = this;

        if (!ajax) {
            each(that.data, function (row) {
                each(row.cells, function (cell) {
                    cell.data = cell.innerHTML;
                });
            });
        }

        // Check for the columns option
        if (that.options.columns && that.headings.length) {

            each(that.options.columns, function (data) {

                // convert single column selection to array
                if (!isArray(data.select)) {
                    data.select = [data.select];
                }

                if (data.hasOwnProperty("render") && typeof data.render === "function") {
                    that.selectedColumns = that.selectedColumns.concat(data.select);

                    that.columnRenderers.push({
                        columns: data.select,
                        renderer: data.render
                    });
                }

                // Add the data attributes to the th elements
                each(data.select, function (column) {
                    var th = that.headings[column];
                    if (data.type) {
                        th.setAttribute("data-type", data.type);
                    }
                    if (data.format) {
                        th.setAttribute("data-format", data.format);
                    }
                    if (data.hasOwnProperty("sortable")) {
                        th.setAttribute("data-sortable", data.sortable);
                    }

                    if (data.hasOwnProperty("hidden")) {
                        if (data.hidden !== false) {
                            that.columns(column).hide();
                        }
                    }

                    if (data.hasOwnProperty("sort") && data.select.length === 1) {
                        that.columns().sort(data.select[0] + 1, data.sort, true);
                    }
                });
            });
        }

        if (that.hasRows) {
            each(that.data, function (row, i) {
                row.dataIndex = i;
                each(row.cells, function (cell) {
                    cell.data = cell.innerHTML;
                });
            });

            if (that.selectedColumns.length) {
                each(that.data, function (row) {
                    each(row.cells, function (cell, i) {
                        if (that.selectedColumns.indexOf(i) > -1) {
                            each(that.columnRenderers, function (o) {
                                if (o.columns.indexOf(i) > -1) {
                                    cell.innerHTML = o.renderer.call(that, cell.data, cell, row);
                                }
                            });
                        }
                    });
                });
            }

            that.columns().rebuild();
        }

        that.render("header");
    };

    /**
     * Destroy the instance
     * @return {void}
     */
    proto.destroy = function () {
        this.table.innerHTML = this.initialLayout;

        // Remove the className
        classList.remove(this.table, "dataTable-table");

        // Remove the containers
        this.wrapper.parentNode.replaceChild(this.table, this.wrapper);

        this.initialized = false;
    };

    /**
     * Update the instance
     * @return {Void}
     */
    proto.update = function () {
        this.paginate(this);
        this.render("page");

        this.links = [];

        var i = this.pages.length;
        while (i--) {
            var num = i + 1;
            this.links[i] = button(i === 0 ? "active" : "", num, num);
        }

        this.sorting = false;

        this.render("pager");

        this.rows().update();

        this.emit("datatable.update");
    };

    /**
     * Sort rows into pages
     * @return {Number}
     */
    proto.paginate = function () {
        var perPage = this.options.perPage,
            rows = this.activeRows;

        if (this.searching) {
            rows = [];

            each(this.searchData, function (index) {
                rows.push(this.activeRows[index]);
            }, this);
        }

        // Check for hidden columns
        this.pages = rows
            .map(function (tr, i) {
                return i % perPage === 0 ? rows.slice(i, i + perPage) : null;
            })
            .filter(function (page) {
                return page;
            });

        this.totalPages = this.lastPage = this.pages.length;

        return this.totalPages;
    };

    /**
     * Fix column widths
     * @return {Void}
     */
    proto.fixColumns = function () {

        if (this.options.fixedColumns && this.activeHeadings && this.activeHeadings.length) {

            var cells,
                hd = false;

            this.columnWidths = [];

            // If we have headings we need only set the widths on them
            // otherwise we need a temp header and the widths need applying to all cells
            if (this.table.tHead) {
                // Reset widths
                each(this.activeHeadings, function (cell) {
                    cell.style.width = "";
                }, this);

                each(this.activeHeadings, function (cell, i) {
                    var ow = cell.offsetWidth;
                    var w = ow / this.rect.width * 100;
                    cell.style.width = w + "%";
                    this.columnWidths[i] = ow;
                }, this);
            } else {
                cells = [];

                // Make temperary headings
                hd = createElement("thead");
                var r = createElement("tr");
                var c = this.table.tBodies[0].rows[0].cells;
                each(c, function () {
                    var th = createElement("th");
                    r.appendChild(th);
                    cells.push(th);
                });

                hd.appendChild(r);
                this.table.insertBefore(hd, this.body);

                var widths = [];
                each(cells, function (cell, i) {
                    var ow = cell.offsetWidth;
                    var w = ow / this.rect.width * 100;
                    widths.push(w);
                    this.columnWidths[i] = ow;
                }, this);

                each(this.data, function (row) {
                    each(row.cells, function (cell, i) {
                        if (this.columns(cell.cellIndex).visible())
                            cell.style.width = widths[i] + "%";
                    }, this);
                }, this);

                // Discard the temp header
                this.table.removeChild(hd);
            }
        }
    };

    /**
     * Fix the container height;
     * @return {Void}
     */
    proto.fixHeight = function () {
        this.container.style.height = null;
        this.rect = this.container.getBoundingClientRect();
        this.container.style.height = this.rect.height + "px";
    };

    /**
     * Perform a search of the data set
     * @param  {string} query
     * @return {void}
     */
    proto.search = function (query) {
        if (!this.hasRows) return false;

        var that = this;

        query = query.toLowerCase();

        this.currentPage = 1;
        this.searching = true;
        this.searchData = [];

        if (!query.length) {
            this.searching = false;
            this.update();
            this.emit("datatable.search", query, this.searchData);
            classList.remove(this.wrapper, "search-results");
            return false;
        }

        this.clear();

        each(this.data, function (row, idx) {
            var inArray = this.searchData.indexOf(row) > -1;

            // https://github.com/Mobius1/Vanilla-DataTables/issues/12
            var doesQueryMatch = query.split(" ").reduce(function (bool, word) {
                var includes = false;

                for (var x = 0; x < row.cells.length; x++) {
                    if (
                        row.cells[x].textContent.toLowerCase().indexOf(word) > -1 &&
                        that.columns(row.cells[x].cellIndex).visible()
                    ) {
                        includes = true;
                        break;
                    }
                }

                return bool && includes;
            }, true);

            if (doesQueryMatch && !inArray) {
                row.searchIndex = idx;
                this.searchData.push(idx);
            } else {
                row.searchIndex = null;
            }
        }, this);

        classList.add(this.wrapper, "search-results");

        if (!that.searchData.length) {
            classList.remove(that.wrapper, "search-results");

            that.setMessage(that.options.labels.noRows);
        } else {
            that.update();
        }

        this.emit("datatable.search", query, this.searchData);
    };

    /**
     * Change page
     * @param  {int} page
     * @return {void}
     */
    proto.page = function (page) {
        // We don't want to load the current page again.
        if (page == this.currentPage) {
            return false;
        }

        if (!isNaN(page)) {
            this.currentPage = parseInt(page, 10);
        }

        if (page > this.pages.length || page < 0) {
            return false;
        }

        this.render("page");
        this.render("pager");

        this.emit("datatable.page", page);
    };

    /**
     * Sort by column
     * @param  {int} column - The column no.
     * @param  {string} direction - asc or desc
     * @return {void}
     */
    proto.sortColumn = function (column, direction) {
        // Use columns API until sortColumn method is removed
        this.columns().sort(column, direction);
    };

    /**
     * Add new row data
     * @param {object} data
     */
    proto.insert = function (data) {

        var that = this,
            rows = [];
        if (isObject(data)) {
            if (data.headings) {
                if (!that.hasHeadings && !that.hasRows) {
                    var tr = createElement("tr"),
                        th;
                    each(data.headings, function (heading) {
                        th = createElement("th", {
                            html: heading
                        });

                        tr.appendChild(th);
                    });
                    that.head.appendChild(tr);

                    that.header = tr;
                    that.headings = [].slice.call(tr.cells);
                    that.hasHeadings = true;

                    // Re-enable sorting if it was disabled due
                    // to missing header
                    that.options.sortable = that.initialSortable;

                    // Allow sorting on new header
                    that.render("header");
                }
            }

            if (data.data && isArray(data.data)) {
                rows = data.data;
            }
        } else if (isArray(data)) {
            each(data, function (row) {
                var r = [];
                each(row, function (cell, heading) {

                    var index = that.labels.indexOf(heading);

                    if (index > -1) {
                        r[index] = cell;
                    }
                });
                rows.push(r);
            });
        }

        if (rows.length) {
            that.rows().add(rows);

            that.hasRows = true;
        }

        that.update();

        that.fixColumns();
    };

    /**
     * Refresh the instance
     * @return {void}
     */
    proto.refresh = function () {
        if (this.options.searchable) {
            this.input.value = "";
            this.searching = false;
        }
        this.currentPage = 1;
        this.onFirstPage = true;
        this.update();

        this.emit("datatable.refresh");
    };

    /**
     * Truncate the table
     * @param  {mixes} html - HTML string or HTMLElement
     * @return {void}
     */
    proto.clear = function (html) {
        if (this.body) {
            flush(this.body, this.isIE);
        }

        var parent = this.body;
        if (!this.body) {
            parent = this.table;
        }

        if (html) {
            if (typeof html === "string") {
                var frag = doc.createDocumentFragment();
                frag.innerHTML = html;
            }

            parent.appendChild(html);
        }
    };

    /**
     * Export table to various formats (csv, txt or sql)
     * @param  {Object} options User options
     * @return {Boolean}
     */
    proto.export = function (options) {
        if (!this.hasHeadings && !this.hasRows) return false;

        var headers = this.activeHeadings,
            rows = [],
            arr = [],
            i,
            x,
            str,
            link;

        var defaults = {
            download: true,
            skipColumn: [],

            // csv
            lineDelimiter: "\n",
            columnDelimiter: ",",

            // sql
            tableName: "myTable",

            // json
            replacer: null,
            space: 4
        };

        // Check for the options object
        if (!isObject(options)) {
            return false;
        }

        var o = extend(defaults, options);

        if (o.type) {
            if (o.type === "txt" || o.type === "csv") {
                // Include headings
                rows[0] = this.header;
            }

            // Selection or whole table
            if (o.selection) {
                // Page number
                if (!isNaN(o.selection)) {
                    rows = rows.concat(this.pages[o.selection - 1]);
                } else if (isArray(o.selection)) {
                    // Array of page numbers
                    for (i = 0; i < o.selection.length; i++) {
                        rows = rows.concat(this.pages[o.selection[i] - 1]);
                    }
                }
            } else {
                rows = rows.concat(this.activeRows);
            }

            // Only proceed if we have data
            if (rows.length) {
                if (o.type === "txt" || o.type === "csv") {
                    str = "";

                    for (i = 0; i < rows.length; i++) {
                        for (x = 0; x < rows[i].cells.length; x++) {
                            // Check for column skip and visibility
                            if (
                                o.skipColumn.indexOf(headers[x].originalCellIndex) < 0 &&
                                this.columns(headers[x].originalCellIndex).visible()
                            ) {
                                str += rows[i].cells[x].textContent + o.columnDelimiter;
                            }
                        }
                        // Remove trailing column delimiter
                        str = str.trim().substring(0, str.length - 1);

                        // Apply line delimiter
                        str += o.lineDelimiter;
                    }

                    // Remove trailing line delimiter
                    str = str.trim().substring(0, str.length - 1);

                    if (o.download) {
                        str = "data:text/csv;charset=utf-8," + str;
                    }
                } else if (o.type === "sql") {
                    // Begin INSERT statement
                    str = "INSERT INTO `" + o.tableName + "` (";

                    // Convert table headings to column names
                    for (i = 0; i < headers.length; i++) {
                        // Check for column skip and column visibility
                        if (
                            o.skipColumn.indexOf(headers[i].originalCellIndex) < 0 &&
                            this.columns(headers[i].originalCellIndex).visible()
                        ) {
                            str += "`" + headers[i].textContent + "`,";
                        }
                    }

                    // Remove trailing comma
                    str = str.trim().substring(0, str.length - 1);

                    // Begin VALUES
                    str += ") VALUES ";

                    // Iterate rows and convert cell data to column values
                    for (i = 0; i < rows.length; i++) {
                        str += "(";

                        for (x = 0; x < rows[i].cells.length; x++) {
                            // Check for column skip and column visibility
                            if (
                                o.skipColumn.indexOf(headers[x].originalCellIndex) < 0 &&
                                this.columns(headers[x].originalCellIndex).visible()
                            ) {
                                str += '"' + rows[i].cells[x].textContent + '",';
                            }
                        }

                        // Remove trailing comma
                        str = str.trim().substring(0, str.length - 1);

                        // end VALUES
                        str += "),";
                    }

                    // Remove trailing comma
                    str = str.trim().substring(0, str.length - 1);

                    // Add trailing colon
                    str += ";";

                    if (o.download) {
                        str = "data:application/sql;charset=utf-8," + str;
                    }
                } else if (o.type === "json") {
                    // Iterate rows
                    for (x = 0; x < rows.length; x++) {
                        arr[x] = arr[x] || {};
                        // Iterate columns
                        for (i = 0; i < headers.length; i++) {
                            // Check for column skip and column visibility
                            if (
                                o.skipColumn.indexOf(headers[i].originalCellIndex) < 0 &&
                                this.columns(headers[i].originalCellIndex).visible()
                            ) {
                                arr[x][headers[i].textContent] = rows[x].cells[i].textContent;
                            }
                        }
                    }

                    // Convert the array of objects to JSON string
                    str = JSON.stringify(arr, o.replacer, o.space);

                    if (o.download) {
                        str = "data:application/json;charset=utf-8," + str;
                    }
                }

                // Download
                if (o.download) {
                    // Filename
                    o.filename = o.filename || "datatable_export";
                    o.filename += "." + o.type;

                    str = encodeURI(str);

                    // Create a link to trigger the download
                    link = document.createElement("a");
                    link.href = str;
                    link.download = o.filename;

                    // Append the link
                    body.appendChild(link);

                    // Trigger the download
                    link.click();

                    // Remove the link
                    body.removeChild(link);
                }

                return str;
            }
        }

        return false;
    };

    /**
     * Import data to the table
     * @param  {Object} options User options
     * @return {Boolean}
     */
    proto.import = function (options) {
        var obj = false;
        var defaults = {
            // csv
            lineDelimiter: "\n",
            columnDelimiter: ","
        };

        // Check for the options object
        if (!isObject(options)) {
            return false;
        }

        options = extend(defaults, options);

        if (options.data.length || isObject(options.data)) {
            // Import CSV
            if (options.type === "csv") {
                obj = {
                    data: []
                };

                // Split the string into rows
                var rows = options.data.split(options.lineDelimiter);

                if (rows.length) {

                    if (options.headings) {
                        obj.headings = rows[0].split(options.columnDelimiter);

                        rows.shift();
                    }

                    each(rows, function (row, i) {
                        obj.data[i] = [];

                        // Split the rows into values
                        var values = row.split(options.columnDelimiter);

                        if (values.length) {
                            each(values, function (value) {
                                obj.data[i].push(value);
                            });
                        }
                    });
                }
            } else if (options.type === "json") {
                var json = isJson(options.data);

                // Valid JSON string
                if (json) {
                    obj = {
                        headings: [],
                        data: []
                    };

                    each(json, function (data, i) {
                        obj.data[i] = [];
                        each(data, function (value, column) {
                            if (obj.headings.indexOf(column) < 0) {
                                obj.headings.push(column);
                            }

                            obj.data[i].push(value);
                        });
                    });
                } else {
                    console.warn("That's not valid JSON!");
                }
            }

            if (isObject(options.data)) {
                obj = options.data;
            }

            if (obj) {
                // Add the rows
                this.insert(obj);
            }
        }

        return false;
    };
    /**
     * Print the table
     * @return {void}
     */
    proto.print = function () {
        var headings = this.activeHeadings;
        var rows = this.activeRows;
        var table = createElement("table");
        var thead = createElement("thead");
        var tbody = createElement("tbody");

        var tr = createElement("tr");
        each(headings, function (th) {
            tr.appendChild(
                createElement("th", {
                    html: th.textContent
                })
            );
        });

        thead.appendChild(tr);

        each(rows, function (row) {
            var tr = createElement("tr");
            each(row.cells, function (cell) {
                tr.appendChild(
                    createElement("td", {
                        html: cell.textContent
                    })
                );
            });
            tbody.appendChild(tr);
        });

        table.appendChild(thead);
        table.appendChild(tbody);

        // Open new window
        var w = win.open();

        // Append the table to the body
        w.document.body.appendChild(table);

        // Print
        w.print();
    };

    /**
     * Show a message in the table
     * @param {string} message
     */
    proto.setMessage = function (message) {
        var colspan = 1;

        if (this.hasRows) {
            colspan = this.data[0].cells.length;
        }

        this.clear(
            createElement("tr", {
                html: '<td class="dataTables-empty" colspan="' +
                    colspan +
                    '">' +
                    message +
                    "</td>"
            })
        );
    };

    /**
     * Columns API access
     * @return {Object} new Columns instance
     */
    proto.columns = function (columns) {
        return new Columns(this, columns);
    };

    /**
     * Rows API access
     * @return {Object} new Rows instance
     */
    proto.rows = function (rows) {
        return new Rows(this, rows);
    };

    /**
     * Add custom event listener
     * @param  {String} event
     * @param  {Function} callback
     * @return {Void}
     */
    proto.on = function (event, callback) {
        this.events = this.events || {};
        this.events[event] = this.events[event] || [];
        this.events[event].push(callback);
    };

    /**
     * Remove custom event listener
     * @param  {String} event
     * @param  {Function} callback
     * @return {Void}
     */
    proto.off = function (event, callback) {
        this.events = this.events || {};
        if (event in this.events === false) return;
        this.events[event].splice(this.events[event].indexOf(callback), 1);
    };

    /**
     * Fire custom event
     * @param  {String} event
     * @return {Void}
     */
    proto.emit = function (event) {
        this.events = this.events || {};
        if (event in this.events === false) return;
        for (var i = 0; i < this.events[event].length; i++) {
            this.events[event][i].apply(this, Array.prototype.slice.call(arguments, 1));
        }
    };

    return DataTable;
});
});

function createTableDOM(data, opts, config) {
  var num = config.num,
      denum = config.denum,
      ratio = config.ratio,
      my_region = config.my_region;

  var options = opts || {};
  options.id = options.id || 'myTable';
  var doc = document;
  var nb_features = data.length;
  var column_names = Object.getOwnPropertyNames(data[0]);
  var nb_columns = column_names.length;
  var myTable = doc.createElement('table');
  var headers = doc.createElement('thead');
  var body = doc.createElement('tbody');
  var headers_row = doc.createElement('tr');
  for (var i = 0; i < nb_columns; i++) {
    var cell = doc.createElement('th');
    var col_name = column_names[i];
    if (num.indexOf(col_name) > -1) {
      cell.innerHTML = 'Num<br><span class="small">' + col_name;
    } else if (denum.indexOf(col_name) > -1) {
      cell.innerHTML = 'Denum<br><span class="small">' + col_name;
    } else if (ratio.indexOf(col_name) > -1) {
      cell.innerHTML = 'Ratio<br><span class="small">' + col_name;
    } else if (col_name === 'rang') {
      cell.innerHTML = 'Rang ';
    } else {
      cell.innerHTML = col_name;
    }
    headers_row.appendChild(cell);
  }
  headers.appendChild(headers_row);
  myTable.appendChild(headers);
  for (var _i = 0; _i < nb_features; _i++) {
    var row = doc.createElement('tr');
    row.id = 'row_' + data[_i].id;
    if (data[_i].id === my_region) {
      row.className = color_highlight;
    }
    for (var j = 0; j < nb_columns; j++) {
      var _cell = doc.createElement('td');
      var _col_name = column_names[j];
      if (_col_name === 'num' || _col_name === 'denum' || _col_name === 'ratio') {
        _cell.innerHTML = Math.round(data[_i][_col_name] * 100) / 10;
      } else {
        _cell.innerHTML = data[_i][_col_name];
      }
      row.appendChild(_cell);
    }
    body.appendChild(row);
  }
  myTable.appendChild(body);
  myTable.setAttribute('id', options.id);
  return myTable;
}

function makeTable(data_no_empty, config) {
  d3.select('.dataTable-wrapper').remove();
  var table = createTableDOM(data_no_empty, undefined, config);
  document.querySelector('#map_section').appendChild(table);
  var dataTable = new vanillaDataTables('#myTable');
  var t = document.querySelector('.dataTable-wrapper');
  t.style.marginTop = '20px';
  t.style.display = 'none';
  t.style.fontSize = '0.7em';
  t.querySelector('.dataTable-top').remove();
  Array.prototype.slice.call(t.querySelectorAll('span.small')).forEach(function (el) {
    el.onclick = function () {
      el.parentElement.click();
    }; // eslint-disable-line no-param-reassign
  });
}

function prepare_dataset(full_dataset, app$$1) {
  app$$1.full_dataset = full_dataset;
  // Create an Object feature_id ->  feature_name for easier lookup:
  app$$1.feature_names = {};
  full_dataset.forEach(function (elem) {
    app$$1.feature_names[elem.geo] = elem.Nom;
  });
}

/**
* Attach the full_dataset Array to the app Object and create a dictionnary
* allowing to obtain territorial units name from their Id.
*
* @param {Object} app - The variable containing the global parameters about
*   the current state of the application.
* @return {Array} - The filtered data, containing only the requested variables
*   for the feature of the current study zone,
*    without features containing empty ratios.
*
*/
function filter_no_empty(app$$1, filter_id) {
  // Fetch the name(s) of the ratio (and associated num and denum variable),
  // the name of the targeted region and the current level :
  var _app$current_config = app$$1.current_config,
      num = _app$current_config.num,
      denum = _app$current_config.denum,
      ratio = _app$current_config.ratio,
      current_level = _app$current_config.current_level,
      id_field = _app$current_config.id_field,
      filter = _app$current_config.filter,
      name_field = _app$current_config.name_field;


  var all_variables = ratio.concat(num).concat(denum);

  // Prepare the data:
  var temp = void 0;
  if (filter_id) {
    temp = app$$1.full_dataset.filter(function (ft) {
      return +ft.level === current_level && filter_id.indexOf(ft[id_field]) > -1;
    });
  } else if (filter) {
    var key = filter.key,
        value = filter.value;

    temp = app$$1.full_dataset.filter(function (ft) {
      return +ft.level === current_level && ft[key] === value;
    });
  } else {
    temp = app$$1.full_dataset.filter(function (ft) {
      return +ft.level === current_level;
    });
  }
  temp = temp.map(function (ft) {
    var props_feature = {
      id: ft[id_field],
      name: ft[name_field]
    };
    for (var i = 0, len_i = all_variables.length; i < len_i; i++) {
      props_feature[all_variables[i]] = +ft[all_variables[i]];
    }
    return props_feature;
  });

  // Filter data for empty values :
  var filtered_data = temp.filter(function (ft) {
    return ratio.map(function (v) {
      return !!ft[v];
    }).every(function (v) {
      return v === true;
    });
  });

  //
  app$$1.current_data = filtered_data;
  // Store the ids and the ranks of the current features in two arrays for easier acces:
  app$$1.current_ids = filtered_data.map(function (d) {
    return d.id;
  });

  // Compute the ratio of available values ("complétude") within
  // the study zone selected by the user:
  app$$1.completude = math_round(filtered_data.length / temp.length * 1000) / 10;
  // return filtered_data;
}

/**
* Set and apply a new filter (ie. restrict the study zone) on the dataset to be used.
*
* @param {String} filter_type - The name of the filter to use.
* @return {void}
*
*/
function applyFilter(app$$1, filter_type) {
  if (filter_type === 'filter_FR') {
    app$$1.current_config.filter = { key: 'PAYS', value: 'FR' };
    filter_no_empty(app$$1);
  } else if (filter_type === 'no_filter') {
    app$$1.current_config.filter = null;
    filter_no_empty(app$$1);
  } else {
    app$$1.current_config.filter = { key: 'type_test', value: '3' };
    filter_no_empty(app$$1);
    var maybe_my_region = app$$1.current_data.filter(function (d) {
      return d.id === app$$1.current_config.my_region;
    })[0];
    if (maybe_my_region === undefined) {
      app$$1.current_data.push(app$$1.full_dataset.filter(function (d) {
        return d.geo === app$$1.current_config.my_region;
      })[0]);
      app$$1.current_ids = app$$1.current_data.map(function (d) {
        return d.id;
      });
    }
  }

  // if (!app.serie_inversed) {
  //   app.current_data.sort((a, b) => a.ratio - b.ratio);
  // } else {
  //   app.current_data.sort((a, b) => b.ratio - a.ratio);
  // }
  app$$1.colors = {};
  app$$1.colors[app$$1.current_config.my_region] = color_highlight;
}

// TODO : Doc
function changeRegion(app$$1, id_region) {
  app$$1.current_config.my_region = id_region;
  app$$1.current_config.my_region_pretty_name = app$$1.feature_names[app$$1.current_config.my_region];
  // Reset the color to use on the chart/map:
  app$$1.colors = {};
  app$$1.colors[app$$1.current_config.my_region] = color_highlight;
  // app.current_data = filter_no_empty(app);
  // Change the reference ratio value:

  // app.current_config.ref_value = app.current_data
  //   .filter(d => d.id === app.current_config.my_region)
  //   .map(d => d.ratio)[0];
}

function addVariable(app$$1, code_ratio) {
  var variable_info = variables.filter(function (d) {
    return d.ratio === code_ratio;
  })[0];
  app$$1.colors = {};
  app$$1.colors[app$$1.current_config.my_region] = color_highlight;
  app$$1.current_config.num.push(variable_info.num);
  app$$1.current_config.denum.push(variable_info.denum);
  app$$1.current_config.ratio.push(variable_info.ratio);
  app$$1.current_config.ratio_pretty_name.push(variable_info.name);
  filter_no_empty(app$$1);
}

function removeVariable(app$$1, code_ratio) {
  var ix = app$$1.current_config.ratio.indexOf(code_ratio);
  app$$1.current_config.num.splice(ix, 1);
  app$$1.current_config.denum.splice(ix, 1);
  app$$1.current_config.ratio.splice(ix, 1);
  app$$1.current_config.ratio_pretty_name.splice(ix, 1);
  filter_no_empty(app$$1);
}

/* eslint-enable no-param-reassign */

var svg_map = d3.select('svg#svg_map');
var margin_map = { top: 0, right: 0, bottom: 0, left: 0 };
var width_map = +svg_map.attr('width') - margin_map.left - margin_map.right;
var height_map = +svg_map.attr('height') - margin_map.top - margin_map.bottom;

var styles = {
  template: { id: 'template', fill: 'rgb(247, 252, 254)', 'fill-opacity': 1 },
  countries: { id: 'countries', fill: 'rgb(214, 214, 214)', 'fill-opacity': 1, 'stroke-width': 0.5, stroke: '#ffffff' },
  seaboxes: { id: 'seaboxes', fill: '#e0faff', 'fill-opacity': 1, stroke: 'black', 'stroke-width': 0.2 },
  remote: { id: 'remote', fill: 'rgb(214, 214, 214)', 'fill-opacity': 1, 'stroke-width': 0.5, stroke: '#ffffff' },
  seaboxes2: { id: 'seaboxes2', fill: 'none', stroke: 'black', 'stroke-width': 0.8 },
  nuts1: { id: 'nuts1', 'fill-opacity': 1, 'stroke-width': 0.5, stroke: '#ffffff' }
};

var projection = void 0;
var path = void 0;

function get_bbox_layer_path(name) {
  var bbox_layer = [[Infinity, Infinity], [-Infinity, -Infinity]];
  svg_map.select('#' + name).selectAll('path').each(function (d) {
    var bbox_path = path.bounds(d.geometry);
    bbox_layer[0][0] = bbox_path[0][0] < bbox_layer[0][0] ? bbox_path[0][0] : bbox_layer[0][0];
    bbox_layer[0][1] = bbox_path[0][1] < bbox_layer[0][1] ? bbox_path[0][1] : bbox_layer[0][1];
    bbox_layer[1][0] = bbox_path[1][0] > bbox_layer[1][0] ? bbox_path[1][0] : bbox_layer[1][0];
    bbox_layer[1][1] = bbox_path[1][1] > bbox_layer[1][1] ? bbox_path[1][1] : bbox_layer[1][1];
  });
  return bbox_layer;
}

function fitLayer() {
  projection.scale(1).translate([0, 0]);
  var b = get_bbox_layer_path('template');
  var s = 1 / Math.max((b[1][0] - b[0][0]) / width_map, (b[1][1] - b[0][1]) / height_map);
  var t = [(width_map - s * (b[1][0] + b[0][0])) / 2, (height_map - s * (b[1][1] + b[0][1])) / 2];
  projection.scale(s).translate(t);
  svg_map.selectAll('path').attr('d', path);
}

function map_zoomed() {
  var transform = d3.event.transform;
  if (transform.k === 1) {
    transform.x = 0;
    transform.y = 0;
  }
  var layers = svg_map.select('#layers');
  var t = layers.selectAll('g').transition().duration(225);

  layers.selectAll('g').transition(t).style('stroke-width', function () {
    return styles[this.id]['stroke-width'] / transform.k + 'px';
  });

  layers.selectAll('g').transition(t).attr('transform', transform);

  svg_map.select('.brush_map').transition(t).attr('transform', transform);
}

var MapSelect = function () {
  function MapSelect(nuts1, countries, remote, template, seaboxes) {
    classCallCheck(this, MapSelect);

    projection = d3.geoIdentity().fitExtent([[0, 0], [width_map, height_map]], template).reflectY(true);

    path = d3.geoPath().projection(projection);
    var layers = svg_map.append('g').attr('id', 'layers');

    this.zoom_map = d3.zoom().scaleExtent([1, 5]).translateExtent([[0, 0], [width_map, height_map]]).on('zoom', map_zoomed);

    svg_map.call(this.zoom_map);

    layers.append('g').attrs(styles.template).selectAll('path').data(template.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs(styles.countries).attr('id', 'countries').selectAll('path').data(countries.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs(styles.seaboxes).selectAll('path').data(seaboxes.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs(styles.remote).selectAll('path').data(remote.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs(styles.seaboxes2).selectAll('path').data(seaboxes.features).enter().append('path').attrs({ d: path });

    this.target_layer = layers.append('g').attrs(styles.nuts1);
    this.target_layer.selectAll('path').data(nuts1.features).enter().append('path').attr('fill', function (d) {
      return d.properties[app.current_config.id_field_geom] !== app.current_config.my_region ? color_countries : color_highlight;
    }).attr('d', path);
    app.type_path = getSvgPathType(this.target_layer.select('path').node().getAttribute('d'));
    fitLayer();
    prepareTooltip(svg_map);
    this.bindTooltip();
  }

  createClass(MapSelect, [{
    key: 'resetColors',
    value: function resetColors() {
      var id_field_geom = app.current_config.id_field_geom;
      this.target_layer.selectAll('path').attr('fill', function (d) {
        return app.current_ids.indexOf(d.properties[id_field_geom]) > -1 ? app.colors[d.properties[id_field_geom]] || color_countries : color_disabled;
      });
    }
  }, {
    key: 'bindTooltip',
    value: function bindTooltip() {
      this.target_layer.selectAll('path').on('mouseover', function () {
        svg_map.select('.tooltip').style('display', null);
      }).on('mouseout', function () {
        svg_map.select('.tooltip').style('display', 'none');
      }).on('mousemove', function (d) {
        var tooltip = svg_map.select('.tooltip');
        tooltip.select('text.id_feature').text('' + d.properties[app.current_config.id_field_geom]);
        var _ix = void 0,
            nb_val = void 0;
        for (_ix = 0, nb_val = Math.min(app.current_config.ratio.length, 5); _ix < nb_val; _ix++) {
          tooltip.select('text.value_feature' + (_ix + 1)).text(app.current_config.ratio_pretty_name[_ix] + ': ' + math_round(d.properties[app.current_config.ratio[_ix]] * 10) / 10);
        }
        tooltip.attr('transform', 'translate(' + [d3.mouse(this)[0] - 5, d3.mouse(this)[1] - 45 - _ix * 12] + ')');
      });
    }
  }, {
    key: 'resetZoom',
    value: function resetZoom() {
      svg_map.transition().duration(250).call(this.zoom_map.transform, d3.zoomIdentity);
    }
  }, {
    key: 'updateLegend',
    value: function updateLegend() {
      d3.select('#svg_legend > g > .legend > text').text('Ma r\xE9gion : ' + app.current_config.my_region_pretty_name);
    }
  }, {
    key: 'removeRectBrush',
    value: function removeRectBrush() {
      svg_map.select('.brush_map').call(this.brush_map.move, null);
    }
  }, {
    key: 'bindBrush',
    value: function bindBrush(chart) {
      this.brush_map = d3.brush().extent([[0, 0], [width_map, height_map]]).on('start brush', function () {
        if (!d3.event || !d3.event.selection) return;
        chart.handle_brush_map(d3.event);
      });
      svg_map.append('g').attr('class', 'brush_map').call(this.brush_map);
    }
  }, {
    key: 'unbindBrush',
    value: function unbindBrush() {
      this.brush_map = null;
      svg_map.select('.brush_map').remove();
    }
  }]);
  return MapSelect;
}();

function makeSourceSection() {
  var text_zone = d3.select('#svg_legend').append('text').attrs({ y: 32.5, 'text-anchor': 'end' }).style('font-size', '11px').style('font-family', '\'Signika\', sans-serif');
  text_zone.append('tspan').attrs({ x: 470, dy: 12 }).text('Niveau régional : NUTS 1 (version 2016)');
  text_zone.append('tspan').attrs({ x: 470, dy: 12 }).text('Origine des données : Eurostat, 2016');
  text_zone.append('tspan').attrs({ x: 470, dy: 12 }).text('Limite administrative: UMS RIATE, CC-BY-SA');
}

function makeMapLegend() {
  var legend_elems = [{ color: color_highlight, text: 'Ma r\xE9gion : ' + app.current_config.my_region_pretty_name }, { color: color_countries, text: 'Autres régions du filtre de comparaison' }, { color: color_sup, text: 'Rang plus élevé que ma région' }, { color: color_inf, text: 'Rang moins élevé que ma région' }];

  var rect_size = 14;
  var spacing = 4;
  var lgd_height = rect_size + spacing;
  var offset = lgd_height * legend_elems.length / 2;

  var grp_lgd = d3.select('#svg_legend').append('g').attr('transform', 'translate(50, 40)').styles({ 'font-size': '11px', 'font-family': '\'Signika\', sans-serif' });

  var legends = grp_lgd.selectAll('.legend').data(legend_elems).enter().append('g').attr('class', 'legend').attr('transform', function (d, i) {
    var tx = -2 * rect_size;
    var ty = i * lgd_height - offset;
    return 'translate(' + [tx, ty] + ')';
  });

  legends.append('rect').attrs({ width: rect_size, height: rect_size }).styles(function (d) {
    return { fill: d.color, stroke: d.color };
  });

  legends.append('text').attrs({ x: rect_size + spacing, y: rect_size - spacing }).text(function (d) {
    return d.text;
  });
}

var svg_bar = d3.select('svg#svg_bar');
var margin = { top: 10, right: 20, bottom: 100, left: 40 };
var margin2 = { top: 430, right: 20, bottom: 15, left: 40 };
var width = +svg_bar.attr('width') - margin.left - margin.right;
var height = +svg_bar.attr('height') - margin.top - margin.bottom;
var height2 = +svg_bar.attr('height') - margin2.top - margin2.bottom;

var nbFt = void 0;
var current_range_brush = [0, 0];
var current_range = [0, 0];
var displayed = void 0;

function getMeanRank(mean_value, ratio_to_use) {
  var mean_rank = app.current_data.map(function (d, i) {
    return [d[ratio_to_use], math_abs(mean_value - d[ratio_to_use]), i];
  });
  mean_rank.sort(function (a, b) {
    return a[1] - b[1];
  });
  mean_rank = mean_rank[0];
  if (mean_rank[1] > mean_value) {
    mean_rank = mean_rank[2] - 1;
  } else {
    mean_rank = mean_rank[2];
  }
  return mean_rank;
}

var BarChart1 = function () {
  function BarChart1(ref_data) {
    var _this = this;

    classCallCheck(this, BarChart1);

    this.brushed = function () {
      if (d3.event.sourceEvent && d3.event.sourceEvent.type === 'zoom') return; // ignore brush-by-zoom
      if (!_this.x) {
        console.log('a');return;
      }
      var s = d3.event.selection || _this.x2.range();
      current_range = [math_round(s[0] / (width / nbFt)), math_round(s[1] / (width / nbFt))];
      _this.x.domain(_this.data.slice(current_range[0], current_range[1]).map(function (ft) {
        return ft.id;
      }));
      svg_bar.select('.zoom').call(_this.zoom.transform, d3.zoomIdentity.scale(width / (current_range[1] - current_range[0])).translate(-current_range[0], 0));
      _this.update();
      _this.updateContext(current_range[0], current_range[1]);
      svg_bar.select('.brush_top').call(_this.brush_top.move, null);
      _this.brushed_top();
    };

    this.brushed_top = function () {
      if (!_this._focus) {
        console.log('b');return;
      }
      if (!_this.map_elem) {
        console.log('c');return;
      }
      var d3_event = d3.event;
      var ratio_to_use = _this.ratio_to_use;
      var ref_value = _this.ref_value;
      if (d3_event && d3_event.selection && d3_event.sourceEvent && d3_event.sourceEvent.target === document.querySelector('.brush_top > rect.overlay')) {
        _this.map_elem.removeRectBrush();
        var s = d3_event.selection;
        current_range_brush = [current_range[0] + math_round(s[0] / (width / displayed)) - 1, current_range[0] + math_round(s[1] / (width / displayed))];
        _this.x.domain(_this.data.slice(current_range_brush[0] + 1, current_range_brush[1]).map(function (ft) {
          return ft.id;
        }));
        app.colors = {};
        _this._focus.selectAll('.bar').style('fill', function (d, i) {
          if (d.id === app.current_config.my_region) {
            app.colors[d.id] = color_highlight;
            return color_highlight;
          } else if (i > current_range_brush[0] && i < current_range_brush[1]) {
            var color = comp(d[ratio_to_use], ref_value, _this.serie_inversed);
            app.colors[d.id] = color;
            return color;
          }
          return color_countries;
        });
        _this.updateMapRegio();
      } else {
        if (d3_event && !d3_event.selection && d3_event.sourceEvent && d3_event.sourceEvent.detail !== undefined) {
          _this.map_elem.removeRectBrush();
          app.colors = {};
          app.colors[app.current_config.my_region] = color_highlight;
          _this.updateMapRegio();
        }
        _this._focus.selectAll('.bar').style('fill', function (d) {
          return app.colors[d.id] || color_countries;
        });
      }
    };
    var x = d3.scaleBand().range([0, width]).padding(0.1),
        x2 = d3.scaleBand().range([0, width]).padding(0.1),
        y = d3.scaleLinear().range([height, 0]),
        y2 = d3.scaleLinear().range([height2, 0]);

    var xAxis = d3.axisBottom(x);
    var xAxis2 = d3.axisBottom(x2);
    var yAxis = d3.axisLeft(y);

    this.x = x;
    this.x2 = x2;
    this.y = y;
    this.y2 = y2;
    this.xAxis = xAxis;
    this.yAxis = yAxis;
    this.xAxis2 = xAxis2;
    var self = this;
    var available_ratios = app.current_config.ratio;
    var ratio_to_use = available_ratios[0];
    this.ratio_to_use = ratio_to_use;

    this.data = ref_data.slice();
    this.data.sort(function (a, b) {
      return a[ratio_to_use] - b[ratio_to_use];
    });
    // app.current_ids = data.map(d => d.id);
    this.current_ranks = this.data.map(function (d, i) {
      return i + 1;
    });
    nbFt = this.data.length;
    this.mean_value = d3.mean(this.data.map(function (d) {
      return d[ratio_to_use];
    }));
    this.ref_value = this.data.filter(function (ft) {
      return ft.id === app.current_config.my_region;
    })[0][ratio_to_use];
    svg_bar.append('defs').append('clipPath').attr('id', 'clip').append('rect').attrs({ width: width, height: height });

    var focus = svg_bar.append('g').attrs({
      class: 'focus',
      transform: 'translate(' + margin.left + ', ' + margin.top + ')'
    });

    var context = svg_bar.append('g').attrs({
      class: 'context',
      transform: 'translate(' + margin2.left + ', ' + margin2.top + ')'
    });

    this._focus = focus;
    this.context = context;

    x.domain(this.data.map(function (ft) {
      return ft.id;
    }));
    y.domain([d3.min(this.data, function (d) {
      return d[ratio_to_use];
    }) - 2, d3.max(this.data, function (d) {
      return d[ratio_to_use];
    })]);
    x2.domain(x.domain());
    y2.domain(y.domain());

    var brush_bottom = d3.brushX().extent([[0, 0], [width, height2]]).on('brush end', this.brushed);

    var brush_top = d3.brushX().extent([[0, 0], [width, height]]).on('brush end', this.brushed_top);

    var zoom = d3.zoom().scaleExtent([1, Infinity]).translateExtent([[0, 0], [width, height]]).extent([[0, 0], [width, height]]);
    // .on("zoom", zoomed);
    this.brush_top = brush_top;
    this.brush_bottom = brush_bottom;
    this.zoom = zoom;

    focus.append('g').attrs({ class: 'axis axis--x', transform: 'translate(0, ' + height + ')' }).call(xAxis);

    focus.select('.axis--x').selectAll('text').style('text-anchor', 'end').attrs({ dx: '-0.8em', dy: '0.15em', transform: 'rotate(-65)' });

    focus.append('g').attr('class', 'axis axis--y').call(yAxis);

    this.g_bar = focus.append('g');

    var groupe_line_mean = focus.append('g').attr('class', 'mean');
    groupe_line_mean.append('text').attrs({ x: 60, y: y(this.mean_value) + 20 }).styles({
      display: 'none',
      fill: 'red',
      'fill-opacity': '0.8',
      'font-family': '\'Signika\', sans-serif'
    }).text('Valeur moyenne : ' + Math.round(this.mean_value * 10) / 10);

    groupe_line_mean.append('line').attrs({
      x1: 0,
      x2: width,
      y1: y(this.mean_value),
      y2: y(this.mean_value),
      'stroke-dasharray': '10, 5',
      'stroke-width': '2px',
      class: 'mean_line'
    }).style('stroke', 'red');

    groupe_line_mean.append('line').attrs({ x1: 0, x2: width, y1: y(this.mean_value), y2: y(this.mean_value), 'stroke-width': '14px', class: 'transp_mean_line' }).style('stroke', 'transparent').on('mouseover', function () {
      groupe_line_mean.select('text').style('display', 'initial');
    }).on('mouseout', function () {
      groupe_line_mean.select('text').style('display', 'none');
    });

    this.updateMiniBars();

    context.append('g').attr('class', 'brush_bottom').call(brush_bottom).call(brush_bottom.move, x.range());

    focus.append('g').attr('class', 'brush_top').call(brush_top).call(brush_top.move, null);

    this.completude = svg_bar.append('text').attrs({ id: 'chart_completude', x: 60, y: 40 }).styles({ 'font-family': '\'Signika\', sans-serif' }).text('Compl\xE9tude : ' + app.completude + '%');

    svg_bar.append('image').attrs({
      x: width + margin.left + 5,
      y: 385,
      width: 15,
      height: 15,
      'xlink:href': 'img/reverse_blue.png',
      id: 'img_reverse'
    }).on('click', function () {
      // this.data = app.current_data.slice();
      if (!_this.serie_inversed) {
        _this.data.sort(function (a, b) {
          return b[_this.ratio_to_use] - a[_this.ratio_to_use];
        });
      } else {
        _this.data.sort(function (a, b) {
          return a[_this.ratio_to_use] - b[_this.ratio_to_use];
        });
      }
      _this.serie_inversed = !_this.serie_inversed;
      x.domain(_this.data.slice(current_range[0], current_range[1]).map(function (ft) {
        return ft.id;
      }));
      x2.domain(_this.data.map(function (ft) {
        return ft.id;
      }));
      // svg_bar.select(".zoom").call(zoom.transform, d3.zoomIdentity
      //     .scale(width / (current_range[1] - current_range[0]))
      //     .translate(-current_range[0], 0));
      _this.update();
      // this.updateMiniBars();
      _this.updateContext(current_range[0], current_range[1]);
      svg_bar.select('.brush_top').call(brush_top.move, null);
      _this.map_elem.removeRectBrush();
      svg_bar.select('.brush_bottom').call(brush_bottom.move, x.range());
    });

    // Prepare the tooltip displayed on mouseover:
    var tooltip = prepareTooltip(svg_bar);

    // Deactivate the brush rect selection on the map + on the chart
    // when he user press the Ctrl key:
    document.onkeydown = function (event) {
      if (event && event.key === 'Control') {
        svg_bar.select('.brush_top').selectAll('.selection, .overlay').style('display', 'none');
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', 'none');
      }
    };
    document.onkeyup = function (event) {
      if (event && event.key === 'Control') {
        svg_bar.select('.brush_top').selectAll('.selection, .overlay').style('display', null);
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', null);
      }
    };

    //
    var header_bar_section = d3.select('#header_chart');

    this.selec_var = header_bar_section.insert('select', '#img_table').attrs({ class: 'title_variable' }).styles({
      'font-family': '\'Signika\', sans-serif',
      'font-weight': '800',
      'font-size': '14px',
      'margin-top': '12px',
      'margin-left': '40px',
      float: 'left'
    });

    for (var i = 0, len_i = available_ratios.length; i < len_i; i++) {
      this.selec_var.append('option').attr('value', available_ratios[i]).text(app.current_config.ratio_pretty_name[i]);
    }

    this.selec_var.on('change', function () {
      var code_variable = this.value;
      self.changeVariable(code_variable);
      self.changeStudyZone();
      self.updateCompletude();
    });

    // Create the menu under the chart allowing to use some useful selections
    // (above or below the mean value and above or below my_region)
    var buttons_under_chart = d3.select('#bar_section').append('div').attr('id', 'buttons_under_chart').styles({ padding: '0 10px 10px 10px', 'text-align': 'center' });

    buttons_under_chart.append('button').attrs({ class: 'button_blue', id: 'btn_above_mean' }).text('< à la moyenne').on('click', function () {
      return _this.selectBelowMean();
    });

    buttons_under_chart.append('button').attrs({ class: 'button_blue', id: 'btn_below_mean' }).text('> à la moyenne').on('click', function () {
      return _this.selectAboveMean();
    });

    buttons_under_chart.append('button').attrs({ class: 'button_blue', id: 'btn_above_my_region' }).text('< à ma région').on('click', function () {
      return _this.selectBelowMyRegion();
    });

    buttons_under_chart.append('button').attrs({ class: 'button_blue', id: 'btn_below_my_region' }).text('> à ma région').on('click', function () {
      return _this.selectAboveMyRegion();
    });
  }

  createClass(BarChart1, [{
    key: 'updateCompletude',
    value: function updateCompletude() {
      this.completude.text('Compl\xE9tude : ' + app.completude + '%');
    }
  }, {
    key: 'updateContext',
    value: function updateContext(min, max) {
      this.context.selectAll('.bar').style('fill-opacity', function (_, i) {
        return i >= min && i < max ? '1' : '0.3';
      });
    }
  }, {
    key: 'update',
    value: function update() {
      var _this2 = this;

      displayed = 0;
      var ratio_to_use = this.ratio_to_use;
      var self = this;
      var bar = this.g_bar.selectAll('.bar').data(this.data);

      bar.attrs(function (d) {
        return {
          x: _this2.x(d.id),
          y: _this2.y(d[ratio_to_use]),
          width: _this2.x.bandwidth(),
          height: height - _this2.y(d[ratio_to_use])
        };
      }).style('fill', function (d) {
        return app.colors[d.id] || color_countries;
      }).style('display', function (d) {
        var to_display = _this2.x(d.id) != null;
        if (to_display) {
          displayed += 1;
          return 'initial';
        }
        return 'none';
      }).on('mouseover', function () {
        svg_bar.select('.tooltip').style('display', null);
      }).on('mouseout', function () {
        svg_bar.select('.tooltip').style('display', 'none');
      }).on('mousemove', function (d) {
        var tooltip = svg_bar.select('.tooltip');
        tooltip.select('text.id_feature').text('' + d.id);
        tooltip.select('text.value_feature1').text('' + math_round(d[self.ratio_to_use] * 10) / 10);
        tooltip.attr('transform', 'translate(' + [d3.mouse(this)[0] - 5, d3.mouse(this)[1] - 45] + ')');
      });

      bar.enter().insert('rect', '.mean').attr('class', 'bar').attrs(function (d) {
        return {
          x: _this2.x(d.id),
          y: _this2.y(d[ratio_to_use]),
          width: _this2.x.bandwidth(),
          height: height - _this2.y(d[ratio_to_use])
        };
      });

      bar.exit().remove();

      this._focus.select('.axis--y').call(this.yAxis);

      var axis_x = this._focus.select('.axis--x').attr('font-size', function () {
        return displayed > 75 ? 6 : 10;
      }).call(this.xAxis);
      axis_x.selectAll('text').attrs(function () {
        if (displayed > 100) {
          return { dx: '-0.8em', dy: '0.15em', transform: 'rotate(-65)' };
        } else if (displayed > 20) {
          return { dx: '-0.8em', dy: '0.15em', transform: 'rotate(-65)' };
        } else {
          return { dx: '0', dy: '0.71em', transform: null };
        }
      }).style('text-anchor', function () {
        return displayed > 20 ? 'end' : 'middle';
      });

      this.updateMiniBars();
    }
  }, {
    key: 'updateMiniBars',
    value: function updateMiniBars() {
      var _this3 = this;

      var ratio_to_use = this.ratio_to_use;
      var mini_bars = this.context.selectAll('.bar').data(this.data);

      mini_bars.attr('x', function (d) {
        return _this3.x2(d.id);
      }).attr('width', this.x2.bandwidth()).attr('y', function (d) {
        return _this3.y2(d[ratio_to_use]);
      }).attr('height', function (d) {
        return height2 - _this3.y2(d[ratio_to_use]);
      }).style('fill', function (d) {
        return d.id !== app.current_config.my_region ? color_countries : color_highlight;
      });

      mini_bars.enter().insert('rect').attr('class', 'bar').attr('x', function (d) {
        return _this3.x2(d.id);
      }).attr('width', this.x2.bandwidth()).attr('y', function (d) {
        return _this3.y2(d[ratio_to_use]);
      }).attr('height', function (d) {
        return height2 - _this3.y2(d[ratio_to_use]);
      }).style('fill', function (d) {
        return d.id !== app.current_config.my_region ? color_countries : color_highlight;
      });
      mini_bars.exit().remove();
    }
  }, {
    key: 'updateMapRegio',
    value: function updateMapRegio() {
      this.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        return app.current_ids.indexOf(d.properties[app.current_config.id_field_geom]) > -1 ? app.colors[d.properties[app.current_config.id_field_geom]] || color_countries : color_disabled;
      });
    }
  }, {
    key: 'selectAboveMyRegion',
    value: function selectAboveMyRegion() {
      var my_rank = this.data.map(function (d, i) {
        return [d.id, i];
      }).filter(function (d) {
        return d[0] === app.current_config.my_region;
      })[0][1];
      app.colors = {};
      app.colors[app.current_config.my_region] = color_highlight;
      if (!this.serie_inversed) {
        current_range_brush = [my_rank, this.data.length];
        this.data.filter(function (d, i) {
          return i > my_rank;
        }).map(function (d) {
          return d.id;
        }).forEach(function (ft) {
          app.colors[ft] = color_sup;
        });
      } else {
        current_range_brush = [0, my_rank];
        this.data.filter(function (d, i) {
          return i < my_rank;
        }).map(function (d) {
          return d.id;
        }).forEach(function (ft) {
          app.colors[ft] = color_inf;
        });
      }
      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.update();
      // svg_bar.select('.brush_top').call(this.brush_top.move, current_range_brush.map(d => d * (width / nbFt)));
      this.updateMapRegio();
    }
  }, {
    key: 'selectBelowMyRegion',
    value: function selectBelowMyRegion() {
      var my_rank = this.data.map(function (d, i) {
        return [d.id, i];
      }).filter(function (d) {
        return d[0] === app.current_config.my_region;
      })[0][1];

      app.colors = {};
      app.colors[app.current_config.my_region] = color_highlight;
      if (!this.serie_inversed) {
        current_range_brush = [0, my_rank];
        this.data.filter(function (d, i) {
          return i < my_rank;
        }).map(function (d) {
          return d.id;
        }).forEach(function (ft) {
          app.colors[ft] = color_inf;
        });
      } else {
        current_range_brush = [my_rank, this.data.length];
        this.data.filter(function (d, i) {
          return i > my_rank;
        }).map(function (d) {
          return d.id;
        }).forEach(function (ft) {
          app.colors[ft] = color_sup;
        });
      }
      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.update();
      // svg_bar.select('.brush_top').call(this.brush_top.move, current_range_brush.map(d => d * (width / nbFt)));
      this.updateMapRegio();
    }
  }, {
    key: 'selectAboveMean',
    value: function selectAboveMean() {
      var _this4 = this;

      var mean_rank = getMeanRank(this.mean_value, this.ratio_to_use);
      var ratio_to_use = this.ratio_to_use;
      var ref_value = this.ref_value;

      app.colors = {};
      app.colors[app.current_config.my_region] = color_highlight;
      if (!this.serie_inversed) {
        current_range_brush = [mean_rank, this.data.length];
        this.data.filter(function (d) {
          return d[ratio_to_use] > _this4.mean_value;
        }).forEach(function (ft) {
          if (ft[ratio_to_use] > ref_value) app.colors[ft.id] = color_sup;else app.colors[ft.id] = color_inf;
        });
      } else {
        current_range_brush = [0, mean_rank + 1];
        this.data.filter(function (d) {
          return d[ratio_to_use] > _this4.mean_value;
        }).forEach(function (ft) {
          if (ft[ratio_to_use] > ref_value) app.colors[ft.id] = color_inf;else app.colors[ft.id] = color_sup;
        });
      }
      app.colors[app.current_config.my_region] = color_highlight;
      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.update();
      // svg_bar.select('.brush_top').call(this.brush_top.move, current_range_brush.map(d => d * (width / nbFt)));
      this.updateMapRegio();
    }
  }, {
    key: 'selectBelowMean',
    value: function selectBelowMean() {
      var _this5 = this;

      var mean_rank = getMeanRank(this.mean_value, this.ratio_to_use);
      var ratio_to_use = this.ratio_to_use;
      var ref_value = this.ref_value;
      app.colors = {};
      if (!this.serie_inversed) {
        current_range_brush = [0, mean_rank];
        this.data.filter(function (d) {
          return d[ratio_to_use] < _this5.mean_value;
        }).forEach(function (ft) {
          if (ft[ratio_to_use] < ref_value) app.colors[ft.id] = color_inf;else app.colors[ft.id] = color_sup;
        });
      } else {
        current_range_brush = [mean_rank + 1, this.data.length];
        this.data.filter(function (d) {
          return d[ratio_to_use] < _this5.mean_value;
        }).forEach(function (ft) {
          if (ft[ratio_to_use] < ref_value) app.colors[ft.id] = color_sup;else app.colors[ft.id] = color_inf;
        });
      }
      app.colors[app.current_config.my_region] = color_highlight;
      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.update();
      // svg_bar.select('.brush_top').call(this.brush_top.move, current_range_brush.map(d => d * (width / nbFt)));
      this.updateMapRegio();
    }
  }, {
    key: 'handle_brush_map',
    value: function handle_brush_map(event) {
      var _this6 = this;

      var ratio_to_use = this.ratio_to_use;
      var ref_value = this.ref_value;
      var self = this;
      svg_bar.select('.brush_top').call(self.brush_top.move, null);

      var _event$selection = slicedToArray(event.selection, 2),
          topleft = _event$selection[0],
          bottomright = _event$selection[1];
      // const transform = svg_map.node().__zoom;
      // topleft[0] = (topleft[0] - transform.x) / transform.k;
      // topleft[1] = (topleft[1] - transform.y) / transform.k;
      // bottomright[0] = (bottomright[0] - transform.x) / transform.k;
      // bottomright[1] = (bottomright[1] - transform.y) / transform.k;


      var rect = new Rect(topleft, bottomright);
      app.colors = {};
      self.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        var id = d.properties[app.current_config.id_field_geom];
        if (id === app.current_config.my_region) {
          app.colors[id] = color_highlight;
          return color_highlight;
        } else if (app.current_ids.indexOf(id) < 0) {
          return color_disabled;
        }
        if (!this._pts) {
          this._pts = svgPathToCoords(this.getAttribute('d'), app.type_path);
        }
        var pts = this._pts;
        for (var ix = 0, nb_pts = pts.length; ix < nb_pts; ix++) {
          if (rect.contains(pts[ix])) {
            var value = d.properties[ratio_to_use];
            var color = comp(value, ref_value, this.serie_inversed);
            app.colors[id] = color;
            return color;
          }
        }
        return color_countries;
      });
      self._focus.selectAll('.bar').style('fill', function (d) {
        return app.colors[d.id] || color_countries;
      });
      var ids = Object.keys(app.colors);
      var ranks = ids.map(function (d) {
        return app.current_ids.indexOf(d.id) > -1;
      }).map(function (d) {
        return _this6.current_ranks[d];
      });
      if (ranks.length > 1) {
        var c1 = ranks[0] - 1;
        var c2 = ranks[ranks.length - 1];
        if (c1 < current_range[0] || c2 > current_range[1]) {
          current_range = [ranks[0] - 1, ranks[ranks.length - 1]];
          svg_bar.select('.brush_bottom').call(self.brush_bottom.move, [current_range[0] * (width / nbFt), current_range[1] * (width / nbFt)]);
        }
      } else {
        current_range = [0, this.data.length];
        svg_bar.select('.brush_bottom').call(self.brush_bottom.move, self.x.range());
      }
    }
  }, {
    key: 'handleClickMap',
    value: function handleClickMap(d, parent) {
      var id = d.properties[app.current_config.id_field_geom];
      if (app.current_ids.indexOf(id) < 0 || id === app.current_config.my_region) return;
      if (app.colors[id] !== undefined) {
        app.colors[id] = undefined;
        d3.select(parent).attr('fill', color_countries);
      } else {
        var color = comp(d.properties[this.ratio_to_use], this.ref_value, this.serie_inversed);
        app.colors[id] = color;
        d3.select(parent).attr('fill', color);
      }
      this.update();
    }
  }, {
    key: 'updateChangeRegion',
    value: function updateChangeRegion() {
      this.ref_value = this.data.filter(function (ft) {
        return ft.id === app.current_config.my_region;
      })[0][this.ratio_to_use];
      this.update();
      // this.updateMiniBars();
      this.updateContext(0, this.data.length);
      this.updateMapRegio();
      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x.range());
      this.map_elem.removeRectBrush();
      this.map_elem.updateLegend();
    }
  }, {
    key: 'updateMeanValue',
    value: function updateMeanValue() {
      var y = this.y;
      var ratio_to_use = this.ratio_to_use;
      var grp_mean = this._focus.select('.mean');
      this.mean_value = d3.mean(this.data.map(function (d) {
        return d[ratio_to_use];
      }));
      grp_mean.select('text').attr('y', y(this.mean_value) + 20).text('Valeur moyenne : ' + Math.round(this.mean_value * 10) / 10);
      grp_mean.select('.mean_line').attrs({ y1: y(this.mean_value), y2: y(this.mean_value) });
      grp_mean.select('.transp_mean_line').attrs({ y1: y(this.mean_value), y2: y(this.mean_value) });
    }
  }, {
    key: 'changeStudyZone',
    value: function changeStudyZone() {
      var ratio_to_use = this.ratio_to_use;
      this.data = app.current_data.slice();
      if (this.serie_inversed) {
        this.data.sort(function (a, b) {
          return b[ratio_to_use] - a[ratio_to_use];
        });
      } else {
        this.data.sort(function (a, b) {
          return a[ratio_to_use] - b[ratio_to_use];
        });
      }
      nbFt = this.data.length;
      this.ref_value = this.data.filter(function (ft) {
        return ft.id === app.current_config.my_region;
      })[0][ratio_to_use];
      this.x.domain(this.data.map(function (ft) {
        return ft.id;
      }));
      var min_serie = d3.min(this.data, function (d) {
        return d[ratio_to_use];
      });
      var max_serie = d3.max(this.data, function (d) {
        return d[ratio_to_use];
      });
      var offset_y = (max_serie - min_serie) / 20;
      this.y.domain([min_serie - offset_y, max_serie]);
      this.x2.domain(this.x.domain());
      this.y2.domain(this.y.domain());
      this.updateMeanValue();
      this.update();
      this.updateContext(0, this.data.length);

      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.map_elem.removeRectBrush();
      app.colors = {};
      app.colors[app.current_config.my_region] = color_highlight;
      this.updateMapRegio();
    }
  }, {
    key: 'addVariable',
    value: function addVariable(code_variable, name_variable) {
      // Add the variable to the input element allowing to choose variables:
      this.selec_var.append('option').attr('value', code_variable).text(name_variable);

      // And use it immediatly:
      this.selec_var.node().value = code_variable;
      this.selec_var.dispatch('change');
    }
  }, {
    key: 'removeVariable',
    value: function removeVariable(code_variable) {
      // Add the variable to the input element allowing to choose variables:
      this.selec_var.select('option[value=' + code_variable + ']').remove();
      if (this.ratio_to_use === code_variable) {
        this.selec_var.node().value = this.selec_var.select('option').node().value;
        this.selec_var.dispatch('change');
      }
    }
  }, {
    key: 'changeVariable',
    value: function changeVariable(code_variable) {
      this.ratio_to_use = code_variable;
    }
  }, {
    key: 'remove',
    value: function remove() {
      this._focus.remove();
      this.context.remove();
      this.selec_var.remove();
      this.map_elem.unbindBrush();
      this.map_elem = null;
      svg_bar.html('');
    }
  }, {
    key: 'bindMap',
    value: function bindMap(map_elem) {
      this.map_elem = map_elem;
    }
  }]);
  return BarChart1;
}();

var svg_bar$1 = d3.select('#svg_bar');
var margin$1 = { top: 20, right: 20, bottom: 40, left: 30 };

var width$1 = +svg_bar$1.attr('width') - margin$1.left - margin$1.right;
var height$1 = +svg_bar$1.attr('height') - margin$1.top - margin$1.bottom;

var BubbleChart1 = function () {
  function BubbleChart1(ref_data) {
    classCallCheck(this, BubbleChart1);

    var self = this;
    var available_ratios = app.current_config.ratio;
    var available_nums = app.current_config.num;
    var ratio_to_use = available_ratios[0];
    var stock_to_use = available_nums[0];
    this.ratio_to_use = ratio_to_use;
    this.stock_to_use = stock_to_use;

    this.data = ref_data.slice().sort(function (a, b) {
      return b[stock_to_use] - a[stock_to_use];
    });
    this.highlight_selection = [];
    var draw_group = svg_bar$1.append('g').attr('transform', 'translate(' + margin$1.left + ', ' + margin$1.top + ')');
    draw_group.append('g').attrs({ class: 'axis axis--x', transform: 'translate(0, ' + height$1 / 2 + ')' });
    this.draw_group = draw_group;

    // Prepare the tooltip displayed on mouseover:
    prepareTooltip(svg_bar$1);

    // Create the "completude" text:
    this.completude = svg_bar$1.append('text').attrs({ id: 'chart_completude', x: 60, y: 40 }).styles({ 'font-family': '\'Signika\', sans-serif' }).text('Compl\xE9tude : ' + app.completude + '%');

    // Create the section containing the input element allowing to chose
    // how many "close" regions we want to highlight.
    var selection_close = d3.select(svg_bar$1.node().parentElement).append('div').attr('id', 'menu_selection').styles({ top: '-100px', 'margin-left': '30px', position: 'relative' }).append('p');

    selection_close.append('span').property('value', 'close').attrs({ value: 'close', class: 'type_selection square checked' });
    selection_close.append('span').attrs({ class: 'label_chk' }).html('Les');
    selection_close.append('input').attrs({ class: 'nb_select', type: 'number' }).property('value', 5);
    selection_close.append('span').attrs({ class: 'label_chk' }).html('régions les plus proches');
    this.my_region_value = this.data.filter(function (d) {
      return d.id === app.current_config.my_region;
    }).map(function (d) {
      return d[ratio_to_use];
    })[0];
    this.bindMenu();
    this.applySelection(5, 'close');

    //
    var header_bar_section = d3.select('#header_chart');

    this.selec_var = header_bar_section.insert('select', '#img_table').attrs({ class: 'title_variable' }).styles({
      'font-family': '\'Signika\', sans-serif',
      'font-weight': '800',
      'font-size': '14px',
      'margin-top': '12px',
      'margin-left': '40px',
      float: 'left'
    });

    for (var i = 0, len_i = available_ratios.length; i < len_i; i++) {
      this.selec_var.append('option').attr('value', available_ratios[i]).text(app.current_config.ratio_pretty_name[i]);
    }

    this.selec_var.on('change', function () {
      var code_variable = this.value;
      self.changeVariable(code_variable);
      self.changeStudyZone();
      self.updateCompletude();
    });

    // Deactivate the rect brush selection on the map
    // while the user press the Ctrl key:
    document.onkeydown = function (event) {
      if (event && event.key === 'Control') {
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', 'none');
      }
    };
    // Reactivate the rect brush selection on the map
    // when the user doesn't press the Ctrl key anymore
    document.onkeyup = function (event) {
      if (event && event.key === 'Control') {
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', null);
      }
    };
  }

  createClass(BubbleChart1, [{
    key: 'applySelection',
    value: function applySelection(nb) {
      var type_selection = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'close';

      app.colors = {};
      if (nb > 0) {
        var my_region_value = this.my_region_value;
        var ratio_to_use = this.ratio_to_use;

        this.highlight_selection = this.data.map(function (d) {
          return {
            dist: math_abs(d[ratio_to_use] - my_region_value),
            ratio: d[ratio_to_use],
            id: d.id };
        });
        if (type_selection === 'close') {
          this.highlight_selection.sort(function (a, b) {
            return a.dist - b.dist;
          });
          this.highlight_selection = this.highlight_selection.slice(1, nb + 1);
        } else if (type_selection === 'distant') {
          this.highlight_selection.sort(function (a, b) {
            return b.dist - a.dist;
          });
          this.highlight_selection = this.highlight_selection.slice(0, nb);
        }
        this.highlight_selection.forEach(function (elem) {
          app.colors[elem.id] = elem.ratio < my_region_value ? color_inf : color_sup;
        });
      } else {
        this.highlight_selection = [];
      }
      app.colors[app.current_config.my_region] = color_highlight;
      this.update();
      this.updateMapRegio();
    }
  }, {
    key: 'update',
    value: function update() {
      var self = this;
      var data = self.data;
      var highlight_selection = self.highlight_selection;
      var my_region_value = self.my_region_value;
      var ratio_to_use = self.ratio_to_use;
      var stock_to_use = self.stock_to_use;

      var _min = void 0;
      var _max = void 0;
      if (highlight_selection.length > 0) {
        var dist_min = my_region_value - d3.min(highlight_selection, function (d) {
          return d.ratio;
        });
        var dist_max = d3.max(highlight_selection, function (d) {
          return d.ratio;
        }) - my_region_value;
        var dist_axis = Math.max(dist_min, dist_max);
        var margin_min_max = math_round(dist_axis) / 8;
        _min = my_region_value - dist_axis - margin_min_max;
        _max = my_region_value + dist_axis + margin_min_max;
      } else {
        var _dist_min = my_region_value - d3.min(data, function (d) {
          return d[ratio_to_use];
        });
        var _dist_max = d3.max(data, function (d) {
          return d[ratio_to_use];
        }) - my_region_value;
        var _dist_axis = Math.max(_dist_min, _dist_max);
        var _margin_min_max = math_round(_dist_axis) / 8;
        _min = my_region_value - _dist_axis - _margin_min_max;
        _max = my_region_value + _dist_axis + _margin_min_max;
      }

      var prop_sizer = new PropSizer(d3.max(data, function (d) {
        return d[stock_to_use];
      }), 30);
      var xScale = d3.scaleLinear().domain([_min, _max]).range([0, width$1]);

      this.draw_group.select('g.axis--x').transition().duration(225).call(d3.axisBottom(xScale));

      var bubbles = this.draw_group.selectAll('.bubble').data(data, function (d) {
        return d.id;
      });

      bubbles.transition().duration(225).attrs(function (d) {
        var x_value = xScale(d[ratio_to_use]);
        if (x_value > width$1) x_value = width$1 + 200;else if (x_value < 0) x_value = -200;
        return {
          cx: x_value,
          cy: height$1 / 2,
          r: prop_sizer.scale(d[stock_to_use])
        };
      }).styles(function (d) {
        return {
          fill: app.colors[d.id] || color_countries
        };
      });

      bubbles.enter().insert('circle').styles(function (d) {
        return {
          fill: app.colors[d.id] || color_countries
        };
      }).transition().duration(225).attrs(function (d) {
        var x_value = xScale(d[ratio_to_use]);
        if (x_value > width$1) x_value = width$1 + 200;else if (x_value < 0) x_value = -200;
        return {
          class: 'bubble',
          cx: x_value,
          cy: height$1 / 2,
          r: prop_sizer.scale(d[stock_to_use])
        };
      });

      bubbles.exit().transition().duration(225).remove();

      this.draw_group.selectAll('.bubble').on('mouseover', function () {
        svg_bar$1.select('.tooltip').style('display', null);
      }).on('mouseout', function () {
        svg_bar$1.select('.tooltip').style('display', 'none');
      }).on('mousemove', function (d) {
        var tooltip = svg_bar$1.select('.tooltip');
        var _ratio_to_use = self.ratio_to_use;
        var _stock_to_use = self.stock_to_use;
        tooltip.select('text.id_feature').text('' + d.id);
        tooltip.select('text.value_feature1').text('Ratio: ' + Math.round(d[_ratio_to_use] * 10) / 10);
        tooltip.select('text.value_feature2').text('Stock: ' + Math.round(d[_stock_to_use] * 10) / 10);
        tooltip.attr('transform', 'translate(' + [d3.mouse(this)[0] - 5, d3.mouse(this)[1] - 45] + ')');
      });
    }
  }, {
    key: 'updateCompletude',
    value: function updateCompletude() {
      this.completude.text('Compl\xE9tude : ' + app.completude + '%');
    }
  }, {
    key: 'updateMapRegio',
    value: function updateMapRegio() {
      if (!this.map_elem) return;
      this.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        return app.current_ids.indexOf(d.properties[app.current_config.id_field_geom]) > -1 ? app.colors[d.properties[app.current_config.id_field_geom]] || color_countries : color_disabled;
      });
    }
  }, {
    key: 'handle_brush_map',
    value: function handle_brush_map(event) {
      var self = this;

      var _event$selection = slicedToArray(event.selection, 2),
          topleft = _event$selection[0],
          bottomright = _event$selection[1];

      var rect = new Rect(topleft, bottomright);
      var ratio_to_use = this.ratio_to_use;
      app.colors = {};
      self.highlight_selection = [];
      self.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        var id = d.properties[app.current_config.id_field_geom];
        if (id === app.current_config.my_region) {
          app.colors[id] = color_highlight;
          return color_highlight;
        } else if (app.current_ids.indexOf(id) < 0) {
          return color_disabled;
        }
        if (!this._pts) {
          this._pts = svgPathToCoords(this.getAttribute('d'), app.type_path);
        }
        var pts = this._pts;
        for (var ix = 0, nb_pts = pts.length; ix < nb_pts; ix++) {
          if (rect.contains(pts[ix])) {
            var value = d.properties[ratio_to_use];
            var color = comp(value, self.my_region_value, this.serie_inversed);
            app.colors[id] = color;
            self.highlight_selection.push({
              id: id,
              ratio: value,
              dist: math_abs(value - self.my_region_value)
            });
            return color;
          }
        }
        return color_countries;
      });
      self.update();
    }
  }, {
    key: 'handleClickMap',
    value: function handleClickMap(d, parent) {
      var id = d.properties[app.current_config.id_field_geom];
      if (app.current_ids.indexOf(id) < 0 || id === app.current_config.my_region) return;
      if (app.colors[id] !== undefined) {
        // Remove the clicked feature from the colored selection on the chart:
        var id_to_remove = this.highlight_selection.map(function (ft, i) {
          return ft.id === id ? i : null;
        }).filter(function (ft) {
          return ft;
        });
        this.highlight_selection.splice(id_to_remove, 1);
        // Change its color in the global colors object:
        app.colors[id] = undefined;
        // Change the color on the map:
        d3.select(parent).attr('fill', color_countries);
      } else {
        var value = d.properties[this.ratio_to_use];
        var color = comp(value, this.my_region_value, this.serie_inversed);
        app.colors[id] = color;
        // Change the color on the map:
        d3.select(parent).attr('fill', color);
        // Add the clicked feature on the colored selection on the chart:
        this.highlight_selection.push({
          id: id,
          ratio: value,
          dist: math_abs(value - this.my_region_value)
        });
      }
      this.update();
    }
  }, {
    key: 'updateChangeRegion',
    value: function updateChangeRegion() {
      this.map_elem.removeRectBrush();
      this.map_elem.updateLegend();
      this.my_region_value = this.data.filter(function (d) {
        return d.id === app.current_config.my_region;
      })[0][this.ratio_to_use];
      this.applySelection(this.highlight_selection.length, 'close');
    }
  }, {
    key: 'changeStudyZone',
    value: function changeStudyZone() {
      var _this = this;

      this.map_elem.removeRectBrush();
      this.map_elem.updateLegend();
      this.data = app.current_data.slice().sort(function (a, b) {
        return b[_this.stock_to_use] - a[_this.stock_to_use];
      });
      this.my_region_value = this.data.filter(function (d) {
        return d.id === app.current_config.my_region;
      })[0][this.ratio_to_use];
      var temp = this.highlight_selection.length;
      this.highlight_selection = [];
      this.applySelection(temp, 'close');
    }
  }, {
    key: 'changeVariable',
    value: function changeVariable(code_variable) {
      this.ratio_to_use = code_variable;
      this.stock_to_use = variables.filter(function (d) {
        return d.ratio === code_variable;
      })[0].num;
    }
  }, {
    key: 'addVariable',
    value: function addVariable(code_variable, name_variable) {
      // Add the variable to the input element allowing to choose variables:
      this.selec_var.append('option').attr('value', code_variable).text(name_variable);

      // And use it immediatly:
      this.selec_var.node().value = code_variable;
      this.selec_var.dispatch('change');
    }
  }, {
    key: 'removeVariable',
    value: function removeVariable(code_variable) {
      // Add the variable to the input element allowing to choose variables:
      this.selec_var.select('option[value=' + code_variable + ']').remove();
      if (this.ratio_to_use === code_variable) {
        this.selec_var.node().value = this.selec_var.select('option').node().value;
        this.selec_var.dispatch('change');
      }
    }
  }, {
    key: 'bindMenu',
    value: function bindMenu() {
      var self = this;
      var menu = d3.select('#menu_selection');
      var applychange = function applychange() {
        self.map_elem.removeRectBrush();
        var type = this.parentElement.querySelector('.type_selection').value;
        var value = +this.value;
        if (!(value > -1)) {
          this.value = 5;
          value = 5;
        }
        self.applySelection(value, type);
      };
      menu.select('.nb_select').on('change', applychange);
      menu.select('.nb_select').on('wheel', applychange);
      menu.select('.nb_select').on('keyup', applychange);
    }
  }, {
    key: 'remove',
    value: function remove() {
      this.map_elem.unbindBrush();
      this.map_elem = null;
      this.selec_var.remove();
      d3.select('#menu_selection').remove();
      svg_bar$1.html('');
    }
  }, {
    key: 'bindMap',
    value: function bindMap(map_elem) {
      this.map_elem = map_elem;
      d3.select('#menu_selection').select('.nb_select').dispatch('change');
    }
  }]);
  return BubbleChart1;
}();

var svg_bar$2 = d3.select('#svg_bar');
var margin$2 = { top: 20, right: 20, bottom: 40, left: 30 };

var width$2 = +svg_bar$2.attr('width') - margin$2.left - margin$2.right;
var height$2 = +svg_bar$2.attr('height') - margin$2.top - margin$2.bottom;

var ScatterPlot2 = function () {
  function ScatterPlot2(ref_data) {
    var _this = this;

    classCallCheck(this, ScatterPlot2);

    var self = this;
    this.variable1 = app.current_config.ratio[0];
    this.variable2 = app.current_config.ratio[1];
    this.rank_variable1 = 'pr_' + this.variable1;
    this.rank_variable2 = 'pr_' + this.variable2;
    this.pretty_name1 = app.current_config.ratio_pretty_name[0];
    this.pretty_name2 = app.current_config.ratio_pretty_name[1];
    this.data = ref_data.map(function (d) {
      var res = { id: d.id };
      res[_this.variable1] = d[_this.variable1];
      res[_this.variable2] = d[_this.variable2];
      return res;
    });
    this.nbFt = this.data.length;
    computePercentileRank(this.data, this.variable1, this.rank_variable1);
    computePercentileRank(this.data, this.variable2, this.rank_variable2);

    this.x = d3.scaleLinear().range([0, width$2]).nice();
    this.y = d3.scaleLinear().range([height$2, 0]);
    this.xAxis = d3.axisBottom(this.x).ticks(12);
    this.yAxis = d3.axisLeft(this.y).ticks(12 * height$2 / width$2);
    this.xAxis2 = d3.axisBottom(this.x).ticks(12);
    this.yAxis2 = d3.axisLeft(this.y).ticks(12 * height$2 / width$2);

    this.xInversed = false;
    this.yInversed = false;
    this.ref_value1 = this.data.filter(function (d) {
      return d.id === app.current_config.my_region;
    })[0][this.variable1];
    this.ref_value2 = this.data.filter(function (d) {
      return d.id === app.current_config.my_region;
    })[0][this.variable2];
    // const zoom = d3.zoom()
    //   .scaleExtent([1, 5])
    //   .translateExtent([[0, 0], [width, height]])
    //   .on('zoom', () => { this.zoomed(d3.event.transform); });

    this.plot = svg_bar$2.append('g').attr('transform', 'translate(' + [margin$2.left, margin$2.top] + ')');

    this.plot.append('defs').append('svg:clipPath').attr('id', 'clip').append('svg:rect').attrs({
      width: width$2,
      height: height$2,
      x: 0,
      y: 0
    });

    this.scatter = this.plot.append('g').attr('id', 'scatterplot').attr('clip-path', 'url(#clip)');

    // const underlying_rect = this.scatter
    //      .append('rect')
    //      .attrs({ width, height, x: 0, y: 0 })
    //      .style('fill', 'transparent')
    //      .call(zoom);

    this.x.domain(d3.extent(this.data, function (d) {
      return d[_this.rank_variable1];
    })).nice();
    this.y.domain(d3.extent(this.data, function (d) {
      return d[_this.rank_variable2];
    })).nice();
    this.mean_variable1 = _getPR(d3.mean(this.data.map(function (d) {
      return d[_this.variable1];
    })), this.data.map(function (d) {
      return d[_this.variable1];
    }));
    this.mean_variable2 = _getPR(d3.mean(this.data.map(function (d) {
      return d[_this.variable2];
    })), this.data.map(function (d) {
      return d[_this.variable2];
    }));

    // underlying_rect.on('dblclick.zoom', () => {
    //   this.zoomed(d3.zoomTransform({ x: 0, y: 0, k: 1 }));
    // });

    this.makeGrid();

    var groupe_line_mean = this.plot.append('g').attr('clip-path', 'url(#clip)').attr('class', 'mean');
    groupe_line_mean.append('line').attr('clip-path', 'url(#clip)').attrs({
      x1: this.x(this.mean_variable1),
      x2: this.x(this.mean_variable1),
      y1: 0,
      y2: width$2,
      'stroke-dasharray': '10, 5',
      'stroke-width': '2px'
    }).style('stroke', 'red');
    groupe_line_mean.append('line').style('stroke', 'red').attrs({
      x1: 0,
      x2: width$2,
      y1: this.y(this.mean_variable2),
      y2: this.y(this.mean_variable2),
      'clip-path': 'url(#clip)',
      'stroke-dasharray': '10, 5',
      'stroke-width': '2px'
    });

    this.plot.append('g').attrs({
      class: 'x axis', id: 'axis--x', transform: 'translate(0, ' + height$2 + ')'
    }).call(this.xAxis);

    this.plot.append('g').attrs({ class: 'y axis', id: 'axis--y' }).call(this.yAxis);

    svg_bar$2.append('text').attrs({
      id: 'title-axis-x',
      x: margin$2.left + width$2 / 2,
      y: margin$2.top + height$2 + margin$2.bottom / 2 + 5
    }).styles({ 'font-family': 'sans-serif', 'font-size': '12px', 'text-anchor': 'middle' }).text(this.variable1);

    svg_bar$2.append('image').attrs({
      x: margin$2.left + width$2 / 2 - 20 - svg_bar$2.select('#title-axis-x').node().getBoundingClientRect().width / 2,
      y: margin$2.top + height$2 + margin$2.bottom / 2 - 7.5,
      width: 15,
      height: 15,
      'xlink:href': 'img/reverse_blue.png',
      id: 'img_reverse_x'
    }).on('click', function () {
      _this.xInversed = !_this.xInversed;
      for (var i = 0; i < _this.nbFt; i++) {
        self.data[i][self.rank_variable1] = 100 - self.data[i][self.rank_variable1];
      }
      _this.scatter.selectAll('circle').transition().attr('cx', function (d) {
        return self.x(d[self.rank_variable1]);
      });
    });
    svg_bar$2.append('text').attr('id', 'title-axis-y').attr('x', margin$2.left / 2).attr('y', margin$2.top + height$2 / 2).attr('transform', 'rotate(-90, ' + margin$2.left / 2 + ', ' + (margin$2.top + height$2 / 2) + ')').style('text-anchor', 'middle').styles({ 'font-family': 'sans-serif', 'font-size': '12px' }).text(this.variable2);

    svg_bar$2.append('image').attrs({
      x: margin$2.left / 2 - 15,
      y: margin$2.top + height$2 / 2 + svg_bar$2.select('#title-axis-y').node().getBoundingClientRect().height / 2 + 7.5,
      width: 15,
      height: 15,
      'xlink:href': 'img/reverse_blue.png',
      id: 'img_reverse_y'
    }).on('click', function () {
      _this.yInversed = !_this.yInversed;
      for (var i = 0; i < _this.nbFt; i++) {
        _this.data[i][_this.rank_variable2] = 100 - _this.data[i][_this.rank_variable2];
      }
      _this.update();
      // this.scatter.selectAll('circle')
      //   .transition()
      //   .attr('cy', d => this.y(d[this.rank_variable2]));
    });

    // Prepare the tooltip displayed on mouseover:
    prepareTooltip(svg_bar$2);

    // Create the "completude" text:
    this.completude = svg_bar$2.append('text').attrs({ id: 'chart_completude', x: 60, y: 40 }).styles({ 'font-family': '\'Signika\', sans-serif' }).text('Compl\xE9tude : ' + app.completude + '%');

    // Deactivate the rect brush selection on the map
    // while the user press the Ctrl key:
    document.onkeydown = function (event) {
      if (event && event.key === 'Control') {
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', 'none');
      }
    };
    // Reactivate the rect brush selection on the map
    // when the user doesn't press the Ctrl key anymore
    document.onkeyup = function (event) {
      if (event && event.key === 'Control') {
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', null);
      }
    };

    this.update();
  }

  createClass(ScatterPlot2, [{
    key: 'makeGrid',
    value: function makeGrid() {
      this.plot.insert('g', '#scatterplot').attrs({
        class: 'grid grid-x', transform: 'translate(0, ' + height$2 + ')'
      }).call(this.xAxis2.tickSize(-height$2).tickFormat(''));
      this.plot.insert('g', '#scatterplot').attr('class', 'grid grid-y').call(this.yAxis2.tickSize(-width$2).tickFormat(''));
      this.plot.selectAll('.grid').selectAll('line').attr('stroke', 'lightgray');
    }
  }, {
    key: 'update',
    value: function update() {
      var self = this;
      var data = self.data;
      var rank_variable1 = this.rank_variable1;
      var rank_variable2 = this.rank_variable2;
      var x = this.x;
      var y = this.y;
      var default_color = 'lightgray';
      var dots = this.scatter.selectAll('.dot').data(data, function (d) {
        return d.id;
      });

      dots.transition().duration(225).attrs(function (d) {
        return {
          r: 5,
          cx: x(d[rank_variable1]),
          cy: y(d[rank_variable2]),
          opacity: 0.6
        };
      }).styles(function (d) {
        return {
          fill: app.colors[d.id] || default_color
        };
      });

      dots.enter().insert('circle').styles(function (d) {
        return {
          fill: app.colors[d.id] || default_color
        };
      }).transition().duration(225).attrs(function (d) {
        return {
          r: 5,
          cx: x(d[rank_variable1]),
          cy: y(d[rank_variable2]),
          opacity: 0.6,
          class: 'dot'
        };
      });

      dots.exit().transition().duration(225).remove();

      this.scatter.selectAll('.dot').on('mouseover', function () {
        svg_bar$2.select('.tooltip').style('display', null);
      }).on('mouseout', function () {
        svg_bar$2.select('.tooltip').style('display', 'none');
      }).on('mousemove', function (d) {
        var tooltip = svg_bar$2.select('.tooltip');
        var _var1 = self.variable1;
        var _var2 = self.variable2;
        tooltip.select('text.id_feature').text('' + d.id);
        tooltip.select('text.value_feature1').text('Ratio: ' + Math.round(d[_var1] * 10) / 10);
        tooltip.select('text.value_feature2').text('Stock: ' + Math.round(d[_var2] * 10) / 10);
        tooltip.attr('transform', 'translate(' + [d3.mouse(this)[0] - 5, d3.mouse(this)[1] - 45] + ')');
      });
    }
  }, {
    key: 'updateCompletude',
    value: function updateCompletude() {
      this.completude.text('Compl\xE9tude : ' + app.completude + '%');
    }
  }, {
    key: 'updateMapRegio',
    value: function updateMapRegio() {
      if (!this.map_elem) return;
      this.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        return app.current_ids.indexOf(d.properties[app.current_config.id_field_geom]) > -1 ? app.colors[d.properties[app.current_config.id_field_geom]] || color_countries : color_disabled;
      });
    }
  }, {
    key: 'handle_brush_map',
    value: function handle_brush_map(event) {
      var self = this;

      var _event$selection = slicedToArray(event.selection, 2),
          topleft = _event$selection[0],
          bottomright = _event$selection[1];

      var rect = new Rect(topleft, bottomright);
      app.colors = {};
      self.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        var id = d.properties[app.current_config.id_field_geom];
        if (id === app.current_config.my_region) {
          app.colors[id] = color_highlight;
          return color_highlight;
        } else if (app.current_ids.indexOf(id) < 0) {
          return color_disabled;
        }
        if (!this._pts) {
          this._pts = svgPathToCoords(this.getAttribute('d'), app.type_path);
        }
        var pts = this._pts;
        for (var ix = 0, nb_pts = pts.length; ix < nb_pts; ix++) {
          if (rect.contains(pts[ix])) {
            var value1 = d.properties[self.variable1];
            var value2 = d.properties[self.variable2];
            var color = comp2(value1, value2, self.ref_value1, self.ref_value2, self.xInversed, self.yInversed);
            app.colors[id] = color;
            return color;
          }
        }
        return color_countries;
      });
      self.update();
    }
  }, {
    key: 'handleClickMap',
    value: function handleClickMap(d, parent) {
      var id = d.properties[app.current_config.id_field_geom];
      if (app.current_ids.indexOf(id) < 0 || id === app.current_config.my_region) return;
      if (app.colors[id] !== undefined) {
        // Remove the clicked feature from the colored selection on the chart:


        // Change its color in the global colors object:
        app.colors[id] = undefined;
        // Change the color on the map:
        d3.select(parent).attr('fill', color_countries);
      } else {
        var value = d.properties[this.ratio_to_use];
        var color = comp(value, this.my_region_value, this.serie_inversed);
        app.colors[id] = color;
        // Change the color on the map:
        d3.select(parent).attr('fill', color);
        // Add the clicked feature on the colored selection on the chart:
      }
      this.update();
    }
  }, {
    key: 'updateChangeRegion',
    value: function updateChangeRegion() {
      this.ref_value1 = this.data.filter(function (d) {
        return d.id === app.current_config.my_region;
      })[0][this.variable1];
      this.ref_value2 = this.data.filter(function (d) {
        return d.id === app.current_config.my_region;
      })[0][this.variable2];
      this.map_elem.removeRectBrush();
      this.map_elem.updateLegend();
      this.map_elem.resetColors();
      this.update();
    }
  }, {
    key: 'changeStudyZone',
    value: function changeStudyZone() {
      var _this2 = this;

      this.map_elem.removeRectBrush();
      this.map_elem.updateLegend();
      this.data = app.current_data.slice().sort(function (a, b) {
        return b[_this2.stock_to_use] - a[_this2.stock_to_use];
      });
      this.ref_value1 = this.data.filter(function (d) {
        return d.id === app.current_config.my_region;
      })[0][this.variable1];
      this.ref_value2 = this.data.filter(function (d) {
        return d.id === app.current_config.my_region;
      })[0][this.variable2];
      this.update();
    }
  }, {
    key: 'changeVariable',
    value: function changeVariable(code_variable) {
      this.ratio_to_use = code_variable;
      this.stock_to_use = variables.filter(function (d) {
        return d.ratio === code_variable;
      })[0].num;
    }
  }, {
    key: 'addVariable',
    value: function addVariable(code_variable, name_variable) {}
  }, {
    key: 'removeVariable',
    value: function removeVariable(code_variable) {}
  }, {
    key: 'remove',
    value: function remove() {
      this.map_elem.unbindBrush();
      this.map_elem = null;
      svg_bar$2.html('');
    }
  }, {
    key: 'bindMap',
    value: function bindMap(map_elem) {
      this.map_elem = map_elem;
    }
  }]);
  return ScatterPlot2;
}();

browser$1('app:log');

var variables = [{ ratio: 'PC_CHOM_1524_2015', num: 'CHOM_1524_2015', denum: 'ACT_1524_2015', name: 'Taux de chomage des jeunes (2015)', group: 'Pauvreté / Exclusion sociale' }, { ratio: 'PC_CHOM_1574_2015', num: 'CHOM_1574_2015', denum: 'ACT_1574_2015', name: 'Taux de chomage (2015)', group: 'Pauvreté / Exclusion sociale' }, { ratio: 'PC_CHOM_LONG_2016', num: 'CHOM_LONG_2016', denum: 'ACT_LONG_2016', name: 'Taux de chômage de longue durée (2016)', group: 'Pauvreté / Exclusion sociale' }, { ratio: 'PC_REV_2014', num: 'REV_2014', denum: 'MEN_2014', name: 'Revenu des ménages (2014)', group: 'Pauvreté / Exclusion sociale' }, { ratio: 'PC_BREV_HAB_2011', num: 'BREV_2011', denum: 'POP_BREV_2011', name: 'Productions innovantes (2011)', group: 'Activité / Innovation' }, { ratio: 'PC_RD_EMP_2013', num: 'RD_EMP_2013', denum: 'POP_RD_EMP_2013', name: 'Part de l\'emploi en R&D (2013)', group: 'Activité / Innovation' }, { ratio: 'PC_PIB_HAB_2014', num: 'PC_PIB_HAB_2014', denum: 'POP_PIB_2014', name: 'PIB par habitant (euros)(2014)', group: 'Activité / Innovation' }, { ratio: 'PC_ARTIF_AREA_2015', num: 'ARTIF_AREA_2015', denum: 'LC_AREA_2015', name: 'Part des surfaces artificialisées (2015)', group: 'Environnement / Transition écologique' }];

var study_zones = [{ id: 'no_filter', name: 'UE28' }, { id: 'filter_FR', name: 'Filtre national (France)' }, { id: 'filter_param2', name: 'Espace de comparaison n°2' }];

var territorial_mesh = [{ id: 'NUTS1', name: 'NUTS1' }, { id: 'NUTS12stat', name: 'NUTS1/2 (statistique)' }];

var app = {
  colors: {},
  current_data: [],
  full_dataset: [],
  current_ids: []
};

function setDefaultConfig() {
  var code = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'FRE';
  var variable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'PC_CHOM_1524_2015';
  // }, level = 'NUTS1') {
  app.current_config = {
    id_field: 'geo',
    name_field: 'Nom',
    id_field_geom: 'NUTS1_2016',
    num: ['CHOM_1524_2015'],
    denum: ['ACT_1524_2015'],
    ratio: [variable],
    ratio_pretty_name: ['Taux de chômage des jeunes (2015)'],
    current_level: 1,
    my_region: code,
    my_region_pretty_name: app.feature_names[code]
  };
  app.colors[app.current_config.my_region] = color_highlight;
}

function setDefaultConfigMenu() {
  var code = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'FRE';
  var variable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'PC_CHOM_1524_2015';
  var level = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'NUTS1';

  document.querySelector('.target_region.square[value="' + code + '"]').classList.add('checked');
  document.querySelector('.target_variable.small_square[value="' + variable + '"]').classList.add('checked');
  document.querySelector('.filter_v.square[filter-value="no_filter"]').classList.add('checked');
  document.querySelector('.territ_level.square[value="' + level + '"]').classList.add('checked');
}

function resetColors() {
  var ids = app.current_ids;
  var my_region = app.current_config.my_region;
  app.colors = {};
  for (var i = 0, len_i = ids.length; i < len_i; i++) {
    app.colors[ids[i]] = ids[i] === my_region ? color_highlight : color_countries;
  }
}

/**
* Create handlers for user event on the left menu and on the map for charts only
* allowing to use 1 variable.
*
* @param {Object} chart - The chart object.
* @param {Object} map_elem - The map object.
* @return {void}
*
*/
function bindUI_chart_1v(chart, map_elem) {
  d3.selectAll('span.filter_v').on('click', function () {
    if (!this.classList.contains('checked')) {
      d3.selectAll('span.filter_v').attr('class', 'filter_v square');
      this.classList.add('checked');
      var filter_type = this.getAttribute('filter-value');
      applyFilter(app, filter_type);
      makeTable(app.current_data, app.current_config);
      chart.changeStudyZone();
      chart.updateCompletude();
    }
  });

  d3.selectAll('span.target_region').on('click', function () {
    if (!this.classList.contains('checked')) {
      d3.selectAll('span.target_region').attr('class', 'target_region square');
      this.classList.add('checked');
      var id_region = this.getAttribute('value');
      changeRegion(app, id_region);
      chart.updateChangeRegion();
    }
  });

  d3.selectAll('span.target_variable').on('click', function () {
    if (!this.classList.contains('checked')) {
      this.classList.add('checked');
      var code_variable = this.getAttribute('value');
      var name_variable = variables.filter(function (d) {
        return d.ratio === code_variable;
      })[0].name;
      addVariable(app, code_variable);
      makeTable(app.current_data, app.current_config);
      chart.addVariable(code_variable, name_variable);
    } else {
      var last_one = Array.prototype.slice.call(document.querySelectorAll('span.target_variable')).filter(function (elem) {
        return !!elem.classList.contains('checked');
      }).length === 1;
      if (last_one) {
        return;
      }
      this.classList.remove('checked');
      var _code_variable = this.getAttribute('value');
      removeVariable(app, _code_variable);
      makeTable(app.current_data, app.current_config);
      chart.removeVariable(_code_variable);
    }
    var nb_var = Array.prototype.slice.call(document.querySelectorAll('span.target_variable')).filter(function (elem) {
      return !!elem.classList.contains('checked');
    }).length;
    // Allow all kind of vizu with 1 variable:
    d3.selectAll('.chart_t1').attr('class', 'type_chart chart_t1');
    if (nb_var === 2) {
      // Allow all kind of vizu with 2 variables:
      d3.selectAll('.chart_t2').attr('class', 'type_chart chart_t2');
      d3.selectAll('.chart_t3').attr('class', 'type_chart chart_t3 disabled');
    }
    if (nb_var > 2) {
      // Allow all kind of vizu with 3 variables:
      d3.selectAll('.chart_t2').attr('class', 'type_chart chart_t2');
      d3.selectAll('.chart_t3').attr('class', 'type_chart chart_t3');
    }
  });

  d3.selectAll('span.label_chk').on('click', function () {
    this.previousSibling.click();
  });

  var header_map_section = d3.select('#map_section > #header_map');

  header_map_section.select('#img_rect_selec').on('click', function () {
    if (!this.classList.contains('active')) {
      this.classList.add('active');
      // this.style.filter = '';
      // document.getElementById('img_map_zoom').style.filter = 'opacity(25%)';
      document.getElementById('img_map_zoom').classList.remove('active');
      // document.getElementById('img_map_select').style.filter = 'opacity(25%)';
      document.getElementById('img_map_select').classList.remove('active');
      svg_map.on('.zoom', null);
      svg_map.select('.brush_map').style('display', null);
      map_elem.target_layer.selectAll('path').on('click', null);
    }
  });

  header_map_section.select('#img_map_zoom').on('click', function () {
    if (!this.classList.contains('active')) {
      this.classList.add('active');
      // this.style.filter = '';
      // document.getElementById('img_rect_selec').style.filter = 'opacity(25%)';
      document.getElementById('img_rect_selec').classList.remove('active');
      // document.getElementById('img_map_select').style.filter = 'opacity(25%)';
      document.getElementById('img_map_select').classList.remove('active');
      svg_map.call(map_elem.zoom_map);
      svg_map.select('.brush_map').call(map_elem.brush_map.move, null);
      svg_map.select('.brush_map').style('display', 'none');
      map_elem.target_layer.selectAll('path').on('click', null);
    }
  });

  header_map_section.select('#img_map_select').on('click', function () {
    if (!this.classList.contains('active')) {
      this.classList.add('active');
      document.getElementById('img_rect_selec').classList.remove('active');
      document.getElementById('img_map_zoom').classList.remove('active');
      svg_map.on('.zoom', null);
      svg_map.select('.brush_map').call(map_elem.brush_map.move, null);
      svg_map.select('.brush_map').style('display', 'none');
      map_elem.target_layer.selectAll('path').on('click', function (d) {
        chart.handleClickMap(d, this);
      });
    }
  });

  var header_table_section = d3.select('#map_section').insert('p', 'svg').attr('id', 'header_table').styles({ display: 'none', margin: 'auto', 'text-align': 'right' });

  header_table_section.append('span').attr('class', 'button_blue').html('CSV').on('click', function () {
    var content = ['id,Numérateur,Dénominateur,Ratio,Rang\r\n', app.current_data.map(function (d) {
      return [d.id, d.num, d.denum, d.ratio, d.rang].join(',');
    }).join('\r\n')].join('');
    var elem = document.createElement('a');
    elem.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(content));
    elem.setAttribute('download', 'table.csv');
    elem.style.display = 'none';
    document.body.appendChild(elem);
    elem.click();
    document.body.removeChild(elem);
  });
  bindTopButtons(chart, map_elem);
}

/**
* Function to handle click on the top menu, in order to choose
* the kind of availables representation
*
*
*
*/
function bindTopButtons(chart, map_elem) {
  d3.selectAll('.type_chart').on('click', function () {
    if (this.classList.contains('disabled')) return;
    chart.remove();
    chart = null; // eslint-disable-line no-param-reassign
    unbindUI();
    map_elem.resetZoom();
    app.colors = {};
    resetColors();
    map_elem.resetColors();
    var value = this.getAttribute('value');
    if (value === 'BarChart1') {
      console.log('BarChart1');
      makeTable(app.current_data, app.current_config);
      chart = new BarChart1(app.current_data); // eslint-disable-line no-param-reassign
      bindUI_chart_1v(chart, map_elem);
      map_elem.bindBrush(chart);
      chart.bindMap(map_elem);
    } else if (value === 'BubbleChart1') {
      console.log('BubbleChart1');
      makeTable(app.current_data, app.current_config);
      chart = new BubbleChart1(app.current_data); // eslint-disable-line no-param-reassign
      bindUI_chart_1v(chart, map_elem);
      map_elem.bindBrush(chart);
      chart.bindMap(map_elem);
    } else if (value === 'ScatterPlot2') {
      console.log('ScatterPlot2');
      makeTable(app.current_data, app.current_config);
      chart = new ScatterPlot2(app.current_data); // eslint-disable-line no-param-reassign
      bindUI_chart_1v(chart, map_elem);
      map_elem.bindBrush(chart);
      chart.bindMap(map_elem);
    }
  });
}

function loadData() {
  d3.queue(4).defer(d3.csv, 'data/REGIOVIZ_DATA_aggregated.csv').defer(d3.json, 'data/cget-nuts1-3035.geojson').defer(d3.json, 'data/countries3035.geojson').defer(d3.json, 'data/remote3035.geojson').defer(d3.json, 'data/template3035.geojson').defer(d3.json, 'data/sea_boxes.geojson').awaitAll(function (error, results) {
    if (error) throw error;

    var _results = slicedToArray(results, 6),
        full_dataset = _results[0],
        nuts1 = _results[1],
        countries = _results[2],
        remote = _results[3],
        template = _results[4],
        seaboxes = _results[5];

    prepare_dataset(full_dataset, app);
    setDefaultConfig('FRB', 'PC_CHOM_1524_2015', 'NUTS1');
    var features_menu = full_dataset.filter(function (ft) {
      return ft.geo.indexOf('FR') > -1 && +ft.level === app.current_config.current_level;
    });
    createMenu(features_menu, variables, study_zones, territorial_mesh);
    makeTopMenu();
    makeHeaderChart();
    setDefaultConfigMenu('FRB', 'PC_CHOM_1524_2015', 'NUTS1');
    filter_no_empty(app);
    var map_elem = new MapSelect(nuts1, countries, remote, template, seaboxes);
    var chart = new BarChart1(app.current_data);
    makeTable(app.current_data, app.current_config);
    makeHeaderMapSection();
    makeSourceSection();
    makeMapLegend();
    bindUI_chart_1v(chart, map_elem);
    chart.bindMap(map_elem);
    map_elem.bindBrush(chart);
  });
}

loadData();

exports.variables = variables;
exports.app = app;
exports.bindTopButtons = bindTopButtons;

}((this.App = this.App || {})));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9tcy9pbmRleC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvZGVidWcuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2Jyb3dzZXIuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL29wdGlvbnMuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL2hlbHBlcnMuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL21lbnVsZWZ0LmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9tZW51dG9wLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3ZhbmlsbGEtZGF0YXRhYmxlcy9zcmMvdmFuaWxsYS1kYXRhVGFibGVzLmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy90YWJsZS5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvcHJlcGFyZV9kYXRhLmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9tYXAuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL2NoYXJ0cy9iYXJDaGFydF8xdi5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvY2hhcnRzL2J1YmJsZUNoYXJ0XzF2LmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9jaGFydHMvc2NhdHRlclBsb3RfMnYuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogSGVscGVycy5cbiAqL1xuXG52YXIgcyA9IDEwMDA7XG52YXIgbSA9IHMgKiA2MDtcbnZhciBoID0gbSAqIDYwO1xudmFyIGQgPSBoICogMjQ7XG52YXIgeSA9IGQgKiAzNjUuMjU7XG5cbi8qKlxuICogUGFyc2Ugb3IgZm9ybWF0IHRoZSBnaXZlbiBgdmFsYC5cbiAqXG4gKiBPcHRpb25zOlxuICpcbiAqICAtIGBsb25nYCB2ZXJib3NlIGZvcm1hdHRpbmcgW2ZhbHNlXVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gdmFsXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAdGhyb3dzIHtFcnJvcn0gdGhyb3cgYW4gZXJyb3IgaWYgdmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSBudW1iZXJcbiAqIEByZXR1cm4ge1N0cmluZ3xOdW1iZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odmFsLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWw7XG4gIGlmICh0eXBlID09PSAnc3RyaW5nJyAmJiB2YWwubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBwYXJzZSh2YWwpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICdudW1iZXInICYmIGlzTmFOKHZhbCkgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMubG9uZyA/IGZtdExvbmcodmFsKSA6IGZtdFNob3J0KHZhbCk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFxuICAgICd2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIHZhbGlkIG51bWJlci4gdmFsPScgK1xuICAgICAgSlNPTi5zdHJpbmdpZnkodmFsKVxuICApO1xufTtcblxuLyoqXG4gKiBQYXJzZSB0aGUgZ2l2ZW4gYHN0cmAgYW5kIHJldHVybiBtaWxsaXNlY29uZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7TnVtYmVyfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2Uoc3RyKSB7XG4gIHN0ciA9IFN0cmluZyhzdHIpO1xuICBpZiAoc3RyLmxlbmd0aCA+IDEwMCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbWF0Y2ggPSAvXigoPzpcXGQrKT9cXC4/XFxkKykgKihtaWxsaXNlY29uZHM/fG1zZWNzP3xtc3xzZWNvbmRzP3xzZWNzP3xzfG1pbnV0ZXM/fG1pbnM/fG18aG91cnM/fGhycz98aHxkYXlzP3xkfHllYXJzP3x5cnM/fHkpPyQvaS5leGVjKFxuICAgIHN0clxuICApO1xuICBpZiAoIW1hdGNoKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBuID0gcGFyc2VGbG9hdChtYXRjaFsxXSk7XG4gIHZhciB0eXBlID0gKG1hdGNoWzJdIHx8ICdtcycpLnRvTG93ZXJDYXNlKCk7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ3llYXJzJzpcbiAgICBjYXNlICd5ZWFyJzpcbiAgICBjYXNlICd5cnMnOlxuICAgIGNhc2UgJ3lyJzpcbiAgICBjYXNlICd5JzpcbiAgICAgIHJldHVybiBuICogeTtcbiAgICBjYXNlICdkYXlzJzpcbiAgICBjYXNlICdkYXknOlxuICAgIGNhc2UgJ2QnOlxuICAgICAgcmV0dXJuIG4gKiBkO1xuICAgIGNhc2UgJ2hvdXJzJzpcbiAgICBjYXNlICdob3VyJzpcbiAgICBjYXNlICdocnMnOlxuICAgIGNhc2UgJ2hyJzpcbiAgICBjYXNlICdoJzpcbiAgICAgIHJldHVybiBuICogaDtcbiAgICBjYXNlICdtaW51dGVzJzpcbiAgICBjYXNlICdtaW51dGUnOlxuICAgIGNhc2UgJ21pbnMnOlxuICAgIGNhc2UgJ21pbic6XG4gICAgY2FzZSAnbSc6XG4gICAgICByZXR1cm4gbiAqIG07XG4gICAgY2FzZSAnc2Vjb25kcyc6XG4gICAgY2FzZSAnc2Vjb25kJzpcbiAgICBjYXNlICdzZWNzJzpcbiAgICBjYXNlICdzZWMnOlxuICAgIGNhc2UgJ3MnOlxuICAgICAgcmV0dXJuIG4gKiBzO1xuICAgIGNhc2UgJ21pbGxpc2Vjb25kcyc6XG4gICAgY2FzZSAnbWlsbGlzZWNvbmQnOlxuICAgIGNhc2UgJ21zZWNzJzpcbiAgICBjYXNlICdtc2VjJzpcbiAgICBjYXNlICdtcyc6XG4gICAgICByZXR1cm4gbjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufVxuXG4vKipcbiAqIFNob3J0IGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGZtdFNob3J0KG1zKSB7XG4gIGlmIChtcyA+PSBkKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBkKSArICdkJztcbiAgfVxuICBpZiAobXMgPj0gaCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gaCkgKyAnaCc7XG4gIH1cbiAgaWYgKG1zID49IG0pIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIG0pICsgJ20nO1xuICB9XG4gIGlmIChtcyA+PSBzKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBzKSArICdzJztcbiAgfVxuICByZXR1cm4gbXMgKyAnbXMnO1xufVxuXG4vKipcbiAqIExvbmcgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm10TG9uZyhtcykge1xuICByZXR1cm4gcGx1cmFsKG1zLCBkLCAnZGF5JykgfHxcbiAgICBwbHVyYWwobXMsIGgsICdob3VyJykgfHxcbiAgICBwbHVyYWwobXMsIG0sICdtaW51dGUnKSB8fFxuICAgIHBsdXJhbChtcywgcywgJ3NlY29uZCcpIHx8XG4gICAgbXMgKyAnIG1zJztcbn1cblxuLyoqXG4gKiBQbHVyYWxpemF0aW9uIGhlbHBlci5cbiAqL1xuXG5mdW5jdGlvbiBwbHVyYWwobXMsIG4sIG5hbWUpIHtcbiAgaWYgKG1zIDwgbikge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAobXMgPCBuICogMS41KSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IobXMgLyBuKSArICcgJyArIG5hbWU7XG4gIH1cbiAgcmV0dXJuIE1hdGguY2VpbChtcyAvIG4pICsgJyAnICsgbmFtZSArICdzJztcbn1cbiIsIlxuLyoqXG4gKiBUaGlzIGlzIHRoZSBjb21tb24gbG9naWMgZm9yIGJvdGggdGhlIE5vZGUuanMgYW5kIHdlYiBicm93c2VyXG4gKiBpbXBsZW1lbnRhdGlvbnMgb2YgYGRlYnVnKClgLlxuICpcbiAqIEV4cG9zZSBgZGVidWcoKWAgYXMgdGhlIG1vZHVsZS5cbiAqL1xuXG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVEZWJ1Zy5kZWJ1ZyA9IGNyZWF0ZURlYnVnWydkZWZhdWx0J10gPSBjcmVhdGVEZWJ1ZztcbmV4cG9ydHMuY29lcmNlID0gY29lcmNlO1xuZXhwb3J0cy5kaXNhYmxlID0gZGlzYWJsZTtcbmV4cG9ydHMuZW5hYmxlID0gZW5hYmxlO1xuZXhwb3J0cy5lbmFibGVkID0gZW5hYmxlZDtcbmV4cG9ydHMuaHVtYW5pemUgPSByZXF1aXJlKCdtcycpO1xuXG4vKipcbiAqIFRoZSBjdXJyZW50bHkgYWN0aXZlIGRlYnVnIG1vZGUgbmFtZXMsIGFuZCBuYW1lcyB0byBza2lwLlxuICovXG5cbmV4cG9ydHMubmFtZXMgPSBbXTtcbmV4cG9ydHMuc2tpcHMgPSBbXTtcblxuLyoqXG4gKiBNYXAgb2Ygc3BlY2lhbCBcIiVuXCIgaGFuZGxpbmcgZnVuY3Rpb25zLCBmb3IgdGhlIGRlYnVnIFwiZm9ybWF0XCIgYXJndW1lbnQuXG4gKlxuICogVmFsaWQga2V5IG5hbWVzIGFyZSBhIHNpbmdsZSwgbG93ZXIgb3IgdXBwZXItY2FzZSBsZXR0ZXIsIGkuZS4gXCJuXCIgYW5kIFwiTlwiLlxuICovXG5cbmV4cG9ydHMuZm9ybWF0dGVycyA9IHt9O1xuXG4vKipcbiAqIFByZXZpb3VzIGxvZyB0aW1lc3RhbXAuXG4gKi9cblxudmFyIHByZXZUaW1lO1xuXG4vKipcbiAqIFNlbGVjdCBhIGNvbG9yLlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZVxuICogQHJldHVybiB7TnVtYmVyfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gc2VsZWN0Q29sb3IobmFtZXNwYWNlKSB7XG4gIHZhciBoYXNoID0gMCwgaTtcblxuICBmb3IgKGkgaW4gbmFtZXNwYWNlKSB7XG4gICAgaGFzaCAgPSAoKGhhc2ggPDwgNSkgLSBoYXNoKSArIG5hbWVzcGFjZS5jaGFyQ29kZUF0KGkpO1xuICAgIGhhc2ggfD0gMDsgLy8gQ29udmVydCB0byAzMmJpdCBpbnRlZ2VyXG4gIH1cblxuICByZXR1cm4gZXhwb3J0cy5jb2xvcnNbTWF0aC5hYnMoaGFzaCkgJSBleHBvcnRzLmNvbG9ycy5sZW5ndGhdO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIGRlYnVnZ2VyIHdpdGggdGhlIGdpdmVuIGBuYW1lc3BhY2VgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBjcmVhdGVEZWJ1ZyhuYW1lc3BhY2UpIHtcblxuICBmdW5jdGlvbiBkZWJ1ZygpIHtcbiAgICAvLyBkaXNhYmxlZD9cbiAgICBpZiAoIWRlYnVnLmVuYWJsZWQpIHJldHVybjtcblxuICAgIHZhciBzZWxmID0gZGVidWc7XG5cbiAgICAvLyBzZXQgYGRpZmZgIHRpbWVzdGFtcFxuICAgIHZhciBjdXJyID0gK25ldyBEYXRlKCk7XG4gICAgdmFyIG1zID0gY3VyciAtIChwcmV2VGltZSB8fCBjdXJyKTtcbiAgICBzZWxmLmRpZmYgPSBtcztcbiAgICBzZWxmLnByZXYgPSBwcmV2VGltZTtcbiAgICBzZWxmLmN1cnIgPSBjdXJyO1xuICAgIHByZXZUaW1lID0gY3VycjtcblxuICAgIC8vIHR1cm4gdGhlIGBhcmd1bWVudHNgIGludG8gYSBwcm9wZXIgQXJyYXlcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuXG4gICAgYXJnc1swXSA9IGV4cG9ydHMuY29lcmNlKGFyZ3NbMF0pO1xuXG4gICAgaWYgKCdzdHJpbmcnICE9PSB0eXBlb2YgYXJnc1swXSkge1xuICAgICAgLy8gYW55dGhpbmcgZWxzZSBsZXQncyBpbnNwZWN0IHdpdGggJU9cbiAgICAgIGFyZ3MudW5zaGlmdCgnJU8nKTtcbiAgICB9XG5cbiAgICAvLyBhcHBseSBhbnkgYGZvcm1hdHRlcnNgIHRyYW5zZm9ybWF0aW9uc1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgYXJnc1swXSA9IGFyZ3NbMF0ucmVwbGFjZSgvJShbYS16QS1aJV0pL2csIGZ1bmN0aW9uKG1hdGNoLCBmb3JtYXQpIHtcbiAgICAgIC8vIGlmIHdlIGVuY291bnRlciBhbiBlc2NhcGVkICUgdGhlbiBkb24ndCBpbmNyZWFzZSB0aGUgYXJyYXkgaW5kZXhcbiAgICAgIGlmIChtYXRjaCA9PT0gJyUlJykgcmV0dXJuIG1hdGNoO1xuICAgICAgaW5kZXgrKztcbiAgICAgIHZhciBmb3JtYXR0ZXIgPSBleHBvcnRzLmZvcm1hdHRlcnNbZm9ybWF0XTtcbiAgICAgIGlmICgnZnVuY3Rpb24nID09PSB0eXBlb2YgZm9ybWF0dGVyKSB7XG4gICAgICAgIHZhciB2YWwgPSBhcmdzW2luZGV4XTtcbiAgICAgICAgbWF0Y2ggPSBmb3JtYXR0ZXIuY2FsbChzZWxmLCB2YWwpO1xuXG4gICAgICAgIC8vIG5vdyB3ZSBuZWVkIHRvIHJlbW92ZSBgYXJnc1tpbmRleF1gIHNpbmNlIGl0J3MgaW5saW5lZCBpbiB0aGUgYGZvcm1hdGBcbiAgICAgICAgYXJncy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICBpbmRleC0tO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH0pO1xuXG4gICAgLy8gYXBwbHkgZW52LXNwZWNpZmljIGZvcm1hdHRpbmcgKGNvbG9ycywgZXRjLilcbiAgICBleHBvcnRzLmZvcm1hdEFyZ3MuY2FsbChzZWxmLCBhcmdzKTtcblxuICAgIHZhciBsb2dGbiA9IGRlYnVnLmxvZyB8fCBleHBvcnRzLmxvZyB8fCBjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpO1xuICAgIGxvZ0ZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICB9XG5cbiAgZGVidWcubmFtZXNwYWNlID0gbmFtZXNwYWNlO1xuICBkZWJ1Zy5lbmFibGVkID0gZXhwb3J0cy5lbmFibGVkKG5hbWVzcGFjZSk7XG4gIGRlYnVnLnVzZUNvbG9ycyA9IGV4cG9ydHMudXNlQ29sb3JzKCk7XG4gIGRlYnVnLmNvbG9yID0gc2VsZWN0Q29sb3IobmFtZXNwYWNlKTtcblxuICAvLyBlbnYtc3BlY2lmaWMgaW5pdGlhbGl6YXRpb24gbG9naWMgZm9yIGRlYnVnIGluc3RhbmNlc1xuICBpZiAoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIGV4cG9ydHMuaW5pdCkge1xuICAgIGV4cG9ydHMuaW5pdChkZWJ1Zyk7XG4gIH1cblxuICByZXR1cm4gZGVidWc7XG59XG5cbi8qKlxuICogRW5hYmxlcyBhIGRlYnVnIG1vZGUgYnkgbmFtZXNwYWNlcy4gVGhpcyBjYW4gaW5jbHVkZSBtb2Rlc1xuICogc2VwYXJhdGVkIGJ5IGEgY29sb24gYW5kIHdpbGRjYXJkcy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBlbmFibGUobmFtZXNwYWNlcykge1xuICBleHBvcnRzLnNhdmUobmFtZXNwYWNlcyk7XG5cbiAgZXhwb3J0cy5uYW1lcyA9IFtdO1xuICBleHBvcnRzLnNraXBzID0gW107XG5cbiAgdmFyIHNwbGl0ID0gKHR5cGVvZiBuYW1lc3BhY2VzID09PSAnc3RyaW5nJyA/IG5hbWVzcGFjZXMgOiAnJykuc3BsaXQoL1tcXHMsXSsvKTtcbiAgdmFyIGxlbiA9IHNwbGl0Lmxlbmd0aDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKCFzcGxpdFtpXSkgY29udGludWU7IC8vIGlnbm9yZSBlbXB0eSBzdHJpbmdzXG4gICAgbmFtZXNwYWNlcyA9IHNwbGl0W2ldLnJlcGxhY2UoL1xcKi9nLCAnLio/Jyk7XG4gICAgaWYgKG5hbWVzcGFjZXNbMF0gPT09ICctJykge1xuICAgICAgZXhwb3J0cy5za2lwcy5wdXNoKG5ldyBSZWdFeHAoJ14nICsgbmFtZXNwYWNlcy5zdWJzdHIoMSkgKyAnJCcpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXhwb3J0cy5uYW1lcy5wdXNoKG5ldyBSZWdFeHAoJ14nICsgbmFtZXNwYWNlcyArICckJykpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIERpc2FibGUgZGVidWcgb3V0cHV0LlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgZXhwb3J0cy5lbmFibGUoJycpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gbW9kZSBuYW1lIGlzIGVuYWJsZWQsIGZhbHNlIG90aGVyd2lzZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZW5hYmxlZChuYW1lKSB7XG4gIHZhciBpLCBsZW47XG4gIGZvciAoaSA9IDAsIGxlbiA9IGV4cG9ydHMuc2tpcHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBpZiAoZXhwb3J0cy5za2lwc1tpXS50ZXN0KG5hbWUpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIGZvciAoaSA9IDAsIGxlbiA9IGV4cG9ydHMubmFtZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBpZiAoZXhwb3J0cy5uYW1lc1tpXS50ZXN0KG5hbWUpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIENvZXJjZSBgdmFsYC5cbiAqXG4gKiBAcGFyYW0ge01peGVkfSB2YWxcbiAqIEByZXR1cm4ge01peGVkfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gY29lcmNlKHZhbCkge1xuICBpZiAodmFsIGluc3RhbmNlb2YgRXJyb3IpIHJldHVybiB2YWwuc3RhY2sgfHwgdmFsLm1lc3NhZ2U7XG4gIHJldHVybiB2YWw7XG59XG4iLCIvKipcbiAqIFRoaXMgaXMgdGhlIHdlYiBicm93c2VyIGltcGxlbWVudGF0aW9uIG9mIGBkZWJ1ZygpYC5cbiAqXG4gKiBFeHBvc2UgYGRlYnVnKClgIGFzIHRoZSBtb2R1bGUuXG4gKi9cblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9kZWJ1ZycpO1xuZXhwb3J0cy5sb2cgPSBsb2c7XG5leHBvcnRzLmZvcm1hdEFyZ3MgPSBmb3JtYXRBcmdzO1xuZXhwb3J0cy5zYXZlID0gc2F2ZTtcbmV4cG9ydHMubG9hZCA9IGxvYWQ7XG5leHBvcnRzLnVzZUNvbG9ycyA9IHVzZUNvbG9ycztcbmV4cG9ydHMuc3RvcmFnZSA9ICd1bmRlZmluZWQnICE9IHR5cGVvZiBjaHJvbWVcbiAgICAgICAgICAgICAgICYmICd1bmRlZmluZWQnICE9IHR5cGVvZiBjaHJvbWUuc3RvcmFnZVxuICAgICAgICAgICAgICAgICAgPyBjaHJvbWUuc3RvcmFnZS5sb2NhbFxuICAgICAgICAgICAgICAgICAgOiBsb2NhbHN0b3JhZ2UoKTtcblxuLyoqXG4gKiBDb2xvcnMuXG4gKi9cblxuZXhwb3J0cy5jb2xvcnMgPSBbXG4gICdsaWdodHNlYWdyZWVuJyxcbiAgJ2ZvcmVzdGdyZWVuJyxcbiAgJ2dvbGRlbnJvZCcsXG4gICdkb2RnZXJibHVlJyxcbiAgJ2RhcmtvcmNoaWQnLFxuICAnY3JpbXNvbidcbl07XG5cbi8qKlxuICogQ3VycmVudGx5IG9ubHkgV2ViS2l0LWJhc2VkIFdlYiBJbnNwZWN0b3JzLCBGaXJlZm94ID49IHYzMSxcbiAqIGFuZCB0aGUgRmlyZWJ1ZyBleHRlbnNpb24gKGFueSBGaXJlZm94IHZlcnNpb24pIGFyZSBrbm93blxuICogdG8gc3VwcG9ydCBcIiVjXCIgQ1NTIGN1c3RvbWl6YXRpb25zLlxuICpcbiAqIFRPRE86IGFkZCBhIGBsb2NhbFN0b3JhZ2VgIHZhcmlhYmxlIHRvIGV4cGxpY2l0bHkgZW5hYmxlL2Rpc2FibGUgY29sb3JzXG4gKi9cblxuZnVuY3Rpb24gdXNlQ29sb3JzKCkge1xuICAvLyBOQjogSW4gYW4gRWxlY3Ryb24gcHJlbG9hZCBzY3JpcHQsIGRvY3VtZW50IHdpbGwgYmUgZGVmaW5lZCBidXQgbm90IGZ1bGx5XG4gIC8vIGluaXRpYWxpemVkLiBTaW5jZSB3ZSBrbm93IHdlJ3JlIGluIENocm9tZSwgd2UnbGwganVzdCBkZXRlY3QgdGhpcyBjYXNlXG4gIC8vIGV4cGxpY2l0bHlcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5wcm9jZXNzICYmIHdpbmRvdy5wcm9jZXNzLnR5cGUgPT09ICdyZW5kZXJlcicpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIGlzIHdlYmtpdD8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTY0NTk2MDYvMzc2NzczXG4gIC8vIGRvY3VtZW50IGlzIHVuZGVmaW5lZCBpbiByZWFjdC1uYXRpdmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC1uYXRpdmUvcHVsbC8xNjMyXG4gIHJldHVybiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5XZWJraXRBcHBlYXJhbmNlKSB8fFxuICAgIC8vIGlzIGZpcmVidWc/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzM5ODEyMC8zNzY3NzNcbiAgICAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmNvbnNvbGUgJiYgKHdpbmRvdy5jb25zb2xlLmZpcmVidWcgfHwgKHdpbmRvdy5jb25zb2xlLmV4Y2VwdGlvbiAmJiB3aW5kb3cuY29uc29sZS50YWJsZSkpKSB8fFxuICAgIC8vIGlzIGZpcmVmb3ggPj0gdjMxP1xuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvVG9vbHMvV2ViX0NvbnNvbGUjU3R5bGluZ19tZXNzYWdlc1xuICAgICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvZmlyZWZveFxcLyhcXGQrKS8pICYmIHBhcnNlSW50KFJlZ0V4cC4kMSwgMTApID49IDMxKSB8fFxuICAgIC8vIGRvdWJsZSBjaGVjayB3ZWJraXQgaW4gdXNlckFnZW50IGp1c3QgaW4gY2FzZSB3ZSBhcmUgaW4gYSB3b3JrZXJcbiAgICAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2FwcGxld2Via2l0XFwvKFxcZCspLykpO1xufVxuXG4vKipcbiAqIE1hcCAlaiB0byBgSlNPTi5zdHJpbmdpZnkoKWAsIHNpbmNlIG5vIFdlYiBJbnNwZWN0b3JzIGRvIHRoYXQgYnkgZGVmYXVsdC5cbiAqL1xuXG5leHBvcnRzLmZvcm1hdHRlcnMuaiA9IGZ1bmN0aW9uKHYpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodik7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiAnW1VuZXhwZWN0ZWRKU09OUGFyc2VFcnJvcl06ICcgKyBlcnIubWVzc2FnZTtcbiAgfVxufTtcblxuXG4vKipcbiAqIENvbG9yaXplIGxvZyBhcmd1bWVudHMgaWYgZW5hYmxlZC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGZvcm1hdEFyZ3MoYXJncykge1xuICB2YXIgdXNlQ29sb3JzID0gdGhpcy51c2VDb2xvcnM7XG5cbiAgYXJnc1swXSA9ICh1c2VDb2xvcnMgPyAnJWMnIDogJycpXG4gICAgKyB0aGlzLm5hbWVzcGFjZVxuICAgICsgKHVzZUNvbG9ycyA/ICcgJWMnIDogJyAnKVxuICAgICsgYXJnc1swXVxuICAgICsgKHVzZUNvbG9ycyA/ICclYyAnIDogJyAnKVxuICAgICsgJysnICsgZXhwb3J0cy5odW1hbml6ZSh0aGlzLmRpZmYpO1xuXG4gIGlmICghdXNlQ29sb3JzKSByZXR1cm47XG5cbiAgdmFyIGMgPSAnY29sb3I6ICcgKyB0aGlzLmNvbG9yO1xuICBhcmdzLnNwbGljZSgxLCAwLCBjLCAnY29sb3I6IGluaGVyaXQnKVxuXG4gIC8vIHRoZSBmaW5hbCBcIiVjXCIgaXMgc29tZXdoYXQgdHJpY2t5LCBiZWNhdXNlIHRoZXJlIGNvdWxkIGJlIG90aGVyXG4gIC8vIGFyZ3VtZW50cyBwYXNzZWQgZWl0aGVyIGJlZm9yZSBvciBhZnRlciB0aGUgJWMsIHNvIHdlIG5lZWQgdG9cbiAgLy8gZmlndXJlIG91dCB0aGUgY29ycmVjdCBpbmRleCB0byBpbnNlcnQgdGhlIENTUyBpbnRvXG4gIHZhciBpbmRleCA9IDA7XG4gIHZhciBsYXN0QyA9IDA7XG4gIGFyZ3NbMF0ucmVwbGFjZSgvJVthLXpBLVolXS9nLCBmdW5jdGlvbihtYXRjaCkge1xuICAgIGlmICgnJSUnID09PSBtYXRjaCkgcmV0dXJuO1xuICAgIGluZGV4Kys7XG4gICAgaWYgKCclYycgPT09IG1hdGNoKSB7XG4gICAgICAvLyB3ZSBvbmx5IGFyZSBpbnRlcmVzdGVkIGluIHRoZSAqbGFzdCogJWNcbiAgICAgIC8vICh0aGUgdXNlciBtYXkgaGF2ZSBwcm92aWRlZCB0aGVpciBvd24pXG4gICAgICBsYXN0QyA9IGluZGV4O1xuICAgIH1cbiAgfSk7XG5cbiAgYXJncy5zcGxpY2UobGFzdEMsIDAsIGMpO1xufVxuXG4vKipcbiAqIEludm9rZXMgYGNvbnNvbGUubG9nKClgIHdoZW4gYXZhaWxhYmxlLlxuICogTm8tb3Agd2hlbiBgY29uc29sZS5sb2dgIGlzIG5vdCBhIFwiZnVuY3Rpb25cIi5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGxvZygpIHtcbiAgLy8gdGhpcyBoYWNrZXJ5IGlzIHJlcXVpcmVkIGZvciBJRTgvOSwgd2hlcmVcbiAgLy8gdGhlIGBjb25zb2xlLmxvZ2AgZnVuY3Rpb24gZG9lc24ndCBoYXZlICdhcHBseSdcbiAgcmV0dXJuICdvYmplY3QnID09PSB0eXBlb2YgY29uc29sZVxuICAgICYmIGNvbnNvbGUubG9nXG4gICAgJiYgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoY29uc29sZS5sb2csIGNvbnNvbGUsIGFyZ3VtZW50cyk7XG59XG5cbi8qKlxuICogU2F2ZSBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHNhdmUobmFtZXNwYWNlcykge1xuICB0cnkge1xuICAgIGlmIChudWxsID09IG5hbWVzcGFjZXMpIHtcbiAgICAgIGV4cG9ydHMuc3RvcmFnZS5yZW1vdmVJdGVtKCdkZWJ1ZycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBleHBvcnRzLnN0b3JhZ2UuZGVidWcgPSBuYW1lc3BhY2VzO1xuICAgIH1cbiAgfSBjYXRjaChlKSB7fVxufVxuXG4vKipcbiAqIExvYWQgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEByZXR1cm4ge1N0cmluZ30gcmV0dXJucyB0aGUgcHJldmlvdXNseSBwZXJzaXN0ZWQgZGVidWcgbW9kZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGxvYWQoKSB7XG4gIHZhciByO1xuICB0cnkge1xuICAgIHIgPSBleHBvcnRzLnN0b3JhZ2UuZGVidWc7XG4gIH0gY2F0Y2goZSkge31cblxuICAvLyBJZiBkZWJ1ZyBpc24ndCBzZXQgaW4gTFMsIGFuZCB3ZSdyZSBpbiBFbGVjdHJvbiwgdHJ5IHRvIGxvYWQgJERFQlVHXG4gIGlmICghciAmJiB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgJ2VudicgaW4gcHJvY2Vzcykge1xuICAgIHIgPSBwcm9jZXNzLmVudi5ERUJVRztcbiAgfVxuXG4gIHJldHVybiByO1xufVxuXG4vKipcbiAqIEVuYWJsZSBuYW1lc3BhY2VzIGxpc3RlZCBpbiBgbG9jYWxTdG9yYWdlLmRlYnVnYCBpbml0aWFsbHkuXG4gKi9cblxuZXhwb3J0cy5lbmFibGUobG9hZCgpKTtcblxuLyoqXG4gKiBMb2NhbHN0b3JhZ2UgYXR0ZW1wdHMgdG8gcmV0dXJuIHRoZSBsb2NhbHN0b3JhZ2UuXG4gKlxuICogVGhpcyBpcyBuZWNlc3NhcnkgYmVjYXVzZSBzYWZhcmkgdGhyb3dzXG4gKiB3aGVuIGEgdXNlciBkaXNhYmxlcyBjb29raWVzL2xvY2Fsc3RvcmFnZVxuICogYW5kIHlvdSBhdHRlbXB0IHRvIGFjY2VzcyBpdC5cbiAqXG4gKiBAcmV0dXJuIHtMb2NhbFN0b3JhZ2V9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBsb2NhbHN0b3JhZ2UoKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2U7XG4gIH0gY2F0Y2ggKGUpIHt9XG59XG4iLCJleHBvcnQgY29uc3QgY29sb3JfY291bnRyaWVzID0gJ3JnYigxNDcsMTQ0LDI1MiknO1xuZXhwb3J0IGNvbnN0IGNvbG9yX2Rpc2FibGVkID0gJ3JnYigyMTQsIDIxNCwgMjE0KSc7XG5leHBvcnQgY29uc3QgY29sb3Jfc3VwID0gJ2dyZWVuJztcbmV4cG9ydCBjb25zdCBjb2xvcl9pbmYgPSAncmVkJztcbmV4cG9ydCBjb25zdCBjb2xvcl9oaWdobGlnaHQgPSAneWVsbG93JztcbiIsImltcG9ydCB7IGNvbG9yX2luZiwgY29sb3Jfc3VwIH0gZnJvbSAnLi9vcHRpb25zJztcblxuY29uc3QgbWF0aF9hYnMgPSBNYXRoLmFicztcbmNvbnN0IG1hdGhfcm91bmQgPSBNYXRoLnJvdW5kO1xuXG5mdW5jdGlvbiBwcmVwYXJlVG9vbHRpcChwYXJlbnRfc3ZnX2VsZW0pIHtcbiAgY29uc3QgdG9vbHRpcCA9IHBhcmVudF9zdmdfZWxlbS5hcHBlbmQoJ2cnKVxuICAgIC5hdHRyKCdjbGFzcycsICd0b29sdGlwJylcbiAgICAuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuXG4gIHRvb2x0aXAuYXBwZW5kKCdyZWN0JylcbiAgICAuYXR0cnMoeyB3aWR0aDogNTAsIGhlaWdodDogNDAsIGZpbGw6ICd3aGl0ZScgfSlcbiAgICAuc3R5bGUoJ29wYWNpdHknLCAwLjUpO1xuXG4gIHRvb2x0aXAuYXBwZW5kKCd0ZXh0JylcbiAgICAuYXR0cnMoeyBjbGFzczogJ2lkX2ZlYXR1cmUnLCB4OiAyNSwgZHk6ICcxLjJlbScsICdmb250LXNpemUnOiAnMTRweCcgfSlcbiAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpO1xuXG4gIHRvb2x0aXAuYXBwZW5kKCd0ZXh0JylcbiAgICAuYXR0cnMoe1xuICAgICAgY2xhc3M6ICd2YWx1ZV9mZWF0dXJlMScsXG4gICAgICB4OiAyNSxcbiAgICAgIGR5OiAnMi40ZW0nLFxuICAgICAgJ2ZvbnQtc2l6ZSc6ICcxNHB4JyxcbiAgICAgICdmb250LXdlaWdodCc6ICdib2xkJyB9KVxuICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnbWlkZGxlJyk7XG5cbiAgdG9vbHRpcC5hcHBlbmQoJ3RleHQnKVxuICAgIC5hdHRycyh7XG4gICAgICBjbGFzczogJ3ZhbHVlX2ZlYXR1cmUyJyxcbiAgICAgIHg6IDI1LFxuICAgICAgZHk6ICczLjVlbScsXG4gICAgICAnZm9udC1zaXplJzogJzE0cHgnLFxuICAgICAgJ2ZvbnQtd2VpZ2h0JzogJ2JvbGQnIH0pXG4gICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKTtcblxuICB0b29sdGlwLmFwcGVuZCgndGV4dCcpXG4gICAgLmF0dHJzKHtcbiAgICAgIGNsYXNzOiAndmFsdWVfZmVhdHVyZTMnLFxuICAgICAgeDogMjUsXG4gICAgICBkeTogJzQuNmVtJyxcbiAgICAgICdmb250LXNpemUnOiAnMTRweCcsXG4gICAgICAnZm9udC13ZWlnaHQnOiAnYm9sZCcgfSlcbiAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpO1xuXG4gIHRvb2x0aXAuYXBwZW5kKCd0ZXh0JylcbiAgICAuYXR0cnMoe1xuICAgICAgY2xhc3M6ICd2YWx1ZV9mZWF0dXJlNCcsXG4gICAgICB4OiAyNSxcbiAgICAgIGR5OiAnNS43ZW0nLFxuICAgICAgJ2ZvbnQtc2l6ZSc6ICcxNHB4JyxcbiAgICAgICdmb250LXdlaWdodCc6ICdib2xkJyB9KVxuICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnbWlkZGxlJyk7XG5cbiAgcmV0dXJuIHRvb2x0aXA7XG59XG5cbmZ1bmN0aW9uIHVuYmluZFVJKCkge1xuICAvLyBSZW1vdmVzIHRoZSBjdXJyZW50IGJlaGF2aW9yIGNvcnJlc3BvbmRpbmcgdG8gY2xpY2tpbmcgb24gdGhlIGxlZnQgbWVudTpcbiAgZDMuc2VsZWN0QWxsKCdzcGFuLmZpbHRlcl92JylcbiAgICAub24oJ2NsaWNrJywgbnVsbCk7XG4gIGQzLnNlbGVjdEFsbCgnc3Bhbi50YXJnZXRfcmVnaW9uJylcbiAgICAub24oJ2NsaWNrJywgbnVsbCk7XG4gIGQzLnNlbGVjdEFsbCgnc3Bhbi5sYWJlbF9jaGsnKVxuICAgIC5vbignY2xpY2snLCBudWxsKTtcblxuICAvLyBSZW1vdmUgdGhlIHRhYmxlOlxuICBkMy5zZWxlY3QoJy5kYXRhVGFibGUtd3JhcHBlcicpLnJlbW92ZSgpO1xuXG4gIC8vIFVuYmluZCBidXR0b25zIG9uIHRoZSB0b3Agb2YgdGhlIG1hcDpcbiAgZDMuc2VsZWN0KCcjaGVhZGVyX21hcCcpXG4gICAgLnNlbGVjdEFsbCgnaW1nJylcbiAgICAub24oJ2NsaWNrJywgbnVsbCk7XG5cbiAgLy8gUmVtb3ZlIHRoZSBzZWxlY3Rpb24gbWVudSAob3IgYnV0dG9ucykgdW5kZXIgdGhlIGNoYXJ0OlxuICBkMy5zZWxlY3QoJyNiYXJfc2VjdGlvbiA+ICNidXR0b25zX3VuZGVyX2NoYXJ0JykucmVtb3ZlKCk7XG5cbiAgLy8gUmVtb3ZlcyB0aGUgY3VycmVudCBiZWhhdmlvciBjb3JyZXNwb25kaW5nIHRvIGNsaWNraW5nIG9uIHRoZSB0b3AgbWVudTpcbiAgZDMuc2VsZWN0QWxsKCcudHlwZV9jaGFydC50aXRsZV9tZW51Jykub24oJ2NsaWNrJywgbnVsbCk7XG5cbiAgLy8gUmVtb3ZlcyB0aGUgY3VycmVudCBiZWhhdmlvciBjb3JyZXNwb25kaW5nIHRvIHByZXNzaW5nIHRoZSBDb250cm9sIGtleTpcbiAgZG9jdW1lbnQub25rZXl1cCA9IG51bGw7XG4gIGRvY3VtZW50Lm9ua2V5ZG93biA9IG51bGw7XG59XG5cbi8qKlxuKlxuKlxuKlxuKlxuKi9cbmNvbnN0IGNvbXAgPSAodGVzdF92YWx1ZSwgcmVmX3ZhbHVlLCBzZXJpZV9pbnZlcnNlZCkgPT4ge1xuICBpZiAodGVzdF92YWx1ZSA8IHJlZl92YWx1ZSkge1xuICAgIHJldHVybiBzZXJpZV9pbnZlcnNlZCA/IGNvbG9yX3N1cCA6IGNvbG9yX2luZjtcbiAgfVxuICByZXR1cm4gc2VyaWVfaW52ZXJzZWQgPyBjb2xvcl9pbmYgOiBjb2xvcl9zdXA7XG59O1xuXG5cbi8qKlxuKlxuKlxuKlxuKlxuKi9cbmNvbnN0IGNvbXAyID0gKHZhbDEsIHZhbDIsIHJlZl92YWwxLCByZWZfdmFsMiwgeEludmVyc2VkLCB5SW52ZXJzZWQpID0+IHtcbiAgaWYgKCh2YWwxIDwgcmVmX3ZhbDEgJiYgIXhJbnZlcnNlZCkgfHwgKHZhbDEgPiByZWZfdmFsMSAmJiB4SW52ZXJzZWQpKSB7IC8vIHZhbDEgaXMgaW5mZXJpb3I6XG4gICAgaWYgKHZhbDIgPCByZWZfdmFsMikge1xuICAgICAgcmV0dXJuIHlJbnZlcnNlZCA/ICdyZ2IoMTYwLCAzMCwgMTYwKScgOiBjb2xvcl9pbmY7XG4gICAgfVxuICAgIHJldHVybiB5SW52ZXJzZWQgPyBjb2xvcl9pbmYgOiAncmdiKDE2MCwgMzAsIDE2MCknO1xuICB9XG4gIC8vIHZhbDEgaXMgc3VwZXJpb3IgOlxuICBpZiAodmFsMiA+IHJlZl92YWwyKSB7XG4gICAgcmV0dXJuICF5SW52ZXJzZWQgPyBjb2xvcl9zdXAgOiAncmdiKDE2MCwgMzAsIDE2MCknO1xuICB9XG4gIHJldHVybiAheUludmVyc2VkID8gJ3JnYigxNjAsIDMwLCAxNjApJyA6IGNvbG9yX3N1cDtcbn07XG5cbmNsYXNzIFJlY3Qge1xuICBjb25zdHJ1Y3Rvcih0b3BsZWZ0LCBib3R0b21yaWdodCkge1xuICAgIHRoaXMueG1pbiA9IHRvcGxlZnRbMF07XG4gICAgdGhpcy54bWF4ID0gYm90dG9tcmlnaHRbMF07XG4gICAgdGhpcy55bWluID0gdG9wbGVmdFsxXTtcbiAgICB0aGlzLnltYXggPSBib3R0b21yaWdodFsxXTtcbiAgfVxuXG4gIGNvbnRhaW5zKHB0KSB7XG4gICAgaWYgKHB0WzBdID49IHRoaXMueG1pbiAmJiBwdFswXSA8PSB0aGlzLnhtYXhcbiAgICAgICAgJiYgcHRbMV0gPj0gdGhpcy55bWluICYmIHB0WzFdIDw9IHRoaXMueW1heCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5jb25zdCBQcm9wU2l6ZXIgPSBmdW5jdGlvbiBQcm9wU2l6ZXIoZml4ZWRfdmFsdWUsIGZpeGVkX3NpemUpIHtcbiAgdGhpcy5maXhlZF92YWx1ZSA9IGZpeGVkX3ZhbHVlO1xuICBjb25zdCBzcXJ0ID0gTWF0aC5zcXJ0O1xuICBjb25zdCBhYnMgPSBNYXRoLmFicztcbiAgY29uc3QgUEkgPSBNYXRoLlBJO1xuICB0aGlzLnNtYXggPSBmaXhlZF9zaXplICogZml4ZWRfc2l6ZSAqIFBJO1xuICB0aGlzLnNjYWxlID0gdmFsID0+IHNxcnQoYWJzKHZhbCkgKiB0aGlzLnNtYXggLyB0aGlzLmZpeGVkX3ZhbHVlKSAvIFBJO1xuICAvLyB0aGlzLmdldF92YWx1ZSA9IHNpemUgPT4gKChzaXplICogUEkpICoqIDIpIC8gdGhpcy5zbWF4ICogdGhpcy5maXhlZF92YWx1ZTtcbiAgLy8gVXNlIE1hdGggcG93IHRvIHN1cHBvcnQgYnJvd3NlciB3aXRob3V0ICoqIG9wZXJhdG9yOlxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1wcm9wZXJ0aWVzXG4gIHRoaXMuZ2V0X3ZhbHVlID0gc2l6ZSA9PiBNYXRoLnBvdyhzaXplICogUEksIDIpIC8gdGhpcy5zbWF4ICogdGhpcy5maXhlZF92YWx1ZTtcbn07XG5cbmNvbnN0IHJlbW92ZUR1cGxpY2F0ZXMgPSBmdW5jdGlvbiByZW1vdmVEdXBsaWNhdGVzKGFycikge1xuICBjb25zdCB0bXAgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbl9hcnIgPSBhcnIubGVuZ3RoOyBpIDwgbGVuX2FycjsgaSsrKSB7XG4gICAgaWYgKHRtcC5pbmRleE9mKGFycltpXSkgPT09IC0xKSB7XG4gICAgICB0bXAucHVzaChhcnJbaV0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdG1wO1xufTtcblxuY29uc3QgZ2V0U3ZnUGF0aFR5cGUgPSAocGF0aCkgPT4ge1xuICBpZiAocGF0aC5pbmRleE9mKCdNICcpID4gLTEgJiYgcGF0aC5pbmRleE9mKCcgTCAnKSA+IC0xKSB7XG4gICAgcmV0dXJuIDI7XG4gIH1cbiAgcmV0dXJuIDE7XG59O1xuXG5jb25zdCBzdmdQYXRoVG9Db29yZHMgPSAocGF0aCwgdHlwZV9wYXRoKSA9PiB7XG4gIGlmICh0eXBlX3BhdGggPT09IDEpIHtcbiAgICByZXR1cm4gcGF0aC5zbGljZSgxKS5zcGxpdCgnTCcpLm1hcChwdCA9PiBwdC5zcGxpdCgnLCcpLm1hcChhID0+ICthKSk7XG4gIH1cbiAgcmV0dXJuIHBhdGguc2xpY2UoMikuc3BsaXQoJyBMICcpLm1hcChwdCA9PiBwdC5zcGxpdCgnICcpLm1hcChhID0+ICthKSk7XG59O1xuXG5mdW5jdGlvbiBjb21wdXRlUGVyY2VudGlsZVJhbmsob2JqLCBmaWVsZF9uYW1lLCByZXN1bHRfZmllbGRfbmFtZSkge1xuICBjb25zdCB2YWx1ZXMgPSBvYmoubWFwKGQgPT4gZFtmaWVsZF9uYW1lXSk7XG4gIGNvbnN0IGxlbl92YWx1ZXMgPSB2YWx1ZXMubGVuZ3RoO1xuICBjb25zdCBnZXRQUiA9ICh2KSA9PiB7XG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbl92YWx1ZXM7IGkrKykge1xuICAgICAgaWYgKHZhbHVlc1tpXSA8PSB2KSB7XG4gICAgICAgIGNvdW50ICs9IDE7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAxMDAgKiBjb3VudCAvIGxlbl92YWx1ZXM7XG4gIH07XG4gIGZvciAobGV0IGl4ID0gMDsgaXggPCBsZW5fdmFsdWVzOyBpeCsrKSB7XG4gICAgb2JqW2l4XVtyZXN1bHRfZmllbGRfbmFtZV0gPSBnZXRQUih2YWx1ZXNbaXhdKTtcbiAgfVxufVxuXG5jb25zdCBfZ2V0UFIgPSAodiwgc2VyaWUpID0+IHtcbiAgbGV0IGNvdW50ID0gMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXJpZS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzZXJpZVtpXSA8PSB2KSB7XG4gICAgICBjb3VudCArPSAxO1xuICAgIH1cbiAgfVxuICByZXR1cm4gMTAwICogY291bnQgLyBzZXJpZS5sZW5ndGg7XG59O1xuXG5leHBvcnQge1xuICBjb21wLFxuICBjb21wMixcbiAgbWF0aF9hYnMsXG4gIG1hdGhfcm91bmQsXG4gIFJlY3QsXG4gIFByb3BTaXplcixcbiAgdW5iaW5kVUksXG4gIHByZXBhcmVUb29sdGlwLFxuICByZW1vdmVEdXBsaWNhdGVzLFxuICBnZXRTdmdQYXRoVHlwZSxcbiAgc3ZnUGF0aFRvQ29vcmRzLFxuICBjb21wdXRlUGVyY2VudGlsZVJhbmssXG4gIF9nZXRQUixcbn07XG4iLCJpbXBvcnQgeyByZW1vdmVEdXBsaWNhdGVzIH0gZnJvbSAnLi9oZWxwZXJzJztcblxuY29uc3QgY3JlYXRlTWVudSA9IGZ1bmN0aW9uIGNyZWF0ZU1lbnUobmFtZXMsIHZhcmlhYmxlcywgc3R1ZHlfem9uZXMsIHRlcnJpdG9yaWFsX21lc2gpIHtcbiAgLy8gRmlyc3Qgc2VjdGlvbiwgcmVnaW9ucyBuYW1lczpcbiAgY29uc3QgdGl0bGVfc2VjdGlvbjEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gIHRpdGxlX3NlY3Rpb24xLmNsYXNzTmFtZSA9ICd0aXRsZV9tZW51JztcbiAgdGl0bGVfc2VjdGlvbjEuaW5uZXJIVE1MID0gJ01hIHLDqWdpb24nO1xuICBjb25zdCBzZWN0aW9uMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBzZWN0aW9uMS5jbGFzc05hbWUgPSAnYm94JztcbiAgc2VjdGlvbjEuc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7XG4gIHNlY3Rpb24xLnN0eWxlLmhlaWdodCA9ICcyMDBweCc7XG4gIGZvciAobGV0IGkgPSAwLCBsZW5faSA9IG5hbWVzLmxlbmd0aDsgaSA8IGxlbl9pOyBpKyspIHtcbiAgICBjb25zdCBpZCA9IG5hbWVzW2ldLmdlbztcbiAgICBjb25zdCBuYW1lID0gbmFtZXNbaV0uTm9tO1xuICAgIGNvbnN0IGVudHJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGVudHJ5LmlubmVySFRNTCA9IGA8c3BhbiB2YWx1ZT1cIiR7aWR9XCIgY2xhc3M9J3RhcmdldF9yZWdpb24gc3F1YXJlJz48L3NwYW4+PHNwYW4gY2xhc3M9XCJsYWJlbF9jaGtcIj4ke25hbWV9PC9zcGFuPmA7XG4gICAgc2VjdGlvbjEuYXBwZW5kQ2hpbGQoZW50cnkpO1xuICB9XG5cbiAgLy8gU2Vjb25kIHNlY3Rpb24sIGdyb3VwcyBvZiB2YXJpYWJsZXM6XG4gIGNvbnN0IHRpdGxlX3NlY3Rpb24yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICB0aXRsZV9zZWN0aW9uMi5jbGFzc05hbWUgPSAndGl0bGVfbWVudSc7XG4gIHRpdGxlX3NlY3Rpb24yLmlubmVySFRNTCA9ICdNb24vbWVzIGluZGljYXRldXJzJztcbiAgY29uc3Qgc2VjdGlvbjIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgc2VjdGlvbjIuY2xhc3NOYW1lID0gJ2JveCc7XG5cbiAgLy8gRmlsdGVyIHRoZSBcInZhcmlhYmxlc1wiIHZhcmlhYmxlIHRvIGZldGNoIHRoZSBncm91cCBuYW1lcyA6XG4gIGNvbnN0IGdyb3Vwc192YXIgPSByZW1vdmVEdXBsaWNhdGVzKHZhcmlhYmxlcy5tYXAoZCA9PiBkLmdyb3VwKSk7XG5cbiAgZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gZ3JvdXBzX3Zhci5sZW5ndGg7IGkgPCBsZW5faTsgaSsrKSB7XG4gICAgY29uc3QgZ3BfbmFtZSA9IGdyb3Vwc192YXJbaV07XG4gICAgY29uc3QgZW50cnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgZW50cnkuaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPSdzcXVhcmUnPjwvc3Bhbj48c3Bhbj4ke2dwX25hbWV9PC9zcGFuPmA7XG4gICAgc2VjdGlvbjIuYXBwZW5kQ2hpbGQoZW50cnkpO1xuICAgIGNvbnN0IHZhcl9uYW1lcyA9IHZhcmlhYmxlcy5maWx0ZXIoZCA9PiBkLmdyb3VwID09PSBncF9uYW1lKTtcbiAgICBmb3IgKGxldCBqID0gMCwgbGVuX2ogPSB2YXJfbmFtZXMubGVuZ3RoOyBqIDwgbGVuX2o7IGorKykge1xuICAgICAgY29uc3QgbmFtZV92YXIgPSB2YXJfbmFtZXNbal0ubmFtZTtcbiAgICAgIGNvbnN0IGNvZGVfdmFyID0gdmFyX25hbWVzW2pdLnJhdGlvO1xuICAgICAgY29uc3Qgc3ViX2VudHJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgc3ViX2VudHJ5LmNsYXNzTmFtZSA9ICdzbWFsbCc7XG4gICAgICBzdWJfZW50cnkuaW5uZXJIVE1MID0gYDxzcGFuIHZhbHVlPVwiJHtjb2RlX3Zhcn1cIiBjbGFzcz1cInRhcmdldF92YXJpYWJsZSBzbWFsbF9zcXVhcmVcIj48L3NwYW4+PHNwYW4gY2xhc3M9XCJsYWJlbF9jaGtcIj4ke25hbWVfdmFyfTwvc3Bhbj5gO1xuICAgICAgc2VjdGlvbjIuYXBwZW5kQ2hpbGQoc3ViX2VudHJ5KTtcbiAgICB9XG4gIH1cblxuICAvLyBUaGlyZCBzZWN0aW9uLCBzdHVkeSB6b25lOlxuICBjb25zdCB0aXRsZV9zZWN0aW9uMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgdGl0bGVfc2VjdGlvbjMuY2xhc3NOYW1lID0gJ3RpdGxlX21lbnUnO1xuICB0aXRsZV9zZWN0aW9uMy5pbm5lckhUTUwgPSAnTW9uIGVzcGFjZSBkXFwnw6l0dWRlJztcbiAgY29uc3Qgc2VjdGlvbjMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgc2VjdGlvbjMuY2xhc3NOYW1lID0gJ2JveCc7XG4gIGZvciAobGV0IGkgPSAwLCBsZW5faSA9IHN0dWR5X3pvbmVzLmxlbmd0aDsgaSA8IGxlbl9pOyBpKyspIHtcbiAgICBjb25zdCBlbnRyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBjb25zdCB6b25lID0gc3R1ZHlfem9uZXNbaV07XG4gICAgZW50cnkuaW5uZXJIVE1MID0gYDxzcGFuIGZpbHRlci12YWx1ZT1cIiR7em9uZS5pZH1cIiBjbGFzcz0nZmlsdGVyX3Ygc3F1YXJlJz48L3NwYW4+PHNwYW4gY2xhc3M9XCJsYWJlbF9jaGtcIj4ke3pvbmUubmFtZX08L3NwYW4+YDtcbiAgICBzZWN0aW9uMy5hcHBlbmRDaGlsZChlbnRyeSk7XG4gIH1cblxuICAvLyBGb3VydGggc2VjdGlvbjpcbiAgY29uc3QgdGl0bGVfc2VjdGlvbjQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gIHRpdGxlX3NlY3Rpb240LmNsYXNzTmFtZSA9ICd0aXRsZV9tZW51JztcbiAgdGl0bGVfc2VjdGlvbjQuaW5uZXJIVE1MID0gJ01haWxsYWdlIHRlcnJpdG9yaWFsIGRcXCdhbmFseXNlJztcbiAgY29uc3Qgc2VjdGlvbjQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgc2VjdGlvbjQuY2xhc3NOYW1lID0gJ2JveCc7XG4gIGZvciAobGV0IGkgPSAwLCBsZW5faSA9IHRlcnJpdG9yaWFsX21lc2gubGVuZ3RoOyBpIDwgbGVuX2k7IGkrKykge1xuICAgIGNvbnN0IGVudHJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGNvbnN0IHRlcnJpdF9sZXZlbCA9IHRlcnJpdG9yaWFsX21lc2hbaV07XG4gICAgZW50cnkuaW5uZXJIVE1MID0gYDxzcGFuIHZhbHVlPVwiJHt0ZXJyaXRfbGV2ZWwuaWR9XCIgY2xhc3M9J3NxdWFyZSB0ZXJyaXRfbGV2ZWwnPjwvc3Bhbj48c3BhbiBjbGFzcz1cImxhYmVsX2Noa1wiPiR7dGVycml0X2xldmVsLm5hbWV9PC9zcGFuPmA7XG4gICAgc2VjdGlvbjQuYXBwZW5kQ2hpbGQoZW50cnkpO1xuICB9XG5cbiAgLy8gVGhlIGFjdHVhbCBtZW51IGNvbnRhaW5pbmcgdGhlc2UgNCBzZWN0aW9uczpcbiAgY29uc3QgbWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZW51Jyk7XG4gIG1lbnUuaWQgPSAnbWVudSc7XG4gIG1lbnUuc3R5bGUud2lkdGggPSAnMzQwcHgnO1xuICBtZW51LnN0eWxlLmZsb2F0ID0gJ2xlZnQnO1xuICBtZW51LmFwcGVuZENoaWxkKHRpdGxlX3NlY3Rpb24xKTtcbiAgbWVudS5hcHBlbmRDaGlsZChzZWN0aW9uMSk7XG4gIG1lbnUuYXBwZW5kQ2hpbGQodGl0bGVfc2VjdGlvbjIpO1xuICBtZW51LmFwcGVuZENoaWxkKHNlY3Rpb24yKTtcbiAgbWVudS5hcHBlbmRDaGlsZCh0aXRsZV9zZWN0aW9uMyk7XG4gIG1lbnUuYXBwZW5kQ2hpbGQoc2VjdGlvbjMpO1xuICBtZW51LmFwcGVuZENoaWxkKHRpdGxlX3NlY3Rpb240KTtcbiAgbWVudS5hcHBlbmRDaGlsZChzZWN0aW9uNCk7XG59O1xuXG5leHBvcnQgeyBjcmVhdGVNZW51IH07XG4iLCJpbXBvcnQgeyBhcHAgfSBmcm9tICcuLy4uL21haW4nO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlVG9wTWVudSgpIHtcbiAgY29uc3QgdG9wX21lbnUgPSBkMy5zZWxlY3QoJyNtZW51dG9wJylcbiAgICAuc3R5bGVzKHsgJ2ZvbnQtZmFtaWx5JzogXCInU2lnbmlrYScsIHNhbnMtc2VyaWZcIiwgJ2ZvbnQtc2l6ZSc6ICcwLjgwZW0nLCBwYWRkaW5nOiAnMC4zcHgnIH0pO1xuICBjb25zdCB3aWR0aF9sZWZ0ID0gYCR7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21lbnUnKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCArIDI1fXB4YDtcbiAgY29uc3QgdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNiYXJfc2VjdGlvbicpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xuICBjb25zdCB3aWR0aF9jZW50cmFsX2NoYXJ0ID0gYCR7dH1weGA7XG4gIGNvbnN0IHdpZHRoX21hcCA9IGAke2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtYXBfc2VjdGlvbicpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoIC0gMzV9cHhgO1xuICBjb25zdCB3aWR0aF90eXBlX2NvbXAgPSBgJHsodCAtIDgwKSAvIDMgLSAyfXB4YDtcbiAgdG9wX21lbnVcbiAgICAuYXBwZW5kKCdkaXYnKVxuICAgIC5hdHRycyh7IGNsYXNzOiAndGl0bGVfc2VjdGlvbicgfSlcbiAgICAuc3R5bGVzKHsgd2lkdGg6IHdpZHRoX2xlZnQsIGZsb2F0OiAnbGVmdCcsIG1hcmdpbjogJzAgM3B4JyB9KVxuICAgIC5odG1sKCdTw4lMRUNUSU9OJyk7XG5cbiAgY29uc3QgdHlwZV9jaGFydCA9IHRvcF9tZW51XG4gICAgLmFwcGVuZCgnZGl2JylcbiAgICAuYXR0cignY2xhc3MnLCAndG9wX3NlY3Rpb24nKVxuICAgIC5zdHlsZXMoeyB3aWR0aDogd2lkdGhfY2VudHJhbF9jaGFydCwgZmxvYXQ6ICdsZWZ0JywgbWFyZ2luOiAnMCAzcHgnLCAndGV4dC1hbGlnbic6ICdjZW50ZXInIH0pO1xuXG4gIGNvbnN0IHBvc2l0aW9uID0gdHlwZV9jaGFydFxuICAgIC5hcHBlbmQoJ2RpdicpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ3R5cGVfY29tcGFyYWlzb24nKVxuICAgIC5zdHlsZXMoeyB3aWR0aDogd2lkdGhfdHlwZV9jb21wIH0pO1xuXG4gIHBvc2l0aW9uLmFwcGVuZCgncCcpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ3RpdGxlX3R5cGVfY29tcCcpXG4gICAgLmh0bWwoJ1BPU0lUSU9OJyk7XG5cbiAgcG9zaXRpb24uYXBwZW5kKCdzcGFuJylcbiAgICAuYXR0cnMoeyBjbGFzczogJ3R5cGVfY2hhcnQgY2hhcnRfdDEnLCB2YWx1ZTogJ0JhckNoYXJ0MScgfSlcbiAgICAuaHRtbCgnMSBpbmQuJyk7XG5cbiAgcG9zaXRpb24uYXBwZW5kKCdzcGFuJylcbiAgLmF0dHJzKHsgY2xhc3M6ICd0eXBlX2NoYXJ0IGNoYXJ0X3QyIGRpc2FibGVkJywgdmFsdWU6ICdTY2F0dGVyUGxvdDInIH0pXG4gICAgLmh0bWwoJzIgaW5kLicpO1xuXG4gIHBvc2l0aW9uLmFwcGVuZCgnc3BhbicpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ3R5cGVfY2hhcnQgY2hhcnRfdDMgZGlzYWJsZWQnKVxuICAgIC5odG1sKCcrMyBpbmQuJyk7XG5cbiAgY29uc3QgcmVzc2VtYmxhbmNlID0gdHlwZV9jaGFydFxuICAgIC5hcHBlbmQoJ2RpdicpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ3R5cGVfY29tcGFyYWlzb24nKVxuICAgIC5zdHlsZXMoeyB3aWR0aDogd2lkdGhfdHlwZV9jb21wIH0pO1xuXG4gIHJlc3NlbWJsYW5jZS5hcHBlbmQoJ3AnKVxuICAgIC5hdHRyKCdjbGFzcycsICd0aXRsZV90eXBlX2NvbXAnKVxuICAgIC5odG1sKCdSRVNTRU1CTEFOQ0VTJyk7XG5cbiAgcmVzc2VtYmxhbmNlLmFwcGVuZCgnc3BhbicpXG4gICAgLmF0dHJzKHsgY2xhc3M6ICd0eXBlX2NoYXJ0IGNoYXJ0X3QxJywgdmFsdWU6ICdCdWJibGVDaGFydDEnIH0pXG4gICAgLmh0bWwoJzEgaW5kLicpO1xuXG4gIHJlc3NlbWJsYW5jZS5hcHBlbmQoJ3NwYW4nKVxuICAgIC5hdHRyKCdjbGFzcycsICd0eXBlX2NoYXJ0IGNoYXJ0X3QyIGRpc2FibGVkJylcbiAgICAuaHRtbCgnKzIgaW5kLicpO1xuXG4gIGNvbnN0IGluZWdhbGl0ZSA9IHR5cGVfY2hhcnRcbiAgICAuYXBwZW5kKCdkaXYnKVxuICAgIC5hdHRyKCdjbGFzcycsICd0eXBlX2NvbXBhcmFpc29uJylcbiAgICAuc3R5bGVzKHsgd2lkdGg6IHdpZHRoX3R5cGVfY29tcCB9KTtcblxuICBpbmVnYWxpdGUuYXBwZW5kKCdwJylcbiAgICAuYXR0cignY2xhc3MnLCAndGl0bGVfdHlwZV9jb21wJylcbiAgICAuaHRtbCgnSU7DiUdBTElUw4lTJyk7XG5cbiAgaW5lZ2FsaXRlLmFwcGVuZCgnc3BhbicpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ3R5cGVfY2hhcnQgY2hhcnRfdDEgZGlzYWJsZWQnKVxuICAgIC5odG1sKCcxIGluZC4nKTtcblxuICBpbmVnYWxpdGUuYXBwZW5kKCdzcGFuJylcbiAgICAuYXR0cignY2xhc3MnLCAndHlwZV9jaGFydCBjaGFydF90MiBkaXNhYmxlZCcpXG4gICAgLmh0bWwoJysyIGluZC4nKTtcblxuICB0b3BfbWVudVxuICAgIC5hcHBlbmQoJ2RpdicpXG4gICAgLmF0dHJzKHsgY2xhc3M6ICd0aXRsZV9zZWN0aW9uJyB9KVxuICAgIC5zdHlsZXMoeyB3aWR0aDogd2lkdGhfbWFwLCBmbG9hdDogJ2xlZnQnLCBtYXJnaW46ICcwIDAgMCAyMHB4JyB9KVxuICAgIC5odG1sKCdRVUVMTEVTIFJFR0lPTlMgPycpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZUhlYWRlck1hcFNlY3Rpb24oKSB7XG4gIGNvbnN0IGhlYWRlcl9tYXBfc2VjdGlvbiA9IGQzLnNlbGVjdCgnI21hcF9zZWN0aW9uJylcbiAgICAuaW5zZXJ0KCdwJywgJ3N2ZycpXG4gICAgLmF0dHIoJ2lkJywgJ2hlYWRlcl9tYXAnKVxuICAgIC5zdHlsZSgnbWFyZ2luJywgJzAgMCAwIDEwcHgnKTtcblxuICBoZWFkZXJfbWFwX3NlY3Rpb24uaW5zZXJ0KCdpbWcnKVxuICAgIC5hdHRycyh7XG4gICAgICBjbGFzczogJ21hcF9idXR0b24gYWN0aXZlJyxcbiAgICAgIHdpZHRoOiAyMCxcbiAgICAgIGhlaWdodDogMjAsXG4gICAgICBzcmM6ICdpbWcvZ2ltcC10b29sLXJlY3Qtc2VsZWN0LnBuZycsXG4gICAgICBpZDogJ2ltZ19yZWN0X3NlbGVjJyxcbiAgICB9KTtcblxuICBoZWFkZXJfbWFwX3NlY3Rpb24uaW5zZXJ0KCdpbWcnKVxuICAgIC5hdHRycyh7XG4gICAgICBjbGFzczogJ21hcF9idXR0b24nLFxuICAgICAgd2lkdGg6IDIwLFxuICAgICAgaGVpZ2h0OiAyMCxcbiAgICAgIHNyYzogJ2ltZy9naW1wLXRvb2wtem9vbS5wbmcnLFxuICAgICAgaWQ6ICdpbWdfbWFwX3pvb20nLFxuICAgIH0pO1xuXG4gIGhlYWRlcl9tYXBfc2VjdGlvbi5pbnNlcnQoJ2ltZycpXG4gICAgLmF0dHJzKHtcbiAgICAgIGNsYXNzOiAnbWFwX2J1dHRvbicsXG4gICAgICB3aWR0aDogMjAsXG4gICAgICBoZWlnaHQ6IDIwLFxuICAgICAgc3JjOiAnaW1nL2dpbXAtY3Vyc29yLnBuZycsXG4gICAgICBpZDogJ2ltZ19tYXBfc2VsZWN0JyxcbiAgICB9KTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZUhlYWRlckNoYXJ0KCkge1xuICBjb25zdCBoZWFkZXJfYmFyX3NlY3Rpb24gPSBkMy5zZWxlY3QoJyNiYXJfc2VjdGlvbicpXG4gICAgLmluc2VydCgncCcsICdzdmcnKVxuICAgIC5hdHRyKCdpZCcsICdoZWFkZXJfY2hhcnQnKVxuICAgIC5zdHlsZSgnbWFyZ2luLWJvdHRvbScsICcwJylcbiAgICAuc3R5bGUoJ2NsZWFyJywgJ2JvdGgnKTtcblxuICBoZWFkZXJfYmFyX3NlY3Rpb24uaW5zZXJ0KCdpbWcnKVxuICAgIC5hdHRycyh7XG4gICAgICB3aWR0aDogMjQsXG4gICAgICBoZWlnaHQ6IDI0LFxuICAgICAgc3JjOiAnaW1nL2VkaXQtdGFibGUtaW5zZXJ0LXJvdy1hYm92ZS5zdmcnLFxuICAgICAgaWQ6ICdpbWdfdGFibGUnLFxuICAgIH0pXG4gICAgLnN0eWxlcyh7IG1hcmdpbjogJzNweCcsIGZsb2F0OiAncmlnaHQnIH0pXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGF0YVRhYmxlLXdyYXBwZXInKS5zdHlsZS5kaXNwbGF5KSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzdmdfbWFwJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N2Z19sZWdlbmQnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaGVhZGVyX21hcCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNoZWFkZXJfdGFibGUnKS5zdHlsZS5kaXNwbGF5ID0gbnVsbDtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRhdGFUYWJsZS13cmFwcGVyJykuc3R5bGUuZGlzcGxheSA9IG51bGw7XG4gICAgICAgIHRoaXMuc3R5bGUuZmlsdGVyID0gJ2ludmVydCg3NSUpJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzdmdfbWFwJykuc3R5bGUuZGlzcGxheSA9IG51bGw7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzdmdfbGVnZW5kJykuc3R5bGUuZGlzcGxheSA9IG51bGw7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNoZWFkZXJfbWFwJykuc3R5bGUuZGlzcGxheSA9IG51bGw7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNoZWFkZXJfdGFibGUnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGF0YVRhYmxlLXdyYXBwZXInKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB0aGlzLnN0eWxlLmZpbHRlciA9IG51bGw7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgaGVhZGVyX2Jhcl9zZWN0aW9uLmluc2VydCgnaW1nJylcbiAgICAuYXR0cnMoe1xuICAgICAgd2lkdGg6IDI0LFxuICAgICAgaGVpZ2h0OiAyNCxcbiAgICAgIHNyYzogJ2ltZy9wcmludGVyLnN2ZycsXG4gICAgICBpZDogJ2ltZ19wcmludGVyJyxcbiAgICB9KVxuICAgIC5zdHlsZXMoeyBtYXJnaW46ICczcHgnLCBmbG9hdDogJ3JpZ2h0JyB9KTtcblxuICBoZWFkZXJfYmFyX3NlY3Rpb24uaW5zZXJ0KCdpbWcnKVxuICAgIC5hdHRycyh7XG4gICAgICB3aWR0aDogMjQsXG4gICAgICBoZWlnaHQ6IDI0LFxuICAgICAgc3JjOiAnaW1nL2d0ay1pbmZvLnN2ZycsXG4gICAgICBpZDogJ2ltZ19pbmZvJyxcbiAgICB9KVxuICAgIC5zdHlsZXMoeyBtYXJnaW46ICczcHgnLCBmbG9hdDogJ3JpZ2h0JyB9KTtcbn1cbiIsIi8qIVxyXG4gKlxyXG4gKiBWYW5pbGxhLURhdGFUYWJsZXNcclxuICogQ29weXJpZ2h0IChjKSAyMDE1LTIwMTcgS2FybCBTYXVuZGVycyAoaHR0cDovL21vYml1cy5vdmgpXHJcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHApXHJcbiAqXHJcbiAqIFZlcnNpb246IDEuNC4xNVxyXG4gKlxyXG4gKi9cclxuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XHJcbiAgICB2YXIgcGx1Z2luID0gXCJEYXRhVGFibGVcIjtcclxuXHJcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcclxuICAgICAgICBkZWZpbmUoW10sIGZhY3RvcnkocGx1Z2luKSk7XHJcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHBsdWdpbik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJvb3RbcGx1Z2luXSA9IGZhY3RvcnkocGx1Z2luKTtcclxuICAgIH1cclxufSkodGhpcywgZnVuY3Rpb24gKHBsdWdpbikge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgICB2YXIgd2luID0gd2luZG93LFxyXG4gICAgICAgIGRvYyA9IGRvY3VtZW50LFxyXG4gICAgICAgIGJvZHkgPSBkb2MuYm9keTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlZmF1bHQgY29uZmlndXJhdGlvblxyXG4gICAgICogQHR5cCB7T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICB2YXIgZGVmYXVsdENvbmZpZyA9IHtcclxuICAgICAgICBwZXJQYWdlOiAxMCxcclxuICAgICAgICBwZXJQYWdlU2VsZWN0OiBbNSwgMTAsIDE1LCAyMCwgMjVdLFxyXG5cclxuICAgICAgICBzb3J0YWJsZTogdHJ1ZSxcclxuICAgICAgICBzZWFyY2hhYmxlOiB0cnVlLFxyXG5cclxuICAgICAgICAvLyBQYWdpbmF0aW9uXHJcbiAgICAgICAgbmV4dFByZXY6IHRydWUsXHJcbiAgICAgICAgZmlyc3RMYXN0OiBmYWxzZSxcclxuICAgICAgICBwcmV2VGV4dDogXCImbHNhcXVvO1wiLFxyXG4gICAgICAgIG5leHRUZXh0OiBcIiZyc2FxdW87XCIsXHJcbiAgICAgICAgZmlyc3RUZXh0OiBcIiZsYXF1bztcIixcclxuICAgICAgICBsYXN0VGV4dDogXCImcmFxdW87XCIsXHJcbiAgICAgICAgZWxsaXBzaXNUZXh0OiBcIiZoZWxsaXA7XCIsXHJcbiAgICAgICAgYXNjVGV4dDogXCLilrRcIixcclxuICAgICAgICBkZXNjVGV4dDogXCLilr5cIixcclxuICAgICAgICB0cnVuY2F0ZVBhZ2VyOiB0cnVlLFxyXG4gICAgICAgIHBhZ2VyRGVsdGE6IDIsXHJcblxyXG4gICAgICAgIGZpeGVkQ29sdW1uczogdHJ1ZSxcclxuICAgICAgICBmaXhlZEhlaWdodDogZmFsc2UsXHJcblxyXG4gICAgICAgIGhlYWRlcjogdHJ1ZSxcclxuICAgICAgICBmb290ZXI6IGZhbHNlLFxyXG5cclxuICAgICAgICAvLyBDdXN0b21pc2UgdGhlIGRpc3BsYXkgdGV4dFxyXG4gICAgICAgIGxhYmVsczoge1xyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJTZWFyY2guLi5cIiwgLy8gVGhlIHNlYXJjaCBpbnB1dCBwbGFjZWhvbGRlclxyXG4gICAgICAgICAgICBwZXJQYWdlOiBcIntzZWxlY3R9IGVudHJpZXMgcGVyIHBhZ2VcIiwgLy8gcGVyLXBhZ2UgZHJvcGRvd24gbGFiZWxcclxuICAgICAgICAgICAgbm9Sb3dzOiBcIk5vIGVudHJpZXMgZm91bmRcIiwgLy8gTWVzc2FnZSBzaG93biB3aGVuIHRoZXJlIGFyZSBubyBzZWFyY2ggcmVzdWx0c1xyXG4gICAgICAgICAgICBpbmZvOiBcIlNob3dpbmcge3N0YXJ0fSB0byB7ZW5kfSBvZiB7cm93c30gZW50cmllc1wiIC8vXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLy8gQ3VzdG9taXNlIHRoZSBsYXlvdXRcclxuICAgICAgICBsYXlvdXQ6IHtcclxuICAgICAgICAgICAgdG9wOiBcIntzZWxlY3R9e3NlYXJjaH1cIixcclxuICAgICAgICAgICAgYm90dG9tOiBcIntpbmZvfXtwYWdlcn1cIlxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpcyBpdGVtIGlzIG9iamVjdFxyXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgdmFyIGlzT2JqZWN0ID0gZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsKSA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIjtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpcyBpdGVtIGlzIGFycmF5XHJcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICB2YXIgaXNBcnJheSA9IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWwpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGZvciB2YWxpZCBKU09OIHN0cmluZ1xyXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgIHN0clxyXG4gICAgICogQHJldHVybiB7Qm9vbGVhbnxBcnJheXxPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIHZhciBpc0pzb24gPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICAgICAgdmFyIHQgPSAhMTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0ID0gSlNPTi5wYXJzZShzdHIpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuICExO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gIShudWxsID09PSB0IHx8ICghaXNBcnJheSh0KSAmJiAhaXNPYmplY3QodCkpKSAmJiB0O1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE1lcmdlIG9iamVjdHMgKHJlY2N1cnNpdmUpXHJcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IHJcclxuICAgICAqIEBwYXJhbSAge09iamVjdH0gdFxyXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICB2YXIgZXh0ZW5kID0gZnVuY3Rpb24gKHNyYywgcHJvcHMpIHtcclxuICAgICAgICBmb3IgKHZhciBwcm9wIGluIHByb3BzKSB7XHJcbiAgICAgICAgICAgIGlmIChwcm9wcy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhbCA9IHByb3BzW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbCAmJiBpc09iamVjdCh2YWwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3JjW3Byb3BdID0gc3JjW3Byb3BdIHx8IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIGV4dGVuZChzcmNbcHJvcF0sIHZhbCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHNyY1twcm9wXSA9IHZhbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3JjO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEl0ZXJhdG9yIGhlbHBlclxyXG4gICAgICogQHBhcmFtICB7KEFycmF5fE9iamVjdCl9ICAgYXJyICAgICBBbnkgb2JqZWN0LCBhcnJheSBvciBhcnJheS1saWtlIGNvbGxlY3Rpb24uXHJcbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gICAgICAgICBmbiAgICAgIENhbGxiYWNrXHJcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgICAgICAgICBzY29wZSAgIENoYW5nZSB0aGUgdmFsdWUgb2YgdGhpc1xyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgdmFyIGVhY2ggPSBmdW5jdGlvbiAoYXJyLCBmbiwgc2NvcGUpIHtcclxuICAgICAgICB2YXIgbjtcclxuICAgICAgICBpZiAoaXNPYmplY3QoYXJyKSkge1xyXG4gICAgICAgICAgICBmb3IgKG4gaW4gYXJyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGFyciwgbikpIHtcclxuICAgICAgICAgICAgICAgICAgICBmbi5jYWxsKHNjb3BlLCBhcnJbbl0sIG4pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZm9yIChuID0gMDsgbiA8IGFyci5sZW5ndGg7IG4rKykge1xyXG4gICAgICAgICAgICAgICAgZm4uY2FsbChzY29wZSwgYXJyW25dLCBuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgZXZlbnQgbGlzdGVuZXIgdG8gdGFyZ2V0XHJcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IGVsXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGVcclxuICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmblxyXG4gICAgICovXHJcbiAgICB2YXIgb24gPSBmdW5jdGlvbiAoZWwsIGUsIGZuKSB7XHJcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihlLCBmbiwgZmFsc2UpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBET00gZWxlbWVudCBub2RlXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgYSBub2RlTmFtZVxyXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgIGIgcHJvcGVydGllcyBhbmQgYXR0cmlidXRlc1xyXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICB2YXIgY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgdmFyIGQgPSBkb2MuY3JlYXRlRWxlbWVudChhKTtcclxuICAgICAgICBpZiAoYiAmJiBcIm9iamVjdFwiID09IHR5cGVvZiBiKSB7XHJcbiAgICAgICAgICAgIHZhciBlO1xyXG4gICAgICAgICAgICBmb3IgKGUgaW4gYikge1xyXG4gICAgICAgICAgICAgICAgaWYgKFwiaHRtbFwiID09PSBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZC5pbm5lckhUTUwgPSBiW2VdO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBkLnNldEF0dHJpYnV0ZShlLCBiW2VdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZDtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIGZsdXNoID0gZnVuY3Rpb24gKGVsLCBpZSkge1xyXG4gICAgICAgIGlmIChlbCBpbnN0YW5jZW9mIE5vZGVMaXN0KSB7XHJcbiAgICAgICAgICAgIGVhY2goZWwsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICBmbHVzaChlLCBpZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChpZSkge1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGVsLmhhc0NoaWxkTm9kZXMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLnJlbW92ZUNoaWxkKGVsLmZpcnN0Q2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZWwuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYnV0dG9uIGhlbHBlclxyXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgIGNcclxuICAgICAqIEBwYXJhbSAge051bWJlcn0gICBwXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgdFxyXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICB2YXIgYnV0dG9uID0gZnVuY3Rpb24gKGMsIHAsIHQpIHtcclxuICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudChcImxpXCIsIHtcclxuICAgICAgICAgICAgY2xhc3M6IGMsXHJcbiAgICAgICAgICAgIGh0bWw6ICc8YSBocmVmPVwiI1wiIGRhdGEtcGFnZT1cIicgKyBwICsgJ1wiPicgKyB0ICsgXCI8L2E+XCJcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBjbGFzc0xpc3Qgc2hpbVxyXG4gICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgdmFyIGNsYXNzTGlzdCA9IHtcclxuICAgICAgICBhZGQ6IGZ1bmN0aW9uIChzLCBhKSB7XHJcbiAgICAgICAgICAgIGlmIChzLmNsYXNzTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgcy5jbGFzc0xpc3QuYWRkKGEpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFjbGFzc0xpc3QuY29udGFpbnMocywgYSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzLmNsYXNzTmFtZSA9IHMuY2xhc3NOYW1lLnRyaW0oKSArIFwiIFwiICsgYTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiAocywgYSkge1xyXG4gICAgICAgICAgICBpZiAocy5jbGFzc0xpc3QpIHtcclxuICAgICAgICAgICAgICAgIHMuY2xhc3NMaXN0LnJlbW92ZShhKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChjbGFzc0xpc3QuY29udGFpbnMocywgYSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzLmNsYXNzTmFtZSA9IHMuY2xhc3NOYW1lLnJlcGxhY2UoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBSZWdFeHAoXCIoXnxcXFxccylcIiArIGEuc3BsaXQoXCIgXCIpLmpvaW4oXCJ8XCIpICsgXCIoXFxcXHN8JClcIiwgXCJnaVwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCIgXCJcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250YWluczogZnVuY3Rpb24gKHMsIGEpIHtcclxuICAgICAgICAgICAgaWYgKHMpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcy5jbGFzc0xpc3QgP1xyXG4gICAgICAgICAgICAgICAgICAgIHMuY2xhc3NMaXN0LmNvbnRhaW5zKGEpIDpcclxuICAgICAgICAgICAgICAgICAgICAhIXMuY2xhc3NOYW1lICYmXHJcbiAgICAgICAgICAgICAgICAgICAgISFzLmNsYXNzTmFtZS5tYXRjaChuZXcgUmVnRXhwKFwiKFxcXFxzfF4pXCIgKyBhICsgXCIoXFxcXHN8JClcIikpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBCdWJibGUgc29ydCBhbGdvcml0aG1cclxuICAgICAqL1xyXG4gICAgdmFyIHNvcnRJdGVtcyA9IGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgdmFyIGMsIGQ7XHJcbiAgICAgICAgaWYgKDEgPT09IGIpIHtcclxuICAgICAgICAgICAgYyA9IDA7XHJcbiAgICAgICAgICAgIGQgPSBhLmxlbmd0aDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoYiA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIGMgPSBhLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgICAgICBkID0gLTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICh2YXIgZSA9ICEwOyBlOykge1xyXG4gICAgICAgICAgICBlID0gITE7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGYgPSBjOyBmICE9IGQ7IGYgKz0gYikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFbZiArIGJdICYmIGFbZl0udmFsdWUgPiBhW2YgKyBiXS52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBnID0gYVtmXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaCA9IGFbZiArIGJdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpID0gZztcclxuICAgICAgICAgICAgICAgICAgICBhW2ZdID0gaDtcclxuICAgICAgICAgICAgICAgICAgICBhW2YgKyBiXSA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgZSA9ICEwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFBhZ2VyIHRydW5jYXRpb24gYWxnb3JpdGhtXHJcbiAgICAgKi9cclxuICAgIHZhciB0cnVuY2F0ZSA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkLCBlbGxpcHNpcykge1xyXG4gICAgICAgIGQgPSBkIHx8IDI7XHJcbiAgICAgICAgdmFyIGosXHJcbiAgICAgICAgICAgIGUgPSAyICogZCxcclxuICAgICAgICAgICAgZiA9IGIgLSBkLFxyXG4gICAgICAgICAgICBnID0gYiArIGQsXHJcbiAgICAgICAgICAgIGggPSBbXSxcclxuICAgICAgICAgICAgaSA9IFtdO1xyXG4gICAgICAgIGlmIChiIDwgNCAtIGQgKyBlKSB7XHJcbiAgICAgICAgICAgIGcgPSAzICsgZTtcclxuICAgICAgICB9IGVsc2UgaWYgKGIgPiBjIC0gKDMgLSBkICsgZSkpIHtcclxuICAgICAgICAgICAgZiA9IGMgLSAoMiArIGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHZhciBrID0gMTsgayA8PSBjOyBrKyspIHtcclxuICAgICAgICAgICAgaWYgKDEgPT0gayB8fCBrID09IGMgfHwgKGsgPj0gZiAmJiBrIDw9IGcpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbCA9IGFbayAtIDFdO1xyXG4gICAgICAgICAgICAgICAgY2xhc3NMaXN0LnJlbW92ZShsLCBcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgICAgIGgucHVzaChsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlYWNoKGgsIGZ1bmN0aW9uIChjKSB7XHJcbiAgICAgICAgICAgIHZhciBkID0gYy5jaGlsZHJlblswXS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBhZ2VcIik7XHJcbiAgICAgICAgICAgIGlmIChqKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZSA9IGouY2hpbGRyZW5bMF0uZ2V0QXR0cmlidXRlKFwiZGF0YS1wYWdlXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGQgLSBlID09IDIpIGkucHVzaChhW2VdKTtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGQgLSBlICE9IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZiA9IGNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiBcImVsbGlwc2lzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw6ICc8YSBocmVmPVwiI1wiPicgKyBlbGxpcHNpcyArIFwiPC9hPlwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaS5wdXNoKGYpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGkucHVzaChjKTtcclxuICAgICAgICAgICAgaiA9IGM7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFBhcnNlIGRhdGEgdG8gSFRNTCB0YWJsZVxyXG4gICAgICovXHJcbiAgICB2YXIgZGF0YVRvVGFibGUgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIHZhciB0aGVhZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICB0Ym9keSA9IGZhbHNlO1xyXG5cclxuICAgICAgICBkYXRhID0gZGF0YSB8fCB0aGlzLm9wdGlvbnMuZGF0YTtcclxuXHJcbiAgICAgICAgaWYgKGRhdGEuaGVhZGluZ3MpIHtcclxuICAgICAgICAgICAgdGhlYWQgPSBjcmVhdGVFbGVtZW50KFwidGhlYWRcIik7XHJcbiAgICAgICAgICAgIHZhciB0ciA9IGNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcclxuICAgICAgICAgICAgZWFjaChkYXRhLmhlYWRpbmdzLCBmdW5jdGlvbiAoY29sKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGQgPSBjcmVhdGVFbGVtZW50KFwidGhcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIGh0bWw6IGNvbFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhlYWQuYXBwZW5kQ2hpbGQodHIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGRhdGEuZGF0YSkge1xyXG4gICAgICAgICAgICB0Ym9keSA9IGNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiKTtcclxuICAgICAgICAgICAgZWFjaChkYXRhLmRhdGEsIGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5oZWFkaW5ncykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmhlYWRpbmdzLmxlbmd0aCAhPT0gcm93cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJUaGUgbnVtYmVyIG9mIHJvd3MgZG8gbm90IG1hdGNoIHRoZSBudW1iZXIgb2YgaGVhZGluZ3MuXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgdHIgPSBjcmVhdGVFbGVtZW50KFwidHJcIik7XHJcbiAgICAgICAgICAgICAgICBlYWNoKHJvd3MsIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZCA9IGNyZWF0ZUVsZW1lbnQoXCJ0ZFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw6IHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0Ym9keS5hcHBlbmRDaGlsZCh0cik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoZWFkKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRhYmxlLnRIZWFkICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlLnJlbW92ZUNoaWxkKHRoaXMudGFibGUudEhlYWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudGFibGUuYXBwZW5kQ2hpbGQodGhlYWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRib2R5KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRhYmxlLnRCb2RpZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlLnJlbW92ZUNoaWxkKHRoaXMudGFibGUudEJvZGllc1swXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy50YWJsZS5hcHBlbmRDaGlsZCh0Ym9keSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFVzZSBtb21lbnQuanMgdG8gcGFyc2UgY2VsbCBjb250ZW50cyBmb3Igc29ydGluZ1xyXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBjb250ZW50ICAgICBUaGUgZGF0ZXRpbWUgc3RyaW5nIHRvIHBhcnNlXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGZvcm1hdCAgICAgIFRoZSBmb3JtYXQgZm9yIG1vbWVudCB0byB1c2VcclxuICAgICAqIEByZXR1cm4ge1N0cmluZ3xCb29sZWFufSAgICAgRGF0YXRpbWUgc3RyaW5nIG9yIGZhbHNlXHJcbiAgICAgKi9cclxuICAgIHZhciBwYXJzZURhdGUgPSBmdW5jdGlvbiAoY29udGVudCwgZm9ybWF0KSB7XHJcbiAgICAgICAgdmFyIGRhdGUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gbW9tZW50KCkgdGhyb3dzIGEgZml0IGlmIHRoZSBzdHJpbmcgaXNuJ3QgYSB2YWxpZCBkYXRldGltZSBzdHJpbmdcclxuICAgICAgICAvLyBzbyB3ZSBuZWVkIHRvIHN1cHBseSB0aGUgZm9ybWF0IHRvIHRoZSBjb25zdHJ1Y3RvciAoaHR0cHM6Ly9tb21lbnRqcy5jb20vZG9jcy8jL3BhcnNpbmcvc3RyaW5nLWZvcm1hdC8pXHJcblxyXG4gICAgICAgIC8vIENvbnZlcnRpbmcgdG8gWVlZWU1NREQgZW5zdXJlcyB3ZSBjYW4gYWNjdXJhdGVseSBzb3J0IHRoZSBjb2x1bW4gbnVtZXJpY2FsbHlcclxuXHJcbiAgICAgICAgaWYgKGZvcm1hdCkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGZvcm1hdCkge1xyXG4gICAgICAgICAgICBjYXNlIFwiSVNPXzg2MDFcIjpcclxuICAgICAgICAgICAgICAgIGRhdGUgPSBtb21lbnQoY29udGVudCwgbW9tZW50LklTT184NjAxKS5mb3JtYXQoXCJZWVlZTU1ERFwiKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiUkZDXzI4MjJcIjpcclxuICAgICAgICAgICAgICAgIGRhdGUgPSBtb21lbnQoY29udGVudCwgXCJkZGQsIE1NIE1NTSBZWVlZIEhIOm1tOnNzIFpaXCIpLmZvcm1hdChcIllZWVlNTUREXCIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJNWVNRTFwiOlxyXG4gICAgICAgICAgICAgICAgZGF0ZSA9IG1vbWVudChjb250ZW50LCBcIllZWVktTU0tREQgaGg6bW06c3NcIikuZm9ybWF0KFwiWVlZWU1NRERcIik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIlVOSVhcIjpcclxuICAgICAgICAgICAgICAgIGRhdGUgPSBtb21lbnQoY29udGVudCkudW5peCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAvLyBVc2VyIGRlZmluZWQgZm9ybWF0IHVzaW5nIHRoZSBkYXRhLWZvcm1hdCBhdHRyaWJ1dGUgb3IgY29sdW1uc1tuXS5mb3JtYXQgb3B0aW9uXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBkYXRlID0gbW9tZW50KGNvbnRlbnQsIGZvcm1hdCkuZm9ybWF0KFwiWVlZWU1NRERcIik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGRhdGU7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29sdW1ucyBBUElcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBEYXRhVGFibGUgaW5zdGFuY2VcclxuICAgICAqIEBwYXJhbSB7TWl4ZWR9IGNvbHVtbnMgIENvbHVtbiBpbmRleCBvciBhcnJheSBvZiBjb2x1bW4gaW5kZXhlc1xyXG4gICAgICovXHJcbiAgICB2YXIgQ29sdW1ucyA9IGZ1bmN0aW9uIChkdCkge1xyXG4gICAgICAgIHRoaXMuZHQgPSBkdDtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTd2FwIHR3byBjb2x1bW5zXHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBDb2x1bW5zLnByb3RvdHlwZS5zd2FwID0gZnVuY3Rpb24gKGNvbHVtbnMpIHtcclxuICAgICAgICBpZiAoY29sdW1ucy5sZW5ndGggJiYgY29sdW1ucy5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgdmFyIGNvbHMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIC8vIEdldCB0aGUgY3VycmVudCBjb2x1bW4gaW5kZXhlc1xyXG4gICAgICAgICAgICBlYWNoKHRoaXMuZHQuaGVhZGluZ3MsIGZ1bmN0aW9uIChoLCBpKSB7XHJcbiAgICAgICAgICAgICAgICBjb2xzLnB1c2goaSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdmFyIHggPSBjb2x1bW5zWzBdO1xyXG4gICAgICAgICAgICB2YXIgeSA9IGNvbHVtbnNbMV07XHJcbiAgICAgICAgICAgIHZhciBiID0gY29sc1t5XTtcclxuICAgICAgICAgICAgY29sc1t5XSA9IGNvbHNbeF07XHJcbiAgICAgICAgICAgIGNvbHNbeF0gPSBiO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vcmRlcihjb2xzKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVvcmRlciB0aGUgY29sdW1uc1xyXG4gICAgICogQHJldHVybiB7QXJyYXl9IGNvbHVtbnMgIEFycmF5IG9mIG9yZGVyZWQgY29sdW1uIGluZGV4ZXNcclxuICAgICAqL1xyXG4gICAgQ29sdW1ucy5wcm90b3R5cGUub3JkZXIgPSBmdW5jdGlvbiAoY29sdW1ucykge1xyXG4gICAgICAgIHZhciBhLCBiLCBjLCBkLCBoLCBzO1xyXG5cclxuICAgICAgICB2YXIgdGVtcF9hID0gW107XHJcbiAgICAgICAgdmFyIHRlbXBfYiA9IFtdO1xyXG4gICAgICAgIHZhciB0ZW1wX2MgPSBbXTtcclxuICAgICAgICB2YXIgdGVtcF9kID0gW107XHJcblxyXG4gICAgICAgIHZhciBkdCA9IHRoaXMuZHQ7XHJcblxyXG4gICAgICAgIC8vIE9yZGVyIHRoZSBoZWFkaW5nc1xyXG4gICAgICAgIGVhY2goY29sdW1ucywgZnVuY3Rpb24gKGNvbHVtbiwgeCkge1xyXG4gICAgICAgICAgICBoID0gZHQuaGVhZGluZ3NbY29sdW1uXTtcclxuICAgICAgICAgICAgcyA9IGguZ2V0QXR0cmlidXRlKFwiZGF0YS1zb3J0YWJsZVwiKSAhPT0gXCJmYWxzZVwiO1xyXG4gICAgICAgICAgICBhID0gaC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAgICAgICAgIGEub3JpZ2luYWxDZWxsSW5kZXggPSB4O1xyXG4gICAgICAgICAgICBhLnNvcnRhYmxlID0gcztcclxuXHJcbiAgICAgICAgICAgIHRlbXBfYS5wdXNoKGEpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGR0LmhpZGRlbkNvbHVtbnMuaW5kZXhPZihjb2x1bW4pIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgYiA9IGguY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgYi5vcmlnaW5hbENlbGxJbmRleCA9IHg7XHJcbiAgICAgICAgICAgICAgICBiLnNvcnRhYmxlID0gcztcclxuXHJcbiAgICAgICAgICAgICAgICB0ZW1wX2IucHVzaChiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBPcmRlciB0aGUgcm93IGNlbGxzXHJcbiAgICAgICAgZWFjaChkdC5kYXRhLCBmdW5jdGlvbiAocm93LCBpKSB7XHJcbiAgICAgICAgICAgIGMgPSByb3cuY2xvbmVOb2RlKCk7XHJcbiAgICAgICAgICAgIGQgPSByb3cuY2xvbmVOb2RlKCk7XHJcblxyXG4gICAgICAgICAgICBjLmRhdGFJbmRleCA9IGk7XHJcbiAgICAgICAgICAgIGQuZGF0YUluZGV4ID0gaTtcclxuXHJcbiAgICAgICAgICAgIGlmIChyb3cuc2VhcmNoSW5kZXggIT09IG51bGwgJiYgcm93LnNlYXJjaEluZGV4ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGMuc2VhcmNoSW5kZXggPSByb3cuc2VhcmNoSW5kZXg7XHJcbiAgICAgICAgICAgICAgICBkLnNlYXJjaEluZGV4ID0gcm93LnNlYXJjaEluZGV4O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBBcHBlbmQgdG8gY2VsbCB0byB0aGUgZnJhZ21lbnQgaW4gdGhlIGNvcnJlY3Qgb3JkZXJcclxuICAgICAgICAgICAgZWFjaChcclxuICAgICAgICAgICAgICAgIGNvbHVtbnMsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoeCwgY29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYy5hcHBlbmRDaGlsZChyb3cuY2VsbHNbY29sdW1uXS5jbG9uZU5vZGUodHJ1ZSkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZHQuaGlkZGVuQ29sdW1ucy5pbmRleE9mKGNvbHVtbikgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGQuYXBwZW5kQ2hpbGQocm93LmNlbGxzW2NvbHVtbl0uY2xvbmVOb2RlKHRydWUpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgdGhpc1xyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgdGVtcF9jLnB1c2goYyk7XHJcbiAgICAgICAgICAgIHRlbXBfZC5wdXNoKGQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBkdC5oZWFkaW5ncyA9IHRlbXBfYTtcclxuICAgICAgICBkdC5hY3RpdmVIZWFkaW5ncyA9IHRlbXBfYjtcclxuXHJcbiAgICAgICAgZHQuZGF0YSA9IHRlbXBfYztcclxuICAgICAgICBkdC5hY3RpdmVSb3dzID0gdGVtcF9kO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGVcclxuICAgICAgICBkdC51cGRhdGUoKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIaWRlIGNvbHVtbnNcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIENvbHVtbnMucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoY29sdW1ucykge1xyXG4gICAgICAgIGlmIChjb2x1bW5zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB2YXIgZHQgPSB0aGlzLmR0O1xyXG5cclxuICAgICAgICAgICAgZWFjaChjb2x1bW5zLCBmdW5jdGlvbiAoY29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZHQuaGlkZGVuQ29sdW1ucy5pbmRleE9mKGNvbHVtbikgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZHQuaGlkZGVuQ29sdW1ucy5wdXNoKGNvbHVtbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWJ1aWxkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNob3cgY29sdW1uc1xyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgQ29sdW1ucy5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uIChjb2x1bW5zKSB7XHJcbiAgICAgICAgaWYgKGNvbHVtbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCwgZHQgPSB0aGlzLmR0O1xyXG5cclxuICAgICAgICAgICAgZWFjaChjb2x1bW5zLCBmdW5jdGlvbiAoY29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICBpbmRleCA9IGR0LmhpZGRlbkNvbHVtbnMuaW5kZXhPZihjb2x1bW4pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBkdC5oaWRkZW5Db2x1bW5zLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWJ1aWxkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGNvbHVtbihzKSB2aXNpYmlsaXR5XHJcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICBDb2x1bW5zLnByb3RvdHlwZS52aXNpYmxlID0gZnVuY3Rpb24gKGNvbHVtbnMpIHtcclxuICAgICAgICB2YXIgY29scywgZHQgPSB0aGlzLmR0O1xyXG5cclxuICAgICAgICBjb2x1bW5zID0gY29sdW1ucyB8fCBkdC5oZWFkaW5ncy5tYXAoZnVuY3Rpb24gKHRoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aC5vcmlnaW5hbENlbGxJbmRleDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKCFpc05hTihjb2x1bW5zKSkge1xyXG4gICAgICAgICAgICBjb2xzID0gZHQuaGlkZGVuQ29sdW1ucy5pbmRleE9mKGNvbHVtbnMpIDwgMDtcclxuICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkoY29sdW1ucykpIHtcclxuICAgICAgICAgICAgY29scyA9IFtdO1xyXG4gICAgICAgICAgICBlYWNoKGNvbHVtbnMsIGZ1bmN0aW9uIChjb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgIGNvbHMucHVzaChkdC5oaWRkZW5Db2x1bW5zLmluZGV4T2YoY29sdW1uKSA8IDApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBjb2xzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGNvbHVtbihzKSB2aXNpYmlsaXR5XHJcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICBDb2x1bW5zLnByb3RvdHlwZS5oaWRkZW4gPSBmdW5jdGlvbiAoY29sdW1ucykge1xyXG4gICAgICAgIHZhciBjb2xzLCBkdCA9IHRoaXMuZHQ7XHJcblxyXG4gICAgICAgIGNvbHVtbnMgPSBjb2x1bW5zIHx8IHRoaXMuZHQuaGVhZGluZ3MubWFwKGZ1bmN0aW9uICh0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGgub3JpZ2luYWxDZWxsSW5kZXg7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICghaXNOYU4oY29sdW1ucykpIHtcclxuICAgICAgICAgICAgY29scyA9IGR0LmhpZGRlbkNvbHVtbnMuaW5kZXhPZih0aGlzLmNvbHVtbnMpID4gLTE7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KGNvbHVtbnMpKSB7XHJcbiAgICAgICAgICAgIGNvbHMgPSBbXTtcclxuICAgICAgICAgICAgZWFjaChjb2x1bW5zLCBmdW5jdGlvbiAoY29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICBjb2xzLnB1c2goZHQuaGlkZGVuQ29sdW1ucy5pbmRleE9mKGNvbHVtbikgPiAtMSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNvbHM7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkIGEgbmV3IGNvbHVtblxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFcclxuICAgICAqL1xyXG4gICAgQ29sdW1ucy5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICB2YXIgdGhhdCA9IHRoaXMsXHJcbiAgICAgICAgICAgIHRkLCB0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiKTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmR0LmhlYWRpbmdzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLmR0Lmluc2VydCh7XHJcbiAgICAgICAgICAgICAgICBoZWFkaW5nczogW2RhdGEuaGVhZGluZ10sXHJcbiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLmRhdGEubWFwKGZ1bmN0aW9uIChpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtpXTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnJlYnVpbGQoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmR0LmhpZGRlbkhlYWRlcikge1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5oZWFkaW5nLm5vZGVOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICB0aC5hcHBlbmRDaGlsZChkYXRhLmhlYWRpbmcpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGguaW5uZXJIVE1MID0gZGF0YS5oZWFkaW5nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGguaW5uZXJIVE1MID0gXCJcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZHQuaGVhZGluZ3MucHVzaCh0aCk7XHJcblxyXG4gICAgICAgIGVhY2godGhpcy5kdC5kYXRhLCBmdW5jdGlvbiAocm93LCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmRhdGFbaV0pIHtcclxuICAgICAgICAgICAgICAgIHRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGFbaV0ubm9kZU5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZC5hcHBlbmRDaGlsZChkYXRhLmRhdGFbaV0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZC5pbm5lckhUTUwgPSBkYXRhLmRhdGFbaV07XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGQuZGF0YSA9IHRkLmlubmVySFRNTDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5yZW5kZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZC5pbm5lckhUTUwgPSBkYXRhLnJlbmRlci5jYWxsKHRoYXQsIHRkLmRhdGEsIHRkLCByb3cpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZCh0ZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKGRhdGEudHlwZSkge1xyXG4gICAgICAgICAgICB0aC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXR5cGVcIiwgZGF0YS50eXBlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRhdGEuZm9ybWF0KSB7XHJcbiAgICAgICAgICAgIHRoLnNldEF0dHJpYnV0ZShcImRhdGEtZm9ybWF0XCIsIGRhdGEuZm9ybWF0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KFwic29ydGFibGVcIikpIHtcclxuICAgICAgICAgICAgdGguc29ydGFibGUgPSBkYXRhLnNvcnRhYmxlO1xyXG4gICAgICAgICAgICB0aC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXNvcnRhYmxlXCIsIGRhdGEuc29ydGFibGUgPT09IHRydWUgPyBcInRydWVcIiA6IFwiZmFsc2VcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnJlYnVpbGQoKTtcclxuXHJcbiAgICAgICAgdGhpcy5kdC5yZW5kZXJIZWFkZXIoKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmUgY29sdW1uKHMpXHJcbiAgICAgKiBAcGFyYW0gIHtBcnJheXxOdW1iZXJ9IHNlbGVjdFxyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgQ29sdW1ucy5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKHNlbGVjdCkge1xyXG4gICAgICAgIGlmIChpc0FycmF5KHNlbGVjdCkpIHtcclxuICAgICAgICAgICAgLy8gUmVtb3ZlIGluIHJldmVyc2Ugb3RoZXJ3aXNlIHRoZSBpbmRleGVzIHdpbGwgYmUgaW5jb3JyZWN0XHJcbiAgICAgICAgICAgIHNlbGVjdC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYiAtIGE7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZWFjaChzZWxlY3QsIGZ1bmN0aW9uIChjb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlKGNvbHVtbik7XHJcbiAgICAgICAgICAgIH0sIHRoaXMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZHQuaGVhZGluZ3Muc3BsaWNlKHNlbGVjdCwgMSk7XHJcblxyXG4gICAgICAgICAgICBlYWNoKHRoaXMuZHQuZGF0YSwgZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICAgICAgcm93LnJlbW92ZUNoaWxkKHJvdy5jZWxsc1tzZWxlY3RdKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnJlYnVpbGQoKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTb3J0IGJ5IGNvbHVtblxyXG4gICAgICogQHBhcmFtICB7aW50fSBjb2x1bW4gLSBUaGUgY29sdW1uIG5vLlxyXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSBkaXJlY3Rpb24gLSBhc2Mgb3IgZGVzY1xyXG4gICAgICogQHJldHVybiB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgQ29sdW1ucy5wcm90b3R5cGUuc29ydCA9IGZ1bmN0aW9uIChjb2x1bW4sIGRpcmVjdGlvbiwgaW5pdCkge1xyXG5cclxuICAgICAgICB2YXIgZHQgPSB0aGlzLmR0O1xyXG5cclxuICAgICAgICAvLyBDaGVjayBjb2x1bW4gaXMgcHJlc2VudFxyXG4gICAgICAgIGlmIChkdC5oYXNIZWFkaW5ncyAmJiAoY29sdW1uIDwgMSB8fCBjb2x1bW4gPiBkdC5hY3RpdmVIZWFkaW5ncy5sZW5ndGgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGR0LnNvcnRpbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICAvLyBDb252ZXJ0IHRvIHplcm8taW5kZXhlZFxyXG4gICAgICAgIGNvbHVtbiA9IGNvbHVtbiAtIDE7XHJcblxyXG4gICAgICAgIHZhciBkaXIsXHJcbiAgICAgICAgICAgIHJvd3MgPSBkdC5kYXRhLFxyXG4gICAgICAgICAgICBhbHBoYSA9IFtdLFxyXG4gICAgICAgICAgICBudW1lcmljID0gW10sXHJcbiAgICAgICAgICAgIGEgPSAwLFxyXG4gICAgICAgICAgICBuID0gMCxcclxuICAgICAgICAgICAgdGggPSBkdC5hY3RpdmVIZWFkaW5nc1tjb2x1bW5dO1xyXG5cclxuICAgICAgICBjb2x1bW4gPSB0aC5vcmlnaW5hbENlbGxJbmRleDtcclxuXHJcbiAgICAgICAgZWFjaChyb3dzLCBmdW5jdGlvbiAodHIpIHtcclxuICAgICAgICAgICAgdmFyIGNlbGwgPSB0ci5jZWxsc1tjb2x1bW5dO1xyXG4gICAgICAgICAgICB2YXIgY29udGVudCA9IGNlbGwuZGF0YTtcclxuICAgICAgICAgICAgdmFyIG51bSA9IGNvbnRlbnQucmVwbGFjZSgvKFxcJHxcXCx8XFxzfCUpL2csIFwiXCIpO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGRhdGUgZm9ybWF0IGFuZCBtb21lbnQuanNcclxuICAgICAgICAgICAgaWYgKHRoLmdldEF0dHJpYnV0ZShcImRhdGEtdHlwZVwiKSA9PT0gXCJkYXRlXCIgJiYgd2luLm1vbWVudCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZvcm1hdCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZCA9IHRoLmhhc0F0dHJpYnV0ZShcImRhdGEtZm9ybWF0XCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChmb3JtYXR0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3JtYXQgPSB0aC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWZvcm1hdFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBudW0gPSBwYXJzZURhdGUoY29udGVudCwgZm9ybWF0KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHBhcnNlRmxvYXQobnVtKSA9PSBudW0pIHtcclxuICAgICAgICAgICAgICAgIG51bWVyaWNbbisrXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogTnVtYmVyKG51bSksXHJcbiAgICAgICAgICAgICAgICAgICAgcm93OiB0clxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFscGhhW2ErK10gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGNvbnRlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgcm93OiB0clxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKiBTb3J0IGFjY29yZGluZyB0byBkaXJlY3Rpb24gKGFzY2VuZGluZyBvciBkZXNjZW5kaW5nKSAqL1xyXG4gICAgICAgIHZhciB0b3AsIGJ0bTtcclxuICAgICAgICBpZiAoY2xhc3NMaXN0LmNvbnRhaW5zKHRoLCBcImFzY1wiKSB8fCBkaXJlY3Rpb24gPT0gXCJhc2NcIikge1xyXG4gICAgICAgICAgICB0b3AgPSBzb3J0SXRlbXMoYWxwaGEsIC0xKTtcclxuICAgICAgICAgICAgYnRtID0gc29ydEl0ZW1zKG51bWVyaWMsIC0xKTtcclxuICAgICAgICAgICAgZGlyID0gXCJkZXNjZW5kaW5nXCI7XHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5yZW1vdmUodGgsIFwiYXNjXCIpO1xyXG4gICAgICAgICAgICBjbGFzc0xpc3QuYWRkKHRoLCBcImRlc2NcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdG9wID0gc29ydEl0ZW1zKG51bWVyaWMsIDEpO1xyXG4gICAgICAgICAgICBidG0gPSBzb3J0SXRlbXMoYWxwaGEsIDEpO1xyXG4gICAgICAgICAgICBkaXIgPSBcImFzY2VuZGluZ1wiO1xyXG4gICAgICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKHRoLCBcImRlc2NcIik7XHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5hZGQodGgsIFwiYXNjXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyogQ2xlYXIgYXNjL2Rlc2MgY2xhc3MgbmFtZXMgZnJvbSB0aGUgbGFzdCBzb3J0ZWQgY29sdW1uJ3MgdGggaWYgaXQgaXNuJ3QgdGhlIHNhbWUgYXMgdGhlIG9uZSB0aGF0IHdhcyBqdXN0IGNsaWNrZWQgKi9cclxuICAgICAgICBpZiAoZHQubGFzdFRoICYmIHRoICE9IGR0Lmxhc3RUaCkge1xyXG4gICAgICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKGR0Lmxhc3RUaCwgXCJkZXNjXCIpO1xyXG4gICAgICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKGR0Lmxhc3RUaCwgXCJhc2NcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkdC5sYXN0VGggPSB0aDtcclxuXHJcbiAgICAgICAgLyogUmVvcmRlciB0aGUgdGFibGUgKi9cclxuICAgICAgICByb3dzID0gdG9wLmNvbmNhdChidG0pO1xyXG5cclxuICAgICAgICBkdC5kYXRhID0gW107XHJcbiAgICAgICAgdmFyIGluZGV4ZXMgPSBbXTtcclxuXHJcbiAgICAgICAgZWFjaChyb3dzLCBmdW5jdGlvbiAodiwgaSkge1xyXG4gICAgICAgICAgICBkdC5kYXRhLnB1c2godi5yb3cpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHYucm93LnNlYXJjaEluZGV4ICE9PSBudWxsICYmIHYucm93LnNlYXJjaEluZGV4ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGluZGV4ZXMucHVzaChpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIGR0KTtcclxuXHJcbiAgICAgICAgZHQuc2VhcmNoRGF0YSA9IGluZGV4ZXM7XHJcblxyXG4gICAgICAgIHRoaXMucmVidWlsZCgpO1xyXG5cclxuICAgICAgICBkdC51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgaWYgKCFpbml0KSB7XHJcbiAgICAgICAgICAgIGR0LmVtaXQoXCJkYXRhdGFibGUuc29ydFwiLCBjb2x1bW4sIGRpcik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlYnVpbGQgdGhlIGNvbHVtbnNcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIENvbHVtbnMucHJvdG90eXBlLnJlYnVpbGQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGEsIGIsIGMsIGQ7XHJcbiAgICAgICAgdmFyIGR0ID0gdGhpcy5kdCxcclxuICAgICAgICAgICAgdGVtcCA9IFtdO1xyXG5cclxuICAgICAgICBkdC5hY3RpdmVSb3dzID0gW107XHJcbiAgICAgICAgZHQuYWN0aXZlSGVhZGluZ3MgPSBbXTtcclxuXHJcbiAgICAgICAgZWFjaChkdC5oZWFkaW5ncywgZnVuY3Rpb24gKHRoLCBpKSB7XHJcbiAgICAgICAgICAgIHRoLm9yaWdpbmFsQ2VsbEluZGV4ID0gaTtcclxuICAgICAgICAgICAgdGguc29ydGFibGUgPSB0aC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNvcnRhYmxlXCIpICE9PSBcImZhbHNlXCI7XHJcbiAgICAgICAgICAgIGlmIChkdC5oaWRkZW5Db2x1bW5zLmluZGV4T2YoaSkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBkdC5hY3RpdmVIZWFkaW5ncy5wdXNoKHRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICAvLyBMb29wIG92ZXIgdGhlIHJvd3MgYW5kIHJlb3JkZXIgdGhlIGNlbGxzXHJcbiAgICAgICAgZWFjaChkdC5kYXRhLCBmdW5jdGlvbiAocm93LCBpKSB7XHJcbiAgICAgICAgICAgIGEgPSByb3cuY2xvbmVOb2RlKCk7XHJcbiAgICAgICAgICAgIGIgPSByb3cuY2xvbmVOb2RlKCk7XHJcblxyXG4gICAgICAgICAgICBhLmRhdGFJbmRleCA9IGk7XHJcbiAgICAgICAgICAgIGIuZGF0YUluZGV4ID0gaTtcclxuXHJcbiAgICAgICAgICAgIGlmIChyb3cuc2VhcmNoSW5kZXggIT09IG51bGwgJiYgcm93LnNlYXJjaEluZGV4ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGEuc2VhcmNoSW5kZXggPSByb3cuc2VhcmNoSW5kZXg7XHJcbiAgICAgICAgICAgICAgICBiLnNlYXJjaEluZGV4ID0gcm93LnNlYXJjaEluZGV4O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBBcHBlbmQgdG8gY2VsbCB0byB0aGUgZnJhZ21lbnQgaW4gdGhlIGNvcnJlY3Qgb3JkZXJcclxuICAgICAgICAgICAgZWFjaChyb3cuY2VsbHMsIGZ1bmN0aW9uIChjZWxsKSB7XHJcbiAgICAgICAgICAgICAgICBjID0gY2VsbC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBjLmRhdGEgPSBjZWxsLmRhdGE7XHJcbiAgICAgICAgICAgICAgICBhLmFwcGVuZENoaWxkKGMpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkdC5oaWRkZW5Db2x1bW5zLmluZGV4T2YoY2VsbC5jZWxsSW5kZXgpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGQgPSBjZWxsLmNsb25lTm9kZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICBkLmRhdGEgPSBjZWxsLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgYi5hcHBlbmRDaGlsZChkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBBcHBlbmQgdGhlIGZyYWdtZW50IHdpdGggdGhlIG9yZGVyZWQgY2VsbHNcclxuICAgICAgICAgICAgdGVtcC5wdXNoKGEpO1xyXG4gICAgICAgICAgICBkdC5hY3RpdmVSb3dzLnB1c2goYik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGR0LmRhdGEgPSB0ZW1wO1xyXG5cclxuICAgICAgICBkdC51cGRhdGUoKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSb3dzIEFQSVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIERhdGFUYWJsZSBpbnN0YW5jZVxyXG4gICAgICogQHBhcmFtIHtBcnJheX0gcm93c1xyXG4gICAgICovXHJcbiAgICB2YXIgUm93cyA9IGZ1bmN0aW9uIChkdCwgcm93cykge1xyXG4gICAgICAgIHRoaXMuZHQgPSBkdDtcclxuICAgICAgICB0aGlzLnJvd3MgPSByb3dzO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBCdWlsZCBhIG5ldyByb3dcclxuICAgICAqIEBwYXJhbSAge0FycmF5fSByb3dcclxuICAgICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fVxyXG4gICAgICovXHJcbiAgICBSb3dzLnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgICB2YXIgdGQsIHRyID0gY3JlYXRlRWxlbWVudChcInRyXCIpO1xyXG5cclxuICAgICAgICB2YXIgaGVhZGluZ3MgPSB0aGlzLmR0LmhlYWRpbmdzO1xyXG5cclxuICAgICAgICBpZiAoIWhlYWRpbmdzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBoZWFkaW5ncyA9IHJvdy5tYXAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZWFjaChoZWFkaW5ncywgZnVuY3Rpb24gKGgsIGkpIHtcclxuICAgICAgICAgICAgdGQgPSBjcmVhdGVFbGVtZW50KFwidGRcIik7XHJcblxyXG4gICAgICAgICAgICBpZiAocm93W2ldICYmIHJvd1tpXS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHRkLmlubmVySFRNTCA9IHJvd1tpXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGQuZGF0YSA9IHJvd1tpXTtcclxuXHJcbiAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRkKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRyO1xyXG4gICAgfTtcclxuXHJcbiAgICBSb3dzLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgcmV0dXJuIHJvdztcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgbmV3IHJvd1xyXG4gICAgICogQHBhcmFtIHtBcnJheX0gc2VsZWN0XHJcbiAgICAgKi9cclxuICAgIFJvd3MucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcblxyXG4gICAgICAgIGlmIChpc0FycmF5KGRhdGEpKSB7XHJcbiAgICAgICAgICAgIHZhciBkdCA9IHRoaXMuZHQ7XHJcbiAgICAgICAgICAgIC8vIENoZWNrIGZvciBtdWx0aXBsZSByb3dzXHJcbiAgICAgICAgICAgIGlmIChpc0FycmF5KGRhdGFbMF0pKSB7XHJcbiAgICAgICAgICAgICAgICBlYWNoKGRhdGEsIGZ1bmN0aW9uIChyb3csIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkdC5kYXRhLnB1c2godGhpcy5idWlsZChyb3cpKTtcclxuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZHQuZGF0YS5wdXNoKHRoaXMuYnVpbGQoZGF0YSkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICAgICAgZHQuY29sdW1ucygpLnJlYnVpbGQoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIHJvdyhzKVxyXG4gICAgICogQHBhcmFtICB7QXJyYXl8TnVtYmVyfSBzZWxlY3RcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIFJvd3MucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChzZWxlY3QpIHtcclxuXHJcbiAgICAgICAgdmFyIGR0ID0gdGhpcy5kdDtcclxuXHJcbiAgICAgICAgaWYgKGlzQXJyYXkoc2VsZWN0KSkge1xyXG4gICAgICAgICAgICAvLyBSZW1vdmUgaW4gcmV2ZXJzZSBvdGhlcndpc2UgdGhlIGluZGV4ZXMgd2lsbCBiZSBpbmNvcnJlY3RcclxuICAgICAgICAgICAgc2VsZWN0LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBiIC0gYTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBlYWNoKHNlbGVjdCwgZnVuY3Rpb24gKHJvdywgaSkge1xyXG4gICAgICAgICAgICAgICAgZHQuZGF0YS5zcGxpY2Uocm93LCAxKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZHQuZGF0YS5zcGxpY2Uoc2VsZWN0LCAxKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgZHQuY29sdW1ucygpLnJlYnVpbGQoKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGUgcm93IGluZGV4ZXNcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIFJvd3MucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBlYWNoKHRoaXMuZHQuZGF0YSwgZnVuY3Rpb24gKHJvdywgaSkge1xyXG4gICAgICAgICAgICByb3cuZGF0YUluZGV4ID0gaTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgIC8vICAgIE1BSU4gTElCICAgIC8vXHJcbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgIHZhciBEYXRhVGFibGUgPSBmdW5jdGlvbiAodGFibGUsIG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIHVzZXIgb3B0aW9uc1xyXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IGV4dGVuZChkZWZhdWx0Q29uZmlnLCBvcHRpb25zKTtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiB0YWJsZSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICB2YXIgc2VsZWN0b3IgPSB0YWJsZTtcclxuICAgICAgICAgICAgdGFibGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhYmxlKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghdGFibGUpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBlbGVtZW50ICdcIiArIHNlbGVjdG9yICsgXCInIGNhbiBub3QgYmUgZm91bmQuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGFibGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpICE9PSBcInRhYmxlXCIpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHNlbGVjdGVkIGVsZW1lbnQgaXMgbm90IGEgdGFibGUuXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5pbml0aWFsTGF5b3V0ID0gdGFibGUuaW5uZXJIVE1MO1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbFNvcnRhYmxlID0gdGhpcy5vcHRpb25zLnNvcnRhYmxlO1xyXG5cclxuICAgICAgICAvLyBEaXNhYmxlIG1hbnVhbCBzb3J0aW5nIGlmIG5vIGhlYWRlciBpcyBwcmVzZW50ICgjNClcclxuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5oZWFkZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnNvcnRhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGFibGUudEhlYWQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuZGF0YSB8fFxyXG4gICAgICAgICAgICAgICAgKHRoaXMub3B0aW9ucy5kYXRhICYmICF0aGlzLm9wdGlvbnMuZGF0YS5oZWFkaW5ncylcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuc29ydGFibGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRhYmxlLnRCb2RpZXMubGVuZ3RoICYmICF0YWJsZS50Qm9kaWVzWzBdLnJvd3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuZGF0YS5kYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIllvdSBzZWVtIHRvIGJlIHVzaW5nIHRoZSBkYXRhIG9wdGlvbiwgYnV0IHlvdSd2ZSBub3QgZGVmaW5lZCBhbnkgcm93cy5cIlxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudGFibGUgPSB0YWJsZTtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBwcm90byA9IERhdGFUYWJsZS5wcm90b3R5cGU7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgY3VzdG9tIHByb3BlcnR5IG9yIG1ldGhvZCB0byBleHRlbmQgRGF0YVRhYmxlXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IHByb3AgICAgLSBNZXRob2QgbmFtZSBvciBwcm9wZXJ0eVxyXG4gICAgICogQHBhcmFtICB7TWl4ZWR9IHZhbCAgICAgIC0gRnVuY3Rpb24gb3IgcHJvcGVydHkgdmFsdWVcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIERhdGFUYWJsZS5leHRlbmQgPSBmdW5jdGlvbiAocHJvcCwgdmFsKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICBEYXRhVGFibGUucHJvdG90eXBlW3Byb3BdID0gdmFsO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIERhdGFUYWJsZVtwcm9wXSA9IHZhbDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgaW5zdGFuY2VcclxuICAgICAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9uc1xyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8uaW5pdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhbGl6ZWQgfHwgY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMudGFibGUsIFwiZGF0YVRhYmxlLXRhYmxlXCIpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcclxuXHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gZXh0ZW5kKHRoaXMub3B0aW9ucywgb3B0aW9ucyB8fCB7fSk7XHJcblxyXG4gICAgICAgIC8vIElFIGRldGVjdGlvblxyXG4gICAgICAgIHRoaXMuaXNJRSA9ICEhLyhtc2llfHRyaWRlbnQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcclxuXHJcbiAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7XHJcbiAgICAgICAgdGhpcy5vbkZpcnN0UGFnZSA9IHRydWU7XHJcblxyXG4gICAgICAgIHRoaXMuaGlkZGVuQ29sdW1ucyA9IFtdO1xyXG4gICAgICAgIHRoaXMuY29sdW1uUmVuZGVyZXJzID0gW107XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZENvbHVtbnMgPSBbXTtcclxuXHJcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wbHVnaW5zKSB7XHJcbiAgICAgICAgICAgIGVhY2godGhpcy5vcHRpb25zLnBsdWdpbnMsIGZ1bmN0aW9uIChvcHRpb25zLCBwbHVnaW4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXNbcGx1Z2luXShvcHRpb25zKTtcclxuICAgICAgICAgICAgfSwgdGhpcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhhdC5lbWl0KFwiZGF0YXRhYmxlLmluaXRcIik7XHJcbiAgICAgICAgICAgIHRoYXQuaW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgICAgIH0sIDEwKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgdGhlIGluc3RhbmNlXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IHR5cGVcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLnJlbmRlciA9IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgaWYgKHR5cGUpIHtcclxuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJwYWdlXCI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclBhZ2UoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwicGFnZXJcIjpcclxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyUGFnZXIoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiaGVhZGVyXCI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckhlYWRlcigpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcyxcclxuICAgICAgICAgICAgbyA9IHRoYXQub3B0aW9ucyxcclxuICAgICAgICAgICAgdGVtcGxhdGUgPSBcIlwiO1xyXG5cclxuICAgICAgICAvLyBDb252ZXJ0IGRhdGEgdG8gSFRNTFxyXG4gICAgICAgIGlmIChvLmRhdGEpIHtcclxuICAgICAgICAgICAgZGF0YVRvVGFibGUuY2FsbCh0aGF0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChvLmFqYXgpIHtcclxuICAgICAgICAgICAgdmFyIGFqYXggPSBvLmFqYXg7XHJcbiAgICAgICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuXHJcbiAgICAgICAgICAgIHZhciB4aHJQcm9ncmVzcyA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGF0LmVtaXQoXCJkYXRhdGFibGUuYWpheC5wcm9ncmVzc1wiLCBlLCB4aHIpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIHhockxvYWQgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5lbWl0KFwiZGF0YXRhYmxlLmFqYXgubG9hZGVkXCIsIGUsIHhocik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iaiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmouZGF0YSA9IGFqYXgubG9hZCA/IGFqYXgubG9hZC5jYWxsKHRoYXQsIHhocikgOiB4aHIucmVzcG9uc2VUZXh0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnR5cGUgPSBcImpzb25cIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhamF4LmNvbnRlbnQgJiYgYWpheC5jb250ZW50LnR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai50eXBlID0gYWpheC5jb250ZW50LnR5cGU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqID0gZXh0ZW5kKG9iaiwgYWpheC5jb250ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5pbXBvcnQob2JqKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuc2V0Q29sdW1ucyh0cnVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuZW1pdChcImRhdGF0YWJsZS5hamF4LnN1Y2Nlc3NcIiwgZSwgeGhyKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmVtaXQoXCJkYXRhdGFibGUuYWpheC5lcnJvclwiLCBlLCB4aHIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZhciB4aHJGYWlsZWQgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgdGhhdC5lbWl0KFwiZGF0YXRhYmxlLmFqYXguZXJyb3JcIiwgZSwgeGhyKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZhciB4aHJDYW5jZWxsZWQgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgdGhhdC5lbWl0KFwiZGF0YXRhYmxlLmFqYXguYWJvcnRcIiwgZSwgeGhyKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIG9uKHhociwgXCJwcm9ncmVzc1wiLCB4aHJQcm9ncmVzcyk7XHJcbiAgICAgICAgICAgIG9uKHhociwgXCJsb2FkXCIsIHhockxvYWQpO1xyXG4gICAgICAgICAgICBvbih4aHIsIFwiZXJyb3JcIiwgeGhyRmFpbGVkKTtcclxuICAgICAgICAgICAgb24oeGhyLCBcImFib3J0XCIsIHhockNhbmNlbGxlZCk7XHJcblxyXG4gICAgICAgICAgICB0aGF0LmVtaXQoXCJkYXRhdGFibGUuYWpheC5sb2FkaW5nXCIsIHhocik7XHJcblxyXG4gICAgICAgICAgICB4aHIub3BlbihcIkdFVFwiLCB0eXBlb2YgYWpheCA9PT0gXCJzdHJpbmdcIiA/IG8uYWpheCA6IG8uYWpheC51cmwpO1xyXG4gICAgICAgICAgICB4aHIuc2VuZCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU3RvcmUgcmVmZXJlbmNlc1xyXG4gICAgICAgIHRoYXQuYm9keSA9IHRoYXQudGFibGUudEJvZGllc1swXTtcclxuICAgICAgICB0aGF0LmhlYWQgPSB0aGF0LnRhYmxlLnRIZWFkO1xyXG4gICAgICAgIHRoYXQuZm9vdCA9IHRoYXQudGFibGUudEZvb3Q7XHJcblxyXG4gICAgICAgIGlmICghdGhhdC5ib2R5KSB7XHJcbiAgICAgICAgICAgIHRoYXQuYm9keSA9IGNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiKTtcclxuXHJcbiAgICAgICAgICAgIHRoYXQudGFibGUuYXBwZW5kQ2hpbGQodGhhdC5ib2R5KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoYXQuaGFzUm93cyA9IHRoYXQuYm9keS5yb3dzLmxlbmd0aCA+IDA7XHJcblxyXG4gICAgICAgIC8vIE1ha2UgYSB0SGVhZCBpZiB0aGVyZSBpc24ndCBvbmUgKGZpeGVzICM4KVxyXG4gICAgICAgIGlmICghdGhhdC5oZWFkKSB7XHJcbiAgICAgICAgICAgIHZhciBoID0gY3JlYXRlRWxlbWVudChcInRoZWFkXCIpO1xyXG4gICAgICAgICAgICB2YXIgdCA9IGNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGF0Lmhhc1Jvd3MpIHtcclxuICAgICAgICAgICAgICAgIGVhY2godGhhdC5ib2R5LnJvd3NbMF0uY2VsbHMsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0LmFwcGVuZENoaWxkKGNyZWF0ZUVsZW1lbnQoXCJ0aFwiKSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBoLmFwcGVuZENoaWxkKHQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGF0LmhlYWQgPSBoO1xyXG5cclxuICAgICAgICAgICAgdGhhdC50YWJsZS5pbnNlcnRCZWZvcmUodGhhdC5oZWFkLCB0aGF0LmJvZHkpO1xyXG5cclxuICAgICAgICAgICAgdGhhdC5oaWRkZW5IZWFkZXIgPSAhby5hamF4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhhdC5oZWFkaW5ncyA9IFtdO1xyXG4gICAgICAgIHRoYXQuaGFzSGVhZGluZ3MgPSB0aGF0LmhlYWQucm93cy5sZW5ndGggPiAwO1xyXG5cclxuICAgICAgICBpZiAodGhhdC5oYXNIZWFkaW5ncykge1xyXG4gICAgICAgICAgICB0aGF0LmhlYWRlciA9IHRoYXQuaGVhZC5yb3dzWzBdO1xyXG4gICAgICAgICAgICB0aGF0LmhlYWRpbmdzID0gW10uc2xpY2UuY2FsbCh0aGF0LmhlYWRlci5jZWxscyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBIZWFkZXJcclxuICAgICAgICBpZiAoIW8uaGVhZGVyKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGF0LmhlYWQpIHtcclxuICAgICAgICAgICAgICAgIHRoYXQudGFibGUucmVtb3ZlQ2hpbGQodGhhdC50YWJsZS50SGVhZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEZvb3RlclxyXG4gICAgICAgIGlmIChvLmZvb3Rlcikge1xyXG4gICAgICAgICAgICBpZiAodGhhdC5oZWFkICYmICF0aGF0LmZvb3QpIHtcclxuICAgICAgICAgICAgICAgIHRoYXQuZm9vdCA9IGNyZWF0ZUVsZW1lbnQoXCJ0Zm9vdFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgaHRtbDogdGhhdC5oZWFkLmlubmVySFRNTFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGF0LnRhYmxlLmFwcGVuZENoaWxkKHRoYXQuZm9vdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodGhhdC5mb290KSB7XHJcbiAgICAgICAgICAgICAgICB0aGF0LnRhYmxlLnJlbW92ZUNoaWxkKHRoYXQudGFibGUudEZvb3QpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBCdWlsZFxyXG4gICAgICAgIHRoYXQud3JhcHBlciA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xyXG4gICAgICAgICAgICBjbGFzczogXCJkYXRhVGFibGUtd3JhcHBlciBkYXRhVGFibGUtbG9hZGluZ1wiXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFRlbXBsYXRlIGZvciBjdXN0b20gbGF5b3V0c1xyXG4gICAgICAgIHRlbXBsYXRlICs9IFwiPGRpdiBjbGFzcz0nZGF0YVRhYmxlLXRvcCc+XCI7XHJcbiAgICAgICAgdGVtcGxhdGUgKz0gby5sYXlvdXQudG9wO1xyXG4gICAgICAgIHRlbXBsYXRlICs9IFwiPC9kaXY+XCI7XHJcbiAgICAgICAgdGVtcGxhdGUgKz0gXCI8ZGl2IGNsYXNzPSdkYXRhVGFibGUtY29udGFpbmVyJz48L2Rpdj5cIjtcclxuICAgICAgICB0ZW1wbGF0ZSArPSBcIjxkaXYgY2xhc3M9J2RhdGFUYWJsZS1ib3R0b20nPlwiO1xyXG4gICAgICAgIHRlbXBsYXRlICs9IG8ubGF5b3V0LmJvdHRvbTtcclxuICAgICAgICB0ZW1wbGF0ZSArPSBcIjwvZGl2PlwiO1xyXG5cclxuICAgICAgICAvLyBJbmZvIHBsYWNlbWVudFxyXG4gICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZShcIntpbmZvfVwiLCBcIjxkaXYgY2xhc3M9J2RhdGFUYWJsZS1pbmZvJz48L2Rpdj5cIik7XHJcblxyXG4gICAgICAgIC8vIFBlciBQYWdlIFNlbGVjdFxyXG4gICAgICAgIGlmIChvLnBlclBhZ2VTZWxlY3QpIHtcclxuICAgICAgICAgICAgdmFyIHdyYXAgPSBcIjxkaXYgY2xhc3M9J2RhdGFUYWJsZS1kcm9wZG93bic+PGxhYmVsPlwiO1xyXG4gICAgICAgICAgICB3cmFwICs9IG8ubGFiZWxzLnBlclBhZ2U7XHJcbiAgICAgICAgICAgIHdyYXAgKz0gXCI8L2xhYmVsPjwvZGl2PlwiO1xyXG5cclxuICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBzZWxlY3RcclxuICAgICAgICAgICAgdmFyIHNlbGVjdCA9IGNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIiwge1xyXG4gICAgICAgICAgICAgICAgY2xhc3M6IFwiZGF0YVRhYmxlLXNlbGVjdG9yXCJcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIG9wdGlvbnNcclxuICAgICAgICAgICAgZWFjaChvLnBlclBhZ2VTZWxlY3QsIGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZCA9IHZhbCA9PT0gby5wZXJQYWdlO1xyXG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbiA9IG5ldyBPcHRpb24odmFsLCB2YWwsIHNlbGVjdGVkLCBzZWxlY3RlZCk7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3QuYWRkKG9wdGlvbik7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQ3VzdG9tIGxhYmVsXHJcbiAgICAgICAgICAgIHdyYXAgPSB3cmFwLnJlcGxhY2UoXCJ7c2VsZWN0fVwiLCBzZWxlY3Qub3V0ZXJIVE1MKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFNlbGVjdG9yIHBsYWNlbWVudFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoXCJ7c2VsZWN0fVwiLCB3cmFwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoXCJ7c2VsZWN0fVwiLCBcIlwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNlYXJjaGFibGVcclxuICAgICAgICBpZiAoby5zZWFyY2hhYmxlKSB7XHJcbiAgICAgICAgICAgIHZhciBmb3JtID1cclxuICAgICAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nZGF0YVRhYmxlLXNlYXJjaCc+PGlucHV0IGNsYXNzPSdkYXRhVGFibGUtaW5wdXQnIHBsYWNlaG9sZGVyPSdcIiArXHJcbiAgICAgICAgICAgICAgICBvLmxhYmVscy5wbGFjZWhvbGRlciArXHJcbiAgICAgICAgICAgICAgICBcIicgdHlwZT0ndGV4dCc+PC9kaXY+XCI7XHJcblxyXG4gICAgICAgICAgICAvLyBTZWFyY2ggaW5wdXQgcGxhY2VtZW50XHJcbiAgICAgICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZShcIntzZWFyY2h9XCIsIGZvcm0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZShcIntzZWFyY2h9XCIsIFwiXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoYXQuaGFzSGVhZGluZ3MpIHtcclxuICAgICAgICAgICAgLy8gU29ydGFibGVcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXIoXCJoZWFkZXJcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBZGQgdGFibGUgY2xhc3NcclxuICAgICAgICBjbGFzc0xpc3QuYWRkKHRoYXQudGFibGUsIFwiZGF0YVRhYmxlLXRhYmxlXCIpO1xyXG5cclxuICAgICAgICAvLyBQYWdpbmF0b3JcclxuICAgICAgICB2YXIgdyA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xyXG4gICAgICAgICAgICBjbGFzczogXCJkYXRhVGFibGUtcGFnaW5hdGlvblwiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIHBhZ2luYXRvciA9IGNyZWF0ZUVsZW1lbnQoXCJ1bFwiKTtcclxuICAgICAgICB3LmFwcGVuZENoaWxkKHBhZ2luYXRvcik7XHJcblxyXG4gICAgICAgIC8vIFBhZ2VyKHMpIHBsYWNlbWVudFxyXG4gICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZSgvXFx7cGFnZXJcXH0vZywgdy5vdXRlckhUTUwpO1xyXG5cclxuICAgICAgICB0aGF0LndyYXBwZXIuaW5uZXJIVE1MID0gdGVtcGxhdGU7XHJcblxyXG4gICAgICAgIHRoYXQuY29udGFpbmVyID0gdGhhdC53cmFwcGVyLnF1ZXJ5U2VsZWN0b3IoXCIuZGF0YVRhYmxlLWNvbnRhaW5lclwiKTtcclxuXHJcbiAgICAgICAgdGhhdC5wYWdlcnMgPSB0aGF0LndyYXBwZXIucXVlcnlTZWxlY3RvckFsbChcIi5kYXRhVGFibGUtcGFnaW5hdGlvblwiKTtcclxuXHJcbiAgICAgICAgdGhhdC5sYWJlbCA9IHRoYXQud3JhcHBlci5xdWVyeVNlbGVjdG9yKFwiLmRhdGFUYWJsZS1pbmZvXCIpO1xyXG5cclxuICAgICAgICAvLyBJbnNlcnQgaW4gdG8gRE9NIHRyZWVcclxuICAgICAgICB0aGF0LnRhYmxlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHRoYXQud3JhcHBlciwgdGhhdC50YWJsZSk7XHJcbiAgICAgICAgdGhhdC5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhhdC50YWJsZSk7XHJcblxyXG4gICAgICAgIC8vIFN0b3JlIHRoZSB0YWJsZSBkaW1lbnNpb25zXHJcbiAgICAgICAgdGhhdC5yZWN0ID0gdGhhdC50YWJsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgICAgICAgLy8gQ29udmVydCByb3dzIHRvIGFycmF5IGZvciBwcm9jZXNzaW5nXHJcbiAgICAgICAgdGhhdC5kYXRhID0gW10uc2xpY2UuY2FsbCh0aGF0LmJvZHkucm93cyk7XHJcbiAgICAgICAgdGhhdC5hY3RpdmVSb3dzID0gdGhhdC5kYXRhLnNsaWNlKCk7XHJcbiAgICAgICAgdGhhdC5hY3RpdmVIZWFkaW5ncyA9IHRoYXQuaGVhZGluZ3Muc2xpY2UoKTtcclxuXHJcbiAgICAgICAgLy8gVXBkYXRlXHJcbiAgICAgICAgdGhhdC51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgaWYgKCFvLmFqYXgpIHtcclxuICAgICAgICAgICAgdGhhdC5zZXRDb2x1bW5zKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBGaXhlZCBoZWlnaHRcclxuICAgICAgICBpZiAoby5maXhlZEhlaWdodCkge1xyXG4gICAgICAgICAgICB0aGlzLmZpeEhlaWdodCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhhdC5maXhDb2x1bW5zKCk7XHJcblxyXG4gICAgICAgIC8vIENsYXNzIG5hbWVzXHJcbiAgICAgICAgaWYgKCFvLmhlYWRlcikge1xyXG4gICAgICAgICAgICBjbGFzc0xpc3QuYWRkKHRoYXQud3JhcHBlciwgXCJuby1oZWFkZXJcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIW8uZm9vdGVyKSB7XHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5hZGQodGhhdC53cmFwcGVyLCBcIm5vLWZvb3RlclwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChvLnNvcnRhYmxlKSB7XHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5hZGQodGhhdC53cmFwcGVyLCBcInNvcnRhYmxlXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG8uc2VhcmNoYWJsZSkge1xyXG4gICAgICAgICAgICBjbGFzc0xpc3QuYWRkKHRoYXQud3JhcHBlciwgXCJzZWFyY2hhYmxlXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG8uZml4ZWRIZWlnaHQpIHtcclxuICAgICAgICAgICAgY2xhc3NMaXN0LmFkZCh0aGF0LndyYXBwZXIsIFwiZml4ZWQtaGVpZ2h0XCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG8uZml4ZWRDb2x1bW5zKSB7XHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5hZGQodGhhdC53cmFwcGVyLCBcImZpeGVkLWNvbHVtbnNcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGF0LmJpbmRFdmVudHMoKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgdGhlIHBhZ2VcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLnJlbmRlclBhZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaGFzUm93cyAmJiB0aGlzLnRvdGFsUGFnZXMpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhZ2UgPiB0aGlzLnRvdGFsUGFnZXMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBVc2UgYSBmcmFnbWVudCB0byBsaW1pdCB0b3VjaGluZyB0aGUgRE9NXHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuY3VycmVudFBhZ2UgLSAxLFxyXG4gICAgICAgICAgICAgICAgZnJhZyA9IGRvYy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5oYXNIZWFkaW5ncykge1xyXG4gICAgICAgICAgICAgICAgZmx1c2godGhpcy5oZWFkZXIsIHRoaXMuaXNJRSk7XHJcblxyXG4gICAgICAgICAgICAgICAgZWFjaCh0aGlzLmFjdGl2ZUhlYWRpbmdzLCBmdW5jdGlvbiAodGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhlYWRlci5hcHBlbmRDaGlsZCh0aCk7XHJcbiAgICAgICAgICAgICAgICB9LCB0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZWFjaCh0aGlzLnBhZ2VzW2luZGV4XSwgZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICAgICAgZnJhZy5hcHBlbmRDaGlsZCh0aGlzLnJvd3MoKS5yZW5kZXIocm93KSk7XHJcbiAgICAgICAgICAgIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jbGVhcihmcmFnKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub25GaXJzdFBhZ2UgPSB0aGlzLmN1cnJlbnRQYWdlID09PSAxO1xyXG4gICAgICAgICAgICB0aGlzLm9uTGFzdFBhZ2UgPSB0aGlzLmN1cnJlbnRQYWdlID09PSB0aGlzLmxhc3RQYWdlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xlYXIoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgaW5mb1xyXG4gICAgICAgIHZhciBjdXJyZW50ID0gMCxcclxuICAgICAgICAgICAgZiA9IDAsXHJcbiAgICAgICAgICAgIHQgPSAwLFxyXG4gICAgICAgICAgICBpdGVtcztcclxuXHJcbiAgICAgICAgaWYgKHRoaXMudG90YWxQYWdlcykge1xyXG4gICAgICAgICAgICBjdXJyZW50ID0gdGhpcy5jdXJyZW50UGFnZSAtIDE7XHJcbiAgICAgICAgICAgIGYgPSBjdXJyZW50ICogdGhpcy5vcHRpb25zLnBlclBhZ2U7XHJcbiAgICAgICAgICAgIHQgPSBmICsgdGhpcy5wYWdlc1tjdXJyZW50XS5sZW5ndGg7XHJcbiAgICAgICAgICAgIGYgPSBmICsgMTtcclxuICAgICAgICAgICAgaXRlbXMgPSAhIXRoaXMuc2VhcmNoaW5nID8gdGhpcy5zZWFyY2hEYXRhLmxlbmd0aCA6IHRoaXMuZGF0YS5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5sYWJlbCAmJiB0aGlzLm9wdGlvbnMubGFiZWxzLmluZm8ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIC8vIENVU1RPTSBMQUJFTFNcclxuICAgICAgICAgICAgdmFyIHN0cmluZyA9IHRoaXMub3B0aW9ucy5sYWJlbHMuaW5mb1xyXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoXCJ7c3RhcnR9XCIsIGYpXHJcbiAgICAgICAgICAgICAgICAucmVwbGFjZShcIntlbmR9XCIsIHQpXHJcbiAgICAgICAgICAgICAgICAucmVwbGFjZShcIntwYWdlfVwiLCB0aGlzLmN1cnJlbnRQYWdlKVxyXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoXCJ7cGFnZXN9XCIsIHRoaXMudG90YWxQYWdlcylcclxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKFwie3Jvd3N9XCIsIGl0ZW1zKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGFiZWwuaW5uZXJIVE1MID0gaXRlbXMgPyBzdHJpbmcgOiBcIlwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5maXhlZEhlaWdodCAmJiB0aGlzLmN1cnJlbnRQYWdlID09IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5maXhIZWlnaHQoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyIHRoZSBwYWdlcihzKVxyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8ucmVuZGVyUGFnZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZmx1c2godGhpcy5wYWdlcnMsIHRoaXMuaXNJRSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnRvdGFsUGFnZXMgPiAxKSB7XHJcbiAgICAgICAgICAgIHZhciBjID0gXCJwYWdlclwiLFxyXG4gICAgICAgICAgICAgICAgZnJhZyA9IGRvYy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXHJcbiAgICAgICAgICAgICAgICBwcmV2ID0gdGhpcy5vbkZpcnN0UGFnZSA/IDEgOiB0aGlzLmN1cnJlbnRQYWdlIC0gMSxcclxuICAgICAgICAgICAgICAgIG5leHQgPSB0aGlzLm9ubGFzdFBhZ2UgPyB0aGlzLnRvdGFsUGFnZXMgOiB0aGlzLmN1cnJlbnRQYWdlICsgMTtcclxuXHJcbiAgICAgICAgICAgIC8vIGZpcnN0IGJ1dHRvblxyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmZpcnN0TGFzdCkge1xyXG4gICAgICAgICAgICAgICAgZnJhZy5hcHBlbmRDaGlsZChidXR0b24oYywgMSwgdGhpcy5vcHRpb25zLmZpcnN0VGV4dCkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBwcmV2IGJ1dHRvblxyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLm5leHRQcmV2KSB7XHJcbiAgICAgICAgICAgICAgICBmcmFnLmFwcGVuZENoaWxkKGJ1dHRvbihjLCBwcmV2LCB0aGlzLm9wdGlvbnMucHJldlRleHQpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHBhZ2VyID0gdGhpcy5saW5rcztcclxuXHJcbiAgICAgICAgICAgIC8vIHRydW5jYXRlIHRoZSBsaW5rc1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRydW5jYXRlUGFnZXIpIHtcclxuICAgICAgICAgICAgICAgIHBhZ2VyID0gdHJ1bmNhdGUoXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5rcyxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFnZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5wYWdlckRlbHRhLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5lbGxpcHNpc1RleHRcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGFjdGl2ZSBwYWdlIGxpbmtcclxuICAgICAgICAgICAgY2xhc3NMaXN0LmFkZCh0aGlzLmxpbmtzW3RoaXMuY3VycmVudFBhZ2UgLSAxXSwgXCJhY3RpdmVcIik7XHJcblxyXG4gICAgICAgICAgICAvLyBhcHBlbmQgdGhlIGxpbmtzXHJcbiAgICAgICAgICAgIGVhY2gocGFnZXIsIGZ1bmN0aW9uIChwKSB7XHJcbiAgICAgICAgICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKHAsIFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICAgICAgZnJhZy5hcHBlbmRDaGlsZChwKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBjbGFzc0xpc3QuYWRkKHRoaXMubGlua3NbdGhpcy5jdXJyZW50UGFnZSAtIDFdLCBcImFjdGl2ZVwiKTtcclxuXHJcbiAgICAgICAgICAgIC8vIG5leHQgYnV0dG9uXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMubmV4dFByZXYpIHtcclxuICAgICAgICAgICAgICAgIGZyYWcuYXBwZW5kQ2hpbGQoYnV0dG9uKGMsIG5leHQsIHRoaXMub3B0aW9ucy5uZXh0VGV4dCkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBmaXJzdCBidXR0b25cclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5maXJzdExhc3QpIHtcclxuICAgICAgICAgICAgICAgIGZyYWcuYXBwZW5kQ2hpbGQoYnV0dG9uKGMsIHRoaXMudG90YWxQYWdlcywgdGhpcy5vcHRpb25zLmxhc3RUZXh0KSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFdlIG1heSBoYXZlIG1vcmUgdGhhbiBvbmUgcGFnZXJcclxuICAgICAgICAgICAgZWFjaCh0aGlzLnBhZ2VycywgZnVuY3Rpb24gKHBhZ2VyKSB7XHJcbiAgICAgICAgICAgICAgICBwYWdlci5hcHBlbmRDaGlsZChmcmFnLmNsb25lTm9kZSh0cnVlKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgdGhlIGhlYWRlclxyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8ucmVuZGVySGVhZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcclxuXHJcbiAgICAgICAgdGhhdC5sYWJlbHMgPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKHRoYXQuaGVhZGluZ3MgJiYgdGhhdC5oZWFkaW5ncy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZWFjaCh0aGF0LmhlYWRpbmdzLCBmdW5jdGlvbiAodGgsIGkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGF0LmxhYmVsc1tpXSA9IHRoLnRleHRDb250ZW50O1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjbGFzc0xpc3QuY29udGFpbnModGguZmlyc3RFbGVtZW50Q2hpbGQsIFwiZGF0YVRhYmxlLXNvcnRlclwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoLmlubmVySFRNTCA9IHRoLmZpcnN0RWxlbWVudENoaWxkLmlubmVySFRNTDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aC5zb3J0YWJsZSA9IHRoLmdldEF0dHJpYnV0ZShcImRhdGEtc29ydGFibGVcIikgIT09IFwiZmFsc2VcIjtcclxuXHJcbiAgICAgICAgICAgICAgICB0aC5vcmlnaW5hbENlbGxJbmRleCA9IGk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhhdC5vcHRpb25zLnNvcnRhYmxlICYmIHRoLnNvcnRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxpbmsgPSBjcmVhdGVFbGVtZW50KFwiYVwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY6IFwiI1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogXCJkYXRhVGFibGUtc29ydGVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw6IHRoLmlubmVySFRNTFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aC5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoLnNldEF0dHJpYnV0ZShcImRhdGEtc29ydGFibGVcIiwgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGguYXBwZW5kQ2hpbGQobGluayk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhhdC5maXhDb2x1bW5zKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQmluZCBldmVudCBsaXN0ZW5lcnNcclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICBwcm90by5iaW5kRXZlbnRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcyxcclxuICAgICAgICAgICAgbyA9IHRoYXQub3B0aW9ucztcclxuXHJcbiAgICAgICAgLy8gUGVyIHBhZ2Ugc2VsZWN0b3JcclxuICAgICAgICBpZiAoby5wZXJQYWdlU2VsZWN0KSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxlY3RvciA9IHRoYXQud3JhcHBlci5xdWVyeVNlbGVjdG9yKFwiLmRhdGFUYWJsZS1zZWxlY3RvclwiKTtcclxuICAgICAgICAgICAgaWYgKHNlbGVjdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBDaGFuZ2UgcGVyIHBhZ2VcclxuICAgICAgICAgICAgICAgIG9uKHNlbGVjdG9yLCBcImNoYW5nZVwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG8ucGVyUGFnZSA9IHBhcnNlSW50KHRoaXMudmFsdWUsIDEwKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0LnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoby5maXhlZEhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZpeEhlaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5lbWl0KFwiZGF0YXRhYmxlLnBlcnBhZ2VcIik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2VhcmNoIGlucHV0XHJcbiAgICAgICAgaWYgKG8uc2VhcmNoYWJsZSkge1xyXG4gICAgICAgICAgICB0aGF0LmlucHV0ID0gdGhhdC53cmFwcGVyLnF1ZXJ5U2VsZWN0b3IoXCIuZGF0YVRhYmxlLWlucHV0XCIpO1xyXG4gICAgICAgICAgICBpZiAodGhhdC5pbnB1dCkge1xyXG4gICAgICAgICAgICAgICAgb24odGhhdC5pbnB1dCwgXCJrZXl1cFwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuc2VhcmNoKHRoaXMudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFBhZ2VyKHMpIC8gc29ydGluZ1xyXG4gICAgICAgIG9uKHRoYXQud3JhcHBlciwgXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICB2YXIgdCA9IGUudGFyZ2V0O1xyXG4gICAgICAgICAgICBpZiAodC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImFcIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHQuaGFzQXR0cmlidXRlKFwiZGF0YS1wYWdlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5wYWdlKHQuZ2V0QXR0cmlidXRlKFwiZGF0YS1wYWdlXCIpKTtcclxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgIG8uc29ydGFibGUgJiZcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc0xpc3QuY29udGFpbnModCwgXCJkYXRhVGFibGUtc29ydGVyXCIpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgdC5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZShcImRhdGEtc29ydGFibGVcIikgIT0gXCJmYWxzZVwiXHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0LmNvbHVtbnMoKS5zb3J0KHRoYXQuYWN0aXZlSGVhZGluZ3MuaW5kZXhPZih0LnBhcmVudE5vZGUpICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHVwIGNvbHVtbnNcclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICBwcm90by5zZXRDb2x1bW5zID0gZnVuY3Rpb24gKGFqYXgpIHtcclxuXHJcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xyXG5cclxuICAgICAgICBpZiAoIWFqYXgpIHtcclxuICAgICAgICAgICAgZWFjaCh0aGF0LmRhdGEsIGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgICAgICAgICAgIGVhY2gocm93LmNlbGxzLCBmdW5jdGlvbiAoY2VsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNlbGwuZGF0YSA9IGNlbGwuaW5uZXJIVE1MO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgZm9yIHRoZSBjb2x1bW5zIG9wdGlvblxyXG4gICAgICAgIGlmICh0aGF0Lm9wdGlvbnMuY29sdW1ucyAmJiB0aGF0LmhlYWRpbmdzLmxlbmd0aCkge1xyXG5cclxuICAgICAgICAgICAgZWFjaCh0aGF0Lm9wdGlvbnMuY29sdW1ucywgZnVuY3Rpb24gKGRhdGEpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjb252ZXJ0IHNpbmdsZSBjb2x1bW4gc2VsZWN0aW9uIHRvIGFycmF5XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzQXJyYXkoZGF0YS5zZWxlY3QpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5zZWxlY3QgPSBbZGF0YS5zZWxlY3RdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KFwicmVuZGVyXCIpICYmIHR5cGVvZiBkYXRhLnJlbmRlciA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5zZWxlY3RlZENvbHVtbnMgPSB0aGF0LnNlbGVjdGVkQ29sdW1ucy5jb25jYXQoZGF0YS5zZWxlY3QpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGF0LmNvbHVtblJlbmRlcmVycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uczogZGF0YS5zZWxlY3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyOiBkYXRhLnJlbmRlclxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgZGF0YSBhdHRyaWJ1dGVzIHRvIHRoZSB0aCBlbGVtZW50c1xyXG4gICAgICAgICAgICAgICAgZWFjaChkYXRhLnNlbGVjdCwgZnVuY3Rpb24gKGNvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aCA9IHRoYXQuaGVhZGluZ3NbY29sdW1uXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoLnNldEF0dHJpYnV0ZShcImRhdGEtdHlwZVwiLCBkYXRhLnR5cGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5mb3JtYXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGguc2V0QXR0cmlidXRlKFwiZGF0YS1mb3JtYXRcIiwgZGF0YS5mb3JtYXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eShcInNvcnRhYmxlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoLnNldEF0dHJpYnV0ZShcImRhdGEtc29ydGFibGVcIiwgZGF0YS5zb3J0YWJsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eShcImhpZGRlblwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5oaWRkZW4gIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmNvbHVtbnMoY29sdW1uKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KFwic29ydFwiKSAmJiBkYXRhLnNlbGVjdC5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5jb2x1bW5zKCkuc29ydChkYXRhLnNlbGVjdFswXSArIDEsIGRhdGEuc29ydCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoYXQuaGFzUm93cykge1xyXG4gICAgICAgICAgICBlYWNoKHRoYXQuZGF0YSwgZnVuY3Rpb24gKHJvdywgaSkge1xyXG4gICAgICAgICAgICAgICAgcm93LmRhdGFJbmRleCA9IGk7XHJcbiAgICAgICAgICAgICAgICBlYWNoKHJvdy5jZWxscywgZnVuY3Rpb24gKGNlbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjZWxsLmRhdGEgPSBjZWxsLmlubmVySFRNTDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGF0LnNlbGVjdGVkQ29sdW1ucy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGVhY2godGhhdC5kYXRhLCBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWFjaChyb3cuY2VsbHMsIGZ1bmN0aW9uIChjZWxsLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGF0LnNlbGVjdGVkQ29sdW1ucy5pbmRleE9mKGkpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVhY2godGhhdC5jb2x1bW5SZW5kZXJlcnMsIGZ1bmN0aW9uIChvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8uY29sdW1ucy5pbmRleE9mKGkpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbC5pbm5lckhUTUwgPSBvLnJlbmRlcmVyLmNhbGwodGhhdCwgY2VsbC5kYXRhLCBjZWxsLCByb3cpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhhdC5jb2x1bW5zKCkucmVidWlsZCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhhdC5yZW5kZXIoXCJoZWFkZXJcIik7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVzdHJveSB0aGUgaW5zdGFuY2VcclxuICAgICAqIEByZXR1cm4ge3ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy50YWJsZS5pbm5lckhUTUwgPSB0aGlzLmluaXRpYWxMYXlvdXQ7XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZSB0aGUgY2xhc3NOYW1lXHJcbiAgICAgICAgY2xhc3NMaXN0LnJlbW92ZSh0aGlzLnRhYmxlLCBcImRhdGFUYWJsZS10YWJsZVwiKTtcclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlIHRoZSBjb250YWluZXJzXHJcbiAgICAgICAgdGhpcy53cmFwcGVyLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHRoaXMudGFibGUsIHRoaXMud3JhcHBlcik7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGUgdGhlIGluc3RhbmNlXHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5wYWdpbmF0ZSh0aGlzKTtcclxuICAgICAgICB0aGlzLnJlbmRlcihcInBhZ2VcIik7XHJcblxyXG4gICAgICAgIHRoaXMubGlua3MgPSBbXTtcclxuXHJcbiAgICAgICAgdmFyIGkgPSB0aGlzLnBhZ2VzLmxlbmd0aDtcclxuICAgICAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgICAgICAgIHZhciBudW0gPSBpICsgMTtcclxuICAgICAgICAgICAgdGhpcy5saW5rc1tpXSA9IGJ1dHRvbihpID09PSAwID8gXCJhY3RpdmVcIiA6IFwiXCIsIG51bSwgbnVtKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc29ydGluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLnJlbmRlcihcInBhZ2VyXCIpO1xyXG5cclxuICAgICAgICB0aGlzLnJvd3MoKS51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbWl0KFwiZGF0YXRhYmxlLnVwZGF0ZVwiKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTb3J0IHJvd3MgaW50byBwYWdlc1xyXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBwcm90by5wYWdpbmF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcGVyUGFnZSA9IHRoaXMub3B0aW9ucy5wZXJQYWdlLFxyXG4gICAgICAgICAgICByb3dzID0gdGhpcy5hY3RpdmVSb3dzO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zZWFyY2hpbmcpIHtcclxuICAgICAgICAgICAgcm93cyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgZWFjaCh0aGlzLnNlYXJjaERhdGEsIGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgcm93cy5wdXNoKHRoaXMuYWN0aXZlUm93c1tpbmRleF0pO1xyXG4gICAgICAgICAgICB9LCB0aGlzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGZvciBoaWRkZW4gY29sdW1uc1xyXG4gICAgICAgIHRoaXMucGFnZXMgPSByb3dzXHJcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHRyLCBpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaSAlIHBlclBhZ2UgPT09IDAgPyByb3dzLnNsaWNlKGksIGkgKyBwZXJQYWdlKSA6IG51bGw7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHBhZ2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwYWdlO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy50b3RhbFBhZ2VzID0gdGhpcy5sYXN0UGFnZSA9IHRoaXMucGFnZXMubGVuZ3RoO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy50b3RhbFBhZ2VzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEZpeCBjb2x1bW4gd2lkdGhzXHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5maXhDb2x1bW5zID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmZpeGVkQ29sdW1ucyAmJiB0aGlzLmFjdGl2ZUhlYWRpbmdzICYmIHRoaXMuYWN0aXZlSGVhZGluZ3MubGVuZ3RoKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgY2VsbHMsXHJcbiAgICAgICAgICAgICAgICBoZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jb2x1bW5XaWR0aHMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgaGVhZGluZ3Mgd2UgbmVlZCBvbmx5IHNldCB0aGUgd2lkdGhzIG9uIHRoZW1cclxuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIHdlIG5lZWQgYSB0ZW1wIGhlYWRlciBhbmQgdGhlIHdpZHRocyBuZWVkIGFwcGx5aW5nIHRvIGFsbCBjZWxsc1xyXG4gICAgICAgICAgICBpZiAodGhpcy50YWJsZS50SGVhZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gUmVzZXQgd2lkdGhzXHJcbiAgICAgICAgICAgICAgICBlYWNoKHRoaXMuYWN0aXZlSGVhZGluZ3MsIGZ1bmN0aW9uIChjZWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2VsbC5zdHlsZS53aWR0aCA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICB9LCB0aGlzKTtcclxuXHJcbiAgICAgICAgICAgICAgICBlYWNoKHRoaXMuYWN0aXZlSGVhZGluZ3MsIGZ1bmN0aW9uIChjZWxsLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG93ID0gY2VsbC5vZmZzZXRXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdyA9IG93IC8gdGhpcy5yZWN0LndpZHRoICogMTAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGNlbGwuc3R5bGUud2lkdGggPSB3ICsgXCIlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2x1bW5XaWR0aHNbaV0gPSBvdztcclxuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2VsbHMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBNYWtlIHRlbXBlcmFyeSBoZWFkaW5nc1xyXG4gICAgICAgICAgICAgICAgaGQgPSBjcmVhdGVFbGVtZW50KFwidGhlYWRcIik7XHJcbiAgICAgICAgICAgICAgICB2YXIgciA9IGNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcclxuICAgICAgICAgICAgICAgIHZhciBjID0gdGhpcy50YWJsZS50Qm9kaWVzWzBdLnJvd3NbMF0uY2VsbHM7XHJcbiAgICAgICAgICAgICAgICBlYWNoKGMsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGggPSBjcmVhdGVFbGVtZW50KFwidGhcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgci5hcHBlbmRDaGlsZCh0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2VsbHMucHVzaCh0aCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBoZC5hcHBlbmRDaGlsZChyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudGFibGUuaW5zZXJ0QmVmb3JlKGhkLCB0aGlzLmJvZHkpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciB3aWR0aHMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGVhY2goY2VsbHMsIGZ1bmN0aW9uIChjZWxsLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG93ID0gY2VsbC5vZmZzZXRXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdyA9IG93IC8gdGhpcy5yZWN0LndpZHRoICogMTAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRocy5wdXNoKHcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sdW1uV2lkdGhzW2ldID0gb3c7XHJcbiAgICAgICAgICAgICAgICB9LCB0aGlzKTtcclxuXHJcbiAgICAgICAgICAgICAgICBlYWNoKHRoaXMuZGF0YSwgZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICAgICAgICAgIGVhY2gocm93LmNlbGxzLCBmdW5jdGlvbiAoY2VsbCwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb2x1bW5zKGNlbGwuY2VsbEluZGV4KS52aXNpYmxlKCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWxsLnN0eWxlLndpZHRoID0gd2lkdGhzW2ldICsgXCIlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9LCB0aGlzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBEaXNjYXJkIHRoZSB0ZW1wIGhlYWRlclxyXG4gICAgICAgICAgICAgICAgdGhpcy50YWJsZS5yZW1vdmVDaGlsZChoZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRml4IHRoZSBjb250YWluZXIgaGVpZ2h0O1xyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8uZml4SGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5yZWN0ID0gdGhpcy5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gdGhpcy5yZWN0LmhlaWdodCArIFwicHhcIjtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQZXJmb3JtIGEgc2VhcmNoIG9mIHRoZSBkYXRhIHNldFxyXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSBxdWVyeVxyXG4gICAgICogQHJldHVybiB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8uc2VhcmNoID0gZnVuY3Rpb24gKHF1ZXJ5KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmhhc1Jvd3MpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xyXG5cclxuICAgICAgICBxdWVyeSA9IHF1ZXJ5LnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxO1xyXG4gICAgICAgIHRoaXMuc2VhcmNoaW5nID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnNlYXJjaERhdGEgPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKCFxdWVyeS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWFyY2hpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5lbWl0KFwiZGF0YXRhYmxlLnNlYXJjaFwiLCBxdWVyeSwgdGhpcy5zZWFyY2hEYXRhKTtcclxuICAgICAgICAgICAgY2xhc3NMaXN0LnJlbW92ZSh0aGlzLndyYXBwZXIsIFwic2VhcmNoLXJlc3VsdHNcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY2xlYXIoKTtcclxuXHJcbiAgICAgICAgZWFjaCh0aGlzLmRhdGEsIGZ1bmN0aW9uIChyb3csIGlkeCkge1xyXG4gICAgICAgICAgICB2YXIgaW5BcnJheSA9IHRoaXMuc2VhcmNoRGF0YS5pbmRleE9mKHJvdykgPiAtMTtcclxuXHJcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9Nb2JpdXMxL1ZhbmlsbGEtRGF0YVRhYmxlcy9pc3N1ZXMvMTJcclxuICAgICAgICAgICAgdmFyIGRvZXNRdWVyeU1hdGNoID0gcXVlcnkuc3BsaXQoXCIgXCIpLnJlZHVjZShmdW5jdGlvbiAoYm9vbCwgd29yZCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluY2x1ZGVzID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCByb3cuY2VsbHMubGVuZ3RoOyB4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdy5jZWxsc1t4XS50ZXh0Q29udGVudC50b0xvd2VyQ2FzZSgpLmluZGV4T2Yod29yZCkgPiAtMSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmNvbHVtbnMocm93LmNlbGxzW3hdLmNlbGxJbmRleCkudmlzaWJsZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBib29sICYmIGluY2x1ZGVzO1xyXG4gICAgICAgICAgICB9LCB0cnVlKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkb2VzUXVlcnlNYXRjaCAmJiAhaW5BcnJheSkge1xyXG4gICAgICAgICAgICAgICAgcm93LnNlYXJjaEluZGV4ID0gaWR4O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWFyY2hEYXRhLnB1c2goaWR4KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJvdy5zZWFyY2hJbmRleCA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCB0aGlzKTtcclxuXHJcbiAgICAgICAgY2xhc3NMaXN0LmFkZCh0aGlzLndyYXBwZXIsIFwic2VhcmNoLXJlc3VsdHNcIik7XHJcblxyXG4gICAgICAgIGlmICghdGhhdC5zZWFyY2hEYXRhLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKHRoYXQud3JhcHBlciwgXCJzZWFyY2gtcmVzdWx0c1wiKTtcclxuXHJcbiAgICAgICAgICAgIHRoYXQuc2V0TWVzc2FnZSh0aGF0Lm9wdGlvbnMubGFiZWxzLm5vUm93cyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhhdC51cGRhdGUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZW1pdChcImRhdGF0YWJsZS5zZWFyY2hcIiwgcXVlcnksIHRoaXMuc2VhcmNoRGF0YSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hhbmdlIHBhZ2VcclxuICAgICAqIEBwYXJhbSAge2ludH0gcGFnZVxyXG4gICAgICogQHJldHVybiB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8ucGFnZSA9IGZ1bmN0aW9uIChwYWdlKSB7XHJcbiAgICAgICAgLy8gV2UgZG9uJ3Qgd2FudCB0byBsb2FkIHRoZSBjdXJyZW50IHBhZ2UgYWdhaW4uXHJcbiAgICAgICAgaWYgKHBhZ2UgPT0gdGhpcy5jdXJyZW50UGFnZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWlzTmFOKHBhZ2UpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSBwYXJzZUludChwYWdlLCAxMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocGFnZSA+IHRoaXMucGFnZXMubGVuZ3RoIHx8IHBhZ2UgPCAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucmVuZGVyKFwicGFnZVwiKTtcclxuICAgICAgICB0aGlzLnJlbmRlcihcInBhZ2VyXCIpO1xyXG5cclxuICAgICAgICB0aGlzLmVtaXQoXCJkYXRhdGFibGUucGFnZVwiLCBwYWdlKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTb3J0IGJ5IGNvbHVtblxyXG4gICAgICogQHBhcmFtICB7aW50fSBjb2x1bW4gLSBUaGUgY29sdW1uIG5vLlxyXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSBkaXJlY3Rpb24gLSBhc2Mgb3IgZGVzY1xyXG4gICAgICogQHJldHVybiB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8uc29ydENvbHVtbiA9IGZ1bmN0aW9uIChjb2x1bW4sIGRpcmVjdGlvbikge1xyXG4gICAgICAgIC8vIFVzZSBjb2x1bW5zIEFQSSB1bnRpbCBzb3J0Q29sdW1uIG1ldGhvZCBpcyByZW1vdmVkXHJcbiAgICAgICAgdGhpcy5jb2x1bW5zKCkuc29ydChjb2x1bW4sIGRpcmVjdGlvbik7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkIG5ldyByb3cgZGF0YVxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGRhdGFcclxuICAgICAqL1xyXG4gICAgcHJvdG8uaW5zZXJ0ID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuXHJcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzLFxyXG4gICAgICAgICAgICByb3dzID0gW107XHJcbiAgICAgICAgaWYgKGlzT2JqZWN0KGRhdGEpKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmhlYWRpbmdzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoYXQuaGFzSGVhZGluZ3MgJiYgIXRoYXQuaGFzUm93cykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0ciA9IGNyZWF0ZUVsZW1lbnQoXCJ0clwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgZWFjaChkYXRhLmhlYWRpbmdzLCBmdW5jdGlvbiAoaGVhZGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aCA9IGNyZWF0ZUVsZW1lbnQoXCJ0aFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sOiBoZWFkaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuaGVhZC5hcHBlbmRDaGlsZCh0cik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuaGVhZGVyID0gdHI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5oZWFkaW5ncyA9IFtdLnNsaWNlLmNhbGwodHIuY2VsbHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuaGFzSGVhZGluZ3MgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBSZS1lbmFibGUgc29ydGluZyBpZiBpdCB3YXMgZGlzYWJsZWQgZHVlXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdG8gbWlzc2luZyBoZWFkZXJcclxuICAgICAgICAgICAgICAgICAgICB0aGF0Lm9wdGlvbnMuc29ydGFibGUgPSB0aGF0LmluaXRpYWxTb3J0YWJsZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQWxsb3cgc29ydGluZyBvbiBuZXcgaGVhZGVyXHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5yZW5kZXIoXCJoZWFkZXJcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChkYXRhLmRhdGEgJiYgaXNBcnJheShkYXRhLmRhdGEpKSB7XHJcbiAgICAgICAgICAgICAgICByb3dzID0gZGF0YS5kYXRhO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KGRhdGEpKSB7XHJcbiAgICAgICAgICAgIGVhY2goZGF0YSwgZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHIgPSBbXTtcclxuICAgICAgICAgICAgICAgIGVhY2gocm93LCBmdW5jdGlvbiAoY2VsbCwgaGVhZGluZykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0aGF0LmxhYmVscy5pbmRleE9mKGhlYWRpbmcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByW2luZGV4XSA9IGNlbGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByb3dzLnB1c2gocik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHJvd3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoYXQucm93cygpLmFkZChyb3dzKTtcclxuXHJcbiAgICAgICAgICAgIHRoYXQuaGFzUm93cyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGF0LnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICB0aGF0LmZpeENvbHVtbnMoKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWZyZXNoIHRoZSBpbnN0YW5jZVxyXG4gICAgICogQHJldHVybiB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8ucmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNlYXJjaGFibGUpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnB1dC52YWx1ZSA9IFwiXCI7XHJcbiAgICAgICAgICAgIHRoaXMuc2VhcmNoaW5nID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxO1xyXG4gICAgICAgIHRoaXMub25GaXJzdFBhZ2UgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMudXBkYXRlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuZW1pdChcImRhdGF0YWJsZS5yZWZyZXNoXCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRydW5jYXRlIHRoZSB0YWJsZVxyXG4gICAgICogQHBhcmFtICB7bWl4ZXN9IGh0bWwgLSBIVE1MIHN0cmluZyBvciBIVE1MRWxlbWVudFxyXG4gICAgICogQHJldHVybiB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8uY2xlYXIgPSBmdW5jdGlvbiAoaHRtbCkge1xyXG4gICAgICAgIGlmICh0aGlzLmJvZHkpIHtcclxuICAgICAgICAgICAgZmx1c2godGhpcy5ib2R5LCB0aGlzLmlzSUUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMuYm9keTtcclxuICAgICAgICBpZiAoIXRoaXMuYm9keSkge1xyXG4gICAgICAgICAgICBwYXJlbnQgPSB0aGlzLnRhYmxlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGh0bWwpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBodG1sID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZnJhZyA9IGRvYy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XHJcbiAgICAgICAgICAgICAgICBmcmFnLmlubmVySFRNTCA9IGh0bWw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChodG1sKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRXhwb3J0IHRhYmxlIHRvIHZhcmlvdXMgZm9ybWF0cyAoY3N2LCB0eHQgb3Igc3FsKVxyXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zIFVzZXIgb3B0aW9uc1xyXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgcHJvdG8uZXhwb3J0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaGFzSGVhZGluZ3MgJiYgIXRoaXMuaGFzUm93cykgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICB2YXIgaGVhZGVycyA9IHRoaXMuYWN0aXZlSGVhZGluZ3MsXHJcbiAgICAgICAgICAgIHJvd3MgPSBbXSxcclxuICAgICAgICAgICAgYXJyID0gW10sXHJcbiAgICAgICAgICAgIGksXHJcbiAgICAgICAgICAgIHgsXHJcbiAgICAgICAgICAgIHN0cixcclxuICAgICAgICAgICAgbGluaztcclxuXHJcbiAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xyXG4gICAgICAgICAgICBkb3dubG9hZDogdHJ1ZSxcclxuICAgICAgICAgICAgc2tpcENvbHVtbjogW10sXHJcblxyXG4gICAgICAgICAgICAvLyBjc3ZcclxuICAgICAgICAgICAgbGluZURlbGltaXRlcjogXCJcXG5cIixcclxuICAgICAgICAgICAgY29sdW1uRGVsaW1pdGVyOiBcIixcIixcclxuXHJcbiAgICAgICAgICAgIC8vIHNxbFxyXG4gICAgICAgICAgICB0YWJsZU5hbWU6IFwibXlUYWJsZVwiLFxyXG5cclxuICAgICAgICAgICAgLy8ganNvblxyXG4gICAgICAgICAgICByZXBsYWNlcjogbnVsbCxcclxuICAgICAgICAgICAgc3BhY2U6IDRcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBDaGVjayBmb3IgdGhlIG9wdGlvbnMgb2JqZWN0XHJcbiAgICAgICAgaWYgKCFpc09iamVjdChvcHRpb25zKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgbyA9IGV4dGVuZChkZWZhdWx0cywgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgIGlmIChvLnR5cGUpIHtcclxuICAgICAgICAgICAgaWYgKG8udHlwZSA9PT0gXCJ0eHRcIiB8fCBvLnR5cGUgPT09IFwiY3N2XCIpIHtcclxuICAgICAgICAgICAgICAgIC8vIEluY2x1ZGUgaGVhZGluZ3NcclxuICAgICAgICAgICAgICAgIHJvd3NbMF0gPSB0aGlzLmhlYWRlcjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gU2VsZWN0aW9uIG9yIHdob2xlIHRhYmxlXHJcbiAgICAgICAgICAgIGlmIChvLnNlbGVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgLy8gUGFnZSBudW1iZXJcclxuICAgICAgICAgICAgICAgIGlmICghaXNOYU4oby5zZWxlY3Rpb24pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93cyA9IHJvd3MuY29uY2F0KHRoaXMucGFnZXNbby5zZWxlY3Rpb24gLSAxXSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkoby5zZWxlY3Rpb24pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQXJyYXkgb2YgcGFnZSBudW1iZXJzXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IG8uc2VsZWN0aW9uLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd3MgPSByb3dzLmNvbmNhdCh0aGlzLnBhZ2VzW28uc2VsZWN0aW9uW2ldIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJvd3MgPSByb3dzLmNvbmNhdCh0aGlzLmFjdGl2ZVJvd3MpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBPbmx5IHByb2NlZWQgaWYgd2UgaGF2ZSBkYXRhXHJcbiAgICAgICAgICAgIGlmIChyb3dzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG8udHlwZSA9PT0gXCJ0eHRcIiB8fCBvLnR5cGUgPT09IFwiY3N2XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBcIlwiO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcm93cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHggPSAwOyB4IDwgcm93c1tpXS5jZWxscy5sZW5ndGg7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGNvbHVtbiBza2lwIGFuZCB2aXNpYmlsaXR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby5za2lwQ29sdW1uLmluZGV4T2YoaGVhZGVyc1t4XS5vcmlnaW5hbENlbGxJbmRleCkgPCAwICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2x1bW5zKGhlYWRlcnNbeF0ub3JpZ2luYWxDZWxsSW5kZXgpLnZpc2libGUoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9IHJvd3NbaV0uY2VsbHNbeF0udGV4dENvbnRlbnQgKyBvLmNvbHVtbkRlbGltaXRlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdHJhaWxpbmcgY29sdW1uIGRlbGltaXRlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHIgPSBzdHIudHJpbSgpLnN1YnN0cmluZygwLCBzdHIubGVuZ3RoIC0gMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBcHBseSBsaW5lIGRlbGltaXRlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHIgKz0gby5saW5lRGVsaW1pdGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRyYWlsaW5nIGxpbmUgZGVsaW1pdGVyXHJcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gc3RyLnRyaW0oKS5zdWJzdHJpbmcoMCwgc3RyLmxlbmd0aCAtIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoby5kb3dubG9hZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHIgPSBcImRhdGE6dGV4dC9jc3Y7Y2hhcnNldD11dGYtOCxcIiArIHN0cjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG8udHlwZSA9PT0gXCJzcWxcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEJlZ2luIElOU0VSVCBzdGF0ZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBcIklOU0VSVCBJTlRPIGBcIiArIG8udGFibGVOYW1lICsgXCJgIChcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29udmVydCB0YWJsZSBoZWFkaW5ncyB0byBjb2x1bW4gbmFtZXNcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaGVhZGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgY29sdW1uIHNraXAgYW5kIGNvbHVtbiB2aXNpYmlsaXR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8uc2tpcENvbHVtbi5pbmRleE9mKGhlYWRlcnNbaV0ub3JpZ2luYWxDZWxsSW5kZXgpIDwgMCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2x1bW5zKGhlYWRlcnNbaV0ub3JpZ2luYWxDZWxsSW5kZXgpLnZpc2libGUoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSBcImBcIiArIGhlYWRlcnNbaV0udGV4dENvbnRlbnQgKyBcImAsXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0cmFpbGluZyBjb21tYVxyXG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IHN0ci50cmltKCkuc3Vic3RyaW5nKDAsIHN0ci5sZW5ndGggLSAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQmVnaW4gVkFMVUVTXHJcbiAgICAgICAgICAgICAgICAgICAgc3RyICs9IFwiKSBWQUxVRVMgXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEl0ZXJhdGUgcm93cyBhbmQgY29udmVydCBjZWxsIGRhdGEgdG8gY29sdW1uIHZhbHVlc1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCByb3dzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSBcIihcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoeCA9IDA7IHggPCByb3dzW2ldLmNlbGxzLmxlbmd0aDsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgY29sdW1uIHNraXAgYW5kIGNvbHVtbiB2aXNpYmlsaXR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby5za2lwQ29sdW1uLmluZGV4T2YoaGVhZGVyc1t4XS5vcmlnaW5hbENlbGxJbmRleCkgPCAwICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2x1bW5zKGhlYWRlcnNbeF0ub3JpZ2luYWxDZWxsSW5kZXgpLnZpc2libGUoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9ICdcIicgKyByb3dzW2ldLmNlbGxzW3hdLnRleHRDb250ZW50ICsgJ1wiLCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0cmFpbGluZyBjb21tYVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHIgPSBzdHIudHJpbSgpLnN1YnN0cmluZygwLCBzdHIubGVuZ3RoIC0gMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlbmQgVkFMVUVTXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSBcIiksXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdHJhaWxpbmcgY29tbWFcclxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBzdHIudHJpbSgpLnN1YnN0cmluZygwLCBzdHIubGVuZ3RoIC0gMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0cmFpbGluZyBjb2xvblxyXG4gICAgICAgICAgICAgICAgICAgIHN0ciArPSBcIjtcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG8uZG93bmxvYWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyID0gXCJkYXRhOmFwcGxpY2F0aW9uL3NxbDtjaGFyc2V0PXV0Zi04LFwiICsgc3RyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoby50eXBlID09PSBcImpzb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEl0ZXJhdGUgcm93c1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoeCA9IDA7IHggPCByb3dzLmxlbmd0aDsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyclt4XSA9IGFyclt4XSB8fCB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSXRlcmF0ZSBjb2x1bW5zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBoZWFkZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgY29sdW1uIHNraXAgYW5kIGNvbHVtbiB2aXNpYmlsaXR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby5za2lwQ29sdW1uLmluZGV4T2YoaGVhZGVyc1tpXS5vcmlnaW5hbENlbGxJbmRleCkgPCAwICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2x1bW5zKGhlYWRlcnNbaV0ub3JpZ2luYWxDZWxsSW5kZXgpLnZpc2libGUoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyW3hdW2hlYWRlcnNbaV0udGV4dENvbnRlbnRdID0gcm93c1t4XS5jZWxsc1tpXS50ZXh0Q29udGVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29udmVydCB0aGUgYXJyYXkgb2Ygb2JqZWN0cyB0byBKU09OIHN0cmluZ1xyXG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IEpTT04uc3RyaW5naWZ5KGFyciwgby5yZXBsYWNlciwgby5zcGFjZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvLmRvd25sb2FkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciA9IFwiZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTgsXCIgKyBzdHI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIERvd25sb2FkXHJcbiAgICAgICAgICAgICAgICBpZiAoby5kb3dubG9hZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEZpbGVuYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgby5maWxlbmFtZSA9IG8uZmlsZW5hbWUgfHwgXCJkYXRhdGFibGVfZXhwb3J0XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgby5maWxlbmFtZSArPSBcIi5cIiArIG8udHlwZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gZW5jb2RlVVJJKHN0cik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIGxpbmsgdG8gdHJpZ2dlciB0aGUgZG93bmxvYWRcclxuICAgICAgICAgICAgICAgICAgICBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluay5ocmVmID0gc3RyO1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmsuZG93bmxvYWQgPSBvLmZpbGVuYW1lO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBBcHBlbmQgdGhlIGxpbmtcclxuICAgICAgICAgICAgICAgICAgICBib2R5LmFwcGVuZENoaWxkKGxpbmspO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBUcmlnZ2VyIHRoZSBkb3dubG9hZFxyXG4gICAgICAgICAgICAgICAgICAgIGxpbmsuY2xpY2soKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBsaW5rXHJcbiAgICAgICAgICAgICAgICAgICAgYm9keS5yZW1vdmVDaGlsZChsaW5rKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW1wb3J0IGRhdGEgdG8gdGhlIHRhYmxlXHJcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnMgVXNlciBvcHRpb25zXHJcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICBwcm90by5pbXBvcnQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgICAgIHZhciBvYmogPSBmYWxzZTtcclxuICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XHJcbiAgICAgICAgICAgIC8vIGNzdlxyXG4gICAgICAgICAgICBsaW5lRGVsaW1pdGVyOiBcIlxcblwiLFxyXG4gICAgICAgICAgICBjb2x1bW5EZWxpbWl0ZXI6IFwiLFwiXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgZm9yIHRoZSBvcHRpb25zIG9iamVjdFxyXG4gICAgICAgIGlmICghaXNPYmplY3Qob3B0aW9ucykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgb3B0aW9ucyA9IGV4dGVuZChkZWZhdWx0cywgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgIGlmIChvcHRpb25zLmRhdGEubGVuZ3RoIHx8IGlzT2JqZWN0KG9wdGlvbnMuZGF0YSkpIHtcclxuICAgICAgICAgICAgLy8gSW1wb3J0IENTVlxyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy50eXBlID09PSBcImNzdlwiKSB7XHJcbiAgICAgICAgICAgICAgICBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogW11cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU3BsaXQgdGhlIHN0cmluZyBpbnRvIHJvd3NcclxuICAgICAgICAgICAgICAgIHZhciByb3dzID0gb3B0aW9ucy5kYXRhLnNwbGl0KG9wdGlvbnMubGluZURlbGltaXRlcik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHJvd3MubGVuZ3RoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmhlYWRpbmdzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5oZWFkaW5ncyA9IHJvd3NbMF0uc3BsaXQob3B0aW9ucy5jb2x1bW5EZWxpbWl0ZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcm93cy5zaGlmdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZWFjaChyb3dzLCBmdW5jdGlvbiAocm93LCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5kYXRhW2ldID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTcGxpdCB0aGUgcm93cyBpbnRvIHZhbHVlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVzID0gcm93LnNwbGl0KG9wdGlvbnMuY29sdW1uRGVsaW1pdGVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYWNoKHZhbHVlcywgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmRhdGFbaV0ucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMudHlwZSA9PT0gXCJqc29uXCIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBqc29uID0gaXNKc29uKG9wdGlvbnMuZGF0YSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gVmFsaWQgSlNPTiBzdHJpbmdcclxuICAgICAgICAgICAgICAgIGlmIChqc29uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkaW5nczogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IFtdXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZWFjaChqc29uLCBmdW5jdGlvbiAoZGF0YSwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmouZGF0YVtpXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlYWNoKGRhdGEsIGZ1bmN0aW9uICh2YWx1ZSwgY29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLmhlYWRpbmdzLmluZGV4T2YoY29sdW1uKSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouaGVhZGluZ3MucHVzaChjb2x1bW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5kYXRhW2ldLnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVGhhdCdzIG5vdCB2YWxpZCBKU09OIVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMuZGF0YSkpIHtcclxuICAgICAgICAgICAgICAgIG9iaiA9IG9wdGlvbnMuZGF0YTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKG9iaikge1xyXG4gICAgICAgICAgICAgICAgLy8gQWRkIHRoZSByb3dzXHJcbiAgICAgICAgICAgICAgICB0aGlzLmluc2VydChvYmopO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBQcmludCB0aGUgdGFibGVcclxuICAgICAqIEByZXR1cm4ge3ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLnByaW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBoZWFkaW5ncyA9IHRoaXMuYWN0aXZlSGVhZGluZ3M7XHJcbiAgICAgICAgdmFyIHJvd3MgPSB0aGlzLmFjdGl2ZVJvd3M7XHJcbiAgICAgICAgdmFyIHRhYmxlID0gY3JlYXRlRWxlbWVudChcInRhYmxlXCIpO1xyXG4gICAgICAgIHZhciB0aGVhZCA9IGNyZWF0ZUVsZW1lbnQoXCJ0aGVhZFwiKTtcclxuICAgICAgICB2YXIgdGJvZHkgPSBjcmVhdGVFbGVtZW50KFwidGJvZHlcIik7XHJcblxyXG4gICAgICAgIHZhciB0ciA9IGNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcclxuICAgICAgICBlYWNoKGhlYWRpbmdzLCBmdW5jdGlvbiAodGgpIHtcclxuICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQoXHJcbiAgICAgICAgICAgICAgICBjcmVhdGVFbGVtZW50KFwidGhcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIGh0bWw6IHRoLnRleHRDb250ZW50XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGVhZC5hcHBlbmRDaGlsZCh0cik7XHJcblxyXG4gICAgICAgIGVhY2gocm93cywgZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICB2YXIgdHIgPSBjcmVhdGVFbGVtZW50KFwidHJcIik7XHJcbiAgICAgICAgICAgIGVhY2gocm93LmNlbGxzLCBmdW5jdGlvbiAoY2VsbCkge1xyXG4gICAgICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQoXHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlRWxlbWVudChcInRkXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogY2VsbC50ZXh0Q29udGVudFxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGJvZHkuYXBwZW5kQ2hpbGQodHIpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0YWJsZS5hcHBlbmRDaGlsZCh0aGVhZCk7XHJcbiAgICAgICAgdGFibGUuYXBwZW5kQ2hpbGQodGJvZHkpO1xyXG5cclxuICAgICAgICAvLyBPcGVuIG5ldyB3aW5kb3dcclxuICAgICAgICB2YXIgdyA9IHdpbi5vcGVuKCk7XHJcblxyXG4gICAgICAgIC8vIEFwcGVuZCB0aGUgdGFibGUgdG8gdGhlIGJvZHlcclxuICAgICAgICB3LmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGFibGUpO1xyXG5cclxuICAgICAgICAvLyBQcmludFxyXG4gICAgICAgIHcucHJpbnQoKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTaG93IGEgbWVzc2FnZSBpbiB0aGUgdGFibGVcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlXHJcbiAgICAgKi9cclxuICAgIHByb3RvLnNldE1lc3NhZ2UgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xyXG4gICAgICAgIHZhciBjb2xzcGFuID0gMTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaGFzUm93cykge1xyXG4gICAgICAgICAgICBjb2xzcGFuID0gdGhpcy5kYXRhWzBdLmNlbGxzLmxlbmd0aDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY2xlYXIoXHJcbiAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnQoXCJ0clwiLCB7XHJcbiAgICAgICAgICAgICAgICBodG1sOiAnPHRkIGNsYXNzPVwiZGF0YVRhYmxlcy1lbXB0eVwiIGNvbHNwYW49XCInICtcclxuICAgICAgICAgICAgICAgICAgICBjb2xzcGFuICtcclxuICAgICAgICAgICAgICAgICAgICAnXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSArXHJcbiAgICAgICAgICAgICAgICAgICAgXCI8L3RkPlwiXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb2x1bW5zIEFQSSBhY2Nlc3NcclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gbmV3IENvbHVtbnMgaW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgcHJvdG8uY29sdW1ucyA9IGZ1bmN0aW9uIChjb2x1bW5zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDb2x1bW5zKHRoaXMsIGNvbHVtbnMpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJvd3MgQVBJIGFjY2Vzc1xyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBuZXcgUm93cyBpbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBwcm90by5yb3dzID0gZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFJvd3ModGhpcywgcm93cyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkIGN1c3RvbSBldmVudCBsaXN0ZW5lclxyXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBldmVudFxyXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGNhbGxiYWNrXHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5vbiA9IGZ1bmN0aW9uIChldmVudCwgY2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLmV2ZW50cyA9IHRoaXMuZXZlbnRzIHx8IHt9O1xyXG4gICAgICAgIHRoaXMuZXZlbnRzW2V2ZW50XSA9IHRoaXMuZXZlbnRzW2V2ZW50XSB8fCBbXTtcclxuICAgICAgICB0aGlzLmV2ZW50c1tldmVudF0ucHVzaChjYWxsYmFjayk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIGN1c3RvbSBldmVudCBsaXN0ZW5lclxyXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBldmVudFxyXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGNhbGxiYWNrXHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5vZmYgPSBmdW5jdGlvbiAoZXZlbnQsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudHMgPSB0aGlzLmV2ZW50cyB8fCB7fTtcclxuICAgICAgICBpZiAoZXZlbnQgaW4gdGhpcy5ldmVudHMgPT09IGZhbHNlKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5ldmVudHNbZXZlbnRdLnNwbGljZSh0aGlzLmV2ZW50c1tldmVudF0uaW5kZXhPZihjYWxsYmFjayksIDEpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEZpcmUgY3VzdG9tIGV2ZW50XHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGV2ZW50XHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5lbWl0ID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5ldmVudHMgPSB0aGlzLmV2ZW50cyB8fCB7fTtcclxuICAgICAgICBpZiAoZXZlbnQgaW4gdGhpcy5ldmVudHMgPT09IGZhbHNlKSByZXR1cm47XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmV2ZW50c1tldmVudF0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudHNbZXZlbnRdW2ldLmFwcGx5KHRoaXMsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIERhdGFUYWJsZTtcclxufSk7IiwiaW1wb3J0IERhdGFUYWJsZSBmcm9tICd2YW5pbGxhLWRhdGF0YWJsZXMnO1xuaW1wb3J0IHsgY29sb3JfaGlnaGxpZ2h0IH0gZnJvbSAnLi9vcHRpb25zJztcblxuZnVuY3Rpb24gY3JlYXRlVGFibGVET00oZGF0YSwgb3B0cywgY29uZmlnKSB7XG4gIGNvbnN0IHsgbnVtLCBkZW51bSwgcmF0aW8sIG15X3JlZ2lvbiB9ID0gY29uZmlnO1xuICBjb25zdCBvcHRpb25zID0gb3B0cyB8fCB7fTtcbiAgb3B0aW9ucy5pZCA9IG9wdGlvbnMuaWQgfHwgJ215VGFibGUnO1xuICBjb25zdCBkb2MgPSBkb2N1bWVudDtcbiAgY29uc3QgbmJfZmVhdHVyZXMgPSBkYXRhLmxlbmd0aDtcbiAgY29uc3QgY29sdW1uX25hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGF0YVswXSk7XG4gIGNvbnN0IG5iX2NvbHVtbnMgPSBjb2x1bW5fbmFtZXMubGVuZ3RoO1xuICBjb25zdCBteVRhYmxlID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3RhYmxlJyk7XG4gIGNvbnN0IGhlYWRlcnMgPSBkb2MuY3JlYXRlRWxlbWVudCgndGhlYWQnKTtcbiAgY29uc3QgYm9keSA9IGRvYy5jcmVhdGVFbGVtZW50KCd0Ym9keScpO1xuICBjb25zdCBoZWFkZXJzX3JvdyA9IGRvYy5jcmVhdGVFbGVtZW50KCd0cicpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG5iX2NvbHVtbnM7IGkrKykge1xuICAgIGNvbnN0IGNlbGwgPSBkb2MuY3JlYXRlRWxlbWVudCgndGgnKTtcbiAgICBjb25zdCBjb2xfbmFtZSA9IGNvbHVtbl9uYW1lc1tpXTtcbiAgICBpZiAobnVtLmluZGV4T2YoY29sX25hbWUpID4gLTEpIHtcbiAgICAgIGNlbGwuaW5uZXJIVE1MID0gYE51bTxicj48c3BhbiBjbGFzcz1cInNtYWxsXCI+JHtjb2xfbmFtZX1gO1xuICAgIH0gZWxzZSBpZiAoZGVudW0uaW5kZXhPZihjb2xfbmFtZSkgPiAtMSkge1xuICAgICAgY2VsbC5pbm5lckhUTUwgPSBgRGVudW08YnI+PHNwYW4gY2xhc3M9XCJzbWFsbFwiPiR7Y29sX25hbWV9YDtcbiAgICB9IGVsc2UgaWYgKHJhdGlvLmluZGV4T2YoY29sX25hbWUpID4gLTEpIHtcbiAgICAgIGNlbGwuaW5uZXJIVE1MID0gYFJhdGlvPGJyPjxzcGFuIGNsYXNzPVwic21hbGxcIj4ke2NvbF9uYW1lfWA7XG4gICAgfSBlbHNlIGlmIChjb2xfbmFtZSA9PT0gJ3JhbmcnKSB7XG4gICAgICBjZWxsLmlubmVySFRNTCA9ICdSYW5nICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNlbGwuaW5uZXJIVE1MID0gY29sX25hbWU7XG4gICAgfVxuICAgIGhlYWRlcnNfcm93LmFwcGVuZENoaWxkKGNlbGwpO1xuICB9XG4gIGhlYWRlcnMuYXBwZW5kQ2hpbGQoaGVhZGVyc19yb3cpO1xuICBteVRhYmxlLmFwcGVuZENoaWxkKGhlYWRlcnMpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG5iX2ZlYXR1cmVzOyBpKyspIHtcbiAgICBjb25zdCByb3cgPSBkb2MuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICByb3cuaWQgPSBgcm93XyR7ZGF0YVtpXS5pZH1gO1xuICAgIGlmIChkYXRhW2ldLmlkID09PSBteV9yZWdpb24pIHtcbiAgICAgIHJvdy5jbGFzc05hbWUgPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgfVxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgbmJfY29sdW1uczsgaisrKSB7XG4gICAgICBjb25zdCBjZWxsID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgICBjb25zdCBjb2xfbmFtZSA9IGNvbHVtbl9uYW1lc1tqXTtcbiAgICAgIGlmIChjb2xfbmFtZSA9PT0gJ251bScgfHwgY29sX25hbWUgPT09ICdkZW51bScgfHwgY29sX25hbWUgPT09ICdyYXRpbycpIHtcbiAgICAgICAgY2VsbC5pbm5lckhUTUwgPSBNYXRoLnJvdW5kKGRhdGFbaV1bY29sX25hbWVdICogMTAwKSAvIDEwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2VsbC5pbm5lckhUTUwgPSBkYXRhW2ldW2NvbF9uYW1lXTtcbiAgICAgIH1cbiAgICAgIHJvdy5hcHBlbmRDaGlsZChjZWxsKTtcbiAgICB9XG4gICAgYm9keS5hcHBlbmRDaGlsZChyb3cpO1xuICB9XG4gIG15VGFibGUuYXBwZW5kQ2hpbGQoYm9keSk7XG4gIG15VGFibGUuc2V0QXR0cmlidXRlKCdpZCcsIG9wdGlvbnMuaWQpO1xuICByZXR1cm4gbXlUYWJsZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VUYWJsZShkYXRhX25vX2VtcHR5LCBjb25maWcpIHtcbiAgZDMuc2VsZWN0KCcuZGF0YVRhYmxlLXdyYXBwZXInKS5yZW1vdmUoKTtcbiAgY29uc3QgdGFibGUgPSBjcmVhdGVUYWJsZURPTShkYXRhX25vX2VtcHR5LCB1bmRlZmluZWQsIGNvbmZpZyk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtYXBfc2VjdGlvbicpLmFwcGVuZENoaWxkKHRhYmxlKTtcbiAgY29uc3QgZGF0YVRhYmxlID0gbmV3IERhdGFUYWJsZSgnI215VGFibGUnKTtcbiAgY29uc3QgdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kYXRhVGFibGUtd3JhcHBlcicpO1xuICB0LnN0eWxlLm1hcmdpblRvcCA9ICcyMHB4JztcbiAgdC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB0LnN0eWxlLmZvbnRTaXplID0gJzAuN2VtJztcbiAgdC5xdWVyeVNlbGVjdG9yKCcuZGF0YVRhYmxlLXRvcCcpLnJlbW92ZSgpO1xuICBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4uc21hbGwnKSlcbiAgICAuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgIGVsLm9uY2xpY2sgPSAoKSA9PiB7IGVsLnBhcmVudEVsZW1lbnQuY2xpY2soKTsgfTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIH0pO1xufVxuIiwiaW1wb3J0IHsgbWF0aF9yb3VuZCB9IGZyb20gJy4vaGVscGVycyc7XG5pbXBvcnQgeyBjb2xvcl9oaWdobGlnaHQgfSBmcm9tICcuL29wdGlvbnMnO1xuaW1wb3J0IHsgdmFyaWFibGVzIH0gZnJvbSAnLi8uLi9tYWluJztcblxuLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cblxuLyoqXG4qIEF0dGFjaCB0aGUgZnVsbF9kYXRhc2V0IEFycmF5IHRvIHRoZSBhcHAgT2JqZWN0IGFuZCBjcmVhdGUgYSBkaWN0aW9ubmFyeVxuKiBhbGxvd2luZyB0byBvYnRhaW4gdGVycml0b3JpYWwgdW5pdHMgbmFtZSBmcm9tIHRoZWlyIElkLlxuKlxuKiBAcGFyYW0ge0FycmF5fSBmdWxsX2RhdGFzZXQgLSBUaGUgZGF0YXNldCBhcyBhbiBBcnJheSBvZiBPYmplY3RcbiogQHBhcmFtIHtPYmplY3R9IGFwcCAtIFRoZSB2YXJpYWJsZSBjb250YWluaW5nIHRoZSBnbG9iYWwgcGFyYW1ldGVycyBhYm91dFxuKiAgIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBhcHBsaWNhdGlvbi5cbiogQHJldHVybiB7dm9pZH1cbipcbiovXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZV9kYXRhc2V0KGZ1bGxfZGF0YXNldCwgYXBwKSB7XG4gIGFwcC5mdWxsX2RhdGFzZXQgPSBmdWxsX2RhdGFzZXQ7XG4gIC8vIENyZWF0ZSBhbiBPYmplY3QgZmVhdHVyZV9pZCAtPiAgZmVhdHVyZV9uYW1lIGZvciBlYXNpZXIgbG9va3VwOlxuICBhcHAuZmVhdHVyZV9uYW1lcyA9IHt9O1xuICBmdWxsX2RhdGFzZXQuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgIGFwcC5mZWF0dXJlX25hbWVzW2VsZW0uZ2VvXSA9IGVsZW0uTm9tO1xuICB9KTtcbn1cblxuXG4vKipcbiogQXR0YWNoIHRoZSBmdWxsX2RhdGFzZXQgQXJyYXkgdG8gdGhlIGFwcCBPYmplY3QgYW5kIGNyZWF0ZSBhIGRpY3Rpb25uYXJ5XG4qIGFsbG93aW5nIHRvIG9idGFpbiB0ZXJyaXRvcmlhbCB1bml0cyBuYW1lIGZyb20gdGhlaXIgSWQuXG4qXG4qIEBwYXJhbSB7T2JqZWN0fSBhcHAgLSBUaGUgdmFyaWFibGUgY29udGFpbmluZyB0aGUgZ2xvYmFsIHBhcmFtZXRlcnMgYWJvdXRcbiogICB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgYXBwbGljYXRpb24uXG4qIEByZXR1cm4ge0FycmF5fSAtIFRoZSBmaWx0ZXJlZCBkYXRhLCBjb250YWluaW5nIG9ubHkgdGhlIHJlcXVlc3RlZCB2YXJpYWJsZXNcbiogICBmb3IgdGhlIGZlYXR1cmUgb2YgdGhlIGN1cnJlbnQgc3R1ZHkgem9uZSxcbiogICAgd2l0aG91dCBmZWF0dXJlcyBjb250YWluaW5nIGVtcHR5IHJhdGlvcy5cbipcbiovXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyX25vX2VtcHR5KGFwcCwgZmlsdGVyX2lkKSB7XG4gIC8vIEZldGNoIHRoZSBuYW1lKHMpIG9mIHRoZSByYXRpbyAoYW5kIGFzc29jaWF0ZWQgbnVtIGFuZCBkZW51bSB2YXJpYWJsZSksXG4gIC8vIHRoZSBuYW1lIG9mIHRoZSB0YXJnZXRlZCByZWdpb24gYW5kIHRoZSBjdXJyZW50IGxldmVsIDpcbiAgY29uc3Qge1xuICAgIG51bSwgZGVudW0sIHJhdGlvLCBjdXJyZW50X2xldmVsLCBpZF9maWVsZCwgZmlsdGVyLCBuYW1lX2ZpZWxkLFxuICB9ID0gYXBwLmN1cnJlbnRfY29uZmlnO1xuXG4gIGNvbnN0IGFsbF92YXJpYWJsZXMgPSByYXRpby5jb25jYXQobnVtKS5jb25jYXQoZGVudW0pO1xuXG4gIC8vIFByZXBhcmUgdGhlIGRhdGE6XG4gIGxldCB0ZW1wO1xuICBpZiAoZmlsdGVyX2lkKSB7XG4gICAgdGVtcCA9IGFwcC5mdWxsX2RhdGFzZXRcbiAgICAgIC5maWx0ZXIoZnQgPT4gK2Z0LmxldmVsID09PSBjdXJyZW50X2xldmVsICYmIGZpbHRlcl9pZC5pbmRleE9mKGZ0W2lkX2ZpZWxkXSkgPiAtMSk7XG4gIH0gZWxzZSBpZiAoZmlsdGVyKSB7XG4gICAgY29uc3QgeyBrZXksIHZhbHVlIH0gPSBmaWx0ZXI7XG4gICAgdGVtcCA9IGFwcC5mdWxsX2RhdGFzZXRcbiAgICAgIC5maWx0ZXIoZnQgPT4gK2Z0LmxldmVsID09PSBjdXJyZW50X2xldmVsICYmIGZ0W2tleV0gPT09IHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICB0ZW1wID0gYXBwLmZ1bGxfZGF0YXNldFxuICAgICAgLmZpbHRlcihmdCA9PiArZnQubGV2ZWwgPT09IGN1cnJlbnRfbGV2ZWwpO1xuICB9XG4gIHRlbXAgPSB0ZW1wLm1hcCgoZnQpID0+IHtcbiAgICBjb25zdCBwcm9wc19mZWF0dXJlID0ge1xuICAgICAgaWQ6IGZ0W2lkX2ZpZWxkXSxcbiAgICAgIG5hbWU6IGZ0W25hbWVfZmllbGRdLFxuICAgIH07XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gYWxsX3ZhcmlhYmxlcy5sZW5ndGg7IGkgPCBsZW5faTsgaSsrKSB7XG4gICAgICBwcm9wc19mZWF0dXJlW2FsbF92YXJpYWJsZXNbaV1dID0gK2Z0W2FsbF92YXJpYWJsZXNbaV1dO1xuICAgIH1cbiAgICByZXR1cm4gcHJvcHNfZmVhdHVyZTtcbiAgfSk7XG5cbiAgLy8gRmlsdGVyIGRhdGEgZm9yIGVtcHR5IHZhbHVlcyA6XG4gIGNvbnN0IGZpbHRlcmVkX2RhdGEgPSB0ZW1wLmZpbHRlcihcbiAgICBmdCA9PiByYXRpby5tYXAodiA9PiAhIWZ0W3ZdKS5ldmVyeSh2ID0+IHYgPT09IHRydWUpKTtcblxuICAvL1xuICBhcHAuY3VycmVudF9kYXRhID0gZmlsdGVyZWRfZGF0YTtcbiAgLy8gU3RvcmUgdGhlIGlkcyBhbmQgdGhlIHJhbmtzIG9mIHRoZSBjdXJyZW50IGZlYXR1cmVzIGluIHR3byBhcnJheXMgZm9yIGVhc2llciBhY2NlczpcbiAgYXBwLmN1cnJlbnRfaWRzID0gZmlsdGVyZWRfZGF0YS5tYXAoZCA9PiBkLmlkKTtcblxuICAvLyBDb21wdXRlIHRoZSByYXRpbyBvZiBhdmFpbGFibGUgdmFsdWVzIChcImNvbXBsw6l0dWRlXCIpIHdpdGhpblxuICAvLyB0aGUgc3R1ZHkgem9uZSBzZWxlY3RlZCBieSB0aGUgdXNlcjpcbiAgYXBwLmNvbXBsZXR1ZGUgPSBtYXRoX3JvdW5kKChmaWx0ZXJlZF9kYXRhLmxlbmd0aCAvIHRlbXAubGVuZ3RoKSAqIDEwMDApIC8gMTA7XG4gIC8vIHJldHVybiBmaWx0ZXJlZF9kYXRhO1xufVxuXG5cbi8qKlxuKiBTZXQgYW5kIGFwcGx5IGEgbmV3IGZpbHRlciAoaWUuIHJlc3RyaWN0IHRoZSBzdHVkeSB6b25lKSBvbiB0aGUgZGF0YXNldCB0byBiZSB1c2VkLlxuKlxuKiBAcGFyYW0ge1N0cmluZ30gZmlsdGVyX3R5cGUgLSBUaGUgbmFtZSBvZiB0aGUgZmlsdGVyIHRvIHVzZS5cbiogQHJldHVybiB7dm9pZH1cbipcbiovXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlGaWx0ZXIoYXBwLCBmaWx0ZXJfdHlwZSkge1xuICBpZiAoZmlsdGVyX3R5cGUgPT09ICdmaWx0ZXJfRlInKSB7XG4gICAgYXBwLmN1cnJlbnRfY29uZmlnLmZpbHRlciA9IHsga2V5OiAnUEFZUycsIHZhbHVlOiAnRlInIH07XG4gICAgZmlsdGVyX25vX2VtcHR5KGFwcCk7XG4gIH0gZWxzZSBpZiAoZmlsdGVyX3R5cGUgPT09ICdub19maWx0ZXInKSB7XG4gICAgYXBwLmN1cnJlbnRfY29uZmlnLmZpbHRlciA9IG51bGw7XG4gICAgZmlsdGVyX25vX2VtcHR5KGFwcCk7XG4gIH0gZWxzZSB7XG4gICAgYXBwLmN1cnJlbnRfY29uZmlnLmZpbHRlciA9IHsga2V5OiAndHlwZV90ZXN0JywgdmFsdWU6IGAzYCB9O1xuICAgIGZpbHRlcl9ub19lbXB0eShhcHApO1xuICAgIGNvbnN0IG1heWJlX215X3JlZ2lvbiA9IGFwcC5jdXJyZW50X2RhdGEuZmlsdGVyKFxuICAgICAgZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVswXTtcbiAgICBpZiAobWF5YmVfbXlfcmVnaW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGFwcC5jdXJyZW50X2RhdGEucHVzaChcbiAgICAgICAgYXBwLmZ1bGxfZGF0YXNldC5maWx0ZXIoZCA9PiBkLmdlbyA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbilbMF0pO1xuICAgICAgYXBwLmN1cnJlbnRfaWRzID0gYXBwLmN1cnJlbnRfZGF0YS5tYXAoZCA9PiBkLmlkKTtcbiAgICB9XG4gIH1cblxuICAvLyBpZiAoIWFwcC5zZXJpZV9pbnZlcnNlZCkge1xuICAvLyAgIGFwcC5jdXJyZW50X2RhdGEuc29ydCgoYSwgYikgPT4gYS5yYXRpbyAtIGIucmF0aW8pO1xuICAvLyB9IGVsc2Uge1xuICAvLyAgIGFwcC5jdXJyZW50X2RhdGEuc29ydCgoYSwgYikgPT4gYi5yYXRpbyAtIGEucmF0aW8pO1xuICAvLyB9XG4gIGFwcC5jb2xvcnMgPSB7fTtcbiAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbn1cblxuLy8gVE9ETyA6IERvY1xuZXhwb3J0IGZ1bmN0aW9uIGNoYW5nZVJlZ2lvbihhcHAsIGlkX3JlZ2lvbikge1xuICBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uID0gaWRfcmVnaW9uO1xuICBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uX3ByZXR0eV9uYW1lID0gYXBwLmZlYXR1cmVfbmFtZXNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl07XG4gIC8vIFJlc2V0IHRoZSBjb2xvciB0byB1c2Ugb24gdGhlIGNoYXJ0L21hcDpcbiAgYXBwLmNvbG9ycyA9IHt9O1xuICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICAvLyBhcHAuY3VycmVudF9kYXRhID0gZmlsdGVyX25vX2VtcHR5KGFwcCk7XG4gIC8vIENoYW5nZSB0aGUgcmVmZXJlbmNlIHJhdGlvIHZhbHVlOlxuXG4gIC8vIGFwcC5jdXJyZW50X2NvbmZpZy5yZWZfdmFsdWUgPSBhcHAuY3VycmVudF9kYXRhXG4gIC8vICAgLmZpbHRlcihkID0+IGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pXG4gIC8vICAgLm1hcChkID0+IGQucmF0aW8pWzBdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkVmFyaWFibGUoYXBwLCBjb2RlX3JhdGlvKSB7XG4gIGNvbnN0IHZhcmlhYmxlX2luZm8gPSB2YXJpYWJsZXMuZmlsdGVyKGQgPT4gZC5yYXRpbyA9PT0gY29kZV9yYXRpbylbMF07XG4gIGFwcC5jb2xvcnMgPSB7fTtcbiAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLm51bS5wdXNoKHZhcmlhYmxlX2luZm8ubnVtKTtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLmRlbnVtLnB1c2godmFyaWFibGVfaW5mby5kZW51bSk7XG4gIGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpby5wdXNoKHZhcmlhYmxlX2luZm8ucmF0aW8pO1xuICBhcHAuY3VycmVudF9jb25maWcucmF0aW9fcHJldHR5X25hbWUucHVzaCh2YXJpYWJsZV9pbmZvLm5hbWUpO1xuICBmaWx0ZXJfbm9fZW1wdHkoYXBwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVZhcmlhYmxlKGFwcCwgY29kZV9yYXRpbykge1xuICBjb25zdCBpeCA9IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpby5pbmRleE9mKGNvZGVfcmF0aW8pO1xuICBhcHAuY3VycmVudF9jb25maWcubnVtLnNwbGljZShpeCwgMSk7XG4gIGFwcC5jdXJyZW50X2NvbmZpZy5kZW51bS5zcGxpY2UoaXgsIDEpO1xuICBhcHAuY3VycmVudF9jb25maWcucmF0aW8uc3BsaWNlKGl4LCAxKTtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvX3ByZXR0eV9uYW1lLnNwbGljZShpeCwgMSk7XG4gIGZpbHRlcl9ub19lbXB0eShhcHApO1xufVxuXG4vKiBlc2xpbnQtZW5hYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG4iLCJpbXBvcnQgeyBhcHAgfSBmcm9tICcuLy4uL21haW4nO1xuaW1wb3J0IHsgY29sb3JfZGlzYWJsZWQsIGNvbG9yX2NvdW50cmllcywgY29sb3Jfc3VwLCBjb2xvcl9pbmYsIGNvbG9yX2hpZ2hsaWdodCB9IGZyb20gJy4vb3B0aW9ucyc7XG5pbXBvcnQgeyBtYXRoX3JvdW5kLCBwcmVwYXJlVG9vbHRpcCwgZ2V0U3ZnUGF0aFR5cGUgfSBmcm9tICcuL2hlbHBlcnMnO1xuXG5jb25zdCBzdmdfbWFwID0gZDMuc2VsZWN0KCdzdmcjc3ZnX21hcCcpLFxuICBtYXJnaW5fbWFwID0geyB0b3A6IDAsIHJpZ2h0OiAwLCBib3R0b206IDAsIGxlZnQ6IDAgfSxcbiAgd2lkdGhfbWFwID0gK3N2Z19tYXAuYXR0cignd2lkdGgnKSAtIG1hcmdpbl9tYXAubGVmdCAtIG1hcmdpbl9tYXAucmlnaHQsXG4gIGhlaWdodF9tYXAgPSArc3ZnX21hcC5hdHRyKCdoZWlnaHQnKSAtIG1hcmdpbl9tYXAudG9wIC0gbWFyZ2luX21hcC5ib3R0b207XG5cbmNvbnN0IHN0eWxlcyA9IHtcbiAgdGVtcGxhdGU6IHsgaWQ6ICd0ZW1wbGF0ZScsIGZpbGw6ICdyZ2IoMjQ3LCAyNTIsIDI1NCknLCAnZmlsbC1vcGFjaXR5JzogMSB9LFxuICBjb3VudHJpZXM6IHsgaWQ6ICdjb3VudHJpZXMnLCBmaWxsOiAncmdiKDIxNCwgMjE0LCAyMTQpJywgJ2ZpbGwtb3BhY2l0eSc6IDEsICdzdHJva2Utd2lkdGgnOiAwLjUsIHN0cm9rZTogJyNmZmZmZmYnIH0sXG4gIHNlYWJveGVzOiB7IGlkOiAnc2VhYm94ZXMnLCBmaWxsOiAnI2UwZmFmZicsICdmaWxsLW9wYWNpdHknOiAxLCBzdHJva2U6ICdibGFjaycsICdzdHJva2Utd2lkdGgnOiAwLjIgfSxcbiAgcmVtb3RlOiB7IGlkOiAncmVtb3RlJywgZmlsbDogJ3JnYigyMTQsIDIxNCwgMjE0KScsICdmaWxsLW9wYWNpdHknOiAxLCAnc3Ryb2tlLXdpZHRoJzogMC41LCBzdHJva2U6ICcjZmZmZmZmJyB9LFxuICBzZWFib3hlczI6IHsgaWQ6ICdzZWFib3hlczInLCBmaWxsOiAnbm9uZScsIHN0cm9rZTogJ2JsYWNrJywgJ3N0cm9rZS13aWR0aCc6IDAuOCB9LFxuICBudXRzMTogeyBpZDogJ251dHMxJywgJ2ZpbGwtb3BhY2l0eSc6IDEsICdzdHJva2Utd2lkdGgnOiAwLjUsIHN0cm9rZTogJyNmZmZmZmYnIH0sXG59O1xuXG5sZXQgcHJvamVjdGlvbjtcbmxldCBwYXRoO1xuXG5mdW5jdGlvbiBnZXRfYmJveF9sYXllcl9wYXRoKG5hbWUpIHtcbiAgY29uc3QgYmJveF9sYXllciA9IFtbSW5maW5pdHksIEluZmluaXR5XSwgWy1JbmZpbml0eSwgLUluZmluaXR5XV07XG4gIHN2Z19tYXAuc2VsZWN0KGAjJHtuYW1lfWApXG4gICAgLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgLmVhY2goKGQpID0+IHtcbiAgICAgIGNvbnN0IGJib3hfcGF0aCA9IHBhdGguYm91bmRzKGQuZ2VvbWV0cnkpO1xuICAgICAgYmJveF9sYXllclswXVswXSA9IGJib3hfcGF0aFswXVswXSA8IGJib3hfbGF5ZXJbMF1bMF0gPyBiYm94X3BhdGhbMF1bMF0gOiBiYm94X2xheWVyWzBdWzBdO1xuICAgICAgYmJveF9sYXllclswXVsxXSA9IGJib3hfcGF0aFswXVsxXSA8IGJib3hfbGF5ZXJbMF1bMV0gPyBiYm94X3BhdGhbMF1bMV0gOiBiYm94X2xheWVyWzBdWzFdO1xuICAgICAgYmJveF9sYXllclsxXVswXSA9IGJib3hfcGF0aFsxXVswXSA+IGJib3hfbGF5ZXJbMV1bMF0gPyBiYm94X3BhdGhbMV1bMF0gOiBiYm94X2xheWVyWzFdWzBdO1xuICAgICAgYmJveF9sYXllclsxXVsxXSA9IGJib3hfcGF0aFsxXVsxXSA+IGJib3hfbGF5ZXJbMV1bMV0gPyBiYm94X3BhdGhbMV1bMV0gOiBiYm94X2xheWVyWzFdWzFdO1xuICAgIH0pO1xuICByZXR1cm4gYmJveF9sYXllcjtcbn1cblxuZnVuY3Rpb24gZml0TGF5ZXIoKSB7XG4gIHByb2plY3Rpb24uc2NhbGUoMSkudHJhbnNsYXRlKFswLCAwXSk7XG4gIGNvbnN0IGIgPSBnZXRfYmJveF9sYXllcl9wYXRoKCd0ZW1wbGF0ZScpO1xuICBjb25zdCBzID0gMSAvIE1hdGgubWF4KChiWzFdWzBdIC0gYlswXVswXSkgLyB3aWR0aF9tYXAsIChiWzFdWzFdIC0gYlswXVsxXSkgLyBoZWlnaHRfbWFwKTtcbiAgY29uc3QgdCA9IFsod2lkdGhfbWFwIC0gcyAqIChiWzFdWzBdICsgYlswXVswXSkpIC8gMiwgKGhlaWdodF9tYXAgLSBzICogKGJbMV1bMV0gKyBiWzBdWzFdKSkgLyAyXTtcbiAgcHJvamVjdGlvbi5zY2FsZShzKS50cmFuc2xhdGUodCk7XG4gIHN2Z19tYXAuc2VsZWN0QWxsKCdwYXRoJykuYXR0cignZCcsIHBhdGgpO1xufVxuXG5mdW5jdGlvbiBtYXBfem9vbWVkKCkge1xuICBjb25zdCB0cmFuc2Zvcm0gPSBkMy5ldmVudC50cmFuc2Zvcm07XG4gIGlmICh0cmFuc2Zvcm0uayA9PT0gMSkge1xuICAgIHRyYW5zZm9ybS54ID0gMDtcbiAgICB0cmFuc2Zvcm0ueSA9IDA7XG4gIH1cbiAgY29uc3QgbGF5ZXJzID0gc3ZnX21hcC5zZWxlY3QoJyNsYXllcnMnKTtcbiAgY29uc3QgdCA9IGxheWVyc1xuICAgIC5zZWxlY3RBbGwoJ2cnKVxuICAgIC50cmFuc2l0aW9uKClcbiAgICAuZHVyYXRpb24oMjI1KTtcblxuICBsYXllcnMuc2VsZWN0QWxsKCdnJylcbiAgICAudHJhbnNpdGlvbih0KVxuICAgIC5zdHlsZSgnc3Ryb2tlLXdpZHRoJywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGAke3N0eWxlc1t0aGlzLmlkXVsnc3Ryb2tlLXdpZHRoJ10gLyB0cmFuc2Zvcm0ua31weGA7XG4gICAgfSk7XG5cbiAgbGF5ZXJzLnNlbGVjdEFsbCgnZycpXG4gICAgLnRyYW5zaXRpb24odClcbiAgICAuYXR0cigndHJhbnNmb3JtJywgdHJhbnNmb3JtKTtcblxuICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpXG4gICAgLnRyYW5zaXRpb24odClcbiAgICAuYXR0cigndHJhbnNmb3JtJywgdHJhbnNmb3JtKTtcbn1cblxuY2xhc3MgTWFwU2VsZWN0IHtcbiAgY29uc3RydWN0b3IobnV0czEsIGNvdW50cmllcywgcmVtb3RlLCB0ZW1wbGF0ZSwgc2VhYm94ZXMpIHtcbiAgICBwcm9qZWN0aW9uID0gZDMuZ2VvSWRlbnRpdHkoKVxuICAgICAgLmZpdEV4dGVudChbWzAsIDBdLCBbd2lkdGhfbWFwLCBoZWlnaHRfbWFwXV0sIHRlbXBsYXRlKVxuICAgICAgLnJlZmxlY3RZKHRydWUpO1xuXG4gICAgcGF0aCA9IGQzLmdlb1BhdGgoKS5wcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgIGNvbnN0IGxheWVycyA9IHN2Z19tYXAuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdpZCcsICdsYXllcnMnKTtcblxuICAgIHRoaXMuem9vbV9tYXAgPSBkMy56b29tKClcbiAgICAgIC5zY2FsZUV4dGVudChbMSwgNV0pXG4gICAgICAudHJhbnNsYXRlRXh0ZW50KFtbMCwgMF0sIFt3aWR0aF9tYXAsIGhlaWdodF9tYXBdXSlcbiAgICAgIC5vbignem9vbScsIG1hcF96b29tZWQpO1xuXG4gICAgc3ZnX21hcC5jYWxsKHRoaXMuem9vbV9tYXApO1xuXG4gICAgbGF5ZXJzLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cnMoc3R5bGVzLnRlbXBsYXRlKVxuICAgICAgLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuZGF0YSh0ZW1wbGF0ZS5mZWF0dXJlcylcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRycyh7IGQ6IHBhdGggfSk7XG5cbiAgICBsYXllcnMuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyhzdHlsZXMuY291bnRyaWVzKVxuICAgICAgLmF0dHIoJ2lkJywgJ2NvdW50cmllcycpXG4gICAgICAuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5kYXRhKGNvdW50cmllcy5mZWF0dXJlcylcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRycyh7IGQ6IHBhdGggfSk7XG5cbiAgICBsYXllcnMuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyhzdHlsZXMuc2VhYm94ZXMpXG4gICAgICAuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5kYXRhKHNlYWJveGVzLmZlYXR1cmVzKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHJzKHsgZDogcGF0aCB9KTtcblxuICAgIGxheWVycy5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHN0eWxlcy5yZW1vdGUpXG4gICAgICAuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5kYXRhKHJlbW90ZS5mZWF0dXJlcylcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRycyh7IGQ6IHBhdGggfSk7XG5cbiAgICBsYXllcnMuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyhzdHlsZXMuc2VhYm94ZXMyKVxuICAgICAgLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuZGF0YShzZWFib3hlcy5mZWF0dXJlcylcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRycyh7IGQ6IHBhdGggfSk7XG5cbiAgICB0aGlzLnRhcmdldF9sYXllciA9IGxheWVycy5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHN0eWxlcy5udXRzMSk7XG4gICAgdGhpcy50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5kYXRhKG51dHMxLmZlYXR1cmVzKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCBkID0+IChkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dICE9PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uID8gY29sb3JfY291bnRyaWVzIDogY29sb3JfaGlnaGxpZ2h0KSlcbiAgICAgIC5hdHRyKCdkJywgcGF0aCk7XG4gICAgYXBwLnR5cGVfcGF0aCA9IGdldFN2Z1BhdGhUeXBlKHRoaXMudGFyZ2V0X2xheWVyLnNlbGVjdCgncGF0aCcpLm5vZGUoKS5nZXRBdHRyaWJ1dGUoJ2QnKSk7XG4gICAgZml0TGF5ZXIoKTtcbiAgICBwcmVwYXJlVG9vbHRpcChzdmdfbWFwKTtcbiAgICB0aGlzLmJpbmRUb29sdGlwKCk7XG4gIH1cblxuICByZXNldENvbG9ycygpIHtcbiAgICBjb25zdCBpZF9maWVsZF9nZW9tID0gYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb207XG4gICAgdGhpcy50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5hdHRyKCdmaWxsJywgZCA9PiAoYXBwLmN1cnJlbnRfaWRzLmluZGV4T2YoZC5wcm9wZXJ0aWVzW2lkX2ZpZWxkX2dlb21dKSA+IC0xXG4gICAgICAgID8gKGFwcC5jb2xvcnNbZC5wcm9wZXJ0aWVzW2lkX2ZpZWxkX2dlb21dXSB8fCBjb2xvcl9jb3VudHJpZXMpXG4gICAgICAgIDogY29sb3JfZGlzYWJsZWQpKTtcbiAgfVxuXG4gIGJpbmRUb29sdGlwKCkge1xuICAgIHRoaXMudGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAub24oJ21vdXNlb3ZlcicsICgpID0+IHtcbiAgICAgICAgc3ZnX21hcC5zZWxlY3QoJy50b29sdGlwJylcbiAgICAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTtcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlb3V0JywgKCkgPT4ge1xuICAgICAgICBzdmdfbWFwLnNlbGVjdCgnLnRvb2x0aXAnKVxuICAgICAgICAgIC5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICBjb25zdCB0b29sdGlwID0gc3ZnX21hcC5zZWxlY3QoJy50b29sdGlwJyk7XG4gICAgICAgIHRvb2x0aXBcbiAgICAgICAgICAuc2VsZWN0KCd0ZXh0LmlkX2ZlYXR1cmUnKVxuICAgICAgICAgIC50ZXh0KGAke2QucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV19YCk7XG4gICAgICAgIGxldCBfaXgsIG5iX3ZhbDtcbiAgICAgICAgZm9yIChfaXggPSAwLCBuYl92YWwgPSBNYXRoLm1pbihhcHAuY3VycmVudF9jb25maWcucmF0aW8ubGVuZ3RoLCA1KTsgX2l4IDwgbmJfdmFsOyBfaXgrKykge1xuICAgICAgICAgIHRvb2x0aXAuc2VsZWN0KGB0ZXh0LnZhbHVlX2ZlYXR1cmUke19peCArIDF9YClcbiAgICAgICAgICAgIC50ZXh0KGAke2FwcC5jdXJyZW50X2NvbmZpZy5yYXRpb19wcmV0dHlfbmFtZVtfaXhdfTogJHttYXRoX3JvdW5kKGQucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcucmF0aW9bX2l4XV0gKiAxMCkgLyAxMH1gKTtcbiAgICAgICAgfVxuICAgICAgICB0b29sdGlwXG4gICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHtbZDMubW91c2UodGhpcylbMF0gLSA1LCBkMy5tb3VzZSh0aGlzKVsxXSAtIDQ1IC0gX2l4ICogMTJdfSlgKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgcmVzZXRab29tKCkge1xuICAgIHN2Z19tYXAudHJhbnNpdGlvbigpXG4gICAgICAuZHVyYXRpb24oMjUwKVxuICAgICAgLmNhbGwodGhpcy56b29tX21hcC50cmFuc2Zvcm0sIGQzLnpvb21JZGVudGl0eSk7XG4gIH1cblxuICB1cGRhdGVMZWdlbmQoKSB7XG4gICAgZDMuc2VsZWN0KCcjc3ZnX2xlZ2VuZCA+IGcgPiAubGVnZW5kID4gdGV4dCcpXG4gICAgICAudGV4dChgTWEgcsOpZ2lvbiA6ICR7YXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl9wcmV0dHlfbmFtZX1gKTtcbiAgfVxuXG4gIHJlbW92ZVJlY3RCcnVzaCgpIHtcbiAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpLmNhbGwodGhpcy5icnVzaF9tYXAubW92ZSwgbnVsbCk7XG4gIH1cblxuICBiaW5kQnJ1c2goY2hhcnQpIHtcbiAgICB0aGlzLmJydXNoX21hcCA9IGQzLmJydXNoKClcbiAgICAgIC5leHRlbnQoW1swLCAwXSwgW3dpZHRoX21hcCwgaGVpZ2h0X21hcF1dKVxuICAgICAgLm9uKCdzdGFydCBicnVzaCcsICgpID0+IHtcbiAgICAgICAgaWYgKCFkMy5ldmVudCB8fCAhZDMuZXZlbnQuc2VsZWN0aW9uKSByZXR1cm47XG4gICAgICAgIGNoYXJ0LmhhbmRsZV9icnVzaF9tYXAoZDMuZXZlbnQpO1xuICAgICAgfSk7XG4gICAgc3ZnX21hcC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2JydXNoX21hcCcpXG4gICAgICAuY2FsbCh0aGlzLmJydXNoX21hcCk7XG4gIH1cblxuICB1bmJpbmRCcnVzaCgpIHtcbiAgICB0aGlzLmJydXNoX21hcCA9IG51bGw7XG4gICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKVxuICAgICAgLnJlbW92ZSgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG1ha2VTb3VyY2VTZWN0aW9uKCkge1xuICBjb25zdCB0ZXh0X3pvbmUgPSBkMy5zZWxlY3QoJyNzdmdfbGVnZW5kJylcbiAgICAuYXBwZW5kKCd0ZXh0JylcbiAgICAuYXR0cnMoeyB5OiAzMi41LCAndGV4dC1hbmNob3InOiAnZW5kJyB9KVxuICAgIC5zdHlsZSgnZm9udC1zaXplJywgJzExcHgnKVxuICAgIC5zdHlsZSgnZm9udC1mYW1pbHknLCAnXFwnU2lnbmlrYVxcJywgc2Fucy1zZXJpZicpO1xuICB0ZXh0X3pvbmUuYXBwZW5kKCd0c3BhbicpXG4gICAgLmF0dHJzKHsgeDogNDcwLCBkeTogMTIgfSlcbiAgICAudGV4dCgnTml2ZWF1IHLDqWdpb25hbCA6IE5VVFMgMSAodmVyc2lvbiAyMDE2KScpO1xuICB0ZXh0X3pvbmUuYXBwZW5kKCd0c3BhbicpXG4gICAgLmF0dHJzKHsgeDogNDcwLCBkeTogMTIgfSlcbiAgICAudGV4dCgnT3JpZ2luZSBkZXMgZG9ubsOpZXMgOiBFdXJvc3RhdCwgMjAxNicpO1xuICB0ZXh0X3pvbmUuYXBwZW5kKCd0c3BhbicpXG4gICAgLmF0dHJzKHsgeDogNDcwLCBkeTogMTIgfSlcbiAgICAudGV4dCgnTGltaXRlIGFkbWluaXN0cmF0aXZlOiBVTVMgUklBVEUsIENDLUJZLVNBJyk7XG59XG5cbmZ1bmN0aW9uIG1ha2VNYXBMZWdlbmQoKSB7XG4gIGNvbnN0IGxlZ2VuZF9lbGVtcyA9IFtcbiAgICB7IGNvbG9yOiBjb2xvcl9oaWdobGlnaHQsIHRleHQ6IGBNYSByw6lnaW9uIDogJHthcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uX3ByZXR0eV9uYW1lfWAgfSxcbiAgICB7IGNvbG9yOiBjb2xvcl9jb3VudHJpZXMsIHRleHQ6ICdBdXRyZXMgcsOpZ2lvbnMgZHUgZmlsdHJlIGRlIGNvbXBhcmFpc29uJyB9LFxuICAgIHsgY29sb3I6IGNvbG9yX3N1cCwgdGV4dDogJ1JhbmcgcGx1cyDDqWxldsOpIHF1ZSBtYSByw6lnaW9uJyB9LFxuICAgIHsgY29sb3I6IGNvbG9yX2luZiwgdGV4dDogJ1JhbmcgbW9pbnMgw6lsZXbDqSBxdWUgbWEgcsOpZ2lvbicgfSxcbiAgXTtcblxuICBjb25zdCByZWN0X3NpemUgPSAxNDtcbiAgY29uc3Qgc3BhY2luZyA9IDQ7XG4gIGNvbnN0IGxnZF9oZWlnaHQgPSByZWN0X3NpemUgKyBzcGFjaW5nO1xuICBjb25zdCBvZmZzZXQgPSBsZ2RfaGVpZ2h0ICogbGVnZW5kX2VsZW1zLmxlbmd0aCAvIDI7XG5cbiAgY29uc3QgZ3JwX2xnZCA9IGQzLnNlbGVjdCgnI3N2Z19sZWdlbmQnKVxuICAgIC5hcHBlbmQoJ2cnKVxuICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDUwLCA0MCknKVxuICAgIC5zdHlsZXMoeyAnZm9udC1zaXplJzogJzExcHgnLCAnZm9udC1mYW1pbHknOiAnXFwnU2lnbmlrYVxcJywgc2Fucy1zZXJpZicgfSk7XG5cbiAgY29uc3QgbGVnZW5kcyA9IGdycF9sZ2Quc2VsZWN0QWxsKCcubGVnZW5kJylcbiAgICAuZGF0YShsZWdlbmRfZWxlbXMpXG4gICAgLmVudGVyKClcbiAgICAuYXBwZW5kKCdnJylcbiAgICAuYXR0cignY2xhc3MnLCAnbGVnZW5kJylcbiAgICAuYXR0cigndHJhbnNmb3JtJywgKGQsIGkpID0+IHtcbiAgICAgIGNvbnN0IHR4ID0gLTIgKiByZWN0X3NpemU7XG4gICAgICBjb25zdCB0eSA9IGkgKiBsZ2RfaGVpZ2h0IC0gb2Zmc2V0O1xuICAgICAgcmV0dXJuIGB0cmFuc2xhdGUoJHtbdHgsIHR5XX0pYDtcbiAgICB9KTtcblxuICBsZWdlbmRzLmFwcGVuZCgncmVjdCcpXG4gICAgLmF0dHJzKHsgd2lkdGg6IHJlY3Rfc2l6ZSwgaGVpZ2h0OiByZWN0X3NpemUgfSlcbiAgICAuc3R5bGVzKGQgPT4gKHsgZmlsbDogZC5jb2xvciwgc3Ryb2tlOiBkLmNvbG9yIH0pKTtcblxuICBsZWdlbmRzLmFwcGVuZCgndGV4dCcpXG4gICAgLmF0dHJzKHsgeDogcmVjdF9zaXplICsgc3BhY2luZywgeTogcmVjdF9zaXplIC0gc3BhY2luZyB9KVxuICAgIC50ZXh0KGQgPT4gZC50ZXh0KTtcbn1cblxuZXhwb3J0IHtcbiAgTWFwU2VsZWN0LFxuICBtYWtlU291cmNlU2VjdGlvbixcbiAgbWFrZU1hcExlZ2VuZCxcbiAgc3ZnX21hcCxcbn07XG4iLCJpbXBvcnQgeyBjb21wLCBtYXRoX3JvdW5kLCBtYXRoX2FicywgUmVjdCwgcHJlcGFyZVRvb2x0aXAsIHN2Z1BhdGhUb0Nvb3JkcyB9IGZyb20gJy4vLi4vaGVscGVycyc7XG5pbXBvcnQgeyBjb2xvcl9kaXNhYmxlZCwgY29sb3JfY291bnRyaWVzLCBjb2xvcl9zdXAsIGNvbG9yX2luZiwgY29sb3JfaGlnaGxpZ2h0IH0gZnJvbSAnLi8uLi9vcHRpb25zJztcbmltcG9ydCB7IHN2Z19tYXAgfSBmcm9tICcuLy4uL21hcCc7XG5pbXBvcnQgeyBhcHAgfSBmcm9tICcuLy4uLy4uL21haW4nO1xuXG5leHBvcnQgY29uc3Qgc3ZnX2JhciA9IGQzLnNlbGVjdCgnc3ZnI3N2Z19iYXInKSxcbiAgbWFyZ2luID0geyB0b3A6IDEwLCByaWdodDogMjAsIGJvdHRvbTogMTAwLCBsZWZ0OiA0MCB9LFxuICBtYXJnaW4yID0geyB0b3A6IDQzMCwgcmlnaHQ6IDIwLCBib3R0b206IDE1LCBsZWZ0OiA0MCB9LFxuICB3aWR0aCA9ICtzdmdfYmFyLmF0dHIoJ3dpZHRoJykgLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodCxcbiAgaGVpZ2h0ID0gK3N2Z19iYXIuYXR0cignaGVpZ2h0JykgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbSxcbiAgaGVpZ2h0MiA9ICtzdmdfYmFyLmF0dHIoJ2hlaWdodCcpIC0gbWFyZ2luMi50b3AgLSBtYXJnaW4yLmJvdHRvbTtcblxubGV0IG5iRnQ7XG5sZXQgY3VycmVudF9yYW5nZV9icnVzaCA9IFswLCAwXTtcbmxldCBjdXJyZW50X3JhbmdlID0gWzAsIDBdO1xubGV0IGRpc3BsYXllZDtcblxuZnVuY3Rpb24gZ2V0TWVhblJhbmsobWVhbl92YWx1ZSwgcmF0aW9fdG9fdXNlKSB7XG4gIGxldCBtZWFuX3JhbmsgPSBhcHAuY3VycmVudF9kYXRhLm1hcChcbiAgICAoZCwgaSkgPT4gW2RbcmF0aW9fdG9fdXNlXSwgbWF0aF9hYnMobWVhbl92YWx1ZSAtIGRbcmF0aW9fdG9fdXNlXSksIGldKTtcbiAgbWVhbl9yYW5rLnNvcnQoKGEsIGIpID0+IGFbMV0gLSBiWzFdKTtcbiAgbWVhbl9yYW5rID0gbWVhbl9yYW5rWzBdO1xuICBpZiAobWVhbl9yYW5rWzFdID4gbWVhbl92YWx1ZSkge1xuICAgIG1lYW5fcmFuayA9IG1lYW5fcmFua1syXSAtIDE7XG4gIH0gZWxzZSB7XG4gICAgbWVhbl9yYW5rID0gbWVhbl9yYW5rWzJdO1xuICB9XG4gIHJldHVybiBtZWFuX3Jhbms7XG59XG5cblxuZXhwb3J0IGNsYXNzIEJhckNoYXJ0MSB7XG4gIGNvbnN0cnVjdG9yKHJlZl9kYXRhKSB7XG4gICAgdGhpcy5icnVzaGVkID0gKCkgPT4ge1xuICAgICAgaWYgKGQzLmV2ZW50LnNvdXJjZUV2ZW50ICYmIGQzLmV2ZW50LnNvdXJjZUV2ZW50LnR5cGUgPT09ICd6b29tJykgcmV0dXJuOyAvLyBpZ25vcmUgYnJ1c2gtYnktem9vbVxuICAgICAgaWYgKCF0aGlzLngpIHsgY29uc29sZS5sb2coJ2EnKTsgcmV0dXJuOyB9XG4gICAgICBjb25zdCBzID0gZDMuZXZlbnQuc2VsZWN0aW9uIHx8IHRoaXMueDIucmFuZ2UoKTtcbiAgICAgIGN1cnJlbnRfcmFuZ2UgPSBbbWF0aF9yb3VuZChzWzBdIC8gKHdpZHRoIC8gbmJGdCkpLCBtYXRoX3JvdW5kKHNbMV0gLyAod2lkdGggLyBuYkZ0KSldO1xuICAgICAgdGhpcy54LmRvbWFpbih0aGlzLmRhdGEuc2xpY2UoY3VycmVudF9yYW5nZVswXSwgY3VycmVudF9yYW5nZVsxXSkubWFwKGZ0ID0+IGZ0LmlkKSk7XG4gICAgICBzdmdfYmFyLnNlbGVjdCgnLnpvb20nKS5jYWxsKHRoaXMuem9vbS50cmFuc2Zvcm0sIGQzLnpvb21JZGVudGl0eVxuICAgICAgICAuc2NhbGUod2lkdGggLyAoY3VycmVudF9yYW5nZVsxXSAtIGN1cnJlbnRfcmFuZ2VbMF0pKVxuICAgICAgICAudHJhbnNsYXRlKC1jdXJyZW50X3JhbmdlWzBdLCAwKSk7XG4gICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgdGhpcy51cGRhdGVDb250ZXh0KGN1cnJlbnRfcmFuZ2VbMF0sIGN1cnJlbnRfcmFuZ2VbMV0pO1xuICAgICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF90b3AnKS5jYWxsKHRoaXMuYnJ1c2hfdG9wLm1vdmUsIG51bGwpO1xuICAgICAgdGhpcy5icnVzaGVkX3RvcCgpO1xuICAgIH07XG5cbiAgICB0aGlzLmJydXNoZWRfdG9wID0gKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLl9mb2N1cykgeyBjb25zb2xlLmxvZygnYicpOyByZXR1cm47IH1cbiAgICAgIGlmICghdGhpcy5tYXBfZWxlbSkgeyBjb25zb2xlLmxvZygnYycpOyByZXR1cm47IH1cbiAgICAgIGNvbnN0IGQzX2V2ZW50ID0gZDMuZXZlbnQ7XG4gICAgICBjb25zdCByYXRpb190b191c2UgPSB0aGlzLnJhdGlvX3RvX3VzZTtcbiAgICAgIGNvbnN0IHJlZl92YWx1ZSA9IHRoaXMucmVmX3ZhbHVlO1xuICAgICAgaWYgKGQzX2V2ZW50ICYmIGQzX2V2ZW50LnNlbGVjdGlvblxuICAgICAgICAgICAgJiYgZDNfZXZlbnQuc291cmNlRXZlbnQgJiYgZDNfZXZlbnQuc291cmNlRXZlbnQudGFyZ2V0ID09PSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnJ1c2hfdG9wID4gcmVjdC5vdmVybGF5JykpIHtcbiAgICAgICAgdGhpcy5tYXBfZWxlbS5yZW1vdmVSZWN0QnJ1c2goKTtcbiAgICAgICAgY29uc3QgcyA9IGQzX2V2ZW50LnNlbGVjdGlvbjtcbiAgICAgICAgY3VycmVudF9yYW5nZV9icnVzaCA9IFtcbiAgICAgICAgICBjdXJyZW50X3JhbmdlWzBdICsgbWF0aF9yb3VuZChzWzBdIC8gKHdpZHRoIC8gZGlzcGxheWVkKSkgLSAxLFxuICAgICAgICAgIGN1cnJlbnRfcmFuZ2VbMF0gKyBtYXRoX3JvdW5kKHNbMV0gLyAod2lkdGggLyBkaXNwbGF5ZWQpKSxcbiAgICAgICAgXTtcbiAgICAgICAgdGhpcy54LmRvbWFpbih0aGlzLmRhdGEuc2xpY2UoY3VycmVudF9yYW5nZV9icnVzaFswXSArIDEsIGN1cnJlbnRfcmFuZ2VfYnJ1c2hbMV0pXG4gICAgICAgICAgLm1hcChmdCA9PiBmdC5pZCkpO1xuICAgICAgICBhcHAuY29sb3JzID0ge307XG4gICAgICAgIHRoaXMuX2ZvY3VzLnNlbGVjdEFsbCgnLmJhcicpXG4gICAgICAgICAgLnN0eWxlKCdmaWxsJywgKGQsIGkpID0+IHtcbiAgICAgICAgICAgIGlmIChkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKSB7XG4gICAgICAgICAgICAgIGFwcC5jb2xvcnNbZC5pZF0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgICAgICAgICAgIHJldHVybiBjb2xvcl9oaWdobGlnaHQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGkgPiBjdXJyZW50X3JhbmdlX2JydXNoWzBdICYmIGkgPCBjdXJyZW50X3JhbmdlX2JydXNoWzFdKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gY29tcChkW3JhdGlvX3RvX3VzZV0sIHJlZl92YWx1ZSwgdGhpcy5zZXJpZV9pbnZlcnNlZCk7XG4gICAgICAgICAgICAgIGFwcC5jb2xvcnNbZC5pZF0gPSBjb2xvcjtcbiAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbG9yX2NvdW50cmllcztcbiAgICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGQzX2V2ZW50ICYmICFkM19ldmVudC5zZWxlY3Rpb25cbiAgICAgICAgICAgICYmIGQzX2V2ZW50LnNvdXJjZUV2ZW50ICYmIGQzX2V2ZW50LnNvdXJjZUV2ZW50LmRldGFpbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGhpcy5tYXBfZWxlbS5yZW1vdmVSZWN0QnJ1c2goKTtcbiAgICAgICAgICBhcHAuY29sb3JzID0ge307XG4gICAgICAgICAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICAgICAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZm9jdXMuc2VsZWN0QWxsKCcuYmFyJylcbiAgICAgICAgICAuc3R5bGUoJ2ZpbGwnLCBkID0+IGFwcC5jb2xvcnNbZC5pZF0gfHwgY29sb3JfY291bnRyaWVzKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHggPSBkMy5zY2FsZUJhbmQoKS5yYW5nZShbMCwgd2lkdGhdKS5wYWRkaW5nKDAuMSksXG4gICAgICB4MiA9IGQzLnNjYWxlQmFuZCgpLnJhbmdlKFswLCB3aWR0aF0pLnBhZGRpbmcoMC4xKSxcbiAgICAgIHkgPSBkMy5zY2FsZUxpbmVhcigpLnJhbmdlKFtoZWlnaHQsIDBdKSxcbiAgICAgIHkyID0gZDMuc2NhbGVMaW5lYXIoKS5yYW5nZShbaGVpZ2h0MiwgMF0pO1xuXG4gICAgY29uc3QgeEF4aXMgPSBkMy5heGlzQm90dG9tKHgpO1xuICAgIGNvbnN0IHhBeGlzMiA9IGQzLmF4aXNCb3R0b20oeDIpO1xuICAgIGNvbnN0IHlBeGlzID0gZDMuYXhpc0xlZnQoeSk7XG5cbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueDIgPSB4MjtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHRoaXMueTIgPSB5MjtcbiAgICB0aGlzLnhBeGlzID0geEF4aXM7XG4gICAgdGhpcy55QXhpcyA9IHlBeGlzO1xuICAgIHRoaXMueEF4aXMyID0geEF4aXMyO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGF2YWlsYWJsZV9yYXRpb3MgPSBhcHAuY3VycmVudF9jb25maWcucmF0aW87XG4gICAgY29uc3QgcmF0aW9fdG9fdXNlID0gYXZhaWxhYmxlX3JhdGlvc1swXTtcbiAgICB0aGlzLnJhdGlvX3RvX3VzZSA9IHJhdGlvX3RvX3VzZTtcblxuICAgIHRoaXMuZGF0YSA9IHJlZl9kYXRhLnNsaWNlKCk7XG4gICAgdGhpcy5kYXRhLnNvcnQoKGEsIGIpID0+IGFbcmF0aW9fdG9fdXNlXSAtIGJbcmF0aW9fdG9fdXNlXSk7XG4gICAgLy8gYXBwLmN1cnJlbnRfaWRzID0gZGF0YS5tYXAoZCA9PiBkLmlkKTtcbiAgICB0aGlzLmN1cnJlbnRfcmFua3MgPSB0aGlzLmRhdGEubWFwKChkLCBpKSA9PiBpICsgMSk7XG4gICAgbmJGdCA9IHRoaXMuZGF0YS5sZW5ndGg7XG4gICAgdGhpcy5tZWFuX3ZhbHVlID0gZDMubWVhbih0aGlzLmRhdGEubWFwKGQgPT4gZFtyYXRpb190b191c2VdKSk7XG4gICAgdGhpcy5yZWZfdmFsdWUgPSB0aGlzLmRhdGEuZmlsdGVyKFxuICAgICAgZnQgPT4gZnQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pWzBdW3JhdGlvX3RvX3VzZV07XG4gICAgc3ZnX2Jhci5hcHBlbmQoJ2RlZnMnKVxuICAgICAgLmFwcGVuZCgnY2xpcFBhdGgnKVxuICAgICAgLmF0dHIoJ2lkJywgJ2NsaXAnKVxuICAgICAgLmFwcGVuZCgncmVjdCcpXG4gICAgICAuYXR0cnMoeyB3aWR0aCwgaGVpZ2h0IH0pO1xuXG4gICAgY29uc3QgZm9jdXMgPSBzdmdfYmFyLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICBjbGFzczogJ2ZvY3VzJyxcbiAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7bWFyZ2luLmxlZnR9LCAke21hcmdpbi50b3B9KWAsXG4gICAgICB9KTtcblxuICAgIGNvbnN0IGNvbnRleHQgPSBzdmdfYmFyLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICBjbGFzczogJ2NvbnRleHQnLFxuICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHttYXJnaW4yLmxlZnR9LCAke21hcmdpbjIudG9wfSlgLFxuICAgICAgfSk7XG5cbiAgICB0aGlzLl9mb2N1cyA9IGZvY3VzO1xuICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG5cbiAgICB4LmRvbWFpbih0aGlzLmRhdGEubWFwKGZ0ID0+IGZ0LmlkKSk7XG4gICAgeS5kb21haW4oW1xuICAgICAgZDMubWluKHRoaXMuZGF0YSwgZCA9PiBkW3JhdGlvX3RvX3VzZV0pIC0gMixcbiAgICAgIGQzLm1heCh0aGlzLmRhdGEsIGQgPT4gZFtyYXRpb190b191c2VdKSxcbiAgICBdKTtcbiAgICB4Mi5kb21haW4oeC5kb21haW4oKSk7XG4gICAgeTIuZG9tYWluKHkuZG9tYWluKCkpO1xuXG4gICAgY29uc3QgYnJ1c2hfYm90dG9tID0gZDMuYnJ1c2hYKClcbiAgICAgIC5leHRlbnQoW1swLCAwXSwgW3dpZHRoLCBoZWlnaHQyXV0pXG4gICAgICAub24oJ2JydXNoIGVuZCcsIHRoaXMuYnJ1c2hlZCk7XG5cbiAgICBjb25zdCBicnVzaF90b3AgPSBkMy5icnVzaFgoKVxuICAgICAgLmV4dGVudChbWzAsIDBdLCBbd2lkdGgsIGhlaWdodF1dKVxuICAgICAgLm9uKCdicnVzaCBlbmQnLCB0aGlzLmJydXNoZWRfdG9wKTtcblxuICAgIGNvbnN0IHpvb20gPSBkMy56b29tKClcbiAgICAgIC5zY2FsZUV4dGVudChbMSwgSW5maW5pdHldKVxuICAgICAgLnRyYW5zbGF0ZUV4dGVudChbWzAsIDBdLCBbd2lkdGgsIGhlaWdodF1dKVxuICAgICAgLmV4dGVudChbWzAsIDBdLCBbd2lkdGgsIGhlaWdodF1dKTtcbiAgICAgIC8vIC5vbihcInpvb21cIiwgem9vbWVkKTtcbiAgICB0aGlzLmJydXNoX3RvcCA9IGJydXNoX3RvcDtcbiAgICB0aGlzLmJydXNoX2JvdHRvbSA9IGJydXNoX2JvdHRvbTtcbiAgICB0aGlzLnpvb20gPSB6b29tO1xuXG4gICAgZm9jdXMuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAnYXhpcyBheGlzLS14JywgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKDAsICR7aGVpZ2h0fSlgIH0pXG4gICAgICAuY2FsbCh4QXhpcyk7XG5cbiAgICBmb2N1cy5zZWxlY3QoJy5heGlzLS14JylcbiAgICAgIC5zZWxlY3RBbGwoJ3RleHQnKVxuICAgICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdlbmQnKVxuICAgICAgLmF0dHJzKHsgZHg6ICctMC44ZW0nLCBkeTogJzAuMTVlbScsIHRyYW5zZm9ybTogJ3JvdGF0ZSgtNjUpJyB9KTtcblxuICAgIGZvY3VzLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignY2xhc3MnLCAnYXhpcyBheGlzLS15JylcbiAgICAgIC5jYWxsKHlBeGlzKTtcblxuICAgIHRoaXMuZ19iYXIgPSBmb2N1cy5hcHBlbmQoJ2cnKTtcblxuICAgIGNvbnN0IGdyb3VwZV9saW5lX21lYW4gPSBmb2N1cy5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdtZWFuJyk7XG4gICAgZ3JvdXBlX2xpbmVfbWVhbi5hcHBlbmQoJ3RleHQnKVxuICAgICAgLmF0dHJzKHsgeDogNjAsIHk6IHkodGhpcy5tZWFuX3ZhbHVlKSArIDIwIH0pXG4gICAgICAuc3R5bGVzKHtcbiAgICAgICAgZGlzcGxheTogJ25vbmUnLFxuICAgICAgICBmaWxsOiAncmVkJyxcbiAgICAgICAgJ2ZpbGwtb3BhY2l0eSc6ICcwLjgnLFxuICAgICAgICAnZm9udC1mYW1pbHknOiAnXFwnU2lnbmlrYVxcJywgc2Fucy1zZXJpZicsXG4gICAgICB9KVxuICAgICAgLnRleHQoYFZhbGV1ciBtb3llbm5lIDogJHtNYXRoLnJvdW5kKHRoaXMubWVhbl92YWx1ZSAqIDEwKSAvIDEwfWApO1xuXG4gICAgZ3JvdXBlX2xpbmVfbWVhbi5hcHBlbmQoJ2xpbmUnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgeDE6IDAsXG4gICAgICAgIHgyOiB3aWR0aCxcbiAgICAgICAgeTE6IHkodGhpcy5tZWFuX3ZhbHVlKSxcbiAgICAgICAgeTI6IHkodGhpcy5tZWFuX3ZhbHVlKSxcbiAgICAgICAgJ3N0cm9rZS1kYXNoYXJyYXknOiAnMTAsIDUnLFxuICAgICAgICAnc3Ryb2tlLXdpZHRoJzogJzJweCcsXG4gICAgICAgIGNsYXNzOiAnbWVhbl9saW5lJyxcbiAgICAgIH0pXG4gICAgICAuc3R5bGUoJ3N0cm9rZScsICdyZWQnKTtcblxuICAgIGdyb3VwZV9saW5lX21lYW4uYXBwZW5kKCdsaW5lJylcbiAgICAgIC5hdHRycyh7IHgxOiAwLCB4Mjogd2lkdGgsIHkxOiB5KHRoaXMubWVhbl92YWx1ZSksIHkyOiB5KHRoaXMubWVhbl92YWx1ZSksICdzdHJva2Utd2lkdGgnOiAnMTRweCcsIGNsYXNzOiAndHJhbnNwX21lYW5fbGluZScgfSlcbiAgICAgIC5zdHlsZSgnc3Ryb2tlJywgJ3RyYW5zcGFyZW50JylcbiAgICAgIC5vbignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgICAgICBncm91cGVfbGluZV9tZWFuLnNlbGVjdCgndGV4dCcpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ2luaXRpYWwnKTtcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlb3V0JywgKCkgPT4ge1xuICAgICAgICBncm91cGVfbGluZV9tZWFuLnNlbGVjdCgndGV4dCcpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgIH0pO1xuXG4gICAgdGhpcy51cGRhdGVNaW5pQmFycygpO1xuXG4gICAgY29udGV4dC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2JydXNoX2JvdHRvbScpXG4gICAgICAuY2FsbChicnVzaF9ib3R0b20pXG4gICAgICAuY2FsbChicnVzaF9ib3R0b20ubW92ZSwgeC5yYW5nZSgpKTtcblxuICAgIGZvY3VzLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignY2xhc3MnLCAnYnJ1c2hfdG9wJylcbiAgICAgIC5jYWxsKGJydXNoX3RvcClcbiAgICAgIC5jYWxsKGJydXNoX3RvcC5tb3ZlLCBudWxsKTtcblxuICAgIHRoaXMuY29tcGxldHVkZSA9IHN2Z19iYXIuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRycyh7IGlkOiAnY2hhcnRfY29tcGxldHVkZScsIHg6IDYwLCB5OiA0MCB9KVxuICAgICAgLnN0eWxlcyh7ICdmb250LWZhbWlseSc6ICdcXCdTaWduaWthXFwnLCBzYW5zLXNlcmlmJyB9KVxuICAgICAgLnRleHQoYENvbXBsw6l0dWRlIDogJHthcHAuY29tcGxldHVkZX0lYCk7XG5cbiAgICBzdmdfYmFyLmFwcGVuZCgnaW1hZ2UnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgeDogd2lkdGggKyBtYXJnaW4ubGVmdCArIDUsXG4gICAgICAgIHk6IDM4NSxcbiAgICAgICAgd2lkdGg6IDE1LFxuICAgICAgICBoZWlnaHQ6IDE1LFxuICAgICAgICAneGxpbms6aHJlZic6ICdpbWcvcmV2ZXJzZV9ibHVlLnBuZycsXG4gICAgICAgIGlkOiAnaW1nX3JldmVyc2UnLFxuICAgICAgfSlcbiAgICAgIC5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIC8vIHRoaXMuZGF0YSA9IGFwcC5jdXJyZW50X2RhdGEuc2xpY2UoKTtcbiAgICAgICAgaWYgKCF0aGlzLnNlcmllX2ludmVyc2VkKSB7XG4gICAgICAgICAgdGhpcy5kYXRhLnNvcnQoKGEsIGIpID0+IGJbdGhpcy5yYXRpb190b191c2VdIC0gYVt0aGlzLnJhdGlvX3RvX3VzZV0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuZGF0YS5zb3J0KChhLCBiKSA9PiBhW3RoaXMucmF0aW9fdG9fdXNlXSAtIGJbdGhpcy5yYXRpb190b191c2VdKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlcmllX2ludmVyc2VkID0gIXRoaXMuc2VyaWVfaW52ZXJzZWQ7XG4gICAgICAgIHguZG9tYWluKHRoaXMuZGF0YS5zbGljZShjdXJyZW50X3JhbmdlWzBdLCBjdXJyZW50X3JhbmdlWzFdKS5tYXAoZnQgPT4gZnQuaWQpKTtcbiAgICAgICAgeDIuZG9tYWluKHRoaXMuZGF0YS5tYXAoZnQgPT4gZnQuaWQpKTtcbiAgICAgICAgLy8gc3ZnX2Jhci5zZWxlY3QoXCIuem9vbVwiKS5jYWxsKHpvb20udHJhbnNmb3JtLCBkMy56b29tSWRlbnRpdHlcbiAgICAgICAgLy8gICAgIC5zY2FsZSh3aWR0aCAvIChjdXJyZW50X3JhbmdlWzFdIC0gY3VycmVudF9yYW5nZVswXSkpXG4gICAgICAgIC8vICAgICAudHJhbnNsYXRlKC1jdXJyZW50X3JhbmdlWzBdLCAwKSk7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIC8vIHRoaXMudXBkYXRlTWluaUJhcnMoKTtcbiAgICAgICAgdGhpcy51cGRhdGVDb250ZXh0KGN1cnJlbnRfcmFuZ2VbMF0sIGN1cnJlbnRfcmFuZ2VbMV0pO1xuICAgICAgICBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX3RvcCcpLmNhbGwoYnJ1c2hfdG9wLm1vdmUsIG51bGwpO1xuICAgICAgICB0aGlzLm1hcF9lbGVtLnJlbW92ZVJlY3RCcnVzaCgpO1xuICAgICAgICBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX2JvdHRvbScpLmNhbGwoYnJ1c2hfYm90dG9tLm1vdmUsIHgucmFuZ2UoKSk7XG4gICAgICB9KTtcblxuICAgIC8vIFByZXBhcmUgdGhlIHRvb2x0aXAgZGlzcGxheWVkIG9uIG1vdXNlb3ZlcjpcbiAgICBjb25zdCB0b29sdGlwID0gcHJlcGFyZVRvb2x0aXAoc3ZnX2Jhcik7XG5cbiAgICAvLyBEZWFjdGl2YXRlIHRoZSBicnVzaCByZWN0IHNlbGVjdGlvbiBvbiB0aGUgbWFwICsgb24gdGhlIGNoYXJ0XG4gICAgLy8gd2hlbiBoZSB1c2VyIHByZXNzIHRoZSBDdHJsIGtleTpcbiAgICBkb2N1bWVudC5vbmtleWRvd24gPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudCAmJiBldmVudC5rZXkgPT09ICdDb250cm9sJykge1xuICAgICAgICBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX3RvcCcpXG4gICAgICAgICAgLnNlbGVjdEFsbCgnLnNlbGVjdGlvbiwgLm92ZXJsYXknKVxuICAgICAgICAgIC5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJylcbiAgICAgICAgICAuc2VsZWN0QWxsKCcuc2VsZWN0aW9uLCAub3ZlcmxheScpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGRvY3VtZW50Lm9ua2V5dXAgPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudCAmJiBldmVudC5rZXkgPT09ICdDb250cm9sJykge1xuICAgICAgICBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX3RvcCcpXG4gICAgICAgICAgLnNlbGVjdEFsbCgnLnNlbGVjdGlvbiwgLm92ZXJsYXknKVxuICAgICAgICAgIC5zdHlsZSgnZGlzcGxheScsIG51bGwpO1xuICAgICAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpXG4gICAgICAgICAgLnNlbGVjdEFsbCgnLnNlbGVjdGlvbiwgLm92ZXJsYXknKVxuICAgICAgICAgIC5zdHlsZSgnZGlzcGxheScsIG51bGwpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvL1xuICAgIGNvbnN0IGhlYWRlcl9iYXJfc2VjdGlvbiA9IGQzLnNlbGVjdCgnI2hlYWRlcl9jaGFydCcpO1xuXG4gICAgdGhpcy5zZWxlY192YXIgPSBoZWFkZXJfYmFyX3NlY3Rpb25cbiAgICAgIC5pbnNlcnQoJ3NlbGVjdCcsICcjaW1nX3RhYmxlJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAndGl0bGVfdmFyaWFibGUnIH0pXG4gICAgICAuc3R5bGVzKHtcbiAgICAgICAgJ2ZvbnQtZmFtaWx5JzogJ1xcJ1NpZ25pa2FcXCcsIHNhbnMtc2VyaWYnLFxuICAgICAgICAnZm9udC13ZWlnaHQnOiAnODAwJyxcbiAgICAgICAgJ2ZvbnQtc2l6ZSc6ICcxNHB4JyxcbiAgICAgICAgJ21hcmdpbi10b3AnOiAnMTJweCcsXG4gICAgICAgICdtYXJnaW4tbGVmdCc6ICc0MHB4JyxcbiAgICAgICAgZmxvYXQ6ICdsZWZ0JyxcbiAgICAgIH0pO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gYXZhaWxhYmxlX3JhdGlvcy5sZW5ndGg7IGkgPCBsZW5faTsgaSsrKSB7XG4gICAgICB0aGlzLnNlbGVjX3Zhci5hcHBlbmQoJ29wdGlvbicpXG4gICAgICAgIC5hdHRyKCd2YWx1ZScsIGF2YWlsYWJsZV9yYXRpb3NbaV0pXG4gICAgICAgIC50ZXh0KGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpb19wcmV0dHlfbmFtZVtpXSk7XG4gICAgfVxuXG4gICAgdGhpcy5zZWxlY192YXIub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IGNvZGVfdmFyaWFibGUgPSB0aGlzLnZhbHVlO1xuICAgICAgc2VsZi5jaGFuZ2VWYXJpYWJsZShjb2RlX3ZhcmlhYmxlKTtcbiAgICAgIHNlbGYuY2hhbmdlU3R1ZHlab25lKCk7XG4gICAgICBzZWxmLnVwZGF0ZUNvbXBsZXR1ZGUoKTtcbiAgICB9KTtcblxuICAgIC8vIENyZWF0ZSB0aGUgbWVudSB1bmRlciB0aGUgY2hhcnQgYWxsb3dpbmcgdG8gdXNlIHNvbWUgdXNlZnVsIHNlbGVjdGlvbnNcbiAgICAvLyAoYWJvdmUgb3IgYmVsb3cgdGhlIG1lYW4gdmFsdWUgYW5kIGFib3ZlIG9yIGJlbG93IG15X3JlZ2lvbilcbiAgICBjb25zdCBidXR0b25zX3VuZGVyX2NoYXJ0ID0gZDMuc2VsZWN0KCcjYmFyX3NlY3Rpb24nKVxuICAgICAgLmFwcGVuZCgnZGl2JylcbiAgICAgIC5hdHRyKCdpZCcsICdidXR0b25zX3VuZGVyX2NoYXJ0JylcbiAgICAgIC5zdHlsZXMoeyBwYWRkaW5nOiAnMCAxMHB4IDEwcHggMTBweCcsICd0ZXh0LWFsaWduJzogJ2NlbnRlcicgfSk7XG5cbiAgICBidXR0b25zX3VuZGVyX2NoYXJ0LmFwcGVuZCgnYnV0dG9uJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAnYnV0dG9uX2JsdWUnLCBpZDogJ2J0bl9hYm92ZV9tZWFuJyB9KVxuICAgICAgLnRleHQoJzwgw6AgbGEgbW95ZW5uZScpXG4gICAgICAub24oJ2NsaWNrJywgKCkgPT4gdGhpcy5zZWxlY3RCZWxvd01lYW4oKSk7XG5cbiAgICBidXR0b25zX3VuZGVyX2NoYXJ0LmFwcGVuZCgnYnV0dG9uJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAnYnV0dG9uX2JsdWUnLCBpZDogJ2J0bl9iZWxvd19tZWFuJyB9KVxuICAgICAgLnRleHQoJz4gw6AgbGEgbW95ZW5uZScpXG4gICAgICAub24oJ2NsaWNrJywgKCkgPT4gdGhpcy5zZWxlY3RBYm92ZU1lYW4oKSk7XG5cbiAgICBidXR0b25zX3VuZGVyX2NoYXJ0LmFwcGVuZCgnYnV0dG9uJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAnYnV0dG9uX2JsdWUnLCBpZDogJ2J0bl9hYm92ZV9teV9yZWdpb24nIH0pXG4gICAgICAudGV4dCgnPCDDoCBtYSByw6lnaW9uJylcbiAgICAgIC5vbignY2xpY2snLCAoKSA9PiB0aGlzLnNlbGVjdEJlbG93TXlSZWdpb24oKSk7XG5cbiAgICBidXR0b25zX3VuZGVyX2NoYXJ0LmFwcGVuZCgnYnV0dG9uJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAnYnV0dG9uX2JsdWUnLCBpZDogJ2J0bl9iZWxvd19teV9yZWdpb24nIH0pXG4gICAgICAudGV4dCgnPiDDoCBtYSByw6lnaW9uJylcbiAgICAgIC5vbignY2xpY2snLCAoKSA9PiB0aGlzLnNlbGVjdEFib3ZlTXlSZWdpb24oKSk7XG4gIH1cblxuICB1cGRhdGVDb21wbGV0dWRlKCkge1xuICAgIHRoaXMuY29tcGxldHVkZVxuICAgICAgLnRleHQoYENvbXBsw6l0dWRlIDogJHthcHAuY29tcGxldHVkZX0lYCk7XG4gIH1cblxuICB1cGRhdGVDb250ZXh0KG1pbiwgbWF4KSB7XG4gICAgdGhpcy5jb250ZXh0LnNlbGVjdEFsbCgnLmJhcicpXG4gICAgICAgLnN0eWxlKCdmaWxsLW9wYWNpdHknLCAoXywgaSkgPT4gKGkgPj0gbWluICYmIGkgPCBtYXggPyAnMScgOiAnMC4zJykpO1xuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIGRpc3BsYXllZCA9IDA7XG4gICAgY29uc3QgcmF0aW9fdG9fdXNlID0gdGhpcy5yYXRpb190b191c2U7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgYmFyID0gdGhpcy5nX2Jhci5zZWxlY3RBbGwoJy5iYXInKVxuICAgICAgLmRhdGEodGhpcy5kYXRhKTtcblxuICAgIGJhclxuICAgICAgLmF0dHJzKGQgPT4gKHtcbiAgICAgICAgeDogdGhpcy54KGQuaWQpLFxuICAgICAgICB5OiB0aGlzLnkoZFtyYXRpb190b191c2VdKSxcbiAgICAgICAgd2lkdGg6IHRoaXMueC5iYW5kd2lkdGgoKSxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQgLSB0aGlzLnkoZFtyYXRpb190b191c2VdKSxcbiAgICAgIH0pKVxuICAgICAgLnN0eWxlKCdmaWxsJywgZCA9PiBhcHAuY29sb3JzW2QuaWRdIHx8IGNvbG9yX2NvdW50cmllcylcbiAgICAgIC5zdHlsZSgnZGlzcGxheScsIChkKSA9PiB7XG4gICAgICAgIGNvbnN0IHRvX2Rpc3BsYXkgPSB0aGlzLngoZC5pZCkgIT0gbnVsbDtcbiAgICAgICAgaWYgKHRvX2Rpc3BsYXkpIHtcbiAgICAgICAgICBkaXNwbGF5ZWQgKz0gMTtcbiAgICAgICAgICByZXR1cm4gJ2luaXRpYWwnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnbm9uZSc7XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZW92ZXInLCAoKSA9PiB7XG4gICAgICAgIHN2Z19iYXIuc2VsZWN0KCcudG9vbHRpcCcpLnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZW91dCcsICgpID0+IHtcbiAgICAgICAgc3ZnX2Jhci5zZWxlY3QoJy50b29sdGlwJykuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgfSlcbiAgICAgIC5vbignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgY29uc3QgdG9vbHRpcCA9IHN2Z19iYXIuc2VsZWN0KCcudG9vbHRpcCcpO1xuICAgICAgICB0b29sdGlwXG4gICAgICAgICAgLnNlbGVjdCgndGV4dC5pZF9mZWF0dXJlJylcbiAgICAgICAgICAudGV4dChgJHtkLmlkfWApO1xuICAgICAgICB0b29sdGlwLnNlbGVjdCgndGV4dC52YWx1ZV9mZWF0dXJlMScpXG4gICAgICAgICAgLnRleHQoYCR7bWF0aF9yb3VuZChkW3NlbGYucmF0aW9fdG9fdXNlXSAqIDEwKSAvIDEwfWApO1xuICAgICAgICB0b29sdGlwXG4gICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHtbZDMubW91c2UodGhpcylbMF0gLSA1LCBkMy5tb3VzZSh0aGlzKVsxXSAtIDQ1XX0pYCk7XG4gICAgICB9KTtcblxuICAgIGJhci5lbnRlcigpXG4gICAgICAuaW5zZXJ0KCdyZWN0JywgJy5tZWFuJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdiYXInKVxuICAgICAgLmF0dHJzKGQgPT4gKHtcbiAgICAgICAgeDogdGhpcy54KGQuaWQpLFxuICAgICAgICB5OiB0aGlzLnkoZFtyYXRpb190b191c2VdKSxcbiAgICAgICAgd2lkdGg6IHRoaXMueC5iYW5kd2lkdGgoKSxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQgLSB0aGlzLnkoZFtyYXRpb190b191c2VdKSxcbiAgICAgIH0pKTtcblxuICAgIGJhci5leGl0KCkucmVtb3ZlKCk7XG5cbiAgICB0aGlzLl9mb2N1cy5zZWxlY3QoJy5heGlzLS15JylcbiAgICAgIC5jYWxsKHRoaXMueUF4aXMpO1xuXG4gICAgY29uc3QgYXhpc194ID0gdGhpcy5fZm9jdXMuc2VsZWN0KCcuYXhpcy0teCcpXG4gICAgICAuYXR0cignZm9udC1zaXplJywgKCkgPT4gKGRpc3BsYXllZCA+IDc1ID8gNiA6IDEwKSlcbiAgICAgIC5jYWxsKHRoaXMueEF4aXMpO1xuICAgIGF4aXNfeFxuICAgICAgLnNlbGVjdEFsbCgndGV4dCcpXG4gICAgICAuYXR0cnMoKCkgPT4ge1xuICAgICAgICBpZiAoZGlzcGxheWVkID4gMTAwKSB7XG4gICAgICAgICAgcmV0dXJuIHsgZHg6ICctMC44ZW0nLCBkeTogJzAuMTVlbScsIHRyYW5zZm9ybTogJ3JvdGF0ZSgtNjUpJyB9O1xuICAgICAgICB9IGVsc2UgaWYgKGRpc3BsYXllZCA+IDIwKSB7XG4gICAgICAgICAgcmV0dXJuIHsgZHg6ICctMC44ZW0nLCBkeTogJzAuMTVlbScsIHRyYW5zZm9ybTogJ3JvdGF0ZSgtNjUpJyB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB7IGR4OiAnMCcsIGR5OiAnMC43MWVtJywgdHJhbnNmb3JtOiBudWxsIH07XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgKCkgPT4gKGRpc3BsYXllZCA+IDIwID8gJ2VuZCcgOiAnbWlkZGxlJykpO1xuXG4gICAgdGhpcy51cGRhdGVNaW5pQmFycygpO1xuICB9XG5cblxuICB1cGRhdGVNaW5pQmFycygpIHtcbiAgICBjb25zdCByYXRpb190b191c2UgPSB0aGlzLnJhdGlvX3RvX3VzZTtcbiAgICBjb25zdCBtaW5pX2JhcnMgPSB0aGlzLmNvbnRleHQuc2VsZWN0QWxsKCcuYmFyJylcbiAgICAgIC5kYXRhKHRoaXMuZGF0YSk7XG5cbiAgICBtaW5pX2JhcnNcbiAgICAgIC5hdHRyKCd4JywgZCA9PiB0aGlzLngyKGQuaWQpKVxuICAgICAgLmF0dHIoJ3dpZHRoJywgdGhpcy54Mi5iYW5kd2lkdGgoKSlcbiAgICAgIC5hdHRyKCd5JywgZCA9PiB0aGlzLnkyKGRbcmF0aW9fdG9fdXNlXSkpXG4gICAgICAuYXR0cignaGVpZ2h0JywgZCA9PiBoZWlnaHQyIC0gdGhpcy55MihkW3JhdGlvX3RvX3VzZV0pKVxuICAgICAgLnN0eWxlKCdmaWxsJywgZCA9PiAoZC5pZCAhPT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbiA/IGNvbG9yX2NvdW50cmllcyA6IGNvbG9yX2hpZ2hsaWdodCkpO1xuXG4gICAgbWluaV9iYXJzXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmluc2VydCgncmVjdCcpXG4gICAgICAuYXR0cignY2xhc3MnLCAnYmFyJylcbiAgICAgIC5hdHRyKCd4JywgZCA9PiB0aGlzLngyKGQuaWQpKVxuICAgICAgLmF0dHIoJ3dpZHRoJywgdGhpcy54Mi5iYW5kd2lkdGgoKSlcbiAgICAgIC5hdHRyKCd5JywgZCA9PiB0aGlzLnkyKGRbcmF0aW9fdG9fdXNlXSkpXG4gICAgICAuYXR0cignaGVpZ2h0JywgZCA9PiBoZWlnaHQyIC0gdGhpcy55MihkW3JhdGlvX3RvX3VzZV0pKVxuICAgICAgLnN0eWxlKCdmaWxsJywgZCA9PiAoZC5pZCAhPT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbiA/IGNvbG9yX2NvdW50cmllcyA6IGNvbG9yX2hpZ2hsaWdodCkpO1xuICAgIG1pbmlfYmFycy5leGl0KCkucmVtb3ZlKCk7XG4gIH1cblxuICB1cGRhdGVNYXBSZWdpbygpIHtcbiAgICB0aGlzLm1hcF9lbGVtLnRhcmdldF9sYXllci5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCBkID0+IChhcHAuY3VycmVudF9pZHMuaW5kZXhPZihkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dKSA+IC0xXG4gICAgICAgID8gKGFwcC5jb2xvcnNbZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXV0gfHwgY29sb3JfY291bnRyaWVzKVxuICAgICAgICA6IGNvbG9yX2Rpc2FibGVkKSk7XG4gIH1cblxuICBzZWxlY3RBYm92ZU15UmVnaW9uKCkge1xuICAgIGNvbnN0IG15X3JhbmsgPSB0aGlzLmRhdGEubWFwKChkLCBpKSA9PiBbZC5pZCwgaV0pXG4gICAgICAuZmlsdGVyKGQgPT4gZFswXSA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbilbMF1bMV07XG4gICAgYXBwLmNvbG9ycyA9IHt9O1xuICAgIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgaWYgKCF0aGlzLnNlcmllX2ludmVyc2VkKSB7XG4gICAgICBjdXJyZW50X3JhbmdlX2JydXNoID0gW215X3JhbmssIHRoaXMuZGF0YS5sZW5ndGhdO1xuICAgICAgdGhpcy5kYXRhXG4gICAgICAgIC5maWx0ZXIoKGQsIGkpID0+IGkgPiBteV9yYW5rKVxuICAgICAgICAubWFwKGQgPT4gZC5pZClcbiAgICAgICAgLmZvckVhY2goKGZ0KSA9PiB7IGFwcC5jb2xvcnNbZnRdID0gY29sb3Jfc3VwOyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9yYW5nZV9icnVzaCA9IFswLCBteV9yYW5rXTtcbiAgICAgIHRoaXMuZGF0YVxuICAgICAgICAuZmlsdGVyKChkLCBpKSA9PiBpIDwgbXlfcmFuaylcbiAgICAgICAgLm1hcChkID0+IGQuaWQpXG4gICAgICAgIC5mb3JFYWNoKChmdCkgPT4geyBhcHAuY29sb3JzW2Z0XSA9IGNvbG9yX2luZjsgfSk7XG4gICAgfVxuICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfYm90dG9tJykuY2FsbChcbiAgICAgIHRoaXMuYnJ1c2hfYm90dG9tLm1vdmUsIHRoaXMueDIucmFuZ2UoKSk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgICAvLyBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX3RvcCcpLmNhbGwodGhpcy5icnVzaF90b3AubW92ZSwgY3VycmVudF9yYW5nZV9icnVzaC5tYXAoZCA9PiBkICogKHdpZHRoIC8gbmJGdCkpKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gIH1cblxuICBzZWxlY3RCZWxvd015UmVnaW9uKCkge1xuICAgIGNvbnN0IG15X3JhbmsgPSB0aGlzLmRhdGEubWFwKChkLCBpKSA9PiBbZC5pZCwgaV0pXG4gICAgICAuZmlsdGVyKGQgPT4gZFswXSA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbilbMF1bMV07XG5cbiAgICBhcHAuY29sb3JzID0ge307XG4gICAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICBpZiAoIXRoaXMuc2VyaWVfaW52ZXJzZWQpIHtcbiAgICAgIGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbMCwgbXlfcmFua107XG4gICAgICB0aGlzLmRhdGFcbiAgICAgICAgLmZpbHRlcigoZCwgaSkgPT4gaSA8IG15X3JhbmspXG4gICAgICAgIC5tYXAoZCA9PiBkLmlkKVxuICAgICAgICAuZm9yRWFjaCgoZnQpID0+IHsgYXBwLmNvbG9yc1tmdF0gPSBjb2xvcl9pbmY7IH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X3JhbmdlX2JydXNoID0gW215X3JhbmssIHRoaXMuZGF0YS5sZW5ndGhdO1xuICAgICAgdGhpcy5kYXRhXG4gICAgICAgIC5maWx0ZXIoKGQsIGkpID0+IGkgPiBteV9yYW5rKVxuICAgICAgICAubWFwKGQgPT4gZC5pZClcbiAgICAgICAgLmZvckVhY2goKGZ0KSA9PiB7IGFwcC5jb2xvcnNbZnRdID0gY29sb3Jfc3VwOyB9KTtcbiAgICB9XG4gICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF9ib3R0b20nKS5jYWxsKFxuICAgICAgdGhpcy5icnVzaF9ib3R0b20ubW92ZSwgdGhpcy54Mi5yYW5nZSgpKTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIC8vIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfdG9wJykuY2FsbCh0aGlzLmJydXNoX3RvcC5tb3ZlLCBjdXJyZW50X3JhbmdlX2JydXNoLm1hcChkID0+IGQgKiAod2lkdGggLyBuYkZ0KSkpO1xuICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgfVxuXG4gIHNlbGVjdEFib3ZlTWVhbigpIHtcbiAgICBjb25zdCBtZWFuX3JhbmsgPSBnZXRNZWFuUmFuayh0aGlzLm1lYW5fdmFsdWUsIHRoaXMucmF0aW9fdG9fdXNlKTtcbiAgICBjb25zdCByYXRpb190b191c2UgPSB0aGlzLnJhdGlvX3RvX3VzZTtcbiAgICBjb25zdCByZWZfdmFsdWUgPSB0aGlzLnJlZl92YWx1ZTtcblxuICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgIGlmICghdGhpcy5zZXJpZV9pbnZlcnNlZCkge1xuICAgICAgY3VycmVudF9yYW5nZV9icnVzaCA9IFttZWFuX3JhbmssIHRoaXMuZGF0YS5sZW5ndGhdO1xuICAgICAgdGhpcy5kYXRhLmZpbHRlcihkID0+IGRbcmF0aW9fdG9fdXNlXSA+IHRoaXMubWVhbl92YWx1ZSkuZm9yRWFjaCgoZnQpID0+IHtcbiAgICAgICAgaWYgKGZ0W3JhdGlvX3RvX3VzZV0gPiByZWZfdmFsdWUpIGFwcC5jb2xvcnNbZnQuaWRdID0gY29sb3Jfc3VwO1xuICAgICAgICBlbHNlIGFwcC5jb2xvcnNbZnQuaWRdID0gY29sb3JfaW5mO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbMCwgbWVhbl9yYW5rICsgMV07XG4gICAgICB0aGlzLmRhdGEuZmlsdGVyKGQgPT4gZFtyYXRpb190b191c2VdID4gdGhpcy5tZWFuX3ZhbHVlKS5mb3JFYWNoKChmdCkgPT4ge1xuICAgICAgICBpZiAoZnRbcmF0aW9fdG9fdXNlXSA+IHJlZl92YWx1ZSkgYXBwLmNvbG9yc1tmdC5pZF0gPSBjb2xvcl9pbmY7XG4gICAgICAgIGVsc2UgYXBwLmNvbG9yc1tmdC5pZF0gPSBjb2xvcl9zdXA7XG4gICAgICB9KTtcbiAgICB9XG4gICAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX2JvdHRvbScpLmNhbGwoXG4gICAgICB0aGlzLmJydXNoX2JvdHRvbS5tb3ZlLCB0aGlzLngyLnJhbmdlKCkpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gICAgLy8gc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF90b3AnKS5jYWxsKHRoaXMuYnJ1c2hfdG9wLm1vdmUsIGN1cnJlbnRfcmFuZ2VfYnJ1c2gubWFwKGQgPT4gZCAqICh3aWR0aCAvIG5iRnQpKSk7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICB9XG5cbiAgc2VsZWN0QmVsb3dNZWFuKCkge1xuICAgIGNvbnN0IG1lYW5fcmFuayA9IGdldE1lYW5SYW5rKHRoaXMubWVhbl92YWx1ZSwgdGhpcy5yYXRpb190b191c2UpO1xuICAgIGNvbnN0IHJhdGlvX3RvX3VzZSA9IHRoaXMucmF0aW9fdG9fdXNlO1xuICAgIGNvbnN0IHJlZl92YWx1ZSA9IHRoaXMucmVmX3ZhbHVlO1xuICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICBpZiAoIXRoaXMuc2VyaWVfaW52ZXJzZWQpIHtcbiAgICAgIGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbMCwgbWVhbl9yYW5rXTtcbiAgICAgIHRoaXMuZGF0YS5maWx0ZXIoZCA9PiBkW3JhdGlvX3RvX3VzZV0gPCB0aGlzLm1lYW5fdmFsdWUpLmZvckVhY2goKGZ0KSA9PiB7XG4gICAgICAgIGlmIChmdFtyYXRpb190b191c2VdIDwgcmVmX3ZhbHVlKSBhcHAuY29sb3JzW2Z0LmlkXSA9IGNvbG9yX2luZjtcbiAgICAgICAgZWxzZSBhcHAuY29sb3JzW2Z0LmlkXSA9IGNvbG9yX3N1cDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X3JhbmdlX2JydXNoID0gW21lYW5fcmFuayArIDEsIHRoaXMuZGF0YS5sZW5ndGhdO1xuICAgICAgdGhpcy5kYXRhLmZpbHRlcihkID0+IGRbcmF0aW9fdG9fdXNlXSA8IHRoaXMubWVhbl92YWx1ZSkuZm9yRWFjaCgoZnQpID0+IHtcbiAgICAgICAgaWYgKGZ0W3JhdGlvX3RvX3VzZV0gPCByZWZfdmFsdWUpIGFwcC5jb2xvcnNbZnQuaWRdID0gY29sb3Jfc3VwO1xuICAgICAgICBlbHNlIGFwcC5jb2xvcnNbZnQuaWRdID0gY29sb3JfaW5mO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF9ib3R0b20nKS5jYWxsKFxuICAgICAgdGhpcy5icnVzaF9ib3R0b20ubW92ZSwgdGhpcy54Mi5yYW5nZSgpKTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIC8vIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfdG9wJykuY2FsbCh0aGlzLmJydXNoX3RvcC5tb3ZlLCBjdXJyZW50X3JhbmdlX2JydXNoLm1hcChkID0+IGQgKiAod2lkdGggLyBuYkZ0KSkpO1xuICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgfVxuXG4gIGhhbmRsZV9icnVzaF9tYXAoZXZlbnQpIHtcbiAgICBjb25zdCByYXRpb190b191c2UgPSB0aGlzLnJhdGlvX3RvX3VzZTtcbiAgICBjb25zdCByZWZfdmFsdWUgPSB0aGlzLnJlZl92YWx1ZTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX3RvcCcpLmNhbGwoc2VsZi5icnVzaF90b3AubW92ZSwgbnVsbCk7XG4gICAgY29uc3QgW3RvcGxlZnQsIGJvdHRvbXJpZ2h0XSA9IGV2ZW50LnNlbGVjdGlvbjtcbiAgICAvLyBjb25zdCB0cmFuc2Zvcm0gPSBzdmdfbWFwLm5vZGUoKS5fX3pvb207XG4gICAgLy8gdG9wbGVmdFswXSA9ICh0b3BsZWZ0WzBdIC0gdHJhbnNmb3JtLngpIC8gdHJhbnNmb3JtLms7XG4gICAgLy8gdG9wbGVmdFsxXSA9ICh0b3BsZWZ0WzFdIC0gdHJhbnNmb3JtLnkpIC8gdHJhbnNmb3JtLms7XG4gICAgLy8gYm90dG9tcmlnaHRbMF0gPSAoYm90dG9tcmlnaHRbMF0gLSB0cmFuc2Zvcm0ueCkgLyB0cmFuc2Zvcm0uaztcbiAgICAvLyBib3R0b21yaWdodFsxXSA9IChib3R0b21yaWdodFsxXSAtIHRyYW5zZm9ybS55KSAvIHRyYW5zZm9ybS5rO1xuICAgIGNvbnN0IHJlY3QgPSBuZXcgUmVjdCh0b3BsZWZ0LCBib3R0b21yaWdodCk7XG4gICAgYXBwLmNvbG9ycyA9IHt9O1xuICAgIHNlbGYubWFwX2VsZW0udGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuYXR0cignZmlsbCcsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgIGNvbnN0IGlkID0gZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXTtcbiAgICAgICAgaWYgKGlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKSB7XG4gICAgICAgICAgYXBwLmNvbG9yc1tpZF0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgICAgICAgcmV0dXJuIGNvbG9yX2hpZ2hsaWdodDtcbiAgICAgICAgfSBlbHNlIGlmIChhcHAuY3VycmVudF9pZHMuaW5kZXhPZihpZCkgPCAwKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbG9yX2Rpc2FibGVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fcHRzKSB7XG4gICAgICAgICAgdGhpcy5fcHRzID0gc3ZnUGF0aFRvQ29vcmRzKHRoaXMuZ2V0QXR0cmlidXRlKCdkJyksIGFwcC50eXBlX3BhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHB0cyA9IHRoaXMuX3B0cztcbiAgICAgICAgZm9yIChsZXQgaXggPSAwLCBuYl9wdHMgPSBwdHMubGVuZ3RoOyBpeCA8IG5iX3B0czsgaXgrKykge1xuICAgICAgICAgIGlmIChyZWN0LmNvbnRhaW5zKHB0c1tpeF0pKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGQucHJvcGVydGllc1tyYXRpb190b191c2VdO1xuICAgICAgICAgICAgY29uc3QgY29sb3IgPSBjb21wKHZhbHVlLCByZWZfdmFsdWUsIHRoaXMuc2VyaWVfaW52ZXJzZWQpO1xuICAgICAgICAgICAgYXBwLmNvbG9yc1tpZF0gPSBjb2xvcjtcbiAgICAgICAgICAgIHJldHVybiBjb2xvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbG9yX2NvdW50cmllcztcbiAgICAgIH0pO1xuICAgIHNlbGYuX2ZvY3VzLnNlbGVjdEFsbCgnLmJhcicpXG4gICAgICAuc3R5bGUoJ2ZpbGwnLCBkID0+IGFwcC5jb2xvcnNbZC5pZF0gfHwgY29sb3JfY291bnRyaWVzKTtcbiAgICBjb25zdCBpZHMgPSBPYmplY3Qua2V5cyhhcHAuY29sb3JzKTtcbiAgICBjb25zdCByYW5rcyA9IGlkcy5tYXAoZCA9PiBhcHAuY3VycmVudF9pZHMuaW5kZXhPZihkLmlkKSA+IC0xKS5tYXAoZCA9PiB0aGlzLmN1cnJlbnRfcmFua3NbZF0pO1xuICAgIGlmIChyYW5rcy5sZW5ndGggPiAxKSB7XG4gICAgICBjb25zdCBjMSA9IHJhbmtzWzBdIC0gMTtcbiAgICAgIGNvbnN0IGMyID0gcmFua3NbcmFua3MubGVuZ3RoIC0gMV07XG4gICAgICBpZiAoYzEgPCBjdXJyZW50X3JhbmdlWzBdIHx8IGMyID4gY3VycmVudF9yYW5nZVsxXSkge1xuICAgICAgICBjdXJyZW50X3JhbmdlID0gW1xuICAgICAgICAgIHJhbmtzWzBdIC0gMSxcbiAgICAgICAgICByYW5rc1tyYW5rcy5sZW5ndGggLSAxXSxcbiAgICAgICAgXTtcbiAgICAgICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF9ib3R0b20nKS5jYWxsKFxuICAgICAgICAgIHNlbGYuYnJ1c2hfYm90dG9tLm1vdmUsXG4gICAgICAgICAgW2N1cnJlbnRfcmFuZ2VbMF0gKiAod2lkdGggLyBuYkZ0KSwgY3VycmVudF9yYW5nZVsxXSAqICh3aWR0aCAvIG5iRnQpXSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfcmFuZ2UgPSBbMCwgdGhpcy5kYXRhLmxlbmd0aF07XG4gICAgICBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX2JvdHRvbScpLmNhbGwoXG4gICAgICAgIHNlbGYuYnJ1c2hfYm90dG9tLm1vdmUsIHNlbGYueC5yYW5nZSgpKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVDbGlja01hcChkLCBwYXJlbnQpIHtcbiAgICBjb25zdCBpZCA9IGQucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV07XG4gICAgaWYgKGFwcC5jdXJyZW50X2lkcy5pbmRleE9mKGlkKSA8IDAgfHwgaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pIHJldHVybjtcbiAgICBpZiAoYXBwLmNvbG9yc1tpZF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgYXBwLmNvbG9yc1tpZF0gPSB1bmRlZmluZWQ7XG4gICAgICBkMy5zZWxlY3QocGFyZW50KS5hdHRyKCdmaWxsJywgY29sb3JfY291bnRyaWVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgY29sb3IgPSBjb21wKFxuICAgICAgICBkLnByb3BlcnRpZXNbdGhpcy5yYXRpb190b191c2VdLFxuICAgICAgICB0aGlzLnJlZl92YWx1ZSxcbiAgICAgICAgdGhpcy5zZXJpZV9pbnZlcnNlZCk7XG4gICAgICBhcHAuY29sb3JzW2lkXSA9IGNvbG9yO1xuICAgICAgZDMuc2VsZWN0KHBhcmVudCkuYXR0cignZmlsbCcsIGNvbG9yKTtcbiAgICB9XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIHVwZGF0ZUNoYW5nZVJlZ2lvbigpIHtcbiAgICB0aGlzLnJlZl92YWx1ZSA9IHRoaXMuZGF0YS5maWx0ZXIoXG4gICAgICBmdCA9PiBmdC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbilbMF1bdGhpcy5yYXRpb190b191c2VdO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gICAgLy8gdGhpcy51cGRhdGVNaW5pQmFycygpO1xuICAgIHRoaXMudXBkYXRlQ29udGV4dCgwLCB0aGlzLmRhdGEubGVuZ3RoKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF9ib3R0b20nKS5jYWxsKHRoaXMuYnJ1c2hfYm90dG9tLm1vdmUsIHRoaXMueC5yYW5nZSgpKTtcbiAgICB0aGlzLm1hcF9lbGVtLnJlbW92ZVJlY3RCcnVzaCgpO1xuICAgIHRoaXMubWFwX2VsZW0udXBkYXRlTGVnZW5kKCk7XG4gIH1cblxuICB1cGRhdGVNZWFuVmFsdWUoKSB7XG4gICAgY29uc3QgeSA9IHRoaXMueTtcbiAgICBjb25zdCByYXRpb190b191c2UgPSB0aGlzLnJhdGlvX3RvX3VzZTtcbiAgICBjb25zdCBncnBfbWVhbiA9IHRoaXMuX2ZvY3VzLnNlbGVjdCgnLm1lYW4nKTtcbiAgICB0aGlzLm1lYW5fdmFsdWUgPSBkMy5tZWFuKHRoaXMuZGF0YS5tYXAoZCA9PiBkW3JhdGlvX3RvX3VzZV0pKTtcbiAgICBncnBfbWVhbi5zZWxlY3QoJ3RleHQnKVxuICAgICAgLmF0dHIoJ3knLCB5KHRoaXMubWVhbl92YWx1ZSkgKyAyMClcbiAgICAgIC50ZXh0KGBWYWxldXIgbW95ZW5uZSA6ICR7TWF0aC5yb3VuZCh0aGlzLm1lYW5fdmFsdWUgKiAxMCkgLyAxMH1gKTtcbiAgICBncnBfbWVhbi5zZWxlY3QoJy5tZWFuX2xpbmUnKVxuICAgICAgLmF0dHJzKHsgeTE6IHkodGhpcy5tZWFuX3ZhbHVlKSwgeTI6IHkodGhpcy5tZWFuX3ZhbHVlKSB9KTtcbiAgICBncnBfbWVhbi5zZWxlY3QoJy50cmFuc3BfbWVhbl9saW5lJylcbiAgICAgIC5hdHRycyh7IHkxOiB5KHRoaXMubWVhbl92YWx1ZSksIHkyOiB5KHRoaXMubWVhbl92YWx1ZSkgfSk7XG4gIH1cblxuICBjaGFuZ2VTdHVkeVpvbmUoKSB7XG4gICAgY29uc3QgcmF0aW9fdG9fdXNlID0gdGhpcy5yYXRpb190b191c2U7XG4gICAgdGhpcy5kYXRhID0gYXBwLmN1cnJlbnRfZGF0YS5zbGljZSgpO1xuICAgIGlmICh0aGlzLnNlcmllX2ludmVyc2VkKSB7XG4gICAgICB0aGlzLmRhdGEuc29ydCgoYSwgYikgPT4gYltyYXRpb190b191c2VdIC0gYVtyYXRpb190b191c2VdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kYXRhLnNvcnQoKGEsIGIpID0+IGFbcmF0aW9fdG9fdXNlXSAtIGJbcmF0aW9fdG9fdXNlXSk7XG4gICAgfVxuICAgIG5iRnQgPSB0aGlzLmRhdGEubGVuZ3RoO1xuICAgIHRoaXMucmVmX3ZhbHVlID0gdGhpcy5kYXRhLmZpbHRlcihcbiAgICAgIGZ0ID0+IGZ0LmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVswXVtyYXRpb190b191c2VdO1xuICAgIHRoaXMueC5kb21haW4odGhpcy5kYXRhLm1hcChmdCA9PiBmdC5pZCkpO1xuICAgIGNvbnN0IG1pbl9zZXJpZSA9IGQzLm1pbih0aGlzLmRhdGEsIGQgPT4gZFtyYXRpb190b191c2VdKTtcbiAgICBjb25zdCBtYXhfc2VyaWUgPSBkMy5tYXgodGhpcy5kYXRhLCBkID0+IGRbcmF0aW9fdG9fdXNlXSk7XG4gICAgY29uc3Qgb2Zmc2V0X3kgPSAobWF4X3NlcmllIC0gbWluX3NlcmllKSAvIDIwO1xuICAgIHRoaXMueS5kb21haW4oW1xuICAgICAgbWluX3NlcmllIC0gb2Zmc2V0X3ksIG1heF9zZXJpZSxcbiAgICBdKTtcbiAgICB0aGlzLngyLmRvbWFpbih0aGlzLnguZG9tYWluKCkpO1xuICAgIHRoaXMueTIuZG9tYWluKHRoaXMueS5kb21haW4oKSk7XG4gICAgdGhpcy51cGRhdGVNZWFuVmFsdWUoKTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIHRoaXMudXBkYXRlQ29udGV4dCgwLCB0aGlzLmRhdGEubGVuZ3RoKTtcblxuICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfYm90dG9tJykuY2FsbCh0aGlzLmJydXNoX2JvdHRvbS5tb3ZlLCB0aGlzLngyLnJhbmdlKCkpO1xuICAgIHRoaXMubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gICAgYXBwLmNvbG9ycyA9IHt9O1xuICAgIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICB9XG5cbiAgYWRkVmFyaWFibGUoY29kZV92YXJpYWJsZSwgbmFtZV92YXJpYWJsZSkge1xuICAgIC8vIEFkZCB0aGUgdmFyaWFibGUgdG8gdGhlIGlucHV0IGVsZW1lbnQgYWxsb3dpbmcgdG8gY2hvb3NlIHZhcmlhYmxlczpcbiAgICB0aGlzLnNlbGVjX3Zhci5hcHBlbmQoJ29wdGlvbicpXG4gICAgICAuYXR0cigndmFsdWUnLCBjb2RlX3ZhcmlhYmxlKVxuICAgICAgLnRleHQobmFtZV92YXJpYWJsZSk7XG5cbiAgICAvLyBBbmQgdXNlIGl0IGltbWVkaWF0bHk6XG4gICAgdGhpcy5zZWxlY192YXIubm9kZSgpLnZhbHVlID0gY29kZV92YXJpYWJsZTtcbiAgICB0aGlzLnNlbGVjX3Zhci5kaXNwYXRjaCgnY2hhbmdlJyk7XG4gIH1cblxuICByZW1vdmVWYXJpYWJsZShjb2RlX3ZhcmlhYmxlKSB7XG4gICAgLy8gQWRkIHRoZSB2YXJpYWJsZSB0byB0aGUgaW5wdXQgZWxlbWVudCBhbGxvd2luZyB0byBjaG9vc2UgdmFyaWFibGVzOlxuICAgIHRoaXMuc2VsZWNfdmFyLnNlbGVjdChgb3B0aW9uW3ZhbHVlPSR7Y29kZV92YXJpYWJsZX1dYCkucmVtb3ZlKCk7XG4gICAgaWYgKHRoaXMucmF0aW9fdG9fdXNlID09PSBjb2RlX3ZhcmlhYmxlKSB7XG4gICAgICB0aGlzLnNlbGVjX3Zhci5ub2RlKCkudmFsdWUgPSB0aGlzLnNlbGVjX3Zhci5zZWxlY3QoJ29wdGlvbicpLm5vZGUoKS52YWx1ZTtcbiAgICAgIHRoaXMuc2VsZWNfdmFyLmRpc3BhdGNoKCdjaGFuZ2UnKTtcbiAgICB9XG4gIH1cblxuICBjaGFuZ2VWYXJpYWJsZShjb2RlX3ZhcmlhYmxlKSB7XG4gICAgdGhpcy5yYXRpb190b191c2UgPSBjb2RlX3ZhcmlhYmxlO1xuICB9XG5cbiAgcmVtb3ZlKCkge1xuICAgIHRoaXMuX2ZvY3VzLnJlbW92ZSgpO1xuICAgIHRoaXMuY29udGV4dC5yZW1vdmUoKTtcbiAgICB0aGlzLnNlbGVjX3Zhci5yZW1vdmUoKTtcbiAgICB0aGlzLm1hcF9lbGVtLnVuYmluZEJydXNoKCk7XG4gICAgdGhpcy5tYXBfZWxlbSA9IG51bGw7XG4gICAgc3ZnX2Jhci5odG1sKCcnKTtcbiAgfVxuXG4gIGJpbmRNYXAobWFwX2VsZW0pIHtcbiAgICB0aGlzLm1hcF9lbGVtID0gbWFwX2VsZW07XG4gIH1cbn1cbiIsImltcG9ydCB7IGNvbXAsIG1hdGhfcm91bmQsIG1hdGhfYWJzLCBSZWN0LCBQcm9wU2l6ZXIsIHByZXBhcmVUb29sdGlwLCBzdmdQYXRoVG9Db29yZHMgfSBmcm9tICcuLy4uL2hlbHBlcnMnO1xuaW1wb3J0IHsgY29sb3JfZGlzYWJsZWQsIGNvbG9yX2NvdW50cmllcywgY29sb3Jfc3VwLCBjb2xvcl9pbmYsIGNvbG9yX2hpZ2hsaWdodCB9IGZyb20gJy4vLi4vb3B0aW9ucyc7XG5pbXBvcnQgeyBzdmdfbWFwIH0gZnJvbSAnLi8uLi9tYXAnO1xuaW1wb3J0IHsgYXBwLCB2YXJpYWJsZXMgfSBmcm9tICcuLy4uLy4uL21haW4nO1xuXG5jb25zdCBzdmdfYmFyID0gZDMuc2VsZWN0KCcjc3ZnX2JhcicpO1xuY29uc3QgbWFyZ2luID0geyB0b3A6IDIwLCByaWdodDogMjAsIGJvdHRvbTogNDAsIGxlZnQ6IDMwIH07XG5cbmNvbnN0IHdpZHRoID0gK3N2Z19iYXIuYXR0cignd2lkdGgnKSAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0LFxuICBoZWlnaHQgPSArc3ZnX2Jhci5hdHRyKCdoZWlnaHQnKSAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tO1xuXG5leHBvcnQgY2xhc3MgQnViYmxlQ2hhcnQxIHtcbiAgY29uc3RydWN0b3IocmVmX2RhdGEpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBhdmFpbGFibGVfcmF0aW9zID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvO1xuICAgIGNvbnN0IGF2YWlsYWJsZV9udW1zID0gYXBwLmN1cnJlbnRfY29uZmlnLm51bTtcbiAgICBjb25zdCByYXRpb190b191c2UgPSBhdmFpbGFibGVfcmF0aW9zWzBdO1xuICAgIGNvbnN0IHN0b2NrX3RvX3VzZSA9IGF2YWlsYWJsZV9udW1zWzBdO1xuICAgIHRoaXMucmF0aW9fdG9fdXNlID0gcmF0aW9fdG9fdXNlO1xuICAgIHRoaXMuc3RvY2tfdG9fdXNlID0gc3RvY2tfdG9fdXNlO1xuXG4gICAgdGhpcy5kYXRhID0gcmVmX2RhdGEuc2xpY2UoKS5zb3J0KFxuICAgICAgKGEsIGIpID0+IGJbc3RvY2tfdG9fdXNlXSAtIGFbc3RvY2tfdG9fdXNlXSk7XG4gICAgdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uID0gW107XG4gICAgY29uc3QgZHJhd19ncm91cCA9IHN2Z19iYXJcbiAgICAgIC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHttYXJnaW4ubGVmdH0sICR7bWFyZ2luLnRvcH0pYCk7XG4gICAgZHJhd19ncm91cC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHsgY2xhc3M6ICdheGlzIGF4aXMtLXgnLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoMCwgJHtoZWlnaHQgLyAyfSlgIH0pO1xuICAgIHRoaXMuZHJhd19ncm91cCA9IGRyYXdfZ3JvdXA7XG5cbiAgICAvLyBQcmVwYXJlIHRoZSB0b29sdGlwIGRpc3BsYXllZCBvbiBtb3VzZW92ZXI6XG4gICAgcHJlcGFyZVRvb2x0aXAoc3ZnX2Jhcik7XG5cbiAgICAvLyBDcmVhdGUgdGhlIFwiY29tcGxldHVkZVwiIHRleHQ6XG4gICAgdGhpcy5jb21wbGV0dWRlID0gc3ZnX2Jhci5hcHBlbmQoJ3RleHQnKVxuICAgICAgLmF0dHJzKHsgaWQ6ICdjaGFydF9jb21wbGV0dWRlJywgeDogNjAsIHk6IDQwIH0pXG4gICAgICAuc3R5bGVzKHsgJ2ZvbnQtZmFtaWx5JzogJ1xcJ1NpZ25pa2FcXCcsIHNhbnMtc2VyaWYnIH0pXG4gICAgICAudGV4dChgQ29tcGzDqXR1ZGUgOiAke2FwcC5jb21wbGV0dWRlfSVgKTtcblxuICAgIC8vIENyZWF0ZSB0aGUgc2VjdGlvbiBjb250YWluaW5nIHRoZSBpbnB1dCBlbGVtZW50IGFsbG93aW5nIHRvIGNob3NlXG4gICAgLy8gaG93IG1hbnkgXCJjbG9zZVwiIHJlZ2lvbnMgd2Ugd2FudCB0byBoaWdobGlnaHQuXG4gICAgY29uc3Qgc2VsZWN0aW9uX2Nsb3NlID0gZDMuc2VsZWN0KHN2Z19iYXIubm9kZSgpLnBhcmVudEVsZW1lbnQpXG4gICAgICAuYXBwZW5kKCdkaXYnKVxuICAgICAgLmF0dHIoJ2lkJywgJ21lbnVfc2VsZWN0aW9uJylcbiAgICAgIC5zdHlsZXMoeyB0b3A6ICctMTAwcHgnLCAnbWFyZ2luLWxlZnQnOiAnMzBweCcsIHBvc2l0aW9uOiAncmVsYXRpdmUnIH0pXG4gICAgICAuYXBwZW5kKCdwJyk7XG5cbiAgICBzZWxlY3Rpb25fY2xvc2UuYXBwZW5kKCdzcGFuJylcbiAgICAgIC5wcm9wZXJ0eSgndmFsdWUnLCAnY2xvc2UnKVxuICAgICAgLmF0dHJzKHsgdmFsdWU6ICdjbG9zZScsIGNsYXNzOiAndHlwZV9zZWxlY3Rpb24gc3F1YXJlIGNoZWNrZWQnIH0pO1xuICAgIHNlbGVjdGlvbl9jbG9zZS5hcHBlbmQoJ3NwYW4nKVxuICAgICAgLmF0dHJzKHsgY2xhc3M6ICdsYWJlbF9jaGsnIH0pXG4gICAgICAuaHRtbCgnTGVzJyk7XG4gICAgc2VsZWN0aW9uX2Nsb3NlLmFwcGVuZCgnaW5wdXQnKVxuICAgICAgLmF0dHJzKHsgY2xhc3M6ICduYl9zZWxlY3QnLCB0eXBlOiAnbnVtYmVyJyB9KVxuICAgICAgLnByb3BlcnR5KCd2YWx1ZScsIDUpO1xuICAgIHNlbGVjdGlvbl9jbG9zZS5hcHBlbmQoJ3NwYW4nKVxuICAgICAgLmF0dHJzKHsgY2xhc3M6ICdsYWJlbF9jaGsnIH0pXG4gICAgICAuaHRtbCgncsOpZ2lvbnMgbGVzIHBsdXMgcHJvY2hlcycpO1xuICAgIHRoaXMubXlfcmVnaW9uX3ZhbHVlID0gdGhpcy5kYXRhXG4gICAgICAgIC5maWx0ZXIoZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVxuICAgICAgICAubWFwKGQgPT4gZFtyYXRpb190b191c2VdKVswXTtcbiAgICB0aGlzLmJpbmRNZW51KCk7XG4gICAgdGhpcy5hcHBseVNlbGVjdGlvbig1LCAnY2xvc2UnKTtcblxuICAgIC8vXG4gICAgY29uc3QgaGVhZGVyX2Jhcl9zZWN0aW9uID0gZDMuc2VsZWN0KCcjaGVhZGVyX2NoYXJ0Jyk7XG5cbiAgICB0aGlzLnNlbGVjX3ZhciA9IGhlYWRlcl9iYXJfc2VjdGlvblxuICAgICAgLmluc2VydCgnc2VsZWN0JywgJyNpbWdfdGFibGUnKVxuICAgICAgLmF0dHJzKHsgY2xhc3M6ICd0aXRsZV92YXJpYWJsZScgfSlcbiAgICAgIC5zdHlsZXMoe1xuICAgICAgICAnZm9udC1mYW1pbHknOiAnXFwnU2lnbmlrYVxcJywgc2Fucy1zZXJpZicsXG4gICAgICAgICdmb250LXdlaWdodCc6ICc4MDAnLFxuICAgICAgICAnZm9udC1zaXplJzogJzE0cHgnLFxuICAgICAgICAnbWFyZ2luLXRvcCc6ICcxMnB4JyxcbiAgICAgICAgJ21hcmdpbi1sZWZ0JzogJzQwcHgnLFxuICAgICAgICBmbG9hdDogJ2xlZnQnLFxuICAgICAgfSk7XG5cbiAgICBmb3IgKGxldCBpID0gMCwgbGVuX2kgPSBhdmFpbGFibGVfcmF0aW9zLmxlbmd0aDsgaSA8IGxlbl9pOyBpKyspIHtcbiAgICAgIHRoaXMuc2VsZWNfdmFyLmFwcGVuZCgnb3B0aW9uJylcbiAgICAgICAgLmF0dHIoJ3ZhbHVlJywgYXZhaWxhYmxlX3JhdGlvc1tpXSlcbiAgICAgICAgLnRleHQoYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvX3ByZXR0eV9uYW1lW2ldKTtcbiAgICB9XG5cbiAgICB0aGlzLnNlbGVjX3Zhci5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgY29kZV92YXJpYWJsZSA9IHRoaXMudmFsdWU7XG4gICAgICBzZWxmLmNoYW5nZVZhcmlhYmxlKGNvZGVfdmFyaWFibGUpO1xuICAgICAgc2VsZi5jaGFuZ2VTdHVkeVpvbmUoKTtcbiAgICAgIHNlbGYudXBkYXRlQ29tcGxldHVkZSgpO1xuICAgIH0pO1xuXG4gICAgLy8gRGVhY3RpdmF0ZSB0aGUgcmVjdCBicnVzaCBzZWxlY3Rpb24gb24gdGhlIG1hcFxuICAgIC8vIHdoaWxlIHRoZSB1c2VyIHByZXNzIHRoZSBDdHJsIGtleTpcbiAgICBkb2N1bWVudC5vbmtleWRvd24gPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudCAmJiBldmVudC5rZXkgPT09ICdDb250cm9sJykge1xuICAgICAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpXG4gICAgICAgICAgLnNlbGVjdEFsbCgnLnNlbGVjdGlvbiwgLm92ZXJsYXknKVxuICAgICAgICAgIC5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICAvLyBSZWFjdGl2YXRlIHRoZSByZWN0IGJydXNoIHNlbGVjdGlvbiBvbiB0aGUgbWFwXG4gICAgLy8gd2hlbiB0aGUgdXNlciBkb2Vzbid0IHByZXNzIHRoZSBDdHJsIGtleSBhbnltb3JlXG4gICAgZG9jdW1lbnQub25rZXl1cCA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50LmtleSA9PT0gJ0NvbnRyb2wnKSB7XG4gICAgICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJylcbiAgICAgICAgICAuc2VsZWN0QWxsKCcuc2VsZWN0aW9uLCAub3ZlcmxheScpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGFwcGx5U2VsZWN0aW9uKG5iLCB0eXBlX3NlbGVjdGlvbiA9ICdjbG9zZScpIHtcbiAgICBhcHAuY29sb3JzID0ge307XG4gICAgaWYgKG5iID4gMCkge1xuICAgICAgY29uc3QgbXlfcmVnaW9uX3ZhbHVlID0gdGhpcy5teV9yZWdpb25fdmFsdWU7XG4gICAgICBjb25zdCByYXRpb190b191c2UgPSB0aGlzLnJhdGlvX3RvX3VzZTtcblxuICAgICAgdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uID0gdGhpcy5kYXRhLm1hcChkID0+ICh7XG4gICAgICAgIGRpc3Q6IG1hdGhfYWJzKGRbcmF0aW9fdG9fdXNlXSAtIG15X3JlZ2lvbl92YWx1ZSksXG4gICAgICAgIHJhdGlvOiBkW3JhdGlvX3RvX3VzZV0sXG4gICAgICAgIGlkOiBkLmlkIH0pKTtcbiAgICAgIGlmICh0eXBlX3NlbGVjdGlvbiA9PT0gJ2Nsb3NlJykge1xuICAgICAgICB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24uc29ydCgoYSwgYikgPT4gYS5kaXN0IC0gYi5kaXN0KTtcbiAgICAgICAgdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uID0gdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uLnNsaWNlKDEsIG5iICsgMSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVfc2VsZWN0aW9uID09PSAnZGlzdGFudCcpIHtcbiAgICAgICAgdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uLnNvcnQoKGEsIGIpID0+IGIuZGlzdCAtIGEuZGlzdCk7XG4gICAgICAgIHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbiA9IHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbi5zbGljZSgwLCBuYik7XG4gICAgICB9XG4gICAgICB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24uZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgICBhcHAuY29sb3JzW2VsZW0uaWRdID0gZWxlbS5yYXRpbyA8IG15X3JlZ2lvbl92YWx1ZSA/IGNvbG9yX2luZiA6IGNvbG9yX3N1cDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24gPSBbXTtcbiAgICB9XG4gICAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBkYXRhID0gc2VsZi5kYXRhO1xuICAgIGNvbnN0IGhpZ2hsaWdodF9zZWxlY3Rpb24gPSBzZWxmLmhpZ2hsaWdodF9zZWxlY3Rpb247XG4gICAgY29uc3QgbXlfcmVnaW9uX3ZhbHVlID0gc2VsZi5teV9yZWdpb25fdmFsdWU7XG4gICAgY29uc3QgcmF0aW9fdG9fdXNlID0gc2VsZi5yYXRpb190b191c2U7XG4gICAgY29uc3Qgc3RvY2tfdG9fdXNlID0gc2VsZi5zdG9ja190b191c2U7XG5cbiAgICBsZXQgX21pbjtcbiAgICBsZXQgX21heDtcbiAgICBpZiAoaGlnaGxpZ2h0X3NlbGVjdGlvbi5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBkaXN0X21pbiA9IG15X3JlZ2lvbl92YWx1ZSAtIGQzLm1pbihoaWdobGlnaHRfc2VsZWN0aW9uLCBkID0+IGQucmF0aW8pO1xuICAgICAgY29uc3QgZGlzdF9tYXggPSBkMy5tYXgoaGlnaGxpZ2h0X3NlbGVjdGlvbiwgZCA9PiBkLnJhdGlvKSAtIG15X3JlZ2lvbl92YWx1ZTtcbiAgICAgIGNvbnN0IGRpc3RfYXhpcyA9IE1hdGgubWF4KGRpc3RfbWluLCBkaXN0X21heCk7XG4gICAgICBjb25zdCBtYXJnaW5fbWluX21heCA9IG1hdGhfcm91bmQoZGlzdF9heGlzKSAvIDg7XG4gICAgICBfbWluID0gbXlfcmVnaW9uX3ZhbHVlIC0gZGlzdF9heGlzIC0gbWFyZ2luX21pbl9tYXg7XG4gICAgICBfbWF4ID0gbXlfcmVnaW9uX3ZhbHVlICsgZGlzdF9heGlzICsgbWFyZ2luX21pbl9tYXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGRpc3RfbWluID0gbXlfcmVnaW9uX3ZhbHVlIC0gZDMubWluKGRhdGEsIGQgPT4gZFtyYXRpb190b191c2VdKTtcbiAgICAgIGNvbnN0IGRpc3RfbWF4ID0gZDMubWF4KGRhdGEsIGQgPT4gZFtyYXRpb190b191c2VdKSAtIG15X3JlZ2lvbl92YWx1ZTtcbiAgICAgIGNvbnN0IGRpc3RfYXhpcyA9IE1hdGgubWF4KGRpc3RfbWluLCBkaXN0X21heCk7XG4gICAgICBjb25zdCBtYXJnaW5fbWluX21heCA9IG1hdGhfcm91bmQoZGlzdF9heGlzKSAvIDg7XG4gICAgICBfbWluID0gbXlfcmVnaW9uX3ZhbHVlIC0gZGlzdF9heGlzIC0gbWFyZ2luX21pbl9tYXg7XG4gICAgICBfbWF4ID0gbXlfcmVnaW9uX3ZhbHVlICsgZGlzdF9heGlzICsgbWFyZ2luX21pbl9tYXg7XG4gICAgfVxuXG4gICAgY29uc3QgcHJvcF9zaXplciA9IG5ldyBQcm9wU2l6ZXIoZDMubWF4KGRhdGEsIGQgPT4gZFtzdG9ja190b191c2VdKSwgMzApO1xuICAgIGNvbnN0IHhTY2FsZSA9IGQzLnNjYWxlTGluZWFyKClcbiAgICAgIC5kb21haW4oW19taW4sIF9tYXhdKVxuICAgICAgLnJhbmdlKFswLCB3aWR0aF0pO1xuXG4gICAgdGhpcy5kcmF3X2dyb3VwLnNlbGVjdCgnZy5heGlzLS14JylcbiAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgIC5kdXJhdGlvbigyMjUpXG4gICAgICAuY2FsbChkMy5heGlzQm90dG9tKHhTY2FsZSkpO1xuXG4gICAgY29uc3QgYnViYmxlcyA9IHRoaXMuZHJhd19ncm91cC5zZWxlY3RBbGwoJy5idWJibGUnKVxuICAgICAgLmRhdGEoZGF0YSwgZCA9PiBkLmlkKTtcblxuICAgIGJ1YmJsZXNcbiAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgIC5kdXJhdGlvbigyMjUpXG4gICAgICAuYXR0cnMoKGQpID0+IHtcbiAgICAgICAgbGV0IHhfdmFsdWUgPSB4U2NhbGUoZFtyYXRpb190b191c2VdKTtcbiAgICAgICAgaWYgKHhfdmFsdWUgPiB3aWR0aCkgeF92YWx1ZSA9IHdpZHRoICsgMjAwO1xuICAgICAgICBlbHNlIGlmICh4X3ZhbHVlIDwgMCkgeF92YWx1ZSA9IC0yMDA7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgY3g6IHhfdmFsdWUsXG4gICAgICAgICAgY3k6IGhlaWdodCAvIDIsXG4gICAgICAgICAgcjogcHJvcF9zaXplci5zY2FsZShkW3N0b2NrX3RvX3VzZV0pLFxuICAgICAgICB9O1xuICAgICAgfSlcbiAgICAgIC5zdHlsZXMoZCA9PiAoe1xuICAgICAgICBmaWxsOiBhcHAuY29sb3JzW2QuaWRdIHx8IGNvbG9yX2NvdW50cmllcyxcbiAgICAgIH0pKTtcblxuICAgIGJ1YmJsZXNcbiAgICAgIC5lbnRlcigpXG4gICAgICAuaW5zZXJ0KCdjaXJjbGUnKVxuICAgICAgLnN0eWxlcyhkID0+ICh7XG4gICAgICAgIGZpbGw6IGFwcC5jb2xvcnNbZC5pZF0gfHwgY29sb3JfY291bnRyaWVzLFxuICAgICAgfSkpXG4gICAgICAudHJhbnNpdGlvbigpXG4gICAgICAuZHVyYXRpb24oMjI1KVxuICAgICAgLmF0dHJzKChkKSA9PiB7XG4gICAgICAgIGxldCB4X3ZhbHVlID0geFNjYWxlKGRbcmF0aW9fdG9fdXNlXSk7XG4gICAgICAgIGlmICh4X3ZhbHVlID4gd2lkdGgpIHhfdmFsdWUgPSB3aWR0aCArIDIwMDtcbiAgICAgICAgZWxzZSBpZiAoeF92YWx1ZSA8IDApIHhfdmFsdWUgPSAtMjAwO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGNsYXNzOiAnYnViYmxlJyxcbiAgICAgICAgICBjeDogeF92YWx1ZSxcbiAgICAgICAgICBjeTogaGVpZ2h0IC8gMixcbiAgICAgICAgICByOiBwcm9wX3NpemVyLnNjYWxlKGRbc3RvY2tfdG9fdXNlXSksXG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgIGJ1YmJsZXMuZXhpdCgpLnRyYW5zaXRpb24oKS5kdXJhdGlvbigyMjUpLnJlbW92ZSgpO1xuXG4gICAgdGhpcy5kcmF3X2dyb3VwLnNlbGVjdEFsbCgnLmJ1YmJsZScpXG4gICAgICAub24oJ21vdXNlb3ZlcicsICgpID0+IHtcbiAgICAgICAgc3ZnX2Jhci5zZWxlY3QoJy50b29sdGlwJykuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTtcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlb3V0JywgKCkgPT4ge1xuICAgICAgICBzdmdfYmFyLnNlbGVjdCgnLnRvb2x0aXAnKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICBjb25zdCB0b29sdGlwID0gc3ZnX2Jhci5zZWxlY3QoJy50b29sdGlwJyk7XG4gICAgICAgIGNvbnN0IF9yYXRpb190b191c2UgPSBzZWxmLnJhdGlvX3RvX3VzZTtcbiAgICAgICAgY29uc3QgX3N0b2NrX3RvX3VzZSA9IHNlbGYuc3RvY2tfdG9fdXNlO1xuICAgICAgICB0b29sdGlwXG4gICAgICAgICAgLnNlbGVjdCgndGV4dC5pZF9mZWF0dXJlJylcbiAgICAgICAgICAudGV4dChgJHtkLmlkfWApO1xuICAgICAgICB0b29sdGlwLnNlbGVjdCgndGV4dC52YWx1ZV9mZWF0dXJlMScpXG4gICAgICAgICAgLnRleHQoYFJhdGlvOiAke01hdGgucm91bmQoZFtfcmF0aW9fdG9fdXNlXSAqIDEwKSAvIDEwfWApO1xuICAgICAgICB0b29sdGlwLnNlbGVjdCgndGV4dC52YWx1ZV9mZWF0dXJlMicpXG4gICAgICAgICAgLnRleHQoYFN0b2NrOiAke01hdGgucm91bmQoZFtfc3RvY2tfdG9fdXNlXSAqIDEwKSAvIDEwfWApO1xuICAgICAgICB0b29sdGlwXG4gICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHtbZDMubW91c2UodGhpcylbMF0gLSA1LCBkMy5tb3VzZSh0aGlzKVsxXSAtIDQ1XX0pYCk7XG4gICAgICB9KTtcbiAgfVxuICB1cGRhdGVDb21wbGV0dWRlKCkge1xuICAgIHRoaXMuY29tcGxldHVkZVxuICAgICAgLnRleHQoYENvbXBsw6l0dWRlIDogJHthcHAuY29tcGxldHVkZX0lYCk7XG4gIH1cblxuICB1cGRhdGVNYXBSZWdpbygpIHtcbiAgICBpZiAoIXRoaXMubWFwX2VsZW0pIHJldHVybjtcbiAgICB0aGlzLm1hcF9lbGVtLnRhcmdldF9sYXllci5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCBkID0+IChhcHAuY3VycmVudF9pZHMuaW5kZXhPZihkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dKSA+IC0xXG4gICAgICAgID8gKGFwcC5jb2xvcnNbZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXV0gfHwgY29sb3JfY291bnRyaWVzKVxuICAgICAgICA6IGNvbG9yX2Rpc2FibGVkKSk7XG4gIH1cblxuICBoYW5kbGVfYnJ1c2hfbWFwKGV2ZW50KSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgW3RvcGxlZnQsIGJvdHRvbXJpZ2h0XSA9IGV2ZW50LnNlbGVjdGlvbjtcbiAgICBjb25zdCByZWN0ID0gbmV3IFJlY3QodG9wbGVmdCwgYm90dG9tcmlnaHQpO1xuICAgIGNvbnN0IHJhdGlvX3RvX3VzZSA9IHRoaXMucmF0aW9fdG9fdXNlO1xuICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICBzZWxmLmhpZ2hsaWdodF9zZWxlY3Rpb24gPSBbXTtcbiAgICBzZWxmLm1hcF9lbGVtLnRhcmdldF9sYXllci5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICBjb25zdCBpZCA9IGQucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV07XG4gICAgICAgIGlmIChpZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbikge1xuICAgICAgICAgIGFwcC5jb2xvcnNbaWRdID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgICAgICAgIHJldHVybiBjb2xvcl9oaWdobGlnaHQ7XG4gICAgICAgIH0gZWxzZSBpZiAoYXBwLmN1cnJlbnRfaWRzLmluZGV4T2YoaWQpIDwgMCkge1xuICAgICAgICAgIHJldHVybiBjb2xvcl9kaXNhYmxlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX3B0cykge1xuICAgICAgICAgIHRoaXMuX3B0cyA9IHN2Z1BhdGhUb0Nvb3Jkcyh0aGlzLmdldEF0dHJpYnV0ZSgnZCcpLCBhcHAudHlwZV9wYXRoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwdHMgPSB0aGlzLl9wdHM7XG4gICAgICAgIGZvciAobGV0IGl4ID0gMCwgbmJfcHRzID0gcHRzLmxlbmd0aDsgaXggPCBuYl9wdHM7IGl4KyspIHtcbiAgICAgICAgICBpZiAocmVjdC5jb250YWlucyhwdHNbaXhdKSkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBkLnByb3BlcnRpZXNbcmF0aW9fdG9fdXNlXTtcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gY29tcCh2YWx1ZSwgc2VsZi5teV9yZWdpb25fdmFsdWUsIHRoaXMuc2VyaWVfaW52ZXJzZWQpO1xuICAgICAgICAgICAgYXBwLmNvbG9yc1tpZF0gPSBjb2xvcjtcbiAgICAgICAgICAgIHNlbGYuaGlnaGxpZ2h0X3NlbGVjdGlvbi5wdXNoKHtcbiAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgIHJhdGlvOiB2YWx1ZSxcbiAgICAgICAgICAgICAgZGlzdDogbWF0aF9hYnModmFsdWUgLSBzZWxmLm15X3JlZ2lvbl92YWx1ZSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBjb2xvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbG9yX2NvdW50cmllcztcbiAgICAgIH0pO1xuICAgIHNlbGYudXBkYXRlKCk7XG4gIH1cblxuICBoYW5kbGVDbGlja01hcChkLCBwYXJlbnQpIHtcbiAgICBjb25zdCBpZCA9IGQucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV07XG4gICAgaWYgKGFwcC5jdXJyZW50X2lkcy5pbmRleE9mKGlkKSA8IDAgfHwgaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pIHJldHVybjtcbiAgICBpZiAoYXBwLmNvbG9yc1tpZF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gUmVtb3ZlIHRoZSBjbGlja2VkIGZlYXR1cmUgZnJvbSB0aGUgY29sb3JlZCBzZWxlY3Rpb24gb24gdGhlIGNoYXJ0OlxuICAgICAgY29uc3QgaWRfdG9fcmVtb3ZlID0gdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uXG4gICAgICAgIC5tYXAoKGZ0LCBpKSA9PiAoZnQuaWQgPT09IGlkID8gaSA6IG51bGwpKS5maWx0ZXIoZnQgPT4gZnQpO1xuICAgICAgdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uLnNwbGljZShpZF90b19yZW1vdmUsIDEpO1xuICAgICAgLy8gQ2hhbmdlIGl0cyBjb2xvciBpbiB0aGUgZ2xvYmFsIGNvbG9ycyBvYmplY3Q6XG4gICAgICBhcHAuY29sb3JzW2lkXSA9IHVuZGVmaW5lZDtcbiAgICAgIC8vIENoYW5nZSB0aGUgY29sb3Igb24gdGhlIG1hcDpcbiAgICAgIGQzLnNlbGVjdChwYXJlbnQpLmF0dHIoJ2ZpbGwnLCBjb2xvcl9jb3VudHJpZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGQucHJvcGVydGllc1t0aGlzLnJhdGlvX3RvX3VzZV07XG4gICAgICBjb25zdCBjb2xvciA9IGNvbXAodmFsdWUsIHRoaXMubXlfcmVnaW9uX3ZhbHVlLCB0aGlzLnNlcmllX2ludmVyc2VkKTtcbiAgICAgIGFwcC5jb2xvcnNbaWRdID0gY29sb3I7XG4gICAgICAvLyBDaGFuZ2UgdGhlIGNvbG9yIG9uIHRoZSBtYXA6XG4gICAgICBkMy5zZWxlY3QocGFyZW50KS5hdHRyKCdmaWxsJywgY29sb3IpO1xuICAgICAgLy8gQWRkIHRoZSBjbGlja2VkIGZlYXR1cmUgb24gdGhlIGNvbG9yZWQgc2VsZWN0aW9uIG9uIHRoZSBjaGFydDpcbiAgICAgIHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbi5wdXNoKHtcbiAgICAgICAgaWQsXG4gICAgICAgIHJhdGlvOiB2YWx1ZSxcbiAgICAgICAgZGlzdDogbWF0aF9hYnModmFsdWUgLSB0aGlzLm15X3JlZ2lvbl92YWx1ZSksXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIHVwZGF0ZUNoYW5nZVJlZ2lvbigpIHtcbiAgICB0aGlzLm1hcF9lbGVtLnJlbW92ZVJlY3RCcnVzaCgpO1xuICAgIHRoaXMubWFwX2VsZW0udXBkYXRlTGVnZW5kKCk7XG4gICAgdGhpcy5teV9yZWdpb25fdmFsdWUgPSB0aGlzLmRhdGEuZmlsdGVyKFxuICAgICAgZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVswXVt0aGlzLnJhdGlvX3RvX3VzZV07XG4gICAgdGhpcy5hcHBseVNlbGVjdGlvbih0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24ubGVuZ3RoLCAnY2xvc2UnKTtcbiAgfVxuXG4gIGNoYW5nZVN0dWR5Wm9uZSgpIHtcbiAgICB0aGlzLm1hcF9lbGVtLnJlbW92ZVJlY3RCcnVzaCgpO1xuICAgIHRoaXMubWFwX2VsZW0udXBkYXRlTGVnZW5kKCk7XG4gICAgdGhpcy5kYXRhID0gYXBwLmN1cnJlbnRfZGF0YS5zbGljZSgpLnNvcnQoXG4gICAgICAoYSwgYikgPT4gYlt0aGlzLnN0b2NrX3RvX3VzZV0gLSBhW3RoaXMuc3RvY2tfdG9fdXNlXSk7XG4gICAgdGhpcy5teV9yZWdpb25fdmFsdWUgPSB0aGlzLmRhdGEuZmlsdGVyKFxuICAgICAgZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVswXVt0aGlzLnJhdGlvX3RvX3VzZV07XG4gICAgY29uc3QgdGVtcCA9IHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbi5sZW5ndGg7XG4gICAgdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uID0gW107XG4gICAgdGhpcy5hcHBseVNlbGVjdGlvbih0ZW1wLCAnY2xvc2UnKTtcbiAgfVxuXG4gIGNoYW5nZVZhcmlhYmxlKGNvZGVfdmFyaWFibGUpIHtcbiAgICB0aGlzLnJhdGlvX3RvX3VzZSA9IGNvZGVfdmFyaWFibGU7XG4gICAgdGhpcy5zdG9ja190b191c2UgPSB2YXJpYWJsZXMuZmlsdGVyKGQgPT4gZC5yYXRpbyA9PT0gY29kZV92YXJpYWJsZSlbMF0ubnVtO1xuICB9XG5cblxuICBhZGRWYXJpYWJsZShjb2RlX3ZhcmlhYmxlLCBuYW1lX3ZhcmlhYmxlKSB7XG4gICAgLy8gQWRkIHRoZSB2YXJpYWJsZSB0byB0aGUgaW5wdXQgZWxlbWVudCBhbGxvd2luZyB0byBjaG9vc2UgdmFyaWFibGVzOlxuICAgIHRoaXMuc2VsZWNfdmFyLmFwcGVuZCgnb3B0aW9uJylcbiAgICAgIC5hdHRyKCd2YWx1ZScsIGNvZGVfdmFyaWFibGUpXG4gICAgICAudGV4dChuYW1lX3ZhcmlhYmxlKTtcblxuICAgIC8vIEFuZCB1c2UgaXQgaW1tZWRpYXRseTpcbiAgICB0aGlzLnNlbGVjX3Zhci5ub2RlKCkudmFsdWUgPSBjb2RlX3ZhcmlhYmxlO1xuICAgIHRoaXMuc2VsZWNfdmFyLmRpc3BhdGNoKCdjaGFuZ2UnKTtcbiAgfVxuXG4gIHJlbW92ZVZhcmlhYmxlKGNvZGVfdmFyaWFibGUpIHtcbiAgICAvLyBBZGQgdGhlIHZhcmlhYmxlIHRvIHRoZSBpbnB1dCBlbGVtZW50IGFsbG93aW5nIHRvIGNob29zZSB2YXJpYWJsZXM6XG4gICAgdGhpcy5zZWxlY192YXIuc2VsZWN0KGBvcHRpb25bdmFsdWU9JHtjb2RlX3ZhcmlhYmxlfV1gKS5yZW1vdmUoKTtcbiAgICBpZiAodGhpcy5yYXRpb190b191c2UgPT09IGNvZGVfdmFyaWFibGUpIHtcbiAgICAgIHRoaXMuc2VsZWNfdmFyLm5vZGUoKS52YWx1ZSA9IHRoaXMuc2VsZWNfdmFyLnNlbGVjdCgnb3B0aW9uJykubm9kZSgpLnZhbHVlO1xuICAgICAgdGhpcy5zZWxlY192YXIuZGlzcGF0Y2goJ2NoYW5nZScpO1xuICAgIH1cbiAgfVxuXG4gIGJpbmRNZW51KCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IG1lbnUgPSBkMy5zZWxlY3QoJyNtZW51X3NlbGVjdGlvbicpO1xuICAgIGNvbnN0IGFwcGx5Y2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgc2VsZi5tYXBfZWxlbS5yZW1vdmVSZWN0QnJ1c2goKTtcbiAgICAgIGNvbnN0IHR5cGUgPSB0aGlzLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcignLnR5cGVfc2VsZWN0aW9uJykudmFsdWU7XG4gICAgICBsZXQgdmFsdWUgPSArdGhpcy52YWx1ZTtcbiAgICAgIGlmICghKHZhbHVlID4gLTEpKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSA1O1xuICAgICAgICB2YWx1ZSA9IDU7XG4gICAgICB9XG4gICAgICBzZWxmLmFwcGx5U2VsZWN0aW9uKHZhbHVlLCB0eXBlKTtcbiAgICB9O1xuICAgIG1lbnUuc2VsZWN0KCcubmJfc2VsZWN0JylcbiAgICAgIC5vbignY2hhbmdlJywgYXBwbHljaGFuZ2UpO1xuICAgIG1lbnUuc2VsZWN0KCcubmJfc2VsZWN0JylcbiAgICAgIC5vbignd2hlZWwnLCBhcHBseWNoYW5nZSk7XG4gICAgbWVudS5zZWxlY3QoJy5uYl9zZWxlY3QnKVxuICAgICAgLm9uKCdrZXl1cCcsIGFwcGx5Y2hhbmdlKTtcbiAgfVxuXG4gIHJlbW92ZSgpIHtcbiAgICB0aGlzLm1hcF9lbGVtLnVuYmluZEJydXNoKCk7XG4gICAgdGhpcy5tYXBfZWxlbSA9IG51bGw7XG4gICAgdGhpcy5zZWxlY192YXIucmVtb3ZlKCk7XG4gICAgZDMuc2VsZWN0KCcjbWVudV9zZWxlY3Rpb24nKS5yZW1vdmUoKTtcbiAgICBzdmdfYmFyLmh0bWwoJycpO1xuICB9XG5cbiAgYmluZE1hcChtYXBfZWxlbSkge1xuICAgIHRoaXMubWFwX2VsZW0gPSBtYXBfZWxlbTtcbiAgICBkMy5zZWxlY3QoJyNtZW51X3NlbGVjdGlvbicpLnNlbGVjdCgnLm5iX3NlbGVjdCcpLmRpc3BhdGNoKCdjaGFuZ2UnKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgY29tcCwgbWF0aF9yb3VuZCwgbWF0aF9hYnMsIFJlY3QsIGNvbXAyLCBwcmVwYXJlVG9vbHRpcCwgc3ZnUGF0aFRvQ29vcmRzLCBfZ2V0UFIsIGNvbXB1dGVQZXJjZW50aWxlUmFuayB9IGZyb20gJy4vLi4vaGVscGVycyc7XG5pbXBvcnQgeyBjb2xvcl9kaXNhYmxlZCwgY29sb3JfY291bnRyaWVzLCBjb2xvcl9oaWdobGlnaHQgfSBmcm9tICcuLy4uL29wdGlvbnMnO1xuaW1wb3J0IHsgc3ZnX21hcCB9IGZyb20gJy4vLi4vbWFwJztcbmltcG9ydCB7IGFwcCwgdmFyaWFibGVzIH0gZnJvbSAnLi8uLi8uLi9tYWluJztcblxuY29uc3Qgc3ZnX2JhciA9IGQzLnNlbGVjdCgnI3N2Z19iYXInKTtcbmNvbnN0IG1hcmdpbiA9IHsgdG9wOiAyMCwgcmlnaHQ6IDIwLCBib3R0b206IDQwLCBsZWZ0OiAzMCB9O1xuXG5jb25zdCB3aWR0aCA9ICtzdmdfYmFyLmF0dHIoJ3dpZHRoJykgLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodCxcbiAgaGVpZ2h0ID0gK3N2Z19iYXIuYXR0cignaGVpZ2h0JykgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcblxuZXhwb3J0IGNsYXNzIFNjYXR0ZXJQbG90MiB7XG4gIGNvbnN0cnVjdG9yKHJlZl9kYXRhKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy52YXJpYWJsZTEgPSBhcHAuY3VycmVudF9jb25maWcucmF0aW9bMF07XG4gICAgdGhpcy52YXJpYWJsZTIgPSBhcHAuY3VycmVudF9jb25maWcucmF0aW9bMV07XG4gICAgdGhpcy5yYW5rX3ZhcmlhYmxlMSA9IGBwcl8ke3RoaXMudmFyaWFibGUxfWA7XG4gICAgdGhpcy5yYW5rX3ZhcmlhYmxlMiA9IGBwcl8ke3RoaXMudmFyaWFibGUyfWA7XG4gICAgdGhpcy5wcmV0dHlfbmFtZTEgPSBhcHAuY3VycmVudF9jb25maWcucmF0aW9fcHJldHR5X25hbWVbMF07XG4gICAgdGhpcy5wcmV0dHlfbmFtZTIgPSBhcHAuY3VycmVudF9jb25maWcucmF0aW9fcHJldHR5X25hbWVbMV07XG4gICAgdGhpcy5kYXRhID0gcmVmX2RhdGEubWFwKChkKSA9PiB7XG4gICAgICBjb25zdCByZXMgPSB7IGlkOiBkLmlkIH07XG4gICAgICByZXNbdGhpcy52YXJpYWJsZTFdID0gZFt0aGlzLnZhcmlhYmxlMV07XG4gICAgICByZXNbdGhpcy52YXJpYWJsZTJdID0gZFt0aGlzLnZhcmlhYmxlMl07XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0pO1xuICAgIHRoaXMubmJGdCA9IHRoaXMuZGF0YS5sZW5ndGg7XG4gICAgY29tcHV0ZVBlcmNlbnRpbGVSYW5rKHRoaXMuZGF0YSwgdGhpcy52YXJpYWJsZTEsIHRoaXMucmFua192YXJpYWJsZTEpO1xuICAgIGNvbXB1dGVQZXJjZW50aWxlUmFuayh0aGlzLmRhdGEsIHRoaXMudmFyaWFibGUyLCB0aGlzLnJhbmtfdmFyaWFibGUyKTtcblxuICAgIHRoaXMueCA9IGQzLnNjYWxlTGluZWFyKClcbiAgICAgIC5yYW5nZShbMCwgd2lkdGhdKVxuICAgICAgLm5pY2UoKTtcbiAgICB0aGlzLnkgPSBkMy5zY2FsZUxpbmVhcigpXG4gICAgICAucmFuZ2UoW2hlaWdodCwgMF0pO1xuICAgIHRoaXMueEF4aXMgPSBkMy5heGlzQm90dG9tKHRoaXMueCkudGlja3MoMTIpO1xuICAgIHRoaXMueUF4aXMgPSBkMy5heGlzTGVmdCh0aGlzLnkpLnRpY2tzKDEyICogaGVpZ2h0IC8gd2lkdGgpO1xuICAgIHRoaXMueEF4aXMyID0gZDMuYXhpc0JvdHRvbSh0aGlzLngpLnRpY2tzKDEyKTtcbiAgICB0aGlzLnlBeGlzMiA9IGQzLmF4aXNMZWZ0KHRoaXMueSkudGlja3MoMTIgKiBoZWlnaHQgLyB3aWR0aCk7XG5cbiAgICB0aGlzLnhJbnZlcnNlZCA9IGZhbHNlO1xuICAgIHRoaXMueUludmVyc2VkID0gZmFsc2U7XG4gICAgdGhpcy5yZWZfdmFsdWUxID0gdGhpcy5kYXRhLmZpbHRlcihkID0+IGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pWzBdW3RoaXMudmFyaWFibGUxXTtcbiAgICB0aGlzLnJlZl92YWx1ZTIgPSB0aGlzLmRhdGEuZmlsdGVyKGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbilbMF1bdGhpcy52YXJpYWJsZTJdO1xuICAgIC8vIGNvbnN0IHpvb20gPSBkMy56b29tKClcbiAgICAvLyAgIC5zY2FsZUV4dGVudChbMSwgNV0pXG4gICAgLy8gICAudHJhbnNsYXRlRXh0ZW50KFtbMCwgMF0sIFt3aWR0aCwgaGVpZ2h0XV0pXG4gICAgLy8gICAub24oJ3pvb20nLCAoKSA9PiB7IHRoaXMuem9vbWVkKGQzLmV2ZW50LnRyYW5zZm9ybSk7IH0pO1xuXG4gICAgdGhpcy5wbG90ID0gc3ZnX2Jhci5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHtbbWFyZ2luLmxlZnQsIG1hcmdpbi50b3BdfSlgKTtcblxuICAgIHRoaXMucGxvdC5hcHBlbmQoJ2RlZnMnKVxuICAgICAgLmFwcGVuZCgnc3ZnOmNsaXBQYXRoJylcbiAgICAgIC5hdHRyKCdpZCcsICdjbGlwJylcbiAgICAgIC5hcHBlbmQoJ3N2ZzpyZWN0JylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIHdpZHRoLFxuICAgICAgICBoZWlnaHQsXG4gICAgICAgIHg6IDAsXG4gICAgICAgIHk6IDAsXG4gICAgICB9KTtcblxuICAgIHRoaXMuc2NhdHRlciA9IHRoaXMucGxvdC5hcHBlbmQoJ2cnKVxuICAgICAgICAgLmF0dHIoJ2lkJywgJ3NjYXR0ZXJwbG90JylcbiAgICAgICAgIC5hdHRyKCdjbGlwLXBhdGgnLCAndXJsKCNjbGlwKScpO1xuXG4gICAgLy8gY29uc3QgdW5kZXJseWluZ19yZWN0ID0gdGhpcy5zY2F0dGVyXG4gICAgLy8gICAgICAuYXBwZW5kKCdyZWN0JylcbiAgICAvLyAgICAgIC5hdHRycyh7IHdpZHRoLCBoZWlnaHQsIHg6IDAsIHk6IDAgfSlcbiAgICAvLyAgICAgIC5zdHlsZSgnZmlsbCcsICd0cmFuc3BhcmVudCcpXG4gICAgLy8gICAgICAuY2FsbCh6b29tKTtcblxuICAgIHRoaXMueC5kb21haW4oZDMuZXh0ZW50KHRoaXMuZGF0YSwgZCA9PiBkW3RoaXMucmFua192YXJpYWJsZTFdKSkubmljZSgpO1xuICAgIHRoaXMueS5kb21haW4oZDMuZXh0ZW50KHRoaXMuZGF0YSwgZCA9PiBkW3RoaXMucmFua192YXJpYWJsZTJdKSkubmljZSgpO1xuICAgIHRoaXMubWVhbl92YXJpYWJsZTEgPSBfZ2V0UFIoXG4gICAgICBkMy5tZWFuKHRoaXMuZGF0YS5tYXAoZCA9PiBkW3RoaXMudmFyaWFibGUxXSkpLCB0aGlzLmRhdGEubWFwKGQgPT4gZFt0aGlzLnZhcmlhYmxlMV0pKTtcbiAgICB0aGlzLm1lYW5fdmFyaWFibGUyID0gX2dldFBSKFxuICAgICAgZDMubWVhbih0aGlzLmRhdGEubWFwKGQgPT4gZFt0aGlzLnZhcmlhYmxlMl0pKSwgdGhpcy5kYXRhLm1hcChkID0+IGRbdGhpcy52YXJpYWJsZTJdKSk7XG5cbiAgICAvLyB1bmRlcmx5aW5nX3JlY3Qub24oJ2RibGNsaWNrLnpvb20nLCAoKSA9PiB7XG4gICAgLy8gICB0aGlzLnpvb21lZChkMy56b29tVHJhbnNmb3JtKHsgeDogMCwgeTogMCwgazogMSB9KSk7XG4gICAgLy8gfSk7XG5cbiAgICB0aGlzLm1ha2VHcmlkKCk7XG5cbiAgICBjb25zdCBncm91cGVfbGluZV9tZWFuID0gdGhpcy5wbG90LmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignY2xpcC1wYXRoJywgJ3VybCgjY2xpcCknKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ21lYW4nKTtcbiAgICBncm91cGVfbGluZV9tZWFuLmFwcGVuZCgnbGluZScpXG4gICAgICAuYXR0cignY2xpcC1wYXRoJywgJ3VybCgjY2xpcCknKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgeDE6IHRoaXMueCh0aGlzLm1lYW5fdmFyaWFibGUxKSxcbiAgICAgICAgeDI6IHRoaXMueCh0aGlzLm1lYW5fdmFyaWFibGUxKSxcbiAgICAgICAgeTE6IDAsXG4gICAgICAgIHkyOiB3aWR0aCxcbiAgICAgICAgJ3N0cm9rZS1kYXNoYXJyYXknOiAnMTAsIDUnLFxuICAgICAgICAnc3Ryb2tlLXdpZHRoJzogJzJweCcsXG4gICAgICB9KVxuICAgICAgLnN0eWxlKCdzdHJva2UnLCAncmVkJyk7XG4gICAgZ3JvdXBlX2xpbmVfbWVhbi5hcHBlbmQoJ2xpbmUnKVxuICAgICAgLnN0eWxlKCdzdHJva2UnLCAncmVkJylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIHgxOiAwLFxuICAgICAgICB4Mjogd2lkdGgsXG4gICAgICAgIHkxOiB0aGlzLnkodGhpcy5tZWFuX3ZhcmlhYmxlMiksXG4gICAgICAgIHkyOiB0aGlzLnkodGhpcy5tZWFuX3ZhcmlhYmxlMiksXG4gICAgICAgICdjbGlwLXBhdGgnOiAndXJsKCNjbGlwKScsXG4gICAgICAgICdzdHJva2UtZGFzaGFycmF5JzogJzEwLCA1JyxcbiAgICAgICAgJ3N0cm9rZS13aWR0aCc6ICcycHgnLFxuICAgICAgfSk7XG5cbiAgICB0aGlzLnBsb3QuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIGNsYXNzOiAneCBheGlzJywgaWQ6ICdheGlzLS14JywgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKDAsICR7aGVpZ2h0fSlgLFxuICAgICAgfSlcbiAgICAgIC5jYWxsKHRoaXMueEF4aXMpO1xuXG4gICAgdGhpcy5wbG90LmFwcGVuZCgnZycpXG4gICAgICAuYXR0cnMoeyBjbGFzczogJ3kgYXhpcycsIGlkOiAnYXhpcy0teScgfSlcbiAgICAgIC5jYWxsKHRoaXMueUF4aXMpO1xuXG4gICAgc3ZnX2Jhci5hcHBlbmQoJ3RleHQnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgaWQ6ICd0aXRsZS1heGlzLXgnLFxuICAgICAgICB4OiBtYXJnaW4ubGVmdCArIHdpZHRoIC8gMixcbiAgICAgICAgeTogbWFyZ2luLnRvcCArIGhlaWdodCArIG1hcmdpbi5ib3R0b20gLyAyICsgNSxcbiAgICAgIH0pXG4gICAgICAuc3R5bGVzKHsgJ2ZvbnQtZmFtaWx5JzogJ3NhbnMtc2VyaWYnLCAnZm9udC1zaXplJzogJzEycHgnLCAndGV4dC1hbmNob3InOiAnbWlkZGxlJyB9KVxuICAgICAgLnRleHQodGhpcy52YXJpYWJsZTEpO1xuXG4gICAgc3ZnX2Jhci5hcHBlbmQoJ2ltYWdlJylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIHg6IG1hcmdpbi5sZWZ0ICsgd2lkdGggLyAyIC0gMjAgLSBzdmdfYmFyLnNlbGVjdCgnI3RpdGxlLWF4aXMteCcpLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCAvIDIsXG4gICAgICAgIHk6IG1hcmdpbi50b3AgKyBoZWlnaHQgKyBtYXJnaW4uYm90dG9tIC8gMiAtIDcuNSxcbiAgICAgICAgd2lkdGg6IDE1LFxuICAgICAgICBoZWlnaHQ6IDE1LFxuICAgICAgICAneGxpbms6aHJlZic6ICdpbWcvcmV2ZXJzZV9ibHVlLnBuZycsXG4gICAgICAgIGlkOiAnaW1nX3JldmVyc2VfeCcsXG4gICAgICB9KVxuICAgICAgLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGhpcy54SW52ZXJzZWQgPSAhdGhpcy54SW52ZXJzZWQ7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uYkZ0OyBpKyspIHtcbiAgICAgICAgICBzZWxmLmRhdGFbaV1bc2VsZi5yYW5rX3ZhcmlhYmxlMV0gPSAxMDAgLSBzZWxmLmRhdGFbaV1bc2VsZi5yYW5rX3ZhcmlhYmxlMV07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zY2F0dGVyLnNlbGVjdEFsbCgnY2lyY2xlJylcbiAgICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgICAgLmF0dHIoJ2N4JywgZCA9PiBzZWxmLngoZFtzZWxmLnJhbmtfdmFyaWFibGUxXSkpO1xuICAgICAgfSk7XG4gICAgc3ZnX2Jhci5hcHBlbmQoJ3RleHQnKVxuICAgICAgLmF0dHIoJ2lkJywgJ3RpdGxlLWF4aXMteScpXG4gICAgICAuYXR0cigneCcsIG1hcmdpbi5sZWZ0IC8gMilcbiAgICAgIC5hdHRyKCd5JywgbWFyZ2luLnRvcCArIChoZWlnaHQgLyAyKSlcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgcm90YXRlKC05MCwgJHttYXJnaW4ubGVmdCAvIDJ9LCAke21hcmdpbi50b3AgKyAoaGVpZ2h0IC8gMil9KWApXG4gICAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpXG4gICAgICAuc3R5bGVzKHsgJ2ZvbnQtZmFtaWx5JzogJ3NhbnMtc2VyaWYnLCAnZm9udC1zaXplJzogJzEycHgnIH0pXG4gICAgICAudGV4dCh0aGlzLnZhcmlhYmxlMik7XG5cbiAgICBzdmdfYmFyLmFwcGVuZCgnaW1hZ2UnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgeDogbWFyZ2luLmxlZnQgLyAyIC0gMTUsXG4gICAgICAgIHk6IG1hcmdpbi50b3AgKyAoaGVpZ2h0IC8gMikgKyBzdmdfYmFyLnNlbGVjdCgnI3RpdGxlLWF4aXMteScpLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgLyAyICsgNy41LFxuICAgICAgICB3aWR0aDogMTUsXG4gICAgICAgIGhlaWdodDogMTUsXG4gICAgICAgICd4bGluazpocmVmJzogJ2ltZy9yZXZlcnNlX2JsdWUucG5nJyxcbiAgICAgICAgaWQ6ICdpbWdfcmV2ZXJzZV95JyxcbiAgICAgIH0pXG4gICAgICAub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLnlJbnZlcnNlZCA9ICF0aGlzLnlJbnZlcnNlZDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm5iRnQ7IGkrKykge1xuICAgICAgICAgIHRoaXMuZGF0YVtpXVt0aGlzLnJhbmtfdmFyaWFibGUyXSA9IDEwMCAtIHRoaXMuZGF0YVtpXVt0aGlzLnJhbmtfdmFyaWFibGUyXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICAvLyB0aGlzLnNjYXR0ZXIuc2VsZWN0QWxsKCdjaXJjbGUnKVxuICAgICAgICAvLyAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgLy8gICAuYXR0cignY3knLCBkID0+IHRoaXMueShkW3RoaXMucmFua192YXJpYWJsZTJdKSk7XG4gICAgICB9KTtcblxuXG4gICAgLy8gUHJlcGFyZSB0aGUgdG9vbHRpcCBkaXNwbGF5ZWQgb24gbW91c2VvdmVyOlxuICAgIHByZXBhcmVUb29sdGlwKHN2Z19iYXIpO1xuXG4gICAgLy8gQ3JlYXRlIHRoZSBcImNvbXBsZXR1ZGVcIiB0ZXh0OlxuICAgIHRoaXMuY29tcGxldHVkZSA9IHN2Z19iYXIuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRycyh7IGlkOiAnY2hhcnRfY29tcGxldHVkZScsIHg6IDYwLCB5OiA0MCB9KVxuICAgICAgLnN0eWxlcyh7ICdmb250LWZhbWlseSc6ICdcXCdTaWduaWthXFwnLCBzYW5zLXNlcmlmJyB9KVxuICAgICAgLnRleHQoYENvbXBsw6l0dWRlIDogJHthcHAuY29tcGxldHVkZX0lYCk7XG5cbiAgICAvLyBEZWFjdGl2YXRlIHRoZSByZWN0IGJydXNoIHNlbGVjdGlvbiBvbiB0aGUgbWFwXG4gICAgLy8gd2hpbGUgdGhlIHVzZXIgcHJlc3MgdGhlIEN0cmwga2V5OlxuICAgIGRvY3VtZW50Lm9ua2V5ZG93biA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50LmtleSA9PT0gJ0NvbnRyb2wnKSB7XG4gICAgICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJylcbiAgICAgICAgICAuc2VsZWN0QWxsKCcuc2VsZWN0aW9uLCAub3ZlcmxheScpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIC8vIFJlYWN0aXZhdGUgdGhlIHJlY3QgYnJ1c2ggc2VsZWN0aW9uIG9uIHRoZSBtYXBcbiAgICAvLyB3aGVuIHRoZSB1c2VyIGRvZXNuJ3QgcHJlc3MgdGhlIEN0cmwga2V5IGFueW1vcmVcbiAgICBkb2N1bWVudC5vbmtleXVwID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQgJiYgZXZlbnQua2V5ID09PSAnQ29udHJvbCcpIHtcbiAgICAgICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKVxuICAgICAgICAgIC5zZWxlY3RBbGwoJy5zZWxlY3Rpb24sIC5vdmVybGF5JylcbiAgICAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIG1ha2VHcmlkKCkge1xuICAgIHRoaXMucGxvdC5pbnNlcnQoJ2cnLCAnI3NjYXR0ZXJwbG90JylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIGNsYXNzOiAnZ3JpZCBncmlkLXgnLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoMCwgJHtoZWlnaHR9KWAsXG4gICAgICB9KVxuICAgICAgLmNhbGwodGhpcy54QXhpczJcbiAgICAgICAgLnRpY2tTaXplKC1oZWlnaHQpXG4gICAgICAgIC50aWNrRm9ybWF0KCcnKSk7XG4gICAgdGhpcy5wbG90Lmluc2VydCgnZycsICcjc2NhdHRlcnBsb3QnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2dyaWQgZ3JpZC15JylcbiAgICAgIC5jYWxsKHRoaXMueUF4aXMyXG4gICAgICAgIC50aWNrU2l6ZSgtd2lkdGgpXG4gICAgICAgIC50aWNrRm9ybWF0KCcnKSk7XG4gICAgdGhpcy5wbG90LnNlbGVjdEFsbCgnLmdyaWQnKVxuICAgICAgLnNlbGVjdEFsbCgnbGluZScpXG4gICAgICAuYXR0cignc3Ryb2tlJywgJ2xpZ2h0Z3JheScpO1xuICB9XG5cblxuICB1cGRhdGUoKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZGF0YSA9IHNlbGYuZGF0YTtcbiAgICBjb25zdCByYW5rX3ZhcmlhYmxlMSA9IHRoaXMucmFua192YXJpYWJsZTE7XG4gICAgY29uc3QgcmFua192YXJpYWJsZTIgPSB0aGlzLnJhbmtfdmFyaWFibGUyO1xuICAgIGNvbnN0IHggPSB0aGlzLng7XG4gICAgY29uc3QgeSA9IHRoaXMueTtcbiAgICBjb25zdCBkZWZhdWx0X2NvbG9yID0gJ2xpZ2h0Z3JheSc7XG4gICAgY29uc3QgZG90cyA9IHRoaXMuc2NhdHRlci5zZWxlY3RBbGwoJy5kb3QnKVxuICAgICAgLmRhdGEoZGF0YSwgZCA9PiBkLmlkKTtcblxuICAgIGRvdHMudHJhbnNpdGlvbigpXG4gICAgICAuZHVyYXRpb24oMjI1KVxuICAgICAgLmF0dHJzKGQgPT4gKHtcbiAgICAgICAgcjogNSxcbiAgICAgICAgY3g6IHgoZFtyYW5rX3ZhcmlhYmxlMV0pLFxuICAgICAgICBjeTogeShkW3JhbmtfdmFyaWFibGUyXSksXG4gICAgICAgIG9wYWNpdHk6IDAuNixcbiAgICAgIH0pKVxuICAgICAgLnN0eWxlcyhkID0+ICh7XG4gICAgICAgIGZpbGw6IGFwcC5jb2xvcnNbZC5pZF0gfHwgZGVmYXVsdF9jb2xvcixcbiAgICAgIH0pKTtcblxuICAgIGRvdHMuZW50ZXIoKVxuICAgICAgLmluc2VydCgnY2lyY2xlJylcbiAgICAgIC5zdHlsZXMoZCA9PiAoe1xuICAgICAgICBmaWxsOiBhcHAuY29sb3JzW2QuaWRdIHx8IGRlZmF1bHRfY29sb3IsXG4gICAgICB9KSlcbiAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgIC5kdXJhdGlvbigyMjUpXG4gICAgICAuYXR0cnMoZCA9PiAoe1xuICAgICAgICByOiA1LFxuICAgICAgICBjeDogeChkW3JhbmtfdmFyaWFibGUxXSksXG4gICAgICAgIGN5OiB5KGRbcmFua192YXJpYWJsZTJdKSxcbiAgICAgICAgb3BhY2l0eTogMC42LFxuICAgICAgICBjbGFzczogJ2RvdCcsXG4gICAgICB9KSk7XG5cbiAgICBkb3RzLmV4aXQoKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oMjI1KS5yZW1vdmUoKTtcblxuICAgIHRoaXMuc2NhdHRlci5zZWxlY3RBbGwoJy5kb3QnKVxuICAgICAgLm9uKCdtb3VzZW92ZXInLCAoKSA9PiB7XG4gICAgICAgIHN2Z19iYXIuc2VsZWN0KCcudG9vbHRpcCcpLnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZW91dCcsICgpID0+IHtcbiAgICAgICAgc3ZnX2Jhci5zZWxlY3QoJy50b29sdGlwJykuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgfSlcbiAgICAgIC5vbignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgY29uc3QgdG9vbHRpcCA9IHN2Z19iYXIuc2VsZWN0KCcudG9vbHRpcCcpO1xuICAgICAgICBjb25zdCBfdmFyMSA9IHNlbGYudmFyaWFibGUxO1xuICAgICAgICBjb25zdCBfdmFyMiA9IHNlbGYudmFyaWFibGUyO1xuICAgICAgICB0b29sdGlwXG4gICAgICAgICAgLnNlbGVjdCgndGV4dC5pZF9mZWF0dXJlJylcbiAgICAgICAgICAudGV4dChgJHtkLmlkfWApO1xuICAgICAgICB0b29sdGlwLnNlbGVjdCgndGV4dC52YWx1ZV9mZWF0dXJlMScpXG4gICAgICAgICAgLnRleHQoYFJhdGlvOiAke01hdGgucm91bmQoZFtfdmFyMV0gKiAxMCkgLyAxMH1gKTtcbiAgICAgICAgdG9vbHRpcC5zZWxlY3QoJ3RleHQudmFsdWVfZmVhdHVyZTInKVxuICAgICAgICAgIC50ZXh0KGBTdG9jazogJHtNYXRoLnJvdW5kKGRbX3ZhcjJdICogMTApIC8gMTB9YCk7XG4gICAgICAgIHRvb2x0aXBcbiAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke1tkMy5tb3VzZSh0aGlzKVswXSAtIDUsIGQzLm1vdXNlKHRoaXMpWzFdIC0gNDVdfSlgKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlQ29tcGxldHVkZSgpIHtcbiAgICB0aGlzLmNvbXBsZXR1ZGVcbiAgICAgIC50ZXh0KGBDb21wbMOpdHVkZSA6ICR7YXBwLmNvbXBsZXR1ZGV9JWApO1xuICB9XG5cbiAgdXBkYXRlTWFwUmVnaW8oKSB7XG4gICAgaWYgKCF0aGlzLm1hcF9lbGVtKSByZXR1cm47XG4gICAgdGhpcy5tYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5hdHRyKCdmaWxsJywgZCA9PiAoYXBwLmN1cnJlbnRfaWRzLmluZGV4T2YoZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXSkgPiAtMVxuICAgICAgICA/IChhcHAuY29sb3JzW2QucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV1dIHx8IGNvbG9yX2NvdW50cmllcylcbiAgICAgICAgOiBjb2xvcl9kaXNhYmxlZCkpO1xuICB9XG5cbiAgaGFuZGxlX2JydXNoX21hcChldmVudCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IFt0b3BsZWZ0LCBib3R0b21yaWdodF0gPSBldmVudC5zZWxlY3Rpb247XG4gICAgY29uc3QgcmVjdCA9IG5ldyBSZWN0KHRvcGxlZnQsIGJvdHRvbXJpZ2h0KTtcbiAgICBhcHAuY29sb3JzID0ge307XG4gICAgc2VsZi5tYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5hdHRyKCdmaWxsJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgY29uc3QgaWQgPSBkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dO1xuICAgICAgICBpZiAoaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pIHtcbiAgICAgICAgICBhcHAuY29sb3JzW2lkXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICAgICAgICByZXR1cm4gY29sb3JfaGlnaGxpZ2h0O1xuICAgICAgICB9IGVsc2UgaWYgKGFwcC5jdXJyZW50X2lkcy5pbmRleE9mKGlkKSA8IDApIHtcbiAgICAgICAgICByZXR1cm4gY29sb3JfZGlzYWJsZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9wdHMpIHtcbiAgICAgICAgICB0aGlzLl9wdHMgPSBzdmdQYXRoVG9Db29yZHModGhpcy5nZXRBdHRyaWJ1dGUoJ2QnKSwgYXBwLnR5cGVfcGF0aCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHRzID0gdGhpcy5fcHRzO1xuICAgICAgICBmb3IgKGxldCBpeCA9IDAsIG5iX3B0cyA9IHB0cy5sZW5ndGg7IGl4IDwgbmJfcHRzOyBpeCsrKSB7XG4gICAgICAgICAgaWYgKHJlY3QuY29udGFpbnMocHRzW2l4XSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlMSA9IGQucHJvcGVydGllc1tzZWxmLnZhcmlhYmxlMV07XG4gICAgICAgICAgICBjb25zdCB2YWx1ZTIgPSBkLnByb3BlcnRpZXNbc2VsZi52YXJpYWJsZTJdO1xuICAgICAgICAgICAgY29uc3QgY29sb3IgPSBjb21wMihcbiAgICAgICAgICAgICAgdmFsdWUxLCB2YWx1ZTIsXG4gICAgICAgICAgICAgIHNlbGYucmVmX3ZhbHVlMSwgc2VsZi5yZWZfdmFsdWUyLFxuICAgICAgICAgICAgICBzZWxmLnhJbnZlcnNlZCwgc2VsZi55SW52ZXJzZWQpO1xuICAgICAgICAgICAgYXBwLmNvbG9yc1tpZF0gPSBjb2xvcjtcbiAgICAgICAgICAgIHJldHVybiBjb2xvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbG9yX2NvdW50cmllcztcbiAgICAgIH0pO1xuICAgIHNlbGYudXBkYXRlKCk7XG4gIH1cblxuICBoYW5kbGVDbGlja01hcChkLCBwYXJlbnQpIHtcbiAgICBjb25zdCBpZCA9IGQucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV07XG4gICAgaWYgKGFwcC5jdXJyZW50X2lkcy5pbmRleE9mKGlkKSA8IDAgfHwgaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pIHJldHVybjtcbiAgICBpZiAoYXBwLmNvbG9yc1tpZF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gUmVtb3ZlIHRoZSBjbGlja2VkIGZlYXR1cmUgZnJvbSB0aGUgY29sb3JlZCBzZWxlY3Rpb24gb24gdGhlIGNoYXJ0OlxuXG5cbiAgICAgIC8vIENoYW5nZSBpdHMgY29sb3IgaW4gdGhlIGdsb2JhbCBjb2xvcnMgb2JqZWN0OlxuICAgICAgYXBwLmNvbG9yc1tpZF0gPSB1bmRlZmluZWQ7XG4gICAgICAvLyBDaGFuZ2UgdGhlIGNvbG9yIG9uIHRoZSBtYXA6XG4gICAgICBkMy5zZWxlY3QocGFyZW50KS5hdHRyKCdmaWxsJywgY29sb3JfY291bnRyaWVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdmFsdWUgPSBkLnByb3BlcnRpZXNbdGhpcy5yYXRpb190b191c2VdO1xuICAgICAgY29uc3QgY29sb3IgPSBjb21wKHZhbHVlLCB0aGlzLm15X3JlZ2lvbl92YWx1ZSwgdGhpcy5zZXJpZV9pbnZlcnNlZCk7XG4gICAgICBhcHAuY29sb3JzW2lkXSA9IGNvbG9yO1xuICAgICAgLy8gQ2hhbmdlIHRoZSBjb2xvciBvbiB0aGUgbWFwOlxuICAgICAgZDMuc2VsZWN0KHBhcmVudCkuYXR0cignZmlsbCcsIGNvbG9yKTtcbiAgICAgIC8vIEFkZCB0aGUgY2xpY2tlZCBmZWF0dXJlIG9uIHRoZSBjb2xvcmVkIHNlbGVjdGlvbiBvbiB0aGUgY2hhcnQ6XG4gICAgfVxuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cblxuICB1cGRhdGVDaGFuZ2VSZWdpb24oKSB7XG4gICAgdGhpcy5yZWZfdmFsdWUxID0gdGhpcy5kYXRhLmZpbHRlcihcbiAgICAgIGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbilbMF1bdGhpcy52YXJpYWJsZTFdO1xuICAgIHRoaXMucmVmX3ZhbHVlMiA9IHRoaXMuZGF0YS5maWx0ZXIoXG4gICAgICBkID0+IGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pWzBdW3RoaXMudmFyaWFibGUyXTtcbiAgICB0aGlzLm1hcF9lbGVtLnJlbW92ZVJlY3RCcnVzaCgpO1xuICAgIHRoaXMubWFwX2VsZW0udXBkYXRlTGVnZW5kKCk7XG4gICAgdGhpcy5tYXBfZWxlbS5yZXNldENvbG9ycygpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cblxuICBjaGFuZ2VTdHVkeVpvbmUoKSB7XG4gICAgdGhpcy5tYXBfZWxlbS5yZW1vdmVSZWN0QnJ1c2goKTtcbiAgICB0aGlzLm1hcF9lbGVtLnVwZGF0ZUxlZ2VuZCgpO1xuICAgIHRoaXMuZGF0YSA9IGFwcC5jdXJyZW50X2RhdGEuc2xpY2UoKS5zb3J0KFxuICAgICAgKGEsIGIpID0+IGJbdGhpcy5zdG9ja190b191c2VdIC0gYVt0aGlzLnN0b2NrX3RvX3VzZV0pO1xuICAgIHRoaXMucmVmX3ZhbHVlMSA9IHRoaXMuZGF0YS5maWx0ZXIoXG4gICAgICBkID0+IGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pWzBdW3RoaXMudmFyaWFibGUxXTtcbiAgICB0aGlzLnJlZl92YWx1ZTIgPSB0aGlzLmRhdGEuZmlsdGVyKFxuICAgICAgZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVswXVt0aGlzLnZhcmlhYmxlMl07XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIGNoYW5nZVZhcmlhYmxlKGNvZGVfdmFyaWFibGUpIHtcbiAgICB0aGlzLnJhdGlvX3RvX3VzZSA9IGNvZGVfdmFyaWFibGU7XG4gICAgdGhpcy5zdG9ja190b191c2UgPSB2YXJpYWJsZXMuZmlsdGVyKGQgPT4gZC5yYXRpbyA9PT0gY29kZV92YXJpYWJsZSlbMF0ubnVtO1xuICB9XG5cbiAgYWRkVmFyaWFibGUoY29kZV92YXJpYWJsZSwgbmFtZV92YXJpYWJsZSkge1xuXG4gIH1cblxuICByZW1vdmVWYXJpYWJsZShjb2RlX3ZhcmlhYmxlKSB7XG5cbiAgfVxuXG4gIHJlbW92ZSgpIHtcbiAgICB0aGlzLm1hcF9lbGVtLnVuYmluZEJydXNoKCk7XG4gICAgdGhpcy5tYXBfZWxlbSA9IG51bGw7XG4gICAgc3ZnX2Jhci5odG1sKCcnKTtcbiAgfVxuXG4gIGJpbmRNYXAobWFwX2VsZW0pIHtcbiAgICB0aGlzLm1hcF9lbGVtID0gbWFwX2VsZW07XG4gIH1cbn1cbiIsImltcG9ydCBkZWJ1ZyBmcm9tICdkZWJ1Zyc7XG5pbXBvcnQgeyBjcmVhdGVNZW51IH0gZnJvbSAnLi9tb2R1bGVzL21lbnVsZWZ0JztcbmltcG9ydCB7IG1ha2VUb3BNZW51LCBtYWtlSGVhZGVyQ2hhcnQsIG1ha2VIZWFkZXJNYXBTZWN0aW9uIH0gZnJvbSAnLi9tb2R1bGVzL21lbnV0b3AnO1xuaW1wb3J0IHsgbWFrZVRhYmxlIH0gZnJvbSAnLi9tb2R1bGVzL3RhYmxlJztcbmltcG9ydCB7IHByZXBhcmVfZGF0YXNldCwgZmlsdGVyX25vX2VtcHR5LCBhcHBseUZpbHRlciwgY2hhbmdlUmVnaW9uLCBhZGRWYXJpYWJsZSwgcmVtb3ZlVmFyaWFibGUgfSBmcm9tICcuL21vZHVsZXMvcHJlcGFyZV9kYXRhJztcbmltcG9ydCB7IE1hcFNlbGVjdCwgbWFrZVNvdXJjZVNlY3Rpb24sIG1ha2VNYXBMZWdlbmQsIHN2Z19tYXAgfSBmcm9tICcuL21vZHVsZXMvbWFwJztcbmltcG9ydCB7IGNvbG9yX2NvdW50cmllcywgY29sb3JfaGlnaGxpZ2h0IH0gZnJvbSAnLi9tb2R1bGVzL29wdGlvbnMnO1xuaW1wb3J0IHsgQmFyQ2hhcnQxIH0gZnJvbSAnLi9tb2R1bGVzL2NoYXJ0cy9iYXJDaGFydF8xdic7XG5pbXBvcnQgeyBCdWJibGVDaGFydDEgfSBmcm9tICcuL21vZHVsZXMvY2hhcnRzL2J1YmJsZUNoYXJ0XzF2JztcbmltcG9ydCB7IFNjYXR0ZXJQbG90MiB9IGZyb20gJy4vbW9kdWxlcy9jaGFydHMvc2NhdHRlclBsb3RfMnYnO1xuaW1wb3J0IHsgdW5iaW5kVUkgfSBmcm9tICcuL21vZHVsZXMvaGVscGVycyc7XG5cbmRlYnVnKCdhcHA6bG9nJyk7XG5cbmV4cG9ydCBjb25zdCB2YXJpYWJsZXMgPSBbXG4gIHsgcmF0aW86ICdQQ19DSE9NXzE1MjRfMjAxNScsIG51bTogJ0NIT01fMTUyNF8yMDE1JywgZGVudW06ICdBQ1RfMTUyNF8yMDE1JywgbmFtZTogJ1RhdXggZGUgY2hvbWFnZSBkZXMgamV1bmVzICgyMDE1KScsIGdyb3VwOiAnUGF1dnJldMOpIC8gRXhjbHVzaW9uIHNvY2lhbGUnIH0sXG4gIHsgcmF0aW86ICdQQ19DSE9NXzE1NzRfMjAxNScsIG51bTogJ0NIT01fMTU3NF8yMDE1JywgZGVudW06ICdBQ1RfMTU3NF8yMDE1JywgbmFtZTogJ1RhdXggZGUgY2hvbWFnZSAoMjAxNSknLCBncm91cDogJ1BhdXZyZXTDqSAvIEV4Y2x1c2lvbiBzb2NpYWxlJyB9LFxuICB7IHJhdGlvOiAnUENfQ0hPTV9MT05HXzIwMTYnLCBudW06ICdDSE9NX0xPTkdfMjAxNicsIGRlbnVtOiAnQUNUX0xPTkdfMjAxNicsIG5hbWU6ICdUYXV4IGRlIGNow7RtYWdlIGRlIGxvbmd1ZSBkdXLDqWUgKDIwMTYpJywgZ3JvdXA6ICdQYXV2cmV0w6kgLyBFeGNsdXNpb24gc29jaWFsZScgfSxcbiAgeyByYXRpbzogJ1BDX1JFVl8yMDE0JywgbnVtOiAnUkVWXzIwMTQnLCBkZW51bTogJ01FTl8yMDE0JywgbmFtZTogJ1JldmVudSBkZXMgbcOpbmFnZXMgKDIwMTQpJywgZ3JvdXA6ICdQYXV2cmV0w6kgLyBFeGNsdXNpb24gc29jaWFsZScgfSxcbiAgeyByYXRpbzogJ1BDX0JSRVZfSEFCXzIwMTEnLCBudW06ICdCUkVWXzIwMTEnLCBkZW51bTogJ1BPUF9CUkVWXzIwMTEnLCBuYW1lOiAnUHJvZHVjdGlvbnMgaW5ub3ZhbnRlcyAoMjAxMSknLCBncm91cDogJ0FjdGl2aXTDqSAvIElubm92YXRpb24nIH0sXG4gIHsgcmF0aW86ICdQQ19SRF9FTVBfMjAxMycsIG51bTogJ1JEX0VNUF8yMDEzJywgZGVudW06ICdQT1BfUkRfRU1QXzIwMTMnLCBuYW1lOiAnUGFydCBkZSBsXFwnZW1wbG9pIGVuIFImRCAoMjAxMyknLCBncm91cDogJ0FjdGl2aXTDqSAvIElubm92YXRpb24nIH0sXG4gIHsgcmF0aW86ICdQQ19QSUJfSEFCXzIwMTQnLCBudW06ICdQQ19QSUJfSEFCXzIwMTQnLCBkZW51bTogJ1BPUF9QSUJfMjAxNCcsIG5hbWU6ICdQSUIgcGFyIGhhYml0YW50IChldXJvcykoMjAxNCknLCBncm91cDogJ0FjdGl2aXTDqSAvIElubm92YXRpb24nIH0sXG4gIHsgcmF0aW86ICdQQ19BUlRJRl9BUkVBXzIwMTUnLCBudW06ICdBUlRJRl9BUkVBXzIwMTUnLCBkZW51bTogJ0xDX0FSRUFfMjAxNScsIG5hbWU6ICdQYXJ0IGRlcyBzdXJmYWNlcyBhcnRpZmljaWFsaXPDqWVzICgyMDE1KScsIGdyb3VwOiAnRW52aXJvbm5lbWVudCAvIFRyYW5zaXRpb24gw6ljb2xvZ2lxdWUnIH0sXG5dO1xuXG5cbmNvbnN0IHN0dWR5X3pvbmVzID0gW1xuICB7IGlkOiAnbm9fZmlsdGVyJywgbmFtZTogJ1VFMjgnIH0sXG4gIHsgaWQ6ICdmaWx0ZXJfRlInLCBuYW1lOiAnRmlsdHJlIG5hdGlvbmFsIChGcmFuY2UpJyB9LFxuICB7IGlkOiAnZmlsdGVyX3BhcmFtMicsIG5hbWU6ICdFc3BhY2UgZGUgY29tcGFyYWlzb24gbsKwMicgfSxcbl07XG5cbmNvbnN0IHRlcnJpdG9yaWFsX21lc2ggPSBbXG4gIHsgaWQ6ICdOVVRTMScsIG5hbWU6ICdOVVRTMScgfSxcbiAgeyBpZDogJ05VVFMxMnN0YXQnLCBuYW1lOiAnTlVUUzEvMiAoc3RhdGlzdGlxdWUpJyB9LFxuXTtcblxuZXhwb3J0IGNvbnN0IGFwcCA9IHtcbiAgY29sb3JzOiB7fSxcbiAgY3VycmVudF9kYXRhOiBbXSxcbiAgZnVsbF9kYXRhc2V0OiBbXSxcbiAgY3VycmVudF9pZHM6IFtdLFxufTtcblxuZnVuY3Rpb24gc2V0RGVmYXVsdENvbmZpZyhjb2RlID0gJ0ZSRScsIHZhcmlhYmxlID0gJ1BDX0NIT01fMTUyNF8yMDE1JykgeyAvLyB9LCBsZXZlbCA9ICdOVVRTMScpIHtcbiAgYXBwLmN1cnJlbnRfY29uZmlnID0ge1xuICAgIGlkX2ZpZWxkOiAnZ2VvJyxcbiAgICBuYW1lX2ZpZWxkOiAnTm9tJyxcbiAgICBpZF9maWVsZF9nZW9tOiAnTlVUUzFfMjAxNicsXG4gICAgbnVtOiBbJ0NIT01fMTUyNF8yMDE1J10sXG4gICAgZGVudW06IFsnQUNUXzE1MjRfMjAxNSddLFxuICAgIHJhdGlvOiBbdmFyaWFibGVdLFxuICAgIHJhdGlvX3ByZXR0eV9uYW1lOiBbJ1RhdXggZGUgY2jDtG1hZ2UgZGVzIGpldW5lcyAoMjAxNSknXSxcbiAgICBjdXJyZW50X2xldmVsOiAxLFxuICAgIG15X3JlZ2lvbjogY29kZSxcbiAgICBteV9yZWdpb25fcHJldHR5X25hbWU6IGFwcC5mZWF0dXJlX25hbWVzW2NvZGVdLFxuICB9O1xuICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xufVxuXG5mdW5jdGlvbiBzZXREZWZhdWx0Q29uZmlnTWVudShjb2RlID0gJ0ZSRScsIHZhcmlhYmxlID0gJ1BDX0NIT01fMTUyNF8yMDE1JywgbGV2ZWwgPSAnTlVUUzEnKSB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC50YXJnZXRfcmVnaW9uLnNxdWFyZVt2YWx1ZT1cIiR7Y29kZX1cIl1gKS5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC50YXJnZXRfdmFyaWFibGUuc21hbGxfc3F1YXJlW3ZhbHVlPVwiJHt2YXJpYWJsZX1cIl1gKS5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5maWx0ZXJfdi5zcXVhcmVbZmlsdGVyLXZhbHVlPVwibm9fZmlsdGVyXCJdJykuY2xhc3NMaXN0LmFkZCgnY2hlY2tlZCcpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAudGVycml0X2xldmVsLnNxdWFyZVt2YWx1ZT1cIiR7bGV2ZWx9XCJdYCkuY2xhc3NMaXN0LmFkZCgnY2hlY2tlZCcpO1xufVxuXG5cbmZ1bmN0aW9uIHJlc2V0Q29sb3JzKCkge1xuICBjb25zdCBpZHMgPSBhcHAuY3VycmVudF9pZHM7XG4gIGNvbnN0IG15X3JlZ2lvbiA9IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb247XG4gIGFwcC5jb2xvcnMgPSB7fTtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gaWRzLmxlbmd0aDsgaSA8IGxlbl9pOyBpKyspIHtcbiAgICBhcHAuY29sb3JzW2lkc1tpXV0gPSBpZHNbaV0gPT09IG15X3JlZ2lvbiA/IGNvbG9yX2hpZ2hsaWdodCA6IGNvbG9yX2NvdW50cmllcztcbiAgfVxufVxuXG4vKipcbiogQ3JlYXRlIGhhbmRsZXJzIGZvciB1c2VyIGV2ZW50IG9uIHRoZSBsZWZ0IG1lbnUgYW5kIG9uIHRoZSBtYXAgZm9yIGNoYXJ0cyBvbmx5XG4qIGFsbG93aW5nIHRvIHVzZSAxIHZhcmlhYmxlLlxuKlxuKiBAcGFyYW0ge09iamVjdH0gY2hhcnQgLSBUaGUgY2hhcnQgb2JqZWN0LlxuKiBAcGFyYW0ge09iamVjdH0gbWFwX2VsZW0gLSBUaGUgbWFwIG9iamVjdC5cbiogQHJldHVybiB7dm9pZH1cbipcbiovXG5mdW5jdGlvbiBiaW5kVUlfY2hhcnRfMXYoY2hhcnQsIG1hcF9lbGVtKSB7XG4gIGQzLnNlbGVjdEFsbCgnc3Bhbi5maWx0ZXJfdicpXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2NoZWNrZWQnKSkge1xuICAgICAgICBkMy5zZWxlY3RBbGwoJ3NwYW4uZmlsdGVyX3YnKS5hdHRyKCdjbGFzcycsICdmaWx0ZXJfdiBzcXVhcmUnKTtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XG4gICAgICAgIGNvbnN0IGZpbHRlcl90eXBlID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2ZpbHRlci12YWx1ZScpO1xuICAgICAgICBhcHBseUZpbHRlcihhcHAsIGZpbHRlcl90eXBlKTtcbiAgICAgICAgbWFrZVRhYmxlKGFwcC5jdXJyZW50X2RhdGEsIGFwcC5jdXJyZW50X2NvbmZpZyk7XG4gICAgICAgIGNoYXJ0LmNoYW5nZVN0dWR5Wm9uZSgpO1xuICAgICAgICBjaGFydC51cGRhdGVDb21wbGV0dWRlKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgZDMuc2VsZWN0QWxsKCdzcGFuLnRhcmdldF9yZWdpb24nKVxuICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdjaGVja2VkJykpIHtcbiAgICAgICAgZDMuc2VsZWN0QWxsKCdzcGFuLnRhcmdldF9yZWdpb24nKS5hdHRyKCdjbGFzcycsICd0YXJnZXRfcmVnaW9uIHNxdWFyZScpO1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2NoZWNrZWQnKTtcbiAgICAgICAgY29uc3QgaWRfcmVnaW9uID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG4gICAgICAgIGNoYW5nZVJlZ2lvbihhcHAsIGlkX3JlZ2lvbik7XG4gICAgICAgIGNoYXJ0LnVwZGF0ZUNoYW5nZVJlZ2lvbigpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIGQzLnNlbGVjdEFsbCgnc3Bhbi50YXJnZXRfdmFyaWFibGUnKVxuICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdjaGVja2VkJykpIHtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XG4gICAgICAgIGNvbnN0IGNvZGVfdmFyaWFibGUgPSB0aGlzLmdldEF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgICAgICAgY29uc3QgbmFtZV92YXJpYWJsZSA9IHZhcmlhYmxlcy5maWx0ZXIoZCA9PiBkLnJhdGlvID09PSBjb2RlX3ZhcmlhYmxlKVswXS5uYW1lO1xuICAgICAgICBhZGRWYXJpYWJsZShhcHAsIGNvZGVfdmFyaWFibGUpO1xuICAgICAgICBtYWtlVGFibGUoYXBwLmN1cnJlbnRfZGF0YSwgYXBwLmN1cnJlbnRfY29uZmlnKTtcbiAgICAgICAgY2hhcnQuYWRkVmFyaWFibGUoY29kZV92YXJpYWJsZSwgbmFtZV92YXJpYWJsZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBsYXN0X29uZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKFxuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4udGFyZ2V0X3ZhcmlhYmxlJykpLmZpbHRlcihcbiAgICAgICAgICAgIGVsZW0gPT4gISFlbGVtLmNsYXNzTGlzdC5jb250YWlucygnY2hlY2tlZCcpKS5sZW5ndGggPT09IDE7XG4gICAgICAgIGlmIChsYXN0X29uZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoJ2NoZWNrZWQnKTtcbiAgICAgICAgY29uc3QgY29kZV92YXJpYWJsZSA9IHRoaXMuZ2V0QXR0cmlidXRlKCd2YWx1ZScpO1xuICAgICAgICByZW1vdmVWYXJpYWJsZShhcHAsIGNvZGVfdmFyaWFibGUpO1xuICAgICAgICBtYWtlVGFibGUoYXBwLmN1cnJlbnRfZGF0YSwgYXBwLmN1cnJlbnRfY29uZmlnKTtcbiAgICAgICAgY2hhcnQucmVtb3ZlVmFyaWFibGUoY29kZV92YXJpYWJsZSk7XG4gICAgICB9XG4gICAgICBjb25zdCBuYl92YXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc3Bhbi50YXJnZXRfdmFyaWFibGUnKSkuZmlsdGVyKFxuICAgICAgICAgIGVsZW0gPT4gISFlbGVtLmNsYXNzTGlzdC5jb250YWlucygnY2hlY2tlZCcpKS5sZW5ndGg7XG4gICAgICAvLyBBbGxvdyBhbGwga2luZCBvZiB2aXp1IHdpdGggMSB2YXJpYWJsZTpcbiAgICAgIGQzLnNlbGVjdEFsbCgnLmNoYXJ0X3QxJylcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3R5cGVfY2hhcnQgY2hhcnRfdDEnKTtcbiAgICAgIGlmIChuYl92YXIgPT09IDIpIHsgLy8gQWxsb3cgYWxsIGtpbmQgb2Ygdml6dSB3aXRoIDIgdmFyaWFibGVzOlxuICAgICAgICBkMy5zZWxlY3RBbGwoJy5jaGFydF90MicpXG4gICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3R5cGVfY2hhcnQgY2hhcnRfdDInKTtcbiAgICAgICAgZDMuc2VsZWN0QWxsKCcuY2hhcnRfdDMnKVxuICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd0eXBlX2NoYXJ0IGNoYXJ0X3QzIGRpc2FibGVkJyk7XG4gICAgICB9XG4gICAgICBpZiAobmJfdmFyID4gMikgeyAvLyBBbGxvdyBhbGwga2luZCBvZiB2aXp1IHdpdGggMyB2YXJpYWJsZXM6XG4gICAgICAgIGQzLnNlbGVjdEFsbCgnLmNoYXJ0X3QyJylcbiAgICAgICAgICAuYXR0cignY2xhc3MnLCAndHlwZV9jaGFydCBjaGFydF90MicpO1xuICAgICAgICBkMy5zZWxlY3RBbGwoJy5jaGFydF90MycpXG4gICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3R5cGVfY2hhcnQgY2hhcnRfdDMnKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICBkMy5zZWxlY3RBbGwoJ3NwYW4ubGFiZWxfY2hrJylcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5wcmV2aW91c1NpYmxpbmcuY2xpY2soKTtcbiAgICB9KTtcblxuICBjb25zdCBoZWFkZXJfbWFwX3NlY3Rpb24gPSBkMy5zZWxlY3QoJyNtYXBfc2VjdGlvbiA+ICNoZWFkZXJfbWFwJyk7XG5cbiAgaGVhZGVyX21hcF9zZWN0aW9uLnNlbGVjdCgnI2ltZ19yZWN0X3NlbGVjJylcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCF0aGlzLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgLy8gdGhpcy5zdHlsZS5maWx0ZXIgPSAnJztcbiAgICAgICAgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19tYXBfem9vbScpLnN0eWxlLmZpbHRlciA9ICdvcGFjaXR5KDI1JSknO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX21hcF96b29tJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfbWFwX3NlbGVjdCcpLnN0eWxlLmZpbHRlciA9ICdvcGFjaXR5KDI1JSknO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX21hcF9zZWxlY3QnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgc3ZnX21hcC5vbignLnpvb20nLCBudWxsKTtcbiAgICAgICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKS5zdHlsZSgnZGlzcGxheScsIG51bGwpO1xuICAgICAgICBtYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJykub24oJ2NsaWNrJywgbnVsbCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgaGVhZGVyX21hcF9zZWN0aW9uLnNlbGVjdCgnI2ltZ19tYXBfem9vbScpXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIC8vIHRoaXMuc3R5bGUuZmlsdGVyID0gJyc7XG4gICAgICAgIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfcmVjdF9zZWxlYycpLnN0eWxlLmZpbHRlciA9ICdvcGFjaXR5KDI1JSknO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX3JlY3Rfc2VsZWMnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19tYXBfc2VsZWN0Jykuc3R5bGUuZmlsdGVyID0gJ29wYWNpdHkoMjUlKSc7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfbWFwX3NlbGVjdCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICBzdmdfbWFwLmNhbGwobWFwX2VsZW0uem9vbV9tYXApO1xuICAgICAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpLmNhbGwobWFwX2VsZW0uYnJ1c2hfbWFwLm1vdmUsIG51bGwpO1xuICAgICAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgbWFwX2VsZW0udGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpLm9uKCdjbGljaycsIG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIGhlYWRlcl9tYXBfc2VjdGlvbi5zZWxlY3QoJyNpbWdfbWFwX3NlbGVjdCcpXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfcmVjdF9zZWxlYycpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX21hcF96b29tJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgIHN2Z19tYXAub24oJy56b29tJywgbnVsbCk7XG4gICAgICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJykuY2FsbChtYXBfZWxlbS5icnVzaF9tYXAubW92ZSwgbnVsbCk7XG4gICAgICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJykuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICBtYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKGQpIHsgY2hhcnQuaGFuZGxlQ2xpY2tNYXAoZCwgdGhpcyk7IH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIGNvbnN0IGhlYWRlcl90YWJsZV9zZWN0aW9uID0gZDMuc2VsZWN0KCcjbWFwX3NlY3Rpb24nKVxuICAgICAgLmluc2VydCgncCcsICdzdmcnKVxuICAgICAgLmF0dHIoJ2lkJywgJ2hlYWRlcl90YWJsZScpXG4gICAgICAuc3R5bGVzKHsgZGlzcGxheTogJ25vbmUnLCBtYXJnaW46ICdhdXRvJywgJ3RleHQtYWxpZ24nOiAncmlnaHQnIH0pO1xuXG4gIGhlYWRlcl90YWJsZV9zZWN0aW9uLmFwcGVuZCgnc3BhbicpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ2J1dHRvbl9ibHVlJylcbiAgICAuaHRtbCgnQ1NWJylcbiAgICAub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgY29udGVudCA9IFtcbiAgICAgICAgJ2lkLE51bcOpcmF0ZXVyLETDqW5vbWluYXRldXIsUmF0aW8sUmFuZ1xcclxcbicsXG4gICAgICAgIGFwcC5jdXJyZW50X2RhdGEubWFwKGQgPT4gW2QuaWQsIGQubnVtLCBkLmRlbnVtLCBkLnJhdGlvLCBkLnJhbmddLmpvaW4oJywnKSkuam9pbignXFxyXFxuJyksXG4gICAgICBdLmpvaW4oJycpO1xuICAgICAgY29uc3QgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCdocmVmJywgYGRhdGE6dGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04LCR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbnRlbnQpfWApO1xuICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ2Rvd25sb2FkJywgJ3RhYmxlLmNzdicpO1xuICAgICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbGVtKTtcbiAgICAgIGVsZW0uY2xpY2soKTtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZWxlbSk7XG4gICAgfSk7XG4gIGJpbmRUb3BCdXR0b25zKGNoYXJ0LCBtYXBfZWxlbSk7XG59XG5cbi8qKlxuKiBGdW5jdGlvbiB0byBoYW5kbGUgY2xpY2sgb24gdGhlIHRvcCBtZW51LCBpbiBvcmRlciB0byBjaG9vc2VcbiogdGhlIGtpbmQgb2YgYXZhaWxhYmxlcyByZXByZXNlbnRhdGlvblxuKlxuKlxuKlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBiaW5kVG9wQnV0dG9ucyhjaGFydCwgbWFwX2VsZW0pIHtcbiAgZDMuc2VsZWN0QWxsKCcudHlwZV9jaGFydCcpXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLmNsYXNzTGlzdC5jb250YWlucygnZGlzYWJsZWQnKSkgcmV0dXJuO1xuICAgICAgY2hhcnQucmVtb3ZlKCk7XG4gICAgICBjaGFydCA9IG51bGw7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIHVuYmluZFVJKCk7XG4gICAgICBtYXBfZWxlbS5yZXNldFpvb20oKTtcbiAgICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICAgIHJlc2V0Q29sb3JzKCk7XG4gICAgICBtYXBfZWxlbS5yZXNldENvbG9ycygpO1xuICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmdldEF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gJ0JhckNoYXJ0MScpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0JhckNoYXJ0MScpO1xuICAgICAgICBtYWtlVGFibGUoYXBwLmN1cnJlbnRfZGF0YSwgYXBwLmN1cnJlbnRfY29uZmlnKTtcbiAgICAgICAgY2hhcnQgPSBuZXcgQmFyQ2hhcnQxKGFwcC5jdXJyZW50X2RhdGEpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIGJpbmRVSV9jaGFydF8xdihjaGFydCwgbWFwX2VsZW0pO1xuICAgICAgICBtYXBfZWxlbS5iaW5kQnJ1c2goY2hhcnQpO1xuICAgICAgICBjaGFydC5iaW5kTWFwKG1hcF9lbGVtKTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09ICdCdWJibGVDaGFydDEnKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdCdWJibGVDaGFydDEnKTtcbiAgICAgICAgbWFrZVRhYmxlKGFwcC5jdXJyZW50X2RhdGEsIGFwcC5jdXJyZW50X2NvbmZpZyk7XG4gICAgICAgIGNoYXJ0ID0gbmV3IEJ1YmJsZUNoYXJ0MShhcHAuY3VycmVudF9kYXRhKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICBiaW5kVUlfY2hhcnRfMXYoY2hhcnQsIG1hcF9lbGVtKTtcbiAgICAgICAgbWFwX2VsZW0uYmluZEJydXNoKGNoYXJ0KTtcbiAgICAgICAgY2hhcnQuYmluZE1hcChtYXBfZWxlbSk7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnU2NhdHRlclBsb3QyJykge1xuICAgICAgICBjb25zb2xlLmxvZygnU2NhdHRlclBsb3QyJyk7XG4gICAgICAgIG1ha2VUYWJsZShhcHAuY3VycmVudF9kYXRhLCBhcHAuY3VycmVudF9jb25maWcpO1xuICAgICAgICBjaGFydCA9IG5ldyBTY2F0dGVyUGxvdDIoYXBwLmN1cnJlbnRfZGF0YSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgYmluZFVJX2NoYXJ0XzF2KGNoYXJ0LCBtYXBfZWxlbSk7XG4gICAgICAgIG1hcF9lbGVtLmJpbmRCcnVzaChjaGFydCk7XG4gICAgICAgIGNoYXJ0LmJpbmRNYXAobWFwX2VsZW0pO1xuICAgICAgfVxuXG4gICAgfSk7XG59XG5cblxuZnVuY3Rpb24gbG9hZERhdGEoKSB7XG4gIGQzLnF1ZXVlKDQpXG4gICAgLmRlZmVyKGQzLmNzdiwgJ2RhdGEvUkVHSU9WSVpfREFUQV9hZ2dyZWdhdGVkLmNzdicpXG4gICAgLmRlZmVyKGQzLmpzb24sICdkYXRhL2NnZXQtbnV0czEtMzAzNS5nZW9qc29uJylcbiAgICAuZGVmZXIoZDMuanNvbiwgJ2RhdGEvY291bnRyaWVzMzAzNS5nZW9qc29uJylcbiAgICAuZGVmZXIoZDMuanNvbiwgJ2RhdGEvcmVtb3RlMzAzNS5nZW9qc29uJylcbiAgICAuZGVmZXIoZDMuanNvbiwgJ2RhdGEvdGVtcGxhdGUzMDM1Lmdlb2pzb24nKVxuICAgIC5kZWZlcihkMy5qc29uLCAnZGF0YS9zZWFfYm94ZXMuZ2VvanNvbicpXG4gICAgLmF3YWl0QWxsKChlcnJvciwgcmVzdWx0cykgPT4ge1xuICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgICAgIGNvbnN0IFtmdWxsX2RhdGFzZXQsIG51dHMxLCBjb3VudHJpZXMsIHJlbW90ZSwgdGVtcGxhdGUsIHNlYWJveGVzXSA9IHJlc3VsdHM7XG4gICAgICBwcmVwYXJlX2RhdGFzZXQoZnVsbF9kYXRhc2V0LCBhcHApO1xuICAgICAgc2V0RGVmYXVsdENvbmZpZygnRlJCJywgJ1BDX0NIT01fMTUyNF8yMDE1JywgJ05VVFMxJyk7XG4gICAgICBjb25zdCBmZWF0dXJlc19tZW51ID0gZnVsbF9kYXRhc2V0LmZpbHRlcihmdCA9PiBmdC5nZW8uaW5kZXhPZignRlInKSA+IC0xXG4gICAgICAgICYmICtmdC5sZXZlbCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLmN1cnJlbnRfbGV2ZWwpO1xuICAgICAgY3JlYXRlTWVudShmZWF0dXJlc19tZW51LCB2YXJpYWJsZXMsIHN0dWR5X3pvbmVzLCB0ZXJyaXRvcmlhbF9tZXNoKTtcbiAgICAgIG1ha2VUb3BNZW51KCk7XG4gICAgICBtYWtlSGVhZGVyQ2hhcnQoKTtcbiAgICAgIHNldERlZmF1bHRDb25maWdNZW51KCdGUkInLCAnUENfQ0hPTV8xNTI0XzIwMTUnLCAnTlVUUzEnKTtcbiAgICAgIGZpbHRlcl9ub19lbXB0eShhcHApO1xuICAgICAgY29uc3QgbWFwX2VsZW0gPSBuZXcgTWFwU2VsZWN0KG51dHMxLCBjb3VudHJpZXMsIHJlbW90ZSwgdGVtcGxhdGUsIHNlYWJveGVzKTtcbiAgICAgIGNvbnN0IGNoYXJ0ID0gbmV3IEJhckNoYXJ0MShhcHAuY3VycmVudF9kYXRhKTtcbiAgICAgIG1ha2VUYWJsZShhcHAuY3VycmVudF9kYXRhLCBhcHAuY3VycmVudF9jb25maWcpO1xuICAgICAgbWFrZUhlYWRlck1hcFNlY3Rpb24oKTtcbiAgICAgIG1ha2VTb3VyY2VTZWN0aW9uKCk7XG4gICAgICBtYWtlTWFwTGVnZW5kKCk7XG4gICAgICBiaW5kVUlfY2hhcnRfMXYoY2hhcnQsIG1hcF9lbGVtKTtcbiAgICAgIGNoYXJ0LmJpbmRNYXAobWFwX2VsZW0pO1xuICAgICAgbWFwX2VsZW0uYmluZEJydXNoKGNoYXJ0KTtcbiAgICB9KTtcbn1cblxuXG5sb2FkRGF0YSgpO1xuIl0sIm5hbWVzIjpbInJlcXVpcmUkJDAiLCJtcyIsImNvbG9yX2NvdW50cmllcyIsImNvbG9yX2Rpc2FibGVkIiwiY29sb3Jfc3VwIiwiY29sb3JfaW5mIiwiY29sb3JfaGlnaGxpZ2h0IiwibWF0aF9hYnMiLCJNYXRoIiwiYWJzIiwibWF0aF9yb3VuZCIsInJvdW5kIiwicHJlcGFyZVRvb2x0aXAiLCJwYXJlbnRfc3ZnX2VsZW0iLCJ0b29sdGlwIiwiYXBwZW5kIiwiYXR0ciIsInN0eWxlIiwiYXR0cnMiLCJ3aWR0aCIsImhlaWdodCIsImZpbGwiLCJjbGFzcyIsIngiLCJkeSIsInVuYmluZFVJIiwic2VsZWN0QWxsIiwib24iLCJzZWxlY3QiLCJyZW1vdmUiLCJvbmtleXVwIiwib25rZXlkb3duIiwiY29tcCIsInRlc3RfdmFsdWUiLCJyZWZfdmFsdWUiLCJzZXJpZV9pbnZlcnNlZCIsImNvbXAyIiwidmFsMSIsInZhbDIiLCJyZWZfdmFsMSIsInJlZl92YWwyIiwieEludmVyc2VkIiwieUludmVyc2VkIiwiUmVjdCIsInRvcGxlZnQiLCJib3R0b21yaWdodCIsInhtaW4iLCJ4bWF4IiwieW1pbiIsInltYXgiLCJwdCIsIlByb3BTaXplciIsImZpeGVkX3ZhbHVlIiwiZml4ZWRfc2l6ZSIsInNxcnQiLCJQSSIsInNtYXgiLCJzY2FsZSIsInZhbCIsImdldF92YWx1ZSIsInBvdyIsInNpemUiLCJyZW1vdmVEdXBsaWNhdGVzIiwiYXJyIiwidG1wIiwiaSIsImxlbl9hcnIiLCJsZW5ndGgiLCJpbmRleE9mIiwicHVzaCIsImdldFN2Z1BhdGhUeXBlIiwicGF0aCIsInN2Z1BhdGhUb0Nvb3JkcyIsInR5cGVfcGF0aCIsInNsaWNlIiwic3BsaXQiLCJtYXAiLCJhIiwiY29tcHV0ZVBlcmNlbnRpbGVSYW5rIiwib2JqIiwiZmllbGRfbmFtZSIsInJlc3VsdF9maWVsZF9uYW1lIiwidmFsdWVzIiwiZCIsImxlbl92YWx1ZXMiLCJnZXRQUiIsInYiLCJjb3VudCIsIml4IiwiX2dldFBSIiwic2VyaWUiLCJjcmVhdGVNZW51IiwibmFtZXMiLCJ2YXJpYWJsZXMiLCJzdHVkeV96b25lcyIsInRlcnJpdG9yaWFsX21lc2giLCJ0aXRsZV9zZWN0aW9uMSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImlubmVySFRNTCIsInNlY3Rpb24xIiwib3ZlcmZsb3ciLCJsZW5faSIsImlkIiwiZ2VvIiwibmFtZSIsIk5vbSIsImVudHJ5IiwiYXBwZW5kQ2hpbGQiLCJ0aXRsZV9zZWN0aW9uMiIsInNlY3Rpb24yIiwiZ3JvdXBzX3ZhciIsImdyb3VwIiwiZ3BfbmFtZSIsInZhcl9uYW1lcyIsImZpbHRlciIsImoiLCJsZW5faiIsIm5hbWVfdmFyIiwiY29kZV92YXIiLCJyYXRpbyIsInN1Yl9lbnRyeSIsInRpdGxlX3NlY3Rpb24zIiwic2VjdGlvbjMiLCJ6b25lIiwidGl0bGVfc2VjdGlvbjQiLCJzZWN0aW9uNCIsInRlcnJpdF9sZXZlbCIsIm1lbnUiLCJnZXRFbGVtZW50QnlJZCIsImZsb2F0IiwibWFrZVRvcE1lbnUiLCJ0b3BfbWVudSIsImQzIiwic3R5bGVzIiwicGFkZGluZyIsIndpZHRoX2xlZnQiLCJxdWVyeVNlbGVjdG9yIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidCIsIndpZHRoX2NlbnRyYWxfY2hhcnQiLCJ3aWR0aF9tYXAiLCJ3aWR0aF90eXBlX2NvbXAiLCJtYXJnaW4iLCJodG1sIiwidHlwZV9jaGFydCIsInBvc2l0aW9uIiwidmFsdWUiLCJyZXNzZW1ibGFuY2UiLCJpbmVnYWxpdGUiLCJtYWtlSGVhZGVyTWFwU2VjdGlvbiIsImhlYWRlcl9tYXBfc2VjdGlvbiIsImluc2VydCIsIm1ha2VIZWFkZXJDaGFydCIsImhlYWRlcl9iYXJfc2VjdGlvbiIsImRpc3BsYXkiLCJkZWZpbmUiLCJ0aGlzIiwiY3JlYXRlVGFibGVET00iLCJkYXRhIiwib3B0cyIsImNvbmZpZyIsIm51bSIsImRlbnVtIiwibXlfcmVnaW9uIiwib3B0aW9ucyIsImRvYyIsIm5iX2ZlYXR1cmVzIiwiY29sdW1uX25hbWVzIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsIm5iX2NvbHVtbnMiLCJteVRhYmxlIiwiaGVhZGVycyIsImJvZHkiLCJoZWFkZXJzX3JvdyIsImNlbGwiLCJjb2xfbmFtZSIsInJvdyIsInNldEF0dHJpYnV0ZSIsIm1ha2VUYWJsZSIsImRhdGFfbm9fZW1wdHkiLCJ0YWJsZSIsInVuZGVmaW5lZCIsImRhdGFUYWJsZSIsIkRhdGFUYWJsZSIsIm1hcmdpblRvcCIsImZvbnRTaXplIiwicHJvdG90eXBlIiwiY2FsbCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZWwiLCJvbmNsaWNrIiwicGFyZW50RWxlbWVudCIsImNsaWNrIiwicHJlcGFyZV9kYXRhc2V0IiwiZnVsbF9kYXRhc2V0IiwiYXBwIiwiZmVhdHVyZV9uYW1lcyIsImVsZW0iLCJmaWx0ZXJfbm9fZW1wdHkiLCJmaWx0ZXJfaWQiLCJjdXJyZW50X2NvbmZpZyIsImN1cnJlbnRfbGV2ZWwiLCJpZF9maWVsZCIsIm5hbWVfZmllbGQiLCJhbGxfdmFyaWFibGVzIiwiY29uY2F0IiwidGVtcCIsImZ0IiwibGV2ZWwiLCJrZXkiLCJwcm9wc19mZWF0dXJlIiwiZmlsdGVyZWRfZGF0YSIsImV2ZXJ5IiwiY3VycmVudF9kYXRhIiwiY3VycmVudF9pZHMiLCJjb21wbGV0dWRlIiwiYXBwbHlGaWx0ZXIiLCJmaWx0ZXJfdHlwZSIsIm1heWJlX215X3JlZ2lvbiIsImNvbG9ycyIsImNoYW5nZVJlZ2lvbiIsImlkX3JlZ2lvbiIsIm15X3JlZ2lvbl9wcmV0dHlfbmFtZSIsImFkZFZhcmlhYmxlIiwiY29kZV9yYXRpbyIsInZhcmlhYmxlX2luZm8iLCJyYXRpb19wcmV0dHlfbmFtZSIsInJlbW92ZVZhcmlhYmxlIiwic3BsaWNlIiwic3ZnX21hcCIsIm1hcmdpbl9tYXAiLCJ0b3AiLCJyaWdodCIsImJvdHRvbSIsImxlZnQiLCJoZWlnaHRfbWFwIiwic3Ryb2tlIiwicHJvamVjdGlvbiIsImdldF9iYm94X2xheWVyX3BhdGgiLCJiYm94X2xheWVyIiwiSW5maW5pdHkiLCJlYWNoIiwiYmJveF9wYXRoIiwiYm91bmRzIiwiZ2VvbWV0cnkiLCJmaXRMYXllciIsInRyYW5zbGF0ZSIsImIiLCJzIiwibWF4IiwibWFwX3pvb21lZCIsInRyYW5zZm9ybSIsImV2ZW50IiwiayIsInkiLCJsYXllcnMiLCJ0cmFuc2l0aW9uIiwiZHVyYXRpb24iLCJNYXBTZWxlY3QiLCJudXRzMSIsImNvdW50cmllcyIsInJlbW90ZSIsInRlbXBsYXRlIiwic2VhYm94ZXMiLCJnZW9JZGVudGl0eSIsImZpdEV4dGVudCIsInJlZmxlY3RZIiwiZ2VvUGF0aCIsInpvb21fbWFwIiwiem9vbSIsInNjYWxlRXh0ZW50IiwidHJhbnNsYXRlRXh0ZW50IiwiZmVhdHVyZXMiLCJlbnRlciIsInNlYWJveGVzMiIsInRhcmdldF9sYXllciIsInByb3BlcnRpZXMiLCJpZF9maWVsZF9nZW9tIiwibm9kZSIsImdldEF0dHJpYnV0ZSIsImJpbmRUb29sdGlwIiwidGV4dCIsIl9peCIsIm5iX3ZhbCIsIm1pbiIsIm1vdXNlIiwiem9vbUlkZW50aXR5IiwiYnJ1c2hfbWFwIiwibW92ZSIsImNoYXJ0IiwiYnJ1c2giLCJleHRlbnQiLCJzZWxlY3Rpb24iLCJoYW5kbGVfYnJ1c2hfbWFwIiwibWFrZVNvdXJjZVNlY3Rpb24iLCJ0ZXh0X3pvbmUiLCJtYWtlTWFwTGVnZW5kIiwibGVnZW5kX2VsZW1zIiwiY29sb3IiLCJyZWN0X3NpemUiLCJzcGFjaW5nIiwibGdkX2hlaWdodCIsIm9mZnNldCIsImdycF9sZ2QiLCJsZWdlbmRzIiwidHgiLCJ0eSIsInN2Z19iYXIiLCJtYXJnaW4yIiwiaGVpZ2h0MiIsIm5iRnQiLCJjdXJyZW50X3JhbmdlX2JydXNoIiwiY3VycmVudF9yYW5nZSIsImRpc3BsYXllZCIsImdldE1lYW5SYW5rIiwibWVhbl92YWx1ZSIsInJhdGlvX3RvX3VzZSIsIm1lYW5fcmFuayIsInNvcnQiLCJCYXJDaGFydDEiLCJyZWZfZGF0YSIsImJydXNoZWQiLCJzb3VyY2VFdmVudCIsInR5cGUiLCJsb2ciLCJ4MiIsInJhbmdlIiwiZG9tYWluIiwidXBkYXRlIiwidXBkYXRlQ29udGV4dCIsImJydXNoX3RvcCIsImJydXNoZWRfdG9wIiwiX2ZvY3VzIiwibWFwX2VsZW0iLCJkM19ldmVudCIsInRhcmdldCIsInJlbW92ZVJlY3RCcnVzaCIsInVwZGF0ZU1hcFJlZ2lvIiwiZGV0YWlsIiwic2NhbGVCYW5kIiwic2NhbGVMaW5lYXIiLCJ5MiIsInhBeGlzIiwiYXhpc0JvdHRvbSIsInhBeGlzMiIsInlBeGlzIiwiYXhpc0xlZnQiLCJzZWxmIiwiYXZhaWxhYmxlX3JhdGlvcyIsImN1cnJlbnRfcmFua3MiLCJtZWFuIiwiZm9jdXMiLCJjb250ZXh0IiwiYnJ1c2hfYm90dG9tIiwiYnJ1c2hYIiwiZHgiLCJnX2JhciIsImdyb3VwZV9saW5lX21lYW4iLCJ4MSIsInkxIiwidXBkYXRlTWluaUJhcnMiLCJzZWxlY192YXIiLCJjb2RlX3ZhcmlhYmxlIiwiY2hhbmdlVmFyaWFibGUiLCJjaGFuZ2VTdHVkeVpvbmUiLCJ1cGRhdGVDb21wbGV0dWRlIiwiYnV0dG9uc191bmRlcl9jaGFydCIsInNlbGVjdEJlbG93TWVhbiIsInNlbGVjdEFib3ZlTWVhbiIsInNlbGVjdEJlbG93TXlSZWdpb24iLCJzZWxlY3RBYm92ZU15UmVnaW9uIiwiXyIsImJhciIsImJhbmR3aWR0aCIsInRvX2Rpc3BsYXkiLCJleGl0IiwiYXhpc194IiwibWluaV9iYXJzIiwibXlfcmFuayIsInJlY3QiLCJfcHRzIiwicHRzIiwibmJfcHRzIiwiY29udGFpbnMiLCJpZHMiLCJrZXlzIiwicmFua3MiLCJjMSIsImMyIiwicGFyZW50IiwidXBkYXRlTGVnZW5kIiwiZ3JwX21lYW4iLCJtaW5fc2VyaWUiLCJtYXhfc2VyaWUiLCJvZmZzZXRfeSIsInVwZGF0ZU1lYW5WYWx1ZSIsIm5hbWVfdmFyaWFibGUiLCJkaXNwYXRjaCIsInVuYmluZEJydXNoIiwiQnViYmxlQ2hhcnQxIiwiYXZhaWxhYmxlX251bXMiLCJzdG9ja190b191c2UiLCJoaWdobGlnaHRfc2VsZWN0aW9uIiwiZHJhd19ncm91cCIsInNlbGVjdGlvbl9jbG9zZSIsInByb3BlcnR5IiwibXlfcmVnaW9uX3ZhbHVlIiwiYmluZE1lbnUiLCJhcHBseVNlbGVjdGlvbiIsIm5iIiwidHlwZV9zZWxlY3Rpb24iLCJkaXN0IiwiX21pbiIsIl9tYXgiLCJkaXN0X21pbiIsImRpc3RfbWF4IiwiZGlzdF9heGlzIiwibWFyZ2luX21pbl9tYXgiLCJwcm9wX3NpemVyIiwieFNjYWxlIiwiYnViYmxlcyIsInhfdmFsdWUiLCJfcmF0aW9fdG9fdXNlIiwiX3N0b2NrX3RvX3VzZSIsImlkX3RvX3JlbW92ZSIsImFwcGx5Y2hhbmdlIiwiU2NhdHRlclBsb3QyIiwidmFyaWFibGUxIiwidmFyaWFibGUyIiwicmFua192YXJpYWJsZTEiLCJyYW5rX3ZhcmlhYmxlMiIsInByZXR0eV9uYW1lMSIsInByZXR0eV9uYW1lMiIsInJlcyIsIm5pY2UiLCJ0aWNrcyIsInlBeGlzMiIsInJlZl92YWx1ZTEiLCJyZWZfdmFsdWUyIiwicGxvdCIsInNjYXR0ZXIiLCJtZWFuX3ZhcmlhYmxlMSIsIm1lYW5fdmFyaWFibGUyIiwibWFrZUdyaWQiLCJ0aWNrU2l6ZSIsInRpY2tGb3JtYXQiLCJkZWZhdWx0X2NvbG9yIiwiZG90cyIsIl92YXIxIiwiX3ZhcjIiLCJ2YWx1ZTEiLCJ2YWx1ZTIiLCJyZXNldENvbG9ycyIsImRlYnVnIiwic2V0RGVmYXVsdENvbmZpZyIsImNvZGUiLCJ2YXJpYWJsZSIsInNldERlZmF1bHRDb25maWdNZW51IiwiY2xhc3NMaXN0IiwiYWRkIiwiYmluZFVJX2NoYXJ0XzF2IiwidXBkYXRlQ2hhbmdlUmVnaW9uIiwibGFzdF9vbmUiLCJBcnJheSIsIm5iX3ZhciIsInByZXZpb3VzU2libGluZyIsImhhbmRsZUNsaWNrTWFwIiwiaGVhZGVyX3RhYmxlX3NlY3Rpb24iLCJjb250ZW50IiwicmFuZyIsImpvaW4iLCJlbmNvZGVVUklDb21wb25lbnQiLCJyZW1vdmVDaGlsZCIsImJpbmRUb3BCdXR0b25zIiwicmVzZXRab29tIiwiYmluZEJydXNoIiwiYmluZE1hcCIsImxvYWREYXRhIiwicXVldWUiLCJkZWZlciIsImNzdiIsImpzb24iLCJhd2FpdEFsbCIsImVy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
