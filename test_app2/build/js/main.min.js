(function (exports) {
'use strict';

var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};





function createCommonjsModule(fn, module) {
	return module = { exports: {} }, fn(module, module.exports), module.exports;
}

/**
 * Helpers.
 */

var s = 1000;
var m = s * 60;
var h = m * 60;
var d = h * 24;
var y = d * 365.25;

/**
 * Parse or format the given `val`.
 *
 * Options:
 *
 *  - `long` verbose formatting [false]
 *
 * @param {String|Number} val
 * @param {Object} [options]
 * @throws {Error} throw an error if val is not a non-empty string or a number
 * @return {String|Number}
 * @api public
 */

var ms = function(val, options) {
  options = options || {};
  var type = typeof val;
  if (type === 'string' && val.length > 0) {
    return parse(val);
  } else if (type === 'number' && isNaN(val) === false) {
    return options.long ? fmtLong(val) : fmtShort(val);
  }
  throw new Error(
    'val is not a non-empty string or a valid number. val=' +
      JSON.stringify(val)
  );
};

/**
 * Parse the given `str` and return milliseconds.
 *
 * @param {String} str
 * @return {Number}
 * @api private
 */

function parse(str) {
  str = String(str);
  if (str.length > 100) {
    return;
  }
  var match = /^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(
    str
  );
  if (!match) {
    return;
  }
  var n = parseFloat(match[1]);
  var type = (match[2] || 'ms').toLowerCase();
  switch (type) {
    case 'years':
    case 'year':
    case 'yrs':
    case 'yr':
    case 'y':
      return n * y;
    case 'days':
    case 'day':
    case 'd':
      return n * d;
    case 'hours':
    case 'hour':
    case 'hrs':
    case 'hr':
    case 'h':
      return n * h;
    case 'minutes':
    case 'minute':
    case 'mins':
    case 'min':
    case 'm':
      return n * m;
    case 'seconds':
    case 'second':
    case 'secs':
    case 'sec':
    case 's':
      return n * s;
    case 'milliseconds':
    case 'millisecond':
    case 'msecs':
    case 'msec':
    case 'ms':
      return n;
    default:
      return undefined;
  }
}

/**
 * Short format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

function fmtShort(ms) {
  if (ms >= d) {
    return Math.round(ms / d) + 'd';
  }
  if (ms >= h) {
    return Math.round(ms / h) + 'h';
  }
  if (ms >= m) {
    return Math.round(ms / m) + 'm';
  }
  if (ms >= s) {
    return Math.round(ms / s) + 's';
  }
  return ms + 'ms';
}

/**
 * Long format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

function fmtLong(ms) {
  return plural(ms, d, 'day') ||
    plural(ms, h, 'hour') ||
    plural(ms, m, 'minute') ||
    plural(ms, s, 'second') ||
    ms + ' ms';
}

/**
 * Pluralization helper.
 */

function plural(ms, n, name) {
  if (ms < n) {
    return;
  }
  if (ms < n * 1.5) {
    return Math.floor(ms / n) + ' ' + name;
  }
  return Math.ceil(ms / n) + ' ' + name + 's';
}

var debug$1 = createCommonjsModule(function (module, exports) {
/**
 * This is the common logic for both the Node.js and web browser
 * implementations of `debug()`.
 *
 * Expose `debug()` as the module.
 */

exports = module.exports = createDebug.debug = createDebug['default'] = createDebug;
exports.coerce = coerce;
exports.disable = disable;
exports.enable = enable;
exports.enabled = enabled;
exports.humanize = ms;

/**
 * The currently active debug mode names, and names to skip.
 */

exports.names = [];
exports.skips = [];

/**
 * Map of special "%n" handling functions, for the debug "format" argument.
 *
 * Valid key names are a single, lower or upper-case letter, i.e. "n" and "N".
 */

exports.formatters = {};

/**
 * Previous log timestamp.
 */

var prevTime;

/**
 * Select a color.
 * @param {String} namespace
 * @return {Number}
 * @api private
 */

function selectColor(namespace) {
  var hash = 0, i;

  for (i in namespace) {
    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);
    hash |= 0; // Convert to 32bit integer
  }

  return exports.colors[Math.abs(hash) % exports.colors.length];
}

/**
 * Create a debugger with the given `namespace`.
 *
 * @param {String} namespace
 * @return {Function}
 * @api public
 */

function createDebug(namespace) {

  function debug() {
    // disabled?
    if (!debug.enabled) return;

    var self = debug;

    // set `diff` timestamp
    var curr = +new Date();
    var ms$$1 = curr - (prevTime || curr);
    self.diff = ms$$1;
    self.prev = prevTime;
    self.curr = curr;
    prevTime = curr;

    // turn the `arguments` into a proper Array
    var args = new Array(arguments.length);
    for (var i = 0; i < args.length; i++) {
      args[i] = arguments[i];
    }

    args[0] = exports.coerce(args[0]);

    if ('string' !== typeof args[0]) {
      // anything else let's inspect with %O
      args.unshift('%O');
    }

    // apply any `formatters` transformations
    var index = 0;
    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {
      // if we encounter an escaped % then don't increase the array index
      if (match === '%%') return match;
      index++;
      var formatter = exports.formatters[format];
      if ('function' === typeof formatter) {
        var val = args[index];
        match = formatter.call(self, val);

        // now we need to remove `args[index]` since it's inlined in the `format`
        args.splice(index, 1);
        index--;
      }
      return match;
    });

    // apply env-specific formatting (colors, etc.)
    exports.formatArgs.call(self, args);

    var logFn = debug.log || exports.log || console.log.bind(console);
    logFn.apply(self, args);
  }

  debug.namespace = namespace;
  debug.enabled = exports.enabled(namespace);
  debug.useColors = exports.useColors();
  debug.color = selectColor(namespace);

  // env-specific initialization logic for debug instances
  if ('function' === typeof exports.init) {
    exports.init(debug);
  }

  return debug;
}

/**
 * Enables a debug mode by namespaces. This can include modes
 * separated by a colon and wildcards.
 *
 * @param {String} namespaces
 * @api public
 */

function enable(namespaces) {
  exports.save(namespaces);

  exports.names = [];
  exports.skips = [];

  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\s,]+/);
  var len = split.length;

  for (var i = 0; i < len; i++) {
    if (!split[i]) continue; // ignore empty strings
    namespaces = split[i].replace(/\*/g, '.*?');
    if (namespaces[0] === '-') {
      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));
    } else {
      exports.names.push(new RegExp('^' + namespaces + '$'));
    }
  }
}

/**
 * Disable debug output.
 *
 * @api public
 */

function disable() {
  exports.enable('');
}

/**
 * Returns true if the given mode name is enabled, false otherwise.
 *
 * @param {String} name
 * @return {Boolean}
 * @api public
 */

function enabled(name) {
  var i, len;
  for (i = 0, len = exports.skips.length; i < len; i++) {
    if (exports.skips[i].test(name)) {
      return false;
    }
  }
  for (i = 0, len = exports.names.length; i < len; i++) {
    if (exports.names[i].test(name)) {
      return true;
    }
  }
  return false;
}

/**
 * Coerce `val`.
 *
 * @param {Mixed} val
 * @return {Mixed}
 * @api private
 */

function coerce(val) {
  if (val instanceof Error) return val.stack || val.message;
  return val;
}
});

var browser$1 = createCommonjsModule(function (module, exports) {
/**
 * This is the web browser implementation of `debug()`.
 *
 * Expose `debug()` as the module.
 */

exports = module.exports = debug$1;
exports.log = log;
exports.formatArgs = formatArgs;
exports.save = save;
exports.load = load;
exports.useColors = useColors;
exports.storage = 'undefined' != typeof chrome
               && 'undefined' != typeof chrome.storage
                  ? chrome.storage.local
                  : localstorage();

/**
 * Colors.
 */

exports.colors = [
  'lightseagreen',
  'forestgreen',
  'goldenrod',
  'dodgerblue',
  'darkorchid',
  'crimson'
];

/**
 * Currently only WebKit-based Web Inspectors, Firefox >= v31,
 * and the Firebug extension (any Firefox version) are known
 * to support "%c" CSS customizations.
 *
 * TODO: add a `localStorage` variable to explicitly enable/disable colors
 */

function useColors() {
  // NB: In an Electron preload script, document will be defined but not fully
  // initialized. Since we know we're in Chrome, we'll just detect this case
  // explicitly
  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {
    return true;
  }

  // is webkit? http://stackoverflow.com/a/16459606/376773
  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632
  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||
    // is firebug? http://stackoverflow.com/a/398120/376773
    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||
    // is firefox >= v31?
    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages
    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||
    // double check webkit in userAgent just in case we are in a worker
    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/));
}

/**
 * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.
 */

exports.formatters.j = function(v) {
  try {
    return JSON.stringify(v);
  } catch (err) {
    return '[UnexpectedJSONParseError]: ' + err.message;
  }
};


/**
 * Colorize log arguments if enabled.
 *
 * @api public
 */

function formatArgs(args) {
  var useColors = this.useColors;

  args[0] = (useColors ? '%c' : '')
    + this.namespace
    + (useColors ? ' %c' : ' ')
    + args[0]
    + (useColors ? '%c ' : ' ')
    + '+' + exports.humanize(this.diff);

  if (!useColors) return;

  var c = 'color: ' + this.color;
  args.splice(1, 0, c, 'color: inherit');

  // the final "%c" is somewhat tricky, because there could be other
  // arguments passed either before or after the %c, so we need to
  // figure out the correct index to insert the CSS into
  var index = 0;
  var lastC = 0;
  args[0].replace(/%[a-zA-Z%]/g, function(match) {
    if ('%%' === match) return;
    index++;
    if ('%c' === match) {
      // we only are interested in the *last* %c
      // (the user may have provided their own)
      lastC = index;
    }
  });

  args.splice(lastC, 0, c);
}

/**
 * Invokes `console.log()` when available.
 * No-op when `console.log` is not a "function".
 *
 * @api public
 */

function log() {
  // this hackery is required for IE8/9, where
  // the `console.log` function doesn't have 'apply'
  return 'object' === typeof console
    && console.log
    && Function.prototype.apply.call(console.log, console, arguments);
}

/**
 * Save `namespaces`.
 *
 * @param {String} namespaces
 * @api private
 */

function save(namespaces) {
  try {
    if (null == namespaces) {
      exports.storage.removeItem('debug');
    } else {
      exports.storage.debug = namespaces;
    }
  } catch(e) {}
}

/**
 * Load `namespaces`.
 *
 * @return {String} returns the previously persisted debug modes
 * @api private
 */

function load() {
  var r;
  try {
    r = exports.storage.debug;
  } catch(e) {}

  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG
  if (!r && typeof process !== 'undefined' && 'env' in process) {
    r = process.env.DEBUG;
  }

  return r;
}

/**
 * Enable namespaces listed in `localStorage.debug` initially.
 */

exports.enable(load());

/**
 * Localstorage attempts to return the localstorage.
 *
 * This is necessary because safari throws
 * when a user disables cookies/localstorage
 * and you attempt to access it.
 *
 * @return {LocalStorage}
 * @api private
 */

function localstorage() {
  try {
    return window.localStorage;
  } catch (e) {}
}
});

var color_countries = 'rgb(147,144,252)';
var color_disabled = 'rgb(214, 214, 214)';
var color_sup = 'green';
var color_inf = 'red';
var color_highlight = 'yellow';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
  return typeof obj;
} : function (obj) {
  return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
};











var classCallCheck = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

var createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();



























var slicedToArray = function () {
  function sliceIterator(arr, i) {
    var _arr = [];
    var _n = true;
    var _d = false;
    var _e = undefined;

    try {
      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
        _arr.push(_s.value);

        if (i && _arr.length === i) break;
      }
    } catch (err) {
      _d = true;
      _e = err;
    } finally {
      try {
        if (!_n && _i["return"]) _i["return"]();
      } finally {
        if (_d) throw _e;
      }
    }

    return _arr;
  }

  return function (arr, i) {
    if (Array.isArray(arr)) {
      return arr;
    } else if (Symbol.iterator in Object(arr)) {
      return sliceIterator(arr, i);
    } else {
      throw new TypeError("Invalid attempt to destructure non-iterable instance");
    }
  };
}();

var math_abs = Math.abs;
var math_round = Math.round;
var math_max = Math.max;
var math_sin = Math.sin;
var math_cos = Math.cos;
var HALF_PI = Math.PI / 2;

function prepareTooltip(parent_svg_elem) {
  var tooltip = parent_svg_elem.append('g').attr('class', 'tooltip').style('display', 'none');

  tooltip.append('rect').attrs({ width: 50, height: 40, fill: 'white' }).style('opacity', 0.5);

  tooltip.append('text').attrs({ class: 'id_feature', x: 25, dy: '1.2em', 'font-size': '14px' }).style('text-anchor', 'middle');

  tooltip.append('text').attrs({
    class: 'value_feature1',
    x: 25,
    dy: '2.4em',
    'font-size': '14px',
    'font-weight': 'bold' }).style('text-anchor', 'middle');

  tooltip.append('text').attrs({
    class: 'value_feature2',
    x: 25,
    dy: '3.5em',
    'font-size': '14px',
    'font-weight': 'bold' }).style('text-anchor', 'middle');

  tooltip.append('text').attrs({
    class: 'value_feature3',
    x: 25,
    dy: '4.6em',
    'font-size': '14px',
    'font-weight': 'bold' }).style('text-anchor', 'middle');

  tooltip.append('text').attrs({
    class: 'value_feature4',
    x: 25,
    dy: '5.7em',
    'font-size': '14px',
    'font-weight': 'bold' }).style('text-anchor', 'middle');

  return tooltip;
}

function unbindUI() {
  // Removes the current behavior corresponding to clicking on the left menu:
  d3.selectAll('span.filter_v').on('click', null);
  d3.selectAll('span.target_region').on('click', null);
  d3.selectAll('span.label_chk').on('click', null);

  // Remove the table:
  d3.select('.dataTable-wrapper').remove();

  // Unbind buttons on the top of the map:
  d3.select('#header_map').selectAll('img').on('click', null);

  // Remove the selection menu (or buttons) under the chart:
  d3.select('#bar_section > #menu_selection').remove();

  // Removes the current behavior corresponding to clicking on the top menu:
  d3.selectAll('.type_chart.title_menu').on('click', null);

  // Removes the current behavior corresponding to pressing the Control key:
  document.onkeyup = null;
  document.onkeydown = null;
}

/**
* Function to compare the value of a feature to the reference value (i.e. the value of "my region")
* and return the appropriate color (serie may be inversed)
*
* @param {Number} test_value - The value to be compared to the value of "my region".
* @param {Number} ref_value - The value of my region.
* @param {Boolean} serie_inversed - Whether the serie is inversed or not in the current chart.
* @return {String} - A string containing the color to be used for this value.
*
*/
var comp = function comp(test_value, ref_value, serie_inversed) {
  if (test_value < ref_value) {
    return serie_inversed ? color_sup : color_inf;
  }
  return serie_inversed ? color_inf : color_sup;
};

/**
* Function to compare the value of a feature to the reference value (i.e. the value of "my region")
* and return the appropriate color (serie may be inversed)
*
* @param {Number} val1 - The value to be compared to the value of "my region" for the 1st variable.
* @param {Number} val2 - The value to be compared to the value of "my region" for the 2nd variable.
* @param {Number} ref_val1 - The value of my region for he first variable.
* @param {Number} ref_val2 - The value of my region for the second variable.
* @param {Boolean} xInversed - Whether the serie is inversed on the x axis in the current chart.
* @param {Boolean} yInversed - Whether the serie is inversed on the y axis in the current chart.
* @return {String} - A string containing the color to be used for theses values.
*
*/
var comp2 = function comp2(val1, val2, ref_val1, ref_val2, xInversed, yInversed) {
  if (val1 < ref_val1 && !xInversed || val1 > ref_val1 && xInversed) {
    // val1 is inferior:
    if (val2 < ref_val2) {
      return yInversed ? 'rgb(160, 30, 160)' : color_inf;
    }
    return yInversed ? color_inf : 'rgb(160, 30, 160)';
  }
  // val1 is superior :
  if (val2 > ref_val2) {
    return !yInversed ? color_sup : 'orange';
  }
  return !yInversed ? 'orange' : color_sup;
};

var Rect = function () {
  function Rect(topleft, bottomright) {
    classCallCheck(this, Rect);

    this.xmin = topleft[0];
    this.xmax = bottomright[0];
    this.ymin = topleft[1];
    this.ymax = bottomright[1];
  }

  createClass(Rect, [{
    key: 'contains',
    value: function contains(pt) {
      if (pt[0] >= this.xmin && pt[0] <= this.xmax && pt[1] >= this.ymin && pt[1] <= this.ymax) {
        return true;
      }
      return false;
    }
  }]);
  return Rect;
}();

var PropSizer = function PropSizer(fixed_value, fixed_size) {
  var _this = this;

  this.fixed_value = fixed_value;
  var sqrt = Math.sqrt;
  var abs = Math.abs;
  var PI = Math.PI;
  this.smax = fixed_size * fixed_size * PI;
  this.scale = function (val) {
    return sqrt(abs(val) * _this.smax / _this.fixed_value) / PI;
  };
  // this.get_value = size => ((size * PI) ** 2) / this.smax * this.fixed_value;
  // Use Math pow to support browser without ** operator:
  // eslint-disable-next-line no-restricted-properties
  this.get_value = function (size) {
    return Math.pow(size * PI, 2) / _this.smax * _this.fixed_value;
  };
};

var removeDuplicates = function removeDuplicates(arr) {
  var tmp = [];
  for (var i = 0, len_arr = arr.length; i < len_arr; i++) {
    if (tmp.indexOf(arr[i]) === -1) {
      tmp.push(arr[i]);
    }
  }
  return tmp;
};

var getSvgPathType = function getSvgPathType(path) {
  if (path.indexOf('M ') > -1 && path.indexOf(' L ') > -1) {
    return 2;
  }
  return 1;
};

var svgPathToCoords = function svgPathToCoords(path, type_path) {
  if (type_path === 1) {
    return path.slice(1).split('L').map(function (pt) {
      return pt.split(',').map(function (a) {
        return +a;
      });
    });
  }
  return path.slice(2).split(' L ').map(function (pt) {
    return pt.split(' ').map(function (a) {
      return +a;
    });
  });
};

function computePercentileRank(obj, field_name, result_field_name) {
  var values = obj.map(function (d) {
    return d[field_name];
  });
  var len_values = values.length;
  var getPR = function getPR(v) {
    var count = 0;
    for (var i = 0; i < len_values; i++) {
      if (values[i] <= v) {
        count += 1;
      }
    }
    return 100 * count / len_values;
  };
  for (var ix = 0; ix < len_values; ix++) {
    obj[ix][result_field_name] = getPR(values[ix]);
  }
}

var _getPR = function _getPR(v, serie) {
  var count = 0;
  for (var i = 0; i < serie.length; i++) {
    if (serie[i] <= v) {
      count += 1;
    }
  }
  return 100 * count / serie.length;
};

var createMenu = function createMenu(names, variables, study_zones, territorial_mesh) {
  // First section, regions names:
  var title_section1 = document.createElement('p');
  title_section1.className = 'title_menu';
  title_section1.innerHTML = 'Ma région';
  var section1 = document.createElement('div');
  section1.className = 'box';
  section1.style.overflow = 'auto';
  section1.style.height = '180px';
  for (var i = 0, len_i = names.length; i < len_i; i++) {
    var id = names[i].geo;
    var name = names[i].Nom;
    var entry = document.createElement('p');
    entry.innerHTML = '<span value="' + id + '" class=\'target_region square\'></span><span class="label_chk">' + name + '</span>';
    section1.appendChild(entry);
  }

  // Second section, groups of variables:
  var title_section2 = document.createElement('p');
  title_section2.className = 'title_menu';
  title_section2.innerHTML = 'Mon/mes indicateurs';
  var section2 = document.createElement('div');
  section2.className = 'box';
  section2.style.overflow = 'auto';
  section2.style.height = '170px';

  // Filter the "variables" variable to fetch the group names :
  var groups_var = removeDuplicates(variables.map(function (d) {
    return d.group;
  }));

  var _loop = function _loop(_i, _len_i) {
    var gp_name = groups_var[_i];
    var entry = document.createElement('p');
    entry.className = 'name_group_var';
    entry.innerHTML = '<span class=\'square\'></span><span>' + gp_name + '</span>';
    section2.appendChild(entry);
    var div_grp = document.createElement('div');
    div_grp.style.display = _i === 0 ? null : 'none';
    var var_names = variables.filter(function (d) {
      return d.group === gp_name;
    });
    for (var j = 0, len_j = var_names.length; j < len_j; j++) {
      var name_var = var_names[j].name;
      var code_var = var_names[j].ratio;
      var sub_entry = document.createElement('p');
      sub_entry.className = 'small';
      sub_entry.innerHTML = '<span value="' + code_var + '" class="target_variable small_square"></span><span class="label_chk">' + name_var + '</span>';
      div_grp.appendChild(sub_entry);
    }
    section2.appendChild(div_grp);
  };

  for (var _i = 0, _len_i = groups_var.length; _i < _len_i; _i++) {
    _loop(_i, _len_i);
  }

  // Third section, study zone:
  var title_section3 = document.createElement('p');
  title_section3.className = 'title_menu';
  title_section3.innerHTML = 'Mon espace d\'étude';
  var section3 = document.createElement('div');
  section3.className = 'box';
  for (var _i2 = 0, _len_i2 = study_zones.length; _i2 < _len_i2; _i2++) {
    var _entry = document.createElement('p');
    var zone = study_zones[_i2];
    _entry.innerHTML = '<span filter-value="' + zone.id + '" class=\'filter_v square\'></span><span class="label_chk">' + zone.name + '</span>';
    section3.appendChild(_entry);
  }

  // Fourth section:
  var title_section4 = document.createElement('p');
  title_section4.className = 'title_menu';
  title_section4.innerHTML = 'Maillage territorial d\'analyse';
  var section4 = document.createElement('div');
  section4.className = 'box';
  for (var _i3 = 0, _len_i3 = territorial_mesh.length; _i3 < _len_i3; _i3++) {
    var _entry2 = document.createElement('p');
    var territ_level = territorial_mesh[_i3];
    _entry2.innerHTML = '<span value="' + territ_level.id + '" class=\'square territ_level\'></span><span class="label_chk">' + territ_level.name + '</span>';
    section4.appendChild(_entry2);
  }

  // The actual menu containing these 4 sections:
  var menu = document.getElementById('menu');
  menu.id = 'menu';
  menu.style.width = '340px';
  menu.style.float = 'left';
  menu.appendChild(title_section1);
  menu.appendChild(section1);
  menu.appendChild(title_section2);
  menu.appendChild(section2);
  menu.appendChild(title_section3);
  menu.appendChild(section3);
  menu.appendChild(title_section4);
  menu.appendChild(section4);
};

function makeTopMenu() {
  var top_menu = d3.select('#menutop').styles({ 'font-family': "'Signika', sans-serif", 'font-size': '0.80em', padding: '0.3px' });
  var width_left = document.querySelector('#menu').getBoundingClientRect().width + 25 + 'px';
  var t = document.querySelector('#bar_section').getBoundingClientRect().width;
  var width_central_chart = t + 'px';
  var width_map = document.querySelector('#map_section').getBoundingClientRect().width - 35 + 'px';
  var width_type_comp = (t - 80) / 3 - 2 + 'px';
  top_menu.append('div').attrs({ class: 'title_section' }).styles({ width: width_left, float: 'left', margin: '0 3px' }).html('SÉLECTION');

  var type_chart = top_menu.append('div').attr('class', 'top_section').styles({ width: width_central_chart, float: 'left', margin: '0 3px', 'text-align': 'center' });

  var position = type_chart.append('div').attr('class', 'type_comparaison').styles({ width: width_type_comp });

  position.append('p').attr('class', 'title_type_comp').html('POSITION');

  position.append('span').attrs({ class: 'type_chart chart_t1', value: 'BarChart1' }).html('1 ind.');

  position.append('span').attrs({ class: 'type_chart chart_t2 disabled', value: 'ScatterPlot2' }).html('2 ind.');

  position.append('span').attrs({ class: 'type_chart chart_t3 disabled', value: 'RadarChart3' }).html('+3 ind.');

  var ressemblance = type_chart.append('div').attr('class', 'type_comparaison').styles({ width: width_type_comp });

  ressemblance.append('p').attr('class', 'title_type_comp').html('RESSEMBLANCES');

  ressemblance.append('span').attrs({ class: 'type_chart chart_t1', value: 'BubbleChart1' }).html('1 ind.');

  ressemblance.append('span').attr('class', 'type_chart chart_t2 disabled').html('+2 ind.');

  var inegalite = type_chart.append('div').attr('class', 'type_comparaison').styles({ width: width_type_comp });

  inegalite.append('p').attr('class', 'title_type_comp').html('INÉGALITÉS');

  inegalite.append('span').attr('class', 'type_chart chart_t1 disabled').html('1 ind.');

  inegalite.append('span').attr('class', 'type_chart chart_t2 disabled').html('+2 ind.');

  top_menu.append('div').attrs({ class: 'title_section' }).styles({ width: width_map, float: 'left', margin: '0 0 0 20px' }).html('QUELLES REGIONS ?');
}

function makeHeaderMapSection() {
  var header_map_section = d3.select('#map_section').insert('p', 'svg').attr('id', 'header_map').style('margin', '0 0 0 10px');

  header_map_section.insert('img').attrs({
    class: 'map_button active',
    width: 20,
    height: 20,
    src: 'img/gimp-tool-rect-select.png',
    id: 'img_rect_selec'
  });

  header_map_section.insert('img').attrs({
    class: 'map_button',
    width: 20,
    height: 20,
    src: 'img/gimp-tool-zoom.png',
    id: 'img_map_zoom'
  });

  header_map_section.insert('img').attrs({
    class: 'map_button',
    width: 20,
    height: 20,
    src: 'img/gimp-cursor.png',
    id: 'img_map_select'
  });
}

function makeHeaderChart() {
  var header_bar_section = d3.select('#bar_section').insert('p', 'svg').attr('id', 'header_chart').style('margin-bottom', '0').style('clear', 'both');

  header_bar_section.insert('img').attrs({
    width: 24,
    height: 24,
    src: 'img/edit-table-insert-row-above.svg',
    id: 'img_table'
  }).styles({ margin: '3px', float: 'right' }).on('click', function () {
    if (document.querySelector('.dataTable-wrapper').style.display) {
      document.querySelector('#svg_map').style.display = 'none';
      document.querySelector('#svg_legend').style.display = 'none';
      document.querySelector('#header_map').style.display = 'none';
      document.querySelector('#header_table').style.display = null;
      document.querySelector('.dataTable-wrapper').style.display = null;
      this.style.filter = 'invert(75%)';
    } else {
      document.querySelector('#svg_map').style.display = null;
      document.querySelector('#svg_legend').style.display = null;
      document.querySelector('#header_map').style.display = null;
      document.querySelector('#header_table').style.display = 'none';
      document.querySelector('.dataTable-wrapper').style.display = 'none';
      this.style.filter = null;
    }
  });

  header_bar_section.insert('img').attrs({
    width: 24,
    height: 24,
    src: 'img/printer.svg',
    id: 'img_printer'
  }).styles({ margin: '3px', float: 'right' });

  header_bar_section.insert('img').attrs({
    width: 24,
    height: 24,
    src: 'img/gtk-info.svg',
    id: 'img_info'
  }).styles({ margin: '3px', float: 'right' });
}

var svg_map = d3.select('svg#svg_map');
var margin_map = { top: 0, right: 0, bottom: 0, left: 0 };
var width_map = +svg_map.attr('width') - margin_map.left - margin_map.right;
var height_map = +svg_map.attr('height') - margin_map.top - margin_map.bottom;

var styles = {
  template: { id: 'template', fill: 'rgb(247, 252, 254)', 'fill-opacity': 1 },
  countries: { id: 'countries', fill: 'rgb(214, 214, 214)', 'fill-opacity': 1, 'stroke-width': 0.5, stroke: '#ffffff' },
  seaboxes: { id: 'seaboxes', fill: '#e0faff', 'fill-opacity': 1, stroke: 'black', 'stroke-width': 0.2 },
  remote: { id: 'remote', fill: 'rgb(214, 214, 214)', 'fill-opacity': 1, 'stroke-width': 0.5, stroke: '#ffffff' },
  seaboxes2: { id: 'seaboxes2', fill: 'none', stroke: 'black', 'stroke-width': 0.8 },
  nuts1: { id: 'nuts1', 'fill-opacity': 1, 'stroke-width': 0.5, stroke: '#ffffff' }
};

var projection = void 0;
var path = void 0;

function get_bbox_layer_path(name) {
  var bbox_layer = [[Infinity, Infinity], [-Infinity, -Infinity]];
  svg_map.select('#' + name).selectAll('path').each(function (d) {
    var bbox_path = path.bounds(d.geometry);
    bbox_layer[0][0] = bbox_path[0][0] < bbox_layer[0][0] ? bbox_path[0][0] : bbox_layer[0][0];
    bbox_layer[0][1] = bbox_path[0][1] < bbox_layer[0][1] ? bbox_path[0][1] : bbox_layer[0][1];
    bbox_layer[1][0] = bbox_path[1][0] > bbox_layer[1][0] ? bbox_path[1][0] : bbox_layer[1][0];
    bbox_layer[1][1] = bbox_path[1][1] > bbox_layer[1][1] ? bbox_path[1][1] : bbox_layer[1][1];
  });
  return bbox_layer;
}

function fitLayer() {
  projection.scale(1).translate([0, 0]);
  var b = get_bbox_layer_path('template');
  var s = 1 / Math.max((b[1][0] - b[0][0]) / width_map, (b[1][1] - b[0][1]) / height_map);
  var t = [(width_map - s * (b[1][0] + b[0][0])) / 2, (height_map - s * (b[1][1] + b[0][1])) / 2];
  projection.scale(s).translate(t);
  svg_map.selectAll('path').attr('d', path);
}

function map_zoomed() {
  var transform = d3.event.transform;
  if (transform.k === 1) {
    transform.x = 0;
    transform.y = 0;
  }
  var layers = svg_map.select('#layers');
  var t = layers.selectAll('g').transition().duration(225);

  layers.selectAll('g').transition(t).style('stroke-width', function () {
    return styles[this.id]['stroke-width'] / transform.k + 'px';
  });

  layers.selectAll('g').transition(t).attr('transform', transform);

  svg_map.select('.brush_map').transition(t).attr('transform', transform);
}

var MapSelect = function () {
  function MapSelect(nuts1, countries, remote, template, seaboxes) {
    classCallCheck(this, MapSelect);

    projection = d3.geoIdentity().fitExtent([[0, 0], [width_map, height_map]], template).reflectY(true);

    path = d3.geoPath().projection(projection);
    var layers = svg_map.append('g').attr('id', 'layers');

    this.zoom_map = d3.zoom().scaleExtent([1, 5]).translateExtent([[0, 0], [width_map, height_map]]).on('zoom', map_zoomed);

    svg_map.call(this.zoom_map);

    layers.append('g').attrs(styles.template).selectAll('path').data(template.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs(styles.countries).attr('id', 'countries').selectAll('path').data(countries.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs(styles.seaboxes).selectAll('path').data(seaboxes.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs(styles.remote).selectAll('path').data(remote.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs(styles.seaboxes2).selectAll('path').data(seaboxes.features).enter().append('path').attrs({ d: path });

    this.target_layer = layers.append('g').attrs(styles.nuts1);
    this.target_layer.selectAll('path').data(nuts1.features).enter().append('path').attr('fill', function (d) {
      return d.properties[app.current_config.id_field_geom] !== app.current_config.my_region ? color_countries : color_highlight;
    }).attr('d', path);
    app.type_path = getSvgPathType(this.target_layer.select('path').node().getAttribute('d'));
    fitLayer();
    prepareTooltip(svg_map);
    this.bindTooltip();
  }

  createClass(MapSelect, [{
    key: 'resetColors',
    value: function resetColors$$1(current_ids) {
      var id_field_geom = app.current_config.id_field_geom;
      this.target_layer.selectAll('path').attr('fill', function (d) {
        return current_ids.indexOf(d.properties[id_field_geom]) > -1 ? app.colors[d.properties[id_field_geom]] || color_countries : color_disabled;
      });
    }
  }, {
    key: 'bindTooltip',
    value: function bindTooltip() {
      this.target_layer.selectAll('path').on('mouseover', function () {
        svg_map.select('.tooltip').style('display', null);
      }).on('mouseout', function () {
        svg_map.select('.tooltip').style('display', 'none');
      }).on('mousemove', function (d) {
        var tooltip = svg_map.select('.tooltip');
        tooltip.select('text.id_feature').text('' + d.properties[app.current_config.id_field_geom]);
        var _ix = void 0,
            nb_val = void 0;
        for (_ix = 0, nb_val = Math.min(app.current_config.ratio.length, 5); _ix < nb_val; _ix++) {
          tooltip.select('text.value_feature' + (_ix + 1)).text(app.current_config.ratio_pretty_name[_ix] + ': ' + math_round(d.properties[app.current_config.ratio[_ix]] * 10) / 10);
        }
        tooltip.attr('transform', 'translate(' + [d3.mouse(this)[0] - 5, d3.mouse(this)[1] - 45 - _ix * 12] + ')');
      });
    }
  }, {
    key: 'resetZoom',
    value: function resetZoom() {
      svg_map.transition().duration(250).call(this.zoom_map.transform, d3.zoomIdentity);
    }
  }, {
    key: 'updateLegend',
    value: function updateLegend() {
      d3.select('#svg_legend > g > .legend > text').text('Ma r\xE9gion : ' + app.current_config.my_region_pretty_name);
    }
  }, {
    key: 'removeRectBrush',
    value: function removeRectBrush() {
      svg_map.select('.brush_map').call(this.brush_map.move, null);
    }
  }, {
    key: 'callBrush',
    value: function callBrush(selection) {
      svg_map.select('.brush_map').call(this.brush_map.move, selection);
    }
  }, {
    key: 'bindBrush',
    value: function bindBrush(chart) {
      if (chart.handle_brush_map) {
        document.getElementById('img_rect_selec').classList.remove('disabled');
        document.getElementById('img_rect_selec').classList.add('active');
        document.getElementById('img_map_zoom').classList.remove('active');
        document.getElementById('img_map_select').classList.remove('active');
        this.brush_map = d3.brush().extent([[0, 0], [width_map, height_map]]).on('start brush', function () {
          chart.handle_brush_map(d3.event);
        });
        svg_map.append('g').attr('class', 'brush_map').call(this.brush_map);
      } else {
        document.getElementById('img_rect_selec').classList.remove('active');
        document.getElementById('img_rect_selec').classList.add('disabled');
        document.getElementById('img_map_zoom').classList.remove('active');
        document.getElementById('img_map_select').classList.add('active');
      }
    }
  }, {
    key: 'unbindBrush',
    value: function unbindBrush() {
      this.brush_map = null;
      svg_map.select('.brush_map').remove();
    }
  }]);
  return MapSelect;
}();

function makeSourceSection() {
  var text_zone = d3.select('#svg_legend').append('text').attrs({ y: 32.5, 'text-anchor': 'end' }).style('font-size', '11px').style('font-family', '\'Signika\', sans-serif');
  text_zone.append('tspan').attrs({ x: 470, dy: 12 }).text('Niveau régional : NUTS 1 (version 2016)');
  text_zone.append('tspan').attrs({ x: 470, dy: 12 }).text('Origine des données : Eurostat, 2016');
  text_zone.append('tspan').attrs({ x: 470, dy: 12 }).text('Limite administrative: UMS RIATE, CC-BY-SA');
}

function makeMapLegend() {
  var legend_elems = [{ color: color_highlight, text: 'Ma r\xE9gion : ' + app.current_config.my_region_pretty_name }, { color: color_countries, text: 'Autres régions du filtre de comparaison' }, { color: color_sup, text: 'Rang plus élevé que ma région' }, { color: color_inf, text: 'Rang moins élevé que ma région' }];

  var rect_size = 14;
  var spacing = 4;
  var lgd_height = rect_size + spacing;
  var offset = lgd_height * legend_elems.length / 2;

  var grp_lgd = d3.select('#svg_legend').append('g').attr('transform', 'translate(50, 40)').styles({ 'font-size': '11px', 'font-family': '\'Signika\', sans-serif' });

  var legends = grp_lgd.selectAll('.legend').data(legend_elems).enter().append('g').attr('class', 'legend').attr('transform', function (d, i) {
    var tx = -2 * rect_size;
    var ty = i * lgd_height - offset;
    return 'translate(' + [tx, ty] + ')';
  });

  legends.append('rect').attrs({ width: rect_size, height: rect_size }).styles(function (d) {
    return { fill: d.color, stroke: d.color };
  });

  legends.append('text').attrs({ x: rect_size + spacing, y: rect_size - spacing }).text(function (d) {
    return d.text;
  });
}

var vanillaDataTables = createCommonjsModule(function (module, exports) {
/*!
 *
 * Vanilla-DataTables
 * Copyright (c) 2015-2017 Karl Saunders (http://mobius.ovh)
 * Licensed under MIT (http://www.opensource.org/licenses/mit-license.php)
 *
 * Version: 1.5.1
 *
 */
(function (root, factory) {
    var plugin = "DataTable";

    if (typeof undefined === "function" && undefined.amd) {
        undefined([], factory(plugin));
    } else {
        module.exports = factory(plugin);
    }
})(commonjsGlobal, function (plugin) {
    "use strict";
    var win = window,
        doc = document,
        body = doc.body;

    /**
     * Default configuration
     * @typ {Object}
     */
    var defaultConfig = {
        perPage: 10,
        perPageSelect: [5, 10, 15, 20, 25],

        sortable: true,
        searchable: true,

        // Pagination
        nextPrev: true,
        firstLast: false,
        prevText: "&lsaquo;",
        nextText: "&rsaquo;",
        firstText: "&laquo;",
        lastText: "&raquo;",
        ellipsisText: "&hellip;",
        ascText: "▴",
        descText: "▾",
        truncatePager: true,
        pagerDelta: 2,

        fixedColumns: true,
        fixedHeight: false,

        header: true,
        footer: false,

        // Customise the display text
        labels: {
            placeholder: "Search...", // The search input placeholder
            perPage: "{select} entries per page", // per-page dropdown label
            noRows: "No entries found", // Message shown when there are no search results
            info: "Showing {start} to {end} of {rows} entries" //
        },

        // Customise the layout
        layout: {
            top: "{select}{search}",
            bottom: "{info}{pager}"
        }
    };

    /**
     * Check is item is object
     * @return {Boolean}
     */
    var isObject = function (val) {
        return Object.prototype.toString.call(val) === "[object Object]";
    };

    /**
     * Check is item is array
     * @return {Boolean}
     */
    var isArray = function (val) {
        return Array.isArray(val);
    };

    /**
     * Check for valid JSON string
     * @param  {String}   str
     * @return {Boolean|Array|Object}
     */
    var isJson = function (str) {
        var t = !1;
        try {
            t = JSON.parse(str);
        } catch (e) {
            return !1;
        }
        return !(null === t || (!isArray(t) && !isObject(t))) && t;
    };

    /**
     * Merge objects (reccursive)
     * @param  {Object} r
     * @param  {Object} t
     * @return {Object}
     */
    var extend = function (src, props) {
        for (var prop in props) {
            if (props.hasOwnProperty(prop)) {
                var val = props[prop];
                if (val && isObject(val)) {
                    src[prop] = src[prop] || {};
                    extend(src[prop], val);
                } else {
                    src[prop] = val;
                }
            }
        }
        return src;
    };

    /**
     * Iterator helper
     * @param  {(Array|Object)}   arr     Any object, array or array-like collection.
     * @param  {Function}         fn      Callback
     * @param  {Object}           scope   Change the value of this
     * @return {Void}
     */
    var each = function (arr, fn, scope) {
        var n;
        if (isObject(arr)) {
            for (n in arr) {
                if (Object.prototype.hasOwnProperty.call(arr, n)) {
                    fn.call(scope, arr[n], n);
                }
            }
        } else {
            for (n = 0; n < arr.length; n++) {
                fn.call(scope, arr[n], n);
            }
        }
    };

    /**
     * Add event listener to target
     * @param  {Object} el
     * @param  {String} e
     * @param  {Function} fn
     */
    var on = function (el, e, fn) {
        el.addEventListener(e, fn, false);
    };

    /**
     * Create DOM element node
     * @param  {String}   a nodeName
     * @param  {Object}   b properties and attributes
     * @return {Object}
     */
    var createElement = function (a, b) {
        var d = doc.createElement(a);
        if (b && "object" == typeof b) {
            var e;
            for (e in b) {
                if ("html" === e) {
                    d.innerHTML = b[e];
                } else {
                    d.setAttribute(e, b[e]);
                }
            }
        }
        return d;
    };

    var flush = function (el, ie) {
        if (el instanceof NodeList) {
            each(el, function (e) {
                flush(e, ie);
            });
        } else {
            if (ie) {
                while (el.hasChildNodes()) {
                    el.removeChild(el.firstChild);
                }
            } else {
                el.innerHTML = "";
            }
        }
    };

    /**
     * Create button helper
     * @param  {String}   c
     * @param  {Number}   p
     * @param  {String}   t
     * @return {Object}
     */
    var button = function (c, p, t) {
        return createElement("li", {
            class: c,
            html: '<a href="#" data-page="' + p + '">' + t + "</a>"
        });
    };

    /**
     * classList shim
     * @type {Object}
     */
    var classList = {
        add: function (s, a) {
            if (s.classList) {
                s.classList.add(a);
            } else {
                if (!classList.contains(s, a)) {
                    s.className = s.className.trim() + " " + a;
                }
            }
        },
        remove: function (s, a) {
            if (s.classList) {
                s.classList.remove(a);
            } else {
                if (classList.contains(s, a)) {
                    s.className = s.className.replace(
                        new RegExp("(^|\\s)" + a.split(" ").join("|") + "(\\s|$)", "gi"),
                        " "
                    );
                }
            }
        },
        contains: function (s, a) {
            if (s)
                return s.classList ?
                    s.classList.contains(a) :
                    !!s.className &&
                    !!s.className.match(new RegExp("(\\s|^)" + a + "(\\s|$)"));
        }
    };

    /**
     * Bubble sort algorithm
     */
    var sortItems = function (a, b) {
        var c, d;
        if (1 === b) {
            c = 0;
            d = a.length;
        } else {
            if (b === -1) {
                c = a.length - 1;
                d = -1;
            }
        }
        for (var e = !0; e;) {
            e = !1;
            for (var f = c; f != d; f += b) {
                if (a[f + b] && a[f].value > a[f + b].value) {
                    var g = a[f],
                        h = a[f + b],
                        i = g;
                    a[f] = h;
                    a[f + b] = i;
                    e = !0;
                }
            }
        }
        return a;
    };

    /**
     * Pager truncation algorithm
     */
    var truncate = function (a, b, c, d, ellipsis) {
        d = d || 2;
        var j,
            e = 2 * d,
            f = b - d,
            g = b + d,
            h = [],
            i = [];
        if (b < 4 - d + e) {
            g = 3 + e;
        } else if (b > c - (3 - d + e)) {
            f = c - (2 + e);
        }
        for (var k = 1; k <= c; k++) {
            if (1 == k || k == c || (k >= f && k <= g)) {
                var l = a[k - 1];
                classList.remove(l, "active");
                h.push(l);
            }
        }
        each(h, function (c) {
            var d = c.children[0].getAttribute("data-page");
            if (j) {
                var e = j.children[0].getAttribute("data-page");
                if (d - e == 2) i.push(a[e]);
                else if (d - e != 1) {
                    var f = createElement("li", {
                        class: "ellipsis",
                        html: '<a href="#">' + ellipsis + "</a>"
                    });
                    i.push(f);
                }
            }
            i.push(c);
            j = c;
        });

        return i;
    };

    /**
     * Parse data to HTML table
     */
    var dataToTable = function (data) {
        var thead = false,
            tbody = false;

        data = data || this.options.data;

        if (data.headings) {
            thead = createElement("thead");
            var tr = createElement("tr");
            each(data.headings, function (col) {
                var td = createElement("th", {
                    html: col
                });
                tr.appendChild(td);
            });

            thead.appendChild(tr);
        }

        if (data.data && data.data.length) {
            tbody = createElement("tbody");
            each(data.data, function (rows) {
                if (data.headings) {
                    if (data.headings.length !== rows.length) {
                        throw new Error(
                            "The number of rows do not match the number of headings."
                        );
                    }
                }
                var tr = createElement("tr");
                each(rows, function (value) {
                    var td = createElement("td", {
                        html: value
                    });
                    tr.appendChild(td);
                });
                tbody.appendChild(tr);
            });
        }

        if (thead) {
            if (this.table.tHead !== null) {
                this.table.removeChild(this.table.tHead);
            }
            this.table.appendChild(thead);
        }

        if (tbody) {
            if (this.table.tBodies.length) {
                this.table.removeChild(this.table.tBodies[0]);
            }
            this.table.appendChild(tbody);
        }
    };

    /**
     * Use moment.js to parse cell contents for sorting
     * @param  {String} content     The datetime string to parse
     * @param  {String} format      The format for moment to use
     * @return {String|Boolean}     Datatime string or false
     */
    var parseDate = function (content, format) {
        var date = false;

        // moment() throws a fit if the string isn't a valid datetime string
        // so we need to supply the format to the constructor (https://momentjs.com/docs/#/parsing/string-format/)

        // Converting to YYYYMMDD ensures we can accurately sort the column numerically

        if (format) {
            switch (format) {
            case "ISO_8601":
                date = moment(content, moment.ISO_8601).format("YYYYMMDD");
                break;
            case "RFC_2822":
                date = moment(content, "ddd, MM MMM YYYY HH:mm:ss ZZ").format("YYYYMMDD");
                break;
            case "MYSQL":
                date = moment(content, "YYYY-MM-DD hh:mm:ss").format("YYYYMMDD");
                break;
            case "UNIX":
                date = moment(content).unix();
                break;
                // User defined format using the data-format attribute or columns[n].format option
            default:
                date = moment(content, format).format("YYYYMMDD");
                break;
            }
        }

        return date;
    };

    /**
     * Columns API
     * @param {Object} instance DataTable instance
     * @param {Mixed} columns  Column index or array of column indexes
     */
    var Columns = function (dt) {
        this.dt = dt;
        return this;
    };

    /**
     * Swap two columns
     * @return {Void}
     */
    Columns.prototype.swap = function (columns) {
        if (columns.length && columns.length === 2) {
            var cols = [];

            // Get the current column indexes
            each(this.dt.headings, function (h, i) {
                cols.push(i);
            });

            var x = columns[0];
            var y = columns[1];
            var b = cols[y];
            cols[y] = cols[x];
            cols[x] = b;

            this.order(cols);
        }
    };

    /**
     * Reorder the columns
     * @return {Array} columns  Array of ordered column indexes
     */
    Columns.prototype.order = function (columns) {

        var a, b, c, d, h, s, cell,
            temp = [
                [],
                [],
                [],
                []
            ],
            dt = this.dt;

        // Order the headings
        each(columns, function (column, x) {
            h = dt.headings[column];
            s = h.getAttribute("data-sortable") !== "false";
            a = h.cloneNode(true);
            a.originalCellIndex = x;
            a.sortable = s;

            temp[0].push(a);

            if (dt.hiddenColumns.indexOf(column) < 0) {
                b = h.cloneNode(true);
                b.originalCellIndex = x;
                b.sortable = s;

                temp[1].push(b);
            }
        });

        // Order the row cells
        each(dt.data, function (row, i) {
            c = row.cloneNode();
            d = row.cloneNode();

            c.dataIndex = d.dataIndex = i;

            if (row.searchIndex !== null && row.searchIndex !== undefined) {
                c.searchIndex = d.searchIndex = row.searchIndex;
            }

            // Append the cell to the fragment in the correct order
            each(columns, function (column, x) {
                cell = row.cells[column].cloneNode(true);
                cell.data = row.cells[column].data;
                c.appendChild(cell);

                if (dt.hiddenColumns.indexOf(column) < 0) {
                    cell = row.cells[column].cloneNode(true);
                    cell.data = row.cells[column].data;
                    d.appendChild(cell);
                }
            });

            temp[2].push(c);
            temp[3].push(d);
        });

        dt.headings = temp[0];
        dt.activeHeadings = temp[1];

        dt.data = temp[2];
        dt.activeRows = temp[3];

        // Update
        dt.update();
    };

    /**
     * Hide columns
     * @return {Void}
     */
    Columns.prototype.hide = function (columns) {
        if (columns.length) {
            var dt = this.dt;

            each(columns, function (column) {
                if (dt.hiddenColumns.indexOf(column) < 0) {
                    dt.hiddenColumns.push(column);
                }
            });

            this.rebuild();
        }
    };

    /**
     * Show columns
     * @return {Void}
     */
    Columns.prototype.show = function (columns) {
        if (columns.length) {
            var index, dt = this.dt;

            each(columns, function (column) {
                index = dt.hiddenColumns.indexOf(column);
                if (index > -1) {
                    dt.hiddenColumns.splice(index, 1);
                }
            });

            this.rebuild();
        }
    };

    /**
     * Check column(s) visibility
     * @return {Boolean}
     */
    Columns.prototype.visible = function (columns) {
        var cols, dt = this.dt;

        columns = columns || dt.headings.map(function (th) {
            return th.originalCellIndex;
        });

        if (!isNaN(columns)) {
            cols = dt.hiddenColumns.indexOf(columns) < 0;
        } else if (isArray(columns)) {
            cols = [];
            each(columns, function (column) {
                cols.push(dt.hiddenColumns.indexOf(column) < 0);
            });
        }

        return cols;
    };

    /**
     * Add a new column
     * @param {Object} data
     */
    Columns.prototype.add = function (data) {
        var that = this,
            td, th = document.createElement("th");

        if (!this.dt.headings.length) {
            this.dt.insert({
                headings: [data.heading],
                data: data.data.map(function (i) {
                    return [i];
                })
            });
            this.rebuild();
            return;
        }

        if (!this.dt.hiddenHeader) {
            if (data.heading.nodeName) {
                th.appendChild(data.heading);
            } else {
                th.innerHTML = data.heading;
            }
        } else {
            th.innerHTML = "";
        }

        this.dt.headings.push(th);

        each(this.dt.data, function (row, i) {
            if (data.data[i]) {
                td = document.createElement("td");

                if (data.data[i].nodeName) {
                    td.appendChild(data.data[i]);
                } else {
                    td.innerHTML = data.data[i];
                }

                td.data = td.innerHTML;

                if (data.render) {
                    td.innerHTML = data.render.call(that, td.data, td, row);
                }

                row.appendChild(td);
            }
        });

        if (data.type) {
            th.setAttribute("data-type", data.type);
        }
        if (data.format) {
            th.setAttribute("data-format", data.format);
        }

        if (data.hasOwnProperty("sortable")) {
            th.sortable = data.sortable;
            th.setAttribute("data-sortable", data.sortable === true ? "true" : "false");
        }

        this.rebuild();

        this.dt.renderHeader();
    };

    /**
     * Remove column(s)
     * @param  {Array|Number} select
     * @return {Void}
     */
    Columns.prototype.remove = function (select) {
        if (isArray(select)) {
            // Remove in reverse otherwise the indexes will be incorrect
            select.sort(function (a, b) {
                return b - a;
            });

            each(select, function (column) {
                this.remove(column);
            }, this);
        } else {
            this.dt.headings.splice(select, 1);

            each(this.dt.data, function (row) {
                row.removeChild(row.cells[select]);
            });
        }

        this.rebuild();
    };

    /**
     * Sort by column
     * @param  {int} column - The column no.
     * @param  {string} direction - asc or desc
     * @return {void}
     */
    Columns.prototype.sort = function (column, direction, init) {

        var dt = this.dt;

        // Check column is present
        if (dt.hasHeadings && (column < 1 || column > dt.activeHeadings.length)) {
            return false;
        }

        dt.sorting = true;

        // Convert to zero-indexed
        column = column - 1;

        var dir,
            rows = dt.data,
            alpha = [],
            numeric = [],
            a = 0,
            n = 0,
            th = dt.activeHeadings[column];

        column = th.originalCellIndex;

        each(rows, function (tr) {
            var cell = tr.cells[column];
            var content = cell.data;
            var num = content.replace(/(\$|\,|\s|%)/g, "");

            // Check for date format and moment.js
            if (th.getAttribute("data-type") === "date" && win.moment) {
                var format = false,
                    formatted = th.hasAttribute("data-format");

                if (formatted) {
                    format = th.getAttribute("data-format");
                }

                num = parseDate(content, format);
            }

            if (parseFloat(num) == num) {
                numeric[n++] = {
                    value: Number(num),
                    row: tr
                };
            } else {
                alpha[a++] = {
                    value: content,
                    row: tr
                };
            }
        });

        /* Sort according to direction (ascending or descending) */
        var top, btm;
        if (classList.contains(th, "asc") || direction == "asc") {
            top = sortItems(alpha, -1);
            btm = sortItems(numeric, -1);
            dir = "descending";
            classList.remove(th, "asc");
            classList.add(th, "desc");
        } else {
            top = sortItems(numeric, 1);
            btm = sortItems(alpha, 1);
            dir = "ascending";
            classList.remove(th, "desc");
            classList.add(th, "asc");
        }

        /* Clear asc/desc class names from the last sorted column's th if it isn't the same as the one that was just clicked */
        if (dt.lastTh && th != dt.lastTh) {
            classList.remove(dt.lastTh, "desc");
            classList.remove(dt.lastTh, "asc");
        }

        dt.lastTh = th;

        /* Reorder the table */
        rows = top.concat(btm);

        dt.data = [];
        var indexes = [];

        each(rows, function (v, i) {
            dt.data.push(v.row);

            if (v.row.searchIndex !== null && v.row.searchIndex !== undefined) {
                indexes.push(i);
            }
        }, dt);

        dt.searchData = indexes;

        this.rebuild();

        dt.update();

        if (!init) {
            dt.emit("datatable.sort", column, dir);
        }
    };

    /**
     * Rebuild the columns
     * @return {Void}
     */
    Columns.prototype.rebuild = function () {
        var a, b, c, d, dt = this.dt,
            temp = [];

        dt.activeRows = [];
        dt.activeHeadings = [];

        each(dt.headings, function (th, i) {
            th.originalCellIndex = i;
            th.sortable = th.getAttribute("data-sortable") !== "false";
            if (dt.hiddenColumns.indexOf(i) < 0) {
                dt.activeHeadings.push(th);
            }
        }, this);

        // Loop over the rows and reorder the cells
        each(dt.data, function (row, i) {
            a = row.cloneNode();
            b = row.cloneNode();

            a.dataIndex = b.dataIndex = i;

            if (row.searchIndex !== null && row.searchIndex !== undefined) {
                a.searchIndex = b.searchIndex = row.searchIndex;
            }

            // Append the cell to the fragment in the correct order
            each(row.cells, function (cell) {
                c = cell.cloneNode(true);
                c.data = cell.data;
                a.appendChild(c);

                if (dt.hiddenColumns.indexOf(cell.cellIndex) < 0) {
                    d = cell.cloneNode(true);
                    d.data = cell.data;
                    b.appendChild(d);
                }
            });

            // Append the fragment with the ordered cells
            temp.push(a);
            dt.activeRows.push(b);
        });

        dt.data = temp;

        dt.update();
    };

    /**
     * Rows API
     * @param {Object} instance DataTable instance
     * @param {Array} rows
     */
    var Rows = function (dt, rows) {
        this.dt = dt;
        this.rows = rows;

        return this;
    };

    /**
     * Build a new row
     * @param  {Array} row
     * @return {HTMLElement}
     */
    Rows.prototype.build = function (row) {
        var td, tr = createElement("tr");

        var headings = this.dt.headings;

        if (!headings.length) {
            headings = row.map(function () {
                return "";
            });
        }

        each(headings, function (h, i) {
            td = createElement("td");

            // Fixes #29
            if (!row[i] && !row[i].length) {
                row[i] = "";
            }

            td.innerHTML = row[i];

            td.data = row[i];

            tr.appendChild(td);
        });

        return tr;
    };

    Rows.prototype.render = function (row) {
        return row;
    };

    /**
     * Add new row
     * @param {Array} select
     */
    Rows.prototype.add = function (data) {

        if (isArray(data)) {
            var dt = this.dt;
            // Check for multiple rows
            if (isArray(data[0])) {
                each(data, function (row, i) {
                    dt.data.push(this.build(row));
                }, this);
            } else {
                dt.data.push(this.build(data));
            }

            // We may have added data to an empty table
            if ( dt.data.length ) {
                dt.hasRows = true;
            }


            this.update();

            dt.columns().rebuild();
        }
    };

    /**
     * Remove row(s)
     * @param  {Array|Number} select
     * @return {Void}
     */
    Rows.prototype.remove = function (select) {

        var dt = this.dt;

        if (isArray(select)) {
            // Remove in reverse otherwise the indexes will be incorrect
            select.sort(function (a, b) {
                return b - a;
            });

            each(select, function (row, i) {
                dt.data.splice(row, 1);
            });
        } else {
            dt.data.splice(select, 1);
        }

        this.update();
        dt.columns().rebuild();
    };

    /**
     * Update row indexes
     * @return {Void}
     */
    Rows.prototype.update = function () {
        each(this.dt.data, function (row, i) {
            row.dataIndex = i;
        });
    };

    ////////////////////
    //    MAIN LIB    //
    ////////////////////

    var DataTable = function (table, options) {
        this.initialized = false;

        // user options
        this.options = extend(defaultConfig, options);

        if (typeof table === "string") {
            var selector = table;
            table = document.querySelector(table);

            if (!table) {
                throw new Error("The element '" + selector + "' can not be found.");
            }
        }

        if (table.tagName.toLowerCase() !== "table") {
            throw new Error("The selected element is not a table.");
        }

        this.initialLayout = table.innerHTML;
        this.initialSortable = this.options.sortable;

        // Disable manual sorting if no header is present (#4)
        if (!this.options.header) {
            this.options.sortable = false;
        }

        if (table.tHead === null) {
            if (!this.options.data ||
                (this.options.data && !this.options.data.headings)
            ) {
                this.options.sortable = false;
            }
        }

        if (table.tBodies.length && !table.tBodies[0].rows.length) {
            if (this.options.data) {
                if (!this.options.data.data) {
                    throw new Error(
                        "You seem to be using the data option, but you've not defined any rows."
                    );
                }
            }
        }

        this.table = table;

        this.init();
    };

    var proto = DataTable.prototype;

    /**
     * Initialize the instance
     * @param  {Object} options
     * @return {Void}
     */
    proto.init = function (options) {
        if (this.initialized || classList.contains(this.table, "dataTable-table")) {
            return false;
        }

        var that = this;

        this.options = extend(this.options, options || {});

        // IE detection
        this.isIE = !!/(msie|trident)/i.test(navigator.userAgent);

        this.currentPage = 1;
        this.onFirstPage = true;

        this.hiddenColumns = [];
        this.columnRenderers = [];
        this.selectedColumns = [];

        this.render();

        setTimeout(function () {
            that.emit("datatable.init");
            that.initialized = true;
        }, 10);
    };

    /**
     * Render the instance
     * @param  {String} type
     * @return {Void}
     */
    proto.render = function (type) {
        if (type) {
            switch (type) {
            case "page":
                this.renderPage();
                break;
            case "pager":
                this.renderPager();
                break;
            case "header":
                this.renderHeader();
                break;
            }

            return false;
        }

        var that = this,
            o = that.options,
            template = "";

        // Convert data to HTML
        if (o.data) {
            dataToTable.call(that);
        }

        if (o.ajax) {
            var ajax = o.ajax;
            var xhr = new XMLHttpRequest();

            var xhrProgress = function (e) {
                that.emit("datatable.ajax.progress", e, xhr);
            };

            var xhrLoad = function (e) {
                if (xhr.readyState === 4) {
                    that.emit("datatable.ajax.loaded", e, xhr);

                    if (xhr.status === 200) {
                        var obj = {};
                        obj.data = ajax.load ? ajax.load.call(that, xhr) : xhr.responseText;

                        obj.type = "json";

                        if (ajax.content && ajax.content.type) {
                            obj.type = ajax.content.type;

                            obj = extend(obj, ajax.content);
                        }

                        that.import(obj);

                        that.setColumns(true);

                        that.emit("datatable.ajax.success", e, xhr);
                    } else {
                        that.emit("datatable.ajax.error", e, xhr);
                    }
                }
            };

            var xhrFailed = function (e) {
                that.emit("datatable.ajax.error", e, xhr);
            };

            var xhrCancelled = function (e) {
                that.emit("datatable.ajax.abort", e, xhr);
            };

            on(xhr, "progress", xhrProgress);
            on(xhr, "load", xhrLoad);
            on(xhr, "error", xhrFailed);
            on(xhr, "abort", xhrCancelled);

            that.emit("datatable.ajax.loading", xhr);

            xhr.open("GET", typeof ajax === "string" ? o.ajax : o.ajax.url);
            xhr.send();
        }

        // Store references
        that.body = that.table.tBodies[0];
        that.head = that.table.tHead;
        that.foot = that.table.tFoot;

        if (!that.body) {
            that.body = createElement("tbody");

            that.table.appendChild(that.body);
        }

        that.hasRows = that.body.rows.length > 0;

        // Make a tHead if there isn't one (fixes #8)
        if (!that.head) {
            var h = createElement("thead");
            var t = createElement("tr");

            if (that.hasRows) {
                each(that.body.rows[0].cells, function () {
                    t.appendChild(createElement("th"));
                });

                h.appendChild(t);
            }

            that.head = h;

            that.table.insertBefore(that.head, that.body);

            that.hiddenHeader = !o.ajax;
        }

        that.headings = [];
        that.hasHeadings = that.head.rows.length > 0;

        if (that.hasHeadings) {
            that.header = that.head.rows[0];
            that.headings = [].slice.call(that.header.cells);
        }

        // Header
        if (!o.header) {
            if (that.head) {
                that.table.removeChild(that.table.tHead);
            }
        }

        // Footer
        if (o.footer) {
            if (that.head && !that.foot) {
                that.foot = createElement("tfoot", {
                    html: that.head.innerHTML
                });
                that.table.appendChild(that.foot);
            }
        } else {
            if (that.foot) {
                that.table.removeChild(that.table.tFoot);
            }
        }

        // Build
        that.wrapper = createElement("div", {
            class: "dataTable-wrapper dataTable-loading"
        });

        // Template for custom layouts
        template += "<div class='dataTable-top'>";
        template += o.layout.top;
        template += "</div>";
        template += "<div class='dataTable-container'></div>";
        template += "<div class='dataTable-bottom'>";
        template += o.layout.bottom;
        template += "</div>";

        // Info placement
        template = template.replace("{info}", "<div class='dataTable-info'></div>");

        // Per Page Select
        if (o.perPageSelect) {
            var wrap = "<div class='dataTable-dropdown'><label>";
            wrap += o.labels.perPage;
            wrap += "</label></div>";

            // Create the select
            var select = createElement("select", {
                class: "dataTable-selector"
            });

            // Create the options
            each(o.perPageSelect, function (val) {
                var selected = val === o.perPage;
                var option = new Option(val, val, selected, selected);
                select.add(option);
            });

            // Custom label
            wrap = wrap.replace("{select}", select.outerHTML);

            // Selector placement
            template = template.replace("{select}", wrap);
        } else {
            template = template.replace("{select}", "");
        }

        // Searchable
        if (o.searchable) {
            var form =
                "<div class='dataTable-search'><input class='dataTable-input' placeholder='" +
                o.labels.placeholder +
                "' type='text'></div>";

            // Search input placement
            template = template.replace("{search}", form);
        } else {
            template = template.replace("{search}", "");
        }

        if (that.hasHeadings) {
            // Sortable
            this.render("header");
        }

        // Add table class
        classList.add(that.table, "dataTable-table");

        // Paginator
        var w = createElement("div", {
            class: "dataTable-pagination"
        });
        var paginator = createElement("ul");
        w.appendChild(paginator);

        // Pager(s) placement
        template = template.replace(/\{pager\}/g, w.outerHTML);

        that.wrapper.innerHTML = template;

        that.container = that.wrapper.querySelector(".dataTable-container");

        that.pagers = that.wrapper.querySelectorAll(".dataTable-pagination");

        that.label = that.wrapper.querySelector(".dataTable-info");

        // Insert in to DOM tree
        that.table.parentNode.replaceChild(that.wrapper, that.table);
        that.container.appendChild(that.table);

        // Store the table dimensions
        that.rect = that.table.getBoundingClientRect();

        // Convert rows to array for processing
        that.data = [].slice.call(that.body.rows);
        that.activeRows = that.data.slice();
        that.activeHeadings = that.headings.slice();

        // Update
        that.update();

        if (!o.ajax) {
            that.setColumns();
        }

        // Fix height
        this.fixHeight();

        // Fix columns
        that.fixColumns();

        // Class names
        if (!o.header) {
            classList.add(that.wrapper, "no-header");
        }

        if (!o.footer) {
            classList.add(that.wrapper, "no-footer");
        }

        if (o.sortable) {
            classList.add(that.wrapper, "sortable");
        }

        if (o.searchable) {
            classList.add(that.wrapper, "searchable");
        }

        if (o.fixedHeight) {
            classList.add(that.wrapper, "fixed-height");
        }

        if (o.fixedColumns) {
            classList.add(that.wrapper, "fixed-columns");
        }

        that.bindEvents();
    };

    /**
     * Render the page
     * @return {Void}
     */
    proto.renderPage = function () {
        if (this.hasRows && this.totalPages) {
            if (this.currentPage > this.totalPages) {
                this.currentPage = 1;
            }

            // Use a fragment to limit touching the DOM
            var index = this.currentPage - 1,
                frag = doc.createDocumentFragment();

            if (this.hasHeadings) {
                flush(this.header, this.isIE);

                each(this.activeHeadings, function (th) {
                    this.header.appendChild(th);
                }, this);
            }

            each(this.pages[index], function (row) {
                frag.appendChild(this.rows().render(row));
            }, this);

            this.clear(frag);

            this.onFirstPage = this.currentPage === 1;
            this.onLastPage = this.currentPage === this.lastPage;
        } else {
            this.clear();
        }

        // Update the info
        var current = 0,
            f = 0,
            t = 0,
            items;

        if (this.totalPages) {
            current = this.currentPage - 1;
            f = current * this.options.perPage;
            t = f + this.pages[current].length;
            f = f + 1;
            items = !!this.searching ? this.searchData.length : this.data.length;
        }

        if (this.label && this.options.labels.info.length) {
            // CUSTOM LABELS
            var string = this.options.labels.info
                .replace("{start}", f)
                .replace("{end}", t)
                .replace("{page}", this.currentPage)
                .replace("{pages}", this.totalPages)
                .replace("{rows}", items);

            this.label.innerHTML = items ? string : "";
        }

        if (this.currentPage == 1) {
            this.fixHeight();
        }
    };

    /**
     * Render the pager(s)
     * @return {Void}
     */
    proto.renderPager = function () {
        flush(this.pagers, this.isIE);

        if (this.totalPages > 1) {
            var c = "pager",
                frag = doc.createDocumentFragment(),
                prev = this.onFirstPage ? 1 : this.currentPage - 1,
                next = this.onlastPage ? this.totalPages : this.currentPage + 1;

            // first button
            if (this.options.firstLast) {
                frag.appendChild(button(c, 1, this.options.firstText));
            }

            // prev button
            if (this.options.nextPrev) {
                frag.appendChild(button(c, prev, this.options.prevText));
            }

            var pager = this.links;

            // truncate the links
            if (this.options.truncatePager) {
                pager = truncate(
                    this.links,
                    this.currentPage,
                    this.pages.length,
                    this.options.pagerDelta,
                    this.options.ellipsisText
                );
            }

            // active page link
            classList.add(this.links[this.currentPage - 1], "active");

            // append the links
            each(pager, function (p) {
                classList.remove(p, "active");
                frag.appendChild(p);
            });

            classList.add(this.links[this.currentPage - 1], "active");

            // next button
            if (this.options.nextPrev) {
                frag.appendChild(button(c, next, this.options.nextText));
            }

            // first button
            if (this.options.firstLast) {
                frag.appendChild(button(c, this.totalPages, this.options.lastText));
            }

            // We may have more than one pager
            each(this.pagers, function (pager) {
                pager.appendChild(frag.cloneNode(true));
            });
        }
    };

    /**
     * Render the header
     * @return {Void}
     */
    proto.renderHeader = function () {
        var that = this;

        that.labels = [];

        if (that.headings && that.headings.length) {
            each(that.headings, function (th, i) {

                that.labels[i] = th.textContent;

                if (classList.contains(th.firstElementChild, "dataTable-sorter")) {
                    th.innerHTML = th.firstElementChild.innerHTML;
                }

                th.sortable = th.getAttribute("data-sortable") !== "false";

                th.originalCellIndex = i;
                if (that.options.sortable && th.sortable) {
                    var link = createElement("a", {
                        href: "#",
                        class: "dataTable-sorter",
                        html: th.innerHTML
                    });

                    th.innerHTML = "";
                    th.setAttribute("data-sortable", "");
                    th.appendChild(link);
                }
            });
        }

        that.fixColumns();
    };

    /**
     * Bind event listeners
     * @return {[type]} [description]
     */
    proto.bindEvents = function () {
        var that = this,
            o = that.options;

        // Per page selector
        if (o.perPageSelect) {
            var selector = that.wrapper.querySelector(".dataTable-selector");
            if (selector) {
                // Change per page
                on(selector, "change", function (e) {
                    o.perPage = parseInt(this.value, 10);
                    that.update();

                    that.fixHeight();

                    that.emit("datatable.perpage", o.perPage);
                });
            }
        }

        // Search input
        if (o.searchable) {
            that.input = that.wrapper.querySelector(".dataTable-input");
            if (that.input) {
                on(that.input, "keyup", function (e) {
                    that.search(this.value);
                });
            }
        }

        // Pager(s) / sorting
        on(that.wrapper, "click", function (e) {
            var t = e.target;
            if (t.nodeName.toLowerCase() === "a") {
                if (t.hasAttribute("data-page")) {
                    that.page(t.getAttribute("data-page"));
                    e.preventDefault();
                } else if (
                    o.sortable &&
                    classList.contains(t, "dataTable-sorter") &&
                    t.parentNode.getAttribute("data-sortable") != "false"
                ) {
                    that.columns().sort(that.activeHeadings.indexOf(t.parentNode) + 1);
                    e.preventDefault();
                }
            }
        });
    };

    /**
     * Set up columns
     * @return {[type]} [description]
     */
    proto.setColumns = function (ajax) {

        var that = this;

        if (!ajax) {
            each(that.data, function (row) {
                each(row.cells, function (cell) {
                    cell.data = cell.innerHTML;
                });
            });
        }

        // Check for the columns option
        if (that.options.columns && that.headings.length) {

            each(that.options.columns, function (data) {

                // convert single column selection to array
                if (!isArray(data.select)) {
                    data.select = [data.select];
                }

                if (data.hasOwnProperty("render") && typeof data.render === "function") {
                    that.selectedColumns = that.selectedColumns.concat(data.select);

                    that.columnRenderers.push({
                        columns: data.select,
                        renderer: data.render
                    });
                }

                // Add the data attributes to the th elements
                each(data.select, function (column) {
                    var th = that.headings[column];
                    if (data.type) {
                        th.setAttribute("data-type", data.type);
                    }
                    if (data.format) {
                        th.setAttribute("data-format", data.format);
                    }
                    if (data.hasOwnProperty("sortable")) {
                        th.setAttribute("data-sortable", data.sortable);
                    }

                    if (data.hasOwnProperty("hidden")) {
                        if (data.hidden !== false) {
                            that.columns(column).hide();
                        }
                    }

                    if (data.hasOwnProperty("sort") && data.select.length === 1) {
                        that.columns().sort(data.select[0] + 1, data.sort, true);
                    }
                });
            });
        }

        if (that.hasRows) {
            each(that.data, function (row, i) {
                row.dataIndex = i;
                each(row.cells, function (cell) {
                    cell.data = cell.innerHTML;
                });
            });

            if (that.selectedColumns.length) {
                each(that.data, function (row) {
                    each(row.cells, function (cell, i) {
                        if (that.selectedColumns.indexOf(i) > -1) {
                            each(that.columnRenderers, function (o) {
                                if (o.columns.indexOf(i) > -1) {
                                    cell.innerHTML = o.renderer.call(that, cell.data, cell, row);
                                }
                            });
                        }
                    });
                });
            }

            that.columns().rebuild();
        }

        that.render("header");
    };

    /**
     * Destroy the instance
     * @return {void}
     */
    proto.destroy = function () {
        this.table.innerHTML = this.initialLayout;

        // Remove the className
        classList.remove(this.table, "dataTable-table");

        // Remove the containers
        this.wrapper.parentNode.replaceChild(this.table, this.wrapper);

        this.initialized = false;
    };

    /**
     * Update the instance
     * @return {Void}
     */
    proto.update = function () {
        this.paginate(this);
        this.render("page");

        this.links = [];

        var i = this.pages.length;
        while (i--) {
            var num = i + 1;
            this.links[i] = button(i === 0 ? "active" : "", num, num);
        }

        this.sorting = false;

        this.render("pager");

        this.rows().update();

        this.emit("datatable.update");
    };

    /**
     * Sort rows into pages
     * @return {Number}
     */
    proto.paginate = function () {
        var perPage = this.options.perPage,
            rows = this.activeRows;

        if (this.searching) {
            rows = [];

            each(this.searchData, function (index) {
                rows.push(this.activeRows[index]);
            }, this);
        }

        // Check for hidden columns
        this.pages = rows
            .map(function (tr, i) {
                return i % perPage === 0 ? rows.slice(i, i + perPage) : null;
            })
            .filter(function (page) {
                return page;
            });

        this.totalPages = this.lastPage = this.pages.length;

        return this.totalPages;
    };

    /**
     * Fix column widths
     * @return {Void}
     */
    proto.fixColumns = function () {

        if (this.options.fixedColumns && this.activeHeadings && this.activeHeadings.length) {

            var cells,
                hd = false;

            this.columnWidths = [];

            // If we have headings we need only set the widths on them
            // otherwise we need a temp header and the widths need applying to all cells
            if (this.table.tHead) {
                // Reset widths
                each(this.activeHeadings, function (cell) {
                    cell.style.width = "";
                }, this);

                each(this.activeHeadings, function (cell, i) {
                    var ow = cell.offsetWidth;
                    var w = ow / this.rect.width * 100;
                    cell.style.width = w + "%";
                    this.columnWidths[i] = ow;
                }, this);
            } else {
                cells = [];

                // Make temperary headings
                hd = createElement("thead");
                var r = createElement("tr");
                var c = this.table.tBodies[0].rows[0].cells;
                each(c, function () {
                    var th = createElement("th");
                    r.appendChild(th);
                    cells.push(th);
                });

                hd.appendChild(r);
                this.table.insertBefore(hd, this.body);

                var widths = [];
                each(cells, function (cell, i) {
                    var ow = cell.offsetWidth;
                    var w = ow / this.rect.width * 100;
                    widths.push(w);
                    this.columnWidths[i] = ow;
                }, this);

                each(this.data, function (row) {
                    each(row.cells, function (cell, i) {
                        if (this.columns(cell.cellIndex).visible())
                            cell.style.width = widths[i] + "%";
                    }, this);
                }, this);

                // Discard the temp header
                this.table.removeChild(hd);
            }
        }
    };

    /**
     * Fix the container height;
     * @return {Void}
     */
    proto.fixHeight = function () {
        if (this.options.fixedHeight) {
            this.container.style.height = null;
            this.rect = this.container.getBoundingClientRect();
            this.container.style.height = this.rect.height + "px";
        }
    };

    /**
     * Perform a search of the data set
     * @param  {string} query
     * @return {void}
     */
    proto.search = function (query) {
        if (!this.hasRows) return false;

        var that = this;

        query = query.toLowerCase();

        this.currentPage = 1;
        this.searching = true;
        this.searchData = [];

        if (!query.length) {
            this.searching = false;
            this.update();
            this.emit("datatable.search", query, this.searchData);
            classList.remove(this.wrapper, "search-results");
            return false;
        }

        this.clear();

        each(this.data, function (row, idx) {
            var inArray = this.searchData.indexOf(row) > -1;

            // https://github.com/Mobius1/Vanilla-DataTables/issues/12
            var doesQueryMatch = query.split(" ").reduce(function (bool, word) {
                var includes = false;

                for (var x = 0; x < row.cells.length; x++) {
                    if (
                        row.cells[x].textContent.toLowerCase().indexOf(word) > -1 &&
                        that.columns(row.cells[x].cellIndex).visible()
                    ) {
                        includes = true;
                        break;
                    }
                }

                return bool && includes;
            }, true);

            if (doesQueryMatch && !inArray) {
                row.searchIndex = idx;
                this.searchData.push(idx);
            } else {
                row.searchIndex = null;
            }
        }, this);

        classList.add(this.wrapper, "search-results");

        if (!that.searchData.length) {
            classList.remove(that.wrapper, "search-results");

            that.setMessage(that.options.labels.noRows);
        } else {
            that.update();
        }

        this.emit("datatable.search", query, this.searchData);
    };

    /**
     * Change page
     * @param  {int} page
     * @return {void}
     */
    proto.page = function (page) {
        // We don't want to load the current page again.
        if (page == this.currentPage) {
            return false;
        }

        if (!isNaN(page)) {
            this.currentPage = parseInt(page, 10);
        }

        if (page > this.pages.length || page < 0) {
            return false;
        }

        this.render("page");
        this.render("pager");

        this.emit("datatable.page", page);
    };

    /**
     * Sort by column
     * @param  {int} column - The column no.
     * @param  {string} direction - asc or desc
     * @return {void}
     */
    proto.sortColumn = function (column, direction) {
        // Use columns API until sortColumn method is removed
        this.columns().sort(column, direction);
    };

    /**
     * Add new row data
     * @param {object} data
     */
    proto.insert = function (data) {

        var that = this,
            rows = [];
        if (isObject(data)) {
            if (data.headings) {
                if (!that.hasHeadings && !that.hasRows) {
                    var tr = createElement("tr"),
                        th;
                    each(data.headings, function (heading) {
                        th = createElement("th", {
                            html: heading
                        });

                        tr.appendChild(th);
                    });
                    that.head.appendChild(tr);

                    that.header = tr;
                    that.headings = [].slice.call(tr.cells);
                    that.hasHeadings = true;

                    // Re-enable sorting if it was disabled due
                    // to missing header
                    that.options.sortable = that.initialSortable;

                    // Allow sorting on new header
                    that.render("header");
                }
            }

            if (data.data && isArray(data.data)) {
                rows = data.data;
            }
        } else if (isArray(data)) {
            each(data, function (row) {
                var r = [];
                each(row, function (cell, heading) {

                    var index = that.labels.indexOf(heading);

                    if (index > -1) {
                        r[index] = cell;
                    }
                });
                rows.push(r);
            });
        }

        if (rows.length) {
            that.rows().add(rows);

            that.hasRows = true;
        }

        that.update();

        that.fixColumns();
    };

    /**
     * Refresh the instance
     * @return {void}
     */
    proto.refresh = function () {
        if (this.options.searchable) {
            this.input.value = "";
            this.searching = false;
        }
        this.currentPage = 1;
        this.onFirstPage = true;
        this.update();

        this.emit("datatable.refresh");
    };

    /**
     * Truncate the table
     * @param  {mixes} html - HTML string or HTMLElement
     * @return {void}
     */
    proto.clear = function (html) {
        if (this.body) {
            flush(this.body, this.isIE);
        }

        var parent = this.body;
        if (!this.body) {
            parent = this.table;
        }

        if (html) {
            if (typeof html === "string") {
                var frag = doc.createDocumentFragment();
                frag.innerHTML = html;
            }

            parent.appendChild(html);
        }
    };

    /**
     * Export table to various formats (csv, txt or sql)
     * @param  {Object} options User options
     * @return {Boolean}
     */
    proto.export = function (options) {
        if (!this.hasHeadings && !this.hasRows) return false;

        var headers = this.activeHeadings,
            rows = [],
            arr = [],
            i,
            x,
            str,
            link;

        var defaults = {
            download: true,
            skipColumn: [],

            // csv
            lineDelimiter: "\n",
            columnDelimiter: ",",

            // sql
            tableName: "myTable",

            // json
            replacer: null,
            space: 4
        };

        // Check for the options object
        if (!isObject(options)) {
            return false;
        }

        var o = extend(defaults, options);

        if (o.type) {
            if (o.type === "txt" || o.type === "csv") {
                // Include headings
                rows[0] = this.header;
            }

            // Selection or whole table
            if (o.selection) {
                // Page number
                if (!isNaN(o.selection)) {
                    rows = rows.concat(this.pages[o.selection - 1]);
                } else if (isArray(o.selection)) {
                    // Array of page numbers
                    for (i = 0; i < o.selection.length; i++) {
                        rows = rows.concat(this.pages[o.selection[i] - 1]);
                    }
                }
            } else {
                rows = rows.concat(this.activeRows);
            }

            // Only proceed if we have data
            if (rows.length) {
                if (o.type === "txt" || o.type === "csv") {
                    str = "";

                    for (i = 0; i < rows.length; i++) {
                        for (x = 0; x < rows[i].cells.length; x++) {
                            // Check for column skip and visibility
                            if (
                                o.skipColumn.indexOf(headers[x].originalCellIndex) < 0 &&
                                this.columns(headers[x].originalCellIndex).visible()
                            ) {
                                str += rows[i].cells[x].textContent + o.columnDelimiter;
                            }
                        }
                        // Remove trailing column delimiter
                        str = str.trim().substring(0, str.length - 1);

                        // Apply line delimiter
                        str += o.lineDelimiter;
                    }

                    // Remove trailing line delimiter
                    str = str.trim().substring(0, str.length - 1);

                    if (o.download) {
                        str = "data:text/csv;charset=utf-8," + str;
                    }
                } else if (o.type === "sql") {
                    // Begin INSERT statement
                    str = "INSERT INTO `" + o.tableName + "` (";

                    // Convert table headings to column names
                    for (i = 0; i < headers.length; i++) {
                        // Check for column skip and column visibility
                        if (
                            o.skipColumn.indexOf(headers[i].originalCellIndex) < 0 &&
                            this.columns(headers[i].originalCellIndex).visible()
                        ) {
                            str += "`" + headers[i].textContent + "`,";
                        }
                    }

                    // Remove trailing comma
                    str = str.trim().substring(0, str.length - 1);

                    // Begin VALUES
                    str += ") VALUES ";

                    // Iterate rows and convert cell data to column values
                    for (i = 0; i < rows.length; i++) {
                        str += "(";

                        for (x = 0; x < rows[i].cells.length; x++) {
                            // Check for column skip and column visibility
                            if (
                                o.skipColumn.indexOf(headers[x].originalCellIndex) < 0 &&
                                this.columns(headers[x].originalCellIndex).visible()
                            ) {
                                str += '"' + rows[i].cells[x].textContent + '",';
                            }
                        }

                        // Remove trailing comma
                        str = str.trim().substring(0, str.length - 1);

                        // end VALUES
                        str += "),";
                    }

                    // Remove trailing comma
                    str = str.trim().substring(0, str.length - 1);

                    // Add trailing colon
                    str += ";";

                    if (o.download) {
                        str = "data:application/sql;charset=utf-8," + str;
                    }
                } else if (o.type === "json") {
                    // Iterate rows
                    for (x = 0; x < rows.length; x++) {
                        arr[x] = arr[x] || {};
                        // Iterate columns
                        for (i = 0; i < headers.length; i++) {
                            // Check for column skip and column visibility
                            if (
                                o.skipColumn.indexOf(headers[i].originalCellIndex) < 0 &&
                                this.columns(headers[i].originalCellIndex).visible()
                            ) {
                                arr[x][headers[i].textContent] = rows[x].cells[i].textContent;
                            }
                        }
                    }

                    // Convert the array of objects to JSON string
                    str = JSON.stringify(arr, o.replacer, o.space);

                    if (o.download) {
                        str = "data:application/json;charset=utf-8," + str;
                    }
                }

                // Download
                if (o.download) {
                    // Filename
                    o.filename = o.filename || "datatable_export";
                    o.filename += "." + o.type;

                    str = encodeURI(str);

                    // Create a link to trigger the download
                    link = document.createElement("a");
                    link.href = str;
                    link.download = o.filename;

                    // Append the link
                    body.appendChild(link);

                    // Trigger the download
                    link.click();

                    // Remove the link
                    body.removeChild(link);
                }

                return str;
            }
        }

        return false;
    };

    /**
     * Import data to the table
     * @param  {Object} options User options
     * @return {Boolean}
     */
    proto.import = function (options) {
        var obj = false;
        var defaults = {
            // csv
            lineDelimiter: "\n",
            columnDelimiter: ","
        };

        // Check for the options object
        if (!isObject(options)) {
            return false;
        }

        options = extend(defaults, options);

        if (options.data.length || isObject(options.data)) {
            // Import CSV
            if (options.type === "csv") {
                obj = {
                    data: []
                };

                // Split the string into rows
                var rows = options.data.split(options.lineDelimiter);

                if (rows.length) {

                    if (options.headings) {
                        obj.headings = rows[0].split(options.columnDelimiter);

                        rows.shift();
                    }

                    each(rows, function (row, i) {
                        obj.data[i] = [];

                        // Split the rows into values
                        var values = row.split(options.columnDelimiter);

                        if (values.length) {
                            each(values, function (value) {
                                obj.data[i].push(value);
                            });
                        }
                    });
                }
            } else if (options.type === "json") {
                var json = isJson(options.data);

                // Valid JSON string
                if (json) {
                    obj = {
                        headings: [],
                        data: []
                    };

                    each(json, function (data, i) {
                        obj.data[i] = [];
                        each(data, function (value, column) {
                            if (obj.headings.indexOf(column) < 0) {
                                obj.headings.push(column);
                            }

                            obj.data[i].push(value);
                        });
                    });
                } else {
                    console.warn("That's not valid JSON!");
                }
            }

            if (isObject(options.data)) {
                obj = options.data;
            }

            if (obj) {
                // Add the rows
                this.insert(obj);
            }
        }

        return false;
    };
    /**
     * Print the table
     * @return {void}
     */
    proto.print = function () {
        var headings = this.activeHeadings;
        var rows = this.activeRows;
        var table = createElement("table");
        var thead = createElement("thead");
        var tbody = createElement("tbody");

        var tr = createElement("tr");
        each(headings, function (th) {
            tr.appendChild(
                createElement("th", {
                    html: th.textContent
                })
            );
        });

        thead.appendChild(tr);

        each(rows, function (row) {
            var tr = createElement("tr");
            each(row.cells, function (cell) {
                tr.appendChild(
                    createElement("td", {
                        html: cell.textContent
                    })
                );
            });
            tbody.appendChild(tr);
        });

        table.appendChild(thead);
        table.appendChild(tbody);

        // Open new window
        var w = win.open();

        // Append the table to the body
        w.document.body.appendChild(table);

        // Print
        w.print();
    };

    /**
     * Show a message in the table
     * @param {string} message
     */
    proto.setMessage = function (message) {
        var colspan = 1;

        if (this.hasRows) {
            colspan = this.data[0].cells.length;
        }

        this.clear(
            createElement("tr", {
                html: '<td class="dataTables-empty" colspan="' +
                    colspan +
                    '">' +
                    message +
                    "</td>"
            })
        );
    };

    /**
     * Columns API access
     * @return {Object} new Columns instance
     */
    proto.columns = function (columns) {
        return new Columns(this, columns);
    };

    /**
     * Rows API access
     * @return {Object} new Rows instance
     */
    proto.rows = function (rows) {
        return new Rows(this, rows);
    };

    /**
     * Add custom event listener
     * @param  {String} event
     * @param  {Function} callback
     * @return {Void}
     */
    proto.on = function (event, callback) {
        this.events = this.events || {};
        this.events[event] = this.events[event] || [];
        this.events[event].push(callback);
    };

    /**
     * Remove custom event listener
     * @param  {String} event
     * @param  {Function} callback
     * @return {Void}
     */
    proto.off = function (event, callback) {
        this.events = this.events || {};
        if (event in this.events === false) return;
        this.events[event].splice(this.events[event].indexOf(callback), 1);
    };

    /**
     * Fire custom event
     * @param  {String} event
     * @return {Void}
     */
    proto.emit = function (event) {
        this.events = this.events || {};
        if (event in this.events === false) return;
        for (var i = 0; i < this.events[event].length; i++) {
            this.events[event][i].apply(this, Array.prototype.slice.call(arguments, 1));
        }
    };

    return DataTable;
});
});

function createTableDOM(data, opts, config) {
  var num = config.num,
      denum = config.denum,
      ratio = config.ratio,
      my_region = config.my_region;

  var options = opts || {};
  options.id = options.id || 'myTable';
  var doc = document;
  var nb_features = data.length;
  var column_names = Object.getOwnPropertyNames(data[0]);
  var nb_columns = column_names.length;
  var myTable = doc.createElement('table');
  var headers = doc.createElement('thead');
  var body = doc.createElement('tbody');
  var headers_row = doc.createElement('tr');
  // TODO: Only display ratios values if there is more than 1 variable currently selected
  for (var i = 0; i < nb_columns; i++) {
    var cell = doc.createElement('th');
    var col_name = column_names[i];
    if (num.indexOf(col_name) > -1) {
      cell.innerHTML = 'Num<br><span class="small">' + col_name;
    } else if (denum.indexOf(col_name) > -1) {
      cell.innerHTML = 'Denum<br><span class="small">' + col_name;
    } else if (ratio.indexOf(col_name) > -1) {
      cell.innerHTML = 'Ratio<br><span class="small">' + col_name;
    } else if (col_name === 'rang') {
      cell.innerHTML = 'Rang ';
    } else {
      cell.innerHTML = col_name;
    }
    headers_row.appendChild(cell);
  }
  headers.appendChild(headers_row);
  myTable.appendChild(headers);
  for (var _i = 0; _i < nb_features; _i++) {
    var row = doc.createElement('tr');
    row.id = 'row_' + data[_i].id;
    if (data[_i].id === my_region) {
      row.className = color_highlight;
    }
    for (var j = 0; j < nb_columns; j++) {
      var _cell = doc.createElement('td');
      var _col_name = column_names[j];
      if (num.indexOf(_col_name) > -1 || denum.indexOf(_col_name) > -1 || ratio.indexOf(_col_name) > -1) {
        _cell.innerHTML = Math.round(data[_i][_col_name] * 100) / 10;
      } else {
        _cell.innerHTML = data[_i][_col_name];
      }
      row.appendChild(_cell);
    }
    body.appendChild(row);
  }
  myTable.appendChild(body);
  myTable.setAttribute('id', options.id);
  return myTable;
}

function makeTable(data_no_empty, config) {
  d3.select('.dataTable-wrapper').remove();
  var table = createTableDOM(data_no_empty, undefined, config);
  document.querySelector('#map_section').appendChild(table);
  var dataTable = new vanillaDataTables('#myTable');
  var t = document.querySelector('.dataTable-wrapper');
  t.style.marginTop = '20px';
  t.style.display = 'none';
  t.style.fontSize = '0.7em';
  t.querySelector('.dataTable-top').remove();
  Array.prototype.slice.call(t.querySelectorAll('span.small')).forEach(function (el) {
    el.onclick = function () {
      el.parentElement.click();
    }; // eslint-disable-line no-param-reassign
  });
}

function prepare_dataset(full_dataset, app$$1) {
  app$$1.full_dataset = full_dataset;
  // Create an Object feature_id ->  feature_name for easier lookup:
  app$$1.feature_names = {};
  full_dataset.forEach(function (elem) {
    app$$1.feature_names[elem.geo] = elem.Nom;
  });
}

/**
* Attach the full_dataset Array to the app Object and create a dictionnary
* allowing to obtain territorial units name from their Id.
*
* @param {Object} app - The variable containing the global parameters about
*   the current state of the application.
* @return {Array} - The filtered data, containing only the requested variables
*   for the feature of the current study zone,
*    without features containing empty ratios.
*
*/
function filterLevelVar(app$$1, filter_id) {
  // Fetch the name(s) of the ratio (and associated num and denum variable),
  // the name of the targeted region and the current level :
  var _app$current_config = app$$1.current_config,
      num = _app$current_config.num,
      denum = _app$current_config.denum,
      ratio = _app$current_config.ratio,
      current_level = _app$current_config.current_level,
      id_field = _app$current_config.id_field,
      filter_key = _app$current_config.filter_key,
      name_field = _app$current_config.name_field,
      my_region = _app$current_config.my_region;


  var all_variables = ratio.concat(num).concat(denum);

  // Prepare the data:
  var temp = void 0;
  if (filter_id) {
    temp = app$$1.full_dataset.filter(function (ft) {
      return +ft.level === current_level && filter_id.indexOf(ft[id_field]) > -1;
    });
  } else if (filter_key) {
    var my_category = app$$1.full_dataset.filter(function (ft) {
      return ft[id_field] === my_region;
    })[0][filter_key];
    temp = app$$1.full_dataset.filter(function (ft) {
      return +ft.level === current_level && ft[filter_key] === my_category;
    });
  } else {
    temp = app$$1.full_dataset.filter(function (ft) {
      return +ft.level === current_level;
    });
  }
  temp = temp.map(function (ft) {
    var props_feature = {
      id: ft[id_field],
      name: ft[name_field]
    };
    for (var i = 0, len_i = all_variables.length; i < len_i; i++) {
      props_feature[all_variables[i]] = +ft[all_variables[i]];
    }
    return props_feature;
  });

  // // Filter data for empty values :
  // const filtered_data = temp.filter(
  //   ft => ratio.map(v => !!ft[v]).every(v => v === true));

  //
  app$$1.current_data = temp;
}

/**
* Function to prepare the global "variables_info" Array of objects from the array
* containing the readed 'metadata.csv' file.
*
* @param {Array} metadata_indicateurs - The array return by d3.csv.
* @return {void}
*
*/
function prepareVariablesInfo(metadata_indicateurs) {
  return metadata_indicateurs.filter(function (ft) {
    return ft['Type statistique'] === 'Ratio';
  }).map(function (ft) {
    return {
      ratio: ft['id'],
      num: ft['id1'] + '_' + ft['Année'],
      denum: ft['id2'] + '_' + ft['Année'],
      name: ft['Nom'] + ' (' + ft['Année'] + ')',
      group: ft['Thème']
    };
  });
}

/**
* Set and apply a new filter (ie. restrict the study zone) on the dataset to be used.
*
* @param {String} filter_type - The name of the filter to use.
* @return {void}
*
*/
function applyFilter(app$$1, filter_type) {
  if (filter_type === 'filter_FR') {
    app$$1.current_config.filter_key = 'Pays';
    filterLevelVar(app$$1);
  } else if (filter_type === 'no_filter') {
    app$$1.current_config.filter_key = undefined;
    filterLevelVar(app$$1);
  } else {
    app$$1.current_config.filter_key = 'type_test';
    filterLevelVar(app$$1);
  }

  app$$1.colors = {};
  app$$1.colors[app$$1.current_config.my_region] = color_highlight;
}

// TODO : Doc
function changeRegion(app$$1, id_region) {
  app$$1.current_config.my_region = id_region;
  app$$1.current_config.my_region_pretty_name = app$$1.feature_names[app$$1.current_config.my_region];
  if (app$$1.current_config.filter_key !== undefined) {
    filterLevelVar(app$$1);
  }
  // Reset the color to use on the chart/map:
  app$$1.colors = {};
  app$$1.colors[app$$1.current_config.my_region] = color_highlight;
}

/**
*
*
*
*
*/
function addVariable(app$$1, code_ratio) {
  var variable_info = exports.variables_info.filter(function (d) {
    return d.ratio === code_ratio;
  })[0];
  app$$1.colors = {};
  app$$1.colors[app$$1.current_config.my_region] = color_highlight;
  app$$1.current_config.num.push(variable_info.num);
  app$$1.current_config.denum.push(variable_info.denum);
  app$$1.current_config.ratio.push(variable_info.ratio);
  app$$1.current_config.ratio_pretty_name.push(variable_info.name);
  filterLevelVar(app$$1);
}

/**
*
*
*
*
*/
function removeVariable(app$$1, code_ratio) {
  var ix = app$$1.current_config.ratio.indexOf(code_ratio);
  app$$1.current_config.num.splice(ix, 1);
  app$$1.current_config.denum.splice(ix, 1);
  app$$1.current_config.ratio.splice(ix, 1);
  app$$1.current_config.ratio_pretty_name.splice(ix, 1);
  filterLevelVar(app$$1);
}

/**
* Reset the current variables in use.
*
*
*
*/
function resetVariables(app$$1, codes_ratio) {
  app$$1.colors = {};
  app$$1.colors[app$$1.current_config.my_region] = color_highlight;
  app$$1.current_config.num = [];
  app$$1.current_config.denum = [];
  app$$1.current_config.ratio = [];
  app$$1.current_config.ratio_pretty_name = [];

  var _loop = function _loop(i, len) {
    var code_ratio = codes_ratio[i];
    var variable_info = exports.variables_info.filter(function (d) {
      return d.ratio === code_ratio;
    })[0];
    app$$1.current_config.num.push(variable_info.num);
    app$$1.current_config.denum.push(variable_info.denum);
    app$$1.current_config.ratio.push(variable_info.ratio);
    app$$1.current_config.ratio_pretty_name.push(variable_info.name);
  };

  for (var i = 0, len = codes_ratio.length; i < len; i++) {
    _loop(i, len);
  }
  filterLevelVar(app$$1);
}

/**
* Compute the ratio of available (= not empty) values (the "complétude") within
* the subset currently in use for all the variables in "vars".
*
* @param {Object} app -
* @param {Array} vars -
* @return {Number}
*
*/


/**
* Compute the ratio of population covered by features on which all the variables
* of "vars" are available.
*
* @param {Object} app -
* @param {Array} vars -
* @return {Number}
*
*/
function calcPopCompletudeSubset(app$$1, vars) {
  var _app$current_config3 = app$$1.current_config,
      current_level = _app$current_config3.current_level,
      id_field = _app$current_config3.id_field,
      filter_key = _app$current_config3.filter_key,
      my_region = _app$current_config3.my_region,
      pop_field = _app$current_config3.pop_field;

  // Compute the total population stock of the data (within the "study zone" if any):

  var temp = void 0;
  if (filter_key) {
    var my_category = app$$1.full_dataset.find(function (ft) {
      return ft[id_field] === my_region;
    })[filter_key];
    temp = app$$1.full_dataset.filter(function (ft) {
      return +ft.level === current_level && ft[filter_key] === my_category;
    });
  } else {
    temp = app$$1.full_dataset.filter(function (ft) {
      return +ft.level === current_level;
    });
  }
  var total_pop = 0;
  for (var i = 0, len = temp.length; i < len; i++) {
    total_pop += isNaN(+temp[i][pop_field]) ? 0 : +temp[i][pop_field];
  }
  // Compute the population stock of the dataset if we filter empty features
  // on all the variables of "vars":
  temp = temp.map(function (ft) {
    var props_feature = {
      id: ft[id_field],
      pop: +ft[pop_field]
    };
    for (var _i = 0, len_i = vars.length; _i < len_i; _i++) {
      props_feature[vars[_i]] = +ft[vars[_i]];
    }
    return props_feature;
  }).filter(function (ft) {
    return vars.map(function (ratio_name) {
      return !!ft[ratio_name];
    }).every(function (v) {
      return v === true;
    });
  });
  var subset_pop = 0;
  for (var _i2 = 0, _len = temp.length; _i2 < _len; _i2++) {
    subset_pop += isNaN(temp[_i2].pop) ? 0 : temp[_i2].pop;
  }
  // Return the ratio of population values ("complétude") within
  // the study zone selected by the user:
  return Math.round(subset_pop / total_pop * 1000) / 10;
}
/* eslint-enable no-param-reassign */

var TableResumeStat = function () {
  function TableResumeStat(summary_features) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    classCallCheck(this, TableResumeStat);

    var doc = document;
    var nb_features = summary_features.length;
    var column_names = ['Variable', 'Min', 'Moyenne', 'Max', 'Ma région'];
    var nb_columns = column_names.length;
    var container_div = doc.createElement('div');
    var myTable = doc.createElement('table');
    var headers = doc.createElement('thead');
    var table_body = doc.createElement('tbody');
    var headers_row = doc.createElement('tr');
    myTable.className = 'minitable';
    container_div.className = 'minitable_container';
    for (var i = 0; i < nb_columns; i++) {
      var cell = doc.createElement('th');
      cell.innerHTML = column_names[i];
      headers_row.appendChild(cell);
    }
    headers.appendChild(headers_row);
    myTable.appendChild(headers);
    for (var _i = 0; _i < nb_features; _i++) {
      var row = doc.createElement('tr');
      row.id = 'row_' + summary_features[_i].id;
      for (var j = 0; j < nb_columns; j++) {
        var _cell = doc.createElement('td');
        var col_name = column_names[j];
        if (col_name !== 'Variable') {
          _cell.innerHTML = Math.round(summary_features[_i][col_name] * 10) / 10;
        } else {
          _cell.innerHTML = summary_features[_i][col_name];
        }
        row.appendChild(_cell);
      }
      table_body.appendChild(row);
    }
    myTable.appendChild(table_body);
    myTable.setAttribute('id', options.id || 'table_summary');
    container_div.appendChild(myTable);
    document.querySelector('#map_section').appendChild(container_div);
    this.nb_columns = nb_columns;
    this.column_names = column_names;
    this.table_body = table_body;
  }

  createClass(TableResumeStat, [{
    key: 'addFeatures',
    value: function addFeatures(summary_features) {
      for (var i = 0, len = summary_features.length; i < len; i++) {
        this.addFeature(summary_features[i]);
      }
    }
  }, {
    key: 'addFeature',
    value: function addFeature(summary) {
      var row = document.createElement('tr');
      row.id = 'row_' + summary.id;
      for (var j = 0; j < this.nb_columns; j++) {
        var cell = document.createElement('td');
        var col_name = this.column_names[j];
        if (col_name !== 'Variable') {
          cell.innerHTML = Math.round(summary[col_name] * 10) / 10;
        } else {
          cell.innerHTML = summary[col_name];
        }
        row.appendChild(cell);
      }
      this.table_body.appendChild(row);
    }
  }, {
    key: 'removeFeature',
    value: function removeFeature(id_variable) {
      var row = this.table_body.querySelector('tr#row_' + id_variable);
      if (row) row.remove();
    }
  }, {
    key: 'removeAll',
    value: function removeAll() {
      var rows = this.table_body.querySelectorAll('tr');
      for (var i = rows.length - 1; i > -1; i--) {
        rows[i].remove();
      }
    }
  }, {
    key: 'remove',
    value: function remove() {
      this.table_body.parentElement.parentElement.remove();
      this.table_body = null;
    }
  }]);
  return TableResumeStat;
}();

var svg_bar = d3.select('svg#svg_bar');
var margin = { top: 10, right: 20, bottom: 100, left: 40 };
var margin2 = { top: 430, right: 20, bottom: 15, left: 40 };
var width = +svg_bar.attr('width') - margin.left - margin.right;
var height = +svg_bar.attr('height') - margin.top - margin.bottom;
var height2 = +svg_bar.attr('height') - margin2.top - margin2.bottom;

var nbFt = void 0;
var current_range_brush = [0, 0];
var current_range = [0, 0];
var displayed = void 0;

function getMeanRank(mean_value, ratio_to_use) {
  var mean_rank = app.current_data.map(function (d, i) {
    return [d[ratio_to_use], math_abs(mean_value - d[ratio_to_use]), i];
  });
  mean_rank.sort(function (a, b) {
    return a[1] - b[1];
  });
  mean_rank = mean_rank[0];
  if (mean_rank[1] > mean_value) {
    mean_rank = mean_rank[2] - 1;
  } else {
    mean_rank = mean_rank[2];
  }
  return mean_rank;
}

var BarChart1 = function () {
  function BarChart1(ref_data) {
    var _this = this;

    classCallCheck(this, BarChart1);

    this.brushed = function () {
      if (d3.event.sourceEvent && d3.event.sourceEvent.type === 'zoom') return; // ignore brush-by-zoom
      if (!_this.x) {
        console.log('a');return;
      }
      var s = d3.event.selection || _this.x2.range();
      current_range = [math_round(s[0] / (width / nbFt)), math_round(s[1] / (width / nbFt))];
      _this.x.domain(_this.data.slice(current_range[0], current_range[1]).map(function (ft) {
        return ft.id;
      }));
      svg_bar.select('.zoom').call(_this.zoom.transform, d3.zoomIdentity.scale(width / (current_range[1] - current_range[0])).translate(-current_range[0], 0));
      _this.update();
      _this.updateContext(current_range[0], current_range[1]);
      svg_bar.select('.brush_top').call(_this.brush_top.move, null);
      _this.brushed_top();
    };

    this.brushed_top = function () {
      if (!_this._focus) {
        console.log('b');return;
      }
      if (!_this.map_elem) {
        console.log('c');return;
      }
      var d3_event = d3.event;
      var ratio_to_use = _this.ratio_to_use;
      var ref_value = _this.ref_value;
      if (d3_event && d3_event.selection && d3_event.sourceEvent && d3_event.sourceEvent.target === document.querySelector('.brush_top > rect.overlay')) {
        _this.map_elem.removeRectBrush();
        var s = d3_event.selection;
        current_range_brush = [current_range[0] + math_round(s[0] / (width / displayed)) - 1, current_range[0] + math_round(s[1] / (width / displayed))];
        _this.x.domain(_this.data.slice(current_range_brush[0] + 1, current_range_brush[1]).map(function (ft) {
          return ft.id;
        }));
        app.colors = {};
        _this._focus.selectAll('.bar').style('fill', function (d, i) {
          if (d.id === app.current_config.my_region) {
            app.colors[d.id] = color_highlight;
            return color_highlight;
          } else if (i > current_range_brush[0] && i < current_range_brush[1]) {
            var color = comp(d[ratio_to_use], ref_value, _this.serie_inversed);
            app.colors[d.id] = color;
            return color;
          }
          return color_countries;
        });
        _this.updateMapRegio();
      } else {
        if (d3_event && !d3_event.selection && d3_event.sourceEvent && d3_event.sourceEvent.detail !== undefined) {
          _this.map_elem.removeRectBrush();
          app.colors = {};
          app.colors[app.current_config.my_region] = color_highlight;
          _this.updateMapRegio();
        }
        _this._focus.selectAll('.bar').style('fill', function (d) {
          return app.colors[d.id] || color_countries;
        });
      }
    };
    app.current_config.nb_var = 1;
    var x = d3.scaleBand().range([0, width]).padding(0.1),
        x2 = d3.scaleBand().range([0, width]).padding(0.1),
        y = d3.scaleLinear().range([height, 0]),
        y2 = d3.scaleLinear().range([height2, 0]);

    var xAxis = d3.axisBottom(x);
    var xAxis2 = d3.axisBottom(x2);
    var yAxis = d3.axisLeft(y);

    this.x = x;
    this.x2 = x2;
    this.y = y;
    this.y2 = y2;
    this.xAxis = xAxis;
    this.yAxis = yAxis;
    this.xAxis2 = xAxis2;
    var self = this;
    var available_ratios = app.current_config.ratio;
    var ratio_to_use = available_ratios[0];
    this.ratio_to_use = ratio_to_use;

    this.data = ref_data.filter(function (ft) {
      return !!ft[ratio_to_use];
    });
    this.data.sort(function (a, b) {
      return a[ratio_to_use] - b[ratio_to_use];
    });
    this.current_ids = this.data.map(function (d) {
      return d.id;
    });
    resetColors();
    this.current_ranks = this.data.map(function (d, i) {
      return i + 1;
    });
    nbFt = this.data.length;
    this.mean_value = d3.mean(this.data.map(function (d) {
      return d[ratio_to_use];
    }));
    this.ref_value = this.data.filter(function (ft) {
      return ft.id === app.current_config.my_region;
    })[0][ratio_to_use];
    svg_bar.append('defs').append('clipPath').attr('id', 'clip').append('rect').attrs({ width: width, height: height });

    var focus = svg_bar.append('g').attrs({
      class: 'focus',
      transform: 'translate(' + margin.left + ', ' + margin.top + ')'
    });

    var context = svg_bar.append('g').attrs({
      class: 'context',
      transform: 'translate(' + margin2.left + ', ' + margin2.top + ')'
    });

    this._focus = focus;
    this.context = context;

    x.domain(this.current_ids);
    y.domain([d3.min(this.data, function (d) {
      return d[ratio_to_use];
    }) - 2, d3.max(this.data, function (d) {
      return d[ratio_to_use];
    })]);
    x2.domain(x.domain());
    y2.domain(y.domain());

    var brush_bottom = d3.brushX().extent([[0, 0], [width, height2]]).on('brush end', this.brushed);

    var brush_top = d3.brushX().extent([[0, 0], [width, height]]).on('brush end', this.brushed_top);

    var zoom = d3.zoom().scaleExtent([1, Infinity]).translateExtent([[0, 0], [width, height]]).extent([[0, 0], [width, height]]);
    // .on("zoom", zoomed);
    this.brush_top = brush_top;
    this.brush_bottom = brush_bottom;
    this.zoom = zoom;

    focus.append('g').attrs({ class: 'axis axis--x', transform: 'translate(0, ' + height + ')' }).call(xAxis);

    focus.select('.axis--x').selectAll('text').style('text-anchor', 'end').attrs({ dx: '-0.8em', dy: '0.15em', transform: 'rotate(-65)' });

    focus.append('g').attr('class', 'axis axis--y').call(yAxis);

    this.g_bar = focus.append('g');

    var groupe_line_mean = focus.append('g').attr('class', 'mean');
    groupe_line_mean.append('text').attrs({ x: 60, y: y(this.mean_value) + 20 }).styles({
      display: 'none',
      fill: 'red',
      'fill-opacity': '0.8',
      'font-family': '\'Signika\', sans-serif'
    }).text('Valeur moyenne : ' + Math.round(this.mean_value * 10) / 10);

    groupe_line_mean.append('line').attrs({
      x1: 0,
      x2: width,
      y1: y(this.mean_value),
      y2: y(this.mean_value),
      'stroke-dasharray': '10, 5',
      'stroke-width': '2px',
      class: 'mean_line'
    }).style('stroke', 'red');

    groupe_line_mean.append('line').attrs({ x1: 0, x2: width, y1: y(this.mean_value), y2: y(this.mean_value), 'stroke-width': '14px', class: 'transp_mean_line' }).style('stroke', 'transparent').on('mouseover', function () {
      groupe_line_mean.select('text').style('display', 'initial');
    }).on('mouseout', function () {
      groupe_line_mean.select('text').style('display', 'none');
    });

    this.updateMiniBars();

    context.append('g').attr('class', 'brush_bottom').call(brush_bottom).call(brush_bottom.move, x.range());

    focus.append('g').attr('class', 'brush_top').call(brush_top).call(brush_top.move, null);

    this.completude_value = calcPopCompletudeSubset(app, [this.ratio_to_use]);

    this.completude = svg_bar.append('text').attrs({ id: 'chart_completude', x: 60, y: 40 }).styles({ 'font-family': '\'Signika\', sans-serif' }).text('Compl\xE9tude : ' + this.completude_value + '%');

    svg_bar.append('image').attrs({
      x: width + margin.left + 5,
      y: 385,
      width: 15,
      height: 15,
      'xlink:href': 'img/reverse_plus.png',
      id: 'img_reverse'
    }).on('click', function () {
      // this.data = app.current_data.slice();
      if (!_this.serie_inversed) {
        _this.data.sort(function (a, b) {
          return b[_this.ratio_to_use] - a[_this.ratio_to_use];
        });
      } else {
        _this.data.sort(function (a, b) {
          return a[_this.ratio_to_use] - b[_this.ratio_to_use];
        });
      }
      _this.serie_inversed = !_this.serie_inversed;
      x.domain(_this.data.slice(current_range[0], current_range[1]).map(function (ft) {
        return ft.id;
      }));
      x2.domain(_this.data.map(function (ft) {
        return ft.id;
      }));
      // svg_bar.select(".zoom").call(zoom.transform, d3.zoomIdentity
      //     .scale(width / (current_range[1] - current_range[0]))
      //     .translate(-current_range[0], 0));
      _this.update();
      // this.updateMiniBars();
      _this.updateContext(current_range[0], current_range[1]);
      svg_bar.select('.brush_top').call(brush_top.move, null);
      _this.map_elem.removeRectBrush();
      svg_bar.select('.brush_bottom').call(brush_bottom.move, x.range());
    });

    // Prepare the tooltip displayed on mouseover:
    var tooltip = prepareTooltip(svg_bar);

    // Deactivate the brush rect selection on the map + on the chart
    // when he user press the Ctrl key:
    document.onkeydown = function (event) {
      if (event && event.key === 'Control') {
        svg_bar.select('.brush_top').selectAll('.selection, .overlay').style('display', 'none');
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', 'none');
      }
    };
    document.onkeyup = function (event) {
      if (event && event.key === 'Control') {
        svg_bar.select('.brush_top').selectAll('.selection, .overlay').style('display', null);
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', null);
      }
    };

    //
    var header_bar_section = d3.select('#header_chart');

    this.selec_var = header_bar_section.insert('select', '#img_table').attrs({ class: 'title_variable' }).styles({
      'font-family': '\'Signika\', sans-serif',
      'font-weight': '800',
      'font-size': '14px',
      'margin-top': '12px',
      'margin-left': '40px',
      float: 'left'
    });

    for (var i = 0, len_i = available_ratios.length; i < len_i; i++) {
      this.selec_var.append('option').attr('value', available_ratios[i]).text(app.current_config.ratio_pretty_name[i]);
    }

    this.selec_var.on('change', function () {
      var code_variable = this.value;
      self.changeVariable(code_variable);
      self.changeStudyZone();
      self.updateCompletude();
    });

    // Create the menu under the chart allowing to use some useful selections
    // (above or below the mean value and above or below my_region)
    var menu_selection = d3.select('#bar_section').append('div').attr('id', 'menu_selection').styles({ padding: '0 10px 10px 10px', 'text-align': 'center' });

    menu_selection.append('button').attrs({ class: 'button_blue', id: 'btn_above_mean' }).text('< à la moyenne').on('click', function () {
      return _this.selectBelowMean();
    });

    menu_selection.append('button').attrs({ class: 'button_blue', id: 'btn_below_mean' }).text('> à la moyenne').on('click', function () {
      return _this.selectAboveMean();
    });

    menu_selection.append('button').attrs({ class: 'button_blue', id: 'btn_above_my_region' }).text('< à ma région').on('click', function () {
      return _this.selectBelowMyRegion();
    });

    menu_selection.append('button').attrs({ class: 'button_blue', id: 'btn_below_my_region' }).text('> à ma région').on('click', function () {
      return _this.selectAboveMyRegion();
    });

    this.makeTableStat();
  }

  createClass(BarChart1, [{
    key: 'updateCompletude',
    value: function updateCompletude() {
      this.completude_value = calcPopCompletudeSubset(app, [this.ratio_to_use]);

      this.completude.text('Compl\xE9tude : ' + this.completude_value + '%');
    }
  }, {
    key: 'updateContext',
    value: function updateContext(min, max) {
      this.context.selectAll('.bar').style('fill-opacity', function (_, i) {
        return i >= min && i < max ? '1' : '0.3';
      });
    }
  }, {
    key: 'update',
    value: function update() {
      var _this2 = this;

      displayed = 0;
      var ratio_to_use = this.ratio_to_use;
      var self = this;
      var bar = this.g_bar.selectAll('.bar').data(this.data);

      bar.attrs(function (d) {
        return {
          x: _this2.x(d.id),
          y: _this2.y(d[ratio_to_use]),
          width: _this2.x.bandwidth(),
          height: height - _this2.y(d[ratio_to_use])
        };
      }).style('fill', function (d) {
        return app.colors[d.id] || color_countries;
      }).style('display', function (d) {
        var to_display = _this2.x(d.id) != null;
        if (to_display) {
          displayed += 1;
          return 'initial';
        }
        return 'none';
      }).on('mouseover', function () {
        svg_bar.select('.tooltip').style('display', null);
      }).on('mouseout', function () {
        svg_bar.select('.tooltip').style('display', 'none');
      }).on('mousemove', function (d) {
        var tooltip = svg_bar.select('.tooltip');
        tooltip.select('text.id_feature').text('' + d.id);
        tooltip.select('text.value_feature1').text('' + math_round(d[self.ratio_to_use] * 10) / 10);
        tooltip.attr('transform', 'translate(' + [d3.mouse(this)[0] - 5, d3.mouse(this)[1] - 45] + ')');
      });

      bar.enter().insert('rect', '.mean').attrs(function (d) {
        return {
          class: 'bar',
          x: _this2.x(d.id),
          y: _this2.y(d[ratio_to_use]),
          width: _this2.x.bandwidth(),
          height: height - _this2.y(d[ratio_to_use])
        };
      });

      bar.exit().remove();

      this._focus.select('.axis--y').call(this.yAxis);

      var axis_x = this._focus.select('.axis--x').attr('font-size', function () {
        return displayed > 75 ? 6 : 10;
      }).call(this.xAxis);
      axis_x.selectAll('text').attrs(function () {
        if (displayed > 100) {
          return { dx: '-0.8em', dy: '0.15em', transform: 'rotate(-65)' };
        } else if (displayed > 20) {
          return { dx: '-0.8em', dy: '0.15em', transform: 'rotate(-65)' };
        } else {
          return { dx: '0', dy: '0.71em', transform: null };
        }
      }).style('text-anchor', function () {
        return displayed > 20 ? 'end' : 'middle';
      });

      this.updateMiniBars();
    }
  }, {
    key: 'updateMiniBars',
    value: function updateMiniBars() {
      var _this3 = this;

      var ratio_to_use = this.ratio_to_use;
      var mini_bars = this.context.selectAll('.bar').data(this.data);

      mini_bars.attrs(function (d) {
        return {
          x: _this3.x2(d.id),
          y: _this3.y2(d[ratio_to_use]),
          width: _this3.x2.bandwidth(),
          height: height2 - _this3.y2(d[ratio_to_use])
        };
      }).style('fill', function (d) {
        return d.id !== app.current_config.my_region ? color_countries : color_highlight;
      });

      mini_bars.enter().insert('rect').attrs(function (d) {
        return {
          class: 'bar',
          x: _this3.x2(d.id),
          y: _this3.y2(d[ratio_to_use]),
          width: _this3.x2.bandwidth(),
          height: height2 - _this3.y2(d[ratio_to_use])
        };
      }).style('fill', function (d) {
        return d.id !== app.current_config.my_region ? color_countries : color_highlight;
      });
      mini_bars.exit().remove();
    }
  }, {
    key: 'updateMapRegio',
    value: function updateMapRegio() {
      var _this4 = this;

      this.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        return _this4.current_ids.indexOf(d.properties[app.current_config.id_field_geom]) > -1 ? app.colors[d.properties[app.current_config.id_field_geom]] || color_countries : color_disabled;
      });
    }
  }, {
    key: 'selectAboveMyRegion',
    value: function selectAboveMyRegion() {
      var my_rank = this.data.map(function (d, i) {
        return [d.id, i];
      }).filter(function (d) {
        return d[0] === app.current_config.my_region;
      })[0][1];
      app.colors = {};
      app.colors[app.current_config.my_region] = color_highlight;
      if (!this.serie_inversed) {
        current_range_brush = [my_rank, this.data.length];
        this.data.filter(function (d, i) {
          return i > my_rank;
        }).map(function (d) {
          return d.id;
        }).forEach(function (ft) {
          app.colors[ft] = color_sup;
        });
      } else {
        current_range_brush = [0, my_rank];
        this.data.filter(function (d, i) {
          return i < my_rank;
        }).map(function (d) {
          return d.id;
        }).forEach(function (ft) {
          app.colors[ft] = color_inf;
        });
      }
      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.update();
      // svg_bar.select('.brush_top').call(this.brush_top.move, current_range_brush.map(d => d * (width / nbFt)));
      this.updateMapRegio();
    }
  }, {
    key: 'selectBelowMyRegion',
    value: function selectBelowMyRegion() {
      var my_rank = this.data.map(function (d, i) {
        return [d.id, i];
      }).filter(function (d) {
        return d[0] === app.current_config.my_region;
      })[0][1];

      app.colors = {};
      app.colors[app.current_config.my_region] = color_highlight;
      if (!this.serie_inversed) {
        current_range_brush = [0, my_rank];
        this.data.filter(function (d, i) {
          return i < my_rank;
        }).map(function (d) {
          return d.id;
        }).forEach(function (ft) {
          app.colors[ft] = color_inf;
        });
      } else {
        current_range_brush = [my_rank, this.data.length];
        this.data.filter(function (d, i) {
          return i > my_rank;
        }).map(function (d) {
          return d.id;
        }).forEach(function (ft) {
          app.colors[ft] = color_sup;
        });
      }
      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.update();
      // svg_bar.select('.brush_top').call(this.brush_top.move, current_range_brush.map(d => d * (width / nbFt)));
      this.updateMapRegio();
    }
  }, {
    key: 'selectAboveMean',
    value: function selectAboveMean() {
      var _this5 = this;

      var mean_rank = getMeanRank(this.mean_value, this.ratio_to_use);
      var ratio_to_use = this.ratio_to_use;
      var ref_value = this.ref_value;

      app.colors = {};
      app.colors[app.current_config.my_region] = color_highlight;
      if (!this.serie_inversed) {
        current_range_brush = [mean_rank, this.data.length];
        this.data.filter(function (d) {
          return d[ratio_to_use] > _this5.mean_value;
        }).forEach(function (ft) {
          if (ft[ratio_to_use] > ref_value) app.colors[ft.id] = color_sup;else app.colors[ft.id] = color_inf;
        });
      } else {
        current_range_brush = [0, mean_rank + 1];
        this.data.filter(function (d) {
          return d[ratio_to_use] > _this5.mean_value;
        }).forEach(function (ft) {
          if (ft[ratio_to_use] > ref_value) app.colors[ft.id] = color_inf;else app.colors[ft.id] = color_sup;
        });
      }
      app.colors[app.current_config.my_region] = color_highlight;
      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.update();
      // svg_bar.select('.brush_top').call(this.brush_top.move, current_range_brush.map(d => d * (width / nbFt)));
      this.updateMapRegio();
    }
  }, {
    key: 'selectBelowMean',
    value: function selectBelowMean() {
      var _this6 = this;

      var mean_rank = getMeanRank(this.mean_value, this.ratio_to_use);
      var ratio_to_use = this.ratio_to_use;
      var ref_value = this.ref_value;
      app.colors = {};
      if (!this.serie_inversed) {
        current_range_brush = [0, mean_rank];
        this.data.filter(function (d) {
          return d[ratio_to_use] < _this6.mean_value;
        }).forEach(function (ft) {
          if (ft[ratio_to_use] < ref_value) app.colors[ft.id] = color_inf;else app.colors[ft.id] = color_sup;
        });
      } else {
        current_range_brush = [mean_rank + 1, this.data.length];
        this.data.filter(function (d) {
          return d[ratio_to_use] < _this6.mean_value;
        }).forEach(function (ft) {
          if (ft[ratio_to_use] < ref_value) app.colors[ft.id] = color_sup;else app.colors[ft.id] = color_inf;
        });
      }
      app.colors[app.current_config.my_region] = color_highlight;
      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.update();
      // svg_bar.select('.brush_top').call(this.brush_top.move, current_range_brush.map(d => d * (width / nbFt)));
      this.updateMapRegio();
    }
  }, {
    key: 'handle_brush_map',
    value: function handle_brush_map(event) {
      var _this7 = this;

      if (!event || !event.selection) {
        this.last_map_selection = undefined;
        return;
      }
      var ratio_to_use = this.ratio_to_use;
      var ref_value = this.ref_value;
      var self = this;
      svg_bar.select('.brush_top').call(self.brush_top.move, null);

      var _event$selection = slicedToArray(event.selection, 2),
          topleft = _event$selection[0],
          bottomright = _event$selection[1];

      this.last_map_selection = [topleft, bottomright];
      // const transform = svg_map.node().__zoom;
      // topleft[0] = (topleft[0] - transform.x) / transform.k;
      // topleft[1] = (topleft[1] - transform.y) / transform.k;
      // bottomright[0] = (bottomright[0] - transform.x) / transform.k;
      // bottomright[1] = (bottomright[1] - transform.y) / transform.k;
      var rect = new Rect(topleft, bottomright);
      app.colors = {};
      self.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        var id = d.properties[app.current_config.id_field_geom];
        if (id === app.current_config.my_region) {
          app.colors[id] = color_highlight;
          return color_highlight;
        } else if (self.current_ids.indexOf(id) < 0) {
          return color_disabled;
        }
        if (!this._pts) {
          this._pts = svgPathToCoords(this.getAttribute('d'), app.type_path);
        }
        var pts = this._pts;
        for (var ix = 0, nb_pts = pts.length; ix < nb_pts; ix++) {
          if (rect.contains(pts[ix])) {
            var value = d.properties[ratio_to_use];
            var color = comp(value, ref_value, this.serie_inversed);
            app.colors[id] = color;
            return color;
          }
        }
        return color_countries;
      });
      self._focus.selectAll('.bar').style('fill', function (d) {
        return app.colors[d.id] || color_countries;
      });
      var ids = Object.keys(app.colors);
      var ranks = ids.map(function (d) {
        return _this7.current_ids.indexOf(d.id) > -1;
      }).map(function (d) {
        return _this7.current_ranks[d];
      });
      if (ranks.length > 1) {
        var c1 = ranks[0] - 1;
        var c2 = ranks[ranks.length - 1];
        if (c1 < current_range[0] || c2 > current_range[1]) {
          current_range = [ranks[0] - 1, ranks[ranks.length - 1]];
          svg_bar.select('.brush_bottom').call(self.brush_bottom.move, [current_range[0] * (width / nbFt), current_range[1] * (width / nbFt)]);
        }
      } else {
        current_range = [0, this.data.length];
        svg_bar.select('.brush_bottom').call(self.brush_bottom.move, self.x.range());
      }
    }
  }, {
    key: 'handleClickMap',
    value: function handleClickMap(d, parent) {
      var id = d.properties[app.current_config.id_field_geom];
      if (this.current_ids.indexOf(id) < 0 || id === app.current_config.my_region) return;
      if (app.colors[id] !== undefined) {
        app.colors[id] = undefined;
        d3.select(parent).attr('fill', color_countries);
      } else {
        var color = comp(d.properties[this.ratio_to_use], this.ref_value, this.serie_inversed);
        app.colors[id] = color;
        d3.select(parent).attr('fill', color);
      }
      this.update();
    }
  }, {
    key: 'updateChangeRegion',
    value: function updateChangeRegion() {
      if (app.current_config.filter_key !== undefined) {
        this.changeStudyZone();
      } else {
        this.ref_value = this.data.filter(function (ft) {
          return ft.id === app.current_config.my_region;
        })[0][this.ratio_to_use];
        this.update();
        this.updateContext(0, this.data.length);
        this.updateMapRegio();
        this.updateTableStats();
        svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x.range());
        this.map_elem.removeRectBrush();
        this.map_elem.updateLegend();
      }
    }
  }, {
    key: 'updateMeanValue',
    value: function updateMeanValue() {
      var y = this.y;
      var ratio_to_use = this.ratio_to_use;
      var grp_mean = this._focus.select('.mean');
      this.mean_value = d3.mean(this.data.map(function (d) {
        return d[ratio_to_use];
      }));
      grp_mean.select('text').attr('y', y(this.mean_value) + 20).text('Valeur moyenne : ' + Math.round(this.mean_value * 10) / 10);
      grp_mean.select('.mean_line').attrs({ y1: y(this.mean_value), y2: y(this.mean_value) });
      grp_mean.select('.transp_mean_line').attrs({ y1: y(this.mean_value), y2: y(this.mean_value) });
    }
  }, {
    key: 'changeStudyZone',
    value: function changeStudyZone() {
      var ratio_to_use = this.ratio_to_use;
      this.data = app.current_data.filter(function (ft) {
        return !!ft[ratio_to_use];
      });

      if (this.serie_inversed) {
        this.data.sort(function (a, b) {
          return b[ratio_to_use] - a[ratio_to_use];
        });
      } else {
        this.data.sort(function (a, b) {
          return a[ratio_to_use] - b[ratio_to_use];
        });
      }
      this.current_ids = this.data.map(function (d) {
        return d.id;
      });
      nbFt = this.data.length;
      this.ref_value = this.data.find(function (ft) {
        return ft.id === app.current_config.my_region;
      })[ratio_to_use];
      this.x.domain(this.current_ids);
      var min_serie = d3.min(this.data, function (d) {
        return d[ratio_to_use];
      });
      var max_serie = d3.max(this.data, function (d) {
        return d[ratio_to_use];
      });
      var offset_y = (max_serie - min_serie) / 20;
      this.y.domain([min_serie - offset_y, max_serie]);
      this.x2.domain(this.x.domain());
      this.y2.domain(this.y.domain());
      this.updateMeanValue();
      this.update();
      this.updateContext(0, this.data.length);

      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.map_elem.removeRectBrush();
      app.colors = {};
      app.colors[app.current_config.my_region] = color_highlight;
      this.updateTableStats();
      this.updateMapRegio();
    }
  }, {
    key: 'addVariable',
    value: function addVariable$$1(code_variable, name_variable) {
      // Add the variable to the input element allowing to choose variables:
      this.selec_var.append('option').attr('value', code_variable).text(name_variable);

      // And use it immediatly:
      this.selec_var.node().value = code_variable;
      this.selec_var.dispatch('change');
    }
  }, {
    key: 'removeVariable',
    value: function removeVariable$$1(code_variable) {
      // Add the variable to the input element allowing to choose variables:
      this.selec_var.select('option[value=' + code_variable + ']').remove();
      if (this.ratio_to_use === code_variable) {
        this.selec_var.node().value = this.selec_var.select('option').node().value;
        this.selec_var.dispatch('change');
      }
    }
  }, {
    key: 'changeVariable',
    value: function changeVariable(code_variable) {
      this.ratio_to_use = code_variable;
    }
  }, {
    key: 'remove',
    value: function remove() {
      this._focus.remove();
      this.context.remove();
      this.selec_var.remove();
      this.table_stats.remove();
      this.table_stats = null;
      this.map_elem.unbindBrush();
      this.map_elem = null;
      svg_bar.html('');
    }
  }, {
    key: 'bindMap',
    value: function bindMap(map_elem) {
      this.map_elem = map_elem;
      this.map_elem.resetColors(this.current_ids);
    }
  }, {
    key: 'updateTableStats',
    value: function updateTableStats() {
      this.table_stats.removeAll();
      this.table_stats.addFeature(this.prepareTableStat());
    }
  }, {
    key: 'prepareTableStat',
    value: function prepareTableStat() {
      var _this8 = this;

      var values = this.data.map(function (d) {
        return d[_this8.ratio_to_use];
      });
      return {
        Min: d3.min(values),
        Max: d3.max(values),
        Moyenne: d3.mean(values),
        id: this.ratio_to_use,
        Variable: this.ratio_to_use,
        'Ma région': this.ref_value
      };
    }
  }, {
    key: 'makeTableStat',
    value: function makeTableStat() {
      var feature = this.prepareTableStat();
      this.table_stats = new TableResumeStat([feature]);
    }
  }]);
  return BarChart1;
}();

var svg_bar$1 = d3.select('#svg_bar');
var margin$1 = { top: 20, right: 20, bottom: 40, left: 30 };

var width$1 = +svg_bar$1.attr('width') - margin$1.left - margin$1.right;
var height$1 = +svg_bar$1.attr('height') - margin$1.top - margin$1.bottom;

var BubbleChart1 = function () {
  function BubbleChart1(ref_data) {
    var _this = this;

    classCallCheck(this, BubbleChart1);

    app.current_config.nb_var = 1;
    var self = this;
    var available_ratios = app.current_config.ratio;
    var available_nums = app.current_config.num;
    var ratio_to_use = available_ratios[0];
    var stock_to_use = available_nums[0];
    this.ratio_to_use = ratio_to_use;
    this.stock_to_use = stock_to_use;
    this.my_region_value = ref_data.find(function (d) {
      return d.id === app.current_config.my_region;
    })[ratio_to_use];
    this.data = ref_data.filter(function (ft) {
      return !!ft[ratio_to_use];
    }).slice();
    this.data.forEach(function (ft) {
      // eslint-disable-next-line no-param-reassign
      ft.dist = math_abs(ft[ratio_to_use] - _this.my_region_value);
    });
    this.data.sort(function (a, b) {
      return b.dist - a.dist;
    });
    this.current_ids = this.data.map(function (d) {
      return d.id;
    });
    resetColors();
    this.highlight_selection = [];
    this.serie_inversed = false;
    var draw_group = svg_bar$1.append('g').attr('transform', 'translate(' + margin$1.left + ', ' + margin$1.top + ')');
    draw_group.append('g').attrs({ class: 'axis axis--x', transform: 'translate(0, ' + height$1 / 2 + ')' });
    this.draw_group = draw_group;

    // Prepare the tooltip displayed on mouseover:
    prepareTooltip(svg_bar$1);

    // Compute the "complétude" value for this ratio:
    this.completude_value = calcPopCompletudeSubset(app, [this.ratio_to_use]);

    // Create the "complétude" text:
    this.completude = svg_bar$1.append('text').attrs({ id: 'chart_completude', x: 60, y: 40 }).styles({ 'font-family': '\'Signika\', sans-serif' }).text('Compl\xE9tude : ' + this.completude_value + '%');

    // Create the button allowing to choose if the color are inversed (green/red for superior/inferior regions)
    svg_bar$1.append('image').attrs({
      x: width$1 + margin$1.left + 5,
      y: 232.5,
      width: 15,
      height: 15,
      'xlink:href': 'img/reverse_plus.png',
      id: 'img_reverse'
    }).on('click', function () {
      _this.serie_inversed = !_this.serie_inversed;
      _this.applySelection(_this.highlight_selection.length);
    });

    // Create the section containing the input element allowing to chose
    // how many "close" regions we want to highlight.
    var selection_close = d3.select(svg_bar$1.node().parentElement).append('div').attr('id', 'menu_selection').styles({ top: '-100px', 'margin-left': '30px', position: 'relative' }).append('p');

    selection_close.append('span').property('value', 'close').attrs({ value: 'close', class: 'type_selection square checked' });
    selection_close.append('span').attrs({ class: 'label_chk' }).html('Les');
    selection_close.append('input').attrs({ class: 'nb_select', type: 'number' }).property('value', 5);
    selection_close.append('span').attrs({ class: 'label_chk' }).html('régions les plus proches');

    this.bindMenu();

    //
    var header_bar_section = d3.select('#header_chart');

    this.selec_var = header_bar_section.insert('select', '#img_table').attrs({ class: 'title_variable' }).styles({
      'font-family': '\'Signika\', sans-serif',
      'font-weight': '800',
      'font-size': '14px',
      'margin-top': '12px',
      'margin-left': '40px',
      float: 'left'
    });

    for (var i = 0, len_i = available_ratios.length; i < len_i; i++) {
      this.selec_var.append('option').attr('value', available_ratios[i]).text(app.current_config.ratio_pretty_name[i]);
    }

    this.selec_var.on('change', function () {
      var code_variable = this.value;
      self.changeVariable(code_variable);
      self.changeStudyZone();
      self.updateCompletude();
    });

    // // Deactivate the rect brush selection on the map
    // // while the user press the Ctrl key:
    // document.onkeydown = (event) => {
    //   if (event && event.key === 'Control') {
    //     svg_map.select('.brush_map')
    //       .selectAll('.selection, .overlay')
    //       .style('display', 'none');
    //   }
    // };
    // // Reactivate the rect brush selection on the map
    // // when the user doesn't press the Ctrl key anymore
    // document.onkeyup = (event) => {
    //   if (event && event.key === 'Control') {
    //     svg_map.select('.brush_map')
    //       .selectAll('.selection, .overlay')
    //       .style('display', null);
    //   }
    // };

    this.makeTableStat();
  }

  createClass(BubbleChart1, [{
    key: 'applySelection',
    value: function applySelection(nb) {
      app.colors = {};
      if (nb > 0) {
        var ratio_to_use = this.ratio_to_use;

        this.highlight_selection = this.data.map(function (d) {
          return {
            dist: d.dist,
            ratio: d[ratio_to_use],
            id: d.id
          };
        });

        this.highlight_selection.sort(function (a, b) {
          return a.dist - b.dist;
        });
        this.highlight_selection = this.highlight_selection.slice(1, nb + 1);
      } else {
        this.highlight_selection = [];
      }
      this.update();
      this.updateMapRegio();
    }
  }, {
    key: 'update',
    value: function update() {
      var _this2 = this;

      var self = this;
      var data = self.data;
      var highlight_selection = self.highlight_selection;
      var my_region_value = self.my_region_value;
      var ratio_to_use = self.ratio_to_use;
      var stock_to_use = self.stock_to_use;

      var _min = void 0;
      var _max = void 0;
      if (highlight_selection.length > 0) {
        var dist_min = math_abs(my_region_value - d3.min(highlight_selection, function (d) {
          return d.ratio;
        }));
        var dist_max = math_abs(d3.max(highlight_selection, function (d) {
          return d.ratio;
        }) - my_region_value);
        var dist_axis = Math.max(dist_min, dist_max);
        var margin_min_max = math_round(dist_axis) / 8;
        _min = my_region_value - dist_axis - margin_min_max;
        _max = my_region_value + dist_axis + margin_min_max;
        if (_min > _max) {
          console.log('a');var _ref = [_max, _min];
          _min = _ref[0];
          _max = _ref[1];
        }
      } else {
        var _dist_min = math_abs(my_region_value - d3.min(data, function (d) {
          return d[ratio_to_use];
        }));
        var _dist_max = math_abs(d3.max(data, function (d) {
          return d[ratio_to_use];
        }) - my_region_value);
        var _dist_axis = Math.max(_dist_min, _dist_max);
        var _margin_min_max = math_round(_dist_axis) / 8;
        _min = my_region_value - _dist_axis - _margin_min_max;
        _max = my_region_value + _dist_axis + _margin_min_max;
      }

      this.highlight_selection.forEach(function (elem) {
        app.colors[elem.id] = comp(elem.ratio, my_region_value, _this2.serie_inversed);
      });

      app.colors[app.current_config.my_region] = color_highlight;
      var prop_sizer = new PropSizer(d3.max(data, function (d) {
        return d[stock_to_use];
      }), 30);
      var xScale = d3.scaleLinear().domain([_min, _max]).range([0, width$1]);

      this.draw_group.select('g.axis--x').transition().duration(225).call(d3.axisBottom(xScale));

      var bubbles = this.draw_group.selectAll('.bubble').data(data, function (d) {
        return d.id;
      });

      bubbles.transition().duration(225).attrs(function (d) {
        var x_value = xScale(d[ratio_to_use]);
        if (x_value > width$1) x_value = width$1 + 200;else if (x_value < 0) x_value = -200;
        return {
          cx: x_value,
          cy: height$1 / 2,
          r: prop_sizer.scale(d[stock_to_use])
        };
      }).styles(function (d) {
        return {
          fill: app.colors[d.id] || color_countries,
          'fill-opacity': 0.7
        };
      });

      bubbles.enter().insert('circle').styles(function (d) {
        return {
          fill: app.colors[d.id] || color_countries,
          'fill-opacity': 0.7
        };
      }).transition().duration(225).attrs(function (d) {
        var x_value = xScale(d[ratio_to_use]);
        if (x_value > width$1) x_value = width$1 + 200;else if (x_value < 0) x_value = -200;
        return {
          class: 'bubble',
          cx: x_value,
          cy: height$1 / 2,
          r: prop_sizer.scale(d[stock_to_use])
        };
      });

      bubbles.exit().transition().duration(225).remove();

      this.draw_group.selectAll('.bubble').on('mouseover', function () {
        svg_bar$1.select('.tooltip').style('display', null);
      }).on('mouseout', function () {
        svg_bar$1.select('.tooltip').style('display', 'none');
      }).on('mousemove', function (d) {
        var tooltip = svg_bar$1.select('.tooltip');
        var _ratio_to_use = self.ratio_to_use;
        var _stock_to_use = self.stock_to_use;
        tooltip.select('text.id_feature').text('' + d.id);
        tooltip.select('text.value_feature1').text('Ratio: ' + Math.round(d[_ratio_to_use] * 10) / 10);
        tooltip.select('text.value_feature2').text('Stock: ' + Math.round(d[_stock_to_use] * 10) / 10);
        tooltip.attr('transform', 'translate(' + [d3.mouse(this)[0] - 5, d3.mouse(this)[1] - 45] + ')');
      });
    }
  }, {
    key: 'updateCompletude',
    value: function updateCompletude() {
      this.completude_value = calcPopCompletudeSubset(app, [this.ratio_to_use]);

      this.completude.text('Compl\xE9tude : ' + this.completude_value + '%');
    }
  }, {
    key: 'updateMapRegio',
    value: function updateMapRegio() {
      var _this3 = this;

      if (!this.map_elem) return;
      this.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        return _this3.current_ids.indexOf(d.properties[app.current_config.id_field_geom]) > -1 ? app.colors[d.properties[app.current_config.id_field_geom]] || color_countries : color_disabled;
      });
    }

    // handle_brush_map(event) {
    //   if (!event || !event.selection) {
    //     this.last_map_selection = undefined;
    //     return;
    //   }
    //   const self = this;
    //   const [topleft, bottomright] = event.selection;
    //   this.last_map_selection = [topleft, bottomright];
    //   const rect = new Rect(topleft, bottomright);
    //   const ratio_to_use = this.ratio_to_use;
    //   app.colors = {};
    //   self.highlight_selection = [];
    //   self.map_elem.target_layer.selectAll('path')
    //     .attr('fill', function (d) {
    //       const id = d.properties[app.current_config.id_field_geom];
    //       if (id === app.current_config.my_region) {
    //         app.colors[id] = color_highlight;
    //         return color_highlight;
    //       } else if (self.current_ids.indexOf(id) < 0) {
    //         return color_disabled;
    //       }
    //       if (!this._pts) {
    //         this._pts = svgPathToCoords(this.getAttribute('d'), app.type_path);
    //       }
    //       const pts = this._pts;
    //       for (let ix = 0, nb_pts = pts.length; ix < nb_pts; ix++) {
    //         if (rect.contains(pts[ix])) {
    //           const value = d.properties[ratio_to_use];
    //           const color = comp(value, self.my_region_value, this.serie_inversed);
    //           app.colors[id] = color;
    //           self.highlight_selection.push({
    //             id,
    //             ratio: value,
    //             dist: math_abs(value - self.my_region_value),
    //           });
    //           return color;
    //         }
    //       }
    //       return color_countries;
    //     });
    //   this.highlight_selection.sort((a, b) => a.dist - b.dist);
    //   self.update();
    // }

  }, {
    key: 'handleClickMap',
    value: function handleClickMap(d, parent) {
      var id = d.properties[app.current_config.id_field_geom];
      if (this.current_ids.indexOf(id) < 0 || id === app.current_config.my_region) return;
      if (app.colors[id] !== undefined) {
        // Remove the clicked feature from the colored selection on the chart:
        var id_to_remove = this.highlight_selection.map(function (ft, i) {
          return ft.id === id ? i : null;
        }).filter(function (ft) {
          return ft;
        })[0];
        this.highlight_selection.splice(id_to_remove, 1);
        // Change its color in the global colors object:
        app.colors[id] = undefined;
        // Change the color on the map:
        d3.select(parent).attr('fill', color_countries);
      } else {
        var value = d.properties[this.ratio_to_use];
        var color = comp(value, this.my_region_value, this.serie_inversed);
        // app.colors[id] = color;
        // Change the color on the map:
        d3.select(parent).attr('fill', color);
        // Add the clicked feature on the colored selection on the chart:
        this.highlight_selection.push({
          id: id,
          ratio: value,
          dist: math_abs(value - this.my_region_value)
        });
      }
      this.highlight_selection.sort(function (a, b) {
        return a.dist - b.dist;
      });
      this.update();
    }
  }, {
    key: 'updateChangeRegion',
    value: function updateChangeRegion() {
      if (app.current_config.filter_key !== undefined) {
        this.changeStudyZone();
      } else {
        this.map_elem.removeRectBrush();
        this.map_elem.updateLegend();
        this.my_region_value = this.data.filter(function (d) {
          return d.id === app.current_config.my_region;
        })[0][this.ratio_to_use];
        this.updateTableStats();
        this.applySelection(this.highlight_selection.length);
      }
    }
  }, {
    key: 'changeStudyZone',
    value: function changeStudyZone() {
      var _this4 = this;

      this.map_elem.removeRectBrush();
      this.map_elem.updateLegend();
      this.data = app.current_data.filter(function (ft) {
        return !!ft[_this4.ratio_to_use];
      }).slice();
      this.data.forEach(function (ft) {
        // eslint-disable-next-line no-param-reassign
        ft.dist = math_abs(ft[_this4.ratio_to_use] - _this4.my_region_value);
      });
      this.data.sort(function (a, b) {
        return b.dist - a.dist;
      });
      this.current_ids = this.data.map(function (d) {
        return d.id;
      });
      this.my_region_value = this.data.filter(function (d) {
        return d.id === app.current_config.my_region;
      })[0][this.ratio_to_use];
      var temp = this.highlight_selection.length;
      this.highlight_selection = [];
      this.applySelection(temp);
    }
  }, {
    key: 'changeVariable',
    value: function changeVariable(code_variable) {
      this.ratio_to_use = code_variable;
      this.stock_to_use = exports.variables_info.filter(function (d) {
        return d.ratio === code_variable;
      })[0].num;
    }
  }, {
    key: 'addVariable',
    value: function addVariable$$1(code_variable, name_variable) {
      // Add the variable to the input element allowing to choose variables:
      this.selec_var.append('option').attr('value', code_variable).text(name_variable);

      // And use it immediatly:
      this.selec_var.node().value = code_variable;
      this.selec_var.dispatch('change');
    }
  }, {
    key: 'removeVariable',
    value: function removeVariable$$1(code_variable) {
      // Add the variable to the input element allowing to choose variables:
      this.selec_var.select('option[value=' + code_variable + ']').remove();
      if (this.ratio_to_use === code_variable) {
        this.selec_var.node().value = this.selec_var.select('option').node().value;
        this.selec_var.dispatch('change');
      }
    }
  }, {
    key: 'bindMenu',
    value: function bindMenu() {
      var self = this;
      var menu = d3.select('#menu_selection');
      var applychange = function applychange() {
        // self.map_elem.removeRectBrush();
        var value = +this.value;
        if (!(value > -1)) {
          this.value = 5;
          value = 5;
        }
        self.applySelection(value);
      };
      menu.select('.nb_select').on('change', applychange);
      menu.select('.nb_select').on('wheel', applychange);
      menu.select('.nb_select').on('keyup', applychange);
    }
  }, {
    key: 'remove',
    value: function remove() {
      this.map_elem.unbindBrush();
      this.map_elem = null;
      this.table_stats.remove();
      this.table_stats = null;
      this.selec_var.remove();
      svg_bar$1.html('');
    }
  }, {
    key: 'bindMap',
    value: function bindMap(map_elem) {
      this.map_elem = map_elem;
      this.map_elem.resetColors(this.current_ids);
      d3.select('#menu_selection').select('.nb_select').dispatch('change');
    }
  }, {
    key: 'updateTableStats',
    value: function updateTableStats() {
      this.table_stats.removeAll();
      this.table_stats.addFeature(this.prepareTableStat());
    }
  }, {
    key: 'prepareTableStat',
    value: function prepareTableStat() {
      var _this5 = this;

      var values = this.data.map(function (d) {
        return d[_this5.ratio_to_use];
      });
      return {
        Min: d3.min(values),
        Max: d3.max(values),
        Moyenne: d3.mean(values),
        id: this.ratio_to_use,
        Variable: this.ratio_to_use,
        'Ma région': this.my_region_value
      };
    }
  }, {
    key: 'makeTableStat',
    value: function makeTableStat() {
      var feature = this.prepareTableStat();
      this.table_stats = new TableResumeStat([feature]);
    }
  }]);
  return BubbleChart1;
}();

var contextMenu = function () {
  function contextMenu(items) {
    classCallCheck(this, contextMenu);

    if (items) {
      this.setItems(items);
    } else {
      this.items = [];
    }
  }

  createClass(contextMenu, [{
    key: 'addItem',
    value: function addItem(item) {
      this.items.push({
        name: item.name,
        action: item.action
      });
    }
  }, {
    key: 'removeItem',
    value: function removeItem(name) {
      for (var i = this.items.length - 1; i > 0; i--) {
        if (this.items[i].name === name) {
          this.items.splice(i, 1);
          break;
        }
      }
    }
  }, {
    key: 'setItems',
    value: function setItems(items) {
      this.items = [];
      for (var i = 0, nb_items = items.length; i < nb_items; i++) {
        if (items[i].name && items[i].action) {
          this.addItem(items[i]);
        }
      }
    }
  }, {
    key: 'showMenu',
    value: function showMenu(event, parent, items, position) {
      var _this = this;

      if (event.preventDefault) event.preventDefault();
      if (event.stopPropagation) event.stopPropagation();
      if (this.DOMobj) {
        this.hideMenu();
        return;
      }
      if (items) {
        this.setItems(items);
      }

      this.initMenu(parent);
      if (!position) {
        this.DOMobj.style.top = event.clientY + document.body.scrollTop + 'px';
        this.DOMobj.style.left = event.clientX + 'px';
      } else {
        this.DOMobj.style.top = position[1] + 'px';
        this.DOMobj.style.left = position[0] + 'px';
      }
      this.displayed = true;
      setTimeout(function () {
        document.addEventListener('click', function () {
          return _this.hideMenu();
        });
      }, 150);
    }
  }, {
    key: 'hideMenu',
    value: function hideMenu() {
      if (this.DOMobj && this.DOMobj.parentElement && this.DOMobj.parentElement.removeChild) {
        this.DOMobj.parentElement.removeChild(this.DOMobj);
        this.DOMobj = null;
      }
      this.displayed = false;
      document.removeEventListener('click', this.hideMenu);
    }
  }, {
    key: 'initMenu',
    value: function initMenu(parent) {
      if (this.DOMobj && this.DOMobj.parentElement && this.DOMobj.parentElement.removeChild) {
        this.DOMobj.parentElement.removeChild(this.DOMobj);
        this.DOMobj = null;
      }
      var self = this;
      var menu = document.createElement('div');
      var list = document.createElement('ul');
      menu.className = 'context-menu';
      menu.appendChild(list);
      for (var i = 0, nb_item = this.items.length; i < nb_item; i++) {
        var item = document.createElement('li');
        item.setAttribute('data-index', i);
        item.innerHTML = '<span class="context-menu-item-name">' + this.items[i].name + '</span>';
        list.appendChild(item);
        item.onclick = function () {
          var ix = this.getAttribute('data-index');
          self.items[ix].action();
        };
      }
      this.DOMobj = menu;
      parent.appendChild(menu);
    }
  }]);
  return contextMenu;
}();

var svg_bar$2 = d3.select('#svg_bar');
var margin$2 = { top: 20, right: 20, bottom: 40, left: 40 };

var width$2 = +svg_bar$2.attr('width') - margin$2.left - margin$2.right;
var height$2 = +svg_bar$2.attr('height') - margin$2.top - margin$2.bottom;

/** Class representing a scatterplot */
var ScatterPlot2 = function () {
  /**
   * Create a the scatterplot on the `svg_bar` svg element previously defined
   * @param {Array} ref_data - A reference to the subset of the dataset to be used
   * to create the scatterplot (should contain at least two field flagged as ratio
   * in the `app.current_config.ratio` Object.
   */
  function ScatterPlot2(ref_data) {
    var _this = this;

    classCallCheck(this, ScatterPlot2);

    this.brushed = function () {
      if (d3.event && !d3.event.selection) {
        if (d3.event.type === 'end' && d3.event.sourceEvent.type === 'mouseup') {
          _this.map_elem.removeRectBrush();
        }
        app.colors = {};
        app.colors[app.current_config.my_region] = color_highlight;
        _this.update();
        _this.updateMapRegio();
        return;
      }

      resetColors();
      var self = _this;

      var _d3$event$selection = slicedToArray(d3.event.selection, 2),
          topleft = _d3$event$selection[0],
          bottomright = _d3$event$selection[1];

      var range_x = [_this.x.invert(topleft[0]), _this.x.invert(bottomright[0])];
      var range_y = [_this.y.invert(bottomright[1]), _this.y.invert(topleft[1])];
      var t1 = _this.rank_variable1;
      var t2 = _this.rank_variable2;
      _this.data.filter(function (ft) {
        return ft[t1] > range_x[0] && ft[t1] < range_x[1] && ft[t2] > range_y[0] && ft[t2] < range_y[1];
      }).forEach(function (ft) {
        app.colors[ft.id] = comp2(ft[_this.variable1], ft[_this.variable2], self.ref_value1, self.ref_value2, self.xInversed, self.yInversed);
      });
      app.colors[app.current_config.my_region] = color_highlight;
      _this.update();
      _this.updateMapRegio();
      _this.map_elem.removeRectBrush();
    };
    app.current_config.nb_var = 2;
    var self = this;
    this.variable1 = app.current_config.ratio[0];
    this.variable2 = app.current_config.ratio[1];
    this.rank_variable1 = 'pr_' + this.variable1;
    this.rank_variable2 = 'pr_' + this.variable2;
    this.pretty_name1 = app.current_config.ratio_pretty_name[0];
    this.pretty_name2 = app.current_config.ratio_pretty_name[1];
    this.data = ref_data.filter(function (ft) {
      return !!ft[_this.variable1] && !!ft[_this.variable2];
    }).map(function (d) {
      var res = { id: d.id };
      res[_this.variable1] = d[_this.variable1];
      res[_this.variable2] = d[_this.variable2];
      return res;
    });
    this.current_ids = this.data.map(function (d) {
      return d.id;
    });
    resetColors(this.current_ids);
    this.nbFt = this.data.length;
    computePercentileRank(this.data, this.variable1, this.rank_variable1);
    computePercentileRank(this.data, this.variable2, this.rank_variable2);

    this.x = d3.scaleLinear().range([0, width$2]).nice();
    this.y = d3.scaleLinear().range([height$2, 0]).nice();
    this.xAxis = d3.axisBottom(this.x).ticks(12);
    this.yAxis = d3.axisLeft(this.y).ticks(12 * height$2 / width$2);
    this.xAxis2 = d3.axisBottom(this.x).ticks(12);
    this.yAxis2 = d3.axisLeft(this.y).ticks(12 * height$2 / width$2);

    this.brush = d3.brush().extent([[0, 0], [width$2, height$2]]).on("brush end", this.brushed);

    this.xInversed = false;
    this.yInversed = false;
    this.ref_value1 = this.data.find(function (d) {
      return d.id === app.current_config.my_region;
    })[this.variable1];
    this.ref_value2 = this.data.find(function (d) {
      return d.id === app.current_config.my_region;
    })[this.variable2];

    this.plot = svg_bar$2.append('g').attr('transform', 'translate(' + [margin$2.left, margin$2.top] + ')');

    this.plot.append('defs').append('svg:clipPath').attr('id', 'clip').append('svg:rect').attrs({
      width: width$2,
      height: height$2,
      x: 0,
      y: 0
    });

    this.scatter = this.plot.append('g').attr('id', 'scatterplot').attr('clip-path', 'url(#clip)');

    this.x.domain(d3.extent(this.data, function (d) {
      return d[_this.rank_variable1];
    })).nice();
    this.y.domain(d3.extent(this.data, function (d) {
      return d[_this.rank_variable2];
    })).nice();
    this.mean_variable1 = _getPR(d3.mean(this.data.map(function (d) {
      return d[_this.variable1];
    })), this.data.map(function (d) {
      return d[_this.variable1];
    }));
    this.mean_variable2 = _getPR(d3.mean(this.data.map(function (d) {
      return d[_this.variable2];
    })), this.data.map(function (d) {
      return d[_this.variable2];
    }));

    this.makeGrid();

    var groupe_line_mean = this.plot.append('g').attr('clip-path', 'url(#clip)').attr('class', 'mean');
    groupe_line_mean.append('line').attr('clip-path', 'url(#clip)').attrs({
      id: 'mean_x',
      x1: this.x(this.mean_variable1),
      x2: this.x(this.mean_variable1),
      y1: 0,
      y2: width$2,
      'stroke-dasharray': '10, 5',
      'stroke-width': '2px'
    }).style('stroke', 'red');
    groupe_line_mean.append('line').style('stroke', 'red').attrs({
      id: 'mean_y',
      x1: 0,
      x2: width$2,
      y1: this.y(this.mean_variable2),
      y2: this.y(this.mean_variable2),
      'clip-path': 'url(#clip)',
      'stroke-dasharray': '10, 5',
      'stroke-width': '2px'
    });

    this.plot.append('g').attrs({
      class: 'x axis', id: 'axis--x', transform: 'translate(0, ' + height$2 + ')'
    }).call(this.xAxis);

    this.plot.append('g').attrs({ class: 'y axis', id: 'axis--y', opacity: 0.9 }).call(this.yAxis);

    this.prepareTitleAxis();

    svg_bar$2.append('image').attrs({
      x: margin$2.left + width$2 / 2 - 20 - svg_bar$2.select('#title-axis-x').node().getBoundingClientRect().width / 2,
      y: margin$2.top + height$2 + margin$2.bottom / 2 - 2.5,
      width: 15,
      height: 15,
      'xlink:href': 'img/reverse_plus.png',
      id: 'img_reverse_x'
    }).on('click', function () {
      _this.xInversed = !_this.xInversed;
      for (var i = 0; i < _this.nbFt; i++) {
        self.data[i][self.rank_variable1] = 100 - self.data[i][self.rank_variable1];
      }
      if (_this.last_map_selection) {
        _this.map_elem.callBrush(_this.last_map_selection);
      } else {
        _this.update();
      }
    });

    svg_bar$2.append('image').attrs({
      x: margin$2.left / 2 - 20,
      y: margin$2.top + height$2 / 2 + svg_bar$2.select('#title-axis-y').node().getBoundingClientRect().height / 2 + 5,
      width: 15,
      height: 15,
      'xlink:href': 'img/reverse_plus.png',
      id: 'img_reverse_y'
    }).on('click', function () {
      _this.yInversed = !_this.yInversed;
      for (var i = 0; i < _this.nbFt; i++) {
        _this.data[i][_this.rank_variable2] = 100 - _this.data[i][_this.rank_variable2];
      }
      if (_this.last_map_selection) {
        _this.map_elem.callBrush(_this.last_map_selection);
      } else {
        _this.update();
      }
    });

    // Prepare the tooltip displayed on mouseover:
    prepareTooltip(svg_bar$2);

    // Compute the "complétude" value for this ratio:
    this.completude_value = calcPopCompletudeSubset(app, [this.variable1, this.variable2]);

    // Create the "complétude" text:
    this.completude = svg_bar$2.append('text').attrs({ id: 'chart_completude', x: 60, y: 40 }).styles({ 'font-family': '\'Signika\', sans-serif' }).text('Compl\xE9tude : ' + this.completude_value + '%');

    this.plot.append("g").attr("class", "brush").call(this.brush);

    // Deactivate the rect brush selection on the map
    // while the user press the Ctrl key:
    document.onkeydown = function (event) {
      if (event && event.key === 'Control') {
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', 'none');
      }
    };
    // Reactivate the rect brush selection on the map
    // when the user doesn't press the Ctrl key anymore
    document.onkeyup = function (event) {
      if (event && event.key === 'Control') {
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', null);
      }
    };
    // this.update();
    this.makeTableStat();
  }

  /**
   * Create the underlying grey grid
   */


  createClass(ScatterPlot2, [{
    key: 'makeGrid',
    value: function makeGrid() {
      this.plot.insert('g', '#scatterplot').attrs({
        class: 'grid grid-x', transform: 'translate(0, ' + height$2 + ')'
      }).call(this.xAxis2.tickSize(-height$2).tickFormat(''));
      this.plot.insert('g', '#scatterplot').attr('class', 'grid grid-y').call(this.yAxis2.tickSize(-width$2).tickFormat(''));
      this.plot.selectAll('.grid').selectAll('line').attr('stroke', 'lightgray');
    }

    /**
     * Create the title of the X and Y axis with the associated context menu
     * displayed when they are clicked and allowing to select an other variable
     * for this axis.
     */

  }, {
    key: 'prepareTitleAxis',
    value: function prepareTitleAxis() {
      var _this2 = this;

      var self = this;
      this.menuX = new contextMenu();
      this.menuY = new contextMenu();
      this.itemsX = app.current_config.ratio.filter(function (elem) {
        return elem !== _this2.variable2;
      }).map(function (elem) {
        return {
          name: elem,
          action: function action() {
            return _this2.changeVariableX(elem);
          }
        };
      });
      this.itemsY = app.current_config.ratio.filter(function (elem) {
        return elem !== _this2.variable1;
      }).map(function (elem) {
        return {
          name: elem,
          action: function action() {
            return _this2.changeVariableY(elem);
          }
        };
      });

      svg_bar$2.append('text').attrs({
        id: 'title-axis-x',
        x: margin$2.left + width$2 / 2,
        y: margin$2.top + height$2 + margin$2.bottom / 2 + 10
      }).styles({ 'font-family': 'sans-serif', 'font-size': '12px', 'text-anchor': 'middle' }).text(this.variable1).on('click', function () {
        var bbox = this.getBoundingClientRect();
        if (self.menuY.displayed) {
          self.menuY.hideMenu();
        }
        self.menuX.showMenu(d3.event, document.body, self.itemsX, [bbox.left - 20, bbox.top + 20]);
      });

      svg_bar$2.append('text').attrs({
        id: 'title-axis-y',
        x: margin$2.left / 2,
        y: margin$2.top + height$2 / 2 - 10,
        transform: 'rotate(-90, ' + margin$2.left / 2 + ', ' + (margin$2.top + height$2 / 2) + ')'
      }).styles({ 'font-family': 'sans-serif', 'font-size': '12px', 'text-anchor': 'middle' }).text(this.variable2).on('click', function () {
        var bbox = this.getBoundingClientRect();
        if (self.menuX.displayed) {
          self.menuX.hideMenu();
        }
        self.menuY.showMenu(d3.event, document.body, self.itemsY, [bbox.left, bbox.bottom + 10]);
      });
    }
  }, {
    key: 'update',
    value: function update() {
      var self = this;
      var data = self.data;
      var rank_variable1 = this.rank_variable1;
      var rank_variable2 = this.rank_variable2;
      var x = this.x;
      var y = this.y;
      var default_color = 'gray';
      var dots = this.scatter.selectAll('.dot').data(data, function (d) {
        return d.id;
      });

      dots.transition().duration(225).attrs(function (d) {
        return {
          r: 5,
          cx: x(d[rank_variable1]),
          cy: y(d[rank_variable2])
        };
      }).styles(function (d) {
        return {
          fill: app.colors[d.id] || default_color
        };
      });

      dots.enter().insert('circle').styles(function (d) {
        return {
          fill: app.colors[d.id] || default_color
        };
      }).transition().duration(225).attrs(function (d) {
        return {
          r: 5,
          cx: x(d[rank_variable1]),
          cy: y(d[rank_variable2]),
          class: 'dot'
        };
      });

      dots.exit().transition().duration(225).remove();

      dots.on('mouseover', function () {
        svg_bar$2.select('.tooltip').style('display', null);
      }).on('mouseout', function () {
        svg_bar$2.select('.tooltip').style('display', 'none');
      }).on('mousemove', function (d) {
        var tooltip = svg_bar$2.select('.tooltip');
        var _var1 = self.variable1;
        var _var2 = self.variable2;
        tooltip.select('text.id_feature').text('' + d.id);
        tooltip.select('text.value_feature1').text('Variable 1 : ' + Math.round(d[_var1] * 10) / 10);
        tooltip.select('text.value_feature2').text('Variable 2 : ' + Math.round(d[_var2] * 10) / 10);
        tooltip.attr('transform', 'translate(' + [d3.mouse(this)[0] - 5, d3.mouse(this)[1] - 45] + ')');
      });
    }
  }, {
    key: 'updateCompletude',
    value: function updateCompletude() {
      this.completude_value = calcPopCompletudeSubset(app, [this.variable1, this.variable2]);

      this.completude.text('Compl\xE9tude : ' + this.completude_value + '%');
    }
  }, {
    key: 'updateMapRegio',
    value: function updateMapRegio() {
      var _this3 = this;

      if (!this.map_elem) return;
      this.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        return _this3.current_ids.indexOf(d.properties[app.current_config.id_field_geom]) > -1 ? app.colors[d.properties[app.current_config.id_field_geom]] || color_countries : color_disabled;
      });
    }
  }, {
    key: 'handle_brush_map',
    value: function handle_brush_map(event) {
      if (!event || !event.selection) {
        this.last_map_selection = undefined;
        return;
      }
      svg_bar$2.select('.brush').call(this.brush.move, null);
      var self = this;

      var _event$selection = slicedToArray(event.selection, 2),
          topleft = _event$selection[0],
          bottomright = _event$selection[1];

      this.last_map_selection = [topleft, bottomright];
      var rect = new Rect(topleft, bottomright);
      app.colors = {};
      self.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        var id = d.properties[app.current_config.id_field_geom];
        if (id === app.current_config.my_region) {
          app.colors[id] = color_highlight;
          return color_highlight;
        } else if (self.current_ids.indexOf(id) < 0) {
          return color_disabled;
        }
        if (!this._pts) {
          this._pts = svgPathToCoords(this.getAttribute('d'), app.type_path);
        }
        var pts = this._pts;
        for (var ix = 0, nb_pts = pts.length; ix < nb_pts; ix++) {
          if (rect.contains(pts[ix])) {
            var value1 = d.properties[self.variable1];
            var value2 = d.properties[self.variable2];
            var color = comp2(value1, value2, self.ref_value1, self.ref_value2, self.xInversed, self.yInversed);
            app.colors[id] = color;
            return color;
          }
        }
        return color_countries;
      });
      self.update();
    }
  }, {
    key: 'handleClickMap',
    value: function handleClickMap(d, parent) {
      var id = d.properties[app.current_config.id_field_geom];
      if (this.current_ids.indexOf(id) < 0 || id === app.current_config.my_region) return;
      if (app.colors[id] !== undefined) {
        // Change its color in the global colors object:
        app.colors[id] = undefined;
        // Change the color on the map:
        d3.select(parent).attr('fill', color_countries);
      } else {
        var value1 = d.properties[this.variable1];
        var value2 = d.properties[this.variable2];
        var color = comp2(value1, value2, this.ref_value1, this.ref_value2, this.xInversed, this.yInversed);
        app.colors[id] = color;
        // Change the color on the map:
        d3.select(parent).attr('fill', color);
        // Add the clicked feature on the colored selection on the chart:
      }
      this.update();
    }
  }, {
    key: 'updateMeanValue',
    value: function updateMeanValue() {
      var _this4 = this;

      this.mean_variable1 = _getPR(d3.mean(this.data.map(function (d) {
        return d[_this4.variable1];
      })), this.data.map(function (d) {
        return d[_this4.variable1];
      }));
      this.mean_variable2 = _getPR(d3.mean(this.data.map(function (d) {
        return d[_this4.variable2];
      })), this.data.map(function (d) {
        return d[_this4.variable2];
      }));
      var grp_mean = this.plot.select('g.mean');
      grp_mean.select('#mean_x').transition().duration(225).attrs({
        x1: this.x(this.mean_variable1),
        x2: this.x(this.mean_variable1)
      });
      grp_mean.select('#mean_y').transition().duration(225).attrs({
        y1: this.y(this.mean_variable2),
        y2: this.y(this.mean_variable2)
      });
    }
  }, {
    key: 'updateChangeRegion',
    value: function updateChangeRegion() {
      if (app.current_config.filter_key !== undefined) {
        this.changeStudyZone();
      } else {
        this.ref_value1 = this.data.find(function (d) {
          return d.id === app.current_config.my_region;
        })[this.variable1];
        this.ref_value2 = this.data.find(function (d) {
          return d.id === app.current_config.my_region;
        })[this.variable2];
        this.map_elem.removeRectBrush();
        this.map_elem.updateLegend();
        this.map_elem.resetColors(this.current_ids);
        this.update();
      }
    }
  }, {
    key: 'changeStudyZone',
    value: function changeStudyZone() {
      var _this5 = this;

      this.data = app.current_data.filter(function (ft) {
        return !!ft[_this5.variable1] && !!ft[_this5.variable2];
      }).map(function (d) {
        var res = { id: d.id };
        res[_this5.variable1] = d[_this5.variable1];
        res[_this5.variable2] = d[_this5.variable2];
        return res;
      });
      this.current_ids = this.data.map(function (d) {
        return d.id;
      });
      resetColors();
      this.nbFt = this.data.length;
      computePercentileRank(this.data, this.variable1, this.rank_variable1);
      computePercentileRank(this.data, this.variable2, this.rank_variable2);

      this.xInversed = false;
      this.yInversed = false;
      var tmp_my_region = this.data.filter(function (d) {
        return d.id === app.current_config.my_region;
      })[0];
      this.ref_value1 = tmp_my_region[this.variable1];
      this.ref_value2 = tmp_my_region[this.variable2];

      this.x.domain(d3.extent(this.data, function (d) {
        return d[_this5.rank_variable1];
      })).nice();
      this.y.domain(d3.extent(this.data, function (d) {
        return d[_this5.rank_variable2];
      })).nice();
      this.map_elem.removeRectBrush();
      this.updateItemsCtxMenu();
      this.updateMeanValue();
      this.updateMapRegio();
      this.updateTableStat();
      this.update();
    }
  }, {
    key: 'changeVariableX',
    value: function changeVariableX(code_variable) {
      var _this6 = this;

      this.variable1 = code_variable;
      this.rank_variable1 = 'pr_' + this.variable1;
      this.pretty_name1 = exports.variables_info.find(function (ft) {
        return ft.ratio === code_variable;
      }).name;
      svg_bar$2.select('#title-axis-x').text(code_variable);
      // TODO: Also change the position of the button alowing to inverse the serie
      this.updateItemsCtxMenu();
      this.data = app.current_data.filter(function (ft) {
        return !!ft[_this6.variable1] && !!ft[_this6.variable2];
      }).map(function (d) {
        var res = { id: d.id };
        res[_this6.variable1] = d[_this6.variable1];
        res[_this6.variable2] = d[_this6.variable2];
        return res;
      });
      this.current_ids = this.data.map(function (d) {
        return d.id;
      });
      resetColors();
      this.nbFt = this.data.length;
      computePercentileRank(this.data, this.variable1, this.rank_variable1);
      computePercentileRank(this.data, this.variable2, this.rank_variable2);
      this.ref_value1 = this.data.find(function (d) {
        return d.id === app.current_config.my_region;
      })[this.variable1];
      this.x.domain(d3.extent(this.data, function (d) {
        return d[_this6.rank_variable1];
      })).nice();
      // this.y.domain(d3.extent(this.data, d => d[this.rank_variable2])).nice();
      this.updateMeanValue();
      this.updateMapRegio();
      this.updateTableStat();
      this.update();
    }
  }, {
    key: 'changeVariableY',
    value: function changeVariableY(code_variable) {
      var _this7 = this;

      this.variable2 = code_variable;
      this.rank_variable2 = 'pr_' + this.variable2;
      this.pretty_name2 = exports.variables_info.find(function (ft) {
        return ft.ratio === code_variable;
      }).name;
      svg_bar$2.select('#title-axis-y').text(code_variable);
      // TODO: Also change the position of the button alowing to inverse the serie
      this.updateItemsCtxMenu();
      this.data = app.current_data.filter(function (ft) {
        return !!ft[_this7.variable1] && !!ft[_this7.variable2];
      }).map(function (d) {
        var res = { id: d.id };
        res[_this7.variable1] = d[_this7.variable1];
        res[_this7.variable2] = d[_this7.variable2];
        return res;
      });
      this.current_ids = this.data.map(function (d) {
        return d.id;
      });
      resetColors();
      this.nbFt = this.data.length;
      computePercentileRank(this.data, this.variable1, this.rank_variable1);
      computePercentileRank(this.data, this.variable2, this.rank_variable2);
      this.ref_value2 = this.data.find(function (d) {
        return d.id === app.current_config.my_region;
      })[this.variable2];
      // this.x.domain(d3.extent(this.data, d => d[this.rank_variable1])).nice();
      this.y.domain(d3.extent(this.data, function (d) {
        return d[_this7.rank_variable2];
      })).nice();
      this.updateMeanValue();
      this.updateMapRegio();
      this.updateTableStat();
      this.update();
    }
  }, {
    key: 'updateItemsCtxMenu',
    value: function updateItemsCtxMenu() {
      var _this8 = this;

      this.itemsX = app.current_config.ratio.filter(function (elem) {
        return elem !== _this8.variable2;
      }).map(function (elem) {
        return {
          name: elem,
          action: function action() {
            return _this8.changeVariableX(elem);
          }
        };
      });
      this.itemsY = app.current_config.ratio.filter(function (elem) {
        return elem !== _this8.variable1;
      }).map(function (elem) {
        return {
          name: elem,
          action: function action() {
            return _this8.changeVariableY(elem);
          }
        };
      });
    }
  }, {
    key: 'addVariable',
    value: function addVariable$$1(code_variable, name_variable) {
      var _this9 = this;

      this.itemsX.push({
        name: code_variable,
        action: function action() {
          return _this9.changeVariableX(code_variable);
        }
      });
      this.itemsY.push({
        name: code_variable,
        action: function action() {
          return _this9.changeVariableY(code_variable);
        }
      });
    }
  }, {
    key: 'removeVariable',
    value: function removeVariable$$1(code_variable) {
      var _this10 = this;

      // Remove the variable from the X and Y list of items:
      for (var i = this.itemsX.length - 1; i > -1; i--) {
        if (this.itemsX[i].name === code_variable) {
          this.itemsX.splice(i, 1);
          break;
        }
      }
      for (var _i = this.itemsY.length - 1; _i > -1; _i--) {
        if (this.itemsY[_i].name === code_variable) {
          this.itemsY.splice(_i, 1);
          break;
        }
      }

      // If the variable to remove was currently used for drawing this chart,
      // set a new variable for this axis and redraw the chart:
      if (code_variable === this.variable1) {
        var new_var_x = this.itemsX.filter(function (ft) {
          return ft.name !== _this10.variable2;
        })[0].name;
        this.changeVariableX(new_var_x);
      } else if (code_variable === this.variable2) {
        var new_var_y = this.itemsY.filter(function (ft) {
          return ft.name !== _this10.variable1;
        })[0].name;
        this.changeVariableY(new_var_y);
      }
    }
  }, {
    key: 'remove',
    value: function remove() {
      this.table_stats.remove();
      this.map_elem.unbindBrush();
      this.map_elem = null;
      svg_bar$2.html('');
    }
  }, {
    key: 'bindMap',
    value: function bindMap(map_elem) {
      this.map_elem = map_elem;
      this.updateMapRegio();
      this.update();
    }
  }, {
    key: 'prepareTableStat',
    value: function prepareTableStat() {
      var _this11 = this;

      var values1 = this.data.map(function (d) {
        return d[_this11.variable1];
      });
      var values2 = this.data.map(function (d) {
        return d[_this11.variable2];
      });
      var features = [{
        Min: d3.min(values1),
        Max: d3.max(values1),
        Moyenne: d3.mean(values1),
        id: this.variable1,
        Variable: this.variable1,
        'Ma région': this.ref_value1
      }, {
        Min: d3.min(values2),
        Max: d3.max(values2),
        Moyenne: d3.mean(values2),
        id: this.variable2,
        Variable: this.variable2,
        'Ma région': this.ref_value2
      }];
      return features;
    }
  }, {
    key: 'updateTableStat',
    value: function updateTableStat() {
      this.table_stats.removeAll();
      this.table_stats.addFeatures(this.prepareTableStat());
    }
  }, {
    key: 'makeTableStat',
    value: function makeTableStat() {
      var features = this.prepareTableStat();
      this.table_stats = new TableResumeStat(features);
    }
  }]);
  return ScatterPlot2;
}();

var svg_bar$3 = d3.select('#svg_bar');
var margin$3 = { top: 70, right: 70, bottom: 70, left: 70 };

var width$3 = +svg_bar$3.attr('width') - margin$3.left - margin$3.right;
var height$3 = +svg_bar$3.attr('height') - margin$3.top - margin$3.bottom;

var wrap = function wrap(_text, width) {
  _text.each(function () {
    var text = d3.select(this),
        words = text.text().split(/\s+/).reverse(),
        lineHeight = 1.4,
        // ems
    y = text.attr('y'),
        x = text.attr('x'),
        dy = parseFloat(text.attr('dy'));
    var line = [],
        lineNumber = 0;
    var tspan = text.text(null).append('tspan').attr('x', x).attr('y', y).attr('dy', dy + 'em');
    var word = words.pop();
    while (word) {
      line.push(word);
      tspan.text(line.join(' '));
      if (tspan.node().getComputedTextLength() > width) {
        line.pop();
        tspan.text(line.join(' '));
        line = [word];
        tspan = text.append('tspan').attr('x', x).attr('y', y).attr('dy', ++lineNumber * lineHeight + dy + 'em').text(word);
      }
      word = words.pop();
    }
  });
};

var move = function move(array, from, to) {
  array.splice(to, 0, array.splice(from, 1)[0]);
  return array;
};

var swap = function swap(array, ix1, ix2) {
  // eslint-disable-line no-param-reassign
  var _ref = [array[ix2], array[ix1]];
  array[ix1] = _ref[0];
  array[ix2] = _ref[1];
  return array;
};

var prepare_data_radar_default = function prepare_data_radar_default(data, variables) {
  var features = [];
  // Prepare the data for "My Région":
  var v_my_region = data.find(function (d) {
    return d.id === app.current_config.my_region;
  });
  var ojb_my_region = {
    name: app.current_config.my_region,
    axes: []
  };
  variables.forEach(function (v) {
    var t = exports.variables_info.find(function (d) {
      return d.ratio === v;
    }).name;
    var _v = 'pr_' + v;
    ojb_my_region.axes.push({
      axis: t, value: v_my_region[_v]
    });
  });
  features.push(ojb_my_region);
  var obj_mean = {
    name: 'Moyenne du contexte d\'étude',
    axes: []
  };
  variables.forEach(function (v) {
    var t = exports.variables_info.find(function (d) {
      return d.ratio === v;
    }).name;
    var _v = 'pr_' + v;
    obj_mean.axes.push({
      axis: t,
      value: _getPR(d3.mean(data.map(function (d) {
        return d[_v];
      })), data.map(function (d) {
        return d[_v];
      }))
    });
  });
  features.push(obj_mean);
  return features;
};

var prepare_data_radar_ft = function prepare_data_radar_ft(data, variables, ft) {
  var ft_values = data.find(function (d) {
    return d.id === ft;
  });
  var obj = {
    name: ft,
    axes: []
  };
  variables.forEach(function (v) {
    var t = exports.variables_info.find(function (d) {
      return d.ratio === v;
    }).name;
    var _v = 'pr_' + v;
    obj.axes.push({
      axis: t, value: ft_values[_v]
    });
  });
  return obj;
};

var RadarChart3 = function () {
  function RadarChart3(data, options) {
    var _this = this;

    classCallCheck(this, RadarChart3);

    var cfg = {
      w: width$3, // Width of the circle
      h: height$3, // Height of the circle
      margin: margin$3, // The margins of the SVG
      levels: 10, // How many levels or inner circles should there be drawn
      maxValue: 100, // What is the value that the biggest circle will represent
      labelFactor: 1.3, // How much farther than the radius of the outer circle should the labels be placed
      wrapWidth: 85, // The number of pixels after which a label needs to be given a new line
      opacityArea: 0.35, // The opacity of the area of the blob
      dotRadius: 4, // The size of the colored circles of each blog
      opacityCircles: 0.1, // The opacity of the circles of each blob
      strokeWidth: 2, // The width of the stroke around each blob
      roundStrokes: false, // If true the area and stroke will follow a round path (cardinal-closed)
      color: d3.scaleOrdinal(d3.schemeCategory10), // Color function,
      format: '.2', // The format string to be used by d3.format
      unit: '%', // The unit to display after the number on the axis and point tooltips (like $, €, %, etc)
      legend: false,
      allowInverseData: true
    };
    this.cfg = cfg;
    // Put all of the options into a variable called cfg
    if (typeof options !== 'undefined') {
      for (var i in options) {
        if (typeof options[i] !== 'undefined') {
          cfg[i] = options[i];
        }
      }
    }

    this.g = svg_bar$3.append('g').attr('id', 'RadarGrp').attr('transform', 'translate(' + (cfg.w / 2 + cfg.margin.left) + ',' + (cfg.h / 2 + cfg.margin.top) + ')');

    this.prepareData(data);
    this.drawAxisGrid();
    this.drawArea();
    this.handleLegend();
    // Compute the "complétude" value for these ratios:
    this.completude_value = calcPopCompletudeSubset(app, this.variables);

    // Create the "complétude" text:
    this.completude = svg_bar$3.append('text').attrs({ id: 'chart_completude', x: 60, y: 40 }).styles({ 'font-family': '\'Signika\', sans-serif' }).text('Compl\xE9tude : ' + this.completude_value + '%');

    if (cfg.allowInverseData) {
      this.inverse_data = function (field) {
        var data_length = _this.data.length;
        if (!field) {
          for (var _i = 0; _i < data_length; _i++) {
            var ax = _this.data[_i].axes;
            for (var j = 0; j < ax.length; j++) {
              ax[j].value = 100 - ax[j].value;
            }
          }
        } else {
          for (var _i2 = 0; _i2 < data_length; _i2++) {
            var _ax = _this.data[_i2].axes;
            for (var _j = 0; _j < _ax.length; _j++) {
              if (_ax[_j].axis === field) {
                _ax[_j].value = 100 - _ax[_j].value;
              }
            }
          }
        }
        _this.update();
      };
    }
    this.makeTableStat();
  }

  createClass(RadarChart3, [{
    key: 'add_element',
    value: function add_element(elem) {
      var _this2 = this;

      var n_axis = elem.axes.map(function (i) {
        return i.axis;
      });
      if (!(JSON.stringify(n_axis) === JSON.stringify(this.allAxis))) {
        throw new Error('Expected element with same axes name than existing data.');
      }
      this.data.push(elem);
      this.displayed_ids.push(elem.name);
      for (var j = 0; j < this.data.length; j++) {
        var on_axes = [];
        for (var i = 0; i < this.data[j].axes.length; i++) {
          this.data[j].axes[i].id = this.data[j].name;
          on_axes.push(this.data[j].name);
        }
      }

      var self = this;
      var cfg = this.cfg;
      var n = this.data.length - 1;
      var blobWrapper = this.g.insert('g', '.radarCircleWrapper').attr('id', elem.name.indexOf(' ') > -1 ? 'ctx' : elem.name).attr('class', 'radarWrapper');

      // Append the backgrounds
      blobWrapper.append('path').attr('class', 'radarArea').attr('d', this.radarLine(elem.axes)).style('fill', cfg.color(n)).style('fill-opacity', 0).style('fill-opacity', cfg.opacityArea).on('mouseover', function () {
        // Dim all blobs
        blobWrapper.selectAll('.radarArea').transition().duration(200).style('fill-opacity', 0.1);
        // Bring back the hovered over blob
        d3.select(this).transition().duration(200).style('fill-opacity', 0.7);
      }).on('mouseout', function () {
        // Bring back all blobs
        blobWrapper.selectAll('.radarArea').transition().duration(200).style('fill-opacity', cfg.opacityArea);
      });
      // .on('click', function () {
      //   const p = this.parentElement;
      //   if (p.previousSibling.className !== 'tooltip') {
      //     const group = g.node();
      //     group.insertBefore(p, group.querySelector('.tooltip'));
      //     const new_order = [];
      //     g.selectAll('.radarWrapper').each(d => new_order.push(d.name));
      //     new_order.reverse();
      //     updateLegend(new_order);
      //   }
      // });

      // Create the outlines
      blobWrapper.append('path').attr('class', 'radarStroke').attr('d', this.radarLine(elem.axes)).style('stroke-width', cfg.strokeWidth + 'px').style('stroke', cfg.color(n)).style('fill', 'none').style('filter', 'url(#glow)');

      // Append the circles
      blobWrapper.selectAll('.radarCircle').data(elem.axes).enter().append('circle').attr('class', 'radarCircle').attr('r', cfg.dotRadius).attr('cx', function (d, i) {
        return _this2.rScale(d.value) * math_cos(_this2.angleSlice * i - HALF_PI);
      }).attr('cy', function (d, i) {
        return _this2.rScale(d.value) * math_sin(_this2.angleSlice * i - HALF_PI);
      }).style('fill', function (d) {
        return cfg.color(d.id);
      }).style('fill-opacity', 0.8);

      // ///////////////////////////////////////////////////////
      // ////// Append invisible circles for tooltip ///////////
      // ///////////////////////////////////////////////////////

      // Wrapper for the invisible circles on top
      var blobCircleWrapper = this.g.insert('g', '.tooltip').attr('id', elem.name.indexOf(' ') > -1 ? 'ctx' : elem.name).attr('class', 'radarCircleWrapper');

      // Append a set of invisible circles on top for the mouseover pop-up
      blobCircleWrapper.selectAll('.radarInvisibleCircle').data(elem.axes).enter().append('circle').attr('class', 'radarInvisibleCircle').attr('r', cfg.dotRadius * 1.5).attr('cx', function (d, i) {
        return _this2.rScale(d.value) * math_cos(_this2.angleSlice * i - HALF_PI);
      }).attr('cy', function (d, i) {
        return _this2.rScale(d.value) * math_sin(_this2.angleSlice * i - HALF_PI);
      }).style('fill', 'none').style('pointer-events', 'all').on('mouseover', function (d) {
        self.g.select('.tooltip').attr('x', this.cx.baseVal.value - 10).attr('y', this.cy.baseVal.value - 10).transition().style('display', 'block').text(this.Format(d.value) + cfg.unit);
      }).on('mouseout', function () {
        self.g.select('.tooltip').transition().style('display', 'none').text('');
      });
    }
  }, {
    key: 'changeOrder',
    value: function changeOrder() {
      this.data = this.data.slice(1, this.data.length).concat(this.data.slice(0, 1));
      this.update();
    }
  }, {
    key: 'prepareData',
    value: function prepareData(data) {
      var _this3 = this;

      app.current_config.nb_var = 3;
      this.variables = app.current_config.ratio;
      this.ref_data = data.slice().filter(function (ft) {
        return _this3.variables.map(function (v) {
          return !!ft[v];
        }).every(function (d) {
          return d === true;
        });
      });
      this.rank_variables = this.variables.map(function (d) {
        return 'pr_' + d;
      });
      this.variables.forEach(function (d, i) {
        computePercentileRank(_this3.ref_data, d, _this3.rank_variables[i]);
      });
      this.data = prepare_data_radar_default(this.ref_data, this.variables);
      this.displayed_ids = this.data.map(function (d) {
        return d.name;
      });
      this.current_ids = this.ref_data.map(function (d) {
        return d.id;
      });
      // const ref_ids = [];
      // If the supplied maxValue is smaller than the actual one, replace by the max in the data
      // var maxValue = max(cfg.maxValue, d3.max(data, function(i){return d3.max(i.map(function(o){return o.value;}))}));
      var maxValue = 0;
      for (var j = 0; j < this.data.length; j++) {
        var on_axes = [];
        for (var i = 0; i < this.data[j].axes.length; i++) {
          this.data[j].axes[i].id = this.data[j].name;
          // on_axes.push(this.data[j].name);
          if (this.data[j].axes[i].value > maxValue) {
            maxValue = this.data[j].axes[i].value;
          }
          // ref_ids.push(on_axes);
        }
      }

      this.maxValue = math_max(this.cfg.maxValue, maxValue);
      this.allAxis = this.data[0].axes.map(function (i) {
        return i.axis;
      }); // Names of each axis
      this.total = this.allAxis.length; // The number of different axes
      this.radius = Math.min(this.cfg.w / 2, this.cfg.h / 2); // Radius of the outermost circle
      this.Format = d3.format(this.cfg.format); // Formatting
      this.angleSlice = Math.PI * 2 / this.total; // The width in radians of each "slice"
      // Scale for the radius
      this.rScale = d3.scaleLinear().range([0, this.radius]).domain([0, this.maxValue]);
      // The radial line function
      this.radarLine = d3.radialLine().curve(this.cfg.roundStrokes ? d3.curveCardinalClosed : d3.curveLinearClosed).radius(function (d) {
        return _this3.rScale(d.value);
      }).angle(function (d, i) {
        return i * _this3.angleSlice;
      });
    }
  }, {
    key: 'drawAxisGrid',
    value: function drawAxisGrid() {
      var self = this;
      var cfg = this.cfg;
      var g = this.g;
      var radius = this.radius;
      var Format = this.Format;
      var maxValue = this.maxValue;
      var rScale = this.rScale;
      var angleSlice = this.angleSlice;

      var labelClicked = function labelClicked() {
        var ix = +this.id;
        if (ix + 1 === self.allAxis.length) {
          for (var i = 0; i < self.data.length; i++) {
            swap(self.data[i].axes, ix, 0);
          }
        } else {
          var new_ix = ix + 1;
          for (var _i3 = 0; _i3 < self.data.length; _i3++) {
            move(self.data[_i3].axes, ix, new_ix);
          }
        }
        self.update();
      };

      var labelCtxMenu = function labelCtxMenu(label) {
        d3.event.stopPropagation();
        d3.event.preventDefault();
        var ix = +this.id;
        self.inverse_data(label);
      };

      var axisGrid = g.append('g').attr('class', 'axisWrapper');

      // Draw the background circles
      axisGrid.selectAll('.levels').data(d3.range(1, cfg.levels + 1).reverse()).enter().append('circle').attr('class', 'gridCircle').attr('r', function (d) {
        return radius / cfg.levels * d;
      }).style('fill', '#CDCDCD').style('stroke', '#CDCDCD').style('fill-opacity', cfg.opacityCircles).style('filter', 'url(#glow)');

      // Text indicating at what % each level is
      axisGrid.selectAll('.axisLabel').data(d3.range(1, cfg.levels + 1).reverse()).enter().append('text').attr('class', 'axisLabel').attr('x', 4).attr('y', function (d) {
        return -d * radius / cfg.levels;
      }).attr('dy', '0.4em').style('font-size', '10px').attr('fill', '#737373').text(function (d) {
        return Format(maxValue * d / cfg.levels) + cfg.unit;
      });

      // Create the straight lines radiating outward from the center
      var axis = axisGrid.selectAll('.axis').data(this.allAxis).enter().append('g').attr('class', 'axis');
      // Append the lines
      axis.append('line').attr('x1', 0).attr('y1', 0).attr('x2', function (d, i) {
        return rScale(maxValue * 1.1) * math_cos(angleSlice * i - HALF_PI);
      }).attr('y2', function (d, i) {
        return rScale(maxValue * 1.1) * math_sin(angleSlice * i - HALF_PI);
      }).attr('class', 'line').style('stroke', 'white').style('stroke-width', '2px');

      // Append the labels at each axis
      axis.append('text').attr('class', 'legend').style('font-size', '11px').attr('id', function (d, i) {
        return i;
      }).attr('text-anchor', 'middle').attr('dy', '0.35em').attr('x', function (d, i) {
        return rScale(maxValue * cfg.labelFactor) * math_cos(angleSlice * i - HALF_PI);
      }).attr('y', function (d, i) {
        return rScale(maxValue * cfg.labelFactor) * math_sin(angleSlice * i - HALF_PI);
      }).text(function (d) {
        return d;
      }).on('click', labelClicked).on('contextmenu', cfg.allowInverseData ? labelCtxMenu : null).call(wrap, cfg.wrapWidth);

      // Filter for the outside glow
      var filter = g.append('defs').append('filter').attr('id', 'glow');
      filter.append('feGaussianBlur').attr('stdDeviation', '2.5').attr('result', 'coloredBlur');
      var feMerge = filter.append('feMerge');
      feMerge.append('feMergeNode').attr('in', 'coloredBlur');
      feMerge.append('feMergeNode').attr('in', 'SourceGraphic');

      this.axisGrid = axisGrid;
    }
  }, {
    key: 'handleLegend',
    value: function handleLegend() {
      var cfg = this.cfg;
      if (cfg.legend !== false && _typeof(cfg.legend) === 'object') {
        var names = this.data.map(function (el) {
          return el.name;
        });
        if (cfg.legend.title) {
          this.legendZone.append('text').attr('class', 'title').attr('transform', 'translate(0, -20)').attr('x', cfg.w - 70).attr('y', 10).attr('font-size', '12px').attr('fill', '#404040').text(cfg.legend.title);
        }
        var legend = this.legendZone.selectAll('g').data(names);
        var legendEnter = legend.enter().append('g');

        // Create rectangles markers
        legendEnter.append('rect').attr('x', cfg.w - 65).attr('y', function (d, i) {
          return i * 20;
        }).attr('width', 10).attr('height', 10).style('fill', function (d) {
          return cfg.color(d);
        });
        // Create labels
        legendEnter.append('text').attr('x', cfg.w - 52).attr('y', function (d, i) {
          return i * 20 + 9;
        }).attr('font-size', '11px').attr('fill', '#737373').text(function (d) {
          return d;
        });

        legend.merge(legendEnter).selectAll('rect').attr('y', function (d, i) {
          return i * 20;
        }).style('fill', function (d) {
          return cfg.color(d);
        });

        legend.merge(legendEnter).selectAll('text').attr('x', cfg.w - 52).attr('y', function (d, i) {
          return i * 20 + 9;
        }).text(function (d) {
          return d;
        });

        legend.exit().remove();
      }
    }
  }, {
    key: 'drawArea',
    value: function drawArea() {
      var _this4 = this;

      var cfg = this.cfg;
      var g = this.g;
      var Format = this.Format;
      var rScale = this.rScale;
      var angleSlice = this.angleSlice;

      // Create a wrapper for the blobs
      var blobWrapper = g.selectAll('.radarWrapper').data(this.data, function (d) {
        return d.name;
      }).enter().append('g').attr('id', function (d) {
        return d.name.indexOf(' ') > -1 ? 'ctx' : d.name;
      }).attr('class', 'radarWrapper');

      // Append the backgrounds
      blobWrapper.append('path').attr('class', 'radarArea').attr('d', function (d) {
        return _this4.radarLine(d.axes);
      }).style('fill', function (d, i) {
        return cfg.color(i);
      }).style('fill-opacity', 0).style('fill-opacity', cfg.opacityArea).on('mouseover', function () {
        // Dim all blobs
        blobWrapper.selectAll('.radarArea').transition().duration(200).style('fill-opacity', 0.1);
        // Bring back the hovered over blob
        d3.select(this).transition().duration(200).style('fill-opacity', 0.7);
      }).on('mouseout', function () {
        // Bring back all blobs
        blobWrapper.selectAll('.radarArea').transition().duration(200).style('fill-opacity', cfg.opacityArea);
      });
      // .on('click', function () {
      //   const p = this.parentElement;
      //   if (p.previousSibling.className !== 'tooltip') {
      //     const group = g.node();
      //     group.insertBefore(p, group.querySelector('.tooltip'));
      //     const new_order = [];
      //     g.selectAll('.radarWrapper').each(d => new_order.push(d.name));
      //     new_order.reverse();
      //     updateLegend(new_order);
      //   }
      // });

      // Create the outlines
      blobWrapper.append('path').attr('class', 'radarStroke').attr('d', function (d) {
        return _this4.radarLine(d.axes);
      }).style('stroke-width', cfg.strokeWidth + 'px').style('stroke', function (d, i) {
        return cfg.color(i);
      }).style('fill', 'none').style('filter', 'url(#glow)');

      // Append the circles
      blobWrapper.selectAll('.radarCircle').data(function (d) {
        return d.axes;
      }).enter().append('circle').attr('class', 'radarCircle').attr('r', cfg.dotRadius).attr('cx', function (d, i) {
        return rScale(d.value) * math_cos(angleSlice * i - HALF_PI);
      }).attr('cy', function (d, i) {
        return rScale(d.value) * math_sin(angleSlice * i - HALF_PI);
      }).style('fill', function (d) {
        return cfg.color(d.id);
      }).style('fill-opacity', 0.8);

      // ///////////////////////////////////////////////////////
      // ////// Append invisible circles for tooltip ///////////
      // ///////////////////////////////////////////////////////

      // Wrapper for the invisible circles on top
      var blobCircleWrapper = g.selectAll('.radarCircleWrapper').data(this.data, function (d) {
        return d.name;
      }).enter().append('g').attr('id', function (d) {
        return d.name.indexOf(' ') > -1 ? 'ctx' : d.name;
      }).attr('class', 'radarCircleWrapper');

      // Append a set of invisible circles on top for the mouseover pop-up
      blobCircleWrapper.selectAll('.radarInvisibleCircle').data(function (d) {
        return d.axes;
      }).enter().append('circle').attr('class', 'radarInvisibleCircle').attr('r', cfg.dotRadius * 1.5).attr('cx', function (d, i) {
        return rScale(d.value) * math_cos(angleSlice * i - HALF_PI);
      }).attr('cy', function (d, i) {
        return rScale(d.value) * math_sin(angleSlice * i - HALF_PI);
      }).style('fill', 'none').style('pointer-events', 'all').on('mouseover', function (d) {
        g.select('.tooltip').attr('x', this.cx.baseVal.value - 10).attr('y', this.cy.baseVal.value - 10).transition().style('display', 'block').text(Format(d.value) + cfg.unit);
      }).on('mouseout', function () {
        g.select('.tooltip').transition().style('display', 'none').text('');
      });

      var tooltip = g.append('text').attr('class', 'tooltip').attr('x', 0).attr('y', 0).style('font-size', '12px').style('display', 'none').attr('text-anchor', 'middle').attr('dy', '0.35em');

      this.legendZone = svg_bar$3.append('g').attr('id', 'legendZone').attr('class', 'legend').attr('transform', 'translate(' + cfg.legend.translateX + ',' + (cfg.legend.translateY + 20) + ')');
    }
  }, {
    key: 'update',
    value: function update() {
      var _this5 = this;

      var rScale = this.rScale;
      var maxValue = this.maxValue;
      var cfg = this.cfg;
      var angleSlice = this.angleSlice;
      // console.log(this.current_ids);
      // if (new_data) {
      //   const new_axis = new_data[0].axes.map(elem => elem.axis);
      //   if (!(JSON.stringify(new_axis) === JSON.stringify(this.allAxis))) {
      //     throw new Error('Expected element with same axes name than existing data.');
      //   }
      //   this.data = new_data;
      //   this.allAxis = new_axis;
      // } else {
      this.allAxis = this.data[0].axes.map(function (elem) {
        return elem.axis;
      });
      // }
      var update_axis = this.axisGrid.selectAll('.axis').data(this.allAxis);

      var t = this.g.selectAll('.radarWrapper').transition().duration(225);
      // .on('end', () => {
      //   parent.selectAll('text.legend')
      //     .text(d => d)
      //     .call(wrap, cfg.wrapWidth);
      //   // wrap(parent.selectAll('text.legend'), cfg.wrapWidth);
      // });
      update_axis.select('text.legend').attr('id', function (d, i) {
        return i;
      }).attr('x', function (d, i) {
        return rScale(maxValue * cfg.labelFactor) * math_cos(angleSlice * i - HALF_PI);
      }).attr('y', function (d, i) {
        return rScale(maxValue * cfg.labelFactor) * math_sin(angleSlice * i - HALF_PI);
      }).text(function (d) {
        return d;
      }).call(wrap, cfg.wrapWidth);

      var update_blobWrapper = this.g.selectAll('.radarWrapper').data(this.data, function (d) {
        return d.name;
      });

      update_blobWrapper.select('.radarArea').transition(t).attr('d', function (d) {
        return _this5.radarLine(d.axes);
      });

      update_blobWrapper.select('.radarStroke').transition(t).attr('d', function (d) {
        return _this5.radarLine(d.axes);
      });

      var circle = update_blobWrapper.selectAll('.radarCircle').data(function (d) {
        return d.axes;
      });
      circle.transition(t).attr('cx', function (d, i) {
        return rScale(d.value) * math_cos(angleSlice * i - HALF_PI);
      }).attr('cy', function (d, i) {
        return rScale(d.value) * math_sin(angleSlice * i - HALF_PI);
      }).style('fill', function (d) {
        return cfg.color(d.id);
      }).style('fill-opacity', 0.8);

      var update_blobCircleWrapper = this.g.selectAll('.radarCircleWrapper').data(this.data, function (d) {
        return d.name;
      });

      var invisibleCircle = update_blobCircleWrapper.selectAll('.radarInvisibleCircle').data(function (d) {
        return d.axes;
      });
      invisibleCircle.transition(t).attr('cx', function (d, i) {
        return rScale(d.value) * math_cos(angleSlice * i - HALF_PI);
      }).attr('cy', function (d, i) {
        return rScale(d.value) * math_sin(angleSlice * i - HALF_PI);
      });
    }
  }, {
    key: 'round_stroke',
    value: function round_stroke(val) {
      var _this6 = this;

      if (val === undefined) {
        return this.cfg.roundStrokes;
      } else if (val !== this.cfg.roundStrokes) {
        this.cfg.roundStrokes = val;
        this.radarLine = d3.radialLine().curve(this.cfg.roundStrokes ? d3.curveCardinalClosed : d3.curveLinearClosed).radius(function (d) {
          return _this6.rScale(d.value);
        }).angle(function (d, i) {
          return i * _this6.angleSlice;
        });
        this.update();
      }
      return val;
    }
  }, {
    key: 'bindMap',
    value: function bindMap(map_elem) {
      this.map_elem = map_elem;
      this.map_elem.resetColors(this.current_ids);
    }
  }, {
    key: 'remove',
    value: function remove() {
      this.table_stats.remove();
      this.table_stats = null;
      this.map_elem.unbindBrush();
      this.map_elem = null;
      svg_bar$3.html('');
    }
  }, {
    key: 'updateChangeRegion',
    value: function updateChangeRegion() {
      // if (app.current_config.filter_key) {
      this.changeStudyZone();
      // } else {
      //
      // }
    }
  }, {
    key: 'changeStudyZone',
    value: function changeStudyZone() {
      var _this7 = this;

      this.variables = app.current_config.ratio;
      this.ref_data = app.current_data.slice().filter(function (ft) {
        return _this7.variables.map(function (v) {
          return !!ft[v];
        }).every(function (d) {
          return d === true;
        });
      });
      this.rank_variables = this.variables.map(function (d) {
        return 'pr_' + d;
      });
      this.variables.forEach(function (d, i) {
        computePercentileRank(_this7.ref_data, d, _this7.rank_variables[i]);
      });
      this.data = prepare_data_radar_default(this.ref_data, this.variables);
      this.current_ids = this.ref_data.map(function (d) {
        return d.id;
      });
      this.displayed_ids = this.data.map(function (d) {
        return d.name;
      });
      resetColors();
      this.nbFt = this.data.length;
      this.updateMapRegio();
      this.updateTableStat();
      this.update();
    }
  }, {
    key: 'addVariable',
    value: function addVariable$$1(code_variable, name_variable) {
      var _this8 = this;

      var other_features = this.displayed_ids.filter(function (d) {
        return d !== app.current_config.my_region && d !== 'Moyenne du contexte d\'étude';
      });

      this.g.remove();
      this.g = svg_bar$3.append('g').attr('id', 'RadarGrp').attr('transform', 'translate(' + (this.cfg.w / 2 + this.cfg.margin.left) + ',' + (this.cfg.h / 2 + this.cfg.margin.top) + ')');

      this.prepareData(app.current_data);
      this.drawAxisGrid();
      this.drawArea();
      this.handleLegend();
      other_features.forEach(function (id) {
        var a = prepare_data_radar_ft(_this8.ref_data, _this8.variables, id);
        _this8.add_element(a);
      });
      // this.update();
      // this.variables = app.current_config.ratio;
      // this.ref_data = app.current_data.slice().filter(
      //   ft => this.variables.map(v => !!ft[v]).every(d => d === true));
      // this.rank_variables = this.variables.map(d => `pr_${d}`);
      // this.variables.forEach((d, i) => {
      //   computePercentileRank(this.ref_data, d, this.rank_variables[i]);
      // });
      // this.data = prepare_data_radar_default(this.ref_data, this.variables);
      // this.current_ids = this.ref_data.map(d => d.id);
      // resetColors();
      // this.nbFt = this.data.length;
      // this.updateMapRegio();
      // this.updateTableStat();
      // this.update();
    }
  }, {
    key: 'removeVariable',
    value: function removeVariable$$1(code_variable) {
      this.g.remove();
      this.g = svg_bar$3.append('g').attr('id', 'RadarGrp').attr('transform', 'translate(' + (this.cfg.w / 2 + this.cfg.margin.left) + ',' + (this.cfg.h / 2 + this.cfg.margin.top) + ')');

      this.prepareData(app.current_data);
      this.drawAxisGrid();
      this.drawArea();
      this.handleLegend();
      // this.variables = app.current_config.ratio;
      // this.ref_data = app.current_data.slice().filter(
      //   ft => this.variables.map(v => !!ft[v]).every(d => d === true));
      // this.rank_variables = this.variables.map(d => `pr_${d}`);
      // this.variables.forEach((d, i) => {
      //   computePercentileRank(this.ref_data, d, this.rank_variables[i]);
      // });
      // this.data = prepare_data_radar_default(this.ref_data, this.variables);
      // this.current_ids = this.ref_data.map(d => d.id);
      // resetColors();
      // this.nbFt = this.data.length;
      // this.updateMapRegio();
      // this.updateTableStat();
      // this.update();
    }
  }, {
    key: 'prepareTableStat',
    value: function prepareTableStat() {
      var _this9 = this;

      var all_values = this.variables.map(function (v) {
        return _this9.ref_data.map(function (d) {
          return d[v];
        });
      });
      var my_region = this.ref_data.find(function (d) {
        return d.id === app.current_config.my_region;
      });
      var features = all_values.map(function (values, i) {
        return {
          Min: d3.min(values),
          Max: d3.max(values),
          Moyenne: d3.mean(values),
          id: _this9.variables[i],
          Variable: _this9.variables[i],
          'Ma région': my_region[_this9.variables[i]]
        };
      });
      return features;
    }

    // handle_brush_map(event) {
    //   console.log(this);
    //   console.log(event);
    // }

  }, {
    key: 'handleClickMap',
    value: function handleClickMap(d, parent) {
      var id = d.properties[app.current_config.id_field_geom];
      if (this.current_ids.indexOf(id) < 0 || id === app.current_config.my_region) return;
      if (this.displayed_ids.indexOf(id) < 0) {
        var a = prepare_data_radar_ft(this.ref_data, this.variables, id);
        this.add_element(a);
        this.update();
        console.log(a);
      } else {
        this.g.selectAll('#' + id + '.radarWrapper').remove();
        this.g.selectAll('#' + id + '.radarCircleWrapper').remove();
        var ix = this.data.map(function (_d, i) {
          return [i, _d.name === id];
        }).find(function (_d) {
          return _d[1] === true;
        });
        this.data.splice(ix, 1);
        this.displayed_ids = this.data.map(function (_d) {
          return _d.name;
        });
        this.update();
      }
    }
  }, {
    key: 'updateCompletude',
    value: function updateCompletude() {
      this.completude_value = calcPopCompletudeSubset(app, this.variables);
      this.completude.text('Compl\xE9tude : ' + this.completude_value + '%');
    }
  }, {
    key: 'updateMapRegio',
    value: function updateMapRegio() {
      var _this10 = this;

      if (!this.map_elem) return;
      this.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        return _this10.current_ids.indexOf(d.properties[app.current_config.id_field_geom]) > -1 ? app.colors[d.properties[app.current_config.id_field_geom]] || color_countries : color_disabled;
      });
    }
  }, {
    key: 'updateTableStat',
    value: function updateTableStat() {
      this.table_stats.removeAll();
      this.table_stats.addFeatures(this.prepareTableStat());
    }
  }, {
    key: 'makeTableStat',
    value: function makeTableStat() {
      var features = this.prepareTableStat();
      this.table_stats = new TableResumeStat(features);
    }
  }]);
  return RadarChart3;
}();

browser$1('app:log');

exports.variables_info = void 0; /* = [
                                    { ratio: 'PC_CHOM_1524_2015', num: 'CHOM_1524_2015', denum: 'ACT_1524_2015', name: 'Taux de chomage des jeunes (2015)', group: 'Pauvreté / Exclusion sociale' },
                                    { ratio: 'PC_CHOM_1574_2015', num: 'CHOM_1574_2015', denum: 'ACT_1574_2015', name: 'Taux de chomage (2015)', group: 'Pauvreté / Exclusion sociale' },
                                    { ratio: 'PC_CHOM_LONG_2016', num: 'CHOM_LONG_2016', denum: 'ACT_LONG_2016', name: 'Taux de chômage de longue durée (2016)', group: 'Pauvreté / Exclusion sociale' },
                                    { ratio: 'PC_REV_2014', num: 'REV_2014', denum: 'MEN_2014', name: 'Revenu des ménages (2014)', group: 'Pauvreté / Exclusion sociale' },
                                    { ratio: 'PC_BREV_HAB_2011', num: 'BREV_2011', denum: 'POP_BREV_2011', name: 'Productions innovantes (2011)', group: 'Activité / Innovation' },
                                    { ratio: 'PC_RD_EMP_2013', num: 'RD_EMP_2013', denum: 'POP_RD_EMP_2013', name: 'Part de l\'emploi en R&D (2013)', group: 'Activité / Innovation' },
                                    { ratio: 'PC_PIB_HAB_2014', num: 'PC_PIB_HAB_2014', denum: 'POP_PIB_2014', name: 'PIB par habitant (euros)(2014)', group: 'Activité / Innovation' },
                                    { ratio: 'PC_ARTIF_AREA_2015', num: 'ARTIF_AREA_2015', denum: 'LC_AREA_2015', name: 'Part des surfaces artificialisées (2015)', group: 'Environnement / Transition écologique' },
                                    ];*/

var study_zones = [{ id: 'no_filter', name: 'UE28' }, { id: 'filter_FR', name: 'Filtre national (France)' }, { id: 'filter_param2', name: 'Espace de comparaison n°2' }];

var territorial_mesh = [{ id: 'NUTS1', name: 'NUTS1' }, { id: 'NUTS12stat', name: 'NUTS1/2 (statistique)' }];

var app = {
  // A mapping id -> color, containing the color to use for each
  // feature not using the default color or the disabled color
  colors: {},
  // The filtered dataset (acccording to: the current territorial level,
  // the filter key (if any) and the ratio(s) selected on the left menu:
  current_data: [],
  // The full dataset provided (containing all the features at any level in one table)
  // Row without data are expected to be empty or to contain the "NA" string.
  full_dataset: [],
  // The ids of the current feature in use (acccording to: the current territorial level,
  // the filter key (if any) and the ratio(s) used in the current chart; filtered
  // to not contain feature with empty ratio values within the ratios in use).
  current_ids: []
};

function setDefaultConfig() {
  var code = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'FRE';
  var variable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'RT_CHOM_1574';
  // }, level = 'NUTS1') {
  app.current_config = {
    // The name of the field of the dataset containing the ID of each feature:
    id_field: 'geo',
    // The name of the field of the dataset containing the name of each feature:
    name_field: 'Nom',
    // The name of the field of the dataset containing the population of each feature:
    pop_field: 'POP_AGE_T_2016',
    // The name of the field of the geojson layer containing the ID of each feature
    // (these values should match with the values of the "id_field" in the
    // tabular dataset)
    id_field_geom: 'NUTS1_2016',
    num: ['CHOM_1574_2016'],
    denum: ['ACT_1574_2016'],
    ratio: [variable],
    ratio_pretty_name: ['Taux de chômage (15-74 ans) (2016)'],
    // The level currently in use:
    current_level: 1,
    // The ID of the region currently in use:
    my_region: code,
    // The name of the region currently in use:
    my_region_pretty_name: app.feature_names[code],
    // How many ratio on the current chart:
    nb_var: 1
  };
  app.colors[app.current_config.my_region] = color_highlight;
}

function setDefaultConfigMenu() {
  var code = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'FRE';
  var variable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'RT_CHOM_1574';
  var level = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'NUTS1';

  document.querySelector('.target_region.square[value="' + code + '"]').classList.add('checked');
  document.querySelector('.target_variable.small_square[value="' + variable + '"]').classList.add('checked');
  document.querySelector('.filter_v.square[filter-value="no_filter"]').classList.add('checked');
  document.querySelector('.territ_level.square[value="' + level + '"]').classList.add('checked');
}

function resetColors() {
  app.colors = {};
  // for (let i = 0, len_i = current_ids.length; i < len_i; i++) {
  //   app.colors[current_ids[i]] = color_countries;
  // }
  app.colors[app.current_config.my_region] = color_highlight;
}

/**
* Create handlers for user event on the left menu and on the map for charts only
* allowing to use 1 variable.
*
* @param {Object} chart - The chart object.
* @param {Object} map_elem - The map object.
* @return {void}
*
*/
function bindUI_chart(chart, map_elem) {
  // User change the study zone:
  d3.selectAll('span.filter_v').on('click', function () {
    if (!this.classList.contains('checked')) {
      d3.selectAll('span.filter_v').attr('class', 'filter_v square');
      this.classList.add('checked');
      var filter_type = this.getAttribute('filter-value');
      applyFilter(app, filter_type);
      makeTable(app.current_data, app.current_config);
      chart.changeStudyZone();
      chart.updateCompletude();
    }
  });

  // User change the targeted region:
  d3.selectAll('span.target_region').on('click', function () {
    if (!this.classList.contains('checked')) {
      d3.selectAll('span.target_region').attr('class', 'target_region square');
      this.classList.add('checked');
      var id_region = this.getAttribute('value');
      changeRegion(app, id_region);
      // Update the availables ratio on the left menu
      // (this may change the current selected ratio(s) as some variables are
      // not available for some features) and fetch the number of selected
      // variables after that:
      var new_nb_var = updateAvailablesRatios(id_region);
      if (new_nb_var >= app.current_config.nb_var) {
        chart.updateChangeRegion();
      } else {
        // If there fewer selected variables than requested by the current chart,
        // redraw the first (default) kind of chart:
        d3.select('span.chart_t1[value="BarChart1"]').dispatch('click');
      }
    }
  });

  // User click on the name of a group of variables
  // to expand or collapse its content:
  d3.selectAll('.name_group_var').on('click', function () {
    var group_var = this.nextSibling;
    if (group_var.style.display === 'none') {
      group_var.style.display = null;
    } else {
      group_var.style.display = 'none';
    }
  });

  // User click to add/remove a variable from the comparison:
  d3.selectAll('span.target_variable').on('click', function () {
    if (this.classList.contains('disabled')) return;
    var nb_var = Array.prototype.slice.call(document.querySelectorAll('span.target_variable')).filter(function (elem) {
      return !!elem.classList.contains('checked');
    }).length;
    // Select a new variable and trigger the appropriate changes on the current chart:
    if (!this.classList.contains('checked')) {
      // We don't want the user to be able to select more than 8 variables simultaneously:
      if (nb_var >= 8) return;
      this.classList.add('checked');
      var code_variable = this.getAttribute('value');
      var name_variable = exports.variables_info.find(function (d) {
        return d.ratio === code_variable;
      }).name;
      addVariable(app, code_variable);
      makeTable(app.current_data, app.current_config);
      chart.addVariable(code_variable, name_variable);
      nb_var += 1;
    } else {
      // Remove a variable from the selection:
      nb_var -= 1;
      // We don't want to let the user remove the variable if
      // it's the only one selected or if the currently displayed
      // chart need a minimum number of variables:
      if (nb_var < app.current_config.nb_var) {
        return;
      }
      var _code_variable = this.getAttribute('value');
      this.classList.remove('checked');
      removeVariable(app, _code_variable);
      chart.removeVariable(_code_variable);
      makeTable(app.current_data, app.current_config);
    }
    // Update the top menu to display available charts according to the current
    // number of available variables:
    if (nb_var === 1) {
      // Allow all kind of vizu with 1 variable:
      d3.selectAll('.chart_t1').attr('class', 'type_chart chart_t1');
      d3.selectAll('.chart_t2').attr('class', 'type_chart chart_t2 disabled');
      d3.selectAll('.chart_t3').attr('class', 'type_chart chart_t3 disabled');
    } else if (nb_var === 2) {
      // Allow all kind of vizu with 2 variables:
      d3.selectAll('.chart_t2').attr('class', 'type_chart chart_t2');
      d3.selectAll('.chart_t3').attr('class', 'type_chart chart_t3 disabled');
    } else if (nb_var > 2) {
      // Allow all kind of vizu with 3 variables:
      d3.selectAll('.chart_t2').attr('class', 'type_chart chart_t2');
      d3.selectAll('.chart_t3').attr('class', 'type_chart chart_t3');
    }
  });

  // Dispatch a click event on the associated checkbox when the text is clicked:
  d3.selectAll('span.label_chk').on('click', function () {
    this.previousSibling.click();
  });

  var header_map_section = d3.select('#map_section > #header_map');

  header_map_section.select('#img_rect_selec').on('click', function () {
    if (!this.classList.contains('active')) {
      this.classList.add('active');
      document.getElementById('img_map_zoom').classList.remove('active');
      document.getElementById('img_map_select').classList.remove('active');
      svg_map.on('.zoom', null);
      if (map_elem.brush_map) {
        svg_map.select('.brush_map').style('display', null);
      }
      map_elem.target_layer.selectAll('path').on('click', null);
    }
  });

  header_map_section.select('#img_map_zoom').on('click', function () {
    if (!this.classList.contains('active')) {
      this.classList.add('active');
      document.getElementById('img_rect_selec').classList.remove('active');
      document.getElementById('img_map_select').classList.remove('active');
      svg_map.call(map_elem.zoom_map);
      if (map_elem.brush_map) {
        svg_map.select('.brush_map').call(map_elem.brush_map.move, null);
        svg_map.select('.brush_map').style('display', 'none');
      }
      map_elem.target_layer.selectAll('path').on('click', null);
    }
  });

  header_map_section.select('#img_map_select').on('click', function () {
    if (!this.classList.contains('active')) {
      this.classList.add('active');
      document.getElementById('img_rect_selec').classList.remove('active');
      document.getElementById('img_map_zoom').classList.remove('active');
      svg_map.on('.zoom', null);
      if (map_elem.brush_map) {
        svg_map.select('.brush_map').call(map_elem.brush_map.move, null);
        svg_map.select('.brush_map').style('display', 'none');
      }
      map_elem.target_layer.selectAll('path').on('click', function (d) {
        chart.handleClickMap(d, this);
      });
    }
  });

  if (!map_elem.brush_map) {
    map_elem.target_layer.selectAll('path').on('click', function (d) {
      chart.handleClickMap(d, this);
    });
  }

  var header_table_section = d3.select('#map_section').insert('p', 'svg').attr('id', 'header_table').styles({ display: 'none', margin: 'auto', 'text-align': 'right' });

  header_table_section.append('span').attr('class', 'button_blue').html('CSV').on('click', function () {
    var content = ['id,Numérateur,Dénominateur,Ratio,Rang\r\n', app.current_data.map(function (d) {
      return [d.id, d.num, d.denum, d.ratio, d.rang].join(',');
    }).join('\r\n')].join('');
    var elem = document.createElement('a');
    elem.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(content));
    elem.setAttribute('download', 'table.csv');
    elem.style.display = 'none';
    document.body.appendChild(elem);
    elem.click();
    document.body.removeChild(elem);
  });
  bindTopButtons(chart, map_elem);
}

/**
* Function to handle click on the top menu, in order to choose
* the kind of availables representation
*
* @param {Object} chart -
* @param {Object} map_elem -
* @return {void}
*/
function bindTopButtons(chart, map_elem) {
  d3.selectAll('.type_chart').on('click', function () {
    if (this.classList.contains('disabled')) return;
    chart.remove();
    chart = null; // eslint-disable-line no-param-reassign
    unbindUI();
    map_elem.resetZoom();
    app.colors = {};
    var value = this.getAttribute('value');
    if (value === 'BarChart1') {
      console.log('BarChart1');
      makeTable(app.current_data, app.current_config);
      chart = new BarChart1(app.current_data); // eslint-disable-line no-param-reassign
      bindUI_chart(chart, map_elem);
      map_elem.bindBrush(chart);
      chart.bindMap(map_elem);
    } else if (value === 'BubbleChart1') {
      console.log('BubbleChart1');
      makeTable(app.current_data, app.current_config);
      chart = new BubbleChart1(app.current_data); // eslint-disable-line no-param-reassign
      bindUI_chart(chart, map_elem);
      map_elem.bindBrush(chart);
      chart.bindMap(map_elem);
    } else if (value === 'ScatterPlot2') {
      console.log('ScatterPlot2');
      makeTable(app.current_data, app.current_config);
      chart = new ScatterPlot2(app.current_data); // eslint-disable-line no-param-reassign
      bindUI_chart(chart, map_elem);
      map_elem.bindBrush(chart);
      chart.bindMap(map_elem);
    } else if (value === 'RadarChart3') {
      console.log('RadarChart3');
      makeTable(app.current_data, app.current_config);
      chart = new RadarChart3(app.current_data);
      bindUI_chart(chart, map_elem);
      map_elem.bindBrush(chart);
      chart.bindMap(map_elem);
    }
  });
}

function loadData() {
  d3.queue(4).defer(d3.csv, 'data/REGIOVIZ_DATA.csv').defer(d3.json, 'data/cget-nuts1-3035.geojson').defer(d3.json, 'data/countries3035.geojson').defer(d3.json, 'data/remote3035.geojson').defer(d3.json, 'data/template3035.geojson').defer(d3.json, 'data/sea_boxes.geojson').defer(d3.csv, 'data/indicateurs_meta.csv').awaitAll(function (error, results) {
    if (error) throw error;

    var _results = slicedToArray(results, 7),
        full_dataset = _results[0],
        nuts1 = _results[1],
        countries = _results[2],
        remote = _results[3],
        template = _results[4],
        seaboxes = _results[5],
        metadata_indicateurs = _results[6];

    exports.variables_info = prepareVariablesInfo(metadata_indicateurs);
    prepare_dataset(full_dataset, app);
    setDefaultConfig('FRB', 'RT_CHOM_1574', 'NUTS1');
    var features_menu = full_dataset.filter(function (ft) {
      return ft.geo.indexOf('FR') > -1 && +ft.level === app.current_config.current_level;
    });
    createMenu(features_menu, exports.variables_info, study_zones, territorial_mesh);
    makeTopMenu();
    makeHeaderChart();
    setDefaultConfigMenu('FRB', 'RT_CHOM_1574', 'NUTS1');
    filterLevelVar(app);
    console.log(app);
    var map_elem = new MapSelect(nuts1, countries, remote, template, seaboxes);
    var chart = new BarChart1(app.current_data);
    makeTable(app.current_data, app.current_config);
    makeHeaderMapSection();
    makeSourceSection();
    makeMapLegend();
    bindUI_chart(chart, map_elem);
    map_elem.bindBrush(chart);
    chart.bindMap(map_elem);
  });
}

/**
* Function to select the first variable on the left menu
* (triggered after changing region, if no more variable was selected)
*
* @return {void}
*/
function selectFirstAvailableVar() {
  var menu = document.querySelector('#menu');
  var v = menu.querySelectorAll('.target_variable');
  for (var i = 0; i < v.length; i++) {
    if (!v[i].classList.contains('disabled')) {
      v[i].classList.add('checked');
      return v[i].getAttribute('value');
    }
  }
}

/**
* Function to update the availables ratios in the left menu (after changing region)
* If a selected variable is not available anymore it will be deselected.
* If there selected variable (all the previously selected variables are unavailable for this region)
* the first variable on the menu will be selected.
* If the new number of selected feature is inferior to the number of variables on the current
* chart, a new chart (suitable for only 1 variable) will be selected.
*
*
* @param {String} my_region - The ID of the newly selected region.
* @return {Number} - The new number of selected ratios.
*
*/
function updateAvailablesRatios(my_region) {
  var data_my_feature = app.full_dataset.filter(function (ft) {
    return ft[app.current_config.id_field] === my_region;
  })[0];
  var menu = document.querySelector('#menu');
  var lines = menu.querySelectorAll('.target_variable');
  for (var i = 0, nb_lines = lines.length; i < nb_lines; i++) {
    var code_variable = lines[i].getAttribute('value');
    if (data_my_feature[code_variable] !== undefined && data_my_feature[code_variable] !== 'NA') {
      lines[i].classList.remove('disabled');
      lines[i].nextSibling.classList.remove('disabled');
    } else {
      lines[i].classList.remove('checked');
      lines[i].classList.add('disabled');
      lines[i].nextSibling.classList.add('disabled');
    }
  }
  var new_var = menu.querySelectorAll('.target_variable.checked');
  if (new_var.length !== app.current_config.ratio.length) {
    var new_var_names = void 0;
    if (new_var.length === 0) {
      var name = selectFirstAvailableVar();
      new_var_names = [name];
    } else {
      new_var_names = Array.prototype.slice.call(new_var).map(function (elem) {
        return elem.getAttribute('value');
      });
    }
    resetVariables(app, new_var_names);
  }
  return new_var.length;
}

loadData();

exports.app = app;
exports.resetColors = resetColors;
exports.bindTopButtons = bindTopButtons;

}((this.App = this.App || {})));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9tcy9pbmRleC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvZGVidWcuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2Jyb3dzZXIuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL29wdGlvbnMuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL2hlbHBlcnMuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL21lbnVsZWZ0LmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9tZW51dG9wLmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9tYXAuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvdmFuaWxsYS1kYXRhdGFibGVzL3NyYy92YW5pbGxhLWRhdGFUYWJsZXMuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL3RhYmxlLmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9wcmVwYXJlX2RhdGEuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL3RhYmxlUmVzdW1lU3RhdC5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvY2hhcnRzL2JhckNoYXJ0XzF2LmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9jaGFydHMvYnViYmxlQ2hhcnRfMXYuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL2NvbnRleHRNZW51LmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9jaGFydHMvc2NhdHRlclBsb3RfMnYuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL2NoYXJ0cy9yYWRhckNoYXJ0XzN2LmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEhlbHBlcnMuXG4gKi9cblxudmFyIHMgPSAxMDAwO1xudmFyIG0gPSBzICogNjA7XG52YXIgaCA9IG0gKiA2MDtcbnZhciBkID0gaCAqIDI0O1xudmFyIHkgPSBkICogMzY1LjI1O1xuXG4vKipcbiAqIFBhcnNlIG9yIGZvcm1hdCB0aGUgZ2l2ZW4gYHZhbGAuXG4gKlxuICogT3B0aW9uczpcbiAqXG4gKiAgLSBgbG9uZ2AgdmVyYm9zZSBmb3JtYXR0aW5nIFtmYWxzZV1cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IHZhbFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHRocm93cyB7RXJyb3J9IHRocm93IGFuIGVycm9yIGlmIHZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgbnVtYmVyXG4gKiBAcmV0dXJuIHtTdHJpbmd8TnVtYmVyfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHZhbCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsO1xuICBpZiAodHlwZSA9PT0gJ3N0cmluZycgJiYgdmFsLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gcGFyc2UodmFsKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSAnbnVtYmVyJyAmJiBpc05hTih2YWwpID09PSBmYWxzZSkge1xuICAgIHJldHVybiBvcHRpb25zLmxvbmcgPyBmbXRMb25nKHZhbCkgOiBmbXRTaG9ydCh2YWwpO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihcbiAgICAndmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSB2YWxpZCBudW1iZXIuIHZhbD0nICtcbiAgICAgIEpTT04uc3RyaW5naWZ5KHZhbClcbiAgKTtcbn07XG5cbi8qKlxuICogUGFyc2UgdGhlIGdpdmVuIGBzdHJgIGFuZCByZXR1cm4gbWlsbGlzZWNvbmRzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHBhcnNlKHN0cikge1xuICBzdHIgPSBTdHJpbmcoc3RyKTtcbiAgaWYgKHN0ci5sZW5ndGggPiAxMDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIG1hdGNoID0gL14oKD86XFxkKyk/XFwuP1xcZCspICoobWlsbGlzZWNvbmRzP3xtc2Vjcz98bXN8c2Vjb25kcz98c2Vjcz98c3xtaW51dGVzP3xtaW5zP3xtfGhvdXJzP3xocnM/fGh8ZGF5cz98ZHx5ZWFycz98eXJzP3x5KT8kL2kuZXhlYyhcbiAgICBzdHJcbiAgKTtcbiAgaWYgKCFtYXRjaCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbiA9IHBhcnNlRmxvYXQobWF0Y2hbMV0pO1xuICB2YXIgdHlwZSA9IChtYXRjaFsyXSB8fCAnbXMnKS50b0xvd2VyQ2FzZSgpO1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICd5ZWFycyc6XG4gICAgY2FzZSAneWVhcic6XG4gICAgY2FzZSAneXJzJzpcbiAgICBjYXNlICd5cic6XG4gICAgY2FzZSAneSc6XG4gICAgICByZXR1cm4gbiAqIHk7XG4gICAgY2FzZSAnZGF5cyc6XG4gICAgY2FzZSAnZGF5JzpcbiAgICBjYXNlICdkJzpcbiAgICAgIHJldHVybiBuICogZDtcbiAgICBjYXNlICdob3Vycyc6XG4gICAgY2FzZSAnaG91cic6XG4gICAgY2FzZSAnaHJzJzpcbiAgICBjYXNlICdocic6XG4gICAgY2FzZSAnaCc6XG4gICAgICByZXR1cm4gbiAqIGg7XG4gICAgY2FzZSAnbWludXRlcyc6XG4gICAgY2FzZSAnbWludXRlJzpcbiAgICBjYXNlICdtaW5zJzpcbiAgICBjYXNlICdtaW4nOlxuICAgIGNhc2UgJ20nOlxuICAgICAgcmV0dXJuIG4gKiBtO1xuICAgIGNhc2UgJ3NlY29uZHMnOlxuICAgIGNhc2UgJ3NlY29uZCc6XG4gICAgY2FzZSAnc2Vjcyc6XG4gICAgY2FzZSAnc2VjJzpcbiAgICBjYXNlICdzJzpcbiAgICAgIHJldHVybiBuICogcztcbiAgICBjYXNlICdtaWxsaXNlY29uZHMnOlxuICAgIGNhc2UgJ21pbGxpc2Vjb25kJzpcbiAgICBjYXNlICdtc2Vjcyc6XG4gICAgY2FzZSAnbXNlYyc6XG4gICAgY2FzZSAnbXMnOlxuICAgICAgcmV0dXJuIG47XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn1cblxuLyoqXG4gKiBTaG9ydCBmb3JtYXQgZm9yIGBtc2AuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBmbXRTaG9ydChtcykge1xuICBpZiAobXMgPj0gZCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gZCkgKyAnZCc7XG4gIH1cbiAgaWYgKG1zID49IGgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGgpICsgJ2gnO1xuICB9XG4gIGlmIChtcyA+PSBtKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBtKSArICdtJztcbiAgfVxuICBpZiAobXMgPj0gcykge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gcykgKyAncyc7XG4gIH1cbiAgcmV0dXJuIG1zICsgJ21zJztcbn1cblxuLyoqXG4gKiBMb25nIGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGZtdExvbmcobXMpIHtcbiAgcmV0dXJuIHBsdXJhbChtcywgZCwgJ2RheScpIHx8XG4gICAgcGx1cmFsKG1zLCBoLCAnaG91cicpIHx8XG4gICAgcGx1cmFsKG1zLCBtLCAnbWludXRlJykgfHxcbiAgICBwbHVyYWwobXMsIHMsICdzZWNvbmQnKSB8fFxuICAgIG1zICsgJyBtcyc7XG59XG5cbi8qKlxuICogUGx1cmFsaXphdGlvbiBoZWxwZXIuXG4gKi9cblxuZnVuY3Rpb24gcGx1cmFsKG1zLCBuLCBuYW1lKSB7XG4gIGlmIChtcyA8IG4pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKG1zIDwgbiAqIDEuNSkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKG1zIC8gbikgKyAnICcgKyBuYW1lO1xuICB9XG4gIHJldHVybiBNYXRoLmNlaWwobXMgLyBuKSArICcgJyArIG5hbWUgKyAncyc7XG59XG4iLCJcbi8qKlxuICogVGhpcyBpcyB0aGUgY29tbW9uIGxvZ2ljIGZvciBib3RoIHRoZSBOb2RlLmpzIGFuZCB3ZWIgYnJvd3NlclxuICogaW1wbGVtZW50YXRpb25zIG9mIGBkZWJ1ZygpYC5cbiAqXG4gKiBFeHBvc2UgYGRlYnVnKClgIGFzIHRoZSBtb2R1bGUuXG4gKi9cblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gY3JlYXRlRGVidWcuZGVidWcgPSBjcmVhdGVEZWJ1Z1snZGVmYXVsdCddID0gY3JlYXRlRGVidWc7XG5leHBvcnRzLmNvZXJjZSA9IGNvZXJjZTtcbmV4cG9ydHMuZGlzYWJsZSA9IGRpc2FibGU7XG5leHBvcnRzLmVuYWJsZSA9IGVuYWJsZTtcbmV4cG9ydHMuZW5hYmxlZCA9IGVuYWJsZWQ7XG5leHBvcnRzLmh1bWFuaXplID0gcmVxdWlyZSgnbXMnKTtcblxuLyoqXG4gKiBUaGUgY3VycmVudGx5IGFjdGl2ZSBkZWJ1ZyBtb2RlIG5hbWVzLCBhbmQgbmFtZXMgdG8gc2tpcC5cbiAqL1xuXG5leHBvcnRzLm5hbWVzID0gW107XG5leHBvcnRzLnNraXBzID0gW107XG5cbi8qKlxuICogTWFwIG9mIHNwZWNpYWwgXCIlblwiIGhhbmRsaW5nIGZ1bmN0aW9ucywgZm9yIHRoZSBkZWJ1ZyBcImZvcm1hdFwiIGFyZ3VtZW50LlxuICpcbiAqIFZhbGlkIGtleSBuYW1lcyBhcmUgYSBzaW5nbGUsIGxvd2VyIG9yIHVwcGVyLWNhc2UgbGV0dGVyLCBpLmUuIFwiblwiIGFuZCBcIk5cIi5cbiAqL1xuXG5leHBvcnRzLmZvcm1hdHRlcnMgPSB7fTtcblxuLyoqXG4gKiBQcmV2aW91cyBsb2cgdGltZXN0YW1wLlxuICovXG5cbnZhciBwcmV2VGltZTtcblxuLyoqXG4gKiBTZWxlY3QgYSBjb2xvci5cbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHNlbGVjdENvbG9yKG5hbWVzcGFjZSkge1xuICB2YXIgaGFzaCA9IDAsIGk7XG5cbiAgZm9yIChpIGluIG5hbWVzcGFjZSkge1xuICAgIGhhc2ggID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBuYW1lc3BhY2UuY2hhckNvZGVBdChpKTtcbiAgICBoYXNoIHw9IDA7IC8vIENvbnZlcnQgdG8gMzJiaXQgaW50ZWdlclxuICB9XG5cbiAgcmV0dXJuIGV4cG9ydHMuY29sb3JzW01hdGguYWJzKGhhc2gpICUgZXhwb3J0cy5jb2xvcnMubGVuZ3RoXTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBkZWJ1Z2dlciB3aXRoIHRoZSBnaXZlbiBgbmFtZXNwYWNlYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gY3JlYXRlRGVidWcobmFtZXNwYWNlKSB7XG5cbiAgZnVuY3Rpb24gZGVidWcoKSB7XG4gICAgLy8gZGlzYWJsZWQ/XG4gICAgaWYgKCFkZWJ1Zy5lbmFibGVkKSByZXR1cm47XG5cbiAgICB2YXIgc2VsZiA9IGRlYnVnO1xuXG4gICAgLy8gc2V0IGBkaWZmYCB0aW1lc3RhbXBcbiAgICB2YXIgY3VyciA9ICtuZXcgRGF0ZSgpO1xuICAgIHZhciBtcyA9IGN1cnIgLSAocHJldlRpbWUgfHwgY3Vycik7XG4gICAgc2VsZi5kaWZmID0gbXM7XG4gICAgc2VsZi5wcmV2ID0gcHJldlRpbWU7XG4gICAgc2VsZi5jdXJyID0gY3VycjtcbiAgICBwcmV2VGltZSA9IGN1cnI7XG5cbiAgICAvLyB0dXJuIHRoZSBgYXJndW1lbnRzYCBpbnRvIGEgcHJvcGVyIEFycmF5XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgIH1cblxuICAgIGFyZ3NbMF0gPSBleHBvcnRzLmNvZXJjZShhcmdzWzBdKTtcblxuICAgIGlmICgnc3RyaW5nJyAhPT0gdHlwZW9mIGFyZ3NbMF0pIHtcbiAgICAgIC8vIGFueXRoaW5nIGVsc2UgbGV0J3MgaW5zcGVjdCB3aXRoICVPXG4gICAgICBhcmdzLnVuc2hpZnQoJyVPJyk7XG4gICAgfVxuXG4gICAgLy8gYXBwbHkgYW55IGBmb3JtYXR0ZXJzYCB0cmFuc2Zvcm1hdGlvbnNcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIGFyZ3NbMF0gPSBhcmdzWzBdLnJlcGxhY2UoLyUoW2EtekEtWiVdKS9nLCBmdW5jdGlvbihtYXRjaCwgZm9ybWF0KSB7XG4gICAgICAvLyBpZiB3ZSBlbmNvdW50ZXIgYW4gZXNjYXBlZCAlIHRoZW4gZG9uJ3QgaW5jcmVhc2UgdGhlIGFycmF5IGluZGV4XG4gICAgICBpZiAobWF0Y2ggPT09ICclJScpIHJldHVybiBtYXRjaDtcbiAgICAgIGluZGV4Kys7XG4gICAgICB2YXIgZm9ybWF0dGVyID0gZXhwb3J0cy5mb3JtYXR0ZXJzW2Zvcm1hdF07XG4gICAgICBpZiAoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIGZvcm1hdHRlcikge1xuICAgICAgICB2YXIgdmFsID0gYXJnc1tpbmRleF07XG4gICAgICAgIG1hdGNoID0gZm9ybWF0dGVyLmNhbGwoc2VsZiwgdmFsKTtcblxuICAgICAgICAvLyBub3cgd2UgbmVlZCB0byByZW1vdmUgYGFyZ3NbaW5kZXhdYCBzaW5jZSBpdCdzIGlubGluZWQgaW4gdGhlIGBmb3JtYXRgXG4gICAgICAgIGFyZ3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgaW5kZXgtLTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9KTtcblxuICAgIC8vIGFwcGx5IGVudi1zcGVjaWZpYyBmb3JtYXR0aW5nIChjb2xvcnMsIGV0Yy4pXG4gICAgZXhwb3J0cy5mb3JtYXRBcmdzLmNhbGwoc2VsZiwgYXJncyk7XG5cbiAgICB2YXIgbG9nRm4gPSBkZWJ1Zy5sb2cgfHwgZXhwb3J0cy5sb2cgfHwgY29uc29sZS5sb2cuYmluZChjb25zb2xlKTtcbiAgICBsb2dGbi5hcHBseShzZWxmLCBhcmdzKTtcbiAgfVxuXG4gIGRlYnVnLm5hbWVzcGFjZSA9IG5hbWVzcGFjZTtcbiAgZGVidWcuZW5hYmxlZCA9IGV4cG9ydHMuZW5hYmxlZChuYW1lc3BhY2UpO1xuICBkZWJ1Zy51c2VDb2xvcnMgPSBleHBvcnRzLnVzZUNvbG9ycygpO1xuICBkZWJ1Zy5jb2xvciA9IHNlbGVjdENvbG9yKG5hbWVzcGFjZSk7XG5cbiAgLy8gZW52LXNwZWNpZmljIGluaXRpYWxpemF0aW9uIGxvZ2ljIGZvciBkZWJ1ZyBpbnN0YW5jZXNcbiAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBleHBvcnRzLmluaXQpIHtcbiAgICBleHBvcnRzLmluaXQoZGVidWcpO1xuICB9XG5cbiAgcmV0dXJuIGRlYnVnO1xufVxuXG4vKipcbiAqIEVuYWJsZXMgYSBkZWJ1ZyBtb2RlIGJ5IG5hbWVzcGFjZXMuIFRoaXMgY2FuIGluY2x1ZGUgbW9kZXNcbiAqIHNlcGFyYXRlZCBieSBhIGNvbG9uIGFuZCB3aWxkY2FyZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZW5hYmxlKG5hbWVzcGFjZXMpIHtcbiAgZXhwb3J0cy5zYXZlKG5hbWVzcGFjZXMpO1xuXG4gIGV4cG9ydHMubmFtZXMgPSBbXTtcbiAgZXhwb3J0cy5za2lwcyA9IFtdO1xuXG4gIHZhciBzcGxpdCA9ICh0eXBlb2YgbmFtZXNwYWNlcyA9PT0gJ3N0cmluZycgPyBuYW1lc3BhY2VzIDogJycpLnNwbGl0KC9bXFxzLF0rLyk7XG4gIHZhciBsZW4gPSBzcGxpdC5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGlmICghc3BsaXRbaV0pIGNvbnRpbnVlOyAvLyBpZ25vcmUgZW1wdHkgc3RyaW5nc1xuICAgIG5hbWVzcGFjZXMgPSBzcGxpdFtpXS5yZXBsYWNlKC9cXCovZywgJy4qPycpO1xuICAgIGlmIChuYW1lc3BhY2VzWzBdID09PSAnLScpIHtcbiAgICAgIGV4cG9ydHMuc2tpcHMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMuc3Vic3RyKDEpICsgJyQnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4cG9ydHMubmFtZXMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMgKyAnJCcpKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNhYmxlIGRlYnVnIG91dHB1dC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGRpc2FibGUoKSB7XG4gIGV4cG9ydHMuZW5hYmxlKCcnKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIG1vZGUgbmFtZSBpcyBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2UuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGVuYWJsZWQobmFtZSkge1xuICB2YXIgaSwgbGVuO1xuICBmb3IgKGkgPSAwLCBsZW4gPSBleHBvcnRzLnNraXBzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGV4cG9ydHMuc2tpcHNbaV0udGVzdChuYW1lKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICBmb3IgKGkgPSAwLCBsZW4gPSBleHBvcnRzLm5hbWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGV4cG9ydHMubmFtZXNbaV0udGVzdChuYW1lKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBDb2VyY2UgYHZhbGAuXG4gKlxuICogQHBhcmFtIHtNaXhlZH0gdmFsXG4gKiBAcmV0dXJuIHtNaXhlZH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGNvZXJjZSh2YWwpIHtcbiAgaWYgKHZhbCBpbnN0YW5jZW9mIEVycm9yKSByZXR1cm4gdmFsLnN0YWNrIHx8IHZhbC5tZXNzYWdlO1xuICByZXR1cm4gdmFsO1xufVxuIiwiLyoqXG4gKiBUaGlzIGlzIHRoZSB3ZWIgYnJvd3NlciBpbXBsZW1lbnRhdGlvbiBvZiBgZGVidWcoKWAuXG4gKlxuICogRXhwb3NlIGBkZWJ1ZygpYCBhcyB0aGUgbW9kdWxlLlxuICovXG5cbmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZGVidWcnKTtcbmV4cG9ydHMubG9nID0gbG9nO1xuZXhwb3J0cy5mb3JtYXRBcmdzID0gZm9ybWF0QXJncztcbmV4cG9ydHMuc2F2ZSA9IHNhdmU7XG5leHBvcnRzLmxvYWQgPSBsb2FkO1xuZXhwb3J0cy51c2VDb2xvcnMgPSB1c2VDb2xvcnM7XG5leHBvcnRzLnN0b3JhZ2UgPSAndW5kZWZpbmVkJyAhPSB0eXBlb2YgY2hyb21lXG4gICAgICAgICAgICAgICAmJiAndW5kZWZpbmVkJyAhPSB0eXBlb2YgY2hyb21lLnN0b3JhZ2VcbiAgICAgICAgICAgICAgICAgID8gY2hyb21lLnN0b3JhZ2UubG9jYWxcbiAgICAgICAgICAgICAgICAgIDogbG9jYWxzdG9yYWdlKCk7XG5cbi8qKlxuICogQ29sb3JzLlxuICovXG5cbmV4cG9ydHMuY29sb3JzID0gW1xuICAnbGlnaHRzZWFncmVlbicsXG4gICdmb3Jlc3RncmVlbicsXG4gICdnb2xkZW5yb2QnLFxuICAnZG9kZ2VyYmx1ZScsXG4gICdkYXJrb3JjaGlkJyxcbiAgJ2NyaW1zb24nXG5dO1xuXG4vKipcbiAqIEN1cnJlbnRseSBvbmx5IFdlYktpdC1iYXNlZCBXZWIgSW5zcGVjdG9ycywgRmlyZWZveCA+PSB2MzEsXG4gKiBhbmQgdGhlIEZpcmVidWcgZXh0ZW5zaW9uIChhbnkgRmlyZWZveCB2ZXJzaW9uKSBhcmUga25vd25cbiAqIHRvIHN1cHBvcnQgXCIlY1wiIENTUyBjdXN0b21pemF0aW9ucy5cbiAqXG4gKiBUT0RPOiBhZGQgYSBgbG9jYWxTdG9yYWdlYCB2YXJpYWJsZSB0byBleHBsaWNpdGx5IGVuYWJsZS9kaXNhYmxlIGNvbG9yc1xuICovXG5cbmZ1bmN0aW9uIHVzZUNvbG9ycygpIHtcbiAgLy8gTkI6IEluIGFuIEVsZWN0cm9uIHByZWxvYWQgc2NyaXB0LCBkb2N1bWVudCB3aWxsIGJlIGRlZmluZWQgYnV0IG5vdCBmdWxseVxuICAvLyBpbml0aWFsaXplZC4gU2luY2Ugd2Uga25vdyB3ZSdyZSBpbiBDaHJvbWUsIHdlJ2xsIGp1c3QgZGV0ZWN0IHRoaXMgY2FzZVxuICAvLyBleHBsaWNpdGx5XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucHJvY2VzcyAmJiB3aW5kb3cucHJvY2Vzcy50eXBlID09PSAncmVuZGVyZXInKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBpcyB3ZWJraXQ/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE2NDU5NjA2LzM3Njc3M1xuICAvLyBkb2N1bWVudCBpcyB1bmRlZmluZWQgaW4gcmVhY3QtbmF0aXZlOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QtbmF0aXZlL3B1bGwvMTYzMlxuICByZXR1cm4gKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuV2Via2l0QXBwZWFyYW5jZSkgfHxcbiAgICAvLyBpcyBmaXJlYnVnPyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zOTgxMjAvMzc2NzczXG4gICAgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5jb25zb2xlICYmICh3aW5kb3cuY29uc29sZS5maXJlYnVnIHx8ICh3aW5kb3cuY29uc29sZS5leGNlcHRpb24gJiYgd2luZG93LmNvbnNvbGUudGFibGUpKSkgfHxcbiAgICAvLyBpcyBmaXJlZm94ID49IHYzMT9cbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1Rvb2xzL1dlYl9Db25zb2xlI1N0eWxpbmdfbWVzc2FnZXNcbiAgICAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2ZpcmVmb3hcXC8oXFxkKykvKSAmJiBwYXJzZUludChSZWdFeHAuJDEsIDEwKSA+PSAzMSkgfHxcbiAgICAvLyBkb3VibGUgY2hlY2sgd2Via2l0IGluIHVzZXJBZ2VudCBqdXN0IGluIGNhc2Ugd2UgYXJlIGluIGEgd29ya2VyXG4gICAgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9hcHBsZXdlYmtpdFxcLyhcXGQrKS8pKTtcbn1cblxuLyoqXG4gKiBNYXAgJWogdG8gYEpTT04uc3RyaW5naWZ5KClgLCBzaW5jZSBubyBXZWIgSW5zcGVjdG9ycyBkbyB0aGF0IGJ5IGRlZmF1bHQuXG4gKi9cblxuZXhwb3J0cy5mb3JtYXR0ZXJzLmogPSBmdW5jdGlvbih2KSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHYpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gJ1tVbmV4cGVjdGVkSlNPTlBhcnNlRXJyb3JdOiAnICsgZXJyLm1lc3NhZ2U7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBDb2xvcml6ZSBsb2cgYXJndW1lbnRzIGlmIGVuYWJsZWQuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBmb3JtYXRBcmdzKGFyZ3MpIHtcbiAgdmFyIHVzZUNvbG9ycyA9IHRoaXMudXNlQ29sb3JzO1xuXG4gIGFyZ3NbMF0gPSAodXNlQ29sb3JzID8gJyVjJyA6ICcnKVxuICAgICsgdGhpcy5uYW1lc3BhY2VcbiAgICArICh1c2VDb2xvcnMgPyAnICVjJyA6ICcgJylcbiAgICArIGFyZ3NbMF1cbiAgICArICh1c2VDb2xvcnMgPyAnJWMgJyA6ICcgJylcbiAgICArICcrJyArIGV4cG9ydHMuaHVtYW5pemUodGhpcy5kaWZmKTtcblxuICBpZiAoIXVzZUNvbG9ycykgcmV0dXJuO1xuXG4gIHZhciBjID0gJ2NvbG9yOiAnICsgdGhpcy5jb2xvcjtcbiAgYXJncy5zcGxpY2UoMSwgMCwgYywgJ2NvbG9yOiBpbmhlcml0JylcblxuICAvLyB0aGUgZmluYWwgXCIlY1wiIGlzIHNvbWV3aGF0IHRyaWNreSwgYmVjYXVzZSB0aGVyZSBjb3VsZCBiZSBvdGhlclxuICAvLyBhcmd1bWVudHMgcGFzc2VkIGVpdGhlciBiZWZvcmUgb3IgYWZ0ZXIgdGhlICVjLCBzbyB3ZSBuZWVkIHRvXG4gIC8vIGZpZ3VyZSBvdXQgdGhlIGNvcnJlY3QgaW5kZXggdG8gaW5zZXJ0IHRoZSBDU1MgaW50b1xuICB2YXIgaW5kZXggPSAwO1xuICB2YXIgbGFzdEMgPSAwO1xuICBhcmdzWzBdLnJlcGxhY2UoLyVbYS16QS1aJV0vZywgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICBpZiAoJyUlJyA9PT0gbWF0Y2gpIHJldHVybjtcbiAgICBpbmRleCsrO1xuICAgIGlmICgnJWMnID09PSBtYXRjaCkge1xuICAgICAgLy8gd2Ugb25seSBhcmUgaW50ZXJlc3RlZCBpbiB0aGUgKmxhc3QqICVjXG4gICAgICAvLyAodGhlIHVzZXIgbWF5IGhhdmUgcHJvdmlkZWQgdGhlaXIgb3duKVxuICAgICAgbGFzdEMgPSBpbmRleDtcbiAgICB9XG4gIH0pO1xuXG4gIGFyZ3Muc3BsaWNlKGxhc3RDLCAwLCBjKTtcbn1cblxuLyoqXG4gKiBJbnZva2VzIGBjb25zb2xlLmxvZygpYCB3aGVuIGF2YWlsYWJsZS5cbiAqIE5vLW9wIHdoZW4gYGNvbnNvbGUubG9nYCBpcyBub3QgYSBcImZ1bmN0aW9uXCIuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBsb2coKSB7XG4gIC8vIHRoaXMgaGFja2VyeSBpcyByZXF1aXJlZCBmb3IgSUU4LzksIHdoZXJlXG4gIC8vIHRoZSBgY29uc29sZS5sb2dgIGZ1bmN0aW9uIGRvZXNuJ3QgaGF2ZSAnYXBwbHknXG4gIHJldHVybiAnb2JqZWN0JyA9PT0gdHlwZW9mIGNvbnNvbGVcbiAgICAmJiBjb25zb2xlLmxvZ1xuICAgICYmIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKGNvbnNvbGUubG9nLCBjb25zb2xlLCBhcmd1bWVudHMpO1xufVxuXG4vKipcbiAqIFNhdmUgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBzYXZlKG5hbWVzcGFjZXMpIHtcbiAgdHJ5IHtcbiAgICBpZiAobnVsbCA9PSBuYW1lc3BhY2VzKSB7XG4gICAgICBleHBvcnRzLnN0b3JhZ2UucmVtb3ZlSXRlbSgnZGVidWcnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXhwb3J0cy5zdG9yYWdlLmRlYnVnID0gbmFtZXNwYWNlcztcbiAgICB9XG4gIH0gY2F0Y2goZSkge31cbn1cblxuLyoqXG4gKiBMb2FkIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcmV0dXJuIHtTdHJpbmd9IHJldHVybnMgdGhlIHByZXZpb3VzbHkgcGVyc2lzdGVkIGRlYnVnIG1vZGVzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBsb2FkKCkge1xuICB2YXIgcjtcbiAgdHJ5IHtcbiAgICByID0gZXhwb3J0cy5zdG9yYWdlLmRlYnVnO1xuICB9IGNhdGNoKGUpIHt9XG5cbiAgLy8gSWYgZGVidWcgaXNuJ3Qgc2V0IGluIExTLCBhbmQgd2UncmUgaW4gRWxlY3Ryb24sIHRyeSB0byBsb2FkICRERUJVR1xuICBpZiAoIXIgJiYgdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICdlbnYnIGluIHByb2Nlc3MpIHtcbiAgICByID0gcHJvY2Vzcy5lbnYuREVCVUc7XG4gIH1cblxuICByZXR1cm4gcjtcbn1cblxuLyoqXG4gKiBFbmFibGUgbmFtZXNwYWNlcyBsaXN0ZWQgaW4gYGxvY2FsU3RvcmFnZS5kZWJ1Z2AgaW5pdGlhbGx5LlxuICovXG5cbmV4cG9ydHMuZW5hYmxlKGxvYWQoKSk7XG5cbi8qKlxuICogTG9jYWxzdG9yYWdlIGF0dGVtcHRzIHRvIHJldHVybiB0aGUgbG9jYWxzdG9yYWdlLlxuICpcbiAqIFRoaXMgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugc2FmYXJpIHRocm93c1xuICogd2hlbiBhIHVzZXIgZGlzYWJsZXMgY29va2llcy9sb2NhbHN0b3JhZ2VcbiAqIGFuZCB5b3UgYXR0ZW1wdCB0byBhY2Nlc3MgaXQuXG4gKlxuICogQHJldHVybiB7TG9jYWxTdG9yYWdlfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbG9jYWxzdG9yYWdlKCkge1xuICB0cnkge1xuICAgIHJldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlO1xuICB9IGNhdGNoIChlKSB7fVxufVxuIiwiZXhwb3J0IGNvbnN0IGNvbG9yX2NvdW50cmllcyA9ICdyZ2IoMTQ3LDE0NCwyNTIpJztcbmV4cG9ydCBjb25zdCBjb2xvcl9kaXNhYmxlZCA9ICdyZ2IoMjE0LCAyMTQsIDIxNCknO1xuZXhwb3J0IGNvbnN0IGNvbG9yX3N1cCA9ICdncmVlbic7XG5leHBvcnQgY29uc3QgY29sb3JfaW5mID0gJ3JlZCc7XG5leHBvcnQgY29uc3QgY29sb3JfaGlnaGxpZ2h0ID0gJ3llbGxvdyc7XG4iLCJpbXBvcnQgeyBjb2xvcl9pbmYsIGNvbG9yX3N1cCB9IGZyb20gJy4vb3B0aW9ucyc7XG5cbmNvbnN0IG1hdGhfYWJzID0gTWF0aC5hYnM7XG5jb25zdCBtYXRoX3JvdW5kID0gTWF0aC5yb3VuZDtcbmNvbnN0IG1hdGhfbWF4ID0gTWF0aC5tYXg7XG5jb25zdCBtYXRoX3NpbiA9IE1hdGguc2luO1xuY29uc3QgbWF0aF9jb3MgPSBNYXRoLmNvcztcbmNvbnN0IEhBTEZfUEkgPSBNYXRoLlBJIC8gMjtcblxuZnVuY3Rpb24gcHJlcGFyZVRvb2x0aXAocGFyZW50X3N2Z19lbGVtKSB7XG4gIGNvbnN0IHRvb2x0aXAgPSBwYXJlbnRfc3ZnX2VsZW0uYXBwZW5kKCdnJylcbiAgICAuYXR0cignY2xhc3MnLCAndG9vbHRpcCcpXG4gICAgLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcblxuICB0b29sdGlwLmFwcGVuZCgncmVjdCcpXG4gICAgLmF0dHJzKHsgd2lkdGg6IDUwLCBoZWlnaHQ6IDQwLCBmaWxsOiAnd2hpdGUnIH0pXG4gICAgLnN0eWxlKCdvcGFjaXR5JywgMC41KTtcblxuICB0b29sdGlwLmFwcGVuZCgndGV4dCcpXG4gICAgLmF0dHJzKHsgY2xhc3M6ICdpZF9mZWF0dXJlJywgeDogMjUsIGR5OiAnMS4yZW0nLCAnZm9udC1zaXplJzogJzE0cHgnIH0pXG4gICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKTtcblxuICB0b29sdGlwLmFwcGVuZCgndGV4dCcpXG4gICAgLmF0dHJzKHtcbiAgICAgIGNsYXNzOiAndmFsdWVfZmVhdHVyZTEnLFxuICAgICAgeDogMjUsXG4gICAgICBkeTogJzIuNGVtJyxcbiAgICAgICdmb250LXNpemUnOiAnMTRweCcsXG4gICAgICAnZm9udC13ZWlnaHQnOiAnYm9sZCcgfSlcbiAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpO1xuXG4gIHRvb2x0aXAuYXBwZW5kKCd0ZXh0JylcbiAgICAuYXR0cnMoe1xuICAgICAgY2xhc3M6ICd2YWx1ZV9mZWF0dXJlMicsXG4gICAgICB4OiAyNSxcbiAgICAgIGR5OiAnMy41ZW0nLFxuICAgICAgJ2ZvbnQtc2l6ZSc6ICcxNHB4JyxcbiAgICAgICdmb250LXdlaWdodCc6ICdib2xkJyB9KVxuICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnbWlkZGxlJyk7XG5cbiAgdG9vbHRpcC5hcHBlbmQoJ3RleHQnKVxuICAgIC5hdHRycyh7XG4gICAgICBjbGFzczogJ3ZhbHVlX2ZlYXR1cmUzJyxcbiAgICAgIHg6IDI1LFxuICAgICAgZHk6ICc0LjZlbScsXG4gICAgICAnZm9udC1zaXplJzogJzE0cHgnLFxuICAgICAgJ2ZvbnQtd2VpZ2h0JzogJ2JvbGQnIH0pXG4gICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKTtcblxuICB0b29sdGlwLmFwcGVuZCgndGV4dCcpXG4gICAgLmF0dHJzKHtcbiAgICAgIGNsYXNzOiAndmFsdWVfZmVhdHVyZTQnLFxuICAgICAgeDogMjUsXG4gICAgICBkeTogJzUuN2VtJyxcbiAgICAgICdmb250LXNpemUnOiAnMTRweCcsXG4gICAgICAnZm9udC13ZWlnaHQnOiAnYm9sZCcgfSlcbiAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpO1xuXG4gIHJldHVybiB0b29sdGlwO1xufVxuXG5mdW5jdGlvbiB1bmJpbmRVSSgpIHtcbiAgLy8gUmVtb3ZlcyB0aGUgY3VycmVudCBiZWhhdmlvciBjb3JyZXNwb25kaW5nIHRvIGNsaWNraW5nIG9uIHRoZSBsZWZ0IG1lbnU6XG4gIGQzLnNlbGVjdEFsbCgnc3Bhbi5maWx0ZXJfdicpXG4gICAgLm9uKCdjbGljaycsIG51bGwpO1xuICBkMy5zZWxlY3RBbGwoJ3NwYW4udGFyZ2V0X3JlZ2lvbicpXG4gICAgLm9uKCdjbGljaycsIG51bGwpO1xuICBkMy5zZWxlY3RBbGwoJ3NwYW4ubGFiZWxfY2hrJylcbiAgICAub24oJ2NsaWNrJywgbnVsbCk7XG5cbiAgLy8gUmVtb3ZlIHRoZSB0YWJsZTpcbiAgZDMuc2VsZWN0KCcuZGF0YVRhYmxlLXdyYXBwZXInKS5yZW1vdmUoKTtcblxuICAvLyBVbmJpbmQgYnV0dG9ucyBvbiB0aGUgdG9wIG9mIHRoZSBtYXA6XG4gIGQzLnNlbGVjdCgnI2hlYWRlcl9tYXAnKVxuICAgIC5zZWxlY3RBbGwoJ2ltZycpXG4gICAgLm9uKCdjbGljaycsIG51bGwpO1xuXG4gIC8vIFJlbW92ZSB0aGUgc2VsZWN0aW9uIG1lbnUgKG9yIGJ1dHRvbnMpIHVuZGVyIHRoZSBjaGFydDpcbiAgZDMuc2VsZWN0KCcjYmFyX3NlY3Rpb24gPiAjbWVudV9zZWxlY3Rpb24nKS5yZW1vdmUoKTtcblxuICAvLyBSZW1vdmVzIHRoZSBjdXJyZW50IGJlaGF2aW9yIGNvcnJlc3BvbmRpbmcgdG8gY2xpY2tpbmcgb24gdGhlIHRvcCBtZW51OlxuICBkMy5zZWxlY3RBbGwoJy50eXBlX2NoYXJ0LnRpdGxlX21lbnUnKS5vbignY2xpY2snLCBudWxsKTtcblxuICAvLyBSZW1vdmVzIHRoZSBjdXJyZW50IGJlaGF2aW9yIGNvcnJlc3BvbmRpbmcgdG8gcHJlc3NpbmcgdGhlIENvbnRyb2wga2V5OlxuICBkb2N1bWVudC5vbmtleXVwID0gbnVsbDtcbiAgZG9jdW1lbnQub25rZXlkb3duID0gbnVsbDtcbn1cblxuLyoqXG4qIEZ1bmN0aW9uIHRvIGNvbXBhcmUgdGhlIHZhbHVlIG9mIGEgZmVhdHVyZSB0byB0aGUgcmVmZXJlbmNlIHZhbHVlIChpLmUuIHRoZSB2YWx1ZSBvZiBcIm15IHJlZ2lvblwiKVxuKiBhbmQgcmV0dXJuIHRoZSBhcHByb3ByaWF0ZSBjb2xvciAoc2VyaWUgbWF5IGJlIGludmVyc2VkKVxuKlxuKiBAcGFyYW0ge051bWJlcn0gdGVzdF92YWx1ZSAtIFRoZSB2YWx1ZSB0byBiZSBjb21wYXJlZCB0byB0aGUgdmFsdWUgb2YgXCJteSByZWdpb25cIi5cbiogQHBhcmFtIHtOdW1iZXJ9IHJlZl92YWx1ZSAtIFRoZSB2YWx1ZSBvZiBteSByZWdpb24uXG4qIEBwYXJhbSB7Qm9vbGVhbn0gc2VyaWVfaW52ZXJzZWQgLSBXaGV0aGVyIHRoZSBzZXJpZSBpcyBpbnZlcnNlZCBvciBub3QgaW4gdGhlIGN1cnJlbnQgY2hhcnQuXG4qIEByZXR1cm4ge1N0cmluZ30gLSBBIHN0cmluZyBjb250YWluaW5nIHRoZSBjb2xvciB0byBiZSB1c2VkIGZvciB0aGlzIHZhbHVlLlxuKlxuKi9cbmNvbnN0IGNvbXAgPSAodGVzdF92YWx1ZSwgcmVmX3ZhbHVlLCBzZXJpZV9pbnZlcnNlZCkgPT4ge1xuICBpZiAodGVzdF92YWx1ZSA8IHJlZl92YWx1ZSkge1xuICAgIHJldHVybiBzZXJpZV9pbnZlcnNlZCA/IGNvbG9yX3N1cCA6IGNvbG9yX2luZjtcbiAgfVxuICByZXR1cm4gc2VyaWVfaW52ZXJzZWQgPyBjb2xvcl9pbmYgOiBjb2xvcl9zdXA7XG59O1xuXG5cbi8qKlxuKiBGdW5jdGlvbiB0byBjb21wYXJlIHRoZSB2YWx1ZSBvZiBhIGZlYXR1cmUgdG8gdGhlIHJlZmVyZW5jZSB2YWx1ZSAoaS5lLiB0aGUgdmFsdWUgb2YgXCJteSByZWdpb25cIilcbiogYW5kIHJldHVybiB0aGUgYXBwcm9wcmlhdGUgY29sb3IgKHNlcmllIG1heSBiZSBpbnZlcnNlZClcbipcbiogQHBhcmFtIHtOdW1iZXJ9IHZhbDEgLSBUaGUgdmFsdWUgdG8gYmUgY29tcGFyZWQgdG8gdGhlIHZhbHVlIG9mIFwibXkgcmVnaW9uXCIgZm9yIHRoZSAxc3QgdmFyaWFibGUuXG4qIEBwYXJhbSB7TnVtYmVyfSB2YWwyIC0gVGhlIHZhbHVlIHRvIGJlIGNvbXBhcmVkIHRvIHRoZSB2YWx1ZSBvZiBcIm15IHJlZ2lvblwiIGZvciB0aGUgMm5kIHZhcmlhYmxlLlxuKiBAcGFyYW0ge051bWJlcn0gcmVmX3ZhbDEgLSBUaGUgdmFsdWUgb2YgbXkgcmVnaW9uIGZvciBoZSBmaXJzdCB2YXJpYWJsZS5cbiogQHBhcmFtIHtOdW1iZXJ9IHJlZl92YWwyIC0gVGhlIHZhbHVlIG9mIG15IHJlZ2lvbiBmb3IgdGhlIHNlY29uZCB2YXJpYWJsZS5cbiogQHBhcmFtIHtCb29sZWFufSB4SW52ZXJzZWQgLSBXaGV0aGVyIHRoZSBzZXJpZSBpcyBpbnZlcnNlZCBvbiB0aGUgeCBheGlzIGluIHRoZSBjdXJyZW50IGNoYXJ0LlxuKiBAcGFyYW0ge0Jvb2xlYW59IHlJbnZlcnNlZCAtIFdoZXRoZXIgdGhlIHNlcmllIGlzIGludmVyc2VkIG9uIHRoZSB5IGF4aXMgaW4gdGhlIGN1cnJlbnQgY2hhcnQuXG4qIEByZXR1cm4ge1N0cmluZ30gLSBBIHN0cmluZyBjb250YWluaW5nIHRoZSBjb2xvciB0byBiZSB1c2VkIGZvciB0aGVzZXMgdmFsdWVzLlxuKlxuKi9cbmNvbnN0IGNvbXAyID0gKHZhbDEsIHZhbDIsIHJlZl92YWwxLCByZWZfdmFsMiwgeEludmVyc2VkLCB5SW52ZXJzZWQpID0+IHtcbiAgaWYgKCh2YWwxIDwgcmVmX3ZhbDEgJiYgIXhJbnZlcnNlZCkgfHwgKHZhbDEgPiByZWZfdmFsMSAmJiB4SW52ZXJzZWQpKSB7IC8vIHZhbDEgaXMgaW5mZXJpb3I6XG4gICAgaWYgKHZhbDIgPCByZWZfdmFsMikge1xuICAgICAgcmV0dXJuIHlJbnZlcnNlZCA/ICdyZ2IoMTYwLCAzMCwgMTYwKScgOiBjb2xvcl9pbmY7XG4gICAgfVxuICAgIHJldHVybiB5SW52ZXJzZWQgPyBjb2xvcl9pbmYgOiAncmdiKDE2MCwgMzAsIDE2MCknO1xuICB9XG4gIC8vIHZhbDEgaXMgc3VwZXJpb3IgOlxuICBpZiAodmFsMiA+IHJlZl92YWwyKSB7XG4gICAgcmV0dXJuICF5SW52ZXJzZWQgPyBjb2xvcl9zdXAgOiAnb3JhbmdlJztcbiAgfVxuICByZXR1cm4gIXlJbnZlcnNlZCA/ICdvcmFuZ2UnIDogY29sb3Jfc3VwO1xufTtcblxuY2xhc3MgUmVjdCB7XG4gIGNvbnN0cnVjdG9yKHRvcGxlZnQsIGJvdHRvbXJpZ2h0KSB7XG4gICAgdGhpcy54bWluID0gdG9wbGVmdFswXTtcbiAgICB0aGlzLnhtYXggPSBib3R0b21yaWdodFswXTtcbiAgICB0aGlzLnltaW4gPSB0b3BsZWZ0WzFdO1xuICAgIHRoaXMueW1heCA9IGJvdHRvbXJpZ2h0WzFdO1xuICB9XG5cbiAgY29udGFpbnMocHQpIHtcbiAgICBpZiAocHRbMF0gPj0gdGhpcy54bWluICYmIHB0WzBdIDw9IHRoaXMueG1heFxuICAgICAgICAmJiBwdFsxXSA+PSB0aGlzLnltaW4gJiYgcHRbMV0gPD0gdGhpcy55bWF4KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmNvbnN0IFByb3BTaXplciA9IGZ1bmN0aW9uIFByb3BTaXplcihmaXhlZF92YWx1ZSwgZml4ZWRfc2l6ZSkge1xuICB0aGlzLmZpeGVkX3ZhbHVlID0gZml4ZWRfdmFsdWU7XG4gIGNvbnN0IHNxcnQgPSBNYXRoLnNxcnQ7XG4gIGNvbnN0IGFicyA9IE1hdGguYWJzO1xuICBjb25zdCBQSSA9IE1hdGguUEk7XG4gIHRoaXMuc21heCA9IGZpeGVkX3NpemUgKiBmaXhlZF9zaXplICogUEk7XG4gIHRoaXMuc2NhbGUgPSB2YWwgPT4gc3FydChhYnModmFsKSAqIHRoaXMuc21heCAvIHRoaXMuZml4ZWRfdmFsdWUpIC8gUEk7XG4gIC8vIHRoaXMuZ2V0X3ZhbHVlID0gc2l6ZSA9PiAoKHNpemUgKiBQSSkgKiogMikgLyB0aGlzLnNtYXggKiB0aGlzLmZpeGVkX3ZhbHVlO1xuICAvLyBVc2UgTWF0aCBwb3cgdG8gc3VwcG9ydCBicm93c2VyIHdpdGhvdXQgKiogb3BlcmF0b3I6XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXByb3BlcnRpZXNcbiAgdGhpcy5nZXRfdmFsdWUgPSBzaXplID0+IE1hdGgucG93KHNpemUgKiBQSSwgMikgLyB0aGlzLnNtYXggKiB0aGlzLmZpeGVkX3ZhbHVlO1xufTtcblxuY29uc3QgcmVtb3ZlRHVwbGljYXRlcyA9IGZ1bmN0aW9uIHJlbW92ZUR1cGxpY2F0ZXMoYXJyKSB7XG4gIGNvbnN0IHRtcCA9IFtdO1xuICBmb3IgKGxldCBpID0gMCwgbGVuX2FyciA9IGFyci5sZW5ndGg7IGkgPCBsZW5fYXJyOyBpKyspIHtcbiAgICBpZiAodG1wLmluZGV4T2YoYXJyW2ldKSA9PT0gLTEpIHtcbiAgICAgIHRtcC5wdXNoKGFycltpXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB0bXA7XG59O1xuXG5jb25zdCBnZXRTdmdQYXRoVHlwZSA9IChwYXRoKSA9PiB7XG4gIGlmIChwYXRoLmluZGV4T2YoJ00gJykgPiAtMSAmJiBwYXRoLmluZGV4T2YoJyBMICcpID4gLTEpIHtcbiAgICByZXR1cm4gMjtcbiAgfVxuICByZXR1cm4gMTtcbn07XG5cbmNvbnN0IHN2Z1BhdGhUb0Nvb3JkcyA9IChwYXRoLCB0eXBlX3BhdGgpID0+IHtcbiAgaWYgKHR5cGVfcGF0aCA9PT0gMSkge1xuICAgIHJldHVybiBwYXRoLnNsaWNlKDEpLnNwbGl0KCdMJykubWFwKHB0ID0+IHB0LnNwbGl0KCcsJykubWFwKGEgPT4gK2EpKTtcbiAgfVxuICByZXR1cm4gcGF0aC5zbGljZSgyKS5zcGxpdCgnIEwgJykubWFwKHB0ID0+IHB0LnNwbGl0KCcgJykubWFwKGEgPT4gK2EpKTtcbn07XG5cbmZ1bmN0aW9uIGNvbXB1dGVQZXJjZW50aWxlUmFuayhvYmosIGZpZWxkX25hbWUsIHJlc3VsdF9maWVsZF9uYW1lKSB7XG4gIGNvbnN0IHZhbHVlcyA9IG9iai5tYXAoZCA9PiBkW2ZpZWxkX25hbWVdKTtcbiAgY29uc3QgbGVuX3ZhbHVlcyA9IHZhbHVlcy5sZW5ndGg7XG4gIGNvbnN0IGdldFBSID0gKHYpID0+IHtcbiAgICBsZXQgY291bnQgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuX3ZhbHVlczsgaSsrKSB7XG4gICAgICBpZiAodmFsdWVzW2ldIDw9IHYpIHtcbiAgICAgICAgY291bnQgKz0gMTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIDEwMCAqIGNvdW50IC8gbGVuX3ZhbHVlcztcbiAgfTtcbiAgZm9yIChsZXQgaXggPSAwOyBpeCA8IGxlbl92YWx1ZXM7IGl4KyspIHtcbiAgICBvYmpbaXhdW3Jlc3VsdF9maWVsZF9uYW1lXSA9IGdldFBSKHZhbHVlc1tpeF0pO1xuICB9XG59XG5cbmNvbnN0IF9nZXRQUiA9ICh2LCBzZXJpZSkgPT4ge1xuICBsZXQgY291bnQgPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNlcmllLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHNlcmllW2ldIDw9IHYpIHtcbiAgICAgIGNvdW50ICs9IDE7XG4gICAgfVxuICB9XG4gIHJldHVybiAxMDAgKiBjb3VudCAvIHNlcmllLmxlbmd0aDtcbn07XG5cbmV4cG9ydCB7XG4gIGNvbXAsXG4gIGNvbXAyLFxuICBtYXRoX2FicyxcbiAgbWF0aF9yb3VuZCxcbiAgbWF0aF9zaW4sXG4gIG1hdGhfY29zLFxuICBtYXRoX21heCxcbiAgSEFMRl9QSSxcbiAgUmVjdCxcbiAgUHJvcFNpemVyLFxuICB1bmJpbmRVSSxcbiAgcHJlcGFyZVRvb2x0aXAsXG4gIHJlbW92ZUR1cGxpY2F0ZXMsXG4gIGdldFN2Z1BhdGhUeXBlLFxuICBzdmdQYXRoVG9Db29yZHMsXG4gIGNvbXB1dGVQZXJjZW50aWxlUmFuayxcbiAgX2dldFBSLFxufTtcbiIsImltcG9ydCB7IHJlbW92ZUR1cGxpY2F0ZXMgfSBmcm9tICcuL2hlbHBlcnMnO1xuXG5jb25zdCBjcmVhdGVNZW51ID0gZnVuY3Rpb24gY3JlYXRlTWVudShuYW1lcywgdmFyaWFibGVzLCBzdHVkeV96b25lcywgdGVycml0b3JpYWxfbWVzaCkge1xuICAvLyBGaXJzdCBzZWN0aW9uLCByZWdpb25zIG5hbWVzOlxuICBjb25zdCB0aXRsZV9zZWN0aW9uMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgdGl0bGVfc2VjdGlvbjEuY2xhc3NOYW1lID0gJ3RpdGxlX21lbnUnO1xuICB0aXRsZV9zZWN0aW9uMS5pbm5lckhUTUwgPSAnTWEgcsOpZ2lvbic7XG4gIGNvbnN0IHNlY3Rpb24xID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHNlY3Rpb24xLmNsYXNzTmFtZSA9ICdib3gnO1xuICBzZWN0aW9uMS5zdHlsZS5vdmVyZmxvdyA9ICdhdXRvJztcbiAgc2VjdGlvbjEuc3R5bGUuaGVpZ2h0ID0gJzE4MHB4JztcbiAgZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gbmFtZXMubGVuZ3RoOyBpIDwgbGVuX2k7IGkrKykge1xuICAgIGNvbnN0IGlkID0gbmFtZXNbaV0uZ2VvO1xuICAgIGNvbnN0IG5hbWUgPSBuYW1lc1tpXS5Ob207XG4gICAgY29uc3QgZW50cnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgZW50cnkuaW5uZXJIVE1MID0gYDxzcGFuIHZhbHVlPVwiJHtpZH1cIiBjbGFzcz0ndGFyZ2V0X3JlZ2lvbiBzcXVhcmUnPjwvc3Bhbj48c3BhbiBjbGFzcz1cImxhYmVsX2Noa1wiPiR7bmFtZX08L3NwYW4+YDtcbiAgICBzZWN0aW9uMS5hcHBlbmRDaGlsZChlbnRyeSk7XG4gIH1cblxuICAvLyBTZWNvbmQgc2VjdGlvbiwgZ3JvdXBzIG9mIHZhcmlhYmxlczpcbiAgY29uc3QgdGl0bGVfc2VjdGlvbjIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gIHRpdGxlX3NlY3Rpb24yLmNsYXNzTmFtZSA9ICd0aXRsZV9tZW51JztcbiAgdGl0bGVfc2VjdGlvbjIuaW5uZXJIVE1MID0gJ01vbi9tZXMgaW5kaWNhdGV1cnMnO1xuICBjb25zdCBzZWN0aW9uMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBzZWN0aW9uMi5jbGFzc05hbWUgPSAnYm94JztcbiAgc2VjdGlvbjIuc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7XG4gIHNlY3Rpb24yLnN0eWxlLmhlaWdodCA9ICcxNzBweCc7XG5cbiAgLy8gRmlsdGVyIHRoZSBcInZhcmlhYmxlc1wiIHZhcmlhYmxlIHRvIGZldGNoIHRoZSBncm91cCBuYW1lcyA6XG4gIGNvbnN0IGdyb3Vwc192YXIgPSByZW1vdmVEdXBsaWNhdGVzKHZhcmlhYmxlcy5tYXAoZCA9PiBkLmdyb3VwKSk7XG5cbiAgZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gZ3JvdXBzX3Zhci5sZW5ndGg7IGkgPCBsZW5faTsgaSsrKSB7XG4gICAgY29uc3QgZ3BfbmFtZSA9IGdyb3Vwc192YXJbaV07XG4gICAgY29uc3QgZW50cnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgZW50cnkuY2xhc3NOYW1lID0gJ25hbWVfZ3JvdXBfdmFyJztcbiAgICBlbnRyeS5pbm5lckhUTUwgPSBgPHNwYW4gY2xhc3M9J3NxdWFyZSc+PC9zcGFuPjxzcGFuPiR7Z3BfbmFtZX08L3NwYW4+YDtcbiAgICBzZWN0aW9uMi5hcHBlbmRDaGlsZChlbnRyeSk7XG4gICAgY29uc3QgZGl2X2dycCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRpdl9ncnAuc3R5bGUuZGlzcGxheSA9IGkgPT09IDAgPyBudWxsIDogJ25vbmUnO1xuICAgIGNvbnN0IHZhcl9uYW1lcyA9IHZhcmlhYmxlcy5maWx0ZXIoZCA9PiBkLmdyb3VwID09PSBncF9uYW1lKTtcbiAgICBmb3IgKGxldCBqID0gMCwgbGVuX2ogPSB2YXJfbmFtZXMubGVuZ3RoOyBqIDwgbGVuX2o7IGorKykge1xuICAgICAgY29uc3QgbmFtZV92YXIgPSB2YXJfbmFtZXNbal0ubmFtZTtcbiAgICAgIGNvbnN0IGNvZGVfdmFyID0gdmFyX25hbWVzW2pdLnJhdGlvO1xuICAgICAgY29uc3Qgc3ViX2VudHJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgc3ViX2VudHJ5LmNsYXNzTmFtZSA9ICdzbWFsbCc7XG4gICAgICBzdWJfZW50cnkuaW5uZXJIVE1MID0gYDxzcGFuIHZhbHVlPVwiJHtjb2RlX3Zhcn1cIiBjbGFzcz1cInRhcmdldF92YXJpYWJsZSBzbWFsbF9zcXVhcmVcIj48L3NwYW4+PHNwYW4gY2xhc3M9XCJsYWJlbF9jaGtcIj4ke25hbWVfdmFyfTwvc3Bhbj5gO1xuICAgICAgZGl2X2dycC5hcHBlbmRDaGlsZChzdWJfZW50cnkpO1xuICAgIH1cbiAgICBzZWN0aW9uMi5hcHBlbmRDaGlsZChkaXZfZ3JwKTtcbiAgfVxuXG4gIC8vIFRoaXJkIHNlY3Rpb24sIHN0dWR5IHpvbmU6XG4gIGNvbnN0IHRpdGxlX3NlY3Rpb24zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICB0aXRsZV9zZWN0aW9uMy5jbGFzc05hbWUgPSAndGl0bGVfbWVudSc7XG4gIHRpdGxlX3NlY3Rpb24zLmlubmVySFRNTCA9ICdNb24gZXNwYWNlIGRcXCfDqXR1ZGUnO1xuICBjb25zdCBzZWN0aW9uMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBzZWN0aW9uMy5jbGFzc05hbWUgPSAnYm94JztcbiAgZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gc3R1ZHlfem9uZXMubGVuZ3RoOyBpIDwgbGVuX2k7IGkrKykge1xuICAgIGNvbnN0IGVudHJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGNvbnN0IHpvbmUgPSBzdHVkeV96b25lc1tpXTtcbiAgICBlbnRyeS5pbm5lckhUTUwgPSBgPHNwYW4gZmlsdGVyLXZhbHVlPVwiJHt6b25lLmlkfVwiIGNsYXNzPSdmaWx0ZXJfdiBzcXVhcmUnPjwvc3Bhbj48c3BhbiBjbGFzcz1cImxhYmVsX2Noa1wiPiR7em9uZS5uYW1lfTwvc3Bhbj5gO1xuICAgIHNlY3Rpb24zLmFwcGVuZENoaWxkKGVudHJ5KTtcbiAgfVxuXG4gIC8vIEZvdXJ0aCBzZWN0aW9uOlxuICBjb25zdCB0aXRsZV9zZWN0aW9uNCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgdGl0bGVfc2VjdGlvbjQuY2xhc3NOYW1lID0gJ3RpdGxlX21lbnUnO1xuICB0aXRsZV9zZWN0aW9uNC5pbm5lckhUTUwgPSAnTWFpbGxhZ2UgdGVycml0b3JpYWwgZFxcJ2FuYWx5c2UnO1xuICBjb25zdCBzZWN0aW9uNCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBzZWN0aW9uNC5jbGFzc05hbWUgPSAnYm94JztcbiAgZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gdGVycml0b3JpYWxfbWVzaC5sZW5ndGg7IGkgPCBsZW5faTsgaSsrKSB7XG4gICAgY29uc3QgZW50cnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgY29uc3QgdGVycml0X2xldmVsID0gdGVycml0b3JpYWxfbWVzaFtpXTtcbiAgICBlbnRyeS5pbm5lckhUTUwgPSBgPHNwYW4gdmFsdWU9XCIke3RlcnJpdF9sZXZlbC5pZH1cIiBjbGFzcz0nc3F1YXJlIHRlcnJpdF9sZXZlbCc+PC9zcGFuPjxzcGFuIGNsYXNzPVwibGFiZWxfY2hrXCI+JHt0ZXJyaXRfbGV2ZWwubmFtZX08L3NwYW4+YDtcbiAgICBzZWN0aW9uNC5hcHBlbmRDaGlsZChlbnRyeSk7XG4gIH1cblxuICAvLyBUaGUgYWN0dWFsIG1lbnUgY29udGFpbmluZyB0aGVzZSA0IHNlY3Rpb25zOlxuICBjb25zdCBtZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnUnKTtcbiAgbWVudS5pZCA9ICdtZW51JztcbiAgbWVudS5zdHlsZS53aWR0aCA9ICczNDBweCc7XG4gIG1lbnUuc3R5bGUuZmxvYXQgPSAnbGVmdCc7XG4gIG1lbnUuYXBwZW5kQ2hpbGQodGl0bGVfc2VjdGlvbjEpO1xuICBtZW51LmFwcGVuZENoaWxkKHNlY3Rpb24xKTtcbiAgbWVudS5hcHBlbmRDaGlsZCh0aXRsZV9zZWN0aW9uMik7XG4gIG1lbnUuYXBwZW5kQ2hpbGQoc2VjdGlvbjIpO1xuICBtZW51LmFwcGVuZENoaWxkKHRpdGxlX3NlY3Rpb24zKTtcbiAgbWVudS5hcHBlbmRDaGlsZChzZWN0aW9uMyk7XG4gIG1lbnUuYXBwZW5kQ2hpbGQodGl0bGVfc2VjdGlvbjQpO1xuICBtZW51LmFwcGVuZENoaWxkKHNlY3Rpb240KTtcbn07XG5cbmV4cG9ydCB7IGNyZWF0ZU1lbnUgfTtcbiIsImltcG9ydCB7IGFwcCB9IGZyb20gJy4vLi4vbWFpbic7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VUb3BNZW51KCkge1xuICBjb25zdCB0b3BfbWVudSA9IGQzLnNlbGVjdCgnI21lbnV0b3AnKVxuICAgIC5zdHlsZXMoeyAnZm9udC1mYW1pbHknOiBcIidTaWduaWthJywgc2Fucy1zZXJpZlwiLCAnZm9udC1zaXplJzogJzAuODBlbScsIHBhZGRpbmc6ICcwLjNweCcgfSk7XG4gIGNvbnN0IHdpZHRoX2xlZnQgPSBgJHtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWVudScpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICsgMjV9cHhgO1xuICBjb25zdCB0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Jhcl9zZWN0aW9uJykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XG4gIGNvbnN0IHdpZHRoX2NlbnRyYWxfY2hhcnQgPSBgJHt0fXB4YDtcbiAgY29uc3Qgd2lkdGhfbWFwID0gYCR7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21hcF9zZWN0aW9uJykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggLSAzNX1weGA7XG4gIGNvbnN0IHdpZHRoX3R5cGVfY29tcCA9IGAkeyh0IC0gODApIC8gMyAtIDJ9cHhgO1xuICB0b3BfbWVudVxuICAgIC5hcHBlbmQoJ2RpdicpXG4gICAgLmF0dHJzKHsgY2xhc3M6ICd0aXRsZV9zZWN0aW9uJyB9KVxuICAgIC5zdHlsZXMoeyB3aWR0aDogd2lkdGhfbGVmdCwgZmxvYXQ6ICdsZWZ0JywgbWFyZ2luOiAnMCAzcHgnIH0pXG4gICAgLmh0bWwoJ1PDiUxFQ1RJT04nKTtcblxuICBjb25zdCB0eXBlX2NoYXJ0ID0gdG9wX21lbnVcbiAgICAuYXBwZW5kKCdkaXYnKVxuICAgIC5hdHRyKCdjbGFzcycsICd0b3Bfc2VjdGlvbicpXG4gICAgLnN0eWxlcyh7IHdpZHRoOiB3aWR0aF9jZW50cmFsX2NoYXJ0LCBmbG9hdDogJ2xlZnQnLCBtYXJnaW46ICcwIDNweCcsICd0ZXh0LWFsaWduJzogJ2NlbnRlcicgfSk7XG5cbiAgY29uc3QgcG9zaXRpb24gPSB0eXBlX2NoYXJ0XG4gICAgLmFwcGVuZCgnZGl2JylcbiAgICAuYXR0cignY2xhc3MnLCAndHlwZV9jb21wYXJhaXNvbicpXG4gICAgLnN0eWxlcyh7IHdpZHRoOiB3aWR0aF90eXBlX2NvbXAgfSk7XG5cbiAgcG9zaXRpb24uYXBwZW5kKCdwJylcbiAgICAuYXR0cignY2xhc3MnLCAndGl0bGVfdHlwZV9jb21wJylcbiAgICAuaHRtbCgnUE9TSVRJT04nKTtcblxuICBwb3NpdGlvbi5hcHBlbmQoJ3NwYW4nKVxuICAgIC5hdHRycyh7IGNsYXNzOiAndHlwZV9jaGFydCBjaGFydF90MScsIHZhbHVlOiAnQmFyQ2hhcnQxJyB9KVxuICAgIC5odG1sKCcxIGluZC4nKTtcblxuICBwb3NpdGlvbi5hcHBlbmQoJ3NwYW4nKVxuICAgIC5hdHRycyh7IGNsYXNzOiAndHlwZV9jaGFydCBjaGFydF90MiBkaXNhYmxlZCcsIHZhbHVlOiAnU2NhdHRlclBsb3QyJyB9KVxuICAgIC5odG1sKCcyIGluZC4nKTtcblxuICBwb3NpdGlvbi5hcHBlbmQoJ3NwYW4nKVxuICAgIC5hdHRycyh7IGNsYXNzOiAndHlwZV9jaGFydCBjaGFydF90MyBkaXNhYmxlZCcsIHZhbHVlOiAnUmFkYXJDaGFydDMnIH0pXG4gICAgLmh0bWwoJyszIGluZC4nKTtcblxuICBjb25zdCByZXNzZW1ibGFuY2UgPSB0eXBlX2NoYXJ0XG4gICAgLmFwcGVuZCgnZGl2JylcbiAgICAuYXR0cignY2xhc3MnLCAndHlwZV9jb21wYXJhaXNvbicpXG4gICAgLnN0eWxlcyh7IHdpZHRoOiB3aWR0aF90eXBlX2NvbXAgfSk7XG5cbiAgcmVzc2VtYmxhbmNlLmFwcGVuZCgncCcpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ3RpdGxlX3R5cGVfY29tcCcpXG4gICAgLmh0bWwoJ1JFU1NFTUJMQU5DRVMnKTtcblxuICByZXNzZW1ibGFuY2UuYXBwZW5kKCdzcGFuJylcbiAgICAuYXR0cnMoeyBjbGFzczogJ3R5cGVfY2hhcnQgY2hhcnRfdDEnLCB2YWx1ZTogJ0J1YmJsZUNoYXJ0MScgfSlcbiAgICAuaHRtbCgnMSBpbmQuJyk7XG5cbiAgcmVzc2VtYmxhbmNlLmFwcGVuZCgnc3BhbicpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ3R5cGVfY2hhcnQgY2hhcnRfdDIgZGlzYWJsZWQnKVxuICAgIC5odG1sKCcrMiBpbmQuJyk7XG5cbiAgY29uc3QgaW5lZ2FsaXRlID0gdHlwZV9jaGFydFxuICAgIC5hcHBlbmQoJ2RpdicpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ3R5cGVfY29tcGFyYWlzb24nKVxuICAgIC5zdHlsZXMoeyB3aWR0aDogd2lkdGhfdHlwZV9jb21wIH0pO1xuXG4gIGluZWdhbGl0ZS5hcHBlbmQoJ3AnKVxuICAgIC5hdHRyKCdjbGFzcycsICd0aXRsZV90eXBlX2NvbXAnKVxuICAgIC5odG1sKCdJTsOJR0FMSVTDiVMnKTtcblxuICBpbmVnYWxpdGUuYXBwZW5kKCdzcGFuJylcbiAgICAuYXR0cignY2xhc3MnLCAndHlwZV9jaGFydCBjaGFydF90MSBkaXNhYmxlZCcpXG4gICAgLmh0bWwoJzEgaW5kLicpO1xuXG4gIGluZWdhbGl0ZS5hcHBlbmQoJ3NwYW4nKVxuICAgIC5hdHRyKCdjbGFzcycsICd0eXBlX2NoYXJ0IGNoYXJ0X3QyIGRpc2FibGVkJylcbiAgICAuaHRtbCgnKzIgaW5kLicpO1xuXG4gIHRvcF9tZW51XG4gICAgLmFwcGVuZCgnZGl2JylcbiAgICAuYXR0cnMoeyBjbGFzczogJ3RpdGxlX3NlY3Rpb24nIH0pXG4gICAgLnN0eWxlcyh7IHdpZHRoOiB3aWR0aF9tYXAsIGZsb2F0OiAnbGVmdCcsIG1hcmdpbjogJzAgMCAwIDIwcHgnIH0pXG4gICAgLmh0bWwoJ1FVRUxMRVMgUkVHSU9OUyA/Jyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlSGVhZGVyTWFwU2VjdGlvbigpIHtcbiAgY29uc3QgaGVhZGVyX21hcF9zZWN0aW9uID0gZDMuc2VsZWN0KCcjbWFwX3NlY3Rpb24nKVxuICAgIC5pbnNlcnQoJ3AnLCAnc3ZnJylcbiAgICAuYXR0cignaWQnLCAnaGVhZGVyX21hcCcpXG4gICAgLnN0eWxlKCdtYXJnaW4nLCAnMCAwIDAgMTBweCcpO1xuXG4gIGhlYWRlcl9tYXBfc2VjdGlvbi5pbnNlcnQoJ2ltZycpXG4gICAgLmF0dHJzKHtcbiAgICAgIGNsYXNzOiAnbWFwX2J1dHRvbiBhY3RpdmUnLFxuICAgICAgd2lkdGg6IDIwLFxuICAgICAgaGVpZ2h0OiAyMCxcbiAgICAgIHNyYzogJ2ltZy9naW1wLXRvb2wtcmVjdC1zZWxlY3QucG5nJyxcbiAgICAgIGlkOiAnaW1nX3JlY3Rfc2VsZWMnLFxuICAgIH0pO1xuXG4gIGhlYWRlcl9tYXBfc2VjdGlvbi5pbnNlcnQoJ2ltZycpXG4gICAgLmF0dHJzKHtcbiAgICAgIGNsYXNzOiAnbWFwX2J1dHRvbicsXG4gICAgICB3aWR0aDogMjAsXG4gICAgICBoZWlnaHQ6IDIwLFxuICAgICAgc3JjOiAnaW1nL2dpbXAtdG9vbC16b29tLnBuZycsXG4gICAgICBpZDogJ2ltZ19tYXBfem9vbScsXG4gICAgfSk7XG5cbiAgaGVhZGVyX21hcF9zZWN0aW9uLmluc2VydCgnaW1nJylcbiAgICAuYXR0cnMoe1xuICAgICAgY2xhc3M6ICdtYXBfYnV0dG9uJyxcbiAgICAgIHdpZHRoOiAyMCxcbiAgICAgIGhlaWdodDogMjAsXG4gICAgICBzcmM6ICdpbWcvZ2ltcC1jdXJzb3IucG5nJyxcbiAgICAgIGlkOiAnaW1nX21hcF9zZWxlY3QnLFxuICAgIH0pO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlSGVhZGVyQ2hhcnQoKSB7XG4gIGNvbnN0IGhlYWRlcl9iYXJfc2VjdGlvbiA9IGQzLnNlbGVjdCgnI2Jhcl9zZWN0aW9uJylcbiAgICAuaW5zZXJ0KCdwJywgJ3N2ZycpXG4gICAgLmF0dHIoJ2lkJywgJ2hlYWRlcl9jaGFydCcpXG4gICAgLnN0eWxlKCdtYXJnaW4tYm90dG9tJywgJzAnKVxuICAgIC5zdHlsZSgnY2xlYXInLCAnYm90aCcpO1xuXG4gIGhlYWRlcl9iYXJfc2VjdGlvbi5pbnNlcnQoJ2ltZycpXG4gICAgLmF0dHJzKHtcbiAgICAgIHdpZHRoOiAyNCxcbiAgICAgIGhlaWdodDogMjQsXG4gICAgICBzcmM6ICdpbWcvZWRpdC10YWJsZS1pbnNlcnQtcm93LWFib3ZlLnN2ZycsXG4gICAgICBpZDogJ2ltZ190YWJsZScsXG4gICAgfSlcbiAgICAuc3R5bGVzKHsgbWFyZ2luOiAnM3B4JywgZmxvYXQ6ICdyaWdodCcgfSlcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kYXRhVGFibGUtd3JhcHBlcicpLnN0eWxlLmRpc3BsYXkpIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N2Z19tYXAnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3ZnX2xlZ2VuZCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNoZWFkZXJfbWFwJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2hlYWRlcl90YWJsZScpLnN0eWxlLmRpc3BsYXkgPSBudWxsO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGF0YVRhYmxlLXdyYXBwZXInKS5zdHlsZS5kaXNwbGF5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdHlsZS5maWx0ZXIgPSAnaW52ZXJ0KDc1JSknO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N2Z19tYXAnKS5zdHlsZS5kaXNwbGF5ID0gbnVsbDtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N2Z19sZWdlbmQnKS5zdHlsZS5kaXNwbGF5ID0gbnVsbDtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2hlYWRlcl9tYXAnKS5zdHlsZS5kaXNwbGF5ID0gbnVsbDtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2hlYWRlcl90YWJsZScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kYXRhVGFibGUtd3JhcHBlcicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIHRoaXMuc3R5bGUuZmlsdGVyID0gbnVsbDtcbiAgICAgIH1cbiAgICB9KTtcblxuICBoZWFkZXJfYmFyX3NlY3Rpb24uaW5zZXJ0KCdpbWcnKVxuICAgIC5hdHRycyh7XG4gICAgICB3aWR0aDogMjQsXG4gICAgICBoZWlnaHQ6IDI0LFxuICAgICAgc3JjOiAnaW1nL3ByaW50ZXIuc3ZnJyxcbiAgICAgIGlkOiAnaW1nX3ByaW50ZXInLFxuICAgIH0pXG4gICAgLnN0eWxlcyh7IG1hcmdpbjogJzNweCcsIGZsb2F0OiAncmlnaHQnIH0pO1xuXG4gIGhlYWRlcl9iYXJfc2VjdGlvbi5pbnNlcnQoJ2ltZycpXG4gICAgLmF0dHJzKHtcbiAgICAgIHdpZHRoOiAyNCxcbiAgICAgIGhlaWdodDogMjQsXG4gICAgICBzcmM6ICdpbWcvZ3RrLWluZm8uc3ZnJyxcbiAgICAgIGlkOiAnaW1nX2luZm8nLFxuICAgIH0pXG4gICAgLnN0eWxlcyh7IG1hcmdpbjogJzNweCcsIGZsb2F0OiAncmlnaHQnIH0pO1xufVxuIiwiaW1wb3J0IHsgYXBwIH0gZnJvbSAnLi8uLi9tYWluJztcbmltcG9ydCB7IGNvbG9yX2Rpc2FibGVkLCBjb2xvcl9jb3VudHJpZXMsIGNvbG9yX3N1cCwgY29sb3JfaW5mLCBjb2xvcl9oaWdobGlnaHQgfSBmcm9tICcuL29wdGlvbnMnO1xuaW1wb3J0IHsgbWF0aF9yb3VuZCwgcHJlcGFyZVRvb2x0aXAsIGdldFN2Z1BhdGhUeXBlIH0gZnJvbSAnLi9oZWxwZXJzJztcblxuY29uc3Qgc3ZnX21hcCA9IGQzLnNlbGVjdCgnc3ZnI3N2Z19tYXAnKSxcbiAgbWFyZ2luX21hcCA9IHsgdG9wOiAwLCByaWdodDogMCwgYm90dG9tOiAwLCBsZWZ0OiAwIH0sXG4gIHdpZHRoX21hcCA9ICtzdmdfbWFwLmF0dHIoJ3dpZHRoJykgLSBtYXJnaW5fbWFwLmxlZnQgLSBtYXJnaW5fbWFwLnJpZ2h0LFxuICBoZWlnaHRfbWFwID0gK3N2Z19tYXAuYXR0cignaGVpZ2h0JykgLSBtYXJnaW5fbWFwLnRvcCAtIG1hcmdpbl9tYXAuYm90dG9tO1xuXG5jb25zdCBzdHlsZXMgPSB7XG4gIHRlbXBsYXRlOiB7IGlkOiAndGVtcGxhdGUnLCBmaWxsOiAncmdiKDI0NywgMjUyLCAyNTQpJywgJ2ZpbGwtb3BhY2l0eSc6IDEgfSxcbiAgY291bnRyaWVzOiB7IGlkOiAnY291bnRyaWVzJywgZmlsbDogJ3JnYigyMTQsIDIxNCwgMjE0KScsICdmaWxsLW9wYWNpdHknOiAxLCAnc3Ryb2tlLXdpZHRoJzogMC41LCBzdHJva2U6ICcjZmZmZmZmJyB9LFxuICBzZWFib3hlczogeyBpZDogJ3NlYWJveGVzJywgZmlsbDogJyNlMGZhZmYnLCAnZmlsbC1vcGFjaXR5JzogMSwgc3Ryb2tlOiAnYmxhY2snLCAnc3Ryb2tlLXdpZHRoJzogMC4yIH0sXG4gIHJlbW90ZTogeyBpZDogJ3JlbW90ZScsIGZpbGw6ICdyZ2IoMjE0LCAyMTQsIDIxNCknLCAnZmlsbC1vcGFjaXR5JzogMSwgJ3N0cm9rZS13aWR0aCc6IDAuNSwgc3Ryb2tlOiAnI2ZmZmZmZicgfSxcbiAgc2VhYm94ZXMyOiB7IGlkOiAnc2VhYm94ZXMyJywgZmlsbDogJ25vbmUnLCBzdHJva2U6ICdibGFjaycsICdzdHJva2Utd2lkdGgnOiAwLjggfSxcbiAgbnV0czE6IHsgaWQ6ICdudXRzMScsICdmaWxsLW9wYWNpdHknOiAxLCAnc3Ryb2tlLXdpZHRoJzogMC41LCBzdHJva2U6ICcjZmZmZmZmJyB9LFxufTtcblxubGV0IHByb2plY3Rpb247XG5sZXQgcGF0aDtcblxuZnVuY3Rpb24gZ2V0X2Jib3hfbGF5ZXJfcGF0aChuYW1lKSB7XG4gIGNvbnN0IGJib3hfbGF5ZXIgPSBbW0luZmluaXR5LCBJbmZpbml0eV0sIFstSW5maW5pdHksIC1JbmZpbml0eV1dO1xuICBzdmdfbWFwLnNlbGVjdChgIyR7bmFtZX1gKVxuICAgIC5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgIC5lYWNoKChkKSA9PiB7XG4gICAgICBjb25zdCBiYm94X3BhdGggPSBwYXRoLmJvdW5kcyhkLmdlb21ldHJ5KTtcbiAgICAgIGJib3hfbGF5ZXJbMF1bMF0gPSBiYm94X3BhdGhbMF1bMF0gPCBiYm94X2xheWVyWzBdWzBdID8gYmJveF9wYXRoWzBdWzBdIDogYmJveF9sYXllclswXVswXTtcbiAgICAgIGJib3hfbGF5ZXJbMF1bMV0gPSBiYm94X3BhdGhbMF1bMV0gPCBiYm94X2xheWVyWzBdWzFdID8gYmJveF9wYXRoWzBdWzFdIDogYmJveF9sYXllclswXVsxXTtcbiAgICAgIGJib3hfbGF5ZXJbMV1bMF0gPSBiYm94X3BhdGhbMV1bMF0gPiBiYm94X2xheWVyWzFdWzBdID8gYmJveF9wYXRoWzFdWzBdIDogYmJveF9sYXllclsxXVswXTtcbiAgICAgIGJib3hfbGF5ZXJbMV1bMV0gPSBiYm94X3BhdGhbMV1bMV0gPiBiYm94X2xheWVyWzFdWzFdID8gYmJveF9wYXRoWzFdWzFdIDogYmJveF9sYXllclsxXVsxXTtcbiAgICB9KTtcbiAgcmV0dXJuIGJib3hfbGF5ZXI7XG59XG5cbmZ1bmN0aW9uIGZpdExheWVyKCkge1xuICBwcm9qZWN0aW9uLnNjYWxlKDEpLnRyYW5zbGF0ZShbMCwgMF0pO1xuICBjb25zdCBiID0gZ2V0X2Jib3hfbGF5ZXJfcGF0aCgndGVtcGxhdGUnKTtcbiAgY29uc3QgcyA9IDEgLyBNYXRoLm1heCgoYlsxXVswXSAtIGJbMF1bMF0pIC8gd2lkdGhfbWFwLCAoYlsxXVsxXSAtIGJbMF1bMV0pIC8gaGVpZ2h0X21hcCk7XG4gIGNvbnN0IHQgPSBbKHdpZHRoX21hcCAtIHMgKiAoYlsxXVswXSArIGJbMF1bMF0pKSAvIDIsIChoZWlnaHRfbWFwIC0gcyAqIChiWzFdWzFdICsgYlswXVsxXSkpIC8gMl07XG4gIHByb2plY3Rpb24uc2NhbGUocykudHJhbnNsYXRlKHQpO1xuICBzdmdfbWFwLnNlbGVjdEFsbCgncGF0aCcpLmF0dHIoJ2QnLCBwYXRoKTtcbn1cblxuZnVuY3Rpb24gbWFwX3pvb21lZCgpIHtcbiAgY29uc3QgdHJhbnNmb3JtID0gZDMuZXZlbnQudHJhbnNmb3JtO1xuICBpZiAodHJhbnNmb3JtLmsgPT09IDEpIHtcbiAgICB0cmFuc2Zvcm0ueCA9IDA7XG4gICAgdHJhbnNmb3JtLnkgPSAwO1xuICB9XG4gIGNvbnN0IGxheWVycyA9IHN2Z19tYXAuc2VsZWN0KCcjbGF5ZXJzJyk7XG4gIGNvbnN0IHQgPSBsYXllcnNcbiAgICAuc2VsZWN0QWxsKCdnJylcbiAgICAudHJhbnNpdGlvbigpXG4gICAgLmR1cmF0aW9uKDIyNSk7XG5cbiAgbGF5ZXJzLnNlbGVjdEFsbCgnZycpXG4gICAgLnRyYW5zaXRpb24odClcbiAgICAuc3R5bGUoJ3N0cm9rZS13aWR0aCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBgJHtzdHlsZXNbdGhpcy5pZF1bJ3N0cm9rZS13aWR0aCddIC8gdHJhbnNmb3JtLmt9cHhgO1xuICAgIH0pO1xuXG4gIGxheWVycy5zZWxlY3RBbGwoJ2cnKVxuICAgIC50cmFuc2l0aW9uKHQpXG4gICAgLmF0dHIoJ3RyYW5zZm9ybScsIHRyYW5zZm9ybSk7XG5cbiAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKVxuICAgIC50cmFuc2l0aW9uKHQpXG4gICAgLmF0dHIoJ3RyYW5zZm9ybScsIHRyYW5zZm9ybSk7XG59XG5cbmNsYXNzIE1hcFNlbGVjdCB7XG4gIGNvbnN0cnVjdG9yKG51dHMxLCBjb3VudHJpZXMsIHJlbW90ZSwgdGVtcGxhdGUsIHNlYWJveGVzKSB7XG4gICAgcHJvamVjdGlvbiA9IGQzLmdlb0lkZW50aXR5KClcbiAgICAgIC5maXRFeHRlbnQoW1swLCAwXSwgW3dpZHRoX21hcCwgaGVpZ2h0X21hcF1dLCB0ZW1wbGF0ZSlcbiAgICAgIC5yZWZsZWN0WSh0cnVlKTtcblxuICAgIHBhdGggPSBkMy5nZW9QYXRoKCkucHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICBjb25zdCBsYXllcnMgPSBzdmdfbWFwLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignaWQnLCAnbGF5ZXJzJyk7XG5cbiAgICB0aGlzLnpvb21fbWFwID0gZDMuem9vbSgpXG4gICAgICAuc2NhbGVFeHRlbnQoWzEsIDVdKVxuICAgICAgLnRyYW5zbGF0ZUV4dGVudChbWzAsIDBdLCBbd2lkdGhfbWFwLCBoZWlnaHRfbWFwXV0pXG4gICAgICAub24oJ3pvb20nLCBtYXBfem9vbWVkKTtcblxuICAgIHN2Z19tYXAuY2FsbCh0aGlzLnpvb21fbWFwKTtcblxuICAgIGxheWVycy5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHN0eWxlcy50ZW1wbGF0ZSlcbiAgICAgIC5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLmRhdGEodGVtcGxhdGUuZmVhdHVyZXMpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgncGF0aCcpXG4gICAgICAuYXR0cnMoeyBkOiBwYXRoIH0pO1xuXG4gICAgbGF5ZXJzLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cnMoc3R5bGVzLmNvdW50cmllcylcbiAgICAgIC5hdHRyKCdpZCcsICdjb3VudHJpZXMnKVxuICAgICAgLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuZGF0YShjb3VudHJpZXMuZmVhdHVyZXMpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgncGF0aCcpXG4gICAgICAuYXR0cnMoeyBkOiBwYXRoIH0pO1xuXG4gICAgbGF5ZXJzLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cnMoc3R5bGVzLnNlYWJveGVzKVxuICAgICAgLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuZGF0YShzZWFib3hlcy5mZWF0dXJlcylcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRycyh7IGQ6IHBhdGggfSk7XG5cbiAgICBsYXllcnMuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyhzdHlsZXMucmVtb3RlKVxuICAgICAgLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuZGF0YShyZW1vdGUuZmVhdHVyZXMpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgncGF0aCcpXG4gICAgICAuYXR0cnMoeyBkOiBwYXRoIH0pO1xuXG4gICAgbGF5ZXJzLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cnMoc3R5bGVzLnNlYWJveGVzMilcbiAgICAgIC5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLmRhdGEoc2VhYm94ZXMuZmVhdHVyZXMpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgncGF0aCcpXG4gICAgICAuYXR0cnMoeyBkOiBwYXRoIH0pO1xuXG4gICAgdGhpcy50YXJnZXRfbGF5ZXIgPSBsYXllcnMuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyhzdHlsZXMubnV0czEpO1xuICAgIHRoaXMudGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuZGF0YShudXRzMS5mZWF0dXJlcylcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRyKCdmaWxsJywgZCA9PiAoZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXSAhPT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbiA/IGNvbG9yX2NvdW50cmllcyA6IGNvbG9yX2hpZ2hsaWdodCkpXG4gICAgICAuYXR0cignZCcsIHBhdGgpO1xuICAgIGFwcC50eXBlX3BhdGggPSBnZXRTdmdQYXRoVHlwZSh0aGlzLnRhcmdldF9sYXllci5zZWxlY3QoJ3BhdGgnKS5ub2RlKCkuZ2V0QXR0cmlidXRlKCdkJykpO1xuICAgIGZpdExheWVyKCk7XG4gICAgcHJlcGFyZVRvb2x0aXAoc3ZnX21hcCk7XG4gICAgdGhpcy5iaW5kVG9vbHRpcCgpO1xuICB9XG5cbiAgcmVzZXRDb2xvcnMoY3VycmVudF9pZHMpIHtcbiAgICBjb25zdCBpZF9maWVsZF9nZW9tID0gYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb207XG4gICAgdGhpcy50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5hdHRyKCdmaWxsJywgZCA9PiAoY3VycmVudF9pZHMuaW5kZXhPZihkLnByb3BlcnRpZXNbaWRfZmllbGRfZ2VvbV0pID4gLTFcbiAgICAgICAgPyAoYXBwLmNvbG9yc1tkLnByb3BlcnRpZXNbaWRfZmllbGRfZ2VvbV1dIHx8IGNvbG9yX2NvdW50cmllcylcbiAgICAgICAgOiBjb2xvcl9kaXNhYmxlZCkpO1xuICB9XG5cbiAgYmluZFRvb2x0aXAoKSB7XG4gICAgdGhpcy50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5vbignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgICAgICBzdmdfbWFwLnNlbGVjdCgnLnRvb2x0aXAnKVxuICAgICAgICAgIC5zdHlsZSgnZGlzcGxheScsIG51bGwpO1xuICAgICAgfSlcbiAgICAgIC5vbignbW91c2VvdXQnLCAoKSA9PiB7XG4gICAgICAgIHN2Z19tYXAuc2VsZWN0KCcudG9vbHRpcCcpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgIGNvbnN0IHRvb2x0aXAgPSBzdmdfbWFwLnNlbGVjdCgnLnRvb2x0aXAnKTtcbiAgICAgICAgdG9vbHRpcFxuICAgICAgICAgIC5zZWxlY3QoJ3RleHQuaWRfZmVhdHVyZScpXG4gICAgICAgICAgLnRleHQoYCR7ZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXX1gKTtcbiAgICAgICAgbGV0IF9peCwgbmJfdmFsO1xuICAgICAgICBmb3IgKF9peCA9IDAsIG5iX3ZhbCA9IE1hdGgubWluKGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpby5sZW5ndGgsIDUpOyBfaXggPCBuYl92YWw7IF9peCsrKSB7XG4gICAgICAgICAgdG9vbHRpcC5zZWxlY3QoYHRleHQudmFsdWVfZmVhdHVyZSR7X2l4ICsgMX1gKVxuICAgICAgICAgICAgLnRleHQoYCR7YXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvX3ByZXR0eV9uYW1lW19peF19OiAke21hdGhfcm91bmQoZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5yYXRpb1tfaXhdXSAqIDEwKSAvIDEwfWApO1xuICAgICAgICB9XG4gICAgICAgIHRvb2x0aXBcbiAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke1tkMy5tb3VzZSh0aGlzKVswXSAtIDUsIGQzLm1vdXNlKHRoaXMpWzFdIC0gNDUgLSBfaXggKiAxMl19KWApO1xuICAgICAgfSk7XG4gIH1cblxuICByZXNldFpvb20oKSB7XG4gICAgc3ZnX21hcC50cmFuc2l0aW9uKClcbiAgICAgIC5kdXJhdGlvbigyNTApXG4gICAgICAuY2FsbCh0aGlzLnpvb21fbWFwLnRyYW5zZm9ybSwgZDMuem9vbUlkZW50aXR5KTtcbiAgfVxuXG4gIHVwZGF0ZUxlZ2VuZCgpIHtcbiAgICBkMy5zZWxlY3QoJyNzdmdfbGVnZW5kID4gZyA+IC5sZWdlbmQgPiB0ZXh0JylcbiAgICAgIC50ZXh0KGBNYSByw6lnaW9uIDogJHthcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uX3ByZXR0eV9uYW1lfWApO1xuICB9XG5cbiAgcmVtb3ZlUmVjdEJydXNoKCkge1xuICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJykuY2FsbCh0aGlzLmJydXNoX21hcC5tb3ZlLCBudWxsKTtcbiAgfVxuXG4gIGNhbGxCcnVzaChzZWxlY3Rpb24pIHtcbiAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpLmNhbGwodGhpcy5icnVzaF9tYXAubW92ZSwgc2VsZWN0aW9uKTtcbiAgfVxuXG4gIGJpbmRCcnVzaChjaGFydCkge1xuICAgIGlmIChjaGFydC5oYW5kbGVfYnJ1c2hfbWFwKSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX3JlY3Rfc2VsZWMnKS5jbGFzc0xpc3QucmVtb3ZlKCdkaXNhYmxlZCcpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19yZWN0X3NlbGVjJykuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX21hcF96b29tJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX21hcF9zZWxlY3QnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIHRoaXMuYnJ1c2hfbWFwID0gZDMuYnJ1c2goKVxuICAgICAgICAuZXh0ZW50KFtbMCwgMF0sIFt3aWR0aF9tYXAsIGhlaWdodF9tYXBdXSlcbiAgICAgICAgLm9uKCdzdGFydCBicnVzaCcsICgpID0+IHtcbiAgICAgICAgICBjaGFydC5oYW5kbGVfYnJ1c2hfbWFwKGQzLmV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgICBzdmdfbWFwLmFwcGVuZCgnZycpXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdicnVzaF9tYXAnKVxuICAgICAgICAuY2FsbCh0aGlzLmJydXNoX21hcCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfcmVjdF9zZWxlYycpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19yZWN0X3NlbGVjJykuY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfbWFwX3pvb20nKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfbWFwX3NlbGVjdCcpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIH1cbiAgfVxuXG4gIHVuYmluZEJydXNoKCkge1xuICAgIHRoaXMuYnJ1c2hfbWFwID0gbnVsbDtcbiAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpXG4gICAgICAucmVtb3ZlKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbWFrZVNvdXJjZVNlY3Rpb24oKSB7XG4gIGNvbnN0IHRleHRfem9uZSA9IGQzLnNlbGVjdCgnI3N2Z19sZWdlbmQnKVxuICAgIC5hcHBlbmQoJ3RleHQnKVxuICAgIC5hdHRycyh7IHk6IDMyLjUsICd0ZXh0LWFuY2hvcic6ICdlbmQnIH0pXG4gICAgLnN0eWxlKCdmb250LXNpemUnLCAnMTFweCcpXG4gICAgLnN0eWxlKCdmb250LWZhbWlseScsICdcXCdTaWduaWthXFwnLCBzYW5zLXNlcmlmJyk7XG4gIHRleHRfem9uZS5hcHBlbmQoJ3RzcGFuJylcbiAgICAuYXR0cnMoeyB4OiA0NzAsIGR5OiAxMiB9KVxuICAgIC50ZXh0KCdOaXZlYXUgcsOpZ2lvbmFsIDogTlVUUyAxICh2ZXJzaW9uIDIwMTYpJyk7XG4gIHRleHRfem9uZS5hcHBlbmQoJ3RzcGFuJylcbiAgICAuYXR0cnMoeyB4OiA0NzAsIGR5OiAxMiB9KVxuICAgIC50ZXh0KCdPcmlnaW5lIGRlcyBkb25uw6llcyA6IEV1cm9zdGF0LCAyMDE2Jyk7XG4gIHRleHRfem9uZS5hcHBlbmQoJ3RzcGFuJylcbiAgICAuYXR0cnMoeyB4OiA0NzAsIGR5OiAxMiB9KVxuICAgIC50ZXh0KCdMaW1pdGUgYWRtaW5pc3RyYXRpdmU6IFVNUyBSSUFURSwgQ0MtQlktU0EnKTtcbn1cblxuZnVuY3Rpb24gbWFrZU1hcExlZ2VuZCgpIHtcbiAgY29uc3QgbGVnZW5kX2VsZW1zID0gW1xuICAgIHsgY29sb3I6IGNvbG9yX2hpZ2hsaWdodCwgdGV4dDogYE1hIHLDqWdpb24gOiAke2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25fcHJldHR5X25hbWV9YCB9LFxuICAgIHsgY29sb3I6IGNvbG9yX2NvdW50cmllcywgdGV4dDogJ0F1dHJlcyByw6lnaW9ucyBkdSBmaWx0cmUgZGUgY29tcGFyYWlzb24nIH0sXG4gICAgeyBjb2xvcjogY29sb3Jfc3VwLCB0ZXh0OiAnUmFuZyBwbHVzIMOpbGV2w6kgcXVlIG1hIHLDqWdpb24nIH0sXG4gICAgeyBjb2xvcjogY29sb3JfaW5mLCB0ZXh0OiAnUmFuZyBtb2lucyDDqWxldsOpIHF1ZSBtYSByw6lnaW9uJyB9LFxuICBdO1xuXG4gIGNvbnN0IHJlY3Rfc2l6ZSA9IDE0O1xuICBjb25zdCBzcGFjaW5nID0gNDtcbiAgY29uc3QgbGdkX2hlaWdodCA9IHJlY3Rfc2l6ZSArIHNwYWNpbmc7XG4gIGNvbnN0IG9mZnNldCA9IGxnZF9oZWlnaHQgKiBsZWdlbmRfZWxlbXMubGVuZ3RoIC8gMjtcblxuICBjb25zdCBncnBfbGdkID0gZDMuc2VsZWN0KCcjc3ZnX2xlZ2VuZCcpXG4gICAgLmFwcGVuZCgnZycpXG4gICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoNTAsIDQwKScpXG4gICAgLnN0eWxlcyh7ICdmb250LXNpemUnOiAnMTFweCcsICdmb250LWZhbWlseSc6ICdcXCdTaWduaWthXFwnLCBzYW5zLXNlcmlmJyB9KTtcblxuICBjb25zdCBsZWdlbmRzID0gZ3JwX2xnZC5zZWxlY3RBbGwoJy5sZWdlbmQnKVxuICAgIC5kYXRhKGxlZ2VuZF9lbGVtcylcbiAgICAuZW50ZXIoKVxuICAgIC5hcHBlbmQoJ2cnKVxuICAgIC5hdHRyKCdjbGFzcycsICdsZWdlbmQnKVxuICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAoZCwgaSkgPT4ge1xuICAgICAgY29uc3QgdHggPSAtMiAqIHJlY3Rfc2l6ZTtcbiAgICAgIGNvbnN0IHR5ID0gaSAqIGxnZF9oZWlnaHQgLSBvZmZzZXQ7XG4gICAgICByZXR1cm4gYHRyYW5zbGF0ZSgke1t0eCwgdHldfSlgO1xuICAgIH0pO1xuXG4gIGxlZ2VuZHMuYXBwZW5kKCdyZWN0JylcbiAgICAuYXR0cnMoeyB3aWR0aDogcmVjdF9zaXplLCBoZWlnaHQ6IHJlY3Rfc2l6ZSB9KVxuICAgIC5zdHlsZXMoZCA9PiAoeyBmaWxsOiBkLmNvbG9yLCBzdHJva2U6IGQuY29sb3IgfSkpO1xuXG4gIGxlZ2VuZHMuYXBwZW5kKCd0ZXh0JylcbiAgICAuYXR0cnMoeyB4OiByZWN0X3NpemUgKyBzcGFjaW5nLCB5OiByZWN0X3NpemUgLSBzcGFjaW5nIH0pXG4gICAgLnRleHQoZCA9PiBkLnRleHQpO1xufVxuXG5leHBvcnQge1xuICBNYXBTZWxlY3QsXG4gIG1ha2VTb3VyY2VTZWN0aW9uLFxuICBtYWtlTWFwTGVnZW5kLFxuICBzdmdfbWFwLFxufTtcbiIsIi8qIVxyXG4gKlxyXG4gKiBWYW5pbGxhLURhdGFUYWJsZXNcclxuICogQ29weXJpZ2h0IChjKSAyMDE1LTIwMTcgS2FybCBTYXVuZGVycyAoaHR0cDovL21vYml1cy5vdmgpXHJcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHApXHJcbiAqXHJcbiAqIFZlcnNpb246IDEuNS4xXHJcbiAqXHJcbiAqL1xyXG4oZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcclxuICAgIHZhciBwbHVnaW4gPSBcIkRhdGFUYWJsZVwiO1xyXG5cclxuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xyXG4gICAgICAgIGRlZmluZShbXSwgZmFjdG9yeShwbHVnaW4pKTtcclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocGx1Z2luKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcm9vdFtwbHVnaW5dID0gZmFjdG9yeShwbHVnaW4pO1xyXG4gICAgfVxyXG59KSh0aGlzLCBmdW5jdGlvbiAocGx1Z2luKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuICAgIHZhciB3aW4gPSB3aW5kb3csXHJcbiAgICAgICAgZG9jID0gZG9jdW1lbnQsXHJcbiAgICAgICAgYm9keSA9IGRvYy5ib2R5O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVmYXVsdCBjb25maWd1cmF0aW9uXHJcbiAgICAgKiBAdHlwIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIHZhciBkZWZhdWx0Q29uZmlnID0ge1xyXG4gICAgICAgIHBlclBhZ2U6IDEwLFxyXG4gICAgICAgIHBlclBhZ2VTZWxlY3Q6IFs1LCAxMCwgMTUsIDIwLCAyNV0sXHJcblxyXG4gICAgICAgIHNvcnRhYmxlOiB0cnVlLFxyXG4gICAgICAgIHNlYXJjaGFibGU6IHRydWUsXHJcblxyXG4gICAgICAgIC8vIFBhZ2luYXRpb25cclxuICAgICAgICBuZXh0UHJldjogdHJ1ZSxcclxuICAgICAgICBmaXJzdExhc3Q6IGZhbHNlLFxyXG4gICAgICAgIHByZXZUZXh0OiBcIiZsc2FxdW87XCIsXHJcbiAgICAgICAgbmV4dFRleHQ6IFwiJnJzYXF1bztcIixcclxuICAgICAgICBmaXJzdFRleHQ6IFwiJmxhcXVvO1wiLFxyXG4gICAgICAgIGxhc3RUZXh0OiBcIiZyYXF1bztcIixcclxuICAgICAgICBlbGxpcHNpc1RleHQ6IFwiJmhlbGxpcDtcIixcclxuICAgICAgICBhc2NUZXh0OiBcIuKWtFwiLFxyXG4gICAgICAgIGRlc2NUZXh0OiBcIuKWvlwiLFxyXG4gICAgICAgIHRydW5jYXRlUGFnZXI6IHRydWUsXHJcbiAgICAgICAgcGFnZXJEZWx0YTogMixcclxuXHJcbiAgICAgICAgZml4ZWRDb2x1bW5zOiB0cnVlLFxyXG4gICAgICAgIGZpeGVkSGVpZ2h0OiBmYWxzZSxcclxuXHJcbiAgICAgICAgaGVhZGVyOiB0cnVlLFxyXG4gICAgICAgIGZvb3RlcjogZmFsc2UsXHJcblxyXG4gICAgICAgIC8vIEN1c3RvbWlzZSB0aGUgZGlzcGxheSB0ZXh0XHJcbiAgICAgICAgbGFiZWxzOiB7XHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIlNlYXJjaC4uLlwiLCAvLyBUaGUgc2VhcmNoIGlucHV0IHBsYWNlaG9sZGVyXHJcbiAgICAgICAgICAgIHBlclBhZ2U6IFwie3NlbGVjdH0gZW50cmllcyBwZXIgcGFnZVwiLCAvLyBwZXItcGFnZSBkcm9wZG93biBsYWJlbFxyXG4gICAgICAgICAgICBub1Jvd3M6IFwiTm8gZW50cmllcyBmb3VuZFwiLCAvLyBNZXNzYWdlIHNob3duIHdoZW4gdGhlcmUgYXJlIG5vIHNlYXJjaCByZXN1bHRzXHJcbiAgICAgICAgICAgIGluZm86IFwiU2hvd2luZyB7c3RhcnR9IHRvIHtlbmR9IG9mIHtyb3dzfSBlbnRyaWVzXCIgLy9cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvLyBDdXN0b21pc2UgdGhlIGxheW91dFxyXG4gICAgICAgIGxheW91dDoge1xyXG4gICAgICAgICAgICB0b3A6IFwie3NlbGVjdH17c2VhcmNofVwiLFxyXG4gICAgICAgICAgICBib3R0b206IFwie2luZm99e3BhZ2VyfVwiXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGlzIGl0ZW0gaXMgb2JqZWN0XHJcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICB2YXIgaXNPYmplY3QgPSBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWwpID09PSBcIltvYmplY3QgT2JqZWN0XVwiO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGlzIGl0ZW0gaXMgYXJyYXlcclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIHZhciBpc0FycmF5ID0gZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgZm9yIHZhbGlkIEpTT04gc3RyaW5nXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgc3RyXHJcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufEFycmF5fE9iamVjdH1cclxuICAgICAqL1xyXG4gICAgdmFyIGlzSnNvbiA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgICAgICB2YXIgdCA9ICExO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHQgPSBKU09OLnBhcnNlKHN0cik7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gITE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAhKG51bGwgPT09IHQgfHwgKCFpc0FycmF5KHQpICYmICFpc09iamVjdCh0KSkpICYmIHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWVyZ2Ugb2JqZWN0cyAocmVjY3Vyc2l2ZSlcclxuICAgICAqIEBwYXJhbSAge09iamVjdH0gclxyXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSB0XHJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIHZhciBleHRlbmQgPSBmdW5jdGlvbiAoc3JjLCBwcm9wcykge1xyXG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gcHJvcHMpIHtcclxuICAgICAgICAgICAgaWYgKHByb3BzLmhhc093blByb3BlcnR5KHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gcHJvcHNbcHJvcF07XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsICYmIGlzT2JqZWN0KHZhbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzcmNbcHJvcF0gPSBzcmNbcHJvcF0gfHwge307XHJcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5kKHNyY1twcm9wXSwgdmFsKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3JjW3Byb3BdID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzcmM7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSXRlcmF0b3IgaGVscGVyXHJcbiAgICAgKiBAcGFyYW0gIHsoQXJyYXl8T2JqZWN0KX0gICBhcnIgICAgIEFueSBvYmplY3QsIGFycmF5IG9yIGFycmF5LWxpa2UgY29sbGVjdGlvbi5cclxuICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSAgICAgICAgIGZuICAgICAgQ2FsbGJhY2tcclxuICAgICAqIEBwYXJhbSAge09iamVjdH0gICAgICAgICAgIHNjb3BlICAgQ2hhbmdlIHRoZSB2YWx1ZSBvZiB0aGlzXHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICB2YXIgZWFjaCA9IGZ1bmN0aW9uIChhcnIsIGZuLCBzY29wZSkge1xyXG4gICAgICAgIHZhciBuO1xyXG4gICAgICAgIGlmIChpc09iamVjdChhcnIpKSB7XHJcbiAgICAgICAgICAgIGZvciAobiBpbiBhcnIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXJyLCBuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZuLmNhbGwoc2NvcGUsIGFycltuXSwgbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKG4gPSAwOyBuIDwgYXJyLmxlbmd0aDsgbisrKSB7XHJcbiAgICAgICAgICAgICAgICBmbi5jYWxsKHNjb3BlLCBhcnJbbl0sIG4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZCBldmVudCBsaXN0ZW5lciB0byB0YXJnZXRcclxuICAgICAqIEBwYXJhbSAge09iamVjdH0gZWxcclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gZVxyXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGZuXHJcbiAgICAgKi9cclxuICAgIHZhciBvbiA9IGZ1bmN0aW9uIChlbCwgZSwgZm4pIHtcclxuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKGUsIGZuLCBmYWxzZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIERPTSBlbGVtZW50IG5vZGVcclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICBhIG5vZGVOYW1lXHJcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgYiBwcm9wZXJ0aWVzIGFuZCBhdHRyaWJ1dGVzXHJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIHZhciBjcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICB2YXIgZCA9IGRvYy5jcmVhdGVFbGVtZW50KGEpO1xyXG4gICAgICAgIGlmIChiICYmIFwib2JqZWN0XCIgPT0gdHlwZW9mIGIpIHtcclxuICAgICAgICAgICAgdmFyIGU7XHJcbiAgICAgICAgICAgIGZvciAoZSBpbiBiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoXCJodG1sXCIgPT09IGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBkLmlubmVySFRNTCA9IGJbZV07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGQuc2V0QXR0cmlidXRlKGUsIGJbZV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgZmx1c2ggPSBmdW5jdGlvbiAoZWwsIGllKSB7XHJcbiAgICAgICAgaWYgKGVsIGluc3RhbmNlb2YgTm9kZUxpc3QpIHtcclxuICAgICAgICAgICAgZWFjaChlbCwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIGZsdXNoKGUsIGllKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGllKSB7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoZWwuaGFzQ2hpbGROb2RlcygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWwucmVtb3ZlQ2hpbGQoZWwuZmlyc3RDaGlsZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBlbC5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBidXR0b24gaGVscGVyXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgY1xyXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgIHBcclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICB0XHJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIHZhciBidXR0b24gPSBmdW5jdGlvbiAoYywgcCwgdCkge1xyXG4gICAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50KFwibGlcIiwge1xyXG4gICAgICAgICAgICBjbGFzczogYyxcclxuICAgICAgICAgICAgaHRtbDogJzxhIGhyZWY9XCIjXCIgZGF0YS1wYWdlPVwiJyArIHAgKyAnXCI+JyArIHQgKyBcIjwvYT5cIlxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGNsYXNzTGlzdCBzaGltXHJcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICB2YXIgY2xhc3NMaXN0ID0ge1xyXG4gICAgICAgIGFkZDogZnVuY3Rpb24gKHMsIGEpIHtcclxuICAgICAgICAgICAgaWYgKHMuY2xhc3NMaXN0KSB7XHJcbiAgICAgICAgICAgICAgICBzLmNsYXNzTGlzdC5hZGQoYSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWNsYXNzTGlzdC5jb250YWlucyhzLCBhKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHMuY2xhc3NOYW1lID0gcy5jbGFzc05hbWUudHJpbSgpICsgXCIgXCIgKyBhO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIChzLCBhKSB7XHJcbiAgICAgICAgICAgIGlmIChzLmNsYXNzTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgcy5jbGFzc0xpc3QucmVtb3ZlKGEpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNsYXNzTGlzdC5jb250YWlucyhzLCBhKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHMuY2xhc3NOYW1lID0gcy5jbGFzc05hbWUucmVwbGFjZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFJlZ0V4cChcIihefFxcXFxzKVwiICsgYS5zcGxpdChcIiBcIikuam9pbihcInxcIikgKyBcIihcXFxcc3wkKVwiLCBcImdpXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiBcIlxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRhaW5zOiBmdW5jdGlvbiAocywgYSkge1xyXG4gICAgICAgICAgICBpZiAocylcclxuICAgICAgICAgICAgICAgIHJldHVybiBzLmNsYXNzTGlzdCA/XHJcbiAgICAgICAgICAgICAgICAgICAgcy5jbGFzc0xpc3QuY29udGFpbnMoYSkgOlxyXG4gICAgICAgICAgICAgICAgICAgICEhcy5jbGFzc05hbWUgJiZcclxuICAgICAgICAgICAgICAgICAgICAhIXMuY2xhc3NOYW1lLm1hdGNoKG5ldyBSZWdFeHAoXCIoXFxcXHN8XilcIiArIGEgKyBcIihcXFxcc3wkKVwiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEJ1YmJsZSBzb3J0IGFsZ29yaXRobVxyXG4gICAgICovXHJcbiAgICB2YXIgc29ydEl0ZW1zID0gZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICB2YXIgYywgZDtcclxuICAgICAgICBpZiAoMSA9PT0gYikge1xyXG4gICAgICAgICAgICBjID0gMDtcclxuICAgICAgICAgICAgZCA9IGEubGVuZ3RoO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChiID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgYyA9IGEubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgICAgIGQgPSAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHZhciBlID0gITA7IGU7KSB7XHJcbiAgICAgICAgICAgIGUgPSAhMTtcclxuICAgICAgICAgICAgZm9yICh2YXIgZiA9IGM7IGYgIT0gZDsgZiArPSBiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYVtmICsgYl0gJiYgYVtmXS52YWx1ZSA+IGFbZiArIGJdLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGcgPSBhW2ZdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoID0gYVtmICsgYl0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBnO1xyXG4gICAgICAgICAgICAgICAgICAgIGFbZl0gPSBoO1xyXG4gICAgICAgICAgICAgICAgICAgIGFbZiArIGJdID0gaTtcclxuICAgICAgICAgICAgICAgICAgICBlID0gITA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGE7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGFnZXIgdHJ1bmNhdGlvbiBhbGdvcml0aG1cclxuICAgICAqL1xyXG4gICAgdmFyIHRydW5jYXRlID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQsIGVsbGlwc2lzKSB7XHJcbiAgICAgICAgZCA9IGQgfHwgMjtcclxuICAgICAgICB2YXIgaixcclxuICAgICAgICAgICAgZSA9IDIgKiBkLFxyXG4gICAgICAgICAgICBmID0gYiAtIGQsXHJcbiAgICAgICAgICAgIGcgPSBiICsgZCxcclxuICAgICAgICAgICAgaCA9IFtdLFxyXG4gICAgICAgICAgICBpID0gW107XHJcbiAgICAgICAgaWYgKGIgPCA0IC0gZCArIGUpIHtcclxuICAgICAgICAgICAgZyA9IDMgKyBlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYiA+IGMgLSAoMyAtIGQgKyBlKSkge1xyXG4gICAgICAgICAgICBmID0gYyAtICgyICsgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAodmFyIGsgPSAxOyBrIDw9IGM7IGsrKykge1xyXG4gICAgICAgICAgICBpZiAoMSA9PSBrIHx8IGsgPT0gYyB8fCAoayA+PSBmICYmIGsgPD0gZykpIHtcclxuICAgICAgICAgICAgICAgIHZhciBsID0gYVtrIC0gMV07XHJcbiAgICAgICAgICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKGwsIFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICAgICAgaC5wdXNoKGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVhY2goaCwgZnVuY3Rpb24gKGMpIHtcclxuICAgICAgICAgICAgdmFyIGQgPSBjLmNoaWxkcmVuWzBdLmdldEF0dHJpYnV0ZShcImRhdGEtcGFnZVwiKTtcclxuICAgICAgICAgICAgaWYgKGopIHtcclxuICAgICAgICAgICAgICAgIHZhciBlID0gai5jaGlsZHJlblswXS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBhZ2VcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoZCAtIGUgPT0gMikgaS5wdXNoKGFbZV0pO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZCAtIGUgIT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmID0gY3JlYXRlRWxlbWVudChcImxpXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IFwiZWxsaXBzaXNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogJzxhIGhyZWY9XCIjXCI+JyArIGVsbGlwc2lzICsgXCI8L2E+XCJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpLnB1c2goZik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaS5wdXNoKGMpO1xyXG4gICAgICAgICAgICBqID0gYztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGFyc2UgZGF0YSB0byBIVE1MIHRhYmxlXHJcbiAgICAgKi9cclxuICAgIHZhciBkYXRhVG9UYWJsZSA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgdmFyIHRoZWFkID0gZmFsc2UsXHJcbiAgICAgICAgICAgIHRib2R5ID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGRhdGEgPSBkYXRhIHx8IHRoaXMub3B0aW9ucy5kYXRhO1xyXG5cclxuICAgICAgICBpZiAoZGF0YS5oZWFkaW5ncykge1xyXG4gICAgICAgICAgICB0aGVhZCA9IGNyZWF0ZUVsZW1lbnQoXCJ0aGVhZFwiKTtcclxuICAgICAgICAgICAgdmFyIHRyID0gY3JlYXRlRWxlbWVudChcInRyXCIpO1xyXG4gICAgICAgICAgICBlYWNoKGRhdGEuaGVhZGluZ3MsIGZ1bmN0aW9uIChjb2wpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0ZCA9IGNyZWF0ZUVsZW1lbnQoXCJ0aFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgaHRtbDogY29sXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRkKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGVhZC5hcHBlbmRDaGlsZCh0cik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZGF0YS5kYXRhICYmIGRhdGEuZGF0YS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGJvZHkgPSBjcmVhdGVFbGVtZW50KFwidGJvZHlcIik7XHJcbiAgICAgICAgICAgIGVhY2goZGF0YS5kYXRhLCBmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuaGVhZGluZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5oZWFkaW5ncy5sZW5ndGggIT09IHJvd3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiVGhlIG51bWJlciBvZiByb3dzIGRvIG5vdCBtYXRjaCB0aGUgbnVtYmVyIG9mIGhlYWRpbmdzLlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIHRyID0gY3JlYXRlRWxlbWVudChcInRyXCIpO1xyXG4gICAgICAgICAgICAgICAgZWFjaChyb3dzLCBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGQgPSBjcmVhdGVFbGVtZW50KFwidGRcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sOiB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRkKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGJvZHkuYXBwZW5kQ2hpbGQodHIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGVhZCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy50YWJsZS50SGVhZCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50YWJsZS5yZW1vdmVDaGlsZCh0aGlzLnRhYmxlLnRIZWFkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnRhYmxlLmFwcGVuZENoaWxkKHRoZWFkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0Ym9keSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy50YWJsZS50Qm9kaWVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50YWJsZS5yZW1vdmVDaGlsZCh0aGlzLnRhYmxlLnRCb2RpZXNbMF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudGFibGUuYXBwZW5kQ2hpbGQodGJvZHkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVc2UgbW9tZW50LmpzIHRvIHBhcnNlIGNlbGwgY29udGVudHMgZm9yIHNvcnRpbmdcclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gY29udGVudCAgICAgVGhlIGRhdGV0aW1lIHN0cmluZyB0byBwYXJzZVxyXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBmb3JtYXQgICAgICBUaGUgZm9ybWF0IGZvciBtb21lbnQgdG8gdXNlXHJcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd8Qm9vbGVhbn0gICAgIERhdGF0aW1lIHN0cmluZyBvciBmYWxzZVxyXG4gICAgICovXHJcbiAgICB2YXIgcGFyc2VEYXRlID0gZnVuY3Rpb24gKGNvbnRlbnQsIGZvcm1hdCkge1xyXG4gICAgICAgIHZhciBkYXRlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIG1vbWVudCgpIHRocm93cyBhIGZpdCBpZiB0aGUgc3RyaW5nIGlzbid0IGEgdmFsaWQgZGF0ZXRpbWUgc3RyaW5nXHJcbiAgICAgICAgLy8gc28gd2UgbmVlZCB0byBzdXBwbHkgdGhlIGZvcm1hdCB0byB0aGUgY29uc3RydWN0b3IgKGh0dHBzOi8vbW9tZW50anMuY29tL2RvY3MvIy9wYXJzaW5nL3N0cmluZy1mb3JtYXQvKVxyXG5cclxuICAgICAgICAvLyBDb252ZXJ0aW5nIHRvIFlZWVlNTUREIGVuc3VyZXMgd2UgY2FuIGFjY3VyYXRlbHkgc29ydCB0aGUgY29sdW1uIG51bWVyaWNhbGx5XHJcblxyXG4gICAgICAgIGlmIChmb3JtYXQpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChmb3JtYXQpIHtcclxuICAgICAgICAgICAgY2FzZSBcIklTT184NjAxXCI6XHJcbiAgICAgICAgICAgICAgICBkYXRlID0gbW9tZW50KGNvbnRlbnQsIG1vbWVudC5JU09fODYwMSkuZm9ybWF0KFwiWVlZWU1NRERcIik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIlJGQ18yODIyXCI6XHJcbiAgICAgICAgICAgICAgICBkYXRlID0gbW9tZW50KGNvbnRlbnQsIFwiZGRkLCBNTSBNTU0gWVlZWSBISDptbTpzcyBaWlwiKS5mb3JtYXQoXCJZWVlZTU1ERFwiKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiTVlTUUxcIjpcclxuICAgICAgICAgICAgICAgIGRhdGUgPSBtb21lbnQoY29udGVudCwgXCJZWVlZLU1NLUREIGhoOm1tOnNzXCIpLmZvcm1hdChcIllZWVlNTUREXCIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJVTklYXCI6XHJcbiAgICAgICAgICAgICAgICBkYXRlID0gbW9tZW50KGNvbnRlbnQpLnVuaXgoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgLy8gVXNlciBkZWZpbmVkIGZvcm1hdCB1c2luZyB0aGUgZGF0YS1mb3JtYXQgYXR0cmlidXRlIG9yIGNvbHVtbnNbbl0uZm9ybWF0IG9wdGlvblxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgZGF0ZSA9IG1vbWVudChjb250ZW50LCBmb3JtYXQpLmZvcm1hdChcIllZWVlNTUREXCIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBkYXRlO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbHVtbnMgQVBJXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2UgRGF0YVRhYmxlIGluc3RhbmNlXHJcbiAgICAgKiBAcGFyYW0ge01peGVkfSBjb2x1bW5zICBDb2x1bW4gaW5kZXggb3IgYXJyYXkgb2YgY29sdW1uIGluZGV4ZXNcclxuICAgICAqL1xyXG4gICAgdmFyIENvbHVtbnMgPSBmdW5jdGlvbiAoZHQpIHtcclxuICAgICAgICB0aGlzLmR0ID0gZHQ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3dhcCB0d28gY29sdW1uc1xyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgQ29sdW1ucy5wcm90b3R5cGUuc3dhcCA9IGZ1bmN0aW9uIChjb2x1bW5zKSB7XHJcbiAgICAgICAgaWYgKGNvbHVtbnMubGVuZ3RoICYmIGNvbHVtbnMubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgIHZhciBjb2xzID0gW107XHJcblxyXG4gICAgICAgICAgICAvLyBHZXQgdGhlIGN1cnJlbnQgY29sdW1uIGluZGV4ZXNcclxuICAgICAgICAgICAgZWFjaCh0aGlzLmR0LmhlYWRpbmdzLCBmdW5jdGlvbiAoaCwgaSkge1xyXG4gICAgICAgICAgICAgICAgY29scy5wdXNoKGkpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHZhciB4ID0gY29sdW1uc1swXTtcclxuICAgICAgICAgICAgdmFyIHkgPSBjb2x1bW5zWzFdO1xyXG4gICAgICAgICAgICB2YXIgYiA9IGNvbHNbeV07XHJcbiAgICAgICAgICAgIGNvbHNbeV0gPSBjb2xzW3hdO1xyXG4gICAgICAgICAgICBjb2xzW3hdID0gYjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub3JkZXIoY29scyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlb3JkZXIgdGhlIGNvbHVtbnNcclxuICAgICAqIEByZXR1cm4ge0FycmF5fSBjb2x1bW5zICBBcnJheSBvZiBvcmRlcmVkIGNvbHVtbiBpbmRleGVzXHJcbiAgICAgKi9cclxuICAgIENvbHVtbnMucHJvdG90eXBlLm9yZGVyID0gZnVuY3Rpb24gKGNvbHVtbnMpIHtcclxuXHJcbiAgICAgICAgdmFyIGEsIGIsIGMsIGQsIGgsIHMsIGNlbGwsXHJcbiAgICAgICAgICAgIHRlbXAgPSBbXHJcbiAgICAgICAgICAgICAgICBbXSxcclxuICAgICAgICAgICAgICAgIFtdLFxyXG4gICAgICAgICAgICAgICAgW10sXHJcbiAgICAgICAgICAgICAgICBbXVxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBkdCA9IHRoaXMuZHQ7XHJcblxyXG4gICAgICAgIC8vIE9yZGVyIHRoZSBoZWFkaW5nc1xyXG4gICAgICAgIGVhY2goY29sdW1ucywgZnVuY3Rpb24gKGNvbHVtbiwgeCkge1xyXG4gICAgICAgICAgICBoID0gZHQuaGVhZGluZ3NbY29sdW1uXTtcclxuICAgICAgICAgICAgcyA9IGguZ2V0QXR0cmlidXRlKFwiZGF0YS1zb3J0YWJsZVwiKSAhPT0gXCJmYWxzZVwiO1xyXG4gICAgICAgICAgICBhID0gaC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAgICAgICAgIGEub3JpZ2luYWxDZWxsSW5kZXggPSB4O1xyXG4gICAgICAgICAgICBhLnNvcnRhYmxlID0gcztcclxuXHJcbiAgICAgICAgICAgIHRlbXBbMF0ucHVzaChhKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkdC5oaWRkZW5Db2x1bW5zLmluZGV4T2YoY29sdW1uKSA8IDApIHtcclxuICAgICAgICAgICAgICAgIGIgPSBoLmNsb25lTm9kZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIGIub3JpZ2luYWxDZWxsSW5kZXggPSB4O1xyXG4gICAgICAgICAgICAgICAgYi5zb3J0YWJsZSA9IHM7XHJcblxyXG4gICAgICAgICAgICAgICAgdGVtcFsxXS5wdXNoKGIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIE9yZGVyIHRoZSByb3cgY2VsbHNcclxuICAgICAgICBlYWNoKGR0LmRhdGEsIGZ1bmN0aW9uIChyb3csIGkpIHtcclxuICAgICAgICAgICAgYyA9IHJvdy5jbG9uZU5vZGUoKTtcclxuICAgICAgICAgICAgZCA9IHJvdy5jbG9uZU5vZGUoKTtcclxuXHJcbiAgICAgICAgICAgIGMuZGF0YUluZGV4ID0gZC5kYXRhSW5kZXggPSBpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHJvdy5zZWFyY2hJbmRleCAhPT0gbnVsbCAmJiByb3cuc2VhcmNoSW5kZXggIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgYy5zZWFyY2hJbmRleCA9IGQuc2VhcmNoSW5kZXggPSByb3cuc2VhcmNoSW5kZXg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEFwcGVuZCB0aGUgY2VsbCB0byB0aGUgZnJhZ21lbnQgaW4gdGhlIGNvcnJlY3Qgb3JkZXJcclxuICAgICAgICAgICAgZWFjaChjb2x1bW5zLCBmdW5jdGlvbiAoY29sdW1uLCB4KSB7XHJcbiAgICAgICAgICAgICAgICBjZWxsID0gcm93LmNlbGxzW2NvbHVtbl0uY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgY2VsbC5kYXRhID0gcm93LmNlbGxzW2NvbHVtbl0uZGF0YTtcclxuICAgICAgICAgICAgICAgIGMuYXBwZW5kQ2hpbGQoY2VsbCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGR0LmhpZGRlbkNvbHVtbnMuaW5kZXhPZihjb2x1bW4pIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNlbGwgPSByb3cuY2VsbHNbY29sdW1uXS5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2VsbC5kYXRhID0gcm93LmNlbGxzW2NvbHVtbl0uZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICBkLmFwcGVuZENoaWxkKGNlbGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRlbXBbMl0ucHVzaChjKTtcclxuICAgICAgICAgICAgdGVtcFszXS5wdXNoKGQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBkdC5oZWFkaW5ncyA9IHRlbXBbMF07XHJcbiAgICAgICAgZHQuYWN0aXZlSGVhZGluZ3MgPSB0ZW1wWzFdO1xyXG5cclxuICAgICAgICBkdC5kYXRhID0gdGVtcFsyXTtcclxuICAgICAgICBkdC5hY3RpdmVSb3dzID0gdGVtcFszXTtcclxuXHJcbiAgICAgICAgLy8gVXBkYXRlXHJcbiAgICAgICAgZHQudXBkYXRlKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGlkZSBjb2x1bW5zXHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBDb2x1bW5zLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKGNvbHVtbnMpIHtcclxuICAgICAgICBpZiAoY29sdW1ucy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIGR0ID0gdGhpcy5kdDtcclxuXHJcbiAgICAgICAgICAgIGVhY2goY29sdW1ucywgZnVuY3Rpb24gKGNvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGR0LmhpZGRlbkNvbHVtbnMuaW5kZXhPZihjb2x1bW4pIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGR0LmhpZGRlbkNvbHVtbnMucHVzaChjb2x1bW4pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVidWlsZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTaG93IGNvbHVtbnNcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIENvbHVtbnMucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoY29sdW1ucykge1xyXG4gICAgICAgIGlmIChjb2x1bW5zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXgsIGR0ID0gdGhpcy5kdDtcclxuXHJcbiAgICAgICAgICAgIGVhY2goY29sdW1ucywgZnVuY3Rpb24gKGNvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgaW5kZXggPSBkdC5oaWRkZW5Db2x1bW5zLmluZGV4T2YoY29sdW1uKTtcclxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZHQuaGlkZGVuQ29sdW1ucy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVidWlsZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBjb2x1bW4ocykgdmlzaWJpbGl0eVxyXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgQ29sdW1ucy5wcm90b3R5cGUudmlzaWJsZSA9IGZ1bmN0aW9uIChjb2x1bW5zKSB7XHJcbiAgICAgICAgdmFyIGNvbHMsIGR0ID0gdGhpcy5kdDtcclxuXHJcbiAgICAgICAgY29sdW1ucyA9IGNvbHVtbnMgfHwgZHQuaGVhZGluZ3MubWFwKGZ1bmN0aW9uICh0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGgub3JpZ2luYWxDZWxsSW5kZXg7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICghaXNOYU4oY29sdW1ucykpIHtcclxuICAgICAgICAgICAgY29scyA9IGR0LmhpZGRlbkNvbHVtbnMuaW5kZXhPZihjb2x1bW5zKSA8IDA7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KGNvbHVtbnMpKSB7XHJcbiAgICAgICAgICAgIGNvbHMgPSBbXTtcclxuICAgICAgICAgICAgZWFjaChjb2x1bW5zLCBmdW5jdGlvbiAoY29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICBjb2xzLnB1c2goZHQuaGlkZGVuQ29sdW1ucy5pbmRleE9mKGNvbHVtbikgPCAwKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gY29scztcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgYSBuZXcgY29sdW1uXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxyXG4gICAgICovXHJcbiAgICBDb2x1bW5zLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcyxcclxuICAgICAgICAgICAgdGQsIHRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRoXCIpO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuZHQuaGVhZGluZ3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZHQuaW5zZXJ0KHtcclxuICAgICAgICAgICAgICAgIGhlYWRpbmdzOiBbZGF0YS5oZWFkaW5nXSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEuZGF0YS5tYXAoZnVuY3Rpb24gKGkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2ldO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucmVidWlsZCgpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXRoaXMuZHQuaGlkZGVuSGVhZGVyKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmhlYWRpbmcubm9kZU5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHRoLmFwcGVuZENoaWxkKGRhdGEuaGVhZGluZyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aC5pbm5lckhUTUwgPSBkYXRhLmhlYWRpbmc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aC5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5kdC5oZWFkaW5ncy5wdXNoKHRoKTtcclxuXHJcbiAgICAgICAgZWFjaCh0aGlzLmR0LmRhdGEsIGZ1bmN0aW9uIChyb3csIGkpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuZGF0YVtpXSkge1xyXG4gICAgICAgICAgICAgICAgdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZGF0YVtpXS5ub2RlTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRkLmFwcGVuZENoaWxkKGRhdGEuZGF0YVtpXSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRkLmlubmVySFRNTCA9IGRhdGEuZGF0YVtpXTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0ZC5kYXRhID0gdGQuaW5uZXJIVE1MO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnJlbmRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRkLmlubmVySFRNTCA9IGRhdGEucmVuZGVyLmNhbGwodGhhdCwgdGQuZGF0YSwgdGQsIHJvdyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKHRkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoZGF0YS50eXBlKSB7XHJcbiAgICAgICAgICAgIHRoLnNldEF0dHJpYnV0ZShcImRhdGEtdHlwZVwiLCBkYXRhLnR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGF0YS5mb3JtYXQpIHtcclxuICAgICAgICAgICAgdGguc2V0QXR0cmlidXRlKFwiZGF0YS1mb3JtYXRcIiwgZGF0YS5mb3JtYXQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoXCJzb3J0YWJsZVwiKSkge1xyXG4gICAgICAgICAgICB0aC5zb3J0YWJsZSA9IGRhdGEuc29ydGFibGU7XHJcbiAgICAgICAgICAgIHRoLnNldEF0dHJpYnV0ZShcImRhdGEtc29ydGFibGVcIiwgZGF0YS5zb3J0YWJsZSA9PT0gdHJ1ZSA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucmVidWlsZCgpO1xyXG5cclxuICAgICAgICB0aGlzLmR0LnJlbmRlckhlYWRlcigpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZSBjb2x1bW4ocylcclxuICAgICAqIEBwYXJhbSAge0FycmF5fE51bWJlcn0gc2VsZWN0XHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBDb2x1bW5zLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoc2VsZWN0KSB7XHJcbiAgICAgICAgaWYgKGlzQXJyYXkoc2VsZWN0KSkge1xyXG4gICAgICAgICAgICAvLyBSZW1vdmUgaW4gcmV2ZXJzZSBvdGhlcndpc2UgdGhlIGluZGV4ZXMgd2lsbCBiZSBpbmNvcnJlY3RcclxuICAgICAgICAgICAgc2VsZWN0LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBiIC0gYTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBlYWNoKHNlbGVjdCwgZnVuY3Rpb24gKGNvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmUoY29sdW1uKTtcclxuICAgICAgICAgICAgfSwgdGhpcyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5kdC5oZWFkaW5ncy5zcGxpY2Uoc2VsZWN0LCAxKTtcclxuXHJcbiAgICAgICAgICAgIGVhY2godGhpcy5kdC5kYXRhLCBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgICAgICByb3cucmVtb3ZlQ2hpbGQocm93LmNlbGxzW3NlbGVjdF0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucmVidWlsZCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNvcnQgYnkgY29sdW1uXHJcbiAgICAgKiBAcGFyYW0gIHtpbnR9IGNvbHVtbiAtIFRoZSBjb2x1bW4gbm8uXHJcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IGRpcmVjdGlvbiAtIGFzYyBvciBkZXNjXHJcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBDb2x1bW5zLnByb3RvdHlwZS5zb3J0ID0gZnVuY3Rpb24gKGNvbHVtbiwgZGlyZWN0aW9uLCBpbml0KSB7XHJcblxyXG4gICAgICAgIHZhciBkdCA9IHRoaXMuZHQ7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGNvbHVtbiBpcyBwcmVzZW50XHJcbiAgICAgICAgaWYgKGR0Lmhhc0hlYWRpbmdzICYmIChjb2x1bW4gPCAxIHx8IGNvbHVtbiA+IGR0LmFjdGl2ZUhlYWRpbmdzLmxlbmd0aCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZHQuc29ydGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgIC8vIENvbnZlcnQgdG8gemVyby1pbmRleGVkXHJcbiAgICAgICAgY29sdW1uID0gY29sdW1uIC0gMTtcclxuXHJcbiAgICAgICAgdmFyIGRpcixcclxuICAgICAgICAgICAgcm93cyA9IGR0LmRhdGEsXHJcbiAgICAgICAgICAgIGFscGhhID0gW10sXHJcbiAgICAgICAgICAgIG51bWVyaWMgPSBbXSxcclxuICAgICAgICAgICAgYSA9IDAsXHJcbiAgICAgICAgICAgIG4gPSAwLFxyXG4gICAgICAgICAgICB0aCA9IGR0LmFjdGl2ZUhlYWRpbmdzW2NvbHVtbl07XHJcblxyXG4gICAgICAgIGNvbHVtbiA9IHRoLm9yaWdpbmFsQ2VsbEluZGV4O1xyXG5cclxuICAgICAgICBlYWNoKHJvd3MsIGZ1bmN0aW9uICh0cikge1xyXG4gICAgICAgICAgICB2YXIgY2VsbCA9IHRyLmNlbGxzW2NvbHVtbl07XHJcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gY2VsbC5kYXRhO1xyXG4gICAgICAgICAgICB2YXIgbnVtID0gY29udGVudC5yZXBsYWNlKC8oXFwkfFxcLHxcXHN8JSkvZywgXCJcIik7XHJcblxyXG4gICAgICAgICAgICAvLyBDaGVjayBmb3IgZGF0ZSBmb3JtYXQgYW5kIG1vbWVudC5qc1xyXG4gICAgICAgICAgICBpZiAodGguZ2V0QXR0cmlidXRlKFwiZGF0YS10eXBlXCIpID09PSBcImRhdGVcIiAmJiB3aW4ubW9tZW50KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZm9ybWF0ID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkID0gdGguaGFzQXR0cmlidXRlKFwiZGF0YS1mb3JtYXRcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGZvcm1hdHRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdCA9IHRoLmdldEF0dHJpYnV0ZShcImRhdGEtZm9ybWF0XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIG51bSA9IHBhcnNlRGF0ZShjb250ZW50LCBmb3JtYXQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAocGFyc2VGbG9hdChudW0pID09IG51bSkge1xyXG4gICAgICAgICAgICAgICAgbnVtZXJpY1tuKytdID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBOdW1iZXIobnVtKSxcclxuICAgICAgICAgICAgICAgICAgICByb3c6IHRyXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYWxwaGFbYSsrXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY29udGVudCxcclxuICAgICAgICAgICAgICAgICAgICByb3c6IHRyXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qIFNvcnQgYWNjb3JkaW5nIHRvIGRpcmVjdGlvbiAoYXNjZW5kaW5nIG9yIGRlc2NlbmRpbmcpICovXHJcbiAgICAgICAgdmFyIHRvcCwgYnRtO1xyXG4gICAgICAgIGlmIChjbGFzc0xpc3QuY29udGFpbnModGgsIFwiYXNjXCIpIHx8IGRpcmVjdGlvbiA9PSBcImFzY1wiKSB7XHJcbiAgICAgICAgICAgIHRvcCA9IHNvcnRJdGVtcyhhbHBoYSwgLTEpO1xyXG4gICAgICAgICAgICBidG0gPSBzb3J0SXRlbXMobnVtZXJpYywgLTEpO1xyXG4gICAgICAgICAgICBkaXIgPSBcImRlc2NlbmRpbmdcIjtcclxuICAgICAgICAgICAgY2xhc3NMaXN0LnJlbW92ZSh0aCwgXCJhc2NcIik7XHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5hZGQodGgsIFwiZGVzY1wiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0b3AgPSBzb3J0SXRlbXMobnVtZXJpYywgMSk7XHJcbiAgICAgICAgICAgIGJ0bSA9IHNvcnRJdGVtcyhhbHBoYSwgMSk7XHJcbiAgICAgICAgICAgIGRpciA9IFwiYXNjZW5kaW5nXCI7XHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5yZW1vdmUodGgsIFwiZGVzY1wiKTtcclxuICAgICAgICAgICAgY2xhc3NMaXN0LmFkZCh0aCwgXCJhc2NcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBDbGVhciBhc2MvZGVzYyBjbGFzcyBuYW1lcyBmcm9tIHRoZSBsYXN0IHNvcnRlZCBjb2x1bW4ncyB0aCBpZiBpdCBpc24ndCB0aGUgc2FtZSBhcyB0aGUgb25lIHRoYXQgd2FzIGp1c3QgY2xpY2tlZCAqL1xyXG4gICAgICAgIGlmIChkdC5sYXN0VGggJiYgdGggIT0gZHQubGFzdFRoKSB7XHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5yZW1vdmUoZHQubGFzdFRoLCBcImRlc2NcIik7XHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5yZW1vdmUoZHQubGFzdFRoLCBcImFzY1wiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGR0Lmxhc3RUaCA9IHRoO1xyXG5cclxuICAgICAgICAvKiBSZW9yZGVyIHRoZSB0YWJsZSAqL1xyXG4gICAgICAgIHJvd3MgPSB0b3AuY29uY2F0KGJ0bSk7XHJcblxyXG4gICAgICAgIGR0LmRhdGEgPSBbXTtcclxuICAgICAgICB2YXIgaW5kZXhlcyA9IFtdO1xyXG5cclxuICAgICAgICBlYWNoKHJvd3MsIGZ1bmN0aW9uICh2LCBpKSB7XHJcbiAgICAgICAgICAgIGR0LmRhdGEucHVzaCh2LnJvdyk7XHJcblxyXG4gICAgICAgICAgICBpZiAodi5yb3cuc2VhcmNoSW5kZXggIT09IG51bGwgJiYgdi5yb3cuc2VhcmNoSW5kZXggIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgaW5kZXhlcy5wdXNoKGkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgZHQpO1xyXG5cclxuICAgICAgICBkdC5zZWFyY2hEYXRhID0gaW5kZXhlcztcclxuXHJcbiAgICAgICAgdGhpcy5yZWJ1aWxkKCk7XHJcblxyXG4gICAgICAgIGR0LnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICBpZiAoIWluaXQpIHtcclxuICAgICAgICAgICAgZHQuZW1pdChcImRhdGF0YWJsZS5zb3J0XCIsIGNvbHVtbiwgZGlyKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVidWlsZCB0aGUgY29sdW1uc1xyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgQ29sdW1ucy5wcm90b3R5cGUucmVidWlsZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgYSwgYiwgYywgZCwgZHQgPSB0aGlzLmR0LFxyXG4gICAgICAgICAgICB0ZW1wID0gW107XHJcblxyXG4gICAgICAgIGR0LmFjdGl2ZVJvd3MgPSBbXTtcclxuICAgICAgICBkdC5hY3RpdmVIZWFkaW5ncyA9IFtdO1xyXG5cclxuICAgICAgICBlYWNoKGR0LmhlYWRpbmdzLCBmdW5jdGlvbiAodGgsIGkpIHtcclxuICAgICAgICAgICAgdGgub3JpZ2luYWxDZWxsSW5kZXggPSBpO1xyXG4gICAgICAgICAgICB0aC5zb3J0YWJsZSA9IHRoLmdldEF0dHJpYnV0ZShcImRhdGEtc29ydGFibGVcIikgIT09IFwiZmFsc2VcIjtcclxuICAgICAgICAgICAgaWYgKGR0LmhpZGRlbkNvbHVtbnMuaW5kZXhPZihpKSA8IDApIHtcclxuICAgICAgICAgICAgICAgIGR0LmFjdGl2ZUhlYWRpbmdzLnB1c2godGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgdGhpcyk7XHJcblxyXG4gICAgICAgIC8vIExvb3Agb3ZlciB0aGUgcm93cyBhbmQgcmVvcmRlciB0aGUgY2VsbHNcclxuICAgICAgICBlYWNoKGR0LmRhdGEsIGZ1bmN0aW9uIChyb3csIGkpIHtcclxuICAgICAgICAgICAgYSA9IHJvdy5jbG9uZU5vZGUoKTtcclxuICAgICAgICAgICAgYiA9IHJvdy5jbG9uZU5vZGUoKTtcclxuXHJcbiAgICAgICAgICAgIGEuZGF0YUluZGV4ID0gYi5kYXRhSW5kZXggPSBpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHJvdy5zZWFyY2hJbmRleCAhPT0gbnVsbCAmJiByb3cuc2VhcmNoSW5kZXggIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgYS5zZWFyY2hJbmRleCA9IGIuc2VhcmNoSW5kZXggPSByb3cuc2VhcmNoSW5kZXg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEFwcGVuZCB0aGUgY2VsbCB0byB0aGUgZnJhZ21lbnQgaW4gdGhlIGNvcnJlY3Qgb3JkZXJcclxuICAgICAgICAgICAgZWFjaChyb3cuY2VsbHMsIGZ1bmN0aW9uIChjZWxsKSB7XHJcbiAgICAgICAgICAgICAgICBjID0gY2VsbC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBjLmRhdGEgPSBjZWxsLmRhdGE7XHJcbiAgICAgICAgICAgICAgICBhLmFwcGVuZENoaWxkKGMpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkdC5oaWRkZW5Db2x1bW5zLmluZGV4T2YoY2VsbC5jZWxsSW5kZXgpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGQgPSBjZWxsLmNsb25lTm9kZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICBkLmRhdGEgPSBjZWxsLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgYi5hcHBlbmRDaGlsZChkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBBcHBlbmQgdGhlIGZyYWdtZW50IHdpdGggdGhlIG9yZGVyZWQgY2VsbHNcclxuICAgICAgICAgICAgdGVtcC5wdXNoKGEpO1xyXG4gICAgICAgICAgICBkdC5hY3RpdmVSb3dzLnB1c2goYik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGR0LmRhdGEgPSB0ZW1wO1xyXG5cclxuICAgICAgICBkdC51cGRhdGUoKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSb3dzIEFQSVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIERhdGFUYWJsZSBpbnN0YW5jZVxyXG4gICAgICogQHBhcmFtIHtBcnJheX0gcm93c1xyXG4gICAgICovXHJcbiAgICB2YXIgUm93cyA9IGZ1bmN0aW9uIChkdCwgcm93cykge1xyXG4gICAgICAgIHRoaXMuZHQgPSBkdDtcclxuICAgICAgICB0aGlzLnJvd3MgPSByb3dzO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBCdWlsZCBhIG5ldyByb3dcclxuICAgICAqIEBwYXJhbSAge0FycmF5fSByb3dcclxuICAgICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fVxyXG4gICAgICovXHJcbiAgICBSb3dzLnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgICB2YXIgdGQsIHRyID0gY3JlYXRlRWxlbWVudChcInRyXCIpO1xyXG5cclxuICAgICAgICB2YXIgaGVhZGluZ3MgPSB0aGlzLmR0LmhlYWRpbmdzO1xyXG5cclxuICAgICAgICBpZiAoIWhlYWRpbmdzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBoZWFkaW5ncyA9IHJvdy5tYXAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZWFjaChoZWFkaW5ncywgZnVuY3Rpb24gKGgsIGkpIHtcclxuICAgICAgICAgICAgdGQgPSBjcmVhdGVFbGVtZW50KFwidGRcIik7XHJcblxyXG4gICAgICAgICAgICAvLyBGaXhlcyAjMjlcclxuICAgICAgICAgICAgaWYgKCFyb3dbaV0gJiYgIXJvd1tpXS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHJvd1tpXSA9IFwiXCI7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRkLmlubmVySFRNTCA9IHJvd1tpXTtcclxuXHJcbiAgICAgICAgICAgIHRkLmRhdGEgPSByb3dbaV07XHJcblxyXG4gICAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0cjtcclxuICAgIH07XHJcblxyXG4gICAgUm93cy5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgIHJldHVybiByb3c7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkIG5ldyByb3dcclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHNlbGVjdFxyXG4gICAgICovXHJcbiAgICBSb3dzLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG5cclxuICAgICAgICBpZiAoaXNBcnJheShkYXRhKSkge1xyXG4gICAgICAgICAgICB2YXIgZHQgPSB0aGlzLmR0O1xyXG4gICAgICAgICAgICAvLyBDaGVjayBmb3IgbXVsdGlwbGUgcm93c1xyXG4gICAgICAgICAgICBpZiAoaXNBcnJheShkYXRhWzBdKSkge1xyXG4gICAgICAgICAgICAgICAgZWFjaChkYXRhLCBmdW5jdGlvbiAocm93LCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZHQuZGF0YS5wdXNoKHRoaXMuYnVpbGQocm93KSk7XHJcbiAgICAgICAgICAgICAgICB9LCB0aGlzKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGR0LmRhdGEucHVzaCh0aGlzLmJ1aWxkKGRhdGEpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gV2UgbWF5IGhhdmUgYWRkZWQgZGF0YSB0byBhbiBlbXB0eSB0YWJsZVxyXG4gICAgICAgICAgICBpZiAoIGR0LmRhdGEubGVuZ3RoICkge1xyXG4gICAgICAgICAgICAgICAgZHQuaGFzUm93cyA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICAgICAgZHQuY29sdW1ucygpLnJlYnVpbGQoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIHJvdyhzKVxyXG4gICAgICogQHBhcmFtICB7QXJyYXl8TnVtYmVyfSBzZWxlY3RcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIFJvd3MucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChzZWxlY3QpIHtcclxuXHJcbiAgICAgICAgdmFyIGR0ID0gdGhpcy5kdDtcclxuXHJcbiAgICAgICAgaWYgKGlzQXJyYXkoc2VsZWN0KSkge1xyXG4gICAgICAgICAgICAvLyBSZW1vdmUgaW4gcmV2ZXJzZSBvdGhlcndpc2UgdGhlIGluZGV4ZXMgd2lsbCBiZSBpbmNvcnJlY3RcclxuICAgICAgICAgICAgc2VsZWN0LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBiIC0gYTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBlYWNoKHNlbGVjdCwgZnVuY3Rpb24gKHJvdywgaSkge1xyXG4gICAgICAgICAgICAgICAgZHQuZGF0YS5zcGxpY2Uocm93LCAxKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZHQuZGF0YS5zcGxpY2Uoc2VsZWN0LCAxKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgZHQuY29sdW1ucygpLnJlYnVpbGQoKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGUgcm93IGluZGV4ZXNcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIFJvd3MucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBlYWNoKHRoaXMuZHQuZGF0YSwgZnVuY3Rpb24gKHJvdywgaSkge1xyXG4gICAgICAgICAgICByb3cuZGF0YUluZGV4ID0gaTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgIC8vICAgIE1BSU4gTElCICAgIC8vXHJcbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgIHZhciBEYXRhVGFibGUgPSBmdW5jdGlvbiAodGFibGUsIG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIHVzZXIgb3B0aW9uc1xyXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IGV4dGVuZChkZWZhdWx0Q29uZmlnLCBvcHRpb25zKTtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiB0YWJsZSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICB2YXIgc2VsZWN0b3IgPSB0YWJsZTtcclxuICAgICAgICAgICAgdGFibGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhYmxlKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghdGFibGUpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBlbGVtZW50ICdcIiArIHNlbGVjdG9yICsgXCInIGNhbiBub3QgYmUgZm91bmQuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGFibGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpICE9PSBcInRhYmxlXCIpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHNlbGVjdGVkIGVsZW1lbnQgaXMgbm90IGEgdGFibGUuXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5pbml0aWFsTGF5b3V0ID0gdGFibGUuaW5uZXJIVE1MO1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbFNvcnRhYmxlID0gdGhpcy5vcHRpb25zLnNvcnRhYmxlO1xyXG5cclxuICAgICAgICAvLyBEaXNhYmxlIG1hbnVhbCBzb3J0aW5nIGlmIG5vIGhlYWRlciBpcyBwcmVzZW50ICgjNClcclxuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5oZWFkZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnNvcnRhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGFibGUudEhlYWQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuZGF0YSB8fFxyXG4gICAgICAgICAgICAgICAgKHRoaXMub3B0aW9ucy5kYXRhICYmICF0aGlzLm9wdGlvbnMuZGF0YS5oZWFkaW5ncylcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuc29ydGFibGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRhYmxlLnRCb2RpZXMubGVuZ3RoICYmICF0YWJsZS50Qm9kaWVzWzBdLnJvd3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuZGF0YS5kYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIllvdSBzZWVtIHRvIGJlIHVzaW5nIHRoZSBkYXRhIG9wdGlvbiwgYnV0IHlvdSd2ZSBub3QgZGVmaW5lZCBhbnkgcm93cy5cIlxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudGFibGUgPSB0YWJsZTtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBwcm90byA9IERhdGFUYWJsZS5wcm90b3R5cGU7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWFsaXplIHRoZSBpbnN0YW5jZVxyXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zXHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5pbml0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgICAgICBpZiAodGhpcy5pbml0aWFsaXplZCB8fCBjbGFzc0xpc3QuY29udGFpbnModGhpcy50YWJsZSwgXCJkYXRhVGFibGUtdGFibGVcIikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xyXG5cclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBleHRlbmQodGhpcy5vcHRpb25zLCBvcHRpb25zIHx8IHt9KTtcclxuXHJcbiAgICAgICAgLy8gSUUgZGV0ZWN0aW9uXHJcbiAgICAgICAgdGhpcy5pc0lFID0gISEvKG1zaWV8dHJpZGVudCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xyXG5cclxuICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTtcclxuICAgICAgICB0aGlzLm9uRmlyc3RQYWdlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdGhpcy5oaWRkZW5Db2x1bW5zID0gW107XHJcbiAgICAgICAgdGhpcy5jb2x1bW5SZW5kZXJlcnMgPSBbXTtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkQ29sdW1ucyA9IFtdO1xyXG5cclxuICAgICAgICB0aGlzLnJlbmRlcigpO1xyXG5cclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhhdC5lbWl0KFwiZGF0YXRhYmxlLmluaXRcIik7XHJcbiAgICAgICAgICAgIHRoYXQuaW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgICAgIH0sIDEwKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgdGhlIGluc3RhbmNlXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IHR5cGVcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLnJlbmRlciA9IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgaWYgKHR5cGUpIHtcclxuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJwYWdlXCI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclBhZ2UoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwicGFnZXJcIjpcclxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyUGFnZXIoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiaGVhZGVyXCI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckhlYWRlcigpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcyxcclxuICAgICAgICAgICAgbyA9IHRoYXQub3B0aW9ucyxcclxuICAgICAgICAgICAgdGVtcGxhdGUgPSBcIlwiO1xyXG5cclxuICAgICAgICAvLyBDb252ZXJ0IGRhdGEgdG8gSFRNTFxyXG4gICAgICAgIGlmIChvLmRhdGEpIHtcclxuICAgICAgICAgICAgZGF0YVRvVGFibGUuY2FsbCh0aGF0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChvLmFqYXgpIHtcclxuICAgICAgICAgICAgdmFyIGFqYXggPSBvLmFqYXg7XHJcbiAgICAgICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuXHJcbiAgICAgICAgICAgIHZhciB4aHJQcm9ncmVzcyA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGF0LmVtaXQoXCJkYXRhdGFibGUuYWpheC5wcm9ncmVzc1wiLCBlLCB4aHIpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIHhockxvYWQgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5lbWl0KFwiZGF0YXRhYmxlLmFqYXgubG9hZGVkXCIsIGUsIHhocik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iaiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmouZGF0YSA9IGFqYXgubG9hZCA/IGFqYXgubG9hZC5jYWxsKHRoYXQsIHhocikgOiB4aHIucmVzcG9uc2VUZXh0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnR5cGUgPSBcImpzb25cIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhamF4LmNvbnRlbnQgJiYgYWpheC5jb250ZW50LnR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai50eXBlID0gYWpheC5jb250ZW50LnR5cGU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqID0gZXh0ZW5kKG9iaiwgYWpheC5jb250ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5pbXBvcnQob2JqKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuc2V0Q29sdW1ucyh0cnVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuZW1pdChcImRhdGF0YWJsZS5hamF4LnN1Y2Nlc3NcIiwgZSwgeGhyKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmVtaXQoXCJkYXRhdGFibGUuYWpheC5lcnJvclwiLCBlLCB4aHIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZhciB4aHJGYWlsZWQgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgdGhhdC5lbWl0KFwiZGF0YXRhYmxlLmFqYXguZXJyb3JcIiwgZSwgeGhyKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZhciB4aHJDYW5jZWxsZWQgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgdGhhdC5lbWl0KFwiZGF0YXRhYmxlLmFqYXguYWJvcnRcIiwgZSwgeGhyKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIG9uKHhociwgXCJwcm9ncmVzc1wiLCB4aHJQcm9ncmVzcyk7XHJcbiAgICAgICAgICAgIG9uKHhociwgXCJsb2FkXCIsIHhockxvYWQpO1xyXG4gICAgICAgICAgICBvbih4aHIsIFwiZXJyb3JcIiwgeGhyRmFpbGVkKTtcclxuICAgICAgICAgICAgb24oeGhyLCBcImFib3J0XCIsIHhockNhbmNlbGxlZCk7XHJcblxyXG4gICAgICAgICAgICB0aGF0LmVtaXQoXCJkYXRhdGFibGUuYWpheC5sb2FkaW5nXCIsIHhocik7XHJcblxyXG4gICAgICAgICAgICB4aHIub3BlbihcIkdFVFwiLCB0eXBlb2YgYWpheCA9PT0gXCJzdHJpbmdcIiA/IG8uYWpheCA6IG8uYWpheC51cmwpO1xyXG4gICAgICAgICAgICB4aHIuc2VuZCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU3RvcmUgcmVmZXJlbmNlc1xyXG4gICAgICAgIHRoYXQuYm9keSA9IHRoYXQudGFibGUudEJvZGllc1swXTtcclxuICAgICAgICB0aGF0LmhlYWQgPSB0aGF0LnRhYmxlLnRIZWFkO1xyXG4gICAgICAgIHRoYXQuZm9vdCA9IHRoYXQudGFibGUudEZvb3Q7XHJcblxyXG4gICAgICAgIGlmICghdGhhdC5ib2R5KSB7XHJcbiAgICAgICAgICAgIHRoYXQuYm9keSA9IGNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiKTtcclxuXHJcbiAgICAgICAgICAgIHRoYXQudGFibGUuYXBwZW5kQ2hpbGQodGhhdC5ib2R5KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoYXQuaGFzUm93cyA9IHRoYXQuYm9keS5yb3dzLmxlbmd0aCA+IDA7XHJcblxyXG4gICAgICAgIC8vIE1ha2UgYSB0SGVhZCBpZiB0aGVyZSBpc24ndCBvbmUgKGZpeGVzICM4KVxyXG4gICAgICAgIGlmICghdGhhdC5oZWFkKSB7XHJcbiAgICAgICAgICAgIHZhciBoID0gY3JlYXRlRWxlbWVudChcInRoZWFkXCIpO1xyXG4gICAgICAgICAgICB2YXIgdCA9IGNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGF0Lmhhc1Jvd3MpIHtcclxuICAgICAgICAgICAgICAgIGVhY2godGhhdC5ib2R5LnJvd3NbMF0uY2VsbHMsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0LmFwcGVuZENoaWxkKGNyZWF0ZUVsZW1lbnQoXCJ0aFwiKSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBoLmFwcGVuZENoaWxkKHQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGF0LmhlYWQgPSBoO1xyXG5cclxuICAgICAgICAgICAgdGhhdC50YWJsZS5pbnNlcnRCZWZvcmUodGhhdC5oZWFkLCB0aGF0LmJvZHkpO1xyXG5cclxuICAgICAgICAgICAgdGhhdC5oaWRkZW5IZWFkZXIgPSAhby5hamF4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhhdC5oZWFkaW5ncyA9IFtdO1xyXG4gICAgICAgIHRoYXQuaGFzSGVhZGluZ3MgPSB0aGF0LmhlYWQucm93cy5sZW5ndGggPiAwO1xyXG5cclxuICAgICAgICBpZiAodGhhdC5oYXNIZWFkaW5ncykge1xyXG4gICAgICAgICAgICB0aGF0LmhlYWRlciA9IHRoYXQuaGVhZC5yb3dzWzBdO1xyXG4gICAgICAgICAgICB0aGF0LmhlYWRpbmdzID0gW10uc2xpY2UuY2FsbCh0aGF0LmhlYWRlci5jZWxscyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBIZWFkZXJcclxuICAgICAgICBpZiAoIW8uaGVhZGVyKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGF0LmhlYWQpIHtcclxuICAgICAgICAgICAgICAgIHRoYXQudGFibGUucmVtb3ZlQ2hpbGQodGhhdC50YWJsZS50SGVhZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEZvb3RlclxyXG4gICAgICAgIGlmIChvLmZvb3Rlcikge1xyXG4gICAgICAgICAgICBpZiAodGhhdC5oZWFkICYmICF0aGF0LmZvb3QpIHtcclxuICAgICAgICAgICAgICAgIHRoYXQuZm9vdCA9IGNyZWF0ZUVsZW1lbnQoXCJ0Zm9vdFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgaHRtbDogdGhhdC5oZWFkLmlubmVySFRNTFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGF0LnRhYmxlLmFwcGVuZENoaWxkKHRoYXQuZm9vdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodGhhdC5mb290KSB7XHJcbiAgICAgICAgICAgICAgICB0aGF0LnRhYmxlLnJlbW92ZUNoaWxkKHRoYXQudGFibGUudEZvb3QpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBCdWlsZFxyXG4gICAgICAgIHRoYXQud3JhcHBlciA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xyXG4gICAgICAgICAgICBjbGFzczogXCJkYXRhVGFibGUtd3JhcHBlciBkYXRhVGFibGUtbG9hZGluZ1wiXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFRlbXBsYXRlIGZvciBjdXN0b20gbGF5b3V0c1xyXG4gICAgICAgIHRlbXBsYXRlICs9IFwiPGRpdiBjbGFzcz0nZGF0YVRhYmxlLXRvcCc+XCI7XHJcbiAgICAgICAgdGVtcGxhdGUgKz0gby5sYXlvdXQudG9wO1xyXG4gICAgICAgIHRlbXBsYXRlICs9IFwiPC9kaXY+XCI7XHJcbiAgICAgICAgdGVtcGxhdGUgKz0gXCI8ZGl2IGNsYXNzPSdkYXRhVGFibGUtY29udGFpbmVyJz48L2Rpdj5cIjtcclxuICAgICAgICB0ZW1wbGF0ZSArPSBcIjxkaXYgY2xhc3M9J2RhdGFUYWJsZS1ib3R0b20nPlwiO1xyXG4gICAgICAgIHRlbXBsYXRlICs9IG8ubGF5b3V0LmJvdHRvbTtcclxuICAgICAgICB0ZW1wbGF0ZSArPSBcIjwvZGl2PlwiO1xyXG5cclxuICAgICAgICAvLyBJbmZvIHBsYWNlbWVudFxyXG4gICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZShcIntpbmZvfVwiLCBcIjxkaXYgY2xhc3M9J2RhdGFUYWJsZS1pbmZvJz48L2Rpdj5cIik7XHJcblxyXG4gICAgICAgIC8vIFBlciBQYWdlIFNlbGVjdFxyXG4gICAgICAgIGlmIChvLnBlclBhZ2VTZWxlY3QpIHtcclxuICAgICAgICAgICAgdmFyIHdyYXAgPSBcIjxkaXYgY2xhc3M9J2RhdGFUYWJsZS1kcm9wZG93bic+PGxhYmVsPlwiO1xyXG4gICAgICAgICAgICB3cmFwICs9IG8ubGFiZWxzLnBlclBhZ2U7XHJcbiAgICAgICAgICAgIHdyYXAgKz0gXCI8L2xhYmVsPjwvZGl2PlwiO1xyXG5cclxuICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBzZWxlY3RcclxuICAgICAgICAgICAgdmFyIHNlbGVjdCA9IGNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIiwge1xyXG4gICAgICAgICAgICAgICAgY2xhc3M6IFwiZGF0YVRhYmxlLXNlbGVjdG9yXCJcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIG9wdGlvbnNcclxuICAgICAgICAgICAgZWFjaChvLnBlclBhZ2VTZWxlY3QsIGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZCA9IHZhbCA9PT0gby5wZXJQYWdlO1xyXG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbiA9IG5ldyBPcHRpb24odmFsLCB2YWwsIHNlbGVjdGVkLCBzZWxlY3RlZCk7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3QuYWRkKG9wdGlvbik7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQ3VzdG9tIGxhYmVsXHJcbiAgICAgICAgICAgIHdyYXAgPSB3cmFwLnJlcGxhY2UoXCJ7c2VsZWN0fVwiLCBzZWxlY3Qub3V0ZXJIVE1MKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFNlbGVjdG9yIHBsYWNlbWVudFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoXCJ7c2VsZWN0fVwiLCB3cmFwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoXCJ7c2VsZWN0fVwiLCBcIlwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNlYXJjaGFibGVcclxuICAgICAgICBpZiAoby5zZWFyY2hhYmxlKSB7XHJcbiAgICAgICAgICAgIHZhciBmb3JtID1cclxuICAgICAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nZGF0YVRhYmxlLXNlYXJjaCc+PGlucHV0IGNsYXNzPSdkYXRhVGFibGUtaW5wdXQnIHBsYWNlaG9sZGVyPSdcIiArXHJcbiAgICAgICAgICAgICAgICBvLmxhYmVscy5wbGFjZWhvbGRlciArXHJcbiAgICAgICAgICAgICAgICBcIicgdHlwZT0ndGV4dCc+PC9kaXY+XCI7XHJcblxyXG4gICAgICAgICAgICAvLyBTZWFyY2ggaW5wdXQgcGxhY2VtZW50XHJcbiAgICAgICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZShcIntzZWFyY2h9XCIsIGZvcm0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZShcIntzZWFyY2h9XCIsIFwiXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoYXQuaGFzSGVhZGluZ3MpIHtcclxuICAgICAgICAgICAgLy8gU29ydGFibGVcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXIoXCJoZWFkZXJcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBZGQgdGFibGUgY2xhc3NcclxuICAgICAgICBjbGFzc0xpc3QuYWRkKHRoYXQudGFibGUsIFwiZGF0YVRhYmxlLXRhYmxlXCIpO1xyXG5cclxuICAgICAgICAvLyBQYWdpbmF0b3JcclxuICAgICAgICB2YXIgdyA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xyXG4gICAgICAgICAgICBjbGFzczogXCJkYXRhVGFibGUtcGFnaW5hdGlvblwiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIHBhZ2luYXRvciA9IGNyZWF0ZUVsZW1lbnQoXCJ1bFwiKTtcclxuICAgICAgICB3LmFwcGVuZENoaWxkKHBhZ2luYXRvcik7XHJcblxyXG4gICAgICAgIC8vIFBhZ2VyKHMpIHBsYWNlbWVudFxyXG4gICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZSgvXFx7cGFnZXJcXH0vZywgdy5vdXRlckhUTUwpO1xyXG5cclxuICAgICAgICB0aGF0LndyYXBwZXIuaW5uZXJIVE1MID0gdGVtcGxhdGU7XHJcblxyXG4gICAgICAgIHRoYXQuY29udGFpbmVyID0gdGhhdC53cmFwcGVyLnF1ZXJ5U2VsZWN0b3IoXCIuZGF0YVRhYmxlLWNvbnRhaW5lclwiKTtcclxuXHJcbiAgICAgICAgdGhhdC5wYWdlcnMgPSB0aGF0LndyYXBwZXIucXVlcnlTZWxlY3RvckFsbChcIi5kYXRhVGFibGUtcGFnaW5hdGlvblwiKTtcclxuXHJcbiAgICAgICAgdGhhdC5sYWJlbCA9IHRoYXQud3JhcHBlci5xdWVyeVNlbGVjdG9yKFwiLmRhdGFUYWJsZS1pbmZvXCIpO1xyXG5cclxuICAgICAgICAvLyBJbnNlcnQgaW4gdG8gRE9NIHRyZWVcclxuICAgICAgICB0aGF0LnRhYmxlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHRoYXQud3JhcHBlciwgdGhhdC50YWJsZSk7XHJcbiAgICAgICAgdGhhdC5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhhdC50YWJsZSk7XHJcblxyXG4gICAgICAgIC8vIFN0b3JlIHRoZSB0YWJsZSBkaW1lbnNpb25zXHJcbiAgICAgICAgdGhhdC5yZWN0ID0gdGhhdC50YWJsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgICAgICAgLy8gQ29udmVydCByb3dzIHRvIGFycmF5IGZvciBwcm9jZXNzaW5nXHJcbiAgICAgICAgdGhhdC5kYXRhID0gW10uc2xpY2UuY2FsbCh0aGF0LmJvZHkucm93cyk7XHJcbiAgICAgICAgdGhhdC5hY3RpdmVSb3dzID0gdGhhdC5kYXRhLnNsaWNlKCk7XHJcbiAgICAgICAgdGhhdC5hY3RpdmVIZWFkaW5ncyA9IHRoYXQuaGVhZGluZ3Muc2xpY2UoKTtcclxuXHJcbiAgICAgICAgLy8gVXBkYXRlXHJcbiAgICAgICAgdGhhdC51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgaWYgKCFvLmFqYXgpIHtcclxuICAgICAgICAgICAgdGhhdC5zZXRDb2x1bW5zKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBGaXggaGVpZ2h0XHJcbiAgICAgICAgdGhpcy5maXhIZWlnaHQoKTtcclxuXHJcbiAgICAgICAgLy8gRml4IGNvbHVtbnNcclxuICAgICAgICB0aGF0LmZpeENvbHVtbnMoKTtcclxuXHJcbiAgICAgICAgLy8gQ2xhc3MgbmFtZXNcclxuICAgICAgICBpZiAoIW8uaGVhZGVyKSB7XHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5hZGQodGhhdC53cmFwcGVyLCBcIm5vLWhlYWRlclwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghby5mb290ZXIpIHtcclxuICAgICAgICAgICAgY2xhc3NMaXN0LmFkZCh0aGF0LndyYXBwZXIsIFwibm8tZm9vdGVyXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG8uc29ydGFibGUpIHtcclxuICAgICAgICAgICAgY2xhc3NMaXN0LmFkZCh0aGF0LndyYXBwZXIsIFwic29ydGFibGVcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoby5zZWFyY2hhYmxlKSB7XHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5hZGQodGhhdC53cmFwcGVyLCBcInNlYXJjaGFibGVcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoby5maXhlZEhlaWdodCkge1xyXG4gICAgICAgICAgICBjbGFzc0xpc3QuYWRkKHRoYXQud3JhcHBlciwgXCJmaXhlZC1oZWlnaHRcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoby5maXhlZENvbHVtbnMpIHtcclxuICAgICAgICAgICAgY2xhc3NMaXN0LmFkZCh0aGF0LndyYXBwZXIsIFwiZml4ZWQtY29sdW1uc1wiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoYXQuYmluZEV2ZW50cygpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciB0aGUgcGFnZVxyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8ucmVuZGVyUGFnZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5oYXNSb3dzICYmIHRoaXMudG90YWxQYWdlcykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UGFnZSA+IHRoaXMudG90YWxQYWdlcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFVzZSBhIGZyYWdtZW50IHRvIGxpbWl0IHRvdWNoaW5nIHRoZSBET01cclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5jdXJyZW50UGFnZSAtIDEsXHJcbiAgICAgICAgICAgICAgICBmcmFnID0gZG9jLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmhhc0hlYWRpbmdzKSB7XHJcbiAgICAgICAgICAgICAgICBmbHVzaCh0aGlzLmhlYWRlciwgdGhpcy5pc0lFKTtcclxuXHJcbiAgICAgICAgICAgICAgICBlYWNoKHRoaXMuYWN0aXZlSGVhZGluZ3MsIGZ1bmN0aW9uICh0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGVhZGVyLmFwcGVuZENoaWxkKHRoKTtcclxuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBlYWNoKHRoaXMucGFnZXNbaW5kZXhdLCBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgICAgICBmcmFnLmFwcGVuZENoaWxkKHRoaXMucm93cygpLnJlbmRlcihyb3cpKTtcclxuICAgICAgICAgICAgfSwgdGhpcyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNsZWFyKGZyYWcpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vbkZpcnN0UGFnZSA9IHRoaXMuY3VycmVudFBhZ2UgPT09IDE7XHJcbiAgICAgICAgICAgIHRoaXMub25MYXN0UGFnZSA9IHRoaXMuY3VycmVudFBhZ2UgPT09IHRoaXMubGFzdFBhZ2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jbGVhcigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBpbmZvXHJcbiAgICAgICAgdmFyIGN1cnJlbnQgPSAwLFxyXG4gICAgICAgICAgICBmID0gMCxcclxuICAgICAgICAgICAgdCA9IDAsXHJcbiAgICAgICAgICAgIGl0ZW1zO1xyXG5cclxuICAgICAgICBpZiAodGhpcy50b3RhbFBhZ2VzKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnQgPSB0aGlzLmN1cnJlbnRQYWdlIC0gMTtcclxuICAgICAgICAgICAgZiA9IGN1cnJlbnQgKiB0aGlzLm9wdGlvbnMucGVyUGFnZTtcclxuICAgICAgICAgICAgdCA9IGYgKyB0aGlzLnBhZ2VzW2N1cnJlbnRdLmxlbmd0aDtcclxuICAgICAgICAgICAgZiA9IGYgKyAxO1xyXG4gICAgICAgICAgICBpdGVtcyA9ICEhdGhpcy5zZWFyY2hpbmcgPyB0aGlzLnNlYXJjaERhdGEubGVuZ3RoIDogdGhpcy5kYXRhLmxlbmd0aDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmxhYmVsICYmIHRoaXMub3B0aW9ucy5sYWJlbHMuaW5mby5sZW5ndGgpIHtcclxuICAgICAgICAgICAgLy8gQ1VTVE9NIExBQkVMU1xyXG4gICAgICAgICAgICB2YXIgc3RyaW5nID0gdGhpcy5vcHRpb25zLmxhYmVscy5pbmZvXHJcbiAgICAgICAgICAgICAgICAucmVwbGFjZShcIntzdGFydH1cIiwgZilcclxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKFwie2VuZH1cIiwgdClcclxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKFwie3BhZ2V9XCIsIHRoaXMuY3VycmVudFBhZ2UpXHJcbiAgICAgICAgICAgICAgICAucmVwbGFjZShcIntwYWdlc31cIiwgdGhpcy50b3RhbFBhZ2VzKVxyXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoXCJ7cm93c31cIiwgaXRlbXMpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5sYWJlbC5pbm5lckhUTUwgPSBpdGVtcyA/IHN0cmluZyA6IFwiXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGFnZSA9PSAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZml4SGVpZ2h0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciB0aGUgcGFnZXIocylcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLnJlbmRlclBhZ2VyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZsdXNoKHRoaXMucGFnZXJzLCB0aGlzLmlzSUUpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy50b3RhbFBhZ2VzID4gMSkge1xyXG4gICAgICAgICAgICB2YXIgYyA9IFwicGFnZXJcIixcclxuICAgICAgICAgICAgICAgIGZyYWcgPSBkb2MuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxyXG4gICAgICAgICAgICAgICAgcHJldiA9IHRoaXMub25GaXJzdFBhZ2UgPyAxIDogdGhpcy5jdXJyZW50UGFnZSAtIDEsXHJcbiAgICAgICAgICAgICAgICBuZXh0ID0gdGhpcy5vbmxhc3RQYWdlID8gdGhpcy50b3RhbFBhZ2VzIDogdGhpcy5jdXJyZW50UGFnZSArIDE7XHJcblxyXG4gICAgICAgICAgICAvLyBmaXJzdCBidXR0b25cclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5maXJzdExhc3QpIHtcclxuICAgICAgICAgICAgICAgIGZyYWcuYXBwZW5kQ2hpbGQoYnV0dG9uKGMsIDEsIHRoaXMub3B0aW9ucy5maXJzdFRleHQpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gcHJldiBidXR0b25cclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5uZXh0UHJldikge1xyXG4gICAgICAgICAgICAgICAgZnJhZy5hcHBlbmRDaGlsZChidXR0b24oYywgcHJldiwgdGhpcy5vcHRpb25zLnByZXZUZXh0KSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBwYWdlciA9IHRoaXMubGlua3M7XHJcblxyXG4gICAgICAgICAgICAvLyB0cnVuY2F0ZSB0aGUgbGlua3NcclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50cnVuY2F0ZVBhZ2VyKSB7XHJcbiAgICAgICAgICAgICAgICBwYWdlciA9IHRydW5jYXRlKFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGlua3MsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZSxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhZ2VzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMucGFnZXJEZWx0YSxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuZWxsaXBzaXNUZXh0XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBhY3RpdmUgcGFnZSBsaW5rXHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5hZGQodGhpcy5saW5rc1t0aGlzLmN1cnJlbnRQYWdlIC0gMV0sIFwiYWN0aXZlXCIpO1xyXG5cclxuICAgICAgICAgICAgLy8gYXBwZW5kIHRoZSBsaW5rc1xyXG4gICAgICAgICAgICBlYWNoKHBhZ2VyLCBmdW5jdGlvbiAocCkge1xyXG4gICAgICAgICAgICAgICAgY2xhc3NMaXN0LnJlbW92ZShwLCBcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgICAgIGZyYWcuYXBwZW5kQ2hpbGQocCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgY2xhc3NMaXN0LmFkZCh0aGlzLmxpbmtzW3RoaXMuY3VycmVudFBhZ2UgLSAxXSwgXCJhY3RpdmVcIik7XHJcblxyXG4gICAgICAgICAgICAvLyBuZXh0IGJ1dHRvblxyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLm5leHRQcmV2KSB7XHJcbiAgICAgICAgICAgICAgICBmcmFnLmFwcGVuZENoaWxkKGJ1dHRvbihjLCBuZXh0LCB0aGlzLm9wdGlvbnMubmV4dFRleHQpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gZmlyc3QgYnV0dG9uXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZmlyc3RMYXN0KSB7XHJcbiAgICAgICAgICAgICAgICBmcmFnLmFwcGVuZENoaWxkKGJ1dHRvbihjLCB0aGlzLnRvdGFsUGFnZXMsIHRoaXMub3B0aW9ucy5sYXN0VGV4dCkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBXZSBtYXkgaGF2ZSBtb3JlIHRoYW4gb25lIHBhZ2VyXHJcbiAgICAgICAgICAgIGVhY2godGhpcy5wYWdlcnMsIGZ1bmN0aW9uIChwYWdlcikge1xyXG4gICAgICAgICAgICAgICAgcGFnZXIuYXBwZW5kQ2hpbGQoZnJhZy5jbG9uZU5vZGUodHJ1ZSkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyIHRoZSBoZWFkZXJcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLnJlbmRlckhlYWRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XHJcblxyXG4gICAgICAgIHRoYXQubGFiZWxzID0gW107XHJcblxyXG4gICAgICAgIGlmICh0aGF0LmhlYWRpbmdzICYmIHRoYXQuaGVhZGluZ3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGVhY2godGhhdC5oZWFkaW5ncywgZnVuY3Rpb24gKHRoLCBpKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhhdC5sYWJlbHNbaV0gPSB0aC50ZXh0Q29udGVudDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY2xhc3NMaXN0LmNvbnRhaW5zKHRoLmZpcnN0RWxlbWVudENoaWxkLCBcImRhdGFUYWJsZS1zb3J0ZXJcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aC5pbm5lckhUTUwgPSB0aC5maXJzdEVsZW1lbnRDaGlsZC5pbm5lckhUTUw7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGguc29ydGFibGUgPSB0aC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNvcnRhYmxlXCIpICE9PSBcImZhbHNlXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgdGgub3JpZ2luYWxDZWxsSW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoYXQub3B0aW9ucy5zb3J0YWJsZSAmJiB0aC5zb3J0YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBsaW5rID0gY3JlYXRlRWxlbWVudChcImFcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBocmVmOiBcIiNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IFwiZGF0YVRhYmxlLXNvcnRlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sOiB0aC5pbm5lckhUTUxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGguaW5uZXJIVE1MID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICB0aC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXNvcnRhYmxlXCIsIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoLmFwcGVuZENoaWxkKGxpbmspO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoYXQuZml4Q29sdW1ucygpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEJpbmQgZXZlbnQgbGlzdGVuZXJzXHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgcHJvdG8uYmluZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdGhhdCA9IHRoaXMsXHJcbiAgICAgICAgICAgIG8gPSB0aGF0Lm9wdGlvbnM7XHJcblxyXG4gICAgICAgIC8vIFBlciBwYWdlIHNlbGVjdG9yXHJcbiAgICAgICAgaWYgKG8ucGVyUGFnZVNlbGVjdCkge1xyXG4gICAgICAgICAgICB2YXIgc2VsZWN0b3IgPSB0aGF0LndyYXBwZXIucXVlcnlTZWxlY3RvcihcIi5kYXRhVGFibGUtc2VsZWN0b3JcIik7XHJcbiAgICAgICAgICAgIGlmIChzZWxlY3Rvcikge1xyXG4gICAgICAgICAgICAgICAgLy8gQ2hhbmdlIHBlciBwYWdlXHJcbiAgICAgICAgICAgICAgICBvbihzZWxlY3RvciwgXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBvLnBlclBhZ2UgPSBwYXJzZUludCh0aGlzLnZhbHVlLCAxMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5maXhIZWlnaHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5lbWl0KFwiZGF0YXRhYmxlLnBlcnBhZ2VcIiwgby5wZXJQYWdlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTZWFyY2ggaW5wdXRcclxuICAgICAgICBpZiAoby5zZWFyY2hhYmxlKSB7XHJcbiAgICAgICAgICAgIHRoYXQuaW5wdXQgPSB0aGF0LndyYXBwZXIucXVlcnlTZWxlY3RvcihcIi5kYXRhVGFibGUtaW5wdXRcIik7XHJcbiAgICAgICAgICAgIGlmICh0aGF0LmlucHV0KSB7XHJcbiAgICAgICAgICAgICAgICBvbih0aGF0LmlucHV0LCBcImtleXVwXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5zZWFyY2godGhpcy52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUGFnZXIocykgLyBzb3J0aW5nXHJcbiAgICAgICAgb24odGhhdC53cmFwcGVyLCBcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHZhciB0ID0gZS50YXJnZXQ7XHJcbiAgICAgICAgICAgIGlmICh0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiYVwiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodC5oYXNBdHRyaWJ1dGUoXCJkYXRhLXBhZ2VcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0LnBhZ2UodC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBhZ2VcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgby5zb3J0YWJsZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTGlzdC5jb250YWlucyh0LCBcImRhdGFUYWJsZS1zb3J0ZXJcIikgJiZcclxuICAgICAgICAgICAgICAgICAgICB0LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1zb3J0YWJsZVwiKSAhPSBcImZhbHNlXCJcclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuY29sdW1ucygpLnNvcnQodGhhdC5hY3RpdmVIZWFkaW5ncy5pbmRleE9mKHQucGFyZW50Tm9kZSkgKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdXAgY29sdW1uc1xyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgIHByb3RvLnNldENvbHVtbnMgPSBmdW5jdGlvbiAoYWpheCkge1xyXG5cclxuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XHJcblxyXG4gICAgICAgIGlmICghYWpheCkge1xyXG4gICAgICAgICAgICBlYWNoKHRoYXQuZGF0YSwgZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICAgICAgZWFjaChyb3cuY2VsbHMsIGZ1bmN0aW9uIChjZWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2VsbC5kYXRhID0gY2VsbC5pbm5lckhUTUw7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVjayBmb3IgdGhlIGNvbHVtbnMgb3B0aW9uXHJcbiAgICAgICAgaWYgKHRoYXQub3B0aW9ucy5jb2x1bW5zICYmIHRoYXQuaGVhZGluZ3MubGVuZ3RoKSB7XHJcblxyXG4gICAgICAgICAgICBlYWNoKHRoYXQub3B0aW9ucy5jb2x1bW5zLCBmdW5jdGlvbiAoZGF0YSkge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGNvbnZlcnQgc2luZ2xlIGNvbHVtbiBzZWxlY3Rpb24gdG8gYXJyYXlcclxuICAgICAgICAgICAgICAgIGlmICghaXNBcnJheShkYXRhLnNlbGVjdCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLnNlbGVjdCA9IFtkYXRhLnNlbGVjdF07XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoXCJyZW5kZXJcIikgJiYgdHlwZW9mIGRhdGEucmVuZGVyID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0LnNlbGVjdGVkQ29sdW1ucyA9IHRoYXQuc2VsZWN0ZWRDb2x1bW5zLmNvbmNhdChkYXRhLnNlbGVjdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuY29sdW1uUmVuZGVyZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5zOiBkYXRhLnNlbGVjdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXI6IGRhdGEucmVuZGVyXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBkYXRhIGF0dHJpYnV0ZXMgdG8gdGhlIHRoIGVsZW1lbnRzXHJcbiAgICAgICAgICAgICAgICBlYWNoKGRhdGEuc2VsZWN0LCBmdW5jdGlvbiAoY29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRoID0gdGhhdC5oZWFkaW5nc1tjb2x1bW5dO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGguc2V0QXR0cmlidXRlKFwiZGF0YS10eXBlXCIsIGRhdGEudHlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmZvcm1hdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWZvcm1hdFwiLCBkYXRhLmZvcm1hdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KFwic29ydGFibGVcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGguc2V0QXR0cmlidXRlKFwiZGF0YS1zb3J0YWJsZVwiLCBkYXRhLnNvcnRhYmxlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KFwiaGlkZGVuXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmhpZGRlbiAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuY29sdW1ucyhjb2x1bW4pLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoXCJzb3J0XCIpICYmIGRhdGEuc2VsZWN0Lmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmNvbHVtbnMoKS5zb3J0KGRhdGEuc2VsZWN0WzBdICsgMSwgZGF0YS5zb3J0LCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhhdC5oYXNSb3dzKSB7XHJcbiAgICAgICAgICAgIGVhY2godGhhdC5kYXRhLCBmdW5jdGlvbiAocm93LCBpKSB7XHJcbiAgICAgICAgICAgICAgICByb3cuZGF0YUluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgIGVhY2gocm93LmNlbGxzLCBmdW5jdGlvbiAoY2VsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNlbGwuZGF0YSA9IGNlbGwuaW5uZXJIVE1MO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoYXQuc2VsZWN0ZWRDb2x1bW5zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgZWFjaCh0aGF0LmRhdGEsIGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICBlYWNoKHJvdy5jZWxscywgZnVuY3Rpb24gKGNlbGwsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoYXQuc2VsZWN0ZWRDb2x1bW5zLmluZGV4T2YoaSkgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWFjaCh0aGF0LmNvbHVtblJlbmRlcmVycywgZnVuY3Rpb24gKG8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoby5jb2x1bW5zLmluZGV4T2YoaSkgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWxsLmlubmVySFRNTCA9IG8ucmVuZGVyZXIuY2FsbCh0aGF0LCBjZWxsLmRhdGEsIGNlbGwsIHJvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGF0LmNvbHVtbnMoKS5yZWJ1aWxkKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGF0LnJlbmRlcihcImhlYWRlclwiKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZXN0cm95IHRoZSBpbnN0YW5jZVxyXG4gICAgICogQHJldHVybiB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8uZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnRhYmxlLmlubmVySFRNTCA9IHRoaXMuaW5pdGlhbExheW91dDtcclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlIHRoZSBjbGFzc05hbWVcclxuICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKHRoaXMudGFibGUsIFwiZGF0YVRhYmxlLXRhYmxlXCIpO1xyXG5cclxuICAgICAgICAvLyBSZW1vdmUgdGhlIGNvbnRhaW5lcnNcclxuICAgICAgICB0aGlzLndyYXBwZXIucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQodGhpcy50YWJsZSwgdGhpcy53cmFwcGVyKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZSB0aGUgaW5zdGFuY2VcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnBhZ2luYXRlKHRoaXMpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyKFwicGFnZVwiKTtcclxuXHJcbiAgICAgICAgdGhpcy5saW5rcyA9IFtdO1xyXG5cclxuICAgICAgICB2YXIgaSA9IHRoaXMucGFnZXMubGVuZ3RoO1xyXG4gICAgICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICAgICAgdmFyIG51bSA9IGkgKyAxO1xyXG4gICAgICAgICAgICB0aGlzLmxpbmtzW2ldID0gYnV0dG9uKGkgPT09IDAgPyBcImFjdGl2ZVwiIDogXCJcIiwgbnVtLCBudW0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zb3J0aW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMucmVuZGVyKFwicGFnZXJcIik7XHJcblxyXG4gICAgICAgIHRoaXMucm93cygpLnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICB0aGlzLmVtaXQoXCJkYXRhdGFibGUudXBkYXRlXCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNvcnQgcm93cyBpbnRvIHBhZ2VzXHJcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLnBhZ2luYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBwZXJQYWdlID0gdGhpcy5vcHRpb25zLnBlclBhZ2UsXHJcbiAgICAgICAgICAgIHJvd3MgPSB0aGlzLmFjdGl2ZVJvd3M7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNlYXJjaGluZykge1xyXG4gICAgICAgICAgICByb3dzID0gW107XHJcblxyXG4gICAgICAgICAgICBlYWNoKHRoaXMuc2VhcmNoRGF0YSwgZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICByb3dzLnB1c2godGhpcy5hY3RpdmVSb3dzW2luZGV4XSk7XHJcbiAgICAgICAgICAgIH0sIHRoaXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGhpZGRlbiBjb2x1bW5zXHJcbiAgICAgICAgdGhpcy5wYWdlcyA9IHJvd3NcclxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAodHIsIGkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpICUgcGVyUGFnZSA9PT0gMCA/IHJvd3Muc2xpY2UoaSwgaSArIHBlclBhZ2UpIDogbnVsbDtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAocGFnZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhZ2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnRvdGFsUGFnZXMgPSB0aGlzLmxhc3RQYWdlID0gdGhpcy5wYWdlcy5sZW5ndGg7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnRvdGFsUGFnZXM7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRml4IGNvbHVtbiB3aWR0aHNcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLmZpeENvbHVtbnMgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZml4ZWRDb2x1bW5zICYmIHRoaXMuYWN0aXZlSGVhZGluZ3MgJiYgdGhpcy5hY3RpdmVIZWFkaW5ncy5sZW5ndGgpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBjZWxscyxcclxuICAgICAgICAgICAgICAgIGhkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbHVtbldpZHRocyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBoZWFkaW5ncyB3ZSBuZWVkIG9ubHkgc2V0IHRoZSB3aWR0aHMgb24gdGhlbVxyXG4gICAgICAgICAgICAvLyBvdGhlcndpc2Ugd2UgbmVlZCBhIHRlbXAgaGVhZGVyIGFuZCB0aGUgd2lkdGhzIG5lZWQgYXBwbHlpbmcgdG8gYWxsIGNlbGxzXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRhYmxlLnRIZWFkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBSZXNldCB3aWR0aHNcclxuICAgICAgICAgICAgICAgIGVhY2godGhpcy5hY3RpdmVIZWFkaW5ncywgZnVuY3Rpb24gKGNlbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjZWxsLnN0eWxlLndpZHRoID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgICAgIGVhY2godGhpcy5hY3RpdmVIZWFkaW5ncywgZnVuY3Rpb24gKGNlbGwsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgb3cgPSBjZWxsLm9mZnNldFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB3ID0gb3cgLyB0aGlzLnJlY3Qud2lkdGggKiAxMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgY2VsbC5zdHlsZS53aWR0aCA9IHcgKyBcIiVcIjtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbHVtbldpZHRoc1tpXSA9IG93O1xyXG4gICAgICAgICAgICAgICAgfSwgdGhpcyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjZWxscyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIE1ha2UgdGVtcGVyYXJ5IGhlYWRpbmdzXHJcbiAgICAgICAgICAgICAgICBoZCA9IGNyZWF0ZUVsZW1lbnQoXCJ0aGVhZFwiKTtcclxuICAgICAgICAgICAgICAgIHZhciByID0gY3JlYXRlRWxlbWVudChcInRyXCIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGMgPSB0aGlzLnRhYmxlLnRCb2RpZXNbMF0ucm93c1swXS5jZWxscztcclxuICAgICAgICAgICAgICAgIGVhY2goYywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aCA9IGNyZWF0ZUVsZW1lbnQoXCJ0aFwiKTtcclxuICAgICAgICAgICAgICAgICAgICByLmFwcGVuZENoaWxkKHRoKTtcclxuICAgICAgICAgICAgICAgICAgICBjZWxscy5wdXNoKHRoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGhkLmFwcGVuZENoaWxkKHIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50YWJsZS5pbnNlcnRCZWZvcmUoaGQsIHRoaXMuYm9keSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHdpZHRocyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZWFjaChjZWxscywgZnVuY3Rpb24gKGNlbGwsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgb3cgPSBjZWxsLm9mZnNldFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB3ID0gb3cgLyB0aGlzLnJlY3Qud2lkdGggKiAxMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGhzLnB1c2godyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2x1bW5XaWR0aHNbaV0gPSBvdztcclxuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgICAgIGVhY2godGhpcy5kYXRhLCBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWFjaChyb3cuY2VsbHMsIGZ1bmN0aW9uIChjZWxsLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbHVtbnMoY2VsbC5jZWxsSW5kZXgpLnZpc2libGUoKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwuc3R5bGUud2lkdGggPSB3aWR0aHNbaV0gKyBcIiVcIjtcclxuICAgICAgICAgICAgICAgICAgICB9LCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIERpc2NhcmQgdGhlIHRlbXAgaGVhZGVyXHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlLnJlbW92ZUNoaWxkKGhkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBGaXggdGhlIGNvbnRhaW5lciBoZWlnaHQ7XHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5maXhIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5maXhlZEhlaWdodCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLnJlY3QgPSB0aGlzLmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gdGhpcy5yZWN0LmhlaWdodCArIFwicHhcIjtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGVyZm9ybSBhIHNlYXJjaCBvZiB0aGUgZGF0YSBzZXRcclxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gcXVlcnlcclxuICAgICAqIEByZXR1cm4ge3ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLnNlYXJjaCA9IGZ1bmN0aW9uIChxdWVyeSkge1xyXG4gICAgICAgIGlmICghdGhpcy5oYXNSb3dzKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcclxuXHJcbiAgICAgICAgcXVlcnkgPSBxdWVyeS50b0xvd2VyQ2FzZSgpO1xyXG5cclxuICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTtcclxuICAgICAgICB0aGlzLnNlYXJjaGluZyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5zZWFyY2hEYXRhID0gW107XHJcblxyXG4gICAgICAgIGlmICghcXVlcnkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VhcmNoaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZW1pdChcImRhdGF0YWJsZS5zZWFyY2hcIiwgcXVlcnksIHRoaXMuc2VhcmNoRGF0YSk7XHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5yZW1vdmUodGhpcy53cmFwcGVyLCBcInNlYXJjaC1yZXN1bHRzXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNsZWFyKCk7XHJcblxyXG4gICAgICAgIGVhY2godGhpcy5kYXRhLCBmdW5jdGlvbiAocm93LCBpZHgpIHtcclxuICAgICAgICAgICAgdmFyIGluQXJyYXkgPSB0aGlzLnNlYXJjaERhdGEuaW5kZXhPZihyb3cpID4gLTE7XHJcblxyXG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vTW9iaXVzMS9WYW5pbGxhLURhdGFUYWJsZXMvaXNzdWVzLzEyXHJcbiAgICAgICAgICAgIHZhciBkb2VzUXVlcnlNYXRjaCA9IHF1ZXJ5LnNwbGl0KFwiIFwiKS5yZWR1Y2UoZnVuY3Rpb24gKGJvb2wsIHdvcmQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbmNsdWRlcyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgcm93LmNlbGxzLmxlbmd0aDsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3cuY2VsbHNbeF0udGV4dENvbnRlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKHdvcmQpID4gLTEgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5jb2x1bW5zKHJvdy5jZWxsc1t4XS5jZWxsSW5kZXgpLnZpc2libGUoKVxyXG4gICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlcyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYm9vbCAmJiBpbmNsdWRlcztcclxuICAgICAgICAgICAgfSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZG9lc1F1ZXJ5TWF0Y2ggJiYgIWluQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIHJvdy5zZWFyY2hJbmRleCA9IGlkeDtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoRGF0YS5wdXNoKGlkeCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByb3cuc2VhcmNoSW5kZXggPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgdGhpcyk7XHJcblxyXG4gICAgICAgIGNsYXNzTGlzdC5hZGQodGhpcy53cmFwcGVyLCBcInNlYXJjaC1yZXN1bHRzXCIpO1xyXG5cclxuICAgICAgICBpZiAoIXRoYXQuc2VhcmNoRGF0YS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY2xhc3NMaXN0LnJlbW92ZSh0aGF0LndyYXBwZXIsIFwic2VhcmNoLXJlc3VsdHNcIik7XHJcblxyXG4gICAgICAgICAgICB0aGF0LnNldE1lc3NhZ2UodGhhdC5vcHRpb25zLmxhYmVscy5ub1Jvd3MpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoYXQudXBkYXRlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmVtaXQoXCJkYXRhdGFibGUuc2VhcmNoXCIsIHF1ZXJ5LCB0aGlzLnNlYXJjaERhdGEpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENoYW5nZSBwYWdlXHJcbiAgICAgKiBAcGFyYW0gIHtpbnR9IHBhZ2VcclxuICAgICAqIEByZXR1cm4ge3ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLnBhZ2UgPSBmdW5jdGlvbiAocGFnZSkge1xyXG4gICAgICAgIC8vIFdlIGRvbid0IHdhbnQgdG8gbG9hZCB0aGUgY3VycmVudCBwYWdlIGFnYWluLlxyXG4gICAgICAgIGlmIChwYWdlID09IHRoaXMuY3VycmVudFBhZ2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFpc05hTihwYWdlKSkge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gcGFyc2VJbnQocGFnZSwgMTApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHBhZ2UgPiB0aGlzLnBhZ2VzLmxlbmd0aCB8fCBwYWdlIDwgMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnJlbmRlcihcInBhZ2VcIik7XHJcbiAgICAgICAgdGhpcy5yZW5kZXIoXCJwYWdlclwiKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbWl0KFwiZGF0YXRhYmxlLnBhZ2VcIiwgcGFnZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU29ydCBieSBjb2x1bW5cclxuICAgICAqIEBwYXJhbSAge2ludH0gY29sdW1uIC0gVGhlIGNvbHVtbiBuby5cclxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gZGlyZWN0aW9uIC0gYXNjIG9yIGRlc2NcclxuICAgICAqIEByZXR1cm4ge3ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLnNvcnRDb2x1bW4gPSBmdW5jdGlvbiAoY29sdW1uLCBkaXJlY3Rpb24pIHtcclxuICAgICAgICAvLyBVc2UgY29sdW1ucyBBUEkgdW50aWwgc29ydENvbHVtbiBtZXRob2QgaXMgcmVtb3ZlZFxyXG4gICAgICAgIHRoaXMuY29sdW1ucygpLnNvcnQoY29sdW1uLCBkaXJlY3Rpb24pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZCBuZXcgcm93IGRhdGFcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhXHJcbiAgICAgKi9cclxuICAgIHByb3RvLmluc2VydCA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcblxyXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcyxcclxuICAgICAgICAgICAgcm93cyA9IFtdO1xyXG4gICAgICAgIGlmIChpc09iamVjdChkYXRhKSkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5oZWFkaW5ncykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGF0Lmhhc0hlYWRpbmdzICYmICF0aGF0Lmhhc1Jvd3MpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdHIgPSBjcmVhdGVFbGVtZW50KFwidHJcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIGVhY2goZGF0YS5oZWFkaW5ncywgZnVuY3Rpb24gKGhlYWRpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGggPSBjcmVhdGVFbGVtZW50KFwidGhcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogaGVhZGluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0LmhlYWQuYXBwZW5kQ2hpbGQodHIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGF0LmhlYWRlciA9IHRyO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuaGVhZGluZ3MgPSBbXS5zbGljZS5jYWxsKHRyLmNlbGxzKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0Lmhhc0hlYWRpbmdzID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmUtZW5hYmxlIHNvcnRpbmcgaWYgaXQgd2FzIGRpc2FibGVkIGR1ZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIG1pc3NpbmcgaGVhZGVyXHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5vcHRpb25zLnNvcnRhYmxlID0gdGhhdC5pbml0aWFsU29ydGFibGU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFsbG93IHNvcnRpbmcgb24gbmV3IGhlYWRlclxyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQucmVuZGVyKFwiaGVhZGVyXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoZGF0YS5kYXRhICYmIGlzQXJyYXkoZGF0YS5kYXRhKSkge1xyXG4gICAgICAgICAgICAgICAgcm93cyA9IGRhdGEuZGF0YTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShkYXRhKSkge1xyXG4gICAgICAgICAgICBlYWNoKGRhdGEsIGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgICAgICAgICAgIHZhciByID0gW107XHJcbiAgICAgICAgICAgICAgICBlYWNoKHJvdywgZnVuY3Rpb24gKGNlbGwsIGhlYWRpbmcpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhhdC5sYWJlbHMuaW5kZXhPZihoZWFkaW5nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcltpbmRleF0gPSBjZWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcm93cy5wdXNoKHIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChyb3dzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGF0LnJvd3MoKS5hZGQocm93cyk7XHJcblxyXG4gICAgICAgICAgICB0aGF0Lmhhc1Jvd3MgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhhdC51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgdGhhdC5maXhDb2x1bW5zKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVmcmVzaCB0aGUgaW5zdGFuY2VcclxuICAgICAqIEByZXR1cm4ge3ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLnJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zZWFyY2hhYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5wdXQudmFsdWUgPSBcIlwiO1xyXG4gICAgICAgICAgICB0aGlzLnNlYXJjaGluZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTtcclxuICAgICAgICB0aGlzLm9uRmlyc3RQYWdlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICB0aGlzLmVtaXQoXCJkYXRhdGFibGUucmVmcmVzaFwiKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUcnVuY2F0ZSB0aGUgdGFibGVcclxuICAgICAqIEBwYXJhbSAge21peGVzfSBodG1sIC0gSFRNTCBzdHJpbmcgb3IgSFRNTEVsZW1lbnRcclxuICAgICAqIEByZXR1cm4ge3ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLmNsZWFyID0gZnVuY3Rpb24gKGh0bWwpIHtcclxuICAgICAgICBpZiAodGhpcy5ib2R5KSB7XHJcbiAgICAgICAgICAgIGZsdXNoKHRoaXMuYm9keSwgdGhpcy5pc0lFKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLmJvZHk7XHJcbiAgICAgICAgaWYgKCF0aGlzLmJvZHkpIHtcclxuICAgICAgICAgICAgcGFyZW50ID0gdGhpcy50YWJsZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChodG1sKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaHRtbCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZyYWcgPSBkb2MuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xyXG4gICAgICAgICAgICAgICAgZnJhZy5pbm5lckhUTUwgPSBodG1sO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoaHRtbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEV4cG9ydCB0YWJsZSB0byB2YXJpb3VzIGZvcm1hdHMgKGNzdiwgdHh0IG9yIHNxbClcclxuICAgICAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9ucyBVc2VyIG9wdGlvbnNcclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIHByb3RvLmV4cG9ydCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmhhc0hlYWRpbmdzICYmICF0aGlzLmhhc1Jvd3MpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgdmFyIGhlYWRlcnMgPSB0aGlzLmFjdGl2ZUhlYWRpbmdzLFxyXG4gICAgICAgICAgICByb3dzID0gW10sXHJcbiAgICAgICAgICAgIGFyciA9IFtdLFxyXG4gICAgICAgICAgICBpLFxyXG4gICAgICAgICAgICB4LFxyXG4gICAgICAgICAgICBzdHIsXHJcbiAgICAgICAgICAgIGxpbms7XHJcblxyXG4gICAgICAgIHZhciBkZWZhdWx0cyA9IHtcclxuICAgICAgICAgICAgZG93bmxvYWQ6IHRydWUsXHJcbiAgICAgICAgICAgIHNraXBDb2x1bW46IFtdLFxyXG5cclxuICAgICAgICAgICAgLy8gY3N2XHJcbiAgICAgICAgICAgIGxpbmVEZWxpbWl0ZXI6IFwiXFxuXCIsXHJcbiAgICAgICAgICAgIGNvbHVtbkRlbGltaXRlcjogXCIsXCIsXHJcblxyXG4gICAgICAgICAgICAvLyBzcWxcclxuICAgICAgICAgICAgdGFibGVOYW1lOiBcIm15VGFibGVcIixcclxuXHJcbiAgICAgICAgICAgIC8vIGpzb25cclxuICAgICAgICAgICAgcmVwbGFjZXI6IG51bGwsXHJcbiAgICAgICAgICAgIHNwYWNlOiA0XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgZm9yIHRoZSBvcHRpb25zIG9iamVjdFxyXG4gICAgICAgIGlmICghaXNPYmplY3Qob3B0aW9ucykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIG8gPSBleHRlbmQoZGVmYXVsdHMsIG9wdGlvbnMpO1xyXG5cclxuICAgICAgICBpZiAoby50eXBlKSB7XHJcbiAgICAgICAgICAgIGlmIChvLnR5cGUgPT09IFwidHh0XCIgfHwgby50eXBlID09PSBcImNzdlwiKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJbmNsdWRlIGhlYWRpbmdzXHJcbiAgICAgICAgICAgICAgICByb3dzWzBdID0gdGhpcy5oZWFkZXI7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFNlbGVjdGlvbiBvciB3aG9sZSB0YWJsZVxyXG4gICAgICAgICAgICBpZiAoby5zZWxlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIC8vIFBhZ2UgbnVtYmVyXHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKG8uc2VsZWN0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvd3MgPSByb3dzLmNvbmNhdCh0aGlzLnBhZ2VzW28uc2VsZWN0aW9uIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KG8uc2VsZWN0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFycmF5IG9mIHBhZ2UgbnVtYmVyc1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBvLnNlbGVjdGlvbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3dzID0gcm93cy5jb25jYXQodGhpcy5wYWdlc1tvLnNlbGVjdGlvbltpXSAtIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByb3dzID0gcm93cy5jb25jYXQodGhpcy5hY3RpdmVSb3dzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gT25seSBwcm9jZWVkIGlmIHdlIGhhdmUgZGF0YVxyXG4gICAgICAgICAgICBpZiAocm93cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvLnR5cGUgPT09IFwidHh0XCIgfHwgby50eXBlID09PSBcImNzdlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gXCJcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHJvd3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh4ID0gMDsgeCA8IHJvd3NbaV0uY2VsbHMubGVuZ3RoOyB4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBjb2x1bW4gc2tpcCBhbmQgdmlzaWJpbGl0eVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8uc2tpcENvbHVtbi5pbmRleE9mKGhlYWRlcnNbeF0ub3JpZ2luYWxDZWxsSW5kZXgpIDwgMCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29sdW1ucyhoZWFkZXJzW3hdLm9yaWdpbmFsQ2VsbEluZGV4KS52aXNpYmxlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSByb3dzW2ldLmNlbGxzW3hdLnRleHRDb250ZW50ICsgby5jb2x1bW5EZWxpbWl0ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRyYWlsaW5nIGNvbHVtbiBkZWxpbWl0ZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyID0gc3RyLnRyaW0oKS5zdWJzdHJpbmcoMCwgc3RyLmxlbmd0aCAtIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXBwbHkgbGluZSBkZWxpbWl0ZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9IG8ubGluZURlbGltaXRlcjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0cmFpbGluZyBsaW5lIGRlbGltaXRlclxyXG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IHN0ci50cmltKCkuc3Vic3RyaW5nKDAsIHN0ci5sZW5ndGggLSAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG8uZG93bmxvYWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyID0gXCJkYXRhOnRleHQvY3N2O2NoYXJzZXQ9dXRmLTgsXCIgKyBzdHI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvLnR5cGUgPT09IFwic3FsXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBCZWdpbiBJTlNFUlQgc3RhdGVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gXCJJTlNFUlQgSU5UTyBgXCIgKyBvLnRhYmxlTmFtZSArIFwiYCAoXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgdGFibGUgaGVhZGluZ3MgdG8gY29sdW1uIG5hbWVzXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGhlYWRlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGNvbHVtbiBza2lwIGFuZCBjb2x1bW4gdmlzaWJpbGl0eVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLnNraXBDb2x1bW4uaW5kZXhPZihoZWFkZXJzW2ldLm9yaWdpbmFsQ2VsbEluZGV4KSA8IDAgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29sdW1ucyhoZWFkZXJzW2ldLm9yaWdpbmFsQ2VsbEluZGV4KS52aXNpYmxlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHIgKz0gXCJgXCIgKyBoZWFkZXJzW2ldLnRleHRDb250ZW50ICsgXCJgLFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdHJhaWxpbmcgY29tbWFcclxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBzdHIudHJpbSgpLnN1YnN0cmluZygwLCBzdHIubGVuZ3RoIC0gMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEJlZ2luIFZBTFVFU1xyXG4gICAgICAgICAgICAgICAgICAgIHN0ciArPSBcIikgVkFMVUVTIFwiO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBJdGVyYXRlIHJvd3MgYW5kIGNvbnZlcnQgY2VsbCBkYXRhIHRvIGNvbHVtbiB2YWx1ZXNcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcm93cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHIgKz0gXCIoXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHggPSAwOyB4IDwgcm93c1tpXS5jZWxscy5sZW5ndGg7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGNvbHVtbiBza2lwIGFuZCBjb2x1bW4gdmlzaWJpbGl0eVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8uc2tpcENvbHVtbi5pbmRleE9mKGhlYWRlcnNbeF0ub3JpZ2luYWxDZWxsSW5kZXgpIDwgMCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29sdW1ucyhoZWFkZXJzW3hdLm9yaWdpbmFsQ2VsbEluZGV4KS52aXNpYmxlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSAnXCInICsgcm93c1tpXS5jZWxsc1t4XS50ZXh0Q29udGVudCArICdcIiwnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdHJhaWxpbmcgY29tbWFcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyID0gc3RyLnRyaW0oKS5zdWJzdHJpbmcoMCwgc3RyLmxlbmd0aCAtIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW5kIFZBTFVFU1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHIgKz0gXCIpLFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRyYWlsaW5nIGNvbW1hXHJcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gc3RyLnRyaW0oKS5zdWJzdHJpbmcoMCwgc3RyLmxlbmd0aCAtIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdHJhaWxpbmcgY29sb25cclxuICAgICAgICAgICAgICAgICAgICBzdHIgKz0gXCI7XCI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvLmRvd25sb2FkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciA9IFwiZGF0YTphcHBsaWNhdGlvbi9zcWw7Y2hhcnNldD11dGYtOCxcIiArIHN0cjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG8udHlwZSA9PT0gXCJqc29uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBJdGVyYXRlIHJvd3NcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHggPSAwOyB4IDwgcm93cy5sZW5ndGg7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcnJbeF0gPSBhcnJbeF0gfHwge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEl0ZXJhdGUgY29sdW1uc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaGVhZGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGNvbHVtbiBza2lwIGFuZCBjb2x1bW4gdmlzaWJpbGl0eVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8uc2tpcENvbHVtbi5pbmRleE9mKGhlYWRlcnNbaV0ub3JpZ2luYWxDZWxsSW5kZXgpIDwgMCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29sdW1ucyhoZWFkZXJzW2ldLm9yaWdpbmFsQ2VsbEluZGV4KS52aXNpYmxlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyclt4XVtoZWFkZXJzW2ldLnRleHRDb250ZW50XSA9IHJvd3NbeF0uY2VsbHNbaV0udGV4dENvbnRlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgdGhlIGFycmF5IG9mIG9iamVjdHMgdG8gSlNPTiBzdHJpbmdcclxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBKU09OLnN0cmluZ2lmeShhcnIsIG8ucmVwbGFjZXIsIG8uc3BhY2UpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoby5kb3dubG9hZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHIgPSBcImRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04LFwiICsgc3RyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBEb3dubG9hZFxyXG4gICAgICAgICAgICAgICAgaWYgKG8uZG93bmxvYWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBGaWxlbmFtZVxyXG4gICAgICAgICAgICAgICAgICAgIG8uZmlsZW5hbWUgPSBvLmZpbGVuYW1lIHx8IFwiZGF0YXRhYmxlX2V4cG9ydFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIG8uZmlsZW5hbWUgKz0gXCIuXCIgKyBvLnR5cGU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IGVuY29kZVVSSShzdHIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBsaW5rIHRvIHRyaWdnZXIgdGhlIGRvd25sb2FkXHJcbiAgICAgICAgICAgICAgICAgICAgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmsuaHJlZiA9IHN0cjtcclxuICAgICAgICAgICAgICAgICAgICBsaW5rLmRvd25sb2FkID0gby5maWxlbmFtZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQXBwZW5kIHRoZSBsaW5rXHJcbiAgICAgICAgICAgICAgICAgICAgYm9keS5hcHBlbmRDaGlsZChsaW5rKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVHJpZ2dlciB0aGUgZG93bmxvYWRcclxuICAgICAgICAgICAgICAgICAgICBsaW5rLmNsaWNrKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgbGlua1xyXG4gICAgICAgICAgICAgICAgICAgIGJvZHkucmVtb3ZlQ2hpbGQobGluayk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0cjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEltcG9ydCBkYXRhIHRvIHRoZSB0YWJsZVxyXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zIFVzZXIgb3B0aW9uc1xyXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgcHJvdG8uaW1wb3J0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgb2JqID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xyXG4gICAgICAgICAgICAvLyBjc3ZcclxuICAgICAgICAgICAgbGluZURlbGltaXRlcjogXCJcXG5cIixcclxuICAgICAgICAgICAgY29sdW1uRGVsaW1pdGVyOiBcIixcIlxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGZvciB0aGUgb3B0aW9ucyBvYmplY3RcclxuICAgICAgICBpZiAoIWlzT2JqZWN0KG9wdGlvbnMpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG9wdGlvbnMgPSBleHRlbmQoZGVmYXVsdHMsIG9wdGlvbnMpO1xyXG5cclxuICAgICAgICBpZiAob3B0aW9ucy5kYXRhLmxlbmd0aCB8fCBpc09iamVjdChvcHRpb25zLmRhdGEpKSB7XHJcbiAgICAgICAgICAgIC8vIEltcG9ydCBDU1ZcclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMudHlwZSA9PT0gXCJjc3ZcIikge1xyXG4gICAgICAgICAgICAgICAgb2JqID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IFtdXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFNwbGl0IHRoZSBzdHJpbmcgaW50byByb3dzXHJcbiAgICAgICAgICAgICAgICB2YXIgcm93cyA9IG9wdGlvbnMuZGF0YS5zcGxpdChvcHRpb25zLmxpbmVEZWxpbWl0ZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChyb3dzLmxlbmd0aCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5oZWFkaW5ncykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmouaGVhZGluZ3MgPSByb3dzWzBdLnNwbGl0KG9wdGlvbnMuY29sdW1uRGVsaW1pdGVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd3Muc2hpZnQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGVhY2gocm93cywgZnVuY3Rpb24gKHJvdywgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmouZGF0YVtpXSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3BsaXQgdGhlIHJvd3MgaW50byB2YWx1ZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlcyA9IHJvdy5zcGxpdChvcHRpb25zLmNvbHVtbkRlbGltaXRlcik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWFjaCh2YWx1ZXMsIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5kYXRhW2ldLnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLnR5cGUgPT09IFwianNvblwiKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIganNvbiA9IGlzSnNvbihvcHRpb25zLmRhdGEpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFZhbGlkIEpTT04gc3RyaW5nXHJcbiAgICAgICAgICAgICAgICBpZiAoanNvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIG9iaiA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGluZ3M6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBbXVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGVhY2goanNvbiwgZnVuY3Rpb24gKGRhdGEsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmRhdGFbaV0gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWFjaChkYXRhLCBmdW5jdGlvbiAodmFsdWUsIGNvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5oZWFkaW5ncy5pbmRleE9mKGNvbHVtbikgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmhlYWRpbmdzLnB1c2goY29sdW1uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouZGF0YVtpXS5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlRoYXQncyBub3QgdmFsaWQgSlNPTiFcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChpc09iamVjdChvcHRpb25zLmRhdGEpKSB7XHJcbiAgICAgICAgICAgICAgICBvYmogPSBvcHRpb25zLmRhdGE7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChvYmopIHtcclxuICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgcm93c1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnNlcnQob2JqKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUHJpbnQgdGhlIHRhYmxlXHJcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5wcmludCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgaGVhZGluZ3MgPSB0aGlzLmFjdGl2ZUhlYWRpbmdzO1xyXG4gICAgICAgIHZhciByb3dzID0gdGhpcy5hY3RpdmVSb3dzO1xyXG4gICAgICAgIHZhciB0YWJsZSA9IGNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKTtcclxuICAgICAgICB2YXIgdGhlYWQgPSBjcmVhdGVFbGVtZW50KFwidGhlYWRcIik7XHJcbiAgICAgICAgdmFyIHRib2R5ID0gY3JlYXRlRWxlbWVudChcInRib2R5XCIpO1xyXG5cclxuICAgICAgICB2YXIgdHIgPSBjcmVhdGVFbGVtZW50KFwidHJcIik7XHJcbiAgICAgICAgZWFjaChoZWFkaW5ncywgZnVuY3Rpb24gKHRoKSB7XHJcbiAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKFxyXG4gICAgICAgICAgICAgICAgY3JlYXRlRWxlbWVudChcInRoXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICBodG1sOiB0aC50ZXh0Q29udGVudFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhlYWQuYXBwZW5kQ2hpbGQodHIpO1xyXG5cclxuICAgICAgICBlYWNoKHJvd3MsIGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgICAgICAgdmFyIHRyID0gY3JlYXRlRWxlbWVudChcInRyXCIpO1xyXG4gICAgICAgICAgICBlYWNoKHJvdy5jZWxscywgZnVuY3Rpb24gKGNlbGwpIHtcclxuICAgICAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKFxyXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnQoXCJ0ZFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw6IGNlbGwudGV4dENvbnRlbnRcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRib2R5LmFwcGVuZENoaWxkKHRyKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGFibGUuYXBwZW5kQ2hpbGQodGhlYWQpO1xyXG4gICAgICAgIHRhYmxlLmFwcGVuZENoaWxkKHRib2R5KTtcclxuXHJcbiAgICAgICAgLy8gT3BlbiBuZXcgd2luZG93XHJcbiAgICAgICAgdmFyIHcgPSB3aW4ub3BlbigpO1xyXG5cclxuICAgICAgICAvLyBBcHBlbmQgdGhlIHRhYmxlIHRvIHRoZSBib2R5XHJcbiAgICAgICAgdy5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRhYmxlKTtcclxuXHJcbiAgICAgICAgLy8gUHJpbnRcclxuICAgICAgICB3LnByaW50KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2hvdyBhIG1lc3NhZ2UgaW4gdGhlIHRhYmxlXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZVxyXG4gICAgICovXHJcbiAgICBwcm90by5zZXRNZXNzYWdlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcclxuICAgICAgICB2YXIgY29sc3BhbiA9IDE7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmhhc1Jvd3MpIHtcclxuICAgICAgICAgICAgY29sc3BhbiA9IHRoaXMuZGF0YVswXS5jZWxscy5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNsZWFyKFxyXG4gICAgICAgICAgICBjcmVhdGVFbGVtZW50KFwidHJcIiwge1xyXG4gICAgICAgICAgICAgICAgaHRtbDogJzx0ZCBjbGFzcz1cImRhdGFUYWJsZXMtZW1wdHlcIiBjb2xzcGFuPVwiJyArXHJcbiAgICAgICAgICAgICAgICAgICAgY29sc3BhbiArXHJcbiAgICAgICAgICAgICAgICAgICAgJ1wiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiPC90ZD5cIlxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29sdW1ucyBBUEkgYWNjZXNzXHJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG5ldyBDb2x1bW5zIGluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIHByb3RvLmNvbHVtbnMgPSBmdW5jdGlvbiAoY29sdW1ucykge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ29sdW1ucyh0aGlzLCBjb2x1bW5zKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSb3dzIEFQSSBhY2Nlc3NcclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gbmV3IFJvd3MgaW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgcHJvdG8ucm93cyA9IGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSb3dzKHRoaXMsIHJvd3MpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZCBjdXN0b20gZXZlbnQgbGlzdGVuZXJcclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gZXZlbnRcclxuICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBjYWxsYmFja1xyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8ub24gPSBmdW5jdGlvbiAoZXZlbnQsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudHMgPSB0aGlzLmV2ZW50cyB8fCB7fTtcclxuICAgICAgICB0aGlzLmV2ZW50c1tldmVudF0gPSB0aGlzLmV2ZW50c1tldmVudF0gfHwgW107XHJcbiAgICAgICAgdGhpcy5ldmVudHNbZXZlbnRdLnB1c2goY2FsbGJhY2spO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZSBjdXN0b20gZXZlbnQgbGlzdGVuZXJcclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gZXZlbnRcclxuICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBjYWxsYmFja1xyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8ub2ZmID0gZnVuY3Rpb24gKGV2ZW50LCBjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuZXZlbnRzID0gdGhpcy5ldmVudHMgfHwge307XHJcbiAgICAgICAgaWYgKGV2ZW50IGluIHRoaXMuZXZlbnRzID09PSBmYWxzZSkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuZXZlbnRzW2V2ZW50XS5zcGxpY2UodGhpcy5ldmVudHNbZXZlbnRdLmluZGV4T2YoY2FsbGJhY2spLCAxKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBGaXJlIGN1c3RvbSBldmVudFxyXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBldmVudFxyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8uZW1pdCA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRzID0gdGhpcy5ldmVudHMgfHwge307XHJcbiAgICAgICAgaWYgKGV2ZW50IGluIHRoaXMuZXZlbnRzID09PSBmYWxzZSkgcmV0dXJuO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ldmVudHNbZXZlbnRdLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzW2V2ZW50XVtpXS5hcHBseSh0aGlzLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBEYXRhVGFibGU7XHJcbn0pOyIsImltcG9ydCBEYXRhVGFibGUgZnJvbSAndmFuaWxsYS1kYXRhdGFibGVzJztcbmltcG9ydCB7IGNvbG9yX2hpZ2hsaWdodCB9IGZyb20gJy4vb3B0aW9ucyc7XG5cbmZ1bmN0aW9uIGNyZWF0ZVRhYmxlRE9NKGRhdGEsIG9wdHMsIGNvbmZpZykge1xuICBjb25zdCB7IG51bSwgZGVudW0sIHJhdGlvLCBteV9yZWdpb24gfSA9IGNvbmZpZztcbiAgY29uc3Qgb3B0aW9ucyA9IG9wdHMgfHwge307XG4gIG9wdGlvbnMuaWQgPSBvcHRpb25zLmlkIHx8ICdteVRhYmxlJztcbiAgY29uc3QgZG9jID0gZG9jdW1lbnQ7XG4gIGNvbnN0IG5iX2ZlYXR1cmVzID0gZGF0YS5sZW5ndGg7XG4gIGNvbnN0IGNvbHVtbl9uYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRhdGFbMF0pO1xuICBjb25zdCBuYl9jb2x1bW5zID0gY29sdW1uX25hbWVzLmxlbmd0aDtcbiAgY29uc3QgbXlUYWJsZSA9IGRvYy5jcmVhdGVFbGVtZW50KCd0YWJsZScpO1xuICBjb25zdCBoZWFkZXJzID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3RoZWFkJyk7XG4gIGNvbnN0IGJvZHkgPSBkb2MuY3JlYXRlRWxlbWVudCgndGJvZHknKTtcbiAgY29uc3QgaGVhZGVyc19yb3cgPSBkb2MuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgLy8gVE9ETzogT25seSBkaXNwbGF5IHJhdGlvcyB2YWx1ZXMgaWYgdGhlcmUgaXMgbW9yZSB0aGFuIDEgdmFyaWFibGUgY3VycmVudGx5IHNlbGVjdGVkXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbmJfY29sdW1uczsgaSsrKSB7XG4gICAgY29uc3QgY2VsbCA9IGRvYy5jcmVhdGVFbGVtZW50KCd0aCcpO1xuICAgIGNvbnN0IGNvbF9uYW1lID0gY29sdW1uX25hbWVzW2ldO1xuICAgIGlmIChudW0uaW5kZXhPZihjb2xfbmFtZSkgPiAtMSkge1xuICAgICAgY2VsbC5pbm5lckhUTUwgPSBgTnVtPGJyPjxzcGFuIGNsYXNzPVwic21hbGxcIj4ke2NvbF9uYW1lfWA7XG4gICAgfSBlbHNlIGlmIChkZW51bS5pbmRleE9mKGNvbF9uYW1lKSA+IC0xKSB7XG4gICAgICBjZWxsLmlubmVySFRNTCA9IGBEZW51bTxicj48c3BhbiBjbGFzcz1cInNtYWxsXCI+JHtjb2xfbmFtZX1gO1xuICAgIH0gZWxzZSBpZiAocmF0aW8uaW5kZXhPZihjb2xfbmFtZSkgPiAtMSkge1xuICAgICAgY2VsbC5pbm5lckhUTUwgPSBgUmF0aW88YnI+PHNwYW4gY2xhc3M9XCJzbWFsbFwiPiR7Y29sX25hbWV9YDtcbiAgICB9IGVsc2UgaWYgKGNvbF9uYW1lID09PSAncmFuZycpIHtcbiAgICAgIGNlbGwuaW5uZXJIVE1MID0gJ1JhbmcgJztcbiAgICB9IGVsc2Uge1xuICAgICAgY2VsbC5pbm5lckhUTUwgPSBjb2xfbmFtZTtcbiAgICB9XG4gICAgaGVhZGVyc19yb3cuYXBwZW5kQ2hpbGQoY2VsbCk7XG4gIH1cbiAgaGVhZGVycy5hcHBlbmRDaGlsZChoZWFkZXJzX3Jvdyk7XG4gIG15VGFibGUuYXBwZW5kQ2hpbGQoaGVhZGVycyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbmJfZmVhdHVyZXM7IGkrKykge1xuICAgIGNvbnN0IHJvdyA9IGRvYy5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgIHJvdy5pZCA9IGByb3dfJHtkYXRhW2ldLmlkfWA7XG4gICAgaWYgKGRhdGFbaV0uaWQgPT09IG15X3JlZ2lvbikge1xuICAgICAgcm93LmNsYXNzTmFtZSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICB9XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBuYl9jb2x1bW5zOyBqKyspIHtcbiAgICAgIGNvbnN0IGNlbGwgPSBkb2MuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICAgIGNvbnN0IGNvbF9uYW1lID0gY29sdW1uX25hbWVzW2pdO1xuICAgICAgaWYgKG51bS5pbmRleE9mKGNvbF9uYW1lKSA+IC0xXG4gICAgICAgICAgfHwgZGVudW0uaW5kZXhPZihjb2xfbmFtZSkgPiAtMSB8fCByYXRpby5pbmRleE9mKGNvbF9uYW1lKSA+IC0xKSB7XG4gICAgICAgIGNlbGwuaW5uZXJIVE1MID0gTWF0aC5yb3VuZChkYXRhW2ldW2NvbF9uYW1lXSAqIDEwMCkgLyAxMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNlbGwuaW5uZXJIVE1MID0gZGF0YVtpXVtjb2xfbmFtZV07XG4gICAgICB9XG4gICAgICByb3cuYXBwZW5kQ2hpbGQoY2VsbCk7XG4gICAgfVxuICAgIGJvZHkuYXBwZW5kQ2hpbGQocm93KTtcbiAgfVxuICBteVRhYmxlLmFwcGVuZENoaWxkKGJvZHkpO1xuICBteVRhYmxlLnNldEF0dHJpYnV0ZSgnaWQnLCBvcHRpb25zLmlkKTtcbiAgcmV0dXJuIG15VGFibGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlVGFibGUoZGF0YV9ub19lbXB0eSwgY29uZmlnKSB7XG4gIGQzLnNlbGVjdCgnLmRhdGFUYWJsZS13cmFwcGVyJykucmVtb3ZlKCk7XG4gIGNvbnN0IHRhYmxlID0gY3JlYXRlVGFibGVET00oZGF0YV9ub19lbXB0eSwgdW5kZWZpbmVkLCBjb25maWcpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWFwX3NlY3Rpb24nKS5hcHBlbmRDaGlsZCh0YWJsZSk7XG4gIGNvbnN0IGRhdGFUYWJsZSA9IG5ldyBEYXRhVGFibGUoJyNteVRhYmxlJyk7XG4gIGNvbnN0IHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGF0YVRhYmxlLXdyYXBwZXInKTtcbiAgdC5zdHlsZS5tYXJnaW5Ub3AgPSAnMjBweCc7XG4gIHQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgdC5zdHlsZS5mb250U2l6ZSA9ICcwLjdlbSc7XG4gIHQucXVlcnlTZWxlY3RvcignLmRhdGFUYWJsZS10b3AnKS5yZW1vdmUoKTtcbiAgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodC5xdWVyeVNlbGVjdG9yQWxsKCdzcGFuLnNtYWxsJykpXG4gICAgLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICBlbC5vbmNsaWNrID0gKCkgPT4geyBlbC5wYXJlbnRFbGVtZW50LmNsaWNrKCk7IH07IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICB9KTtcbn1cbiIsImltcG9ydCB7IG1hdGhfcm91bmQgfSBmcm9tICcuL2hlbHBlcnMnO1xuaW1wb3J0IHsgY29sb3JfaGlnaGxpZ2h0IH0gZnJvbSAnLi9vcHRpb25zJztcbmltcG9ydCB7IHZhcmlhYmxlc19pbmZvIH0gZnJvbSAnLi8uLi9tYWluJztcblxuLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cblxuLyoqXG4qIEF0dGFjaCB0aGUgZnVsbF9kYXRhc2V0IEFycmF5IHRvIHRoZSBhcHAgT2JqZWN0IGFuZCBjcmVhdGUgYSBkaWN0aW9ubmFyeVxuKiBhbGxvd2luZyB0byBvYnRhaW4gdGVycml0b3JpYWwgdW5pdHMgbmFtZSBmcm9tIHRoZWlyIElkLlxuKlxuKiBAcGFyYW0ge0FycmF5fSBmdWxsX2RhdGFzZXQgLSBUaGUgZGF0YXNldCBhcyBhbiBBcnJheSBvZiBPYmplY3RcbiogQHBhcmFtIHtPYmplY3R9IGFwcCAtIFRoZSB2YXJpYWJsZSBjb250YWluaW5nIHRoZSBnbG9iYWwgcGFyYW1ldGVycyBhYm91dFxuKiAgIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBhcHBsaWNhdGlvbi5cbiogQHJldHVybiB7dm9pZH1cbipcbiovXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZV9kYXRhc2V0KGZ1bGxfZGF0YXNldCwgYXBwKSB7XG4gIGFwcC5mdWxsX2RhdGFzZXQgPSBmdWxsX2RhdGFzZXQ7XG4gIC8vIENyZWF0ZSBhbiBPYmplY3QgZmVhdHVyZV9pZCAtPiAgZmVhdHVyZV9uYW1lIGZvciBlYXNpZXIgbG9va3VwOlxuICBhcHAuZmVhdHVyZV9uYW1lcyA9IHt9O1xuICBmdWxsX2RhdGFzZXQuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgIGFwcC5mZWF0dXJlX25hbWVzW2VsZW0uZ2VvXSA9IGVsZW0uTm9tO1xuICB9KTtcbn1cblxuXG4vKipcbiogQXR0YWNoIHRoZSBmdWxsX2RhdGFzZXQgQXJyYXkgdG8gdGhlIGFwcCBPYmplY3QgYW5kIGNyZWF0ZSBhIGRpY3Rpb25uYXJ5XG4qIGFsbG93aW5nIHRvIG9idGFpbiB0ZXJyaXRvcmlhbCB1bml0cyBuYW1lIGZyb20gdGhlaXIgSWQuXG4qXG4qIEBwYXJhbSB7T2JqZWN0fSBhcHAgLSBUaGUgdmFyaWFibGUgY29udGFpbmluZyB0aGUgZ2xvYmFsIHBhcmFtZXRlcnMgYWJvdXRcbiogICB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgYXBwbGljYXRpb24uXG4qIEByZXR1cm4ge0FycmF5fSAtIFRoZSBmaWx0ZXJlZCBkYXRhLCBjb250YWluaW5nIG9ubHkgdGhlIHJlcXVlc3RlZCB2YXJpYWJsZXNcbiogICBmb3IgdGhlIGZlYXR1cmUgb2YgdGhlIGN1cnJlbnQgc3R1ZHkgem9uZSxcbiogICAgd2l0aG91dCBmZWF0dXJlcyBjb250YWluaW5nIGVtcHR5IHJhdGlvcy5cbipcbiovXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyTGV2ZWxWYXIoYXBwLCBmaWx0ZXJfaWQpIHtcbiAgLy8gRmV0Y2ggdGhlIG5hbWUocykgb2YgdGhlIHJhdGlvIChhbmQgYXNzb2NpYXRlZCBudW0gYW5kIGRlbnVtIHZhcmlhYmxlKSxcbiAgLy8gdGhlIG5hbWUgb2YgdGhlIHRhcmdldGVkIHJlZ2lvbiBhbmQgdGhlIGN1cnJlbnQgbGV2ZWwgOlxuICBjb25zdCB7XG4gICAgbnVtLCBkZW51bSwgcmF0aW8sIGN1cnJlbnRfbGV2ZWwsIGlkX2ZpZWxkLCBmaWx0ZXJfa2V5LCBuYW1lX2ZpZWxkLCBteV9yZWdpb24sXG4gIH0gPSBhcHAuY3VycmVudF9jb25maWc7XG5cbiAgY29uc3QgYWxsX3ZhcmlhYmxlcyA9IHJhdGlvLmNvbmNhdChudW0pLmNvbmNhdChkZW51bSk7XG5cbiAgLy8gUHJlcGFyZSB0aGUgZGF0YTpcbiAgbGV0IHRlbXA7XG4gIGlmIChmaWx0ZXJfaWQpIHtcbiAgICB0ZW1wID0gYXBwLmZ1bGxfZGF0YXNldFxuICAgICAgLmZpbHRlcihmdCA9PiArZnQubGV2ZWwgPT09IGN1cnJlbnRfbGV2ZWwgJiYgZmlsdGVyX2lkLmluZGV4T2YoZnRbaWRfZmllbGRdKSA+IC0xKTtcbiAgfSBlbHNlIGlmIChmaWx0ZXJfa2V5KSB7XG4gICAgY29uc3QgbXlfY2F0ZWdvcnkgPSBhcHAuZnVsbF9kYXRhc2V0LmZpbHRlcihmdCA9PiBmdFtpZF9maWVsZF0gPT09IG15X3JlZ2lvbilbMF1bZmlsdGVyX2tleV07XG4gICAgdGVtcCA9IGFwcC5mdWxsX2RhdGFzZXRcbiAgICAgIC5maWx0ZXIoZnQgPT4gK2Z0LmxldmVsID09PSBjdXJyZW50X2xldmVsICYmIGZ0W2ZpbHRlcl9rZXldID09PSBteV9jYXRlZ29yeSk7XG4gIH0gZWxzZSB7XG4gICAgdGVtcCA9IGFwcC5mdWxsX2RhdGFzZXRcbiAgICAgIC5maWx0ZXIoZnQgPT4gK2Z0LmxldmVsID09PSBjdXJyZW50X2xldmVsKTtcbiAgfVxuICB0ZW1wID0gdGVtcC5tYXAoKGZ0KSA9PiB7XG4gICAgY29uc3QgcHJvcHNfZmVhdHVyZSA9IHtcbiAgICAgIGlkOiBmdFtpZF9maWVsZF0sXG4gICAgICBuYW1lOiBmdFtuYW1lX2ZpZWxkXSxcbiAgICB9O1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW5faSA9IGFsbF92YXJpYWJsZXMubGVuZ3RoOyBpIDwgbGVuX2k7IGkrKykge1xuICAgICAgcHJvcHNfZmVhdHVyZVthbGxfdmFyaWFibGVzW2ldXSA9ICtmdFthbGxfdmFyaWFibGVzW2ldXTtcbiAgICB9XG4gICAgcmV0dXJuIHByb3BzX2ZlYXR1cmU7XG4gIH0pO1xuXG4gIC8vIC8vIEZpbHRlciBkYXRhIGZvciBlbXB0eSB2YWx1ZXMgOlxuICAvLyBjb25zdCBmaWx0ZXJlZF9kYXRhID0gdGVtcC5maWx0ZXIoXG4gIC8vICAgZnQgPT4gcmF0aW8ubWFwKHYgPT4gISFmdFt2XSkuZXZlcnkodiA9PiB2ID09PSB0cnVlKSk7XG5cbiAgLy9cbiAgYXBwLmN1cnJlbnRfZGF0YSA9IHRlbXA7XG59XG5cbi8qKlxuKiBGdW5jdGlvbiB0byBwcmVwYXJlIHRoZSBnbG9iYWwgXCJ2YXJpYWJsZXNfaW5mb1wiIEFycmF5IG9mIG9iamVjdHMgZnJvbSB0aGUgYXJyYXlcbiogY29udGFpbmluZyB0aGUgcmVhZGVkICdtZXRhZGF0YS5jc3YnIGZpbGUuXG4qXG4qIEBwYXJhbSB7QXJyYXl9IG1ldGFkYXRhX2luZGljYXRldXJzIC0gVGhlIGFycmF5IHJldHVybiBieSBkMy5jc3YuXG4qIEByZXR1cm4ge3ZvaWR9XG4qXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXBhcmVWYXJpYWJsZXNJbmZvKG1ldGFkYXRhX2luZGljYXRldXJzKSB7XG4gIHJldHVybiBtZXRhZGF0YV9pbmRpY2F0ZXVyc1xuICAgIC5maWx0ZXIoZnQgPT4gZnRbJ1R5cGUgc3RhdGlzdGlxdWUnXSA9PT0gJ1JhdGlvJylcbiAgICAubWFwKGZ0ID0+ICh7XG4gICAgICByYXRpbzogZnRbJ2lkJ10sXG4gICAgICBudW06IGAke2Z0WydpZDEnXX1fJHtmdFsnQW5uw6llJ119YCAsXG4gICAgICBkZW51bTogYCR7ZnRbJ2lkMiddfV8ke2Z0WydBbm7DqWUnXX1gLFxuICAgICAgbmFtZTogYCR7ZnRbJ05vbSddfSAoJHtmdFsnQW5uw6llJ119KWAsXG4gICAgICBncm91cDogZnRbJ1Row6htZSddXG4gICAgfSkpO1xufVxuXG4vKipcbiogU2V0IGFuZCBhcHBseSBhIG5ldyBmaWx0ZXIgKGllLiByZXN0cmljdCB0aGUgc3R1ZHkgem9uZSkgb24gdGhlIGRhdGFzZXQgdG8gYmUgdXNlZC5cbipcbiogQHBhcmFtIHtTdHJpbmd9IGZpbHRlcl90eXBlIC0gVGhlIG5hbWUgb2YgdGhlIGZpbHRlciB0byB1c2UuXG4qIEByZXR1cm4ge3ZvaWR9XG4qXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5RmlsdGVyKGFwcCwgZmlsdGVyX3R5cGUpIHtcbiAgaWYgKGZpbHRlcl90eXBlID09PSAnZmlsdGVyX0ZSJykge1xuICAgIGFwcC5jdXJyZW50X2NvbmZpZy5maWx0ZXJfa2V5ID0gJ1BheXMnO1xuICAgIGZpbHRlckxldmVsVmFyKGFwcCk7XG4gIH0gZWxzZSBpZiAoZmlsdGVyX3R5cGUgPT09ICdub19maWx0ZXInKSB7XG4gICAgYXBwLmN1cnJlbnRfY29uZmlnLmZpbHRlcl9rZXkgPSB1bmRlZmluZWQ7XG4gICAgZmlsdGVyTGV2ZWxWYXIoYXBwKTtcbiAgfSBlbHNlIHtcbiAgICBhcHAuY3VycmVudF9jb25maWcuZmlsdGVyX2tleSA9ICd0eXBlX3Rlc3QnO1xuICAgIGZpbHRlckxldmVsVmFyKGFwcCk7XG4gIH1cblxuICBhcHAuY29sb3JzID0ge307XG4gIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG59XG5cbi8vIFRPRE8gOiBEb2NcbmV4cG9ydCBmdW5jdGlvbiBjaGFuZ2VSZWdpb24oYXBwLCBpZF9yZWdpb24pIHtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbiA9IGlkX3JlZ2lvbjtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl9wcmV0dHlfbmFtZSA9IGFwcC5mZWF0dXJlX25hbWVzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dO1xuICBpZiAoYXBwLmN1cnJlbnRfY29uZmlnLmZpbHRlcl9rZXkgIT09IHVuZGVmaW5lZCkge1xuICAgIGZpbHRlckxldmVsVmFyKGFwcCk7XG4gIH1cbiAgLy8gUmVzZXQgdGhlIGNvbG9yIHRvIHVzZSBvbiB0aGUgY2hhcnQvbWFwOlxuICBhcHAuY29sb3JzID0ge307XG4gIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG59XG5cbi8qKlxuKlxuKlxuKlxuKlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRWYXJpYWJsZShhcHAsIGNvZGVfcmF0aW8pIHtcbiAgY29uc3QgdmFyaWFibGVfaW5mbyA9IHZhcmlhYmxlc19pbmZvLmZpbHRlcihkID0+IGQucmF0aW8gPT09IGNvZGVfcmF0aW8pWzBdO1xuICBhcHAuY29sb3JzID0ge307XG4gIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gIGFwcC5jdXJyZW50X2NvbmZpZy5udW0ucHVzaCh2YXJpYWJsZV9pbmZvLm51bSk7XG4gIGFwcC5jdXJyZW50X2NvbmZpZy5kZW51bS5wdXNoKHZhcmlhYmxlX2luZm8uZGVudW0pO1xuICBhcHAuY3VycmVudF9jb25maWcucmF0aW8ucHVzaCh2YXJpYWJsZV9pbmZvLnJhdGlvKTtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvX3ByZXR0eV9uYW1lLnB1c2godmFyaWFibGVfaW5mby5uYW1lKTtcbiAgZmlsdGVyTGV2ZWxWYXIoYXBwKTtcbn1cblxuLyoqXG4qXG4qXG4qXG4qXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVZhcmlhYmxlKGFwcCwgY29kZV9yYXRpbykge1xuICBjb25zdCBpeCA9IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpby5pbmRleE9mKGNvZGVfcmF0aW8pO1xuICBhcHAuY3VycmVudF9jb25maWcubnVtLnNwbGljZShpeCwgMSk7XG4gIGFwcC5jdXJyZW50X2NvbmZpZy5kZW51bS5zcGxpY2UoaXgsIDEpO1xuICBhcHAuY3VycmVudF9jb25maWcucmF0aW8uc3BsaWNlKGl4LCAxKTtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvX3ByZXR0eV9uYW1lLnNwbGljZShpeCwgMSk7XG4gIGZpbHRlckxldmVsVmFyKGFwcCk7XG59XG5cbi8qKlxuKiBSZXNldCB0aGUgY3VycmVudCB2YXJpYWJsZXMgaW4gdXNlLlxuKlxuKlxuKlxuKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNldFZhcmlhYmxlcyhhcHAsIGNvZGVzX3JhdGlvKSB7XG4gIGFwcC5jb2xvcnMgPSB7fVxuICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICBhcHAuY3VycmVudF9jb25maWcubnVtID0gW107XG4gIGFwcC5jdXJyZW50X2NvbmZpZy5kZW51bSA9IFtdO1xuICBhcHAuY3VycmVudF9jb25maWcucmF0aW8gPSBbXTtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvX3ByZXR0eV9uYW1lID0gW107XG4gIGZvciAobGV0IGkgPSAwLCBsZW4gPSBjb2Rlc19yYXRpby5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGNvbnN0IGNvZGVfcmF0aW8gPSBjb2Rlc19yYXRpb1tpXTtcbiAgICBjb25zdCB2YXJpYWJsZV9pbmZvID0gdmFyaWFibGVzX2luZm8uZmlsdGVyKGQgPT4gZC5yYXRpbyA9PT0gY29kZV9yYXRpbylbMF07XG4gICAgYXBwLmN1cnJlbnRfY29uZmlnLm51bS5wdXNoKHZhcmlhYmxlX2luZm8ubnVtKTtcbiAgICBhcHAuY3VycmVudF9jb25maWcuZGVudW0ucHVzaCh2YXJpYWJsZV9pbmZvLmRlbnVtKTtcbiAgICBhcHAuY3VycmVudF9jb25maWcucmF0aW8ucHVzaCh2YXJpYWJsZV9pbmZvLnJhdGlvKTtcbiAgICBhcHAuY3VycmVudF9jb25maWcucmF0aW9fcHJldHR5X25hbWUucHVzaCh2YXJpYWJsZV9pbmZvLm5hbWUpO1xuICB9XG4gIGZpbHRlckxldmVsVmFyKGFwcCk7XG59XG5cbi8qKlxuKiBDb21wdXRlIHRoZSByYXRpbyBvZiBhdmFpbGFibGUgKD0gbm90IGVtcHR5KSB2YWx1ZXMgKHRoZSBcImNvbXBsw6l0dWRlXCIpIHdpdGhpblxuKiB0aGUgc3Vic2V0IGN1cnJlbnRseSBpbiB1c2UgZm9yIGFsbCB0aGUgdmFyaWFibGVzIGluIFwidmFyc1wiLlxuKlxuKiBAcGFyYW0ge09iamVjdH0gYXBwIC1cbiogQHBhcmFtIHtBcnJheX0gdmFycyAtXG4qIEByZXR1cm4ge051bWJlcn1cbipcbiovXG5leHBvcnQgZnVuY3Rpb24gY2FsY0NvbXBsZXR1ZGVTdWJzZXQoYXBwLCB2YXJzKSB7XG4gIGNvbnN0IHtcbiAgICBjdXJyZW50X2xldmVsLCBpZF9maWVsZCwgZmlsdGVyX2tleSwgbXlfcmVnaW9uLFxuICB9ID0gYXBwLmN1cnJlbnRfY29uZmlnO1xuXG4gIC8vIENvbXB1dGUgdGhlIGxlbmd0aCBvZiB0aGUgZGF0YXNldCAod2l0aGluIHRoZSBcInN0dWR5IHpvbmVcIiBpZiBhbnkpOlxuICBsZXQgdGVtcDtcbiAgaWYgKGZpbHRlcl9rZXkpIHtcbiAgICBjb25zdCBteV9jYXRlZ29yeSA9IGFwcC5mdWxsX2RhdGFzZXQuZmlsdGVyKGZ0ID0+IGZ0W2lkX2ZpZWxkXSA9PT0gbXlfcmVnaW9uKVswXVtmaWx0ZXJfa2V5XTtcbiAgICB0ZW1wID0gYXBwLmZ1bGxfZGF0YXNldFxuICAgICAgLmZpbHRlcihmdCA9PiArZnQubGV2ZWwgPT09IGN1cnJlbnRfbGV2ZWwgJiYgZnRbZmlsdGVyX2tleV0gPT09IG15X2NhdGVnb3J5KTtcbiAgfSBlbHNlIHtcbiAgICB0ZW1wID0gYXBwLmZ1bGxfZGF0YXNldFxuICAgICAgLmZpbHRlcihmdCA9PiArZnQubGV2ZWwgPT09IGN1cnJlbnRfbGV2ZWwpO1xuICB9XG4gIGNvbnN0IHRvdGFsX2xlbmd0aCA9IHRlbXAubGVuZ3RoO1xuXG4gIC8vIENvbXB1dGUgdGhlIGxlbmd0aCBvZiB0aGUgZGF0YXNldCBpZiB3ZSBmaWx0ZXIgZW1wdHkgZmVhdHVyZXNcbiAgLy8gb24gYWxsIHRoZSB2YXJpYWJsZXMgb2YgXCJ2YXJzXCI6XG4gIHRlbXAgPSB0ZW1wLm1hcCgoZnQpID0+IHtcbiAgICBjb25zdCBwcm9wc19mZWF0dXJlID0ge1xuICAgICAgaWQ6IGZ0W2lkX2ZpZWxkXSxcbiAgICB9O1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW5faSA9IHZhcnMubGVuZ3RoOyBpIDwgbGVuX2k7IGkrKykge1xuICAgICAgcHJvcHNfZmVhdHVyZVt2YXJzW2ldXSA9ICtmdFt2YXJzW2ldXTtcbiAgICB9XG4gICAgcmV0dXJuIHByb3BzX2ZlYXR1cmU7XG4gIH0pLmZpbHRlcihmdCA9PiB2YXJzLm1hcChyYXRpb19uYW1lID0+ICEhZnRbcmF0aW9fbmFtZV0pLmV2ZXJ5KHYgPT4gdiA9PT0gdHJ1ZSkpO1xuICBjb25zdCBmaWx0ZXJlZF9sZW5ndGggPSB0ZW1wLmxlbmd0aDtcblxuICAvLyBSZXR1cm4gdGhlIHJhdGlvIG9mIGF2YWlsYWJsZSB2YWx1ZXMgKFwiY29tcGzDqXR1ZGVcIikgd2l0aGluXG4gIC8vIHRoZSBzdHVkeSB6b25lIHNlbGVjdGVkIGJ5IHRoZSB1c2VyOlxuICByZXR1cm4gTWF0aC5yb3VuZCgoZmlsdGVyZWRfbGVuZ3RoIC8gdG90YWxfbGVuZ3RoKSAqIDEwMDApIC8gMTA7XG59XG5cbi8qKlxuKiBDb21wdXRlIHRoZSByYXRpbyBvZiBwb3B1bGF0aW9uIGNvdmVyZWQgYnkgZmVhdHVyZXMgb24gd2hpY2ggYWxsIHRoZSB2YXJpYWJsZXNcbiogb2YgXCJ2YXJzXCIgYXJlIGF2YWlsYWJsZS5cbipcbiogQHBhcmFtIHtPYmplY3R9IGFwcCAtXG4qIEBwYXJhbSB7QXJyYXl9IHZhcnMgLVxuKiBAcmV0dXJuIHtOdW1iZXJ9XG4qXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGNhbGNQb3BDb21wbGV0dWRlU3Vic2V0KGFwcCwgdmFycykge1xuICBjb25zdCB7XG4gICAgY3VycmVudF9sZXZlbCwgaWRfZmllbGQsIGZpbHRlcl9rZXksIG15X3JlZ2lvbiwgcG9wX2ZpZWxkLFxuICB9ID0gYXBwLmN1cnJlbnRfY29uZmlnO1xuXG4gIC8vIENvbXB1dGUgdGhlIHRvdGFsIHBvcHVsYXRpb24gc3RvY2sgb2YgdGhlIGRhdGEgKHdpdGhpbiB0aGUgXCJzdHVkeSB6b25lXCIgaWYgYW55KTpcbiAgbGV0IHRlbXA7XG4gIGlmIChmaWx0ZXJfa2V5KSB7XG4gICAgY29uc3QgbXlfY2F0ZWdvcnkgPSBhcHAuZnVsbF9kYXRhc2V0LmZpbmQoZnQgPT4gZnRbaWRfZmllbGRdID09PSBteV9yZWdpb24pW2ZpbHRlcl9rZXldO1xuICAgIHRlbXAgPSBhcHAuZnVsbF9kYXRhc2V0XG4gICAgICAuZmlsdGVyKGZ0ID0+ICtmdC5sZXZlbCA9PT0gY3VycmVudF9sZXZlbCAmJiBmdFtmaWx0ZXJfa2V5XSA9PT0gbXlfY2F0ZWdvcnkpO1xuICB9IGVsc2Uge1xuICAgIHRlbXAgPSBhcHAuZnVsbF9kYXRhc2V0XG4gICAgICAuZmlsdGVyKGZ0ID0+ICtmdC5sZXZlbCA9PT0gY3VycmVudF9sZXZlbCk7XG4gIH1cbiAgbGV0IHRvdGFsX3BvcCA9IDA7XG4gIGZvciAobGV0IGkgPSAwLCBsZW4gPSB0ZW1wLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdG90YWxfcG9wICs9IGlzTmFOKCt0ZW1wW2ldW3BvcF9maWVsZF0pID8gMCA6ICt0ZW1wW2ldW3BvcF9maWVsZF07XG4gIH1cbiAgLy8gQ29tcHV0ZSB0aGUgcG9wdWxhdGlvbiBzdG9jayBvZiB0aGUgZGF0YXNldCBpZiB3ZSBmaWx0ZXIgZW1wdHkgZmVhdHVyZXNcbiAgLy8gb24gYWxsIHRoZSB2YXJpYWJsZXMgb2YgXCJ2YXJzXCI6XG4gIHRlbXAgPSB0ZW1wLm1hcCgoZnQpID0+IHtcbiAgICBjb25zdCBwcm9wc19mZWF0dXJlID0ge1xuICAgICAgaWQ6IGZ0W2lkX2ZpZWxkXSxcbiAgICAgIHBvcDogK2Z0W3BvcF9maWVsZF0sXG4gICAgfTtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuX2kgPSB2YXJzLmxlbmd0aDsgaSA8IGxlbl9pOyBpKyspIHtcbiAgICAgIHByb3BzX2ZlYXR1cmVbdmFyc1tpXV0gPSArZnRbdmFyc1tpXV07XG4gICAgfVxuICAgIHJldHVybiBwcm9wc19mZWF0dXJlO1xuICB9KS5maWx0ZXIoZnQgPT4gdmFycy5tYXAocmF0aW9fbmFtZSA9PiAhIWZ0W3JhdGlvX25hbWVdKS5ldmVyeSh2ID0+IHYgPT09IHRydWUpKTtcbiAgbGV0IHN1YnNldF9wb3AgPSAwO1xuICBmb3IgKGxldCBpID0gMCwgbGVuID0gdGVtcC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHN1YnNldF9wb3AgKz0gaXNOYU4odGVtcFtpXS5wb3ApID8gMCA6IHRlbXBbaV0ucG9wO1xuICB9XG4gIC8vIFJldHVybiB0aGUgcmF0aW8gb2YgcG9wdWxhdGlvbiB2YWx1ZXMgKFwiY29tcGzDqXR1ZGVcIikgd2l0aGluXG4gIC8vIHRoZSBzdHVkeSB6b25lIHNlbGVjdGVkIGJ5IHRoZSB1c2VyOlxuICByZXR1cm4gTWF0aC5yb3VuZCgoc3Vic2V0X3BvcCAvIHRvdGFsX3BvcCkgKiAxMDAwKSAvIDEwO1xufVxuLyogZXNsaW50LWVuYWJsZSBuby1wYXJhbS1yZWFzc2lnbiAqL1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFibGVSZXN1bWVTdGF0IHtcbiAgY29uc3RydWN0b3Ioc3VtbWFyeV9mZWF0dXJlcywgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgZG9jID0gZG9jdW1lbnQ7XG4gICAgY29uc3QgbmJfZmVhdHVyZXMgPSBzdW1tYXJ5X2ZlYXR1cmVzLmxlbmd0aDtcbiAgICBjb25zdCBjb2x1bW5fbmFtZXMgPSBbJ1ZhcmlhYmxlJywgJ01pbicsICdNb3llbm5lJywgJ01heCcsICdNYSByw6lnaW9uJ107XG4gICAgY29uc3QgbmJfY29sdW1ucyA9IGNvbHVtbl9uYW1lcy5sZW5ndGg7XG4gICAgY29uc3QgY29udGFpbmVyX2RpdiA9IGRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdCBteVRhYmxlID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3RhYmxlJyk7XG4gICAgY29uc3QgaGVhZGVycyA9IGRvYy5jcmVhdGVFbGVtZW50KCd0aGVhZCcpO1xuICAgIGNvbnN0IHRhYmxlX2JvZHkgPSBkb2MuY3JlYXRlRWxlbWVudCgndGJvZHknKTtcbiAgICBjb25zdCBoZWFkZXJzX3JvdyA9IGRvYy5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgIG15VGFibGUuY2xhc3NOYW1lID0gJ21pbml0YWJsZSc7XG4gICAgY29udGFpbmVyX2Rpdi5jbGFzc05hbWUgPSAnbWluaXRhYmxlX2NvbnRhaW5lcic7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYl9jb2x1bW5zOyBpKyspIHtcbiAgICAgIGNvbnN0IGNlbGwgPSBkb2MuY3JlYXRlRWxlbWVudCgndGgnKTtcbiAgICAgIGNlbGwuaW5uZXJIVE1MID0gY29sdW1uX25hbWVzW2ldO1xuICAgICAgaGVhZGVyc19yb3cuYXBwZW5kQ2hpbGQoY2VsbCk7XG4gICAgfVxuICAgIGhlYWRlcnMuYXBwZW5kQ2hpbGQoaGVhZGVyc19yb3cpO1xuICAgIG15VGFibGUuYXBwZW5kQ2hpbGQoaGVhZGVycyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYl9mZWF0dXJlczsgaSsrKSB7XG4gICAgICBjb25zdCByb3cgPSBkb2MuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICAgIHJvdy5pZCA9IGByb3dfJHtzdW1tYXJ5X2ZlYXR1cmVzW2ldLmlkfWA7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG5iX2NvbHVtbnM7IGorKykge1xuICAgICAgICBjb25zdCBjZWxsID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgICAgIGNvbnN0IGNvbF9uYW1lID0gY29sdW1uX25hbWVzW2pdO1xuICAgICAgICBpZiAoY29sX25hbWUgIT09ICdWYXJpYWJsZScpIHtcbiAgICAgICAgICBjZWxsLmlubmVySFRNTCA9IE1hdGgucm91bmQoc3VtbWFyeV9mZWF0dXJlc1tpXVtjb2xfbmFtZV0gKiAxMCkgLyAxMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjZWxsLmlubmVySFRNTCA9IHN1bW1hcnlfZmVhdHVyZXNbaV1bY29sX25hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJvdy5hcHBlbmRDaGlsZChjZWxsKTtcbiAgICAgIH1cbiAgICAgIHRhYmxlX2JvZHkuYXBwZW5kQ2hpbGQocm93KTtcbiAgICB9XG4gICAgbXlUYWJsZS5hcHBlbmRDaGlsZCh0YWJsZV9ib2R5KTtcbiAgICBteVRhYmxlLnNldEF0dHJpYnV0ZSgnaWQnLCBvcHRpb25zLmlkIHx8ICd0YWJsZV9zdW1tYXJ5Jyk7XG4gICAgY29udGFpbmVyX2Rpdi5hcHBlbmRDaGlsZChteVRhYmxlKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWFwX3NlY3Rpb24nKS5hcHBlbmRDaGlsZChjb250YWluZXJfZGl2KTtcbiAgICB0aGlzLm5iX2NvbHVtbnMgPSBuYl9jb2x1bW5zO1xuICAgIHRoaXMuY29sdW1uX25hbWVzID0gY29sdW1uX25hbWVzO1xuICAgIHRoaXMudGFibGVfYm9keSA9IHRhYmxlX2JvZHk7XG4gIH1cblxuICBhZGRGZWF0dXJlcyhzdW1tYXJ5X2ZlYXR1cmVzKSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHN1bW1hcnlfZmVhdHVyZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHRoaXMuYWRkRmVhdHVyZShzdW1tYXJ5X2ZlYXR1cmVzW2ldKTtcbiAgICB9XG4gIH1cblxuICBhZGRGZWF0dXJlKHN1bW1hcnkpIHtcbiAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgIHJvdy5pZCA9IGByb3dfJHtzdW1tYXJ5LmlkfWA7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLm5iX2NvbHVtbnM7IGorKykge1xuICAgICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgICBjb25zdCBjb2xfbmFtZSA9IHRoaXMuY29sdW1uX25hbWVzW2pdO1xuICAgICAgaWYgKGNvbF9uYW1lICE9PSAnVmFyaWFibGUnKSB7XG4gICAgICAgIGNlbGwuaW5uZXJIVE1MID0gTWF0aC5yb3VuZChzdW1tYXJ5W2NvbF9uYW1lXSAqIDEwKSAvIDEwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2VsbC5pbm5lckhUTUwgPSBzdW1tYXJ5W2NvbF9uYW1lXTtcbiAgICAgIH1cbiAgICAgIHJvdy5hcHBlbmRDaGlsZChjZWxsKTtcbiAgICB9XG4gICAgdGhpcy50YWJsZV9ib2R5LmFwcGVuZENoaWxkKHJvdyk7XG4gIH1cblxuICByZW1vdmVGZWF0dXJlKGlkX3ZhcmlhYmxlKSB7XG4gICAgY29uc3Qgcm93ID0gdGhpcy50YWJsZV9ib2R5LnF1ZXJ5U2VsZWN0b3IoYHRyI3Jvd18ke2lkX3ZhcmlhYmxlfWApO1xuICAgIGlmIChyb3cpIHJvdy5yZW1vdmUoKTtcbiAgfVxuXG4gIHJlbW92ZUFsbCgpIHtcbiAgICBjb25zdCByb3dzID0gdGhpcy50YWJsZV9ib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoJ3RyJyk7XG4gICAgZm9yIChsZXQgaSA9IHJvd3MubGVuZ3RoIC0gMTsgaSA+IC0xOyBpLS0pIHtcbiAgICAgIHJvd3NbaV0ucmVtb3ZlKCk7XG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlKCkge1xuICAgIHRoaXMudGFibGVfYm9keS5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucmVtb3ZlKCk7XG4gICAgdGhpcy50YWJsZV9ib2R5ID0gbnVsbDtcbiAgfVxufVxuIiwiaW1wb3J0IHsgY29tcCwgbWF0aF9yb3VuZCwgbWF0aF9hYnMsIFJlY3QsIHByZXBhcmVUb29sdGlwLCBzdmdQYXRoVG9Db29yZHMgfSBmcm9tICcuLy4uL2hlbHBlcnMnO1xuaW1wb3J0IHsgY29sb3JfZGlzYWJsZWQsIGNvbG9yX2NvdW50cmllcywgY29sb3Jfc3VwLCBjb2xvcl9pbmYsIGNvbG9yX2hpZ2hsaWdodCB9IGZyb20gJy4vLi4vb3B0aW9ucyc7XG5pbXBvcnQgeyBjYWxjUG9wQ29tcGxldHVkZVN1YnNldCB9IGZyb20gJy4vLi4vcHJlcGFyZV9kYXRhJztcbmltcG9ydCB7IHN2Z19tYXAgfSBmcm9tICcuLy4uL21hcCc7XG5pbXBvcnQgeyBhcHAsIHJlc2V0Q29sb3JzIH0gZnJvbSAnLi8uLi8uLi9tYWluJztcbmltcG9ydCBUYWJsZVJlc3VtZVN0YXQgZnJvbSAnLi8uLi90YWJsZVJlc3VtZVN0YXQnO1xuXG5leHBvcnQgY29uc3Qgc3ZnX2JhciA9IGQzLnNlbGVjdCgnc3ZnI3N2Z19iYXInKSxcbiAgbWFyZ2luID0geyB0b3A6IDEwLCByaWdodDogMjAsIGJvdHRvbTogMTAwLCBsZWZ0OiA0MCB9LFxuICBtYXJnaW4yID0geyB0b3A6IDQzMCwgcmlnaHQ6IDIwLCBib3R0b206IDE1LCBsZWZ0OiA0MCB9LFxuICB3aWR0aCA9ICtzdmdfYmFyLmF0dHIoJ3dpZHRoJykgLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodCxcbiAgaGVpZ2h0ID0gK3N2Z19iYXIuYXR0cignaGVpZ2h0JykgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbSxcbiAgaGVpZ2h0MiA9ICtzdmdfYmFyLmF0dHIoJ2hlaWdodCcpIC0gbWFyZ2luMi50b3AgLSBtYXJnaW4yLmJvdHRvbTtcblxubGV0IG5iRnQ7XG5sZXQgY3VycmVudF9yYW5nZV9icnVzaCA9IFswLCAwXTtcbmxldCBjdXJyZW50X3JhbmdlID0gWzAsIDBdO1xubGV0IGRpc3BsYXllZDtcblxuZnVuY3Rpb24gZ2V0TWVhblJhbmsobWVhbl92YWx1ZSwgcmF0aW9fdG9fdXNlKSB7XG4gIGxldCBtZWFuX3JhbmsgPSBhcHAuY3VycmVudF9kYXRhLm1hcChcbiAgICAoZCwgaSkgPT4gW2RbcmF0aW9fdG9fdXNlXSwgbWF0aF9hYnMobWVhbl92YWx1ZSAtIGRbcmF0aW9fdG9fdXNlXSksIGldKTtcbiAgbWVhbl9yYW5rLnNvcnQoKGEsIGIpID0+IGFbMV0gLSBiWzFdKTtcbiAgbWVhbl9yYW5rID0gbWVhbl9yYW5rWzBdO1xuICBpZiAobWVhbl9yYW5rWzFdID4gbWVhbl92YWx1ZSkge1xuICAgIG1lYW5fcmFuayA9IG1lYW5fcmFua1syXSAtIDE7XG4gIH0gZWxzZSB7XG4gICAgbWVhbl9yYW5rID0gbWVhbl9yYW5rWzJdO1xuICB9XG4gIHJldHVybiBtZWFuX3Jhbms7XG59XG5cblxuZXhwb3J0IGNsYXNzIEJhckNoYXJ0MSB7XG4gIGNvbnN0cnVjdG9yKHJlZl9kYXRhKSB7XG4gICAgdGhpcy5icnVzaGVkID0gKCkgPT4ge1xuICAgICAgaWYgKGQzLmV2ZW50LnNvdXJjZUV2ZW50ICYmIGQzLmV2ZW50LnNvdXJjZUV2ZW50LnR5cGUgPT09ICd6b29tJykgcmV0dXJuOyAvLyBpZ25vcmUgYnJ1c2gtYnktem9vbVxuICAgICAgaWYgKCF0aGlzLngpIHsgY29uc29sZS5sb2coJ2EnKTsgcmV0dXJuOyB9XG4gICAgICBjb25zdCBzID0gZDMuZXZlbnQuc2VsZWN0aW9uIHx8IHRoaXMueDIucmFuZ2UoKTtcbiAgICAgIGN1cnJlbnRfcmFuZ2UgPSBbbWF0aF9yb3VuZChzWzBdIC8gKHdpZHRoIC8gbmJGdCkpLCBtYXRoX3JvdW5kKHNbMV0gLyAod2lkdGggLyBuYkZ0KSldO1xuICAgICAgdGhpcy54LmRvbWFpbih0aGlzLmRhdGEuc2xpY2UoY3VycmVudF9yYW5nZVswXSwgY3VycmVudF9yYW5nZVsxXSkubWFwKGZ0ID0+IGZ0LmlkKSk7XG4gICAgICBzdmdfYmFyLnNlbGVjdCgnLnpvb20nKS5jYWxsKHRoaXMuem9vbS50cmFuc2Zvcm0sIGQzLnpvb21JZGVudGl0eVxuICAgICAgICAuc2NhbGUod2lkdGggLyAoY3VycmVudF9yYW5nZVsxXSAtIGN1cnJlbnRfcmFuZ2VbMF0pKVxuICAgICAgICAudHJhbnNsYXRlKC1jdXJyZW50X3JhbmdlWzBdLCAwKSk7XG4gICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgdGhpcy51cGRhdGVDb250ZXh0KGN1cnJlbnRfcmFuZ2VbMF0sIGN1cnJlbnRfcmFuZ2VbMV0pO1xuICAgICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF90b3AnKS5jYWxsKHRoaXMuYnJ1c2hfdG9wLm1vdmUsIG51bGwpO1xuICAgICAgdGhpcy5icnVzaGVkX3RvcCgpO1xuICAgIH07XG5cbiAgICB0aGlzLmJydXNoZWRfdG9wID0gKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLl9mb2N1cykgeyBjb25zb2xlLmxvZygnYicpOyByZXR1cm47IH1cbiAgICAgIGlmICghdGhpcy5tYXBfZWxlbSkgeyBjb25zb2xlLmxvZygnYycpOyByZXR1cm47IH1cbiAgICAgIGNvbnN0IGQzX2V2ZW50ID0gZDMuZXZlbnQ7XG4gICAgICBjb25zdCByYXRpb190b191c2UgPSB0aGlzLnJhdGlvX3RvX3VzZTtcbiAgICAgIGNvbnN0IHJlZl92YWx1ZSA9IHRoaXMucmVmX3ZhbHVlO1xuICAgICAgaWYgKGQzX2V2ZW50ICYmIGQzX2V2ZW50LnNlbGVjdGlvblxuICAgICAgICAgICAgJiYgZDNfZXZlbnQuc291cmNlRXZlbnQgJiYgZDNfZXZlbnQuc291cmNlRXZlbnQudGFyZ2V0ID09PSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnJ1c2hfdG9wID4gcmVjdC5vdmVybGF5JykpIHtcbiAgICAgICAgdGhpcy5tYXBfZWxlbS5yZW1vdmVSZWN0QnJ1c2goKTtcbiAgICAgICAgY29uc3QgcyA9IGQzX2V2ZW50LnNlbGVjdGlvbjtcbiAgICAgICAgY3VycmVudF9yYW5nZV9icnVzaCA9IFtcbiAgICAgICAgICBjdXJyZW50X3JhbmdlWzBdICsgbWF0aF9yb3VuZChzWzBdIC8gKHdpZHRoIC8gZGlzcGxheWVkKSkgLSAxLFxuICAgICAgICAgIGN1cnJlbnRfcmFuZ2VbMF0gKyBtYXRoX3JvdW5kKHNbMV0gLyAod2lkdGggLyBkaXNwbGF5ZWQpKSxcbiAgICAgICAgXTtcbiAgICAgICAgdGhpcy54LmRvbWFpbih0aGlzLmRhdGEuc2xpY2UoY3VycmVudF9yYW5nZV9icnVzaFswXSArIDEsIGN1cnJlbnRfcmFuZ2VfYnJ1c2hbMV0pXG4gICAgICAgICAgLm1hcChmdCA9PiBmdC5pZCkpO1xuICAgICAgICBhcHAuY29sb3JzID0ge307XG4gICAgICAgIHRoaXMuX2ZvY3VzLnNlbGVjdEFsbCgnLmJhcicpXG4gICAgICAgICAgLnN0eWxlKCdmaWxsJywgKGQsIGkpID0+IHtcbiAgICAgICAgICAgIGlmIChkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKSB7XG4gICAgICAgICAgICAgIGFwcC5jb2xvcnNbZC5pZF0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgICAgICAgICAgIHJldHVybiBjb2xvcl9oaWdobGlnaHQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGkgPiBjdXJyZW50X3JhbmdlX2JydXNoWzBdICYmIGkgPCBjdXJyZW50X3JhbmdlX2JydXNoWzFdKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gY29tcChkW3JhdGlvX3RvX3VzZV0sIHJlZl92YWx1ZSwgdGhpcy5zZXJpZV9pbnZlcnNlZCk7XG4gICAgICAgICAgICAgIGFwcC5jb2xvcnNbZC5pZF0gPSBjb2xvcjtcbiAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbG9yX2NvdW50cmllcztcbiAgICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGQzX2V2ZW50ICYmICFkM19ldmVudC5zZWxlY3Rpb25cbiAgICAgICAgICAgICYmIGQzX2V2ZW50LnNvdXJjZUV2ZW50ICYmIGQzX2V2ZW50LnNvdXJjZUV2ZW50LmRldGFpbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGhpcy5tYXBfZWxlbS5yZW1vdmVSZWN0QnJ1c2goKTtcbiAgICAgICAgICBhcHAuY29sb3JzID0ge307XG4gICAgICAgICAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICAgICAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZm9jdXMuc2VsZWN0QWxsKCcuYmFyJylcbiAgICAgICAgICAuc3R5bGUoJ2ZpbGwnLCBkID0+IGFwcC5jb2xvcnNbZC5pZF0gfHwgY29sb3JfY291bnRyaWVzKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGFwcC5jdXJyZW50X2NvbmZpZy5uYl92YXIgPSAxO1xuICAgIGNvbnN0IHggPSBkMy5zY2FsZUJhbmQoKS5yYW5nZShbMCwgd2lkdGhdKS5wYWRkaW5nKDAuMSksXG4gICAgICB4MiA9IGQzLnNjYWxlQmFuZCgpLnJhbmdlKFswLCB3aWR0aF0pLnBhZGRpbmcoMC4xKSxcbiAgICAgIHkgPSBkMy5zY2FsZUxpbmVhcigpLnJhbmdlKFtoZWlnaHQsIDBdKSxcbiAgICAgIHkyID0gZDMuc2NhbGVMaW5lYXIoKS5yYW5nZShbaGVpZ2h0MiwgMF0pO1xuXG4gICAgY29uc3QgeEF4aXMgPSBkMy5heGlzQm90dG9tKHgpO1xuICAgIGNvbnN0IHhBeGlzMiA9IGQzLmF4aXNCb3R0b20oeDIpO1xuICAgIGNvbnN0IHlBeGlzID0gZDMuYXhpc0xlZnQoeSk7XG5cbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueDIgPSB4MjtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHRoaXMueTIgPSB5MjtcbiAgICB0aGlzLnhBeGlzID0geEF4aXM7XG4gICAgdGhpcy55QXhpcyA9IHlBeGlzO1xuICAgIHRoaXMueEF4aXMyID0geEF4aXMyO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGF2YWlsYWJsZV9yYXRpb3MgPSBhcHAuY3VycmVudF9jb25maWcucmF0aW87XG4gICAgY29uc3QgcmF0aW9fdG9fdXNlID0gYXZhaWxhYmxlX3JhdGlvc1swXTtcbiAgICB0aGlzLnJhdGlvX3RvX3VzZSA9IHJhdGlvX3RvX3VzZTtcblxuICAgIHRoaXMuZGF0YSA9IHJlZl9kYXRhLmZpbHRlcihmdCA9PiAhIWZ0W3JhdGlvX3RvX3VzZV0pO1xuICAgIHRoaXMuZGF0YS5zb3J0KChhLCBiKSA9PiBhW3JhdGlvX3RvX3VzZV0gLSBiW3JhdGlvX3RvX3VzZV0pO1xuICAgIHRoaXMuY3VycmVudF9pZHMgPSB0aGlzLmRhdGEubWFwKGQgPT4gZC5pZCk7XG4gICAgcmVzZXRDb2xvcnMoKTtcbiAgICB0aGlzLmN1cnJlbnRfcmFua3MgPSB0aGlzLmRhdGEubWFwKChkLCBpKSA9PiBpICsgMSk7XG4gICAgbmJGdCA9IHRoaXMuZGF0YS5sZW5ndGg7XG4gICAgdGhpcy5tZWFuX3ZhbHVlID0gZDMubWVhbih0aGlzLmRhdGEubWFwKGQgPT4gZFtyYXRpb190b191c2VdKSk7XG4gICAgdGhpcy5yZWZfdmFsdWUgPSB0aGlzLmRhdGEuZmlsdGVyKFxuICAgICAgZnQgPT4gZnQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pWzBdW3JhdGlvX3RvX3VzZV07XG4gICAgc3ZnX2Jhci5hcHBlbmQoJ2RlZnMnKVxuICAgICAgLmFwcGVuZCgnY2xpcFBhdGgnKVxuICAgICAgLmF0dHIoJ2lkJywgJ2NsaXAnKVxuICAgICAgLmFwcGVuZCgncmVjdCcpXG4gICAgICAuYXR0cnMoeyB3aWR0aCwgaGVpZ2h0IH0pO1xuXG4gICAgY29uc3QgZm9jdXMgPSBzdmdfYmFyLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICBjbGFzczogJ2ZvY3VzJyxcbiAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7bWFyZ2luLmxlZnR9LCAke21hcmdpbi50b3B9KWAsXG4gICAgICB9KTtcblxuICAgIGNvbnN0IGNvbnRleHQgPSBzdmdfYmFyLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICBjbGFzczogJ2NvbnRleHQnLFxuICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHttYXJnaW4yLmxlZnR9LCAke21hcmdpbjIudG9wfSlgLFxuICAgICAgfSk7XG5cbiAgICB0aGlzLl9mb2N1cyA9IGZvY3VzO1xuICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG5cbiAgICB4LmRvbWFpbih0aGlzLmN1cnJlbnRfaWRzKTtcbiAgICB5LmRvbWFpbihbXG4gICAgICBkMy5taW4odGhpcy5kYXRhLCBkID0+IGRbcmF0aW9fdG9fdXNlXSkgLSAyLFxuICAgICAgZDMubWF4KHRoaXMuZGF0YSwgZCA9PiBkW3JhdGlvX3RvX3VzZV0pLFxuICAgIF0pO1xuICAgIHgyLmRvbWFpbih4LmRvbWFpbigpKTtcbiAgICB5Mi5kb21haW4oeS5kb21haW4oKSk7XG5cbiAgICBjb25zdCBicnVzaF9ib3R0b20gPSBkMy5icnVzaFgoKVxuICAgICAgLmV4dGVudChbWzAsIDBdLCBbd2lkdGgsIGhlaWdodDJdXSlcbiAgICAgIC5vbignYnJ1c2ggZW5kJywgdGhpcy5icnVzaGVkKTtcblxuICAgIGNvbnN0IGJydXNoX3RvcCA9IGQzLmJydXNoWCgpXG4gICAgICAuZXh0ZW50KFtbMCwgMF0sIFt3aWR0aCwgaGVpZ2h0XV0pXG4gICAgICAub24oJ2JydXNoIGVuZCcsIHRoaXMuYnJ1c2hlZF90b3ApO1xuXG4gICAgY29uc3Qgem9vbSA9IGQzLnpvb20oKVxuICAgICAgLnNjYWxlRXh0ZW50KFsxLCBJbmZpbml0eV0pXG4gICAgICAudHJhbnNsYXRlRXh0ZW50KFtbMCwgMF0sIFt3aWR0aCwgaGVpZ2h0XV0pXG4gICAgICAuZXh0ZW50KFtbMCwgMF0sIFt3aWR0aCwgaGVpZ2h0XV0pO1xuICAgICAgLy8gLm9uKFwiem9vbVwiLCB6b29tZWQpO1xuICAgIHRoaXMuYnJ1c2hfdG9wID0gYnJ1c2hfdG9wO1xuICAgIHRoaXMuYnJ1c2hfYm90dG9tID0gYnJ1c2hfYm90dG9tO1xuICAgIHRoaXMuem9vbSA9IHpvb207XG5cbiAgICBmb2N1cy5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHsgY2xhc3M6ICdheGlzIGF4aXMtLXgnLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoMCwgJHtoZWlnaHR9KWAgfSlcbiAgICAgIC5jYWxsKHhBeGlzKTtcblxuICAgIGZvY3VzLnNlbGVjdCgnLmF4aXMtLXgnKVxuICAgICAgLnNlbGVjdEFsbCgndGV4dCcpXG4gICAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ2VuZCcpXG4gICAgICAuYXR0cnMoeyBkeDogJy0wLjhlbScsIGR5OiAnMC4xNWVtJywgdHJhbnNmb3JtOiAncm90YXRlKC02NSknIH0pO1xuXG4gICAgZm9jdXMuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdheGlzIGF4aXMtLXknKVxuICAgICAgLmNhbGwoeUF4aXMpO1xuXG4gICAgdGhpcy5nX2JhciA9IGZvY3VzLmFwcGVuZCgnZycpO1xuXG4gICAgY29uc3QgZ3JvdXBlX2xpbmVfbWVhbiA9IGZvY3VzLmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ21lYW4nKTtcbiAgICBncm91cGVfbGluZV9tZWFuLmFwcGVuZCgndGV4dCcpXG4gICAgICAuYXR0cnMoeyB4OiA2MCwgeTogeSh0aGlzLm1lYW5fdmFsdWUpICsgMjAgfSlcbiAgICAgIC5zdHlsZXMoe1xuICAgICAgICBkaXNwbGF5OiAnbm9uZScsXG4gICAgICAgIGZpbGw6ICdyZWQnLFxuICAgICAgICAnZmlsbC1vcGFjaXR5JzogJzAuOCcsXG4gICAgICAgICdmb250LWZhbWlseSc6ICdcXCdTaWduaWthXFwnLCBzYW5zLXNlcmlmJyxcbiAgICAgIH0pXG4gICAgICAudGV4dChgVmFsZXVyIG1veWVubmUgOiAke01hdGgucm91bmQodGhpcy5tZWFuX3ZhbHVlICogMTApIC8gMTB9YCk7XG5cbiAgICBncm91cGVfbGluZV9tZWFuLmFwcGVuZCgnbGluZScpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICB4MTogMCxcbiAgICAgICAgeDI6IHdpZHRoLFxuICAgICAgICB5MTogeSh0aGlzLm1lYW5fdmFsdWUpLFxuICAgICAgICB5MjogeSh0aGlzLm1lYW5fdmFsdWUpLFxuICAgICAgICAnc3Ryb2tlLWRhc2hhcnJheSc6ICcxMCwgNScsXG4gICAgICAgICdzdHJva2Utd2lkdGgnOiAnMnB4JyxcbiAgICAgICAgY2xhc3M6ICdtZWFuX2xpbmUnLFxuICAgICAgfSlcbiAgICAgIC5zdHlsZSgnc3Ryb2tlJywgJ3JlZCcpO1xuXG4gICAgZ3JvdXBlX2xpbmVfbWVhbi5hcHBlbmQoJ2xpbmUnKVxuICAgICAgLmF0dHJzKHsgeDE6IDAsIHgyOiB3aWR0aCwgeTE6IHkodGhpcy5tZWFuX3ZhbHVlKSwgeTI6IHkodGhpcy5tZWFuX3ZhbHVlKSwgJ3N0cm9rZS13aWR0aCc6ICcxNHB4JywgY2xhc3M6ICd0cmFuc3BfbWVhbl9saW5lJyB9KVxuICAgICAgLnN0eWxlKCdzdHJva2UnLCAndHJhbnNwYXJlbnQnKVxuICAgICAgLm9uKCdtb3VzZW92ZXInLCAoKSA9PiB7XG4gICAgICAgIGdyb3VwZV9saW5lX21lYW4uc2VsZWN0KCd0ZXh0JylcbiAgICAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCAnaW5pdGlhbCcpO1xuICAgICAgfSlcbiAgICAgIC5vbignbW91c2VvdXQnLCAoKSA9PiB7XG4gICAgICAgIGdyb3VwZV9saW5lX21lYW4uc2VsZWN0KCd0ZXh0JylcbiAgICAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgfSk7XG5cbiAgICB0aGlzLnVwZGF0ZU1pbmlCYXJzKCk7XG5cbiAgICBjb250ZXh0LmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignY2xhc3MnLCAnYnJ1c2hfYm90dG9tJylcbiAgICAgIC5jYWxsKGJydXNoX2JvdHRvbSlcbiAgICAgIC5jYWxsKGJydXNoX2JvdHRvbS5tb3ZlLCB4LnJhbmdlKCkpO1xuXG4gICAgZm9jdXMuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdicnVzaF90b3AnKVxuICAgICAgLmNhbGwoYnJ1c2hfdG9wKVxuICAgICAgLmNhbGwoYnJ1c2hfdG9wLm1vdmUsIG51bGwpO1xuXG4gICAgdGhpcy5jb21wbGV0dWRlX3ZhbHVlID0gY2FsY1BvcENvbXBsZXR1ZGVTdWJzZXQoYXBwLCBbdGhpcy5yYXRpb190b191c2VdKTtcblxuICAgIHRoaXMuY29tcGxldHVkZSA9IHN2Z19iYXIuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRycyh7IGlkOiAnY2hhcnRfY29tcGxldHVkZScsIHg6IDYwLCB5OiA0MCB9KVxuICAgICAgLnN0eWxlcyh7ICdmb250LWZhbWlseSc6ICdcXCdTaWduaWthXFwnLCBzYW5zLXNlcmlmJyB9KVxuICAgICAgLnRleHQoYENvbXBsw6l0dWRlIDogJHt0aGlzLmNvbXBsZXR1ZGVfdmFsdWV9JWApO1xuXG4gICAgc3ZnX2Jhci5hcHBlbmQoJ2ltYWdlJylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIHg6IHdpZHRoICsgbWFyZ2luLmxlZnQgKyA1LFxuICAgICAgICB5OiAzODUsXG4gICAgICAgIHdpZHRoOiAxNSxcbiAgICAgICAgaGVpZ2h0OiAxNSxcbiAgICAgICAgJ3hsaW5rOmhyZWYnOiAnaW1nL3JldmVyc2VfcGx1cy5wbmcnLFxuICAgICAgICBpZDogJ2ltZ19yZXZlcnNlJyxcbiAgICAgIH0pXG4gICAgICAub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAvLyB0aGlzLmRhdGEgPSBhcHAuY3VycmVudF9kYXRhLnNsaWNlKCk7XG4gICAgICAgIGlmICghdGhpcy5zZXJpZV9pbnZlcnNlZCkge1xuICAgICAgICAgIHRoaXMuZGF0YS5zb3J0KChhLCBiKSA9PiBiW3RoaXMucmF0aW9fdG9fdXNlXSAtIGFbdGhpcy5yYXRpb190b191c2VdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmRhdGEuc29ydCgoYSwgYikgPT4gYVt0aGlzLnJhdGlvX3RvX3VzZV0gLSBiW3RoaXMucmF0aW9fdG9fdXNlXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXJpZV9pbnZlcnNlZCA9ICF0aGlzLnNlcmllX2ludmVyc2VkO1xuICAgICAgICB4LmRvbWFpbih0aGlzLmRhdGEuc2xpY2UoY3VycmVudF9yYW5nZVswXSwgY3VycmVudF9yYW5nZVsxXSkubWFwKGZ0ID0+IGZ0LmlkKSk7XG4gICAgICAgIHgyLmRvbWFpbih0aGlzLmRhdGEubWFwKGZ0ID0+IGZ0LmlkKSk7XG4gICAgICAgIC8vIHN2Z19iYXIuc2VsZWN0KFwiLnpvb21cIikuY2FsbCh6b29tLnRyYW5zZm9ybSwgZDMuem9vbUlkZW50aXR5XG4gICAgICAgIC8vICAgICAuc2NhbGUod2lkdGggLyAoY3VycmVudF9yYW5nZVsxXSAtIGN1cnJlbnRfcmFuZ2VbMF0pKVxuICAgICAgICAvLyAgICAgLnRyYW5zbGF0ZSgtY3VycmVudF9yYW5nZVswXSwgMCkpO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICAvLyB0aGlzLnVwZGF0ZU1pbmlCYXJzKCk7XG4gICAgICAgIHRoaXMudXBkYXRlQ29udGV4dChjdXJyZW50X3JhbmdlWzBdLCBjdXJyZW50X3JhbmdlWzFdKTtcbiAgICAgICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF90b3AnKS5jYWxsKGJydXNoX3RvcC5tb3ZlLCBudWxsKTtcbiAgICAgICAgdGhpcy5tYXBfZWxlbS5yZW1vdmVSZWN0QnJ1c2goKTtcbiAgICAgICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF9ib3R0b20nKS5jYWxsKGJydXNoX2JvdHRvbS5tb3ZlLCB4LnJhbmdlKCkpO1xuICAgICAgfSk7XG5cbiAgICAvLyBQcmVwYXJlIHRoZSB0b29sdGlwIGRpc3BsYXllZCBvbiBtb3VzZW92ZXI6XG4gICAgY29uc3QgdG9vbHRpcCA9IHByZXBhcmVUb29sdGlwKHN2Z19iYXIpO1xuXG4gICAgLy8gRGVhY3RpdmF0ZSB0aGUgYnJ1c2ggcmVjdCBzZWxlY3Rpb24gb24gdGhlIG1hcCArIG9uIHRoZSBjaGFydFxuICAgIC8vIHdoZW4gaGUgdXNlciBwcmVzcyB0aGUgQ3RybCBrZXk6XG4gICAgZG9jdW1lbnQub25rZXlkb3duID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQgJiYgZXZlbnQua2V5ID09PSAnQ29udHJvbCcpIHtcbiAgICAgICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF90b3AnKVxuICAgICAgICAgIC5zZWxlY3RBbGwoJy5zZWxlY3Rpb24sIC5vdmVybGF5JylcbiAgICAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpXG4gICAgICAgICAgLnNlbGVjdEFsbCgnLnNlbGVjdGlvbiwgLm92ZXJsYXknKVxuICAgICAgICAgIC5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBkb2N1bWVudC5vbmtleXVwID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQgJiYgZXZlbnQua2V5ID09PSAnQ29udHJvbCcpIHtcbiAgICAgICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF90b3AnKVxuICAgICAgICAgIC5zZWxlY3RBbGwoJy5zZWxlY3Rpb24sIC5vdmVybGF5JylcbiAgICAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTtcbiAgICAgICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKVxuICAgICAgICAgIC5zZWxlY3RBbGwoJy5zZWxlY3Rpb24sIC5vdmVybGF5JylcbiAgICAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy9cbiAgICBjb25zdCBoZWFkZXJfYmFyX3NlY3Rpb24gPSBkMy5zZWxlY3QoJyNoZWFkZXJfY2hhcnQnKTtcblxuICAgIHRoaXMuc2VsZWNfdmFyID0gaGVhZGVyX2Jhcl9zZWN0aW9uXG4gICAgICAuaW5zZXJ0KCdzZWxlY3QnLCAnI2ltZ190YWJsZScpXG4gICAgICAuYXR0cnMoeyBjbGFzczogJ3RpdGxlX3ZhcmlhYmxlJyB9KVxuICAgICAgLnN0eWxlcyh7XG4gICAgICAgICdmb250LWZhbWlseSc6ICdcXCdTaWduaWthXFwnLCBzYW5zLXNlcmlmJyxcbiAgICAgICAgJ2ZvbnQtd2VpZ2h0JzogJzgwMCcsXG4gICAgICAgICdmb250LXNpemUnOiAnMTRweCcsXG4gICAgICAgICdtYXJnaW4tdG9wJzogJzEycHgnLFxuICAgICAgICAnbWFyZ2luLWxlZnQnOiAnNDBweCcsXG4gICAgICAgIGZsb2F0OiAnbGVmdCcsXG4gICAgICB9KTtcblxuICAgIGZvciAobGV0IGkgPSAwLCBsZW5faSA9IGF2YWlsYWJsZV9yYXRpb3MubGVuZ3RoOyBpIDwgbGVuX2k7IGkrKykge1xuICAgICAgdGhpcy5zZWxlY192YXIuYXBwZW5kKCdvcHRpb24nKVxuICAgICAgICAuYXR0cigndmFsdWUnLCBhdmFpbGFibGVfcmF0aW9zW2ldKVxuICAgICAgICAudGV4dChhcHAuY3VycmVudF9jb25maWcucmF0aW9fcHJldHR5X25hbWVbaV0pO1xuICAgIH1cblxuICAgIHRoaXMuc2VsZWNfdmFyLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCBjb2RlX3ZhcmlhYmxlID0gdGhpcy52YWx1ZTtcbiAgICAgIHNlbGYuY2hhbmdlVmFyaWFibGUoY29kZV92YXJpYWJsZSk7XG4gICAgICBzZWxmLmNoYW5nZVN0dWR5Wm9uZSgpO1xuICAgICAgc2VsZi51cGRhdGVDb21wbGV0dWRlKCk7XG4gICAgfSk7XG5cbiAgICAvLyBDcmVhdGUgdGhlIG1lbnUgdW5kZXIgdGhlIGNoYXJ0IGFsbG93aW5nIHRvIHVzZSBzb21lIHVzZWZ1bCBzZWxlY3Rpb25zXG4gICAgLy8gKGFib3ZlIG9yIGJlbG93IHRoZSBtZWFuIHZhbHVlIGFuZCBhYm92ZSBvciBiZWxvdyBteV9yZWdpb24pXG4gICAgY29uc3QgbWVudV9zZWxlY3Rpb24gPSBkMy5zZWxlY3QoJyNiYXJfc2VjdGlvbicpXG4gICAgICAuYXBwZW5kKCdkaXYnKVxuICAgICAgLmF0dHIoJ2lkJywgJ21lbnVfc2VsZWN0aW9uJylcbiAgICAgIC5zdHlsZXMoeyBwYWRkaW5nOiAnMCAxMHB4IDEwcHggMTBweCcsICd0ZXh0LWFsaWduJzogJ2NlbnRlcicgfSk7XG5cbiAgICBtZW51X3NlbGVjdGlvbi5hcHBlbmQoJ2J1dHRvbicpXG4gICAgICAuYXR0cnMoeyBjbGFzczogJ2J1dHRvbl9ibHVlJywgaWQ6ICdidG5fYWJvdmVfbWVhbicgfSlcbiAgICAgIC50ZXh0KCc8IMOgIGxhIG1veWVubmUnKVxuICAgICAgLm9uKCdjbGljaycsICgpID0+IHRoaXMuc2VsZWN0QmVsb3dNZWFuKCkpO1xuXG4gICAgbWVudV9zZWxlY3Rpb24uYXBwZW5kKCdidXR0b24nKVxuICAgICAgLmF0dHJzKHsgY2xhc3M6ICdidXR0b25fYmx1ZScsIGlkOiAnYnRuX2JlbG93X21lYW4nIH0pXG4gICAgICAudGV4dCgnPiDDoCBsYSBtb3llbm5lJylcbiAgICAgIC5vbignY2xpY2snLCAoKSA9PiB0aGlzLnNlbGVjdEFib3ZlTWVhbigpKTtcblxuICAgIG1lbnVfc2VsZWN0aW9uLmFwcGVuZCgnYnV0dG9uJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAnYnV0dG9uX2JsdWUnLCBpZDogJ2J0bl9hYm92ZV9teV9yZWdpb24nIH0pXG4gICAgICAudGV4dCgnPCDDoCBtYSByw6lnaW9uJylcbiAgICAgIC5vbignY2xpY2snLCAoKSA9PiB0aGlzLnNlbGVjdEJlbG93TXlSZWdpb24oKSk7XG5cbiAgICBtZW51X3NlbGVjdGlvbi5hcHBlbmQoJ2J1dHRvbicpXG4gICAgICAuYXR0cnMoeyBjbGFzczogJ2J1dHRvbl9ibHVlJywgaWQ6ICdidG5fYmVsb3dfbXlfcmVnaW9uJyB9KVxuICAgICAgLnRleHQoJz4gw6AgbWEgcsOpZ2lvbicpXG4gICAgICAub24oJ2NsaWNrJywgKCkgPT4gdGhpcy5zZWxlY3RBYm92ZU15UmVnaW9uKCkpO1xuXG4gICAgdGhpcy5tYWtlVGFibGVTdGF0KCk7XG4gIH1cblxuICB1cGRhdGVDb21wbGV0dWRlKCkge1xuICAgIHRoaXMuY29tcGxldHVkZV92YWx1ZSA9IGNhbGNQb3BDb21wbGV0dWRlU3Vic2V0KGFwcCwgW3RoaXMucmF0aW9fdG9fdXNlXSk7XG5cbiAgICB0aGlzLmNvbXBsZXR1ZGVcbiAgICAgIC50ZXh0KGBDb21wbMOpdHVkZSA6ICR7dGhpcy5jb21wbGV0dWRlX3ZhbHVlfSVgKTtcbiAgfVxuXG4gIHVwZGF0ZUNvbnRleHQobWluLCBtYXgpIHtcbiAgICB0aGlzLmNvbnRleHQuc2VsZWN0QWxsKCcuYmFyJylcbiAgICAgICAuc3R5bGUoJ2ZpbGwtb3BhY2l0eScsIChfLCBpKSA9PiAoaSA+PSBtaW4gJiYgaSA8IG1heCA/ICcxJyA6ICcwLjMnKSk7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgZGlzcGxheWVkID0gMDtcbiAgICBjb25zdCByYXRpb190b191c2UgPSB0aGlzLnJhdGlvX3RvX3VzZTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBiYXIgPSB0aGlzLmdfYmFyLnNlbGVjdEFsbCgnLmJhcicpXG4gICAgICAuZGF0YSh0aGlzLmRhdGEpO1xuXG4gICAgYmFyXG4gICAgICAuYXR0cnMoZCA9PiAoe1xuICAgICAgICB4OiB0aGlzLngoZC5pZCksXG4gICAgICAgIHk6IHRoaXMueShkW3JhdGlvX3RvX3VzZV0pLFxuICAgICAgICB3aWR0aDogdGhpcy54LmJhbmR3aWR0aCgpLFxuICAgICAgICBoZWlnaHQ6IGhlaWdodCAtIHRoaXMueShkW3JhdGlvX3RvX3VzZV0pLFxuICAgICAgfSkpXG4gICAgICAuc3R5bGUoJ2ZpbGwnLCBkID0+IGFwcC5jb2xvcnNbZC5pZF0gfHwgY29sb3JfY291bnRyaWVzKVxuICAgICAgLnN0eWxlKCdkaXNwbGF5JywgKGQpID0+IHtcbiAgICAgICAgY29uc3QgdG9fZGlzcGxheSA9IHRoaXMueChkLmlkKSAhPSBudWxsO1xuICAgICAgICBpZiAodG9fZGlzcGxheSkge1xuICAgICAgICAgIGRpc3BsYXllZCArPSAxO1xuICAgICAgICAgIHJldHVybiAnaW5pdGlhbCc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICdub25lJztcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlb3ZlcicsICgpID0+IHtcbiAgICAgICAgc3ZnX2Jhci5zZWxlY3QoJy50b29sdGlwJykuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTtcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlb3V0JywgKCkgPT4ge1xuICAgICAgICBzdmdfYmFyLnNlbGVjdCgnLnRvb2x0aXAnKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICBjb25zdCB0b29sdGlwID0gc3ZnX2Jhci5zZWxlY3QoJy50b29sdGlwJyk7XG4gICAgICAgIHRvb2x0aXBcbiAgICAgICAgICAuc2VsZWN0KCd0ZXh0LmlkX2ZlYXR1cmUnKVxuICAgICAgICAgIC50ZXh0KGAke2QuaWR9YCk7XG4gICAgICAgIHRvb2x0aXAuc2VsZWN0KCd0ZXh0LnZhbHVlX2ZlYXR1cmUxJylcbiAgICAgICAgICAudGV4dChgJHttYXRoX3JvdW5kKGRbc2VsZi5yYXRpb190b191c2VdICogMTApIC8gMTB9YCk7XG4gICAgICAgIHRvb2x0aXBcbiAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke1tkMy5tb3VzZSh0aGlzKVswXSAtIDUsIGQzLm1vdXNlKHRoaXMpWzFdIC0gNDVdfSlgKTtcbiAgICAgIH0pO1xuXG4gICAgYmFyLmVudGVyKClcbiAgICAgIC5pbnNlcnQoJ3JlY3QnLCAnLm1lYW4nKVxuICAgICAgLmF0dHJzKGQgPT4gKHtcbiAgICAgICAgY2xhc3M6ICdiYXInLFxuICAgICAgICB4OiB0aGlzLngoZC5pZCksXG4gICAgICAgIHk6IHRoaXMueShkW3JhdGlvX3RvX3VzZV0pLFxuICAgICAgICB3aWR0aDogdGhpcy54LmJhbmR3aWR0aCgpLFxuICAgICAgICBoZWlnaHQ6IGhlaWdodCAtIHRoaXMueShkW3JhdGlvX3RvX3VzZV0pLFxuICAgICAgfSkpO1xuXG4gICAgYmFyLmV4aXQoKS5yZW1vdmUoKTtcblxuICAgIHRoaXMuX2ZvY3VzLnNlbGVjdCgnLmF4aXMtLXknKVxuICAgICAgLmNhbGwodGhpcy55QXhpcyk7XG5cbiAgICBjb25zdCBheGlzX3ggPSB0aGlzLl9mb2N1cy5zZWxlY3QoJy5heGlzLS14JylcbiAgICAgIC5hdHRyKCdmb250LXNpemUnLCAoKSA9PiAoZGlzcGxheWVkID4gNzUgPyA2IDogMTApKVxuICAgICAgLmNhbGwodGhpcy54QXhpcyk7XG4gICAgYXhpc194XG4gICAgICAuc2VsZWN0QWxsKCd0ZXh0JylcbiAgICAgIC5hdHRycygoKSA9PiB7XG4gICAgICAgIGlmIChkaXNwbGF5ZWQgPiAxMDApIHtcbiAgICAgICAgICByZXR1cm4geyBkeDogJy0wLjhlbScsIGR5OiAnMC4xNWVtJywgdHJhbnNmb3JtOiAncm90YXRlKC02NSknIH07XG4gICAgICAgIH0gZWxzZSBpZiAoZGlzcGxheWVkID4gMjApIHtcbiAgICAgICAgICByZXR1cm4geyBkeDogJy0wLjhlbScsIGR5OiAnMC4xNWVtJywgdHJhbnNmb3JtOiAncm90YXRlKC02NSknIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHsgZHg6ICcwJywgZHk6ICcwLjcxZW0nLCB0cmFuc2Zvcm06IG51bGwgfTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAoKSA9PiAoZGlzcGxheWVkID4gMjAgPyAnZW5kJyA6ICdtaWRkbGUnKSk7XG5cbiAgICB0aGlzLnVwZGF0ZU1pbmlCYXJzKCk7XG4gIH1cblxuXG4gIHVwZGF0ZU1pbmlCYXJzKCkge1xuICAgIGNvbnN0IHJhdGlvX3RvX3VzZSA9IHRoaXMucmF0aW9fdG9fdXNlO1xuICAgIGNvbnN0IG1pbmlfYmFycyA9IHRoaXMuY29udGV4dC5zZWxlY3RBbGwoJy5iYXInKVxuICAgICAgLmRhdGEodGhpcy5kYXRhKTtcblxuICAgIG1pbmlfYmFyc1xuICAgICAgLmF0dHJzKGQgPT4gKHtcbiAgICAgICAgeDogdGhpcy54MihkLmlkKSxcbiAgICAgICAgeTogdGhpcy55MihkW3JhdGlvX3RvX3VzZV0pLFxuICAgICAgICB3aWR0aDogdGhpcy54Mi5iYW5kd2lkdGgoKSxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQyIC0gdGhpcy55MihkW3JhdGlvX3RvX3VzZV0pLFxuICAgICAgfSkpXG4gICAgICAuc3R5bGUoJ2ZpbGwnLCBkID0+IChkLmlkICE9PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uID8gY29sb3JfY291bnRyaWVzIDogY29sb3JfaGlnaGxpZ2h0KSk7XG5cbiAgICBtaW5pX2JhcnNcbiAgICAgIC5lbnRlcigpXG4gICAgICAuaW5zZXJ0KCdyZWN0JylcbiAgICAgIC5hdHRycyhkID0+ICh7XG4gICAgICAgIGNsYXNzOiAnYmFyJyxcbiAgICAgICAgeDogdGhpcy54MihkLmlkKSxcbiAgICAgICAgeTogdGhpcy55MihkW3JhdGlvX3RvX3VzZV0pLFxuICAgICAgICB3aWR0aDogdGhpcy54Mi5iYW5kd2lkdGgoKSxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQyIC0gdGhpcy55MihkW3JhdGlvX3RvX3VzZV0pLFxuICAgICAgfSkpXG4gICAgICAuc3R5bGUoJ2ZpbGwnLCBkID0+IChkLmlkICE9PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uID8gY29sb3JfY291bnRyaWVzIDogY29sb3JfaGlnaGxpZ2h0KSk7XG4gICAgbWluaV9iYXJzLmV4aXQoKS5yZW1vdmUoKTtcbiAgfVxuXG4gIHVwZGF0ZU1hcFJlZ2lvKCkge1xuICAgIHRoaXMubWFwX2VsZW0udGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuYXR0cignZmlsbCcsIGQgPT4gKHRoaXMuY3VycmVudF9pZHMuaW5kZXhPZihkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dKSA+IC0xXG4gICAgICAgID8gKGFwcC5jb2xvcnNbZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXV0gfHwgY29sb3JfY291bnRyaWVzKVxuICAgICAgICA6IGNvbG9yX2Rpc2FibGVkKSk7XG4gIH1cblxuICBzZWxlY3RBYm92ZU15UmVnaW9uKCkge1xuICAgIGNvbnN0IG15X3JhbmsgPSB0aGlzLmRhdGEubWFwKChkLCBpKSA9PiBbZC5pZCwgaV0pXG4gICAgICAuZmlsdGVyKGQgPT4gZFswXSA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbilbMF1bMV07XG4gICAgYXBwLmNvbG9ycyA9IHt9O1xuICAgIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgaWYgKCF0aGlzLnNlcmllX2ludmVyc2VkKSB7XG4gICAgICBjdXJyZW50X3JhbmdlX2JydXNoID0gW215X3JhbmssIHRoaXMuZGF0YS5sZW5ndGhdO1xuICAgICAgdGhpcy5kYXRhXG4gICAgICAgIC5maWx0ZXIoKGQsIGkpID0+IGkgPiBteV9yYW5rKVxuICAgICAgICAubWFwKGQgPT4gZC5pZClcbiAgICAgICAgLmZvckVhY2goKGZ0KSA9PiB7IGFwcC5jb2xvcnNbZnRdID0gY29sb3Jfc3VwOyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9yYW5nZV9icnVzaCA9IFswLCBteV9yYW5rXTtcbiAgICAgIHRoaXMuZGF0YVxuICAgICAgICAuZmlsdGVyKChkLCBpKSA9PiBpIDwgbXlfcmFuaylcbiAgICAgICAgLm1hcChkID0+IGQuaWQpXG4gICAgICAgIC5mb3JFYWNoKChmdCkgPT4geyBhcHAuY29sb3JzW2Z0XSA9IGNvbG9yX2luZjsgfSk7XG4gICAgfVxuICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfYm90dG9tJykuY2FsbChcbiAgICAgIHRoaXMuYnJ1c2hfYm90dG9tLm1vdmUsIHRoaXMueDIucmFuZ2UoKSk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgICAvLyBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX3RvcCcpLmNhbGwodGhpcy5icnVzaF90b3AubW92ZSwgY3VycmVudF9yYW5nZV9icnVzaC5tYXAoZCA9PiBkICogKHdpZHRoIC8gbmJGdCkpKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gIH1cblxuICBzZWxlY3RCZWxvd015UmVnaW9uKCkge1xuICAgIGNvbnN0IG15X3JhbmsgPSB0aGlzLmRhdGEubWFwKChkLCBpKSA9PiBbZC5pZCwgaV0pXG4gICAgICAuZmlsdGVyKGQgPT4gZFswXSA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbilbMF1bMV07XG5cbiAgICBhcHAuY29sb3JzID0ge307XG4gICAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICBpZiAoIXRoaXMuc2VyaWVfaW52ZXJzZWQpIHtcbiAgICAgIGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbMCwgbXlfcmFua107XG4gICAgICB0aGlzLmRhdGFcbiAgICAgICAgLmZpbHRlcigoZCwgaSkgPT4gaSA8IG15X3JhbmspXG4gICAgICAgIC5tYXAoZCA9PiBkLmlkKVxuICAgICAgICAuZm9yRWFjaCgoZnQpID0+IHsgYXBwLmNvbG9yc1tmdF0gPSBjb2xvcl9pbmY7IH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X3JhbmdlX2JydXNoID0gW215X3JhbmssIHRoaXMuZGF0YS5sZW5ndGhdO1xuICAgICAgdGhpcy5kYXRhXG4gICAgICAgIC5maWx0ZXIoKGQsIGkpID0+IGkgPiBteV9yYW5rKVxuICAgICAgICAubWFwKGQgPT4gZC5pZClcbiAgICAgICAgLmZvckVhY2goKGZ0KSA9PiB7IGFwcC5jb2xvcnNbZnRdID0gY29sb3Jfc3VwOyB9KTtcbiAgICB9XG4gICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF9ib3R0b20nKS5jYWxsKFxuICAgICAgdGhpcy5icnVzaF9ib3R0b20ubW92ZSwgdGhpcy54Mi5yYW5nZSgpKTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIC8vIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfdG9wJykuY2FsbCh0aGlzLmJydXNoX3RvcC5tb3ZlLCBjdXJyZW50X3JhbmdlX2JydXNoLm1hcChkID0+IGQgKiAod2lkdGggLyBuYkZ0KSkpO1xuICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgfVxuXG4gIHNlbGVjdEFib3ZlTWVhbigpIHtcbiAgICBjb25zdCBtZWFuX3JhbmsgPSBnZXRNZWFuUmFuayh0aGlzLm1lYW5fdmFsdWUsIHRoaXMucmF0aW9fdG9fdXNlKTtcbiAgICBjb25zdCByYXRpb190b191c2UgPSB0aGlzLnJhdGlvX3RvX3VzZTtcbiAgICBjb25zdCByZWZfdmFsdWUgPSB0aGlzLnJlZl92YWx1ZTtcblxuICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgIGlmICghdGhpcy5zZXJpZV9pbnZlcnNlZCkge1xuICAgICAgY3VycmVudF9yYW5nZV9icnVzaCA9IFttZWFuX3JhbmssIHRoaXMuZGF0YS5sZW5ndGhdO1xuICAgICAgdGhpcy5kYXRhLmZpbHRlcihkID0+IGRbcmF0aW9fdG9fdXNlXSA+IHRoaXMubWVhbl92YWx1ZSkuZm9yRWFjaCgoZnQpID0+IHtcbiAgICAgICAgaWYgKGZ0W3JhdGlvX3RvX3VzZV0gPiByZWZfdmFsdWUpIGFwcC5jb2xvcnNbZnQuaWRdID0gY29sb3Jfc3VwO1xuICAgICAgICBlbHNlIGFwcC5jb2xvcnNbZnQuaWRdID0gY29sb3JfaW5mO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbMCwgbWVhbl9yYW5rICsgMV07XG4gICAgICB0aGlzLmRhdGEuZmlsdGVyKGQgPT4gZFtyYXRpb190b191c2VdID4gdGhpcy5tZWFuX3ZhbHVlKS5mb3JFYWNoKChmdCkgPT4ge1xuICAgICAgICBpZiAoZnRbcmF0aW9fdG9fdXNlXSA+IHJlZl92YWx1ZSkgYXBwLmNvbG9yc1tmdC5pZF0gPSBjb2xvcl9pbmY7XG4gICAgICAgIGVsc2UgYXBwLmNvbG9yc1tmdC5pZF0gPSBjb2xvcl9zdXA7XG4gICAgICB9KTtcbiAgICB9XG4gICAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX2JvdHRvbScpLmNhbGwoXG4gICAgICB0aGlzLmJydXNoX2JvdHRvbS5tb3ZlLCB0aGlzLngyLnJhbmdlKCkpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gICAgLy8gc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF90b3AnKS5jYWxsKHRoaXMuYnJ1c2hfdG9wLm1vdmUsIGN1cnJlbnRfcmFuZ2VfYnJ1c2gubWFwKGQgPT4gZCAqICh3aWR0aCAvIG5iRnQpKSk7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICB9XG5cbiAgc2VsZWN0QmVsb3dNZWFuKCkge1xuICAgIGNvbnN0IG1lYW5fcmFuayA9IGdldE1lYW5SYW5rKHRoaXMubWVhbl92YWx1ZSwgdGhpcy5yYXRpb190b191c2UpO1xuICAgIGNvbnN0IHJhdGlvX3RvX3VzZSA9IHRoaXMucmF0aW9fdG9fdXNlO1xuICAgIGNvbnN0IHJlZl92YWx1ZSA9IHRoaXMucmVmX3ZhbHVlO1xuICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICBpZiAoIXRoaXMuc2VyaWVfaW52ZXJzZWQpIHtcbiAgICAgIGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbMCwgbWVhbl9yYW5rXTtcbiAgICAgIHRoaXMuZGF0YS5maWx0ZXIoZCA9PiBkW3JhdGlvX3RvX3VzZV0gPCB0aGlzLm1lYW5fdmFsdWUpLmZvckVhY2goKGZ0KSA9PiB7XG4gICAgICAgIGlmIChmdFtyYXRpb190b191c2VdIDwgcmVmX3ZhbHVlKSBhcHAuY29sb3JzW2Z0LmlkXSA9IGNvbG9yX2luZjtcbiAgICAgICAgZWxzZSBhcHAuY29sb3JzW2Z0LmlkXSA9IGNvbG9yX3N1cDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X3JhbmdlX2JydXNoID0gW21lYW5fcmFuayArIDEsIHRoaXMuZGF0YS5sZW5ndGhdO1xuICAgICAgdGhpcy5kYXRhLmZpbHRlcihkID0+IGRbcmF0aW9fdG9fdXNlXSA8IHRoaXMubWVhbl92YWx1ZSkuZm9yRWFjaCgoZnQpID0+IHtcbiAgICAgICAgaWYgKGZ0W3JhdGlvX3RvX3VzZV0gPCByZWZfdmFsdWUpIGFwcC5jb2xvcnNbZnQuaWRdID0gY29sb3Jfc3VwO1xuICAgICAgICBlbHNlIGFwcC5jb2xvcnNbZnQuaWRdID0gY29sb3JfaW5mO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF9ib3R0b20nKS5jYWxsKFxuICAgICAgdGhpcy5icnVzaF9ib3R0b20ubW92ZSwgdGhpcy54Mi5yYW5nZSgpKTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIC8vIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfdG9wJykuY2FsbCh0aGlzLmJydXNoX3RvcC5tb3ZlLCBjdXJyZW50X3JhbmdlX2JydXNoLm1hcChkID0+IGQgKiAod2lkdGggLyBuYkZ0KSkpO1xuICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgfVxuXG4gIGhhbmRsZV9icnVzaF9tYXAoZXZlbnQpIHtcbiAgICBpZiAoIWV2ZW50IHx8ICFldmVudC5zZWxlY3Rpb24pIHtcbiAgICAgIHRoaXMubGFzdF9tYXBfc2VsZWN0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCByYXRpb190b191c2UgPSB0aGlzLnJhdGlvX3RvX3VzZTtcbiAgICBjb25zdCByZWZfdmFsdWUgPSB0aGlzLnJlZl92YWx1ZTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX3RvcCcpLmNhbGwoc2VsZi5icnVzaF90b3AubW92ZSwgbnVsbCk7XG4gICAgY29uc3QgW3RvcGxlZnQsIGJvdHRvbXJpZ2h0XSA9IGV2ZW50LnNlbGVjdGlvbjtcbiAgICB0aGlzLmxhc3RfbWFwX3NlbGVjdGlvbiA9IFt0b3BsZWZ0LCBib3R0b21yaWdodF07XG4gICAgLy8gY29uc3QgdHJhbnNmb3JtID0gc3ZnX21hcC5ub2RlKCkuX196b29tO1xuICAgIC8vIHRvcGxlZnRbMF0gPSAodG9wbGVmdFswXSAtIHRyYW5zZm9ybS54KSAvIHRyYW5zZm9ybS5rO1xuICAgIC8vIHRvcGxlZnRbMV0gPSAodG9wbGVmdFsxXSAtIHRyYW5zZm9ybS55KSAvIHRyYW5zZm9ybS5rO1xuICAgIC8vIGJvdHRvbXJpZ2h0WzBdID0gKGJvdHRvbXJpZ2h0WzBdIC0gdHJhbnNmb3JtLngpIC8gdHJhbnNmb3JtLms7XG4gICAgLy8gYm90dG9tcmlnaHRbMV0gPSAoYm90dG9tcmlnaHRbMV0gLSB0cmFuc2Zvcm0ueSkgLyB0cmFuc2Zvcm0uaztcbiAgICBjb25zdCByZWN0ID0gbmV3IFJlY3QodG9wbGVmdCwgYm90dG9tcmlnaHQpO1xuICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICBzZWxmLm1hcF9lbGVtLnRhcmdldF9sYXllci5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICBjb25zdCBpZCA9IGQucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV07XG4gICAgICAgIGlmIChpZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbikge1xuICAgICAgICAgIGFwcC5jb2xvcnNbaWRdID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgICAgICAgIHJldHVybiBjb2xvcl9oaWdobGlnaHQ7XG4gICAgICAgIH0gZWxzZSBpZiAoc2VsZi5jdXJyZW50X2lkcy5pbmRleE9mKGlkKSA8IDApIHtcbiAgICAgICAgICByZXR1cm4gY29sb3JfZGlzYWJsZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9wdHMpIHtcbiAgICAgICAgICB0aGlzLl9wdHMgPSBzdmdQYXRoVG9Db29yZHModGhpcy5nZXRBdHRyaWJ1dGUoJ2QnKSwgYXBwLnR5cGVfcGF0aCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHRzID0gdGhpcy5fcHRzO1xuICAgICAgICBmb3IgKGxldCBpeCA9IDAsIG5iX3B0cyA9IHB0cy5sZW5ndGg7IGl4IDwgbmJfcHRzOyBpeCsrKSB7XG4gICAgICAgICAgaWYgKHJlY3QuY29udGFpbnMocHRzW2l4XSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZC5wcm9wZXJ0aWVzW3JhdGlvX3RvX3VzZV07XG4gICAgICAgICAgICBjb25zdCBjb2xvciA9IGNvbXAodmFsdWUsIHJlZl92YWx1ZSwgdGhpcy5zZXJpZV9pbnZlcnNlZCk7XG4gICAgICAgICAgICBhcHAuY29sb3JzW2lkXSA9IGNvbG9yO1xuICAgICAgICAgICAgcmV0dXJuIGNvbG9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sb3JfY291bnRyaWVzO1xuICAgICAgfSk7XG4gICAgc2VsZi5fZm9jdXMuc2VsZWN0QWxsKCcuYmFyJylcbiAgICAgIC5zdHlsZSgnZmlsbCcsIGQgPT4gYXBwLmNvbG9yc1tkLmlkXSB8fCBjb2xvcl9jb3VudHJpZXMpO1xuICAgIGNvbnN0IGlkcyA9IE9iamVjdC5rZXlzKGFwcC5jb2xvcnMpO1xuICAgIGNvbnN0IHJhbmtzID0gaWRzLm1hcChkID0+IHRoaXMuY3VycmVudF9pZHMuaW5kZXhPZihkLmlkKSA+IC0xKS5tYXAoZCA9PiB0aGlzLmN1cnJlbnRfcmFua3NbZF0pO1xuICAgIGlmIChyYW5rcy5sZW5ndGggPiAxKSB7XG4gICAgICBjb25zdCBjMSA9IHJhbmtzWzBdIC0gMTtcbiAgICAgIGNvbnN0IGMyID0gcmFua3NbcmFua3MubGVuZ3RoIC0gMV07XG4gICAgICBpZiAoYzEgPCBjdXJyZW50X3JhbmdlWzBdIHx8IGMyID4gY3VycmVudF9yYW5nZVsxXSkge1xuICAgICAgICBjdXJyZW50X3JhbmdlID0gW1xuICAgICAgICAgIHJhbmtzWzBdIC0gMSxcbiAgICAgICAgICByYW5rc1tyYW5rcy5sZW5ndGggLSAxXSxcbiAgICAgICAgXTtcbiAgICAgICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF9ib3R0b20nKS5jYWxsKFxuICAgICAgICAgIHNlbGYuYnJ1c2hfYm90dG9tLm1vdmUsXG4gICAgICAgICAgW2N1cnJlbnRfcmFuZ2VbMF0gKiAod2lkdGggLyBuYkZ0KSwgY3VycmVudF9yYW5nZVsxXSAqICh3aWR0aCAvIG5iRnQpXSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfcmFuZ2UgPSBbMCwgdGhpcy5kYXRhLmxlbmd0aF07XG4gICAgICBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX2JvdHRvbScpLmNhbGwoXG4gICAgICAgIHNlbGYuYnJ1c2hfYm90dG9tLm1vdmUsIHNlbGYueC5yYW5nZSgpKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVDbGlja01hcChkLCBwYXJlbnQpIHtcbiAgICBjb25zdCBpZCA9IGQucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV07XG4gICAgaWYgKHRoaXMuY3VycmVudF9pZHMuaW5kZXhPZihpZCkgPCAwIHx8IGlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKSByZXR1cm47XG4gICAgaWYgKGFwcC5jb2xvcnNbaWRdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGFwcC5jb2xvcnNbaWRdID0gdW5kZWZpbmVkO1xuICAgICAgZDMuc2VsZWN0KHBhcmVudCkuYXR0cignZmlsbCcsIGNvbG9yX2NvdW50cmllcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGNvbG9yID0gY29tcChcbiAgICAgICAgZC5wcm9wZXJ0aWVzW3RoaXMucmF0aW9fdG9fdXNlXSxcbiAgICAgICAgdGhpcy5yZWZfdmFsdWUsXG4gICAgICAgIHRoaXMuc2VyaWVfaW52ZXJzZWQpO1xuICAgICAgYXBwLmNvbG9yc1tpZF0gPSBjb2xvcjtcbiAgICAgIGQzLnNlbGVjdChwYXJlbnQpLmF0dHIoJ2ZpbGwnLCBjb2xvcik7XG4gICAgfVxuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cblxuICB1cGRhdGVDaGFuZ2VSZWdpb24oKSB7XG4gICAgaWYgKGFwcC5jdXJyZW50X2NvbmZpZy5maWx0ZXJfa2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuY2hhbmdlU3R1ZHlab25lKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVmX3ZhbHVlID0gdGhpcy5kYXRhLmZpbHRlcihcbiAgICAgICAgZnQgPT4gZnQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pWzBdW3RoaXMucmF0aW9fdG9fdXNlXTtcbiAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICB0aGlzLnVwZGF0ZUNvbnRleHQoMCwgdGhpcy5kYXRhLmxlbmd0aCk7XG4gICAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgICB0aGlzLnVwZGF0ZVRhYmxlU3RhdHMoKTtcbiAgICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfYm90dG9tJykuY2FsbCh0aGlzLmJydXNoX2JvdHRvbS5tb3ZlLCB0aGlzLngucmFuZ2UoKSk7XG4gICAgICB0aGlzLm1hcF9lbGVtLnJlbW92ZVJlY3RCcnVzaCgpO1xuICAgICAgdGhpcy5tYXBfZWxlbS51cGRhdGVMZWdlbmQoKTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGVNZWFuVmFsdWUoKSB7XG4gICAgY29uc3QgeSA9IHRoaXMueTtcbiAgICBjb25zdCByYXRpb190b191c2UgPSB0aGlzLnJhdGlvX3RvX3VzZTtcbiAgICBjb25zdCBncnBfbWVhbiA9IHRoaXMuX2ZvY3VzLnNlbGVjdCgnLm1lYW4nKTtcbiAgICB0aGlzLm1lYW5fdmFsdWUgPSBkMy5tZWFuKHRoaXMuZGF0YS5tYXAoZCA9PiBkW3JhdGlvX3RvX3VzZV0pKTtcbiAgICBncnBfbWVhbi5zZWxlY3QoJ3RleHQnKVxuICAgICAgLmF0dHIoJ3knLCB5KHRoaXMubWVhbl92YWx1ZSkgKyAyMClcbiAgICAgIC50ZXh0KGBWYWxldXIgbW95ZW5uZSA6ICR7TWF0aC5yb3VuZCh0aGlzLm1lYW5fdmFsdWUgKiAxMCkgLyAxMH1gKTtcbiAgICBncnBfbWVhbi5zZWxlY3QoJy5tZWFuX2xpbmUnKVxuICAgICAgLmF0dHJzKHsgeTE6IHkodGhpcy5tZWFuX3ZhbHVlKSwgeTI6IHkodGhpcy5tZWFuX3ZhbHVlKSB9KTtcbiAgICBncnBfbWVhbi5zZWxlY3QoJy50cmFuc3BfbWVhbl9saW5lJylcbiAgICAgIC5hdHRycyh7IHkxOiB5KHRoaXMubWVhbl92YWx1ZSksIHkyOiB5KHRoaXMubWVhbl92YWx1ZSkgfSk7XG4gIH1cblxuICBjaGFuZ2VTdHVkeVpvbmUoKSB7XG4gICAgY29uc3QgcmF0aW9fdG9fdXNlID0gdGhpcy5yYXRpb190b191c2U7XG4gICAgdGhpcy5kYXRhID0gYXBwLmN1cnJlbnRfZGF0YS5maWx0ZXIoZnQgPT4gISFmdFtyYXRpb190b191c2VdKTtcblxuICAgIGlmICh0aGlzLnNlcmllX2ludmVyc2VkKSB7XG4gICAgICB0aGlzLmRhdGEuc29ydCgoYSwgYikgPT4gYltyYXRpb190b191c2VdIC0gYVtyYXRpb190b191c2VdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kYXRhLnNvcnQoKGEsIGIpID0+IGFbcmF0aW9fdG9fdXNlXSAtIGJbcmF0aW9fdG9fdXNlXSk7XG4gICAgfVxuICAgIHRoaXMuY3VycmVudF9pZHMgPSB0aGlzLmRhdGEubWFwKGQgPT4gZC5pZCk7XG4gICAgbmJGdCA9IHRoaXMuZGF0YS5sZW5ndGg7XG4gICAgdGhpcy5yZWZfdmFsdWUgPSB0aGlzLmRhdGEuZmluZChcbiAgICAgIGZ0ID0+IGZ0LmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVtyYXRpb190b191c2VdO1xuICAgIHRoaXMueC5kb21haW4odGhpcy5jdXJyZW50X2lkcyk7XG4gICAgY29uc3QgbWluX3NlcmllID0gZDMubWluKHRoaXMuZGF0YSwgZCA9PiBkW3JhdGlvX3RvX3VzZV0pO1xuICAgIGNvbnN0IG1heF9zZXJpZSA9IGQzLm1heCh0aGlzLmRhdGEsIGQgPT4gZFtyYXRpb190b191c2VdKTtcbiAgICBjb25zdCBvZmZzZXRfeSA9IChtYXhfc2VyaWUgLSBtaW5fc2VyaWUpIC8gMjA7XG4gICAgdGhpcy55LmRvbWFpbihbXG4gICAgICBtaW5fc2VyaWUgLSBvZmZzZXRfeSwgbWF4X3NlcmllLFxuICAgIF0pO1xuICAgIHRoaXMueDIuZG9tYWluKHRoaXMueC5kb21haW4oKSk7XG4gICAgdGhpcy55Mi5kb21haW4odGhpcy55LmRvbWFpbigpKTtcbiAgICB0aGlzLnVwZGF0ZU1lYW5WYWx1ZSgpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gICAgdGhpcy51cGRhdGVDb250ZXh0KDAsIHRoaXMuZGF0YS5sZW5ndGgpO1xuXG4gICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF9ib3R0b20nKS5jYWxsKHRoaXMuYnJ1c2hfYm90dG9tLm1vdmUsIHRoaXMueDIucmFuZ2UoKSk7XG4gICAgdGhpcy5tYXBfZWxlbS5yZW1vdmVSZWN0QnJ1c2goKTtcbiAgICBhcHAuY29sb3JzID0ge307XG4gICAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICB0aGlzLnVwZGF0ZVRhYmxlU3RhdHMoKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gIH1cblxuICBhZGRWYXJpYWJsZShjb2RlX3ZhcmlhYmxlLCBuYW1lX3ZhcmlhYmxlKSB7XG4gICAgLy8gQWRkIHRoZSB2YXJpYWJsZSB0byB0aGUgaW5wdXQgZWxlbWVudCBhbGxvd2luZyB0byBjaG9vc2UgdmFyaWFibGVzOlxuICAgIHRoaXMuc2VsZWNfdmFyLmFwcGVuZCgnb3B0aW9uJylcbiAgICAgIC5hdHRyKCd2YWx1ZScsIGNvZGVfdmFyaWFibGUpXG4gICAgICAudGV4dChuYW1lX3ZhcmlhYmxlKTtcblxuICAgIC8vIEFuZCB1c2UgaXQgaW1tZWRpYXRseTpcbiAgICB0aGlzLnNlbGVjX3Zhci5ub2RlKCkudmFsdWUgPSBjb2RlX3ZhcmlhYmxlO1xuICAgIHRoaXMuc2VsZWNfdmFyLmRpc3BhdGNoKCdjaGFuZ2UnKTtcbiAgfVxuXG4gIHJlbW92ZVZhcmlhYmxlKGNvZGVfdmFyaWFibGUpIHtcbiAgICAvLyBBZGQgdGhlIHZhcmlhYmxlIHRvIHRoZSBpbnB1dCBlbGVtZW50IGFsbG93aW5nIHRvIGNob29zZSB2YXJpYWJsZXM6XG4gICAgdGhpcy5zZWxlY192YXIuc2VsZWN0KGBvcHRpb25bdmFsdWU9JHtjb2RlX3ZhcmlhYmxlfV1gKS5yZW1vdmUoKTtcbiAgICBpZiAodGhpcy5yYXRpb190b191c2UgPT09IGNvZGVfdmFyaWFibGUpIHtcbiAgICAgIHRoaXMuc2VsZWNfdmFyLm5vZGUoKS52YWx1ZSA9IHRoaXMuc2VsZWNfdmFyLnNlbGVjdCgnb3B0aW9uJykubm9kZSgpLnZhbHVlO1xuICAgICAgdGhpcy5zZWxlY192YXIuZGlzcGF0Y2goJ2NoYW5nZScpO1xuICAgIH1cbiAgfVxuXG4gIGNoYW5nZVZhcmlhYmxlKGNvZGVfdmFyaWFibGUpIHtcbiAgICB0aGlzLnJhdGlvX3RvX3VzZSA9IGNvZGVfdmFyaWFibGU7XG4gIH1cblxuICByZW1vdmUoKSB7XG4gICAgdGhpcy5fZm9jdXMucmVtb3ZlKCk7XG4gICAgdGhpcy5jb250ZXh0LnJlbW92ZSgpO1xuICAgIHRoaXMuc2VsZWNfdmFyLnJlbW92ZSgpO1xuICAgIHRoaXMudGFibGVfc3RhdHMucmVtb3ZlKCk7XG4gICAgdGhpcy50YWJsZV9zdGF0cyA9IG51bGw7XG4gICAgdGhpcy5tYXBfZWxlbS51bmJpbmRCcnVzaCgpO1xuICAgIHRoaXMubWFwX2VsZW0gPSBudWxsO1xuICAgIHN2Z19iYXIuaHRtbCgnJyk7XG4gIH1cblxuICBiaW5kTWFwKG1hcF9lbGVtKSB7XG4gICAgdGhpcy5tYXBfZWxlbSA9IG1hcF9lbGVtO1xuICAgIHRoaXMubWFwX2VsZW0ucmVzZXRDb2xvcnModGhpcy5jdXJyZW50X2lkcyk7XG4gIH1cblxuICB1cGRhdGVUYWJsZVN0YXRzKCkge1xuICAgIHRoaXMudGFibGVfc3RhdHMucmVtb3ZlQWxsKCk7XG4gICAgdGhpcy50YWJsZV9zdGF0cy5hZGRGZWF0dXJlKHRoaXMucHJlcGFyZVRhYmxlU3RhdCgpKTtcbiAgfVxuXG4gIHByZXBhcmVUYWJsZVN0YXQoKSB7XG4gICAgY29uc3QgdmFsdWVzID0gdGhpcy5kYXRhLm1hcChkID0+IGRbdGhpcy5yYXRpb190b191c2VdKTtcbiAgICByZXR1cm4ge1xuICAgICAgTWluOiBkMy5taW4odmFsdWVzKSxcbiAgICAgIE1heDogZDMubWF4KHZhbHVlcyksXG4gICAgICBNb3llbm5lOiBkMy5tZWFuKHZhbHVlcyksXG4gICAgICBpZDogdGhpcy5yYXRpb190b191c2UsXG4gICAgICBWYXJpYWJsZTogdGhpcy5yYXRpb190b191c2UsXG4gICAgICAnTWEgcsOpZ2lvbic6IHRoaXMucmVmX3ZhbHVlLFxuICAgIH07XG4gIH1cblxuICBtYWtlVGFibGVTdGF0KCkge1xuICAgIGNvbnN0IGZlYXR1cmUgPSB0aGlzLnByZXBhcmVUYWJsZVN0YXQoKTtcbiAgICB0aGlzLnRhYmxlX3N0YXRzID0gbmV3IFRhYmxlUmVzdW1lU3RhdChbZmVhdHVyZV0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBjb21wLCBtYXRoX3JvdW5kLCBtYXRoX2FicywgUmVjdCwgUHJvcFNpemVyLCBwcmVwYXJlVG9vbHRpcCwgc3ZnUGF0aFRvQ29vcmRzIH0gZnJvbSAnLi8uLi9oZWxwZXJzJztcbmltcG9ydCB7IGNvbG9yX2Rpc2FibGVkLCBjb2xvcl9jb3VudHJpZXMsIGNvbG9yX3N1cCwgY29sb3JfaW5mLCBjb2xvcl9oaWdobGlnaHQgfSBmcm9tICcuLy4uL29wdGlvbnMnO1xuaW1wb3J0IHsgY2FsY1BvcENvbXBsZXR1ZGVTdWJzZXQgfSBmcm9tICcuLy4uL3ByZXBhcmVfZGF0YSc7XG5pbXBvcnQgeyBzdmdfbWFwIH0gZnJvbSAnLi8uLi9tYXAnO1xuaW1wb3J0IHsgYXBwLCB2YXJpYWJsZXNfaW5mbywgcmVzZXRDb2xvcnMgfSBmcm9tICcuLy4uLy4uL21haW4nO1xuaW1wb3J0IFRhYmxlUmVzdW1lU3RhdCBmcm9tICcuLy4uL3RhYmxlUmVzdW1lU3RhdCc7XG5cbmNvbnN0IHN2Z19iYXIgPSBkMy5zZWxlY3QoJyNzdmdfYmFyJyk7XG5jb25zdCBtYXJnaW4gPSB7IHRvcDogMjAsIHJpZ2h0OiAyMCwgYm90dG9tOiA0MCwgbGVmdDogMzAgfTtcblxuY29uc3Qgd2lkdGggPSArc3ZnX2Jhci5hdHRyKCd3aWR0aCcpIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQsXG4gIGhlaWdodCA9ICtzdmdfYmFyLmF0dHIoJ2hlaWdodCcpIC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XG5cbmV4cG9ydCBjbGFzcyBCdWJibGVDaGFydDEge1xuICBjb25zdHJ1Y3RvcihyZWZfZGF0YSkge1xuICAgIGFwcC5jdXJyZW50X2NvbmZpZy5uYl92YXIgPSAxO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGF2YWlsYWJsZV9yYXRpb3MgPSBhcHAuY3VycmVudF9jb25maWcucmF0aW87XG4gICAgY29uc3QgYXZhaWxhYmxlX251bXMgPSBhcHAuY3VycmVudF9jb25maWcubnVtO1xuICAgIGNvbnN0IHJhdGlvX3RvX3VzZSA9IGF2YWlsYWJsZV9yYXRpb3NbMF07XG4gICAgY29uc3Qgc3RvY2tfdG9fdXNlID0gYXZhaWxhYmxlX251bXNbMF07XG4gICAgdGhpcy5yYXRpb190b191c2UgPSByYXRpb190b191c2U7XG4gICAgdGhpcy5zdG9ja190b191c2UgPSBzdG9ja190b191c2U7XG4gICAgdGhpcy5teV9yZWdpb25fdmFsdWUgPSByZWZfZGF0YS5maW5kKGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbilbcmF0aW9fdG9fdXNlXTtcbiAgICB0aGlzLmRhdGEgPSByZWZfZGF0YS5maWx0ZXIoZnQgPT4gISFmdFtyYXRpb190b191c2VdKS5zbGljZSgpO1xuICAgIHRoaXMuZGF0YVxuICAgICAgLmZvckVhY2goKGZ0KSA9PiB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICBmdC5kaXN0ID0gbWF0aF9hYnMoZnRbcmF0aW9fdG9fdXNlXSAtIHRoaXMubXlfcmVnaW9uX3ZhbHVlKTtcbiAgICAgIH0pO1xuICAgIHRoaXMuZGF0YS5zb3J0KChhLCBiKSA9PiBiLmRpc3QgLSBhLmRpc3QpO1xuICAgIHRoaXMuY3VycmVudF9pZHMgPSB0aGlzLmRhdGEubWFwKGQgPT4gZC5pZCk7XG4gICAgcmVzZXRDb2xvcnMoKTtcbiAgICB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24gPSBbXTtcbiAgICB0aGlzLnNlcmllX2ludmVyc2VkID0gZmFsc2U7XG4gICAgY29uc3QgZHJhd19ncm91cCA9IHN2Z19iYXJcbiAgICAgIC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHttYXJnaW4ubGVmdH0sICR7bWFyZ2luLnRvcH0pYCk7XG4gICAgZHJhd19ncm91cC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHsgY2xhc3M6ICdheGlzIGF4aXMtLXgnLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoMCwgJHtoZWlnaHQgLyAyfSlgIH0pO1xuICAgIHRoaXMuZHJhd19ncm91cCA9IGRyYXdfZ3JvdXA7XG5cbiAgICAvLyBQcmVwYXJlIHRoZSB0b29sdGlwIGRpc3BsYXllZCBvbiBtb3VzZW92ZXI6XG4gICAgcHJlcGFyZVRvb2x0aXAoc3ZnX2Jhcik7XG5cbiAgICAvLyBDb21wdXRlIHRoZSBcImNvbXBsw6l0dWRlXCIgdmFsdWUgZm9yIHRoaXMgcmF0aW86XG4gICAgdGhpcy5jb21wbGV0dWRlX3ZhbHVlID0gY2FsY1BvcENvbXBsZXR1ZGVTdWJzZXQoYXBwLCBbdGhpcy5yYXRpb190b191c2VdKTtcblxuICAgIC8vIENyZWF0ZSB0aGUgXCJjb21wbMOpdHVkZVwiIHRleHQ6XG4gICAgdGhpcy5jb21wbGV0dWRlID0gc3ZnX2Jhci5hcHBlbmQoJ3RleHQnKVxuICAgICAgLmF0dHJzKHsgaWQ6ICdjaGFydF9jb21wbGV0dWRlJywgeDogNjAsIHk6IDQwIH0pXG4gICAgICAuc3R5bGVzKHsgJ2ZvbnQtZmFtaWx5JzogJ1xcJ1NpZ25pa2FcXCcsIHNhbnMtc2VyaWYnIH0pXG4gICAgICAudGV4dChgQ29tcGzDqXR1ZGUgOiAke3RoaXMuY29tcGxldHVkZV92YWx1ZX0lYCk7XG5cbiAgICAvLyBDcmVhdGUgdGhlIGJ1dHRvbiBhbGxvd2luZyB0byBjaG9vc2UgaWYgdGhlIGNvbG9yIGFyZSBpbnZlcnNlZCAoZ3JlZW4vcmVkIGZvciBzdXBlcmlvci9pbmZlcmlvciByZWdpb25zKVxuICAgIHN2Z19iYXIuYXBwZW5kKCdpbWFnZScpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICB4OiB3aWR0aCArIG1hcmdpbi5sZWZ0ICsgNSxcbiAgICAgICAgeTogMjMyLjUsXG4gICAgICAgIHdpZHRoOiAxNSxcbiAgICAgICAgaGVpZ2h0OiAxNSxcbiAgICAgICAgJ3hsaW5rOmhyZWYnOiAnaW1nL3JldmVyc2VfcGx1cy5wbmcnLFxuICAgICAgICBpZDogJ2ltZ19yZXZlcnNlJyxcbiAgICAgIH0pXG4gICAgICAub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLnNlcmllX2ludmVyc2VkID0gIXRoaXMuc2VyaWVfaW52ZXJzZWQ7XG4gICAgICAgIHRoaXMuYXBwbHlTZWxlY3Rpb24odGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uLmxlbmd0aCk7XG4gICAgICB9KTtcblxuXG4gICAgLy8gQ3JlYXRlIHRoZSBzZWN0aW9uIGNvbnRhaW5pbmcgdGhlIGlucHV0IGVsZW1lbnQgYWxsb3dpbmcgdG8gY2hvc2VcbiAgICAvLyBob3cgbWFueSBcImNsb3NlXCIgcmVnaW9ucyB3ZSB3YW50IHRvIGhpZ2hsaWdodC5cbiAgICBjb25zdCBzZWxlY3Rpb25fY2xvc2UgPSBkMy5zZWxlY3Qoc3ZnX2Jhci5ub2RlKCkucGFyZW50RWxlbWVudClcbiAgICAgIC5hcHBlbmQoJ2RpdicpXG4gICAgICAuYXR0cignaWQnLCAnbWVudV9zZWxlY3Rpb24nKVxuICAgICAgLnN0eWxlcyh7IHRvcDogJy0xMDBweCcsICdtYXJnaW4tbGVmdCc6ICczMHB4JywgcG9zaXRpb246ICdyZWxhdGl2ZScgfSlcbiAgICAgIC5hcHBlbmQoJ3AnKTtcblxuICAgIHNlbGVjdGlvbl9jbG9zZS5hcHBlbmQoJ3NwYW4nKVxuICAgICAgLnByb3BlcnR5KCd2YWx1ZScsICdjbG9zZScpXG4gICAgICAuYXR0cnMoeyB2YWx1ZTogJ2Nsb3NlJywgY2xhc3M6ICd0eXBlX3NlbGVjdGlvbiBzcXVhcmUgY2hlY2tlZCcgfSk7XG4gICAgc2VsZWN0aW9uX2Nsb3NlLmFwcGVuZCgnc3BhbicpXG4gICAgICAuYXR0cnMoeyBjbGFzczogJ2xhYmVsX2NoaycgfSlcbiAgICAgIC5odG1sKCdMZXMnKTtcbiAgICBzZWxlY3Rpb25fY2xvc2UuYXBwZW5kKCdpbnB1dCcpXG4gICAgICAuYXR0cnMoeyBjbGFzczogJ25iX3NlbGVjdCcsIHR5cGU6ICdudW1iZXInIH0pXG4gICAgICAucHJvcGVydHkoJ3ZhbHVlJywgNSk7XG4gICAgc2VsZWN0aW9uX2Nsb3NlLmFwcGVuZCgnc3BhbicpXG4gICAgICAuYXR0cnMoeyBjbGFzczogJ2xhYmVsX2NoaycgfSlcbiAgICAgIC5odG1sKCdyw6lnaW9ucyBsZXMgcGx1cyBwcm9jaGVzJyk7XG5cbiAgICB0aGlzLmJpbmRNZW51KCk7XG5cbiAgICAvL1xuICAgIGNvbnN0IGhlYWRlcl9iYXJfc2VjdGlvbiA9IGQzLnNlbGVjdCgnI2hlYWRlcl9jaGFydCcpO1xuXG4gICAgdGhpcy5zZWxlY192YXIgPSBoZWFkZXJfYmFyX3NlY3Rpb25cbiAgICAgIC5pbnNlcnQoJ3NlbGVjdCcsICcjaW1nX3RhYmxlJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAndGl0bGVfdmFyaWFibGUnIH0pXG4gICAgICAuc3R5bGVzKHtcbiAgICAgICAgJ2ZvbnQtZmFtaWx5JzogJ1xcJ1NpZ25pa2FcXCcsIHNhbnMtc2VyaWYnLFxuICAgICAgICAnZm9udC13ZWlnaHQnOiAnODAwJyxcbiAgICAgICAgJ2ZvbnQtc2l6ZSc6ICcxNHB4JyxcbiAgICAgICAgJ21hcmdpbi10b3AnOiAnMTJweCcsXG4gICAgICAgICdtYXJnaW4tbGVmdCc6ICc0MHB4JyxcbiAgICAgICAgZmxvYXQ6ICdsZWZ0JyxcbiAgICAgIH0pO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gYXZhaWxhYmxlX3JhdGlvcy5sZW5ndGg7IGkgPCBsZW5faTsgaSsrKSB7XG4gICAgICB0aGlzLnNlbGVjX3Zhci5hcHBlbmQoJ29wdGlvbicpXG4gICAgICAgIC5hdHRyKCd2YWx1ZScsIGF2YWlsYWJsZV9yYXRpb3NbaV0pXG4gICAgICAgIC50ZXh0KGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpb19wcmV0dHlfbmFtZVtpXSk7XG4gICAgfVxuXG4gICAgdGhpcy5zZWxlY192YXIub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IGNvZGVfdmFyaWFibGUgPSB0aGlzLnZhbHVlO1xuICAgICAgc2VsZi5jaGFuZ2VWYXJpYWJsZShjb2RlX3ZhcmlhYmxlKTtcbiAgICAgIHNlbGYuY2hhbmdlU3R1ZHlab25lKCk7XG4gICAgICBzZWxmLnVwZGF0ZUNvbXBsZXR1ZGUoKTtcbiAgICB9KTtcblxuICAgIC8vIC8vIERlYWN0aXZhdGUgdGhlIHJlY3QgYnJ1c2ggc2VsZWN0aW9uIG9uIHRoZSBtYXBcbiAgICAvLyAvLyB3aGlsZSB0aGUgdXNlciBwcmVzcyB0aGUgQ3RybCBrZXk6XG4gICAgLy8gZG9jdW1lbnQub25rZXlkb3duID0gKGV2ZW50KSA9PiB7XG4gICAgLy8gICBpZiAoZXZlbnQgJiYgZXZlbnQua2V5ID09PSAnQ29udHJvbCcpIHtcbiAgICAvLyAgICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKVxuICAgIC8vICAgICAgIC5zZWxlY3RBbGwoJy5zZWxlY3Rpb24sIC5vdmVybGF5JylcbiAgICAvLyAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgIC8vICAgfVxuICAgIC8vIH07XG4gICAgLy8gLy8gUmVhY3RpdmF0ZSB0aGUgcmVjdCBicnVzaCBzZWxlY3Rpb24gb24gdGhlIG1hcFxuICAgIC8vIC8vIHdoZW4gdGhlIHVzZXIgZG9lc24ndCBwcmVzcyB0aGUgQ3RybCBrZXkgYW55bW9yZVxuICAgIC8vIGRvY3VtZW50Lm9ua2V5dXAgPSAoZXZlbnQpID0+IHtcbiAgICAvLyAgIGlmIChldmVudCAmJiBldmVudC5rZXkgPT09ICdDb250cm9sJykge1xuICAgIC8vICAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpXG4gICAgLy8gICAgICAgLnNlbGVjdEFsbCgnLnNlbGVjdGlvbiwgLm92ZXJsYXknKVxuICAgIC8vICAgICAgIC5zdHlsZSgnZGlzcGxheScsIG51bGwpO1xuICAgIC8vICAgfVxuICAgIC8vIH07XG5cbiAgICB0aGlzLm1ha2VUYWJsZVN0YXQoKTtcbiAgfVxuXG4gIGFwcGx5U2VsZWN0aW9uKG5iKSB7XG4gICAgYXBwLmNvbG9ycyA9IHt9O1xuICAgIGlmIChuYiA+IDApIHtcbiAgICAgIGNvbnN0IHJhdGlvX3RvX3VzZSA9IHRoaXMucmF0aW9fdG9fdXNlO1xuXG4gICAgICB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24gPSB0aGlzLmRhdGEubWFwKGQgPT4gKHtcbiAgICAgICAgZGlzdDogZC5kaXN0LFxuICAgICAgICByYXRpbzogZFtyYXRpb190b191c2VdLFxuICAgICAgICBpZDogZC5pZCxcbiAgICAgIH0pKTtcblxuICAgICAgdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uLnNvcnQoKGEsIGIpID0+IGEuZGlzdCAtIGIuZGlzdCk7XG4gICAgICB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24gPSB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24uc2xpY2UoMSwgbmIgKyAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uID0gW107XG4gICAgfVxuICAgIHRoaXMudXBkYXRlKCk7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGRhdGEgPSBzZWxmLmRhdGE7XG4gICAgY29uc3QgaGlnaGxpZ2h0X3NlbGVjdGlvbiA9IHNlbGYuaGlnaGxpZ2h0X3NlbGVjdGlvbjtcbiAgICBjb25zdCBteV9yZWdpb25fdmFsdWUgPSBzZWxmLm15X3JlZ2lvbl92YWx1ZTtcbiAgICBjb25zdCByYXRpb190b191c2UgPSBzZWxmLnJhdGlvX3RvX3VzZTtcbiAgICBjb25zdCBzdG9ja190b191c2UgPSBzZWxmLnN0b2NrX3RvX3VzZTtcblxuICAgIGxldCBfbWluO1xuICAgIGxldCBfbWF4O1xuICAgIGlmIChoaWdobGlnaHRfc2VsZWN0aW9uLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGRpc3RfbWluID0gbWF0aF9hYnMobXlfcmVnaW9uX3ZhbHVlIC0gZDMubWluKGhpZ2hsaWdodF9zZWxlY3Rpb24sIGQgPT4gZC5yYXRpbykpO1xuICAgICAgY29uc3QgZGlzdF9tYXggPSBtYXRoX2FicyhkMy5tYXgoaGlnaGxpZ2h0X3NlbGVjdGlvbiwgZCA9PiBkLnJhdGlvKSAtIG15X3JlZ2lvbl92YWx1ZSk7XG4gICAgICBjb25zdCBkaXN0X2F4aXMgPSBNYXRoLm1heChkaXN0X21pbiwgZGlzdF9tYXgpO1xuICAgICAgY29uc3QgbWFyZ2luX21pbl9tYXggPSBtYXRoX3JvdW5kKGRpc3RfYXhpcykgLyA4O1xuICAgICAgX21pbiA9IG15X3JlZ2lvbl92YWx1ZSAtIGRpc3RfYXhpcyAtIG1hcmdpbl9taW5fbWF4O1xuICAgICAgX21heCA9IG15X3JlZ2lvbl92YWx1ZSArIGRpc3RfYXhpcyArIG1hcmdpbl9taW5fbWF4O1xuICAgICAgaWYgKF9taW4gPiBfbWF4KSB7IGNvbnNvbGUubG9nKCdhJyk7IFtfbWluLCBfbWF4XSA9IFtfbWF4LCBfbWluXTsgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBkaXN0X21pbiA9IG1hdGhfYWJzKG15X3JlZ2lvbl92YWx1ZSAtIGQzLm1pbihkYXRhLCBkID0+IGRbcmF0aW9fdG9fdXNlXSkpO1xuICAgICAgY29uc3QgZGlzdF9tYXggPSBtYXRoX2FicyhkMy5tYXgoZGF0YSwgZCA9PiBkW3JhdGlvX3RvX3VzZV0pIC0gbXlfcmVnaW9uX3ZhbHVlKTtcbiAgICAgIGNvbnN0IGRpc3RfYXhpcyA9IE1hdGgubWF4KGRpc3RfbWluLCBkaXN0X21heCk7XG4gICAgICBjb25zdCBtYXJnaW5fbWluX21heCA9IG1hdGhfcm91bmQoZGlzdF9heGlzKSAvIDg7XG4gICAgICBfbWluID0gbXlfcmVnaW9uX3ZhbHVlIC0gZGlzdF9heGlzIC0gbWFyZ2luX21pbl9tYXg7XG4gICAgICBfbWF4ID0gbXlfcmVnaW9uX3ZhbHVlICsgZGlzdF9heGlzICsgbWFyZ2luX21pbl9tYXg7XG4gICAgfVxuXG4gICAgdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgIGFwcC5jb2xvcnNbZWxlbS5pZF0gPSBjb21wKGVsZW0ucmF0aW8sIG15X3JlZ2lvbl92YWx1ZSwgdGhpcy5zZXJpZV9pbnZlcnNlZCk7XG4gICAgfSk7XG5cbiAgICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgIGNvbnN0IHByb3Bfc2l6ZXIgPSBuZXcgUHJvcFNpemVyKGQzLm1heChkYXRhLCBkID0+IGRbc3RvY2tfdG9fdXNlXSksIDMwKTtcbiAgICBjb25zdCB4U2NhbGUgPSBkMy5zY2FsZUxpbmVhcigpXG4gICAgICAuZG9tYWluKFtfbWluLCBfbWF4XSlcbiAgICAgIC5yYW5nZShbMCwgd2lkdGhdKTtcblxuICAgIHRoaXMuZHJhd19ncm91cC5zZWxlY3QoJ2cuYXhpcy0teCcpXG4gICAgICAudHJhbnNpdGlvbigpXG4gICAgICAuZHVyYXRpb24oMjI1KVxuICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh4U2NhbGUpKTtcblxuICAgIGNvbnN0IGJ1YmJsZXMgPSB0aGlzLmRyYXdfZ3JvdXAuc2VsZWN0QWxsKCcuYnViYmxlJylcbiAgICAgIC5kYXRhKGRhdGEsIGQgPT4gZC5pZCk7XG5cbiAgICBidWJibGVzXG4gICAgICAudHJhbnNpdGlvbigpXG4gICAgICAuZHVyYXRpb24oMjI1KVxuICAgICAgLmF0dHJzKChkKSA9PiB7XG4gICAgICAgIGxldCB4X3ZhbHVlID0geFNjYWxlKGRbcmF0aW9fdG9fdXNlXSk7XG4gICAgICAgIGlmICh4X3ZhbHVlID4gd2lkdGgpIHhfdmFsdWUgPSB3aWR0aCArIDIwMDtcbiAgICAgICAgZWxzZSBpZiAoeF92YWx1ZSA8IDApIHhfdmFsdWUgPSAtMjAwO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGN4OiB4X3ZhbHVlLFxuICAgICAgICAgIGN5OiBoZWlnaHQgLyAyLFxuICAgICAgICAgIHI6IHByb3Bfc2l6ZXIuc2NhbGUoZFtzdG9ja190b191c2VdKSxcbiAgICAgICAgfTtcbiAgICAgIH0pXG4gICAgICAuc3R5bGVzKGQgPT4gKHtcbiAgICAgICAgZmlsbDogYXBwLmNvbG9yc1tkLmlkXSB8fCBjb2xvcl9jb3VudHJpZXMsXG4gICAgICAgICdmaWxsLW9wYWNpdHknOiAwLjcsXG4gICAgICB9KSk7XG5cbiAgICBidWJibGVzXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmluc2VydCgnY2lyY2xlJylcbiAgICAgIC5zdHlsZXMoZCA9PiAoe1xuICAgICAgICBmaWxsOiBhcHAuY29sb3JzW2QuaWRdIHx8IGNvbG9yX2NvdW50cmllcyxcbiAgICAgICAgJ2ZpbGwtb3BhY2l0eSc6IDAuNyxcbiAgICAgIH0pKVxuICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgLmR1cmF0aW9uKDIyNSlcbiAgICAgIC5hdHRycygoZCkgPT4ge1xuICAgICAgICBsZXQgeF92YWx1ZSA9IHhTY2FsZShkW3JhdGlvX3RvX3VzZV0pO1xuICAgICAgICBpZiAoeF92YWx1ZSA+IHdpZHRoKSB4X3ZhbHVlID0gd2lkdGggKyAyMDA7XG4gICAgICAgIGVsc2UgaWYgKHhfdmFsdWUgPCAwKSB4X3ZhbHVlID0gLTIwMDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBjbGFzczogJ2J1YmJsZScsXG4gICAgICAgICAgY3g6IHhfdmFsdWUsXG4gICAgICAgICAgY3k6IGhlaWdodCAvIDIsXG4gICAgICAgICAgcjogcHJvcF9zaXplci5zY2FsZShkW3N0b2NrX3RvX3VzZV0pLFxuICAgICAgICB9O1xuICAgICAgfSk7XG5cbiAgICBidWJibGVzLmV4aXQoKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oMjI1KS5yZW1vdmUoKTtcblxuICAgIHRoaXMuZHJhd19ncm91cC5zZWxlY3RBbGwoJy5idWJibGUnKVxuICAgICAgLm9uKCdtb3VzZW92ZXInLCAoKSA9PiB7XG4gICAgICAgIHN2Z19iYXIuc2VsZWN0KCcudG9vbHRpcCcpLnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZW91dCcsICgpID0+IHtcbiAgICAgICAgc3ZnX2Jhci5zZWxlY3QoJy50b29sdGlwJykuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgfSlcbiAgICAgIC5vbignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgY29uc3QgdG9vbHRpcCA9IHN2Z19iYXIuc2VsZWN0KCcudG9vbHRpcCcpO1xuICAgICAgICBjb25zdCBfcmF0aW9fdG9fdXNlID0gc2VsZi5yYXRpb190b191c2U7XG4gICAgICAgIGNvbnN0IF9zdG9ja190b191c2UgPSBzZWxmLnN0b2NrX3RvX3VzZTtcbiAgICAgICAgdG9vbHRpcFxuICAgICAgICAgIC5zZWxlY3QoJ3RleHQuaWRfZmVhdHVyZScpXG4gICAgICAgICAgLnRleHQoYCR7ZC5pZH1gKTtcbiAgICAgICAgdG9vbHRpcC5zZWxlY3QoJ3RleHQudmFsdWVfZmVhdHVyZTEnKVxuICAgICAgICAgIC50ZXh0KGBSYXRpbzogJHtNYXRoLnJvdW5kKGRbX3JhdGlvX3RvX3VzZV0gKiAxMCkgLyAxMH1gKTtcbiAgICAgICAgdG9vbHRpcC5zZWxlY3QoJ3RleHQudmFsdWVfZmVhdHVyZTInKVxuICAgICAgICAgIC50ZXh0KGBTdG9jazogJHtNYXRoLnJvdW5kKGRbX3N0b2NrX3RvX3VzZV0gKiAxMCkgLyAxMH1gKTtcbiAgICAgICAgdG9vbHRpcFxuICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7W2QzLm1vdXNlKHRoaXMpWzBdIC0gNSwgZDMubW91c2UodGhpcylbMV0gLSA0NV19KWApO1xuICAgICAgfSk7XG4gIH1cbiAgdXBkYXRlQ29tcGxldHVkZSgpIHtcbiAgICB0aGlzLmNvbXBsZXR1ZGVfdmFsdWUgPSBjYWxjUG9wQ29tcGxldHVkZVN1YnNldChhcHAsIFt0aGlzLnJhdGlvX3RvX3VzZV0pO1xuXG4gICAgdGhpcy5jb21wbGV0dWRlXG4gICAgICAudGV4dChgQ29tcGzDqXR1ZGUgOiAke3RoaXMuY29tcGxldHVkZV92YWx1ZX0lYCk7XG4gIH1cblxuICB1cGRhdGVNYXBSZWdpbygpIHtcbiAgICBpZiAoIXRoaXMubWFwX2VsZW0pIHJldHVybjtcbiAgICB0aGlzLm1hcF9lbGVtLnRhcmdldF9sYXllci5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCBkID0+ICh0aGlzLmN1cnJlbnRfaWRzLmluZGV4T2YoZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXSkgPiAtMVxuICAgICAgICA/IChhcHAuY29sb3JzW2QucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV1dIHx8IGNvbG9yX2NvdW50cmllcylcbiAgICAgICAgOiBjb2xvcl9kaXNhYmxlZCkpO1xuICB9XG5cbiAgLy8gaGFuZGxlX2JydXNoX21hcChldmVudCkge1xuICAvLyAgIGlmICghZXZlbnQgfHwgIWV2ZW50LnNlbGVjdGlvbikge1xuICAvLyAgICAgdGhpcy5sYXN0X21hcF9zZWxlY3Rpb24gPSB1bmRlZmluZWQ7XG4gIC8vICAgICByZXR1cm47XG4gIC8vICAgfVxuICAvLyAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAvLyAgIGNvbnN0IFt0b3BsZWZ0LCBib3R0b21yaWdodF0gPSBldmVudC5zZWxlY3Rpb247XG4gIC8vICAgdGhpcy5sYXN0X21hcF9zZWxlY3Rpb24gPSBbdG9wbGVmdCwgYm90dG9tcmlnaHRdO1xuICAvLyAgIGNvbnN0IHJlY3QgPSBuZXcgUmVjdCh0b3BsZWZ0LCBib3R0b21yaWdodCk7XG4gIC8vICAgY29uc3QgcmF0aW9fdG9fdXNlID0gdGhpcy5yYXRpb190b191c2U7XG4gIC8vICAgYXBwLmNvbG9ycyA9IHt9O1xuICAvLyAgIHNlbGYuaGlnaGxpZ2h0X3NlbGVjdGlvbiA9IFtdO1xuICAvLyAgIHNlbGYubWFwX2VsZW0udGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpXG4gIC8vICAgICAuYXR0cignZmlsbCcsIGZ1bmN0aW9uIChkKSB7XG4gIC8vICAgICAgIGNvbnN0IGlkID0gZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXTtcbiAgLy8gICAgICAgaWYgKGlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKSB7XG4gIC8vICAgICAgICAgYXBwLmNvbG9yc1tpZF0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gIC8vICAgICAgICAgcmV0dXJuIGNvbG9yX2hpZ2hsaWdodDtcbiAgLy8gICAgICAgfSBlbHNlIGlmIChzZWxmLmN1cnJlbnRfaWRzLmluZGV4T2YoaWQpIDwgMCkge1xuICAvLyAgICAgICAgIHJldHVybiBjb2xvcl9kaXNhYmxlZDtcbiAgLy8gICAgICAgfVxuICAvLyAgICAgICBpZiAoIXRoaXMuX3B0cykge1xuICAvLyAgICAgICAgIHRoaXMuX3B0cyA9IHN2Z1BhdGhUb0Nvb3Jkcyh0aGlzLmdldEF0dHJpYnV0ZSgnZCcpLCBhcHAudHlwZV9wYXRoKTtcbiAgLy8gICAgICAgfVxuICAvLyAgICAgICBjb25zdCBwdHMgPSB0aGlzLl9wdHM7XG4gIC8vICAgICAgIGZvciAobGV0IGl4ID0gMCwgbmJfcHRzID0gcHRzLmxlbmd0aDsgaXggPCBuYl9wdHM7IGl4KyspIHtcbiAgLy8gICAgICAgICBpZiAocmVjdC5jb250YWlucyhwdHNbaXhdKSkge1xuICAvLyAgICAgICAgICAgY29uc3QgdmFsdWUgPSBkLnByb3BlcnRpZXNbcmF0aW9fdG9fdXNlXTtcbiAgLy8gICAgICAgICAgIGNvbnN0IGNvbG9yID0gY29tcCh2YWx1ZSwgc2VsZi5teV9yZWdpb25fdmFsdWUsIHRoaXMuc2VyaWVfaW52ZXJzZWQpO1xuICAvLyAgICAgICAgICAgYXBwLmNvbG9yc1tpZF0gPSBjb2xvcjtcbiAgLy8gICAgICAgICAgIHNlbGYuaGlnaGxpZ2h0X3NlbGVjdGlvbi5wdXNoKHtcbiAgLy8gICAgICAgICAgICAgaWQsXG4gIC8vICAgICAgICAgICAgIHJhdGlvOiB2YWx1ZSxcbiAgLy8gICAgICAgICAgICAgZGlzdDogbWF0aF9hYnModmFsdWUgLSBzZWxmLm15X3JlZ2lvbl92YWx1ZSksXG4gIC8vICAgICAgICAgICB9KTtcbiAgLy8gICAgICAgICAgIHJldHVybiBjb2xvcjtcbiAgLy8gICAgICAgICB9XG4gIC8vICAgICAgIH1cbiAgLy8gICAgICAgcmV0dXJuIGNvbG9yX2NvdW50cmllcztcbiAgLy8gICAgIH0pO1xuICAvLyAgIHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbi5zb3J0KChhLCBiKSA9PiBhLmRpc3QgLSBiLmRpc3QpO1xuICAvLyAgIHNlbGYudXBkYXRlKCk7XG4gIC8vIH1cblxuICBoYW5kbGVDbGlja01hcChkLCBwYXJlbnQpIHtcbiAgICBjb25zdCBpZCA9IGQucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV07XG4gICAgaWYgKHRoaXMuY3VycmVudF9pZHMuaW5kZXhPZihpZCkgPCAwIHx8IGlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKSByZXR1cm47XG4gICAgaWYgKGFwcC5jb2xvcnNbaWRdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIFJlbW92ZSB0aGUgY2xpY2tlZCBmZWF0dXJlIGZyb20gdGhlIGNvbG9yZWQgc2VsZWN0aW9uIG9uIHRoZSBjaGFydDpcbiAgICAgIGNvbnN0IGlkX3RvX3JlbW92ZSA9IHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvblxuICAgICAgICAubWFwKChmdCwgaSkgPT4gKGZ0LmlkID09PSBpZCA/IGkgOiBudWxsKSkuZmlsdGVyKGZ0ID0+IGZ0KVswXTtcbiAgICAgIHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbi5zcGxpY2UoaWRfdG9fcmVtb3ZlLCAxKTtcbiAgICAgIC8vIENoYW5nZSBpdHMgY29sb3IgaW4gdGhlIGdsb2JhbCBjb2xvcnMgb2JqZWN0OlxuICAgICAgYXBwLmNvbG9yc1tpZF0gPSB1bmRlZmluZWQ7XG4gICAgICAvLyBDaGFuZ2UgdGhlIGNvbG9yIG9uIHRoZSBtYXA6XG4gICAgICBkMy5zZWxlY3QocGFyZW50KS5hdHRyKCdmaWxsJywgY29sb3JfY291bnRyaWVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdmFsdWUgPSBkLnByb3BlcnRpZXNbdGhpcy5yYXRpb190b191c2VdO1xuICAgICAgY29uc3QgY29sb3IgPSBjb21wKHZhbHVlLCB0aGlzLm15X3JlZ2lvbl92YWx1ZSwgdGhpcy5zZXJpZV9pbnZlcnNlZCk7XG4gICAgICAvLyBhcHAuY29sb3JzW2lkXSA9IGNvbG9yO1xuICAgICAgLy8gQ2hhbmdlIHRoZSBjb2xvciBvbiB0aGUgbWFwOlxuICAgICAgZDMuc2VsZWN0KHBhcmVudCkuYXR0cignZmlsbCcsIGNvbG9yKTtcbiAgICAgIC8vIEFkZCB0aGUgY2xpY2tlZCBmZWF0dXJlIG9uIHRoZSBjb2xvcmVkIHNlbGVjdGlvbiBvbiB0aGUgY2hhcnQ6XG4gICAgICB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24ucHVzaCh7XG4gICAgICAgIGlkLFxuICAgICAgICByYXRpbzogdmFsdWUsXG4gICAgICAgIGRpc3Q6IG1hdGhfYWJzKHZhbHVlIC0gdGhpcy5teV9yZWdpb25fdmFsdWUpLFxuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbi5zb3J0KChhLCBiKSA9PiBhLmRpc3QgLSBiLmRpc3QpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cblxuICB1cGRhdGVDaGFuZ2VSZWdpb24oKSB7XG4gICAgaWYgKGFwcC5jdXJyZW50X2NvbmZpZy5maWx0ZXJfa2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuY2hhbmdlU3R1ZHlab25lKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gICAgICB0aGlzLm1hcF9lbGVtLnVwZGF0ZUxlZ2VuZCgpO1xuICAgICAgdGhpcy5teV9yZWdpb25fdmFsdWUgPSB0aGlzLmRhdGEuZmlsdGVyKFxuICAgICAgICBkID0+IGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pWzBdW3RoaXMucmF0aW9fdG9fdXNlXTtcbiAgICAgIHRoaXMudXBkYXRlVGFibGVTdGF0cygpO1xuICAgICAgdGhpcy5hcHBseVNlbGVjdGlvbih0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24ubGVuZ3RoKTtcbiAgICB9XG4gIH1cblxuICBjaGFuZ2VTdHVkeVpvbmUoKSB7XG4gICAgdGhpcy5tYXBfZWxlbS5yZW1vdmVSZWN0QnJ1c2goKTtcbiAgICB0aGlzLm1hcF9lbGVtLnVwZGF0ZUxlZ2VuZCgpO1xuICAgIHRoaXMuZGF0YSA9IGFwcC5jdXJyZW50X2RhdGEuZmlsdGVyKGZ0ID0+ICEhZnRbdGhpcy5yYXRpb190b191c2VdKS5zbGljZSgpO1xuICAgIHRoaXMuZGF0YVxuICAgICAgLmZvckVhY2goKGZ0KSA9PiB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICBmdC5kaXN0ID0gbWF0aF9hYnMoZnRbdGhpcy5yYXRpb190b191c2VdIC0gdGhpcy5teV9yZWdpb25fdmFsdWUpO1xuICAgICAgfSk7XG4gICAgdGhpcy5kYXRhLnNvcnQoKGEsIGIpID0+IGIuZGlzdCAtIGEuZGlzdCk7XG4gICAgdGhpcy5jdXJyZW50X2lkcyA9IHRoaXMuZGF0YS5tYXAoZCA9PiBkLmlkKTtcbiAgICB0aGlzLm15X3JlZ2lvbl92YWx1ZSA9IHRoaXMuZGF0YS5maWx0ZXIoXG4gICAgICBkID0+IGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pWzBdW3RoaXMucmF0aW9fdG9fdXNlXTtcbiAgICBjb25zdCB0ZW1wID0gdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uLmxlbmd0aDtcbiAgICB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24gPSBbXTtcbiAgICB0aGlzLmFwcGx5U2VsZWN0aW9uKHRlbXApO1xuICB9XG5cbiAgY2hhbmdlVmFyaWFibGUoY29kZV92YXJpYWJsZSkge1xuICAgIHRoaXMucmF0aW9fdG9fdXNlID0gY29kZV92YXJpYWJsZTtcbiAgICB0aGlzLnN0b2NrX3RvX3VzZSA9IHZhcmlhYmxlc19pbmZvLmZpbHRlcihkID0+IGQucmF0aW8gPT09IGNvZGVfdmFyaWFibGUpWzBdLm51bTtcbiAgfVxuXG5cbiAgYWRkVmFyaWFibGUoY29kZV92YXJpYWJsZSwgbmFtZV92YXJpYWJsZSkge1xuICAgIC8vIEFkZCB0aGUgdmFyaWFibGUgdG8gdGhlIGlucHV0IGVsZW1lbnQgYWxsb3dpbmcgdG8gY2hvb3NlIHZhcmlhYmxlczpcbiAgICB0aGlzLnNlbGVjX3Zhci5hcHBlbmQoJ29wdGlvbicpXG4gICAgICAuYXR0cigndmFsdWUnLCBjb2RlX3ZhcmlhYmxlKVxuICAgICAgLnRleHQobmFtZV92YXJpYWJsZSk7XG5cbiAgICAvLyBBbmQgdXNlIGl0IGltbWVkaWF0bHk6XG4gICAgdGhpcy5zZWxlY192YXIubm9kZSgpLnZhbHVlID0gY29kZV92YXJpYWJsZTtcbiAgICB0aGlzLnNlbGVjX3Zhci5kaXNwYXRjaCgnY2hhbmdlJyk7XG4gIH1cblxuICByZW1vdmVWYXJpYWJsZShjb2RlX3ZhcmlhYmxlKSB7XG4gICAgLy8gQWRkIHRoZSB2YXJpYWJsZSB0byB0aGUgaW5wdXQgZWxlbWVudCBhbGxvd2luZyB0byBjaG9vc2UgdmFyaWFibGVzOlxuICAgIHRoaXMuc2VsZWNfdmFyLnNlbGVjdChgb3B0aW9uW3ZhbHVlPSR7Y29kZV92YXJpYWJsZX1dYCkucmVtb3ZlKCk7XG4gICAgaWYgKHRoaXMucmF0aW9fdG9fdXNlID09PSBjb2RlX3ZhcmlhYmxlKSB7XG4gICAgICB0aGlzLnNlbGVjX3Zhci5ub2RlKCkudmFsdWUgPSB0aGlzLnNlbGVjX3Zhci5zZWxlY3QoJ29wdGlvbicpLm5vZGUoKS52YWx1ZTtcbiAgICAgIHRoaXMuc2VsZWNfdmFyLmRpc3BhdGNoKCdjaGFuZ2UnKTtcbiAgICB9XG4gIH1cblxuICBiaW5kTWVudSgpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBtZW51ID0gZDMuc2VsZWN0KCcjbWVudV9zZWxlY3Rpb24nKTtcbiAgICBjb25zdCBhcHBseWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIHNlbGYubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gICAgICBsZXQgdmFsdWUgPSArdGhpcy52YWx1ZTtcbiAgICAgIGlmICghKHZhbHVlID4gLTEpKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSA1O1xuICAgICAgICB2YWx1ZSA9IDU7XG4gICAgICB9XG4gICAgICBzZWxmLmFwcGx5U2VsZWN0aW9uKHZhbHVlKTtcbiAgICB9O1xuICAgIG1lbnUuc2VsZWN0KCcubmJfc2VsZWN0JylcbiAgICAgIC5vbignY2hhbmdlJywgYXBwbHljaGFuZ2UpO1xuICAgIG1lbnUuc2VsZWN0KCcubmJfc2VsZWN0JylcbiAgICAgIC5vbignd2hlZWwnLCBhcHBseWNoYW5nZSk7XG4gICAgbWVudS5zZWxlY3QoJy5uYl9zZWxlY3QnKVxuICAgICAgLm9uKCdrZXl1cCcsIGFwcGx5Y2hhbmdlKTtcbiAgfVxuXG4gIHJlbW92ZSgpIHtcbiAgICB0aGlzLm1hcF9lbGVtLnVuYmluZEJydXNoKCk7XG4gICAgdGhpcy5tYXBfZWxlbSA9IG51bGw7XG4gICAgdGhpcy50YWJsZV9zdGF0cy5yZW1vdmUoKTtcbiAgICB0aGlzLnRhYmxlX3N0YXRzID0gbnVsbDtcbiAgICB0aGlzLnNlbGVjX3Zhci5yZW1vdmUoKTtcbiAgICBzdmdfYmFyLmh0bWwoJycpO1xuICB9XG5cbiAgYmluZE1hcChtYXBfZWxlbSkge1xuICAgIHRoaXMubWFwX2VsZW0gPSBtYXBfZWxlbTtcbiAgICB0aGlzLm1hcF9lbGVtLnJlc2V0Q29sb3JzKHRoaXMuY3VycmVudF9pZHMpO1xuICAgIGQzLnNlbGVjdCgnI21lbnVfc2VsZWN0aW9uJykuc2VsZWN0KCcubmJfc2VsZWN0JykuZGlzcGF0Y2goJ2NoYW5nZScpO1xuICB9XG5cbiAgdXBkYXRlVGFibGVTdGF0cygpIHtcbiAgICB0aGlzLnRhYmxlX3N0YXRzLnJlbW92ZUFsbCgpO1xuICAgIHRoaXMudGFibGVfc3RhdHMuYWRkRmVhdHVyZSh0aGlzLnByZXBhcmVUYWJsZVN0YXQoKSk7XG4gIH1cblxuICBwcmVwYXJlVGFibGVTdGF0KCkge1xuICAgIGNvbnN0IHZhbHVlcyA9IHRoaXMuZGF0YS5tYXAoZCA9PiBkW3RoaXMucmF0aW9fdG9fdXNlXSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIE1pbjogZDMubWluKHZhbHVlcyksXG4gICAgICBNYXg6IGQzLm1heCh2YWx1ZXMpLFxuICAgICAgTW95ZW5uZTogZDMubWVhbih2YWx1ZXMpLFxuICAgICAgaWQ6IHRoaXMucmF0aW9fdG9fdXNlLFxuICAgICAgVmFyaWFibGU6IHRoaXMucmF0aW9fdG9fdXNlLFxuICAgICAgJ01hIHLDqWdpb24nOiB0aGlzLm15X3JlZ2lvbl92YWx1ZSxcbiAgICB9O1xuICB9XG5cbiAgbWFrZVRhYmxlU3RhdCgpIHtcbiAgICBjb25zdCBmZWF0dXJlID0gdGhpcy5wcmVwYXJlVGFibGVTdGF0KCk7XG4gICAgdGhpcy50YWJsZV9zdGF0cyA9IG5ldyBUYWJsZVJlc3VtZVN0YXQoW2ZlYXR1cmVdKTtcbiAgfVxuXG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBjb250ZXh0TWVudSB7XG4gIGNvbnN0cnVjdG9yKGl0ZW1zKSB7XG4gICAgaWYgKGl0ZW1zKSB7XG4gICAgICB0aGlzLnNldEl0ZW1zKGl0ZW1zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pdGVtcyA9IFtdO1xuICAgIH1cbiAgfVxuXG4gIGFkZEl0ZW0oaXRlbSkge1xuICAgIHRoaXMuaXRlbXMucHVzaCh7XG4gICAgICBuYW1lOiBpdGVtLm5hbWUsXG4gICAgICBhY3Rpb246IGl0ZW0uYWN0aW9uLFxuICAgIH0pO1xuICB9XG5cbiAgcmVtb3ZlSXRlbShuYW1lKSB7XG4gICAgZm9yIChsZXQgaSA9IHRoaXMuaXRlbXMubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkge1xuICAgICAgaWYgKHRoaXMuaXRlbXNbaV0ubmFtZSA9PT0gbmFtZSkge1xuICAgICAgICB0aGlzLml0ZW1zLnNwbGljZShpLCAxKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc2V0SXRlbXMoaXRlbXMpIHtcbiAgICB0aGlzLml0ZW1zID0gW107XG4gICAgZm9yIChsZXQgaSA9IDAsIG5iX2l0ZW1zID0gaXRlbXMubGVuZ3RoOyBpIDwgbmJfaXRlbXM7IGkrKykge1xuICAgICAgaWYgKGl0ZW1zW2ldLm5hbWUgJiYgaXRlbXNbaV0uYWN0aW9uKSB7XG4gICAgICAgIHRoaXMuYWRkSXRlbShpdGVtc1tpXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc2hvd01lbnUoZXZlbnQsIHBhcmVudCwgaXRlbXMsIHBvc2l0aW9uKSB7XG4gICAgaWYgKGV2ZW50LnByZXZlbnREZWZhdWx0KSBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmIChldmVudC5zdG9wUHJvcGFnYXRpb24pIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGlmICh0aGlzLkRPTW9iaikge1xuICAgICAgdGhpcy5oaWRlTWVudSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXRlbXMpIHtcbiAgICAgIHRoaXMuc2V0SXRlbXMoaXRlbXMpO1xuICAgIH1cblxuICAgIHRoaXMuaW5pdE1lbnUocGFyZW50KTtcbiAgICBpZiAoIXBvc2l0aW9uKSB7XG4gICAgICB0aGlzLkRPTW9iai5zdHlsZS50b3AgPSBgJHtldmVudC5jbGllbnRZICsgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3B9cHhgO1xuICAgICAgdGhpcy5ET01vYmouc3R5bGUubGVmdCA9IGAke2V2ZW50LmNsaWVudFh9cHhgO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLkRPTW9iai5zdHlsZS50b3AgPSBgJHtwb3NpdGlvblsxXX1weGA7XG4gICAgICB0aGlzLkRPTW9iai5zdHlsZS5sZWZ0ID0gYCR7cG9zaXRpb25bMF19cHhgO1xuICAgIH1cbiAgICB0aGlzLmRpc3BsYXllZCA9IHRydWU7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuaGlkZU1lbnUoKSk7XG4gICAgfSwgMTUwKTtcbiAgfVxuXG4gIGhpZGVNZW51KCkge1xuICAgIGlmICh0aGlzLkRPTW9iaiAmJiB0aGlzLkRPTW9iai5wYXJlbnRFbGVtZW50ICYmIHRoaXMuRE9Nb2JqLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQpIHtcbiAgICAgIHRoaXMuRE9Nb2JqLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5ET01vYmopO1xuICAgICAgdGhpcy5ET01vYmogPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLmRpc3BsYXllZCA9IGZhbHNlO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oaWRlTWVudSk7XG4gIH1cblxuICBpbml0TWVudShwYXJlbnQpIHtcbiAgICBpZiAodGhpcy5ET01vYmogJiYgdGhpcy5ET01vYmoucGFyZW50RWxlbWVudCAmJiB0aGlzLkRPTW9iai5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKSB7XG4gICAgICB0aGlzLkRPTW9iai5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuRE9Nb2JqKTtcbiAgICAgIHRoaXMuRE9Nb2JqID0gbnVsbDtcbiAgICB9XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgbWVudSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IGxpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgIG1lbnUuY2xhc3NOYW1lID0gJ2NvbnRleHQtbWVudSc7XG4gICAgbWVudS5hcHBlbmRDaGlsZChsaXN0KTtcbiAgICBmb3IgKGxldCBpID0gMCwgbmJfaXRlbSA9IHRoaXMuaXRlbXMubGVuZ3RoOyBpIDwgbmJfaXRlbTsgaSsrKSB7XG4gICAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JywgaSk7XG4gICAgICBpdGVtLmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLW5hbWVcIj4ke3RoaXMuaXRlbXNbaV0ubmFtZX08L3NwYW4+YDtcbiAgICAgIGxpc3QuYXBwZW5kQ2hpbGQoaXRlbSk7XG4gICAgICBpdGVtLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IGl4ID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnKTtcbiAgICAgICAgc2VsZi5pdGVtc1tpeF0uYWN0aW9uKCk7XG4gICAgICB9O1xuICAgIH1cbiAgICB0aGlzLkRPTW9iaiA9IG1lbnU7XG4gICAgcGFyZW50LmFwcGVuZENoaWxkKG1lbnUpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBjb21wLCBtYXRoX3JvdW5kLCBtYXRoX2FicywgUmVjdCwgY29tcDIsIHByZXBhcmVUb29sdGlwLCBzdmdQYXRoVG9Db29yZHMsIF9nZXRQUiwgY29tcHV0ZVBlcmNlbnRpbGVSYW5rIH0gZnJvbSAnLi8uLi9oZWxwZXJzJztcbmltcG9ydCB7IGNvbG9yX2Rpc2FibGVkLCBjb2xvcl9jb3VudHJpZXMsIGNvbG9yX2hpZ2hsaWdodCB9IGZyb20gJy4vLi4vb3B0aW9ucyc7XG5pbXBvcnQgeyBjYWxjUG9wQ29tcGxldHVkZVN1YnNldCB9IGZyb20gJy4vLi4vcHJlcGFyZV9kYXRhJztcbmltcG9ydCB7IHN2Z19tYXAgfSBmcm9tICcuLy4uL21hcCc7XG5pbXBvcnQgeyBhcHAsIHZhcmlhYmxlc19pbmZvLCByZXNldENvbG9ycyB9IGZyb20gJy4vLi4vLi4vbWFpbic7XG5pbXBvcnQgQ29udGV4dE1lbnUgZnJvbSAnLi8uLi9jb250ZXh0TWVudSc7XG5pbXBvcnQgVGFibGVSZXN1bWVTdGF0IGZyb20gJy4vLi4vdGFibGVSZXN1bWVTdGF0JztcblxuY29uc3Qgc3ZnX2JhciA9IGQzLnNlbGVjdCgnI3N2Z19iYXInKTtcbmNvbnN0IG1hcmdpbiA9IHsgdG9wOiAyMCwgcmlnaHQ6IDIwLCBib3R0b206IDQwLCBsZWZ0OiA0MCB9O1xuXG5jb25zdCB3aWR0aCA9ICtzdmdfYmFyLmF0dHIoJ3dpZHRoJykgLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodCxcbiAgaGVpZ2h0ID0gK3N2Z19iYXIuYXR0cignaGVpZ2h0JykgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcblxuXG4vKiogQ2xhc3MgcmVwcmVzZW50aW5nIGEgc2NhdHRlcnBsb3QgKi9cbmV4cG9ydCBjbGFzcyBTY2F0dGVyUGxvdDIge1xuICAvKipcbiAgICogQ3JlYXRlIGEgdGhlIHNjYXR0ZXJwbG90IG9uIHRoZSBgc3ZnX2JhcmAgc3ZnIGVsZW1lbnQgcHJldmlvdXNseSBkZWZpbmVkXG4gICAqIEBwYXJhbSB7QXJyYXl9IHJlZl9kYXRhIC0gQSByZWZlcmVuY2UgdG8gdGhlIHN1YnNldCBvZiB0aGUgZGF0YXNldCB0byBiZSB1c2VkXG4gICAqIHRvIGNyZWF0ZSB0aGUgc2NhdHRlcnBsb3QgKHNob3VsZCBjb250YWluIGF0IGxlYXN0IHR3byBmaWVsZCBmbGFnZ2VkIGFzIHJhdGlvXG4gICAqIGluIHRoZSBgYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvYCBPYmplY3QuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihyZWZfZGF0YSkge1xuICAgIHRoaXMuYnJ1c2hlZCA9ICgpID0+IHtcbiAgICAgIGlmIChkMy5ldmVudCAmJiAhZDMuZXZlbnQuc2VsZWN0aW9uKSB7XG4gICAgICAgIGlmIChkMy5ldmVudC50eXBlID09PSAnZW5kJyAmJiBkMy5ldmVudC5zb3VyY2VFdmVudC50eXBlID09PSAnbW91c2V1cCcpIHtcbiAgICAgICAgICB0aGlzLm1hcF9lbGVtLnJlbW92ZVJlY3RCcnVzaCgpO1xuICAgICAgICB9XG4gICAgICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICAgICAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJlc2V0Q29sb3JzKCk7XG4gICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgIGNvbnN0IFt0b3BsZWZ0LCBib3R0b21yaWdodF0gPSBkMy5ldmVudC5zZWxlY3Rpb247XG4gICAgICBjb25zdCByYW5nZV94ID0gW1xuICAgICAgICB0aGlzLnguaW52ZXJ0KHRvcGxlZnRbMF0pLFxuICAgICAgICB0aGlzLnguaW52ZXJ0KGJvdHRvbXJpZ2h0WzBdKSxcbiAgICAgIF07XG4gICAgICBjb25zdCByYW5nZV95ID0gW1xuICAgICAgICB0aGlzLnkuaW52ZXJ0KGJvdHRvbXJpZ2h0WzFdKSxcbiAgICAgICAgdGhpcy55LmludmVydCh0b3BsZWZ0WzFdKSxcbiAgICAgIF07XG4gICAgICBjb25zdCB0MSA9IHRoaXMucmFua192YXJpYWJsZTE7XG4gICAgICBjb25zdCB0MiA9IHRoaXMucmFua192YXJpYWJsZTI7XG4gICAgICB0aGlzLmRhdGFcbiAgICAgICAgLmZpbHRlcihmdCA9PiBmdFt0MV0gPiByYW5nZV94WzBdXG4gICAgICAgICAgJiYgZnRbdDFdIDwgcmFuZ2VfeFsxXVxuICAgICAgICAgICYmIGZ0W3QyXSA+IHJhbmdlX3lbMF1cbiAgICAgICAgICAmJiBmdFt0Ml0gPCByYW5nZV95WzFdKVxuICAgICAgICAuZm9yRWFjaChmdCA9PiB7XG4gICAgICAgICAgYXBwLmNvbG9yc1tmdC5pZF0gPSBjb21wMihcbiAgICAgICAgICAgIGZ0W3RoaXMudmFyaWFibGUxXSwgZnRbdGhpcy52YXJpYWJsZTJdLFxuICAgICAgICAgICAgc2VsZi5yZWZfdmFsdWUxLCBzZWxmLnJlZl92YWx1ZTIsXG4gICAgICAgICAgICBzZWxmLnhJbnZlcnNlZCwgc2VsZi55SW52ZXJzZWQpO1xuICAgICAgICB9KTtcbiAgICAgIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICAgICAgdGhpcy5tYXBfZWxlbS5yZW1vdmVSZWN0QnJ1c2goKTtcbiAgICB9O1xuICAgIGFwcC5jdXJyZW50X2NvbmZpZy5uYl92YXIgPSAyO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHRoaXMudmFyaWFibGUxID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvWzBdO1xuICAgIHRoaXMudmFyaWFibGUyID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvWzFdO1xuICAgIHRoaXMucmFua192YXJpYWJsZTEgPSBgcHJfJHt0aGlzLnZhcmlhYmxlMX1gO1xuICAgIHRoaXMucmFua192YXJpYWJsZTIgPSBgcHJfJHt0aGlzLnZhcmlhYmxlMn1gO1xuICAgIHRoaXMucHJldHR5X25hbWUxID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvX3ByZXR0eV9uYW1lWzBdO1xuICAgIHRoaXMucHJldHR5X25hbWUyID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvX3ByZXR0eV9uYW1lWzFdO1xuICAgIHRoaXMuZGF0YSA9IHJlZl9kYXRhLmZpbHRlcihmdCA9PiAhIWZ0W3RoaXMudmFyaWFibGUxXSAmJiAhIWZ0W3RoaXMudmFyaWFibGUyXSlcbiAgICAgIC5tYXAoKGQpID0+IHtcbiAgICAgICAgY29uc3QgcmVzID0geyBpZDogZC5pZCB9O1xuICAgICAgICByZXNbdGhpcy52YXJpYWJsZTFdID0gZFt0aGlzLnZhcmlhYmxlMV07XG4gICAgICAgIHJlc1t0aGlzLnZhcmlhYmxlMl0gPSBkW3RoaXMudmFyaWFibGUyXTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIH0pO1xuICAgIHRoaXMuY3VycmVudF9pZHMgPSB0aGlzLmRhdGEubWFwKGQgPT4gZC5pZCk7XG4gICAgcmVzZXRDb2xvcnModGhpcy5jdXJyZW50X2lkcyk7XG4gICAgdGhpcy5uYkZ0ID0gdGhpcy5kYXRhLmxlbmd0aDtcbiAgICBjb21wdXRlUGVyY2VudGlsZVJhbmsodGhpcy5kYXRhLCB0aGlzLnZhcmlhYmxlMSwgdGhpcy5yYW5rX3ZhcmlhYmxlMSk7XG4gICAgY29tcHV0ZVBlcmNlbnRpbGVSYW5rKHRoaXMuZGF0YSwgdGhpcy52YXJpYWJsZTIsIHRoaXMucmFua192YXJpYWJsZTIpO1xuXG4gICAgdGhpcy54ID0gZDMuc2NhbGVMaW5lYXIoKVxuICAgICAgLnJhbmdlKFswLCB3aWR0aF0pXG4gICAgICAubmljZSgpO1xuICAgIHRoaXMueSA9IGQzLnNjYWxlTGluZWFyKClcbiAgICAgIC5yYW5nZShbaGVpZ2h0LCAwXSlcbiAgICAgIC5uaWNlKCk7XG4gICAgdGhpcy54QXhpcyA9IGQzLmF4aXNCb3R0b20odGhpcy54KS50aWNrcygxMik7XG4gICAgdGhpcy55QXhpcyA9IGQzLmF4aXNMZWZ0KHRoaXMueSkudGlja3MoMTIgKiBoZWlnaHQgLyB3aWR0aCk7XG4gICAgdGhpcy54QXhpczIgPSBkMy5heGlzQm90dG9tKHRoaXMueCkudGlja3MoMTIpO1xuICAgIHRoaXMueUF4aXMyID0gZDMuYXhpc0xlZnQodGhpcy55KS50aWNrcygxMiAqIGhlaWdodCAvIHdpZHRoKTtcblxuICAgIHRoaXMuYnJ1c2ggPSBkMy5icnVzaCgpXG4gICAgICAuZXh0ZW50KFtbMCwgMF0sIFt3aWR0aCwgaGVpZ2h0XV0pXG4gICAgICAub24oXCJicnVzaCBlbmRcIiwgdGhpcy5icnVzaGVkKTtcblxuICAgIHRoaXMueEludmVyc2VkID0gZmFsc2U7XG4gICAgdGhpcy55SW52ZXJzZWQgPSBmYWxzZTtcbiAgICB0aGlzLnJlZl92YWx1ZTEgPSB0aGlzLmRhdGEuZmluZChcbiAgICAgIGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbilbdGhpcy52YXJpYWJsZTFdO1xuICAgIHRoaXMucmVmX3ZhbHVlMiA9IHRoaXMuZGF0YS5maW5kKFxuICAgICAgZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVt0aGlzLnZhcmlhYmxlMl07XG5cbiAgICB0aGlzLnBsb3QgPSBzdmdfYmFyLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke1ttYXJnaW4ubGVmdCwgbWFyZ2luLnRvcF19KWApO1xuXG4gICAgdGhpcy5wbG90LmFwcGVuZCgnZGVmcycpXG4gICAgICAuYXBwZW5kKCdzdmc6Y2xpcFBhdGgnKVxuICAgICAgLmF0dHIoJ2lkJywgJ2NsaXAnKVxuICAgICAgLmFwcGVuZCgnc3ZnOnJlY3QnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgd2lkdGgsXG4gICAgICAgIGhlaWdodCxcbiAgICAgICAgeDogMCxcbiAgICAgICAgeTogMCxcbiAgICAgIH0pO1xuXG4gICAgdGhpcy5zY2F0dGVyID0gdGhpcy5wbG90LmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignaWQnLCAnc2NhdHRlcnBsb3QnKVxuICAgICAgLmF0dHIoJ2NsaXAtcGF0aCcsICd1cmwoI2NsaXApJyk7XG5cbiAgICB0aGlzLnguZG9tYWluKGQzLmV4dGVudCh0aGlzLmRhdGEsIGQgPT4gZFt0aGlzLnJhbmtfdmFyaWFibGUxXSkpLm5pY2UoKTtcbiAgICB0aGlzLnkuZG9tYWluKGQzLmV4dGVudCh0aGlzLmRhdGEsIGQgPT4gZFt0aGlzLnJhbmtfdmFyaWFibGUyXSkpLm5pY2UoKTtcbiAgICB0aGlzLm1lYW5fdmFyaWFibGUxID0gX2dldFBSKFxuICAgICAgZDMubWVhbih0aGlzLmRhdGEubWFwKGQgPT4gZFt0aGlzLnZhcmlhYmxlMV0pKSwgdGhpcy5kYXRhLm1hcChkID0+IGRbdGhpcy52YXJpYWJsZTFdKSk7XG4gICAgdGhpcy5tZWFuX3ZhcmlhYmxlMiA9IF9nZXRQUihcbiAgICAgIGQzLm1lYW4odGhpcy5kYXRhLm1hcChkID0+IGRbdGhpcy52YXJpYWJsZTJdKSksIHRoaXMuZGF0YS5tYXAoZCA9PiBkW3RoaXMudmFyaWFibGUyXSkpO1xuXG4gICAgdGhpcy5tYWtlR3JpZCgpO1xuXG4gICAgY29uc3QgZ3JvdXBlX2xpbmVfbWVhbiA9IHRoaXMucGxvdC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2NsaXAtcGF0aCcsICd1cmwoI2NsaXApJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdtZWFuJyk7XG4gICAgZ3JvdXBlX2xpbmVfbWVhbi5hcHBlbmQoJ2xpbmUnKVxuICAgICAgLmF0dHIoJ2NsaXAtcGF0aCcsICd1cmwoI2NsaXApJylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIGlkOiAnbWVhbl94JyxcbiAgICAgICAgeDE6IHRoaXMueCh0aGlzLm1lYW5fdmFyaWFibGUxKSxcbiAgICAgICAgeDI6IHRoaXMueCh0aGlzLm1lYW5fdmFyaWFibGUxKSxcbiAgICAgICAgeTE6IDAsXG4gICAgICAgIHkyOiB3aWR0aCxcbiAgICAgICAgJ3N0cm9rZS1kYXNoYXJyYXknOiAnMTAsIDUnLFxuICAgICAgICAnc3Ryb2tlLXdpZHRoJzogJzJweCcsXG4gICAgICB9KVxuICAgICAgLnN0eWxlKCdzdHJva2UnLCAncmVkJyk7XG4gICAgZ3JvdXBlX2xpbmVfbWVhbi5hcHBlbmQoJ2xpbmUnKVxuICAgICAgLnN0eWxlKCdzdHJva2UnLCAncmVkJylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIGlkOiAnbWVhbl95JyxcbiAgICAgICAgeDE6IDAsXG4gICAgICAgIHgyOiB3aWR0aCxcbiAgICAgICAgeTE6IHRoaXMueSh0aGlzLm1lYW5fdmFyaWFibGUyKSxcbiAgICAgICAgeTI6IHRoaXMueSh0aGlzLm1lYW5fdmFyaWFibGUyKSxcbiAgICAgICAgJ2NsaXAtcGF0aCc6ICd1cmwoI2NsaXApJyxcbiAgICAgICAgJ3N0cm9rZS1kYXNoYXJyYXknOiAnMTAsIDUnLFxuICAgICAgICAnc3Ryb2tlLXdpZHRoJzogJzJweCcsXG4gICAgICB9KTtcblxuICAgIHRoaXMucGxvdC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgY2xhc3M6ICd4IGF4aXMnLCBpZDogJ2F4aXMtLXgnLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoMCwgJHtoZWlnaHR9KWAsXG4gICAgICB9KVxuICAgICAgLmNhbGwodGhpcy54QXhpcyk7XG5cbiAgICB0aGlzLnBsb3QuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAneSBheGlzJywgaWQ6ICdheGlzLS15Jywgb3BhY2l0eTogMC45IH0pXG4gICAgICAuY2FsbCh0aGlzLnlBeGlzKTtcblxuICAgIHRoaXMucHJlcGFyZVRpdGxlQXhpcygpO1xuXG4gICAgc3ZnX2Jhci5hcHBlbmQoJ2ltYWdlJylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIHg6IG1hcmdpbi5sZWZ0ICsgd2lkdGggLyAyIC0gMjAgLSBzdmdfYmFyLnNlbGVjdCgnI3RpdGxlLWF4aXMteCcpLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCAvIDIsXG4gICAgICAgIHk6IG1hcmdpbi50b3AgKyBoZWlnaHQgKyBtYXJnaW4uYm90dG9tIC8gMiAtIDIuNSxcbiAgICAgICAgd2lkdGg6IDE1LFxuICAgICAgICBoZWlnaHQ6IDE1LFxuICAgICAgICAneGxpbms6aHJlZic6ICdpbWcvcmV2ZXJzZV9wbHVzLnBuZycsXG4gICAgICAgIGlkOiAnaW1nX3JldmVyc2VfeCcsXG4gICAgICB9KVxuICAgICAgLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGhpcy54SW52ZXJzZWQgPSAhdGhpcy54SW52ZXJzZWQ7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uYkZ0OyBpKyspIHtcbiAgICAgICAgICBzZWxmLmRhdGFbaV1bc2VsZi5yYW5rX3ZhcmlhYmxlMV0gPSAxMDAgLSBzZWxmLmRhdGFbaV1bc2VsZi5yYW5rX3ZhcmlhYmxlMV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubGFzdF9tYXBfc2VsZWN0aW9uKSB7XG4gICAgICAgICAgdGhpcy5tYXBfZWxlbS5jYWxsQnJ1c2godGhpcy5sYXN0X21hcF9zZWxlY3Rpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgc3ZnX2Jhci5hcHBlbmQoJ2ltYWdlJylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIHg6IG1hcmdpbi5sZWZ0IC8gMiAtIDIwLFxuICAgICAgICB5OiBtYXJnaW4udG9wICsgKGhlaWdodCAvIDIpICsgc3ZnX2Jhci5zZWxlY3QoJyN0aXRsZS1heGlzLXknKS5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0IC8gMiArIDUsXG4gICAgICAgIHdpZHRoOiAxNSxcbiAgICAgICAgaGVpZ2h0OiAxNSxcbiAgICAgICAgJ3hsaW5rOmhyZWYnOiAnaW1nL3JldmVyc2VfcGx1cy5wbmcnLFxuICAgICAgICBpZDogJ2ltZ19yZXZlcnNlX3knLFxuICAgICAgfSlcbiAgICAgIC5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHRoaXMueUludmVyc2VkID0gIXRoaXMueUludmVyc2VkO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubmJGdDsgaSsrKSB7XG4gICAgICAgICAgdGhpcy5kYXRhW2ldW3RoaXMucmFua192YXJpYWJsZTJdID0gMTAwIC0gdGhpcy5kYXRhW2ldW3RoaXMucmFua192YXJpYWJsZTJdO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmxhc3RfbWFwX3NlbGVjdGlvbikge1xuICAgICAgICAgIHRoaXMubWFwX2VsZW0uY2FsbEJydXNoKHRoaXMubGFzdF9tYXBfc2VsZWN0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIC8vIFByZXBhcmUgdGhlIHRvb2x0aXAgZGlzcGxheWVkIG9uIG1vdXNlb3ZlcjpcbiAgICBwcmVwYXJlVG9vbHRpcChzdmdfYmFyKTtcblxuICAgIC8vIENvbXB1dGUgdGhlIFwiY29tcGzDqXR1ZGVcIiB2YWx1ZSBmb3IgdGhpcyByYXRpbzpcbiAgICB0aGlzLmNvbXBsZXR1ZGVfdmFsdWUgPSBjYWxjUG9wQ29tcGxldHVkZVN1YnNldChhcHAsIFt0aGlzLnZhcmlhYmxlMSwgdGhpcy52YXJpYWJsZTJdKTtcblxuICAgIC8vIENyZWF0ZSB0aGUgXCJjb21wbMOpdHVkZVwiIHRleHQ6XG4gICAgdGhpcy5jb21wbGV0dWRlID0gc3ZnX2Jhci5hcHBlbmQoJ3RleHQnKVxuICAgICAgLmF0dHJzKHsgaWQ6ICdjaGFydF9jb21wbGV0dWRlJywgeDogNjAsIHk6IDQwIH0pXG4gICAgICAuc3R5bGVzKHsgJ2ZvbnQtZmFtaWx5JzogJ1xcJ1NpZ25pa2FcXCcsIHNhbnMtc2VyaWYnIH0pXG4gICAgICAudGV4dChgQ29tcGzDqXR1ZGUgOiAke3RoaXMuY29tcGxldHVkZV92YWx1ZX0lYCk7XG5cbiAgICB0aGlzLnBsb3QuYXBwZW5kKFwiZ1wiKVxuICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImJydXNoXCIpXG4gICAgICAuY2FsbCh0aGlzLmJydXNoKTtcblxuXG4gICAgLy8gRGVhY3RpdmF0ZSB0aGUgcmVjdCBicnVzaCBzZWxlY3Rpb24gb24gdGhlIG1hcFxuICAgIC8vIHdoaWxlIHRoZSB1c2VyIHByZXNzIHRoZSBDdHJsIGtleTpcbiAgICBkb2N1bWVudC5vbmtleWRvd24gPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudCAmJiBldmVudC5rZXkgPT09ICdDb250cm9sJykge1xuICAgICAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpXG4gICAgICAgICAgLnNlbGVjdEFsbCgnLnNlbGVjdGlvbiwgLm92ZXJsYXknKVxuICAgICAgICAgIC5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICAvLyBSZWFjdGl2YXRlIHRoZSByZWN0IGJydXNoIHNlbGVjdGlvbiBvbiB0aGUgbWFwXG4gICAgLy8gd2hlbiB0aGUgdXNlciBkb2Vzbid0IHByZXNzIHRoZSBDdHJsIGtleSBhbnltb3JlXG4gICAgZG9jdW1lbnQub25rZXl1cCA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50LmtleSA9PT0gJ0NvbnRyb2wnKSB7XG4gICAgICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJylcbiAgICAgICAgICAuc2VsZWN0QWxsKCcuc2VsZWN0aW9uLCAub3ZlcmxheScpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7XG4gICAgICB9XG4gICAgfTtcbiAgICAvLyB0aGlzLnVwZGF0ZSgpO1xuICAgIHRoaXMubWFrZVRhYmxlU3RhdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSB0aGUgdW5kZXJseWluZyBncmV5IGdyaWRcbiAgICovXG4gIG1ha2VHcmlkKCkge1xuICAgIHRoaXMucGxvdC5pbnNlcnQoJ2cnLCAnI3NjYXR0ZXJwbG90JylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIGNsYXNzOiAnZ3JpZCBncmlkLXgnLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoMCwgJHtoZWlnaHR9KWAsXG4gICAgICB9KVxuICAgICAgLmNhbGwodGhpcy54QXhpczJcbiAgICAgICAgLnRpY2tTaXplKC1oZWlnaHQpXG4gICAgICAgIC50aWNrRm9ybWF0KCcnKSk7XG4gICAgdGhpcy5wbG90Lmluc2VydCgnZycsICcjc2NhdHRlcnBsb3QnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2dyaWQgZ3JpZC15JylcbiAgICAgIC5jYWxsKHRoaXMueUF4aXMyXG4gICAgICAgIC50aWNrU2l6ZSgtd2lkdGgpXG4gICAgICAgIC50aWNrRm9ybWF0KCcnKSk7XG4gICAgdGhpcy5wbG90LnNlbGVjdEFsbCgnLmdyaWQnKVxuICAgICAgLnNlbGVjdEFsbCgnbGluZScpXG4gICAgICAuYXR0cignc3Ryb2tlJywgJ2xpZ2h0Z3JheScpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSB0aGUgdGl0bGUgb2YgdGhlIFggYW5kIFkgYXhpcyB3aXRoIHRoZSBhc3NvY2lhdGVkIGNvbnRleHQgbWVudVxuICAgKiBkaXNwbGF5ZWQgd2hlbiB0aGV5IGFyZSBjbGlja2VkIGFuZCBhbGxvd2luZyB0byBzZWxlY3QgYW4gb3RoZXIgdmFyaWFibGVcbiAgICogZm9yIHRoaXMgYXhpcy5cbiAgICovXG4gIHByZXBhcmVUaXRsZUF4aXMoKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5tZW51WCA9IG5ldyBDb250ZXh0TWVudSgpO1xuICAgIHRoaXMubWVudVkgPSBuZXcgQ29udGV4dE1lbnUoKTtcbiAgICB0aGlzLml0ZW1zWCA9IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpby5maWx0ZXIoZWxlbSA9PiBlbGVtICE9PSB0aGlzLnZhcmlhYmxlMilcbiAgICAgIC5tYXAoZWxlbSA9PiAoe1xuICAgICAgICBuYW1lOiBlbGVtLFxuICAgICAgICBhY3Rpb246ICgpID0+IHRoaXMuY2hhbmdlVmFyaWFibGVYKGVsZW0pLFxuICAgICAgfSkpO1xuICAgIHRoaXMuaXRlbXNZID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvLmZpbHRlcihlbGVtID0+IGVsZW0gIT09IHRoaXMudmFyaWFibGUxKVxuICAgICAgLm1hcChlbGVtID0+ICh7XG4gICAgICAgIG5hbWU6IGVsZW0sXG4gICAgICAgIGFjdGlvbjogKCkgPT4gdGhpcy5jaGFuZ2VWYXJpYWJsZVkoZWxlbSksXG4gICAgICB9KSk7XG5cbiAgICBzdmdfYmFyLmFwcGVuZCgndGV4dCcpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICBpZDogJ3RpdGxlLWF4aXMteCcsXG4gICAgICAgIHg6IG1hcmdpbi5sZWZ0ICsgd2lkdGggLyAyLFxuICAgICAgICB5OiBtYXJnaW4udG9wICsgaGVpZ2h0ICsgbWFyZ2luLmJvdHRvbSAvIDIgKyAxMCxcbiAgICAgIH0pXG4gICAgICAuc3R5bGVzKHsgJ2ZvbnQtZmFtaWx5JzogJ3NhbnMtc2VyaWYnLCAnZm9udC1zaXplJzogJzEycHgnLCAndGV4dC1hbmNob3InOiAnbWlkZGxlJyB9KVxuICAgICAgLnRleHQodGhpcy52YXJpYWJsZTEpXG4gICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBiYm94ID0gdGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgaWYgKHNlbGYubWVudVkuZGlzcGxheWVkKSB7XG4gICAgICAgICAgc2VsZi5tZW51WS5oaWRlTWVudSgpO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYubWVudVguc2hvd01lbnUoZDMuZXZlbnQsIGRvY3VtZW50LmJvZHksIHNlbGYuaXRlbXNYLCBbYmJveC5sZWZ0IC0gMjAsIGJib3gudG9wICsgMjBdKTtcbiAgICAgIH0pO1xuXG4gICAgc3ZnX2Jhci5hcHBlbmQoJ3RleHQnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgaWQ6ICd0aXRsZS1heGlzLXknLFxuICAgICAgICB4OiBtYXJnaW4ubGVmdCAvIDIsXG4gICAgICAgIHk6IG1hcmdpbi50b3AgKyAoaGVpZ2h0IC8gMikgLSAxMCxcbiAgICAgICAgdHJhbnNmb3JtOiBgcm90YXRlKC05MCwgJHttYXJnaW4ubGVmdCAvIDJ9LCAke21hcmdpbi50b3AgKyAoaGVpZ2h0IC8gMil9KWAsXG4gICAgICB9KVxuICAgICAgLnN0eWxlcyh7ICdmb250LWZhbWlseSc6ICdzYW5zLXNlcmlmJywgJ2ZvbnQtc2l6ZSc6ICcxMnB4JywgJ3RleHQtYW5jaG9yJzogJ21pZGRsZScgfSlcbiAgICAgIC50ZXh0KHRoaXMudmFyaWFibGUyKVxuICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgYmJveCA9IHRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGlmIChzZWxmLm1lbnVYLmRpc3BsYXllZCkge1xuICAgICAgICAgIHNlbGYubWVudVguaGlkZU1lbnUoKTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLm1lbnVZLnNob3dNZW51KGQzLmV2ZW50LCBkb2N1bWVudC5ib2R5LCBzZWxmLml0ZW1zWSwgW2Jib3gubGVmdCwgYmJveC5ib3R0b20gKyAxMF0pO1xuICAgICAgfSk7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZGF0YSA9IHNlbGYuZGF0YTtcbiAgICBjb25zdCByYW5rX3ZhcmlhYmxlMSA9IHRoaXMucmFua192YXJpYWJsZTE7XG4gICAgY29uc3QgcmFua192YXJpYWJsZTIgPSB0aGlzLnJhbmtfdmFyaWFibGUyO1xuICAgIGNvbnN0IHggPSB0aGlzLng7XG4gICAgY29uc3QgeSA9IHRoaXMueTtcbiAgICBjb25zdCBkZWZhdWx0X2NvbG9yID0gJ2dyYXknO1xuICAgIGNvbnN0IGRvdHMgPSB0aGlzLnNjYXR0ZXIuc2VsZWN0QWxsKCcuZG90JylcbiAgICAgIC5kYXRhKGRhdGEsIGQgPT4gZC5pZCk7XG5cbiAgICBkb3RzLnRyYW5zaXRpb24oKVxuICAgICAgLmR1cmF0aW9uKDIyNSlcbiAgICAgIC5hdHRycyhkID0+ICh7XG4gICAgICAgIHI6IDUsXG4gICAgICAgIGN4OiB4KGRbcmFua192YXJpYWJsZTFdKSxcbiAgICAgICAgY3k6IHkoZFtyYW5rX3ZhcmlhYmxlMl0pLFxuICAgICAgfSkpXG4gICAgICAuc3R5bGVzKGQgPT4gKHtcbiAgICAgICAgZmlsbDogYXBwLmNvbG9yc1tkLmlkXSB8fCBkZWZhdWx0X2NvbG9yLFxuICAgICAgfSkpO1xuXG4gICAgZG90cy5lbnRlcigpXG4gICAgICAuaW5zZXJ0KCdjaXJjbGUnKVxuICAgICAgLnN0eWxlcyhkID0+ICh7XG4gICAgICAgIGZpbGw6IGFwcC5jb2xvcnNbZC5pZF0gfHwgZGVmYXVsdF9jb2xvcixcbiAgICAgIH0pKVxuICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgLmR1cmF0aW9uKDIyNSlcbiAgICAgIC5hdHRycyhkID0+ICh7XG4gICAgICAgIHI6IDUsXG4gICAgICAgIGN4OiB4KGRbcmFua192YXJpYWJsZTFdKSxcbiAgICAgICAgY3k6IHkoZFtyYW5rX3ZhcmlhYmxlMl0pLFxuICAgICAgICBjbGFzczogJ2RvdCcsXG4gICAgICB9KSk7XG5cbiAgICBkb3RzLmV4aXQoKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oMjI1KS5yZW1vdmUoKTtcblxuICAgIGRvdHNcbiAgICAgIC5vbignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgICAgICBzdmdfYmFyLnNlbGVjdCgnLnRvb2x0aXAnKS5zdHlsZSgnZGlzcGxheScsIG51bGwpO1xuICAgICAgfSlcbiAgICAgIC5vbignbW91c2VvdXQnLCAoKSA9PiB7XG4gICAgICAgIHN2Z19iYXIuc2VsZWN0KCcudG9vbHRpcCcpLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgIGNvbnN0IHRvb2x0aXAgPSBzdmdfYmFyLnNlbGVjdCgnLnRvb2x0aXAnKTtcbiAgICAgICAgY29uc3QgX3ZhcjEgPSBzZWxmLnZhcmlhYmxlMTtcbiAgICAgICAgY29uc3QgX3ZhcjIgPSBzZWxmLnZhcmlhYmxlMjtcbiAgICAgICAgdG9vbHRpcFxuICAgICAgICAgIC5zZWxlY3QoJ3RleHQuaWRfZmVhdHVyZScpXG4gICAgICAgICAgLnRleHQoYCR7ZC5pZH1gKTtcbiAgICAgICAgdG9vbHRpcC5zZWxlY3QoJ3RleHQudmFsdWVfZmVhdHVyZTEnKVxuICAgICAgICAgIC50ZXh0KGBWYXJpYWJsZSAxIDogJHtNYXRoLnJvdW5kKGRbX3ZhcjFdICogMTApIC8gMTB9YCk7XG4gICAgICAgIHRvb2x0aXAuc2VsZWN0KCd0ZXh0LnZhbHVlX2ZlYXR1cmUyJylcbiAgICAgICAgICAudGV4dChgVmFyaWFibGUgMiA6ICR7TWF0aC5yb3VuZChkW192YXIyXSAqIDEwKSAvIDEwfWApO1xuICAgICAgICB0b29sdGlwXG4gICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHtbZDMubW91c2UodGhpcylbMF0gLSA1LCBkMy5tb3VzZSh0aGlzKVsxXSAtIDQ1XX0pYCk7XG4gICAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZUNvbXBsZXR1ZGUoKSB7XG4gICAgdGhpcy5jb21wbGV0dWRlX3ZhbHVlID0gY2FsY1BvcENvbXBsZXR1ZGVTdWJzZXQoYXBwLCBbdGhpcy52YXJpYWJsZTEsIHRoaXMudmFyaWFibGUyXSk7XG5cbiAgICB0aGlzLmNvbXBsZXR1ZGVcbiAgICAgIC50ZXh0KGBDb21wbMOpdHVkZSA6ICR7dGhpcy5jb21wbGV0dWRlX3ZhbHVlfSVgKTtcbiAgfVxuXG4gIHVwZGF0ZU1hcFJlZ2lvKCkge1xuICAgIGlmICghdGhpcy5tYXBfZWxlbSkgcmV0dXJuO1xuICAgIHRoaXMubWFwX2VsZW0udGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuYXR0cignZmlsbCcsIGQgPT4gKHRoaXMuY3VycmVudF9pZHMuaW5kZXhPZihkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dKSA+IC0xXG4gICAgICAgID8gKGFwcC5jb2xvcnNbZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXV0gfHwgY29sb3JfY291bnRyaWVzKVxuICAgICAgICA6IGNvbG9yX2Rpc2FibGVkKSk7XG4gIH1cblxuICBoYW5kbGVfYnJ1c2hfbWFwKGV2ZW50KSB7XG4gICAgaWYgKCFldmVudCB8fCAhZXZlbnQuc2VsZWN0aW9uKSB7XG4gICAgICB0aGlzLmxhc3RfbWFwX3NlbGVjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaCcpLmNhbGwodGhpcy5icnVzaC5tb3ZlLCBudWxsKTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBbdG9wbGVmdCwgYm90dG9tcmlnaHRdID0gZXZlbnQuc2VsZWN0aW9uO1xuICAgIHRoaXMubGFzdF9tYXBfc2VsZWN0aW9uID0gW3RvcGxlZnQsIGJvdHRvbXJpZ2h0XTtcbiAgICBjb25zdCByZWN0ID0gbmV3IFJlY3QodG9wbGVmdCwgYm90dG9tcmlnaHQpO1xuICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICBzZWxmLm1hcF9lbGVtLnRhcmdldF9sYXllci5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICBjb25zdCBpZCA9IGQucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV07XG4gICAgICAgIGlmIChpZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbikge1xuICAgICAgICAgIGFwcC5jb2xvcnNbaWRdID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgICAgICAgIHJldHVybiBjb2xvcl9oaWdobGlnaHQ7XG4gICAgICAgIH0gZWxzZSBpZiAoc2VsZi5jdXJyZW50X2lkcy5pbmRleE9mKGlkKSA8IDApIHtcbiAgICAgICAgICByZXR1cm4gY29sb3JfZGlzYWJsZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9wdHMpIHtcbiAgICAgICAgICB0aGlzLl9wdHMgPSBzdmdQYXRoVG9Db29yZHModGhpcy5nZXRBdHRyaWJ1dGUoJ2QnKSwgYXBwLnR5cGVfcGF0aCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHRzID0gdGhpcy5fcHRzO1xuICAgICAgICBmb3IgKGxldCBpeCA9IDAsIG5iX3B0cyA9IHB0cy5sZW5ndGg7IGl4IDwgbmJfcHRzOyBpeCsrKSB7XG4gICAgICAgICAgaWYgKHJlY3QuY29udGFpbnMocHRzW2l4XSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlMSA9IGQucHJvcGVydGllc1tzZWxmLnZhcmlhYmxlMV07XG4gICAgICAgICAgICBjb25zdCB2YWx1ZTIgPSBkLnByb3BlcnRpZXNbc2VsZi52YXJpYWJsZTJdO1xuICAgICAgICAgICAgY29uc3QgY29sb3IgPSBjb21wMihcbiAgICAgICAgICAgICAgdmFsdWUxLCB2YWx1ZTIsXG4gICAgICAgICAgICAgIHNlbGYucmVmX3ZhbHVlMSwgc2VsZi5yZWZfdmFsdWUyLFxuICAgICAgICAgICAgICBzZWxmLnhJbnZlcnNlZCwgc2VsZi55SW52ZXJzZWQpO1xuICAgICAgICAgICAgYXBwLmNvbG9yc1tpZF0gPSBjb2xvcjtcbiAgICAgICAgICAgIHJldHVybiBjb2xvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbG9yX2NvdW50cmllcztcbiAgICAgIH0pO1xuICAgIHNlbGYudXBkYXRlKCk7XG4gIH1cblxuICBoYW5kbGVDbGlja01hcChkLCBwYXJlbnQpIHtcbiAgICBjb25zdCBpZCA9IGQucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV07XG4gICAgaWYgKHRoaXMuY3VycmVudF9pZHMuaW5kZXhPZihpZCkgPCAwIHx8IGlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKSByZXR1cm47XG4gICAgaWYgKGFwcC5jb2xvcnNbaWRdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIENoYW5nZSBpdHMgY29sb3IgaW4gdGhlIGdsb2JhbCBjb2xvcnMgb2JqZWN0OlxuICAgICAgYXBwLmNvbG9yc1tpZF0gPSB1bmRlZmluZWQ7XG4gICAgICAvLyBDaGFuZ2UgdGhlIGNvbG9yIG9uIHRoZSBtYXA6XG4gICAgICBkMy5zZWxlY3QocGFyZW50KS5hdHRyKCdmaWxsJywgY29sb3JfY291bnRyaWVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdmFsdWUxID0gZC5wcm9wZXJ0aWVzW3RoaXMudmFyaWFibGUxXTtcbiAgICAgIGNvbnN0IHZhbHVlMiA9IGQucHJvcGVydGllc1t0aGlzLnZhcmlhYmxlMl07XG4gICAgICBjb25zdCBjb2xvciA9IGNvbXAyKFxuICAgICAgICB2YWx1ZTEsIHZhbHVlMixcbiAgICAgICAgdGhpcy5yZWZfdmFsdWUxLCB0aGlzLnJlZl92YWx1ZTIsXG4gICAgICAgIHRoaXMueEludmVyc2VkLCB0aGlzLnlJbnZlcnNlZCk7XG4gICAgICBhcHAuY29sb3JzW2lkXSA9IGNvbG9yO1xuICAgICAgLy8gQ2hhbmdlIHRoZSBjb2xvciBvbiB0aGUgbWFwOlxuICAgICAgZDMuc2VsZWN0KHBhcmVudCkuYXR0cignZmlsbCcsIGNvbG9yKTtcbiAgICAgIC8vIEFkZCB0aGUgY2xpY2tlZCBmZWF0dXJlIG9uIHRoZSBjb2xvcmVkIHNlbGVjdGlvbiBvbiB0aGUgY2hhcnQ6XG4gICAgfVxuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cblxuICB1cGRhdGVNZWFuVmFsdWUoKSB7XG4gICAgdGhpcy5tZWFuX3ZhcmlhYmxlMSA9IF9nZXRQUihcbiAgICAgIGQzLm1lYW4odGhpcy5kYXRhLm1hcChkID0+IGRbdGhpcy52YXJpYWJsZTFdKSksIHRoaXMuZGF0YS5tYXAoZCA9PiBkW3RoaXMudmFyaWFibGUxXSkpO1xuICAgIHRoaXMubWVhbl92YXJpYWJsZTIgPSBfZ2V0UFIoXG4gICAgICBkMy5tZWFuKHRoaXMuZGF0YS5tYXAoZCA9PiBkW3RoaXMudmFyaWFibGUyXSkpLCB0aGlzLmRhdGEubWFwKGQgPT4gZFt0aGlzLnZhcmlhYmxlMl0pKTtcbiAgICBjb25zdCBncnBfbWVhbiA9IHRoaXMucGxvdC5zZWxlY3QoJ2cubWVhbicpO1xuICAgIGdycF9tZWFuLnNlbGVjdCgnI21lYW5feCcpXG4gICAgICAudHJhbnNpdGlvbigpXG4gICAgICAuZHVyYXRpb24oMjI1KVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgeDE6IHRoaXMueCh0aGlzLm1lYW5fdmFyaWFibGUxKSxcbiAgICAgICAgeDI6IHRoaXMueCh0aGlzLm1lYW5fdmFyaWFibGUxKSxcbiAgICAgIH0pO1xuICAgIGdycF9tZWFuLnNlbGVjdCgnI21lYW5feScpXG4gICAgICAudHJhbnNpdGlvbigpXG4gICAgICAuZHVyYXRpb24oMjI1KVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgeTE6IHRoaXMueSh0aGlzLm1lYW5fdmFyaWFibGUyKSxcbiAgICAgICAgeTI6IHRoaXMueSh0aGlzLm1lYW5fdmFyaWFibGUyKSxcbiAgICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlQ2hhbmdlUmVnaW9uKCkge1xuICAgIGlmIChhcHAuY3VycmVudF9jb25maWcuZmlsdGVyX2tleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmNoYW5nZVN0dWR5Wm9uZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlZl92YWx1ZTEgPSB0aGlzLmRhdGEuZmluZChcbiAgICAgICAgZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVt0aGlzLnZhcmlhYmxlMV07XG4gICAgICB0aGlzLnJlZl92YWx1ZTIgPSB0aGlzLmRhdGEuZmluZChcbiAgICAgICAgZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVt0aGlzLnZhcmlhYmxlMl07XG4gICAgICB0aGlzLm1hcF9lbGVtLnJlbW92ZVJlY3RCcnVzaCgpO1xuICAgICAgdGhpcy5tYXBfZWxlbS51cGRhdGVMZWdlbmQoKTtcbiAgICAgIHRoaXMubWFwX2VsZW0ucmVzZXRDb2xvcnModGhpcy5jdXJyZW50X2lkcyk7XG4gICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIGNoYW5nZVN0dWR5Wm9uZSgpIHtcbiAgICB0aGlzLmRhdGEgPSBhcHAuY3VycmVudF9kYXRhLmZpbHRlcihmdCA9PiAhIWZ0W3RoaXMudmFyaWFibGUxXSAmJiAhIWZ0W3RoaXMudmFyaWFibGUyXSlcbiAgICAgIC5tYXAoKGQpID0+IHtcbiAgICAgICAgY29uc3QgcmVzID0geyBpZDogZC5pZCB9O1xuICAgICAgICByZXNbdGhpcy52YXJpYWJsZTFdID0gZFt0aGlzLnZhcmlhYmxlMV07XG4gICAgICAgIHJlc1t0aGlzLnZhcmlhYmxlMl0gPSBkW3RoaXMudmFyaWFibGUyXTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIH0pO1xuICAgIHRoaXMuY3VycmVudF9pZHMgPSB0aGlzLmRhdGEubWFwKGQgPT4gZC5pZCk7XG4gICAgcmVzZXRDb2xvcnMoKTtcbiAgICB0aGlzLm5iRnQgPSB0aGlzLmRhdGEubGVuZ3RoO1xuICAgIGNvbXB1dGVQZXJjZW50aWxlUmFuayh0aGlzLmRhdGEsIHRoaXMudmFyaWFibGUxLCB0aGlzLnJhbmtfdmFyaWFibGUxKTtcbiAgICBjb21wdXRlUGVyY2VudGlsZVJhbmsodGhpcy5kYXRhLCB0aGlzLnZhcmlhYmxlMiwgdGhpcy5yYW5rX3ZhcmlhYmxlMik7XG5cbiAgICB0aGlzLnhJbnZlcnNlZCA9IGZhbHNlO1xuICAgIHRoaXMueUludmVyc2VkID0gZmFsc2U7XG4gICAgY29uc3QgdG1wX215X3JlZ2lvbiA9IHRoaXMuZGF0YS5maWx0ZXIoZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVswXTtcbiAgICB0aGlzLnJlZl92YWx1ZTEgPSB0bXBfbXlfcmVnaW9uW3RoaXMudmFyaWFibGUxXTtcbiAgICB0aGlzLnJlZl92YWx1ZTIgPSB0bXBfbXlfcmVnaW9uW3RoaXMudmFyaWFibGUyXTtcblxuICAgIHRoaXMueC5kb21haW4oZDMuZXh0ZW50KHRoaXMuZGF0YSwgZCA9PiBkW3RoaXMucmFua192YXJpYWJsZTFdKSkubmljZSgpO1xuICAgIHRoaXMueS5kb21haW4oZDMuZXh0ZW50KHRoaXMuZGF0YSwgZCA9PiBkW3RoaXMucmFua192YXJpYWJsZTJdKSkubmljZSgpO1xuICAgIHRoaXMubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gICAgdGhpcy51cGRhdGVJdGVtc0N0eE1lbnUoKTtcbiAgICB0aGlzLnVwZGF0ZU1lYW5WYWx1ZSgpO1xuICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgICB0aGlzLnVwZGF0ZVRhYmxlU3RhdCgpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cblxuICBjaGFuZ2VWYXJpYWJsZVgoY29kZV92YXJpYWJsZSkge1xuICAgIHRoaXMudmFyaWFibGUxID0gY29kZV92YXJpYWJsZTtcbiAgICB0aGlzLnJhbmtfdmFyaWFibGUxID0gYHByXyR7dGhpcy52YXJpYWJsZTF9YDtcbiAgICB0aGlzLnByZXR0eV9uYW1lMSA9IHZhcmlhYmxlc19pbmZvLmZpbmQoZnQgPT4gZnQucmF0aW8gPT09IGNvZGVfdmFyaWFibGUpLm5hbWU7XG4gICAgc3ZnX2Jhci5zZWxlY3QoJyN0aXRsZS1heGlzLXgnKVxuICAgICAgLnRleHQoY29kZV92YXJpYWJsZSk7XG4gICAgLy8gVE9ETzogQWxzbyBjaGFuZ2UgdGhlIHBvc2l0aW9uIG9mIHRoZSBidXR0b24gYWxvd2luZyB0byBpbnZlcnNlIHRoZSBzZXJpZVxuICAgIHRoaXMudXBkYXRlSXRlbXNDdHhNZW51KCk7XG4gICAgdGhpcy5kYXRhID0gYXBwLmN1cnJlbnRfZGF0YS5maWx0ZXIoZnQgPT4gISFmdFt0aGlzLnZhcmlhYmxlMV0gJiYgISFmdFt0aGlzLnZhcmlhYmxlMl0pXG4gICAgICAubWFwKChkKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcyA9IHsgaWQ6IGQuaWQgfTtcbiAgICAgICAgcmVzW3RoaXMudmFyaWFibGUxXSA9IGRbdGhpcy52YXJpYWJsZTFdO1xuICAgICAgICByZXNbdGhpcy52YXJpYWJsZTJdID0gZFt0aGlzLnZhcmlhYmxlMl07XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgICB9KTtcbiAgICB0aGlzLmN1cnJlbnRfaWRzID0gdGhpcy5kYXRhLm1hcChkID0+IGQuaWQpO1xuICAgIHJlc2V0Q29sb3JzKCk7XG4gICAgdGhpcy5uYkZ0ID0gdGhpcy5kYXRhLmxlbmd0aDtcbiAgICBjb21wdXRlUGVyY2VudGlsZVJhbmsodGhpcy5kYXRhLCB0aGlzLnZhcmlhYmxlMSwgdGhpcy5yYW5rX3ZhcmlhYmxlMSk7XG4gICAgY29tcHV0ZVBlcmNlbnRpbGVSYW5rKHRoaXMuZGF0YSwgdGhpcy52YXJpYWJsZTIsIHRoaXMucmFua192YXJpYWJsZTIpO1xuICAgIHRoaXMucmVmX3ZhbHVlMSA9IHRoaXMuZGF0YS5maW5kKFxuICAgICAgZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVt0aGlzLnZhcmlhYmxlMV07XG4gICAgdGhpcy54LmRvbWFpbihkMy5leHRlbnQodGhpcy5kYXRhLCBkID0+IGRbdGhpcy5yYW5rX3ZhcmlhYmxlMV0pKS5uaWNlKCk7XG4gICAgLy8gdGhpcy55LmRvbWFpbihkMy5leHRlbnQodGhpcy5kYXRhLCBkID0+IGRbdGhpcy5yYW5rX3ZhcmlhYmxlMl0pKS5uaWNlKCk7XG4gICAgdGhpcy51cGRhdGVNZWFuVmFsdWUoKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgdGhpcy51cGRhdGVUYWJsZVN0YXQoKTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG5cbiAgY2hhbmdlVmFyaWFibGVZKGNvZGVfdmFyaWFibGUpIHtcbiAgICB0aGlzLnZhcmlhYmxlMiA9IGNvZGVfdmFyaWFibGU7XG4gICAgdGhpcy5yYW5rX3ZhcmlhYmxlMiA9IGBwcl8ke3RoaXMudmFyaWFibGUyfWA7XG4gICAgdGhpcy5wcmV0dHlfbmFtZTIgPSB2YXJpYWJsZXNfaW5mby5maW5kKGZ0ID0+IGZ0LnJhdGlvID09PSBjb2RlX3ZhcmlhYmxlKS5uYW1lO1xuICAgIHN2Z19iYXIuc2VsZWN0KCcjdGl0bGUtYXhpcy15JylcbiAgICAgIC50ZXh0KGNvZGVfdmFyaWFibGUpO1xuICAgIC8vIFRPRE86IEFsc28gY2hhbmdlIHRoZSBwb3NpdGlvbiBvZiB0aGUgYnV0dG9uIGFsb3dpbmcgdG8gaW52ZXJzZSB0aGUgc2VyaWVcbiAgICB0aGlzLnVwZGF0ZUl0ZW1zQ3R4TWVudSgpO1xuICAgIHRoaXMuZGF0YSA9IGFwcC5jdXJyZW50X2RhdGEuZmlsdGVyKGZ0ID0+ICEhZnRbdGhpcy52YXJpYWJsZTFdICYmICEhZnRbdGhpcy52YXJpYWJsZTJdKVxuICAgICAgLm1hcCgoZCkgPT4ge1xuICAgICAgICBjb25zdCByZXMgPSB7IGlkOiBkLmlkIH07XG4gICAgICAgIHJlc1t0aGlzLnZhcmlhYmxlMV0gPSBkW3RoaXMudmFyaWFibGUxXTtcbiAgICAgICAgcmVzW3RoaXMudmFyaWFibGUyXSA9IGRbdGhpcy52YXJpYWJsZTJdO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfSk7XG4gICAgdGhpcy5jdXJyZW50X2lkcyA9IHRoaXMuZGF0YS5tYXAoZCA9PiBkLmlkKTtcbiAgICByZXNldENvbG9ycygpO1xuICAgIHRoaXMubmJGdCA9IHRoaXMuZGF0YS5sZW5ndGg7XG4gICAgY29tcHV0ZVBlcmNlbnRpbGVSYW5rKHRoaXMuZGF0YSwgdGhpcy52YXJpYWJsZTEsIHRoaXMucmFua192YXJpYWJsZTEpO1xuICAgIGNvbXB1dGVQZXJjZW50aWxlUmFuayh0aGlzLmRhdGEsIHRoaXMudmFyaWFibGUyLCB0aGlzLnJhbmtfdmFyaWFibGUyKTtcbiAgICB0aGlzLnJlZl92YWx1ZTIgPSB0aGlzLmRhdGEuZmluZChcbiAgICAgIGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbilbdGhpcy52YXJpYWJsZTJdO1xuICAgIC8vIHRoaXMueC5kb21haW4oZDMuZXh0ZW50KHRoaXMuZGF0YSwgZCA9PiBkW3RoaXMucmFua192YXJpYWJsZTFdKSkubmljZSgpO1xuICAgIHRoaXMueS5kb21haW4oZDMuZXh0ZW50KHRoaXMuZGF0YSwgZCA9PiBkW3RoaXMucmFua192YXJpYWJsZTJdKSkubmljZSgpO1xuICAgIHRoaXMudXBkYXRlTWVhblZhbHVlKCk7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICAgIHRoaXMudXBkYXRlVGFibGVTdGF0KCk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIHVwZGF0ZUl0ZW1zQ3R4TWVudSgpIHtcbiAgICB0aGlzLml0ZW1zWCA9IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpby5maWx0ZXIoZWxlbSA9PiBlbGVtICE9PSB0aGlzLnZhcmlhYmxlMilcbiAgICAgIC5tYXAoZWxlbSA9PiAoe1xuICAgICAgICBuYW1lOiBlbGVtLFxuICAgICAgICBhY3Rpb246ICgpID0+IHRoaXMuY2hhbmdlVmFyaWFibGVYKGVsZW0pLFxuICAgICAgfSkpO1xuICAgIHRoaXMuaXRlbXNZID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvLmZpbHRlcihlbGVtID0+IGVsZW0gIT09IHRoaXMudmFyaWFibGUxKVxuICAgICAgLm1hcChlbGVtID0+ICh7XG4gICAgICAgIG5hbWU6IGVsZW0sXG4gICAgICAgIGFjdGlvbjogKCkgPT4gdGhpcy5jaGFuZ2VWYXJpYWJsZVkoZWxlbSksXG4gICAgICB9KSk7XG4gIH1cblxuICBhZGRWYXJpYWJsZShjb2RlX3ZhcmlhYmxlLCBuYW1lX3ZhcmlhYmxlKSB7XG4gICAgdGhpcy5pdGVtc1gucHVzaCh7XG4gICAgICBuYW1lOiBjb2RlX3ZhcmlhYmxlLFxuICAgICAgYWN0aW9uOiAoKSA9PiB0aGlzLmNoYW5nZVZhcmlhYmxlWChjb2RlX3ZhcmlhYmxlKSxcbiAgICB9KTtcbiAgICB0aGlzLml0ZW1zWS5wdXNoKHtcbiAgICAgIG5hbWU6IGNvZGVfdmFyaWFibGUsXG4gICAgICBhY3Rpb246ICgpID0+IHRoaXMuY2hhbmdlVmFyaWFibGVZKGNvZGVfdmFyaWFibGUpLFxuICAgIH0pO1xuICB9XG5cbiAgcmVtb3ZlVmFyaWFibGUoY29kZV92YXJpYWJsZSkge1xuICAgIC8vIFJlbW92ZSB0aGUgdmFyaWFibGUgZnJvbSB0aGUgWCBhbmQgWSBsaXN0IG9mIGl0ZW1zOlxuICAgIGZvciAobGV0IGkgPSB0aGlzLml0ZW1zWC5sZW5ndGggLSAxOyBpID4gLTE7IGktLSkge1xuICAgICAgaWYgKHRoaXMuaXRlbXNYW2ldLm5hbWUgPT09IGNvZGVfdmFyaWFibGUpIHtcbiAgICAgICAgdGhpcy5pdGVtc1guc3BsaWNlKGksIDEpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IHRoaXMuaXRlbXNZLmxlbmd0aCAtIDE7IGkgPiAtMTsgaS0tKSB7XG4gICAgICBpZiAodGhpcy5pdGVtc1lbaV0ubmFtZSA9PT0gY29kZV92YXJpYWJsZSkge1xuICAgICAgICB0aGlzLml0ZW1zWS5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIHRoZSB2YXJpYWJsZSB0byByZW1vdmUgd2FzIGN1cnJlbnRseSB1c2VkIGZvciBkcmF3aW5nIHRoaXMgY2hhcnQsXG4gICAgLy8gc2V0IGEgbmV3IHZhcmlhYmxlIGZvciB0aGlzIGF4aXMgYW5kIHJlZHJhdyB0aGUgY2hhcnQ6XG4gICAgaWYgKGNvZGVfdmFyaWFibGUgPT09IHRoaXMudmFyaWFibGUxKSB7XG4gICAgICBjb25zdCBuZXdfdmFyX3ggPSB0aGlzLml0ZW1zWC5maWx0ZXIoZnQgPT4gZnQubmFtZSAhPT0gdGhpcy52YXJpYWJsZTIpWzBdLm5hbWU7XG4gICAgICB0aGlzLmNoYW5nZVZhcmlhYmxlWChuZXdfdmFyX3gpO1xuICAgIH0gZWxzZSBpZiAoY29kZV92YXJpYWJsZSA9PT0gdGhpcy52YXJpYWJsZTIpIHtcbiAgICAgIGNvbnN0IG5ld192YXJfeSA9IHRoaXMuaXRlbXNZLmZpbHRlcihmdCA9PiBmdC5uYW1lICE9PSB0aGlzLnZhcmlhYmxlMSlbMF0ubmFtZTtcbiAgICAgIHRoaXMuY2hhbmdlVmFyaWFibGVZKG5ld192YXJfeSk7XG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlKCkge1xuICAgIHRoaXMudGFibGVfc3RhdHMucmVtb3ZlKCk7XG4gICAgdGhpcy5tYXBfZWxlbS51bmJpbmRCcnVzaCgpO1xuICAgIHRoaXMubWFwX2VsZW0gPSBudWxsO1xuICAgIHN2Z19iYXIuaHRtbCgnJyk7XG4gIH1cblxuICBiaW5kTWFwKG1hcF9lbGVtKSB7XG4gICAgdGhpcy5tYXBfZWxlbSA9IG1hcF9lbGVtO1xuICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG5cbiAgcHJlcGFyZVRhYmxlU3RhdCgpIHtcbiAgICBjb25zdCB2YWx1ZXMxID0gdGhpcy5kYXRhLm1hcChkID0+IGRbdGhpcy52YXJpYWJsZTFdKTtcbiAgICBjb25zdCB2YWx1ZXMyID0gdGhpcy5kYXRhLm1hcChkID0+IGRbdGhpcy52YXJpYWJsZTJdKTtcbiAgICBjb25zdCBmZWF0dXJlcyA9IFtcbiAgICB7XG4gICAgICBNaW46IGQzLm1pbih2YWx1ZXMxKSxcbiAgICAgIE1heDogZDMubWF4KHZhbHVlczEpLFxuICAgICAgTW95ZW5uZTogZDMubWVhbih2YWx1ZXMxKSxcbiAgICAgIGlkOiB0aGlzLnZhcmlhYmxlMSxcbiAgICAgIFZhcmlhYmxlOiB0aGlzLnZhcmlhYmxlMSxcbiAgICAgICdNYSByw6lnaW9uJzogdGhpcy5yZWZfdmFsdWUxLFxuICAgIH0sXG4gICAge1xuICAgICAgTWluOiBkMy5taW4odmFsdWVzMiksXG4gICAgICBNYXg6IGQzLm1heCh2YWx1ZXMyKSxcbiAgICAgIE1veWVubmU6IGQzLm1lYW4odmFsdWVzMiksXG4gICAgICBpZDogdGhpcy52YXJpYWJsZTIsXG4gICAgICBWYXJpYWJsZTogdGhpcy52YXJpYWJsZTIsXG4gICAgICAnTWEgcsOpZ2lvbic6IHRoaXMucmVmX3ZhbHVlMixcbiAgICB9XTtcbiAgICByZXR1cm4gZmVhdHVyZXM7XG4gIH1cblxuICB1cGRhdGVUYWJsZVN0YXQoKSB7XG4gICAgdGhpcy50YWJsZV9zdGF0cy5yZW1vdmVBbGwoKTtcbiAgICB0aGlzLnRhYmxlX3N0YXRzLmFkZEZlYXR1cmVzKHRoaXMucHJlcGFyZVRhYmxlU3RhdCgpKTtcbiAgfVxuXG4gIG1ha2VUYWJsZVN0YXQoKSB7XG4gICAgY29uc3QgZmVhdHVyZXMgPSB0aGlzLnByZXBhcmVUYWJsZVN0YXQoKTtcbiAgICB0aGlzLnRhYmxlX3N0YXRzID0gbmV3IFRhYmxlUmVzdW1lU3RhdChmZWF0dXJlcyk7XG4gIH1cblxufVxuIiwiaW1wb3J0IHtcbiAgY29tcCwgbWF0aF9yb3VuZCwgbWF0aF9hYnMsIG1hdGhfbWF4LCBtYXRoX3NpbiwgbWF0aF9jb3MsIEhBTEZfUEksIFJlY3QsXG4gIHByZXBhcmVUb29sdGlwLCBzdmdQYXRoVG9Db29yZHMsIF9nZXRQUiwgY29tcHV0ZVBlcmNlbnRpbGVSYW5rLFxufSBmcm9tICcuLy4uL2hlbHBlcnMnO1xuaW1wb3J0IHsgY29sb3JfZGlzYWJsZWQsIGNvbG9yX2NvdW50cmllcywgY29sb3Jfc3VwLCBjb2xvcl9pbmYsIGNvbG9yX2hpZ2hsaWdodCB9IGZyb20gJy4vLi4vb3B0aW9ucyc7XG5pbXBvcnQgeyBjYWxjUG9wQ29tcGxldHVkZVN1YnNldCB9IGZyb20gJy4vLi4vcHJlcGFyZV9kYXRhJztcbmltcG9ydCB7IHN2Z19tYXAgfSBmcm9tICcuLy4uL21hcCc7XG5pbXBvcnQgeyBhcHAsIHZhcmlhYmxlc19pbmZvLCByZXNldENvbG9ycyB9IGZyb20gJy4vLi4vLi4vbWFpbic7XG5pbXBvcnQgVGFibGVSZXN1bWVTdGF0IGZyb20gJy4vLi4vdGFibGVSZXN1bWVTdGF0JztcblxuY29uc3Qgc3ZnX2JhciA9IGQzLnNlbGVjdCgnI3N2Z19iYXInKTtcbmNvbnN0IG1hcmdpbiA9IHsgdG9wOiA3MCwgcmlnaHQ6IDcwLCBib3R0b206IDcwLCBsZWZ0OiA3MCB9O1xuXG5jb25zdCB3aWR0aCA9ICtzdmdfYmFyLmF0dHIoJ3dpZHRoJykgLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodCxcbiAgaGVpZ2h0ID0gK3N2Z19iYXIuYXR0cignaGVpZ2h0JykgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcblxuY29uc3Qgd3JhcCA9IChfdGV4dCwgd2lkdGgpID0+IHtcbiAgX3RleHQuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgdGV4dCA9IGQzLnNlbGVjdCh0aGlzKSxcbiAgICAgIHdvcmRzID0gdGV4dC50ZXh0KCkuc3BsaXQoL1xccysvKS5yZXZlcnNlKCksXG4gICAgICBsaW5lSGVpZ2h0ID0gMS40LCAvLyBlbXNcbiAgICAgIHkgPSB0ZXh0LmF0dHIoJ3knKSxcbiAgICAgIHggPSB0ZXh0LmF0dHIoJ3gnKSxcbiAgICAgIGR5ID0gcGFyc2VGbG9hdCh0ZXh0LmF0dHIoJ2R5JykpO1xuICAgIGxldCBsaW5lID0gW10sXG4gICAgICBsaW5lTnVtYmVyID0gMDtcbiAgICBsZXQgdHNwYW4gPSB0ZXh0LnRleHQobnVsbClcbiAgICAgIC5hcHBlbmQoJ3RzcGFuJylcbiAgICAgIC5hdHRyKCd4JywgeClcbiAgICAgIC5hdHRyKCd5JywgeSlcbiAgICAgIC5hdHRyKCdkeScsIGAke2R5fWVtYCk7XG4gICAgbGV0IHdvcmQgPSB3b3Jkcy5wb3AoKTtcbiAgICB3aGlsZSAod29yZCkge1xuICAgICAgbGluZS5wdXNoKHdvcmQpO1xuICAgICAgdHNwYW4udGV4dChsaW5lLmpvaW4oJyAnKSk7XG4gICAgICBpZiAodHNwYW4ubm9kZSgpLmdldENvbXB1dGVkVGV4dExlbmd0aCgpID4gd2lkdGgpIHtcbiAgICAgICAgbGluZS5wb3AoKTtcbiAgICAgICAgdHNwYW4udGV4dChsaW5lLmpvaW4oJyAnKSk7XG4gICAgICAgIGxpbmUgPSBbd29yZF07XG4gICAgICAgIHRzcGFuID0gdGV4dC5hcHBlbmQoJ3RzcGFuJylcbiAgICAgICAgICAuYXR0cigneCcsIHgpXG4gICAgICAgICAgLmF0dHIoJ3knLCB5KVxuICAgICAgICAgIC5hdHRyKCdkeScsIGAkeysrbGluZU51bWJlciAqIGxpbmVIZWlnaHQgKyBkeX1lbWApXG4gICAgICAgICAgLnRleHQod29yZCk7XG4gICAgICB9XG4gICAgICB3b3JkID0gd29yZHMucG9wKCk7XG4gICAgfVxuICB9KTtcbn07XG5cbmNvbnN0IG1vdmUgPSBmdW5jdGlvbiBtb3ZlKGFycmF5LCBmcm9tLCB0bykge1xuICBhcnJheS5zcGxpY2UodG8sIDAsIGFycmF5LnNwbGljZShmcm9tLCAxKVswXSk7XG4gIHJldHVybiBhcnJheTtcbn07XG5cbmNvbnN0IHN3YXAgPSBmdW5jdGlvbiBzd2FwKGFycmF5LCBpeDEsIGl4Mikge1xuICBbYXJyYXlbaXgxXSwgYXJyYXlbaXgyXV0gPSBbYXJyYXlbaXgyXSwgYXJyYXlbaXgxXV07IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgcmV0dXJuIGFycmF5O1xufTtcblxuZXhwb3J0IGNvbnN0IHByZXBhcmVfZGF0YV9yYWRhcl9kZWZhdWx0ID0gKGRhdGEsIHZhcmlhYmxlcykgPT4ge1xuICBjb25zdCBmZWF0dXJlcyA9IFtdO1xuICAvLyBQcmVwYXJlIHRoZSBkYXRhIGZvciBcIk15IFLDqWdpb25cIjpcbiAgY29uc3Qgdl9teV9yZWdpb24gPSBkYXRhLmZpbmQoZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKTtcbiAgY29uc3Qgb2piX215X3JlZ2lvbiA9IHtcbiAgICBuYW1lOiBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uLFxuICAgIGF4ZXM6IFtdLFxuICB9O1xuICB2YXJpYWJsZXMuZm9yRWFjaCgodikgPT4ge1xuICAgIGNvbnN0IHQgPSB2YXJpYWJsZXNfaW5mby5maW5kKGQgPT4gZC5yYXRpbyA9PT0gdikubmFtZTtcbiAgICBjb25zdCBfdiA9IGBwcl8ke3Z9YDtcbiAgICBvamJfbXlfcmVnaW9uLmF4ZXMucHVzaCh7XG4gICAgICBheGlzOiB0LCB2YWx1ZTogdl9teV9yZWdpb25bX3ZdLFxuICAgIH0pO1xuICB9KTtcbiAgZmVhdHVyZXMucHVzaChvamJfbXlfcmVnaW9uKTtcbiAgY29uc3Qgb2JqX21lYW4gPSB7XG4gICAgbmFtZTogJ01veWVubmUgZHUgY29udGV4dGUgZFxcJ8OpdHVkZScsXG4gICAgYXhlczogW10sXG4gIH07XG4gIHZhcmlhYmxlcy5mb3JFYWNoKCh2KSA9PiB7XG4gICAgY29uc3QgdCA9IHZhcmlhYmxlc19pbmZvLmZpbmQoZCA9PiBkLnJhdGlvID09PSB2KS5uYW1lO1xuICAgIGNvbnN0IF92ID0gYHByXyR7dn1gO1xuICAgIG9ial9tZWFuLmF4ZXMucHVzaCh7XG4gICAgICBheGlzOiB0LFxuICAgICAgdmFsdWU6IF9nZXRQUihkMy5tZWFuKGRhdGEubWFwKGQgPT4gZFtfdl0pKSwgZGF0YS5tYXAoZCA9PiBkW192XSkpLFxuICAgIH0pO1xuICB9KTtcbiAgZmVhdHVyZXMucHVzaChvYmpfbWVhbik7XG4gIHJldHVybiBmZWF0dXJlcztcbn07XG5cbmV4cG9ydCBjb25zdCBwcmVwYXJlX2RhdGFfcmFkYXJfZnQgPSAoZGF0YSwgdmFyaWFibGVzLCBmdCkgPT4ge1xuICBjb25zdCBmdF92YWx1ZXMgPSBkYXRhLmZpbmQoZCA9PiBkLmlkID09PSBmdCk7XG4gIGNvbnN0IG9iaiA9IHtcbiAgICBuYW1lOiBmdCxcbiAgICBheGVzOiBbXSxcbiAgfTtcbiAgdmFyaWFibGVzLmZvckVhY2goKHYpID0+IHtcbiAgICBjb25zdCB0ID0gdmFyaWFibGVzX2luZm8uZmluZChkID0+IGQucmF0aW8gPT09IHYpLm5hbWU7XG4gICAgY29uc3QgX3YgPSBgcHJfJHt2fWA7XG4gICAgb2JqLmF4ZXMucHVzaCh7XG4gICAgICBheGlzOiB0LCB2YWx1ZTogZnRfdmFsdWVzW192XSxcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBvYmo7XG59O1xuXG5leHBvcnQgY2xhc3MgUmFkYXJDaGFydDMge1xuICBjb25zdHJ1Y3RvcihkYXRhLCBvcHRpb25zKSB7XG4gICAgY29uc3QgY2ZnID0ge1xuICAgICAgdzogd2lkdGgsIC8vIFdpZHRoIG9mIHRoZSBjaXJjbGVcbiAgICAgIGg6IGhlaWdodCwgLy8gSGVpZ2h0IG9mIHRoZSBjaXJjbGVcbiAgICAgIG1hcmdpbjogbWFyZ2luLCAvLyBUaGUgbWFyZ2lucyBvZiB0aGUgU1ZHXG4gICAgICBsZXZlbHM6IDEwLCAvLyBIb3cgbWFueSBsZXZlbHMgb3IgaW5uZXIgY2lyY2xlcyBzaG91bGQgdGhlcmUgYmUgZHJhd25cbiAgICAgIG1heFZhbHVlOiAxMDAsIC8vIFdoYXQgaXMgdGhlIHZhbHVlIHRoYXQgdGhlIGJpZ2dlc3QgY2lyY2xlIHdpbGwgcmVwcmVzZW50XG4gICAgICBsYWJlbEZhY3RvcjogMS4zLCAvLyBIb3cgbXVjaCBmYXJ0aGVyIHRoYW4gdGhlIHJhZGl1cyBvZiB0aGUgb3V0ZXIgY2lyY2xlIHNob3VsZCB0aGUgbGFiZWxzIGJlIHBsYWNlZFxuICAgICAgd3JhcFdpZHRoOiA4NSwgLy8gVGhlIG51bWJlciBvZiBwaXhlbHMgYWZ0ZXIgd2hpY2ggYSBsYWJlbCBuZWVkcyB0byBiZSBnaXZlbiBhIG5ldyBsaW5lXG4gICAgICBvcGFjaXR5QXJlYTogMC4zNSwgLy8gVGhlIG9wYWNpdHkgb2YgdGhlIGFyZWEgb2YgdGhlIGJsb2JcbiAgICAgIGRvdFJhZGl1czogNCwgLy8gVGhlIHNpemUgb2YgdGhlIGNvbG9yZWQgY2lyY2xlcyBvZiBlYWNoIGJsb2dcbiAgICAgIG9wYWNpdHlDaXJjbGVzOiAwLjEsIC8vIFRoZSBvcGFjaXR5IG9mIHRoZSBjaXJjbGVzIG9mIGVhY2ggYmxvYlxuICAgICAgc3Ryb2tlV2lkdGg6IDIsIC8vIFRoZSB3aWR0aCBvZiB0aGUgc3Ryb2tlIGFyb3VuZCBlYWNoIGJsb2JcbiAgICAgIHJvdW5kU3Ryb2tlczogZmFsc2UsIC8vIElmIHRydWUgdGhlIGFyZWEgYW5kIHN0cm9rZSB3aWxsIGZvbGxvdyBhIHJvdW5kIHBhdGggKGNhcmRpbmFsLWNsb3NlZClcbiAgICAgIGNvbG9yOiBkMy5zY2FsZU9yZGluYWwoZDMuc2NoZW1lQ2F0ZWdvcnkxMCksIC8vIENvbG9yIGZ1bmN0aW9uLFxuICAgICAgZm9ybWF0OiAnLjInLCAvLyBUaGUgZm9ybWF0IHN0cmluZyB0byBiZSB1c2VkIGJ5IGQzLmZvcm1hdFxuICAgICAgdW5pdDogJyUnLCAvLyBUaGUgdW5pdCB0byBkaXNwbGF5IGFmdGVyIHRoZSBudW1iZXIgb24gdGhlIGF4aXMgYW5kIHBvaW50IHRvb2x0aXBzIChsaWtlICQsIOKCrCwgJSwgZXRjKVxuICAgICAgbGVnZW5kOiBmYWxzZSxcbiAgICAgIGFsbG93SW52ZXJzZURhdGE6IHRydWUsXG4gICAgfTtcbiAgICB0aGlzLmNmZyA9IGNmZztcbiAgICAvLyBQdXQgYWxsIG9mIHRoZSBvcHRpb25zIGludG8gYSB2YXJpYWJsZSBjYWxsZWQgY2ZnXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgZm9yIChjb25zdCBpIGluIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zW2ldICE9PSAndW5kZWZpbmVkJykgeyBjZmdbaV0gPSBvcHRpb25zW2ldOyB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5nID0gc3ZnX2Jhci5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2lkJywgJ1JhZGFyR3JwJylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7Y2ZnLncgLyAyICsgY2ZnLm1hcmdpbi5sZWZ0fSwke2NmZy5oIC8gMiArIGNmZy5tYXJnaW4udG9wfSlgKTtcblxuICAgIHRoaXMucHJlcGFyZURhdGEoZGF0YSk7XG4gICAgdGhpcy5kcmF3QXhpc0dyaWQoKTtcbiAgICB0aGlzLmRyYXdBcmVhKCk7XG4gICAgdGhpcy5oYW5kbGVMZWdlbmQoKTtcbiAgICAvLyBDb21wdXRlIHRoZSBcImNvbXBsw6l0dWRlXCIgdmFsdWUgZm9yIHRoZXNlIHJhdGlvczpcbiAgICB0aGlzLmNvbXBsZXR1ZGVfdmFsdWUgPSBjYWxjUG9wQ29tcGxldHVkZVN1YnNldChhcHAsIHRoaXMudmFyaWFibGVzKTtcblxuICAgIC8vIENyZWF0ZSB0aGUgXCJjb21wbMOpdHVkZVwiIHRleHQ6XG4gICAgdGhpcy5jb21wbGV0dWRlID0gc3ZnX2Jhci5hcHBlbmQoJ3RleHQnKVxuICAgICAgLmF0dHJzKHsgaWQ6ICdjaGFydF9jb21wbGV0dWRlJywgeDogNjAsIHk6IDQwIH0pXG4gICAgICAuc3R5bGVzKHsgJ2ZvbnQtZmFtaWx5JzogJ1xcJ1NpZ25pa2FcXCcsIHNhbnMtc2VyaWYnIH0pXG4gICAgICAudGV4dChgQ29tcGzDqXR1ZGUgOiAke3RoaXMuY29tcGxldHVkZV92YWx1ZX0lYCk7XG5cbiAgICBpZiAoY2ZnLmFsbG93SW52ZXJzZURhdGEpIHtcbiAgICAgIHRoaXMuaW52ZXJzZV9kYXRhID0gKGZpZWxkKSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGFfbGVuZ3RoID0gdGhpcy5kYXRhLmxlbmd0aDtcbiAgICAgICAgaWYgKCFmaWVsZCkge1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YV9sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgYXggPSB0aGlzLmRhdGFbaV0uYXhlcztcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYXgubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgYXhbal0udmFsdWUgPSAxMDAgLSBheFtqXS52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhX2xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBheCA9IHRoaXMuZGF0YVtpXS5heGVzO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBheC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICBpZiAoYXhbal0uYXhpcyA9PT0gZmllbGQpIHtcbiAgICAgICAgICAgICAgICBheFtqXS52YWx1ZSA9IDEwMCAtIGF4W2pdLnZhbHVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICB9O1xuICAgIH1cbiAgICB0aGlzLm1ha2VUYWJsZVN0YXQoKTtcbiAgfVxuXG4gIGFkZF9lbGVtZW50KGVsZW0pIHtcbiAgICBjb25zdCBuX2F4aXMgPSBlbGVtLmF4ZXMubWFwKGkgPT4gaS5heGlzKTtcbiAgICBpZiAoIShKU09OLnN0cmluZ2lmeShuX2F4aXMpID09PSBKU09OLnN0cmluZ2lmeSh0aGlzLmFsbEF4aXMpKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBlbGVtZW50IHdpdGggc2FtZSBheGVzIG5hbWUgdGhhbiBleGlzdGluZyBkYXRhLicpO1xuICAgIH1cbiAgICB0aGlzLmRhdGEucHVzaChlbGVtKTtcbiAgICB0aGlzLmRpc3BsYXllZF9pZHMucHVzaChlbGVtLm5hbWUpO1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5kYXRhLmxlbmd0aDsgaisrKSB7XG4gICAgICBjb25zdCBvbl9heGVzID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZGF0YVtqXS5heGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMuZGF0YVtqXS5heGVzW2ldLmlkID0gdGhpcy5kYXRhW2pdLm5hbWU7XG4gICAgICAgIG9uX2F4ZXMucHVzaCh0aGlzLmRhdGFbal0ubmFtZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgY2ZnID0gdGhpcy5jZmc7XG4gICAgY29uc3QgbiA9IHRoaXMuZGF0YS5sZW5ndGggLSAxO1xuICAgIGNvbnN0IGJsb2JXcmFwcGVyID0gdGhpcy5nXG4gICAgICAuaW5zZXJ0KCdnJywgJy5yYWRhckNpcmNsZVdyYXBwZXInKVxuICAgICAgLmF0dHIoJ2lkJywgZWxlbS5uYW1lLmluZGV4T2YoJyAnKSA+IC0xID8gJ2N0eCcgOiBlbGVtLm5hbWUpXG4gICAgICAuYXR0cignY2xhc3MnLCAncmFkYXJXcmFwcGVyJyk7XG5cbiAgICAvLyBBcHBlbmQgdGhlIGJhY2tncm91bmRzXG4gICAgYmxvYldyYXBwZXJcbiAgICAgIC5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ3JhZGFyQXJlYScpXG4gICAgICAuYXR0cignZCcsIHRoaXMucmFkYXJMaW5lKGVsZW0uYXhlcykpXG4gICAgICAuc3R5bGUoJ2ZpbGwnLCBjZmcuY29sb3IobikpXG4gICAgICAuc3R5bGUoJ2ZpbGwtb3BhY2l0eScsIDApXG4gICAgICAuc3R5bGUoJ2ZpbGwtb3BhY2l0eScsIGNmZy5vcGFjaXR5QXJlYSlcbiAgICAgIC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBEaW0gYWxsIGJsb2JzXG4gICAgICAgIGJsb2JXcmFwcGVyLnNlbGVjdEFsbCgnLnJhZGFyQXJlYScpXG4gICAgICAgICAgLnRyYW5zaXRpb24oKS5kdXJhdGlvbigyMDApXG4gICAgICAgICAgLnN0eWxlKCdmaWxsLW9wYWNpdHknLCAwLjEpO1xuICAgICAgICAvLyBCcmluZyBiYWNrIHRoZSBob3ZlcmVkIG92ZXIgYmxvYlxuICAgICAgICBkMy5zZWxlY3QodGhpcylcbiAgICAgICAgICAudHJhbnNpdGlvbigpLmR1cmF0aW9uKDIwMClcbiAgICAgICAgICAuc3R5bGUoJ2ZpbGwtb3BhY2l0eScsIDAuNyk7XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZW91dCcsICgpID0+IHtcbiAgICAgICAgLy8gQnJpbmcgYmFjayBhbGwgYmxvYnNcbiAgICAgICAgYmxvYldyYXBwZXIuc2VsZWN0QWxsKCcucmFkYXJBcmVhJylcbiAgICAgICAgICAudHJhbnNpdGlvbigpLmR1cmF0aW9uKDIwMClcbiAgICAgICAgICAuc3R5bGUoJ2ZpbGwtb3BhY2l0eScsIGNmZy5vcGFjaXR5QXJlYSk7XG4gICAgICB9KTtcbiAgICAgIC8vIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyAgIGNvbnN0IHAgPSB0aGlzLnBhcmVudEVsZW1lbnQ7XG4gICAgICAvLyAgIGlmIChwLnByZXZpb3VzU2libGluZy5jbGFzc05hbWUgIT09ICd0b29sdGlwJykge1xuICAgICAgLy8gICAgIGNvbnN0IGdyb3VwID0gZy5ub2RlKCk7XG4gICAgICAvLyAgICAgZ3JvdXAuaW5zZXJ0QmVmb3JlKHAsIGdyb3VwLnF1ZXJ5U2VsZWN0b3IoJy50b29sdGlwJykpO1xuICAgICAgLy8gICAgIGNvbnN0IG5ld19vcmRlciA9IFtdO1xuICAgICAgLy8gICAgIGcuc2VsZWN0QWxsKCcucmFkYXJXcmFwcGVyJykuZWFjaChkID0+IG5ld19vcmRlci5wdXNoKGQubmFtZSkpO1xuICAgICAgLy8gICAgIG5ld19vcmRlci5yZXZlcnNlKCk7XG4gICAgICAvLyAgICAgdXBkYXRlTGVnZW5kKG5ld19vcmRlcik7XG4gICAgICAvLyAgIH1cbiAgICAgIC8vIH0pO1xuXG4gICAgLy8gQ3JlYXRlIHRoZSBvdXRsaW5lc1xuICAgIGJsb2JXcmFwcGVyLmFwcGVuZCgncGF0aCcpXG4gICAgICAuYXR0cignY2xhc3MnLCAncmFkYXJTdHJva2UnKVxuICAgICAgLmF0dHIoJ2QnLCB0aGlzLnJhZGFyTGluZShlbGVtLmF4ZXMpKVxuICAgICAgLnN0eWxlKCdzdHJva2Utd2lkdGgnLCBgJHtjZmcuc3Ryb2tlV2lkdGh9cHhgKVxuICAgICAgLnN0eWxlKCdzdHJva2UnLCBjZmcuY29sb3IobikpXG4gICAgICAuc3R5bGUoJ2ZpbGwnLCAnbm9uZScpXG4gICAgICAuc3R5bGUoJ2ZpbHRlcicsICd1cmwoI2dsb3cpJyk7XG5cbiAgICAvLyBBcHBlbmQgdGhlIGNpcmNsZXNcbiAgICBibG9iV3JhcHBlci5zZWxlY3RBbGwoJy5yYWRhckNpcmNsZScpXG4gICAgICAuZGF0YShlbGVtLmF4ZXMpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgnY2lyY2xlJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdyYWRhckNpcmNsZScpXG4gICAgICAuYXR0cigncicsIGNmZy5kb3RSYWRpdXMpXG4gICAgICAuYXR0cignY3gnLCAoZCwgaSkgPT4gdGhpcy5yU2NhbGUoZC52YWx1ZSkgKiBtYXRoX2Nvcyh0aGlzLmFuZ2xlU2xpY2UgKiBpIC0gSEFMRl9QSSkpXG4gICAgICAuYXR0cignY3knLCAoZCwgaSkgPT4gdGhpcy5yU2NhbGUoZC52YWx1ZSkgKiBtYXRoX3Npbih0aGlzLmFuZ2xlU2xpY2UgKiBpIC0gSEFMRl9QSSkpXG4gICAgICAuc3R5bGUoJ2ZpbGwnLCBkID0+IGNmZy5jb2xvcihkLmlkKSlcbiAgICAgIC5zdHlsZSgnZmlsbC1vcGFjaXR5JywgMC44KTtcblxuICAgIC8vIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyAvLy8vLy8gQXBwZW5kIGludmlzaWJsZSBjaXJjbGVzIGZvciB0b29sdGlwIC8vLy8vLy8vLy8vXG4gICAgLy8gLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgLy8gV3JhcHBlciBmb3IgdGhlIGludmlzaWJsZSBjaXJjbGVzIG9uIHRvcFxuICAgIGNvbnN0IGJsb2JDaXJjbGVXcmFwcGVyID0gdGhpcy5nXG4gICAgICAuaW5zZXJ0KCdnJywgJy50b29sdGlwJylcbiAgICAgIC5hdHRyKCdpZCcsIGVsZW0ubmFtZS5pbmRleE9mKCcgJykgPiAtMSA/ICdjdHgnIDogZWxlbS5uYW1lKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ3JhZGFyQ2lyY2xlV3JhcHBlcicpO1xuXG4gICAgLy8gQXBwZW5kIGEgc2V0IG9mIGludmlzaWJsZSBjaXJjbGVzIG9uIHRvcCBmb3IgdGhlIG1vdXNlb3ZlciBwb3AtdXBcbiAgICBibG9iQ2lyY2xlV3JhcHBlci5zZWxlY3RBbGwoJy5yYWRhckludmlzaWJsZUNpcmNsZScpXG4gICAgICAuZGF0YShlbGVtLmF4ZXMpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgnY2lyY2xlJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdyYWRhckludmlzaWJsZUNpcmNsZScpXG4gICAgICAuYXR0cigncicsIGNmZy5kb3RSYWRpdXMgKiAxLjUpXG4gICAgICAuYXR0cignY3gnLCAoZCwgaSkgPT4gdGhpcy5yU2NhbGUoZC52YWx1ZSkgKiBtYXRoX2Nvcyh0aGlzLmFuZ2xlU2xpY2UgKiBpIC0gSEFMRl9QSSkpXG4gICAgICAuYXR0cignY3knLCAoZCwgaSkgPT4gdGhpcy5yU2NhbGUoZC52YWx1ZSkgKiBtYXRoX3Npbih0aGlzLmFuZ2xlU2xpY2UgKiBpIC0gSEFMRl9QSSkpXG4gICAgICAuc3R5bGUoJ2ZpbGwnLCAnbm9uZScpXG4gICAgICAuc3R5bGUoJ3BvaW50ZXItZXZlbnRzJywgJ2FsbCcpXG4gICAgICAub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgIHNlbGYuZy5zZWxlY3QoJy50b29sdGlwJylcbiAgICAgICAgICAuYXR0cigneCcsIHRoaXMuY3guYmFzZVZhbC52YWx1ZSAtIDEwKVxuICAgICAgICAgIC5hdHRyKCd5JywgdGhpcy5jeS5iYXNlVmFsLnZhbHVlIC0gMTApXG4gICAgICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgICAgIC5zdHlsZSgnZGlzcGxheScsICdibG9jaycpXG4gICAgICAgICAgLnRleHQodGhpcy5Gb3JtYXQoZC52YWx1ZSkgKyBjZmcudW5pdCk7XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZW91dCcsICgpID0+IHtcbiAgICAgICAgc2VsZi5nLnNlbGVjdCgnLnRvb2x0aXAnKS50cmFuc2l0aW9uKClcbiAgICAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpLnRleHQoJycpO1xuICAgICAgfSk7XG4gIH1cblxuICBjaGFuZ2VPcmRlcigpIHtcbiAgICB0aGlzLmRhdGEgPSB0aGlzLmRhdGEuc2xpY2UoMSwgdGhpcy5kYXRhLmxlbmd0aCkuY29uY2F0KHRoaXMuZGF0YS5zbGljZSgwLCAxKSk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIHByZXBhcmVEYXRhKGRhdGEpIHtcbiAgICBhcHAuY3VycmVudF9jb25maWcubmJfdmFyID0gMztcbiAgICB0aGlzLnZhcmlhYmxlcyA9IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpbztcbiAgICB0aGlzLnJlZl9kYXRhID0gZGF0YS5zbGljZSgpLmZpbHRlcihcbiAgICAgIGZ0ID0+IHRoaXMudmFyaWFibGVzLm1hcCh2ID0+ICEhZnRbdl0pLmV2ZXJ5KGQgPT4gZCA9PT0gdHJ1ZSkpO1xuICAgIHRoaXMucmFua192YXJpYWJsZXMgPSB0aGlzLnZhcmlhYmxlcy5tYXAoZCA9PiBgcHJfJHtkfWApO1xuICAgIHRoaXMudmFyaWFibGVzLmZvckVhY2goKGQsIGkpID0+IHtcbiAgICAgIGNvbXB1dGVQZXJjZW50aWxlUmFuayh0aGlzLnJlZl9kYXRhLCBkLCB0aGlzLnJhbmtfdmFyaWFibGVzW2ldKTtcbiAgICB9KTtcbiAgICB0aGlzLmRhdGEgPSBwcmVwYXJlX2RhdGFfcmFkYXJfZGVmYXVsdCh0aGlzLnJlZl9kYXRhLCB0aGlzLnZhcmlhYmxlcyk7XG4gICAgdGhpcy5kaXNwbGF5ZWRfaWRzID0gdGhpcy5kYXRhLm1hcChkID0+IGQubmFtZSk7XG4gICAgdGhpcy5jdXJyZW50X2lkcyA9IHRoaXMucmVmX2RhdGEubWFwKGQgPT4gZC5pZCk7XG4gICAgLy8gY29uc3QgcmVmX2lkcyA9IFtdO1xuICAgIC8vIElmIHRoZSBzdXBwbGllZCBtYXhWYWx1ZSBpcyBzbWFsbGVyIHRoYW4gdGhlIGFjdHVhbCBvbmUsIHJlcGxhY2UgYnkgdGhlIG1heCBpbiB0aGUgZGF0YVxuICAgIC8vIHZhciBtYXhWYWx1ZSA9IG1heChjZmcubWF4VmFsdWUsIGQzLm1heChkYXRhLCBmdW5jdGlvbihpKXtyZXR1cm4gZDMubWF4KGkubWFwKGZ1bmN0aW9uKG8pe3JldHVybiBvLnZhbHVlO30pKX0pKTtcbiAgICBsZXQgbWF4VmFsdWUgPSAwO1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5kYXRhLmxlbmd0aDsgaisrKSB7XG4gICAgICBjb25zdCBvbl9heGVzID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZGF0YVtqXS5heGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMuZGF0YVtqXS5heGVzW2ldLmlkID0gdGhpcy5kYXRhW2pdLm5hbWU7XG4gICAgICAgIC8vIG9uX2F4ZXMucHVzaCh0aGlzLmRhdGFbal0ubmFtZSk7XG4gICAgICAgIGlmICh0aGlzLmRhdGFbal0uYXhlc1tpXS52YWx1ZSA+IG1heFZhbHVlKSB7XG4gICAgICAgICAgbWF4VmFsdWUgPSB0aGlzLmRhdGFbal0uYXhlc1tpXS52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZWZfaWRzLnB1c2gob25fYXhlcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5tYXhWYWx1ZSA9IG1hdGhfbWF4KHRoaXMuY2ZnLm1heFZhbHVlLCBtYXhWYWx1ZSk7XG4gICAgdGhpcy5hbGxBeGlzID0gdGhpcy5kYXRhWzBdLmF4ZXMubWFwKGkgPT4gaS5heGlzKTsgLy8gTmFtZXMgb2YgZWFjaCBheGlzXG4gICAgdGhpcy50b3RhbCA9IHRoaXMuYWxsQXhpcy5sZW5ndGg7IC8vIFRoZSBudW1iZXIgb2YgZGlmZmVyZW50IGF4ZXNcbiAgICB0aGlzLnJhZGl1cyA9IE1hdGgubWluKHRoaXMuY2ZnLncgLyAyLCB0aGlzLmNmZy5oIC8gMik7IC8vIFJhZGl1cyBvZiB0aGUgb3V0ZXJtb3N0IGNpcmNsZVxuICAgIHRoaXMuRm9ybWF0ID0gZDMuZm9ybWF0KHRoaXMuY2ZnLmZvcm1hdCk7IC8vIEZvcm1hdHRpbmdcbiAgICB0aGlzLmFuZ2xlU2xpY2UgPSBNYXRoLlBJICogMiAvIHRoaXMudG90YWw7IC8vIFRoZSB3aWR0aCBpbiByYWRpYW5zIG9mIGVhY2ggXCJzbGljZVwiXG4gICAgLy8gU2NhbGUgZm9yIHRoZSByYWRpdXNcbiAgICB0aGlzLnJTY2FsZSA9IGQzLnNjYWxlTGluZWFyKClcbiAgICAgIC5yYW5nZShbMCwgdGhpcy5yYWRpdXNdKVxuICAgICAgLmRvbWFpbihbMCwgdGhpcy5tYXhWYWx1ZV0pO1xuICAgIC8vIFRoZSByYWRpYWwgbGluZSBmdW5jdGlvblxuICAgIHRoaXMucmFkYXJMaW5lID0gZDMucmFkaWFsTGluZSgpXG4gICAgICAuY3VydmUodGhpcy5jZmcucm91bmRTdHJva2VzID8gZDMuY3VydmVDYXJkaW5hbENsb3NlZCA6IGQzLmN1cnZlTGluZWFyQ2xvc2VkKVxuICAgICAgLnJhZGl1cyhkID0+IHRoaXMuclNjYWxlKGQudmFsdWUpKVxuICAgICAgLmFuZ2xlKChkLCBpKSA9PiBpICogdGhpcy5hbmdsZVNsaWNlKTtcbiAgfVxuXG4gIGRyYXdBeGlzR3JpZCgpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBjZmcgPSB0aGlzLmNmZztcbiAgICBjb25zdCBnID0gdGhpcy5nO1xuICAgIGNvbnN0IHJhZGl1cyA9IHRoaXMucmFkaXVzO1xuICAgIGNvbnN0IEZvcm1hdCA9IHRoaXMuRm9ybWF0O1xuICAgIGNvbnN0IG1heFZhbHVlID0gdGhpcy5tYXhWYWx1ZTtcbiAgICBjb25zdCByU2NhbGUgPSB0aGlzLnJTY2FsZTtcbiAgICBjb25zdCBhbmdsZVNsaWNlID0gdGhpcy5hbmdsZVNsaWNlO1xuXG4gICAgY29uc3QgbGFiZWxDbGlja2VkID0gZnVuY3Rpb24gbGFiZWxDbGlja2VkKCkge1xuICAgICAgY29uc3QgaXggPSArdGhpcy5pZDtcbiAgICAgIGlmIChpeCArIDEgPT09IHNlbGYuYWxsQXhpcy5sZW5ndGgpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxmLmRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBzd2FwKHNlbGYuZGF0YVtpXS5heGVzLCBpeCwgMCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG5ld19peCA9IGl4ICsgMTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxmLmRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBtb3ZlKHNlbGYuZGF0YVtpXS5heGVzLCBpeCwgbmV3X2l4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc2VsZi51cGRhdGUoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgbGFiZWxDdHhNZW51ID0gZnVuY3Rpb24gbGFiZWxDdHhNZW51KGxhYmVsKSB7XG4gICAgICBkMy5ldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGQzLmV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCBpeCA9ICt0aGlzLmlkO1xuICAgICAgc2VsZi5pbnZlcnNlX2RhdGEobGFiZWwpO1xuICAgIH07XG5cbiAgICBjb25zdCBheGlzR3JpZCA9IGcuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnYXhpc1dyYXBwZXInKTtcblxuICAgIC8vIERyYXcgdGhlIGJhY2tncm91bmQgY2lyY2xlc1xuICAgIGF4aXNHcmlkLnNlbGVjdEFsbCgnLmxldmVscycpXG4gICAgICAuZGF0YShkMy5yYW5nZSgxLCAoY2ZnLmxldmVscyArIDEpKS5yZXZlcnNlKCkpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgnY2lyY2xlJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdncmlkQ2lyY2xlJylcbiAgICAgIC5hdHRyKCdyJywgZCA9PiByYWRpdXMgLyBjZmcubGV2ZWxzICogZClcbiAgICAgIC5zdHlsZSgnZmlsbCcsICcjQ0RDRENEJylcbiAgICAgIC5zdHlsZSgnc3Ryb2tlJywgJyNDRENEQ0QnKVxuICAgICAgLnN0eWxlKCdmaWxsLW9wYWNpdHknLCBjZmcub3BhY2l0eUNpcmNsZXMpXG4gICAgICAuc3R5bGUoJ2ZpbHRlcicsICd1cmwoI2dsb3cpJyk7XG5cbiAgICAvLyBUZXh0IGluZGljYXRpbmcgYXQgd2hhdCAlIGVhY2ggbGV2ZWwgaXNcbiAgICBheGlzR3JpZC5zZWxlY3RBbGwoJy5heGlzTGFiZWwnKVxuICAgICAgLmRhdGEoZDMucmFuZ2UoMSwgKGNmZy5sZXZlbHMgKyAxKSkucmV2ZXJzZSgpKVxuICAgICAgLmVudGVyKCkuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdheGlzTGFiZWwnKVxuICAgICAgLmF0dHIoJ3gnLCA0KVxuICAgICAgLmF0dHIoJ3knLCBkID0+IC1kICogcmFkaXVzIC8gY2ZnLmxldmVscylcbiAgICAgIC5hdHRyKCdkeScsICcwLjRlbScpXG4gICAgICAuc3R5bGUoJ2ZvbnQtc2l6ZScsICcxMHB4JylcbiAgICAgIC5hdHRyKCdmaWxsJywgJyM3MzczNzMnKVxuICAgICAgLnRleHQoZCA9PiBGb3JtYXQobWF4VmFsdWUgKiBkIC8gY2ZnLmxldmVscykgKyBjZmcudW5pdCk7XG5cbiAgICAvLyBDcmVhdGUgdGhlIHN0cmFpZ2h0IGxpbmVzIHJhZGlhdGluZyBvdXR3YXJkIGZyb20gdGhlIGNlbnRlclxuICAgIGNvbnN0IGF4aXMgPSBheGlzR3JpZC5zZWxlY3RBbGwoJy5heGlzJylcbiAgICAgIC5kYXRhKHRoaXMuYWxsQXhpcylcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdheGlzJyk7XG4gICAgLy8gQXBwZW5kIHRoZSBsaW5lc1xuICAgIGF4aXMuYXBwZW5kKCdsaW5lJylcbiAgICAgIC5hdHRyKCd4MScsIDApXG4gICAgICAuYXR0cigneTEnLCAwKVxuICAgICAgLmF0dHIoJ3gyJywgKGQsIGkpID0+IHJTY2FsZShtYXhWYWx1ZSAqIDEuMSkgKiBtYXRoX2NvcyhhbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpKVxuICAgICAgLmF0dHIoJ3kyJywgKGQsIGkpID0+IHJTY2FsZShtYXhWYWx1ZSAqIDEuMSkgKiBtYXRoX3NpbihhbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2xpbmUnKVxuICAgICAgLnN0eWxlKCdzdHJva2UnLCAnd2hpdGUnKVxuICAgICAgLnN0eWxlKCdzdHJva2Utd2lkdGgnLCAnMnB4Jyk7XG5cbiAgICAvLyBBcHBlbmQgdGhlIGxhYmVscyBhdCBlYWNoIGF4aXNcbiAgICBheGlzLmFwcGVuZCgndGV4dCcpXG4gICAgICAuYXR0cignY2xhc3MnLCAnbGVnZW5kJylcbiAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgJzExcHgnKVxuICAgICAgLmF0dHIoJ2lkJywgKGQsIGkpID0+IGkpXG4gICAgICAuYXR0cigndGV4dC1hbmNob3InLCAnbWlkZGxlJylcbiAgICAgIC5hdHRyKCdkeScsICcwLjM1ZW0nKVxuICAgICAgLmF0dHIoJ3gnLCAoZCwgaSkgPT4gclNjYWxlKG1heFZhbHVlICogY2ZnLmxhYmVsRmFjdG9yKSAqIG1hdGhfY29zKGFuZ2xlU2xpY2UgKiBpIC0gSEFMRl9QSSkpXG4gICAgICAuYXR0cigneScsIChkLCBpKSA9PiByU2NhbGUobWF4VmFsdWUgKiBjZmcubGFiZWxGYWN0b3IpICogbWF0aF9zaW4oYW5nbGVTbGljZSAqIGkgLSBIQUxGX1BJKSlcbiAgICAgIC50ZXh0KGQgPT4gZClcbiAgICAgIC5vbignY2xpY2snLCBsYWJlbENsaWNrZWQpXG4gICAgICAub24oJ2NvbnRleHRtZW51JywgY2ZnLmFsbG93SW52ZXJzZURhdGEgPyBsYWJlbEN0eE1lbnUgOiBudWxsKVxuICAgICAgLmNhbGwod3JhcCwgY2ZnLndyYXBXaWR0aCk7XG5cbiAgICAvLyBGaWx0ZXIgZm9yIHRoZSBvdXRzaWRlIGdsb3dcbiAgICBjb25zdCBmaWx0ZXIgPSBnLmFwcGVuZCgnZGVmcycpXG4gICAgICAuYXBwZW5kKCdmaWx0ZXInKVxuICAgICAgLmF0dHIoJ2lkJywgJ2dsb3cnKTtcbiAgICBmaWx0ZXIuYXBwZW5kKCdmZUdhdXNzaWFuQmx1cicpXG4gICAgICAuYXR0cignc3RkRGV2aWF0aW9uJywgJzIuNScpXG4gICAgICAuYXR0cigncmVzdWx0JywgJ2NvbG9yZWRCbHVyJyk7XG4gICAgY29uc3QgZmVNZXJnZSA9IGZpbHRlci5hcHBlbmQoJ2ZlTWVyZ2UnKTtcbiAgICBmZU1lcmdlLmFwcGVuZCgnZmVNZXJnZU5vZGUnKS5hdHRyKCdpbicsICdjb2xvcmVkQmx1cicpO1xuICAgIGZlTWVyZ2UuYXBwZW5kKCdmZU1lcmdlTm9kZScpLmF0dHIoJ2luJywgJ1NvdXJjZUdyYXBoaWMnKTtcblxuICAgIHRoaXMuYXhpc0dyaWQgPSBheGlzR3JpZDtcbiAgfVxuXG4gIGhhbmRsZUxlZ2VuZCgpIHtcbiAgICBjb25zdCBjZmcgPSB0aGlzLmNmZztcbiAgICBpZiAoY2ZnLmxlZ2VuZCAhPT0gZmFsc2UgJiYgdHlwZW9mIGNmZy5sZWdlbmQgPT09ICdvYmplY3QnKSB7XG4gICAgICBjb25zdCBuYW1lcyA9IHRoaXMuZGF0YS5tYXAoZWwgPT4gZWwubmFtZSk7XG4gICAgICBpZiAoY2ZnLmxlZ2VuZC50aXRsZSkge1xuICAgICAgICB0aGlzLmxlZ2VuZFpvbmUuYXBwZW5kKCd0ZXh0JylcbiAgICAgICAgICAuYXR0cignY2xhc3MnLCAndGl0bGUnKVxuICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDAsIC0yMCknKVxuICAgICAgICAgIC5hdHRyKCd4JywgY2ZnLncgLSA3MClcbiAgICAgICAgICAuYXR0cigneScsIDEwKVxuICAgICAgICAgIC5hdHRyKCdmb250LXNpemUnLCAnMTJweCcpXG4gICAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnIzQwNDA0MCcpXG4gICAgICAgICAgLnRleHQoY2ZnLmxlZ2VuZC50aXRsZSk7XG4gICAgICB9XG4gICAgICBjb25zdCBsZWdlbmQgPSB0aGlzLmxlZ2VuZFpvbmVcbiAgICAgICAgLnNlbGVjdEFsbCgnZycpXG4gICAgICAgIC5kYXRhKG5hbWVzKTtcbiAgICAgIGNvbnN0IGxlZ2VuZEVudGVyID0gbGVnZW5kXG4gICAgICAgIC5lbnRlcigpXG4gICAgICAgIC5hcHBlbmQoJ2cnKTtcblxuICAgICAgLy8gQ3JlYXRlIHJlY3RhbmdsZXMgbWFya2Vyc1xuICAgICAgbGVnZW5kRW50ZXJcbiAgICAgICAgLmFwcGVuZCgncmVjdCcpXG4gICAgICAgIC5hdHRyKCd4JywgY2ZnLncgLSA2NSlcbiAgICAgICAgLmF0dHIoJ3knLCAoZCwgaSkgPT4gaSAqIDIwKVxuICAgICAgICAuYXR0cignd2lkdGgnLCAxMClcbiAgICAgICAgLmF0dHIoJ2hlaWdodCcsIDEwKVxuICAgICAgICAuc3R5bGUoJ2ZpbGwnLCBkID0+IGNmZy5jb2xvcihkKSk7XG4gICAgICAvLyBDcmVhdGUgbGFiZWxzXG4gICAgICBsZWdlbmRFbnRlclxuICAgICAgICAuYXBwZW5kKCd0ZXh0JylcbiAgICAgICAgLmF0dHIoJ3gnLCBjZmcudyAtIDUyKVxuICAgICAgICAuYXR0cigneScsIChkLCBpKSA9PiBpICogMjAgKyA5KVxuICAgICAgICAuYXR0cignZm9udC1zaXplJywgJzExcHgnKVxuICAgICAgICAuYXR0cignZmlsbCcsICcjNzM3MzczJylcbiAgICAgICAgLnRleHQoZCA9PiBkKTtcblxuICAgICAgbGVnZW5kLm1lcmdlKGxlZ2VuZEVudGVyKS5zZWxlY3RBbGwoJ3JlY3QnKVxuICAgICAgICAuYXR0cigneScsIChkLCBpKSA9PiBpICogMjApXG4gICAgICAgIC5zdHlsZSgnZmlsbCcsIGQgPT4gY2ZnLmNvbG9yKGQpKTtcblxuICAgICAgbGVnZW5kLm1lcmdlKGxlZ2VuZEVudGVyKS5zZWxlY3RBbGwoJ3RleHQnKVxuICAgICAgICAuYXR0cigneCcsIGNmZy53IC0gNTIpXG4gICAgICAgIC5hdHRyKCd5JywgKGQsIGkpID0+IGkgKiAyMCArIDkpXG4gICAgICAgIC50ZXh0KGQgPT4gZCk7XG5cbiAgICAgIGxlZ2VuZC5leGl0KCkucmVtb3ZlKCk7XG4gICAgfVxuICB9XG5cbiAgZHJhd0FyZWEoKSB7XG4gICAgY29uc3QgY2ZnID0gdGhpcy5jZmc7XG4gICAgY29uc3QgZyA9IHRoaXMuZztcbiAgICBjb25zdCBGb3JtYXQgPSB0aGlzLkZvcm1hdDtcbiAgICBjb25zdCByU2NhbGUgPSB0aGlzLnJTY2FsZTtcbiAgICBjb25zdCBhbmdsZVNsaWNlID0gdGhpcy5hbmdsZVNsaWNlO1xuXG4gICAgLy8gQ3JlYXRlIGEgd3JhcHBlciBmb3IgdGhlIGJsb2JzXG4gICAgY29uc3QgYmxvYldyYXBwZXIgPSBnLnNlbGVjdEFsbCgnLnJhZGFyV3JhcHBlcicpXG4gICAgICAuZGF0YSh0aGlzLmRhdGEsIGQgPT4gZC5uYW1lKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2lkJywgZCA9PiAoZC5uYW1lLmluZGV4T2YoJyAnKSA+IC0xID8gJ2N0eCcgOiBkLm5hbWUpKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ3JhZGFyV3JhcHBlcicpO1xuXG4gICAgLy8gQXBwZW5kIHRoZSBiYWNrZ3JvdW5kc1xuICAgIGJsb2JXcmFwcGVyXG4gICAgICAuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdyYWRhckFyZWEnKVxuICAgICAgLmF0dHIoJ2QnLCBkID0+IHRoaXMucmFkYXJMaW5lKGQuYXhlcykpXG4gICAgICAuc3R5bGUoJ2ZpbGwnLCAoZCwgaSkgPT4gY2ZnLmNvbG9yKGkpKVxuICAgICAgLnN0eWxlKCdmaWxsLW9wYWNpdHknLCAwKVxuICAgICAgLnN0eWxlKCdmaWxsLW9wYWNpdHknLCBjZmcub3BhY2l0eUFyZWEpXG4gICAgICAub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gRGltIGFsbCBibG9ic1xuICAgICAgICBibG9iV3JhcHBlci5zZWxlY3RBbGwoJy5yYWRhckFyZWEnKVxuICAgICAgICAgIC50cmFuc2l0aW9uKCkuZHVyYXRpb24oMjAwKVxuICAgICAgICAgIC5zdHlsZSgnZmlsbC1vcGFjaXR5JywgMC4xKTtcbiAgICAgICAgLy8gQnJpbmcgYmFjayB0aGUgaG92ZXJlZCBvdmVyIGJsb2JcbiAgICAgICAgZDMuc2VsZWN0KHRoaXMpXG4gICAgICAgICAgLnRyYW5zaXRpb24oKS5kdXJhdGlvbigyMDApXG4gICAgICAgICAgLnN0eWxlKCdmaWxsLW9wYWNpdHknLCAwLjcpO1xuICAgICAgfSlcbiAgICAgIC5vbignbW91c2VvdXQnLCAoKSA9PiB7XG4gICAgICAgIC8vIEJyaW5nIGJhY2sgYWxsIGJsb2JzXG4gICAgICAgIGJsb2JXcmFwcGVyLnNlbGVjdEFsbCgnLnJhZGFyQXJlYScpXG4gICAgICAgICAgLnRyYW5zaXRpb24oKS5kdXJhdGlvbigyMDApXG4gICAgICAgICAgLnN0eWxlKCdmaWxsLW9wYWNpdHknLCBjZmcub3BhY2l0eUFyZWEpO1xuICAgICAgfSk7XG4gICAgICAvLyAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgLy8gICBjb25zdCBwID0gdGhpcy5wYXJlbnRFbGVtZW50O1xuICAgICAgLy8gICBpZiAocC5wcmV2aW91c1NpYmxpbmcuY2xhc3NOYW1lICE9PSAndG9vbHRpcCcpIHtcbiAgICAgIC8vICAgICBjb25zdCBncm91cCA9IGcubm9kZSgpO1xuICAgICAgLy8gICAgIGdyb3VwLmluc2VydEJlZm9yZShwLCBncm91cC5xdWVyeVNlbGVjdG9yKCcudG9vbHRpcCcpKTtcbiAgICAgIC8vICAgICBjb25zdCBuZXdfb3JkZXIgPSBbXTtcbiAgICAgIC8vICAgICBnLnNlbGVjdEFsbCgnLnJhZGFyV3JhcHBlcicpLmVhY2goZCA9PiBuZXdfb3JkZXIucHVzaChkLm5hbWUpKTtcbiAgICAgIC8vICAgICBuZXdfb3JkZXIucmV2ZXJzZSgpO1xuICAgICAgLy8gICAgIHVwZGF0ZUxlZ2VuZChuZXdfb3JkZXIpO1xuICAgICAgLy8gICB9XG4gICAgICAvLyB9KTtcblxuICAgIC8vIENyZWF0ZSB0aGUgb3V0bGluZXNcbiAgICBibG9iV3JhcHBlci5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ3JhZGFyU3Ryb2tlJylcbiAgICAgIC5hdHRyKCdkJywgZCA9PiB0aGlzLnJhZGFyTGluZShkLmF4ZXMpKVxuICAgICAgLnN0eWxlKCdzdHJva2Utd2lkdGgnLCBgJHtjZmcuc3Ryb2tlV2lkdGh9cHhgKVxuICAgICAgLnN0eWxlKCdzdHJva2UnLCAoZCwgaSkgPT4gY2ZnLmNvbG9yKGkpKVxuICAgICAgLnN0eWxlKCdmaWxsJywgJ25vbmUnKVxuICAgICAgLnN0eWxlKCdmaWx0ZXInLCAndXJsKCNnbG93KScpO1xuXG4gICAgLy8gQXBwZW5kIHRoZSBjaXJjbGVzXG4gICAgYmxvYldyYXBwZXIuc2VsZWN0QWxsKCcucmFkYXJDaXJjbGUnKVxuICAgICAgLmRhdGEoZCA9PiBkLmF4ZXMpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgnY2lyY2xlJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdyYWRhckNpcmNsZScpXG4gICAgICAuYXR0cigncicsIGNmZy5kb3RSYWRpdXMpXG4gICAgICAuYXR0cignY3gnLCAoZCwgaSkgPT4gclNjYWxlKGQudmFsdWUpICogbWF0aF9jb3MoYW5nbGVTbGljZSAqIGkgLSBIQUxGX1BJKSlcbiAgICAgIC5hdHRyKCdjeScsIChkLCBpKSA9PiByU2NhbGUoZC52YWx1ZSkgKiBtYXRoX3NpbihhbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpKVxuICAgICAgLnN0eWxlKCdmaWxsJywgZCA9PiBjZmcuY29sb3IoZC5pZCkpXG4gICAgICAuc3R5bGUoJ2ZpbGwtb3BhY2l0eScsIDAuOCk7XG5cbiAgICAvLyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gLy8vLy8vIEFwcGVuZCBpbnZpc2libGUgY2lyY2xlcyBmb3IgdG9vbHRpcCAvLy8vLy8vLy8vL1xuICAgIC8vIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgIC8vIFdyYXBwZXIgZm9yIHRoZSBpbnZpc2libGUgY2lyY2xlcyBvbiB0b3BcbiAgICBjb25zdCBibG9iQ2lyY2xlV3JhcHBlciA9IGcuc2VsZWN0QWxsKCcucmFkYXJDaXJjbGVXcmFwcGVyJylcbiAgICAgIC5kYXRhKHRoaXMuZGF0YSwgZCA9PiBkLm5hbWUpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignaWQnLCBkID0+IChkLm5hbWUuaW5kZXhPZignICcpID4gLTEgPyAnY3R4JyA6IGQubmFtZSkpXG4gICAgICAuYXR0cignY2xhc3MnLCAncmFkYXJDaXJjbGVXcmFwcGVyJyk7XG5cbiAgICAvLyBBcHBlbmQgYSBzZXQgb2YgaW52aXNpYmxlIGNpcmNsZXMgb24gdG9wIGZvciB0aGUgbW91c2VvdmVyIHBvcC11cFxuICAgIGJsb2JDaXJjbGVXcmFwcGVyLnNlbGVjdEFsbCgnLnJhZGFySW52aXNpYmxlQ2lyY2xlJylcbiAgICAgIC5kYXRhKGQgPT4gZC5heGVzKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ2NpcmNsZScpXG4gICAgICAuYXR0cignY2xhc3MnLCAncmFkYXJJbnZpc2libGVDaXJjbGUnKVxuICAgICAgLmF0dHIoJ3InLCBjZmcuZG90UmFkaXVzICogMS41KVxuICAgICAgLmF0dHIoJ2N4JywgKGQsIGkpID0+IHJTY2FsZShkLnZhbHVlKSAqIG1hdGhfY29zKGFuZ2xlU2xpY2UgKiBpIC0gSEFMRl9QSSkpXG4gICAgICAuYXR0cignY3knLCAoZCwgaSkgPT4gclNjYWxlKGQudmFsdWUpICogbWF0aF9zaW4oYW5nbGVTbGljZSAqIGkgLSBIQUxGX1BJKSlcbiAgICAgIC5zdHlsZSgnZmlsbCcsICdub25lJylcbiAgICAgIC5zdHlsZSgncG9pbnRlci1ldmVudHMnLCAnYWxsJylcbiAgICAgIC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgZy5zZWxlY3QoJy50b29sdGlwJylcbiAgICAgICAgICAuYXR0cigneCcsIHRoaXMuY3guYmFzZVZhbC52YWx1ZSAtIDEwKVxuICAgICAgICAgIC5hdHRyKCd5JywgdGhpcy5jeS5iYXNlVmFsLnZhbHVlIC0gMTApXG4gICAgICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgICAgIC5zdHlsZSgnZGlzcGxheScsICdibG9jaycpXG4gICAgICAgICAgLnRleHQoRm9ybWF0KGQudmFsdWUpICsgY2ZnLnVuaXQpO1xuICAgICAgfSlcbiAgICAgIC5vbignbW91c2VvdXQnLCAoKSA9PiB7XG4gICAgICAgIGcuc2VsZWN0KCcudG9vbHRpcCcpLnRyYW5zaXRpb24oKVxuICAgICAgICAgIC5zdHlsZSgnZGlzcGxheScsICdub25lJykudGV4dCgnJyk7XG4gICAgICB9KTtcblxuICAgIGNvbnN0IHRvb2x0aXAgPSBnLmFwcGVuZCgndGV4dCcpXG4gICAgICAuYXR0cignY2xhc3MnLCAndG9vbHRpcCcpXG4gICAgICAuYXR0cigneCcsIDApXG4gICAgICAuYXR0cigneScsIDApXG4gICAgICAuc3R5bGUoJ2ZvbnQtc2l6ZScsICcxMnB4JylcbiAgICAgIC5zdHlsZSgnZGlzcGxheScsICdub25lJylcbiAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKVxuICAgICAgLmF0dHIoJ2R5JywgJzAuMzVlbScpO1xuXG4gICAgdGhpcy5sZWdlbmRab25lID0gc3ZnX2Jhci5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2lkJywgJ2xlZ2VuZFpvbmUnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2xlZ2VuZCcpXG4gICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke2NmZy5sZWdlbmQudHJhbnNsYXRlWH0sJHtjZmcubGVnZW5kLnRyYW5zbGF0ZVkgKyAyMH0pYCk7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgY29uc3QgclNjYWxlID0gdGhpcy5yU2NhbGU7XG4gICAgY29uc3QgbWF4VmFsdWUgPSB0aGlzLm1heFZhbHVlO1xuICAgIGNvbnN0IGNmZyA9IHRoaXMuY2ZnO1xuICAgIGNvbnN0IGFuZ2xlU2xpY2UgPSB0aGlzLmFuZ2xlU2xpY2U7XG4gICAgLy8gY29uc29sZS5sb2codGhpcy5jdXJyZW50X2lkcyk7XG4gICAgLy8gaWYgKG5ld19kYXRhKSB7XG4gICAgLy8gICBjb25zdCBuZXdfYXhpcyA9IG5ld19kYXRhWzBdLmF4ZXMubWFwKGVsZW0gPT4gZWxlbS5heGlzKTtcbiAgICAvLyAgIGlmICghKEpTT04uc3RyaW5naWZ5KG5ld19heGlzKSA9PT0gSlNPTi5zdHJpbmdpZnkodGhpcy5hbGxBeGlzKSkpIHtcbiAgICAvLyAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBlbGVtZW50IHdpdGggc2FtZSBheGVzIG5hbWUgdGhhbiBleGlzdGluZyBkYXRhLicpO1xuICAgIC8vICAgfVxuICAgIC8vICAgdGhpcy5kYXRhID0gbmV3X2RhdGE7XG4gICAgLy8gICB0aGlzLmFsbEF4aXMgPSBuZXdfYXhpcztcbiAgICAvLyB9IGVsc2Uge1xuICAgIHRoaXMuYWxsQXhpcyA9IHRoaXMuZGF0YVswXS5heGVzLm1hcChlbGVtID0+IGVsZW0uYXhpcyk7XG4gICAgLy8gfVxuICAgIGNvbnN0IHVwZGF0ZV9heGlzID0gdGhpcy5heGlzR3JpZC5zZWxlY3RBbGwoJy5heGlzJylcbiAgICAgIC5kYXRhKHRoaXMuYWxsQXhpcyk7XG5cbiAgICBjb25zdCB0ID0gdGhpcy5nLnNlbGVjdEFsbCgnLnJhZGFyV3JhcHBlcicpXG4gICAgICAudHJhbnNpdGlvbigpXG4gICAgICAuZHVyYXRpb24oMjI1KTtcbiAgICAgIC8vIC5vbignZW5kJywgKCkgPT4ge1xuICAgICAgLy8gICBwYXJlbnQuc2VsZWN0QWxsKCd0ZXh0LmxlZ2VuZCcpXG4gICAgICAvLyAgICAgLnRleHQoZCA9PiBkKVxuICAgICAgLy8gICAgIC5jYWxsKHdyYXAsIGNmZy53cmFwV2lkdGgpO1xuICAgICAgLy8gICAvLyB3cmFwKHBhcmVudC5zZWxlY3RBbGwoJ3RleHQubGVnZW5kJyksIGNmZy53cmFwV2lkdGgpO1xuICAgICAgLy8gfSk7XG4gICAgdXBkYXRlX2F4aXMuc2VsZWN0KCd0ZXh0LmxlZ2VuZCcpXG4gICAgICAuYXR0cignaWQnLCAoZCwgaSkgPT4gaSlcbiAgICAgIC5hdHRyKCd4JywgKGQsIGkpID0+IHJTY2FsZShtYXhWYWx1ZSAqIGNmZy5sYWJlbEZhY3RvcikgKiBtYXRoX2NvcyhhbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpKVxuICAgICAgLmF0dHIoJ3knLCAoZCwgaSkgPT4gclNjYWxlKG1heFZhbHVlICogY2ZnLmxhYmVsRmFjdG9yKSAqIG1hdGhfc2luKGFuZ2xlU2xpY2UgKiBpIC0gSEFMRl9QSSkpXG4gICAgICAudGV4dChkID0+IGQpXG4gICAgICAuY2FsbCh3cmFwLCBjZmcud3JhcFdpZHRoKTtcblxuICAgIGNvbnN0IHVwZGF0ZV9ibG9iV3JhcHBlciA9IHRoaXMuZy5zZWxlY3RBbGwoJy5yYWRhcldyYXBwZXInKVxuICAgICAgLmRhdGEodGhpcy5kYXRhLCBkID0+IGQubmFtZSk7XG5cbiAgICB1cGRhdGVfYmxvYldyYXBwZXIuc2VsZWN0KCcucmFkYXJBcmVhJylcbiAgICAgIC50cmFuc2l0aW9uKHQpXG4gICAgICAuYXR0cignZCcsIGQgPT4gdGhpcy5yYWRhckxpbmUoZC5heGVzKSk7XG5cbiAgICB1cGRhdGVfYmxvYldyYXBwZXIuc2VsZWN0KCcucmFkYXJTdHJva2UnKVxuICAgICAgLnRyYW5zaXRpb24odClcbiAgICAgIC5hdHRyKCdkJywgZCA9PiB0aGlzLnJhZGFyTGluZShkLmF4ZXMpKTtcblxuICAgIGNvbnN0IGNpcmNsZSA9IHVwZGF0ZV9ibG9iV3JhcHBlci5zZWxlY3RBbGwoJy5yYWRhckNpcmNsZScpXG4gICAgICAuZGF0YShkID0+IGQuYXhlcyk7XG4gICAgY2lyY2xlXG4gICAgICAudHJhbnNpdGlvbih0KVxuICAgICAgLmF0dHIoJ2N4JywgKGQsIGkpID0+IHJTY2FsZShkLnZhbHVlKSAqIG1hdGhfY29zKGFuZ2xlU2xpY2UgKiBpIC0gSEFMRl9QSSkpXG4gICAgICAuYXR0cignY3knLCAoZCwgaSkgPT4gclNjYWxlKGQudmFsdWUpICogbWF0aF9zaW4oYW5nbGVTbGljZSAqIGkgLSBIQUxGX1BJKSlcbiAgICAgIC5zdHlsZSgnZmlsbCcsIGQgPT4gY2ZnLmNvbG9yKGQuaWQpKVxuICAgICAgLnN0eWxlKCdmaWxsLW9wYWNpdHknLCAwLjgpO1xuXG4gICAgY29uc3QgdXBkYXRlX2Jsb2JDaXJjbGVXcmFwcGVyID0gdGhpcy5nLnNlbGVjdEFsbCgnLnJhZGFyQ2lyY2xlV3JhcHBlcicpXG4gICAgICAuZGF0YSh0aGlzLmRhdGEsIGQgPT4gZC5uYW1lKTtcblxuICAgIGNvbnN0IGludmlzaWJsZUNpcmNsZSA9IHVwZGF0ZV9ibG9iQ2lyY2xlV3JhcHBlci5zZWxlY3RBbGwoJy5yYWRhckludmlzaWJsZUNpcmNsZScpXG4gICAgICAuZGF0YShkID0+IGQuYXhlcyk7XG4gICAgaW52aXNpYmxlQ2lyY2xlXG4gICAgICAudHJhbnNpdGlvbih0KVxuICAgICAgLmF0dHIoJ2N4JywgKGQsIGkpID0+IHJTY2FsZShkLnZhbHVlKSAqIG1hdGhfY29zKGFuZ2xlU2xpY2UgKiBpIC0gSEFMRl9QSSkpXG4gICAgICAuYXR0cignY3knLCAoZCwgaSkgPT4gclNjYWxlKGQudmFsdWUpICogbWF0aF9zaW4oYW5nbGVTbGljZSAqIGkgLSBIQUxGX1BJKSk7XG4gIH1cblxuICByb3VuZF9zdHJva2UodmFsKSB7XG4gICAgaWYgKHZhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5jZmcucm91bmRTdHJva2VzO1xuICAgIH0gZWxzZSBpZiAodmFsICE9PSB0aGlzLmNmZy5yb3VuZFN0cm9rZXMpIHtcbiAgICAgIHRoaXMuY2ZnLnJvdW5kU3Ryb2tlcyA9IHZhbDtcbiAgICAgIHRoaXMucmFkYXJMaW5lID0gZDMucmFkaWFsTGluZSgpXG4gICAgICAgIC5jdXJ2ZSh0aGlzLmNmZy5yb3VuZFN0cm9rZXMgPyBkMy5jdXJ2ZUNhcmRpbmFsQ2xvc2VkIDogZDMuY3VydmVMaW5lYXJDbG9zZWQpXG4gICAgICAgIC5yYWRpdXMoZCA9PiB0aGlzLnJTY2FsZShkLnZhbHVlKSlcbiAgICAgICAgLmFuZ2xlKChkLCBpKSA9PiBpICogdGhpcy5hbmdsZVNsaWNlKTtcbiAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuICAgIHJldHVybiB2YWw7XG4gIH1cblxuICBiaW5kTWFwKG1hcF9lbGVtKSB7XG4gICAgdGhpcy5tYXBfZWxlbSA9IG1hcF9lbGVtO1xuICAgIHRoaXMubWFwX2VsZW0ucmVzZXRDb2xvcnModGhpcy5jdXJyZW50X2lkcyk7XG4gIH1cblxuICByZW1vdmUoKSB7XG4gICAgdGhpcy50YWJsZV9zdGF0cy5yZW1vdmUoKTtcbiAgICB0aGlzLnRhYmxlX3N0YXRzID0gbnVsbDtcbiAgICB0aGlzLm1hcF9lbGVtLnVuYmluZEJydXNoKCk7XG4gICAgdGhpcy5tYXBfZWxlbSA9IG51bGw7XG4gICAgc3ZnX2Jhci5odG1sKCcnKTtcbiAgfVxuXG4gIHVwZGF0ZUNoYW5nZVJlZ2lvbigpIHtcbiAgICAvLyBpZiAoYXBwLmN1cnJlbnRfY29uZmlnLmZpbHRlcl9rZXkpIHtcbiAgICB0aGlzLmNoYW5nZVN0dWR5Wm9uZSgpO1xuICAgIC8vIH0gZWxzZSB7XG4gICAgLy9cbiAgICAvLyB9XG4gIH1cblxuICBjaGFuZ2VTdHVkeVpvbmUoKSB7XG4gICAgdGhpcy52YXJpYWJsZXMgPSBhcHAuY3VycmVudF9jb25maWcucmF0aW87XG4gICAgdGhpcy5yZWZfZGF0YSA9IGFwcC5jdXJyZW50X2RhdGEuc2xpY2UoKS5maWx0ZXIoXG4gICAgICBmdCA9PiB0aGlzLnZhcmlhYmxlcy5tYXAodiA9PiAhIWZ0W3ZdKS5ldmVyeShkID0+IGQgPT09IHRydWUpKTtcbiAgICB0aGlzLnJhbmtfdmFyaWFibGVzID0gdGhpcy52YXJpYWJsZXMubWFwKGQgPT4gYHByXyR7ZH1gKTtcbiAgICB0aGlzLnZhcmlhYmxlcy5mb3JFYWNoKChkLCBpKSA9PiB7XG4gICAgICBjb21wdXRlUGVyY2VudGlsZVJhbmsodGhpcy5yZWZfZGF0YSwgZCwgdGhpcy5yYW5rX3ZhcmlhYmxlc1tpXSk7XG4gICAgfSk7XG4gICAgdGhpcy5kYXRhID0gcHJlcGFyZV9kYXRhX3JhZGFyX2RlZmF1bHQodGhpcy5yZWZfZGF0YSwgdGhpcy52YXJpYWJsZXMpO1xuICAgIHRoaXMuY3VycmVudF9pZHMgPSB0aGlzLnJlZl9kYXRhLm1hcChkID0+IGQuaWQpO1xuICAgIHRoaXMuZGlzcGxheWVkX2lkcyA9IHRoaXMuZGF0YS5tYXAoZCA9PiBkLm5hbWUpO1xuICAgIHJlc2V0Q29sb3JzKCk7XG4gICAgdGhpcy5uYkZ0ID0gdGhpcy5kYXRhLmxlbmd0aDtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgdGhpcy51cGRhdGVUYWJsZVN0YXQoKTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG5cbiAgYWRkVmFyaWFibGUoY29kZV92YXJpYWJsZSwgbmFtZV92YXJpYWJsZSkge1xuICAgIGNvbnN0IG90aGVyX2ZlYXR1cmVzID0gdGhpcy5kaXNwbGF5ZWRfaWRzLmZpbHRlcihkID0+IGQgIT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24gJiYgZCAhPT0gJ01veWVubmUgZHUgY29udGV4dGUgZFxcJ8OpdHVkZScpO1xuXG4gICAgdGhpcy5nLnJlbW92ZSgpO1xuICAgIHRoaXMuZyA9IHN2Z19iYXIuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdpZCcsICdSYWRhckdycCcpXG4gICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3RoaXMuY2ZnLncgLyAyICsgdGhpcy5jZmcubWFyZ2luLmxlZnR9LCR7dGhpcy5jZmcuaCAvIDIgKyB0aGlzLmNmZy5tYXJnaW4udG9wfSlgKTtcblxuICAgIHRoaXMucHJlcGFyZURhdGEoYXBwLmN1cnJlbnRfZGF0YSk7XG4gICAgdGhpcy5kcmF3QXhpc0dyaWQoKTtcbiAgICB0aGlzLmRyYXdBcmVhKCk7XG4gICAgdGhpcy5oYW5kbGVMZWdlbmQoKTtcbiAgICBvdGhlcl9mZWF0dXJlcy5mb3JFYWNoKChpZCkgPT4ge1xuICAgICAgY29uc3QgYSA9IHByZXBhcmVfZGF0YV9yYWRhcl9mdCh0aGlzLnJlZl9kYXRhLCB0aGlzLnZhcmlhYmxlcywgaWQpO1xuICAgICAgdGhpcy5hZGRfZWxlbWVudChhKTtcbiAgICB9KTtcbiAgICAvLyB0aGlzLnVwZGF0ZSgpO1xuICAgIC8vIHRoaXMudmFyaWFibGVzID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvO1xuICAgIC8vIHRoaXMucmVmX2RhdGEgPSBhcHAuY3VycmVudF9kYXRhLnNsaWNlKCkuZmlsdGVyKFxuICAgIC8vICAgZnQgPT4gdGhpcy52YXJpYWJsZXMubWFwKHYgPT4gISFmdFt2XSkuZXZlcnkoZCA9PiBkID09PSB0cnVlKSk7XG4gICAgLy8gdGhpcy5yYW5rX3ZhcmlhYmxlcyA9IHRoaXMudmFyaWFibGVzLm1hcChkID0+IGBwcl8ke2R9YCk7XG4gICAgLy8gdGhpcy52YXJpYWJsZXMuZm9yRWFjaCgoZCwgaSkgPT4ge1xuICAgIC8vICAgY29tcHV0ZVBlcmNlbnRpbGVSYW5rKHRoaXMucmVmX2RhdGEsIGQsIHRoaXMucmFua192YXJpYWJsZXNbaV0pO1xuICAgIC8vIH0pO1xuICAgIC8vIHRoaXMuZGF0YSA9IHByZXBhcmVfZGF0YV9yYWRhcl9kZWZhdWx0KHRoaXMucmVmX2RhdGEsIHRoaXMudmFyaWFibGVzKTtcbiAgICAvLyB0aGlzLmN1cnJlbnRfaWRzID0gdGhpcy5yZWZfZGF0YS5tYXAoZCA9PiBkLmlkKTtcbiAgICAvLyByZXNldENvbG9ycygpO1xuICAgIC8vIHRoaXMubmJGdCA9IHRoaXMuZGF0YS5sZW5ndGg7XG4gICAgLy8gdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICAgIC8vIHRoaXMudXBkYXRlVGFibGVTdGF0KCk7XG4gICAgLy8gdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIHJlbW92ZVZhcmlhYmxlKGNvZGVfdmFyaWFibGUpIHtcbiAgICB0aGlzLmcucmVtb3ZlKCk7XG4gICAgdGhpcy5nID0gc3ZnX2Jhci5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2lkJywgJ1JhZGFyR3JwJylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7dGhpcy5jZmcudyAvIDIgKyB0aGlzLmNmZy5tYXJnaW4ubGVmdH0sJHt0aGlzLmNmZy5oIC8gMiArIHRoaXMuY2ZnLm1hcmdpbi50b3B9KWApO1xuXG4gICAgdGhpcy5wcmVwYXJlRGF0YShhcHAuY3VycmVudF9kYXRhKTtcbiAgICB0aGlzLmRyYXdBeGlzR3JpZCgpO1xuICAgIHRoaXMuZHJhd0FyZWEoKTtcbiAgICB0aGlzLmhhbmRsZUxlZ2VuZCgpO1xuICAgIC8vIHRoaXMudmFyaWFibGVzID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvO1xuICAgIC8vIHRoaXMucmVmX2RhdGEgPSBhcHAuY3VycmVudF9kYXRhLnNsaWNlKCkuZmlsdGVyKFxuICAgIC8vICAgZnQgPT4gdGhpcy52YXJpYWJsZXMubWFwKHYgPT4gISFmdFt2XSkuZXZlcnkoZCA9PiBkID09PSB0cnVlKSk7XG4gICAgLy8gdGhpcy5yYW5rX3ZhcmlhYmxlcyA9IHRoaXMudmFyaWFibGVzLm1hcChkID0+IGBwcl8ke2R9YCk7XG4gICAgLy8gdGhpcy52YXJpYWJsZXMuZm9yRWFjaCgoZCwgaSkgPT4ge1xuICAgIC8vICAgY29tcHV0ZVBlcmNlbnRpbGVSYW5rKHRoaXMucmVmX2RhdGEsIGQsIHRoaXMucmFua192YXJpYWJsZXNbaV0pO1xuICAgIC8vIH0pO1xuICAgIC8vIHRoaXMuZGF0YSA9IHByZXBhcmVfZGF0YV9yYWRhcl9kZWZhdWx0KHRoaXMucmVmX2RhdGEsIHRoaXMudmFyaWFibGVzKTtcbiAgICAvLyB0aGlzLmN1cnJlbnRfaWRzID0gdGhpcy5yZWZfZGF0YS5tYXAoZCA9PiBkLmlkKTtcbiAgICAvLyByZXNldENvbG9ycygpO1xuICAgIC8vIHRoaXMubmJGdCA9IHRoaXMuZGF0YS5sZW5ndGg7XG4gICAgLy8gdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICAgIC8vIHRoaXMudXBkYXRlVGFibGVTdGF0KCk7XG4gICAgLy8gdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIHByZXBhcmVUYWJsZVN0YXQoKSB7XG4gICAgY29uc3QgYWxsX3ZhbHVlcyA9IHRoaXMudmFyaWFibGVzLm1hcCh2ID0+IHRoaXMucmVmX2RhdGEubWFwKGQgPT4gZFt2XSkpO1xuICAgIGNvbnN0IG15X3JlZ2lvbiA9IHRoaXMucmVmX2RhdGEuZmluZChkID0+IGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pO1xuICAgIGNvbnN0IGZlYXR1cmVzID0gYWxsX3ZhbHVlcy5tYXAoKHZhbHVlcywgaSkgPT4gKHtcbiAgICAgIE1pbjogZDMubWluKHZhbHVlcyksXG4gICAgICBNYXg6IGQzLm1heCh2YWx1ZXMpLFxuICAgICAgTW95ZW5uZTogZDMubWVhbih2YWx1ZXMpLFxuICAgICAgaWQ6IHRoaXMudmFyaWFibGVzW2ldLFxuICAgICAgVmFyaWFibGU6IHRoaXMudmFyaWFibGVzW2ldLFxuICAgICAgJ01hIHLDqWdpb24nOiBteV9yZWdpb25bdGhpcy52YXJpYWJsZXNbaV1dLFxuICAgIH0pKTtcbiAgICByZXR1cm4gZmVhdHVyZXM7XG4gIH1cblxuICAvLyBoYW5kbGVfYnJ1c2hfbWFwKGV2ZW50KSB7XG4gIC8vICAgY29uc29sZS5sb2codGhpcyk7XG4gIC8vICAgY29uc29sZS5sb2coZXZlbnQpO1xuICAvLyB9XG5cbiAgaGFuZGxlQ2xpY2tNYXAoZCwgcGFyZW50KSB7XG4gICAgY29uc3QgaWQgPSBkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dO1xuICAgIGlmICh0aGlzLmN1cnJlbnRfaWRzLmluZGV4T2YoaWQpIDwgMCB8fCBpZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbikgcmV0dXJuO1xuICAgIGlmICh0aGlzLmRpc3BsYXllZF9pZHMuaW5kZXhPZihpZCkgPCAwKSB7XG4gICAgICBjb25zdCBhID0gcHJlcGFyZV9kYXRhX3JhZGFyX2Z0KHRoaXMucmVmX2RhdGEsIHRoaXMudmFyaWFibGVzLCBpZCk7XG4gICAgICB0aGlzLmFkZF9lbGVtZW50KGEpO1xuICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgIGNvbnNvbGUubG9nKGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmcuc2VsZWN0QWxsKGAjJHtpZH0ucmFkYXJXcmFwcGVyYCkucmVtb3ZlKCk7XG4gICAgICB0aGlzLmcuc2VsZWN0QWxsKGAjJHtpZH0ucmFkYXJDaXJjbGVXcmFwcGVyYCkucmVtb3ZlKCk7XG4gICAgICBjb25zdCBpeCA9IHRoaXMuZGF0YS5tYXAoKF9kLCBpKSA9PiBbaSwgX2QubmFtZSA9PT0gaWRdKS5maW5kKF9kID0+IF9kWzFdID09PSB0cnVlKTtcbiAgICAgIHRoaXMuZGF0YS5zcGxpY2UoaXgsIDEpO1xuICAgICAgdGhpcy5kaXNwbGF5ZWRfaWRzID0gdGhpcy5kYXRhLm1hcChfZCA9PiBfZC5uYW1lKTtcbiAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlQ29tcGxldHVkZSgpIHtcbiAgICB0aGlzLmNvbXBsZXR1ZGVfdmFsdWUgPSBjYWxjUG9wQ29tcGxldHVkZVN1YnNldChhcHAsIHRoaXMudmFyaWFibGVzKTtcbiAgICB0aGlzLmNvbXBsZXR1ZGVcbiAgICAgIC50ZXh0KGBDb21wbMOpdHVkZSA6ICR7dGhpcy5jb21wbGV0dWRlX3ZhbHVlfSVgKTtcbiAgfVxuXG4gIHVwZGF0ZU1hcFJlZ2lvKCkge1xuICAgIGlmICghdGhpcy5tYXBfZWxlbSkgcmV0dXJuO1xuICAgIHRoaXMubWFwX2VsZW0udGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuYXR0cignZmlsbCcsIGQgPT4gKHRoaXMuY3VycmVudF9pZHMuaW5kZXhPZihkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dKSA+IC0xXG4gICAgICAgID8gKGFwcC5jb2xvcnNbZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXV0gfHwgY29sb3JfY291bnRyaWVzKVxuICAgICAgICA6IGNvbG9yX2Rpc2FibGVkKSk7XG4gIH1cblxuICB1cGRhdGVUYWJsZVN0YXQoKSB7XG4gICAgdGhpcy50YWJsZV9zdGF0cy5yZW1vdmVBbGwoKTtcbiAgICB0aGlzLnRhYmxlX3N0YXRzLmFkZEZlYXR1cmVzKHRoaXMucHJlcGFyZVRhYmxlU3RhdCgpKTtcbiAgfVxuXG4gIG1ha2VUYWJsZVN0YXQoKSB7XG4gICAgY29uc3QgZmVhdHVyZXMgPSB0aGlzLnByZXBhcmVUYWJsZVN0YXQoKTtcbiAgICB0aGlzLnRhYmxlX3N0YXRzID0gbmV3IFRhYmxlUmVzdW1lU3RhdChmZWF0dXJlcyk7XG4gIH1cbn1cbiIsImltcG9ydCBkZWJ1ZyBmcm9tICdkZWJ1Zyc7XG5pbXBvcnQgeyBjcmVhdGVNZW51IH0gZnJvbSAnLi9tb2R1bGVzL21lbnVsZWZ0JztcbmltcG9ydCB7IG1ha2VUb3BNZW51LCBtYWtlSGVhZGVyQ2hhcnQsIG1ha2VIZWFkZXJNYXBTZWN0aW9uIH0gZnJvbSAnLi9tb2R1bGVzL21lbnV0b3AnO1xuaW1wb3J0IHsgTWFwU2VsZWN0LCBtYWtlU291cmNlU2VjdGlvbiwgbWFrZU1hcExlZ2VuZCwgc3ZnX21hcCB9IGZyb20gJy4vbW9kdWxlcy9tYXAnO1xuaW1wb3J0IHsgbWFrZVRhYmxlIH0gZnJvbSAnLi9tb2R1bGVzL3RhYmxlJztcbmltcG9ydCB7IGNvbG9yX2NvdW50cmllcywgY29sb3JfaGlnaGxpZ2h0IH0gZnJvbSAnLi9tb2R1bGVzL29wdGlvbnMnO1xuaW1wb3J0IHsgQmFyQ2hhcnQxIH0gZnJvbSAnLi9tb2R1bGVzL2NoYXJ0cy9iYXJDaGFydF8xdic7XG5pbXBvcnQgeyBCdWJibGVDaGFydDEgfSBmcm9tICcuL21vZHVsZXMvY2hhcnRzL2J1YmJsZUNoYXJ0XzF2JztcbmltcG9ydCB7IFNjYXR0ZXJQbG90MiB9IGZyb20gJy4vbW9kdWxlcy9jaGFydHMvc2NhdHRlclBsb3RfMnYnO1xuaW1wb3J0IHsgUmFkYXJDaGFydDMsIHByZXBhcmVfZGF0YV9yYWRhcl9kZWZhdWx0IH0gZnJvbSAnLi9tb2R1bGVzL2NoYXJ0cy9yYWRhckNoYXJ0XzN2JztcbmltcG9ydCB7IHVuYmluZFVJIH0gZnJvbSAnLi9tb2R1bGVzL2hlbHBlcnMnO1xuaW1wb3J0IHtcbiAgcHJlcGFyZV9kYXRhc2V0LFxuICBmaWx0ZXJMZXZlbFZhcixcbiAgYXBwbHlGaWx0ZXIsXG4gIGNoYW5nZVJlZ2lvbixcbiAgYWRkVmFyaWFibGUsXG4gIHJlbW92ZVZhcmlhYmxlLFxuICByZXNldFZhcmlhYmxlcyxcbiAgcHJlcGFyZVZhcmlhYmxlc0luZm9cbn0gZnJvbSAnLi9tb2R1bGVzL3ByZXBhcmVfZGF0YSc7XG5cbmRlYnVnKCdhcHA6bG9nJyk7XG5cbmV4cG9ydCBsZXQgdmFyaWFibGVzX2luZm87LyogPSBbXG4gIHsgcmF0aW86ICdQQ19DSE9NXzE1MjRfMjAxNScsIG51bTogJ0NIT01fMTUyNF8yMDE1JywgZGVudW06ICdBQ1RfMTUyNF8yMDE1JywgbmFtZTogJ1RhdXggZGUgY2hvbWFnZSBkZXMgamV1bmVzICgyMDE1KScsIGdyb3VwOiAnUGF1dnJldMOpIC8gRXhjbHVzaW9uIHNvY2lhbGUnIH0sXG4gIHsgcmF0aW86ICdQQ19DSE9NXzE1NzRfMjAxNScsIG51bTogJ0NIT01fMTU3NF8yMDE1JywgZGVudW06ICdBQ1RfMTU3NF8yMDE1JywgbmFtZTogJ1RhdXggZGUgY2hvbWFnZSAoMjAxNSknLCBncm91cDogJ1BhdXZyZXTDqSAvIEV4Y2x1c2lvbiBzb2NpYWxlJyB9LFxuICB7IHJhdGlvOiAnUENfQ0hPTV9MT05HXzIwMTYnLCBudW06ICdDSE9NX0xPTkdfMjAxNicsIGRlbnVtOiAnQUNUX0xPTkdfMjAxNicsIG5hbWU6ICdUYXV4IGRlIGNow7RtYWdlIGRlIGxvbmd1ZSBkdXLDqWUgKDIwMTYpJywgZ3JvdXA6ICdQYXV2cmV0w6kgLyBFeGNsdXNpb24gc29jaWFsZScgfSxcbiAgeyByYXRpbzogJ1BDX1JFVl8yMDE0JywgbnVtOiAnUkVWXzIwMTQnLCBkZW51bTogJ01FTl8yMDE0JywgbmFtZTogJ1JldmVudSBkZXMgbcOpbmFnZXMgKDIwMTQpJywgZ3JvdXA6ICdQYXV2cmV0w6kgLyBFeGNsdXNpb24gc29jaWFsZScgfSxcbiAgeyByYXRpbzogJ1BDX0JSRVZfSEFCXzIwMTEnLCBudW06ICdCUkVWXzIwMTEnLCBkZW51bTogJ1BPUF9CUkVWXzIwMTEnLCBuYW1lOiAnUHJvZHVjdGlvbnMgaW5ub3ZhbnRlcyAoMjAxMSknLCBncm91cDogJ0FjdGl2aXTDqSAvIElubm92YXRpb24nIH0sXG4gIHsgcmF0aW86ICdQQ19SRF9FTVBfMjAxMycsIG51bTogJ1JEX0VNUF8yMDEzJywgZGVudW06ICdQT1BfUkRfRU1QXzIwMTMnLCBuYW1lOiAnUGFydCBkZSBsXFwnZW1wbG9pIGVuIFImRCAoMjAxMyknLCBncm91cDogJ0FjdGl2aXTDqSAvIElubm92YXRpb24nIH0sXG4gIHsgcmF0aW86ICdQQ19QSUJfSEFCXzIwMTQnLCBudW06ICdQQ19QSUJfSEFCXzIwMTQnLCBkZW51bTogJ1BPUF9QSUJfMjAxNCcsIG5hbWU6ICdQSUIgcGFyIGhhYml0YW50IChldXJvcykoMjAxNCknLCBncm91cDogJ0FjdGl2aXTDqSAvIElubm92YXRpb24nIH0sXG4gIHsgcmF0aW86ICdQQ19BUlRJRl9BUkVBXzIwMTUnLCBudW06ICdBUlRJRl9BUkVBXzIwMTUnLCBkZW51bTogJ0xDX0FSRUFfMjAxNScsIG5hbWU6ICdQYXJ0IGRlcyBzdXJmYWNlcyBhcnRpZmljaWFsaXPDqWVzICgyMDE1KScsIGdyb3VwOiAnRW52aXJvbm5lbWVudCAvIFRyYW5zaXRpb24gw6ljb2xvZ2lxdWUnIH0sXG5dOyovXG5cblxuY29uc3Qgc3R1ZHlfem9uZXMgPSBbXG4gIHsgaWQ6ICdub19maWx0ZXInLCBuYW1lOiAnVUUyOCcgfSxcbiAgeyBpZDogJ2ZpbHRlcl9GUicsIG5hbWU6ICdGaWx0cmUgbmF0aW9uYWwgKEZyYW5jZSknIH0sXG4gIHsgaWQ6ICdmaWx0ZXJfcGFyYW0yJywgbmFtZTogJ0VzcGFjZSBkZSBjb21wYXJhaXNvbiBuwrAyJyB9LFxuXTtcblxuY29uc3QgdGVycml0b3JpYWxfbWVzaCA9IFtcbiAgeyBpZDogJ05VVFMxJywgbmFtZTogJ05VVFMxJyB9LFxuICB7IGlkOiAnTlVUUzEyc3RhdCcsIG5hbWU6ICdOVVRTMS8yIChzdGF0aXN0aXF1ZSknIH0sXG5dO1xuXG5leHBvcnQgY29uc3QgYXBwID0ge1xuICAvLyBBIG1hcHBpbmcgaWQgLT4gY29sb3IsIGNvbnRhaW5pbmcgdGhlIGNvbG9yIHRvIHVzZSBmb3IgZWFjaFxuICAvLyBmZWF0dXJlIG5vdCB1c2luZyB0aGUgZGVmYXVsdCBjb2xvciBvciB0aGUgZGlzYWJsZWQgY29sb3JcbiAgY29sb3JzOiB7fSxcbiAgLy8gVGhlIGZpbHRlcmVkIGRhdGFzZXQgKGFjY2NvcmRpbmcgdG86IHRoZSBjdXJyZW50IHRlcnJpdG9yaWFsIGxldmVsLFxuICAvLyB0aGUgZmlsdGVyIGtleSAoaWYgYW55KSBhbmQgdGhlIHJhdGlvKHMpIHNlbGVjdGVkIG9uIHRoZSBsZWZ0IG1lbnU6XG4gIGN1cnJlbnRfZGF0YTogW10sXG4gIC8vIFRoZSBmdWxsIGRhdGFzZXQgcHJvdmlkZWQgKGNvbnRhaW5pbmcgYWxsIHRoZSBmZWF0dXJlcyBhdCBhbnkgbGV2ZWwgaW4gb25lIHRhYmxlKVxuICAvLyBSb3cgd2l0aG91dCBkYXRhIGFyZSBleHBlY3RlZCB0byBiZSBlbXB0eSBvciB0byBjb250YWluIHRoZSBcIk5BXCIgc3RyaW5nLlxuICBmdWxsX2RhdGFzZXQ6IFtdLFxuICAvLyBUaGUgaWRzIG9mIHRoZSBjdXJyZW50IGZlYXR1cmUgaW4gdXNlIChhY2Njb3JkaW5nIHRvOiB0aGUgY3VycmVudCB0ZXJyaXRvcmlhbCBsZXZlbCxcbiAgLy8gdGhlIGZpbHRlciBrZXkgKGlmIGFueSkgYW5kIHRoZSByYXRpbyhzKSB1c2VkIGluIHRoZSBjdXJyZW50IGNoYXJ0OyBmaWx0ZXJlZFxuICAvLyB0byBub3QgY29udGFpbiBmZWF0dXJlIHdpdGggZW1wdHkgcmF0aW8gdmFsdWVzIHdpdGhpbiB0aGUgcmF0aW9zIGluIHVzZSkuXG4gIGN1cnJlbnRfaWRzOiBbXSxcbn07XG5cbmZ1bmN0aW9uIHNldERlZmF1bHRDb25maWcoY29kZSA9ICdGUkUnLCB2YXJpYWJsZSA9ICdSVF9DSE9NXzE1NzQnKSB7IC8vIH0sIGxldmVsID0gJ05VVFMxJykge1xuICBhcHAuY3VycmVudF9jb25maWcgPSB7XG4gICAgLy8gVGhlIG5hbWUgb2YgdGhlIGZpZWxkIG9mIHRoZSBkYXRhc2V0IGNvbnRhaW5pbmcgdGhlIElEIG9mIGVhY2ggZmVhdHVyZTpcbiAgICBpZF9maWVsZDogJ2dlbycsXG4gICAgLy8gVGhlIG5hbWUgb2YgdGhlIGZpZWxkIG9mIHRoZSBkYXRhc2V0IGNvbnRhaW5pbmcgdGhlIG5hbWUgb2YgZWFjaCBmZWF0dXJlOlxuICAgIG5hbWVfZmllbGQ6ICdOb20nLFxuICAgIC8vIFRoZSBuYW1lIG9mIHRoZSBmaWVsZCBvZiB0aGUgZGF0YXNldCBjb250YWluaW5nIHRoZSBwb3B1bGF0aW9uIG9mIGVhY2ggZmVhdHVyZTpcbiAgICBwb3BfZmllbGQ6ICdQT1BfQUdFX1RfMjAxNicsXG4gICAgLy8gVGhlIG5hbWUgb2YgdGhlIGZpZWxkIG9mIHRoZSBnZW9qc29uIGxheWVyIGNvbnRhaW5pbmcgdGhlIElEIG9mIGVhY2ggZmVhdHVyZVxuICAgIC8vICh0aGVzZSB2YWx1ZXMgc2hvdWxkIG1hdGNoIHdpdGggdGhlIHZhbHVlcyBvZiB0aGUgXCJpZF9maWVsZFwiIGluIHRoZVxuICAgIC8vIHRhYnVsYXIgZGF0YXNldClcbiAgICBpZF9maWVsZF9nZW9tOiAnTlVUUzFfMjAxNicsXG4gICAgbnVtOiBbJ0NIT01fMTU3NF8yMDE2J10sXG4gICAgZGVudW06IFsnQUNUXzE1NzRfMjAxNiddLFxuICAgIHJhdGlvOiBbdmFyaWFibGVdLFxuICAgIHJhdGlvX3ByZXR0eV9uYW1lOiBbJ1RhdXggZGUgY2jDtG1hZ2UgKDE1LTc0IGFucykgKDIwMTYpJ10sXG4gICAgLy8gVGhlIGxldmVsIGN1cnJlbnRseSBpbiB1c2U6XG4gICAgY3VycmVudF9sZXZlbDogMSxcbiAgICAvLyBUaGUgSUQgb2YgdGhlIHJlZ2lvbiBjdXJyZW50bHkgaW4gdXNlOlxuICAgIG15X3JlZ2lvbjogY29kZSxcbiAgICAvLyBUaGUgbmFtZSBvZiB0aGUgcmVnaW9uIGN1cnJlbnRseSBpbiB1c2U6XG4gICAgbXlfcmVnaW9uX3ByZXR0eV9uYW1lOiBhcHAuZmVhdHVyZV9uYW1lc1tjb2RlXSxcbiAgICAvLyBIb3cgbWFueSByYXRpbyBvbiB0aGUgY3VycmVudCBjaGFydDpcbiAgICBuYl92YXI6IDEsXG4gIH07XG4gIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG59XG5cbmZ1bmN0aW9uIHNldERlZmF1bHRDb25maWdNZW51KGNvZGUgPSAnRlJFJywgdmFyaWFibGUgPSAnUlRfQ0hPTV8xNTc0JywgbGV2ZWwgPSAnTlVUUzEnKSB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC50YXJnZXRfcmVnaW9uLnNxdWFyZVt2YWx1ZT1cIiR7Y29kZX1cIl1gKS5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC50YXJnZXRfdmFyaWFibGUuc21hbGxfc3F1YXJlW3ZhbHVlPVwiJHt2YXJpYWJsZX1cIl1gKS5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5maWx0ZXJfdi5zcXVhcmVbZmlsdGVyLXZhbHVlPVwibm9fZmlsdGVyXCJdJykuY2xhc3NMaXN0LmFkZCgnY2hlY2tlZCcpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAudGVycml0X2xldmVsLnNxdWFyZVt2YWx1ZT1cIiR7bGV2ZWx9XCJdYCkuY2xhc3NMaXN0LmFkZCgnY2hlY2tlZCcpO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiByZXNldENvbG9ycygpIHtcbiAgYXBwLmNvbG9ycyA9IHt9O1xuICAvLyBmb3IgKGxldCBpID0gMCwgbGVuX2kgPSBjdXJyZW50X2lkcy5sZW5ndGg7IGkgPCBsZW5faTsgaSsrKSB7XG4gIC8vICAgYXBwLmNvbG9yc1tjdXJyZW50X2lkc1tpXV0gPSBjb2xvcl9jb3VudHJpZXM7XG4gIC8vIH1cbiAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbn1cblxuLyoqXG4qIENyZWF0ZSBoYW5kbGVycyBmb3IgdXNlciBldmVudCBvbiB0aGUgbGVmdCBtZW51IGFuZCBvbiB0aGUgbWFwIGZvciBjaGFydHMgb25seVxuKiBhbGxvd2luZyB0byB1c2UgMSB2YXJpYWJsZS5cbipcbiogQHBhcmFtIHtPYmplY3R9IGNoYXJ0IC0gVGhlIGNoYXJ0IG9iamVjdC5cbiogQHBhcmFtIHtPYmplY3R9IG1hcF9lbGVtIC0gVGhlIG1hcCBvYmplY3QuXG4qIEByZXR1cm4ge3ZvaWR9XG4qXG4qL1xuZnVuY3Rpb24gYmluZFVJX2NoYXJ0KGNoYXJ0LCBtYXBfZWxlbSkge1xuICAvLyBVc2VyIGNoYW5nZSB0aGUgc3R1ZHkgem9uZTpcbiAgZDMuc2VsZWN0QWxsKCdzcGFuLmZpbHRlcl92JylcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCF0aGlzLmNsYXNzTGlzdC5jb250YWlucygnY2hlY2tlZCcpKSB7XG4gICAgICAgIGQzLnNlbGVjdEFsbCgnc3Bhbi5maWx0ZXJfdicpLmF0dHIoJ2NsYXNzJywgJ2ZpbHRlcl92IHNxdWFyZScpO1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2NoZWNrZWQnKTtcbiAgICAgICAgY29uc3QgZmlsdGVyX3R5cGUgPSB0aGlzLmdldEF0dHJpYnV0ZSgnZmlsdGVyLXZhbHVlJyk7XG4gICAgICAgIGFwcGx5RmlsdGVyKGFwcCwgZmlsdGVyX3R5cGUpO1xuICAgICAgICBtYWtlVGFibGUoYXBwLmN1cnJlbnRfZGF0YSwgYXBwLmN1cnJlbnRfY29uZmlnKTtcbiAgICAgICAgY2hhcnQuY2hhbmdlU3R1ZHlab25lKCk7XG4gICAgICAgIGNoYXJ0LnVwZGF0ZUNvbXBsZXR1ZGUoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAvLyBVc2VyIGNoYW5nZSB0aGUgdGFyZ2V0ZWQgcmVnaW9uOlxuICBkMy5zZWxlY3RBbGwoJ3NwYW4udGFyZ2V0X3JlZ2lvbicpXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2NoZWNrZWQnKSkge1xuICAgICAgICBkMy5zZWxlY3RBbGwoJ3NwYW4udGFyZ2V0X3JlZ2lvbicpLmF0dHIoJ2NsYXNzJywgJ3RhcmdldF9yZWdpb24gc3F1YXJlJyk7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnY2hlY2tlZCcpO1xuICAgICAgICBjb25zdCBpZF9yZWdpb24gPSB0aGlzLmdldEF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgICAgICAgY2hhbmdlUmVnaW9uKGFwcCwgaWRfcmVnaW9uKTtcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBhdmFpbGFibGVzIHJhdGlvIG9uIHRoZSBsZWZ0IG1lbnVcbiAgICAgICAgLy8gKHRoaXMgbWF5IGNoYW5nZSB0aGUgY3VycmVudCBzZWxlY3RlZCByYXRpbyhzKSBhcyBzb21lIHZhcmlhYmxlcyBhcmVcbiAgICAgICAgLy8gbm90IGF2YWlsYWJsZSBmb3Igc29tZSBmZWF0dXJlcykgYW5kIGZldGNoIHRoZSBudW1iZXIgb2Ygc2VsZWN0ZWRcbiAgICAgICAgLy8gdmFyaWFibGVzIGFmdGVyIHRoYXQ6XG4gICAgICAgIGNvbnN0IG5ld19uYl92YXIgPSB1cGRhdGVBdmFpbGFibGVzUmF0aW9zKGlkX3JlZ2lvbik7XG4gICAgICAgIGlmIChuZXdfbmJfdmFyID49IGFwcC5jdXJyZW50X2NvbmZpZy5uYl92YXIpIHtcbiAgICAgICAgICBjaGFydC51cGRhdGVDaGFuZ2VSZWdpb24oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBJZiB0aGVyZSBmZXdlciBzZWxlY3RlZCB2YXJpYWJsZXMgdGhhbiByZXF1ZXN0ZWQgYnkgdGhlIGN1cnJlbnQgY2hhcnQsXG4gICAgICAgICAgLy8gcmVkcmF3IHRoZSBmaXJzdCAoZGVmYXVsdCkga2luZCBvZiBjaGFydDpcbiAgICAgICAgICBkMy5zZWxlY3QoJ3NwYW4uY2hhcnRfdDFbdmFsdWU9XCJCYXJDaGFydDFcIl0nKS5kaXNwYXRjaCgnY2xpY2snKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gIC8vIFVzZXIgY2xpY2sgb24gdGhlIG5hbWUgb2YgYSBncm91cCBvZiB2YXJpYWJsZXNcbiAgLy8gdG8gZXhwYW5kIG9yIGNvbGxhcHNlIGl0cyBjb250ZW50OlxuICBkMy5zZWxlY3RBbGwoJy5uYW1lX2dyb3VwX3ZhcicpXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IGdyb3VwX3ZhciA9IHRoaXMubmV4dFNpYmxpbmc7XG4gICAgICBpZiAoZ3JvdXBfdmFyLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJykge1xuICAgICAgICBncm91cF92YXIuc3R5bGUuZGlzcGxheSA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBncm91cF92YXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH1cbiAgICB9KTtcblxuICAvLyBVc2VyIGNsaWNrIHRvIGFkZC9yZW1vdmUgYSB2YXJpYWJsZSBmcm9tIHRoZSBjb21wYXJpc29uOlxuICBkMy5zZWxlY3RBbGwoJ3NwYW4udGFyZ2V0X3ZhcmlhYmxlJylcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXNhYmxlZCcpKSByZXR1cm47XG4gICAgICBsZXQgbmJfdmFyID0gIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKFxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzcGFuLnRhcmdldF92YXJpYWJsZScpKS5maWx0ZXIoXG4gICAgICAgICAgZWxlbSA9PiAhIWVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdjaGVja2VkJykpLmxlbmd0aDtcbiAgICAgIC8vIFNlbGVjdCBhIG5ldyB2YXJpYWJsZSBhbmQgdHJpZ2dlciB0aGUgYXBwcm9wcmlhdGUgY2hhbmdlcyBvbiB0aGUgY3VycmVudCBjaGFydDpcbiAgICAgIGlmICghdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2NoZWNrZWQnKSkge1xuICAgICAgICAvLyBXZSBkb24ndCB3YW50IHRoZSB1c2VyIHRvIGJlIGFibGUgdG8gc2VsZWN0IG1vcmUgdGhhbiA4IHZhcmlhYmxlcyBzaW11bHRhbmVvdXNseTpcbiAgICAgICAgaWYgKG5iX3ZhciA+PSA4KSByZXR1cm47XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnY2hlY2tlZCcpO1xuICAgICAgICBjb25zdCBjb2RlX3ZhcmlhYmxlID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG4gICAgICAgIGNvbnN0IG5hbWVfdmFyaWFibGUgPSB2YXJpYWJsZXNfaW5mby5maW5kKGQgPT4gZC5yYXRpbyA9PT0gY29kZV92YXJpYWJsZSkubmFtZTtcbiAgICAgICAgYWRkVmFyaWFibGUoYXBwLCBjb2RlX3ZhcmlhYmxlKTtcbiAgICAgICAgbWFrZVRhYmxlKGFwcC5jdXJyZW50X2RhdGEsIGFwcC5jdXJyZW50X2NvbmZpZyk7XG4gICAgICAgIGNoYXJ0LmFkZFZhcmlhYmxlKGNvZGVfdmFyaWFibGUsIG5hbWVfdmFyaWFibGUpO1xuICAgICAgICBuYl92YXIgKz0gMTtcbiAgICAgIH0gZWxzZSB7IC8vIFJlbW92ZSBhIHZhcmlhYmxlIGZyb20gdGhlIHNlbGVjdGlvbjpcbiAgICAgICAgbmJfdmFyIC09IDE7XG4gICAgICAgIC8vIFdlIGRvbid0IHdhbnQgdG8gbGV0IHRoZSB1c2VyIHJlbW92ZSB0aGUgdmFyaWFibGUgaWZcbiAgICAgICAgLy8gaXQncyB0aGUgb25seSBvbmUgc2VsZWN0ZWQgb3IgaWYgdGhlIGN1cnJlbnRseSBkaXNwbGF5ZWRcbiAgICAgICAgLy8gY2hhcnQgbmVlZCBhIG1pbmltdW0gbnVtYmVyIG9mIHZhcmlhYmxlczpcbiAgICAgICAgaWYgKG5iX3ZhciA8IGFwcC5jdXJyZW50X2NvbmZpZy5uYl92YXIpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29kZV92YXJpYWJsZSA9IHRoaXMuZ2V0QXR0cmlidXRlKCd2YWx1ZScpO1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoJ2NoZWNrZWQnKTtcbiAgICAgICAgcmVtb3ZlVmFyaWFibGUoYXBwLCBjb2RlX3ZhcmlhYmxlKTtcbiAgICAgICAgY2hhcnQucmVtb3ZlVmFyaWFibGUoY29kZV92YXJpYWJsZSk7XG4gICAgICAgIG1ha2VUYWJsZShhcHAuY3VycmVudF9kYXRhLCBhcHAuY3VycmVudF9jb25maWcpO1xuICAgICAgfVxuICAgICAgLy8gVXBkYXRlIHRoZSB0b3AgbWVudSB0byBkaXNwbGF5IGF2YWlsYWJsZSBjaGFydHMgYWNjb3JkaW5nIHRvIHRoZSBjdXJyZW50XG4gICAgICAvLyBudW1iZXIgb2YgYXZhaWxhYmxlIHZhcmlhYmxlczpcbiAgICAgIGlmIChuYl92YXIgPT09IDEpIHsgLy8gQWxsb3cgYWxsIGtpbmQgb2Ygdml6dSB3aXRoIDEgdmFyaWFibGU6XG4gICAgICAgIGQzLnNlbGVjdEFsbCgnLmNoYXJ0X3QxJylcbiAgICAgICAgICAuYXR0cignY2xhc3MnLCAndHlwZV9jaGFydCBjaGFydF90MScpO1xuICAgICAgICBkMy5zZWxlY3RBbGwoJy5jaGFydF90MicpXG4gICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3R5cGVfY2hhcnQgY2hhcnRfdDIgZGlzYWJsZWQnKTtcbiAgICAgICAgZDMuc2VsZWN0QWxsKCcuY2hhcnRfdDMnKVxuICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd0eXBlX2NoYXJ0IGNoYXJ0X3QzIGRpc2FibGVkJyk7XG4gICAgICB9IGVsc2UgaWYgKG5iX3ZhciA9PT0gMikgeyAvLyBBbGxvdyBhbGwga2luZCBvZiB2aXp1IHdpdGggMiB2YXJpYWJsZXM6XG4gICAgICAgIGQzLnNlbGVjdEFsbCgnLmNoYXJ0X3QyJylcbiAgICAgICAgICAuYXR0cignY2xhc3MnLCAndHlwZV9jaGFydCBjaGFydF90MicpO1xuICAgICAgICBkMy5zZWxlY3RBbGwoJy5jaGFydF90MycpXG4gICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3R5cGVfY2hhcnQgY2hhcnRfdDMgZGlzYWJsZWQnKTtcbiAgICAgIH0gZWxzZSBpZiAobmJfdmFyID4gMikgeyAvLyBBbGxvdyBhbGwga2luZCBvZiB2aXp1IHdpdGggMyB2YXJpYWJsZXM6XG4gICAgICAgIGQzLnNlbGVjdEFsbCgnLmNoYXJ0X3QyJylcbiAgICAgICAgICAuYXR0cignY2xhc3MnLCAndHlwZV9jaGFydCBjaGFydF90MicpO1xuICAgICAgICBkMy5zZWxlY3RBbGwoJy5jaGFydF90MycpXG4gICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3R5cGVfY2hhcnQgY2hhcnRfdDMnKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAvLyBEaXNwYXRjaCBhIGNsaWNrIGV2ZW50IG9uIHRoZSBhc3NvY2lhdGVkIGNoZWNrYm94IHdoZW4gdGhlIHRleHQgaXMgY2xpY2tlZDpcbiAgZDMuc2VsZWN0QWxsKCdzcGFuLmxhYmVsX2NoaycpXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMucHJldmlvdXNTaWJsaW5nLmNsaWNrKCk7XG4gICAgfSk7XG5cbiAgY29uc3QgaGVhZGVyX21hcF9zZWN0aW9uID0gZDMuc2VsZWN0KCcjbWFwX3NlY3Rpb24gPiAjaGVhZGVyX21hcCcpO1xuXG4gIGhlYWRlcl9tYXBfc2VjdGlvbi5zZWxlY3QoJyNpbWdfcmVjdF9zZWxlYycpXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfbWFwX3pvb20nKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19tYXBfc2VsZWN0JykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgIHN2Z19tYXAub24oJy56b29tJywgbnVsbCk7XG4gICAgICAgIGlmIChtYXBfZWxlbS5icnVzaF9tYXApIHtcbiAgICAgICAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpLnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgbWFwX2VsZW0udGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpLm9uKCdjbGljaycsIG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIGhlYWRlcl9tYXBfc2VjdGlvbi5zZWxlY3QoJyNpbWdfbWFwX3pvb20nKVxuICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX3JlY3Rfc2VsZWMnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19tYXBfc2VsZWN0JykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgIHN2Z19tYXAuY2FsbChtYXBfZWxlbS56b29tX21hcCk7XG4gICAgICAgIGlmIChtYXBfZWxlbS5icnVzaF9tYXApIHtcbiAgICAgICAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpLmNhbGwobWFwX2VsZW0uYnJ1c2hfbWFwLm1vdmUsIG51bGwpO1xuICAgICAgICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJykuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICB9XG4gICAgICAgIG1hcF9lbGVtLnRhcmdldF9sYXllci5zZWxlY3RBbGwoJ3BhdGgnKS5vbignY2xpY2snLCBudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICBoZWFkZXJfbWFwX3NlY3Rpb24uc2VsZWN0KCcjaW1nX21hcF9zZWxlY3QnKVxuICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX3JlY3Rfc2VsZWMnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19tYXBfem9vbScpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICBzdmdfbWFwLm9uKCcuem9vbScsIG51bGwpO1xuICAgICAgICBpZiAobWFwX2VsZW0uYnJ1c2hfbWFwKSB7XG4gICAgICAgICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKS5jYWxsKG1hcF9lbGVtLmJydXNoX21hcC5tb3ZlLCBudWxsKTtcbiAgICAgICAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgfVxuICAgICAgICBtYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIGNoYXJ0LmhhbmRsZUNsaWNrTWFwKGQsIHRoaXMpO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIGlmICghbWFwX2VsZW0uYnJ1c2hfbWFwKSB7XG4gICAgbWFwX2VsZW0udGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgY2hhcnQuaGFuZGxlQ2xpY2tNYXAoZCwgdGhpcyk7XG4gICAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IGhlYWRlcl90YWJsZV9zZWN0aW9uID0gZDMuc2VsZWN0KCcjbWFwX3NlY3Rpb24nKVxuICAgICAgLmluc2VydCgncCcsICdzdmcnKVxuICAgICAgLmF0dHIoJ2lkJywgJ2hlYWRlcl90YWJsZScpXG4gICAgICAuc3R5bGVzKHsgZGlzcGxheTogJ25vbmUnLCBtYXJnaW46ICdhdXRvJywgJ3RleHQtYWxpZ24nOiAncmlnaHQnIH0pO1xuXG4gIGhlYWRlcl90YWJsZV9zZWN0aW9uLmFwcGVuZCgnc3BhbicpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ2J1dHRvbl9ibHVlJylcbiAgICAuaHRtbCgnQ1NWJylcbiAgICAub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgY29udGVudCA9IFtcbiAgICAgICAgJ2lkLE51bcOpcmF0ZXVyLETDqW5vbWluYXRldXIsUmF0aW8sUmFuZ1xcclxcbicsXG4gICAgICAgIGFwcC5jdXJyZW50X2RhdGEubWFwKGQgPT4gW2QuaWQsIGQubnVtLCBkLmRlbnVtLCBkLnJhdGlvLCBkLnJhbmddLmpvaW4oJywnKSkuam9pbignXFxyXFxuJyksXG4gICAgICBdLmpvaW4oJycpO1xuICAgICAgY29uc3QgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCdocmVmJywgYGRhdGE6dGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04LCR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbnRlbnQpfWApO1xuICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ2Rvd25sb2FkJywgJ3RhYmxlLmNzdicpO1xuICAgICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbGVtKTtcbiAgICAgIGVsZW0uY2xpY2soKTtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZWxlbSk7XG4gICAgfSk7XG4gIGJpbmRUb3BCdXR0b25zKGNoYXJ0LCBtYXBfZWxlbSk7XG59XG5cbi8qKlxuKiBGdW5jdGlvbiB0byBoYW5kbGUgY2xpY2sgb24gdGhlIHRvcCBtZW51LCBpbiBvcmRlciB0byBjaG9vc2VcbiogdGhlIGtpbmQgb2YgYXZhaWxhYmxlcyByZXByZXNlbnRhdGlvblxuKlxuKiBAcGFyYW0ge09iamVjdH0gY2hhcnQgLVxuKiBAcGFyYW0ge09iamVjdH0gbWFwX2VsZW0gLVxuKiBAcmV0dXJuIHt2b2lkfVxuKi9cbmV4cG9ydCBmdW5jdGlvbiBiaW5kVG9wQnV0dG9ucyhjaGFydCwgbWFwX2VsZW0pIHtcbiAgZDMuc2VsZWN0QWxsKCcudHlwZV9jaGFydCcpXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLmNsYXNzTGlzdC5jb250YWlucygnZGlzYWJsZWQnKSkgcmV0dXJuO1xuICAgICAgY2hhcnQucmVtb3ZlKCk7XG4gICAgICBjaGFydCA9IG51bGw7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIHVuYmluZFVJKCk7XG4gICAgICBtYXBfZWxlbS5yZXNldFpvb20oKTtcbiAgICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG4gICAgICBpZiAodmFsdWUgPT09ICdCYXJDaGFydDEnKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdCYXJDaGFydDEnKTtcbiAgICAgICAgbWFrZVRhYmxlKGFwcC5jdXJyZW50X2RhdGEsIGFwcC5jdXJyZW50X2NvbmZpZyk7XG4gICAgICAgIGNoYXJ0ID0gbmV3IEJhckNoYXJ0MShhcHAuY3VycmVudF9kYXRhKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICBiaW5kVUlfY2hhcnQoY2hhcnQsIG1hcF9lbGVtKTtcbiAgICAgICAgbWFwX2VsZW0uYmluZEJydXNoKGNoYXJ0KTtcbiAgICAgICAgY2hhcnQuYmluZE1hcChtYXBfZWxlbSk7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnQnViYmxlQ2hhcnQxJykge1xuICAgICAgICBjb25zb2xlLmxvZygnQnViYmxlQ2hhcnQxJyk7XG4gICAgICAgIG1ha2VUYWJsZShhcHAuY3VycmVudF9kYXRhLCBhcHAuY3VycmVudF9jb25maWcpO1xuICAgICAgICBjaGFydCA9IG5ldyBCdWJibGVDaGFydDEoYXBwLmN1cnJlbnRfZGF0YSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgYmluZFVJX2NoYXJ0KGNoYXJ0LCBtYXBfZWxlbSk7XG4gICAgICAgIG1hcF9lbGVtLmJpbmRCcnVzaChjaGFydCk7XG4gICAgICAgIGNoYXJ0LmJpbmRNYXAobWFwX2VsZW0pO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJ1NjYXR0ZXJQbG90MicpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1NjYXR0ZXJQbG90MicpO1xuICAgICAgICBtYWtlVGFibGUoYXBwLmN1cnJlbnRfZGF0YSwgYXBwLmN1cnJlbnRfY29uZmlnKTtcbiAgICAgICAgY2hhcnQgPSBuZXcgU2NhdHRlclBsb3QyKGFwcC5jdXJyZW50X2RhdGEpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIGJpbmRVSV9jaGFydChjaGFydCwgbWFwX2VsZW0pO1xuICAgICAgICBtYXBfZWxlbS5iaW5kQnJ1c2goY2hhcnQpO1xuICAgICAgICBjaGFydC5iaW5kTWFwKG1hcF9lbGVtKTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09ICdSYWRhckNoYXJ0MycpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1JhZGFyQ2hhcnQzJyk7XG4gICAgICAgIG1ha2VUYWJsZShhcHAuY3VycmVudF9kYXRhLCBhcHAuY3VycmVudF9jb25maWcpO1xuICAgICAgICBjaGFydCA9IG5ldyBSYWRhckNoYXJ0MyhhcHAuY3VycmVudF9kYXRhKTtcbiAgICAgICAgYmluZFVJX2NoYXJ0KGNoYXJ0LCBtYXBfZWxlbSk7XG4gICAgICAgIG1hcF9lbGVtLmJpbmRCcnVzaChjaGFydCk7XG4gICAgICAgIGNoYXJ0LmJpbmRNYXAobWFwX2VsZW0pO1xuICAgICAgfVxuICAgIH0pO1xufVxuXG5cbmZ1bmN0aW9uIGxvYWREYXRhKCkge1xuICBkMy5xdWV1ZSg0KVxuICAgIC5kZWZlcihkMy5jc3YsICdkYXRhL1JFR0lPVklaX0RBVEEuY3N2JylcbiAgICAuZGVmZXIoZDMuanNvbiwgJ2RhdGEvY2dldC1udXRzMS0zMDM1Lmdlb2pzb24nKVxuICAgIC5kZWZlcihkMy5qc29uLCAnZGF0YS9jb3VudHJpZXMzMDM1Lmdlb2pzb24nKVxuICAgIC5kZWZlcihkMy5qc29uLCAnZGF0YS9yZW1vdGUzMDM1Lmdlb2pzb24nKVxuICAgIC5kZWZlcihkMy5qc29uLCAnZGF0YS90ZW1wbGF0ZTMwMzUuZ2VvanNvbicpXG4gICAgLmRlZmVyKGQzLmpzb24sICdkYXRhL3NlYV9ib3hlcy5nZW9qc29uJylcbiAgICAuZGVmZXIoZDMuY3N2LCAnZGF0YS9pbmRpY2F0ZXVyc19tZXRhLmNzdicpXG4gICAgLmF3YWl0QWxsKChlcnJvciwgcmVzdWx0cykgPT4ge1xuICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgICAgIGNvbnN0IFtcbiAgICAgICAgZnVsbF9kYXRhc2V0LCBudXRzMSwgY291bnRyaWVzLCByZW1vdGUsIHRlbXBsYXRlLCBzZWFib3hlcywgbWV0YWRhdGFfaW5kaWNhdGV1cnMsXG4gICAgICBdID0gcmVzdWx0cztcbiAgICAgIHZhcmlhYmxlc19pbmZvID0gcHJlcGFyZVZhcmlhYmxlc0luZm8obWV0YWRhdGFfaW5kaWNhdGV1cnMpO1xuICAgICAgcHJlcGFyZV9kYXRhc2V0KGZ1bGxfZGF0YXNldCwgYXBwKTtcbiAgICAgIHNldERlZmF1bHRDb25maWcoJ0ZSQicsICdSVF9DSE9NXzE1NzQnLCAnTlVUUzEnKTtcbiAgICAgIGNvbnN0IGZlYXR1cmVzX21lbnUgPSBmdWxsX2RhdGFzZXQuZmlsdGVyKGZ0ID0+IGZ0Lmdlby5pbmRleE9mKCdGUicpID4gLTFcbiAgICAgICAgJiYgK2Z0LmxldmVsID09PSBhcHAuY3VycmVudF9jb25maWcuY3VycmVudF9sZXZlbCk7XG4gICAgICBjcmVhdGVNZW51KGZlYXR1cmVzX21lbnUsIHZhcmlhYmxlc19pbmZvLCBzdHVkeV96b25lcywgdGVycml0b3JpYWxfbWVzaCk7XG4gICAgICBtYWtlVG9wTWVudSgpO1xuICAgICAgbWFrZUhlYWRlckNoYXJ0KCk7XG4gICAgICBzZXREZWZhdWx0Q29uZmlnTWVudSgnRlJCJywgJ1JUX0NIT01fMTU3NCcsICdOVVRTMScpO1xuICAgICAgZmlsdGVyTGV2ZWxWYXIoYXBwKTtcbiAgICAgIGNvbnNvbGUubG9nKGFwcCk7XG4gICAgICBjb25zdCBtYXBfZWxlbSA9IG5ldyBNYXBTZWxlY3QobnV0czEsIGNvdW50cmllcywgcmVtb3RlLCB0ZW1wbGF0ZSwgc2VhYm94ZXMpO1xuICAgICAgY29uc3QgY2hhcnQgPSBuZXcgQmFyQ2hhcnQxKGFwcC5jdXJyZW50X2RhdGEpO1xuICAgICAgbWFrZVRhYmxlKGFwcC5jdXJyZW50X2RhdGEsIGFwcC5jdXJyZW50X2NvbmZpZyk7XG4gICAgICBtYWtlSGVhZGVyTWFwU2VjdGlvbigpO1xuICAgICAgbWFrZVNvdXJjZVNlY3Rpb24oKTtcbiAgICAgIG1ha2VNYXBMZWdlbmQoKTtcbiAgICAgIGJpbmRVSV9jaGFydChjaGFydCwgbWFwX2VsZW0pO1xuICAgICAgbWFwX2VsZW0uYmluZEJydXNoKGNoYXJ0KTtcbiAgICAgIGNoYXJ0LmJpbmRNYXAobWFwX2VsZW0pO1xuICAgIH0pO1xufVxuXG4vKipcbiogRnVuY3Rpb24gdG8gc2VsZWN0IHRoZSBmaXJzdCB2YXJpYWJsZSBvbiB0aGUgbGVmdCBtZW51XG4qICh0cmlnZ2VyZWQgYWZ0ZXIgY2hhbmdpbmcgcmVnaW9uLCBpZiBubyBtb3JlIHZhcmlhYmxlIHdhcyBzZWxlY3RlZClcbipcbiogQHJldHVybiB7dm9pZH1cbiovXG5mdW5jdGlvbiBzZWxlY3RGaXJzdEF2YWlsYWJsZVZhcigpIHtcbiAgY29uc3QgbWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtZW51Jyk7XG4gIGNvbnN0IHYgPSBtZW51LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YXJnZXRfdmFyaWFibGUnKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB2Lmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKCF2W2ldLmNsYXNzTGlzdC5jb250YWlucygnZGlzYWJsZWQnKSkge1xuICAgICAgdltpXS5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XG4gICAgICByZXR1cm4gdltpXS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuKiBGdW5jdGlvbiB0byB1cGRhdGUgdGhlIGF2YWlsYWJsZXMgcmF0aW9zIGluIHRoZSBsZWZ0IG1lbnUgKGFmdGVyIGNoYW5naW5nIHJlZ2lvbilcbiogSWYgYSBzZWxlY3RlZCB2YXJpYWJsZSBpcyBub3QgYXZhaWxhYmxlIGFueW1vcmUgaXQgd2lsbCBiZSBkZXNlbGVjdGVkLlxuKiBJZiB0aGVyZSBzZWxlY3RlZCB2YXJpYWJsZSAoYWxsIHRoZSBwcmV2aW91c2x5IHNlbGVjdGVkIHZhcmlhYmxlcyBhcmUgdW5hdmFpbGFibGUgZm9yIHRoaXMgcmVnaW9uKVxuKiB0aGUgZmlyc3QgdmFyaWFibGUgb24gdGhlIG1lbnUgd2lsbCBiZSBzZWxlY3RlZC5cbiogSWYgdGhlIG5ldyBudW1iZXIgb2Ygc2VsZWN0ZWQgZmVhdHVyZSBpcyBpbmZlcmlvciB0byB0aGUgbnVtYmVyIG9mIHZhcmlhYmxlcyBvbiB0aGUgY3VycmVudFxuKiBjaGFydCwgYSBuZXcgY2hhcnQgKHN1aXRhYmxlIGZvciBvbmx5IDEgdmFyaWFibGUpIHdpbGwgYmUgc2VsZWN0ZWQuXG4qXG4qXG4qIEBwYXJhbSB7U3RyaW5nfSBteV9yZWdpb24gLSBUaGUgSUQgb2YgdGhlIG5ld2x5IHNlbGVjdGVkIHJlZ2lvbi5cbiogQHJldHVybiB7TnVtYmVyfSAtIFRoZSBuZXcgbnVtYmVyIG9mIHNlbGVjdGVkIHJhdGlvcy5cbipcbiovXG5mdW5jdGlvbiB1cGRhdGVBdmFpbGFibGVzUmF0aW9zKG15X3JlZ2lvbikge1xuICBjb25zdCBkYXRhX215X2ZlYXR1cmUgPSBhcHAuZnVsbF9kYXRhc2V0LmZpbHRlcihcbiAgICBmdCA9PiBmdFthcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRdID09PSBteV9yZWdpb24pWzBdO1xuICBjb25zdCBtZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21lbnUnKTtcbiAgY29uc3QgbGluZXMgPSBtZW51LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YXJnZXRfdmFyaWFibGUnKTtcbiAgZm9yIChsZXQgaSA9IDAsIG5iX2xpbmVzID0gbGluZXMubGVuZ3RoOyBpIDwgbmJfbGluZXM7IGkrKykge1xuICAgIGNvbnN0IGNvZGVfdmFyaWFibGUgPSBsaW5lc1tpXS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG4gICAgaWYgKGRhdGFfbXlfZmVhdHVyZVtjb2RlX3ZhcmlhYmxlXSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICYmIGRhdGFfbXlfZmVhdHVyZVtjb2RlX3ZhcmlhYmxlXSAhPT0gJ05BJykge1xuICAgICAgbGluZXNbaV0uY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZWQnKTtcbiAgICAgIGxpbmVzW2ldLm5leHRTaWJsaW5nLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpbmVzW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2NoZWNrZWQnKTtcbiAgICAgIGxpbmVzW2ldLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJyk7XG4gICAgICBsaW5lc1tpXS5uZXh0U2libGluZy5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xuICAgIH1cbiAgfVxuICBjb25zdCBuZXdfdmFyID0gbWVudS5xdWVyeVNlbGVjdG9yQWxsKCcudGFyZ2V0X3ZhcmlhYmxlLmNoZWNrZWQnKTtcbiAgaWYgKG5ld192YXIubGVuZ3RoICE9PSBhcHAuY3VycmVudF9jb25maWcucmF0aW8ubGVuZ3RoKSB7XG4gICAgbGV0IG5ld192YXJfbmFtZXM7XG4gICAgaWYgKG5ld192YXIubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zdCBuYW1lID0gc2VsZWN0Rmlyc3RBdmFpbGFibGVWYXIoKTtcbiAgICAgIG5ld192YXJfbmFtZXMgPSBbbmFtZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld192YXJfbmFtZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChcbiAgICAgICAgbmV3X3ZhcikubWFwKGVsZW0gPT4gZWxlbS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpO1xuICAgIH1cbiAgICByZXNldFZhcmlhYmxlcyhhcHAsIG5ld192YXJfbmFtZXMpO1xuICB9XG4gIHJldHVybiBuZXdfdmFyLmxlbmd0aDtcbn1cblxubG9hZERhdGEoKTtcbiJdLCJuYW1lcyI6WyJyZXF1aXJlJCQwIiwibXMiLCJjb2xvcl9jb3VudHJpZXMiLCJjb2xvcl9kaXNhYmxlZCIsImNvbG9yX3N1cCIsImNvbG9yX2luZiIsImNvbG9yX2hpZ2hsaWdodCIsIm1hdGhfYWJzIiwiTWF0aCIsImFicyIsIm1hdGhfcm91bmQiLCJyb3VuZCIsIm1hdGhfbWF4IiwibWF4IiwibWF0aF9zaW4iLCJzaW4iLCJtYXRoX2NvcyIsImNvcyIsIkhBTEZfUEkiLCJQSSIsInByZXBhcmVUb29sdGlwIiwicGFyZW50X3N2Z19lbGVtIiwidG9vbHRpcCIsImFwcGVuZCIsImF0dHIiLCJzdHlsZSIsImF0dHJzIiwid2lkdGgiLCJoZWlnaHQiLCJmaWxsIiwiY2xhc3MiLCJ4IiwiZHkiLCJ1bmJpbmRVSSIsInNlbGVjdEFsbCIsIm9uIiwic2VsZWN0IiwicmVtb3ZlIiwib25rZXl1cCIsIm9ua2V5ZG93biIsImNvbXAiLCJ0ZXN0X3ZhbHVlIiwicmVmX3ZhbHVlIiwic2VyaWVfaW52ZXJzZWQiLCJjb21wMiIsInZhbDEiLCJ2YWwyIiwicmVmX3ZhbDEiLCJyZWZfdmFsMiIsInhJbnZlcnNlZCIsInlJbnZlcnNlZCIsIlJlY3QiLCJ0b3BsZWZ0IiwiYm90dG9tcmlnaHQiLCJ4bWluIiwieG1heCIsInltaW4iLCJ5bWF4IiwicHQiLCJQcm9wU2l6ZXIiLCJmaXhlZF92YWx1ZSIsImZpeGVkX3NpemUiLCJzcXJ0Iiwic21heCIsInNjYWxlIiwidmFsIiwiZ2V0X3ZhbHVlIiwicG93Iiwic2l6ZSIsInJlbW92ZUR1cGxpY2F0ZXMiLCJhcnIiLCJ0bXAiLCJpIiwibGVuX2FyciIsImxlbmd0aCIsImluZGV4T2YiLCJwdXNoIiwiZ2V0U3ZnUGF0aFR5cGUiLCJwYXRoIiwic3ZnUGF0aFRvQ29vcmRzIiwidHlwZV9wYXRoIiwic2xpY2UiLCJzcGxpdCIsIm1hcCIsImEiLCJjb21wdXRlUGVyY2VudGlsZVJhbmsiLCJvYmoiLCJmaWVsZF9uYW1lIiwicmVzdWx0X2ZpZWxkX25hbWUiLCJ2YWx1ZXMiLCJkIiwibGVuX3ZhbHVlcyIsImdldFBSIiwidiIsImNvdW50IiwiaXgiLCJfZ2V0UFIiLCJzZXJpZSIsImNyZWF0ZU1lbnUiLCJuYW1lcyIsInZhcmlhYmxlcyIsInN0dWR5X3pvbmVzIiwidGVycml0b3JpYWxfbWVzaCIsInRpdGxlX3NlY3Rpb24xIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiaW5uZXJIVE1MIiwic2VjdGlvbjEiLCJvdmVyZmxvdyIsImxlbl9pIiwiaWQiLCJnZW8iLCJuYW1lIiwiTm9tIiwiZW50cnkiLCJhcHBlbmRDaGlsZCIsInRpdGxlX3NlY3Rpb24yIiwic2VjdGlvbjIiLCJncm91cHNfdmFyIiwiZ3JvdXAiLCJncF9uYW1lIiwiZGl2X2dycCIsImRpc3BsYXkiLCJ2YXJfbmFtZXMiLCJmaWx0ZXIiLCJqIiwibGVuX2oiLCJuYW1lX3ZhciIsImNvZGVfdmFyIiwicmF0aW8iLCJzdWJfZW50cnkiLCJ0aXRsZV9zZWN0aW9uMyIsInNlY3Rpb24zIiwiem9uZSIsInRpdGxlX3NlY3Rpb240Iiwic2VjdGlvbjQiLCJ0ZXJyaXRfbGV2ZWwiLCJtZW51IiwiZ2V0RWxlbWVudEJ5SWQiLCJmbG9hdCIsIm1ha2VUb3BNZW51IiwidG9wX21lbnUiLCJkMyIsInN0eWxlcyIsInBhZGRpbmciLCJ3aWR0aF9sZWZ0IiwicXVlcnlTZWxlY3RvciIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInQiLCJ3aWR0aF9jZW50cmFsX2NoYXJ0Iiwid2lkdGhfbWFwIiwid2lkdGhfdHlwZV9jb21wIiwibWFyZ2luIiwiaHRtbCIsInR5cGVfY2hhcnQiLCJwb3NpdGlvbiIsInZhbHVlIiwicmVzc2VtYmxhbmNlIiwiaW5lZ2FsaXRlIiwibWFrZUhlYWRlck1hcFNlY3Rpb24iLCJoZWFkZXJfbWFwX3NlY3Rpb24iLCJpbnNlcnQiLCJtYWtlSGVhZGVyQ2hhcnQiLCJoZWFkZXJfYmFyX3NlY3Rpb24iLCJzdmdfbWFwIiwibWFyZ2luX21hcCIsInRvcCIsInJpZ2h0IiwiYm90dG9tIiwibGVmdCIsImhlaWdodF9tYXAiLCJzdHJva2UiLCJwcm9qZWN0aW9uIiwiZ2V0X2Jib3hfbGF5ZXJfcGF0aCIsImJib3hfbGF5ZXIiLCJJbmZpbml0eSIsImVhY2giLCJiYm94X3BhdGgiLCJib3VuZHMiLCJnZW9tZXRyeSIsImZpdExheWVyIiwidHJhbnNsYXRlIiwiYiIsInMiLCJtYXBfem9vbWVkIiwidHJhbnNmb3JtIiwiZXZlbnQiLCJrIiwieSIsImxheWVycyIsInRyYW5zaXRpb24iLCJkdXJhdGlvbiIsIk1hcFNlbGVjdCIsIm51dHMxIiwiY291bnRyaWVzIiwicmVtb3RlIiwidGVtcGxhdGUiLCJzZWFib3hlcyIsImdlb0lkZW50aXR5IiwiZml0RXh0ZW50IiwicmVmbGVjdFkiLCJnZW9QYXRoIiwiem9vbV9tYXAiLCJ6b29tIiwic2NhbGVFeHRlbnQiLCJ0cmFuc2xhdGVFeHRlbnQiLCJjYWxsIiwiZGF0YSIsImZlYXR1cmVzIiwiZW50ZXIiLCJzZWFib3hlczIiLCJ0YXJnZXRfbGF5ZXIiLCJwcm9wZXJ0aWVzIiwiYXBwIiwiY3VycmVudF9jb25maWciLCJpZF9maWVsZF9nZW9tIiwibXlfcmVnaW9uIiwibm9kZSIsImdldEF0dHJpYnV0ZSIsImJpbmRUb29sdGlwIiwiY3VycmVudF9pZHMiLCJjb2xvcnMiLCJ0ZXh0IiwiX2l4IiwibmJfdmFsIiwibWluIiwicmF0aW9fcHJldHR5X25hbWUiLCJtb3VzZSIsInpvb21JZGVudGl0eSIsIm15X3JlZ2lvbl9wcmV0dHlfbmFtZSIsImJydXNoX21hcCIsIm1vdmUiLCJzZWxlY3Rpb24iLCJjaGFydCIsImhhbmRsZV9icnVzaF9tYXAiLCJjbGFzc0xpc3QiLCJhZGQiLCJicnVzaCIsImV4dGVudCIsIm1ha2VTb3VyY2VTZWN0aW9uIiwidGV4dF96b25lIiwibWFrZU1hcExlZ2VuZCIsImxlZ2VuZF9lbGVtcyIsImNvbG9yIiwicmVjdF9zaXplIiwic3BhY2luZyIsImxnZF9oZWlnaHQiLCJvZmZzZXQiLCJncnBfbGdkIiwibGVnZW5kcyIsInR4IiwidHkiLCJkZWZpbmUiLCJ0aGlzIiwiY3JlYXRlVGFibGVET00iLCJvcHRzIiwiY29uZmlnIiwibnVtIiwiZGVudW0iLCJvcHRpb25zIiwiZG9jIiwibmJfZmVhdHVyZXMiLCJjb2x1bW5fbmFtZXMiLCJPYmplY3QiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwibmJfY29sdW1ucyIsIm15VGFibGUiLCJoZWFkZXJzIiwiYm9keSIsImhlYWRlcnNfcm93IiwiY2VsbCIsImNvbF9uYW1lIiwicm93Iiwic2V0QXR0cmlidXRlIiwibWFrZVRhYmxlIiwiZGF0YV9ub19lbXB0eSIsInRhYmxlIiwidW5kZWZpbmVkIiwiZGF0YVRhYmxlIiwiRGF0YVRhYmxlIiwibWFyZ2luVG9wIiwiZm9udFNpemUiLCJwcm90b3R5cGUiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImVsIiwib25jbGljayIsInBhcmVudEVsZW1lbnQiLCJjbGljayIsInByZXBhcmVfZGF0YXNldCIsImZ1bGxfZGF0YXNldCIsImZlYXR1cmVfbmFtZXMiLCJlbGVtIiwiZmlsdGVyTGV2ZWxWYXIiLCJmaWx0ZXJfaWQiLCJjdXJyZW50X2xldmVsIiwiaWRfZmllbGQiLCJmaWx0ZXJfa2V5IiwibmFtZV9maWVsZCIsImFsbF92YXJpYWJsZXMiLCJjb25jYXQiLCJ0ZW1wIiwiZnQiLCJsZXZlbCIsIm15X2NhdGVnb3J5IiwicHJvcHNfZmVhdHVyZSIsImN1cnJlbnRfZGF0YSIsInByZXBhcmVWYXJpYWJsZXNJbmZvIiwibWV0YWRhdGFfaW5kaWNhdGV1cnMiLCJhcHBseUZpbHRlciIsImZpbHRlcl90eXBlIiwiY2hhbmdlUmVnaW9uIiwiaWRfcmVnaW9uIiwiYWRkVmFyaWFibGUiLCJjb2RlX3JhdGlvIiwidmFyaWFibGVfaW5mbyIsInZhcmlhYmxlc19pbmZvIiwicmVtb3ZlVmFyaWFibGUiLCJzcGxpY2UiLCJyZXNldFZhcmlhYmxlcyIsImNvZGVzX3JhdGlvIiwibGVuIiwiY2FsY1BvcENvbXBsZXR1ZGVTdWJzZXQiLCJ2YXJzIiwicG9wX2ZpZWxkIiwiZmluZCIsInRvdGFsX3BvcCIsImlzTmFOIiwicmF0aW9fbmFtZSIsImV2ZXJ5Iiwic3Vic2V0X3BvcCIsInBvcCIsIlRhYmxlUmVzdW1lU3RhdCIsInN1bW1hcnlfZmVhdHVyZXMiLCJjb250YWluZXJfZGl2IiwidGFibGVfYm9keSIsImFkZEZlYXR1cmUiLCJzdW1tYXJ5IiwiaWRfdmFyaWFibGUiLCJyb3dzIiwic3ZnX2JhciIsIm1hcmdpbjIiLCJoZWlnaHQyIiwibmJGdCIsImN1cnJlbnRfcmFuZ2VfYnJ1c2giLCJjdXJyZW50X3JhbmdlIiwiZGlzcGxheWVkIiwiZ2V0TWVhblJhbmsiLCJtZWFuX3ZhbHVlIiwicmF0aW9fdG9fdXNlIiwibWVhbl9yYW5rIiwic29ydCIsIkJhckNoYXJ0MSIsInJlZl9kYXRhIiwiYnJ1c2hlZCIsInNvdXJjZUV2ZW50IiwidHlwZSIsImxvZyIsIngyIiwicmFuZ2UiLCJkb21haW4iLCJ1cGRhdGUiLCJ1cGRhdGVDb250ZXh0IiwiYnJ1c2hfdG9wIiwiYnJ1c2hlZF90b3AiLCJfZm9jdXMiLCJtYXBfZWxlbSIsImQzX2V2ZW50IiwidGFyZ2V0IiwicmVtb3ZlUmVjdEJydXNoIiwidXBkYXRlTWFwUmVnaW8iLCJkZXRhaWwiLCJuYl92YXIiLCJzY2FsZUJhbmQiLCJzY2FsZUxpbmVhciIsInkyIiwieEF4aXMiLCJheGlzQm90dG9tIiwieEF4aXMyIiwieUF4aXMiLCJheGlzTGVmdCIsInNlbGYiLCJhdmFpbGFibGVfcmF0aW9zIiwiY3VycmVudF9yYW5rcyIsIm1lYW4iLCJmb2N1cyIsImNvbnRleHQiLCJicnVzaF9ib3R0b20iLCJicnVzaFgiLCJkeCIsImdfYmFyIiwiZ3JvdXBlX2xpbmVfbWVhbiIsIngxIiwieTEiLCJ1cGRhdGVNaW5pQmFycyIsImNvbXBsZXR1ZGVfdmFsdWUiLCJjb21wbGV0dWRlIiwia2V5Iiwic2VsZWNfdmFyIiwiY29kZV92YXJpYWJsZSIsImNoYW5nZVZhcmlhYmxlIiwiY2hhbmdlU3R1ZHlab25lIiwidXBkYXRlQ29tcGxldHVkZSIsIm1lbnVfc2VsZWN0aW9uIiwic2VsZWN0QmVsb3dNZWFuIiwic2VsZWN0QWJvdmVNZWFuIiwic2VsZWN0QmVsb3dNeVJlZ2lvbiIsInNlbGVjdEFib3ZlTXlSZWdpb24iLCJtYWtlVGFibGVTdGF0IiwiXyIsImJhciIsImJhbmR3aWR0aCIsInRvX2Rpc3BsYXkiLCJleGl0IiwiYXhpc194IiwibWluaV9iYXJzIiwibXlfcmFuayIsImxhc3RfbWFwX3NlbGVjdGlvbiIsInJlY3QiLCJfcHRzIiwicHRzIiwibmJfcHRzIiwiY29udGFpbnMiLCJpZHMiLCJrZXlzIiwicmFua3MiLCJjMSIsImMyIiwicGFyZW50IiwidXBkYXRlVGFibGVTdGF0cyIsInVwZGF0ZUxlZ2VuZCIsImdycF9tZWFuIiwibWluX3NlcmllIiwibWF4X3NlcmllIiwib2Zmc2V0X3kiLCJ1cGRhdGVNZWFuVmFsdWUiLCJuYW1lX3ZhcmlhYmxlIiwiZGlzcGF0Y2giLCJ0YWJsZV9zdGF0cyIsInVuYmluZEJydXNoIiwicmVzZXRDb2xvcnMiLCJyZW1vdmVBbGwiLCJwcmVwYXJlVGFibGVTdGF0IiwiZmVhdHVyZSIsIkJ1YmJsZUNoYXJ0MSIsImF2YWlsYWJsZV9udW1zIiwic3RvY2tfdG9fdXNlIiwibXlfcmVnaW9uX3ZhbHVlIiwiZGlzdCIsImhpZ2hsaWdodF9zZWxlY3Rpb24iLCJkcmF3X2dyb3VwIiwiYXBwbHlTZWxlY3Rpb24iLCJzZWxlY3Rpb25fY2xvc2UiLCJwcm9wZXJ0eSIsImJpbmRNZW51IiwibmIiLCJfbWluIiwiX21heCIsImRpc3RfbWluIiwiZGlzdF9tYXgiLCJkaXN0X2F4aXMiLCJtYXJnaW5fbWluX21heCIsInByb3Bfc2l6ZXIiLCJ4U2NhbGUiLCJidWJibGVzIiwieF92YWx1ZSIsIl9yYXRpb190b191c2UiLCJfc3RvY2tfdG9fdXNlIiwiaWRfdG9fcmVtb3ZlIiwiYXBwbHljaGFuZ2UiLCJjb250ZXh0TWVudSIsIml0ZW1zIiwic2V0SXRlbXMiLCJpdGVtIiwiYWN0aW9uIiwibmJfaXRlbXMiLCJhZGRJdGVtIiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJET01vYmoiLCJoaWRlTWVudSIsImluaXRNZW51IiwiY2xpZW50WSIsInNjcm9sbFRvcCIsImNsaWVudFgiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwibGlzdCIsIm5iX2l0ZW0iLCJTY2F0dGVyUGxvdDIiLCJyYW5nZV94IiwiaW52ZXJ0IiwicmFuZ2VfeSIsInQxIiwicmFua192YXJpYWJsZTEiLCJ0MiIsInJhbmtfdmFyaWFibGUyIiwidmFyaWFibGUxIiwidmFyaWFibGUyIiwicmVmX3ZhbHVlMSIsInJlZl92YWx1ZTIiLCJwcmV0dHlfbmFtZTEiLCJwcmV0dHlfbmFtZTIiLCJyZXMiLCJuaWNlIiwidGlja3MiLCJ5QXhpczIiLCJwbG90Iiwic2NhdHRlciIsIm1lYW5fdmFyaWFibGUxIiwibWVhbl92YXJpYWJsZTIiLCJtYWtlR3JpZCIsIm9wYWNpdHkiLCJwcmVwYXJlVGl0bGVBeGlzIiwiY2FsbEJydXNoIiwidGlja1NpemUiLCJ0aWNrRm9ybWF0IiwibWVudVgiLCJDb250ZXh0TWVudSIsIm1lbnVZIiwiaXRlbXNYIiwiY2hhbmdlVmFyaWFibGVYIiwiaXRlbXNZIiwiY2hhbmdlVmFyaWFibGVZIiwiYmJveCIsInNob3dNZW51IiwiZGVmYXVsdF9jb2xvciIsImRvdHMiLCJfdmFyMSIsIl92YXIyIiwidmFsdWUxIiwidmFsdWUyIiwidG1wX215X3JlZ2lvbiIsInVwZGF0ZUl0ZW1zQ3R4TWVudSIsInVwZGF0ZVRhYmxlU3RhdCIsIm5ld192YXJfeCIsIm5ld192YXJfeSIsInZhbHVlczEiLCJ2YWx1ZXMyIiwiYWRkRmVhdHVyZXMiLCJ3cmFwIiwiX3RleHQiLCJ3b3JkcyIsInJldmVyc2UiLCJsaW5lSGVpZ2h0IiwicGFyc2VGbG9hdCIsImxpbmUiLCJsaW5lTnVtYmVyIiwidHNwYW4iLCJ3b3JkIiwiam9pbiIsImdldENvbXB1dGVkVGV4dExlbmd0aCIsImFycmF5IiwiZnJvbSIsInRvIiwic3dhcCIsIml4MSIsIml4MiIsInByZXBhcmVfZGF0YV9yYWRhcl9kZWZhdWx0Iiwidl9teV9yZWdpb24iLCJvamJfbXlfcmVnaW9uIiwiX3YiLCJheGVzIiwib2JqX21lYW4iLCJwcmVwYXJlX2RhdGFfcmFkYXJfZnQiLCJmdF92YWx1ZXMiLCJSYWRhckNoYXJ0MyIsImNmZyIsInNjYWxlT3JkaW5hbCIsInNjaGVtZUNhdGVnb3J5MTAiLCJnIiwidyIsImgiLCJwcmVwYXJlRGF0YSIsImRyYXdBeGlzR3JpZCIsImRyYXdBcmVhIiwiaGFuZGxlTGVnZW5kIiwiYWxsb3dJbnZlcnNlRGF0YSIsImludmVyc2VfZGF0YSIsImZpZWxkIiwiZGF0YV9sZW5ndGgiLCJheCIsImF4aXMiLCJuX2F4aXMiLCJKU09OIiwic3RyaW5naWZ5IiwiYWxsQXhpcyIsIkVycm9yIiwiZGlzcGxheWVkX2lkcyIsIm9uX2F4ZXMiLCJuIiwiYmxvYldyYXBwZXIiLCJyYWRhckxpbmUiLCJvcGFjaXR5QXJlYSIsInN0cm9rZVdpZHRoIiwiZG90UmFkaXVzIiwiclNjYWxlIiwiYW5nbGVTbGljZSIsImJsb2JDaXJjbGVXcmFwcGVyIiwiY3giLCJiYXNlVmFsIiwiY3kiLCJGb3JtYXQiLCJ1bml0IiwicmFua192YXJpYWJsZXMiLCJtYXhWYWx1ZSIsInRvdGFsIiwicmFkaXVzIiwiZm9ybWF0IiwicmFkaWFsTGluZSIsImN1cnZlIiwicm91bmRTdHJva2VzIiwiY3VydmVDYXJkaW5hbENsb3NlZCIsImN1cnZlTGluZWFyQ2xvc2VkIiwiYW5nbGUiLCJsYWJlbENsaWNrZWQiLCJuZXdfaXgiLCJsYWJlbEN0eE1lbnUiLCJsYWJlbCIsImF4aXNHcmlkIiwibGV2ZWxzIiwib3BhY2l0eUNpcmNsZXMiLCJsYWJlbEZhY3RvciIsIndyYXBXaWR0aCIsImZlTWVyZ2UiLCJsZWdlbmQiLCJiYWJlbEhlbHBlcnMudHlwZW9mIiwidGl0bGUiLCJsZWdlbmRab25lIiwibGVnZW5kRW50ZXIiLCJtZXJnZSIsInRyYW5zbGF0ZVgiLCJ0cmFuc2xhdGVZIiwidXBkYXRlX2F4aXMiLCJ1cGRhdGVfYmxvYldyYXBwZXIiLCJjaXJjbGUiLCJ1cGRhdGVfYmxvYkNpcmNsZVdyYXBwZXIiLCJpbnZpc2libGVDaXJjbGUiLCJvdGhlcl9mZWF0dXJlcyIsImFkZF9lbGVtZW50IiwiYWxsX3ZhbHVlcyIsIl9kIiwiZGVidWciLCJzZXREZWZhdWx0Q29uZmlnIiwiY29kZSIsInZhcmlhYmxlIiwic2V0RGVmYXVsdENvbmZpZ01lbnUiLCJiaW5kVUlfY2hhcnQiLCJuZXdfbmJfdmFyIiwidXBkYXRlQXZhaWxhYmxlc1JhdGlvcyIsInVwZGF0ZUNoYW5nZVJlZ2lvbiIsImdyb3VwX3ZhciIsIm5leHRTaWJsaW5nIiwiQXJyYXkiLCJwcmV2aW91c1NpYmxpbmciLCJoYW5kbGVDbGlja01hcCIsImhlYWRlcl90YWJsZV9zZWN0aW9uIiwiY29udGVudCIsInJhbmciLCJlbmNvZGVVUklDb21wb25lbnQiLCJiaW5kVG9wQnV0dG9ucyIsInJlc2V0Wm9vbSIsImJpbmRCcnVzaCIsImJpbmRNYXAiLCJsb2FkRGF0YSIsInF1ZXVlIiwiZGVmZXIiLCJjc3YiLCJqc29uIiwiYXdhaXRBbGwiLCJlcnJvciIsInJlc3VsdHMiLCJmZWF0dXJlc19tZW51Iiwic2VsZWN0Rmlyc3RBdmFpbGFibGVWYXIiLCJkYXRhX215X2ZlYXR1cmUiLCJsaW5lcyIsIm5iX2xpbmVzIiwibmV3X3ZhciIsIm5ld192YXJfbmFtZXMiXSwibWFwcGlu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
