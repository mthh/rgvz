(function (exports) {
'use strict';

var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};





function createCommonjsModule(fn, module) {
	return module = { exports: {} }, fn(module, module.exports), module.exports;
}

/**
 * Helpers.
 */

var s = 1000;
var m = s * 60;
var h = m * 60;
var d = h * 24;
var y = d * 365.25;

/**
 * Parse or format the given `val`.
 *
 * Options:
 *
 *  - `long` verbose formatting [false]
 *
 * @param {String|Number} val
 * @param {Object} [options]
 * @throws {Error} throw an error if val is not a non-empty string or a number
 * @return {String|Number}
 * @api public
 */

var ms = function(val, options) {
  options = options || {};
  var type = typeof val;
  if (type === 'string' && val.length > 0) {
    return parse(val);
  } else if (type === 'number' && isNaN(val) === false) {
    return options.long ? fmtLong(val) : fmtShort(val);
  }
  throw new Error(
    'val is not a non-empty string or a valid number. val=' +
      JSON.stringify(val)
  );
};

/**
 * Parse the given `str` and return milliseconds.
 *
 * @param {String} str
 * @return {Number}
 * @api private
 */

function parse(str) {
  str = String(str);
  if (str.length > 100) {
    return;
  }
  var match = /^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(
    str
  );
  if (!match) {
    return;
  }
  var n = parseFloat(match[1]);
  var type = (match[2] || 'ms').toLowerCase();
  switch (type) {
    case 'years':
    case 'year':
    case 'yrs':
    case 'yr':
    case 'y':
      return n * y;
    case 'days':
    case 'day':
    case 'd':
      return n * d;
    case 'hours':
    case 'hour':
    case 'hrs':
    case 'hr':
    case 'h':
      return n * h;
    case 'minutes':
    case 'minute':
    case 'mins':
    case 'min':
    case 'm':
      return n * m;
    case 'seconds':
    case 'second':
    case 'secs':
    case 'sec':
    case 's':
      return n * s;
    case 'milliseconds':
    case 'millisecond':
    case 'msecs':
    case 'msec':
    case 'ms':
      return n;
    default:
      return undefined;
  }
}

/**
 * Short format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

function fmtShort(ms) {
  if (ms >= d) {
    return Math.round(ms / d) + 'd';
  }
  if (ms >= h) {
    return Math.round(ms / h) + 'h';
  }
  if (ms >= m) {
    return Math.round(ms / m) + 'm';
  }
  if (ms >= s) {
    return Math.round(ms / s) + 's';
  }
  return ms + 'ms';
}

/**
 * Long format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

function fmtLong(ms) {
  return plural(ms, d, 'day') ||
    plural(ms, h, 'hour') ||
    plural(ms, m, 'minute') ||
    plural(ms, s, 'second') ||
    ms + ' ms';
}

/**
 * Pluralization helper.
 */

function plural(ms, n, name) {
  if (ms < n) {
    return;
  }
  if (ms < n * 1.5) {
    return Math.floor(ms / n) + ' ' + name;
  }
  return Math.ceil(ms / n) + ' ' + name + 's';
}

var debug$1 = createCommonjsModule(function (module, exports) {
/**
 * This is the common logic for both the Node.js and web browser
 * implementations of `debug()`.
 *
 * Expose `debug()` as the module.
 */

exports = module.exports = createDebug.debug = createDebug['default'] = createDebug;
exports.coerce = coerce;
exports.disable = disable;
exports.enable = enable;
exports.enabled = enabled;
exports.humanize = ms;

/**
 * The currently active debug mode names, and names to skip.
 */

exports.names = [];
exports.skips = [];

/**
 * Map of special "%n" handling functions, for the debug "format" argument.
 *
 * Valid key names are a single, lower or upper-case letter, i.e. "n" and "N".
 */

exports.formatters = {};

/**
 * Previous log timestamp.
 */

var prevTime;

/**
 * Select a color.
 * @param {String} namespace
 * @return {Number}
 * @api private
 */

function selectColor(namespace) {
  var hash = 0, i;

  for (i in namespace) {
    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);
    hash |= 0; // Convert to 32bit integer
  }

  return exports.colors[Math.abs(hash) % exports.colors.length];
}

/**
 * Create a debugger with the given `namespace`.
 *
 * @param {String} namespace
 * @return {Function}
 * @api public
 */

function createDebug(namespace) {

  function debug() {
    // disabled?
    if (!debug.enabled) return;

    var self = debug;

    // set `diff` timestamp
    var curr = +new Date();
    var ms$$1 = curr - (prevTime || curr);
    self.diff = ms$$1;
    self.prev = prevTime;
    self.curr = curr;
    prevTime = curr;

    // turn the `arguments` into a proper Array
    var args = new Array(arguments.length);
    for (var i = 0; i < args.length; i++) {
      args[i] = arguments[i];
    }

    args[0] = exports.coerce(args[0]);

    if ('string' !== typeof args[0]) {
      // anything else let's inspect with %O
      args.unshift('%O');
    }

    // apply any `formatters` transformations
    var index = 0;
    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {
      // if we encounter an escaped % then don't increase the array index
      if (match === '%%') return match;
      index++;
      var formatter = exports.formatters[format];
      if ('function' === typeof formatter) {
        var val = args[index];
        match = formatter.call(self, val);

        // now we need to remove `args[index]` since it's inlined in the `format`
        args.splice(index, 1);
        index--;
      }
      return match;
    });

    // apply env-specific formatting (colors, etc.)
    exports.formatArgs.call(self, args);

    var logFn = debug.log || exports.log || console.log.bind(console);
    logFn.apply(self, args);
  }

  debug.namespace = namespace;
  debug.enabled = exports.enabled(namespace);
  debug.useColors = exports.useColors();
  debug.color = selectColor(namespace);

  // env-specific initialization logic for debug instances
  if ('function' === typeof exports.init) {
    exports.init(debug);
  }

  return debug;
}

/**
 * Enables a debug mode by namespaces. This can include modes
 * separated by a colon and wildcards.
 *
 * @param {String} namespaces
 * @api public
 */

function enable(namespaces) {
  exports.save(namespaces);

  exports.names = [];
  exports.skips = [];

  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\s,]+/);
  var len = split.length;

  for (var i = 0; i < len; i++) {
    if (!split[i]) continue; // ignore empty strings
    namespaces = split[i].replace(/\*/g, '.*?');
    if (namespaces[0] === '-') {
      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));
    } else {
      exports.names.push(new RegExp('^' + namespaces + '$'));
    }
  }
}

/**
 * Disable debug output.
 *
 * @api public
 */

function disable() {
  exports.enable('');
}

/**
 * Returns true if the given mode name is enabled, false otherwise.
 *
 * @param {String} name
 * @return {Boolean}
 * @api public
 */

function enabled(name) {
  var i, len;
  for (i = 0, len = exports.skips.length; i < len; i++) {
    if (exports.skips[i].test(name)) {
      return false;
    }
  }
  for (i = 0, len = exports.names.length; i < len; i++) {
    if (exports.names[i].test(name)) {
      return true;
    }
  }
  return false;
}

/**
 * Coerce `val`.
 *
 * @param {Mixed} val
 * @return {Mixed}
 * @api private
 */

function coerce(val) {
  if (val instanceof Error) return val.stack || val.message;
  return val;
}
});

var browser$1 = createCommonjsModule(function (module, exports) {
/**
 * This is the web browser implementation of `debug()`.
 *
 * Expose `debug()` as the module.
 */

exports = module.exports = debug$1;
exports.log = log;
exports.formatArgs = formatArgs;
exports.save = save;
exports.load = load;
exports.useColors = useColors;
exports.storage = 'undefined' != typeof chrome
               && 'undefined' != typeof chrome.storage
                  ? chrome.storage.local
                  : localstorage();

/**
 * Colors.
 */

exports.colors = [
  'lightseagreen',
  'forestgreen',
  'goldenrod',
  'dodgerblue',
  'darkorchid',
  'crimson'
];

/**
 * Currently only WebKit-based Web Inspectors, Firefox >= v31,
 * and the Firebug extension (any Firefox version) are known
 * to support "%c" CSS customizations.
 *
 * TODO: add a `localStorage` variable to explicitly enable/disable colors
 */

function useColors() {
  // NB: In an Electron preload script, document will be defined but not fully
  // initialized. Since we know we're in Chrome, we'll just detect this case
  // explicitly
  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {
    return true;
  }

  // is webkit? http://stackoverflow.com/a/16459606/376773
  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632
  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||
    // is firebug? http://stackoverflow.com/a/398120/376773
    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||
    // is firefox >= v31?
    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages
    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||
    // double check webkit in userAgent just in case we are in a worker
    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/));
}

/**
 * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.
 */

exports.formatters.j = function(v) {
  try {
    return JSON.stringify(v);
  } catch (err) {
    return '[UnexpectedJSONParseError]: ' + err.message;
  }
};


/**
 * Colorize log arguments if enabled.
 *
 * @api public
 */

function formatArgs(args) {
  var useColors = this.useColors;

  args[0] = (useColors ? '%c' : '')
    + this.namespace
    + (useColors ? ' %c' : ' ')
    + args[0]
    + (useColors ? '%c ' : ' ')
    + '+' + exports.humanize(this.diff);

  if (!useColors) return;

  var c = 'color: ' + this.color;
  args.splice(1, 0, c, 'color: inherit');

  // the final "%c" is somewhat tricky, because there could be other
  // arguments passed either before or after the %c, so we need to
  // figure out the correct index to insert the CSS into
  var index = 0;
  var lastC = 0;
  args[0].replace(/%[a-zA-Z%]/g, function(match) {
    if ('%%' === match) return;
    index++;
    if ('%c' === match) {
      // we only are interested in the *last* %c
      // (the user may have provided their own)
      lastC = index;
    }
  });

  args.splice(lastC, 0, c);
}

/**
 * Invokes `console.log()` when available.
 * No-op when `console.log` is not a "function".
 *
 * @api public
 */

function log() {
  // this hackery is required for IE8/9, where
  // the `console.log` function doesn't have 'apply'
  return 'object' === typeof console
    && console.log
    && Function.prototype.apply.call(console.log, console, arguments);
}

/**
 * Save `namespaces`.
 *
 * @param {String} namespaces
 * @api private
 */

function save(namespaces) {
  try {
    if (null == namespaces) {
      exports.storage.removeItem('debug');
    } else {
      exports.storage.debug = namespaces;
    }
  } catch(e) {}
}

/**
 * Load `namespaces`.
 *
 * @return {String} returns the previously persisted debug modes
 * @api private
 */

function load() {
  var r;
  try {
    r = exports.storage.debug;
  } catch(e) {}

  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG
  if (!r && typeof process !== 'undefined' && 'env' in process) {
    r = process.env.DEBUG;
  }

  return r;
}

/**
 * Enable namespaces listed in `localStorage.debug` initially.
 */

exports.enable(load());

/**
 * Localstorage attempts to return the localstorage.
 *
 * This is necessary because safari throws
 * when a user disables cookies/localstorage
 * and you attempt to access it.
 *
 * @return {LocalStorage}
 * @api private
 */

function localstorage() {
  try {
    return window.localStorage;
  } catch (e) {}
}
});

var color_countries = 'rgb(147,144,252)';
var color_disabled = 'rgb(214, 214, 214)';
var color_sup = 'green';
var color_inf = 'red';
var color_highlight = 'yellow';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
  return typeof obj;
} : function (obj) {
  return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
};











var classCallCheck = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

var createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();



























var slicedToArray = function () {
  function sliceIterator(arr, i) {
    var _arr = [];
    var _n = true;
    var _d = false;
    var _e = undefined;

    try {
      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
        _arr.push(_s.value);

        if (i && _arr.length === i) break;
      }
    } catch (err) {
      _d = true;
      _e = err;
    } finally {
      try {
        if (!_n && _i["return"]) _i["return"]();
      } finally {
        if (_d) throw _e;
      }
    }

    return _arr;
  }

  return function (arr, i) {
    if (Array.isArray(arr)) {
      return arr;
    } else if (Symbol.iterator in Object(arr)) {
      return sliceIterator(arr, i);
    } else {
      throw new TypeError("Invalid attempt to destructure non-iterable instance");
    }
  };
}();

var math_abs = Math.abs;
var math_round = Math.round;
var math_max = Math.max;
var math_sin = Math.sin;
var math_cos = Math.cos;
var HALF_PI = Math.PI / 2;

function prepareTooltip(parent_svg_elem) {
  var tooltip = parent_svg_elem.append('g').attr('class', 'tooltip').style('display', 'none');

  tooltip.append('rect').attrs({ width: 50, height: 40, fill: 'white' }).style('opacity', 0.5);

  tooltip.append('text').attrs({ class: 'id_feature', x: 25, dy: '1.2em', 'font-size': '14px' }).style('text-anchor', 'middle');

  tooltip.append('text').attrs({
    class: 'value_feature1',
    x: 25,
    dy: '2.4em',
    'font-size': '14px',
    'font-weight': 'bold' }).style('text-anchor', 'middle');

  tooltip.append('text').attrs({
    class: 'value_feature2',
    x: 25,
    dy: '3.5em',
    'font-size': '14px',
    'font-weight': 'bold' }).style('text-anchor', 'middle');

  tooltip.append('text').attrs({
    class: 'value_feature3',
    x: 25,
    dy: '4.6em',
    'font-size': '14px',
    'font-weight': 'bold' }).style('text-anchor', 'middle');

  tooltip.append('text').attrs({
    class: 'value_feature4',
    x: 25,
    dy: '5.7em',
    'font-size': '14px',
    'font-weight': 'bold' }).style('text-anchor', 'middle');

  return tooltip;
}

function unbindUI() {
  // Removes the current behavior corresponding to clicking on the left menu:
  d3.selectAll('span.filter_v').on('click', null);
  d3.selectAll('span.target_region').on('click', null);
  d3.selectAll('span.label_chk').on('click', null);

  // Remove the table:
  d3.select('.dataTable-wrapper').remove();

  // Unbind buttons on the top of the map:
  d3.select('#header_map').selectAll('img').on('click', null);

  // Remove the selection menu (or buttons) under the chart:
  d3.select('#bar_section > #menu_selection').remove();

  // Removes the current behavior corresponding to clicking on the top menu:
  d3.selectAll('.type_chart.title_menu').on('click', null);

  // Removes the current behavior corresponding to pressing the Control key:
  document.onkeyup = null;
  document.onkeydown = null;
}

/**
* Function to compare the value of a feature to the reference value (i.e. the value of "my region")
* and return the appropriate color (serie may be inversed)
*
* @param {Number} test_value - The value to be compared to the value of "my region".
* @param {Number} ref_value - The value of my region.
* @param {Boolean} serie_inversed - Whether the serie is inversed or not in the current chart.
* @return {String} - A string containing the color to be used for this value.
*
*/
var comp = function comp(test_value, ref_value, serie_inversed) {
  if (test_value < ref_value) {
    return serie_inversed ? color_sup : color_inf;
  }
  return serie_inversed ? color_inf : color_sup;
};

/**
* Function to compare the value of a feature to the reference value (i.e. the value of "my region")
* and return the appropriate color (serie may be inversed)
*
* @param {Number} val1 - The value to be compared to the value of "my region" for the 1st variable.
* @param {Number} val2 - The value to be compared to the value of "my region" for the 2nd variable.
* @param {Number} ref_val1 - The value of my region for he first variable.
* @param {Number} ref_val2 - The value of my region for the second variable.
* @param {Boolean} xInversed - Whether the serie is inversed on the x axis in the current chart.
* @param {Boolean} yInversed - Whether the serie is inversed on the y axis in the current chart.
* @return {String} - A string containing the color to be used for theses values.
*
*/
var comp2 = function comp2(val1, val2, ref_val1, ref_val2, xInversed, yInversed) {
  if (val1 < ref_val1 && !xInversed || val1 > ref_val1 && xInversed) {
    // val1 is inferior:
    if (val2 < ref_val2) {
      return yInversed ? 'rgb(160, 30, 160)' : color_inf;
    }
    return yInversed ? color_inf : 'rgb(160, 30, 160)';
  }
  // val1 is superior :
  if (val2 > ref_val2) {
    return !yInversed ? color_sup : 'orange';
  }
  return !yInversed ? 'orange' : color_sup;
};

var Rect = function () {
  function Rect(topleft, bottomright) {
    classCallCheck(this, Rect);

    this.xmin = topleft[0];
    this.xmax = bottomright[0];
    this.ymin = topleft[1];
    this.ymax = bottomright[1];
  }

  createClass(Rect, [{
    key: 'contains',
    value: function contains(pt) {
      if (pt[0] >= this.xmin && pt[0] <= this.xmax && pt[1] >= this.ymin && pt[1] <= this.ymax) {
        return true;
      }
      return false;
    }
  }]);
  return Rect;
}();

var PropSizer = function PropSizer(fixed_value, fixed_size) {
  var _this = this;

  this.fixed_value = fixed_value;
  var sqrt = Math.sqrt;
  var abs = Math.abs;
  var PI = Math.PI;
  this.smax = fixed_size * fixed_size * PI;
  this.scale = function (val) {
    return sqrt(abs(val) * _this.smax / _this.fixed_value) / PI;
  };
  // this.get_value = size => ((size * PI) ** 2) / this.smax * this.fixed_value;
  // Use Math pow to support browser without ** operator:
  // eslint-disable-next-line no-restricted-properties
  this.get_value = function (size) {
    return Math.pow(size * PI, 2) / _this.smax * _this.fixed_value;
  };
};

var removeDuplicates = function removeDuplicates(arr) {
  var tmp = [];
  for (var i = 0, len_arr = arr.length; i < len_arr; i++) {
    if (tmp.indexOf(arr[i]) === -1) {
      tmp.push(arr[i]);
    }
  }
  return tmp;
};

var getSvgPathType = function getSvgPathType(path) {
  if (path.indexOf('M ') > -1 && path.indexOf(' L ') > -1) {
    return 2;
  }
  return 1;
};

var svgPathToCoords = function svgPathToCoords(path, type_path) {
  if (type_path === 1) {
    return path.slice(1).split('L').map(function (pt) {
      return pt.split(',').map(function (a) {
        return +a;
      });
    });
  }
  return path.slice(2).split(' L ').map(function (pt) {
    return pt.split(' ').map(function (a) {
      return +a;
    });
  });
};

function computePercentileRank(obj, field_name, result_field_name) {
  var values = obj.map(function (d) {
    return d[field_name];
  });
  var len_values = values.length;
  var getPR = function getPR(v) {
    var count = 0;
    for (var i = 0; i < len_values; i++) {
      if (values[i] <= v) {
        count += 1;
      }
    }
    return 100 * count / len_values;
  };
  for (var ix = 0; ix < len_values; ix++) {
    obj[ix][result_field_name] = getPR(values[ix]);
  }
}

var _getPR = function _getPR(v, serie) {
  var count = 0;
  for (var i = 0; i < serie.length; i++) {
    if (serie[i] <= v) {
      count += 1;
    }
  }
  return 100 * count / serie.length;
};

var createMenu = function createMenu(names, variables, study_zones, territorial_mesh) {
  // First section, regions names:
  var title_section1 = document.createElement('p');
  title_section1.className = 'title_menu';
  title_section1.innerHTML = 'Ma région';
  var section1 = document.createElement('div');
  section1.className = 'box';
  section1.style.overflow = 'auto';
  section1.style.height = '180px';
  for (var i = 0, len_i = names.length; i < len_i; i++) {
    var id = names[i].geo;
    var name = names[i].Nom;
    var entry = document.createElement('p');
    entry.innerHTML = '<span value="' + id + '" class=\'target_region square\'></span><span class="label_chk">' + name + '</span>';
    section1.appendChild(entry);
  }

  // Second section, groups of variables:
  var title_section2 = document.createElement('p');
  title_section2.className = 'title_menu';
  title_section2.innerHTML = 'Mon/mes indicateurs';
  var section2 = document.createElement('div');
  section2.className = 'box';
  section2.style.overflow = 'auto';
  section2.style.height = '170px';

  // Filter the "variables" variable to fetch the group names :
  var groups_var = removeDuplicates(variables.map(function (d) {
    return d.group;
  }));

  var _loop = function _loop(_i, _len_i) {
    var gp_name = groups_var[_i];
    var entry = document.createElement('p');
    entry.className = 'name_group_var';
    entry.innerHTML = '<span class=\'square\'></span><span>' + gp_name + '</span>';
    section2.appendChild(entry);
    var div_grp = document.createElement('div');
    div_grp.style.display = _i === 0 ? null : 'none';
    var var_names = variables.filter(function (d) {
      return d.group === gp_name;
    });
    for (var j = 0, len_j = var_names.length; j < len_j; j++) {
      var name_var = var_names[j].name;
      var code_var = var_names[j].ratio;
      var sub_entry = document.createElement('p');
      sub_entry.className = 'small';
      sub_entry.innerHTML = '<span value="' + code_var + '" class="target_variable small_square"></span><span class="label_chk">' + name_var + '</span>';
      div_grp.appendChild(sub_entry);
    }
    section2.appendChild(div_grp);
  };

  for (var _i = 0, _len_i = groups_var.length; _i < _len_i; _i++) {
    _loop(_i, _len_i);
  }

  // Third section, study zone:
  var title_section3 = document.createElement('p');
  title_section3.className = 'title_menu';
  title_section3.innerHTML = 'Mon espace d\'étude';
  var section3 = document.createElement('div');
  section3.className = 'box';
  for (var _i2 = 0, _len_i2 = study_zones.length; _i2 < _len_i2; _i2++) {
    var _entry = document.createElement('p');
    var zone = study_zones[_i2];
    _entry.innerHTML = '<span filter-value="' + zone.id + '" class=\'filter_v square\'></span><span class="label_chk">' + zone.name + '</span>';
    section3.appendChild(_entry);
  }

  // Fourth section:
  var title_section4 = document.createElement('p');
  title_section4.className = 'title_menu';
  title_section4.innerHTML = 'Maillage territorial d\'analyse';
  var section4 = document.createElement('div');
  section4.className = 'box';
  for (var _i3 = 0, _len_i3 = territorial_mesh.length; _i3 < _len_i3; _i3++) {
    var _entry2 = document.createElement('p');
    var territ_level = territorial_mesh[_i3];
    _entry2.innerHTML = '<span value="' + territ_level.id + '" class=\'square territ_level\'></span><span class="label_chk">' + territ_level.name + '</span>';
    section4.appendChild(_entry2);
  }

  // The actual menu containing these 4 sections:
  var menu = document.getElementById('menu');
  menu.id = 'menu';
  menu.style.width = '340px';
  menu.style.float = 'left';
  menu.appendChild(title_section1);
  menu.appendChild(section1);
  menu.appendChild(title_section2);
  menu.appendChild(section2);
  menu.appendChild(title_section3);
  menu.appendChild(section3);
  menu.appendChild(title_section4);
  menu.appendChild(section4);
};

function makeTopMenu() {
  var top_menu = d3.select('#menutop').styles({ 'font-family': "'Signika', sans-serif", 'font-size': '0.80em', padding: '0.3px' });
  var width_left = document.querySelector('#menu').getBoundingClientRect().width + 25 + 'px';
  var t = document.querySelector('#bar_section').getBoundingClientRect().width;
  var width_central_chart = t + 'px';
  var width_map = document.querySelector('#map_section').getBoundingClientRect().width - 35 + 'px';
  var width_type_comp = (t - 80) / 3 - 2 + 'px';
  top_menu.append('div').attrs({ class: 'title_section' }).styles({ width: width_left, float: 'left', margin: '0 3px' }).html('SÉLECTION');

  var type_chart = top_menu.append('div').attr('class', 'top_section').styles({ width: width_central_chart, float: 'left', margin: '0 3px', 'text-align': 'center' });

  var position = type_chart.append('div').attr('class', 'type_comparaison').styles({ width: width_type_comp });

  position.append('p').attr('class', 'title_type_comp').html('POSITION');

  position.append('span').attrs({ class: 'type_chart chart_t1', value: 'BarChart1' }).html('1 ind.');

  position.append('span').attrs({ class: 'type_chart chart_t2 disabled', value: 'ScatterPlot2' }).html('2 ind.');

  position.append('span').attrs({ class: 'type_chart chart_t3 disabled', value: 'RadarChart3' }).html('+3 ind.');

  var ressemblance = type_chart.append('div').attr('class', 'type_comparaison').styles({ width: width_type_comp });

  ressemblance.append('p').attr('class', 'title_type_comp').html('RESSEMBLANCES');

  ressemblance.append('span').attrs({ class: 'type_chart chart_t1', value: 'BubbleChart1' }).html('1 ind.');

  ressemblance.append('span').attr('class', 'type_chart chart_t2 disabled').html('+2 ind.');

  var inegalite = type_chart.append('div').attr('class', 'type_comparaison').styles({ width: width_type_comp });

  inegalite.append('p').attr('class', 'title_type_comp').html('INÉGALITÉS');

  inegalite.append('span').attr('class', 'type_chart chart_t1 disabled').html('1 ind.');

  inegalite.append('span').attr('class', 'type_chart chart_t2 disabled').html('+2 ind.');

  top_menu.append('div').attrs({ class: 'title_section' }).styles({ width: width_map, float: 'left', margin: '0 0 0 20px' }).html('QUELLES REGIONS ?');
}

function makeHeaderMapSection() {
  var header_map_section = d3.select('#map_section').insert('p', 'svg').attr('id', 'header_map').style('margin', '0 0 0 10px');

  header_map_section.insert('img').attrs({
    class: 'map_button active',
    width: 20,
    height: 20,
    src: 'img/gimp-tool-rect-select.png',
    id: 'img_rect_selec'
  });

  header_map_section.insert('img').attrs({
    class: 'map_button',
    width: 20,
    height: 20,
    src: 'img/gimp-tool-zoom.png',
    id: 'img_map_zoom'
  });

  header_map_section.insert('img').attrs({
    class: 'map_button',
    width: 20,
    height: 20,
    src: 'img/gimp-cursor.png',
    id: 'img_map_select'
  });
}

function makeHeaderChart() {
  var header_bar_section = d3.select('#bar_section').insert('p', 'svg').attr('id', 'header_chart').style('margin-bottom', '0').style('clear', 'both');

  header_bar_section.insert('img').attrs({
    width: 24,
    height: 24,
    src: 'img/edit-table-insert-row-above.svg',
    id: 'img_table'
  }).styles({ margin: '3px', float: 'right' }).on('click', function () {
    if (document.querySelector('.dataTable-wrapper').style.display) {
      document.querySelector('#svg_map').style.display = 'none';
      document.querySelector('#svg_legend').style.display = 'none';
      document.querySelector('#header_map').style.display = 'none';
      document.querySelector('#header_table').style.display = null;
      document.querySelector('.dataTable-wrapper').style.display = null;
      this.style.filter = 'invert(75%)';
    } else {
      document.querySelector('#svg_map').style.display = null;
      document.querySelector('#svg_legend').style.display = null;
      document.querySelector('#header_map').style.display = null;
      document.querySelector('#header_table').style.display = 'none';
      document.querySelector('.dataTable-wrapper').style.display = 'none';
      this.style.filter = null;
    }
  });

  header_bar_section.insert('img').attrs({
    width: 24,
    height: 24,
    src: 'img/printer.svg',
    id: 'img_printer'
  }).styles({ margin: '3px', float: 'right' });

  header_bar_section.insert('img').attrs({
    width: 24,
    height: 24,
    src: 'img/gtk-info.svg',
    id: 'img_info'
  }).styles({ margin: '3px', float: 'right' });
}

var svg_map = d3.select('svg#svg_map');
var margin_map = { top: 0, right: 0, bottom: 0, left: 0 };
var width_map = +svg_map.attr('width') - margin_map.left - margin_map.right;
var height_map = +svg_map.attr('height') - margin_map.top - margin_map.bottom;

var styles = {
  template: { id: 'template', fill: 'rgb(247, 252, 254)', 'fill-opacity': 1 },
  countries: { id: 'countries', fill: 'rgb(214, 214, 214)', 'fill-opacity': 1, 'stroke-width': 0.5, stroke: '#ffffff' },
  seaboxes: { id: 'seaboxes', fill: '#e0faff', 'fill-opacity': 1, stroke: 'black', 'stroke-width': 0.2 },
  remote: { id: 'remote', fill: 'rgb(214, 214, 214)', 'fill-opacity': 1, 'stroke-width': 0.5, stroke: '#ffffff' },
  seaboxes2: { id: 'seaboxes2', fill: 'none', stroke: 'black', 'stroke-width': 0.8 },
  nuts1: { id: 'nuts1', 'fill-opacity': 1, 'stroke-width': 0.5, stroke: '#ffffff' }
};

var projection = void 0;
var path = void 0;

function get_bbox_layer_path(name) {
  var bbox_layer = [[Infinity, Infinity], [-Infinity, -Infinity]];
  svg_map.select('#' + name).selectAll('path').each(function (d) {
    var bbox_path = path.bounds(d.geometry);
    bbox_layer[0][0] = bbox_path[0][0] < bbox_layer[0][0] ? bbox_path[0][0] : bbox_layer[0][0];
    bbox_layer[0][1] = bbox_path[0][1] < bbox_layer[0][1] ? bbox_path[0][1] : bbox_layer[0][1];
    bbox_layer[1][0] = bbox_path[1][0] > bbox_layer[1][0] ? bbox_path[1][0] : bbox_layer[1][0];
    bbox_layer[1][1] = bbox_path[1][1] > bbox_layer[1][1] ? bbox_path[1][1] : bbox_layer[1][1];
  });
  return bbox_layer;
}

function fitLayer() {
  projection.scale(1).translate([0, 0]);
  var b = get_bbox_layer_path('template');
  var s = 1 / Math.max((b[1][0] - b[0][0]) / width_map, (b[1][1] - b[0][1]) / height_map);
  var t = [(width_map - s * (b[1][0] + b[0][0])) / 2, (height_map - s * (b[1][1] + b[0][1])) / 2];
  projection.scale(s).translate(t);
  svg_map.selectAll('path').attr('d', path);
}

function map_zoomed() {
  var transform = d3.event.transform;
  if (transform.k === 1) {
    transform.x = 0;
    transform.y = 0;
  }
  var layers = svg_map.select('#layers');
  var t = layers.selectAll('g').transition().duration(225);

  layers.selectAll('g').transition(t).style('stroke-width', function () {
    return styles[this.id]['stroke-width'] / transform.k + 'px';
  });

  layers.selectAll('g').transition(t).attr('transform', transform);

  svg_map.select('.brush_map').transition(t).attr('transform', transform);
}

var MapSelect = function () {
  function MapSelect(nuts1, countries, remote, template, seaboxes) {
    classCallCheck(this, MapSelect);

    projection = d3.geoIdentity().fitExtent([[0, 0], [width_map, height_map]], template).reflectY(true);

    path = d3.geoPath().projection(projection);
    var layers = svg_map.append('g').attr('id', 'layers');

    this.zoom_map = d3.zoom().scaleExtent([1, 5]).translateExtent([[0, 0], [width_map, height_map]]).on('zoom', map_zoomed);

    svg_map.call(this.zoom_map);

    layers.append('g').attrs(styles.template).selectAll('path').data(template.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs(styles.countries).attr('id', 'countries').selectAll('path').data(countries.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs(styles.seaboxes).selectAll('path').data(seaboxes.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs(styles.remote).selectAll('path').data(remote.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs(styles.seaboxes2).selectAll('path').data(seaboxes.features).enter().append('path').attrs({ d: path });

    this.target_layer = layers.append('g').attrs(styles.nuts1);
    this.target_layer.selectAll('path').data(nuts1.features).enter().append('path').attr('fill', function (d) {
      return d.properties[app.current_config.id_field_geom] !== app.current_config.my_region ? color_countries : color_highlight;
    }).attr('d', path);
    app.type_path = getSvgPathType(this.target_layer.select('path').node().getAttribute('d'));
    fitLayer();
    prepareTooltip(svg_map);
    this.bindTooltip();
  }

  createClass(MapSelect, [{
    key: 'resetColors',
    value: function resetColors$$1(current_ids) {
      var id_field_geom = app.current_config.id_field_geom;
      this.target_layer.selectAll('path').attr('fill', function (d) {
        return current_ids.indexOf(d.properties[id_field_geom]) > -1 ? app.colors[d.properties[id_field_geom]] || color_countries : color_disabled;
      });
    }
  }, {
    key: 'bindTooltip',
    value: function bindTooltip() {
      this.target_layer.selectAll('path').on('mouseover', function () {
        svg_map.select('.tooltip').style('display', null);
      }).on('mouseout', function () {
        svg_map.select('.tooltip').style('display', 'none');
      }).on('mousemove', function (d) {
        var tooltip = svg_map.select('.tooltip');
        tooltip.select('text.id_feature').text('' + d.properties[app.current_config.id_field_geom]);
        var _ix = void 0,
            nb_val = void 0;
        for (_ix = 0, nb_val = Math.min(app.current_config.ratio.length, 5); _ix < nb_val; _ix++) {
          tooltip.select('text.value_feature' + (_ix + 1)).text(app.current_config.ratio_pretty_name[_ix] + ': ' + math_round(d.properties[app.current_config.ratio[_ix]] * 10) / 10);
        }
        tooltip.attr('transform', 'translate(' + [d3.mouse(this)[0] - 5, d3.mouse(this)[1] - 45 - _ix * 12] + ')');
      });
    }
  }, {
    key: 'resetZoom',
    value: function resetZoom() {
      svg_map.transition().duration(250).call(this.zoom_map.transform, d3.zoomIdentity);
    }
  }, {
    key: 'resetHeaderButton',
    value: function resetHeaderButton() {
      document.getElementById('img_rect_selec').display = null;
      document.getElementById('img_rect_selec').classList.add('active');
      document.getElementById('img_map_zoom').classList.remove('active');
      document.getElementById('img_map_select').classList.remove('active');
    }
  }, {
    key: 'updateLegend',
    value: function updateLegend() {
      d3.select('#svg_legend > g > .legend > text').text('Ma r\xE9gion : ' + app.current_config.my_region_pretty_name);
    }
  }, {
    key: 'removeRectBrush',
    value: function removeRectBrush() {
      svg_map.select('.brush_map').call(this.brush_map.move, null);
    }
  }, {
    key: 'callBrush',
    value: function callBrush(selection) {
      svg_map.select('.brush_map').call(this.brush_map.move, selection);
    }
  }, {
    key: 'bindBrush',
    value: function bindBrush(chart) {
      this.resetHeaderButton();
      if (chart.handle_brush_map) {
        this.brush_map = d3.brush().extent([[0, 0], [width_map, height_map]]).on('start brush', function () {
          chart.handle_brush_map(d3.event);
        });
        svg_map.append('g').attr('class', 'brush_map').call(this.brush_map);
      } else {
        document.getElementById('img_rect_selec').display = 'none';
      }
    }
  }, {
    key: 'unbindBrush',
    value: function unbindBrush() {
      this.brush_map = null;
      svg_map.select('.brush_map').remove();
    }
  }]);
  return MapSelect;
}();

function makeSourceSection() {
  var text_zone = d3.select('#svg_legend').append('text').attrs({ y: 32.5, 'text-anchor': 'end' }).style('font-size', '11px').style('font-family', '\'Signika\', sans-serif');
  text_zone.append('tspan').attrs({ x: 470, dy: 12 }).text('Niveau régional : NUTS 1 (version 2016)');
  text_zone.append('tspan').attrs({ x: 470, dy: 12 }).text('Origine des données : Eurostat, 2016');
  text_zone.append('tspan').attrs({ x: 470, dy: 12 }).text('Limite administrative: UMS RIATE, CC-BY-SA');
}

function makeMapLegend() {
  var legend_elems = [{ color: color_highlight, text: 'Ma r\xE9gion : ' + app.current_config.my_region_pretty_name }, { color: color_countries, text: 'Autres régions du filtre de comparaison' }, { color: color_sup, text: 'Rang plus élevé que ma région' }, { color: color_inf, text: 'Rang moins élevé que ma région' }];

  var rect_size = 14;
  var spacing = 4;
  var lgd_height = rect_size + spacing;
  var offset = lgd_height * legend_elems.length / 2;

  var grp_lgd = d3.select('#svg_legend').append('g').attr('transform', 'translate(50, 40)').styles({ 'font-size': '11px', 'font-family': '\'Signika\', sans-serif' });

  var legends = grp_lgd.selectAll('.legend').data(legend_elems).enter().append('g').attr('class', 'legend').attr('transform', function (d, i) {
    var tx = -2 * rect_size;
    var ty = i * lgd_height - offset;
    return 'translate(' + [tx, ty] + ')';
  });

  legends.append('rect').attrs({ width: rect_size, height: rect_size }).styles(function (d) {
    return { fill: d.color, stroke: d.color };
  });

  legends.append('text').attrs({ x: rect_size + spacing, y: rect_size - spacing }).text(function (d) {
    return d.text;
  });
}

var vanillaDataTables = createCommonjsModule(function (module, exports) {
/*!
 *
 * Vanilla-DataTables
 * Copyright (c) 2015-2017 Karl Saunders (http://mobius.ovh)
 * Licensed under MIT (http://www.opensource.org/licenses/mit-license.php)
 *
 * Version: 1.5.1
 *
 */
(function (root, factory) {
    var plugin = "DataTable";

    if (typeof undefined === "function" && undefined.amd) {
        undefined([], factory(plugin));
    } else {
        module.exports = factory(plugin);
    }
})(commonjsGlobal, function (plugin) {
    "use strict";
    var win = window,
        doc = document,
        body = doc.body;

    /**
     * Default configuration
     * @typ {Object}
     */
    var defaultConfig = {
        perPage: 10,
        perPageSelect: [5, 10, 15, 20, 25],

        sortable: true,
        searchable: true,

        // Pagination
        nextPrev: true,
        firstLast: false,
        prevText: "&lsaquo;",
        nextText: "&rsaquo;",
        firstText: "&laquo;",
        lastText: "&raquo;",
        ellipsisText: "&hellip;",
        ascText: "▴",
        descText: "▾",
        truncatePager: true,
        pagerDelta: 2,

        fixedColumns: true,
        fixedHeight: false,

        header: true,
        footer: false,

        // Customise the display text
        labels: {
            placeholder: "Search...", // The search input placeholder
            perPage: "{select} entries per page", // per-page dropdown label
            noRows: "No entries found", // Message shown when there are no search results
            info: "Showing {start} to {end} of {rows} entries" //
        },

        // Customise the layout
        layout: {
            top: "{select}{search}",
            bottom: "{info}{pager}"
        }
    };

    /**
     * Check is item is object
     * @return {Boolean}
     */
    var isObject = function (val) {
        return Object.prototype.toString.call(val) === "[object Object]";
    };

    /**
     * Check is item is array
     * @return {Boolean}
     */
    var isArray = function (val) {
        return Array.isArray(val);
    };

    /**
     * Check for valid JSON string
     * @param  {String}   str
     * @return {Boolean|Array|Object}
     */
    var isJson = function (str) {
        var t = !1;
        try {
            t = JSON.parse(str);
        } catch (e) {
            return !1;
        }
        return !(null === t || (!isArray(t) && !isObject(t))) && t;
    };

    /**
     * Merge objects (reccursive)
     * @param  {Object} r
     * @param  {Object} t
     * @return {Object}
     */
    var extend = function (src, props) {
        for (var prop in props) {
            if (props.hasOwnProperty(prop)) {
                var val = props[prop];
                if (val && isObject(val)) {
                    src[prop] = src[prop] || {};
                    extend(src[prop], val);
                } else {
                    src[prop] = val;
                }
            }
        }
        return src;
    };

    /**
     * Iterator helper
     * @param  {(Array|Object)}   arr     Any object, array or array-like collection.
     * @param  {Function}         fn      Callback
     * @param  {Object}           scope   Change the value of this
     * @return {Void}
     */
    var each = function (arr, fn, scope) {
        var n;
        if (isObject(arr)) {
            for (n in arr) {
                if (Object.prototype.hasOwnProperty.call(arr, n)) {
                    fn.call(scope, arr[n], n);
                }
            }
        } else {
            for (n = 0; n < arr.length; n++) {
                fn.call(scope, arr[n], n);
            }
        }
    };

    /**
     * Add event listener to target
     * @param  {Object} el
     * @param  {String} e
     * @param  {Function} fn
     */
    var on = function (el, e, fn) {
        el.addEventListener(e, fn, false);
    };

    /**
     * Create DOM element node
     * @param  {String}   a nodeName
     * @param  {Object}   b properties and attributes
     * @return {Object}
     */
    var createElement = function (a, b) {
        var d = doc.createElement(a);
        if (b && "object" == typeof b) {
            var e;
            for (e in b) {
                if ("html" === e) {
                    d.innerHTML = b[e];
                } else {
                    d.setAttribute(e, b[e]);
                }
            }
        }
        return d;
    };

    var flush = function (el, ie) {
        if (el instanceof NodeList) {
            each(el, function (e) {
                flush(e, ie);
            });
        } else {
            if (ie) {
                while (el.hasChildNodes()) {
                    el.removeChild(el.firstChild);
                }
            } else {
                el.innerHTML = "";
            }
        }
    };

    /**
     * Create button helper
     * @param  {String}   c
     * @param  {Number}   p
     * @param  {String}   t
     * @return {Object}
     */
    var button = function (c, p, t) {
        return createElement("li", {
            class: c,
            html: '<a href="#" data-page="' + p + '">' + t + "</a>"
        });
    };

    /**
     * classList shim
     * @type {Object}
     */
    var classList = {
        add: function (s, a) {
            if (s.classList) {
                s.classList.add(a);
            } else {
                if (!classList.contains(s, a)) {
                    s.className = s.className.trim() + " " + a;
                }
            }
        },
        remove: function (s, a) {
            if (s.classList) {
                s.classList.remove(a);
            } else {
                if (classList.contains(s, a)) {
                    s.className = s.className.replace(
                        new RegExp("(^|\\s)" + a.split(" ").join("|") + "(\\s|$)", "gi"),
                        " "
                    );
                }
            }
        },
        contains: function (s, a) {
            if (s)
                return s.classList ?
                    s.classList.contains(a) :
                    !!s.className &&
                    !!s.className.match(new RegExp("(\\s|^)" + a + "(\\s|$)"));
        }
    };

    /**
     * Bubble sort algorithm
     */
    var sortItems = function (a, b) {
        var c, d;
        if (1 === b) {
            c = 0;
            d = a.length;
        } else {
            if (b === -1) {
                c = a.length - 1;
                d = -1;
            }
        }
        for (var e = !0; e;) {
            e = !1;
            for (var f = c; f != d; f += b) {
                if (a[f + b] && a[f].value > a[f + b].value) {
                    var g = a[f],
                        h = a[f + b],
                        i = g;
                    a[f] = h;
                    a[f + b] = i;
                    e = !0;
                }
            }
        }
        return a;
    };

    /**
     * Pager truncation algorithm
     */
    var truncate = function (a, b, c, d, ellipsis) {
        d = d || 2;
        var j,
            e = 2 * d,
            f = b - d,
            g = b + d,
            h = [],
            i = [];
        if (b < 4 - d + e) {
            g = 3 + e;
        } else if (b > c - (3 - d + e)) {
            f = c - (2 + e);
        }
        for (var k = 1; k <= c; k++) {
            if (1 == k || k == c || (k >= f && k <= g)) {
                var l = a[k - 1];
                classList.remove(l, "active");
                h.push(l);
            }
        }
        each(h, function (c) {
            var d = c.children[0].getAttribute("data-page");
            if (j) {
                var e = j.children[0].getAttribute("data-page");
                if (d - e == 2) i.push(a[e]);
                else if (d - e != 1) {
                    var f = createElement("li", {
                        class: "ellipsis",
                        html: '<a href="#">' + ellipsis + "</a>"
                    });
                    i.push(f);
                }
            }
            i.push(c);
            j = c;
        });

        return i;
    };

    /**
     * Parse data to HTML table
     */
    var dataToTable = function (data) {
        var thead = false,
            tbody = false;

        data = data || this.options.data;

        if (data.headings) {
            thead = createElement("thead");
            var tr = createElement("tr");
            each(data.headings, function (col) {
                var td = createElement("th", {
                    html: col
                });
                tr.appendChild(td);
            });

            thead.appendChild(tr);
        }

        if (data.data && data.data.length) {
            tbody = createElement("tbody");
            each(data.data, function (rows) {
                if (data.headings) {
                    if (data.headings.length !== rows.length) {
                        throw new Error(
                            "The number of rows do not match the number of headings."
                        );
                    }
                }
                var tr = createElement("tr");
                each(rows, function (value) {
                    var td = createElement("td", {
                        html: value
                    });
                    tr.appendChild(td);
                });
                tbody.appendChild(tr);
            });
        }

        if (thead) {
            if (this.table.tHead !== null) {
                this.table.removeChild(this.table.tHead);
            }
            this.table.appendChild(thead);
        }

        if (tbody) {
            if (this.table.tBodies.length) {
                this.table.removeChild(this.table.tBodies[0]);
            }
            this.table.appendChild(tbody);
        }
    };

    /**
     * Use moment.js to parse cell contents for sorting
     * @param  {String} content     The datetime string to parse
     * @param  {String} format      The format for moment to use
     * @return {String|Boolean}     Datatime string or false
     */
    var parseDate = function (content, format) {
        var date = false;

        // moment() throws a fit if the string isn't a valid datetime string
        // so we need to supply the format to the constructor (https://momentjs.com/docs/#/parsing/string-format/)

        // Converting to YYYYMMDD ensures we can accurately sort the column numerically

        if (format) {
            switch (format) {
            case "ISO_8601":
                date = moment(content, moment.ISO_8601).format("YYYYMMDD");
                break;
            case "RFC_2822":
                date = moment(content, "ddd, MM MMM YYYY HH:mm:ss ZZ").format("YYYYMMDD");
                break;
            case "MYSQL":
                date = moment(content, "YYYY-MM-DD hh:mm:ss").format("YYYYMMDD");
                break;
            case "UNIX":
                date = moment(content).unix();
                break;
                // User defined format using the data-format attribute or columns[n].format option
            default:
                date = moment(content, format).format("YYYYMMDD");
                break;
            }
        }

        return date;
    };

    /**
     * Columns API
     * @param {Object} instance DataTable instance
     * @param {Mixed} columns  Column index or array of column indexes
     */
    var Columns = function (dt) {
        this.dt = dt;
        return this;
    };

    /**
     * Swap two columns
     * @return {Void}
     */
    Columns.prototype.swap = function (columns) {
        if (columns.length && columns.length === 2) {
            var cols = [];

            // Get the current column indexes
            each(this.dt.headings, function (h, i) {
                cols.push(i);
            });

            var x = columns[0];
            var y = columns[1];
            var b = cols[y];
            cols[y] = cols[x];
            cols[x] = b;

            this.order(cols);
        }
    };

    /**
     * Reorder the columns
     * @return {Array} columns  Array of ordered column indexes
     */
    Columns.prototype.order = function (columns) {

        var a, b, c, d, h, s, cell,
            temp = [
                [],
                [],
                [],
                []
            ],
            dt = this.dt;

        // Order the headings
        each(columns, function (column, x) {
            h = dt.headings[column];
            s = h.getAttribute("data-sortable") !== "false";
            a = h.cloneNode(true);
            a.originalCellIndex = x;
            a.sortable = s;

            temp[0].push(a);

            if (dt.hiddenColumns.indexOf(column) < 0) {
                b = h.cloneNode(true);
                b.originalCellIndex = x;
                b.sortable = s;

                temp[1].push(b);
            }
        });

        // Order the row cells
        each(dt.data, function (row, i) {
            c = row.cloneNode();
            d = row.cloneNode();

            c.dataIndex = d.dataIndex = i;

            if (row.searchIndex !== null && row.searchIndex !== undefined) {
                c.searchIndex = d.searchIndex = row.searchIndex;
            }

            // Append the cell to the fragment in the correct order
            each(columns, function (column, x) {
                cell = row.cells[column].cloneNode(true);
                cell.data = row.cells[column].data;
                c.appendChild(cell);

                if (dt.hiddenColumns.indexOf(column) < 0) {
                    cell = row.cells[column].cloneNode(true);
                    cell.data = row.cells[column].data;
                    d.appendChild(cell);
                }
            });

            temp[2].push(c);
            temp[3].push(d);
        });

        dt.headings = temp[0];
        dt.activeHeadings = temp[1];

        dt.data = temp[2];
        dt.activeRows = temp[3];

        // Update
        dt.update();
    };

    /**
     * Hide columns
     * @return {Void}
     */
    Columns.prototype.hide = function (columns) {
        if (columns.length) {
            var dt = this.dt;

            each(columns, function (column) {
                if (dt.hiddenColumns.indexOf(column) < 0) {
                    dt.hiddenColumns.push(column);
                }
            });

            this.rebuild();
        }
    };

    /**
     * Show columns
     * @return {Void}
     */
    Columns.prototype.show = function (columns) {
        if (columns.length) {
            var index, dt = this.dt;

            each(columns, function (column) {
                index = dt.hiddenColumns.indexOf(column);
                if (index > -1) {
                    dt.hiddenColumns.splice(index, 1);
                }
            });

            this.rebuild();
        }
    };

    /**
     * Check column(s) visibility
     * @return {Boolean}
     */
    Columns.prototype.visible = function (columns) {
        var cols, dt = this.dt;

        columns = columns || dt.headings.map(function (th) {
            return th.originalCellIndex;
        });

        if (!isNaN(columns)) {
            cols = dt.hiddenColumns.indexOf(columns) < 0;
        } else if (isArray(columns)) {
            cols = [];
            each(columns, function (column) {
                cols.push(dt.hiddenColumns.indexOf(column) < 0);
            });
        }

        return cols;
    };

    /**
     * Add a new column
     * @param {Object} data
     */
    Columns.prototype.add = function (data) {
        var that = this,
            td, th = document.createElement("th");

        if (!this.dt.headings.length) {
            this.dt.insert({
                headings: [data.heading],
                data: data.data.map(function (i) {
                    return [i];
                })
            });
            this.rebuild();
            return;
        }

        if (!this.dt.hiddenHeader) {
            if (data.heading.nodeName) {
                th.appendChild(data.heading);
            } else {
                th.innerHTML = data.heading;
            }
        } else {
            th.innerHTML = "";
        }

        this.dt.headings.push(th);

        each(this.dt.data, function (row, i) {
            if (data.data[i]) {
                td = document.createElement("td");

                if (data.data[i].nodeName) {
                    td.appendChild(data.data[i]);
                } else {
                    td.innerHTML = data.data[i];
                }

                td.data = td.innerHTML;

                if (data.render) {
                    td.innerHTML = data.render.call(that, td.data, td, row);
                }

                row.appendChild(td);
            }
        });

        if (data.type) {
            th.setAttribute("data-type", data.type);
        }
        if (data.format) {
            th.setAttribute("data-format", data.format);
        }

        if (data.hasOwnProperty("sortable")) {
            th.sortable = data.sortable;
            th.setAttribute("data-sortable", data.sortable === true ? "true" : "false");
        }

        this.rebuild();

        this.dt.renderHeader();
    };

    /**
     * Remove column(s)
     * @param  {Array|Number} select
     * @return {Void}
     */
    Columns.prototype.remove = function (select) {
        if (isArray(select)) {
            // Remove in reverse otherwise the indexes will be incorrect
            select.sort(function (a, b) {
                return b - a;
            });

            each(select, function (column) {
                this.remove(column);
            }, this);
        } else {
            this.dt.headings.splice(select, 1);

            each(this.dt.data, function (row) {
                row.removeChild(row.cells[select]);
            });
        }

        this.rebuild();
    };

    /**
     * Sort by column
     * @param  {int} column - The column no.
     * @param  {string} direction - asc or desc
     * @return {void}
     */
    Columns.prototype.sort = function (column, direction, init) {

        var dt = this.dt;

        // Check column is present
        if (dt.hasHeadings && (column < 1 || column > dt.activeHeadings.length)) {
            return false;
        }

        dt.sorting = true;

        // Convert to zero-indexed
        column = column - 1;

        var dir,
            rows = dt.data,
            alpha = [],
            numeric = [],
            a = 0,
            n = 0,
            th = dt.activeHeadings[column];

        column = th.originalCellIndex;

        each(rows, function (tr) {
            var cell = tr.cells[column];
            var content = cell.data;
            var num = content.replace(/(\$|\,|\s|%)/g, "");

            // Check for date format and moment.js
            if (th.getAttribute("data-type") === "date" && win.moment) {
                var format = false,
                    formatted = th.hasAttribute("data-format");

                if (formatted) {
                    format = th.getAttribute("data-format");
                }

                num = parseDate(content, format);
            }

            if (parseFloat(num) == num) {
                numeric[n++] = {
                    value: Number(num),
                    row: tr
                };
            } else {
                alpha[a++] = {
                    value: content,
                    row: tr
                };
            }
        });

        /* Sort according to direction (ascending or descending) */
        var top, btm;
        if (classList.contains(th, "asc") || direction == "asc") {
            top = sortItems(alpha, -1);
            btm = sortItems(numeric, -1);
            dir = "descending";
            classList.remove(th, "asc");
            classList.add(th, "desc");
        } else {
            top = sortItems(numeric, 1);
            btm = sortItems(alpha, 1);
            dir = "ascending";
            classList.remove(th, "desc");
            classList.add(th, "asc");
        }

        /* Clear asc/desc class names from the last sorted column's th if it isn't the same as the one that was just clicked */
        if (dt.lastTh && th != dt.lastTh) {
            classList.remove(dt.lastTh, "desc");
            classList.remove(dt.lastTh, "asc");
        }

        dt.lastTh = th;

        /* Reorder the table */
        rows = top.concat(btm);

        dt.data = [];
        var indexes = [];

        each(rows, function (v, i) {
            dt.data.push(v.row);

            if (v.row.searchIndex !== null && v.row.searchIndex !== undefined) {
                indexes.push(i);
            }
        }, dt);

        dt.searchData = indexes;

        this.rebuild();

        dt.update();

        if (!init) {
            dt.emit("datatable.sort", column, dir);
        }
    };

    /**
     * Rebuild the columns
     * @return {Void}
     */
    Columns.prototype.rebuild = function () {
        var a, b, c, d, dt = this.dt,
            temp = [];

        dt.activeRows = [];
        dt.activeHeadings = [];

        each(dt.headings, function (th, i) {
            th.originalCellIndex = i;
            th.sortable = th.getAttribute("data-sortable") !== "false";
            if (dt.hiddenColumns.indexOf(i) < 0) {
                dt.activeHeadings.push(th);
            }
        }, this);

        // Loop over the rows and reorder the cells
        each(dt.data, function (row, i) {
            a = row.cloneNode();
            b = row.cloneNode();

            a.dataIndex = b.dataIndex = i;

            if (row.searchIndex !== null && row.searchIndex !== undefined) {
                a.searchIndex = b.searchIndex = row.searchIndex;
            }

            // Append the cell to the fragment in the correct order
            each(row.cells, function (cell) {
                c = cell.cloneNode(true);
                c.data = cell.data;
                a.appendChild(c);

                if (dt.hiddenColumns.indexOf(cell.cellIndex) < 0) {
                    d = cell.cloneNode(true);
                    d.data = cell.data;
                    b.appendChild(d);
                }
            });

            // Append the fragment with the ordered cells
            temp.push(a);
            dt.activeRows.push(b);
        });

        dt.data = temp;

        dt.update();
    };

    /**
     * Rows API
     * @param {Object} instance DataTable instance
     * @param {Array} rows
     */
    var Rows = function (dt, rows) {
        this.dt = dt;
        this.rows = rows;

        return this;
    };

    /**
     * Build a new row
     * @param  {Array} row
     * @return {HTMLElement}
     */
    Rows.prototype.build = function (row) {
        var td, tr = createElement("tr");

        var headings = this.dt.headings;

        if (!headings.length) {
            headings = row.map(function () {
                return "";
            });
        }

        each(headings, function (h, i) {
            td = createElement("td");

            // Fixes #29
            if (!row[i] && !row[i].length) {
                row[i] = "";
            }

            td.innerHTML = row[i];

            td.data = row[i];

            tr.appendChild(td);
        });

        return tr;
    };

    Rows.prototype.render = function (row) {
        return row;
    };

    /**
     * Add new row
     * @param {Array} select
     */
    Rows.prototype.add = function (data) {

        if (isArray(data)) {
            var dt = this.dt;
            // Check for multiple rows
            if (isArray(data[0])) {
                each(data, function (row, i) {
                    dt.data.push(this.build(row));
                }, this);
            } else {
                dt.data.push(this.build(data));
            }

            // We may have added data to an empty table
            if ( dt.data.length ) {
                dt.hasRows = true;
            }


            this.update();

            dt.columns().rebuild();
        }
    };

    /**
     * Remove row(s)
     * @param  {Array|Number} select
     * @return {Void}
     */
    Rows.prototype.remove = function (select) {

        var dt = this.dt;

        if (isArray(select)) {
            // Remove in reverse otherwise the indexes will be incorrect
            select.sort(function (a, b) {
                return b - a;
            });

            each(select, function (row, i) {
                dt.data.splice(row, 1);
            });
        } else {
            dt.data.splice(select, 1);
        }

        this.update();
        dt.columns().rebuild();
    };

    /**
     * Update row indexes
     * @return {Void}
     */
    Rows.prototype.update = function () {
        each(this.dt.data, function (row, i) {
            row.dataIndex = i;
        });
    };

    ////////////////////
    //    MAIN LIB    //
    ////////////////////

    var DataTable = function (table, options) {
        this.initialized = false;

        // user options
        this.options = extend(defaultConfig, options);

        if (typeof table === "string") {
            var selector = table;
            table = document.querySelector(table);

            if (!table) {
                throw new Error("The element '" + selector + "' can not be found.");
            }
        }

        if (table.tagName.toLowerCase() !== "table") {
            throw new Error("The selected element is not a table.");
        }

        this.initialLayout = table.innerHTML;
        this.initialSortable = this.options.sortable;

        // Disable manual sorting if no header is present (#4)
        if (!this.options.header) {
            this.options.sortable = false;
        }

        if (table.tHead === null) {
            if (!this.options.data ||
                (this.options.data && !this.options.data.headings)
            ) {
                this.options.sortable = false;
            }
        }

        if (table.tBodies.length && !table.tBodies[0].rows.length) {
            if (this.options.data) {
                if (!this.options.data.data) {
                    throw new Error(
                        "You seem to be using the data option, but you've not defined any rows."
                    );
                }
            }
        }

        this.table = table;

        this.init();
    };

    var proto = DataTable.prototype;

    /**
     * Initialize the instance
     * @param  {Object} options
     * @return {Void}
     */
    proto.init = function (options) {
        if (this.initialized || classList.contains(this.table, "dataTable-table")) {
            return false;
        }

        var that = this;

        this.options = extend(this.options, options || {});

        // IE detection
        this.isIE = !!/(msie|trident)/i.test(navigator.userAgent);

        this.currentPage = 1;
        this.onFirstPage = true;

        this.hiddenColumns = [];
        this.columnRenderers = [];
        this.selectedColumns = [];

        this.render();

        setTimeout(function () {
            that.emit("datatable.init");
            that.initialized = true;
        }, 10);
    };

    /**
     * Render the instance
     * @param  {String} type
     * @return {Void}
     */
    proto.render = function (type) {
        if (type) {
            switch (type) {
            case "page":
                this.renderPage();
                break;
            case "pager":
                this.renderPager();
                break;
            case "header":
                this.renderHeader();
                break;
            }

            return false;
        }

        var that = this,
            o = that.options,
            template = "";

        // Convert data to HTML
        if (o.data) {
            dataToTable.call(that);
        }

        if (o.ajax) {
            var ajax = o.ajax;
            var xhr = new XMLHttpRequest();

            var xhrProgress = function (e) {
                that.emit("datatable.ajax.progress", e, xhr);
            };

            var xhrLoad = function (e) {
                if (xhr.readyState === 4) {
                    that.emit("datatable.ajax.loaded", e, xhr);

                    if (xhr.status === 200) {
                        var obj = {};
                        obj.data = ajax.load ? ajax.load.call(that, xhr) : xhr.responseText;

                        obj.type = "json";

                        if (ajax.content && ajax.content.type) {
                            obj.type = ajax.content.type;

                            obj = extend(obj, ajax.content);
                        }

                        that.import(obj);

                        that.setColumns(true);

                        that.emit("datatable.ajax.success", e, xhr);
                    } else {
                        that.emit("datatable.ajax.error", e, xhr);
                    }
                }
            };

            var xhrFailed = function (e) {
                that.emit("datatable.ajax.error", e, xhr);
            };

            var xhrCancelled = function (e) {
                that.emit("datatable.ajax.abort", e, xhr);
            };

            on(xhr, "progress", xhrProgress);
            on(xhr, "load", xhrLoad);
            on(xhr, "error", xhrFailed);
            on(xhr, "abort", xhrCancelled);

            that.emit("datatable.ajax.loading", xhr);

            xhr.open("GET", typeof ajax === "string" ? o.ajax : o.ajax.url);
            xhr.send();
        }

        // Store references
        that.body = that.table.tBodies[0];
        that.head = that.table.tHead;
        that.foot = that.table.tFoot;

        if (!that.body) {
            that.body = createElement("tbody");

            that.table.appendChild(that.body);
        }

        that.hasRows = that.body.rows.length > 0;

        // Make a tHead if there isn't one (fixes #8)
        if (!that.head) {
            var h = createElement("thead");
            var t = createElement("tr");

            if (that.hasRows) {
                each(that.body.rows[0].cells, function () {
                    t.appendChild(createElement("th"));
                });

                h.appendChild(t);
            }

            that.head = h;

            that.table.insertBefore(that.head, that.body);

            that.hiddenHeader = !o.ajax;
        }

        that.headings = [];
        that.hasHeadings = that.head.rows.length > 0;

        if (that.hasHeadings) {
            that.header = that.head.rows[0];
            that.headings = [].slice.call(that.header.cells);
        }

        // Header
        if (!o.header) {
            if (that.head) {
                that.table.removeChild(that.table.tHead);
            }
        }

        // Footer
        if (o.footer) {
            if (that.head && !that.foot) {
                that.foot = createElement("tfoot", {
                    html: that.head.innerHTML
                });
                that.table.appendChild(that.foot);
            }
        } else {
            if (that.foot) {
                that.table.removeChild(that.table.tFoot);
            }
        }

        // Build
        that.wrapper = createElement("div", {
            class: "dataTable-wrapper dataTable-loading"
        });

        // Template for custom layouts
        template += "<div class='dataTable-top'>";
        template += o.layout.top;
        template += "</div>";
        template += "<div class='dataTable-container'></div>";
        template += "<div class='dataTable-bottom'>";
        template += o.layout.bottom;
        template += "</div>";

        // Info placement
        template = template.replace("{info}", "<div class='dataTable-info'></div>");

        // Per Page Select
        if (o.perPageSelect) {
            var wrap = "<div class='dataTable-dropdown'><label>";
            wrap += o.labels.perPage;
            wrap += "</label></div>";

            // Create the select
            var select = createElement("select", {
                class: "dataTable-selector"
            });

            // Create the options
            each(o.perPageSelect, function (val) {
                var selected = val === o.perPage;
                var option = new Option(val, val, selected, selected);
                select.add(option);
            });

            // Custom label
            wrap = wrap.replace("{select}", select.outerHTML);

            // Selector placement
            template = template.replace("{select}", wrap);
        } else {
            template = template.replace("{select}", "");
        }

        // Searchable
        if (o.searchable) {
            var form =
                "<div class='dataTable-search'><input class='dataTable-input' placeholder='" +
                o.labels.placeholder +
                "' type='text'></div>";

            // Search input placement
            template = template.replace("{search}", form);
        } else {
            template = template.replace("{search}", "");
        }

        if (that.hasHeadings) {
            // Sortable
            this.render("header");
        }

        // Add table class
        classList.add(that.table, "dataTable-table");

        // Paginator
        var w = createElement("div", {
            class: "dataTable-pagination"
        });
        var paginator = createElement("ul");
        w.appendChild(paginator);

        // Pager(s) placement
        template = template.replace(/\{pager\}/g, w.outerHTML);

        that.wrapper.innerHTML = template;

        that.container = that.wrapper.querySelector(".dataTable-container");

        that.pagers = that.wrapper.querySelectorAll(".dataTable-pagination");

        that.label = that.wrapper.querySelector(".dataTable-info");

        // Insert in to DOM tree
        that.table.parentNode.replaceChild(that.wrapper, that.table);
        that.container.appendChild(that.table);

        // Store the table dimensions
        that.rect = that.table.getBoundingClientRect();

        // Convert rows to array for processing
        that.data = [].slice.call(that.body.rows);
        that.activeRows = that.data.slice();
        that.activeHeadings = that.headings.slice();

        // Update
        that.update();

        if (!o.ajax) {
            that.setColumns();
        }

        // Fix height
        this.fixHeight();

        // Fix columns
        that.fixColumns();

        // Class names
        if (!o.header) {
            classList.add(that.wrapper, "no-header");
        }

        if (!o.footer) {
            classList.add(that.wrapper, "no-footer");
        }

        if (o.sortable) {
            classList.add(that.wrapper, "sortable");
        }

        if (o.searchable) {
            classList.add(that.wrapper, "searchable");
        }

        if (o.fixedHeight) {
            classList.add(that.wrapper, "fixed-height");
        }

        if (o.fixedColumns) {
            classList.add(that.wrapper, "fixed-columns");
        }

        that.bindEvents();
    };

    /**
     * Render the page
     * @return {Void}
     */
    proto.renderPage = function () {
        if (this.hasRows && this.totalPages) {
            if (this.currentPage > this.totalPages) {
                this.currentPage = 1;
            }

            // Use a fragment to limit touching the DOM
            var index = this.currentPage - 1,
                frag = doc.createDocumentFragment();

            if (this.hasHeadings) {
                flush(this.header, this.isIE);

                each(this.activeHeadings, function (th) {
                    this.header.appendChild(th);
                }, this);
            }

            each(this.pages[index], function (row) {
                frag.appendChild(this.rows().render(row));
            }, this);

            this.clear(frag);

            this.onFirstPage = this.currentPage === 1;
            this.onLastPage = this.currentPage === this.lastPage;
        } else {
            this.clear();
        }

        // Update the info
        var current = 0,
            f = 0,
            t = 0,
            items;

        if (this.totalPages) {
            current = this.currentPage - 1;
            f = current * this.options.perPage;
            t = f + this.pages[current].length;
            f = f + 1;
            items = !!this.searching ? this.searchData.length : this.data.length;
        }

        if (this.label && this.options.labels.info.length) {
            // CUSTOM LABELS
            var string = this.options.labels.info
                .replace("{start}", f)
                .replace("{end}", t)
                .replace("{page}", this.currentPage)
                .replace("{pages}", this.totalPages)
                .replace("{rows}", items);

            this.label.innerHTML = items ? string : "";
        }

        if (this.currentPage == 1) {
            this.fixHeight();
        }
    };

    /**
     * Render the pager(s)
     * @return {Void}
     */
    proto.renderPager = function () {
        flush(this.pagers, this.isIE);

        if (this.totalPages > 1) {
            var c = "pager",
                frag = doc.createDocumentFragment(),
                prev = this.onFirstPage ? 1 : this.currentPage - 1,
                next = this.onlastPage ? this.totalPages : this.currentPage + 1;

            // first button
            if (this.options.firstLast) {
                frag.appendChild(button(c, 1, this.options.firstText));
            }

            // prev button
            if (this.options.nextPrev) {
                frag.appendChild(button(c, prev, this.options.prevText));
            }

            var pager = this.links;

            // truncate the links
            if (this.options.truncatePager) {
                pager = truncate(
                    this.links,
                    this.currentPage,
                    this.pages.length,
                    this.options.pagerDelta,
                    this.options.ellipsisText
                );
            }

            // active page link
            classList.add(this.links[this.currentPage - 1], "active");

            // append the links
            each(pager, function (p) {
                classList.remove(p, "active");
                frag.appendChild(p);
            });

            classList.add(this.links[this.currentPage - 1], "active");

            // next button
            if (this.options.nextPrev) {
                frag.appendChild(button(c, next, this.options.nextText));
            }

            // first button
            if (this.options.firstLast) {
                frag.appendChild(button(c, this.totalPages, this.options.lastText));
            }

            // We may have more than one pager
            each(this.pagers, function (pager) {
                pager.appendChild(frag.cloneNode(true));
            });
        }
    };

    /**
     * Render the header
     * @return {Void}
     */
    proto.renderHeader = function () {
        var that = this;

        that.labels = [];

        if (that.headings && that.headings.length) {
            each(that.headings, function (th, i) {

                that.labels[i] = th.textContent;

                if (classList.contains(th.firstElementChild, "dataTable-sorter")) {
                    th.innerHTML = th.firstElementChild.innerHTML;
                }

                th.sortable = th.getAttribute("data-sortable") !== "false";

                th.originalCellIndex = i;
                if (that.options.sortable && th.sortable) {
                    var link = createElement("a", {
                        href: "#",
                        class: "dataTable-sorter",
                        html: th.innerHTML
                    });

                    th.innerHTML = "";
                    th.setAttribute("data-sortable", "");
                    th.appendChild(link);
                }
            });
        }

        that.fixColumns();
    };

    /**
     * Bind event listeners
     * @return {[type]} [description]
     */
    proto.bindEvents = function () {
        var that = this,
            o = that.options;

        // Per page selector
        if (o.perPageSelect) {
            var selector = that.wrapper.querySelector(".dataTable-selector");
            if (selector) {
                // Change per page
                on(selector, "change", function (e) {
                    o.perPage = parseInt(this.value, 10);
                    that.update();

                    that.fixHeight();

                    that.emit("datatable.perpage", o.perPage);
                });
            }
        }

        // Search input
        if (o.searchable) {
            that.input = that.wrapper.querySelector(".dataTable-input");
            if (that.input) {
                on(that.input, "keyup", function (e) {
                    that.search(this.value);
                });
            }
        }

        // Pager(s) / sorting
        on(that.wrapper, "click", function (e) {
            var t = e.target;
            if (t.nodeName.toLowerCase() === "a") {
                if (t.hasAttribute("data-page")) {
                    that.page(t.getAttribute("data-page"));
                    e.preventDefault();
                } else if (
                    o.sortable &&
                    classList.contains(t, "dataTable-sorter") &&
                    t.parentNode.getAttribute("data-sortable") != "false"
                ) {
                    that.columns().sort(that.activeHeadings.indexOf(t.parentNode) + 1);
                    e.preventDefault();
                }
            }
        });
    };

    /**
     * Set up columns
     * @return {[type]} [description]
     */
    proto.setColumns = function (ajax) {

        var that = this;

        if (!ajax) {
            each(that.data, function (row) {
                each(row.cells, function (cell) {
                    cell.data = cell.innerHTML;
                });
            });
        }

        // Check for the columns option
        if (that.options.columns && that.headings.length) {

            each(that.options.columns, function (data) {

                // convert single column selection to array
                if (!isArray(data.select)) {
                    data.select = [data.select];
                }

                if (data.hasOwnProperty("render") && typeof data.render === "function") {
                    that.selectedColumns = that.selectedColumns.concat(data.select);

                    that.columnRenderers.push({
                        columns: data.select,
                        renderer: data.render
                    });
                }

                // Add the data attributes to the th elements
                each(data.select, function (column) {
                    var th = that.headings[column];
                    if (data.type) {
                        th.setAttribute("data-type", data.type);
                    }
                    if (data.format) {
                        th.setAttribute("data-format", data.format);
                    }
                    if (data.hasOwnProperty("sortable")) {
                        th.setAttribute("data-sortable", data.sortable);
                    }

                    if (data.hasOwnProperty("hidden")) {
                        if (data.hidden !== false) {
                            that.columns(column).hide();
                        }
                    }

                    if (data.hasOwnProperty("sort") && data.select.length === 1) {
                        that.columns().sort(data.select[0] + 1, data.sort, true);
                    }
                });
            });
        }

        if (that.hasRows) {
            each(that.data, function (row, i) {
                row.dataIndex = i;
                each(row.cells, function (cell) {
                    cell.data = cell.innerHTML;
                });
            });

            if (that.selectedColumns.length) {
                each(that.data, function (row) {
                    each(row.cells, function (cell, i) {
                        if (that.selectedColumns.indexOf(i) > -1) {
                            each(that.columnRenderers, function (o) {
                                if (o.columns.indexOf(i) > -1) {
                                    cell.innerHTML = o.renderer.call(that, cell.data, cell, row);
                                }
                            });
                        }
                    });
                });
            }

            that.columns().rebuild();
        }

        that.render("header");
    };

    /**
     * Destroy the instance
     * @return {void}
     */
    proto.destroy = function () {
        this.table.innerHTML = this.initialLayout;

        // Remove the className
        classList.remove(this.table, "dataTable-table");

        // Remove the containers
        this.wrapper.parentNode.replaceChild(this.table, this.wrapper);

        this.initialized = false;
    };

    /**
     * Update the instance
     * @return {Void}
     */
    proto.update = function () {
        this.paginate(this);
        this.render("page");

        this.links = [];

        var i = this.pages.length;
        while (i--) {
            var num = i + 1;
            this.links[i] = button(i === 0 ? "active" : "", num, num);
        }

        this.sorting = false;

        this.render("pager");

        this.rows().update();

        this.emit("datatable.update");
    };

    /**
     * Sort rows into pages
     * @return {Number}
     */
    proto.paginate = function () {
        var perPage = this.options.perPage,
            rows = this.activeRows;

        if (this.searching) {
            rows = [];

            each(this.searchData, function (index) {
                rows.push(this.activeRows[index]);
            }, this);
        }

        // Check for hidden columns
        this.pages = rows
            .map(function (tr, i) {
                return i % perPage === 0 ? rows.slice(i, i + perPage) : null;
            })
            .filter(function (page) {
                return page;
            });

        this.totalPages = this.lastPage = this.pages.length;

        return this.totalPages;
    };

    /**
     * Fix column widths
     * @return {Void}
     */
    proto.fixColumns = function () {

        if (this.options.fixedColumns && this.activeHeadings && this.activeHeadings.length) {

            var cells,
                hd = false;

            this.columnWidths = [];

            // If we have headings we need only set the widths on them
            // otherwise we need a temp header and the widths need applying to all cells
            if (this.table.tHead) {
                // Reset widths
                each(this.activeHeadings, function (cell) {
                    cell.style.width = "";
                }, this);

                each(this.activeHeadings, function (cell, i) {
                    var ow = cell.offsetWidth;
                    var w = ow / this.rect.width * 100;
                    cell.style.width = w + "%";
                    this.columnWidths[i] = ow;
                }, this);
            } else {
                cells = [];

                // Make temperary headings
                hd = createElement("thead");
                var r = createElement("tr");
                var c = this.table.tBodies[0].rows[0].cells;
                each(c, function () {
                    var th = createElement("th");
                    r.appendChild(th);
                    cells.push(th);
                });

                hd.appendChild(r);
                this.table.insertBefore(hd, this.body);

                var widths = [];
                each(cells, function (cell, i) {
                    var ow = cell.offsetWidth;
                    var w = ow / this.rect.width * 100;
                    widths.push(w);
                    this.columnWidths[i] = ow;
                }, this);

                each(this.data, function (row) {
                    each(row.cells, function (cell, i) {
                        if (this.columns(cell.cellIndex).visible())
                            cell.style.width = widths[i] + "%";
                    }, this);
                }, this);

                // Discard the temp header
                this.table.removeChild(hd);
            }
        }
    };

    /**
     * Fix the container height;
     * @return {Void}
     */
    proto.fixHeight = function () {
        if (this.options.fixedHeight) {
            this.container.style.height = null;
            this.rect = this.container.getBoundingClientRect();
            this.container.style.height = this.rect.height + "px";
        }
    };

    /**
     * Perform a search of the data set
     * @param  {string} query
     * @return {void}
     */
    proto.search = function (query) {
        if (!this.hasRows) return false;

        var that = this;

        query = query.toLowerCase();

        this.currentPage = 1;
        this.searching = true;
        this.searchData = [];

        if (!query.length) {
            this.searching = false;
            this.update();
            this.emit("datatable.search", query, this.searchData);
            classList.remove(this.wrapper, "search-results");
            return false;
        }

        this.clear();

        each(this.data, function (row, idx) {
            var inArray = this.searchData.indexOf(row) > -1;

            // https://github.com/Mobius1/Vanilla-DataTables/issues/12
            var doesQueryMatch = query.split(" ").reduce(function (bool, word) {
                var includes = false;

                for (var x = 0; x < row.cells.length; x++) {
                    if (
                        row.cells[x].textContent.toLowerCase().indexOf(word) > -1 &&
                        that.columns(row.cells[x].cellIndex).visible()
                    ) {
                        includes = true;
                        break;
                    }
                }

                return bool && includes;
            }, true);

            if (doesQueryMatch && !inArray) {
                row.searchIndex = idx;
                this.searchData.push(idx);
            } else {
                row.searchIndex = null;
            }
        }, this);

        classList.add(this.wrapper, "search-results");

        if (!that.searchData.length) {
            classList.remove(that.wrapper, "search-results");

            that.setMessage(that.options.labels.noRows);
        } else {
            that.update();
        }

        this.emit("datatable.search", query, this.searchData);
    };

    /**
     * Change page
     * @param  {int} page
     * @return {void}
     */
    proto.page = function (page) {
        // We don't want to load the current page again.
        if (page == this.currentPage) {
            return false;
        }

        if (!isNaN(page)) {
            this.currentPage = parseInt(page, 10);
        }

        if (page > this.pages.length || page < 0) {
            return false;
        }

        this.render("page");
        this.render("pager");

        this.emit("datatable.page", page);
    };

    /**
     * Sort by column
     * @param  {int} column - The column no.
     * @param  {string} direction - asc or desc
     * @return {void}
     */
    proto.sortColumn = function (column, direction) {
        // Use columns API until sortColumn method is removed
        this.columns().sort(column, direction);
    };

    /**
     * Add new row data
     * @param {object} data
     */
    proto.insert = function (data) {

        var that = this,
            rows = [];
        if (isObject(data)) {
            if (data.headings) {
                if (!that.hasHeadings && !that.hasRows) {
                    var tr = createElement("tr"),
                        th;
                    each(data.headings, function (heading) {
                        th = createElement("th", {
                            html: heading
                        });

                        tr.appendChild(th);
                    });
                    that.head.appendChild(tr);

                    that.header = tr;
                    that.headings = [].slice.call(tr.cells);
                    that.hasHeadings = true;

                    // Re-enable sorting if it was disabled due
                    // to missing header
                    that.options.sortable = that.initialSortable;

                    // Allow sorting on new header
                    that.render("header");
                }
            }

            if (data.data && isArray(data.data)) {
                rows = data.data;
            }
        } else if (isArray(data)) {
            each(data, function (row) {
                var r = [];
                each(row, function (cell, heading) {

                    var index = that.labels.indexOf(heading);

                    if (index > -1) {
                        r[index] = cell;
                    }
                });
                rows.push(r);
            });
        }

        if (rows.length) {
            that.rows().add(rows);

            that.hasRows = true;
        }

        that.update();

        that.fixColumns();
    };

    /**
     * Refresh the instance
     * @return {void}
     */
    proto.refresh = function () {
        if (this.options.searchable) {
            this.input.value = "";
            this.searching = false;
        }
        this.currentPage = 1;
        this.onFirstPage = true;
        this.update();

        this.emit("datatable.refresh");
    };

    /**
     * Truncate the table
     * @param  {mixes} html - HTML string or HTMLElement
     * @return {void}
     */
    proto.clear = function (html) {
        if (this.body) {
            flush(this.body, this.isIE);
        }

        var parent = this.body;
        if (!this.body) {
            parent = this.table;
        }

        if (html) {
            if (typeof html === "string") {
                var frag = doc.createDocumentFragment();
                frag.innerHTML = html;
            }

            parent.appendChild(html);
        }
    };

    /**
     * Export table to various formats (csv, txt or sql)
     * @param  {Object} options User options
     * @return {Boolean}
     */
    proto.export = function (options) {
        if (!this.hasHeadings && !this.hasRows) return false;

        var headers = this.activeHeadings,
            rows = [],
            arr = [],
            i,
            x,
            str,
            link;

        var defaults = {
            download: true,
            skipColumn: [],

            // csv
            lineDelimiter: "\n",
            columnDelimiter: ",",

            // sql
            tableName: "myTable",

            // json
            replacer: null,
            space: 4
        };

        // Check for the options object
        if (!isObject(options)) {
            return false;
        }

        var o = extend(defaults, options);

        if (o.type) {
            if (o.type === "txt" || o.type === "csv") {
                // Include headings
                rows[0] = this.header;
            }

            // Selection or whole table
            if (o.selection) {
                // Page number
                if (!isNaN(o.selection)) {
                    rows = rows.concat(this.pages[o.selection - 1]);
                } else if (isArray(o.selection)) {
                    // Array of page numbers
                    for (i = 0; i < o.selection.length; i++) {
                        rows = rows.concat(this.pages[o.selection[i] - 1]);
                    }
                }
            } else {
                rows = rows.concat(this.activeRows);
            }

            // Only proceed if we have data
            if (rows.length) {
                if (o.type === "txt" || o.type === "csv") {
                    str = "";

                    for (i = 0; i < rows.length; i++) {
                        for (x = 0; x < rows[i].cells.length; x++) {
                            // Check for column skip and visibility
                            if (
                                o.skipColumn.indexOf(headers[x].originalCellIndex) < 0 &&
                                this.columns(headers[x].originalCellIndex).visible()
                            ) {
                                str += rows[i].cells[x].textContent + o.columnDelimiter;
                            }
                        }
                        // Remove trailing column delimiter
                        str = str.trim().substring(0, str.length - 1);

                        // Apply line delimiter
                        str += o.lineDelimiter;
                    }

                    // Remove trailing line delimiter
                    str = str.trim().substring(0, str.length - 1);

                    if (o.download) {
                        str = "data:text/csv;charset=utf-8," + str;
                    }
                } else if (o.type === "sql") {
                    // Begin INSERT statement
                    str = "INSERT INTO `" + o.tableName + "` (";

                    // Convert table headings to column names
                    for (i = 0; i < headers.length; i++) {
                        // Check for column skip and column visibility
                        if (
                            o.skipColumn.indexOf(headers[i].originalCellIndex) < 0 &&
                            this.columns(headers[i].originalCellIndex).visible()
                        ) {
                            str += "`" + headers[i].textContent + "`,";
                        }
                    }

                    // Remove trailing comma
                    str = str.trim().substring(0, str.length - 1);

                    // Begin VALUES
                    str += ") VALUES ";

                    // Iterate rows and convert cell data to column values
                    for (i = 0; i < rows.length; i++) {
                        str += "(";

                        for (x = 0; x < rows[i].cells.length; x++) {
                            // Check for column skip and column visibility
                            if (
                                o.skipColumn.indexOf(headers[x].originalCellIndex) < 0 &&
                                this.columns(headers[x].originalCellIndex).visible()
                            ) {
                                str += '"' + rows[i].cells[x].textContent + '",';
                            }
                        }

                        // Remove trailing comma
                        str = str.trim().substring(0, str.length - 1);

                        // end VALUES
                        str += "),";
                    }

                    // Remove trailing comma
                    str = str.trim().substring(0, str.length - 1);

                    // Add trailing colon
                    str += ";";

                    if (o.download) {
                        str = "data:application/sql;charset=utf-8," + str;
                    }
                } else if (o.type === "json") {
                    // Iterate rows
                    for (x = 0; x < rows.length; x++) {
                        arr[x] = arr[x] || {};
                        // Iterate columns
                        for (i = 0; i < headers.length; i++) {
                            // Check for column skip and column visibility
                            if (
                                o.skipColumn.indexOf(headers[i].originalCellIndex) < 0 &&
                                this.columns(headers[i].originalCellIndex).visible()
                            ) {
                                arr[x][headers[i].textContent] = rows[x].cells[i].textContent;
                            }
                        }
                    }

                    // Convert the array of objects to JSON string
                    str = JSON.stringify(arr, o.replacer, o.space);

                    if (o.download) {
                        str = "data:application/json;charset=utf-8," + str;
                    }
                }

                // Download
                if (o.download) {
                    // Filename
                    o.filename = o.filename || "datatable_export";
                    o.filename += "." + o.type;

                    str = encodeURI(str);

                    // Create a link to trigger the download
                    link = document.createElement("a");
                    link.href = str;
                    link.download = o.filename;

                    // Append the link
                    body.appendChild(link);

                    // Trigger the download
                    link.click();

                    // Remove the link
                    body.removeChild(link);
                }

                return str;
            }
        }

        return false;
    };

    /**
     * Import data to the table
     * @param  {Object} options User options
     * @return {Boolean}
     */
    proto.import = function (options) {
        var obj = false;
        var defaults = {
            // csv
            lineDelimiter: "\n",
            columnDelimiter: ","
        };

        // Check for the options object
        if (!isObject(options)) {
            return false;
        }

        options = extend(defaults, options);

        if (options.data.length || isObject(options.data)) {
            // Import CSV
            if (options.type === "csv") {
                obj = {
                    data: []
                };

                // Split the string into rows
                var rows = options.data.split(options.lineDelimiter);

                if (rows.length) {

                    if (options.headings) {
                        obj.headings = rows[0].split(options.columnDelimiter);

                        rows.shift();
                    }

                    each(rows, function (row, i) {
                        obj.data[i] = [];

                        // Split the rows into values
                        var values = row.split(options.columnDelimiter);

                        if (values.length) {
                            each(values, function (value) {
                                obj.data[i].push(value);
                            });
                        }
                    });
                }
            } else if (options.type === "json") {
                var json = isJson(options.data);

                // Valid JSON string
                if (json) {
                    obj = {
                        headings: [],
                        data: []
                    };

                    each(json, function (data, i) {
                        obj.data[i] = [];
                        each(data, function (value, column) {
                            if (obj.headings.indexOf(column) < 0) {
                                obj.headings.push(column);
                            }

                            obj.data[i].push(value);
                        });
                    });
                } else {
                    console.warn("That's not valid JSON!");
                }
            }

            if (isObject(options.data)) {
                obj = options.data;
            }

            if (obj) {
                // Add the rows
                this.insert(obj);
            }
        }

        return false;
    };
    /**
     * Print the table
     * @return {void}
     */
    proto.print = function () {
        var headings = this.activeHeadings;
        var rows = this.activeRows;
        var table = createElement("table");
        var thead = createElement("thead");
        var tbody = createElement("tbody");

        var tr = createElement("tr");
        each(headings, function (th) {
            tr.appendChild(
                createElement("th", {
                    html: th.textContent
                })
            );
        });

        thead.appendChild(tr);

        each(rows, function (row) {
            var tr = createElement("tr");
            each(row.cells, function (cell) {
                tr.appendChild(
                    createElement("td", {
                        html: cell.textContent
                    })
                );
            });
            tbody.appendChild(tr);
        });

        table.appendChild(thead);
        table.appendChild(tbody);

        // Open new window
        var w = win.open();

        // Append the table to the body
        w.document.body.appendChild(table);

        // Print
        w.print();
    };

    /**
     * Show a message in the table
     * @param {string} message
     */
    proto.setMessage = function (message) {
        var colspan = 1;

        if (this.hasRows) {
            colspan = this.data[0].cells.length;
        }

        this.clear(
            createElement("tr", {
                html: '<td class="dataTables-empty" colspan="' +
                    colspan +
                    '">' +
                    message +
                    "</td>"
            })
        );
    };

    /**
     * Columns API access
     * @return {Object} new Columns instance
     */
    proto.columns = function (columns) {
        return new Columns(this, columns);
    };

    /**
     * Rows API access
     * @return {Object} new Rows instance
     */
    proto.rows = function (rows) {
        return new Rows(this, rows);
    };

    /**
     * Add custom event listener
     * @param  {String} event
     * @param  {Function} callback
     * @return {Void}
     */
    proto.on = function (event, callback) {
        this.events = this.events || {};
        this.events[event] = this.events[event] || [];
        this.events[event].push(callback);
    };

    /**
     * Remove custom event listener
     * @param  {String} event
     * @param  {Function} callback
     * @return {Void}
     */
    proto.off = function (event, callback) {
        this.events = this.events || {};
        if (event in this.events === false) return;
        this.events[event].splice(this.events[event].indexOf(callback), 1);
    };

    /**
     * Fire custom event
     * @param  {String} event
     * @return {Void}
     */
    proto.emit = function (event) {
        this.events = this.events || {};
        if (event in this.events === false) return;
        for (var i = 0; i < this.events[event].length; i++) {
            this.events[event][i].apply(this, Array.prototype.slice.call(arguments, 1));
        }
    };

    return DataTable;
});
});

function createTableDOM(data, opts, config) {
  var num = config.num,
      denum = config.denum,
      ratio = config.ratio,
      my_region = config.my_region;

  var options = opts || {};
  options.id = options.id || 'myTable';
  var doc = document;
  var nb_features = data.length;
  var column_names = Object.getOwnPropertyNames(data[0]);
  var nb_columns = column_names.length;
  var myTable = doc.createElement('table');
  var headers = doc.createElement('thead');
  var body = doc.createElement('tbody');
  var headers_row = doc.createElement('tr');
  // TODO: Only display ratios values if there is more than 1 variable currently selected
  for (var i = 0; i < nb_columns; i++) {
    var cell = doc.createElement('th');
    var col_name = column_names[i];
    if (num.indexOf(col_name) > -1) {
      cell.innerHTML = 'Num<br><span class="small">' + col_name;
    } else if (denum.indexOf(col_name) > -1) {
      cell.innerHTML = 'Denum<br><span class="small">' + col_name;
    } else if (ratio.indexOf(col_name) > -1) {
      cell.innerHTML = 'Ratio<br><span class="small">' + col_name;
    } else if (col_name === 'rang') {
      cell.innerHTML = 'Rang ';
    } else {
      cell.innerHTML = col_name;
    }
    headers_row.appendChild(cell);
  }
  headers.appendChild(headers_row);
  myTable.appendChild(headers);
  for (var _i = 0; _i < nb_features; _i++) {
    var row = doc.createElement('tr');
    row.id = 'row_' + data[_i].id;
    if (data[_i].id === my_region) {
      row.className = color_highlight;
    }
    for (var j = 0; j < nb_columns; j++) {
      var _cell = doc.createElement('td');
      var _col_name = column_names[j];
      if (num.indexOf(_col_name) > -1 || denum.indexOf(_col_name) > -1 || ratio.indexOf(_col_name) > -1) {
        _cell.innerHTML = Math.round(data[_i][_col_name] * 100) / 10;
      } else {
        _cell.innerHTML = data[_i][_col_name];
      }
      row.appendChild(_cell);
    }
    body.appendChild(row);
  }
  myTable.appendChild(body);
  myTable.setAttribute('id', options.id);
  return myTable;
}

function makeTable(data_no_empty, config) {
  d3.select('.dataTable-wrapper').remove();
  var table = createTableDOM(data_no_empty, undefined, config);
  document.querySelector('#map_section').appendChild(table);
  var dataTable = new vanillaDataTables('#myTable');
  var t = document.querySelector('.dataTable-wrapper');
  t.style.marginTop = '20px';
  t.style.display = 'none';
  t.style.fontSize = '0.7em';
  t.querySelector('.dataTable-top').remove();
  Array.prototype.slice.call(t.querySelectorAll('span.small')).forEach(function (el) {
    el.onclick = function () {
      el.parentElement.click();
    }; // eslint-disable-line no-param-reassign
  });
}

function prepare_dataset(full_dataset, app$$1) {
  app$$1.full_dataset = full_dataset;
  // Create an Object feature_id ->  feature_name for easier lookup:
  app$$1.feature_names = {};
  full_dataset.forEach(function (elem) {
    app$$1.feature_names[elem.geo] = elem.Nom;
  });
}

/**
* Attach the full_dataset Array to the app Object and create a dictionnary
* allowing to obtain territorial units name from their Id.
*
* @param {Object} app - The variable containing the global parameters about
*   the current state of the application.
* @return {Array} - The filtered data, containing only the requested variables
*   for the feature of the current study zone,
*    without features containing empty ratios.
*
*/
function filterLevelVar(app$$1, filter_id) {
  // Fetch the name(s) of the ratio (and associated num and denum variable),
  // the name of the targeted region and the current level :
  var _app$current_config = app$$1.current_config,
      num = _app$current_config.num,
      denum = _app$current_config.denum,
      ratio = _app$current_config.ratio,
      current_level = _app$current_config.current_level,
      id_field = _app$current_config.id_field,
      filter_key = _app$current_config.filter_key,
      name_field = _app$current_config.name_field,
      my_region = _app$current_config.my_region;


  var all_variables = ratio.concat(num).concat(denum);

  // Prepare the data:
  var temp = void 0;
  if (filter_id) {
    temp = app$$1.full_dataset.filter(function (ft) {
      return +ft.level === current_level && filter_id.indexOf(ft[id_field]) > -1;
    });
  } else if (filter_key) {
    var my_category = app$$1.full_dataset.filter(function (ft) {
      return ft[id_field] === my_region;
    })[0][filter_key];
    temp = app$$1.full_dataset.filter(function (ft) {
      return +ft.level === current_level && ft[filter_key] === my_category;
    });
  } else {
    temp = app$$1.full_dataset.filter(function (ft) {
      return +ft.level === current_level;
    });
  }
  temp = temp.map(function (ft) {
    var props_feature = {
      id: ft[id_field],
      name: ft[name_field]
    };
    for (var i = 0, len_i = all_variables.length; i < len_i; i++) {
      props_feature[all_variables[i]] = +ft[all_variables[i]];
    }
    return props_feature;
  });

  // // Filter data for empty values :
  // const filtered_data = temp.filter(
  //   ft => ratio.map(v => !!ft[v]).every(v => v === true));

  //
  app$$1.current_data = temp;
}

/**
* Function to prepare the global "variables_info" Array of objects from the array
* containing the readed 'metadata.csv' file.
*
* @param {Array} metadata_indicateurs - The array return by d3.csv.
* @return {void}
*
*/
function prepareVariablesInfo(metadata_indicateurs) {
  return metadata_indicateurs.filter(function (ft) {
    return ft['Type statistique'] === 'Ratio';
  }).map(function (ft) {
    return {
      ratio: ft['id'],
      num: ft['id1'] + '_' + ft['Année'],
      denum: ft['id2'] + '_' + ft['Année'],
      name: ft['Nom'] + ' (' + ft['Année'] + ')',
      group: ft['Thème']
    };
  });
}

/**
* Set and apply a new filter (ie. restrict the study zone) on the dataset to be used.
*
* @param {String} filter_type - The name of the filter to use.
* @return {void}
*
*/
function applyFilter(app$$1, filter_type) {
  if (filter_type === 'filter_FR') {
    app$$1.current_config.filter_key = 'Pays';
    filterLevelVar(app$$1);
  } else if (filter_type === 'no_filter') {
    app$$1.current_config.filter_key = undefined;
    filterLevelVar(app$$1);
  } else {
    app$$1.current_config.filter_key = 'type_test';
    filterLevelVar(app$$1);
  }

  app$$1.colors = {};
  app$$1.colors[app$$1.current_config.my_region] = color_highlight;
}

// TODO : Doc
function changeRegion(app$$1, id_region) {
  app$$1.current_config.my_region = id_region;
  app$$1.current_config.my_region_pretty_name = app$$1.feature_names[app$$1.current_config.my_region];
  if (app$$1.current_config.filter_key !== undefined) {
    filterLevelVar(app$$1);
  }
  // Reset the color to use on the chart/map:
  app$$1.colors = {};
  app$$1.colors[app$$1.current_config.my_region] = color_highlight;
}

/**
*
*
*
*
*/
function addVariable(app$$1, code_ratio) {
  var variable_info = exports.variables_info.filter(function (d) {
    return d.ratio === code_ratio;
  })[0];
  app$$1.colors = {};
  app$$1.colors[app$$1.current_config.my_region] = color_highlight;
  app$$1.current_config.num.push(variable_info.num);
  app$$1.current_config.denum.push(variable_info.denum);
  app$$1.current_config.ratio.push(variable_info.ratio);
  app$$1.current_config.ratio_pretty_name.push(variable_info.name);
  filterLevelVar(app$$1);
}

/**
*
*
*
*
*/
function removeVariable(app$$1, code_ratio) {
  var ix = app$$1.current_config.ratio.indexOf(code_ratio);
  app$$1.current_config.num.splice(ix, 1);
  app$$1.current_config.denum.splice(ix, 1);
  app$$1.current_config.ratio.splice(ix, 1);
  app$$1.current_config.ratio_pretty_name.splice(ix, 1);
  filterLevelVar(app$$1);
}

/**
* Reset the current variables in use.
*
*
*
*/
function resetVariables(app$$1, codes_ratio) {
  app$$1.colors = {};
  app$$1.colors[app$$1.current_config.my_region] = color_highlight;
  app$$1.current_config.num = [];
  app$$1.current_config.denum = [];
  app$$1.current_config.ratio = [];
  app$$1.current_config.ratio_pretty_name = [];

  var _loop = function _loop(i, len) {
    var code_ratio = codes_ratio[i];
    var variable_info = exports.variables_info.filter(function (d) {
      return d.ratio === code_ratio;
    })[0];
    app$$1.current_config.num.push(variable_info.num);
    app$$1.current_config.denum.push(variable_info.denum);
    app$$1.current_config.ratio.push(variable_info.ratio);
    app$$1.current_config.ratio_pretty_name.push(variable_info.name);
  };

  for (var i = 0, len = codes_ratio.length; i < len; i++) {
    _loop(i, len);
  }
  filterLevelVar(app$$1);
}

/**
* Compute the ratio of available (= not empty) values (the "complétude") within
* the subset currently in use for all the variables in "vars".
*
* @param {Object} app -
* @param {Array} vars -
* @return {Number}
*
*/


/**
* Compute the ratio of population covered by features on which all the variables
* of "vars" are available.
*
* @param {Object} app -
* @param {Array} vars -
* @return {Number}
*
*/
function calcPopCompletudeSubset(app$$1, vars) {
  var _app$current_config3 = app$$1.current_config,
      current_level = _app$current_config3.current_level,
      id_field = _app$current_config3.id_field,
      filter_key = _app$current_config3.filter_key,
      my_region = _app$current_config3.my_region,
      pop_field = _app$current_config3.pop_field;

  // Compute the total population stock of the data (within the "study zone" if any):

  var temp = void 0;
  if (filter_key) {
    var my_category = app$$1.full_dataset.find(function (ft) {
      return ft[id_field] === my_region;
    })[filter_key];
    temp = app$$1.full_dataset.filter(function (ft) {
      return +ft.level === current_level && ft[filter_key] === my_category;
    });
  } else {
    temp = app$$1.full_dataset.filter(function (ft) {
      return +ft.level === current_level;
    });
  }
  var total_pop = 0;
  for (var i = 0, len = temp.length; i < len; i++) {
    total_pop += isNaN(+temp[i][pop_field]) ? 0 : +temp[i][pop_field];
  }
  // Compute the population stock of the dataset if we filter empty features
  // on all the variables of "vars":
  temp = temp.map(function (ft) {
    var props_feature = {
      id: ft[id_field],
      pop: +ft[pop_field]
    };
    for (var _i = 0, len_i = vars.length; _i < len_i; _i++) {
      props_feature[vars[_i]] = +ft[vars[_i]];
    }
    return props_feature;
  }).filter(function (ft) {
    return vars.map(function (ratio_name) {
      return !!ft[ratio_name];
    }).every(function (v) {
      return v === true;
    });
  });
  var subset_pop = 0;
  for (var _i2 = 0, _len = temp.length; _i2 < _len; _i2++) {
    subset_pop += isNaN(temp[_i2].pop) ? 0 : temp[_i2].pop;
  }
  // Return the ratio of population values ("complétude") within
  // the study zone selected by the user:
  return Math.round(subset_pop / total_pop * 1000) / 10;
}
/* eslint-enable no-param-reassign */

var TableResumeStat = function () {
  function TableResumeStat(summary_features) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    classCallCheck(this, TableResumeStat);

    var doc = document;
    var nb_features = summary_features.length;
    var column_names = ['Variable', 'Min', 'Moyenne', 'Max', 'Ma région'];
    var nb_columns = column_names.length;
    var container_div = doc.createElement('div');
    var myTable = doc.createElement('table');
    var headers = doc.createElement('thead');
    var table_body = doc.createElement('tbody');
    var headers_row = doc.createElement('tr');
    myTable.className = 'minitable';
    container_div.className = 'minitable_container';
    for (var i = 0; i < nb_columns; i++) {
      var cell = doc.createElement('th');
      cell.innerHTML = column_names[i];
      headers_row.appendChild(cell);
    }
    headers.appendChild(headers_row);
    myTable.appendChild(headers);
    for (var _i = 0; _i < nb_features; _i++) {
      var row = doc.createElement('tr');
      row.id = 'row_' + summary_features[_i].id;
      for (var j = 0; j < nb_columns; j++) {
        var _cell = doc.createElement('td');
        var col_name = column_names[j];
        if (col_name !== 'Variable') {
          _cell.innerHTML = Math.round(summary_features[_i][col_name] * 10) / 10;
        } else {
          _cell.innerHTML = summary_features[_i][col_name];
        }
        row.appendChild(_cell);
      }
      table_body.appendChild(row);
    }
    myTable.appendChild(table_body);
    myTable.setAttribute('id', options.id || 'table_summary');
    container_div.appendChild(myTable);
    document.querySelector('#map_section').appendChild(container_div);
    this.nb_columns = nb_columns;
    this.column_names = column_names;
    this.table_body = table_body;
  }

  createClass(TableResumeStat, [{
    key: 'addFeatures',
    value: function addFeatures(summary_features) {
      for (var i = 0, len = summary_features.length; i < len; i++) {
        this.addFeature(summary_features[i]);
      }
    }
  }, {
    key: 'addFeature',
    value: function addFeature(summary) {
      var row = document.createElement('tr');
      row.id = 'row_' + summary.id;
      for (var j = 0; j < this.nb_columns; j++) {
        var cell = document.createElement('td');
        var col_name = this.column_names[j];
        if (col_name !== 'Variable') {
          cell.innerHTML = Math.round(summary[col_name] * 10) / 10;
        } else {
          cell.innerHTML = summary[col_name];
        }
        row.appendChild(cell);
      }
      this.table_body.appendChild(row);
    }
  }, {
    key: 'removeFeature',
    value: function removeFeature(id_variable) {
      var row = this.table_body.querySelector('tr#row_' + id_variable);
      if (row) row.remove();
    }
  }, {
    key: 'removeAll',
    value: function removeAll() {
      var rows = this.table_body.querySelectorAll('tr');
      for (var i = rows.length - 1; i > -1; i--) {
        rows[i].remove();
      }
    }
  }, {
    key: 'remove',
    value: function remove() {
      this.table_body.parentElement.parentElement.remove();
      this.table_body = null;
    }
  }]);
  return TableResumeStat;
}();

var svg_bar = d3.select('svg#svg_bar');
var margin = { top: 10, right: 20, bottom: 100, left: 40 };
var margin2 = { top: 430, right: 20, bottom: 15, left: 40 };
var width = +svg_bar.attr('width') - margin.left - margin.right;
var height = +svg_bar.attr('height') - margin.top - margin.bottom;
var height2 = +svg_bar.attr('height') - margin2.top - margin2.bottom;

var nbFt = void 0;
var current_range_brush = [0, 0];
var current_range = [0, 0];
var displayed = void 0;

function getMeanRank(mean_value, ratio_to_use) {
  var mean_rank = app.current_data.map(function (d, i) {
    return [d[ratio_to_use], math_abs(mean_value - d[ratio_to_use]), i];
  });
  mean_rank.sort(function (a, b) {
    return a[1] - b[1];
  });
  mean_rank = mean_rank[0];
  if (mean_rank[1] > mean_value) {
    mean_rank = mean_rank[2] - 1;
  } else {
    mean_rank = mean_rank[2];
  }
  return mean_rank;
}

var BarChart1 = function () {
  function BarChart1(ref_data) {
    var _this = this;

    classCallCheck(this, BarChart1);

    this.brushed = function () {
      if (d3.event.sourceEvent && d3.event.sourceEvent.type === 'zoom') return; // ignore brush-by-zoom
      if (!_this.x) {
        console.log('a');return;
      }
      var s = d3.event.selection || _this.x2.range();
      current_range = [math_round(s[0] / (width / nbFt)), math_round(s[1] / (width / nbFt))];
      _this.x.domain(_this.data.slice(current_range[0], current_range[1]).map(function (ft) {
        return ft.id;
      }));
      svg_bar.select('.zoom').call(_this.zoom.transform, d3.zoomIdentity.scale(width / (current_range[1] - current_range[0])).translate(-current_range[0], 0));
      _this.update();
      _this.updateContext(current_range[0], current_range[1]);
      svg_bar.select('.brush_top').call(_this.brush_top.move, null);
      _this.brushed_top();
    };

    this.brushed_top = function () {
      if (!_this._focus) {
        console.log('b');return;
      }
      if (!_this.map_elem) {
        console.log('c');return;
      }
      var d3_event = d3.event;
      var ratio_to_use = _this.ratio_to_use;
      var ref_value = _this.ref_value;
      if (d3_event && d3_event.selection && d3_event.sourceEvent && d3_event.sourceEvent.target === document.querySelector('.brush_top > rect.overlay')) {
        _this.map_elem.removeRectBrush();
        var s = d3_event.selection;
        current_range_brush = [current_range[0] + math_round(s[0] / (width / displayed)) - 1, current_range[0] + math_round(s[1] / (width / displayed))];
        _this.x.domain(_this.data.slice(current_range_brush[0] + 1, current_range_brush[1]).map(function (ft) {
          return ft.id;
        }));
        app.colors = {};
        _this._focus.selectAll('.bar').style('fill', function (d, i) {
          if (d.id === app.current_config.my_region) {
            app.colors[d.id] = color_highlight;
            return color_highlight;
          } else if (i > current_range_brush[0] && i < current_range_brush[1]) {
            var color = comp(d[ratio_to_use], ref_value, _this.serie_inversed);
            app.colors[d.id] = color;
            return color;
          }
          return color_countries;
        });
        _this.updateMapRegio();
      } else {
        if (d3_event && !d3_event.selection && d3_event.sourceEvent && d3_event.sourceEvent.detail !== undefined) {
          _this.map_elem.removeRectBrush();
          app.colors = {};
          app.colors[app.current_config.my_region] = color_highlight;
          _this.updateMapRegio();
        }
        _this._focus.selectAll('.bar').style('fill', function (d) {
          return app.colors[d.id] || color_countries;
        });
      }
    };
    app.current_config.nb_var = 1;
    var x = d3.scaleBand().range([0, width]).padding(0.1),
        x2 = d3.scaleBand().range([0, width]).padding(0.1),
        y = d3.scaleLinear().range([height, 0]),
        y2 = d3.scaleLinear().range([height2, 0]);

    var xAxis = d3.axisBottom(x);
    var xAxis2 = d3.axisBottom(x2);
    var yAxis = d3.axisLeft(y);

    this.x = x;
    this.x2 = x2;
    this.y = y;
    this.y2 = y2;
    this.xAxis = xAxis;
    this.yAxis = yAxis;
    this.xAxis2 = xAxis2;
    var self = this;
    var available_ratios = app.current_config.ratio;
    var ratio_to_use = available_ratios[0];
    this.ratio_to_use = ratio_to_use;

    this.data = ref_data.filter(function (ft) {
      return !!ft[ratio_to_use];
    });
    this.data.sort(function (a, b) {
      return a[ratio_to_use] - b[ratio_to_use];
    });
    this.current_ids = this.data.map(function (d) {
      return d.id;
    });
    resetColors();
    this.current_ranks = this.data.map(function (d, i) {
      return i + 1;
    });
    nbFt = this.data.length;
    this.mean_value = d3.mean(this.data.map(function (d) {
      return d[ratio_to_use];
    }));
    this.ref_value = this.data.filter(function (ft) {
      return ft.id === app.current_config.my_region;
    })[0][ratio_to_use];
    svg_bar.append('defs').append('clipPath').attr('id', 'clip').append('rect').attrs({ width: width, height: height });

    var focus = svg_bar.append('g').attrs({
      class: 'focus',
      transform: 'translate(' + margin.left + ', ' + margin.top + ')'
    });

    var context = svg_bar.append('g').attrs({
      class: 'context',
      transform: 'translate(' + margin2.left + ', ' + margin2.top + ')'
    });

    this._focus = focus;
    this.context = context;

    x.domain(this.current_ids);
    y.domain([d3.min(this.data, function (d) {
      return d[ratio_to_use];
    }) - 2, d3.max(this.data, function (d) {
      return d[ratio_to_use];
    })]);
    x2.domain(x.domain());
    y2.domain(y.domain());

    var brush_bottom = d3.brushX().extent([[0, 0], [width, height2]]).on('brush end', this.brushed);

    var brush_top = d3.brushX().extent([[0, 0], [width, height]]).on('brush end', this.brushed_top);

    var zoom = d3.zoom().scaleExtent([1, Infinity]).translateExtent([[0, 0], [width, height]]).extent([[0, 0], [width, height]]);
    // .on("zoom", zoomed);
    this.brush_top = brush_top;
    this.brush_bottom = brush_bottom;
    this.zoom = zoom;

    focus.append('g').attrs({ class: 'axis axis--x', transform: 'translate(0, ' + height + ')' }).call(xAxis);

    focus.select('.axis--x').selectAll('text').style('text-anchor', 'end').attrs({ dx: '-0.8em', dy: '0.15em', transform: 'rotate(-65)' });

    focus.append('g').attr('class', 'axis axis--y').call(yAxis);

    this.g_bar = focus.append('g');

    var groupe_line_mean = focus.append('g').attr('class', 'mean');
    groupe_line_mean.append('text').attrs({ x: 60, y: y(this.mean_value) + 20 }).styles({
      display: 'none',
      fill: 'red',
      'fill-opacity': '0.8',
      'font-family': '\'Signika\', sans-serif'
    }).text('Valeur moyenne : ' + Math.round(this.mean_value * 10) / 10);

    groupe_line_mean.append('line').attrs({
      x1: 0,
      x2: width,
      y1: y(this.mean_value),
      y2: y(this.mean_value),
      'stroke-dasharray': '10, 5',
      'stroke-width': '2px',
      class: 'mean_line'
    }).style('stroke', 'red');

    groupe_line_mean.append('line').attrs({ x1: 0, x2: width, y1: y(this.mean_value), y2: y(this.mean_value), 'stroke-width': '14px', class: 'transp_mean_line' }).style('stroke', 'transparent').on('mouseover', function () {
      groupe_line_mean.select('text').style('display', 'initial');
    }).on('mouseout', function () {
      groupe_line_mean.select('text').style('display', 'none');
    });

    this.updateMiniBars();

    context.append('g').attr('class', 'brush_bottom').call(brush_bottom).call(brush_bottom.move, x.range());

    focus.append('g').attr('class', 'brush_top').call(brush_top).call(brush_top.move, null);

    this.completude_value = calcPopCompletudeSubset(app, [this.ratio_to_use]);

    this.completude = svg_bar.append('text').attrs({ id: 'chart_completude', x: 60, y: 40 }).styles({ 'font-family': '\'Signika\', sans-serif' }).text('Compl\xE9tude : ' + this.completude_value + '%');

    svg_bar.append('image').attrs({
      x: width + margin.left + 5,
      y: 385,
      width: 15,
      height: 15,
      'xlink:href': 'img/reverse_plus.png',
      id: 'img_reverse'
    }).on('click', function () {
      // this.data = app.current_data.slice();
      if (!_this.serie_inversed) {
        _this.data.sort(function (a, b) {
          return b[_this.ratio_to_use] - a[_this.ratio_to_use];
        });
      } else {
        _this.data.sort(function (a, b) {
          return a[_this.ratio_to_use] - b[_this.ratio_to_use];
        });
      }
      _this.serie_inversed = !_this.serie_inversed;
      x.domain(_this.data.slice(current_range[0], current_range[1]).map(function (ft) {
        return ft.id;
      }));
      x2.domain(_this.data.map(function (ft) {
        return ft.id;
      }));
      // svg_bar.select(".zoom").call(zoom.transform, d3.zoomIdentity
      //     .scale(width / (current_range[1] - current_range[0]))
      //     .translate(-current_range[0], 0));
      _this.update();
      // this.updateMiniBars();
      _this.updateContext(current_range[0], current_range[1]);
      svg_bar.select('.brush_top').call(brush_top.move, null);
      _this.map_elem.removeRectBrush();
      svg_bar.select('.brush_bottom').call(brush_bottom.move, x.range());
    });

    // Prepare the tooltip displayed on mouseover:
    var tooltip = prepareTooltip(svg_bar);

    // Deactivate the brush rect selection on the map + on the chart
    // when he user press the Ctrl key:
    document.onkeydown = function (event) {
      if (event && event.key === 'Control') {
        svg_bar.select('.brush_top').selectAll('.selection, .overlay').style('display', 'none');
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', 'none');
      }
    };
    document.onkeyup = function (event) {
      if (event && event.key === 'Control') {
        svg_bar.select('.brush_top').selectAll('.selection, .overlay').style('display', null);
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', null);
      }
    };

    //
    var header_bar_section = d3.select('#header_chart');

    this.selec_var = header_bar_section.insert('select', '#img_table').attrs({ class: 'title_variable' }).styles({
      'font-family': '\'Signika\', sans-serif',
      'font-weight': '800',
      'font-size': '14px',
      'margin-top': '12px',
      'margin-left': '40px',
      float: 'left'
    });

    for (var i = 0, len_i = available_ratios.length; i < len_i; i++) {
      this.selec_var.append('option').attr('value', available_ratios[i]).text(app.current_config.ratio_pretty_name[i]);
    }

    this.selec_var.on('change', function () {
      var code_variable = this.value;
      self.changeVariable(code_variable);
      self.changeStudyZone();
      self.updateCompletude();
    });

    // Create the menu under the chart allowing to use some useful selections
    // (above or below the mean value and above or below my_region)
    var menu_selection = d3.select('#bar_section').append('div').attr('id', 'menu_selection').styles({ padding: '0 10px 10px 10px', 'text-align': 'center' });

    menu_selection.append('button').attrs({ class: 'button_blue', id: 'btn_above_mean' }).text('< à la moyenne').on('click', function () {
      return _this.selectBelowMean();
    });

    menu_selection.append('button').attrs({ class: 'button_blue', id: 'btn_below_mean' }).text('> à la moyenne').on('click', function () {
      return _this.selectAboveMean();
    });

    menu_selection.append('button').attrs({ class: 'button_blue', id: 'btn_above_my_region' }).text('< à ma région').on('click', function () {
      return _this.selectBelowMyRegion();
    });

    menu_selection.append('button').attrs({ class: 'button_blue', id: 'btn_below_my_region' }).text('> à ma région').on('click', function () {
      return _this.selectAboveMyRegion();
    });

    this.makeTableStat();
  }

  createClass(BarChart1, [{
    key: 'updateCompletude',
    value: function updateCompletude() {
      this.completude_value = calcPopCompletudeSubset(app, [this.ratio_to_use]);

      this.completude.text('Compl\xE9tude : ' + this.completude_value + '%');
    }
  }, {
    key: 'updateContext',
    value: function updateContext(min, max) {
      this.context.selectAll('.bar').style('fill-opacity', function (_, i) {
        return i >= min && i < max ? '1' : '0.3';
      });
    }
  }, {
    key: 'update',
    value: function update() {
      var _this2 = this;

      displayed = 0;
      var ratio_to_use = this.ratio_to_use;
      var self = this;
      var bar = this.g_bar.selectAll('.bar').data(this.data);

      bar.attrs(function (d) {
        return {
          x: _this2.x(d.id),
          y: _this2.y(d[ratio_to_use]),
          width: _this2.x.bandwidth(),
          height: height - _this2.y(d[ratio_to_use])
        };
      }).style('fill', function (d) {
        return app.colors[d.id] || color_countries;
      }).style('display', function (d) {
        var to_display = _this2.x(d.id) != null;
        if (to_display) {
          displayed += 1;
          return 'initial';
        }
        return 'none';
      }).on('mouseover', function () {
        svg_bar.select('.tooltip').style('display', null);
      }).on('mouseout', function () {
        svg_bar.select('.tooltip').style('display', 'none');
      }).on('mousemove', function (d) {
        var tooltip = svg_bar.select('.tooltip');
        tooltip.select('text.id_feature').text('' + d.id);
        tooltip.select('text.value_feature1').text('' + math_round(d[self.ratio_to_use] * 10) / 10);
        tooltip.attr('transform', 'translate(' + [d3.mouse(this)[0] - 5, d3.mouse(this)[1] - 45] + ')');
      });

      bar.enter().insert('rect', '.mean').attrs(function (d) {
        return {
          class: 'bar',
          x: _this2.x(d.id),
          y: _this2.y(d[ratio_to_use]),
          width: _this2.x.bandwidth(),
          height: height - _this2.y(d[ratio_to_use])
        };
      });

      bar.exit().remove();

      this._focus.select('.axis--y').call(this.yAxis);

      var axis_x = this._focus.select('.axis--x').attr('font-size', function () {
        return displayed > 75 ? 6 : 10;
      }).call(this.xAxis);
      axis_x.selectAll('text').attrs(function () {
        if (displayed > 100) {
          return { dx: '-0.8em', dy: '0.15em', transform: 'rotate(-65)' };
        } else if (displayed > 20) {
          return { dx: '-0.8em', dy: '0.15em', transform: 'rotate(-65)' };
        } else {
          return { dx: '0', dy: '0.71em', transform: null };
        }
      }).style('text-anchor', function () {
        return displayed > 20 ? 'end' : 'middle';
      });

      this.updateMiniBars();
    }
  }, {
    key: 'updateMiniBars',
    value: function updateMiniBars() {
      var _this3 = this;

      var ratio_to_use = this.ratio_to_use;
      var mini_bars = this.context.selectAll('.bar').data(this.data);

      mini_bars.attrs(function (d) {
        return {
          x: _this3.x2(d.id),
          y: _this3.y2(d[ratio_to_use]),
          width: _this3.x2.bandwidth(),
          height: height2 - _this3.y2(d[ratio_to_use])
        };
      }).style('fill', function (d) {
        return d.id !== app.current_config.my_region ? color_countries : color_highlight;
      });

      mini_bars.enter().insert('rect').attrs(function (d) {
        return {
          class: 'bar',
          x: _this3.x2(d.id),
          y: _this3.y2(d[ratio_to_use]),
          width: _this3.x2.bandwidth(),
          height: height2 - _this3.y2(d[ratio_to_use])
        };
      }).style('fill', function (d) {
        return d.id !== app.current_config.my_region ? color_countries : color_highlight;
      });
      mini_bars.exit().remove();
    }
  }, {
    key: 'updateMapRegio',
    value: function updateMapRegio() {
      var _this4 = this;

      this.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        return _this4.current_ids.indexOf(d.properties[app.current_config.id_field_geom]) > -1 ? app.colors[d.properties[app.current_config.id_field_geom]] || color_countries : color_disabled;
      });
    }
  }, {
    key: 'selectAboveMyRegion',
    value: function selectAboveMyRegion() {
      var my_rank = this.data.map(function (d, i) {
        return [d.id, i];
      }).filter(function (d) {
        return d[0] === app.current_config.my_region;
      })[0][1];
      app.colors = {};
      app.colors[app.current_config.my_region] = color_highlight;
      if (!this.serie_inversed) {
        current_range_brush = [my_rank, this.data.length];
        this.data.filter(function (d, i) {
          return i > my_rank;
        }).map(function (d) {
          return d.id;
        }).forEach(function (ft) {
          app.colors[ft] = color_sup;
        });
      } else {
        current_range_brush = [0, my_rank];
        this.data.filter(function (d, i) {
          return i < my_rank;
        }).map(function (d) {
          return d.id;
        }).forEach(function (ft) {
          app.colors[ft] = color_inf;
        });
      }
      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.update();
      // svg_bar.select('.brush_top').call(this.brush_top.move, current_range_brush.map(d => d * (width / nbFt)));
      this.updateMapRegio();
    }
  }, {
    key: 'selectBelowMyRegion',
    value: function selectBelowMyRegion() {
      var my_rank = this.data.map(function (d, i) {
        return [d.id, i];
      }).filter(function (d) {
        return d[0] === app.current_config.my_region;
      })[0][1];

      app.colors = {};
      app.colors[app.current_config.my_region] = color_highlight;
      if (!this.serie_inversed) {
        current_range_brush = [0, my_rank];
        this.data.filter(function (d, i) {
          return i < my_rank;
        }).map(function (d) {
          return d.id;
        }).forEach(function (ft) {
          app.colors[ft] = color_inf;
        });
      } else {
        current_range_brush = [my_rank, this.data.length];
        this.data.filter(function (d, i) {
          return i > my_rank;
        }).map(function (d) {
          return d.id;
        }).forEach(function (ft) {
          app.colors[ft] = color_sup;
        });
      }
      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.update();
      // svg_bar.select('.brush_top').call(this.brush_top.move, current_range_brush.map(d => d * (width / nbFt)));
      this.updateMapRegio();
    }
  }, {
    key: 'selectAboveMean',
    value: function selectAboveMean() {
      var _this5 = this;

      var mean_rank = getMeanRank(this.mean_value, this.ratio_to_use);
      var ratio_to_use = this.ratio_to_use;
      var ref_value = this.ref_value;

      app.colors = {};
      app.colors[app.current_config.my_region] = color_highlight;
      if (!this.serie_inversed) {
        current_range_brush = [mean_rank, this.data.length];
        this.data.filter(function (d) {
          return d[ratio_to_use] > _this5.mean_value;
        }).forEach(function (ft) {
          if (ft[ratio_to_use] > ref_value) app.colors[ft.id] = color_sup;else app.colors[ft.id] = color_inf;
        });
      } else {
        current_range_brush = [0, mean_rank + 1];
        this.data.filter(function (d) {
          return d[ratio_to_use] > _this5.mean_value;
        }).forEach(function (ft) {
          if (ft[ratio_to_use] > ref_value) app.colors[ft.id] = color_inf;else app.colors[ft.id] = color_sup;
        });
      }
      app.colors[app.current_config.my_region] = color_highlight;
      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.update();
      // svg_bar.select('.brush_top').call(this.brush_top.move, current_range_brush.map(d => d * (width / nbFt)));
      this.updateMapRegio();
    }
  }, {
    key: 'selectBelowMean',
    value: function selectBelowMean() {
      var _this6 = this;

      var mean_rank = getMeanRank(this.mean_value, this.ratio_to_use);
      var ratio_to_use = this.ratio_to_use;
      var ref_value = this.ref_value;
      app.colors = {};
      if (!this.serie_inversed) {
        current_range_brush = [0, mean_rank];
        this.data.filter(function (d) {
          return d[ratio_to_use] < _this6.mean_value;
        }).forEach(function (ft) {
          if (ft[ratio_to_use] < ref_value) app.colors[ft.id] = color_inf;else app.colors[ft.id] = color_sup;
        });
      } else {
        current_range_brush = [mean_rank + 1, this.data.length];
        this.data.filter(function (d) {
          return d[ratio_to_use] < _this6.mean_value;
        }).forEach(function (ft) {
          if (ft[ratio_to_use] < ref_value) app.colors[ft.id] = color_sup;else app.colors[ft.id] = color_inf;
        });
      }
      app.colors[app.current_config.my_region] = color_highlight;
      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.update();
      // svg_bar.select('.brush_top').call(this.brush_top.move, current_range_brush.map(d => d * (width / nbFt)));
      this.updateMapRegio();
    }
  }, {
    key: 'handle_brush_map',
    value: function handle_brush_map(event) {
      var _this7 = this;

      if (!event || !event.selection) {
        this.last_map_selection = undefined;
        return;
      }
      var ratio_to_use = this.ratio_to_use;
      var ref_value = this.ref_value;
      var self = this;
      svg_bar.select('.brush_top').call(self.brush_top.move, null);

      var _event$selection = slicedToArray(event.selection, 2),
          topleft = _event$selection[0],
          bottomright = _event$selection[1];

      this.last_map_selection = [topleft, bottomright];
      // const transform = svg_map.node().__zoom;
      // topleft[0] = (topleft[0] - transform.x) / transform.k;
      // topleft[1] = (topleft[1] - transform.y) / transform.k;
      // bottomright[0] = (bottomright[0] - transform.x) / transform.k;
      // bottomright[1] = (bottomright[1] - transform.y) / transform.k;
      var rect = new Rect(topleft, bottomright);
      app.colors = {};
      self.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        var id = d.properties[app.current_config.id_field_geom];
        if (id === app.current_config.my_region) {
          app.colors[id] = color_highlight;
          return color_highlight;
        } else if (self.current_ids.indexOf(id) < 0) {
          return color_disabled;
        }
        if (!this._pts) {
          this._pts = svgPathToCoords(this.getAttribute('d'), app.type_path);
        }
        var pts = this._pts;
        for (var ix = 0, nb_pts = pts.length; ix < nb_pts; ix++) {
          if (rect.contains(pts[ix])) {
            var value = d.properties[ratio_to_use];
            var color = comp(value, ref_value, this.serie_inversed);
            app.colors[id] = color;
            return color;
          }
        }
        return color_countries;
      });
      self._focus.selectAll('.bar').style('fill', function (d) {
        return app.colors[d.id] || color_countries;
      });
      var ids = Object.keys(app.colors);
      var ranks = ids.map(function (d) {
        return _this7.current_ids.indexOf(d.id) > -1;
      }).map(function (d) {
        return _this7.current_ranks[d];
      });
      if (ranks.length > 1) {
        var c1 = ranks[0] - 1;
        var c2 = ranks[ranks.length - 1];
        if (c1 < current_range[0] || c2 > current_range[1]) {
          current_range = [ranks[0] - 1, ranks[ranks.length - 1]];
          svg_bar.select('.brush_bottom').call(self.brush_bottom.move, [current_range[0] * (width / nbFt), current_range[1] * (width / nbFt)]);
        }
      } else {
        current_range = [0, this.data.length];
        svg_bar.select('.brush_bottom').call(self.brush_bottom.move, self.x.range());
      }
    }
  }, {
    key: 'handleClickMap',
    value: function handleClickMap(d, parent) {
      var id = d.properties[app.current_config.id_field_geom];
      if (this.current_ids.indexOf(id) < 0 || id === app.current_config.my_region) return;
      if (app.colors[id] !== undefined) {
        app.colors[id] = undefined;
        d3.select(parent).attr('fill', color_countries);
      } else {
        var color = comp(d.properties[this.ratio_to_use], this.ref_value, this.serie_inversed);
        app.colors[id] = color;
        d3.select(parent).attr('fill', color);
      }
      this.update();
    }
  }, {
    key: 'updateChangeRegion',
    value: function updateChangeRegion() {
      if (app.current_config.filter_key !== undefined) {
        this.changeStudyZone();
      } else {
        this.ref_value = this.data.filter(function (ft) {
          return ft.id === app.current_config.my_region;
        })[0][this.ratio_to_use];
        this.update();
        this.updateContext(0, this.data.length);
        this.updateMapRegio();
        this.updateTableStats();
        svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x.range());
        this.map_elem.removeRectBrush();
        this.map_elem.updateLegend();
      }
    }
  }, {
    key: 'updateMeanValue',
    value: function updateMeanValue() {
      var y = this.y;
      var ratio_to_use = this.ratio_to_use;
      var grp_mean = this._focus.select('.mean');
      this.mean_value = d3.mean(this.data.map(function (d) {
        return d[ratio_to_use];
      }));
      grp_mean.select('text').attr('y', y(this.mean_value) + 20).text('Valeur moyenne : ' + Math.round(this.mean_value * 10) / 10);
      grp_mean.select('.mean_line').attrs({ y1: y(this.mean_value), y2: y(this.mean_value) });
      grp_mean.select('.transp_mean_line').attrs({ y1: y(this.mean_value), y2: y(this.mean_value) });
    }
  }, {
    key: 'changeStudyZone',
    value: function changeStudyZone() {
      var ratio_to_use = this.ratio_to_use;
      this.data = app.current_data.filter(function (ft) {
        return !!ft[ratio_to_use];
      });

      if (this.serie_inversed) {
        this.data.sort(function (a, b) {
          return b[ratio_to_use] - a[ratio_to_use];
        });
      } else {
        this.data.sort(function (a, b) {
          return a[ratio_to_use] - b[ratio_to_use];
        });
      }
      this.current_ids = this.data.map(function (d) {
        return d.id;
      });
      nbFt = this.data.length;
      this.ref_value = this.data.find(function (ft) {
        return ft.id === app.current_config.my_region;
      })[ratio_to_use];
      this.x.domain(this.current_ids);
      var min_serie = d3.min(this.data, function (d) {
        return d[ratio_to_use];
      });
      var max_serie = d3.max(this.data, function (d) {
        return d[ratio_to_use];
      });
      var offset_y = (max_serie - min_serie) / 20;
      this.y.domain([min_serie - offset_y, max_serie]);
      this.x2.domain(this.x.domain());
      this.y2.domain(this.y.domain());
      this.updateMeanValue();
      this.update();
      this.updateContext(0, this.data.length);

      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.map_elem.removeRectBrush();
      app.colors = {};
      app.colors[app.current_config.my_region] = color_highlight;
      this.updateTableStats();
      this.updateMapRegio();
    }
  }, {
    key: 'addVariable',
    value: function addVariable$$1(code_variable, name_variable) {
      // Add the variable to the input element allowing to choose variables:
      this.selec_var.append('option').attr('value', code_variable).text(name_variable);

      // And use it immediatly:
      this.selec_var.node().value = code_variable;
      this.selec_var.dispatch('change');
    }
  }, {
    key: 'removeVariable',
    value: function removeVariable$$1(code_variable) {
      // Add the variable to the input element allowing to choose variables:
      this.selec_var.select('option[value=' + code_variable + ']').remove();
      if (this.ratio_to_use === code_variable) {
        this.selec_var.node().value = this.selec_var.select('option').node().value;
        this.selec_var.dispatch('change');
      }
    }
  }, {
    key: 'changeVariable',
    value: function changeVariable(code_variable) {
      this.ratio_to_use = code_variable;
    }
  }, {
    key: 'remove',
    value: function remove() {
      this._focus.remove();
      this.context.remove();
      this.selec_var.remove();
      this.table_stats.remove();
      this.table_stats = null;
      this.map_elem.unbindBrush();
      this.map_elem = null;
      svg_bar.html('');
    }
  }, {
    key: 'bindMap',
    value: function bindMap(map_elem) {
      this.map_elem = map_elem;
      this.map_elem.resetColors(this.current_ids);
    }
  }, {
    key: 'updateTableStats',
    value: function updateTableStats() {
      this.table_stats.removeAll();
      this.table_stats.addFeature(this.prepareTableStat());
    }
  }, {
    key: 'prepareTableStat',
    value: function prepareTableStat() {
      var _this8 = this;

      var values = this.data.map(function (d) {
        return d[_this8.ratio_to_use];
      });
      return {
        Min: d3.min(values),
        Max: d3.max(values),
        Moyenne: d3.mean(values),
        id: this.ratio_to_use,
        Variable: this.ratio_to_use,
        'Ma région': this.ref_value
      };
    }
  }, {
    key: 'makeTableStat',
    value: function makeTableStat() {
      var feature = this.prepareTableStat();
      this.table_stats = new TableResumeStat([feature]);
    }
  }]);
  return BarChart1;
}();

var svg_bar$1 = d3.select('#svg_bar');
var margin$1 = { top: 20, right: 20, bottom: 40, left: 30 };

var width$1 = +svg_bar$1.attr('width') - margin$1.left - margin$1.right;
var height$1 = +svg_bar$1.attr('height') - margin$1.top - margin$1.bottom;

var BubbleChart1 = function () {
  function BubbleChart1(ref_data) {
    var _this = this;

    classCallCheck(this, BubbleChart1);

    app.current_config.nb_var = 1;
    var self = this;
    var available_ratios = app.current_config.ratio;
    var available_nums = app.current_config.num;
    var ratio_to_use = available_ratios[0];
    var stock_to_use = available_nums[0];
    this.ratio_to_use = ratio_to_use;
    this.stock_to_use = stock_to_use;
    this.data = ref_data.filter(function (ft) {
      return !!ft[ratio_to_use];
    }).slice().sort(function (a, b) {
      return b[stock_to_use] - a[stock_to_use];
    });
    this.current_ids = this.data.map(function (d) {
      return d.id;
    });
    resetColors();
    this.highlight_selection = [];
    this.serie_inversed = false;
    var draw_group = svg_bar$1.append('g').attr('transform', 'translate(' + margin$1.left + ', ' + margin$1.top + ')');
    draw_group.append('g').attrs({ class: 'axis axis--x', transform: 'translate(0, ' + height$1 / 2 + ')' });
    this.draw_group = draw_group;

    // Prepare the tooltip displayed on mouseover:
    prepareTooltip(svg_bar$1);

    // Compute the "complétude" value for this ratio:
    this.completude_value = calcPopCompletudeSubset(app, [this.ratio_to_use]);

    // Create the "complétude" text:
    this.completude = svg_bar$1.append('text').attrs({ id: 'chart_completude', x: 60, y: 40 }).styles({ 'font-family': '\'Signika\', sans-serif' }).text('Compl\xE9tude : ' + this.completude_value + '%');

    // Create the button allowing to choose if the color are inversed (green/red for superior/inferior regions)
    svg_bar$1.append('image').attrs({
      x: width$1 + margin$1.left + 5,
      y: 232.5,
      width: 15,
      height: 15,
      'xlink:href': 'img/reverse_plus.png',
      id: 'img_reverse'
    }).on('click', function () {
      _this.serie_inversed = !_this.serie_inversed;
      _this.applySelection(_this.highlight_selection.length);
    });

    // Create the section containing the input element allowing to chose
    // how many "close" regions we want to highlight.
    var selection_close = d3.select(svg_bar$1.node().parentElement).append('div').attr('id', 'menu_selection').styles({ top: '-100px', 'margin-left': '30px', position: 'relative' }).append('p');

    selection_close.append('span').property('value', 'close').attrs({ value: 'close', class: 'type_selection square checked' });
    selection_close.append('span').attrs({ class: 'label_chk' }).html('Les');
    selection_close.append('input').attrs({ class: 'nb_select', type: 'number' }).property('value', 5);
    selection_close.append('span').attrs({ class: 'label_chk' }).html('régions les plus proches');
    this.my_region_value = this.data.filter(function (d) {
      return d.id === app.current_config.my_region;
    }).map(function (d) {
      return d[ratio_to_use];
    })[0];
    this.feature_order = this.data.map(function (d) {
      return {
        dist: math_abs(d[ratio_to_use] - _this.my_region_value),
        id: d.id
      };
    }).sort(function (a, b) {
      return a.dist - b.dist;
    }).map(function (d) {
      return d.id;
    });
    console.log(this.feature_order);

    this.bindMenu();

    //
    var header_bar_section = d3.select('#header_chart');

    this.selec_var = header_bar_section.insert('select', '#img_table').attrs({ class: 'title_variable' }).styles({
      'font-family': '\'Signika\', sans-serif',
      'font-weight': '800',
      'font-size': '14px',
      'margin-top': '12px',
      'margin-left': '40px',
      float: 'left'
    });

    for (var i = 0, len_i = available_ratios.length; i < len_i; i++) {
      this.selec_var.append('option').attr('value', available_ratios[i]).text(app.current_config.ratio_pretty_name[i]);
    }

    this.selec_var.on('change', function () {
      var code_variable = this.value;
      self.changeVariable(code_variable);
      self.changeStudyZone();
      self.updateCompletude();
    });

    // Deactivate the rect brush selection on the map
    // while the user press the Ctrl key:
    document.onkeydown = function (event) {
      if (event && event.key === 'Control') {
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', 'none');
      }
    };
    // Reactivate the rect brush selection on the map
    // when the user doesn't press the Ctrl key anymore
    document.onkeyup = function (event) {
      if (event && event.key === 'Control') {
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', null);
      }
    };

    this.makeTableStat();
  }

  createClass(BubbleChart1, [{
    key: 'applySelection',
    value: function applySelection(nb) {
      var _this2 = this;

      app.colors = {};
      if (nb > 0) {
        var my_region_value = this.my_region_value;
        var ratio_to_use = this.ratio_to_use;

        this.highlight_selection = this.data.map(function (d) {
          return {
            dist: math_abs(d[ratio_to_use] - my_region_value),
            ratio: d[ratio_to_use],
            id: d.id };
        });

        this.highlight_selection.sort(function (a, b) {
          return a.dist - b.dist;
        });
        this.highlight_selection = this.highlight_selection.slice(1, nb + 1);
        this.highlight_selection.forEach(function (elem) {
          app.colors[elem.id] = comp(elem.ratio, my_region_value, _this2.serie_inversed);
        });
      } else {
        this.highlight_selection = [];
      }
      app.colors[app.current_config.my_region] = color_highlight;
      this.update();
      this.updateMapRegio();
    }
  }, {
    key: 'update',
    value: function update() {
      var self = this;
      var data = self.data;
      var highlight_selection = self.highlight_selection;
      var my_region_value = self.my_region_value;
      var ratio_to_use = self.ratio_to_use;
      var stock_to_use = self.stock_to_use;

      var _min = void 0;
      var _max = void 0;
      if (highlight_selection.length > 0) {
        var dist_min = my_region_value - d3.min(highlight_selection, function (d) {
          return d.ratio;
        });
        var dist_max = d3.max(highlight_selection, function (d) {
          return d.ratio;
        }) - my_region_value;
        var dist_axis = Math.max(dist_min, dist_max);
        var margin_min_max = math_round(dist_axis) / 8;
        _min = my_region_value - dist_axis - margin_min_max;
        _max = my_region_value + dist_axis + margin_min_max;
        if (_min > _max) {
          console.log('a');var _ref = [_max, _min];
          _min = _ref[0];
          _max = _ref[1];
        }
      } else {
        var _dist_min = my_region_value - d3.min(data, function (d) {
          return d[ratio_to_use];
        });
        var _dist_max = d3.max(data, function (d) {
          return d[ratio_to_use];
        }) - my_region_value;
        var _dist_axis = Math.max(_dist_min, _dist_max);
        var _margin_min_max = math_round(_dist_axis) / 8;
        _min = my_region_value - _dist_axis - _margin_min_max;
        _max = my_region_value + _dist_axis + _margin_min_max;
      }

      var prop_sizer = new PropSizer(d3.max(data, function (d) {
        return d[stock_to_use];
      }), 30);
      var xScale = d3.scaleLinear().domain([_min, _max]).range([0, width$1]);

      this.draw_group.select('g.axis--x').transition().duration(225).call(d3.axisBottom(xScale));

      var bubbles = this.draw_group.selectAll('.bubble').data(data, function (d) {
        return d.id;
      });

      bubbles.transition().duration(225).attrs(function (d) {
        var x_value = xScale(d[ratio_to_use]);
        if (x_value > width$1) x_value = width$1 + 200;else if (x_value < 0) x_value = -200;
        return {
          cx: x_value,
          cy: height$1 / 2,
          r: prop_sizer.scale(d[stock_to_use])
        };
      }).styles(function (d) {
        return {
          fill: app.colors[d.id] || color_countries,
          'fill-opacity': 0.7
        };
      });

      bubbles.enter().insert('circle').styles(function (d) {
        return {
          fill: app.colors[d.id] || color_countries,
          'fill-opacity': 0.7
        };
      }).transition().duration(225).attrs(function (d) {
        var x_value = xScale(d[ratio_to_use]);
        if (x_value > width$1) x_value = width$1 + 200;else if (x_value < 0) x_value = -200;
        return {
          class: 'bubble',
          cx: x_value,
          cy: height$1 / 2,
          r: prop_sizer.scale(d[stock_to_use])
        };
      });

      bubbles.exit().transition().duration(225).remove();

      this.draw_group.selectAll('.bubble').on('mouseover', function () {
        svg_bar$1.select('.tooltip').style('display', null);
      }).on('mouseout', function () {
        svg_bar$1.select('.tooltip').style('display', 'none');
      }).on('mousemove', function (d) {
        var tooltip = svg_bar$1.select('.tooltip');
        var _ratio_to_use = self.ratio_to_use;
        var _stock_to_use = self.stock_to_use;
        tooltip.select('text.id_feature').text('' + d.id);
        tooltip.select('text.value_feature1').text('Ratio: ' + Math.round(d[_ratio_to_use] * 10) / 10);
        tooltip.select('text.value_feature2').text('Stock: ' + Math.round(d[_stock_to_use] * 10) / 10);
        tooltip.attr('transform', 'translate(' + [d3.mouse(this)[0] - 5, d3.mouse(this)[1] - 45] + ')');
      });
    }
  }, {
    key: 'updateCompletude',
    value: function updateCompletude() {
      this.completude_value = calcPopCompletudeSubset(app, [this.ratio_to_use]);

      this.completude.text('Compl\xE9tude : ' + this.completude_value + '%');
    }
  }, {
    key: 'updateMapRegio',
    value: function updateMapRegio() {
      var _this3 = this;

      if (!this.map_elem) return;
      this.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        return _this3.current_ids.indexOf(d.properties[app.current_config.id_field_geom]) > -1 ? app.colors[d.properties[app.current_config.id_field_geom]] || color_countries : color_disabled;
      });
    }
  }, {
    key: 'handle_brush_map',
    value: function handle_brush_map(event) {
      if (!event || !event.selection) {
        this.last_map_selection = undefined;
        return;
      }
      var self = this;

      var _event$selection = slicedToArray(event.selection, 2),
          topleft = _event$selection[0],
          bottomright = _event$selection[1];

      this.last_map_selection = [topleft, bottomright];
      var rect = new Rect(topleft, bottomright);
      var ratio_to_use = this.ratio_to_use;
      app.colors = {};
      self.highlight_selection = [];
      self.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        var id = d.properties[app.current_config.id_field_geom];
        if (id === app.current_config.my_region) {
          app.colors[id] = color_highlight;
          return color_highlight;
        } else if (self.current_ids.indexOf(id) < 0) {
          return color_disabled;
        }
        if (!this._pts) {
          this._pts = svgPathToCoords(this.getAttribute('d'), app.type_path);
        }
        var pts = this._pts;
        for (var ix = 0, nb_pts = pts.length; ix < nb_pts; ix++) {
          if (rect.contains(pts[ix])) {
            var value = d.properties[ratio_to_use];
            var color = comp(value, self.my_region_value, this.serie_inversed);
            app.colors[id] = color;
            self.highlight_selection.push({
              id: id,
              ratio: value,
              dist: math_abs(value - self.my_region_value)
            });
            return color;
          }
        }
        return color_countries;
      });
      this.highlight_selection.sort(function (a, b) {
        return a.dist - b.dist;
      });
      self.update();
    }
  }, {
    key: 'handleClickMap',
    value: function handleClickMap(d, parent) {
      var id = d.properties[app.current_config.id_field_geom];
      if (this.current_ids.indexOf(id) < 0 || id === app.current_config.my_region) return;
      if (app.colors[id] !== undefined) {
        // Remove the clicked feature from the colored selection on the chart:
        var id_to_remove = this.highlight_selection.map(function (ft, i) {
          return ft.id === id ? i : null;
        }).filter(function (ft) {
          return ft;
        });
        this.highlight_selection.splice(id_to_remove, 1);
        // Change its color in the global colors object:
        app.colors[id] = undefined;
        // Change the color on the map:
        d3.select(parent).attr('fill', color_countries);
      } else {
        var value = d.properties[this.ratio_to_use];
        var color = comp(value, this.my_region_value, this.serie_inversed);
        app.colors[id] = color;
        // Change the color on the map:
        d3.select(parent).attr('fill', color);
        // Add the clicked feature on the colored selection on the chart:
        this.highlight_selection.push({
          id: id,
          ratio: value,
          dist: math_abs(value - this.my_region_value)
        });
      }
      this.highlight_selection.sort(function (a, b) {
        return a.dist - b.dist;
      });
      this.update();
    }
  }, {
    key: 'updateChangeRegion',
    value: function updateChangeRegion() {
      if (app.current_config.filter_key !== undefined) {
        this.changeStudyZone();
      } else {
        this.map_elem.removeRectBrush();
        this.map_elem.updateLegend();
        this.my_region_value = this.data.filter(function (d) {
          return d.id === app.current_config.my_region;
        })[0][this.ratio_to_use];
        this.updateTableStats();
        this.applySelection(this.highlight_selection.length);
      }
    }
  }, {
    key: 'changeStudyZone',
    value: function changeStudyZone() {
      var _this4 = this;

      this.map_elem.removeRectBrush();
      this.map_elem.updateLegend();
      this.data = app.current_data.filter(function (ft) {
        return !!ft[_this4.ratio_to_use];
      }).slice().sort(function (a, b) {
        return b[_this4.stock_to_use] - a[_this4.stock_to_use];
      });
      this.current_ids = this.data.map(function (d) {
        return d.id;
      });
      this.my_region_value = this.data.filter(function (d) {
        return d.id === app.current_config.my_region;
      })[0][this.ratio_to_use];
      var temp = this.highlight_selection.length;
      this.highlight_selection = [];
      this.applySelection(temp);
    }
  }, {
    key: 'changeVariable',
    value: function changeVariable(code_variable) {
      this.ratio_to_use = code_variable;
      this.stock_to_use = exports.variables_info.filter(function (d) {
        return d.ratio === code_variable;
      })[0].num;
    }
  }, {
    key: 'addVariable',
    value: function addVariable$$1(code_variable, name_variable) {
      // Add the variable to the input element allowing to choose variables:
      this.selec_var.append('option').attr('value', code_variable).text(name_variable);

      // And use it immediatly:
      this.selec_var.node().value = code_variable;
      this.selec_var.dispatch('change');
    }
  }, {
    key: 'removeVariable',
    value: function removeVariable$$1(code_variable) {
      // Add the variable to the input element allowing to choose variables:
      this.selec_var.select('option[value=' + code_variable + ']').remove();
      if (this.ratio_to_use === code_variable) {
        this.selec_var.node().value = this.selec_var.select('option').node().value;
        this.selec_var.dispatch('change');
      }
    }
  }, {
    key: 'bindMenu',
    value: function bindMenu() {
      var self = this;
      var menu = d3.select('#menu_selection');
      var applychange = function applychange() {
        self.map_elem.removeRectBrush();
        var value = +this.value;
        if (!(value > -1)) {
          this.value = 5;
          value = 5;
        }
        self.applySelection(value);
      };
      menu.select('.nb_select').on('change', applychange);
      menu.select('.nb_select').on('wheel', applychange);
      menu.select('.nb_select').on('keyup', applychange);
    }
  }, {
    key: 'remove',
    value: function remove() {
      this.map_elem.unbindBrush();
      this.map_elem = null;
      this.table_stats.remove();
      this.table_stats = null;
      this.selec_var.remove();
      svg_bar$1.html('');
    }
  }, {
    key: 'bindMap',
    value: function bindMap(map_elem) {
      this.map_elem = map_elem;
      this.map_elem.resetColors(this.current_ids);
      d3.select('#menu_selection').select('.nb_select').dispatch('change');
    }
  }, {
    key: 'updateTableStats',
    value: function updateTableStats() {
      this.table_stats.removeAll();
      this.table_stats.addFeature(this.prepareTableStat());
    }
  }, {
    key: 'prepareTableStat',
    value: function prepareTableStat() {
      var _this5 = this;

      var values = this.data.map(function (d) {
        return d[_this5.ratio_to_use];
      });
      return {
        Min: d3.min(values),
        Max: d3.max(values),
        Moyenne: d3.mean(values),
        id: this.ratio_to_use,
        Variable: this.ratio_to_use,
        'Ma région': this.my_region_value
      };
    }
  }, {
    key: 'makeTableStat',
    value: function makeTableStat() {
      var feature = this.prepareTableStat();
      this.table_stats = new TableResumeStat([feature]);
    }
  }]);
  return BubbleChart1;
}();

var contextMenu = function () {
  function contextMenu(items) {
    classCallCheck(this, contextMenu);

    if (items) {
      this.setItems(items);
    } else {
      this.items = [];
    }
  }

  createClass(contextMenu, [{
    key: 'addItem',
    value: function addItem(item) {
      this.items.push({
        name: item.name,
        action: item.action
      });
    }
  }, {
    key: 'removeItem',
    value: function removeItem(name) {
      for (var i = this.items.length - 1; i > 0; i--) {
        if (this.items[i].name === name) {
          this.items.splice(i, 1);
          break;
        }
      }
    }
  }, {
    key: 'setItems',
    value: function setItems(items) {
      this.items = [];
      for (var i = 0, nb_items = items.length; i < nb_items; i++) {
        if (items[i].name && items[i].action) {
          this.addItem(items[i]);
        }
      }
    }
  }, {
    key: 'showMenu',
    value: function showMenu(event, parent, items, position) {
      var _this = this;

      if (event.preventDefault) event.preventDefault();
      if (event.stopPropagation) event.stopPropagation();
      if (this.DOMobj) {
        this.hideMenu();
        return;
      }
      if (items) {
        this.setItems(items);
      }

      this.initMenu(parent);
      if (!position) {
        this.DOMobj.style.top = event.clientY + document.body.scrollTop + 'px';
        this.DOMobj.style.left = event.clientX + 'px';
      } else {
        this.DOMobj.style.top = position[1] + 'px';
        this.DOMobj.style.left = position[0] + 'px';
      }
      this.displayed = true;
      setTimeout(function () {
        document.addEventListener('click', function () {
          return _this.hideMenu();
        });
      }, 150);
    }
  }, {
    key: 'hideMenu',
    value: function hideMenu() {
      if (this.DOMobj && this.DOMobj.parentElement && this.DOMobj.parentElement.removeChild) {
        this.DOMobj.parentElement.removeChild(this.DOMobj);
        this.DOMobj = null;
      }
      this.displayed = false;
      document.removeEventListener('click', this.hideMenu);
    }
  }, {
    key: 'initMenu',
    value: function initMenu(parent) {
      if (this.DOMobj && this.DOMobj.parentElement && this.DOMobj.parentElement.removeChild) {
        this.DOMobj.parentElement.removeChild(this.DOMobj);
        this.DOMobj = null;
      }
      var self = this;
      var menu = document.createElement('div');
      var list = document.createElement('ul');
      menu.className = 'context-menu';
      menu.appendChild(list);
      for (var i = 0, nb_item = this.items.length; i < nb_item; i++) {
        var item = document.createElement('li');
        item.setAttribute('data-index', i);
        item.innerHTML = '<span class="context-menu-item-name">' + this.items[i].name + '</span>';
        list.appendChild(item);
        item.onclick = function () {
          var ix = this.getAttribute('data-index');
          self.items[ix].action();
        };
      }
      this.DOMobj = menu;
      parent.appendChild(menu);
    }
  }]);
  return contextMenu;
}();

var svg_bar$2 = d3.select('#svg_bar');
var margin$2 = { top: 20, right: 20, bottom: 40, left: 40 };

var width$2 = +svg_bar$2.attr('width') - margin$2.left - margin$2.right;
var height$2 = +svg_bar$2.attr('height') - margin$2.top - margin$2.bottom;

/** Class representing a scatterplot */
var ScatterPlot2 = function () {
  /**
   * Create a the scatterplot on the `svg_bar` svg element previously defined
   * @param {Array} ref_data - A reference to the subset of the dataset to be used
   * to create the scatterplot (should contain at least two field flagged as ratio
   * in the `app.current_config.ratio` Object.
   */
  function ScatterPlot2(ref_data) {
    var _this = this;

    classCallCheck(this, ScatterPlot2);

    this.brushed = function () {
      if (d3.event && !d3.event.selection) {
        if (d3.event.type === 'end' && d3.event.sourceEvent.type === 'mouseup') {
          _this.map_elem.removeRectBrush();
        }
        app.colors = {};
        app.colors[app.current_config.my_region] = color_highlight;
        _this.update();
        _this.updateMapRegio();
        return;
      }

      resetColors();
      var self = _this;

      var _d3$event$selection = slicedToArray(d3.event.selection, 2),
          topleft = _d3$event$selection[0],
          bottomright = _d3$event$selection[1];

      var range_x = [_this.x.invert(topleft[0]), _this.x.invert(bottomright[0])];
      var range_y = [_this.y.invert(bottomright[1]), _this.y.invert(topleft[1])];
      var t1 = _this.rank_variable1;
      var t2 = _this.rank_variable2;
      _this.data.filter(function (ft) {
        return ft[t1] > range_x[0] && ft[t1] < range_x[1] && ft[t2] > range_y[0] && ft[t2] < range_y[1];
      }).forEach(function (ft) {
        app.colors[ft.id] = comp2(ft[_this.variable1], ft[_this.variable2], self.ref_value1, self.ref_value2, self.xInversed, self.yInversed);
      });
      app.colors[app.current_config.my_region] = color_highlight;
      _this.update();
      _this.updateMapRegio();
      _this.map_elem.removeRectBrush();
    };
    app.current_config.nb_var = 2;
    var self = this;
    this.variable1 = app.current_config.ratio[0];
    this.variable2 = app.current_config.ratio[1];
    this.rank_variable1 = 'pr_' + this.variable1;
    this.rank_variable2 = 'pr_' + this.variable2;
    this.pretty_name1 = app.current_config.ratio_pretty_name[0];
    this.pretty_name2 = app.current_config.ratio_pretty_name[1];
    this.data = ref_data.filter(function (ft) {
      return !!ft[_this.variable1] && !!ft[_this.variable2];
    }).map(function (d) {
      var res = { id: d.id };
      res[_this.variable1] = d[_this.variable1];
      res[_this.variable2] = d[_this.variable2];
      return res;
    });
    this.current_ids = this.data.map(function (d) {
      return d.id;
    });
    resetColors(this.current_ids);
    this.nbFt = this.data.length;
    computePercentileRank(this.data, this.variable1, this.rank_variable1);
    computePercentileRank(this.data, this.variable2, this.rank_variable2);

    this.x = d3.scaleLinear().range([0, width$2]).nice();
    this.y = d3.scaleLinear().range([height$2, 0]).nice();
    this.xAxis = d3.axisBottom(this.x).ticks(12);
    this.yAxis = d3.axisLeft(this.y).ticks(12 * height$2 / width$2);
    this.xAxis2 = d3.axisBottom(this.x).ticks(12);
    this.yAxis2 = d3.axisLeft(this.y).ticks(12 * height$2 / width$2);

    this.brush = d3.brush().extent([[0, 0], [width$2, height$2]]).on("brush end", this.brushed);

    this.xInversed = false;
    this.yInversed = false;
    this.ref_value1 = this.data.find(function (d) {
      return d.id === app.current_config.my_region;
    })[this.variable1];
    this.ref_value2 = this.data.find(function (d) {
      return d.id === app.current_config.my_region;
    })[this.variable2];

    this.plot = svg_bar$2.append('g').attr('transform', 'translate(' + [margin$2.left, margin$2.top] + ')');

    this.plot.append('defs').append('svg:clipPath').attr('id', 'clip').append('svg:rect').attrs({
      width: width$2,
      height: height$2,
      x: 0,
      y: 0
    });

    this.scatter = this.plot.append('g').attr('id', 'scatterplot').attr('clip-path', 'url(#clip)');

    this.x.domain(d3.extent(this.data, function (d) {
      return d[_this.rank_variable1];
    })).nice();
    this.y.domain(d3.extent(this.data, function (d) {
      return d[_this.rank_variable2];
    })).nice();
    this.mean_variable1 = _getPR(d3.mean(this.data.map(function (d) {
      return d[_this.variable1];
    })), this.data.map(function (d) {
      return d[_this.variable1];
    }));
    this.mean_variable2 = _getPR(d3.mean(this.data.map(function (d) {
      return d[_this.variable2];
    })), this.data.map(function (d) {
      return d[_this.variable2];
    }));

    this.makeGrid();

    var groupe_line_mean = this.plot.append('g').attr('clip-path', 'url(#clip)').attr('class', 'mean');
    groupe_line_mean.append('line').attr('clip-path', 'url(#clip)').attrs({
      id: 'mean_x',
      x1: this.x(this.mean_variable1),
      x2: this.x(this.mean_variable1),
      y1: 0,
      y2: width$2,
      'stroke-dasharray': '10, 5',
      'stroke-width': '2px'
    }).style('stroke', 'red');
    groupe_line_mean.append('line').style('stroke', 'red').attrs({
      id: 'mean_y',
      x1: 0,
      x2: width$2,
      y1: this.y(this.mean_variable2),
      y2: this.y(this.mean_variable2),
      'clip-path': 'url(#clip)',
      'stroke-dasharray': '10, 5',
      'stroke-width': '2px'
    });

    this.plot.append('g').attrs({
      class: 'x axis', id: 'axis--x', transform: 'translate(0, ' + height$2 + ')'
    }).call(this.xAxis);

    this.plot.append('g').attrs({ class: 'y axis', id: 'axis--y', opacity: 0.9 }).call(this.yAxis);

    this.prepareTitleAxis();

    svg_bar$2.append('image').attrs({
      x: margin$2.left + width$2 / 2 - 20 - svg_bar$2.select('#title-axis-x').node().getBoundingClientRect().width / 2,
      y: margin$2.top + height$2 + margin$2.bottom / 2 - 2.5,
      width: 15,
      height: 15,
      'xlink:href': 'img/reverse_plus.png',
      id: 'img_reverse_x'
    }).on('click', function () {
      _this.xInversed = !_this.xInversed;
      for (var i = 0; i < _this.nbFt; i++) {
        self.data[i][self.rank_variable1] = 100 - self.data[i][self.rank_variable1];
      }
      if (_this.last_map_selection) {
        _this.map_elem.callBrush(_this.last_map_selection);
      } else {
        _this.update();
      }
    });

    svg_bar$2.append('image').attrs({
      x: margin$2.left / 2 - 20,
      y: margin$2.top + height$2 / 2 + svg_bar$2.select('#title-axis-y').node().getBoundingClientRect().height / 2 + 5,
      width: 15,
      height: 15,
      'xlink:href': 'img/reverse_plus.png',
      id: 'img_reverse_y'
    }).on('click', function () {
      _this.yInversed = !_this.yInversed;
      for (var i = 0; i < _this.nbFt; i++) {
        _this.data[i][_this.rank_variable2] = 100 - _this.data[i][_this.rank_variable2];
      }
      if (_this.last_map_selection) {
        _this.map_elem.callBrush(_this.last_map_selection);
      } else {
        _this.update();
      }
    });

    // Prepare the tooltip displayed on mouseover:
    prepareTooltip(svg_bar$2);

    // Compute the "complétude" value for this ratio:
    this.completude_value = calcPopCompletudeSubset(app, [this.variable1, this.variable2]);

    // Create the "complétude" text:
    this.completude = svg_bar$2.append('text').attrs({ id: 'chart_completude', x: 60, y: 40 }).styles({ 'font-family': '\'Signika\', sans-serif' }).text('Compl\xE9tude : ' + this.completude_value + '%');

    this.plot.append("g").attr("class", "brush").call(this.brush);

    // Deactivate the rect brush selection on the map
    // while the user press the Ctrl key:
    document.onkeydown = function (event) {
      if (event && event.key === 'Control') {
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', 'none');
      }
    };
    // Reactivate the rect brush selection on the map
    // when the user doesn't press the Ctrl key anymore
    document.onkeyup = function (event) {
      if (event && event.key === 'Control') {
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', null);
      }
    };
    // this.update();
    this.makeTableStat();
  }

  /**
   * Create the underlying grey grid
   */


  createClass(ScatterPlot2, [{
    key: 'makeGrid',
    value: function makeGrid() {
      this.plot.insert('g', '#scatterplot').attrs({
        class: 'grid grid-x', transform: 'translate(0, ' + height$2 + ')'
      }).call(this.xAxis2.tickSize(-height$2).tickFormat(''));
      this.plot.insert('g', '#scatterplot').attr('class', 'grid grid-y').call(this.yAxis2.tickSize(-width$2).tickFormat(''));
      this.plot.selectAll('.grid').selectAll('line').attr('stroke', 'lightgray');
    }

    /**
     * Create the title of the X and Y axis with the associated context menu
     * displayed when they are clicked and allowing to select an other variable
     * for this axis.
     */

  }, {
    key: 'prepareTitleAxis',
    value: function prepareTitleAxis() {
      var _this2 = this;

      var self = this;
      this.menuX = new contextMenu();
      this.menuY = new contextMenu();
      this.itemsX = app.current_config.ratio.filter(function (elem) {
        return elem !== _this2.variable2;
      }).map(function (elem) {
        return {
          name: elem,
          action: function action() {
            return _this2.changeVariableX(elem);
          }
        };
      });
      this.itemsY = app.current_config.ratio.filter(function (elem) {
        return elem !== _this2.variable1;
      }).map(function (elem) {
        return {
          name: elem,
          action: function action() {
            return _this2.changeVariableY(elem);
          }
        };
      });

      svg_bar$2.append('text').attrs({
        id: 'title-axis-x',
        x: margin$2.left + width$2 / 2,
        y: margin$2.top + height$2 + margin$2.bottom / 2 + 10
      }).styles({ 'font-family': 'sans-serif', 'font-size': '12px', 'text-anchor': 'middle' }).text(this.variable1).on('click', function () {
        var bbox = this.getBoundingClientRect();
        if (self.menuY.displayed) {
          self.menuY.hideMenu();
        }
        self.menuX.showMenu(d3.event, document.body, self.itemsX, [bbox.left - 20, bbox.top + 20]);
      });

      svg_bar$2.append('text').attrs({
        id: 'title-axis-y',
        x: margin$2.left / 2,
        y: margin$2.top + height$2 / 2 - 10,
        transform: 'rotate(-90, ' + margin$2.left / 2 + ', ' + (margin$2.top + height$2 / 2) + ')'
      }).styles({ 'font-family': 'sans-serif', 'font-size': '12px', 'text-anchor': 'middle' }).text(this.variable2).on('click', function () {
        var bbox = this.getBoundingClientRect();
        if (self.menuX.displayed) {
          self.menuX.hideMenu();
        }
        self.menuY.showMenu(d3.event, document.body, self.itemsY, [bbox.left, bbox.bottom + 10]);
      });
    }
  }, {
    key: 'update',
    value: function update() {
      var self = this;
      var data = self.data;
      var rank_variable1 = this.rank_variable1;
      var rank_variable2 = this.rank_variable2;
      var x = this.x;
      var y = this.y;
      var default_color = 'gray';
      var dots = this.scatter.selectAll('.dot').data(data, function (d) {
        return d.id;
      });

      dots.transition().duration(225).attrs(function (d) {
        return {
          r: 5,
          cx: x(d[rank_variable1]),
          cy: y(d[rank_variable2])
        };
      }).styles(function (d) {
        return {
          fill: app.colors[d.id] || default_color
        };
      });

      dots.enter().insert('circle').styles(function (d) {
        return {
          fill: app.colors[d.id] || default_color
        };
      }).transition().duration(225).attrs(function (d) {
        return {
          r: 5,
          cx: x(d[rank_variable1]),
          cy: y(d[rank_variable2]),
          class: 'dot'
        };
      });

      dots.exit().transition().duration(225).remove();

      dots.on('mouseover', function () {
        svg_bar$2.select('.tooltip').style('display', null);
      }).on('mouseout', function () {
        svg_bar$2.select('.tooltip').style('display', 'none');
      }).on('mousemove', function (d) {
        var tooltip = svg_bar$2.select('.tooltip');
        var _var1 = self.variable1;
        var _var2 = self.variable2;
        tooltip.select('text.id_feature').text('' + d.id);
        tooltip.select('text.value_feature1').text('Variable 1 : ' + Math.round(d[_var1] * 10) / 10);
        tooltip.select('text.value_feature2').text('Variable 2 : ' + Math.round(d[_var2] * 10) / 10);
        tooltip.attr('transform', 'translate(' + [d3.mouse(this)[0] - 5, d3.mouse(this)[1] - 45] + ')');
      });
    }
  }, {
    key: 'updateCompletude',
    value: function updateCompletude() {
      this.completude_value = calcPopCompletudeSubset(app, [this.variable1, this.variable2]);

      this.completude.text('Compl\xE9tude : ' + this.completude_value + '%');
    }
  }, {
    key: 'updateMapRegio',
    value: function updateMapRegio() {
      var _this3 = this;

      if (!this.map_elem) return;
      this.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        return _this3.current_ids.indexOf(d.properties[app.current_config.id_field_geom]) > -1 ? app.colors[d.properties[app.current_config.id_field_geom]] || color_countries : color_disabled;
      });
    }
  }, {
    key: 'handle_brush_map',
    value: function handle_brush_map(event) {
      if (!event || !event.selection) {
        this.last_map_selection = undefined;
        return;
      }
      svg_bar$2.select('.brush').call(this.brush.move, null);
      var self = this;

      var _event$selection = slicedToArray(event.selection, 2),
          topleft = _event$selection[0],
          bottomright = _event$selection[1];

      this.last_map_selection = [topleft, bottomright];
      var rect = new Rect(topleft, bottomright);
      app.colors = {};
      self.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        var id = d.properties[app.current_config.id_field_geom];
        if (id === app.current_config.my_region) {
          app.colors[id] = color_highlight;
          return color_highlight;
        } else if (self.current_ids.indexOf(id) < 0) {
          return color_disabled;
        }
        if (!this._pts) {
          this._pts = svgPathToCoords(this.getAttribute('d'), app.type_path);
        }
        var pts = this._pts;
        for (var ix = 0, nb_pts = pts.length; ix < nb_pts; ix++) {
          if (rect.contains(pts[ix])) {
            var value1 = d.properties[self.variable1];
            var value2 = d.properties[self.variable2];
            var color = comp2(value1, value2, self.ref_value1, self.ref_value2, self.xInversed, self.yInversed);
            app.colors[id] = color;
            return color;
          }
        }
        return color_countries;
      });
      self.update();
    }
  }, {
    key: 'handleClickMap',
    value: function handleClickMap(d, parent) {
      var id = d.properties[app.current_config.id_field_geom];
      if (this.current_ids.indexOf(id) < 0 || id === app.current_config.my_region) return;
      if (app.colors[id] !== undefined) {
        // Change its color in the global colors object:
        app.colors[id] = undefined;
        // Change the color on the map:
        d3.select(parent).attr('fill', color_countries);
      } else {
        var value1 = d.properties[this.variable1];
        var value2 = d.properties[this.variable2];
        var color = comp2(value1, value2, this.ref_value1, this.ref_value2, this.xInversed, this.yInversed);
        app.colors[id] = color;
        // Change the color on the map:
        d3.select(parent).attr('fill', color);
        // Add the clicked feature on the colored selection on the chart:
      }
      this.update();
    }
  }, {
    key: 'updateMeanValue',
    value: function updateMeanValue() {
      var _this4 = this;

      this.mean_variable1 = _getPR(d3.mean(this.data.map(function (d) {
        return d[_this4.variable1];
      })), this.data.map(function (d) {
        return d[_this4.variable1];
      }));
      this.mean_variable2 = _getPR(d3.mean(this.data.map(function (d) {
        return d[_this4.variable2];
      })), this.data.map(function (d) {
        return d[_this4.variable2];
      }));
      var grp_mean = this.plot.select('g.mean');
      grp_mean.select('#mean_x').transition().duration(225).attrs({
        x1: this.x(this.mean_variable1),
        x2: this.x(this.mean_variable1)
      });
      grp_mean.select('#mean_y').transition().duration(225).attrs({
        y1: this.y(this.mean_variable2),
        y2: this.y(this.mean_variable2)
      });
    }
  }, {
    key: 'updateChangeRegion',
    value: function updateChangeRegion() {
      if (app.current_config.filter_key !== undefined) {
        this.changeStudyZone();
      } else {
        this.ref_value1 = this.data.find(function (d) {
          return d.id === app.current_config.my_region;
        })[this.variable1];
        this.ref_value2 = this.data.find(function (d) {
          return d.id === app.current_config.my_region;
        })[this.variable2];
        this.map_elem.removeRectBrush();
        this.map_elem.updateLegend();
        this.map_elem.resetColors(this.current_ids);
        this.update();
      }
    }
  }, {
    key: 'changeStudyZone',
    value: function changeStudyZone() {
      var _this5 = this;

      this.data = app.current_data.filter(function (ft) {
        return !!ft[_this5.variable1] && !!ft[_this5.variable2];
      }).map(function (d) {
        var res = { id: d.id };
        res[_this5.variable1] = d[_this5.variable1];
        res[_this5.variable2] = d[_this5.variable2];
        return res;
      });
      this.current_ids = this.data.map(function (d) {
        return d.id;
      });
      resetColors();
      this.nbFt = this.data.length;
      computePercentileRank(this.data, this.variable1, this.rank_variable1);
      computePercentileRank(this.data, this.variable2, this.rank_variable2);

      this.xInversed = false;
      this.yInversed = false;
      var tmp_my_region = this.data.filter(function (d) {
        return d.id === app.current_config.my_region;
      })[0];
      this.ref_value1 = tmp_my_region[this.variable1];
      this.ref_value2 = tmp_my_region[this.variable2];

      this.x.domain(d3.extent(this.data, function (d) {
        return d[_this5.rank_variable1];
      })).nice();
      this.y.domain(d3.extent(this.data, function (d) {
        return d[_this5.rank_variable2];
      })).nice();
      this.map_elem.removeRectBrush();
      this.updateItemsCtxMenu();
      this.updateMeanValue();
      this.updateMapRegio();
      this.updateTableStat();
      this.update();
    }
  }, {
    key: 'changeVariableX',
    value: function changeVariableX(code_variable) {
      var _this6 = this;

      this.variable1 = code_variable;
      this.rank_variable1 = 'pr_' + this.variable1;
      this.pretty_name1 = exports.variables_info.find(function (ft) {
        return ft.ratio === code_variable;
      }).name;
      svg_bar$2.select('#title-axis-x').text(code_variable);
      // TODO: Also change the position of the button alowing to inverse the serie
      this.updateItemsCtxMenu();
      this.data = app.current_data.filter(function (ft) {
        return !!ft[_this6.variable1] && !!ft[_this6.variable2];
      }).map(function (d) {
        var res = { id: d.id };
        res[_this6.variable1] = d[_this6.variable1];
        res[_this6.variable2] = d[_this6.variable2];
        return res;
      });
      this.current_ids = this.data.map(function (d) {
        return d.id;
      });
      resetColors();
      this.nbFt = this.data.length;
      computePercentileRank(this.data, this.variable1, this.rank_variable1);
      computePercentileRank(this.data, this.variable2, this.rank_variable2);
      this.ref_value1 = this.data.find(function (d) {
        return d.id === app.current_config.my_region;
      })[this.variable1];
      this.x.domain(d3.extent(this.data, function (d) {
        return d[_this6.rank_variable1];
      })).nice();
      // this.y.domain(d3.extent(this.data, d => d[this.rank_variable2])).nice();
      this.updateMeanValue();
      this.updateMapRegio();
      this.updateTableStat();
      this.update();
    }
  }, {
    key: 'changeVariableY',
    value: function changeVariableY(code_variable) {
      var _this7 = this;

      this.variable2 = code_variable;
      this.rank_variable2 = 'pr_' + this.variable2;
      this.pretty_name2 = exports.variables_info.find(function (ft) {
        return ft.ratio === code_variable;
      }).name;
      svg_bar$2.select('#title-axis-y').text(code_variable);
      // TODO: Also change the position of the button alowing to inverse the serie
      this.updateItemsCtxMenu();
      this.data = app.current_data.filter(function (ft) {
        return !!ft[_this7.variable1] && !!ft[_this7.variable2];
      }).map(function (d) {
        var res = { id: d.id };
        res[_this7.variable1] = d[_this7.variable1];
        res[_this7.variable2] = d[_this7.variable2];
        return res;
      });
      this.current_ids = this.data.map(function (d) {
        return d.id;
      });
      resetColors();
      this.nbFt = this.data.length;
      computePercentileRank(this.data, this.variable1, this.rank_variable1);
      computePercentileRank(this.data, this.variable2, this.rank_variable2);
      this.ref_value2 = this.data.find(function (d) {
        return d.id === app.current_config.my_region;
      })[this.variable2];
      // this.x.domain(d3.extent(this.data, d => d[this.rank_variable1])).nice();
      this.y.domain(d3.extent(this.data, function (d) {
        return d[_this7.rank_variable2];
      })).nice();
      this.updateMeanValue();
      this.updateMapRegio();
      this.updateTableStat();
      this.update();
    }
  }, {
    key: 'updateItemsCtxMenu',
    value: function updateItemsCtxMenu() {
      var _this8 = this;

      this.itemsX = app.current_config.ratio.filter(function (elem) {
        return elem !== _this8.variable2;
      }).map(function (elem) {
        return {
          name: elem,
          action: function action() {
            return _this8.changeVariableX(elem);
          }
        };
      });
      this.itemsY = app.current_config.ratio.filter(function (elem) {
        return elem !== _this8.variable1;
      }).map(function (elem) {
        return {
          name: elem,
          action: function action() {
            return _this8.changeVariableY(elem);
          }
        };
      });
    }
  }, {
    key: 'addVariable',
    value: function addVariable$$1(code_variable, name_variable) {
      var _this9 = this;

      this.itemsX.push({
        name: code_variable,
        action: function action() {
          return _this9.changeVariableX(code_variable);
        }
      });
      this.itemsY.push({
        name: code_variable,
        action: function action() {
          return _this9.changeVariableY(code_variable);
        }
      });
    }
  }, {
    key: 'removeVariable',
    value: function removeVariable$$1(code_variable) {
      var _this10 = this;

      // Remove the variable from the X and Y list of items:
      for (var i = this.itemsX.length - 1; i > -1; i--) {
        if (this.itemsX[i].name === code_variable) {
          this.itemsX.splice(i, 1);
          break;
        }
      }
      for (var _i = this.itemsY.length - 1; _i > -1; _i--) {
        if (this.itemsY[_i].name === code_variable) {
          this.itemsY.splice(_i, 1);
          break;
        }
      }

      // If the variable to remove was currently used for drawing this chart,
      // set a new variable for this axis and redraw the chart:
      if (code_variable === this.variable1) {
        var new_var_x = this.itemsX.filter(function (ft) {
          return ft.name !== _this10.variable2;
        })[0].name;
        this.changeVariableX(new_var_x);
      } else if (code_variable === this.variable2) {
        var new_var_y = this.itemsY.filter(function (ft) {
          return ft.name !== _this10.variable1;
        })[0].name;
        this.changeVariableY(new_var_y);
      }
    }
  }, {
    key: 'remove',
    value: function remove() {
      this.table_stats.remove();
      this.map_elem.unbindBrush();
      this.map_elem = null;
      svg_bar$2.html('');
    }
  }, {
    key: 'bindMap',
    value: function bindMap(map_elem) {
      this.map_elem = map_elem;
      this.updateMapRegio();
      this.update();
    }
  }, {
    key: 'prepareTableStat',
    value: function prepareTableStat() {
      var _this11 = this;

      var values1 = this.data.map(function (d) {
        return d[_this11.variable1];
      });
      var values2 = this.data.map(function (d) {
        return d[_this11.variable2];
      });
      var features = [{
        Min: d3.min(values1),
        Max: d3.max(values1),
        Moyenne: d3.mean(values1),
        id: this.variable1,
        Variable: this.variable1,
        'Ma région': this.ref_value1
      }, {
        Min: d3.min(values2),
        Max: d3.max(values2),
        Moyenne: d3.mean(values2),
        id: this.variable2,
        Variable: this.variable2,
        'Ma région': this.ref_value2
      }];
      return features;
    }
  }, {
    key: 'updateTableStat',
    value: function updateTableStat() {
      this.table_stats.removeAll();
      this.table_stats.addFeatures(this.prepareTableStat());
    }
  }, {
    key: 'makeTableStat',
    value: function makeTableStat() {
      var features = this.prepareTableStat();
      this.table_stats = new TableResumeStat(features);
    }
  }]);
  return ScatterPlot2;
}();

var svg_bar$3 = d3.select('#svg_bar');
var margin$3 = { top: 70, right: 70, bottom: 70, left: 70 };

var width$3 = +svg_bar$3.attr('width') - margin$3.left - margin$3.right;
var height$3 = +svg_bar$3.attr('height') - margin$3.top - margin$3.bottom;

var wrap = function wrap(_text, width) {
  _text.each(function () {
    var text = d3.select(this),
        words = text.text().split(/\s+/).reverse(),
        lineHeight = 1.4,
        // ems
    y = text.attr('y'),
        x = text.attr('x'),
        dy = parseFloat(text.attr('dy'));
    var line = [],
        lineNumber = 0;
    var tspan = text.text(null).append('tspan').attr('x', x).attr('y', y).attr('dy', dy + 'em');
    var word = words.pop();
    while (word) {
      line.push(word);
      tspan.text(line.join(' '));
      if (tspan.node().getComputedTextLength() > width) {
        line.pop();
        tspan.text(line.join(' '));
        line = [word];
        tspan = text.append('tspan').attr('x', x).attr('y', y).attr('dy', ++lineNumber * lineHeight + dy + 'em').text(word);
      }
      word = words.pop();
    }
  });
};

var move = function move(array, from, to) {
  array.splice(to, 0, array.splice(from, 1)[0]);
  return array;
};

var swap = function swap(array, ix1, ix2) {
  // eslint-disable-line no-param-reassign
  var _ref = [array[ix2], array[ix1]];
  array[ix1] = _ref[0];
  array[ix2] = _ref[1];
  return array;
};

var prepare_data_radar_default = function prepare_data_radar_default(data, variables) {
  var features = [];
  // Prepare the data for "My Région":
  var v_my_region = data.find(function (d) {
    return d.id === app.current_config.my_region;
  });
  var ojb_my_region = {
    name: app.current_config.my_region,
    axes: []
  };
  variables.forEach(function (v) {
    var t = exports.variables_info.find(function (d) {
      return d.ratio === v;
    }).name;
    var _v = 'pr_' + v;
    ojb_my_region.axes.push({
      axis: t, value: v_my_region[_v]
    });
  });
  features.push(ojb_my_region);
  var obj_mean = {
    name: 'Moyenne du contexte d\'étude',
    axes: []
  };
  variables.forEach(function (v) {
    var t = exports.variables_info.find(function (d) {
      return d.ratio === v;
    }).name;
    var _v = 'pr_' + v;
    obj_mean.axes.push({
      axis: t,
      value: _getPR(d3.mean(data.map(function (d) {
        return d[_v];
      })), data.map(function (d) {
        return d[_v];
      }))
    });
  });
  features.push(obj_mean);
  return features;
};

var prepare_data_radar_ft = function prepare_data_radar_ft(data, variables, ft) {
  var ft_values = data.find(function (d) {
    return d.id === ft;
  });
  var obj = {
    name: ft,
    axes: []
  };
  variables.forEach(function (v) {
    var t = exports.variables_info.find(function (d) {
      return d.ratio === v;
    }).name;
    var _v = 'pr_' + v;
    obj.axes.push({
      axis: t, value: ft_values[_v]
    });
  });
  return obj;
};

var RadarChart3 = function () {
  function RadarChart3(data, options) {
    var _this = this;

    classCallCheck(this, RadarChart3);

    var cfg = {
      w: width$3, // Width of the circle
      h: height$3, // Height of the circle
      margin: margin$3, // The margins of the SVG
      levels: 10, // How many levels or inner circles should there be drawn
      maxValue: 100, // What is the value that the biggest circle will represent
      labelFactor: 1.3, // How much farther than the radius of the outer circle should the labels be placed
      wrapWidth: 85, // The number of pixels after which a label needs to be given a new line
      opacityArea: 0.35, // The opacity of the area of the blob
      dotRadius: 4, // The size of the colored circles of each blog
      opacityCircles: 0.1, // The opacity of the circles of each blob
      strokeWidth: 2, // The width of the stroke around each blob
      roundStrokes: false, // If true the area and stroke will follow a round path (cardinal-closed)
      color: d3.scaleOrdinal(d3.schemeCategory10), // Color function,
      format: '.2', // The format string to be used by d3.format
      unit: '%', // The unit to display after the number on the axis and point tooltips (like $, €, %, etc)
      legend: false,
      allowInverseData: true
    };
    this.cfg = cfg;
    // Put all of the options into a variable called cfg
    if (typeof options !== 'undefined') {
      for (var i in options) {
        if (typeof options[i] !== 'undefined') {
          cfg[i] = options[i];
        }
      }
    }

    this.g = svg_bar$3.append('g').attr('id', 'RadarGrp').attr('transform', 'translate(' + (cfg.w / 2 + cfg.margin.left) + ',' + (cfg.h / 2 + cfg.margin.top) + ')');

    this.prepareData(data);
    this.drawAxisGrid();
    this.drawArea();
    this.handleLegend();
    // Compute the "complétude" value for these ratios:
    this.completude_value = calcPopCompletudeSubset(app, this.variables);

    // Create the "complétude" text:
    this.completude = svg_bar$3.append('text').attrs({ id: 'chart_completude', x: 60, y: 40 }).styles({ 'font-family': '\'Signika\', sans-serif' }).text('Compl\xE9tude : ' + this.completude_value + '%');

    if (cfg.allowInverseData) {
      this.inverse_data = function (field) {
        var data_length = _this.data.length;
        if (!field) {
          for (var _i = 0; _i < data_length; _i++) {
            var ax = _this.data[_i].axes;
            for (var j = 0; j < ax.length; j++) {
              ax[j].value = 100 - ax[j].value;
            }
          }
        } else {
          for (var _i2 = 0; _i2 < data_length; _i2++) {
            var _ax = _this.data[_i2].axes;
            for (var _j = 0; _j < _ax.length; _j++) {
              if (_ax[_j].axis === field) {
                _ax[_j].value = 100 - _ax[_j].value;
              }
            }
          }
        }
        _this.update();
      };
    }
    this.makeTableStat();
  }

  createClass(RadarChart3, [{
    key: 'add_element',
    value: function add_element(elem) {
      var _this2 = this;

      var n_axis = elem.axes.map(function (i) {
        return i.axis;
      });
      if (!(JSON.stringify(n_axis) === JSON.stringify(this.allAxis))) {
        throw new Error('Expected element with same axes name than existing data.');
      }
      this.data.push(elem);
      this.displayed_ids.push(elem.name);
      for (var j = 0; j < this.data.length; j++) {
        var on_axes = [];
        for (var i = 0; i < this.data[j].axes.length; i++) {
          this.data[j].axes[i].id = this.data[j].name;
          on_axes.push(this.data[j].name);
        }
      }

      var self = this;
      var cfg = this.cfg;
      var n = this.data.length - 1;
      var blobWrapper = this.g.insert('g', '.radarCircleWrapper').attr('id', elem.name.indexOf(' ') > -1 ? 'ctx' : elem.name).attr('class', 'radarWrapper');

      // Append the backgrounds
      blobWrapper.append('path').attr('class', 'radarArea').attr('d', this.radarLine(elem.axes)).style('fill', cfg.color(n)).style('fill-opacity', 0).style('fill-opacity', cfg.opacityArea).on('mouseover', function () {
        // Dim all blobs
        blobWrapper.selectAll('.radarArea').transition().duration(200).style('fill-opacity', 0.1);
        // Bring back the hovered over blob
        d3.select(this).transition().duration(200).style('fill-opacity', 0.7);
      }).on('mouseout', function () {
        // Bring back all blobs
        blobWrapper.selectAll('.radarArea').transition().duration(200).style('fill-opacity', cfg.opacityArea);
      });
      // .on('click', function () {
      //   const p = this.parentElement;
      //   if (p.previousSibling.className !== 'tooltip') {
      //     const group = g.node();
      //     group.insertBefore(p, group.querySelector('.tooltip'));
      //     const new_order = [];
      //     g.selectAll('.radarWrapper').each(d => new_order.push(d.name));
      //     new_order.reverse();
      //     updateLegend(new_order);
      //   }
      // });

      // Create the outlines
      blobWrapper.append('path').attr('class', 'radarStroke').attr('d', this.radarLine(elem.axes)).style('stroke-width', cfg.strokeWidth + 'px').style('stroke', cfg.color(n)).style('fill', 'none').style('filter', 'url(#glow)');

      // Append the circles
      blobWrapper.selectAll('.radarCircle').data(elem.axes).enter().append('circle').attr('class', 'radarCircle').attr('r', cfg.dotRadius).attr('cx', function (d, i) {
        return _this2.rScale(d.value) * math_cos(_this2.angleSlice * i - HALF_PI);
      }).attr('cy', function (d, i) {
        return _this2.rScale(d.value) * math_sin(_this2.angleSlice * i - HALF_PI);
      }).style('fill', function (d) {
        return cfg.color(d.id);
      }).style('fill-opacity', 0.8);

      // ///////////////////////////////////////////////////////
      // ////// Append invisible circles for tooltip ///////////
      // ///////////////////////////////////////////////////////

      // Wrapper for the invisible circles on top
      var blobCircleWrapper = this.g.insert('g', '.tooltip').attr('id', elem.name.indexOf(' ') > -1 ? 'ctx' : elem.name).attr('class', 'radarCircleWrapper');

      // Append a set of invisible circles on top for the mouseover pop-up
      blobCircleWrapper.selectAll('.radarInvisibleCircle').data(elem.axes).enter().append('circle').attr('class', 'radarInvisibleCircle').attr('r', cfg.dotRadius * 1.5).attr('cx', function (d, i) {
        return _this2.rScale(d.value) * math_cos(_this2.angleSlice * i - HALF_PI);
      }).attr('cy', function (d, i) {
        return _this2.rScale(d.value) * math_sin(_this2.angleSlice * i - HALF_PI);
      }).style('fill', 'none').style('pointer-events', 'all').on('mouseover', function (d) {
        self.g.select('.tooltip').attr('x', this.cx.baseVal.value - 10).attr('y', this.cy.baseVal.value - 10).transition().style('display', 'block').text(this.Format(d.value) + cfg.unit);
      }).on('mouseout', function () {
        self.g.select('.tooltip').transition().style('display', 'none').text('');
      });
    }
  }, {
    key: 'changeOrder',
    value: function changeOrder() {
      this.data = this.data.slice(1, this.data.length).concat(this.data.slice(0, 1));
      this.update();
    }
  }, {
    key: 'prepareData',
    value: function prepareData(data) {
      var _this3 = this;

      app.current_config.nb_var = 3;
      this.variables = app.current_config.ratio;
      this.ref_data = data.slice().filter(function (ft) {
        return _this3.variables.map(function (v) {
          return !!ft[v];
        }).every(function (d) {
          return d === true;
        });
      });
      this.rank_variables = this.variables.map(function (d) {
        return 'pr_' + d;
      });
      this.variables.forEach(function (d, i) {
        computePercentileRank(_this3.ref_data, d, _this3.rank_variables[i]);
      });
      this.data = prepare_data_radar_default(this.ref_data, this.variables);
      this.displayed_ids = this.data.map(function (d) {
        return d.name;
      });
      this.current_ids = this.ref_data.map(function (d) {
        return d.id;
      });
      // const ref_ids = [];
      // If the supplied maxValue is smaller than the actual one, replace by the max in the data
      // var maxValue = max(cfg.maxValue, d3.max(data, function(i){return d3.max(i.map(function(o){return o.value;}))}));
      var maxValue = 0;
      for (var j = 0; j < this.data.length; j++) {
        var on_axes = [];
        for (var i = 0; i < this.data[j].axes.length; i++) {
          this.data[j].axes[i].id = this.data[j].name;
          // on_axes.push(this.data[j].name);
          if (this.data[j].axes[i].value > maxValue) {
            maxValue = this.data[j].axes[i].value;
          }
          // ref_ids.push(on_axes);
        }
      }

      this.maxValue = math_max(this.cfg.maxValue, maxValue);
      this.allAxis = this.data[0].axes.map(function (i) {
        return i.axis;
      }); // Names of each axis
      this.total = this.allAxis.length; // The number of different axes
      this.radius = Math.min(this.cfg.w / 2, this.cfg.h / 2); // Radius of the outermost circle
      this.Format = d3.format(this.cfg.format); // Formatting
      this.angleSlice = Math.PI * 2 / this.total; // The width in radians of each "slice"
      // Scale for the radius
      this.rScale = d3.scaleLinear().range([0, this.radius]).domain([0, this.maxValue]);
      // The radial line function
      this.radarLine = d3.radialLine().curve(this.cfg.roundStrokes ? d3.curveCardinalClosed : d3.curveLinearClosed).radius(function (d) {
        return _this3.rScale(d.value);
      }).angle(function (d, i) {
        return i * _this3.angleSlice;
      });
    }
  }, {
    key: 'drawAxisGrid',
    value: function drawAxisGrid() {
      var self = this;
      var cfg = this.cfg;
      var g = this.g;
      var radius = this.radius;
      var Format = this.Format;
      var maxValue = this.maxValue;
      var rScale = this.rScale;
      var angleSlice = this.angleSlice;

      var labelClicked = function labelClicked() {
        var ix = +this.id;
        if (ix + 1 === self.allAxis.length) {
          for (var i = 0; i < self.data.length; i++) {
            swap(self.data[i].axes, ix, 0);
          }
        } else {
          var new_ix = ix + 1;
          for (var _i3 = 0; _i3 < self.data.length; _i3++) {
            move(self.data[_i3].axes, ix, new_ix);
          }
        }
        self.update();
      };

      var labelCtxMenu = function labelCtxMenu(label) {
        d3.event.stopPropagation();
        d3.event.preventDefault();
        var ix = +this.id;
        self.inverse_data(label);
      };

      var axisGrid = g.append('g').attr('class', 'axisWrapper');

      // Draw the background circles
      axisGrid.selectAll('.levels').data(d3.range(1, cfg.levels + 1).reverse()).enter().append('circle').attr('class', 'gridCircle').attr('r', function (d) {
        return radius / cfg.levels * d;
      }).style('fill', '#CDCDCD').style('stroke', '#CDCDCD').style('fill-opacity', cfg.opacityCircles).style('filter', 'url(#glow)');

      // Text indicating at what % each level is
      axisGrid.selectAll('.axisLabel').data(d3.range(1, cfg.levels + 1).reverse()).enter().append('text').attr('class', 'axisLabel').attr('x', 4).attr('y', function (d) {
        return -d * radius / cfg.levels;
      }).attr('dy', '0.4em').style('font-size', '10px').attr('fill', '#737373').text(function (d) {
        return Format(maxValue * d / cfg.levels) + cfg.unit;
      });

      // Create the straight lines radiating outward from the center
      var axis = axisGrid.selectAll('.axis').data(this.allAxis).enter().append('g').attr('class', 'axis');
      // Append the lines
      axis.append('line').attr('x1', 0).attr('y1', 0).attr('x2', function (d, i) {
        return rScale(maxValue * 1.1) * math_cos(angleSlice * i - HALF_PI);
      }).attr('y2', function (d, i) {
        return rScale(maxValue * 1.1) * math_sin(angleSlice * i - HALF_PI);
      }).attr('class', 'line').style('stroke', 'white').style('stroke-width', '2px');

      // Append the labels at each axis
      axis.append('text').attr('class', 'legend').style('font-size', '11px').attr('id', function (d, i) {
        return i;
      }).attr('text-anchor', 'middle').attr('dy', '0.35em').attr('x', function (d, i) {
        return rScale(maxValue * cfg.labelFactor) * math_cos(angleSlice * i - HALF_PI);
      }).attr('y', function (d, i) {
        return rScale(maxValue * cfg.labelFactor) * math_sin(angleSlice * i - HALF_PI);
      }).text(function (d) {
        return d;
      }).on('click', labelClicked).on('contextmenu', cfg.allowInverseData ? labelCtxMenu : null).call(wrap, cfg.wrapWidth);

      // Filter for the outside glow
      var filter = g.append('defs').append('filter').attr('id', 'glow');
      filter.append('feGaussianBlur').attr('stdDeviation', '2.5').attr('result', 'coloredBlur');
      var feMerge = filter.append('feMerge');
      feMerge.append('feMergeNode').attr('in', 'coloredBlur');
      feMerge.append('feMergeNode').attr('in', 'SourceGraphic');

      this.axisGrid = axisGrid;
    }
  }, {
    key: 'handleLegend',
    value: function handleLegend() {
      var cfg = this.cfg;
      if (cfg.legend !== false && _typeof(cfg.legend) === 'object') {
        var names = this.data.map(function (el) {
          return el.name;
        });
        if (cfg.legend.title) {
          this.legendZone.append('text').attr('class', 'title').attr('transform', 'translate(0, -20)').attr('x', cfg.w - 70).attr('y', 10).attr('font-size', '12px').attr('fill', '#404040').text(cfg.legend.title);
        }
        var legend = this.legendZone.selectAll('g').data(names);
        var legendEnter = legend.enter().append('g');

        // Create rectangles markers
        legendEnter.append('rect').attr('x', cfg.w - 65).attr('y', function (d, i) {
          return i * 20;
        }).attr('width', 10).attr('height', 10).style('fill', function (d) {
          return cfg.color(d);
        });
        // Create labels
        legendEnter.append('text').attr('x', cfg.w - 52).attr('y', function (d, i) {
          return i * 20 + 9;
        }).attr('font-size', '11px').attr('fill', '#737373').text(function (d) {
          return d;
        });

        legend.merge(legendEnter).selectAll('rect').attr('y', function (d, i) {
          return i * 20;
        }).style('fill', function (d) {
          return cfg.color(d);
        });

        legend.merge(legendEnter).selectAll('text').attr('x', cfg.w - 52).attr('y', function (d, i) {
          return i * 20 + 9;
        }).text(function (d) {
          return d;
        });

        legend.exit().remove();
      }
    }
  }, {
    key: 'drawArea',
    value: function drawArea() {
      var _this4 = this;

      var cfg = this.cfg;
      var g = this.g;
      var Format = this.Format;
      var rScale = this.rScale;
      var angleSlice = this.angleSlice;

      // Create a wrapper for the blobs
      var blobWrapper = g.selectAll('.radarWrapper').data(this.data, function (d) {
        return d.name;
      }).enter().append('g').attr('id', function (d) {
        return d.name.indexOf(' ') > -1 ? 'ctx' : d.name;
      }).attr('class', 'radarWrapper');

      // Append the backgrounds
      blobWrapper.append('path').attr('class', 'radarArea').attr('d', function (d) {
        return _this4.radarLine(d.axes);
      }).style('fill', function (d, i) {
        return cfg.color(i);
      }).style('fill-opacity', 0).style('fill-opacity', cfg.opacityArea).on('mouseover', function () {
        // Dim all blobs
        blobWrapper.selectAll('.radarArea').transition().duration(200).style('fill-opacity', 0.1);
        // Bring back the hovered over blob
        d3.select(this).transition().duration(200).style('fill-opacity', 0.7);
      }).on('mouseout', function () {
        // Bring back all blobs
        blobWrapper.selectAll('.radarArea').transition().duration(200).style('fill-opacity', cfg.opacityArea);
      });
      // .on('click', function () {
      //   const p = this.parentElement;
      //   if (p.previousSibling.className !== 'tooltip') {
      //     const group = g.node();
      //     group.insertBefore(p, group.querySelector('.tooltip'));
      //     const new_order = [];
      //     g.selectAll('.radarWrapper').each(d => new_order.push(d.name));
      //     new_order.reverse();
      //     updateLegend(new_order);
      //   }
      // });

      // Create the outlines
      blobWrapper.append('path').attr('class', 'radarStroke').attr('d', function (d) {
        return _this4.radarLine(d.axes);
      }).style('stroke-width', cfg.strokeWidth + 'px').style('stroke', function (d, i) {
        return cfg.color(i);
      }).style('fill', 'none').style('filter', 'url(#glow)');

      // Append the circles
      blobWrapper.selectAll('.radarCircle').data(function (d) {
        return d.axes;
      }).enter().append('circle').attr('class', 'radarCircle').attr('r', cfg.dotRadius).attr('cx', function (d, i) {
        return rScale(d.value) * math_cos(angleSlice * i - HALF_PI);
      }).attr('cy', function (d, i) {
        return rScale(d.value) * math_sin(angleSlice * i - HALF_PI);
      }).style('fill', function (d) {
        return cfg.color(d.id);
      }).style('fill-opacity', 0.8);

      // ///////////////////////////////////////////////////////
      // ////// Append invisible circles for tooltip ///////////
      // ///////////////////////////////////////////////////////

      // Wrapper for the invisible circles on top
      var blobCircleWrapper = g.selectAll('.radarCircleWrapper').data(this.data, function (d) {
        return d.name;
      }).enter().append('g').attr('id', function (d) {
        return d.name.indexOf(' ') > -1 ? 'ctx' : d.name;
      }).attr('class', 'radarCircleWrapper');

      // Append a set of invisible circles on top for the mouseover pop-up
      blobCircleWrapper.selectAll('.radarInvisibleCircle').data(function (d) {
        return d.axes;
      }).enter().append('circle').attr('class', 'radarInvisibleCircle').attr('r', cfg.dotRadius * 1.5).attr('cx', function (d, i) {
        return rScale(d.value) * math_cos(angleSlice * i - HALF_PI);
      }).attr('cy', function (d, i) {
        return rScale(d.value) * math_sin(angleSlice * i - HALF_PI);
      }).style('fill', 'none').style('pointer-events', 'all').on('mouseover', function (d) {
        g.select('.tooltip').attr('x', this.cx.baseVal.value - 10).attr('y', this.cy.baseVal.value - 10).transition().style('display', 'block').text(Format(d.value) + cfg.unit);
      }).on('mouseout', function () {
        g.select('.tooltip').transition().style('display', 'none').text('');
      });

      var tooltip = g.append('text').attr('class', 'tooltip').attr('x', 0).attr('y', 0).style('font-size', '12px').style('display', 'none').attr('text-anchor', 'middle').attr('dy', '0.35em');

      this.legendZone = svg_bar$3.append('g').attr('id', 'legendZone').attr('class', 'legend').attr('transform', 'translate(' + cfg.legend.translateX + ',' + (cfg.legend.translateY + 20) + ')');
    }
  }, {
    key: 'update',
    value: function update() {
      var _this5 = this;

      var rScale = this.rScale;
      var maxValue = this.maxValue;
      var cfg = this.cfg;
      var angleSlice = this.angleSlice;
      // console.log(this.current_ids);
      // if (new_data) {
      //   const new_axis = new_data[0].axes.map(elem => elem.axis);
      //   if (!(JSON.stringify(new_axis) === JSON.stringify(this.allAxis))) {
      //     throw new Error('Expected element with same axes name than existing data.');
      //   }
      //   this.data = new_data;
      //   this.allAxis = new_axis;
      // } else {
      this.allAxis = this.data[0].axes.map(function (elem) {
        return elem.axis;
      });
      // }
      var update_axis = this.axisGrid.selectAll('.axis').data(this.allAxis);

      var t = this.g.selectAll('.radarWrapper').transition().duration(225);
      // .on('end', () => {
      //   parent.selectAll('text.legend')
      //     .text(d => d)
      //     .call(wrap, cfg.wrapWidth);
      //   // wrap(parent.selectAll('text.legend'), cfg.wrapWidth);
      // });
      update_axis.select('text.legend').attr('id', function (d, i) {
        return i;
      }).attr('x', function (d, i) {
        return rScale(maxValue * cfg.labelFactor) * math_cos(angleSlice * i - HALF_PI);
      }).attr('y', function (d, i) {
        return rScale(maxValue * cfg.labelFactor) * math_sin(angleSlice * i - HALF_PI);
      }).text(function (d) {
        return d;
      }).call(wrap, cfg.wrapWidth);

      var update_blobWrapper = this.g.selectAll('.radarWrapper').data(this.data, function (d) {
        return d.name;
      });

      update_blobWrapper.select('.radarArea').transition(t).attr('d', function (d) {
        return _this5.radarLine(d.axes);
      });

      update_blobWrapper.select('.radarStroke').transition(t).attr('d', function (d) {
        return _this5.radarLine(d.axes);
      });

      var circle = update_blobWrapper.selectAll('.radarCircle').data(function (d) {
        return d.axes;
      });
      circle.transition(t).attr('cx', function (d, i) {
        return rScale(d.value) * math_cos(angleSlice * i - HALF_PI);
      }).attr('cy', function (d, i) {
        return rScale(d.value) * math_sin(angleSlice * i - HALF_PI);
      }).style('fill', function (d) {
        return cfg.color(d.id);
      }).style('fill-opacity', 0.8);

      var update_blobCircleWrapper = this.g.selectAll('.radarCircleWrapper').data(this.data, function (d) {
        return d.name;
      });

      var invisibleCircle = update_blobCircleWrapper.selectAll('.radarInvisibleCircle').data(function (d) {
        return d.axes;
      });
      invisibleCircle.transition(t).attr('cx', function (d, i) {
        return rScale(d.value) * math_cos(angleSlice * i - HALF_PI);
      }).attr('cy', function (d, i) {
        return rScale(d.value) * math_sin(angleSlice * i - HALF_PI);
      });
    }
  }, {
    key: 'round_stroke',
    value: function round_stroke(val) {
      var _this6 = this;

      if (val === undefined) {
        return this.cfg.roundStrokes;
      } else if (val !== this.cfg.roundStrokes) {
        this.cfg.roundStrokes = val;
        this.radarLine = d3.radialLine().curve(this.cfg.roundStrokes ? d3.curveCardinalClosed : d3.curveLinearClosed).radius(function (d) {
          return _this6.rScale(d.value);
        }).angle(function (d, i) {
          return i * _this6.angleSlice;
        });
        this.update();
      }
      return val;
    }
  }, {
    key: 'bindMap',
    value: function bindMap(map_elem) {
      this.map_elem = map_elem;
      this.map_elem.resetColors(this.current_ids);
    }
  }, {
    key: 'remove',
    value: function remove() {
      this.table_stats.remove();
      this.table_stats = null;
      this.map_elem.unbindBrush();
      this.map_elem = null;
      svg_bar$3.html('');
    }
  }, {
    key: 'updateChangeRegion',
    value: function updateChangeRegion() {
      // if (app.current_config.filter_key) {
      this.changeStudyZone();
      // } else {
      //
      // }
    }
  }, {
    key: 'changeStudyZone',
    value: function changeStudyZone() {
      var _this7 = this;

      this.variables = app.current_config.ratio;
      this.ref_data = app.current_data.slice().filter(function (ft) {
        return _this7.variables.map(function (v) {
          return !!ft[v];
        }).every(function (d) {
          return d === true;
        });
      });
      this.rank_variables = this.variables.map(function (d) {
        return 'pr_' + d;
      });
      this.variables.forEach(function (d, i) {
        computePercentileRank(_this7.ref_data, d, _this7.rank_variables[i]);
      });
      this.data = prepare_data_radar_default(this.ref_data, this.variables);
      this.current_ids = this.ref_data.map(function (d) {
        return d.id;
      });
      this.displayed_ids = this.data.map(function (d) {
        return d.name;
      });
      resetColors();
      this.nbFt = this.data.length;
      this.updateMapRegio();
      this.updateTableStat();
      this.update();
    }
  }, {
    key: 'addVariable',
    value: function addVariable$$1(code_variable, name_variable) {
      var _this8 = this;

      var other_features = this.displayed_ids.filter(function (d) {
        return d !== app.current_config.my_region && d !== 'Moyenne du contexte d\'étude';
      });

      this.g.remove();
      this.g = svg_bar$3.append('g').attr('id', 'RadarGrp').attr('transform', 'translate(' + (this.cfg.w / 2 + this.cfg.margin.left) + ',' + (this.cfg.h / 2 + this.cfg.margin.top) + ')');

      this.prepareData(app.current_data);
      this.drawAxisGrid();
      this.drawArea();
      this.handleLegend();
      other_features.forEach(function (id) {
        var a = prepare_data_radar_ft(_this8.ref_data, _this8.variables, id);
        _this8.add_element(a);
      });
      // this.update();
      // this.variables = app.current_config.ratio;
      // this.ref_data = app.current_data.slice().filter(
      //   ft => this.variables.map(v => !!ft[v]).every(d => d === true));
      // this.rank_variables = this.variables.map(d => `pr_${d}`);
      // this.variables.forEach((d, i) => {
      //   computePercentileRank(this.ref_data, d, this.rank_variables[i]);
      // });
      // this.data = prepare_data_radar_default(this.ref_data, this.variables);
      // this.current_ids = this.ref_data.map(d => d.id);
      // resetColors();
      // this.nbFt = this.data.length;
      // this.updateMapRegio();
      // this.updateTableStat();
      // this.update();
    }
  }, {
    key: 'removeVariable',
    value: function removeVariable$$1(code_variable) {
      this.g.remove();
      this.g = svg_bar$3.append('g').attr('id', 'RadarGrp').attr('transform', 'translate(' + (this.cfg.w / 2 + this.cfg.margin.left) + ',' + (this.cfg.h / 2 + this.cfg.margin.top) + ')');

      this.prepareData(app.current_data);
      this.drawAxisGrid();
      this.drawArea();
      this.handleLegend();
      // this.variables = app.current_config.ratio;
      // this.ref_data = app.current_data.slice().filter(
      //   ft => this.variables.map(v => !!ft[v]).every(d => d === true));
      // this.rank_variables = this.variables.map(d => `pr_${d}`);
      // this.variables.forEach((d, i) => {
      //   computePercentileRank(this.ref_data, d, this.rank_variables[i]);
      // });
      // this.data = prepare_data_radar_default(this.ref_data, this.variables);
      // this.current_ids = this.ref_data.map(d => d.id);
      // resetColors();
      // this.nbFt = this.data.length;
      // this.updateMapRegio();
      // this.updateTableStat();
      // this.update();
    }
  }, {
    key: 'prepareTableStat',
    value: function prepareTableStat() {
      var _this9 = this;

      var all_values = this.variables.map(function (v) {
        return _this9.ref_data.map(function (d) {
          return d[v];
        });
      });
      var my_region = this.ref_data.find(function (d) {
        return d.id === app.current_config.my_region;
      });
      var features = all_values.map(function (values, i) {
        return {
          Min: d3.min(values),
          Max: d3.max(values),
          Moyenne: d3.mean(values),
          id: _this9.variables[i],
          Variable: _this9.variables[i],
          'Ma région': my_region[_this9.variables[i]]
        };
      });
      return features;
    }

    // handle_brush_map(event) {
    //   console.log(this);
    //   console.log(event);
    // }

  }, {
    key: 'handleClickMap',
    value: function handleClickMap(d, parent) {
      var id = d.properties[app.current_config.id_field_geom];
      if (this.current_ids.indexOf(id) < 0 || id === app.current_config.my_region) return;
      if (this.displayed_ids.indexOf(id) < 0) {
        var a = prepare_data_radar_ft(this.ref_data, this.variables, id);
        this.add_element(a);
        this.update();
        console.log(a);
      } else {
        this.g.selectAll('#' + id + '.radarWrapper').remove();
        this.g.selectAll('#' + id + '.radarCircleWrapper').remove();
        var ix = this.data.map(function (_d, i) {
          return [i, _d.name === id];
        }).find(function (_d) {
          return _d[1] === true;
        });
        this.data.splice(ix, 1);
        this.displayed_ids = this.data.map(function (_d) {
          return _d.name;
        });
        this.update();
      }
    }
  }, {
    key: 'updateCompletude',
    value: function updateCompletude() {
      this.completude_value = calcPopCompletudeSubset(app, this.variables);
      this.completude.text('Compl\xE9tude : ' + this.completude_value + '%');
    }
  }, {
    key: 'updateMapRegio',
    value: function updateMapRegio() {
      var _this10 = this;

      if (!this.map_elem) return;
      this.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        return _this10.current_ids.indexOf(d.properties[app.current_config.id_field_geom]) > -1 ? app.colors[d.properties[app.current_config.id_field_geom]] || color_countries : color_disabled;
      });
    }
  }, {
    key: 'updateTableStat',
    value: function updateTableStat() {
      this.table_stats.removeAll();
      this.table_stats.addFeatures(this.prepareTableStat());
    }
  }, {
    key: 'makeTableStat',
    value: function makeTableStat() {
      var features = this.prepareTableStat();
      this.table_stats = new TableResumeStat(features);
    }
  }]);
  return RadarChart3;
}();

browser$1('app:log');

exports.variables_info = void 0; /* = [
                                    { ratio: 'PC_CHOM_1524_2015', num: 'CHOM_1524_2015', denum: 'ACT_1524_2015', name: 'Taux de chomage des jeunes (2015)', group: 'Pauvreté / Exclusion sociale' },
                                    { ratio: 'PC_CHOM_1574_2015', num: 'CHOM_1574_2015', denum: 'ACT_1574_2015', name: 'Taux de chomage (2015)', group: 'Pauvreté / Exclusion sociale' },
                                    { ratio: 'PC_CHOM_LONG_2016', num: 'CHOM_LONG_2016', denum: 'ACT_LONG_2016', name: 'Taux de chômage de longue durée (2016)', group: 'Pauvreté / Exclusion sociale' },
                                    { ratio: 'PC_REV_2014', num: 'REV_2014', denum: 'MEN_2014', name: 'Revenu des ménages (2014)', group: 'Pauvreté / Exclusion sociale' },
                                    { ratio: 'PC_BREV_HAB_2011', num: 'BREV_2011', denum: 'POP_BREV_2011', name: 'Productions innovantes (2011)', group: 'Activité / Innovation' },
                                    { ratio: 'PC_RD_EMP_2013', num: 'RD_EMP_2013', denum: 'POP_RD_EMP_2013', name: 'Part de l\'emploi en R&D (2013)', group: 'Activité / Innovation' },
                                    { ratio: 'PC_PIB_HAB_2014', num: 'PC_PIB_HAB_2014', denum: 'POP_PIB_2014', name: 'PIB par habitant (euros)(2014)', group: 'Activité / Innovation' },
                                    { ratio: 'PC_ARTIF_AREA_2015', num: 'ARTIF_AREA_2015', denum: 'LC_AREA_2015', name: 'Part des surfaces artificialisées (2015)', group: 'Environnement / Transition écologique' },
                                    ];*/

var study_zones = [{ id: 'no_filter', name: 'UE28' }, { id: 'filter_FR', name: 'Filtre national (France)' }, { id: 'filter_param2', name: 'Espace de comparaison n°2' }];

var territorial_mesh = [{ id: 'NUTS1', name: 'NUTS1' }, { id: 'NUTS12stat', name: 'NUTS1/2 (statistique)' }];

var app = {
  // A mapping id -> color, containing the color to use for each
  // feature not using the default color or the disabled color
  colors: {},
  // The filtered dataset (acccording to: the current territorial level,
  // the filter key (if any) and the ratio(s) selected on the left menu:
  current_data: [],
  // The full dataset provided (containing all the features at any level in one table)
  // Row without data are expected to be empty or to contain the "NA" string.
  full_dataset: [],
  // The ids of the current feature in use (acccording to: the current territorial level,
  // the filter key (if any) and the ratio(s) used in the current chart; filtered
  // to not contain feature with empty ratio values within the ratios in use).
  current_ids: []
};

function setDefaultConfig() {
  var code = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'FRE';
  var variable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'RT_CHOM_1574';
  // }, level = 'NUTS1') {
  app.current_config = {
    // The name of the field of the dataset containing the ID of each feature:
    id_field: 'geo',
    // The name of the field of the dataset containing the name of each feature:
    name_field: 'Nom',
    // The name of the field of the dataset containing the population of each feature:
    pop_field: 'POP_AGE_T_2016',
    // The name of the field of the geojson layer containing the ID of each feature
    // (these values should match with the values of the "id_field" in the
    // tabular dataset)
    id_field_geom: 'NUTS1_2016',
    num: ['CHOM_1574_2016'],
    denum: ['ACT_1574_2016'],
    ratio: [variable],
    ratio_pretty_name: ['Taux de chômage (15-74 ans) (2016)'],
    // The level currently in use:
    current_level: 1,
    // The ID of the region currently in use:
    my_region: code,
    // The name of the region currently in use:
    my_region_pretty_name: app.feature_names[code],
    // How many ratio on the current chart:
    nb_var: 1
  };
  app.colors[app.current_config.my_region] = color_highlight;
}

function setDefaultConfigMenu() {
  var code = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'FRE';
  var variable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'RT_CHOM_1574';
  var level = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'NUTS1';

  document.querySelector('.target_region.square[value="' + code + '"]').classList.add('checked');
  document.querySelector('.target_variable.small_square[value="' + variable + '"]').classList.add('checked');
  document.querySelector('.filter_v.square[filter-value="no_filter"]').classList.add('checked');
  document.querySelector('.territ_level.square[value="' + level + '"]').classList.add('checked');
}

function resetColors() {
  app.colors = {};
  // for (let i = 0, len_i = current_ids.length; i < len_i; i++) {
  //   app.colors[current_ids[i]] = color_countries;
  // }
  app.colors[app.current_config.my_region] = color_highlight;
}

/**
* Create handlers for user event on the left menu and on the map for charts only
* allowing to use 1 variable.
*
* @param {Object} chart - The chart object.
* @param {Object} map_elem - The map object.
* @return {void}
*
*/
function bindUI_chart(chart, map_elem) {
  // User change the study zone:
  d3.selectAll('span.filter_v').on('click', function () {
    if (!this.classList.contains('checked')) {
      d3.selectAll('span.filter_v').attr('class', 'filter_v square');
      this.classList.add('checked');
      var filter_type = this.getAttribute('filter-value');
      applyFilter(app, filter_type);
      makeTable(app.current_data, app.current_config);
      chart.changeStudyZone();
      chart.updateCompletude();
    }
  });

  // User change the targeted region:
  d3.selectAll('span.target_region').on('click', function () {
    if (!this.classList.contains('checked')) {
      d3.selectAll('span.target_region').attr('class', 'target_region square');
      this.classList.add('checked');
      var id_region = this.getAttribute('value');
      changeRegion(app, id_region);
      // Update the availables ratio on the left menu
      // (this may change the current selected ratio(s) as some variables are
      // not available for some features) and fetch the number of selected
      // variables after that:
      var new_nb_var = updateAvailablesRatios(id_region);
      if (new_nb_var >= app.current_config.nb_var) {
        chart.updateChangeRegion();
      } else {
        // If there fewer selected variables than requested by the current chart,
        // redraw the first (default) kind of chart:
        d3.select('span.chart_t1[value="BarChart1"]').dispatch('click');
      }
    }
  });

  // User click on the name of a group of variables
  // to expand or collapse its content:
  d3.selectAll('.name_group_var').on('click', function () {
    var group_var = this.nextSibling;
    if (group_var.style.display === 'none') {
      group_var.style.display = null;
    } else {
      group_var.style.display = 'none';
    }
  });

  // User click to add/remove a variable from the comparison:
  d3.selectAll('span.target_variable').on('click', function () {
    if (this.classList.contains('disabled')) return;
    var nb_var = Array.prototype.slice.call(document.querySelectorAll('span.target_variable')).filter(function (elem) {
      return !!elem.classList.contains('checked');
    }).length;
    // Select a new variable and trigger the appropriate changes on the current chart:
    if (!this.classList.contains('checked')) {
      // We don't want the user to be able to select more than 8 variables simultaneously:
      if (nb_var >= 8) return;
      this.classList.add('checked');
      var code_variable = this.getAttribute('value');
      var name_variable = exports.variables_info.find(function (d) {
        return d.ratio === code_variable;
      }).name;
      addVariable(app, code_variable);
      makeTable(app.current_data, app.current_config);
      chart.addVariable(code_variable, name_variable);
      nb_var += 1;
    } else {
      // Remove a variable from the selection:
      nb_var -= 1;
      // We don't want to let the user remove the variable if
      // it's the only one selected or if the currently displayed
      // chart need a minimum number of variables:
      if (nb_var < app.current_config.nb_var) {
        return;
      }
      var _code_variable = this.getAttribute('value');
      this.classList.remove('checked');
      removeVariable(app, _code_variable);
      chart.removeVariable(_code_variable);
      makeTable(app.current_data, app.current_config);
    }
    // Update the top menu to display available charts according to the current
    // number of available variables:
    if (nb_var === 1) {
      // Allow all kind of vizu with 1 variable:
      d3.selectAll('.chart_t1').attr('class', 'type_chart chart_t1');
      d3.selectAll('.chart_t2').attr('class', 'type_chart chart_t2 disabled');
      d3.selectAll('.chart_t3').attr('class', 'type_chart chart_t3 disabled');
    } else if (nb_var === 2) {
      // Allow all kind of vizu with 2 variables:
      d3.selectAll('.chart_t2').attr('class', 'type_chart chart_t2');
      d3.selectAll('.chart_t3').attr('class', 'type_chart chart_t3 disabled');
    } else if (nb_var > 2) {
      // Allow all kind of vizu with 3 variables:
      d3.selectAll('.chart_t2').attr('class', 'type_chart chart_t2');
      d3.selectAll('.chart_t3').attr('class', 'type_chart chart_t3');
    }
  });

  // Dispatch a click event on the associated checkbox when the text is clicked:
  d3.selectAll('span.label_chk').on('click', function () {
    this.previousSibling.click();
  });

  var header_map_section = d3.select('#map_section > #header_map');

  header_map_section.select('#img_rect_selec').on('click', function () {
    if (!this.classList.contains('active')) {
      this.classList.add('active');
      document.getElementById('img_map_zoom').classList.remove('active');
      document.getElementById('img_map_select').classList.remove('active');
      svg_map.on('.zoom', null);
      if (map_elem.brush_map) {
        svg_map.select('.brush_map').style('display', null);
      }
      map_elem.target_layer.selectAll('path').on('click', null);
    }
  });

  header_map_section.select('#img_map_zoom').on('click', function () {
    if (!this.classList.contains('active')) {
      this.classList.add('active');
      document.getElementById('img_rect_selec').classList.remove('active');
      document.getElementById('img_map_select').classList.remove('active');
      svg_map.call(map_elem.zoom_map);
      if (map_elem.brush_map) {
        svg_map.select('.brush_map').call(map_elem.brush_map.move, null);
        svg_map.select('.brush_map').style('display', 'none');
      }
      map_elem.target_layer.selectAll('path').on('click', null);
    }
  });

  header_map_section.select('#img_map_select').on('click', function () {
    if (!this.classList.contains('active')) {
      this.classList.add('active');
      document.getElementById('img_rect_selec').classList.remove('active');
      document.getElementById('img_map_zoom').classList.remove('active');
      svg_map.on('.zoom', null);
      if (map_elem.brush_map) {
        svg_map.select('.brush_map').call(map_elem.brush_map.move, null);
        svg_map.select('.brush_map').style('display', 'none');
      }
      map_elem.target_layer.selectAll('path').on('click', function (d) {
        chart.handleClickMap(d, this);
      });
    }
  });

  var header_table_section = d3.select('#map_section').insert('p', 'svg').attr('id', 'header_table').styles({ display: 'none', margin: 'auto', 'text-align': 'right' });

  header_table_section.append('span').attr('class', 'button_blue').html('CSV').on('click', function () {
    var content = ['id,Numérateur,Dénominateur,Ratio,Rang\r\n', app.current_data.map(function (d) {
      return [d.id, d.num, d.denum, d.ratio, d.rang].join(',');
    }).join('\r\n')].join('');
    var elem = document.createElement('a');
    elem.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(content));
    elem.setAttribute('download', 'table.csv');
    elem.style.display = 'none';
    document.body.appendChild(elem);
    elem.click();
    document.body.removeChild(elem);
  });
  bindTopButtons(chart, map_elem);
}

/**
* Function to handle click on the top menu, in order to choose
* the kind of availables representation
*
* @param {Object} chart -
* @param {Object} map_elem -
* @return {void}
*/
function bindTopButtons(chart, map_elem) {
  d3.selectAll('.type_chart').on('click', function () {
    if (this.classList.contains('disabled')) return;
    chart.remove();
    chart = null; // eslint-disable-line no-param-reassign
    unbindUI();
    map_elem.resetZoom();
    app.colors = {};
    var value = this.getAttribute('value');
    if (value === 'BarChart1') {
      console.log('BarChart1');
      makeTable(app.current_data, app.current_config);
      chart = new BarChart1(app.current_data); // eslint-disable-line no-param-reassign
      bindUI_chart(chart, map_elem);
      map_elem.bindBrush(chart);
      chart.bindMap(map_elem);
    } else if (value === 'BubbleChart1') {
      console.log('BubbleChart1');
      makeTable(app.current_data, app.current_config);
      chart = new BubbleChart1(app.current_data); // eslint-disable-line no-param-reassign
      bindUI_chart(chart, map_elem);
      map_elem.bindBrush(chart);
      chart.bindMap(map_elem);
    } else if (value === 'ScatterPlot2') {
      console.log('ScatterPlot2');
      makeTable(app.current_data, app.current_config);
      chart = new ScatterPlot2(app.current_data); // eslint-disable-line no-param-reassign
      bindUI_chart(chart, map_elem);
      map_elem.bindBrush(chart);
      chart.bindMap(map_elem);
    } else if (value === 'RadarChart3') {
      console.log('RadarChart3');
      makeTable(app.current_data, app.current_config);
      chart = new RadarChart3(app.current_data);
      bindUI_chart(chart, map_elem);
      map_elem.bindBrush(chart);
      chart.bindMap(map_elem);
    }
  });
}

function loadData() {
  d3.queue(4).defer(d3.csv, 'data/REGIOVIZ_DATA.csv').defer(d3.json, 'data/cget-nuts1-3035.geojson').defer(d3.json, 'data/countries3035.geojson').defer(d3.json, 'data/remote3035.geojson').defer(d3.json, 'data/template3035.geojson').defer(d3.json, 'data/sea_boxes.geojson').defer(d3.csv, 'data/indicateurs_meta.csv').awaitAll(function (error, results) {
    if (error) throw error;

    var _results = slicedToArray(results, 7),
        full_dataset = _results[0],
        nuts1 = _results[1],
        countries = _results[2],
        remote = _results[3],
        template = _results[4],
        seaboxes = _results[5],
        metadata_indicateurs = _results[6];

    exports.variables_info = prepareVariablesInfo(metadata_indicateurs);
    prepare_dataset(full_dataset, app);
    setDefaultConfig('FRB', 'RT_CHOM_1574', 'NUTS1');
    var features_menu = full_dataset.filter(function (ft) {
      return ft.geo.indexOf('FR') > -1 && +ft.level === app.current_config.current_level;
    });
    createMenu(features_menu, exports.variables_info, study_zones, territorial_mesh);
    makeTopMenu();
    makeHeaderChart();
    setDefaultConfigMenu('FRB', 'RT_CHOM_1574', 'NUTS1');
    filterLevelVar(app);
    console.log(app);
    var map_elem = new MapSelect(nuts1, countries, remote, template, seaboxes);
    var chart = new BarChart1(app.current_data);
    makeTable(app.current_data, app.current_config);
    makeHeaderMapSection();
    makeSourceSection();
    makeMapLegend();
    bindUI_chart(chart, map_elem);
    map_elem.bindBrush(chart);
    chart.bindMap(map_elem);
  });
}

/**
* Function to select the first variable on the left menu
* (triggered after changing region, if no more variable was selected)
*
* @return {void}
*/
function selectFirstAvailableVar() {
  var menu = document.querySelector('#menu');
  var v = menu.querySelectorAll('.target_variable');
  for (var i = 0; i < v.length; i++) {
    if (!v[i].classList.contains('disabled')) {
      v[i].classList.add('checked');
      return v[i].getAttribute('value');
    }
  }
}

/**
* Function to update the availables ratios in the left menu (after changing region)
* If a selected variable is not available anymore it will be deselected.
* If there selected variable (all the previously selected variables are unavailable for this region)
* the first variable on the menu will be selected.
* If the new number of selected feature is inferior to the number of variables on the current
* chart, a new chart (suitable for only 1 variable) will be selected.
*
*
* @param {String} my_region - The ID of the newly selected region.
* @return {Number} - The new number of selected ratios.
*
*/
function updateAvailablesRatios(my_region) {
  var data_my_feature = app.full_dataset.filter(function (ft) {
    return ft[app.current_config.id_field] === my_region;
  })[0];
  var menu = document.querySelector('#menu');
  var lines = menu.querySelectorAll('.target_variable');
  for (var i = 0, nb_lines = lines.length; i < nb_lines; i++) {
    var code_variable = lines[i].getAttribute('value');
    if (data_my_feature[code_variable] !== undefined && data_my_feature[code_variable] !== 'NA') {
      lines[i].classList.remove('disabled');
      lines[i].nextSibling.classList.remove('disabled');
    } else {
      lines[i].classList.remove('checked');
      lines[i].classList.add('disabled');
      lines[i].nextSibling.classList.add('disabled');
    }
  }
  var new_var = menu.querySelectorAll('.target_variable.checked');
  if (new_var.length !== app.current_config.ratio.length) {
    var new_var_names = void 0;
    if (new_var.length === 0) {
      var name = selectFirstAvailableVar();
      new_var_names = [name];
    } else {
      new_var_names = Array.prototype.slice.call(new_var).map(function (elem) {
        return elem.getAttribute('value');
      });
    }
    resetVariables(app, new_var_names);
  }
  return new_var.length;
}

loadData();

exports.app = app;
exports.resetColors = resetColors;
exports.bindTopButtons = bindTopButtons;

}((this.App = this.App || {})));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9tcy9pbmRleC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvZGVidWcuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2Jyb3dzZXIuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL29wdGlvbnMuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL2hlbHBlcnMuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL21lbnVsZWZ0LmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9tZW51dG9wLmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9tYXAuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvdmFuaWxsYS1kYXRhdGFibGVzL3NyYy92YW5pbGxhLWRhdGFUYWJsZXMuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL3RhYmxlLmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9wcmVwYXJlX2RhdGEuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL3RhYmxlUmVzdW1lU3RhdC5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvY2hhcnRzL2JhckNoYXJ0XzF2LmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9jaGFydHMvYnViYmxlQ2hhcnRfMXYuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL2NvbnRleHRNZW51LmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9jaGFydHMvc2NhdHRlclBsb3RfMnYuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL2NoYXJ0cy9yYWRhckNoYXJ0XzN2LmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEhlbHBlcnMuXG4gKi9cblxudmFyIHMgPSAxMDAwO1xudmFyIG0gPSBzICogNjA7XG52YXIgaCA9IG0gKiA2MDtcbnZhciBkID0gaCAqIDI0O1xudmFyIHkgPSBkICogMzY1LjI1O1xuXG4vKipcbiAqIFBhcnNlIG9yIGZvcm1hdCB0aGUgZ2l2ZW4gYHZhbGAuXG4gKlxuICogT3B0aW9uczpcbiAqXG4gKiAgLSBgbG9uZ2AgdmVyYm9zZSBmb3JtYXR0aW5nIFtmYWxzZV1cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IHZhbFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHRocm93cyB7RXJyb3J9IHRocm93IGFuIGVycm9yIGlmIHZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgbnVtYmVyXG4gKiBAcmV0dXJuIHtTdHJpbmd8TnVtYmVyfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHZhbCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsO1xuICBpZiAodHlwZSA9PT0gJ3N0cmluZycgJiYgdmFsLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gcGFyc2UodmFsKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSAnbnVtYmVyJyAmJiBpc05hTih2YWwpID09PSBmYWxzZSkge1xuICAgIHJldHVybiBvcHRpb25zLmxvbmcgPyBmbXRMb25nKHZhbCkgOiBmbXRTaG9ydCh2YWwpO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihcbiAgICAndmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSB2YWxpZCBudW1iZXIuIHZhbD0nICtcbiAgICAgIEpTT04uc3RyaW5naWZ5KHZhbClcbiAgKTtcbn07XG5cbi8qKlxuICogUGFyc2UgdGhlIGdpdmVuIGBzdHJgIGFuZCByZXR1cm4gbWlsbGlzZWNvbmRzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHBhcnNlKHN0cikge1xuICBzdHIgPSBTdHJpbmcoc3RyKTtcbiAgaWYgKHN0ci5sZW5ndGggPiAxMDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIG1hdGNoID0gL14oKD86XFxkKyk/XFwuP1xcZCspICoobWlsbGlzZWNvbmRzP3xtc2Vjcz98bXN8c2Vjb25kcz98c2Vjcz98c3xtaW51dGVzP3xtaW5zP3xtfGhvdXJzP3xocnM/fGh8ZGF5cz98ZHx5ZWFycz98eXJzP3x5KT8kL2kuZXhlYyhcbiAgICBzdHJcbiAgKTtcbiAgaWYgKCFtYXRjaCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbiA9IHBhcnNlRmxvYXQobWF0Y2hbMV0pO1xuICB2YXIgdHlwZSA9IChtYXRjaFsyXSB8fCAnbXMnKS50b0xvd2VyQ2FzZSgpO1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICd5ZWFycyc6XG4gICAgY2FzZSAneWVhcic6XG4gICAgY2FzZSAneXJzJzpcbiAgICBjYXNlICd5cic6XG4gICAgY2FzZSAneSc6XG4gICAgICByZXR1cm4gbiAqIHk7XG4gICAgY2FzZSAnZGF5cyc6XG4gICAgY2FzZSAnZGF5JzpcbiAgICBjYXNlICdkJzpcbiAgICAgIHJldHVybiBuICogZDtcbiAgICBjYXNlICdob3Vycyc6XG4gICAgY2FzZSAnaG91cic6XG4gICAgY2FzZSAnaHJzJzpcbiAgICBjYXNlICdocic6XG4gICAgY2FzZSAnaCc6XG4gICAgICByZXR1cm4gbiAqIGg7XG4gICAgY2FzZSAnbWludXRlcyc6XG4gICAgY2FzZSAnbWludXRlJzpcbiAgICBjYXNlICdtaW5zJzpcbiAgICBjYXNlICdtaW4nOlxuICAgIGNhc2UgJ20nOlxuICAgICAgcmV0dXJuIG4gKiBtO1xuICAgIGNhc2UgJ3NlY29uZHMnOlxuICAgIGNhc2UgJ3NlY29uZCc6XG4gICAgY2FzZSAnc2Vjcyc6XG4gICAgY2FzZSAnc2VjJzpcbiAgICBjYXNlICdzJzpcbiAgICAgIHJldHVybiBuICogcztcbiAgICBjYXNlICdtaWxsaXNlY29uZHMnOlxuICAgIGNhc2UgJ21pbGxpc2Vjb25kJzpcbiAgICBjYXNlICdtc2Vjcyc6XG4gICAgY2FzZSAnbXNlYyc6XG4gICAgY2FzZSAnbXMnOlxuICAgICAgcmV0dXJuIG47XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn1cblxuLyoqXG4gKiBTaG9ydCBmb3JtYXQgZm9yIGBtc2AuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBmbXRTaG9ydChtcykge1xuICBpZiAobXMgPj0gZCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gZCkgKyAnZCc7XG4gIH1cbiAgaWYgKG1zID49IGgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGgpICsgJ2gnO1xuICB9XG4gIGlmIChtcyA+PSBtKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBtKSArICdtJztcbiAgfVxuICBpZiAobXMgPj0gcykge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gcykgKyAncyc7XG4gIH1cbiAgcmV0dXJuIG1zICsgJ21zJztcbn1cblxuLyoqXG4gKiBMb25nIGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGZtdExvbmcobXMpIHtcbiAgcmV0dXJuIHBsdXJhbChtcywgZCwgJ2RheScpIHx8XG4gICAgcGx1cmFsKG1zLCBoLCAnaG91cicpIHx8XG4gICAgcGx1cmFsKG1zLCBtLCAnbWludXRlJykgfHxcbiAgICBwbHVyYWwobXMsIHMsICdzZWNvbmQnKSB8fFxuICAgIG1zICsgJyBtcyc7XG59XG5cbi8qKlxuICogUGx1cmFsaXphdGlvbiBoZWxwZXIuXG4gKi9cblxuZnVuY3Rpb24gcGx1cmFsKG1zLCBuLCBuYW1lKSB7XG4gIGlmIChtcyA8IG4pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKG1zIDwgbiAqIDEuNSkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKG1zIC8gbikgKyAnICcgKyBuYW1lO1xuICB9XG4gIHJldHVybiBNYXRoLmNlaWwobXMgLyBuKSArICcgJyArIG5hbWUgKyAncyc7XG59XG4iLCJcbi8qKlxuICogVGhpcyBpcyB0aGUgY29tbW9uIGxvZ2ljIGZvciBib3RoIHRoZSBOb2RlLmpzIGFuZCB3ZWIgYnJvd3NlclxuICogaW1wbGVtZW50YXRpb25zIG9mIGBkZWJ1ZygpYC5cbiAqXG4gKiBFeHBvc2UgYGRlYnVnKClgIGFzIHRoZSBtb2R1bGUuXG4gKi9cblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gY3JlYXRlRGVidWcuZGVidWcgPSBjcmVhdGVEZWJ1Z1snZGVmYXVsdCddID0gY3JlYXRlRGVidWc7XG5leHBvcnRzLmNvZXJjZSA9IGNvZXJjZTtcbmV4cG9ydHMuZGlzYWJsZSA9IGRpc2FibGU7XG5leHBvcnRzLmVuYWJsZSA9IGVuYWJsZTtcbmV4cG9ydHMuZW5hYmxlZCA9IGVuYWJsZWQ7XG5leHBvcnRzLmh1bWFuaXplID0gcmVxdWlyZSgnbXMnKTtcblxuLyoqXG4gKiBUaGUgY3VycmVudGx5IGFjdGl2ZSBkZWJ1ZyBtb2RlIG5hbWVzLCBhbmQgbmFtZXMgdG8gc2tpcC5cbiAqL1xuXG5leHBvcnRzLm5hbWVzID0gW107XG5leHBvcnRzLnNraXBzID0gW107XG5cbi8qKlxuICogTWFwIG9mIHNwZWNpYWwgXCIlblwiIGhhbmRsaW5nIGZ1bmN0aW9ucywgZm9yIHRoZSBkZWJ1ZyBcImZvcm1hdFwiIGFyZ3VtZW50LlxuICpcbiAqIFZhbGlkIGtleSBuYW1lcyBhcmUgYSBzaW5nbGUsIGxvd2VyIG9yIHVwcGVyLWNhc2UgbGV0dGVyLCBpLmUuIFwiblwiIGFuZCBcIk5cIi5cbiAqL1xuXG5leHBvcnRzLmZvcm1hdHRlcnMgPSB7fTtcblxuLyoqXG4gKiBQcmV2aW91cyBsb2cgdGltZXN0YW1wLlxuICovXG5cbnZhciBwcmV2VGltZTtcblxuLyoqXG4gKiBTZWxlY3QgYSBjb2xvci5cbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHNlbGVjdENvbG9yKG5hbWVzcGFjZSkge1xuICB2YXIgaGFzaCA9IDAsIGk7XG5cbiAgZm9yIChpIGluIG5hbWVzcGFjZSkge1xuICAgIGhhc2ggID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBuYW1lc3BhY2UuY2hhckNvZGVBdChpKTtcbiAgICBoYXNoIHw9IDA7IC8vIENvbnZlcnQgdG8gMzJiaXQgaW50ZWdlclxuICB9XG5cbiAgcmV0dXJuIGV4cG9ydHMuY29sb3JzW01hdGguYWJzKGhhc2gpICUgZXhwb3J0cy5jb2xvcnMubGVuZ3RoXTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBkZWJ1Z2dlciB3aXRoIHRoZSBnaXZlbiBgbmFtZXNwYWNlYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gY3JlYXRlRGVidWcobmFtZXNwYWNlKSB7XG5cbiAgZnVuY3Rpb24gZGVidWcoKSB7XG4gICAgLy8gZGlzYWJsZWQ/XG4gICAgaWYgKCFkZWJ1Zy5lbmFibGVkKSByZXR1cm47XG5cbiAgICB2YXIgc2VsZiA9IGRlYnVnO1xuXG4gICAgLy8gc2V0IGBkaWZmYCB0aW1lc3RhbXBcbiAgICB2YXIgY3VyciA9ICtuZXcgRGF0ZSgpO1xuICAgIHZhciBtcyA9IGN1cnIgLSAocHJldlRpbWUgfHwgY3Vycik7XG4gICAgc2VsZi5kaWZmID0gbXM7XG4gICAgc2VsZi5wcmV2ID0gcHJldlRpbWU7XG4gICAgc2VsZi5jdXJyID0gY3VycjtcbiAgICBwcmV2VGltZSA9IGN1cnI7XG5cbiAgICAvLyB0dXJuIHRoZSBgYXJndW1lbnRzYCBpbnRvIGEgcHJvcGVyIEFycmF5XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgIH1cblxuICAgIGFyZ3NbMF0gPSBleHBvcnRzLmNvZXJjZShhcmdzWzBdKTtcblxuICAgIGlmICgnc3RyaW5nJyAhPT0gdHlwZW9mIGFyZ3NbMF0pIHtcbiAgICAgIC8vIGFueXRoaW5nIGVsc2UgbGV0J3MgaW5zcGVjdCB3aXRoICVPXG4gICAgICBhcmdzLnVuc2hpZnQoJyVPJyk7XG4gICAgfVxuXG4gICAgLy8gYXBwbHkgYW55IGBmb3JtYXR0ZXJzYCB0cmFuc2Zvcm1hdGlvbnNcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIGFyZ3NbMF0gPSBhcmdzWzBdLnJlcGxhY2UoLyUoW2EtekEtWiVdKS9nLCBmdW5jdGlvbihtYXRjaCwgZm9ybWF0KSB7XG4gICAgICAvLyBpZiB3ZSBlbmNvdW50ZXIgYW4gZXNjYXBlZCAlIHRoZW4gZG9uJ3QgaW5jcmVhc2UgdGhlIGFycmF5IGluZGV4XG4gICAgICBpZiAobWF0Y2ggPT09ICclJScpIHJldHVybiBtYXRjaDtcbiAgICAgIGluZGV4Kys7XG4gICAgICB2YXIgZm9ybWF0dGVyID0gZXhwb3J0cy5mb3JtYXR0ZXJzW2Zvcm1hdF07XG4gICAgICBpZiAoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIGZvcm1hdHRlcikge1xuICAgICAgICB2YXIgdmFsID0gYXJnc1tpbmRleF07XG4gICAgICAgIG1hdGNoID0gZm9ybWF0dGVyLmNhbGwoc2VsZiwgdmFsKTtcblxuICAgICAgICAvLyBub3cgd2UgbmVlZCB0byByZW1vdmUgYGFyZ3NbaW5kZXhdYCBzaW5jZSBpdCdzIGlubGluZWQgaW4gdGhlIGBmb3JtYXRgXG4gICAgICAgIGFyZ3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgaW5kZXgtLTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9KTtcblxuICAgIC8vIGFwcGx5IGVudi1zcGVjaWZpYyBmb3JtYXR0aW5nIChjb2xvcnMsIGV0Yy4pXG4gICAgZXhwb3J0cy5mb3JtYXRBcmdzLmNhbGwoc2VsZiwgYXJncyk7XG5cbiAgICB2YXIgbG9nRm4gPSBkZWJ1Zy5sb2cgfHwgZXhwb3J0cy5sb2cgfHwgY29uc29sZS5sb2cuYmluZChjb25zb2xlKTtcbiAgICBsb2dGbi5hcHBseShzZWxmLCBhcmdzKTtcbiAgfVxuXG4gIGRlYnVnLm5hbWVzcGFjZSA9IG5hbWVzcGFjZTtcbiAgZGVidWcuZW5hYmxlZCA9IGV4cG9ydHMuZW5hYmxlZChuYW1lc3BhY2UpO1xuICBkZWJ1Zy51c2VDb2xvcnMgPSBleHBvcnRzLnVzZUNvbG9ycygpO1xuICBkZWJ1Zy5jb2xvciA9IHNlbGVjdENvbG9yKG5hbWVzcGFjZSk7XG5cbiAgLy8gZW52LXNwZWNpZmljIGluaXRpYWxpemF0aW9uIGxvZ2ljIGZvciBkZWJ1ZyBpbnN0YW5jZXNcbiAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBleHBvcnRzLmluaXQpIHtcbiAgICBleHBvcnRzLmluaXQoZGVidWcpO1xuICB9XG5cbiAgcmV0dXJuIGRlYnVnO1xufVxuXG4vKipcbiAqIEVuYWJsZXMgYSBkZWJ1ZyBtb2RlIGJ5IG5hbWVzcGFjZXMuIFRoaXMgY2FuIGluY2x1ZGUgbW9kZXNcbiAqIHNlcGFyYXRlZCBieSBhIGNvbG9uIGFuZCB3aWxkY2FyZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZW5hYmxlKG5hbWVzcGFjZXMpIHtcbiAgZXhwb3J0cy5zYXZlKG5hbWVzcGFjZXMpO1xuXG4gIGV4cG9ydHMubmFtZXMgPSBbXTtcbiAgZXhwb3J0cy5za2lwcyA9IFtdO1xuXG4gIHZhciBzcGxpdCA9ICh0eXBlb2YgbmFtZXNwYWNlcyA9PT0gJ3N0cmluZycgPyBuYW1lc3BhY2VzIDogJycpLnNwbGl0KC9bXFxzLF0rLyk7XG4gIHZhciBsZW4gPSBzcGxpdC5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGlmICghc3BsaXRbaV0pIGNvbnRpbnVlOyAvLyBpZ25vcmUgZW1wdHkgc3RyaW5nc1xuICAgIG5hbWVzcGFjZXMgPSBzcGxpdFtpXS5yZXBsYWNlKC9cXCovZywgJy4qPycpO1xuICAgIGlmIChuYW1lc3BhY2VzWzBdID09PSAnLScpIHtcbiAgICAgIGV4cG9ydHMuc2tpcHMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMuc3Vic3RyKDEpICsgJyQnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4cG9ydHMubmFtZXMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMgKyAnJCcpKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNhYmxlIGRlYnVnIG91dHB1dC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGRpc2FibGUoKSB7XG4gIGV4cG9ydHMuZW5hYmxlKCcnKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIG1vZGUgbmFtZSBpcyBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2UuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGVuYWJsZWQobmFtZSkge1xuICB2YXIgaSwgbGVuO1xuICBmb3IgKGkgPSAwLCBsZW4gPSBleHBvcnRzLnNraXBzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGV4cG9ydHMuc2tpcHNbaV0udGVzdChuYW1lKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICBmb3IgKGkgPSAwLCBsZW4gPSBleHBvcnRzLm5hbWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGV4cG9ydHMubmFtZXNbaV0udGVzdChuYW1lKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBDb2VyY2UgYHZhbGAuXG4gKlxuICogQHBhcmFtIHtNaXhlZH0gdmFsXG4gKiBAcmV0dXJuIHtNaXhlZH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGNvZXJjZSh2YWwpIHtcbiAgaWYgKHZhbCBpbnN0YW5jZW9mIEVycm9yKSByZXR1cm4gdmFsLnN0YWNrIHx8IHZhbC5tZXNzYWdlO1xuICByZXR1cm4gdmFsO1xufVxuIiwiLyoqXG4gKiBUaGlzIGlzIHRoZSB3ZWIgYnJvd3NlciBpbXBsZW1lbnRhdGlvbiBvZiBgZGVidWcoKWAuXG4gKlxuICogRXhwb3NlIGBkZWJ1ZygpYCBhcyB0aGUgbW9kdWxlLlxuICovXG5cbmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZGVidWcnKTtcbmV4cG9ydHMubG9nID0gbG9nO1xuZXhwb3J0cy5mb3JtYXRBcmdzID0gZm9ybWF0QXJncztcbmV4cG9ydHMuc2F2ZSA9IHNhdmU7XG5leHBvcnRzLmxvYWQgPSBsb2FkO1xuZXhwb3J0cy51c2VDb2xvcnMgPSB1c2VDb2xvcnM7XG5leHBvcnRzLnN0b3JhZ2UgPSAndW5kZWZpbmVkJyAhPSB0eXBlb2YgY2hyb21lXG4gICAgICAgICAgICAgICAmJiAndW5kZWZpbmVkJyAhPSB0eXBlb2YgY2hyb21lLnN0b3JhZ2VcbiAgICAgICAgICAgICAgICAgID8gY2hyb21lLnN0b3JhZ2UubG9jYWxcbiAgICAgICAgICAgICAgICAgIDogbG9jYWxzdG9yYWdlKCk7XG5cbi8qKlxuICogQ29sb3JzLlxuICovXG5cbmV4cG9ydHMuY29sb3JzID0gW1xuICAnbGlnaHRzZWFncmVlbicsXG4gICdmb3Jlc3RncmVlbicsXG4gICdnb2xkZW5yb2QnLFxuICAnZG9kZ2VyYmx1ZScsXG4gICdkYXJrb3JjaGlkJyxcbiAgJ2NyaW1zb24nXG5dO1xuXG4vKipcbiAqIEN1cnJlbnRseSBvbmx5IFdlYktpdC1iYXNlZCBXZWIgSW5zcGVjdG9ycywgRmlyZWZveCA+PSB2MzEsXG4gKiBhbmQgdGhlIEZpcmVidWcgZXh0ZW5zaW9uIChhbnkgRmlyZWZveCB2ZXJzaW9uKSBhcmUga25vd25cbiAqIHRvIHN1cHBvcnQgXCIlY1wiIENTUyBjdXN0b21pemF0aW9ucy5cbiAqXG4gKiBUT0RPOiBhZGQgYSBgbG9jYWxTdG9yYWdlYCB2YXJpYWJsZSB0byBleHBsaWNpdGx5IGVuYWJsZS9kaXNhYmxlIGNvbG9yc1xuICovXG5cbmZ1bmN0aW9uIHVzZUNvbG9ycygpIHtcbiAgLy8gTkI6IEluIGFuIEVsZWN0cm9uIHByZWxvYWQgc2NyaXB0LCBkb2N1bWVudCB3aWxsIGJlIGRlZmluZWQgYnV0IG5vdCBmdWxseVxuICAvLyBpbml0aWFsaXplZC4gU2luY2Ugd2Uga25vdyB3ZSdyZSBpbiBDaHJvbWUsIHdlJ2xsIGp1c3QgZGV0ZWN0IHRoaXMgY2FzZVxuICAvLyBleHBsaWNpdGx5XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucHJvY2VzcyAmJiB3aW5kb3cucHJvY2Vzcy50eXBlID09PSAncmVuZGVyZXInKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBpcyB3ZWJraXQ/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE2NDU5NjA2LzM3Njc3M1xuICAvLyBkb2N1bWVudCBpcyB1bmRlZmluZWQgaW4gcmVhY3QtbmF0aXZlOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QtbmF0aXZlL3B1bGwvMTYzMlxuICByZXR1cm4gKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuV2Via2l0QXBwZWFyYW5jZSkgfHxcbiAgICAvLyBpcyBmaXJlYnVnPyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zOTgxMjAvMzc2NzczXG4gICAgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5jb25zb2xlICYmICh3aW5kb3cuY29uc29sZS5maXJlYnVnIHx8ICh3aW5kb3cuY29uc29sZS5leGNlcHRpb24gJiYgd2luZG93LmNvbnNvbGUudGFibGUpKSkgfHxcbiAgICAvLyBpcyBmaXJlZm94ID49IHYzMT9cbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1Rvb2xzL1dlYl9Db25zb2xlI1N0eWxpbmdfbWVzc2FnZXNcbiAgICAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2ZpcmVmb3hcXC8oXFxkKykvKSAmJiBwYXJzZUludChSZWdFeHAuJDEsIDEwKSA+PSAzMSkgfHxcbiAgICAvLyBkb3VibGUgY2hlY2sgd2Via2l0IGluIHVzZXJBZ2VudCBqdXN0IGluIGNhc2Ugd2UgYXJlIGluIGEgd29ya2VyXG4gICAgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9hcHBsZXdlYmtpdFxcLyhcXGQrKS8pKTtcbn1cblxuLyoqXG4gKiBNYXAgJWogdG8gYEpTT04uc3RyaW5naWZ5KClgLCBzaW5jZSBubyBXZWIgSW5zcGVjdG9ycyBkbyB0aGF0IGJ5IGRlZmF1bHQuXG4gKi9cblxuZXhwb3J0cy5mb3JtYXR0ZXJzLmogPSBmdW5jdGlvbih2KSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHYpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gJ1tVbmV4cGVjdGVkSlNPTlBhcnNlRXJyb3JdOiAnICsgZXJyLm1lc3NhZ2U7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBDb2xvcml6ZSBsb2cgYXJndW1lbnRzIGlmIGVuYWJsZWQuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBmb3JtYXRBcmdzKGFyZ3MpIHtcbiAgdmFyIHVzZUNvbG9ycyA9IHRoaXMudXNlQ29sb3JzO1xuXG4gIGFyZ3NbMF0gPSAodXNlQ29sb3JzID8gJyVjJyA6ICcnKVxuICAgICsgdGhpcy5uYW1lc3BhY2VcbiAgICArICh1c2VDb2xvcnMgPyAnICVjJyA6ICcgJylcbiAgICArIGFyZ3NbMF1cbiAgICArICh1c2VDb2xvcnMgPyAnJWMgJyA6ICcgJylcbiAgICArICcrJyArIGV4cG9ydHMuaHVtYW5pemUodGhpcy5kaWZmKTtcblxuICBpZiAoIXVzZUNvbG9ycykgcmV0dXJuO1xuXG4gIHZhciBjID0gJ2NvbG9yOiAnICsgdGhpcy5jb2xvcjtcbiAgYXJncy5zcGxpY2UoMSwgMCwgYywgJ2NvbG9yOiBpbmhlcml0JylcblxuICAvLyB0aGUgZmluYWwgXCIlY1wiIGlzIHNvbWV3aGF0IHRyaWNreSwgYmVjYXVzZSB0aGVyZSBjb3VsZCBiZSBvdGhlclxuICAvLyBhcmd1bWVudHMgcGFzc2VkIGVpdGhlciBiZWZvcmUgb3IgYWZ0ZXIgdGhlICVjLCBzbyB3ZSBuZWVkIHRvXG4gIC8vIGZpZ3VyZSBvdXQgdGhlIGNvcnJlY3QgaW5kZXggdG8gaW5zZXJ0IHRoZSBDU1MgaW50b1xuICB2YXIgaW5kZXggPSAwO1xuICB2YXIgbGFzdEMgPSAwO1xuICBhcmdzWzBdLnJlcGxhY2UoLyVbYS16QS1aJV0vZywgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICBpZiAoJyUlJyA9PT0gbWF0Y2gpIHJldHVybjtcbiAgICBpbmRleCsrO1xuICAgIGlmICgnJWMnID09PSBtYXRjaCkge1xuICAgICAgLy8gd2Ugb25seSBhcmUgaW50ZXJlc3RlZCBpbiB0aGUgKmxhc3QqICVjXG4gICAgICAvLyAodGhlIHVzZXIgbWF5IGhhdmUgcHJvdmlkZWQgdGhlaXIgb3duKVxuICAgICAgbGFzdEMgPSBpbmRleDtcbiAgICB9XG4gIH0pO1xuXG4gIGFyZ3Muc3BsaWNlKGxhc3RDLCAwLCBjKTtcbn1cblxuLyoqXG4gKiBJbnZva2VzIGBjb25zb2xlLmxvZygpYCB3aGVuIGF2YWlsYWJsZS5cbiAqIE5vLW9wIHdoZW4gYGNvbnNvbGUubG9nYCBpcyBub3QgYSBcImZ1bmN0aW9uXCIuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBsb2coKSB7XG4gIC8vIHRoaXMgaGFja2VyeSBpcyByZXF1aXJlZCBmb3IgSUU4LzksIHdoZXJlXG4gIC8vIHRoZSBgY29uc29sZS5sb2dgIGZ1bmN0aW9uIGRvZXNuJ3QgaGF2ZSAnYXBwbHknXG4gIHJldHVybiAnb2JqZWN0JyA9PT0gdHlwZW9mIGNvbnNvbGVcbiAgICAmJiBjb25zb2xlLmxvZ1xuICAgICYmIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKGNvbnNvbGUubG9nLCBjb25zb2xlLCBhcmd1bWVudHMpO1xufVxuXG4vKipcbiAqIFNhdmUgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBzYXZlKG5hbWVzcGFjZXMpIHtcbiAgdHJ5IHtcbiAgICBpZiAobnVsbCA9PSBuYW1lc3BhY2VzKSB7XG4gICAgICBleHBvcnRzLnN0b3JhZ2UucmVtb3ZlSXRlbSgnZGVidWcnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXhwb3J0cy5zdG9yYWdlLmRlYnVnID0gbmFtZXNwYWNlcztcbiAgICB9XG4gIH0gY2F0Y2goZSkge31cbn1cblxuLyoqXG4gKiBMb2FkIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcmV0dXJuIHtTdHJpbmd9IHJldHVybnMgdGhlIHByZXZpb3VzbHkgcGVyc2lzdGVkIGRlYnVnIG1vZGVzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBsb2FkKCkge1xuICB2YXIgcjtcbiAgdHJ5IHtcbiAgICByID0gZXhwb3J0cy5zdG9yYWdlLmRlYnVnO1xuICB9IGNhdGNoKGUpIHt9XG5cbiAgLy8gSWYgZGVidWcgaXNuJ3Qgc2V0IGluIExTLCBhbmQgd2UncmUgaW4gRWxlY3Ryb24sIHRyeSB0byBsb2FkICRERUJVR1xuICBpZiAoIXIgJiYgdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICdlbnYnIGluIHByb2Nlc3MpIHtcbiAgICByID0gcHJvY2Vzcy5lbnYuREVCVUc7XG4gIH1cblxuICByZXR1cm4gcjtcbn1cblxuLyoqXG4gKiBFbmFibGUgbmFtZXNwYWNlcyBsaXN0ZWQgaW4gYGxvY2FsU3RvcmFnZS5kZWJ1Z2AgaW5pdGlhbGx5LlxuICovXG5cbmV4cG9ydHMuZW5hYmxlKGxvYWQoKSk7XG5cbi8qKlxuICogTG9jYWxzdG9yYWdlIGF0dGVtcHRzIHRvIHJldHVybiB0aGUgbG9jYWxzdG9yYWdlLlxuICpcbiAqIFRoaXMgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugc2FmYXJpIHRocm93c1xuICogd2hlbiBhIHVzZXIgZGlzYWJsZXMgY29va2llcy9sb2NhbHN0b3JhZ2VcbiAqIGFuZCB5b3UgYXR0ZW1wdCB0byBhY2Nlc3MgaXQuXG4gKlxuICogQHJldHVybiB7TG9jYWxTdG9yYWdlfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbG9jYWxzdG9yYWdlKCkge1xuICB0cnkge1xuICAgIHJldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlO1xuICB9IGNhdGNoIChlKSB7fVxufVxuIiwiZXhwb3J0IGNvbnN0IGNvbG9yX2NvdW50cmllcyA9ICdyZ2IoMTQ3LDE0NCwyNTIpJztcbmV4cG9ydCBjb25zdCBjb2xvcl9kaXNhYmxlZCA9ICdyZ2IoMjE0LCAyMTQsIDIxNCknO1xuZXhwb3J0IGNvbnN0IGNvbG9yX3N1cCA9ICdncmVlbic7XG5leHBvcnQgY29uc3QgY29sb3JfaW5mID0gJ3JlZCc7XG5leHBvcnQgY29uc3QgY29sb3JfaGlnaGxpZ2h0ID0gJ3llbGxvdyc7XG4iLCJpbXBvcnQgeyBjb2xvcl9pbmYsIGNvbG9yX3N1cCB9IGZyb20gJy4vb3B0aW9ucyc7XG5cbmNvbnN0IG1hdGhfYWJzID0gTWF0aC5hYnM7XG5jb25zdCBtYXRoX3JvdW5kID0gTWF0aC5yb3VuZDtcbmNvbnN0IG1hdGhfbWF4ID0gTWF0aC5tYXg7XG5jb25zdCBtYXRoX3NpbiA9IE1hdGguc2luO1xuY29uc3QgbWF0aF9jb3MgPSBNYXRoLmNvcztcbmNvbnN0IEhBTEZfUEkgPSBNYXRoLlBJIC8gMjtcblxuZnVuY3Rpb24gcHJlcGFyZVRvb2x0aXAocGFyZW50X3N2Z19lbGVtKSB7XG4gIGNvbnN0IHRvb2x0aXAgPSBwYXJlbnRfc3ZnX2VsZW0uYXBwZW5kKCdnJylcbiAgICAuYXR0cignY2xhc3MnLCAndG9vbHRpcCcpXG4gICAgLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcblxuICB0b29sdGlwLmFwcGVuZCgncmVjdCcpXG4gICAgLmF0dHJzKHsgd2lkdGg6IDUwLCBoZWlnaHQ6IDQwLCBmaWxsOiAnd2hpdGUnIH0pXG4gICAgLnN0eWxlKCdvcGFjaXR5JywgMC41KTtcblxuICB0b29sdGlwLmFwcGVuZCgndGV4dCcpXG4gICAgLmF0dHJzKHsgY2xhc3M6ICdpZF9mZWF0dXJlJywgeDogMjUsIGR5OiAnMS4yZW0nLCAnZm9udC1zaXplJzogJzE0cHgnIH0pXG4gICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKTtcblxuICB0b29sdGlwLmFwcGVuZCgndGV4dCcpXG4gICAgLmF0dHJzKHtcbiAgICAgIGNsYXNzOiAndmFsdWVfZmVhdHVyZTEnLFxuICAgICAgeDogMjUsXG4gICAgICBkeTogJzIuNGVtJyxcbiAgICAgICdmb250LXNpemUnOiAnMTRweCcsXG4gICAgICAnZm9udC13ZWlnaHQnOiAnYm9sZCcgfSlcbiAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpO1xuXG4gIHRvb2x0aXAuYXBwZW5kKCd0ZXh0JylcbiAgICAuYXR0cnMoe1xuICAgICAgY2xhc3M6ICd2YWx1ZV9mZWF0dXJlMicsXG4gICAgICB4OiAyNSxcbiAgICAgIGR5OiAnMy41ZW0nLFxuICAgICAgJ2ZvbnQtc2l6ZSc6ICcxNHB4JyxcbiAgICAgICdmb250LXdlaWdodCc6ICdib2xkJyB9KVxuICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnbWlkZGxlJyk7XG5cbiAgdG9vbHRpcC5hcHBlbmQoJ3RleHQnKVxuICAgIC5hdHRycyh7XG4gICAgICBjbGFzczogJ3ZhbHVlX2ZlYXR1cmUzJyxcbiAgICAgIHg6IDI1LFxuICAgICAgZHk6ICc0LjZlbScsXG4gICAgICAnZm9udC1zaXplJzogJzE0cHgnLFxuICAgICAgJ2ZvbnQtd2VpZ2h0JzogJ2JvbGQnIH0pXG4gICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKTtcblxuICB0b29sdGlwLmFwcGVuZCgndGV4dCcpXG4gICAgLmF0dHJzKHtcbiAgICAgIGNsYXNzOiAndmFsdWVfZmVhdHVyZTQnLFxuICAgICAgeDogMjUsXG4gICAgICBkeTogJzUuN2VtJyxcbiAgICAgICdmb250LXNpemUnOiAnMTRweCcsXG4gICAgICAnZm9udC13ZWlnaHQnOiAnYm9sZCcgfSlcbiAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpO1xuXG4gIHJldHVybiB0b29sdGlwO1xufVxuXG5mdW5jdGlvbiB1bmJpbmRVSSgpIHtcbiAgLy8gUmVtb3ZlcyB0aGUgY3VycmVudCBiZWhhdmlvciBjb3JyZXNwb25kaW5nIHRvIGNsaWNraW5nIG9uIHRoZSBsZWZ0IG1lbnU6XG4gIGQzLnNlbGVjdEFsbCgnc3Bhbi5maWx0ZXJfdicpXG4gICAgLm9uKCdjbGljaycsIG51bGwpO1xuICBkMy5zZWxlY3RBbGwoJ3NwYW4udGFyZ2V0X3JlZ2lvbicpXG4gICAgLm9uKCdjbGljaycsIG51bGwpO1xuICBkMy5zZWxlY3RBbGwoJ3NwYW4ubGFiZWxfY2hrJylcbiAgICAub24oJ2NsaWNrJywgbnVsbCk7XG5cbiAgLy8gUmVtb3ZlIHRoZSB0YWJsZTpcbiAgZDMuc2VsZWN0KCcuZGF0YVRhYmxlLXdyYXBwZXInKS5yZW1vdmUoKTtcblxuICAvLyBVbmJpbmQgYnV0dG9ucyBvbiB0aGUgdG9wIG9mIHRoZSBtYXA6XG4gIGQzLnNlbGVjdCgnI2hlYWRlcl9tYXAnKVxuICAgIC5zZWxlY3RBbGwoJ2ltZycpXG4gICAgLm9uKCdjbGljaycsIG51bGwpO1xuXG4gIC8vIFJlbW92ZSB0aGUgc2VsZWN0aW9uIG1lbnUgKG9yIGJ1dHRvbnMpIHVuZGVyIHRoZSBjaGFydDpcbiAgZDMuc2VsZWN0KCcjYmFyX3NlY3Rpb24gPiAjbWVudV9zZWxlY3Rpb24nKS5yZW1vdmUoKTtcblxuICAvLyBSZW1vdmVzIHRoZSBjdXJyZW50IGJlaGF2aW9yIGNvcnJlc3BvbmRpbmcgdG8gY2xpY2tpbmcgb24gdGhlIHRvcCBtZW51OlxuICBkMy5zZWxlY3RBbGwoJy50eXBlX2NoYXJ0LnRpdGxlX21lbnUnKS5vbignY2xpY2snLCBudWxsKTtcblxuICAvLyBSZW1vdmVzIHRoZSBjdXJyZW50IGJlaGF2aW9yIGNvcnJlc3BvbmRpbmcgdG8gcHJlc3NpbmcgdGhlIENvbnRyb2wga2V5OlxuICBkb2N1bWVudC5vbmtleXVwID0gbnVsbDtcbiAgZG9jdW1lbnQub25rZXlkb3duID0gbnVsbDtcbn1cblxuLyoqXG4qIEZ1bmN0aW9uIHRvIGNvbXBhcmUgdGhlIHZhbHVlIG9mIGEgZmVhdHVyZSB0byB0aGUgcmVmZXJlbmNlIHZhbHVlIChpLmUuIHRoZSB2YWx1ZSBvZiBcIm15IHJlZ2lvblwiKVxuKiBhbmQgcmV0dXJuIHRoZSBhcHByb3ByaWF0ZSBjb2xvciAoc2VyaWUgbWF5IGJlIGludmVyc2VkKVxuKlxuKiBAcGFyYW0ge051bWJlcn0gdGVzdF92YWx1ZSAtIFRoZSB2YWx1ZSB0byBiZSBjb21wYXJlZCB0byB0aGUgdmFsdWUgb2YgXCJteSByZWdpb25cIi5cbiogQHBhcmFtIHtOdW1iZXJ9IHJlZl92YWx1ZSAtIFRoZSB2YWx1ZSBvZiBteSByZWdpb24uXG4qIEBwYXJhbSB7Qm9vbGVhbn0gc2VyaWVfaW52ZXJzZWQgLSBXaGV0aGVyIHRoZSBzZXJpZSBpcyBpbnZlcnNlZCBvciBub3QgaW4gdGhlIGN1cnJlbnQgY2hhcnQuXG4qIEByZXR1cm4ge1N0cmluZ30gLSBBIHN0cmluZyBjb250YWluaW5nIHRoZSBjb2xvciB0byBiZSB1c2VkIGZvciB0aGlzIHZhbHVlLlxuKlxuKi9cbmNvbnN0IGNvbXAgPSAodGVzdF92YWx1ZSwgcmVmX3ZhbHVlLCBzZXJpZV9pbnZlcnNlZCkgPT4ge1xuICBpZiAodGVzdF92YWx1ZSA8IHJlZl92YWx1ZSkge1xuICAgIHJldHVybiBzZXJpZV9pbnZlcnNlZCA/IGNvbG9yX3N1cCA6IGNvbG9yX2luZjtcbiAgfVxuICByZXR1cm4gc2VyaWVfaW52ZXJzZWQgPyBjb2xvcl9pbmYgOiBjb2xvcl9zdXA7XG59O1xuXG5cbi8qKlxuKiBGdW5jdGlvbiB0byBjb21wYXJlIHRoZSB2YWx1ZSBvZiBhIGZlYXR1cmUgdG8gdGhlIHJlZmVyZW5jZSB2YWx1ZSAoaS5lLiB0aGUgdmFsdWUgb2YgXCJteSByZWdpb25cIilcbiogYW5kIHJldHVybiB0aGUgYXBwcm9wcmlhdGUgY29sb3IgKHNlcmllIG1heSBiZSBpbnZlcnNlZClcbipcbiogQHBhcmFtIHtOdW1iZXJ9IHZhbDEgLSBUaGUgdmFsdWUgdG8gYmUgY29tcGFyZWQgdG8gdGhlIHZhbHVlIG9mIFwibXkgcmVnaW9uXCIgZm9yIHRoZSAxc3QgdmFyaWFibGUuXG4qIEBwYXJhbSB7TnVtYmVyfSB2YWwyIC0gVGhlIHZhbHVlIHRvIGJlIGNvbXBhcmVkIHRvIHRoZSB2YWx1ZSBvZiBcIm15IHJlZ2lvblwiIGZvciB0aGUgMm5kIHZhcmlhYmxlLlxuKiBAcGFyYW0ge051bWJlcn0gcmVmX3ZhbDEgLSBUaGUgdmFsdWUgb2YgbXkgcmVnaW9uIGZvciBoZSBmaXJzdCB2YXJpYWJsZS5cbiogQHBhcmFtIHtOdW1iZXJ9IHJlZl92YWwyIC0gVGhlIHZhbHVlIG9mIG15IHJlZ2lvbiBmb3IgdGhlIHNlY29uZCB2YXJpYWJsZS5cbiogQHBhcmFtIHtCb29sZWFufSB4SW52ZXJzZWQgLSBXaGV0aGVyIHRoZSBzZXJpZSBpcyBpbnZlcnNlZCBvbiB0aGUgeCBheGlzIGluIHRoZSBjdXJyZW50IGNoYXJ0LlxuKiBAcGFyYW0ge0Jvb2xlYW59IHlJbnZlcnNlZCAtIFdoZXRoZXIgdGhlIHNlcmllIGlzIGludmVyc2VkIG9uIHRoZSB5IGF4aXMgaW4gdGhlIGN1cnJlbnQgY2hhcnQuXG4qIEByZXR1cm4ge1N0cmluZ30gLSBBIHN0cmluZyBjb250YWluaW5nIHRoZSBjb2xvciB0byBiZSB1c2VkIGZvciB0aGVzZXMgdmFsdWVzLlxuKlxuKi9cbmNvbnN0IGNvbXAyID0gKHZhbDEsIHZhbDIsIHJlZl92YWwxLCByZWZfdmFsMiwgeEludmVyc2VkLCB5SW52ZXJzZWQpID0+IHtcbiAgaWYgKCh2YWwxIDwgcmVmX3ZhbDEgJiYgIXhJbnZlcnNlZCkgfHwgKHZhbDEgPiByZWZfdmFsMSAmJiB4SW52ZXJzZWQpKSB7IC8vIHZhbDEgaXMgaW5mZXJpb3I6XG4gICAgaWYgKHZhbDIgPCByZWZfdmFsMikge1xuICAgICAgcmV0dXJuIHlJbnZlcnNlZCA/ICdyZ2IoMTYwLCAzMCwgMTYwKScgOiBjb2xvcl9pbmY7XG4gICAgfVxuICAgIHJldHVybiB5SW52ZXJzZWQgPyBjb2xvcl9pbmYgOiAncmdiKDE2MCwgMzAsIDE2MCknO1xuICB9XG4gIC8vIHZhbDEgaXMgc3VwZXJpb3IgOlxuICBpZiAodmFsMiA+IHJlZl92YWwyKSB7XG4gICAgcmV0dXJuICF5SW52ZXJzZWQgPyBjb2xvcl9zdXAgOiAnb3JhbmdlJztcbiAgfVxuICByZXR1cm4gIXlJbnZlcnNlZCA/ICdvcmFuZ2UnIDogY29sb3Jfc3VwO1xufTtcblxuY2xhc3MgUmVjdCB7XG4gIGNvbnN0cnVjdG9yKHRvcGxlZnQsIGJvdHRvbXJpZ2h0KSB7XG4gICAgdGhpcy54bWluID0gdG9wbGVmdFswXTtcbiAgICB0aGlzLnhtYXggPSBib3R0b21yaWdodFswXTtcbiAgICB0aGlzLnltaW4gPSB0b3BsZWZ0WzFdO1xuICAgIHRoaXMueW1heCA9IGJvdHRvbXJpZ2h0WzFdO1xuICB9XG5cbiAgY29udGFpbnMocHQpIHtcbiAgICBpZiAocHRbMF0gPj0gdGhpcy54bWluICYmIHB0WzBdIDw9IHRoaXMueG1heFxuICAgICAgICAmJiBwdFsxXSA+PSB0aGlzLnltaW4gJiYgcHRbMV0gPD0gdGhpcy55bWF4KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmNvbnN0IFByb3BTaXplciA9IGZ1bmN0aW9uIFByb3BTaXplcihmaXhlZF92YWx1ZSwgZml4ZWRfc2l6ZSkge1xuICB0aGlzLmZpeGVkX3ZhbHVlID0gZml4ZWRfdmFsdWU7XG4gIGNvbnN0IHNxcnQgPSBNYXRoLnNxcnQ7XG4gIGNvbnN0IGFicyA9IE1hdGguYWJzO1xuICBjb25zdCBQSSA9IE1hdGguUEk7XG4gIHRoaXMuc21heCA9IGZpeGVkX3NpemUgKiBmaXhlZF9zaXplICogUEk7XG4gIHRoaXMuc2NhbGUgPSB2YWwgPT4gc3FydChhYnModmFsKSAqIHRoaXMuc21heCAvIHRoaXMuZml4ZWRfdmFsdWUpIC8gUEk7XG4gIC8vIHRoaXMuZ2V0X3ZhbHVlID0gc2l6ZSA9PiAoKHNpemUgKiBQSSkgKiogMikgLyB0aGlzLnNtYXggKiB0aGlzLmZpeGVkX3ZhbHVlO1xuICAvLyBVc2UgTWF0aCBwb3cgdG8gc3VwcG9ydCBicm93c2VyIHdpdGhvdXQgKiogb3BlcmF0b3I6XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXByb3BlcnRpZXNcbiAgdGhpcy5nZXRfdmFsdWUgPSBzaXplID0+IE1hdGgucG93KHNpemUgKiBQSSwgMikgLyB0aGlzLnNtYXggKiB0aGlzLmZpeGVkX3ZhbHVlO1xufTtcblxuY29uc3QgcmVtb3ZlRHVwbGljYXRlcyA9IGZ1bmN0aW9uIHJlbW92ZUR1cGxpY2F0ZXMoYXJyKSB7XG4gIGNvbnN0IHRtcCA9IFtdO1xuICBmb3IgKGxldCBpID0gMCwgbGVuX2FyciA9IGFyci5sZW5ndGg7IGkgPCBsZW5fYXJyOyBpKyspIHtcbiAgICBpZiAodG1wLmluZGV4T2YoYXJyW2ldKSA9PT0gLTEpIHtcbiAgICAgIHRtcC5wdXNoKGFycltpXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB0bXA7XG59O1xuXG5jb25zdCBnZXRTdmdQYXRoVHlwZSA9IChwYXRoKSA9PiB7XG4gIGlmIChwYXRoLmluZGV4T2YoJ00gJykgPiAtMSAmJiBwYXRoLmluZGV4T2YoJyBMICcpID4gLTEpIHtcbiAgICByZXR1cm4gMjtcbiAgfVxuICByZXR1cm4gMTtcbn07XG5cbmNvbnN0IHN2Z1BhdGhUb0Nvb3JkcyA9IChwYXRoLCB0eXBlX3BhdGgpID0+IHtcbiAgaWYgKHR5cGVfcGF0aCA9PT0gMSkge1xuICAgIHJldHVybiBwYXRoLnNsaWNlKDEpLnNwbGl0KCdMJykubWFwKHB0ID0+IHB0LnNwbGl0KCcsJykubWFwKGEgPT4gK2EpKTtcbiAgfVxuICByZXR1cm4gcGF0aC5zbGljZSgyKS5zcGxpdCgnIEwgJykubWFwKHB0ID0+IHB0LnNwbGl0KCcgJykubWFwKGEgPT4gK2EpKTtcbn07XG5cbmZ1bmN0aW9uIGNvbXB1dGVQZXJjZW50aWxlUmFuayhvYmosIGZpZWxkX25hbWUsIHJlc3VsdF9maWVsZF9uYW1lKSB7XG4gIGNvbnN0IHZhbHVlcyA9IG9iai5tYXAoZCA9PiBkW2ZpZWxkX25hbWVdKTtcbiAgY29uc3QgbGVuX3ZhbHVlcyA9IHZhbHVlcy5sZW5ndGg7XG4gIGNvbnN0IGdldFBSID0gKHYpID0+IHtcbiAgICBsZXQgY291bnQgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuX3ZhbHVlczsgaSsrKSB7XG4gICAgICBpZiAodmFsdWVzW2ldIDw9IHYpIHtcbiAgICAgICAgY291bnQgKz0gMTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIDEwMCAqIGNvdW50IC8gbGVuX3ZhbHVlcztcbiAgfTtcbiAgZm9yIChsZXQgaXggPSAwOyBpeCA8IGxlbl92YWx1ZXM7IGl4KyspIHtcbiAgICBvYmpbaXhdW3Jlc3VsdF9maWVsZF9uYW1lXSA9IGdldFBSKHZhbHVlc1tpeF0pO1xuICB9XG59XG5cbmNvbnN0IF9nZXRQUiA9ICh2LCBzZXJpZSkgPT4ge1xuICBsZXQgY291bnQgPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNlcmllLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHNlcmllW2ldIDw9IHYpIHtcbiAgICAgIGNvdW50ICs9IDE7XG4gICAgfVxuICB9XG4gIHJldHVybiAxMDAgKiBjb3VudCAvIHNlcmllLmxlbmd0aDtcbn07XG5cbmV4cG9ydCB7XG4gIGNvbXAsXG4gIGNvbXAyLFxuICBtYXRoX2FicyxcbiAgbWF0aF9yb3VuZCxcbiAgbWF0aF9zaW4sXG4gIG1hdGhfY29zLFxuICBtYXRoX21heCxcbiAgSEFMRl9QSSxcbiAgUmVjdCxcbiAgUHJvcFNpemVyLFxuICB1bmJpbmRVSSxcbiAgcHJlcGFyZVRvb2x0aXAsXG4gIHJlbW92ZUR1cGxpY2F0ZXMsXG4gIGdldFN2Z1BhdGhUeXBlLFxuICBzdmdQYXRoVG9Db29yZHMsXG4gIGNvbXB1dGVQZXJjZW50aWxlUmFuayxcbiAgX2dldFBSLFxufTtcbiIsImltcG9ydCB7IHJlbW92ZUR1cGxpY2F0ZXMgfSBmcm9tICcuL2hlbHBlcnMnO1xuXG5jb25zdCBjcmVhdGVNZW51ID0gZnVuY3Rpb24gY3JlYXRlTWVudShuYW1lcywgdmFyaWFibGVzLCBzdHVkeV96b25lcywgdGVycml0b3JpYWxfbWVzaCkge1xuICAvLyBGaXJzdCBzZWN0aW9uLCByZWdpb25zIG5hbWVzOlxuICBjb25zdCB0aXRsZV9zZWN0aW9uMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgdGl0bGVfc2VjdGlvbjEuY2xhc3NOYW1lID0gJ3RpdGxlX21lbnUnO1xuICB0aXRsZV9zZWN0aW9uMS5pbm5lckhUTUwgPSAnTWEgcsOpZ2lvbic7XG4gIGNvbnN0IHNlY3Rpb24xID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHNlY3Rpb24xLmNsYXNzTmFtZSA9ICdib3gnO1xuICBzZWN0aW9uMS5zdHlsZS5vdmVyZmxvdyA9ICdhdXRvJztcbiAgc2VjdGlvbjEuc3R5bGUuaGVpZ2h0ID0gJzE4MHB4JztcbiAgZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gbmFtZXMubGVuZ3RoOyBpIDwgbGVuX2k7IGkrKykge1xuICAgIGNvbnN0IGlkID0gbmFtZXNbaV0uZ2VvO1xuICAgIGNvbnN0IG5hbWUgPSBuYW1lc1tpXS5Ob207XG4gICAgY29uc3QgZW50cnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgZW50cnkuaW5uZXJIVE1MID0gYDxzcGFuIHZhbHVlPVwiJHtpZH1cIiBjbGFzcz0ndGFyZ2V0X3JlZ2lvbiBzcXVhcmUnPjwvc3Bhbj48c3BhbiBjbGFzcz1cImxhYmVsX2Noa1wiPiR7bmFtZX08L3NwYW4+YDtcbiAgICBzZWN0aW9uMS5hcHBlbmRDaGlsZChlbnRyeSk7XG4gIH1cblxuICAvLyBTZWNvbmQgc2VjdGlvbiwgZ3JvdXBzIG9mIHZhcmlhYmxlczpcbiAgY29uc3QgdGl0bGVfc2VjdGlvbjIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gIHRpdGxlX3NlY3Rpb24yLmNsYXNzTmFtZSA9ICd0aXRsZV9tZW51JztcbiAgdGl0bGVfc2VjdGlvbjIuaW5uZXJIVE1MID0gJ01vbi9tZXMgaW5kaWNhdGV1cnMnO1xuICBjb25zdCBzZWN0aW9uMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBzZWN0aW9uMi5jbGFzc05hbWUgPSAnYm94JztcbiAgc2VjdGlvbjIuc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7XG4gIHNlY3Rpb24yLnN0eWxlLmhlaWdodCA9ICcxNzBweCc7XG5cbiAgLy8gRmlsdGVyIHRoZSBcInZhcmlhYmxlc1wiIHZhcmlhYmxlIHRvIGZldGNoIHRoZSBncm91cCBuYW1lcyA6XG4gIGNvbnN0IGdyb3Vwc192YXIgPSByZW1vdmVEdXBsaWNhdGVzKHZhcmlhYmxlcy5tYXAoZCA9PiBkLmdyb3VwKSk7XG5cbiAgZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gZ3JvdXBzX3Zhci5sZW5ndGg7IGkgPCBsZW5faTsgaSsrKSB7XG4gICAgY29uc3QgZ3BfbmFtZSA9IGdyb3Vwc192YXJbaV07XG4gICAgY29uc3QgZW50cnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgZW50cnkuY2xhc3NOYW1lID0gJ25hbWVfZ3JvdXBfdmFyJztcbiAgICBlbnRyeS5pbm5lckhUTUwgPSBgPHNwYW4gY2xhc3M9J3NxdWFyZSc+PC9zcGFuPjxzcGFuPiR7Z3BfbmFtZX08L3NwYW4+YDtcbiAgICBzZWN0aW9uMi5hcHBlbmRDaGlsZChlbnRyeSk7XG4gICAgY29uc3QgZGl2X2dycCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRpdl9ncnAuc3R5bGUuZGlzcGxheSA9IGkgPT09IDAgPyBudWxsIDogJ25vbmUnO1xuICAgIGNvbnN0IHZhcl9uYW1lcyA9IHZhcmlhYmxlcy5maWx0ZXIoZCA9PiBkLmdyb3VwID09PSBncF9uYW1lKTtcbiAgICBmb3IgKGxldCBqID0gMCwgbGVuX2ogPSB2YXJfbmFtZXMubGVuZ3RoOyBqIDwgbGVuX2o7IGorKykge1xuICAgICAgY29uc3QgbmFtZV92YXIgPSB2YXJfbmFtZXNbal0ubmFtZTtcbiAgICAgIGNvbnN0IGNvZGVfdmFyID0gdmFyX25hbWVzW2pdLnJhdGlvO1xuICAgICAgY29uc3Qgc3ViX2VudHJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgc3ViX2VudHJ5LmNsYXNzTmFtZSA9ICdzbWFsbCc7XG4gICAgICBzdWJfZW50cnkuaW5uZXJIVE1MID0gYDxzcGFuIHZhbHVlPVwiJHtjb2RlX3Zhcn1cIiBjbGFzcz1cInRhcmdldF92YXJpYWJsZSBzbWFsbF9zcXVhcmVcIj48L3NwYW4+PHNwYW4gY2xhc3M9XCJsYWJlbF9jaGtcIj4ke25hbWVfdmFyfTwvc3Bhbj5gO1xuICAgICAgZGl2X2dycC5hcHBlbmRDaGlsZChzdWJfZW50cnkpO1xuICAgIH1cbiAgICBzZWN0aW9uMi5hcHBlbmRDaGlsZChkaXZfZ3JwKTtcbiAgfVxuXG4gIC8vIFRoaXJkIHNlY3Rpb24sIHN0dWR5IHpvbmU6XG4gIGNvbnN0IHRpdGxlX3NlY3Rpb24zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICB0aXRsZV9zZWN0aW9uMy5jbGFzc05hbWUgPSAndGl0bGVfbWVudSc7XG4gIHRpdGxlX3NlY3Rpb24zLmlubmVySFRNTCA9ICdNb24gZXNwYWNlIGRcXCfDqXR1ZGUnO1xuICBjb25zdCBzZWN0aW9uMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBzZWN0aW9uMy5jbGFzc05hbWUgPSAnYm94JztcbiAgZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gc3R1ZHlfem9uZXMubGVuZ3RoOyBpIDwgbGVuX2k7IGkrKykge1xuICAgIGNvbnN0IGVudHJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGNvbnN0IHpvbmUgPSBzdHVkeV96b25lc1tpXTtcbiAgICBlbnRyeS5pbm5lckhUTUwgPSBgPHNwYW4gZmlsdGVyLXZhbHVlPVwiJHt6b25lLmlkfVwiIGNsYXNzPSdmaWx0ZXJfdiBzcXVhcmUnPjwvc3Bhbj48c3BhbiBjbGFzcz1cImxhYmVsX2Noa1wiPiR7em9uZS5uYW1lfTwvc3Bhbj5gO1xuICAgIHNlY3Rpb24zLmFwcGVuZENoaWxkKGVudHJ5KTtcbiAgfVxuXG4gIC8vIEZvdXJ0aCBzZWN0aW9uOlxuICBjb25zdCB0aXRsZV9zZWN0aW9uNCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgdGl0bGVfc2VjdGlvbjQuY2xhc3NOYW1lID0gJ3RpdGxlX21lbnUnO1xuICB0aXRsZV9zZWN0aW9uNC5pbm5lckhUTUwgPSAnTWFpbGxhZ2UgdGVycml0b3JpYWwgZFxcJ2FuYWx5c2UnO1xuICBjb25zdCBzZWN0aW9uNCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBzZWN0aW9uNC5jbGFzc05hbWUgPSAnYm94JztcbiAgZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gdGVycml0b3JpYWxfbWVzaC5sZW5ndGg7IGkgPCBsZW5faTsgaSsrKSB7XG4gICAgY29uc3QgZW50cnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgY29uc3QgdGVycml0X2xldmVsID0gdGVycml0b3JpYWxfbWVzaFtpXTtcbiAgICBlbnRyeS5pbm5lckhUTUwgPSBgPHNwYW4gdmFsdWU9XCIke3RlcnJpdF9sZXZlbC5pZH1cIiBjbGFzcz0nc3F1YXJlIHRlcnJpdF9sZXZlbCc+PC9zcGFuPjxzcGFuIGNsYXNzPVwibGFiZWxfY2hrXCI+JHt0ZXJyaXRfbGV2ZWwubmFtZX08L3NwYW4+YDtcbiAgICBzZWN0aW9uNC5hcHBlbmRDaGlsZChlbnRyeSk7XG4gIH1cblxuICAvLyBUaGUgYWN0dWFsIG1lbnUgY29udGFpbmluZyB0aGVzZSA0IHNlY3Rpb25zOlxuICBjb25zdCBtZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnUnKTtcbiAgbWVudS5pZCA9ICdtZW51JztcbiAgbWVudS5zdHlsZS53aWR0aCA9ICczNDBweCc7XG4gIG1lbnUuc3R5bGUuZmxvYXQgPSAnbGVmdCc7XG4gIG1lbnUuYXBwZW5kQ2hpbGQodGl0bGVfc2VjdGlvbjEpO1xuICBtZW51LmFwcGVuZENoaWxkKHNlY3Rpb24xKTtcbiAgbWVudS5hcHBlbmRDaGlsZCh0aXRsZV9zZWN0aW9uMik7XG4gIG1lbnUuYXBwZW5kQ2hpbGQoc2VjdGlvbjIpO1xuICBtZW51LmFwcGVuZENoaWxkKHRpdGxlX3NlY3Rpb24zKTtcbiAgbWVudS5hcHBlbmRDaGlsZChzZWN0aW9uMyk7XG4gIG1lbnUuYXBwZW5kQ2hpbGQodGl0bGVfc2VjdGlvbjQpO1xuICBtZW51LmFwcGVuZENoaWxkKHNlY3Rpb240KTtcbn07XG5cbmV4cG9ydCB7IGNyZWF0ZU1lbnUgfTtcbiIsImltcG9ydCB7IGFwcCB9IGZyb20gJy4vLi4vbWFpbic7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VUb3BNZW51KCkge1xuICBjb25zdCB0b3BfbWVudSA9IGQzLnNlbGVjdCgnI21lbnV0b3AnKVxuICAgIC5zdHlsZXMoeyAnZm9udC1mYW1pbHknOiBcIidTaWduaWthJywgc2Fucy1zZXJpZlwiLCAnZm9udC1zaXplJzogJzAuODBlbScsIHBhZGRpbmc6ICcwLjNweCcgfSk7XG4gIGNvbnN0IHdpZHRoX2xlZnQgPSBgJHtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWVudScpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICsgMjV9cHhgO1xuICBjb25zdCB0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Jhcl9zZWN0aW9uJykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XG4gIGNvbnN0IHdpZHRoX2NlbnRyYWxfY2hhcnQgPSBgJHt0fXB4YDtcbiAgY29uc3Qgd2lkdGhfbWFwID0gYCR7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21hcF9zZWN0aW9uJykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggLSAzNX1weGA7XG4gIGNvbnN0IHdpZHRoX3R5cGVfY29tcCA9IGAkeyh0IC0gODApIC8gMyAtIDJ9cHhgO1xuICB0b3BfbWVudVxuICAgIC5hcHBlbmQoJ2RpdicpXG4gICAgLmF0dHJzKHsgY2xhc3M6ICd0aXRsZV9zZWN0aW9uJyB9KVxuICAgIC5zdHlsZXMoeyB3aWR0aDogd2lkdGhfbGVmdCwgZmxvYXQ6ICdsZWZ0JywgbWFyZ2luOiAnMCAzcHgnIH0pXG4gICAgLmh0bWwoJ1PDiUxFQ1RJT04nKTtcblxuICBjb25zdCB0eXBlX2NoYXJ0ID0gdG9wX21lbnVcbiAgICAuYXBwZW5kKCdkaXYnKVxuICAgIC5hdHRyKCdjbGFzcycsICd0b3Bfc2VjdGlvbicpXG4gICAgLnN0eWxlcyh7IHdpZHRoOiB3aWR0aF9jZW50cmFsX2NoYXJ0LCBmbG9hdDogJ2xlZnQnLCBtYXJnaW46ICcwIDNweCcsICd0ZXh0LWFsaWduJzogJ2NlbnRlcicgfSk7XG5cbiAgY29uc3QgcG9zaXRpb24gPSB0eXBlX2NoYXJ0XG4gICAgLmFwcGVuZCgnZGl2JylcbiAgICAuYXR0cignY2xhc3MnLCAndHlwZV9jb21wYXJhaXNvbicpXG4gICAgLnN0eWxlcyh7IHdpZHRoOiB3aWR0aF90eXBlX2NvbXAgfSk7XG5cbiAgcG9zaXRpb24uYXBwZW5kKCdwJylcbiAgICAuYXR0cignY2xhc3MnLCAndGl0bGVfdHlwZV9jb21wJylcbiAgICAuaHRtbCgnUE9TSVRJT04nKTtcblxuICBwb3NpdGlvbi5hcHBlbmQoJ3NwYW4nKVxuICAgIC5hdHRycyh7IGNsYXNzOiAndHlwZV9jaGFydCBjaGFydF90MScsIHZhbHVlOiAnQmFyQ2hhcnQxJyB9KVxuICAgIC5odG1sKCcxIGluZC4nKTtcblxuICBwb3NpdGlvbi5hcHBlbmQoJ3NwYW4nKVxuICAgIC5hdHRycyh7IGNsYXNzOiAndHlwZV9jaGFydCBjaGFydF90MiBkaXNhYmxlZCcsIHZhbHVlOiAnU2NhdHRlclBsb3QyJyB9KVxuICAgIC5odG1sKCcyIGluZC4nKTtcblxuICBwb3NpdGlvbi5hcHBlbmQoJ3NwYW4nKVxuICAgIC5hdHRycyh7IGNsYXNzOiAndHlwZV9jaGFydCBjaGFydF90MyBkaXNhYmxlZCcsIHZhbHVlOiAnUmFkYXJDaGFydDMnIH0pXG4gICAgLmh0bWwoJyszIGluZC4nKTtcblxuICBjb25zdCByZXNzZW1ibGFuY2UgPSB0eXBlX2NoYXJ0XG4gICAgLmFwcGVuZCgnZGl2JylcbiAgICAuYXR0cignY2xhc3MnLCAndHlwZV9jb21wYXJhaXNvbicpXG4gICAgLnN0eWxlcyh7IHdpZHRoOiB3aWR0aF90eXBlX2NvbXAgfSk7XG5cbiAgcmVzc2VtYmxhbmNlLmFwcGVuZCgncCcpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ3RpdGxlX3R5cGVfY29tcCcpXG4gICAgLmh0bWwoJ1JFU1NFTUJMQU5DRVMnKTtcblxuICByZXNzZW1ibGFuY2UuYXBwZW5kKCdzcGFuJylcbiAgICAuYXR0cnMoeyBjbGFzczogJ3R5cGVfY2hhcnQgY2hhcnRfdDEnLCB2YWx1ZTogJ0J1YmJsZUNoYXJ0MScgfSlcbiAgICAuaHRtbCgnMSBpbmQuJyk7XG5cbiAgcmVzc2VtYmxhbmNlLmFwcGVuZCgnc3BhbicpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ3R5cGVfY2hhcnQgY2hhcnRfdDIgZGlzYWJsZWQnKVxuICAgIC5odG1sKCcrMiBpbmQuJyk7XG5cbiAgY29uc3QgaW5lZ2FsaXRlID0gdHlwZV9jaGFydFxuICAgIC5hcHBlbmQoJ2RpdicpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ3R5cGVfY29tcGFyYWlzb24nKVxuICAgIC5zdHlsZXMoeyB3aWR0aDogd2lkdGhfdHlwZV9jb21wIH0pO1xuXG4gIGluZWdhbGl0ZS5hcHBlbmQoJ3AnKVxuICAgIC5hdHRyKCdjbGFzcycsICd0aXRsZV90eXBlX2NvbXAnKVxuICAgIC5odG1sKCdJTsOJR0FMSVTDiVMnKTtcblxuICBpbmVnYWxpdGUuYXBwZW5kKCdzcGFuJylcbiAgICAuYXR0cignY2xhc3MnLCAndHlwZV9jaGFydCBjaGFydF90MSBkaXNhYmxlZCcpXG4gICAgLmh0bWwoJzEgaW5kLicpO1xuXG4gIGluZWdhbGl0ZS5hcHBlbmQoJ3NwYW4nKVxuICAgIC5hdHRyKCdjbGFzcycsICd0eXBlX2NoYXJ0IGNoYXJ0X3QyIGRpc2FibGVkJylcbiAgICAuaHRtbCgnKzIgaW5kLicpO1xuXG4gIHRvcF9tZW51XG4gICAgLmFwcGVuZCgnZGl2JylcbiAgICAuYXR0cnMoeyBjbGFzczogJ3RpdGxlX3NlY3Rpb24nIH0pXG4gICAgLnN0eWxlcyh7IHdpZHRoOiB3aWR0aF9tYXAsIGZsb2F0OiAnbGVmdCcsIG1hcmdpbjogJzAgMCAwIDIwcHgnIH0pXG4gICAgLmh0bWwoJ1FVRUxMRVMgUkVHSU9OUyA/Jyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlSGVhZGVyTWFwU2VjdGlvbigpIHtcbiAgY29uc3QgaGVhZGVyX21hcF9zZWN0aW9uID0gZDMuc2VsZWN0KCcjbWFwX3NlY3Rpb24nKVxuICAgIC5pbnNlcnQoJ3AnLCAnc3ZnJylcbiAgICAuYXR0cignaWQnLCAnaGVhZGVyX21hcCcpXG4gICAgLnN0eWxlKCdtYXJnaW4nLCAnMCAwIDAgMTBweCcpO1xuXG4gIGhlYWRlcl9tYXBfc2VjdGlvbi5pbnNlcnQoJ2ltZycpXG4gICAgLmF0dHJzKHtcbiAgICAgIGNsYXNzOiAnbWFwX2J1dHRvbiBhY3RpdmUnLFxuICAgICAgd2lkdGg6IDIwLFxuICAgICAgaGVpZ2h0OiAyMCxcbiAgICAgIHNyYzogJ2ltZy9naW1wLXRvb2wtcmVjdC1zZWxlY3QucG5nJyxcbiAgICAgIGlkOiAnaW1nX3JlY3Rfc2VsZWMnLFxuICAgIH0pO1xuXG4gIGhlYWRlcl9tYXBfc2VjdGlvbi5pbnNlcnQoJ2ltZycpXG4gICAgLmF0dHJzKHtcbiAgICAgIGNsYXNzOiAnbWFwX2J1dHRvbicsXG4gICAgICB3aWR0aDogMjAsXG4gICAgICBoZWlnaHQ6IDIwLFxuICAgICAgc3JjOiAnaW1nL2dpbXAtdG9vbC16b29tLnBuZycsXG4gICAgICBpZDogJ2ltZ19tYXBfem9vbScsXG4gICAgfSk7XG5cbiAgaGVhZGVyX21hcF9zZWN0aW9uLmluc2VydCgnaW1nJylcbiAgICAuYXR0cnMoe1xuICAgICAgY2xhc3M6ICdtYXBfYnV0dG9uJyxcbiAgICAgIHdpZHRoOiAyMCxcbiAgICAgIGhlaWdodDogMjAsXG4gICAgICBzcmM6ICdpbWcvZ2ltcC1jdXJzb3IucG5nJyxcbiAgICAgIGlkOiAnaW1nX21hcF9zZWxlY3QnLFxuICAgIH0pO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlSGVhZGVyQ2hhcnQoKSB7XG4gIGNvbnN0IGhlYWRlcl9iYXJfc2VjdGlvbiA9IGQzLnNlbGVjdCgnI2Jhcl9zZWN0aW9uJylcbiAgICAuaW5zZXJ0KCdwJywgJ3N2ZycpXG4gICAgLmF0dHIoJ2lkJywgJ2hlYWRlcl9jaGFydCcpXG4gICAgLnN0eWxlKCdtYXJnaW4tYm90dG9tJywgJzAnKVxuICAgIC5zdHlsZSgnY2xlYXInLCAnYm90aCcpO1xuXG4gIGhlYWRlcl9iYXJfc2VjdGlvbi5pbnNlcnQoJ2ltZycpXG4gICAgLmF0dHJzKHtcbiAgICAgIHdpZHRoOiAyNCxcbiAgICAgIGhlaWdodDogMjQsXG4gICAgICBzcmM6ICdpbWcvZWRpdC10YWJsZS1pbnNlcnQtcm93LWFib3ZlLnN2ZycsXG4gICAgICBpZDogJ2ltZ190YWJsZScsXG4gICAgfSlcbiAgICAuc3R5bGVzKHsgbWFyZ2luOiAnM3B4JywgZmxvYXQ6ICdyaWdodCcgfSlcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kYXRhVGFibGUtd3JhcHBlcicpLnN0eWxlLmRpc3BsYXkpIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N2Z19tYXAnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3ZnX2xlZ2VuZCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNoZWFkZXJfbWFwJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2hlYWRlcl90YWJsZScpLnN0eWxlLmRpc3BsYXkgPSBudWxsO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGF0YVRhYmxlLXdyYXBwZXInKS5zdHlsZS5kaXNwbGF5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdHlsZS5maWx0ZXIgPSAnaW52ZXJ0KDc1JSknO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N2Z19tYXAnKS5zdHlsZS5kaXNwbGF5ID0gbnVsbDtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N2Z19sZWdlbmQnKS5zdHlsZS5kaXNwbGF5ID0gbnVsbDtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2hlYWRlcl9tYXAnKS5zdHlsZS5kaXNwbGF5ID0gbnVsbDtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2hlYWRlcl90YWJsZScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kYXRhVGFibGUtd3JhcHBlcicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIHRoaXMuc3R5bGUuZmlsdGVyID0gbnVsbDtcbiAgICAgIH1cbiAgICB9KTtcblxuICBoZWFkZXJfYmFyX3NlY3Rpb24uaW5zZXJ0KCdpbWcnKVxuICAgIC5hdHRycyh7XG4gICAgICB3aWR0aDogMjQsXG4gICAgICBoZWlnaHQ6IDI0LFxuICAgICAgc3JjOiAnaW1nL3ByaW50ZXIuc3ZnJyxcbiAgICAgIGlkOiAnaW1nX3ByaW50ZXInLFxuICAgIH0pXG4gICAgLnN0eWxlcyh7IG1hcmdpbjogJzNweCcsIGZsb2F0OiAncmlnaHQnIH0pO1xuXG4gIGhlYWRlcl9iYXJfc2VjdGlvbi5pbnNlcnQoJ2ltZycpXG4gICAgLmF0dHJzKHtcbiAgICAgIHdpZHRoOiAyNCxcbiAgICAgIGhlaWdodDogMjQsXG4gICAgICBzcmM6ICdpbWcvZ3RrLWluZm8uc3ZnJyxcbiAgICAgIGlkOiAnaW1nX2luZm8nLFxuICAgIH0pXG4gICAgLnN0eWxlcyh7IG1hcmdpbjogJzNweCcsIGZsb2F0OiAncmlnaHQnIH0pO1xufVxuIiwiaW1wb3J0IHsgYXBwIH0gZnJvbSAnLi8uLi9tYWluJztcbmltcG9ydCB7IGNvbG9yX2Rpc2FibGVkLCBjb2xvcl9jb3VudHJpZXMsIGNvbG9yX3N1cCwgY29sb3JfaW5mLCBjb2xvcl9oaWdobGlnaHQgfSBmcm9tICcuL29wdGlvbnMnO1xuaW1wb3J0IHsgbWF0aF9yb3VuZCwgcHJlcGFyZVRvb2x0aXAsIGdldFN2Z1BhdGhUeXBlIH0gZnJvbSAnLi9oZWxwZXJzJztcblxuY29uc3Qgc3ZnX21hcCA9IGQzLnNlbGVjdCgnc3ZnI3N2Z19tYXAnKSxcbiAgbWFyZ2luX21hcCA9IHsgdG9wOiAwLCByaWdodDogMCwgYm90dG9tOiAwLCBsZWZ0OiAwIH0sXG4gIHdpZHRoX21hcCA9ICtzdmdfbWFwLmF0dHIoJ3dpZHRoJykgLSBtYXJnaW5fbWFwLmxlZnQgLSBtYXJnaW5fbWFwLnJpZ2h0LFxuICBoZWlnaHRfbWFwID0gK3N2Z19tYXAuYXR0cignaGVpZ2h0JykgLSBtYXJnaW5fbWFwLnRvcCAtIG1hcmdpbl9tYXAuYm90dG9tO1xuXG5jb25zdCBzdHlsZXMgPSB7XG4gIHRlbXBsYXRlOiB7IGlkOiAndGVtcGxhdGUnLCBmaWxsOiAncmdiKDI0NywgMjUyLCAyNTQpJywgJ2ZpbGwtb3BhY2l0eSc6IDEgfSxcbiAgY291bnRyaWVzOiB7IGlkOiAnY291bnRyaWVzJywgZmlsbDogJ3JnYigyMTQsIDIxNCwgMjE0KScsICdmaWxsLW9wYWNpdHknOiAxLCAnc3Ryb2tlLXdpZHRoJzogMC41LCBzdHJva2U6ICcjZmZmZmZmJyB9LFxuICBzZWFib3hlczogeyBpZDogJ3NlYWJveGVzJywgZmlsbDogJyNlMGZhZmYnLCAnZmlsbC1vcGFjaXR5JzogMSwgc3Ryb2tlOiAnYmxhY2snLCAnc3Ryb2tlLXdpZHRoJzogMC4yIH0sXG4gIHJlbW90ZTogeyBpZDogJ3JlbW90ZScsIGZpbGw6ICdyZ2IoMjE0LCAyMTQsIDIxNCknLCAnZmlsbC1vcGFjaXR5JzogMSwgJ3N0cm9rZS13aWR0aCc6IDAuNSwgc3Ryb2tlOiAnI2ZmZmZmZicgfSxcbiAgc2VhYm94ZXMyOiB7IGlkOiAnc2VhYm94ZXMyJywgZmlsbDogJ25vbmUnLCBzdHJva2U6ICdibGFjaycsICdzdHJva2Utd2lkdGgnOiAwLjggfSxcbiAgbnV0czE6IHsgaWQ6ICdudXRzMScsICdmaWxsLW9wYWNpdHknOiAxLCAnc3Ryb2tlLXdpZHRoJzogMC41LCBzdHJva2U6ICcjZmZmZmZmJyB9LFxufTtcblxubGV0IHByb2plY3Rpb247XG5sZXQgcGF0aDtcblxuZnVuY3Rpb24gZ2V0X2Jib3hfbGF5ZXJfcGF0aChuYW1lKSB7XG4gIGNvbnN0IGJib3hfbGF5ZXIgPSBbW0luZmluaXR5LCBJbmZpbml0eV0sIFstSW5maW5pdHksIC1JbmZpbml0eV1dO1xuICBzdmdfbWFwLnNlbGVjdChgIyR7bmFtZX1gKVxuICAgIC5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgIC5lYWNoKChkKSA9PiB7XG4gICAgICBjb25zdCBiYm94X3BhdGggPSBwYXRoLmJvdW5kcyhkLmdlb21ldHJ5KTtcbiAgICAgIGJib3hfbGF5ZXJbMF1bMF0gPSBiYm94X3BhdGhbMF1bMF0gPCBiYm94X2xheWVyWzBdWzBdID8gYmJveF9wYXRoWzBdWzBdIDogYmJveF9sYXllclswXVswXTtcbiAgICAgIGJib3hfbGF5ZXJbMF1bMV0gPSBiYm94X3BhdGhbMF1bMV0gPCBiYm94X2xheWVyWzBdWzFdID8gYmJveF9wYXRoWzBdWzFdIDogYmJveF9sYXllclswXVsxXTtcbiAgICAgIGJib3hfbGF5ZXJbMV1bMF0gPSBiYm94X3BhdGhbMV1bMF0gPiBiYm94X2xheWVyWzFdWzBdID8gYmJveF9wYXRoWzFdWzBdIDogYmJveF9sYXllclsxXVswXTtcbiAgICAgIGJib3hfbGF5ZXJbMV1bMV0gPSBiYm94X3BhdGhbMV1bMV0gPiBiYm94X2xheWVyWzFdWzFdID8gYmJveF9wYXRoWzFdWzFdIDogYmJveF9sYXllclsxXVsxXTtcbiAgICB9KTtcbiAgcmV0dXJuIGJib3hfbGF5ZXI7XG59XG5cbmZ1bmN0aW9uIGZpdExheWVyKCkge1xuICBwcm9qZWN0aW9uLnNjYWxlKDEpLnRyYW5zbGF0ZShbMCwgMF0pO1xuICBjb25zdCBiID0gZ2V0X2Jib3hfbGF5ZXJfcGF0aCgndGVtcGxhdGUnKTtcbiAgY29uc3QgcyA9IDEgLyBNYXRoLm1heCgoYlsxXVswXSAtIGJbMF1bMF0pIC8gd2lkdGhfbWFwLCAoYlsxXVsxXSAtIGJbMF1bMV0pIC8gaGVpZ2h0X21hcCk7XG4gIGNvbnN0IHQgPSBbKHdpZHRoX21hcCAtIHMgKiAoYlsxXVswXSArIGJbMF1bMF0pKSAvIDIsIChoZWlnaHRfbWFwIC0gcyAqIChiWzFdWzFdICsgYlswXVsxXSkpIC8gMl07XG4gIHByb2plY3Rpb24uc2NhbGUocykudHJhbnNsYXRlKHQpO1xuICBzdmdfbWFwLnNlbGVjdEFsbCgncGF0aCcpLmF0dHIoJ2QnLCBwYXRoKTtcbn1cblxuZnVuY3Rpb24gbWFwX3pvb21lZCgpIHtcbiAgY29uc3QgdHJhbnNmb3JtID0gZDMuZXZlbnQudHJhbnNmb3JtO1xuICBpZiAodHJhbnNmb3JtLmsgPT09IDEpIHtcbiAgICB0cmFuc2Zvcm0ueCA9IDA7XG4gICAgdHJhbnNmb3JtLnkgPSAwO1xuICB9XG4gIGNvbnN0IGxheWVycyA9IHN2Z19tYXAuc2VsZWN0KCcjbGF5ZXJzJyk7XG4gIGNvbnN0IHQgPSBsYXllcnNcbiAgICAuc2VsZWN0QWxsKCdnJylcbiAgICAudHJhbnNpdGlvbigpXG4gICAgLmR1cmF0aW9uKDIyNSk7XG5cbiAgbGF5ZXJzLnNlbGVjdEFsbCgnZycpXG4gICAgLnRyYW5zaXRpb24odClcbiAgICAuc3R5bGUoJ3N0cm9rZS13aWR0aCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBgJHtzdHlsZXNbdGhpcy5pZF1bJ3N0cm9rZS13aWR0aCddIC8gdHJhbnNmb3JtLmt9cHhgO1xuICAgIH0pO1xuXG4gIGxheWVycy5zZWxlY3RBbGwoJ2cnKVxuICAgIC50cmFuc2l0aW9uKHQpXG4gICAgLmF0dHIoJ3RyYW5zZm9ybScsIHRyYW5zZm9ybSk7XG5cbiAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKVxuICAgIC50cmFuc2l0aW9uKHQpXG4gICAgLmF0dHIoJ3RyYW5zZm9ybScsIHRyYW5zZm9ybSk7XG59XG5cbmNsYXNzIE1hcFNlbGVjdCB7XG4gIGNvbnN0cnVjdG9yKG51dHMxLCBjb3VudHJpZXMsIHJlbW90ZSwgdGVtcGxhdGUsIHNlYWJveGVzKSB7XG4gICAgcHJvamVjdGlvbiA9IGQzLmdlb0lkZW50aXR5KClcbiAgICAgIC5maXRFeHRlbnQoW1swLCAwXSwgW3dpZHRoX21hcCwgaGVpZ2h0X21hcF1dLCB0ZW1wbGF0ZSlcbiAgICAgIC5yZWZsZWN0WSh0cnVlKTtcblxuICAgIHBhdGggPSBkMy5nZW9QYXRoKCkucHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICBjb25zdCBsYXllcnMgPSBzdmdfbWFwLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignaWQnLCAnbGF5ZXJzJyk7XG5cbiAgICB0aGlzLnpvb21fbWFwID0gZDMuem9vbSgpXG4gICAgICAuc2NhbGVFeHRlbnQoWzEsIDVdKVxuICAgICAgLnRyYW5zbGF0ZUV4dGVudChbWzAsIDBdLCBbd2lkdGhfbWFwLCBoZWlnaHRfbWFwXV0pXG4gICAgICAub24oJ3pvb20nLCBtYXBfem9vbWVkKTtcblxuICAgIHN2Z19tYXAuY2FsbCh0aGlzLnpvb21fbWFwKTtcblxuICAgIGxheWVycy5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHN0eWxlcy50ZW1wbGF0ZSlcbiAgICAgIC5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLmRhdGEodGVtcGxhdGUuZmVhdHVyZXMpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgncGF0aCcpXG4gICAgICAuYXR0cnMoeyBkOiBwYXRoIH0pO1xuXG4gICAgbGF5ZXJzLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cnMoc3R5bGVzLmNvdW50cmllcylcbiAgICAgIC5hdHRyKCdpZCcsICdjb3VudHJpZXMnKVxuICAgICAgLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuZGF0YShjb3VudHJpZXMuZmVhdHVyZXMpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgncGF0aCcpXG4gICAgICAuYXR0cnMoeyBkOiBwYXRoIH0pO1xuXG4gICAgbGF5ZXJzLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cnMoc3R5bGVzLnNlYWJveGVzKVxuICAgICAgLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuZGF0YShzZWFib3hlcy5mZWF0dXJlcylcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRycyh7IGQ6IHBhdGggfSk7XG5cbiAgICBsYXllcnMuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyhzdHlsZXMucmVtb3RlKVxuICAgICAgLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuZGF0YShyZW1vdGUuZmVhdHVyZXMpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgncGF0aCcpXG4gICAgICAuYXR0cnMoeyBkOiBwYXRoIH0pO1xuXG4gICAgbGF5ZXJzLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cnMoc3R5bGVzLnNlYWJveGVzMilcbiAgICAgIC5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLmRhdGEoc2VhYm94ZXMuZmVhdHVyZXMpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgncGF0aCcpXG4gICAgICAuYXR0cnMoeyBkOiBwYXRoIH0pO1xuXG4gICAgdGhpcy50YXJnZXRfbGF5ZXIgPSBsYXllcnMuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyhzdHlsZXMubnV0czEpO1xuICAgIHRoaXMudGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuZGF0YShudXRzMS5mZWF0dXJlcylcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRyKCdmaWxsJywgZCA9PiAoZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXSAhPT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbiA/IGNvbG9yX2NvdW50cmllcyA6IGNvbG9yX2hpZ2hsaWdodCkpXG4gICAgICAuYXR0cignZCcsIHBhdGgpO1xuICAgIGFwcC50eXBlX3BhdGggPSBnZXRTdmdQYXRoVHlwZSh0aGlzLnRhcmdldF9sYXllci5zZWxlY3QoJ3BhdGgnKS5ub2RlKCkuZ2V0QXR0cmlidXRlKCdkJykpO1xuICAgIGZpdExheWVyKCk7XG4gICAgcHJlcGFyZVRvb2x0aXAoc3ZnX21hcCk7XG4gICAgdGhpcy5iaW5kVG9vbHRpcCgpO1xuICB9XG5cbiAgcmVzZXRDb2xvcnMoY3VycmVudF9pZHMpIHtcbiAgICBjb25zdCBpZF9maWVsZF9nZW9tID0gYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb207XG4gICAgdGhpcy50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5hdHRyKCdmaWxsJywgZCA9PiAoY3VycmVudF9pZHMuaW5kZXhPZihkLnByb3BlcnRpZXNbaWRfZmllbGRfZ2VvbV0pID4gLTFcbiAgICAgICAgPyAoYXBwLmNvbG9yc1tkLnByb3BlcnRpZXNbaWRfZmllbGRfZ2VvbV1dIHx8IGNvbG9yX2NvdW50cmllcylcbiAgICAgICAgOiBjb2xvcl9kaXNhYmxlZCkpO1xuICB9XG5cbiAgYmluZFRvb2x0aXAoKSB7XG4gICAgdGhpcy50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5vbignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgICAgICBzdmdfbWFwLnNlbGVjdCgnLnRvb2x0aXAnKVxuICAgICAgICAgIC5zdHlsZSgnZGlzcGxheScsIG51bGwpO1xuICAgICAgfSlcbiAgICAgIC5vbignbW91c2VvdXQnLCAoKSA9PiB7XG4gICAgICAgIHN2Z19tYXAuc2VsZWN0KCcudG9vbHRpcCcpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgIGNvbnN0IHRvb2x0aXAgPSBzdmdfbWFwLnNlbGVjdCgnLnRvb2x0aXAnKTtcbiAgICAgICAgdG9vbHRpcFxuICAgICAgICAgIC5zZWxlY3QoJ3RleHQuaWRfZmVhdHVyZScpXG4gICAgICAgICAgLnRleHQoYCR7ZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXX1gKTtcbiAgICAgICAgbGV0IF9peCwgbmJfdmFsO1xuICAgICAgICBmb3IgKF9peCA9IDAsIG5iX3ZhbCA9IE1hdGgubWluKGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpby5sZW5ndGgsIDUpOyBfaXggPCBuYl92YWw7IF9peCsrKSB7XG4gICAgICAgICAgdG9vbHRpcC5zZWxlY3QoYHRleHQudmFsdWVfZmVhdHVyZSR7X2l4ICsgMX1gKVxuICAgICAgICAgICAgLnRleHQoYCR7YXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvX3ByZXR0eV9uYW1lW19peF19OiAke21hdGhfcm91bmQoZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5yYXRpb1tfaXhdXSAqIDEwKSAvIDEwfWApO1xuICAgICAgICB9XG4gICAgICAgIHRvb2x0aXBcbiAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke1tkMy5tb3VzZSh0aGlzKVswXSAtIDUsIGQzLm1vdXNlKHRoaXMpWzFdIC0gNDUgLSBfaXggKiAxMl19KWApO1xuICAgICAgfSk7XG4gIH1cblxuICByZXNldFpvb20oKSB7XG4gICAgc3ZnX21hcC50cmFuc2l0aW9uKClcbiAgICAgIC5kdXJhdGlvbigyNTApXG4gICAgICAuY2FsbCh0aGlzLnpvb21fbWFwLnRyYW5zZm9ybSwgZDMuem9vbUlkZW50aXR5KTtcbiAgfVxuXG4gIHJlc2V0SGVhZGVyQnV0dG9uKCkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfcmVjdF9zZWxlYycpLmRpc3BsYXkgPSBudWxsO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfcmVjdF9zZWxlYycpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfbWFwX3pvb20nKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX21hcF9zZWxlY3QnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgfVxuXG4gIHVwZGF0ZUxlZ2VuZCgpIHtcbiAgICBkMy5zZWxlY3QoJyNzdmdfbGVnZW5kID4gZyA+IC5sZWdlbmQgPiB0ZXh0JylcbiAgICAgIC50ZXh0KGBNYSByw6lnaW9uIDogJHthcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uX3ByZXR0eV9uYW1lfWApO1xuICB9XG5cbiAgcmVtb3ZlUmVjdEJydXNoKCkge1xuICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJykuY2FsbCh0aGlzLmJydXNoX21hcC5tb3ZlLCBudWxsKTtcbiAgfVxuXG4gIGNhbGxCcnVzaChzZWxlY3Rpb24pIHtcbiAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpLmNhbGwodGhpcy5icnVzaF9tYXAubW92ZSwgc2VsZWN0aW9uKTtcbiAgfVxuXG4gIGJpbmRCcnVzaChjaGFydCkge1xuICAgIHRoaXMucmVzZXRIZWFkZXJCdXR0b24oKTtcbiAgICBpZiAoY2hhcnQuaGFuZGxlX2JydXNoX21hcCkge1xuICAgICAgdGhpcy5icnVzaF9tYXAgPSBkMy5icnVzaCgpXG4gICAgICAgIC5leHRlbnQoW1swLCAwXSwgW3dpZHRoX21hcCwgaGVpZ2h0X21hcF1dKVxuICAgICAgICAub24oJ3N0YXJ0IGJydXNoJywgKCkgPT4ge1xuICAgICAgICAgIGNoYXJ0LmhhbmRsZV9icnVzaF9tYXAoZDMuZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICAgIHN2Z19tYXAuYXBwZW5kKCdnJylcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2JydXNoX21hcCcpXG4gICAgICAgIC5jYWxsKHRoaXMuYnJ1c2hfbWFwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19yZWN0X3NlbGVjJykuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG4gIH1cblxuICB1bmJpbmRCcnVzaCgpIHtcbiAgICB0aGlzLmJydXNoX21hcCA9IG51bGw7XG4gICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKVxuICAgICAgLnJlbW92ZSgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG1ha2VTb3VyY2VTZWN0aW9uKCkge1xuICBjb25zdCB0ZXh0X3pvbmUgPSBkMy5zZWxlY3QoJyNzdmdfbGVnZW5kJylcbiAgICAuYXBwZW5kKCd0ZXh0JylcbiAgICAuYXR0cnMoeyB5OiAzMi41LCAndGV4dC1hbmNob3InOiAnZW5kJyB9KVxuICAgIC5zdHlsZSgnZm9udC1zaXplJywgJzExcHgnKVxuICAgIC5zdHlsZSgnZm9udC1mYW1pbHknLCAnXFwnU2lnbmlrYVxcJywgc2Fucy1zZXJpZicpO1xuICB0ZXh0X3pvbmUuYXBwZW5kKCd0c3BhbicpXG4gICAgLmF0dHJzKHsgeDogNDcwLCBkeTogMTIgfSlcbiAgICAudGV4dCgnTml2ZWF1IHLDqWdpb25hbCA6IE5VVFMgMSAodmVyc2lvbiAyMDE2KScpO1xuICB0ZXh0X3pvbmUuYXBwZW5kKCd0c3BhbicpXG4gICAgLmF0dHJzKHsgeDogNDcwLCBkeTogMTIgfSlcbiAgICAudGV4dCgnT3JpZ2luZSBkZXMgZG9ubsOpZXMgOiBFdXJvc3RhdCwgMjAxNicpO1xuICB0ZXh0X3pvbmUuYXBwZW5kKCd0c3BhbicpXG4gICAgLmF0dHJzKHsgeDogNDcwLCBkeTogMTIgfSlcbiAgICAudGV4dCgnTGltaXRlIGFkbWluaXN0cmF0aXZlOiBVTVMgUklBVEUsIENDLUJZLVNBJyk7XG59XG5cbmZ1bmN0aW9uIG1ha2VNYXBMZWdlbmQoKSB7XG4gIGNvbnN0IGxlZ2VuZF9lbGVtcyA9IFtcbiAgICB7IGNvbG9yOiBjb2xvcl9oaWdobGlnaHQsIHRleHQ6IGBNYSByw6lnaW9uIDogJHthcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uX3ByZXR0eV9uYW1lfWAgfSxcbiAgICB7IGNvbG9yOiBjb2xvcl9jb3VudHJpZXMsIHRleHQ6ICdBdXRyZXMgcsOpZ2lvbnMgZHUgZmlsdHJlIGRlIGNvbXBhcmFpc29uJyB9LFxuICAgIHsgY29sb3I6IGNvbG9yX3N1cCwgdGV4dDogJ1JhbmcgcGx1cyDDqWxldsOpIHF1ZSBtYSByw6lnaW9uJyB9LFxuICAgIHsgY29sb3I6IGNvbG9yX2luZiwgdGV4dDogJ1JhbmcgbW9pbnMgw6lsZXbDqSBxdWUgbWEgcsOpZ2lvbicgfSxcbiAgXTtcblxuICBjb25zdCByZWN0X3NpemUgPSAxNDtcbiAgY29uc3Qgc3BhY2luZyA9IDQ7XG4gIGNvbnN0IGxnZF9oZWlnaHQgPSByZWN0X3NpemUgKyBzcGFjaW5nO1xuICBjb25zdCBvZmZzZXQgPSBsZ2RfaGVpZ2h0ICogbGVnZW5kX2VsZW1zLmxlbmd0aCAvIDI7XG5cbiAgY29uc3QgZ3JwX2xnZCA9IGQzLnNlbGVjdCgnI3N2Z19sZWdlbmQnKVxuICAgIC5hcHBlbmQoJ2cnKVxuICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDUwLCA0MCknKVxuICAgIC5zdHlsZXMoeyAnZm9udC1zaXplJzogJzExcHgnLCAnZm9udC1mYW1pbHknOiAnXFwnU2lnbmlrYVxcJywgc2Fucy1zZXJpZicgfSk7XG5cbiAgY29uc3QgbGVnZW5kcyA9IGdycF9sZ2Quc2VsZWN0QWxsKCcubGVnZW5kJylcbiAgICAuZGF0YShsZWdlbmRfZWxlbXMpXG4gICAgLmVudGVyKClcbiAgICAuYXBwZW5kKCdnJylcbiAgICAuYXR0cignY2xhc3MnLCAnbGVnZW5kJylcbiAgICAuYXR0cigndHJhbnNmb3JtJywgKGQsIGkpID0+IHtcbiAgICAgIGNvbnN0IHR4ID0gLTIgKiByZWN0X3NpemU7XG4gICAgICBjb25zdCB0eSA9IGkgKiBsZ2RfaGVpZ2h0IC0gb2Zmc2V0O1xuICAgICAgcmV0dXJuIGB0cmFuc2xhdGUoJHtbdHgsIHR5XX0pYDtcbiAgICB9KTtcblxuICBsZWdlbmRzLmFwcGVuZCgncmVjdCcpXG4gICAgLmF0dHJzKHsgd2lkdGg6IHJlY3Rfc2l6ZSwgaGVpZ2h0OiByZWN0X3NpemUgfSlcbiAgICAuc3R5bGVzKGQgPT4gKHsgZmlsbDogZC5jb2xvciwgc3Ryb2tlOiBkLmNvbG9yIH0pKTtcblxuICBsZWdlbmRzLmFwcGVuZCgndGV4dCcpXG4gICAgLmF0dHJzKHsgeDogcmVjdF9zaXplICsgc3BhY2luZywgeTogcmVjdF9zaXplIC0gc3BhY2luZyB9KVxuICAgIC50ZXh0KGQgPT4gZC50ZXh0KTtcbn1cblxuZXhwb3J0IHtcbiAgTWFwU2VsZWN0LFxuICBtYWtlU291cmNlU2VjdGlvbixcbiAgbWFrZU1hcExlZ2VuZCxcbiAgc3ZnX21hcCxcbn07XG4iLCIvKiFcclxuICpcclxuICogVmFuaWxsYS1EYXRhVGFibGVzXHJcbiAqIENvcHlyaWdodCAoYykgMjAxNS0yMDE3IEthcmwgU2F1bmRlcnMgKGh0dHA6Ly9tb2JpdXMub3ZoKVxyXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwKVxyXG4gKlxyXG4gKiBWZXJzaW9uOiAxLjUuMVxyXG4gKlxyXG4gKi9cclxuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XHJcbiAgICB2YXIgcGx1Z2luID0gXCJEYXRhVGFibGVcIjtcclxuXHJcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcclxuICAgICAgICBkZWZpbmUoW10sIGZhY3RvcnkocGx1Z2luKSk7XHJcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHBsdWdpbik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJvb3RbcGx1Z2luXSA9IGZhY3RvcnkocGx1Z2luKTtcclxuICAgIH1cclxufSkodGhpcywgZnVuY3Rpb24gKHBsdWdpbikge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgICB2YXIgd2luID0gd2luZG93LFxyXG4gICAgICAgIGRvYyA9IGRvY3VtZW50LFxyXG4gICAgICAgIGJvZHkgPSBkb2MuYm9keTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlZmF1bHQgY29uZmlndXJhdGlvblxyXG4gICAgICogQHR5cCB7T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICB2YXIgZGVmYXVsdENvbmZpZyA9IHtcclxuICAgICAgICBwZXJQYWdlOiAxMCxcclxuICAgICAgICBwZXJQYWdlU2VsZWN0OiBbNSwgMTAsIDE1LCAyMCwgMjVdLFxyXG5cclxuICAgICAgICBzb3J0YWJsZTogdHJ1ZSxcclxuICAgICAgICBzZWFyY2hhYmxlOiB0cnVlLFxyXG5cclxuICAgICAgICAvLyBQYWdpbmF0aW9uXHJcbiAgICAgICAgbmV4dFByZXY6IHRydWUsXHJcbiAgICAgICAgZmlyc3RMYXN0OiBmYWxzZSxcclxuICAgICAgICBwcmV2VGV4dDogXCImbHNhcXVvO1wiLFxyXG4gICAgICAgIG5leHRUZXh0OiBcIiZyc2FxdW87XCIsXHJcbiAgICAgICAgZmlyc3RUZXh0OiBcIiZsYXF1bztcIixcclxuICAgICAgICBsYXN0VGV4dDogXCImcmFxdW87XCIsXHJcbiAgICAgICAgZWxsaXBzaXNUZXh0OiBcIiZoZWxsaXA7XCIsXHJcbiAgICAgICAgYXNjVGV4dDogXCLilrRcIixcclxuICAgICAgICBkZXNjVGV4dDogXCLilr5cIixcclxuICAgICAgICB0cnVuY2F0ZVBhZ2VyOiB0cnVlLFxyXG4gICAgICAgIHBhZ2VyRGVsdGE6IDIsXHJcblxyXG4gICAgICAgIGZpeGVkQ29sdW1uczogdHJ1ZSxcclxuICAgICAgICBmaXhlZEhlaWdodDogZmFsc2UsXHJcblxyXG4gICAgICAgIGhlYWRlcjogdHJ1ZSxcclxuICAgICAgICBmb290ZXI6IGZhbHNlLFxyXG5cclxuICAgICAgICAvLyBDdXN0b21pc2UgdGhlIGRpc3BsYXkgdGV4dFxyXG4gICAgICAgIGxhYmVsczoge1xyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJTZWFyY2guLi5cIiwgLy8gVGhlIHNlYXJjaCBpbnB1dCBwbGFjZWhvbGRlclxyXG4gICAgICAgICAgICBwZXJQYWdlOiBcIntzZWxlY3R9IGVudHJpZXMgcGVyIHBhZ2VcIiwgLy8gcGVyLXBhZ2UgZHJvcGRvd24gbGFiZWxcclxuICAgICAgICAgICAgbm9Sb3dzOiBcIk5vIGVudHJpZXMgZm91bmRcIiwgLy8gTWVzc2FnZSBzaG93biB3aGVuIHRoZXJlIGFyZSBubyBzZWFyY2ggcmVzdWx0c1xyXG4gICAgICAgICAgICBpbmZvOiBcIlNob3dpbmcge3N0YXJ0fSB0byB7ZW5kfSBvZiB7cm93c30gZW50cmllc1wiIC8vXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLy8gQ3VzdG9taXNlIHRoZSBsYXlvdXRcclxuICAgICAgICBsYXlvdXQ6IHtcclxuICAgICAgICAgICAgdG9wOiBcIntzZWxlY3R9e3NlYXJjaH1cIixcclxuICAgICAgICAgICAgYm90dG9tOiBcIntpbmZvfXtwYWdlcn1cIlxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpcyBpdGVtIGlzIG9iamVjdFxyXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgdmFyIGlzT2JqZWN0ID0gZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsKSA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIjtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpcyBpdGVtIGlzIGFycmF5XHJcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICB2YXIgaXNBcnJheSA9IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWwpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGZvciB2YWxpZCBKU09OIHN0cmluZ1xyXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgIHN0clxyXG4gICAgICogQHJldHVybiB7Qm9vbGVhbnxBcnJheXxPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIHZhciBpc0pzb24gPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICAgICAgdmFyIHQgPSAhMTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0ID0gSlNPTi5wYXJzZShzdHIpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuICExO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gIShudWxsID09PSB0IHx8ICghaXNBcnJheSh0KSAmJiAhaXNPYmplY3QodCkpKSAmJiB0O1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE1lcmdlIG9iamVjdHMgKHJlY2N1cnNpdmUpXHJcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IHJcclxuICAgICAqIEBwYXJhbSAge09iamVjdH0gdFxyXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICB2YXIgZXh0ZW5kID0gZnVuY3Rpb24gKHNyYywgcHJvcHMpIHtcclxuICAgICAgICBmb3IgKHZhciBwcm9wIGluIHByb3BzKSB7XHJcbiAgICAgICAgICAgIGlmIChwcm9wcy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhbCA9IHByb3BzW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbCAmJiBpc09iamVjdCh2YWwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3JjW3Byb3BdID0gc3JjW3Byb3BdIHx8IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIGV4dGVuZChzcmNbcHJvcF0sIHZhbCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHNyY1twcm9wXSA9IHZhbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3JjO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEl0ZXJhdG9yIGhlbHBlclxyXG4gICAgICogQHBhcmFtICB7KEFycmF5fE9iamVjdCl9ICAgYXJyICAgICBBbnkgb2JqZWN0LCBhcnJheSBvciBhcnJheS1saWtlIGNvbGxlY3Rpb24uXHJcbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gICAgICAgICBmbiAgICAgIENhbGxiYWNrXHJcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgICAgICAgICBzY29wZSAgIENoYW5nZSB0aGUgdmFsdWUgb2YgdGhpc1xyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgdmFyIGVhY2ggPSBmdW5jdGlvbiAoYXJyLCBmbiwgc2NvcGUpIHtcclxuICAgICAgICB2YXIgbjtcclxuICAgICAgICBpZiAoaXNPYmplY3QoYXJyKSkge1xyXG4gICAgICAgICAgICBmb3IgKG4gaW4gYXJyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGFyciwgbikpIHtcclxuICAgICAgICAgICAgICAgICAgICBmbi5jYWxsKHNjb3BlLCBhcnJbbl0sIG4pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZm9yIChuID0gMDsgbiA8IGFyci5sZW5ndGg7IG4rKykge1xyXG4gICAgICAgICAgICAgICAgZm4uY2FsbChzY29wZSwgYXJyW25dLCBuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgZXZlbnQgbGlzdGVuZXIgdG8gdGFyZ2V0XHJcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IGVsXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGVcclxuICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmblxyXG4gICAgICovXHJcbiAgICB2YXIgb24gPSBmdW5jdGlvbiAoZWwsIGUsIGZuKSB7XHJcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihlLCBmbiwgZmFsc2UpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBET00gZWxlbWVudCBub2RlXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgYSBub2RlTmFtZVxyXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgIGIgcHJvcGVydGllcyBhbmQgYXR0cmlidXRlc1xyXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICB2YXIgY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgdmFyIGQgPSBkb2MuY3JlYXRlRWxlbWVudChhKTtcclxuICAgICAgICBpZiAoYiAmJiBcIm9iamVjdFwiID09IHR5cGVvZiBiKSB7XHJcbiAgICAgICAgICAgIHZhciBlO1xyXG4gICAgICAgICAgICBmb3IgKGUgaW4gYikge1xyXG4gICAgICAgICAgICAgICAgaWYgKFwiaHRtbFwiID09PSBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZC5pbm5lckhUTUwgPSBiW2VdO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBkLnNldEF0dHJpYnV0ZShlLCBiW2VdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZDtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIGZsdXNoID0gZnVuY3Rpb24gKGVsLCBpZSkge1xyXG4gICAgICAgIGlmIChlbCBpbnN0YW5jZW9mIE5vZGVMaXN0KSB7XHJcbiAgICAgICAgICAgIGVhY2goZWwsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICBmbHVzaChlLCBpZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChpZSkge1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGVsLmhhc0NoaWxkTm9kZXMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLnJlbW92ZUNoaWxkKGVsLmZpcnN0Q2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZWwuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYnV0dG9uIGhlbHBlclxyXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgIGNcclxuICAgICAqIEBwYXJhbSAge051bWJlcn0gICBwXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgdFxyXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICB2YXIgYnV0dG9uID0gZnVuY3Rpb24gKGMsIHAsIHQpIHtcclxuICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudChcImxpXCIsIHtcclxuICAgICAgICAgICAgY2xhc3M6IGMsXHJcbiAgICAgICAgICAgIGh0bWw6ICc8YSBocmVmPVwiI1wiIGRhdGEtcGFnZT1cIicgKyBwICsgJ1wiPicgKyB0ICsgXCI8L2E+XCJcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBjbGFzc0xpc3Qgc2hpbVxyXG4gICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgdmFyIGNsYXNzTGlzdCA9IHtcclxuICAgICAgICBhZGQ6IGZ1bmN0aW9uIChzLCBhKSB7XHJcbiAgICAgICAgICAgIGlmIChzLmNsYXNzTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgcy5jbGFzc0xpc3QuYWRkKGEpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFjbGFzc0xpc3QuY29udGFpbnMocywgYSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzLmNsYXNzTmFtZSA9IHMuY2xhc3NOYW1lLnRyaW0oKSArIFwiIFwiICsgYTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiAocywgYSkge1xyXG4gICAgICAgICAgICBpZiAocy5jbGFzc0xpc3QpIHtcclxuICAgICAgICAgICAgICAgIHMuY2xhc3NMaXN0LnJlbW92ZShhKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChjbGFzc0xpc3QuY29udGFpbnMocywgYSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzLmNsYXNzTmFtZSA9IHMuY2xhc3NOYW1lLnJlcGxhY2UoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBSZWdFeHAoXCIoXnxcXFxccylcIiArIGEuc3BsaXQoXCIgXCIpLmpvaW4oXCJ8XCIpICsgXCIoXFxcXHN8JClcIiwgXCJnaVwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCIgXCJcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250YWluczogZnVuY3Rpb24gKHMsIGEpIHtcclxuICAgICAgICAgICAgaWYgKHMpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcy5jbGFzc0xpc3QgP1xyXG4gICAgICAgICAgICAgICAgICAgIHMuY2xhc3NMaXN0LmNvbnRhaW5zKGEpIDpcclxuICAgICAgICAgICAgICAgICAgICAhIXMuY2xhc3NOYW1lICYmXHJcbiAgICAgICAgICAgICAgICAgICAgISFzLmNsYXNzTmFtZS5tYXRjaChuZXcgUmVnRXhwKFwiKFxcXFxzfF4pXCIgKyBhICsgXCIoXFxcXHN8JClcIikpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBCdWJibGUgc29ydCBhbGdvcml0aG1cclxuICAgICAqL1xyXG4gICAgdmFyIHNvcnRJdGVtcyA9IGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgdmFyIGMsIGQ7XHJcbiAgICAgICAgaWYgKDEgPT09IGIpIHtcclxuICAgICAgICAgICAgYyA9IDA7XHJcbiAgICAgICAgICAgIGQgPSBhLmxlbmd0aDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoYiA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIGMgPSBhLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgICAgICBkID0gLTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICh2YXIgZSA9ICEwOyBlOykge1xyXG4gICAgICAgICAgICBlID0gITE7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGYgPSBjOyBmICE9IGQ7IGYgKz0gYikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFbZiArIGJdICYmIGFbZl0udmFsdWUgPiBhW2YgKyBiXS52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBnID0gYVtmXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaCA9IGFbZiArIGJdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpID0gZztcclxuICAgICAgICAgICAgICAgICAgICBhW2ZdID0gaDtcclxuICAgICAgICAgICAgICAgICAgICBhW2YgKyBiXSA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgZSA9ICEwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFBhZ2VyIHRydW5jYXRpb24gYWxnb3JpdGhtXHJcbiAgICAgKi9cclxuICAgIHZhciB0cnVuY2F0ZSA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkLCBlbGxpcHNpcykge1xyXG4gICAgICAgIGQgPSBkIHx8IDI7XHJcbiAgICAgICAgdmFyIGosXHJcbiAgICAgICAgICAgIGUgPSAyICogZCxcclxuICAgICAgICAgICAgZiA9IGIgLSBkLFxyXG4gICAgICAgICAgICBnID0gYiArIGQsXHJcbiAgICAgICAgICAgIGggPSBbXSxcclxuICAgICAgICAgICAgaSA9IFtdO1xyXG4gICAgICAgIGlmIChiIDwgNCAtIGQgKyBlKSB7XHJcbiAgICAgICAgICAgIGcgPSAzICsgZTtcclxuICAgICAgICB9IGVsc2UgaWYgKGIgPiBjIC0gKDMgLSBkICsgZSkpIHtcclxuICAgICAgICAgICAgZiA9IGMgLSAoMiArIGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHZhciBrID0gMTsgayA8PSBjOyBrKyspIHtcclxuICAgICAgICAgICAgaWYgKDEgPT0gayB8fCBrID09IGMgfHwgKGsgPj0gZiAmJiBrIDw9IGcpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbCA9IGFbayAtIDFdO1xyXG4gICAgICAgICAgICAgICAgY2xhc3NMaXN0LnJlbW92ZShsLCBcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgICAgIGgucHVzaChsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlYWNoKGgsIGZ1bmN0aW9uIChjKSB7XHJcbiAgICAgICAgICAgIHZhciBkID0gYy5jaGlsZHJlblswXS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBhZ2VcIik7XHJcbiAgICAgICAgICAgIGlmIChqKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZSA9IGouY2hpbGRyZW5bMF0uZ2V0QXR0cmlidXRlKFwiZGF0YS1wYWdlXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGQgLSBlID09IDIpIGkucHVzaChhW2VdKTtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGQgLSBlICE9IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZiA9IGNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiBcImVsbGlwc2lzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw6ICc8YSBocmVmPVwiI1wiPicgKyBlbGxpcHNpcyArIFwiPC9hPlwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaS5wdXNoKGYpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGkucHVzaChjKTtcclxuICAgICAgICAgICAgaiA9IGM7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFBhcnNlIGRhdGEgdG8gSFRNTCB0YWJsZVxyXG4gICAgICovXHJcbiAgICB2YXIgZGF0YVRvVGFibGUgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIHZhciB0aGVhZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICB0Ym9keSA9IGZhbHNlO1xyXG5cclxuICAgICAgICBkYXRhID0gZGF0YSB8fCB0aGlzLm9wdGlvbnMuZGF0YTtcclxuXHJcbiAgICAgICAgaWYgKGRhdGEuaGVhZGluZ3MpIHtcclxuICAgICAgICAgICAgdGhlYWQgPSBjcmVhdGVFbGVtZW50KFwidGhlYWRcIik7XHJcbiAgICAgICAgICAgIHZhciB0ciA9IGNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcclxuICAgICAgICAgICAgZWFjaChkYXRhLmhlYWRpbmdzLCBmdW5jdGlvbiAoY29sKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGQgPSBjcmVhdGVFbGVtZW50KFwidGhcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIGh0bWw6IGNvbFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhlYWQuYXBwZW5kQ2hpbGQodHIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGRhdGEuZGF0YSAmJiBkYXRhLmRhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRib2R5ID0gY3JlYXRlRWxlbWVudChcInRib2R5XCIpO1xyXG4gICAgICAgICAgICBlYWNoKGRhdGEuZGF0YSwgZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmhlYWRpbmdzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuaGVhZGluZ3MubGVuZ3RoICE9PSByb3dzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlRoZSBudW1iZXIgb2Ygcm93cyBkbyBub3QgbWF0Y2ggdGhlIG51bWJlciBvZiBoZWFkaW5ncy5cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciB0ciA9IGNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcclxuICAgICAgICAgICAgICAgIGVhY2gocm93cywgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRkID0gY3JlYXRlRWxlbWVudChcInRkXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRib2R5LmFwcGVuZENoaWxkKHRyKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhlYWQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudGFibGUudEhlYWQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGFibGUucmVtb3ZlQ2hpbGQodGhpcy50YWJsZS50SGVhZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy50YWJsZS5hcHBlbmRDaGlsZCh0aGVhZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGJvZHkpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudGFibGUudEJvZGllcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGFibGUucmVtb3ZlQ2hpbGQodGhpcy50YWJsZS50Qm9kaWVzWzBdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnRhYmxlLmFwcGVuZENoaWxkKHRib2R5KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXNlIG1vbWVudC5qcyB0byBwYXJzZSBjZWxsIGNvbnRlbnRzIGZvciBzb3J0aW5nXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGNvbnRlbnQgICAgIFRoZSBkYXRldGltZSBzdHJpbmcgdG8gcGFyc2VcclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gZm9ybWF0ICAgICAgVGhlIGZvcm1hdCBmb3IgbW9tZW50IHRvIHVzZVxyXG4gICAgICogQHJldHVybiB7U3RyaW5nfEJvb2xlYW59ICAgICBEYXRhdGltZSBzdHJpbmcgb3IgZmFsc2VcclxuICAgICAqL1xyXG4gICAgdmFyIHBhcnNlRGF0ZSA9IGZ1bmN0aW9uIChjb250ZW50LCBmb3JtYXQpIHtcclxuICAgICAgICB2YXIgZGF0ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBtb21lbnQoKSB0aHJvd3MgYSBmaXQgaWYgdGhlIHN0cmluZyBpc24ndCBhIHZhbGlkIGRhdGV0aW1lIHN0cmluZ1xyXG4gICAgICAgIC8vIHNvIHdlIG5lZWQgdG8gc3VwcGx5IHRoZSBmb3JtYXQgdG8gdGhlIGNvbnN0cnVjdG9yIChodHRwczovL21vbWVudGpzLmNvbS9kb2NzLyMvcGFyc2luZy9zdHJpbmctZm9ybWF0LylcclxuXHJcbiAgICAgICAgLy8gQ29udmVydGluZyB0byBZWVlZTU1ERCBlbnN1cmVzIHdlIGNhbiBhY2N1cmF0ZWx5IHNvcnQgdGhlIGNvbHVtbiBudW1lcmljYWxseVxyXG5cclxuICAgICAgICBpZiAoZm9ybWF0KSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoZm9ybWF0KSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJJU09fODYwMVwiOlxyXG4gICAgICAgICAgICAgICAgZGF0ZSA9IG1vbWVudChjb250ZW50LCBtb21lbnQuSVNPXzg2MDEpLmZvcm1hdChcIllZWVlNTUREXCIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJSRkNfMjgyMlwiOlxyXG4gICAgICAgICAgICAgICAgZGF0ZSA9IG1vbWVudChjb250ZW50LCBcImRkZCwgTU0gTU1NIFlZWVkgSEg6bW06c3MgWlpcIikuZm9ybWF0KFwiWVlZWU1NRERcIik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIk1ZU1FMXCI6XHJcbiAgICAgICAgICAgICAgICBkYXRlID0gbW9tZW50KGNvbnRlbnQsIFwiWVlZWS1NTS1ERCBoaDptbTpzc1wiKS5mb3JtYXQoXCJZWVlZTU1ERFwiKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiVU5JWFwiOlxyXG4gICAgICAgICAgICAgICAgZGF0ZSA9IG1vbWVudChjb250ZW50KS51bml4KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIC8vIFVzZXIgZGVmaW5lZCBmb3JtYXQgdXNpbmcgdGhlIGRhdGEtZm9ybWF0IGF0dHJpYnV0ZSBvciBjb2x1bW5zW25dLmZvcm1hdCBvcHRpb25cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGRhdGUgPSBtb21lbnQoY29udGVudCwgZm9ybWF0KS5mb3JtYXQoXCJZWVlZTU1ERFwiKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZGF0ZTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb2x1bW5zIEFQSVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIERhdGFUYWJsZSBpbnN0YW5jZVxyXG4gICAgICogQHBhcmFtIHtNaXhlZH0gY29sdW1ucyAgQ29sdW1uIGluZGV4IG9yIGFycmF5IG9mIGNvbHVtbiBpbmRleGVzXHJcbiAgICAgKi9cclxuICAgIHZhciBDb2x1bW5zID0gZnVuY3Rpb24gKGR0KSB7XHJcbiAgICAgICAgdGhpcy5kdCA9IGR0O1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN3YXAgdHdvIGNvbHVtbnNcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIENvbHVtbnMucHJvdG90eXBlLnN3YXAgPSBmdW5jdGlvbiAoY29sdW1ucykge1xyXG4gICAgICAgIGlmIChjb2x1bW5zLmxlbmd0aCAmJiBjb2x1bW5zLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICB2YXIgY29scyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgLy8gR2V0IHRoZSBjdXJyZW50IGNvbHVtbiBpbmRleGVzXHJcbiAgICAgICAgICAgIGVhY2godGhpcy5kdC5oZWFkaW5ncywgZnVuY3Rpb24gKGgsIGkpIHtcclxuICAgICAgICAgICAgICAgIGNvbHMucHVzaChpKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgeCA9IGNvbHVtbnNbMF07XHJcbiAgICAgICAgICAgIHZhciB5ID0gY29sdW1uc1sxXTtcclxuICAgICAgICAgICAgdmFyIGIgPSBjb2xzW3ldO1xyXG4gICAgICAgICAgICBjb2xzW3ldID0gY29sc1t4XTtcclxuICAgICAgICAgICAgY29sc1t4XSA9IGI7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9yZGVyKGNvbHMpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW9yZGVyIHRoZSBjb2x1bW5zXHJcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gY29sdW1ucyAgQXJyYXkgb2Ygb3JkZXJlZCBjb2x1bW4gaW5kZXhlc1xyXG4gICAgICovXHJcbiAgICBDb2x1bW5zLnByb3RvdHlwZS5vcmRlciA9IGZ1bmN0aW9uIChjb2x1bW5zKSB7XHJcblxyXG4gICAgICAgIHZhciBhLCBiLCBjLCBkLCBoLCBzLCBjZWxsLFxyXG4gICAgICAgICAgICB0ZW1wID0gW1xyXG4gICAgICAgICAgICAgICAgW10sXHJcbiAgICAgICAgICAgICAgICBbXSxcclxuICAgICAgICAgICAgICAgIFtdLFxyXG4gICAgICAgICAgICAgICAgW11cclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgZHQgPSB0aGlzLmR0O1xyXG5cclxuICAgICAgICAvLyBPcmRlciB0aGUgaGVhZGluZ3NcclxuICAgICAgICBlYWNoKGNvbHVtbnMsIGZ1bmN0aW9uIChjb2x1bW4sIHgpIHtcclxuICAgICAgICAgICAgaCA9IGR0LmhlYWRpbmdzW2NvbHVtbl07XHJcbiAgICAgICAgICAgIHMgPSBoLmdldEF0dHJpYnV0ZShcImRhdGEtc29ydGFibGVcIikgIT09IFwiZmFsc2VcIjtcclxuICAgICAgICAgICAgYSA9IGguY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgICAgICBhLm9yaWdpbmFsQ2VsbEluZGV4ID0geDtcclxuICAgICAgICAgICAgYS5zb3J0YWJsZSA9IHM7XHJcblxyXG4gICAgICAgICAgICB0ZW1wWzBdLnB1c2goYSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZHQuaGlkZGVuQ29sdW1ucy5pbmRleE9mKGNvbHVtbikgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBiID0gaC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBiLm9yaWdpbmFsQ2VsbEluZGV4ID0geDtcclxuICAgICAgICAgICAgICAgIGIuc29ydGFibGUgPSBzO1xyXG5cclxuICAgICAgICAgICAgICAgIHRlbXBbMV0ucHVzaChiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBPcmRlciB0aGUgcm93IGNlbGxzXHJcbiAgICAgICAgZWFjaChkdC5kYXRhLCBmdW5jdGlvbiAocm93LCBpKSB7XHJcbiAgICAgICAgICAgIGMgPSByb3cuY2xvbmVOb2RlKCk7XHJcbiAgICAgICAgICAgIGQgPSByb3cuY2xvbmVOb2RlKCk7XHJcblxyXG4gICAgICAgICAgICBjLmRhdGFJbmRleCA9IGQuZGF0YUluZGV4ID0gaTtcclxuXHJcbiAgICAgICAgICAgIGlmIChyb3cuc2VhcmNoSW5kZXggIT09IG51bGwgJiYgcm93LnNlYXJjaEluZGV4ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGMuc2VhcmNoSW5kZXggPSBkLnNlYXJjaEluZGV4ID0gcm93LnNlYXJjaEluZGV4O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBBcHBlbmQgdGhlIGNlbGwgdG8gdGhlIGZyYWdtZW50IGluIHRoZSBjb3JyZWN0IG9yZGVyXHJcbiAgICAgICAgICAgIGVhY2goY29sdW1ucywgZnVuY3Rpb24gKGNvbHVtbiwgeCkge1xyXG4gICAgICAgICAgICAgICAgY2VsbCA9IHJvdy5jZWxsc1tjb2x1bW5dLmNsb25lTm9kZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIGNlbGwuZGF0YSA9IHJvdy5jZWxsc1tjb2x1bW5dLmRhdGE7XHJcbiAgICAgICAgICAgICAgICBjLmFwcGVuZENoaWxkKGNlbGwpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkdC5oaWRkZW5Db2x1bW5zLmluZGV4T2YoY29sdW1uKSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjZWxsID0gcm93LmNlbGxzW2NvbHVtbl0uY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNlbGwuZGF0YSA9IHJvdy5jZWxsc1tjb2x1bW5dLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgZC5hcHBlbmRDaGlsZChjZWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0ZW1wWzJdLnB1c2goYyk7XHJcbiAgICAgICAgICAgIHRlbXBbM10ucHVzaChkKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZHQuaGVhZGluZ3MgPSB0ZW1wWzBdO1xyXG4gICAgICAgIGR0LmFjdGl2ZUhlYWRpbmdzID0gdGVtcFsxXTtcclxuXHJcbiAgICAgICAgZHQuZGF0YSA9IHRlbXBbMl07XHJcbiAgICAgICAgZHQuYWN0aXZlUm93cyA9IHRlbXBbM107XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZVxyXG4gICAgICAgIGR0LnVwZGF0ZSgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEhpZGUgY29sdW1uc1xyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgQ29sdW1ucy5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uIChjb2x1bW5zKSB7XHJcbiAgICAgICAgaWYgKGNvbHVtbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHZhciBkdCA9IHRoaXMuZHQ7XHJcblxyXG4gICAgICAgICAgICBlYWNoKGNvbHVtbnMsIGZ1bmN0aW9uIChjb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChkdC5oaWRkZW5Db2x1bW5zLmluZGV4T2YoY29sdW1uKSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBkdC5oaWRkZW5Db2x1bW5zLnB1c2goY29sdW1uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlYnVpbGQoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2hvdyBjb2x1bW5zXHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBDb2x1bW5zLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKGNvbHVtbnMpIHtcclxuICAgICAgICBpZiAoY29sdW1ucy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4LCBkdCA9IHRoaXMuZHQ7XHJcblxyXG4gICAgICAgICAgICBlYWNoKGNvbHVtbnMsIGZ1bmN0aW9uIChjb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgIGluZGV4ID0gZHQuaGlkZGVuQ29sdW1ucy5pbmRleE9mKGNvbHVtbik7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGR0LmhpZGRlbkNvbHVtbnMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlYnVpbGQoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgY29sdW1uKHMpIHZpc2liaWxpdHlcclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIENvbHVtbnMucHJvdG90eXBlLnZpc2libGUgPSBmdW5jdGlvbiAoY29sdW1ucykge1xyXG4gICAgICAgIHZhciBjb2xzLCBkdCA9IHRoaXMuZHQ7XHJcblxyXG4gICAgICAgIGNvbHVtbnMgPSBjb2x1bW5zIHx8IGR0LmhlYWRpbmdzLm1hcChmdW5jdGlvbiAodGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoLm9yaWdpbmFsQ2VsbEluZGV4O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoIWlzTmFOKGNvbHVtbnMpKSB7XHJcbiAgICAgICAgICAgIGNvbHMgPSBkdC5oaWRkZW5Db2x1bW5zLmluZGV4T2YoY29sdW1ucykgPCAwO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShjb2x1bW5zKSkge1xyXG4gICAgICAgICAgICBjb2xzID0gW107XHJcbiAgICAgICAgICAgIGVhY2goY29sdW1ucywgZnVuY3Rpb24gKGNvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgY29scy5wdXNoKGR0LmhpZGRlbkNvbHVtbnMuaW5kZXhPZihjb2x1bW4pIDwgMCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNvbHM7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkIGEgbmV3IGNvbHVtblxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFcclxuICAgICAqL1xyXG4gICAgQ29sdW1ucy5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICB2YXIgdGhhdCA9IHRoaXMsXHJcbiAgICAgICAgICAgIHRkLCB0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiKTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmR0LmhlYWRpbmdzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLmR0Lmluc2VydCh7XHJcbiAgICAgICAgICAgICAgICBoZWFkaW5nczogW2RhdGEuaGVhZGluZ10sXHJcbiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLmRhdGEubWFwKGZ1bmN0aW9uIChpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtpXTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnJlYnVpbGQoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmR0LmhpZGRlbkhlYWRlcikge1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5oZWFkaW5nLm5vZGVOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICB0aC5hcHBlbmRDaGlsZChkYXRhLmhlYWRpbmcpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGguaW5uZXJIVE1MID0gZGF0YS5oZWFkaW5nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGguaW5uZXJIVE1MID0gXCJcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZHQuaGVhZGluZ3MucHVzaCh0aCk7XHJcblxyXG4gICAgICAgIGVhY2godGhpcy5kdC5kYXRhLCBmdW5jdGlvbiAocm93LCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmRhdGFbaV0pIHtcclxuICAgICAgICAgICAgICAgIHRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGFbaV0ubm9kZU5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZC5hcHBlbmRDaGlsZChkYXRhLmRhdGFbaV0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZC5pbm5lckhUTUwgPSBkYXRhLmRhdGFbaV07XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGQuZGF0YSA9IHRkLmlubmVySFRNTDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5yZW5kZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZC5pbm5lckhUTUwgPSBkYXRhLnJlbmRlci5jYWxsKHRoYXQsIHRkLmRhdGEsIHRkLCByb3cpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZCh0ZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKGRhdGEudHlwZSkge1xyXG4gICAgICAgICAgICB0aC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXR5cGVcIiwgZGF0YS50eXBlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRhdGEuZm9ybWF0KSB7XHJcbiAgICAgICAgICAgIHRoLnNldEF0dHJpYnV0ZShcImRhdGEtZm9ybWF0XCIsIGRhdGEuZm9ybWF0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KFwic29ydGFibGVcIikpIHtcclxuICAgICAgICAgICAgdGguc29ydGFibGUgPSBkYXRhLnNvcnRhYmxlO1xyXG4gICAgICAgICAgICB0aC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXNvcnRhYmxlXCIsIGRhdGEuc29ydGFibGUgPT09IHRydWUgPyBcInRydWVcIiA6IFwiZmFsc2VcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnJlYnVpbGQoKTtcclxuXHJcbiAgICAgICAgdGhpcy5kdC5yZW5kZXJIZWFkZXIoKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmUgY29sdW1uKHMpXHJcbiAgICAgKiBAcGFyYW0gIHtBcnJheXxOdW1iZXJ9IHNlbGVjdFxyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgQ29sdW1ucy5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKHNlbGVjdCkge1xyXG4gICAgICAgIGlmIChpc0FycmF5KHNlbGVjdCkpIHtcclxuICAgICAgICAgICAgLy8gUmVtb3ZlIGluIHJldmVyc2Ugb3RoZXJ3aXNlIHRoZSBpbmRleGVzIHdpbGwgYmUgaW5jb3JyZWN0XHJcbiAgICAgICAgICAgIHNlbGVjdC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYiAtIGE7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZWFjaChzZWxlY3QsIGZ1bmN0aW9uIChjb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlKGNvbHVtbik7XHJcbiAgICAgICAgICAgIH0sIHRoaXMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZHQuaGVhZGluZ3Muc3BsaWNlKHNlbGVjdCwgMSk7XHJcblxyXG4gICAgICAgICAgICBlYWNoKHRoaXMuZHQuZGF0YSwgZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICAgICAgcm93LnJlbW92ZUNoaWxkKHJvdy5jZWxsc1tzZWxlY3RdKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnJlYnVpbGQoKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTb3J0IGJ5IGNvbHVtblxyXG4gICAgICogQHBhcmFtICB7aW50fSBjb2x1bW4gLSBUaGUgY29sdW1uIG5vLlxyXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSBkaXJlY3Rpb24gLSBhc2Mgb3IgZGVzY1xyXG4gICAgICogQHJldHVybiB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgQ29sdW1ucy5wcm90b3R5cGUuc29ydCA9IGZ1bmN0aW9uIChjb2x1bW4sIGRpcmVjdGlvbiwgaW5pdCkge1xyXG5cclxuICAgICAgICB2YXIgZHQgPSB0aGlzLmR0O1xyXG5cclxuICAgICAgICAvLyBDaGVjayBjb2x1bW4gaXMgcHJlc2VudFxyXG4gICAgICAgIGlmIChkdC5oYXNIZWFkaW5ncyAmJiAoY29sdW1uIDwgMSB8fCBjb2x1bW4gPiBkdC5hY3RpdmVIZWFkaW5ncy5sZW5ndGgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGR0LnNvcnRpbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICAvLyBDb252ZXJ0IHRvIHplcm8taW5kZXhlZFxyXG4gICAgICAgIGNvbHVtbiA9IGNvbHVtbiAtIDE7XHJcblxyXG4gICAgICAgIHZhciBkaXIsXHJcbiAgICAgICAgICAgIHJvd3MgPSBkdC5kYXRhLFxyXG4gICAgICAgICAgICBhbHBoYSA9IFtdLFxyXG4gICAgICAgICAgICBudW1lcmljID0gW10sXHJcbiAgICAgICAgICAgIGEgPSAwLFxyXG4gICAgICAgICAgICBuID0gMCxcclxuICAgICAgICAgICAgdGggPSBkdC5hY3RpdmVIZWFkaW5nc1tjb2x1bW5dO1xyXG5cclxuICAgICAgICBjb2x1bW4gPSB0aC5vcmlnaW5hbENlbGxJbmRleDtcclxuXHJcbiAgICAgICAgZWFjaChyb3dzLCBmdW5jdGlvbiAodHIpIHtcclxuICAgICAgICAgICAgdmFyIGNlbGwgPSB0ci5jZWxsc1tjb2x1bW5dO1xyXG4gICAgICAgICAgICB2YXIgY29udGVudCA9IGNlbGwuZGF0YTtcclxuICAgICAgICAgICAgdmFyIG51bSA9IGNvbnRlbnQucmVwbGFjZSgvKFxcJHxcXCx8XFxzfCUpL2csIFwiXCIpO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGRhdGUgZm9ybWF0IGFuZCBtb21lbnQuanNcclxuICAgICAgICAgICAgaWYgKHRoLmdldEF0dHJpYnV0ZShcImRhdGEtdHlwZVwiKSA9PT0gXCJkYXRlXCIgJiYgd2luLm1vbWVudCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZvcm1hdCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZCA9IHRoLmhhc0F0dHJpYnV0ZShcImRhdGEtZm9ybWF0XCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChmb3JtYXR0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3JtYXQgPSB0aC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWZvcm1hdFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBudW0gPSBwYXJzZURhdGUoY29udGVudCwgZm9ybWF0KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHBhcnNlRmxvYXQobnVtKSA9PSBudW0pIHtcclxuICAgICAgICAgICAgICAgIG51bWVyaWNbbisrXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogTnVtYmVyKG51bSksXHJcbiAgICAgICAgICAgICAgICAgICAgcm93OiB0clxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFscGhhW2ErK10gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGNvbnRlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgcm93OiB0clxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKiBTb3J0IGFjY29yZGluZyB0byBkaXJlY3Rpb24gKGFzY2VuZGluZyBvciBkZXNjZW5kaW5nKSAqL1xyXG4gICAgICAgIHZhciB0b3AsIGJ0bTtcclxuICAgICAgICBpZiAoY2xhc3NMaXN0LmNvbnRhaW5zKHRoLCBcImFzY1wiKSB8fCBkaXJlY3Rpb24gPT0gXCJhc2NcIikge1xyXG4gICAgICAgICAgICB0b3AgPSBzb3J0SXRlbXMoYWxwaGEsIC0xKTtcclxuICAgICAgICAgICAgYnRtID0gc29ydEl0ZW1zKG51bWVyaWMsIC0xKTtcclxuICAgICAgICAgICAgZGlyID0gXCJkZXNjZW5kaW5nXCI7XHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5yZW1vdmUodGgsIFwiYXNjXCIpO1xyXG4gICAgICAgICAgICBjbGFzc0xpc3QuYWRkKHRoLCBcImRlc2NcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdG9wID0gc29ydEl0ZW1zKG51bWVyaWMsIDEpO1xyXG4gICAgICAgICAgICBidG0gPSBzb3J0SXRlbXMoYWxwaGEsIDEpO1xyXG4gICAgICAgICAgICBkaXIgPSBcImFzY2VuZGluZ1wiO1xyXG4gICAgICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKHRoLCBcImRlc2NcIik7XHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5hZGQodGgsIFwiYXNjXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyogQ2xlYXIgYXNjL2Rlc2MgY2xhc3MgbmFtZXMgZnJvbSB0aGUgbGFzdCBzb3J0ZWQgY29sdW1uJ3MgdGggaWYgaXQgaXNuJ3QgdGhlIHNhbWUgYXMgdGhlIG9uZSB0aGF0IHdhcyBqdXN0IGNsaWNrZWQgKi9cclxuICAgICAgICBpZiAoZHQubGFzdFRoICYmIHRoICE9IGR0Lmxhc3RUaCkge1xyXG4gICAgICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKGR0Lmxhc3RUaCwgXCJkZXNjXCIpO1xyXG4gICAgICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKGR0Lmxhc3RUaCwgXCJhc2NcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkdC5sYXN0VGggPSB0aDtcclxuXHJcbiAgICAgICAgLyogUmVvcmRlciB0aGUgdGFibGUgKi9cclxuICAgICAgICByb3dzID0gdG9wLmNvbmNhdChidG0pO1xyXG5cclxuICAgICAgICBkdC5kYXRhID0gW107XHJcbiAgICAgICAgdmFyIGluZGV4ZXMgPSBbXTtcclxuXHJcbiAgICAgICAgZWFjaChyb3dzLCBmdW5jdGlvbiAodiwgaSkge1xyXG4gICAgICAgICAgICBkdC5kYXRhLnB1c2godi5yb3cpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHYucm93LnNlYXJjaEluZGV4ICE9PSBudWxsICYmIHYucm93LnNlYXJjaEluZGV4ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGluZGV4ZXMucHVzaChpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIGR0KTtcclxuXHJcbiAgICAgICAgZHQuc2VhcmNoRGF0YSA9IGluZGV4ZXM7XHJcblxyXG4gICAgICAgIHRoaXMucmVidWlsZCgpO1xyXG5cclxuICAgICAgICBkdC51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgaWYgKCFpbml0KSB7XHJcbiAgICAgICAgICAgIGR0LmVtaXQoXCJkYXRhdGFibGUuc29ydFwiLCBjb2x1bW4sIGRpcik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlYnVpbGQgdGhlIGNvbHVtbnNcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIENvbHVtbnMucHJvdG90eXBlLnJlYnVpbGQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGEsIGIsIGMsIGQsIGR0ID0gdGhpcy5kdCxcclxuICAgICAgICAgICAgdGVtcCA9IFtdO1xyXG5cclxuICAgICAgICBkdC5hY3RpdmVSb3dzID0gW107XHJcbiAgICAgICAgZHQuYWN0aXZlSGVhZGluZ3MgPSBbXTtcclxuXHJcbiAgICAgICAgZWFjaChkdC5oZWFkaW5ncywgZnVuY3Rpb24gKHRoLCBpKSB7XHJcbiAgICAgICAgICAgIHRoLm9yaWdpbmFsQ2VsbEluZGV4ID0gaTtcclxuICAgICAgICAgICAgdGguc29ydGFibGUgPSB0aC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNvcnRhYmxlXCIpICE9PSBcImZhbHNlXCI7XHJcbiAgICAgICAgICAgIGlmIChkdC5oaWRkZW5Db2x1bW5zLmluZGV4T2YoaSkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBkdC5hY3RpdmVIZWFkaW5ncy5wdXNoKHRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICAvLyBMb29wIG92ZXIgdGhlIHJvd3MgYW5kIHJlb3JkZXIgdGhlIGNlbGxzXHJcbiAgICAgICAgZWFjaChkdC5kYXRhLCBmdW5jdGlvbiAocm93LCBpKSB7XHJcbiAgICAgICAgICAgIGEgPSByb3cuY2xvbmVOb2RlKCk7XHJcbiAgICAgICAgICAgIGIgPSByb3cuY2xvbmVOb2RlKCk7XHJcblxyXG4gICAgICAgICAgICBhLmRhdGFJbmRleCA9IGIuZGF0YUluZGV4ID0gaTtcclxuXHJcbiAgICAgICAgICAgIGlmIChyb3cuc2VhcmNoSW5kZXggIT09IG51bGwgJiYgcm93LnNlYXJjaEluZGV4ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGEuc2VhcmNoSW5kZXggPSBiLnNlYXJjaEluZGV4ID0gcm93LnNlYXJjaEluZGV4O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBBcHBlbmQgdGhlIGNlbGwgdG8gdGhlIGZyYWdtZW50IGluIHRoZSBjb3JyZWN0IG9yZGVyXHJcbiAgICAgICAgICAgIGVhY2gocm93LmNlbGxzLCBmdW5jdGlvbiAoY2VsbCkge1xyXG4gICAgICAgICAgICAgICAgYyA9IGNlbGwuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgYy5kYXRhID0gY2VsbC5kYXRhO1xyXG4gICAgICAgICAgICAgICAgYS5hcHBlbmRDaGlsZChjKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZHQuaGlkZGVuQ29sdW1ucy5pbmRleE9mKGNlbGwuY2VsbEluZGV4KSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBkID0gY2VsbC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZC5kYXRhID0gY2VsbC5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIGIuYXBwZW5kQ2hpbGQoZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQXBwZW5kIHRoZSBmcmFnbWVudCB3aXRoIHRoZSBvcmRlcmVkIGNlbGxzXHJcbiAgICAgICAgICAgIHRlbXAucHVzaChhKTtcclxuICAgICAgICAgICAgZHQuYWN0aXZlUm93cy5wdXNoKGIpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBkdC5kYXRhID0gdGVtcDtcclxuXHJcbiAgICAgICAgZHQudXBkYXRlKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUm93cyBBUElcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBEYXRhVGFibGUgaW5zdGFuY2VcclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHJvd3NcclxuICAgICAqL1xyXG4gICAgdmFyIFJvd3MgPSBmdW5jdGlvbiAoZHQsIHJvd3MpIHtcclxuICAgICAgICB0aGlzLmR0ID0gZHQ7XHJcbiAgICAgICAgdGhpcy5yb3dzID0gcm93cztcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQnVpbGQgYSBuZXcgcm93XHJcbiAgICAgKiBAcGFyYW0gIHtBcnJheX0gcm93XHJcbiAgICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH1cclxuICAgICAqL1xyXG4gICAgUm93cy5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgdmFyIHRkLCB0ciA9IGNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcclxuXHJcbiAgICAgICAgdmFyIGhlYWRpbmdzID0gdGhpcy5kdC5oZWFkaW5ncztcclxuXHJcbiAgICAgICAgaWYgKCFoZWFkaW5ncy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgaGVhZGluZ3MgPSByb3cubWFwKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGVhY2goaGVhZGluZ3MsIGZ1bmN0aW9uIChoLCBpKSB7XHJcbiAgICAgICAgICAgIHRkID0gY3JlYXRlRWxlbWVudChcInRkXCIpO1xyXG5cclxuICAgICAgICAgICAgLy8gRml4ZXMgIzI5XHJcbiAgICAgICAgICAgIGlmICghcm93W2ldICYmICFyb3dbaV0ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICByb3dbaV0gPSBcIlwiO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0ZC5pbm5lckhUTUwgPSByb3dbaV07XHJcblxyXG4gICAgICAgICAgICB0ZC5kYXRhID0gcm93W2ldO1xyXG5cclxuICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gdHI7XHJcbiAgICB9O1xyXG5cclxuICAgIFJvd3MucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgICByZXR1cm4gcm93O1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZCBuZXcgcm93XHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBzZWxlY3RcclxuICAgICAqL1xyXG4gICAgUm93cy5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuXHJcbiAgICAgICAgaWYgKGlzQXJyYXkoZGF0YSkpIHtcclxuICAgICAgICAgICAgdmFyIGR0ID0gdGhpcy5kdDtcclxuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIG11bHRpcGxlIHJvd3NcclxuICAgICAgICAgICAgaWYgKGlzQXJyYXkoZGF0YVswXSkpIHtcclxuICAgICAgICAgICAgICAgIGVhY2goZGF0YSwgZnVuY3Rpb24gKHJvdywgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGR0LmRhdGEucHVzaCh0aGlzLmJ1aWxkKHJvdykpO1xyXG4gICAgICAgICAgICAgICAgfSwgdGhpcyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkdC5kYXRhLnB1c2godGhpcy5idWlsZChkYXRhKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFdlIG1heSBoYXZlIGFkZGVkIGRhdGEgdG8gYW4gZW1wdHkgdGFibGVcclxuICAgICAgICAgICAgaWYgKCBkdC5kYXRhLmxlbmd0aCApIHtcclxuICAgICAgICAgICAgICAgIGR0Lmhhc1Jvd3MgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgICAgIGR0LmNvbHVtbnMoKS5yZWJ1aWxkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZSByb3cocylcclxuICAgICAqIEBwYXJhbSAge0FycmF5fE51bWJlcn0gc2VsZWN0XHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBSb3dzLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoc2VsZWN0KSB7XHJcblxyXG4gICAgICAgIHZhciBkdCA9IHRoaXMuZHQ7XHJcblxyXG4gICAgICAgIGlmIChpc0FycmF5KHNlbGVjdCkpIHtcclxuICAgICAgICAgICAgLy8gUmVtb3ZlIGluIHJldmVyc2Ugb3RoZXJ3aXNlIHRoZSBpbmRleGVzIHdpbGwgYmUgaW5jb3JyZWN0XHJcbiAgICAgICAgICAgIHNlbGVjdC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYiAtIGE7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZWFjaChzZWxlY3QsIGZ1bmN0aW9uIChyb3csIGkpIHtcclxuICAgICAgICAgICAgICAgIGR0LmRhdGEuc3BsaWNlKHJvdywgMSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGR0LmRhdGEuc3BsaWNlKHNlbGVjdCwgMSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgIGR0LmNvbHVtbnMoKS5yZWJ1aWxkKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlIHJvdyBpbmRleGVzXHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBSb3dzLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZWFjaCh0aGlzLmR0LmRhdGEsIGZ1bmN0aW9uIChyb3csIGkpIHtcclxuICAgICAgICAgICAgcm93LmRhdGFJbmRleCA9IGk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAvLyAgICBNQUlOIExJQiAgICAvL1xyXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgICB2YXIgRGF0YVRhYmxlID0gZnVuY3Rpb24gKHRhYmxlLCBvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyB1c2VyIG9wdGlvbnNcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBleHRlbmQoZGVmYXVsdENvbmZpZywgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgdGFibGUgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgdmFyIHNlbGVjdG9yID0gdGFibGU7XHJcbiAgICAgICAgICAgIHRhYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YWJsZSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgZWxlbWVudCAnXCIgKyBzZWxlY3RvciArIFwiJyBjYW4gbm90IGJlIGZvdW5kLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRhYmxlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSAhPT0gXCJ0YWJsZVwiKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBzZWxlY3RlZCBlbGVtZW50IGlzIG5vdCBhIHRhYmxlLlwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdGlhbExheW91dCA9IHRhYmxlLmlubmVySFRNTDtcclxuICAgICAgICB0aGlzLmluaXRpYWxTb3J0YWJsZSA9IHRoaXMub3B0aW9ucy5zb3J0YWJsZTtcclxuXHJcbiAgICAgICAgLy8gRGlzYWJsZSBtYW51YWwgc29ydGluZyBpZiBubyBoZWFkZXIgaXMgcHJlc2VudCAoIzQpXHJcbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuaGVhZGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5zb3J0YWJsZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRhYmxlLnRIZWFkID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLmRhdGEgfHxcclxuICAgICAgICAgICAgICAgICh0aGlzLm9wdGlvbnMuZGF0YSAmJiAhdGhpcy5vcHRpb25zLmRhdGEuaGVhZGluZ3MpXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnNvcnRhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0YWJsZS50Qm9kaWVzLmxlbmd0aCAmJiAhdGFibGUudEJvZGllc1swXS5yb3dzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLmRhdGEuZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJZb3Ugc2VlbSB0byBiZSB1c2luZyB0aGUgZGF0YSBvcHRpb24sIGJ1dCB5b3UndmUgbm90IGRlZmluZWQgYW55IHJvd3MuXCJcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnRhYmxlID0gdGFibGU7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgcHJvdG8gPSBEYXRhVGFibGUucHJvdG90eXBlO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgaW5zdGFuY2VcclxuICAgICAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9uc1xyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8uaW5pdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhbGl6ZWQgfHwgY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMudGFibGUsIFwiZGF0YVRhYmxlLXRhYmxlXCIpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcclxuXHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gZXh0ZW5kKHRoaXMub3B0aW9ucywgb3B0aW9ucyB8fCB7fSk7XHJcblxyXG4gICAgICAgIC8vIElFIGRldGVjdGlvblxyXG4gICAgICAgIHRoaXMuaXNJRSA9ICEhLyhtc2llfHRyaWRlbnQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcclxuXHJcbiAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7XHJcbiAgICAgICAgdGhpcy5vbkZpcnN0UGFnZSA9IHRydWU7XHJcblxyXG4gICAgICAgIHRoaXMuaGlkZGVuQ29sdW1ucyA9IFtdO1xyXG4gICAgICAgIHRoaXMuY29sdW1uUmVuZGVyZXJzID0gW107XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZENvbHVtbnMgPSBbXTtcclxuXHJcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcclxuXHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoYXQuZW1pdChcImRhdGF0YWJsZS5pbml0XCIpO1xyXG4gICAgICAgICAgICB0aGF0LmluaXRpYWxpemVkID0gdHJ1ZTtcclxuICAgICAgICB9LCAxMCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyIHRoZSBpbnN0YW5jZVxyXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSB0eXBlXHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5yZW5kZXIgPSBmdW5jdGlvbiAodHlwZSkge1xyXG4gICAgICAgIGlmICh0eXBlKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwicGFnZVwiOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJQYWdlKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInBhZ2VyXCI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclBhZ2VyKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImhlYWRlclwiOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJIZWFkZXIoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgdGhhdCA9IHRoaXMsXHJcbiAgICAgICAgICAgIG8gPSB0aGF0Lm9wdGlvbnMsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlID0gXCJcIjtcclxuXHJcbiAgICAgICAgLy8gQ29udmVydCBkYXRhIHRvIEhUTUxcclxuICAgICAgICBpZiAoby5kYXRhKSB7XHJcbiAgICAgICAgICAgIGRhdGFUb1RhYmxlLmNhbGwodGhhdCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoby5hamF4KSB7XHJcbiAgICAgICAgICAgIHZhciBhamF4ID0gby5hamF4O1xyXG4gICAgICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgeGhyUHJvZ3Jlc3MgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgdGhhdC5lbWl0KFwiZGF0YXRhYmxlLmFqYXgucHJvZ3Jlc3NcIiwgZSwgeGhyKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZhciB4aHJMb2FkID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuZW1pdChcImRhdGF0YWJsZS5hamF4LmxvYWRlZFwiLCBlLCB4aHIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmogPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmRhdGEgPSBhamF4LmxvYWQgPyBhamF4LmxvYWQuY2FsbCh0aGF0LCB4aHIpIDogeGhyLnJlc3BvbnNlVGV4dDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai50eXBlID0gXCJqc29uXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWpheC5jb250ZW50ICYmIGFqYXguY29udGVudC50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmoudHlwZSA9IGFqYXguY29udGVudC50eXBlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iaiA9IGV4dGVuZChvYmosIGFqYXguY29udGVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuaW1wb3J0KG9iaik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LnNldENvbHVtbnModHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmVtaXQoXCJkYXRhdGFibGUuYWpheC5zdWNjZXNzXCIsIGUsIHhocik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5lbWl0KFwiZGF0YXRhYmxlLmFqYXguZXJyb3JcIiwgZSwgeGhyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgeGhyRmFpbGVkID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIHRoYXQuZW1pdChcImRhdGF0YWJsZS5hamF4LmVycm9yXCIsIGUsIHhocik7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgeGhyQ2FuY2VsbGVkID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIHRoYXQuZW1pdChcImRhdGF0YWJsZS5hamF4LmFib3J0XCIsIGUsIHhocik7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBvbih4aHIsIFwicHJvZ3Jlc3NcIiwgeGhyUHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICBvbih4aHIsIFwibG9hZFwiLCB4aHJMb2FkKTtcclxuICAgICAgICAgICAgb24oeGhyLCBcImVycm9yXCIsIHhockZhaWxlZCk7XHJcbiAgICAgICAgICAgIG9uKHhociwgXCJhYm9ydFwiLCB4aHJDYW5jZWxsZWQpO1xyXG5cclxuICAgICAgICAgICAgdGhhdC5lbWl0KFwiZGF0YXRhYmxlLmFqYXgubG9hZGluZ1wiLCB4aHIpO1xyXG5cclxuICAgICAgICAgICAgeGhyLm9wZW4oXCJHRVRcIiwgdHlwZW9mIGFqYXggPT09IFwic3RyaW5nXCIgPyBvLmFqYXggOiBvLmFqYXgudXJsKTtcclxuICAgICAgICAgICAgeGhyLnNlbmQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFN0b3JlIHJlZmVyZW5jZXNcclxuICAgICAgICB0aGF0LmJvZHkgPSB0aGF0LnRhYmxlLnRCb2RpZXNbMF07XHJcbiAgICAgICAgdGhhdC5oZWFkID0gdGhhdC50YWJsZS50SGVhZDtcclxuICAgICAgICB0aGF0LmZvb3QgPSB0aGF0LnRhYmxlLnRGb290O1xyXG5cclxuICAgICAgICBpZiAoIXRoYXQuYm9keSkge1xyXG4gICAgICAgICAgICB0aGF0LmJvZHkgPSBjcmVhdGVFbGVtZW50KFwidGJvZHlcIik7XHJcblxyXG4gICAgICAgICAgICB0aGF0LnRhYmxlLmFwcGVuZENoaWxkKHRoYXQuYm9keSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGF0Lmhhc1Jvd3MgPSB0aGF0LmJvZHkucm93cy5sZW5ndGggPiAwO1xyXG5cclxuICAgICAgICAvLyBNYWtlIGEgdEhlYWQgaWYgdGhlcmUgaXNuJ3Qgb25lIChmaXhlcyAjOClcclxuICAgICAgICBpZiAoIXRoYXQuaGVhZCkge1xyXG4gICAgICAgICAgICB2YXIgaCA9IGNyZWF0ZUVsZW1lbnQoXCJ0aGVhZFwiKTtcclxuICAgICAgICAgICAgdmFyIHQgPSBjcmVhdGVFbGVtZW50KFwidHJcIik7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhhdC5oYXNSb3dzKSB7XHJcbiAgICAgICAgICAgICAgICBlYWNoKHRoYXQuYm9keS5yb3dzWzBdLmNlbGxzLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdC5hcHBlbmRDaGlsZChjcmVhdGVFbGVtZW50KFwidGhcIikpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaC5hcHBlbmRDaGlsZCh0KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhhdC5oZWFkID0gaDtcclxuXHJcbiAgICAgICAgICAgIHRoYXQudGFibGUuaW5zZXJ0QmVmb3JlKHRoYXQuaGVhZCwgdGhhdC5ib2R5KTtcclxuXHJcbiAgICAgICAgICAgIHRoYXQuaGlkZGVuSGVhZGVyID0gIW8uYWpheDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoYXQuaGVhZGluZ3MgPSBbXTtcclxuICAgICAgICB0aGF0Lmhhc0hlYWRpbmdzID0gdGhhdC5oZWFkLnJvd3MubGVuZ3RoID4gMDtcclxuXHJcbiAgICAgICAgaWYgKHRoYXQuaGFzSGVhZGluZ3MpIHtcclxuICAgICAgICAgICAgdGhhdC5oZWFkZXIgPSB0aGF0LmhlYWQucm93c1swXTtcclxuICAgICAgICAgICAgdGhhdC5oZWFkaW5ncyA9IFtdLnNsaWNlLmNhbGwodGhhdC5oZWFkZXIuY2VsbHMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSGVhZGVyXHJcbiAgICAgICAgaWYgKCFvLmhlYWRlcikge1xyXG4gICAgICAgICAgICBpZiAodGhhdC5oZWFkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGF0LnRhYmxlLnJlbW92ZUNoaWxkKHRoYXQudGFibGUudEhlYWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBGb290ZXJcclxuICAgICAgICBpZiAoby5mb290ZXIpIHtcclxuICAgICAgICAgICAgaWYgKHRoYXQuaGVhZCAmJiAhdGhhdC5mb290KSB7XHJcbiAgICAgICAgICAgICAgICB0aGF0LmZvb3QgPSBjcmVhdGVFbGVtZW50KFwidGZvb3RcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIGh0bWw6IHRoYXQuaGVhZC5pbm5lckhUTUxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhhdC50YWJsZS5hcHBlbmRDaGlsZCh0aGF0LmZvb3QpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRoYXQuZm9vdCkge1xyXG4gICAgICAgICAgICAgICAgdGhhdC50YWJsZS5yZW1vdmVDaGlsZCh0aGF0LnRhYmxlLnRGb290KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQnVpbGRcclxuICAgICAgICB0aGF0LndyYXBwZXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcclxuICAgICAgICAgICAgY2xhc3M6IFwiZGF0YVRhYmxlLXdyYXBwZXIgZGF0YVRhYmxlLWxvYWRpbmdcIlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBUZW1wbGF0ZSBmb3IgY3VzdG9tIGxheW91dHNcclxuICAgICAgICB0ZW1wbGF0ZSArPSBcIjxkaXYgY2xhc3M9J2RhdGFUYWJsZS10b3AnPlwiO1xyXG4gICAgICAgIHRlbXBsYXRlICs9IG8ubGF5b3V0LnRvcDtcclxuICAgICAgICB0ZW1wbGF0ZSArPSBcIjwvZGl2PlwiO1xyXG4gICAgICAgIHRlbXBsYXRlICs9IFwiPGRpdiBjbGFzcz0nZGF0YVRhYmxlLWNvbnRhaW5lcic+PC9kaXY+XCI7XHJcbiAgICAgICAgdGVtcGxhdGUgKz0gXCI8ZGl2IGNsYXNzPSdkYXRhVGFibGUtYm90dG9tJz5cIjtcclxuICAgICAgICB0ZW1wbGF0ZSArPSBvLmxheW91dC5ib3R0b207XHJcbiAgICAgICAgdGVtcGxhdGUgKz0gXCI8L2Rpdj5cIjtcclxuXHJcbiAgICAgICAgLy8gSW5mbyBwbGFjZW1lbnRcclxuICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoXCJ7aW5mb31cIiwgXCI8ZGl2IGNsYXNzPSdkYXRhVGFibGUtaW5mbyc+PC9kaXY+XCIpO1xyXG5cclxuICAgICAgICAvLyBQZXIgUGFnZSBTZWxlY3RcclxuICAgICAgICBpZiAoby5wZXJQYWdlU2VsZWN0KSB7XHJcbiAgICAgICAgICAgIHZhciB3cmFwID0gXCI8ZGl2IGNsYXNzPSdkYXRhVGFibGUtZHJvcGRvd24nPjxsYWJlbD5cIjtcclxuICAgICAgICAgICAgd3JhcCArPSBvLmxhYmVscy5wZXJQYWdlO1xyXG4gICAgICAgICAgICB3cmFwICs9IFwiPC9sYWJlbD48L2Rpdj5cIjtcclxuXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgc2VsZWN0XHJcbiAgICAgICAgICAgIHZhciBzZWxlY3QgPSBjcmVhdGVFbGVtZW50KFwic2VsZWN0XCIsIHtcclxuICAgICAgICAgICAgICAgIGNsYXNzOiBcImRhdGFUYWJsZS1zZWxlY3RvclwiXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBvcHRpb25zXHJcbiAgICAgICAgICAgIGVhY2goby5wZXJQYWdlU2VsZWN0LCBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSB2YWwgPT09IG8ucGVyUGFnZTtcclxuICAgICAgICAgICAgICAgIHZhciBvcHRpb24gPSBuZXcgT3B0aW9uKHZhbCwgdmFsLCBzZWxlY3RlZCwgc2VsZWN0ZWQpO1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0LmFkZChvcHRpb24pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIEN1c3RvbSBsYWJlbFxyXG4gICAgICAgICAgICB3cmFwID0gd3JhcC5yZXBsYWNlKFwie3NlbGVjdH1cIiwgc2VsZWN0Lm91dGVySFRNTCk7XHJcblxyXG4gICAgICAgICAgICAvLyBTZWxlY3RvciBwbGFjZW1lbnRcclxuICAgICAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKFwie3NlbGVjdH1cIiwgd3JhcCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKFwie3NlbGVjdH1cIiwgXCJcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTZWFyY2hhYmxlXHJcbiAgICAgICAgaWYgKG8uc2VhcmNoYWJsZSkge1xyXG4gICAgICAgICAgICB2YXIgZm9ybSA9XHJcbiAgICAgICAgICAgICAgICBcIjxkaXYgY2xhc3M9J2RhdGFUYWJsZS1zZWFyY2gnPjxpbnB1dCBjbGFzcz0nZGF0YVRhYmxlLWlucHV0JyBwbGFjZWhvbGRlcj0nXCIgK1xyXG4gICAgICAgICAgICAgICAgby5sYWJlbHMucGxhY2Vob2xkZXIgK1xyXG4gICAgICAgICAgICAgICAgXCInIHR5cGU9J3RleHQnPjwvZGl2PlwiO1xyXG5cclxuICAgICAgICAgICAgLy8gU2VhcmNoIGlucHV0IHBsYWNlbWVudFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoXCJ7c2VhcmNofVwiLCBmb3JtKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoXCJ7c2VhcmNofVwiLCBcIlwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGF0Lmhhc0hlYWRpbmdzKSB7XHJcbiAgICAgICAgICAgIC8vIFNvcnRhYmxlXHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyKFwiaGVhZGVyXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQWRkIHRhYmxlIGNsYXNzXHJcbiAgICAgICAgY2xhc3NMaXN0LmFkZCh0aGF0LnRhYmxlLCBcImRhdGFUYWJsZS10YWJsZVwiKTtcclxuXHJcbiAgICAgICAgLy8gUGFnaW5hdG9yXHJcbiAgICAgICAgdmFyIHcgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcclxuICAgICAgICAgICAgY2xhc3M6IFwiZGF0YVRhYmxlLXBhZ2luYXRpb25cIlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBwYWdpbmF0b3IgPSBjcmVhdGVFbGVtZW50KFwidWxcIik7XHJcbiAgICAgICAgdy5hcHBlbmRDaGlsZChwYWdpbmF0b3IpO1xyXG5cclxuICAgICAgICAvLyBQYWdlcihzKSBwbGFjZW1lbnRcclxuICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoL1xce3BhZ2VyXFx9L2csIHcub3V0ZXJIVE1MKTtcclxuXHJcbiAgICAgICAgdGhhdC53cmFwcGVyLmlubmVySFRNTCA9IHRlbXBsYXRlO1xyXG5cclxuICAgICAgICB0aGF0LmNvbnRhaW5lciA9IHRoYXQud3JhcHBlci5xdWVyeVNlbGVjdG9yKFwiLmRhdGFUYWJsZS1jb250YWluZXJcIik7XHJcblxyXG4gICAgICAgIHRoYXQucGFnZXJzID0gdGhhdC53cmFwcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZGF0YVRhYmxlLXBhZ2luYXRpb25cIik7XHJcblxyXG4gICAgICAgIHRoYXQubGFiZWwgPSB0aGF0LndyYXBwZXIucXVlcnlTZWxlY3RvcihcIi5kYXRhVGFibGUtaW5mb1wiKTtcclxuXHJcbiAgICAgICAgLy8gSW5zZXJ0IGluIHRvIERPTSB0cmVlXHJcbiAgICAgICAgdGhhdC50YWJsZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZCh0aGF0LndyYXBwZXIsIHRoYXQudGFibGUpO1xyXG4gICAgICAgIHRoYXQuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoYXQudGFibGUpO1xyXG5cclxuICAgICAgICAvLyBTdG9yZSB0aGUgdGFibGUgZGltZW5zaW9uc1xyXG4gICAgICAgIHRoYXQucmVjdCA9IHRoYXQudGFibGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gICAgICAgIC8vIENvbnZlcnQgcm93cyB0byBhcnJheSBmb3IgcHJvY2Vzc2luZ1xyXG4gICAgICAgIHRoYXQuZGF0YSA9IFtdLnNsaWNlLmNhbGwodGhhdC5ib2R5LnJvd3MpO1xyXG4gICAgICAgIHRoYXQuYWN0aXZlUm93cyA9IHRoYXQuZGF0YS5zbGljZSgpO1xyXG4gICAgICAgIHRoYXQuYWN0aXZlSGVhZGluZ3MgPSB0aGF0LmhlYWRpbmdzLnNsaWNlKCk7XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZVxyXG4gICAgICAgIHRoYXQudXBkYXRlKCk7XHJcblxyXG4gICAgICAgIGlmICghby5hamF4KSB7XHJcbiAgICAgICAgICAgIHRoYXQuc2V0Q29sdW1ucygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRml4IGhlaWdodFxyXG4gICAgICAgIHRoaXMuZml4SGVpZ2h0KCk7XHJcblxyXG4gICAgICAgIC8vIEZpeCBjb2x1bW5zXHJcbiAgICAgICAgdGhhdC5maXhDb2x1bW5zKCk7XHJcblxyXG4gICAgICAgIC8vIENsYXNzIG5hbWVzXHJcbiAgICAgICAgaWYgKCFvLmhlYWRlcikge1xyXG4gICAgICAgICAgICBjbGFzc0xpc3QuYWRkKHRoYXQud3JhcHBlciwgXCJuby1oZWFkZXJcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIW8uZm9vdGVyKSB7XHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5hZGQodGhhdC53cmFwcGVyLCBcIm5vLWZvb3RlclwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChvLnNvcnRhYmxlKSB7XHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5hZGQodGhhdC53cmFwcGVyLCBcInNvcnRhYmxlXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG8uc2VhcmNoYWJsZSkge1xyXG4gICAgICAgICAgICBjbGFzc0xpc3QuYWRkKHRoYXQud3JhcHBlciwgXCJzZWFyY2hhYmxlXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG8uZml4ZWRIZWlnaHQpIHtcclxuICAgICAgICAgICAgY2xhc3NMaXN0LmFkZCh0aGF0LndyYXBwZXIsIFwiZml4ZWQtaGVpZ2h0XCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG8uZml4ZWRDb2x1bW5zKSB7XHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5hZGQodGhhdC53cmFwcGVyLCBcImZpeGVkLWNvbHVtbnNcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGF0LmJpbmRFdmVudHMoKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgdGhlIHBhZ2VcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLnJlbmRlclBhZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaGFzUm93cyAmJiB0aGlzLnRvdGFsUGFnZXMpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhZ2UgPiB0aGlzLnRvdGFsUGFnZXMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBVc2UgYSBmcmFnbWVudCB0byBsaW1pdCB0b3VjaGluZyB0aGUgRE9NXHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuY3VycmVudFBhZ2UgLSAxLFxyXG4gICAgICAgICAgICAgICAgZnJhZyA9IGRvYy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5oYXNIZWFkaW5ncykge1xyXG4gICAgICAgICAgICAgICAgZmx1c2godGhpcy5oZWFkZXIsIHRoaXMuaXNJRSk7XHJcblxyXG4gICAgICAgICAgICAgICAgZWFjaCh0aGlzLmFjdGl2ZUhlYWRpbmdzLCBmdW5jdGlvbiAodGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhlYWRlci5hcHBlbmRDaGlsZCh0aCk7XHJcbiAgICAgICAgICAgICAgICB9LCB0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZWFjaCh0aGlzLnBhZ2VzW2luZGV4XSwgZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICAgICAgZnJhZy5hcHBlbmRDaGlsZCh0aGlzLnJvd3MoKS5yZW5kZXIocm93KSk7XHJcbiAgICAgICAgICAgIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jbGVhcihmcmFnKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub25GaXJzdFBhZ2UgPSB0aGlzLmN1cnJlbnRQYWdlID09PSAxO1xyXG4gICAgICAgICAgICB0aGlzLm9uTGFzdFBhZ2UgPSB0aGlzLmN1cnJlbnRQYWdlID09PSB0aGlzLmxhc3RQYWdlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xlYXIoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgaW5mb1xyXG4gICAgICAgIHZhciBjdXJyZW50ID0gMCxcclxuICAgICAgICAgICAgZiA9IDAsXHJcbiAgICAgICAgICAgIHQgPSAwLFxyXG4gICAgICAgICAgICBpdGVtcztcclxuXHJcbiAgICAgICAgaWYgKHRoaXMudG90YWxQYWdlcykge1xyXG4gICAgICAgICAgICBjdXJyZW50ID0gdGhpcy5jdXJyZW50UGFnZSAtIDE7XHJcbiAgICAgICAgICAgIGYgPSBjdXJyZW50ICogdGhpcy5vcHRpb25zLnBlclBhZ2U7XHJcbiAgICAgICAgICAgIHQgPSBmICsgdGhpcy5wYWdlc1tjdXJyZW50XS5sZW5ndGg7XHJcbiAgICAgICAgICAgIGYgPSBmICsgMTtcclxuICAgICAgICAgICAgaXRlbXMgPSAhIXRoaXMuc2VhcmNoaW5nID8gdGhpcy5zZWFyY2hEYXRhLmxlbmd0aCA6IHRoaXMuZGF0YS5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5sYWJlbCAmJiB0aGlzLm9wdGlvbnMubGFiZWxzLmluZm8ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIC8vIENVU1RPTSBMQUJFTFNcclxuICAgICAgICAgICAgdmFyIHN0cmluZyA9IHRoaXMub3B0aW9ucy5sYWJlbHMuaW5mb1xyXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoXCJ7c3RhcnR9XCIsIGYpXHJcbiAgICAgICAgICAgICAgICAucmVwbGFjZShcIntlbmR9XCIsIHQpXHJcbiAgICAgICAgICAgICAgICAucmVwbGFjZShcIntwYWdlfVwiLCB0aGlzLmN1cnJlbnRQYWdlKVxyXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoXCJ7cGFnZXN9XCIsIHRoaXMudG90YWxQYWdlcylcclxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKFwie3Jvd3N9XCIsIGl0ZW1zKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGFiZWwuaW5uZXJIVE1MID0gaXRlbXMgPyBzdHJpbmcgOiBcIlwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhZ2UgPT0gMSkge1xyXG4gICAgICAgICAgICB0aGlzLmZpeEhlaWdodCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgdGhlIHBhZ2VyKHMpXHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5yZW5kZXJQYWdlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmbHVzaCh0aGlzLnBhZ2VycywgdGhpcy5pc0lFKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMudG90YWxQYWdlcyA+IDEpIHtcclxuICAgICAgICAgICAgdmFyIGMgPSBcInBhZ2VyXCIsXHJcbiAgICAgICAgICAgICAgICBmcmFnID0gZG9jLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcclxuICAgICAgICAgICAgICAgIHByZXYgPSB0aGlzLm9uRmlyc3RQYWdlID8gMSA6IHRoaXMuY3VycmVudFBhZ2UgLSAxLFxyXG4gICAgICAgICAgICAgICAgbmV4dCA9IHRoaXMub25sYXN0UGFnZSA/IHRoaXMudG90YWxQYWdlcyA6IHRoaXMuY3VycmVudFBhZ2UgKyAxO1xyXG5cclxuICAgICAgICAgICAgLy8gZmlyc3QgYnV0dG9uXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZmlyc3RMYXN0KSB7XHJcbiAgICAgICAgICAgICAgICBmcmFnLmFwcGVuZENoaWxkKGJ1dHRvbihjLCAxLCB0aGlzLm9wdGlvbnMuZmlyc3RUZXh0KSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHByZXYgYnV0dG9uXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMubmV4dFByZXYpIHtcclxuICAgICAgICAgICAgICAgIGZyYWcuYXBwZW5kQ2hpbGQoYnV0dG9uKGMsIHByZXYsIHRoaXMub3B0aW9ucy5wcmV2VGV4dCkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgcGFnZXIgPSB0aGlzLmxpbmtzO1xyXG5cclxuICAgICAgICAgICAgLy8gdHJ1bmNhdGUgdGhlIGxpbmtzXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMudHJ1bmNhdGVQYWdlcikge1xyXG4gICAgICAgICAgICAgICAgcGFnZXIgPSB0cnVuY2F0ZShcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpbmtzLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWdlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnBhZ2VyRGVsdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmVsbGlwc2lzVGV4dFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gYWN0aXZlIHBhZ2UgbGlua1xyXG4gICAgICAgICAgICBjbGFzc0xpc3QuYWRkKHRoaXMubGlua3NbdGhpcy5jdXJyZW50UGFnZSAtIDFdLCBcImFjdGl2ZVwiKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGFwcGVuZCB0aGUgbGlua3NcclxuICAgICAgICAgICAgZWFjaChwYWdlciwgZnVuY3Rpb24gKHApIHtcclxuICAgICAgICAgICAgICAgIGNsYXNzTGlzdC5yZW1vdmUocCwgXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgICAgICBmcmFnLmFwcGVuZENoaWxkKHApO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5hZGQodGhpcy5saW5rc1t0aGlzLmN1cnJlbnRQYWdlIC0gMV0sIFwiYWN0aXZlXCIpO1xyXG5cclxuICAgICAgICAgICAgLy8gbmV4dCBidXR0b25cclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5uZXh0UHJldikge1xyXG4gICAgICAgICAgICAgICAgZnJhZy5hcHBlbmRDaGlsZChidXR0b24oYywgbmV4dCwgdGhpcy5vcHRpb25zLm5leHRUZXh0KSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGZpcnN0IGJ1dHRvblxyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmZpcnN0TGFzdCkge1xyXG4gICAgICAgICAgICAgICAgZnJhZy5hcHBlbmRDaGlsZChidXR0b24oYywgdGhpcy50b3RhbFBhZ2VzLCB0aGlzLm9wdGlvbnMubGFzdFRleHQpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gV2UgbWF5IGhhdmUgbW9yZSB0aGFuIG9uZSBwYWdlclxyXG4gICAgICAgICAgICBlYWNoKHRoaXMucGFnZXJzLCBmdW5jdGlvbiAocGFnZXIpIHtcclxuICAgICAgICAgICAgICAgIHBhZ2VyLmFwcGVuZENoaWxkKGZyYWcuY2xvbmVOb2RlKHRydWUpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciB0aGUgaGVhZGVyXHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5yZW5kZXJIZWFkZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xyXG5cclxuICAgICAgICB0aGF0LmxhYmVscyA9IFtdO1xyXG5cclxuICAgICAgICBpZiAodGhhdC5oZWFkaW5ncyAmJiB0aGF0LmhlYWRpbmdzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBlYWNoKHRoYXQuaGVhZGluZ3MsIGZ1bmN0aW9uICh0aCwgaSkge1xyXG5cclxuICAgICAgICAgICAgICAgIHRoYXQubGFiZWxzW2ldID0gdGgudGV4dENvbnRlbnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNsYXNzTGlzdC5jb250YWlucyh0aC5maXJzdEVsZW1lbnRDaGlsZCwgXCJkYXRhVGFibGUtc29ydGVyXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGguaW5uZXJIVE1MID0gdGguZmlyc3RFbGVtZW50Q2hpbGQuaW5uZXJIVE1MO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoLnNvcnRhYmxlID0gdGguZ2V0QXR0cmlidXRlKFwiZGF0YS1zb3J0YWJsZVwiKSAhPT0gXCJmYWxzZVwiO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoLm9yaWdpbmFsQ2VsbEluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGF0Lm9wdGlvbnMuc29ydGFibGUgJiYgdGguc29ydGFibGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbGluayA9IGNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHJlZjogXCIjXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiBcImRhdGFUYWJsZS1zb3J0ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogdGguaW5uZXJIVE1MXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGguc2V0QXR0cmlidXRlKFwiZGF0YS1zb3J0YWJsZVwiLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB0aC5hcHBlbmRDaGlsZChsaW5rKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGF0LmZpeENvbHVtbnMoKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBCaW5kIGV2ZW50IGxpc3RlbmVyc1xyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgIHByb3RvLmJpbmRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzLFxyXG4gICAgICAgICAgICBvID0gdGhhdC5vcHRpb25zO1xyXG5cclxuICAgICAgICAvLyBQZXIgcGFnZSBzZWxlY3RvclxyXG4gICAgICAgIGlmIChvLnBlclBhZ2VTZWxlY3QpIHtcclxuICAgICAgICAgICAgdmFyIHNlbGVjdG9yID0gdGhhdC53cmFwcGVyLnF1ZXJ5U2VsZWN0b3IoXCIuZGF0YVRhYmxlLXNlbGVjdG9yXCIpO1xyXG4gICAgICAgICAgICBpZiAoc2VsZWN0b3IpIHtcclxuICAgICAgICAgICAgICAgIC8vIENoYW5nZSBwZXIgcGFnZVxyXG4gICAgICAgICAgICAgICAgb24oc2VsZWN0b3IsIFwiY2hhbmdlXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgby5wZXJQYWdlID0gcGFyc2VJbnQodGhpcy52YWx1ZSwgMTApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQudXBkYXRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuZml4SGVpZ2h0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuZW1pdChcImRhdGF0YWJsZS5wZXJwYWdlXCIsIG8ucGVyUGFnZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2VhcmNoIGlucHV0XHJcbiAgICAgICAgaWYgKG8uc2VhcmNoYWJsZSkge1xyXG4gICAgICAgICAgICB0aGF0LmlucHV0ID0gdGhhdC53cmFwcGVyLnF1ZXJ5U2VsZWN0b3IoXCIuZGF0YVRhYmxlLWlucHV0XCIpO1xyXG4gICAgICAgICAgICBpZiAodGhhdC5pbnB1dCkge1xyXG4gICAgICAgICAgICAgICAgb24odGhhdC5pbnB1dCwgXCJrZXl1cFwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuc2VhcmNoKHRoaXMudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFBhZ2VyKHMpIC8gc29ydGluZ1xyXG4gICAgICAgIG9uKHRoYXQud3JhcHBlciwgXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICB2YXIgdCA9IGUudGFyZ2V0O1xyXG4gICAgICAgICAgICBpZiAodC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImFcIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHQuaGFzQXR0cmlidXRlKFwiZGF0YS1wYWdlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5wYWdlKHQuZ2V0QXR0cmlidXRlKFwiZGF0YS1wYWdlXCIpKTtcclxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgIG8uc29ydGFibGUgJiZcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc0xpc3QuY29udGFpbnModCwgXCJkYXRhVGFibGUtc29ydGVyXCIpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgdC5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZShcImRhdGEtc29ydGFibGVcIikgIT0gXCJmYWxzZVwiXHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0LmNvbHVtbnMoKS5zb3J0KHRoYXQuYWN0aXZlSGVhZGluZ3MuaW5kZXhPZih0LnBhcmVudE5vZGUpICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHVwIGNvbHVtbnNcclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICBwcm90by5zZXRDb2x1bW5zID0gZnVuY3Rpb24gKGFqYXgpIHtcclxuXHJcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xyXG5cclxuICAgICAgICBpZiAoIWFqYXgpIHtcclxuICAgICAgICAgICAgZWFjaCh0aGF0LmRhdGEsIGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgICAgICAgICAgIGVhY2gocm93LmNlbGxzLCBmdW5jdGlvbiAoY2VsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNlbGwuZGF0YSA9IGNlbGwuaW5uZXJIVE1MO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgZm9yIHRoZSBjb2x1bW5zIG9wdGlvblxyXG4gICAgICAgIGlmICh0aGF0Lm9wdGlvbnMuY29sdW1ucyAmJiB0aGF0LmhlYWRpbmdzLmxlbmd0aCkge1xyXG5cclxuICAgICAgICAgICAgZWFjaCh0aGF0Lm9wdGlvbnMuY29sdW1ucywgZnVuY3Rpb24gKGRhdGEpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjb252ZXJ0IHNpbmdsZSBjb2x1bW4gc2VsZWN0aW9uIHRvIGFycmF5XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzQXJyYXkoZGF0YS5zZWxlY3QpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5zZWxlY3QgPSBbZGF0YS5zZWxlY3RdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KFwicmVuZGVyXCIpICYmIHR5cGVvZiBkYXRhLnJlbmRlciA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5zZWxlY3RlZENvbHVtbnMgPSB0aGF0LnNlbGVjdGVkQ29sdW1ucy5jb25jYXQoZGF0YS5zZWxlY3QpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGF0LmNvbHVtblJlbmRlcmVycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uczogZGF0YS5zZWxlY3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyOiBkYXRhLnJlbmRlclxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgZGF0YSBhdHRyaWJ1dGVzIHRvIHRoZSB0aCBlbGVtZW50c1xyXG4gICAgICAgICAgICAgICAgZWFjaChkYXRhLnNlbGVjdCwgZnVuY3Rpb24gKGNvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aCA9IHRoYXQuaGVhZGluZ3NbY29sdW1uXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoLnNldEF0dHJpYnV0ZShcImRhdGEtdHlwZVwiLCBkYXRhLnR5cGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5mb3JtYXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGguc2V0QXR0cmlidXRlKFwiZGF0YS1mb3JtYXRcIiwgZGF0YS5mb3JtYXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eShcInNvcnRhYmxlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoLnNldEF0dHJpYnV0ZShcImRhdGEtc29ydGFibGVcIiwgZGF0YS5zb3J0YWJsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eShcImhpZGRlblwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5oaWRkZW4gIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmNvbHVtbnMoY29sdW1uKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KFwic29ydFwiKSAmJiBkYXRhLnNlbGVjdC5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5jb2x1bW5zKCkuc29ydChkYXRhLnNlbGVjdFswXSArIDEsIGRhdGEuc29ydCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoYXQuaGFzUm93cykge1xyXG4gICAgICAgICAgICBlYWNoKHRoYXQuZGF0YSwgZnVuY3Rpb24gKHJvdywgaSkge1xyXG4gICAgICAgICAgICAgICAgcm93LmRhdGFJbmRleCA9IGk7XHJcbiAgICAgICAgICAgICAgICBlYWNoKHJvdy5jZWxscywgZnVuY3Rpb24gKGNlbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjZWxsLmRhdGEgPSBjZWxsLmlubmVySFRNTDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGF0LnNlbGVjdGVkQ29sdW1ucy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGVhY2godGhhdC5kYXRhLCBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWFjaChyb3cuY2VsbHMsIGZ1bmN0aW9uIChjZWxsLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGF0LnNlbGVjdGVkQ29sdW1ucy5pbmRleE9mKGkpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVhY2godGhhdC5jb2x1bW5SZW5kZXJlcnMsIGZ1bmN0aW9uIChvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8uY29sdW1ucy5pbmRleE9mKGkpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbC5pbm5lckhUTUwgPSBvLnJlbmRlcmVyLmNhbGwodGhhdCwgY2VsbC5kYXRhLCBjZWxsLCByb3cpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhhdC5jb2x1bW5zKCkucmVidWlsZCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhhdC5yZW5kZXIoXCJoZWFkZXJcIik7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVzdHJveSB0aGUgaW5zdGFuY2VcclxuICAgICAqIEByZXR1cm4ge3ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy50YWJsZS5pbm5lckhUTUwgPSB0aGlzLmluaXRpYWxMYXlvdXQ7XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZSB0aGUgY2xhc3NOYW1lXHJcbiAgICAgICAgY2xhc3NMaXN0LnJlbW92ZSh0aGlzLnRhYmxlLCBcImRhdGFUYWJsZS10YWJsZVwiKTtcclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlIHRoZSBjb250YWluZXJzXHJcbiAgICAgICAgdGhpcy53cmFwcGVyLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHRoaXMudGFibGUsIHRoaXMud3JhcHBlcik7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGUgdGhlIGluc3RhbmNlXHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5wYWdpbmF0ZSh0aGlzKTtcclxuICAgICAgICB0aGlzLnJlbmRlcihcInBhZ2VcIik7XHJcblxyXG4gICAgICAgIHRoaXMubGlua3MgPSBbXTtcclxuXHJcbiAgICAgICAgdmFyIGkgPSB0aGlzLnBhZ2VzLmxlbmd0aDtcclxuICAgICAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgICAgICAgIHZhciBudW0gPSBpICsgMTtcclxuICAgICAgICAgICAgdGhpcy5saW5rc1tpXSA9IGJ1dHRvbihpID09PSAwID8gXCJhY3RpdmVcIiA6IFwiXCIsIG51bSwgbnVtKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc29ydGluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLnJlbmRlcihcInBhZ2VyXCIpO1xyXG5cclxuICAgICAgICB0aGlzLnJvd3MoKS51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbWl0KFwiZGF0YXRhYmxlLnVwZGF0ZVwiKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTb3J0IHJvd3MgaW50byBwYWdlc1xyXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBwcm90by5wYWdpbmF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcGVyUGFnZSA9IHRoaXMub3B0aW9ucy5wZXJQYWdlLFxyXG4gICAgICAgICAgICByb3dzID0gdGhpcy5hY3RpdmVSb3dzO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zZWFyY2hpbmcpIHtcclxuICAgICAgICAgICAgcm93cyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgZWFjaCh0aGlzLnNlYXJjaERhdGEsIGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgcm93cy5wdXNoKHRoaXMuYWN0aXZlUm93c1tpbmRleF0pO1xyXG4gICAgICAgICAgICB9LCB0aGlzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGZvciBoaWRkZW4gY29sdW1uc1xyXG4gICAgICAgIHRoaXMucGFnZXMgPSByb3dzXHJcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHRyLCBpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaSAlIHBlclBhZ2UgPT09IDAgPyByb3dzLnNsaWNlKGksIGkgKyBwZXJQYWdlKSA6IG51bGw7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHBhZ2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwYWdlO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy50b3RhbFBhZ2VzID0gdGhpcy5sYXN0UGFnZSA9IHRoaXMucGFnZXMubGVuZ3RoO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy50b3RhbFBhZ2VzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEZpeCBjb2x1bW4gd2lkdGhzXHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5maXhDb2x1bW5zID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmZpeGVkQ29sdW1ucyAmJiB0aGlzLmFjdGl2ZUhlYWRpbmdzICYmIHRoaXMuYWN0aXZlSGVhZGluZ3MubGVuZ3RoKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgY2VsbHMsXHJcbiAgICAgICAgICAgICAgICBoZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jb2x1bW5XaWR0aHMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgaGVhZGluZ3Mgd2UgbmVlZCBvbmx5IHNldCB0aGUgd2lkdGhzIG9uIHRoZW1cclxuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIHdlIG5lZWQgYSB0ZW1wIGhlYWRlciBhbmQgdGhlIHdpZHRocyBuZWVkIGFwcGx5aW5nIHRvIGFsbCBjZWxsc1xyXG4gICAgICAgICAgICBpZiAodGhpcy50YWJsZS50SGVhZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gUmVzZXQgd2lkdGhzXHJcbiAgICAgICAgICAgICAgICBlYWNoKHRoaXMuYWN0aXZlSGVhZGluZ3MsIGZ1bmN0aW9uIChjZWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2VsbC5zdHlsZS53aWR0aCA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICB9LCB0aGlzKTtcclxuXHJcbiAgICAgICAgICAgICAgICBlYWNoKHRoaXMuYWN0aXZlSGVhZGluZ3MsIGZ1bmN0aW9uIChjZWxsLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG93ID0gY2VsbC5vZmZzZXRXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdyA9IG93IC8gdGhpcy5yZWN0LndpZHRoICogMTAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGNlbGwuc3R5bGUud2lkdGggPSB3ICsgXCIlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2x1bW5XaWR0aHNbaV0gPSBvdztcclxuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2VsbHMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBNYWtlIHRlbXBlcmFyeSBoZWFkaW5nc1xyXG4gICAgICAgICAgICAgICAgaGQgPSBjcmVhdGVFbGVtZW50KFwidGhlYWRcIik7XHJcbiAgICAgICAgICAgICAgICB2YXIgciA9IGNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcclxuICAgICAgICAgICAgICAgIHZhciBjID0gdGhpcy50YWJsZS50Qm9kaWVzWzBdLnJvd3NbMF0uY2VsbHM7XHJcbiAgICAgICAgICAgICAgICBlYWNoKGMsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGggPSBjcmVhdGVFbGVtZW50KFwidGhcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgci5hcHBlbmRDaGlsZCh0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2VsbHMucHVzaCh0aCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBoZC5hcHBlbmRDaGlsZChyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudGFibGUuaW5zZXJ0QmVmb3JlKGhkLCB0aGlzLmJvZHkpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciB3aWR0aHMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGVhY2goY2VsbHMsIGZ1bmN0aW9uIChjZWxsLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG93ID0gY2VsbC5vZmZzZXRXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdyA9IG93IC8gdGhpcy5yZWN0LndpZHRoICogMTAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRocy5wdXNoKHcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sdW1uV2lkdGhzW2ldID0gb3c7XHJcbiAgICAgICAgICAgICAgICB9LCB0aGlzKTtcclxuXHJcbiAgICAgICAgICAgICAgICBlYWNoKHRoaXMuZGF0YSwgZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICAgICAgICAgIGVhY2gocm93LmNlbGxzLCBmdW5jdGlvbiAoY2VsbCwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb2x1bW5zKGNlbGwuY2VsbEluZGV4KS52aXNpYmxlKCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWxsLnN0eWxlLndpZHRoID0gd2lkdGhzW2ldICsgXCIlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9LCB0aGlzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBEaXNjYXJkIHRoZSB0ZW1wIGhlYWRlclxyXG4gICAgICAgICAgICAgICAgdGhpcy50YWJsZS5yZW1vdmVDaGlsZChoZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRml4IHRoZSBjb250YWluZXIgaGVpZ2h0O1xyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8uZml4SGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZml4ZWRIZWlnaHQpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5yZWN0ID0gdGhpcy5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IHRoaXMucmVjdC5oZWlnaHQgKyBcInB4XCI7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFBlcmZvcm0gYSBzZWFyY2ggb2YgdGhlIGRhdGEgc2V0XHJcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IHF1ZXJ5XHJcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5zZWFyY2ggPSBmdW5jdGlvbiAocXVlcnkpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaGFzUm93cykgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XHJcblxyXG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7XHJcbiAgICAgICAgdGhpcy5zZWFyY2hpbmcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc2VhcmNoRGF0YSA9IFtdO1xyXG5cclxuICAgICAgICBpZiAoIXF1ZXJ5Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLnNlYXJjaGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJkYXRhdGFibGUuc2VhcmNoXCIsIHF1ZXJ5LCB0aGlzLnNlYXJjaERhdGEpO1xyXG4gICAgICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKHRoaXMud3JhcHBlciwgXCJzZWFyY2gtcmVzdWx0c1wiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jbGVhcigpO1xyXG5cclxuICAgICAgICBlYWNoKHRoaXMuZGF0YSwgZnVuY3Rpb24gKHJvdywgaWR4KSB7XHJcbiAgICAgICAgICAgIHZhciBpbkFycmF5ID0gdGhpcy5zZWFyY2hEYXRhLmluZGV4T2Yocm93KSA+IC0xO1xyXG5cclxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL01vYml1czEvVmFuaWxsYS1EYXRhVGFibGVzL2lzc3Vlcy8xMlxyXG4gICAgICAgICAgICB2YXIgZG9lc1F1ZXJ5TWF0Y2ggPSBxdWVyeS5zcGxpdChcIiBcIikucmVkdWNlKGZ1bmN0aW9uIChib29sLCB3b3JkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5jbHVkZXMgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHJvdy5jZWxscy5sZW5ndGg7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm93LmNlbGxzW3hdLnRleHRDb250ZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZih3b3JkKSA+IC0xICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuY29sdW1ucyhyb3cuY2VsbHNbeF0uY2VsbEluZGV4KS52aXNpYmxlKClcclxuICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZXMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJvb2wgJiYgaW5jbHVkZXM7XHJcbiAgICAgICAgICAgIH0sIHRydWUpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGRvZXNRdWVyeU1hdGNoICYmICFpbkFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICByb3cuc2VhcmNoSW5kZXggPSBpZHg7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlYXJjaERhdGEucHVzaChpZHgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcm93LnNlYXJjaEluZGV4ID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICBjbGFzc0xpc3QuYWRkKHRoaXMud3JhcHBlciwgXCJzZWFyY2gtcmVzdWx0c1wiKTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGF0LnNlYXJjaERhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5yZW1vdmUodGhhdC53cmFwcGVyLCBcInNlYXJjaC1yZXN1bHRzXCIpO1xyXG5cclxuICAgICAgICAgICAgdGhhdC5zZXRNZXNzYWdlKHRoYXQub3B0aW9ucy5sYWJlbHMubm9Sb3dzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGF0LnVwZGF0ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5lbWl0KFwiZGF0YXRhYmxlLnNlYXJjaFwiLCBxdWVyeSwgdGhpcy5zZWFyY2hEYXRhKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGFuZ2UgcGFnZVxyXG4gICAgICogQHBhcmFtICB7aW50fSBwYWdlXHJcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5wYWdlID0gZnVuY3Rpb24gKHBhZ2UpIHtcclxuICAgICAgICAvLyBXZSBkb24ndCB3YW50IHRvIGxvYWQgdGhlIGN1cnJlbnQgcGFnZSBhZ2Fpbi5cclxuICAgICAgICBpZiAocGFnZSA9PSB0aGlzLmN1cnJlbnRQYWdlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghaXNOYU4ocGFnZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IHBhcnNlSW50KHBhZ2UsIDEwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChwYWdlID4gdGhpcy5wYWdlcy5sZW5ndGggfHwgcGFnZSA8IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5yZW5kZXIoXCJwYWdlXCIpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyKFwicGFnZXJcIik7XHJcblxyXG4gICAgICAgIHRoaXMuZW1pdChcImRhdGF0YWJsZS5wYWdlXCIsIHBhZ2UpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNvcnQgYnkgY29sdW1uXHJcbiAgICAgKiBAcGFyYW0gIHtpbnR9IGNvbHVtbiAtIFRoZSBjb2x1bW4gbm8uXHJcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IGRpcmVjdGlvbiAtIGFzYyBvciBkZXNjXHJcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5zb3J0Q29sdW1uID0gZnVuY3Rpb24gKGNvbHVtbiwgZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgLy8gVXNlIGNvbHVtbnMgQVBJIHVudGlsIHNvcnRDb2x1bW4gbWV0aG9kIGlzIHJlbW92ZWRcclxuICAgICAgICB0aGlzLmNvbHVtbnMoKS5zb3J0KGNvbHVtbiwgZGlyZWN0aW9uKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgbmV3IHJvdyBkYXRhXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YVxyXG4gICAgICovXHJcbiAgICBwcm90by5pbnNlcnQgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG5cclxuICAgICAgICB2YXIgdGhhdCA9IHRoaXMsXHJcbiAgICAgICAgICAgIHJvd3MgPSBbXTtcclxuICAgICAgICBpZiAoaXNPYmplY3QoZGF0YSkpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuaGVhZGluZ3MpIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhhdC5oYXNIZWFkaW5ncyAmJiAhdGhhdC5oYXNSb3dzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRyID0gY3JlYXRlRWxlbWVudChcInRyXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aDtcclxuICAgICAgICAgICAgICAgICAgICBlYWNoKGRhdGEuaGVhZGluZ3MsIGZ1bmN0aW9uIChoZWFkaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoID0gY3JlYXRlRWxlbWVudChcInRoXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw6IGhlYWRpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5oZWFkLmFwcGVuZENoaWxkKHRyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5oZWFkZXIgPSB0cjtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0LmhlYWRpbmdzID0gW10uc2xpY2UuY2FsbCh0ci5jZWxscyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5oYXNIZWFkaW5ncyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlLWVuYWJsZSBzb3J0aW5nIGlmIGl0IHdhcyBkaXNhYmxlZCBkdWVcclxuICAgICAgICAgICAgICAgICAgICAvLyB0byBtaXNzaW5nIGhlYWRlclxyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQub3B0aW9ucy5zb3J0YWJsZSA9IHRoYXQuaW5pdGlhbFNvcnRhYmxlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBBbGxvdyBzb3J0aW5nIG9uIG5ldyBoZWFkZXJcclxuICAgICAgICAgICAgICAgICAgICB0aGF0LnJlbmRlcihcImhlYWRlclwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGRhdGEuZGF0YSAmJiBpc0FycmF5KGRhdGEuZGF0YSkpIHtcclxuICAgICAgICAgICAgICAgIHJvd3MgPSBkYXRhLmRhdGE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkoZGF0YSkpIHtcclxuICAgICAgICAgICAgZWFjaChkYXRhLCBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgciA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZWFjaChyb3csIGZ1bmN0aW9uIChjZWxsLCBoZWFkaW5nKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoYXQubGFiZWxzLmluZGV4T2YoaGVhZGluZyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJbaW5kZXhdID0gY2VsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJvd3MucHVzaChyKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocm93cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhhdC5yb3dzKCkuYWRkKHJvd3MpO1xyXG5cclxuICAgICAgICAgICAgdGhhdC5oYXNSb3dzID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoYXQudXBkYXRlKCk7XHJcblxyXG4gICAgICAgIHRoYXQuZml4Q29sdW1ucygpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlZnJlc2ggdGhlIGluc3RhbmNlXHJcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5yZWZyZXNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2VhcmNoYWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLmlucHV0LnZhbHVlID0gXCJcIjtcclxuICAgICAgICAgICAgdGhpcy5zZWFyY2hpbmcgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7XHJcbiAgICAgICAgdGhpcy5vbkZpcnN0UGFnZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbWl0KFwiZGF0YXRhYmxlLnJlZnJlc2hcIik7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVHJ1bmNhdGUgdGhlIHRhYmxlXHJcbiAgICAgKiBAcGFyYW0gIHttaXhlc30gaHRtbCAtIEhUTUwgc3RyaW5nIG9yIEhUTUxFbGVtZW50XHJcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5jbGVhciA9IGZ1bmN0aW9uIChodG1sKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYm9keSkge1xyXG4gICAgICAgICAgICBmbHVzaCh0aGlzLmJvZHksIHRoaXMuaXNJRSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgcGFyZW50ID0gdGhpcy5ib2R5O1xyXG4gICAgICAgIGlmICghdGhpcy5ib2R5KSB7XHJcbiAgICAgICAgICAgIHBhcmVudCA9IHRoaXMudGFibGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaHRtbCkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGh0bWwgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBmcmFnID0gZG9jLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcclxuICAgICAgICAgICAgICAgIGZyYWcuaW5uZXJIVE1MID0gaHRtbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKGh0bWwpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFeHBvcnQgdGFibGUgdG8gdmFyaW91cyBmb3JtYXRzIChjc3YsIHR4dCBvciBzcWwpXHJcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnMgVXNlciBvcHRpb25zXHJcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICBwcm90by5leHBvcnQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgICAgIGlmICghdGhpcy5oYXNIZWFkaW5ncyAmJiAhdGhpcy5oYXNSb3dzKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIHZhciBoZWFkZXJzID0gdGhpcy5hY3RpdmVIZWFkaW5ncyxcclxuICAgICAgICAgICAgcm93cyA9IFtdLFxyXG4gICAgICAgICAgICBhcnIgPSBbXSxcclxuICAgICAgICAgICAgaSxcclxuICAgICAgICAgICAgeCxcclxuICAgICAgICAgICAgc3RyLFxyXG4gICAgICAgICAgICBsaW5rO1xyXG5cclxuICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XHJcbiAgICAgICAgICAgIGRvd25sb2FkOiB0cnVlLFxyXG4gICAgICAgICAgICBza2lwQ29sdW1uOiBbXSxcclxuXHJcbiAgICAgICAgICAgIC8vIGNzdlxyXG4gICAgICAgICAgICBsaW5lRGVsaW1pdGVyOiBcIlxcblwiLFxyXG4gICAgICAgICAgICBjb2x1bW5EZWxpbWl0ZXI6IFwiLFwiLFxyXG5cclxuICAgICAgICAgICAgLy8gc3FsXHJcbiAgICAgICAgICAgIHRhYmxlTmFtZTogXCJteVRhYmxlXCIsXHJcblxyXG4gICAgICAgICAgICAvLyBqc29uXHJcbiAgICAgICAgICAgIHJlcGxhY2VyOiBudWxsLFxyXG4gICAgICAgICAgICBzcGFjZTogNFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGZvciB0aGUgb3B0aW9ucyBvYmplY3RcclxuICAgICAgICBpZiAoIWlzT2JqZWN0KG9wdGlvbnMpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBvID0gZXh0ZW5kKGRlZmF1bHRzLCBvcHRpb25zKTtcclxuXHJcbiAgICAgICAgaWYgKG8udHlwZSkge1xyXG4gICAgICAgICAgICBpZiAoby50eXBlID09PSBcInR4dFwiIHx8IG8udHlwZSA9PT0gXCJjc3ZcIikge1xyXG4gICAgICAgICAgICAgICAgLy8gSW5jbHVkZSBoZWFkaW5nc1xyXG4gICAgICAgICAgICAgICAgcm93c1swXSA9IHRoaXMuaGVhZGVyO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBTZWxlY3Rpb24gb3Igd2hvbGUgdGFibGVcclxuICAgICAgICAgICAgaWYgKG8uc2VsZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBQYWdlIG51bWJlclxyXG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTihvLnNlbGVjdGlvbikpIHtcclxuICAgICAgICAgICAgICAgICAgICByb3dzID0gcm93cy5jb25jYXQodGhpcy5wYWdlc1tvLnNlbGVjdGlvbiAtIDFdKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShvLnNlbGVjdGlvbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBBcnJheSBvZiBwYWdlIG51bWJlcnNcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgby5zZWxlY3Rpb24ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm93cyA9IHJvd3MuY29uY2F0KHRoaXMucGFnZXNbby5zZWxlY3Rpb25baV0gLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcm93cyA9IHJvd3MuY29uY2F0KHRoaXMuYWN0aXZlUm93cyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIE9ubHkgcHJvY2VlZCBpZiB3ZSBoYXZlIGRhdGFcclxuICAgICAgICAgICAgaWYgKHJvd3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoby50eXBlID09PSBcInR4dFwiIHx8IG8udHlwZSA9PT0gXCJjc3ZcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IFwiXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCByb3dzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoeCA9IDA7IHggPCByb3dzW2ldLmNlbGxzLmxlbmd0aDsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgY29sdW1uIHNraXAgYW5kIHZpc2liaWxpdHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLnNraXBDb2x1bW4uaW5kZXhPZihoZWFkZXJzW3hdLm9yaWdpbmFsQ2VsbEluZGV4KSA8IDAgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbHVtbnMoaGVhZGVyc1t4XS5vcmlnaW5hbENlbGxJbmRleCkudmlzaWJsZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHIgKz0gcm93c1tpXS5jZWxsc1t4XS50ZXh0Q29udGVudCArIG8uY29sdW1uRGVsaW1pdGVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0cmFpbGluZyBjb2x1bW4gZGVsaW1pdGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciA9IHN0ci50cmltKCkuc3Vic3RyaW5nKDAsIHN0ci5sZW5ndGggLSAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFwcGx5IGxpbmUgZGVsaW1pdGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSBvLmxpbmVEZWxpbWl0ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdHJhaWxpbmcgbGluZSBkZWxpbWl0ZXJcclxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBzdHIudHJpbSgpLnN1YnN0cmluZygwLCBzdHIubGVuZ3RoIC0gMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvLmRvd25sb2FkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciA9IFwiZGF0YTp0ZXh0L2NzdjtjaGFyc2V0PXV0Zi04LFwiICsgc3RyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoby50eXBlID09PSBcInNxbFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQmVnaW4gSU5TRVJUIHN0YXRlbWVudFxyXG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IFwiSU5TRVJUIElOVE8gYFwiICsgby50YWJsZU5hbWUgKyBcImAgKFwiO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IHRhYmxlIGhlYWRpbmdzIHRvIGNvbHVtbiBuYW1lc1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBoZWFkZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBjb2x1bW4gc2tpcCBhbmQgY29sdW1uIHZpc2liaWxpdHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgby5za2lwQ29sdW1uLmluZGV4T2YoaGVhZGVyc1tpXS5vcmlnaW5hbENlbGxJbmRleCkgPCAwICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbHVtbnMoaGVhZGVyc1tpXS5vcmlnaW5hbENlbGxJbmRleCkudmlzaWJsZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9IFwiYFwiICsgaGVhZGVyc1tpXS50ZXh0Q29udGVudCArIFwiYCxcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRyYWlsaW5nIGNvbW1hXHJcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gc3RyLnRyaW0oKS5zdWJzdHJpbmcoMCwgc3RyLmxlbmd0aCAtIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBCZWdpbiBWQUxVRVNcclxuICAgICAgICAgICAgICAgICAgICBzdHIgKz0gXCIpIFZBTFVFUyBcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSXRlcmF0ZSByb3dzIGFuZCBjb252ZXJ0IGNlbGwgZGF0YSB0byBjb2x1bW4gdmFsdWVzXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHJvd3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9IFwiKFwiO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh4ID0gMDsgeCA8IHJvd3NbaV0uY2VsbHMubGVuZ3RoOyB4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBjb2x1bW4gc2tpcCBhbmQgY29sdW1uIHZpc2liaWxpdHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLnNraXBDb2x1bW4uaW5kZXhPZihoZWFkZXJzW3hdLm9yaWdpbmFsQ2VsbEluZGV4KSA8IDAgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbHVtbnMoaGVhZGVyc1t4XS5vcmlnaW5hbENlbGxJbmRleCkudmlzaWJsZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHIgKz0gJ1wiJyArIHJvd3NbaV0uY2VsbHNbeF0udGV4dENvbnRlbnQgKyAnXCIsJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRyYWlsaW5nIGNvbW1hXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciA9IHN0ci50cmltKCkuc3Vic3RyaW5nKDAsIHN0ci5sZW5ndGggLSAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVuZCBWQUxVRVNcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9IFwiKSxcIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0cmFpbGluZyBjb21tYVxyXG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IHN0ci50cmltKCkuc3Vic3RyaW5nKDAsIHN0ci5sZW5ndGggLSAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRyYWlsaW5nIGNvbG9uXHJcbiAgICAgICAgICAgICAgICAgICAgc3RyICs9IFwiO1wiO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoby5kb3dubG9hZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHIgPSBcImRhdGE6YXBwbGljYXRpb24vc3FsO2NoYXJzZXQ9dXRmLTgsXCIgKyBzdHI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvLnR5cGUgPT09IFwianNvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSXRlcmF0ZSByb3dzXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh4ID0gMDsgeCA8IHJvd3MubGVuZ3RoOyB4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJyW3hdID0gYXJyW3hdIHx8IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJdGVyYXRlIGNvbHVtbnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGhlYWRlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBjb2x1bW4gc2tpcCBhbmQgY29sdW1uIHZpc2liaWxpdHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLnNraXBDb2x1bW4uaW5kZXhPZihoZWFkZXJzW2ldLm9yaWdpbmFsQ2VsbEluZGV4KSA8IDAgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbHVtbnMoaGVhZGVyc1tpXS5vcmlnaW5hbENlbGxJbmRleCkudmlzaWJsZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJbeF1baGVhZGVyc1tpXS50ZXh0Q29udGVudF0gPSByb3dzW3hdLmNlbGxzW2ldLnRleHRDb250ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IHRoZSBhcnJheSBvZiBvYmplY3RzIHRvIEpTT04gc3RyaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gSlNPTi5zdHJpbmdpZnkoYXJyLCBvLnJlcGxhY2VyLCBvLnNwYWNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG8uZG93bmxvYWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyID0gXCJkYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOCxcIiArIHN0cjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gRG93bmxvYWRcclxuICAgICAgICAgICAgICAgIGlmIChvLmRvd25sb2FkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRmlsZW5hbWVcclxuICAgICAgICAgICAgICAgICAgICBvLmZpbGVuYW1lID0gby5maWxlbmFtZSB8fCBcImRhdGF0YWJsZV9leHBvcnRcIjtcclxuICAgICAgICAgICAgICAgICAgICBvLmZpbGVuYW1lICs9IFwiLlwiICsgby50eXBlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBlbmNvZGVVUkkoc3RyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbGluayB0byB0cmlnZ2VyIHRoZSBkb3dubG9hZFxyXG4gICAgICAgICAgICAgICAgICAgIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBsaW5rLmhyZWYgPSBzdHI7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluay5kb3dubG9hZCA9IG8uZmlsZW5hbWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFwcGVuZCB0aGUgbGlua1xyXG4gICAgICAgICAgICAgICAgICAgIGJvZHkuYXBwZW5kQ2hpbGQobGluayk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRyaWdnZXIgdGhlIGRvd25sb2FkXHJcbiAgICAgICAgICAgICAgICAgICAgbGluay5jbGljaygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIGxpbmtcclxuICAgICAgICAgICAgICAgICAgICBib2R5LnJlbW92ZUNoaWxkKGxpbmspO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBzdHI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbXBvcnQgZGF0YSB0byB0aGUgdGFibGVcclxuICAgICAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9ucyBVc2VyIG9wdGlvbnNcclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIHByb3RvLmltcG9ydCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIG9iaiA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBkZWZhdWx0cyA9IHtcclxuICAgICAgICAgICAgLy8gY3N2XHJcbiAgICAgICAgICAgIGxpbmVEZWxpbWl0ZXI6IFwiXFxuXCIsXHJcbiAgICAgICAgICAgIGNvbHVtbkRlbGltaXRlcjogXCIsXCJcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBDaGVjayBmb3IgdGhlIG9wdGlvbnMgb2JqZWN0XHJcbiAgICAgICAgaWYgKCFpc09iamVjdChvcHRpb25zKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBvcHRpb25zID0gZXh0ZW5kKGRlZmF1bHRzLCBvcHRpb25zKTtcclxuXHJcbiAgICAgICAgaWYgKG9wdGlvbnMuZGF0YS5sZW5ndGggfHwgaXNPYmplY3Qob3B0aW9ucy5kYXRhKSkge1xyXG4gICAgICAgICAgICAvLyBJbXBvcnQgQ1NWXHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnR5cGUgPT09IFwiY3N2XCIpIHtcclxuICAgICAgICAgICAgICAgIG9iaiA9IHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBbXVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTcGxpdCB0aGUgc3RyaW5nIGludG8gcm93c1xyXG4gICAgICAgICAgICAgICAgdmFyIHJvd3MgPSBvcHRpb25zLmRhdGEuc3BsaXQob3B0aW9ucy5saW5lRGVsaW1pdGVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocm93cy5sZW5ndGgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuaGVhZGluZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmhlYWRpbmdzID0gcm93c1swXS5zcGxpdChvcHRpb25zLmNvbHVtbkRlbGltaXRlcik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3dzLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBlYWNoKHJvd3MsIGZ1bmN0aW9uIChyb3csIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmRhdGFbaV0gPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNwbGl0IHRoZSByb3dzIGludG8gdmFsdWVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSByb3cuc3BsaXQob3B0aW9ucy5jb2x1bW5EZWxpbWl0ZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVhY2godmFsdWVzLCBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouZGF0YVtpXS5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy50eXBlID09PSBcImpzb25cIikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGpzb24gPSBpc0pzb24ob3B0aW9ucy5kYXRhKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBWYWxpZCBKU09OIHN0cmluZ1xyXG4gICAgICAgICAgICAgICAgaWYgKGpzb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRpbmdzOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogW11cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBlYWNoKGpzb24sIGZ1bmN0aW9uIChkYXRhLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5kYXRhW2ldID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVhY2goZGF0YSwgZnVuY3Rpb24gKHZhbHVlLCBjb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmouaGVhZGluZ3MuaW5kZXhPZihjb2x1bW4pIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5oZWFkaW5ncy5wdXNoKGNvbHVtbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmRhdGFbaV0ucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJUaGF0J3Mgbm90IHZhbGlkIEpTT04hXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoaXNPYmplY3Qob3B0aW9ucy5kYXRhKSkge1xyXG4gICAgICAgICAgICAgICAgb2JqID0gb3B0aW9ucy5kYXRhO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAob2JqKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIHJvd3NcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5zZXJ0KG9iaik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFByaW50IHRoZSB0YWJsZVxyXG4gICAgICogQHJldHVybiB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8ucHJpbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGhlYWRpbmdzID0gdGhpcy5hY3RpdmVIZWFkaW5ncztcclxuICAgICAgICB2YXIgcm93cyA9IHRoaXMuYWN0aXZlUm93cztcclxuICAgICAgICB2YXIgdGFibGUgPSBjcmVhdGVFbGVtZW50KFwidGFibGVcIik7XHJcbiAgICAgICAgdmFyIHRoZWFkID0gY3JlYXRlRWxlbWVudChcInRoZWFkXCIpO1xyXG4gICAgICAgIHZhciB0Ym9keSA9IGNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiKTtcclxuXHJcbiAgICAgICAgdmFyIHRyID0gY3JlYXRlRWxlbWVudChcInRyXCIpO1xyXG4gICAgICAgIGVhY2goaGVhZGluZ3MsIGZ1bmN0aW9uICh0aCkge1xyXG4gICAgICAgICAgICB0ci5hcHBlbmRDaGlsZChcclxuICAgICAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnQoXCJ0aFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgaHRtbDogdGgudGV4dENvbnRlbnRcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoZWFkLmFwcGVuZENoaWxkKHRyKTtcclxuXHJcbiAgICAgICAgZWFjaChyb3dzLCBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgIHZhciB0ciA9IGNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcclxuICAgICAgICAgICAgZWFjaChyb3cuY2VsbHMsIGZ1bmN0aW9uIChjZWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0ci5hcHBlbmRDaGlsZChcclxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVFbGVtZW50KFwidGRcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sOiBjZWxsLnRleHRDb250ZW50XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0Ym9keS5hcHBlbmRDaGlsZCh0cik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRhYmxlLmFwcGVuZENoaWxkKHRoZWFkKTtcclxuICAgICAgICB0YWJsZS5hcHBlbmRDaGlsZCh0Ym9keSk7XHJcblxyXG4gICAgICAgIC8vIE9wZW4gbmV3IHdpbmRvd1xyXG4gICAgICAgIHZhciB3ID0gd2luLm9wZW4oKTtcclxuXHJcbiAgICAgICAgLy8gQXBwZW5kIHRoZSB0YWJsZSB0byB0aGUgYm9keVxyXG4gICAgICAgIHcuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0YWJsZSk7XHJcblxyXG4gICAgICAgIC8vIFByaW50XHJcbiAgICAgICAgdy5wcmludCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNob3cgYSBtZXNzYWdlIGluIHRoZSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2VcclxuICAgICAqL1xyXG4gICAgcHJvdG8uc2V0TWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XHJcbiAgICAgICAgdmFyIGNvbHNwYW4gPSAxO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5oYXNSb3dzKSB7XHJcbiAgICAgICAgICAgIGNvbHNwYW4gPSB0aGlzLmRhdGFbMF0uY2VsbHMubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jbGVhcihcclxuICAgICAgICAgICAgY3JlYXRlRWxlbWVudChcInRyXCIsIHtcclxuICAgICAgICAgICAgICAgIGh0bWw6ICc8dGQgY2xhc3M9XCJkYXRhVGFibGVzLWVtcHR5XCIgY29sc3Bhbj1cIicgK1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbHNwYW4gK1xyXG4gICAgICAgICAgICAgICAgICAgICdcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlICtcclxuICAgICAgICAgICAgICAgICAgICBcIjwvdGQ+XCJcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbHVtbnMgQVBJIGFjY2Vzc1xyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBuZXcgQ29sdW1ucyBpbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBwcm90by5jb2x1bW5zID0gZnVuY3Rpb24gKGNvbHVtbnMpIHtcclxuICAgICAgICByZXR1cm4gbmV3IENvbHVtbnModGhpcywgY29sdW1ucyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUm93cyBBUEkgYWNjZXNzXHJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG5ldyBSb3dzIGluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIHByb3RvLnJvd3MgPSBmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgIHJldHVybiBuZXcgUm93cyh0aGlzLCByb3dzKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgY3VzdG9tIGV2ZW50IGxpc3RlbmVyXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGV2ZW50XHJcbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2tcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLm9uID0gZnVuY3Rpb24gKGV2ZW50LCBjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuZXZlbnRzID0gdGhpcy5ldmVudHMgfHwge307XHJcbiAgICAgICAgdGhpcy5ldmVudHNbZXZlbnRdID0gdGhpcy5ldmVudHNbZXZlbnRdIHx8IFtdO1xyXG4gICAgICAgIHRoaXMuZXZlbnRzW2V2ZW50XS5wdXNoKGNhbGxiYWNrKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmUgY3VzdG9tIGV2ZW50IGxpc3RlbmVyXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGV2ZW50XHJcbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2tcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLm9mZiA9IGZ1bmN0aW9uIChldmVudCwgY2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLmV2ZW50cyA9IHRoaXMuZXZlbnRzIHx8IHt9O1xyXG4gICAgICAgIGlmIChldmVudCBpbiB0aGlzLmV2ZW50cyA9PT0gZmFsc2UpIHJldHVybjtcclxuICAgICAgICB0aGlzLmV2ZW50c1tldmVudF0uc3BsaWNlKHRoaXMuZXZlbnRzW2V2ZW50XS5pbmRleE9mKGNhbGxiYWNrKSwgMSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRmlyZSBjdXN0b20gZXZlbnRcclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gZXZlbnRcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLmVtaXQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICB0aGlzLmV2ZW50cyA9IHRoaXMuZXZlbnRzIHx8IHt9O1xyXG4gICAgICAgIGlmIChldmVudCBpbiB0aGlzLmV2ZW50cyA9PT0gZmFsc2UpIHJldHVybjtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZXZlbnRzW2V2ZW50XS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50c1tldmVudF1baV0uYXBwbHkodGhpcywgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gRGF0YVRhYmxlO1xyXG59KTsiLCJpbXBvcnQgRGF0YVRhYmxlIGZyb20gJ3ZhbmlsbGEtZGF0YXRhYmxlcyc7XG5pbXBvcnQgeyBjb2xvcl9oaWdobGlnaHQgfSBmcm9tICcuL29wdGlvbnMnO1xuXG5mdW5jdGlvbiBjcmVhdGVUYWJsZURPTShkYXRhLCBvcHRzLCBjb25maWcpIHtcbiAgY29uc3QgeyBudW0sIGRlbnVtLCByYXRpbywgbXlfcmVnaW9uIH0gPSBjb25maWc7XG4gIGNvbnN0IG9wdGlvbnMgPSBvcHRzIHx8IHt9O1xuICBvcHRpb25zLmlkID0gb3B0aW9ucy5pZCB8fCAnbXlUYWJsZSc7XG4gIGNvbnN0IGRvYyA9IGRvY3VtZW50O1xuICBjb25zdCBuYl9mZWF0dXJlcyA9IGRhdGEubGVuZ3RoO1xuICBjb25zdCBjb2x1bW5fbmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkYXRhWzBdKTtcbiAgY29uc3QgbmJfY29sdW1ucyA9IGNvbHVtbl9uYW1lcy5sZW5ndGg7XG4gIGNvbnN0IG15VGFibGUgPSBkb2MuY3JlYXRlRWxlbWVudCgndGFibGUnKTtcbiAgY29uc3QgaGVhZGVycyA9IGRvYy5jcmVhdGVFbGVtZW50KCd0aGVhZCcpO1xuICBjb25zdCBib2R5ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3Rib2R5Jyk7XG4gIGNvbnN0IGhlYWRlcnNfcm93ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gIC8vIFRPRE86IE9ubHkgZGlzcGxheSByYXRpb3MgdmFsdWVzIGlmIHRoZXJlIGlzIG1vcmUgdGhhbiAxIHZhcmlhYmxlIGN1cnJlbnRseSBzZWxlY3RlZFxuICBmb3IgKGxldCBpID0gMDsgaSA8IG5iX2NvbHVtbnM7IGkrKykge1xuICAgIGNvbnN0IGNlbGwgPSBkb2MuY3JlYXRlRWxlbWVudCgndGgnKTtcbiAgICBjb25zdCBjb2xfbmFtZSA9IGNvbHVtbl9uYW1lc1tpXTtcbiAgICBpZiAobnVtLmluZGV4T2YoY29sX25hbWUpID4gLTEpIHtcbiAgICAgIGNlbGwuaW5uZXJIVE1MID0gYE51bTxicj48c3BhbiBjbGFzcz1cInNtYWxsXCI+JHtjb2xfbmFtZX1gO1xuICAgIH0gZWxzZSBpZiAoZGVudW0uaW5kZXhPZihjb2xfbmFtZSkgPiAtMSkge1xuICAgICAgY2VsbC5pbm5lckhUTUwgPSBgRGVudW08YnI+PHNwYW4gY2xhc3M9XCJzbWFsbFwiPiR7Y29sX25hbWV9YDtcbiAgICB9IGVsc2UgaWYgKHJhdGlvLmluZGV4T2YoY29sX25hbWUpID4gLTEpIHtcbiAgICAgIGNlbGwuaW5uZXJIVE1MID0gYFJhdGlvPGJyPjxzcGFuIGNsYXNzPVwic21hbGxcIj4ke2NvbF9uYW1lfWA7XG4gICAgfSBlbHNlIGlmIChjb2xfbmFtZSA9PT0gJ3JhbmcnKSB7XG4gICAgICBjZWxsLmlubmVySFRNTCA9ICdSYW5nICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNlbGwuaW5uZXJIVE1MID0gY29sX25hbWU7XG4gICAgfVxuICAgIGhlYWRlcnNfcm93LmFwcGVuZENoaWxkKGNlbGwpO1xuICB9XG4gIGhlYWRlcnMuYXBwZW5kQ2hpbGQoaGVhZGVyc19yb3cpO1xuICBteVRhYmxlLmFwcGVuZENoaWxkKGhlYWRlcnMpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG5iX2ZlYXR1cmVzOyBpKyspIHtcbiAgICBjb25zdCByb3cgPSBkb2MuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICByb3cuaWQgPSBgcm93XyR7ZGF0YVtpXS5pZH1gO1xuICAgIGlmIChkYXRhW2ldLmlkID09PSBteV9yZWdpb24pIHtcbiAgICAgIHJvdy5jbGFzc05hbWUgPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgfVxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgbmJfY29sdW1uczsgaisrKSB7XG4gICAgICBjb25zdCBjZWxsID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgICBjb25zdCBjb2xfbmFtZSA9IGNvbHVtbl9uYW1lc1tqXTtcbiAgICAgIGlmIChudW0uaW5kZXhPZihjb2xfbmFtZSkgPiAtMVxuICAgICAgICAgIHx8IGRlbnVtLmluZGV4T2YoY29sX25hbWUpID4gLTEgfHwgcmF0aW8uaW5kZXhPZihjb2xfbmFtZSkgPiAtMSkge1xuICAgICAgICBjZWxsLmlubmVySFRNTCA9IE1hdGgucm91bmQoZGF0YVtpXVtjb2xfbmFtZV0gKiAxMDApIC8gMTA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjZWxsLmlubmVySFRNTCA9IGRhdGFbaV1bY29sX25hbWVdO1xuICAgICAgfVxuICAgICAgcm93LmFwcGVuZENoaWxkKGNlbGwpO1xuICAgIH1cbiAgICBib2R5LmFwcGVuZENoaWxkKHJvdyk7XG4gIH1cbiAgbXlUYWJsZS5hcHBlbmRDaGlsZChib2R5KTtcbiAgbXlUYWJsZS5zZXRBdHRyaWJ1dGUoJ2lkJywgb3B0aW9ucy5pZCk7XG4gIHJldHVybiBteVRhYmxlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZVRhYmxlKGRhdGFfbm9fZW1wdHksIGNvbmZpZykge1xuICBkMy5zZWxlY3QoJy5kYXRhVGFibGUtd3JhcHBlcicpLnJlbW92ZSgpO1xuICBjb25zdCB0YWJsZSA9IGNyZWF0ZVRhYmxlRE9NKGRhdGFfbm9fZW1wdHksIHVuZGVmaW5lZCwgY29uZmlnKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21hcF9zZWN0aW9uJykuYXBwZW5kQ2hpbGQodGFibGUpO1xuICBjb25zdCBkYXRhVGFibGUgPSBuZXcgRGF0YVRhYmxlKCcjbXlUYWJsZScpO1xuICBjb25zdCB0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRhdGFUYWJsZS13cmFwcGVyJyk7XG4gIHQuc3R5bGUubWFyZ2luVG9wID0gJzIwcHgnO1xuICB0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIHQuc3R5bGUuZm9udFNpemUgPSAnMC43ZW0nO1xuICB0LnF1ZXJ5U2VsZWN0b3IoJy5kYXRhVGFibGUtdG9wJykucmVtb3ZlKCk7XG4gIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQucXVlcnlTZWxlY3RvckFsbCgnc3Bhbi5zbWFsbCcpKVxuICAgIC5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgZWwub25jbGljayA9ICgpID0+IHsgZWwucGFyZW50RWxlbWVudC5jbGljaygpOyB9OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgfSk7XG59XG4iLCJpbXBvcnQgeyBtYXRoX3JvdW5kIH0gZnJvbSAnLi9oZWxwZXJzJztcbmltcG9ydCB7IGNvbG9yX2hpZ2hsaWdodCB9IGZyb20gJy4vb3B0aW9ucyc7XG5pbXBvcnQgeyB2YXJpYWJsZXNfaW5mbyB9IGZyb20gJy4vLi4vbWFpbic7XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG5cbi8qKlxuKiBBdHRhY2ggdGhlIGZ1bGxfZGF0YXNldCBBcnJheSB0byB0aGUgYXBwIE9iamVjdCBhbmQgY3JlYXRlIGEgZGljdGlvbm5hcnlcbiogYWxsb3dpbmcgdG8gb2J0YWluIHRlcnJpdG9yaWFsIHVuaXRzIG5hbWUgZnJvbSB0aGVpciBJZC5cbipcbiogQHBhcmFtIHtBcnJheX0gZnVsbF9kYXRhc2V0IC0gVGhlIGRhdGFzZXQgYXMgYW4gQXJyYXkgb2YgT2JqZWN0XG4qIEBwYXJhbSB7T2JqZWN0fSBhcHAgLSBUaGUgdmFyaWFibGUgY29udGFpbmluZyB0aGUgZ2xvYmFsIHBhcmFtZXRlcnMgYWJvdXRcbiogICB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgYXBwbGljYXRpb24uXG4qIEByZXR1cm4ge3ZvaWR9XG4qXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXBhcmVfZGF0YXNldChmdWxsX2RhdGFzZXQsIGFwcCkge1xuICBhcHAuZnVsbF9kYXRhc2V0ID0gZnVsbF9kYXRhc2V0O1xuICAvLyBDcmVhdGUgYW4gT2JqZWN0IGZlYXR1cmVfaWQgLT4gIGZlYXR1cmVfbmFtZSBmb3IgZWFzaWVyIGxvb2t1cDpcbiAgYXBwLmZlYXR1cmVfbmFtZXMgPSB7fTtcbiAgZnVsbF9kYXRhc2V0LmZvckVhY2goKGVsZW0pID0+IHtcbiAgICBhcHAuZmVhdHVyZV9uYW1lc1tlbGVtLmdlb10gPSBlbGVtLk5vbTtcbiAgfSk7XG59XG5cblxuLyoqXG4qIEF0dGFjaCB0aGUgZnVsbF9kYXRhc2V0IEFycmF5IHRvIHRoZSBhcHAgT2JqZWN0IGFuZCBjcmVhdGUgYSBkaWN0aW9ubmFyeVxuKiBhbGxvd2luZyB0byBvYnRhaW4gdGVycml0b3JpYWwgdW5pdHMgbmFtZSBmcm9tIHRoZWlyIElkLlxuKlxuKiBAcGFyYW0ge09iamVjdH0gYXBwIC0gVGhlIHZhcmlhYmxlIGNvbnRhaW5pbmcgdGhlIGdsb2JhbCBwYXJhbWV0ZXJzIGFib3V0XG4qICAgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGFwcGxpY2F0aW9uLlxuKiBAcmV0dXJuIHtBcnJheX0gLSBUaGUgZmlsdGVyZWQgZGF0YSwgY29udGFpbmluZyBvbmx5IHRoZSByZXF1ZXN0ZWQgdmFyaWFibGVzXG4qICAgZm9yIHRoZSBmZWF0dXJlIG9mIHRoZSBjdXJyZW50IHN0dWR5IHpvbmUsXG4qICAgIHdpdGhvdXQgZmVhdHVyZXMgY29udGFpbmluZyBlbXB0eSByYXRpb3MuXG4qXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlckxldmVsVmFyKGFwcCwgZmlsdGVyX2lkKSB7XG4gIC8vIEZldGNoIHRoZSBuYW1lKHMpIG9mIHRoZSByYXRpbyAoYW5kIGFzc29jaWF0ZWQgbnVtIGFuZCBkZW51bSB2YXJpYWJsZSksXG4gIC8vIHRoZSBuYW1lIG9mIHRoZSB0YXJnZXRlZCByZWdpb24gYW5kIHRoZSBjdXJyZW50IGxldmVsIDpcbiAgY29uc3Qge1xuICAgIG51bSwgZGVudW0sIHJhdGlvLCBjdXJyZW50X2xldmVsLCBpZF9maWVsZCwgZmlsdGVyX2tleSwgbmFtZV9maWVsZCwgbXlfcmVnaW9uLFxuICB9ID0gYXBwLmN1cnJlbnRfY29uZmlnO1xuXG4gIGNvbnN0IGFsbF92YXJpYWJsZXMgPSByYXRpby5jb25jYXQobnVtKS5jb25jYXQoZGVudW0pO1xuXG4gIC8vIFByZXBhcmUgdGhlIGRhdGE6XG4gIGxldCB0ZW1wO1xuICBpZiAoZmlsdGVyX2lkKSB7XG4gICAgdGVtcCA9IGFwcC5mdWxsX2RhdGFzZXRcbiAgICAgIC5maWx0ZXIoZnQgPT4gK2Z0LmxldmVsID09PSBjdXJyZW50X2xldmVsICYmIGZpbHRlcl9pZC5pbmRleE9mKGZ0W2lkX2ZpZWxkXSkgPiAtMSk7XG4gIH0gZWxzZSBpZiAoZmlsdGVyX2tleSkge1xuICAgIGNvbnN0IG15X2NhdGVnb3J5ID0gYXBwLmZ1bGxfZGF0YXNldC5maWx0ZXIoZnQgPT4gZnRbaWRfZmllbGRdID09PSBteV9yZWdpb24pWzBdW2ZpbHRlcl9rZXldO1xuICAgIHRlbXAgPSBhcHAuZnVsbF9kYXRhc2V0XG4gICAgICAuZmlsdGVyKGZ0ID0+ICtmdC5sZXZlbCA9PT0gY3VycmVudF9sZXZlbCAmJiBmdFtmaWx0ZXJfa2V5XSA9PT0gbXlfY2F0ZWdvcnkpO1xuICB9IGVsc2Uge1xuICAgIHRlbXAgPSBhcHAuZnVsbF9kYXRhc2V0XG4gICAgICAuZmlsdGVyKGZ0ID0+ICtmdC5sZXZlbCA9PT0gY3VycmVudF9sZXZlbCk7XG4gIH1cbiAgdGVtcCA9IHRlbXAubWFwKChmdCkgPT4ge1xuICAgIGNvbnN0IHByb3BzX2ZlYXR1cmUgPSB7XG4gICAgICBpZDogZnRbaWRfZmllbGRdLFxuICAgICAgbmFtZTogZnRbbmFtZV9maWVsZF0sXG4gICAgfTtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuX2kgPSBhbGxfdmFyaWFibGVzLmxlbmd0aDsgaSA8IGxlbl9pOyBpKyspIHtcbiAgICAgIHByb3BzX2ZlYXR1cmVbYWxsX3ZhcmlhYmxlc1tpXV0gPSArZnRbYWxsX3ZhcmlhYmxlc1tpXV07XG4gICAgfVxuICAgIHJldHVybiBwcm9wc19mZWF0dXJlO1xuICB9KTtcblxuICAvLyAvLyBGaWx0ZXIgZGF0YSBmb3IgZW1wdHkgdmFsdWVzIDpcbiAgLy8gY29uc3QgZmlsdGVyZWRfZGF0YSA9IHRlbXAuZmlsdGVyKFxuICAvLyAgIGZ0ID0+IHJhdGlvLm1hcCh2ID0+ICEhZnRbdl0pLmV2ZXJ5KHYgPT4gdiA9PT0gdHJ1ZSkpO1xuXG4gIC8vXG4gIGFwcC5jdXJyZW50X2RhdGEgPSB0ZW1wO1xufVxuXG4vKipcbiogRnVuY3Rpb24gdG8gcHJlcGFyZSB0aGUgZ2xvYmFsIFwidmFyaWFibGVzX2luZm9cIiBBcnJheSBvZiBvYmplY3RzIGZyb20gdGhlIGFycmF5XG4qIGNvbnRhaW5pbmcgdGhlIHJlYWRlZCAnbWV0YWRhdGEuY3N2JyBmaWxlLlxuKlxuKiBAcGFyYW0ge0FycmF5fSBtZXRhZGF0YV9pbmRpY2F0ZXVycyAtIFRoZSBhcnJheSByZXR1cm4gYnkgZDMuY3N2LlxuKiBAcmV0dXJuIHt2b2lkfVxuKlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmVwYXJlVmFyaWFibGVzSW5mbyhtZXRhZGF0YV9pbmRpY2F0ZXVycykge1xuICByZXR1cm4gbWV0YWRhdGFfaW5kaWNhdGV1cnNcbiAgICAuZmlsdGVyKGZ0ID0+IGZ0WydUeXBlIHN0YXRpc3RpcXVlJ10gPT09ICdSYXRpbycpXG4gICAgLm1hcChmdCA9PiAoe1xuICAgICAgcmF0aW86IGZ0WydpZCddLFxuICAgICAgbnVtOiBgJHtmdFsnaWQxJ119XyR7ZnRbJ0FubsOpZSddfWAgLFxuICAgICAgZGVudW06IGAke2Z0WydpZDInXX1fJHtmdFsnQW5uw6llJ119YCxcbiAgICAgIG5hbWU6IGAke2Z0WydOb20nXX0gKCR7ZnRbJ0FubsOpZSddfSlgLFxuICAgICAgZ3JvdXA6IGZ0WydUaMOobWUnXVxuICAgIH0pKTtcbn1cblxuLyoqXG4qIFNldCBhbmQgYXBwbHkgYSBuZXcgZmlsdGVyIChpZS4gcmVzdHJpY3QgdGhlIHN0dWR5IHpvbmUpIG9uIHRoZSBkYXRhc2V0IHRvIGJlIHVzZWQuXG4qXG4qIEBwYXJhbSB7U3RyaW5nfSBmaWx0ZXJfdHlwZSAtIFRoZSBuYW1lIG9mIHRoZSBmaWx0ZXIgdG8gdXNlLlxuKiBAcmV0dXJuIHt2b2lkfVxuKlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBseUZpbHRlcihhcHAsIGZpbHRlcl90eXBlKSB7XG4gIGlmIChmaWx0ZXJfdHlwZSA9PT0gJ2ZpbHRlcl9GUicpIHtcbiAgICBhcHAuY3VycmVudF9jb25maWcuZmlsdGVyX2tleSA9ICdQYXlzJztcbiAgICBmaWx0ZXJMZXZlbFZhcihhcHApO1xuICB9IGVsc2UgaWYgKGZpbHRlcl90eXBlID09PSAnbm9fZmlsdGVyJykge1xuICAgIGFwcC5jdXJyZW50X2NvbmZpZy5maWx0ZXJfa2V5ID0gdW5kZWZpbmVkO1xuICAgIGZpbHRlckxldmVsVmFyKGFwcCk7XG4gIH0gZWxzZSB7XG4gICAgYXBwLmN1cnJlbnRfY29uZmlnLmZpbHRlcl9rZXkgPSAndHlwZV90ZXN0JztcbiAgICBmaWx0ZXJMZXZlbFZhcihhcHApO1xuICB9XG5cbiAgYXBwLmNvbG9ycyA9IHt9O1xuICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xufVxuXG4vLyBUT0RPIDogRG9jXG5leHBvcnQgZnVuY3Rpb24gY2hhbmdlUmVnaW9uKGFwcCwgaWRfcmVnaW9uKSB7XG4gIGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24gPSBpZF9yZWdpb247XG4gIGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25fcHJldHR5X25hbWUgPSBhcHAuZmVhdHVyZV9uYW1lc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXTtcbiAgaWYgKGFwcC5jdXJyZW50X2NvbmZpZy5maWx0ZXJfa2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICBmaWx0ZXJMZXZlbFZhcihhcHApO1xuICB9XG4gIC8vIFJlc2V0IHRoZSBjb2xvciB0byB1c2Ugb24gdGhlIGNoYXJ0L21hcDpcbiAgYXBwLmNvbG9ycyA9IHt9O1xuICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xufVxuXG4vKipcbipcbipcbipcbipcbiovXG5leHBvcnQgZnVuY3Rpb24gYWRkVmFyaWFibGUoYXBwLCBjb2RlX3JhdGlvKSB7XG4gIGNvbnN0IHZhcmlhYmxlX2luZm8gPSB2YXJpYWJsZXNfaW5mby5maWx0ZXIoZCA9PiBkLnJhdGlvID09PSBjb2RlX3JhdGlvKVswXTtcbiAgYXBwLmNvbG9ycyA9IHt9O1xuICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICBhcHAuY3VycmVudF9jb25maWcubnVtLnB1c2godmFyaWFibGVfaW5mby5udW0pO1xuICBhcHAuY3VycmVudF9jb25maWcuZGVudW0ucHVzaCh2YXJpYWJsZV9pbmZvLmRlbnVtKTtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvLnB1c2godmFyaWFibGVfaW5mby5yYXRpbyk7XG4gIGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpb19wcmV0dHlfbmFtZS5wdXNoKHZhcmlhYmxlX2luZm8ubmFtZSk7XG4gIGZpbHRlckxldmVsVmFyKGFwcCk7XG59XG5cbi8qKlxuKlxuKlxuKlxuKlxuKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVWYXJpYWJsZShhcHAsIGNvZGVfcmF0aW8pIHtcbiAgY29uc3QgaXggPSBhcHAuY3VycmVudF9jb25maWcucmF0aW8uaW5kZXhPZihjb2RlX3JhdGlvKTtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLm51bS5zcGxpY2UoaXgsIDEpO1xuICBhcHAuY3VycmVudF9jb25maWcuZGVudW0uc3BsaWNlKGl4LCAxKTtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvLnNwbGljZShpeCwgMSk7XG4gIGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpb19wcmV0dHlfbmFtZS5zcGxpY2UoaXgsIDEpO1xuICBmaWx0ZXJMZXZlbFZhcihhcHApO1xufVxuXG4vKipcbiogUmVzZXQgdGhlIGN1cnJlbnQgdmFyaWFibGVzIGluIHVzZS5cbipcbipcbipcbiovXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRWYXJpYWJsZXMoYXBwLCBjb2Rlc19yYXRpbykge1xuICBhcHAuY29sb3JzID0ge31cbiAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLm51bSA9IFtdO1xuICBhcHAuY3VycmVudF9jb25maWcuZGVudW0gPSBbXTtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvID0gW107XG4gIGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpb19wcmV0dHlfbmFtZSA9IFtdO1xuICBmb3IgKGxldCBpID0gMCwgbGVuID0gY29kZXNfcmF0aW8ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBjb25zdCBjb2RlX3JhdGlvID0gY29kZXNfcmF0aW9baV07XG4gICAgY29uc3QgdmFyaWFibGVfaW5mbyA9IHZhcmlhYmxlc19pbmZvLmZpbHRlcihkID0+IGQucmF0aW8gPT09IGNvZGVfcmF0aW8pWzBdO1xuICAgIGFwcC5jdXJyZW50X2NvbmZpZy5udW0ucHVzaCh2YXJpYWJsZV9pbmZvLm51bSk7XG4gICAgYXBwLmN1cnJlbnRfY29uZmlnLmRlbnVtLnB1c2godmFyaWFibGVfaW5mby5kZW51bSk7XG4gICAgYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvLnB1c2godmFyaWFibGVfaW5mby5yYXRpbyk7XG4gICAgYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvX3ByZXR0eV9uYW1lLnB1c2godmFyaWFibGVfaW5mby5uYW1lKTtcbiAgfVxuICBmaWx0ZXJMZXZlbFZhcihhcHApO1xufVxuXG4vKipcbiogQ29tcHV0ZSB0aGUgcmF0aW8gb2YgYXZhaWxhYmxlICg9IG5vdCBlbXB0eSkgdmFsdWVzICh0aGUgXCJjb21wbMOpdHVkZVwiKSB3aXRoaW5cbiogdGhlIHN1YnNldCBjdXJyZW50bHkgaW4gdXNlIGZvciBhbGwgdGhlIHZhcmlhYmxlcyBpbiBcInZhcnNcIi5cbipcbiogQHBhcmFtIHtPYmplY3R9IGFwcCAtXG4qIEBwYXJhbSB7QXJyYXl9IHZhcnMgLVxuKiBAcmV0dXJuIHtOdW1iZXJ9XG4qXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGNhbGNDb21wbGV0dWRlU3Vic2V0KGFwcCwgdmFycykge1xuICBjb25zdCB7XG4gICAgY3VycmVudF9sZXZlbCwgaWRfZmllbGQsIGZpbHRlcl9rZXksIG15X3JlZ2lvbixcbiAgfSA9IGFwcC5jdXJyZW50X2NvbmZpZztcblxuICAvLyBDb21wdXRlIHRoZSBsZW5ndGggb2YgdGhlIGRhdGFzZXQgKHdpdGhpbiB0aGUgXCJzdHVkeSB6b25lXCIgaWYgYW55KTpcbiAgbGV0IHRlbXA7XG4gIGlmIChmaWx0ZXJfa2V5KSB7XG4gICAgY29uc3QgbXlfY2F0ZWdvcnkgPSBhcHAuZnVsbF9kYXRhc2V0LmZpbHRlcihmdCA9PiBmdFtpZF9maWVsZF0gPT09IG15X3JlZ2lvbilbMF1bZmlsdGVyX2tleV07XG4gICAgdGVtcCA9IGFwcC5mdWxsX2RhdGFzZXRcbiAgICAgIC5maWx0ZXIoZnQgPT4gK2Z0LmxldmVsID09PSBjdXJyZW50X2xldmVsICYmIGZ0W2ZpbHRlcl9rZXldID09PSBteV9jYXRlZ29yeSk7XG4gIH0gZWxzZSB7XG4gICAgdGVtcCA9IGFwcC5mdWxsX2RhdGFzZXRcbiAgICAgIC5maWx0ZXIoZnQgPT4gK2Z0LmxldmVsID09PSBjdXJyZW50X2xldmVsKTtcbiAgfVxuICBjb25zdCB0b3RhbF9sZW5ndGggPSB0ZW1wLmxlbmd0aDtcblxuICAvLyBDb21wdXRlIHRoZSBsZW5ndGggb2YgdGhlIGRhdGFzZXQgaWYgd2UgZmlsdGVyIGVtcHR5IGZlYXR1cmVzXG4gIC8vIG9uIGFsbCB0aGUgdmFyaWFibGVzIG9mIFwidmFyc1wiOlxuICB0ZW1wID0gdGVtcC5tYXAoKGZ0KSA9PiB7XG4gICAgY29uc3QgcHJvcHNfZmVhdHVyZSA9IHtcbiAgICAgIGlkOiBmdFtpZF9maWVsZF0sXG4gICAgfTtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuX2kgPSB2YXJzLmxlbmd0aDsgaSA8IGxlbl9pOyBpKyspIHtcbiAgICAgIHByb3BzX2ZlYXR1cmVbdmFyc1tpXV0gPSArZnRbdmFyc1tpXV07XG4gICAgfVxuICAgIHJldHVybiBwcm9wc19mZWF0dXJlO1xuICB9KS5maWx0ZXIoZnQgPT4gdmFycy5tYXAocmF0aW9fbmFtZSA9PiAhIWZ0W3JhdGlvX25hbWVdKS5ldmVyeSh2ID0+IHYgPT09IHRydWUpKTtcbiAgY29uc3QgZmlsdGVyZWRfbGVuZ3RoID0gdGVtcC5sZW5ndGg7XG5cbiAgLy8gUmV0dXJuIHRoZSByYXRpbyBvZiBhdmFpbGFibGUgdmFsdWVzIChcImNvbXBsw6l0dWRlXCIpIHdpdGhpblxuICAvLyB0aGUgc3R1ZHkgem9uZSBzZWxlY3RlZCBieSB0aGUgdXNlcjpcbiAgcmV0dXJuIE1hdGgucm91bmQoKGZpbHRlcmVkX2xlbmd0aCAvIHRvdGFsX2xlbmd0aCkgKiAxMDAwKSAvIDEwO1xufVxuXG4vKipcbiogQ29tcHV0ZSB0aGUgcmF0aW8gb2YgcG9wdWxhdGlvbiBjb3ZlcmVkIGJ5IGZlYXR1cmVzIG9uIHdoaWNoIGFsbCB0aGUgdmFyaWFibGVzXG4qIG9mIFwidmFyc1wiIGFyZSBhdmFpbGFibGUuXG4qXG4qIEBwYXJhbSB7T2JqZWN0fSBhcHAgLVxuKiBAcGFyYW0ge0FycmF5fSB2YXJzIC1cbiogQHJldHVybiB7TnVtYmVyfVxuKlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBjYWxjUG9wQ29tcGxldHVkZVN1YnNldChhcHAsIHZhcnMpIHtcbiAgY29uc3Qge1xuICAgIGN1cnJlbnRfbGV2ZWwsIGlkX2ZpZWxkLCBmaWx0ZXJfa2V5LCBteV9yZWdpb24sIHBvcF9maWVsZCxcbiAgfSA9IGFwcC5jdXJyZW50X2NvbmZpZztcblxuICAvLyBDb21wdXRlIHRoZSB0b3RhbCBwb3B1bGF0aW9uIHN0b2NrIG9mIHRoZSBkYXRhICh3aXRoaW4gdGhlIFwic3R1ZHkgem9uZVwiIGlmIGFueSk6XG4gIGxldCB0ZW1wO1xuICBpZiAoZmlsdGVyX2tleSkge1xuICAgIGNvbnN0IG15X2NhdGVnb3J5ID0gYXBwLmZ1bGxfZGF0YXNldC5maW5kKGZ0ID0+IGZ0W2lkX2ZpZWxkXSA9PT0gbXlfcmVnaW9uKVtmaWx0ZXJfa2V5XTtcbiAgICB0ZW1wID0gYXBwLmZ1bGxfZGF0YXNldFxuICAgICAgLmZpbHRlcihmdCA9PiArZnQubGV2ZWwgPT09IGN1cnJlbnRfbGV2ZWwgJiYgZnRbZmlsdGVyX2tleV0gPT09IG15X2NhdGVnb3J5KTtcbiAgfSBlbHNlIHtcbiAgICB0ZW1wID0gYXBwLmZ1bGxfZGF0YXNldFxuICAgICAgLmZpbHRlcihmdCA9PiArZnQubGV2ZWwgPT09IGN1cnJlbnRfbGV2ZWwpO1xuICB9XG4gIGxldCB0b3RhbF9wb3AgPSAwO1xuICBmb3IgKGxldCBpID0gMCwgbGVuID0gdGVtcC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHRvdGFsX3BvcCArPSBpc05hTigrdGVtcFtpXVtwb3BfZmllbGRdKSA/IDAgOiArdGVtcFtpXVtwb3BfZmllbGRdO1xuICB9XG4gIC8vIENvbXB1dGUgdGhlIHBvcHVsYXRpb24gc3RvY2sgb2YgdGhlIGRhdGFzZXQgaWYgd2UgZmlsdGVyIGVtcHR5IGZlYXR1cmVzXG4gIC8vIG9uIGFsbCB0aGUgdmFyaWFibGVzIG9mIFwidmFyc1wiOlxuICB0ZW1wID0gdGVtcC5tYXAoKGZ0KSA9PiB7XG4gICAgY29uc3QgcHJvcHNfZmVhdHVyZSA9IHtcbiAgICAgIGlkOiBmdFtpZF9maWVsZF0sXG4gICAgICBwb3A6ICtmdFtwb3BfZmllbGRdLFxuICAgIH07XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gdmFycy5sZW5ndGg7IGkgPCBsZW5faTsgaSsrKSB7XG4gICAgICBwcm9wc19mZWF0dXJlW3ZhcnNbaV1dID0gK2Z0W3ZhcnNbaV1dO1xuICAgIH1cbiAgICByZXR1cm4gcHJvcHNfZmVhdHVyZTtcbiAgfSkuZmlsdGVyKGZ0ID0+IHZhcnMubWFwKHJhdGlvX25hbWUgPT4gISFmdFtyYXRpb19uYW1lXSkuZXZlcnkodiA9PiB2ID09PSB0cnVlKSk7XG4gIGxldCBzdWJzZXRfcG9wID0gMDtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRlbXAubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBzdWJzZXRfcG9wICs9IGlzTmFOKHRlbXBbaV0ucG9wKSA/IDAgOiB0ZW1wW2ldLnBvcDtcbiAgfVxuICAvLyBSZXR1cm4gdGhlIHJhdGlvIG9mIHBvcHVsYXRpb24gdmFsdWVzIChcImNvbXBsw6l0dWRlXCIpIHdpdGhpblxuICAvLyB0aGUgc3R1ZHkgem9uZSBzZWxlY3RlZCBieSB0aGUgdXNlcjpcbiAgcmV0dXJuIE1hdGgucm91bmQoKHN1YnNldF9wb3AgLyB0b3RhbF9wb3ApICogMTAwMCkgLyAxMDtcbn1cbi8qIGVzbGludC1lbmFibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhYmxlUmVzdW1lU3RhdCB7XG4gIGNvbnN0cnVjdG9yKHN1bW1hcnlfZmVhdHVyZXMsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IGRvYyA9IGRvY3VtZW50O1xuICAgIGNvbnN0IG5iX2ZlYXR1cmVzID0gc3VtbWFyeV9mZWF0dXJlcy5sZW5ndGg7XG4gICAgY29uc3QgY29sdW1uX25hbWVzID0gWydWYXJpYWJsZScsICdNaW4nLCAnTW95ZW5uZScsICdNYXgnLCAnTWEgcsOpZ2lvbiddO1xuICAgIGNvbnN0IG5iX2NvbHVtbnMgPSBjb2x1bW5fbmFtZXMubGVuZ3RoO1xuICAgIGNvbnN0IGNvbnRhaW5lcl9kaXYgPSBkb2MuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3QgbXlUYWJsZSA9IGRvYy5jcmVhdGVFbGVtZW50KCd0YWJsZScpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSBkb2MuY3JlYXRlRWxlbWVudCgndGhlYWQnKTtcbiAgICBjb25zdCB0YWJsZV9ib2R5ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3Rib2R5Jyk7XG4gICAgY29uc3QgaGVhZGVyc19yb3cgPSBkb2MuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICBteVRhYmxlLmNsYXNzTmFtZSA9ICdtaW5pdGFibGUnO1xuICAgIGNvbnRhaW5lcl9kaXYuY2xhc3NOYW1lID0gJ21pbml0YWJsZV9jb250YWluZXInO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmJfY29sdW1uczsgaSsrKSB7XG4gICAgICBjb25zdCBjZWxsID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3RoJyk7XG4gICAgICBjZWxsLmlubmVySFRNTCA9IGNvbHVtbl9uYW1lc1tpXTtcbiAgICAgIGhlYWRlcnNfcm93LmFwcGVuZENoaWxkKGNlbGwpO1xuICAgIH1cbiAgICBoZWFkZXJzLmFwcGVuZENoaWxkKGhlYWRlcnNfcm93KTtcbiAgICBteVRhYmxlLmFwcGVuZENoaWxkKGhlYWRlcnMpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmJfZmVhdHVyZXM7IGkrKykge1xuICAgICAgY29uc3Qgcm93ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgICByb3cuaWQgPSBgcm93XyR7c3VtbWFyeV9mZWF0dXJlc1tpXS5pZH1gO1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBuYl9jb2x1bW5zOyBqKyspIHtcbiAgICAgICAgY29uc3QgY2VsbCA9IGRvYy5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgICBjb25zdCBjb2xfbmFtZSA9IGNvbHVtbl9uYW1lc1tqXTtcbiAgICAgICAgaWYgKGNvbF9uYW1lICE9PSAnVmFyaWFibGUnKSB7XG4gICAgICAgICAgY2VsbC5pbm5lckhUTUwgPSBNYXRoLnJvdW5kKHN1bW1hcnlfZmVhdHVyZXNbaV1bY29sX25hbWVdICogMTApIC8gMTA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2VsbC5pbm5lckhUTUwgPSBzdW1tYXJ5X2ZlYXR1cmVzW2ldW2NvbF9uYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByb3cuYXBwZW5kQ2hpbGQoY2VsbCk7XG4gICAgICB9XG4gICAgICB0YWJsZV9ib2R5LmFwcGVuZENoaWxkKHJvdyk7XG4gICAgfVxuICAgIG15VGFibGUuYXBwZW5kQ2hpbGQodGFibGVfYm9keSk7XG4gICAgbXlUYWJsZS5zZXRBdHRyaWJ1dGUoJ2lkJywgb3B0aW9ucy5pZCB8fCAndGFibGVfc3VtbWFyeScpO1xuICAgIGNvbnRhaW5lcl9kaXYuYXBwZW5kQ2hpbGQobXlUYWJsZSk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21hcF9zZWN0aW9uJykuYXBwZW5kQ2hpbGQoY29udGFpbmVyX2Rpdik7XG4gICAgdGhpcy5uYl9jb2x1bW5zID0gbmJfY29sdW1ucztcbiAgICB0aGlzLmNvbHVtbl9uYW1lcyA9IGNvbHVtbl9uYW1lcztcbiAgICB0aGlzLnRhYmxlX2JvZHkgPSB0YWJsZV9ib2R5O1xuICB9XG5cbiAgYWRkRmVhdHVyZXMoc3VtbWFyeV9mZWF0dXJlcykge1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBzdW1tYXJ5X2ZlYXR1cmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB0aGlzLmFkZEZlYXR1cmUoc3VtbWFyeV9mZWF0dXJlc1tpXSk7XG4gICAgfVxuICB9XG5cbiAgYWRkRmVhdHVyZShzdW1tYXJ5KSB7XG4gICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICByb3cuaWQgPSBgcm93XyR7c3VtbWFyeS5pZH1gO1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5uYl9jb2x1bW5zOyBqKyspIHtcbiAgICAgIGNvbnN0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgY29uc3QgY29sX25hbWUgPSB0aGlzLmNvbHVtbl9uYW1lc1tqXTtcbiAgICAgIGlmIChjb2xfbmFtZSAhPT0gJ1ZhcmlhYmxlJykge1xuICAgICAgICBjZWxsLmlubmVySFRNTCA9IE1hdGgucm91bmQoc3VtbWFyeVtjb2xfbmFtZV0gKiAxMCkgLyAxMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNlbGwuaW5uZXJIVE1MID0gc3VtbWFyeVtjb2xfbmFtZV07XG4gICAgICB9XG4gICAgICByb3cuYXBwZW5kQ2hpbGQoY2VsbCk7XG4gICAgfVxuICAgIHRoaXMudGFibGVfYm9keS5hcHBlbmRDaGlsZChyb3cpO1xuICB9XG5cbiAgcmVtb3ZlRmVhdHVyZShpZF92YXJpYWJsZSkge1xuICAgIGNvbnN0IHJvdyA9IHRoaXMudGFibGVfYm9keS5xdWVyeVNlbGVjdG9yKGB0ciNyb3dfJHtpZF92YXJpYWJsZX1gKTtcbiAgICBpZiAocm93KSByb3cucmVtb3ZlKCk7XG4gIH1cblxuICByZW1vdmVBbGwoKSB7XG4gICAgY29uc3Qgcm93cyA9IHRoaXMudGFibGVfYm9keS5xdWVyeVNlbGVjdG9yQWxsKCd0cicpO1xuICAgIGZvciAobGV0IGkgPSByb3dzLmxlbmd0aCAtIDE7IGkgPiAtMTsgaS0tKSB7XG4gICAgICByb3dzW2ldLnJlbW92ZSgpO1xuICAgIH1cbiAgfVxuXG4gIHJlbW92ZSgpIHtcbiAgICB0aGlzLnRhYmxlX2JvZHkucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnJlbW92ZSgpO1xuICAgIHRoaXMudGFibGVfYm9keSA9IG51bGw7XG4gIH1cbn1cbiIsImltcG9ydCB7IGNvbXAsIG1hdGhfcm91bmQsIG1hdGhfYWJzLCBSZWN0LCBwcmVwYXJlVG9vbHRpcCwgc3ZnUGF0aFRvQ29vcmRzIH0gZnJvbSAnLi8uLi9oZWxwZXJzJztcbmltcG9ydCB7IGNvbG9yX2Rpc2FibGVkLCBjb2xvcl9jb3VudHJpZXMsIGNvbG9yX3N1cCwgY29sb3JfaW5mLCBjb2xvcl9oaWdobGlnaHQgfSBmcm9tICcuLy4uL29wdGlvbnMnO1xuaW1wb3J0IHsgY2FsY1BvcENvbXBsZXR1ZGVTdWJzZXQgfSBmcm9tICcuLy4uL3ByZXBhcmVfZGF0YSc7XG5pbXBvcnQgeyBzdmdfbWFwIH0gZnJvbSAnLi8uLi9tYXAnO1xuaW1wb3J0IHsgYXBwLCByZXNldENvbG9ycyB9IGZyb20gJy4vLi4vLi4vbWFpbic7XG5pbXBvcnQgVGFibGVSZXN1bWVTdGF0IGZyb20gJy4vLi4vdGFibGVSZXN1bWVTdGF0JztcblxuZXhwb3J0IGNvbnN0IHN2Z19iYXIgPSBkMy5zZWxlY3QoJ3N2ZyNzdmdfYmFyJyksXG4gIG1hcmdpbiA9IHsgdG9wOiAxMCwgcmlnaHQ6IDIwLCBib3R0b206IDEwMCwgbGVmdDogNDAgfSxcbiAgbWFyZ2luMiA9IHsgdG9wOiA0MzAsIHJpZ2h0OiAyMCwgYm90dG9tOiAxNSwgbGVmdDogNDAgfSxcbiAgd2lkdGggPSArc3ZnX2Jhci5hdHRyKCd3aWR0aCcpIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQsXG4gIGhlaWdodCA9ICtzdmdfYmFyLmF0dHIoJ2hlaWdodCcpIC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b20sXG4gIGhlaWdodDIgPSArc3ZnX2Jhci5hdHRyKCdoZWlnaHQnKSAtIG1hcmdpbjIudG9wIC0gbWFyZ2luMi5ib3R0b207XG5cbmxldCBuYkZ0O1xubGV0IGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbMCwgMF07XG5sZXQgY3VycmVudF9yYW5nZSA9IFswLCAwXTtcbmxldCBkaXNwbGF5ZWQ7XG5cbmZ1bmN0aW9uIGdldE1lYW5SYW5rKG1lYW5fdmFsdWUsIHJhdGlvX3RvX3VzZSkge1xuICBsZXQgbWVhbl9yYW5rID0gYXBwLmN1cnJlbnRfZGF0YS5tYXAoXG4gICAgKGQsIGkpID0+IFtkW3JhdGlvX3RvX3VzZV0sIG1hdGhfYWJzKG1lYW5fdmFsdWUgLSBkW3JhdGlvX3RvX3VzZV0pLCBpXSk7XG4gIG1lYW5fcmFuay5zb3J0KChhLCBiKSA9PiBhWzFdIC0gYlsxXSk7XG4gIG1lYW5fcmFuayA9IG1lYW5fcmFua1swXTtcbiAgaWYgKG1lYW5fcmFua1sxXSA+IG1lYW5fdmFsdWUpIHtcbiAgICBtZWFuX3JhbmsgPSBtZWFuX3JhbmtbMl0gLSAxO1xuICB9IGVsc2Uge1xuICAgIG1lYW5fcmFuayA9IG1lYW5fcmFua1syXTtcbiAgfVxuICByZXR1cm4gbWVhbl9yYW5rO1xufVxuXG5cbmV4cG9ydCBjbGFzcyBCYXJDaGFydDEge1xuICBjb25zdHJ1Y3RvcihyZWZfZGF0YSkge1xuICAgIHRoaXMuYnJ1c2hlZCA9ICgpID0+IHtcbiAgICAgIGlmIChkMy5ldmVudC5zb3VyY2VFdmVudCAmJiBkMy5ldmVudC5zb3VyY2VFdmVudC50eXBlID09PSAnem9vbScpIHJldHVybjsgLy8gaWdub3JlIGJydXNoLWJ5LXpvb21cbiAgICAgIGlmICghdGhpcy54KSB7IGNvbnNvbGUubG9nKCdhJyk7IHJldHVybjsgfVxuICAgICAgY29uc3QgcyA9IGQzLmV2ZW50LnNlbGVjdGlvbiB8fCB0aGlzLngyLnJhbmdlKCk7XG4gICAgICBjdXJyZW50X3JhbmdlID0gW21hdGhfcm91bmQoc1swXSAvICh3aWR0aCAvIG5iRnQpKSwgbWF0aF9yb3VuZChzWzFdIC8gKHdpZHRoIC8gbmJGdCkpXTtcbiAgICAgIHRoaXMueC5kb21haW4odGhpcy5kYXRhLnNsaWNlKGN1cnJlbnRfcmFuZ2VbMF0sIGN1cnJlbnRfcmFuZ2VbMV0pLm1hcChmdCA9PiBmdC5pZCkpO1xuICAgICAgc3ZnX2Jhci5zZWxlY3QoJy56b29tJykuY2FsbCh0aGlzLnpvb20udHJhbnNmb3JtLCBkMy56b29tSWRlbnRpdHlcbiAgICAgICAgLnNjYWxlKHdpZHRoIC8gKGN1cnJlbnRfcmFuZ2VbMV0gLSBjdXJyZW50X3JhbmdlWzBdKSlcbiAgICAgICAgLnRyYW5zbGF0ZSgtY3VycmVudF9yYW5nZVswXSwgMCkpO1xuICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgIHRoaXMudXBkYXRlQ29udGV4dChjdXJyZW50X3JhbmdlWzBdLCBjdXJyZW50X3JhbmdlWzFdKTtcbiAgICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfdG9wJykuY2FsbCh0aGlzLmJydXNoX3RvcC5tb3ZlLCBudWxsKTtcbiAgICAgIHRoaXMuYnJ1c2hlZF90b3AoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5icnVzaGVkX3RvcCA9ICgpID0+IHtcbiAgICAgIGlmICghdGhpcy5fZm9jdXMpIHsgY29uc29sZS5sb2coJ2InKTsgcmV0dXJuOyB9XG4gICAgICBpZiAoIXRoaXMubWFwX2VsZW0pIHsgY29uc29sZS5sb2coJ2MnKTsgcmV0dXJuOyB9XG4gICAgICBjb25zdCBkM19ldmVudCA9IGQzLmV2ZW50O1xuICAgICAgY29uc3QgcmF0aW9fdG9fdXNlID0gdGhpcy5yYXRpb190b191c2U7XG4gICAgICBjb25zdCByZWZfdmFsdWUgPSB0aGlzLnJlZl92YWx1ZTtcbiAgICAgIGlmIChkM19ldmVudCAmJiBkM19ldmVudC5zZWxlY3Rpb25cbiAgICAgICAgICAgICYmIGQzX2V2ZW50LnNvdXJjZUV2ZW50ICYmIGQzX2V2ZW50LnNvdXJjZUV2ZW50LnRhcmdldCA9PT0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJydXNoX3RvcCA+IHJlY3Qub3ZlcmxheScpKSB7XG4gICAgICAgIHRoaXMubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gICAgICAgIGNvbnN0IHMgPSBkM19ldmVudC5zZWxlY3Rpb247XG4gICAgICAgIGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbXG4gICAgICAgICAgY3VycmVudF9yYW5nZVswXSArIG1hdGhfcm91bmQoc1swXSAvICh3aWR0aCAvIGRpc3BsYXllZCkpIC0gMSxcbiAgICAgICAgICBjdXJyZW50X3JhbmdlWzBdICsgbWF0aF9yb3VuZChzWzFdIC8gKHdpZHRoIC8gZGlzcGxheWVkKSksXG4gICAgICAgIF07XG4gICAgICAgIHRoaXMueC5kb21haW4odGhpcy5kYXRhLnNsaWNlKGN1cnJlbnRfcmFuZ2VfYnJ1c2hbMF0gKyAxLCBjdXJyZW50X3JhbmdlX2JydXNoWzFdKVxuICAgICAgICAgIC5tYXAoZnQgPT4gZnQuaWQpKTtcbiAgICAgICAgYXBwLmNvbG9ycyA9IHt9O1xuICAgICAgICB0aGlzLl9mb2N1cy5zZWxlY3RBbGwoJy5iYXInKVxuICAgICAgICAgIC5zdHlsZSgnZmlsbCcsIChkLCBpKSA9PiB7XG4gICAgICAgICAgICBpZiAoZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbikge1xuICAgICAgICAgICAgICBhcHAuY29sb3JzW2QuaWRdID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgICAgICAgICAgICByZXR1cm4gY29sb3JfaGlnaGxpZ2h0O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpID4gY3VycmVudF9yYW5nZV9icnVzaFswXSAmJiBpIDwgY3VycmVudF9yYW5nZV9icnVzaFsxXSkge1xuICAgICAgICAgICAgICBjb25zdCBjb2xvciA9IGNvbXAoZFtyYXRpb190b191c2VdLCByZWZfdmFsdWUsIHRoaXMuc2VyaWVfaW52ZXJzZWQpO1xuICAgICAgICAgICAgICBhcHAuY29sb3JzW2QuaWRdID0gY29sb3I7XG4gICAgICAgICAgICAgIHJldHVybiBjb2xvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb2xvcl9jb3VudHJpZXM7XG4gICAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChkM19ldmVudCAmJiAhZDNfZXZlbnQuc2VsZWN0aW9uXG4gICAgICAgICAgICAmJiBkM19ldmVudC5zb3VyY2VFdmVudCAmJiBkM19ldmVudC5zb3VyY2VFdmVudC5kZXRhaWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRoaXMubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gICAgICAgICAgYXBwLmNvbG9ycyA9IHt9O1xuICAgICAgICAgIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgICAgICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ZvY3VzLnNlbGVjdEFsbCgnLmJhcicpXG4gICAgICAgICAgLnN0eWxlKCdmaWxsJywgZCA9PiBhcHAuY29sb3JzW2QuaWRdIHx8IGNvbG9yX2NvdW50cmllcyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBhcHAuY3VycmVudF9jb25maWcubmJfdmFyID0gMTtcbiAgICBjb25zdCB4ID0gZDMuc2NhbGVCYW5kKCkucmFuZ2UoWzAsIHdpZHRoXSkucGFkZGluZygwLjEpLFxuICAgICAgeDIgPSBkMy5zY2FsZUJhbmQoKS5yYW5nZShbMCwgd2lkdGhdKS5wYWRkaW5nKDAuMSksXG4gICAgICB5ID0gZDMuc2NhbGVMaW5lYXIoKS5yYW5nZShbaGVpZ2h0LCAwXSksXG4gICAgICB5MiA9IGQzLnNjYWxlTGluZWFyKCkucmFuZ2UoW2hlaWdodDIsIDBdKTtcblxuICAgIGNvbnN0IHhBeGlzID0gZDMuYXhpc0JvdHRvbSh4KTtcbiAgICBjb25zdCB4QXhpczIgPSBkMy5heGlzQm90dG9tKHgyKTtcbiAgICBjb25zdCB5QXhpcyA9IGQzLmF4aXNMZWZ0KHkpO1xuXG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLngyID0geDI7XG4gICAgdGhpcy55ID0geTtcbiAgICB0aGlzLnkyID0geTI7XG4gICAgdGhpcy54QXhpcyA9IHhBeGlzO1xuICAgIHRoaXMueUF4aXMgPSB5QXhpcztcbiAgICB0aGlzLnhBeGlzMiA9IHhBeGlzMjtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBhdmFpbGFibGVfcmF0aW9zID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvO1xuICAgIGNvbnN0IHJhdGlvX3RvX3VzZSA9IGF2YWlsYWJsZV9yYXRpb3NbMF07XG4gICAgdGhpcy5yYXRpb190b191c2UgPSByYXRpb190b191c2U7XG5cbiAgICB0aGlzLmRhdGEgPSByZWZfZGF0YS5maWx0ZXIoZnQgPT4gISFmdFtyYXRpb190b191c2VdKTtcbiAgICB0aGlzLmRhdGEuc29ydCgoYSwgYikgPT4gYVtyYXRpb190b191c2VdIC0gYltyYXRpb190b191c2VdKTtcbiAgICB0aGlzLmN1cnJlbnRfaWRzID0gdGhpcy5kYXRhLm1hcChkID0+IGQuaWQpO1xuICAgIHJlc2V0Q29sb3JzKCk7XG4gICAgdGhpcy5jdXJyZW50X3JhbmtzID0gdGhpcy5kYXRhLm1hcCgoZCwgaSkgPT4gaSArIDEpO1xuICAgIG5iRnQgPSB0aGlzLmRhdGEubGVuZ3RoO1xuICAgIHRoaXMubWVhbl92YWx1ZSA9IGQzLm1lYW4odGhpcy5kYXRhLm1hcChkID0+IGRbcmF0aW9fdG9fdXNlXSkpO1xuICAgIHRoaXMucmVmX3ZhbHVlID0gdGhpcy5kYXRhLmZpbHRlcihcbiAgICAgIGZ0ID0+IGZ0LmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVswXVtyYXRpb190b191c2VdO1xuICAgIHN2Z19iYXIuYXBwZW5kKCdkZWZzJylcbiAgICAgIC5hcHBlbmQoJ2NsaXBQYXRoJylcbiAgICAgIC5hdHRyKCdpZCcsICdjbGlwJylcbiAgICAgIC5hcHBlbmQoJ3JlY3QnKVxuICAgICAgLmF0dHJzKHsgd2lkdGgsIGhlaWdodCB9KTtcblxuICAgIGNvbnN0IGZvY3VzID0gc3ZnX2Jhci5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgY2xhc3M6ICdmb2N1cycsXG4gICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke21hcmdpbi5sZWZ0fSwgJHttYXJnaW4udG9wfSlgLFxuICAgICAgfSk7XG5cbiAgICBjb25zdCBjb250ZXh0ID0gc3ZnX2Jhci5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgY2xhc3M6ICdjb250ZXh0JyxcbiAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7bWFyZ2luMi5sZWZ0fSwgJHttYXJnaW4yLnRvcH0pYCxcbiAgICAgIH0pO1xuXG4gICAgdGhpcy5fZm9jdXMgPSBmb2N1cztcbiAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuXG4gICAgeC5kb21haW4odGhpcy5jdXJyZW50X2lkcyk7XG4gICAgeS5kb21haW4oW1xuICAgICAgZDMubWluKHRoaXMuZGF0YSwgZCA9PiBkW3JhdGlvX3RvX3VzZV0pIC0gMixcbiAgICAgIGQzLm1heCh0aGlzLmRhdGEsIGQgPT4gZFtyYXRpb190b191c2VdKSxcbiAgICBdKTtcbiAgICB4Mi5kb21haW4oeC5kb21haW4oKSk7XG4gICAgeTIuZG9tYWluKHkuZG9tYWluKCkpO1xuXG4gICAgY29uc3QgYnJ1c2hfYm90dG9tID0gZDMuYnJ1c2hYKClcbiAgICAgIC5leHRlbnQoW1swLCAwXSwgW3dpZHRoLCBoZWlnaHQyXV0pXG4gICAgICAub24oJ2JydXNoIGVuZCcsIHRoaXMuYnJ1c2hlZCk7XG5cbiAgICBjb25zdCBicnVzaF90b3AgPSBkMy5icnVzaFgoKVxuICAgICAgLmV4dGVudChbWzAsIDBdLCBbd2lkdGgsIGhlaWdodF1dKVxuICAgICAgLm9uKCdicnVzaCBlbmQnLCB0aGlzLmJydXNoZWRfdG9wKTtcblxuICAgIGNvbnN0IHpvb20gPSBkMy56b29tKClcbiAgICAgIC5zY2FsZUV4dGVudChbMSwgSW5maW5pdHldKVxuICAgICAgLnRyYW5zbGF0ZUV4dGVudChbWzAsIDBdLCBbd2lkdGgsIGhlaWdodF1dKVxuICAgICAgLmV4dGVudChbWzAsIDBdLCBbd2lkdGgsIGhlaWdodF1dKTtcbiAgICAgIC8vIC5vbihcInpvb21cIiwgem9vbWVkKTtcbiAgICB0aGlzLmJydXNoX3RvcCA9IGJydXNoX3RvcDtcbiAgICB0aGlzLmJydXNoX2JvdHRvbSA9IGJydXNoX2JvdHRvbTtcbiAgICB0aGlzLnpvb20gPSB6b29tO1xuXG4gICAgZm9jdXMuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAnYXhpcyBheGlzLS14JywgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKDAsICR7aGVpZ2h0fSlgIH0pXG4gICAgICAuY2FsbCh4QXhpcyk7XG5cbiAgICBmb2N1cy5zZWxlY3QoJy5heGlzLS14JylcbiAgICAgIC5zZWxlY3RBbGwoJ3RleHQnKVxuICAgICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdlbmQnKVxuICAgICAgLmF0dHJzKHsgZHg6ICctMC44ZW0nLCBkeTogJzAuMTVlbScsIHRyYW5zZm9ybTogJ3JvdGF0ZSgtNjUpJyB9KTtcblxuICAgIGZvY3VzLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignY2xhc3MnLCAnYXhpcyBheGlzLS15JylcbiAgICAgIC5jYWxsKHlBeGlzKTtcblxuICAgIHRoaXMuZ19iYXIgPSBmb2N1cy5hcHBlbmQoJ2cnKTtcblxuICAgIGNvbnN0IGdyb3VwZV9saW5lX21lYW4gPSBmb2N1cy5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdtZWFuJyk7XG4gICAgZ3JvdXBlX2xpbmVfbWVhbi5hcHBlbmQoJ3RleHQnKVxuICAgICAgLmF0dHJzKHsgeDogNjAsIHk6IHkodGhpcy5tZWFuX3ZhbHVlKSArIDIwIH0pXG4gICAgICAuc3R5bGVzKHtcbiAgICAgICAgZGlzcGxheTogJ25vbmUnLFxuICAgICAgICBmaWxsOiAncmVkJyxcbiAgICAgICAgJ2ZpbGwtb3BhY2l0eSc6ICcwLjgnLFxuICAgICAgICAnZm9udC1mYW1pbHknOiAnXFwnU2lnbmlrYVxcJywgc2Fucy1zZXJpZicsXG4gICAgICB9KVxuICAgICAgLnRleHQoYFZhbGV1ciBtb3llbm5lIDogJHtNYXRoLnJvdW5kKHRoaXMubWVhbl92YWx1ZSAqIDEwKSAvIDEwfWApO1xuXG4gICAgZ3JvdXBlX2xpbmVfbWVhbi5hcHBlbmQoJ2xpbmUnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgeDE6IDAsXG4gICAgICAgIHgyOiB3aWR0aCxcbiAgICAgICAgeTE6IHkodGhpcy5tZWFuX3ZhbHVlKSxcbiAgICAgICAgeTI6IHkodGhpcy5tZWFuX3ZhbHVlKSxcbiAgICAgICAgJ3N0cm9rZS1kYXNoYXJyYXknOiAnMTAsIDUnLFxuICAgICAgICAnc3Ryb2tlLXdpZHRoJzogJzJweCcsXG4gICAgICAgIGNsYXNzOiAnbWVhbl9saW5lJyxcbiAgICAgIH0pXG4gICAgICAuc3R5bGUoJ3N0cm9rZScsICdyZWQnKTtcblxuICAgIGdyb3VwZV9saW5lX21lYW4uYXBwZW5kKCdsaW5lJylcbiAgICAgIC5hdHRycyh7IHgxOiAwLCB4Mjogd2lkdGgsIHkxOiB5KHRoaXMubWVhbl92YWx1ZSksIHkyOiB5KHRoaXMubWVhbl92YWx1ZSksICdzdHJva2Utd2lkdGgnOiAnMTRweCcsIGNsYXNzOiAndHJhbnNwX21lYW5fbGluZScgfSlcbiAgICAgIC5zdHlsZSgnc3Ryb2tlJywgJ3RyYW5zcGFyZW50JylcbiAgICAgIC5vbignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgICAgICBncm91cGVfbGluZV9tZWFuLnNlbGVjdCgndGV4dCcpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ2luaXRpYWwnKTtcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlb3V0JywgKCkgPT4ge1xuICAgICAgICBncm91cGVfbGluZV9tZWFuLnNlbGVjdCgndGV4dCcpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgIH0pO1xuXG4gICAgdGhpcy51cGRhdGVNaW5pQmFycygpO1xuXG4gICAgY29udGV4dC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2JydXNoX2JvdHRvbScpXG4gICAgICAuY2FsbChicnVzaF9ib3R0b20pXG4gICAgICAuY2FsbChicnVzaF9ib3R0b20ubW92ZSwgeC5yYW5nZSgpKTtcblxuICAgIGZvY3VzLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignY2xhc3MnLCAnYnJ1c2hfdG9wJylcbiAgICAgIC5jYWxsKGJydXNoX3RvcClcbiAgICAgIC5jYWxsKGJydXNoX3RvcC5tb3ZlLCBudWxsKTtcblxuICAgIHRoaXMuY29tcGxldHVkZV92YWx1ZSA9IGNhbGNQb3BDb21wbGV0dWRlU3Vic2V0KGFwcCwgW3RoaXMucmF0aW9fdG9fdXNlXSk7XG5cbiAgICB0aGlzLmNvbXBsZXR1ZGUgPSBzdmdfYmFyLmFwcGVuZCgndGV4dCcpXG4gICAgICAuYXR0cnMoeyBpZDogJ2NoYXJ0X2NvbXBsZXR1ZGUnLCB4OiA2MCwgeTogNDAgfSlcbiAgICAgIC5zdHlsZXMoeyAnZm9udC1mYW1pbHknOiAnXFwnU2lnbmlrYVxcJywgc2Fucy1zZXJpZicgfSlcbiAgICAgIC50ZXh0KGBDb21wbMOpdHVkZSA6ICR7dGhpcy5jb21wbGV0dWRlX3ZhbHVlfSVgKTtcblxuICAgIHN2Z19iYXIuYXBwZW5kKCdpbWFnZScpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICB4OiB3aWR0aCArIG1hcmdpbi5sZWZ0ICsgNSxcbiAgICAgICAgeTogMzg1LFxuICAgICAgICB3aWR0aDogMTUsXG4gICAgICAgIGhlaWdodDogMTUsXG4gICAgICAgICd4bGluazpocmVmJzogJ2ltZy9yZXZlcnNlX3BsdXMucG5nJyxcbiAgICAgICAgaWQ6ICdpbWdfcmV2ZXJzZScsXG4gICAgICB9KVxuICAgICAgLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgLy8gdGhpcy5kYXRhID0gYXBwLmN1cnJlbnRfZGF0YS5zbGljZSgpO1xuICAgICAgICBpZiAoIXRoaXMuc2VyaWVfaW52ZXJzZWQpIHtcbiAgICAgICAgICB0aGlzLmRhdGEuc29ydCgoYSwgYikgPT4gYlt0aGlzLnJhdGlvX3RvX3VzZV0gLSBhW3RoaXMucmF0aW9fdG9fdXNlXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5kYXRhLnNvcnQoKGEsIGIpID0+IGFbdGhpcy5yYXRpb190b191c2VdIC0gYlt0aGlzLnJhdGlvX3RvX3VzZV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VyaWVfaW52ZXJzZWQgPSAhdGhpcy5zZXJpZV9pbnZlcnNlZDtcbiAgICAgICAgeC5kb21haW4odGhpcy5kYXRhLnNsaWNlKGN1cnJlbnRfcmFuZ2VbMF0sIGN1cnJlbnRfcmFuZ2VbMV0pLm1hcChmdCA9PiBmdC5pZCkpO1xuICAgICAgICB4Mi5kb21haW4odGhpcy5kYXRhLm1hcChmdCA9PiBmdC5pZCkpO1xuICAgICAgICAvLyBzdmdfYmFyLnNlbGVjdChcIi56b29tXCIpLmNhbGwoem9vbS50cmFuc2Zvcm0sIGQzLnpvb21JZGVudGl0eVxuICAgICAgICAvLyAgICAgLnNjYWxlKHdpZHRoIC8gKGN1cnJlbnRfcmFuZ2VbMV0gLSBjdXJyZW50X3JhbmdlWzBdKSlcbiAgICAgICAgLy8gICAgIC50cmFuc2xhdGUoLWN1cnJlbnRfcmFuZ2VbMF0sIDApKTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgLy8gdGhpcy51cGRhdGVNaW5pQmFycygpO1xuICAgICAgICB0aGlzLnVwZGF0ZUNvbnRleHQoY3VycmVudF9yYW5nZVswXSwgY3VycmVudF9yYW5nZVsxXSk7XG4gICAgICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfdG9wJykuY2FsbChicnVzaF90b3AubW92ZSwgbnVsbCk7XG4gICAgICAgIHRoaXMubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gICAgICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfYm90dG9tJykuY2FsbChicnVzaF9ib3R0b20ubW92ZSwgeC5yYW5nZSgpKTtcbiAgICAgIH0pO1xuXG4gICAgLy8gUHJlcGFyZSB0aGUgdG9vbHRpcCBkaXNwbGF5ZWQgb24gbW91c2VvdmVyOlxuICAgIGNvbnN0IHRvb2x0aXAgPSBwcmVwYXJlVG9vbHRpcChzdmdfYmFyKTtcblxuICAgIC8vIERlYWN0aXZhdGUgdGhlIGJydXNoIHJlY3Qgc2VsZWN0aW9uIG9uIHRoZSBtYXAgKyBvbiB0aGUgY2hhcnRcbiAgICAvLyB3aGVuIGhlIHVzZXIgcHJlc3MgdGhlIEN0cmwga2V5OlxuICAgIGRvY3VtZW50Lm9ua2V5ZG93biA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50LmtleSA9PT0gJ0NvbnRyb2wnKSB7XG4gICAgICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfdG9wJylcbiAgICAgICAgICAuc2VsZWN0QWxsKCcuc2VsZWN0aW9uLCAub3ZlcmxheScpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKVxuICAgICAgICAgIC5zZWxlY3RBbGwoJy5zZWxlY3Rpb24sIC5vdmVybGF5JylcbiAgICAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgfVxuICAgIH07XG4gICAgZG9jdW1lbnQub25rZXl1cCA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50LmtleSA9PT0gJ0NvbnRyb2wnKSB7XG4gICAgICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfdG9wJylcbiAgICAgICAgICAuc2VsZWN0QWxsKCcuc2VsZWN0aW9uLCAub3ZlcmxheScpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7XG4gICAgICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJylcbiAgICAgICAgICAuc2VsZWN0QWxsKCcuc2VsZWN0aW9uLCAub3ZlcmxheScpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vXG4gICAgY29uc3QgaGVhZGVyX2Jhcl9zZWN0aW9uID0gZDMuc2VsZWN0KCcjaGVhZGVyX2NoYXJ0Jyk7XG5cbiAgICB0aGlzLnNlbGVjX3ZhciA9IGhlYWRlcl9iYXJfc2VjdGlvblxuICAgICAgLmluc2VydCgnc2VsZWN0JywgJyNpbWdfdGFibGUnKVxuICAgICAgLmF0dHJzKHsgY2xhc3M6ICd0aXRsZV92YXJpYWJsZScgfSlcbiAgICAgIC5zdHlsZXMoe1xuICAgICAgICAnZm9udC1mYW1pbHknOiAnXFwnU2lnbmlrYVxcJywgc2Fucy1zZXJpZicsXG4gICAgICAgICdmb250LXdlaWdodCc6ICc4MDAnLFxuICAgICAgICAnZm9udC1zaXplJzogJzE0cHgnLFxuICAgICAgICAnbWFyZ2luLXRvcCc6ICcxMnB4JyxcbiAgICAgICAgJ21hcmdpbi1sZWZ0JzogJzQwcHgnLFxuICAgICAgICBmbG9hdDogJ2xlZnQnLFxuICAgICAgfSk7XG5cbiAgICBmb3IgKGxldCBpID0gMCwgbGVuX2kgPSBhdmFpbGFibGVfcmF0aW9zLmxlbmd0aDsgaSA8IGxlbl9pOyBpKyspIHtcbiAgICAgIHRoaXMuc2VsZWNfdmFyLmFwcGVuZCgnb3B0aW9uJylcbiAgICAgICAgLmF0dHIoJ3ZhbHVlJywgYXZhaWxhYmxlX3JhdGlvc1tpXSlcbiAgICAgICAgLnRleHQoYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvX3ByZXR0eV9uYW1lW2ldKTtcbiAgICB9XG5cbiAgICB0aGlzLnNlbGVjX3Zhci5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgY29kZV92YXJpYWJsZSA9IHRoaXMudmFsdWU7XG4gICAgICBzZWxmLmNoYW5nZVZhcmlhYmxlKGNvZGVfdmFyaWFibGUpO1xuICAgICAgc2VsZi5jaGFuZ2VTdHVkeVpvbmUoKTtcbiAgICAgIHNlbGYudXBkYXRlQ29tcGxldHVkZSgpO1xuICAgIH0pO1xuXG4gICAgLy8gQ3JlYXRlIHRoZSBtZW51IHVuZGVyIHRoZSBjaGFydCBhbGxvd2luZyB0byB1c2Ugc29tZSB1c2VmdWwgc2VsZWN0aW9uc1xuICAgIC8vIChhYm92ZSBvciBiZWxvdyB0aGUgbWVhbiB2YWx1ZSBhbmQgYWJvdmUgb3IgYmVsb3cgbXlfcmVnaW9uKVxuICAgIGNvbnN0IG1lbnVfc2VsZWN0aW9uID0gZDMuc2VsZWN0KCcjYmFyX3NlY3Rpb24nKVxuICAgICAgLmFwcGVuZCgnZGl2JylcbiAgICAgIC5hdHRyKCdpZCcsICdtZW51X3NlbGVjdGlvbicpXG4gICAgICAuc3R5bGVzKHsgcGFkZGluZzogJzAgMTBweCAxMHB4IDEwcHgnLCAndGV4dC1hbGlnbic6ICdjZW50ZXInIH0pO1xuXG4gICAgbWVudV9zZWxlY3Rpb24uYXBwZW5kKCdidXR0b24nKVxuICAgICAgLmF0dHJzKHsgY2xhc3M6ICdidXR0b25fYmx1ZScsIGlkOiAnYnRuX2Fib3ZlX21lYW4nIH0pXG4gICAgICAudGV4dCgnPCDDoCBsYSBtb3llbm5lJylcbiAgICAgIC5vbignY2xpY2snLCAoKSA9PiB0aGlzLnNlbGVjdEJlbG93TWVhbigpKTtcblxuICAgIG1lbnVfc2VsZWN0aW9uLmFwcGVuZCgnYnV0dG9uJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAnYnV0dG9uX2JsdWUnLCBpZDogJ2J0bl9iZWxvd19tZWFuJyB9KVxuICAgICAgLnRleHQoJz4gw6AgbGEgbW95ZW5uZScpXG4gICAgICAub24oJ2NsaWNrJywgKCkgPT4gdGhpcy5zZWxlY3RBYm92ZU1lYW4oKSk7XG5cbiAgICBtZW51X3NlbGVjdGlvbi5hcHBlbmQoJ2J1dHRvbicpXG4gICAgICAuYXR0cnMoeyBjbGFzczogJ2J1dHRvbl9ibHVlJywgaWQ6ICdidG5fYWJvdmVfbXlfcmVnaW9uJyB9KVxuICAgICAgLnRleHQoJzwgw6AgbWEgcsOpZ2lvbicpXG4gICAgICAub24oJ2NsaWNrJywgKCkgPT4gdGhpcy5zZWxlY3RCZWxvd015UmVnaW9uKCkpO1xuXG4gICAgbWVudV9zZWxlY3Rpb24uYXBwZW5kKCdidXR0b24nKVxuICAgICAgLmF0dHJzKHsgY2xhc3M6ICdidXR0b25fYmx1ZScsIGlkOiAnYnRuX2JlbG93X215X3JlZ2lvbicgfSlcbiAgICAgIC50ZXh0KCc+IMOgIG1hIHLDqWdpb24nKVxuICAgICAgLm9uKCdjbGljaycsICgpID0+IHRoaXMuc2VsZWN0QWJvdmVNeVJlZ2lvbigpKTtcblxuICAgIHRoaXMubWFrZVRhYmxlU3RhdCgpO1xuICB9XG5cbiAgdXBkYXRlQ29tcGxldHVkZSgpIHtcbiAgICB0aGlzLmNvbXBsZXR1ZGVfdmFsdWUgPSBjYWxjUG9wQ29tcGxldHVkZVN1YnNldChhcHAsIFt0aGlzLnJhdGlvX3RvX3VzZV0pO1xuXG4gICAgdGhpcy5jb21wbGV0dWRlXG4gICAgICAudGV4dChgQ29tcGzDqXR1ZGUgOiAke3RoaXMuY29tcGxldHVkZV92YWx1ZX0lYCk7XG4gIH1cblxuICB1cGRhdGVDb250ZXh0KG1pbiwgbWF4KSB7XG4gICAgdGhpcy5jb250ZXh0LnNlbGVjdEFsbCgnLmJhcicpXG4gICAgICAgLnN0eWxlKCdmaWxsLW9wYWNpdHknLCAoXywgaSkgPT4gKGkgPj0gbWluICYmIGkgPCBtYXggPyAnMScgOiAnMC4zJykpO1xuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIGRpc3BsYXllZCA9IDA7XG4gICAgY29uc3QgcmF0aW9fdG9fdXNlID0gdGhpcy5yYXRpb190b191c2U7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgYmFyID0gdGhpcy5nX2Jhci5zZWxlY3RBbGwoJy5iYXInKVxuICAgICAgLmRhdGEodGhpcy5kYXRhKTtcblxuICAgIGJhclxuICAgICAgLmF0dHJzKGQgPT4gKHtcbiAgICAgICAgeDogdGhpcy54KGQuaWQpLFxuICAgICAgICB5OiB0aGlzLnkoZFtyYXRpb190b191c2VdKSxcbiAgICAgICAgd2lkdGg6IHRoaXMueC5iYW5kd2lkdGgoKSxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQgLSB0aGlzLnkoZFtyYXRpb190b191c2VdKSxcbiAgICAgIH0pKVxuICAgICAgLnN0eWxlKCdmaWxsJywgZCA9PiBhcHAuY29sb3JzW2QuaWRdIHx8IGNvbG9yX2NvdW50cmllcylcbiAgICAgIC5zdHlsZSgnZGlzcGxheScsIChkKSA9PiB7XG4gICAgICAgIGNvbnN0IHRvX2Rpc3BsYXkgPSB0aGlzLngoZC5pZCkgIT0gbnVsbDtcbiAgICAgICAgaWYgKHRvX2Rpc3BsYXkpIHtcbiAgICAgICAgICBkaXNwbGF5ZWQgKz0gMTtcbiAgICAgICAgICByZXR1cm4gJ2luaXRpYWwnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnbm9uZSc7XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZW92ZXInLCAoKSA9PiB7XG4gICAgICAgIHN2Z19iYXIuc2VsZWN0KCcudG9vbHRpcCcpLnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZW91dCcsICgpID0+IHtcbiAgICAgICAgc3ZnX2Jhci5zZWxlY3QoJy50b29sdGlwJykuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgfSlcbiAgICAgIC5vbignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgY29uc3QgdG9vbHRpcCA9IHN2Z19iYXIuc2VsZWN0KCcudG9vbHRpcCcpO1xuICAgICAgICB0b29sdGlwXG4gICAgICAgICAgLnNlbGVjdCgndGV4dC5pZF9mZWF0dXJlJylcbiAgICAgICAgICAudGV4dChgJHtkLmlkfWApO1xuICAgICAgICB0b29sdGlwLnNlbGVjdCgndGV4dC52YWx1ZV9mZWF0dXJlMScpXG4gICAgICAgICAgLnRleHQoYCR7bWF0aF9yb3VuZChkW3NlbGYucmF0aW9fdG9fdXNlXSAqIDEwKSAvIDEwfWApO1xuICAgICAgICB0b29sdGlwXG4gICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHtbZDMubW91c2UodGhpcylbMF0gLSA1LCBkMy5tb3VzZSh0aGlzKVsxXSAtIDQ1XX0pYCk7XG4gICAgICB9KTtcblxuICAgIGJhci5lbnRlcigpXG4gICAgICAuaW5zZXJ0KCdyZWN0JywgJy5tZWFuJylcbiAgICAgIC5hdHRycyhkID0+ICh7XG4gICAgICAgIGNsYXNzOiAnYmFyJyxcbiAgICAgICAgeDogdGhpcy54KGQuaWQpLFxuICAgICAgICB5OiB0aGlzLnkoZFtyYXRpb190b191c2VdKSxcbiAgICAgICAgd2lkdGg6IHRoaXMueC5iYW5kd2lkdGgoKSxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQgLSB0aGlzLnkoZFtyYXRpb190b191c2VdKSxcbiAgICAgIH0pKTtcblxuICAgIGJhci5leGl0KCkucmVtb3ZlKCk7XG5cbiAgICB0aGlzLl9mb2N1cy5zZWxlY3QoJy5heGlzLS15JylcbiAgICAgIC5jYWxsKHRoaXMueUF4aXMpO1xuXG4gICAgY29uc3QgYXhpc194ID0gdGhpcy5fZm9jdXMuc2VsZWN0KCcuYXhpcy0teCcpXG4gICAgICAuYXR0cignZm9udC1zaXplJywgKCkgPT4gKGRpc3BsYXllZCA+IDc1ID8gNiA6IDEwKSlcbiAgICAgIC5jYWxsKHRoaXMueEF4aXMpO1xuICAgIGF4aXNfeFxuICAgICAgLnNlbGVjdEFsbCgndGV4dCcpXG4gICAgICAuYXR0cnMoKCkgPT4ge1xuICAgICAgICBpZiAoZGlzcGxheWVkID4gMTAwKSB7XG4gICAgICAgICAgcmV0dXJuIHsgZHg6ICctMC44ZW0nLCBkeTogJzAuMTVlbScsIHRyYW5zZm9ybTogJ3JvdGF0ZSgtNjUpJyB9O1xuICAgICAgICB9IGVsc2UgaWYgKGRpc3BsYXllZCA+IDIwKSB7XG4gICAgICAgICAgcmV0dXJuIHsgZHg6ICctMC44ZW0nLCBkeTogJzAuMTVlbScsIHRyYW5zZm9ybTogJ3JvdGF0ZSgtNjUpJyB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB7IGR4OiAnMCcsIGR5OiAnMC43MWVtJywgdHJhbnNmb3JtOiBudWxsIH07XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgKCkgPT4gKGRpc3BsYXllZCA+IDIwID8gJ2VuZCcgOiAnbWlkZGxlJykpO1xuXG4gICAgdGhpcy51cGRhdGVNaW5pQmFycygpO1xuICB9XG5cblxuICB1cGRhdGVNaW5pQmFycygpIHtcbiAgICBjb25zdCByYXRpb190b191c2UgPSB0aGlzLnJhdGlvX3RvX3VzZTtcbiAgICBjb25zdCBtaW5pX2JhcnMgPSB0aGlzLmNvbnRleHQuc2VsZWN0QWxsKCcuYmFyJylcbiAgICAgIC5kYXRhKHRoaXMuZGF0YSk7XG5cbiAgICBtaW5pX2JhcnNcbiAgICAgIC5hdHRycyhkID0+ICh7XG4gICAgICAgIHg6IHRoaXMueDIoZC5pZCksXG4gICAgICAgIHk6IHRoaXMueTIoZFtyYXRpb190b191c2VdKSxcbiAgICAgICAgd2lkdGg6IHRoaXMueDIuYmFuZHdpZHRoKCksXG4gICAgICAgIGhlaWdodDogaGVpZ2h0MiAtIHRoaXMueTIoZFtyYXRpb190b191c2VdKSxcbiAgICAgIH0pKVxuICAgICAgLnN0eWxlKCdmaWxsJywgZCA9PiAoZC5pZCAhPT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbiA/IGNvbG9yX2NvdW50cmllcyA6IGNvbG9yX2hpZ2hsaWdodCkpO1xuXG4gICAgbWluaV9iYXJzXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmluc2VydCgncmVjdCcpXG4gICAgICAuYXR0cnMoZCA9PiAoe1xuICAgICAgICBjbGFzczogJ2JhcicsXG4gICAgICAgIHg6IHRoaXMueDIoZC5pZCksXG4gICAgICAgIHk6IHRoaXMueTIoZFtyYXRpb190b191c2VdKSxcbiAgICAgICAgd2lkdGg6IHRoaXMueDIuYmFuZHdpZHRoKCksXG4gICAgICAgIGhlaWdodDogaGVpZ2h0MiAtIHRoaXMueTIoZFtyYXRpb190b191c2VdKSxcbiAgICAgIH0pKVxuICAgICAgLnN0eWxlKCdmaWxsJywgZCA9PiAoZC5pZCAhPT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbiA/IGNvbG9yX2NvdW50cmllcyA6IGNvbG9yX2hpZ2hsaWdodCkpO1xuICAgIG1pbmlfYmFycy5leGl0KCkucmVtb3ZlKCk7XG4gIH1cblxuICB1cGRhdGVNYXBSZWdpbygpIHtcbiAgICB0aGlzLm1hcF9lbGVtLnRhcmdldF9sYXllci5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCBkID0+ICh0aGlzLmN1cnJlbnRfaWRzLmluZGV4T2YoZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXSkgPiAtMVxuICAgICAgICA/IChhcHAuY29sb3JzW2QucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV1dIHx8IGNvbG9yX2NvdW50cmllcylcbiAgICAgICAgOiBjb2xvcl9kaXNhYmxlZCkpO1xuICB9XG5cbiAgc2VsZWN0QWJvdmVNeVJlZ2lvbigpIHtcbiAgICBjb25zdCBteV9yYW5rID0gdGhpcy5kYXRhLm1hcCgoZCwgaSkgPT4gW2QuaWQsIGldKVxuICAgICAgLmZpbHRlcihkID0+IGRbMF0gPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pWzBdWzFdO1xuICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgIGlmICghdGhpcy5zZXJpZV9pbnZlcnNlZCkge1xuICAgICAgY3VycmVudF9yYW5nZV9icnVzaCA9IFtteV9yYW5rLCB0aGlzLmRhdGEubGVuZ3RoXTtcbiAgICAgIHRoaXMuZGF0YVxuICAgICAgICAuZmlsdGVyKChkLCBpKSA9PiBpID4gbXlfcmFuaylcbiAgICAgICAgLm1hcChkID0+IGQuaWQpXG4gICAgICAgIC5mb3JFYWNoKChmdCkgPT4geyBhcHAuY29sb3JzW2Z0XSA9IGNvbG9yX3N1cDsgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbMCwgbXlfcmFua107XG4gICAgICB0aGlzLmRhdGFcbiAgICAgICAgLmZpbHRlcigoZCwgaSkgPT4gaSA8IG15X3JhbmspXG4gICAgICAgIC5tYXAoZCA9PiBkLmlkKVxuICAgICAgICAuZm9yRWFjaCgoZnQpID0+IHsgYXBwLmNvbG9yc1tmdF0gPSBjb2xvcl9pbmY7IH0pO1xuICAgIH1cbiAgICBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX2JvdHRvbScpLmNhbGwoXG4gICAgICB0aGlzLmJydXNoX2JvdHRvbS5tb3ZlLCB0aGlzLngyLnJhbmdlKCkpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gICAgLy8gc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF90b3AnKS5jYWxsKHRoaXMuYnJ1c2hfdG9wLm1vdmUsIGN1cnJlbnRfcmFuZ2VfYnJ1c2gubWFwKGQgPT4gZCAqICh3aWR0aCAvIG5iRnQpKSk7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICB9XG5cbiAgc2VsZWN0QmVsb3dNeVJlZ2lvbigpIHtcbiAgICBjb25zdCBteV9yYW5rID0gdGhpcy5kYXRhLm1hcCgoZCwgaSkgPT4gW2QuaWQsIGldKVxuICAgICAgLmZpbHRlcihkID0+IGRbMF0gPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pWzBdWzFdO1xuXG4gICAgYXBwLmNvbG9ycyA9IHt9O1xuICAgIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgaWYgKCF0aGlzLnNlcmllX2ludmVyc2VkKSB7XG4gICAgICBjdXJyZW50X3JhbmdlX2JydXNoID0gWzAsIG15X3JhbmtdO1xuICAgICAgdGhpcy5kYXRhXG4gICAgICAgIC5maWx0ZXIoKGQsIGkpID0+IGkgPCBteV9yYW5rKVxuICAgICAgICAubWFwKGQgPT4gZC5pZClcbiAgICAgICAgLmZvckVhY2goKGZ0KSA9PiB7IGFwcC5jb2xvcnNbZnRdID0gY29sb3JfaW5mOyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9yYW5nZV9icnVzaCA9IFtteV9yYW5rLCB0aGlzLmRhdGEubGVuZ3RoXTtcbiAgICAgIHRoaXMuZGF0YVxuICAgICAgICAuZmlsdGVyKChkLCBpKSA9PiBpID4gbXlfcmFuaylcbiAgICAgICAgLm1hcChkID0+IGQuaWQpXG4gICAgICAgIC5mb3JFYWNoKChmdCkgPT4geyBhcHAuY29sb3JzW2Z0XSA9IGNvbG9yX3N1cDsgfSk7XG4gICAgfVxuICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfYm90dG9tJykuY2FsbChcbiAgICAgIHRoaXMuYnJ1c2hfYm90dG9tLm1vdmUsIHRoaXMueDIucmFuZ2UoKSk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgICAvLyBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX3RvcCcpLmNhbGwodGhpcy5icnVzaF90b3AubW92ZSwgY3VycmVudF9yYW5nZV9icnVzaC5tYXAoZCA9PiBkICogKHdpZHRoIC8gbmJGdCkpKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gIH1cblxuICBzZWxlY3RBYm92ZU1lYW4oKSB7XG4gICAgY29uc3QgbWVhbl9yYW5rID0gZ2V0TWVhblJhbmsodGhpcy5tZWFuX3ZhbHVlLCB0aGlzLnJhdGlvX3RvX3VzZSk7XG4gICAgY29uc3QgcmF0aW9fdG9fdXNlID0gdGhpcy5yYXRpb190b191c2U7XG4gICAgY29uc3QgcmVmX3ZhbHVlID0gdGhpcy5yZWZfdmFsdWU7XG5cbiAgICBhcHAuY29sb3JzID0ge307XG4gICAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICBpZiAoIXRoaXMuc2VyaWVfaW52ZXJzZWQpIHtcbiAgICAgIGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbbWVhbl9yYW5rLCB0aGlzLmRhdGEubGVuZ3RoXTtcbiAgICAgIHRoaXMuZGF0YS5maWx0ZXIoZCA9PiBkW3JhdGlvX3RvX3VzZV0gPiB0aGlzLm1lYW5fdmFsdWUpLmZvckVhY2goKGZ0KSA9PiB7XG4gICAgICAgIGlmIChmdFtyYXRpb190b191c2VdID4gcmVmX3ZhbHVlKSBhcHAuY29sb3JzW2Z0LmlkXSA9IGNvbG9yX3N1cDtcbiAgICAgICAgZWxzZSBhcHAuY29sb3JzW2Z0LmlkXSA9IGNvbG9yX2luZjtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X3JhbmdlX2JydXNoID0gWzAsIG1lYW5fcmFuayArIDFdO1xuICAgICAgdGhpcy5kYXRhLmZpbHRlcihkID0+IGRbcmF0aW9fdG9fdXNlXSA+IHRoaXMubWVhbl92YWx1ZSkuZm9yRWFjaCgoZnQpID0+IHtcbiAgICAgICAgaWYgKGZ0W3JhdGlvX3RvX3VzZV0gPiByZWZfdmFsdWUpIGFwcC5jb2xvcnNbZnQuaWRdID0gY29sb3JfaW5mO1xuICAgICAgICBlbHNlIGFwcC5jb2xvcnNbZnQuaWRdID0gY29sb3Jfc3VwO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF9ib3R0b20nKS5jYWxsKFxuICAgICAgdGhpcy5icnVzaF9ib3R0b20ubW92ZSwgdGhpcy54Mi5yYW5nZSgpKTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIC8vIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfdG9wJykuY2FsbCh0aGlzLmJydXNoX3RvcC5tb3ZlLCBjdXJyZW50X3JhbmdlX2JydXNoLm1hcChkID0+IGQgKiAod2lkdGggLyBuYkZ0KSkpO1xuICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgfVxuXG4gIHNlbGVjdEJlbG93TWVhbigpIHtcbiAgICBjb25zdCBtZWFuX3JhbmsgPSBnZXRNZWFuUmFuayh0aGlzLm1lYW5fdmFsdWUsIHRoaXMucmF0aW9fdG9fdXNlKTtcbiAgICBjb25zdCByYXRpb190b191c2UgPSB0aGlzLnJhdGlvX3RvX3VzZTtcbiAgICBjb25zdCByZWZfdmFsdWUgPSB0aGlzLnJlZl92YWx1ZTtcbiAgICBhcHAuY29sb3JzID0ge307XG4gICAgaWYgKCF0aGlzLnNlcmllX2ludmVyc2VkKSB7XG4gICAgICBjdXJyZW50X3JhbmdlX2JydXNoID0gWzAsIG1lYW5fcmFua107XG4gICAgICB0aGlzLmRhdGEuZmlsdGVyKGQgPT4gZFtyYXRpb190b191c2VdIDwgdGhpcy5tZWFuX3ZhbHVlKS5mb3JFYWNoKChmdCkgPT4ge1xuICAgICAgICBpZiAoZnRbcmF0aW9fdG9fdXNlXSA8IHJlZl92YWx1ZSkgYXBwLmNvbG9yc1tmdC5pZF0gPSBjb2xvcl9pbmY7XG4gICAgICAgIGVsc2UgYXBwLmNvbG9yc1tmdC5pZF0gPSBjb2xvcl9zdXA7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9yYW5nZV9icnVzaCA9IFttZWFuX3JhbmsgKyAxLCB0aGlzLmRhdGEubGVuZ3RoXTtcbiAgICAgIHRoaXMuZGF0YS5maWx0ZXIoZCA9PiBkW3JhdGlvX3RvX3VzZV0gPCB0aGlzLm1lYW5fdmFsdWUpLmZvckVhY2goKGZ0KSA9PiB7XG4gICAgICAgIGlmIChmdFtyYXRpb190b191c2VdIDwgcmVmX3ZhbHVlKSBhcHAuY29sb3JzW2Z0LmlkXSA9IGNvbG9yX3N1cDtcbiAgICAgICAgZWxzZSBhcHAuY29sb3JzW2Z0LmlkXSA9IGNvbG9yX2luZjtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfYm90dG9tJykuY2FsbChcbiAgICAgIHRoaXMuYnJ1c2hfYm90dG9tLm1vdmUsIHRoaXMueDIucmFuZ2UoKSk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgICAvLyBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX3RvcCcpLmNhbGwodGhpcy5icnVzaF90b3AubW92ZSwgY3VycmVudF9yYW5nZV9icnVzaC5tYXAoZCA9PiBkICogKHdpZHRoIC8gbmJGdCkpKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gIH1cblxuICBoYW5kbGVfYnJ1c2hfbWFwKGV2ZW50KSB7XG4gICAgaWYgKCFldmVudCB8fCAhZXZlbnQuc2VsZWN0aW9uKSB7XG4gICAgICB0aGlzLmxhc3RfbWFwX3NlbGVjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcmF0aW9fdG9fdXNlID0gdGhpcy5yYXRpb190b191c2U7XG4gICAgY29uc3QgcmVmX3ZhbHVlID0gdGhpcy5yZWZfdmFsdWU7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF90b3AnKS5jYWxsKHNlbGYuYnJ1c2hfdG9wLm1vdmUsIG51bGwpO1xuICAgIGNvbnN0IFt0b3BsZWZ0LCBib3R0b21yaWdodF0gPSBldmVudC5zZWxlY3Rpb247XG4gICAgdGhpcy5sYXN0X21hcF9zZWxlY3Rpb24gPSBbdG9wbGVmdCwgYm90dG9tcmlnaHRdO1xuICAgIC8vIGNvbnN0IHRyYW5zZm9ybSA9IHN2Z19tYXAubm9kZSgpLl9fem9vbTtcbiAgICAvLyB0b3BsZWZ0WzBdID0gKHRvcGxlZnRbMF0gLSB0cmFuc2Zvcm0ueCkgLyB0cmFuc2Zvcm0uaztcbiAgICAvLyB0b3BsZWZ0WzFdID0gKHRvcGxlZnRbMV0gLSB0cmFuc2Zvcm0ueSkgLyB0cmFuc2Zvcm0uaztcbiAgICAvLyBib3R0b21yaWdodFswXSA9IChib3R0b21yaWdodFswXSAtIHRyYW5zZm9ybS54KSAvIHRyYW5zZm9ybS5rO1xuICAgIC8vIGJvdHRvbXJpZ2h0WzFdID0gKGJvdHRvbXJpZ2h0WzFdIC0gdHJhbnNmb3JtLnkpIC8gdHJhbnNmb3JtLms7XG4gICAgY29uc3QgcmVjdCA9IG5ldyBSZWN0KHRvcGxlZnQsIGJvdHRvbXJpZ2h0KTtcbiAgICBhcHAuY29sb3JzID0ge307XG4gICAgc2VsZi5tYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5hdHRyKCdmaWxsJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgY29uc3QgaWQgPSBkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dO1xuICAgICAgICBpZiAoaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pIHtcbiAgICAgICAgICBhcHAuY29sb3JzW2lkXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICAgICAgICByZXR1cm4gY29sb3JfaGlnaGxpZ2h0O1xuICAgICAgICB9IGVsc2UgaWYgKHNlbGYuY3VycmVudF9pZHMuaW5kZXhPZihpZCkgPCAwKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbG9yX2Rpc2FibGVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fcHRzKSB7XG4gICAgICAgICAgdGhpcy5fcHRzID0gc3ZnUGF0aFRvQ29vcmRzKHRoaXMuZ2V0QXR0cmlidXRlKCdkJyksIGFwcC50eXBlX3BhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHB0cyA9IHRoaXMuX3B0cztcbiAgICAgICAgZm9yIChsZXQgaXggPSAwLCBuYl9wdHMgPSBwdHMubGVuZ3RoOyBpeCA8IG5iX3B0czsgaXgrKykge1xuICAgICAgICAgIGlmIChyZWN0LmNvbnRhaW5zKHB0c1tpeF0pKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGQucHJvcGVydGllc1tyYXRpb190b191c2VdO1xuICAgICAgICAgICAgY29uc3QgY29sb3IgPSBjb21wKHZhbHVlLCByZWZfdmFsdWUsIHRoaXMuc2VyaWVfaW52ZXJzZWQpO1xuICAgICAgICAgICAgYXBwLmNvbG9yc1tpZF0gPSBjb2xvcjtcbiAgICAgICAgICAgIHJldHVybiBjb2xvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbG9yX2NvdW50cmllcztcbiAgICAgIH0pO1xuICAgIHNlbGYuX2ZvY3VzLnNlbGVjdEFsbCgnLmJhcicpXG4gICAgICAuc3R5bGUoJ2ZpbGwnLCBkID0+IGFwcC5jb2xvcnNbZC5pZF0gfHwgY29sb3JfY291bnRyaWVzKTtcbiAgICBjb25zdCBpZHMgPSBPYmplY3Qua2V5cyhhcHAuY29sb3JzKTtcbiAgICBjb25zdCByYW5rcyA9IGlkcy5tYXAoZCA9PiB0aGlzLmN1cnJlbnRfaWRzLmluZGV4T2YoZC5pZCkgPiAtMSkubWFwKGQgPT4gdGhpcy5jdXJyZW50X3JhbmtzW2RdKTtcbiAgICBpZiAocmFua3MubGVuZ3RoID4gMSkge1xuICAgICAgY29uc3QgYzEgPSByYW5rc1swXSAtIDE7XG4gICAgICBjb25zdCBjMiA9IHJhbmtzW3JhbmtzLmxlbmd0aCAtIDFdO1xuICAgICAgaWYgKGMxIDwgY3VycmVudF9yYW5nZVswXSB8fCBjMiA+IGN1cnJlbnRfcmFuZ2VbMV0pIHtcbiAgICAgICAgY3VycmVudF9yYW5nZSA9IFtcbiAgICAgICAgICByYW5rc1swXSAtIDEsXG4gICAgICAgICAgcmFua3NbcmFua3MubGVuZ3RoIC0gMV0sXG4gICAgICAgIF07XG4gICAgICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfYm90dG9tJykuY2FsbChcbiAgICAgICAgICBzZWxmLmJydXNoX2JvdHRvbS5tb3ZlLFxuICAgICAgICAgIFtjdXJyZW50X3JhbmdlWzBdICogKHdpZHRoIC8gbmJGdCksIGN1cnJlbnRfcmFuZ2VbMV0gKiAod2lkdGggLyBuYkZ0KV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X3JhbmdlID0gWzAsIHRoaXMuZGF0YS5sZW5ndGhdO1xuICAgICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF9ib3R0b20nKS5jYWxsKFxuICAgICAgICBzZWxmLmJydXNoX2JvdHRvbS5tb3ZlLCBzZWxmLngucmFuZ2UoKSk7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlQ2xpY2tNYXAoZCwgcGFyZW50KSB7XG4gICAgY29uc3QgaWQgPSBkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dO1xuICAgIGlmICh0aGlzLmN1cnJlbnRfaWRzLmluZGV4T2YoaWQpIDwgMCB8fCBpZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbikgcmV0dXJuO1xuICAgIGlmIChhcHAuY29sb3JzW2lkXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBhcHAuY29sb3JzW2lkXSA9IHVuZGVmaW5lZDtcbiAgICAgIGQzLnNlbGVjdChwYXJlbnQpLmF0dHIoJ2ZpbGwnLCBjb2xvcl9jb3VudHJpZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBjb2xvciA9IGNvbXAoXG4gICAgICAgIGQucHJvcGVydGllc1t0aGlzLnJhdGlvX3RvX3VzZV0sXG4gICAgICAgIHRoaXMucmVmX3ZhbHVlLFxuICAgICAgICB0aGlzLnNlcmllX2ludmVyc2VkKTtcbiAgICAgIGFwcC5jb2xvcnNbaWRdID0gY29sb3I7XG4gICAgICBkMy5zZWxlY3QocGFyZW50KS5hdHRyKCdmaWxsJywgY29sb3IpO1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG5cbiAgdXBkYXRlQ2hhbmdlUmVnaW9uKCkge1xuICAgIGlmIChhcHAuY3VycmVudF9jb25maWcuZmlsdGVyX2tleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmNoYW5nZVN0dWR5Wm9uZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlZl92YWx1ZSA9IHRoaXMuZGF0YS5maWx0ZXIoXG4gICAgICAgIGZ0ID0+IGZ0LmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVswXVt0aGlzLnJhdGlvX3RvX3VzZV07XG4gICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgdGhpcy51cGRhdGVDb250ZXh0KDAsIHRoaXMuZGF0YS5sZW5ndGgpO1xuICAgICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICAgICAgdGhpcy51cGRhdGVUYWJsZVN0YXRzKCk7XG4gICAgICBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX2JvdHRvbScpLmNhbGwodGhpcy5icnVzaF9ib3R0b20ubW92ZSwgdGhpcy54LnJhbmdlKCkpO1xuICAgICAgdGhpcy5tYXBfZWxlbS5yZW1vdmVSZWN0QnJ1c2goKTtcbiAgICAgIHRoaXMubWFwX2VsZW0udXBkYXRlTGVnZW5kKCk7XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlTWVhblZhbHVlKCkge1xuICAgIGNvbnN0IHkgPSB0aGlzLnk7XG4gICAgY29uc3QgcmF0aW9fdG9fdXNlID0gdGhpcy5yYXRpb190b191c2U7XG4gICAgY29uc3QgZ3JwX21lYW4gPSB0aGlzLl9mb2N1cy5zZWxlY3QoJy5tZWFuJyk7XG4gICAgdGhpcy5tZWFuX3ZhbHVlID0gZDMubWVhbih0aGlzLmRhdGEubWFwKGQgPT4gZFtyYXRpb190b191c2VdKSk7XG4gICAgZ3JwX21lYW4uc2VsZWN0KCd0ZXh0JylcbiAgICAgIC5hdHRyKCd5JywgeSh0aGlzLm1lYW5fdmFsdWUpICsgMjApXG4gICAgICAudGV4dChgVmFsZXVyIG1veWVubmUgOiAke01hdGgucm91bmQodGhpcy5tZWFuX3ZhbHVlICogMTApIC8gMTB9YCk7XG4gICAgZ3JwX21lYW4uc2VsZWN0KCcubWVhbl9saW5lJylcbiAgICAgIC5hdHRycyh7IHkxOiB5KHRoaXMubWVhbl92YWx1ZSksIHkyOiB5KHRoaXMubWVhbl92YWx1ZSkgfSk7XG4gICAgZ3JwX21lYW4uc2VsZWN0KCcudHJhbnNwX21lYW5fbGluZScpXG4gICAgICAuYXR0cnMoeyB5MTogeSh0aGlzLm1lYW5fdmFsdWUpLCB5MjogeSh0aGlzLm1lYW5fdmFsdWUpIH0pO1xuICB9XG5cbiAgY2hhbmdlU3R1ZHlab25lKCkge1xuICAgIGNvbnN0IHJhdGlvX3RvX3VzZSA9IHRoaXMucmF0aW9fdG9fdXNlO1xuICAgIHRoaXMuZGF0YSA9IGFwcC5jdXJyZW50X2RhdGEuZmlsdGVyKGZ0ID0+ICEhZnRbcmF0aW9fdG9fdXNlXSk7XG5cbiAgICBpZiAodGhpcy5zZXJpZV9pbnZlcnNlZCkge1xuICAgICAgdGhpcy5kYXRhLnNvcnQoKGEsIGIpID0+IGJbcmF0aW9fdG9fdXNlXSAtIGFbcmF0aW9fdG9fdXNlXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGF0YS5zb3J0KChhLCBiKSA9PiBhW3JhdGlvX3RvX3VzZV0gLSBiW3JhdGlvX3RvX3VzZV0pO1xuICAgIH1cbiAgICB0aGlzLmN1cnJlbnRfaWRzID0gdGhpcy5kYXRhLm1hcChkID0+IGQuaWQpO1xuICAgIG5iRnQgPSB0aGlzLmRhdGEubGVuZ3RoO1xuICAgIHRoaXMucmVmX3ZhbHVlID0gdGhpcy5kYXRhLmZpbmQoXG4gICAgICBmdCA9PiBmdC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbilbcmF0aW9fdG9fdXNlXTtcbiAgICB0aGlzLnguZG9tYWluKHRoaXMuY3VycmVudF9pZHMpO1xuICAgIGNvbnN0IG1pbl9zZXJpZSA9IGQzLm1pbih0aGlzLmRhdGEsIGQgPT4gZFtyYXRpb190b191c2VdKTtcbiAgICBjb25zdCBtYXhfc2VyaWUgPSBkMy5tYXgodGhpcy5kYXRhLCBkID0+IGRbcmF0aW9fdG9fdXNlXSk7XG4gICAgY29uc3Qgb2Zmc2V0X3kgPSAobWF4X3NlcmllIC0gbWluX3NlcmllKSAvIDIwO1xuICAgIHRoaXMueS5kb21haW4oW1xuICAgICAgbWluX3NlcmllIC0gb2Zmc2V0X3ksIG1heF9zZXJpZSxcbiAgICBdKTtcbiAgICB0aGlzLngyLmRvbWFpbih0aGlzLnguZG9tYWluKCkpO1xuICAgIHRoaXMueTIuZG9tYWluKHRoaXMueS5kb21haW4oKSk7XG4gICAgdGhpcy51cGRhdGVNZWFuVmFsdWUoKTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIHRoaXMudXBkYXRlQ29udGV4dCgwLCB0aGlzLmRhdGEubGVuZ3RoKTtcblxuICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfYm90dG9tJykuY2FsbCh0aGlzLmJydXNoX2JvdHRvbS5tb3ZlLCB0aGlzLngyLnJhbmdlKCkpO1xuICAgIHRoaXMubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gICAgYXBwLmNvbG9ycyA9IHt9O1xuICAgIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgdGhpcy51cGRhdGVUYWJsZVN0YXRzKCk7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICB9XG5cbiAgYWRkVmFyaWFibGUoY29kZV92YXJpYWJsZSwgbmFtZV92YXJpYWJsZSkge1xuICAgIC8vIEFkZCB0aGUgdmFyaWFibGUgdG8gdGhlIGlucHV0IGVsZW1lbnQgYWxsb3dpbmcgdG8gY2hvb3NlIHZhcmlhYmxlczpcbiAgICB0aGlzLnNlbGVjX3Zhci5hcHBlbmQoJ29wdGlvbicpXG4gICAgICAuYXR0cigndmFsdWUnLCBjb2RlX3ZhcmlhYmxlKVxuICAgICAgLnRleHQobmFtZV92YXJpYWJsZSk7XG5cbiAgICAvLyBBbmQgdXNlIGl0IGltbWVkaWF0bHk6XG4gICAgdGhpcy5zZWxlY192YXIubm9kZSgpLnZhbHVlID0gY29kZV92YXJpYWJsZTtcbiAgICB0aGlzLnNlbGVjX3Zhci5kaXNwYXRjaCgnY2hhbmdlJyk7XG4gIH1cblxuICByZW1vdmVWYXJpYWJsZShjb2RlX3ZhcmlhYmxlKSB7XG4gICAgLy8gQWRkIHRoZSB2YXJpYWJsZSB0byB0aGUgaW5wdXQgZWxlbWVudCBhbGxvd2luZyB0byBjaG9vc2UgdmFyaWFibGVzOlxuICAgIHRoaXMuc2VsZWNfdmFyLnNlbGVjdChgb3B0aW9uW3ZhbHVlPSR7Y29kZV92YXJpYWJsZX1dYCkucmVtb3ZlKCk7XG4gICAgaWYgKHRoaXMucmF0aW9fdG9fdXNlID09PSBjb2RlX3ZhcmlhYmxlKSB7XG4gICAgICB0aGlzLnNlbGVjX3Zhci5ub2RlKCkudmFsdWUgPSB0aGlzLnNlbGVjX3Zhci5zZWxlY3QoJ29wdGlvbicpLm5vZGUoKS52YWx1ZTtcbiAgICAgIHRoaXMuc2VsZWNfdmFyLmRpc3BhdGNoKCdjaGFuZ2UnKTtcbiAgICB9XG4gIH1cblxuICBjaGFuZ2VWYXJpYWJsZShjb2RlX3ZhcmlhYmxlKSB7XG4gICAgdGhpcy5yYXRpb190b191c2UgPSBjb2RlX3ZhcmlhYmxlO1xuICB9XG5cbiAgcmVtb3ZlKCkge1xuICAgIHRoaXMuX2ZvY3VzLnJlbW92ZSgpO1xuICAgIHRoaXMuY29udGV4dC5yZW1vdmUoKTtcbiAgICB0aGlzLnNlbGVjX3Zhci5yZW1vdmUoKTtcbiAgICB0aGlzLnRhYmxlX3N0YXRzLnJlbW92ZSgpO1xuICAgIHRoaXMudGFibGVfc3RhdHMgPSBudWxsO1xuICAgIHRoaXMubWFwX2VsZW0udW5iaW5kQnJ1c2goKTtcbiAgICB0aGlzLm1hcF9lbGVtID0gbnVsbDtcbiAgICBzdmdfYmFyLmh0bWwoJycpO1xuICB9XG5cbiAgYmluZE1hcChtYXBfZWxlbSkge1xuICAgIHRoaXMubWFwX2VsZW0gPSBtYXBfZWxlbTtcbiAgICB0aGlzLm1hcF9lbGVtLnJlc2V0Q29sb3JzKHRoaXMuY3VycmVudF9pZHMpO1xuICB9XG5cbiAgdXBkYXRlVGFibGVTdGF0cygpIHtcbiAgICB0aGlzLnRhYmxlX3N0YXRzLnJlbW92ZUFsbCgpO1xuICAgIHRoaXMudGFibGVfc3RhdHMuYWRkRmVhdHVyZSh0aGlzLnByZXBhcmVUYWJsZVN0YXQoKSk7XG4gIH1cblxuICBwcmVwYXJlVGFibGVTdGF0KCkge1xuICAgIGNvbnN0IHZhbHVlcyA9IHRoaXMuZGF0YS5tYXAoZCA9PiBkW3RoaXMucmF0aW9fdG9fdXNlXSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIE1pbjogZDMubWluKHZhbHVlcyksXG4gICAgICBNYXg6IGQzLm1heCh2YWx1ZXMpLFxuICAgICAgTW95ZW5uZTogZDMubWVhbih2YWx1ZXMpLFxuICAgICAgaWQ6IHRoaXMucmF0aW9fdG9fdXNlLFxuICAgICAgVmFyaWFibGU6IHRoaXMucmF0aW9fdG9fdXNlLFxuICAgICAgJ01hIHLDqWdpb24nOiB0aGlzLnJlZl92YWx1ZSxcbiAgICB9O1xuICB9XG5cbiAgbWFrZVRhYmxlU3RhdCgpIHtcbiAgICBjb25zdCBmZWF0dXJlID0gdGhpcy5wcmVwYXJlVGFibGVTdGF0KCk7XG4gICAgdGhpcy50YWJsZV9zdGF0cyA9IG5ldyBUYWJsZVJlc3VtZVN0YXQoW2ZlYXR1cmVdKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgY29tcCwgbWF0aF9yb3VuZCwgbWF0aF9hYnMsIFJlY3QsIFByb3BTaXplciwgcHJlcGFyZVRvb2x0aXAsIHN2Z1BhdGhUb0Nvb3JkcyB9IGZyb20gJy4vLi4vaGVscGVycyc7XG5pbXBvcnQgeyBjb2xvcl9kaXNhYmxlZCwgY29sb3JfY291bnRyaWVzLCBjb2xvcl9zdXAsIGNvbG9yX2luZiwgY29sb3JfaGlnaGxpZ2h0IH0gZnJvbSAnLi8uLi9vcHRpb25zJztcbmltcG9ydCB7IGNhbGNQb3BDb21wbGV0dWRlU3Vic2V0IH0gZnJvbSAnLi8uLi9wcmVwYXJlX2RhdGEnO1xuaW1wb3J0IHsgc3ZnX21hcCB9IGZyb20gJy4vLi4vbWFwJztcbmltcG9ydCB7IGFwcCwgdmFyaWFibGVzX2luZm8sIHJlc2V0Q29sb3JzIH0gZnJvbSAnLi8uLi8uLi9tYWluJztcbmltcG9ydCBUYWJsZVJlc3VtZVN0YXQgZnJvbSAnLi8uLi90YWJsZVJlc3VtZVN0YXQnO1xuXG5jb25zdCBzdmdfYmFyID0gZDMuc2VsZWN0KCcjc3ZnX2JhcicpO1xuY29uc3QgbWFyZ2luID0geyB0b3A6IDIwLCByaWdodDogMjAsIGJvdHRvbTogNDAsIGxlZnQ6IDMwIH07XG5cbmNvbnN0IHdpZHRoID0gK3N2Z19iYXIuYXR0cignd2lkdGgnKSAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0LFxuICBoZWlnaHQgPSArc3ZnX2Jhci5hdHRyKCdoZWlnaHQnKSAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tO1xuXG5leHBvcnQgY2xhc3MgQnViYmxlQ2hhcnQxIHtcbiAgY29uc3RydWN0b3IocmVmX2RhdGEpIHtcbiAgICBhcHAuY3VycmVudF9jb25maWcubmJfdmFyID0gMTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBhdmFpbGFibGVfcmF0aW9zID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvO1xuICAgIGNvbnN0IGF2YWlsYWJsZV9udW1zID0gYXBwLmN1cnJlbnRfY29uZmlnLm51bTtcbiAgICBjb25zdCByYXRpb190b191c2UgPSBhdmFpbGFibGVfcmF0aW9zWzBdO1xuICAgIGNvbnN0IHN0b2NrX3RvX3VzZSA9IGF2YWlsYWJsZV9udW1zWzBdO1xuICAgIHRoaXMucmF0aW9fdG9fdXNlID0gcmF0aW9fdG9fdXNlO1xuICAgIHRoaXMuc3RvY2tfdG9fdXNlID0gc3RvY2tfdG9fdXNlO1xuICAgIHRoaXMuZGF0YSA9IHJlZl9kYXRhLmZpbHRlcihmdCA9PiAhIWZ0W3JhdGlvX3RvX3VzZV0pLnNsaWNlKClcbiAgICAgIC5zb3J0KChhLCBiKSA9PiBiW3N0b2NrX3RvX3VzZV0gLSBhW3N0b2NrX3RvX3VzZV0pO1xuICAgIHRoaXMuY3VycmVudF9pZHMgPSB0aGlzLmRhdGEubWFwKGQgPT4gZC5pZCk7XG4gICAgcmVzZXRDb2xvcnMoKTtcbiAgICB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24gPSBbXTtcbiAgICB0aGlzLnNlcmllX2ludmVyc2VkID0gZmFsc2U7XG4gICAgY29uc3QgZHJhd19ncm91cCA9IHN2Z19iYXJcbiAgICAgIC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHttYXJnaW4ubGVmdH0sICR7bWFyZ2luLnRvcH0pYCk7XG4gICAgZHJhd19ncm91cC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHsgY2xhc3M6ICdheGlzIGF4aXMtLXgnLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoMCwgJHtoZWlnaHQgLyAyfSlgIH0pO1xuICAgIHRoaXMuZHJhd19ncm91cCA9IGRyYXdfZ3JvdXA7XG5cbiAgICAvLyBQcmVwYXJlIHRoZSB0b29sdGlwIGRpc3BsYXllZCBvbiBtb3VzZW92ZXI6XG4gICAgcHJlcGFyZVRvb2x0aXAoc3ZnX2Jhcik7XG5cbiAgICAvLyBDb21wdXRlIHRoZSBcImNvbXBsw6l0dWRlXCIgdmFsdWUgZm9yIHRoaXMgcmF0aW86XG4gICAgdGhpcy5jb21wbGV0dWRlX3ZhbHVlID0gY2FsY1BvcENvbXBsZXR1ZGVTdWJzZXQoYXBwLCBbdGhpcy5yYXRpb190b191c2VdKTtcblxuICAgIC8vIENyZWF0ZSB0aGUgXCJjb21wbMOpdHVkZVwiIHRleHQ6XG4gICAgdGhpcy5jb21wbGV0dWRlID0gc3ZnX2Jhci5hcHBlbmQoJ3RleHQnKVxuICAgICAgLmF0dHJzKHsgaWQ6ICdjaGFydF9jb21wbGV0dWRlJywgeDogNjAsIHk6IDQwIH0pXG4gICAgICAuc3R5bGVzKHsgJ2ZvbnQtZmFtaWx5JzogJ1xcJ1NpZ25pa2FcXCcsIHNhbnMtc2VyaWYnIH0pXG4gICAgICAudGV4dChgQ29tcGzDqXR1ZGUgOiAke3RoaXMuY29tcGxldHVkZV92YWx1ZX0lYCk7XG5cbiAgICAvLyBDcmVhdGUgdGhlIGJ1dHRvbiBhbGxvd2luZyB0byBjaG9vc2UgaWYgdGhlIGNvbG9yIGFyZSBpbnZlcnNlZCAoZ3JlZW4vcmVkIGZvciBzdXBlcmlvci9pbmZlcmlvciByZWdpb25zKVxuICAgIHN2Z19iYXIuYXBwZW5kKCdpbWFnZScpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICB4OiB3aWR0aCArIG1hcmdpbi5sZWZ0ICsgNSxcbiAgICAgICAgeTogMjMyLjUsXG4gICAgICAgIHdpZHRoOiAxNSxcbiAgICAgICAgaGVpZ2h0OiAxNSxcbiAgICAgICAgJ3hsaW5rOmhyZWYnOiAnaW1nL3JldmVyc2VfcGx1cy5wbmcnLFxuICAgICAgICBpZDogJ2ltZ19yZXZlcnNlJyxcbiAgICAgIH0pXG4gICAgICAub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLnNlcmllX2ludmVyc2VkID0gIXRoaXMuc2VyaWVfaW52ZXJzZWQ7XG4gICAgICAgIHRoaXMuYXBwbHlTZWxlY3Rpb24odGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uLmxlbmd0aCk7XG4gICAgICB9KTtcblxuXG4gICAgLy8gQ3JlYXRlIHRoZSBzZWN0aW9uIGNvbnRhaW5pbmcgdGhlIGlucHV0IGVsZW1lbnQgYWxsb3dpbmcgdG8gY2hvc2VcbiAgICAvLyBob3cgbWFueSBcImNsb3NlXCIgcmVnaW9ucyB3ZSB3YW50IHRvIGhpZ2hsaWdodC5cbiAgICBjb25zdCBzZWxlY3Rpb25fY2xvc2UgPSBkMy5zZWxlY3Qoc3ZnX2Jhci5ub2RlKCkucGFyZW50RWxlbWVudClcbiAgICAgIC5hcHBlbmQoJ2RpdicpXG4gICAgICAuYXR0cignaWQnLCAnbWVudV9zZWxlY3Rpb24nKVxuICAgICAgLnN0eWxlcyh7IHRvcDogJy0xMDBweCcsICdtYXJnaW4tbGVmdCc6ICczMHB4JywgcG9zaXRpb246ICdyZWxhdGl2ZScgfSlcbiAgICAgIC5hcHBlbmQoJ3AnKTtcblxuICAgIHNlbGVjdGlvbl9jbG9zZS5hcHBlbmQoJ3NwYW4nKVxuICAgICAgLnByb3BlcnR5KCd2YWx1ZScsICdjbG9zZScpXG4gICAgICAuYXR0cnMoeyB2YWx1ZTogJ2Nsb3NlJywgY2xhc3M6ICd0eXBlX3NlbGVjdGlvbiBzcXVhcmUgY2hlY2tlZCcgfSk7XG4gICAgc2VsZWN0aW9uX2Nsb3NlLmFwcGVuZCgnc3BhbicpXG4gICAgICAuYXR0cnMoeyBjbGFzczogJ2xhYmVsX2NoaycgfSlcbiAgICAgIC5odG1sKCdMZXMnKTtcbiAgICBzZWxlY3Rpb25fY2xvc2UuYXBwZW5kKCdpbnB1dCcpXG4gICAgICAuYXR0cnMoeyBjbGFzczogJ25iX3NlbGVjdCcsIHR5cGU6ICdudW1iZXInIH0pXG4gICAgICAucHJvcGVydHkoJ3ZhbHVlJywgNSk7XG4gICAgc2VsZWN0aW9uX2Nsb3NlLmFwcGVuZCgnc3BhbicpXG4gICAgICAuYXR0cnMoeyBjbGFzczogJ2xhYmVsX2NoaycgfSlcbiAgICAgIC5odG1sKCdyw6lnaW9ucyBsZXMgcGx1cyBwcm9jaGVzJyk7XG4gICAgdGhpcy5teV9yZWdpb25fdmFsdWUgPSB0aGlzLmRhdGFcbiAgICAgICAgLmZpbHRlcihkID0+IGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pXG4gICAgICAgIC5tYXAoZCA9PiBkW3JhdGlvX3RvX3VzZV0pWzBdO1xuICAgIHRoaXMuZmVhdHVyZV9vcmRlciA9IHRoaXMuZGF0YS5tYXAoZCA9PiAoe1xuICAgICAgZGlzdDogbWF0aF9hYnMoZFtyYXRpb190b191c2VdIC0gdGhpcy5teV9yZWdpb25fdmFsdWUpLFxuICAgICAgaWQ6IGQuaWRcbiAgICB9KSkuc29ydCgoYSwgYikgPT4gYS5kaXN0IC0gYi5kaXN0KS5tYXAoZCA9PiBkLmlkKTtcbiAgICBjb25zb2xlLmxvZyh0aGlzLmZlYXR1cmVfb3JkZXIpO1xuXG4gICAgdGhpcy5iaW5kTWVudSgpO1xuXG4gICAgLy9cbiAgICBjb25zdCBoZWFkZXJfYmFyX3NlY3Rpb24gPSBkMy5zZWxlY3QoJyNoZWFkZXJfY2hhcnQnKTtcblxuICAgIHRoaXMuc2VsZWNfdmFyID0gaGVhZGVyX2Jhcl9zZWN0aW9uXG4gICAgICAuaW5zZXJ0KCdzZWxlY3QnLCAnI2ltZ190YWJsZScpXG4gICAgICAuYXR0cnMoeyBjbGFzczogJ3RpdGxlX3ZhcmlhYmxlJyB9KVxuICAgICAgLnN0eWxlcyh7XG4gICAgICAgICdmb250LWZhbWlseSc6ICdcXCdTaWduaWthXFwnLCBzYW5zLXNlcmlmJyxcbiAgICAgICAgJ2ZvbnQtd2VpZ2h0JzogJzgwMCcsXG4gICAgICAgICdmb250LXNpemUnOiAnMTRweCcsXG4gICAgICAgICdtYXJnaW4tdG9wJzogJzEycHgnLFxuICAgICAgICAnbWFyZ2luLWxlZnQnOiAnNDBweCcsXG4gICAgICAgIGZsb2F0OiAnbGVmdCcsXG4gICAgICB9KTtcblxuICAgIGZvciAobGV0IGkgPSAwLCBsZW5faSA9IGF2YWlsYWJsZV9yYXRpb3MubGVuZ3RoOyBpIDwgbGVuX2k7IGkrKykge1xuICAgICAgdGhpcy5zZWxlY192YXIuYXBwZW5kKCdvcHRpb24nKVxuICAgICAgICAuYXR0cigndmFsdWUnLCBhdmFpbGFibGVfcmF0aW9zW2ldKVxuICAgICAgICAudGV4dChhcHAuY3VycmVudF9jb25maWcucmF0aW9fcHJldHR5X25hbWVbaV0pO1xuICAgIH1cblxuICAgIHRoaXMuc2VsZWNfdmFyLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCBjb2RlX3ZhcmlhYmxlID0gdGhpcy52YWx1ZTtcbiAgICAgIHNlbGYuY2hhbmdlVmFyaWFibGUoY29kZV92YXJpYWJsZSk7XG4gICAgICBzZWxmLmNoYW5nZVN0dWR5Wm9uZSgpO1xuICAgICAgc2VsZi51cGRhdGVDb21wbGV0dWRlKCk7XG4gICAgfSk7XG5cbiAgICAvLyBEZWFjdGl2YXRlIHRoZSByZWN0IGJydXNoIHNlbGVjdGlvbiBvbiB0aGUgbWFwXG4gICAgLy8gd2hpbGUgdGhlIHVzZXIgcHJlc3MgdGhlIEN0cmwga2V5OlxuICAgIGRvY3VtZW50Lm9ua2V5ZG93biA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50LmtleSA9PT0gJ0NvbnRyb2wnKSB7XG4gICAgICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJylcbiAgICAgICAgICAuc2VsZWN0QWxsKCcuc2VsZWN0aW9uLCAub3ZlcmxheScpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIC8vIFJlYWN0aXZhdGUgdGhlIHJlY3QgYnJ1c2ggc2VsZWN0aW9uIG9uIHRoZSBtYXBcbiAgICAvLyB3aGVuIHRoZSB1c2VyIGRvZXNuJ3QgcHJlc3MgdGhlIEN0cmwga2V5IGFueW1vcmVcbiAgICBkb2N1bWVudC5vbmtleXVwID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQgJiYgZXZlbnQua2V5ID09PSAnQ29udHJvbCcpIHtcbiAgICAgICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKVxuICAgICAgICAgIC5zZWxlY3RBbGwoJy5zZWxlY3Rpb24sIC5vdmVybGF5JylcbiAgICAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5tYWtlVGFibGVTdGF0KCk7XG4gIH1cblxuICBhcHBseVNlbGVjdGlvbihuYikge1xuICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICBpZiAobmIgPiAwKSB7XG4gICAgICBjb25zdCBteV9yZWdpb25fdmFsdWUgPSB0aGlzLm15X3JlZ2lvbl92YWx1ZTtcbiAgICAgIGNvbnN0IHJhdGlvX3RvX3VzZSA9IHRoaXMucmF0aW9fdG9fdXNlO1xuXG4gICAgICB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24gPSB0aGlzLmRhdGEubWFwKGQgPT4gKHtcbiAgICAgICAgZGlzdDogbWF0aF9hYnMoZFtyYXRpb190b191c2VdIC0gbXlfcmVnaW9uX3ZhbHVlKSxcbiAgICAgICAgcmF0aW86IGRbcmF0aW9fdG9fdXNlXSxcbiAgICAgICAgaWQ6IGQuaWQgfSkpO1xuXG4gICAgICB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24uc29ydCgoYSwgYikgPT4gYS5kaXN0IC0gYi5kaXN0KTtcbiAgICAgIHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbiA9IHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbi5zbGljZSgxLCBuYiArIDEpO1xuICAgICAgdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgICAgYXBwLmNvbG9yc1tlbGVtLmlkXSA9IGNvbXAoZWxlbS5yYXRpbywgbXlfcmVnaW9uX3ZhbHVlLCB0aGlzLnNlcmllX2ludmVyc2VkKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24gPSBbXTtcbiAgICB9XG4gICAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBkYXRhID0gc2VsZi5kYXRhO1xuICAgIGNvbnN0IGhpZ2hsaWdodF9zZWxlY3Rpb24gPSBzZWxmLmhpZ2hsaWdodF9zZWxlY3Rpb247XG4gICAgY29uc3QgbXlfcmVnaW9uX3ZhbHVlID0gc2VsZi5teV9yZWdpb25fdmFsdWU7XG4gICAgY29uc3QgcmF0aW9fdG9fdXNlID0gc2VsZi5yYXRpb190b191c2U7XG4gICAgY29uc3Qgc3RvY2tfdG9fdXNlID0gc2VsZi5zdG9ja190b191c2U7XG5cbiAgICBsZXQgX21pbjtcbiAgICBsZXQgX21heDtcbiAgICBpZiAoaGlnaGxpZ2h0X3NlbGVjdGlvbi5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBkaXN0X21pbiA9IG15X3JlZ2lvbl92YWx1ZSAtIGQzLm1pbihoaWdobGlnaHRfc2VsZWN0aW9uLCBkID0+IGQucmF0aW8pO1xuICAgICAgY29uc3QgZGlzdF9tYXggPSBkMy5tYXgoaGlnaGxpZ2h0X3NlbGVjdGlvbiwgZCA9PiBkLnJhdGlvKSAtIG15X3JlZ2lvbl92YWx1ZTtcbiAgICAgIGNvbnN0IGRpc3RfYXhpcyA9IE1hdGgubWF4KGRpc3RfbWluLCBkaXN0X21heCk7XG4gICAgICBjb25zdCBtYXJnaW5fbWluX21heCA9IG1hdGhfcm91bmQoZGlzdF9heGlzKSAvIDg7XG4gICAgICBfbWluID0gbXlfcmVnaW9uX3ZhbHVlIC0gZGlzdF9heGlzIC0gbWFyZ2luX21pbl9tYXg7XG4gICAgICBfbWF4ID0gbXlfcmVnaW9uX3ZhbHVlICsgZGlzdF9heGlzICsgbWFyZ2luX21pbl9tYXg7XG4gICAgICBpZiAoX21pbiA+IF9tYXgpIHsgY29uc29sZS5sb2coJ2EnKTsgW19taW4sIF9tYXhdID0gW19tYXgsIF9taW5dOyB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGRpc3RfbWluID0gbXlfcmVnaW9uX3ZhbHVlIC0gZDMubWluKGRhdGEsIGQgPT4gZFtyYXRpb190b191c2VdKTtcbiAgICAgIGNvbnN0IGRpc3RfbWF4ID0gZDMubWF4KGRhdGEsIGQgPT4gZFtyYXRpb190b191c2VdKSAtIG15X3JlZ2lvbl92YWx1ZTtcbiAgICAgIGNvbnN0IGRpc3RfYXhpcyA9IE1hdGgubWF4KGRpc3RfbWluLCBkaXN0X21heCk7XG4gICAgICBjb25zdCBtYXJnaW5fbWluX21heCA9IG1hdGhfcm91bmQoZGlzdF9heGlzKSAvIDg7XG4gICAgICBfbWluID0gbXlfcmVnaW9uX3ZhbHVlIC0gZGlzdF9heGlzIC0gbWFyZ2luX21pbl9tYXg7XG4gICAgICBfbWF4ID0gbXlfcmVnaW9uX3ZhbHVlICsgZGlzdF9heGlzICsgbWFyZ2luX21pbl9tYXg7XG4gICAgfVxuXG4gICAgY29uc3QgcHJvcF9zaXplciA9IG5ldyBQcm9wU2l6ZXIoZDMubWF4KGRhdGEsIGQgPT4gZFtzdG9ja190b191c2VdKSwgMzApO1xuICAgIGNvbnN0IHhTY2FsZSA9IGQzLnNjYWxlTGluZWFyKClcbiAgICAgIC5kb21haW4oW19taW4sIF9tYXhdKVxuICAgICAgLnJhbmdlKFswLCB3aWR0aF0pO1xuXG4gICAgdGhpcy5kcmF3X2dyb3VwLnNlbGVjdCgnZy5heGlzLS14JylcbiAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgIC5kdXJhdGlvbigyMjUpXG4gICAgICAuY2FsbChkMy5heGlzQm90dG9tKHhTY2FsZSkpO1xuXG4gICAgY29uc3QgYnViYmxlcyA9IHRoaXMuZHJhd19ncm91cC5zZWxlY3RBbGwoJy5idWJibGUnKVxuICAgICAgLmRhdGEoZGF0YSwgZCA9PiBkLmlkKTtcblxuICAgIGJ1YmJsZXNcbiAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgIC5kdXJhdGlvbigyMjUpXG4gICAgICAuYXR0cnMoKGQpID0+IHtcbiAgICAgICAgbGV0IHhfdmFsdWUgPSB4U2NhbGUoZFtyYXRpb190b191c2VdKTtcbiAgICAgICAgaWYgKHhfdmFsdWUgPiB3aWR0aCkgeF92YWx1ZSA9IHdpZHRoICsgMjAwO1xuICAgICAgICBlbHNlIGlmICh4X3ZhbHVlIDwgMCkgeF92YWx1ZSA9IC0yMDA7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgY3g6IHhfdmFsdWUsXG4gICAgICAgICAgY3k6IGhlaWdodCAvIDIsXG4gICAgICAgICAgcjogcHJvcF9zaXplci5zY2FsZShkW3N0b2NrX3RvX3VzZV0pLFxuICAgICAgICB9O1xuICAgICAgfSlcbiAgICAgIC5zdHlsZXMoZCA9PiAoe1xuICAgICAgICBmaWxsOiBhcHAuY29sb3JzW2QuaWRdIHx8IGNvbG9yX2NvdW50cmllcyxcbiAgICAgICAgJ2ZpbGwtb3BhY2l0eSc6IDAuNyxcbiAgICAgIH0pKTtcblxuICAgIGJ1YmJsZXNcbiAgICAgIC5lbnRlcigpXG4gICAgICAuaW5zZXJ0KCdjaXJjbGUnKVxuICAgICAgLnN0eWxlcyhkID0+ICh7XG4gICAgICAgIGZpbGw6IGFwcC5jb2xvcnNbZC5pZF0gfHwgY29sb3JfY291bnRyaWVzLFxuICAgICAgICAnZmlsbC1vcGFjaXR5JzogMC43LFxuICAgICAgfSkpXG4gICAgICAudHJhbnNpdGlvbigpXG4gICAgICAuZHVyYXRpb24oMjI1KVxuICAgICAgLmF0dHJzKChkKSA9PiB7XG4gICAgICAgIGxldCB4X3ZhbHVlID0geFNjYWxlKGRbcmF0aW9fdG9fdXNlXSk7XG4gICAgICAgIGlmICh4X3ZhbHVlID4gd2lkdGgpIHhfdmFsdWUgPSB3aWR0aCArIDIwMDtcbiAgICAgICAgZWxzZSBpZiAoeF92YWx1ZSA8IDApIHhfdmFsdWUgPSAtMjAwO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGNsYXNzOiAnYnViYmxlJyxcbiAgICAgICAgICBjeDogeF92YWx1ZSxcbiAgICAgICAgICBjeTogaGVpZ2h0IC8gMixcbiAgICAgICAgICByOiBwcm9wX3NpemVyLnNjYWxlKGRbc3RvY2tfdG9fdXNlXSksXG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgIGJ1YmJsZXMuZXhpdCgpLnRyYW5zaXRpb24oKS5kdXJhdGlvbigyMjUpLnJlbW92ZSgpO1xuXG4gICAgdGhpcy5kcmF3X2dyb3VwLnNlbGVjdEFsbCgnLmJ1YmJsZScpXG4gICAgICAub24oJ21vdXNlb3ZlcicsICgpID0+IHtcbiAgICAgICAgc3ZnX2Jhci5zZWxlY3QoJy50b29sdGlwJykuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTtcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlb3V0JywgKCkgPT4ge1xuICAgICAgICBzdmdfYmFyLnNlbGVjdCgnLnRvb2x0aXAnKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICBjb25zdCB0b29sdGlwID0gc3ZnX2Jhci5zZWxlY3QoJy50b29sdGlwJyk7XG4gICAgICAgIGNvbnN0IF9yYXRpb190b191c2UgPSBzZWxmLnJhdGlvX3RvX3VzZTtcbiAgICAgICAgY29uc3QgX3N0b2NrX3RvX3VzZSA9IHNlbGYuc3RvY2tfdG9fdXNlO1xuICAgICAgICB0b29sdGlwXG4gICAgICAgICAgLnNlbGVjdCgndGV4dC5pZF9mZWF0dXJlJylcbiAgICAgICAgICAudGV4dChgJHtkLmlkfWApO1xuICAgICAgICB0b29sdGlwLnNlbGVjdCgndGV4dC52YWx1ZV9mZWF0dXJlMScpXG4gICAgICAgICAgLnRleHQoYFJhdGlvOiAke01hdGgucm91bmQoZFtfcmF0aW9fdG9fdXNlXSAqIDEwKSAvIDEwfWApO1xuICAgICAgICB0b29sdGlwLnNlbGVjdCgndGV4dC52YWx1ZV9mZWF0dXJlMicpXG4gICAgICAgICAgLnRleHQoYFN0b2NrOiAke01hdGgucm91bmQoZFtfc3RvY2tfdG9fdXNlXSAqIDEwKSAvIDEwfWApO1xuICAgICAgICB0b29sdGlwXG4gICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHtbZDMubW91c2UodGhpcylbMF0gLSA1LCBkMy5tb3VzZSh0aGlzKVsxXSAtIDQ1XX0pYCk7XG4gICAgICB9KTtcbiAgfVxuICB1cGRhdGVDb21wbGV0dWRlKCkge1xuICAgIHRoaXMuY29tcGxldHVkZV92YWx1ZSA9IGNhbGNQb3BDb21wbGV0dWRlU3Vic2V0KGFwcCwgW3RoaXMucmF0aW9fdG9fdXNlXSk7XG5cbiAgICB0aGlzLmNvbXBsZXR1ZGVcbiAgICAgIC50ZXh0KGBDb21wbMOpdHVkZSA6ICR7dGhpcy5jb21wbGV0dWRlX3ZhbHVlfSVgKTtcbiAgfVxuXG4gIHVwZGF0ZU1hcFJlZ2lvKCkge1xuICAgIGlmICghdGhpcy5tYXBfZWxlbSkgcmV0dXJuO1xuICAgIHRoaXMubWFwX2VsZW0udGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuYXR0cignZmlsbCcsIGQgPT4gKHRoaXMuY3VycmVudF9pZHMuaW5kZXhPZihkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dKSA+IC0xXG4gICAgICAgID8gKGFwcC5jb2xvcnNbZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXV0gfHwgY29sb3JfY291bnRyaWVzKVxuICAgICAgICA6IGNvbG9yX2Rpc2FibGVkKSk7XG4gIH1cblxuICBoYW5kbGVfYnJ1c2hfbWFwKGV2ZW50KSB7XG4gICAgaWYgKCFldmVudCB8fCAhZXZlbnQuc2VsZWN0aW9uKSB7XG4gICAgICB0aGlzLmxhc3RfbWFwX3NlbGVjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgW3RvcGxlZnQsIGJvdHRvbXJpZ2h0XSA9IGV2ZW50LnNlbGVjdGlvbjtcbiAgICB0aGlzLmxhc3RfbWFwX3NlbGVjdGlvbiA9IFt0b3BsZWZ0LCBib3R0b21yaWdodF07XG4gICAgY29uc3QgcmVjdCA9IG5ldyBSZWN0KHRvcGxlZnQsIGJvdHRvbXJpZ2h0KTtcbiAgICBjb25zdCByYXRpb190b191c2UgPSB0aGlzLnJhdGlvX3RvX3VzZTtcbiAgICBhcHAuY29sb3JzID0ge307XG4gICAgc2VsZi5oaWdobGlnaHRfc2VsZWN0aW9uID0gW107XG4gICAgc2VsZi5tYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5hdHRyKCdmaWxsJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgY29uc3QgaWQgPSBkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dO1xuICAgICAgICBpZiAoaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pIHtcbiAgICAgICAgICBhcHAuY29sb3JzW2lkXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICAgICAgICByZXR1cm4gY29sb3JfaGlnaGxpZ2h0O1xuICAgICAgICB9IGVsc2UgaWYgKHNlbGYuY3VycmVudF9pZHMuaW5kZXhPZihpZCkgPCAwKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbG9yX2Rpc2FibGVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fcHRzKSB7XG4gICAgICAgICAgdGhpcy5fcHRzID0gc3ZnUGF0aFRvQ29vcmRzKHRoaXMuZ2V0QXR0cmlidXRlKCdkJyksIGFwcC50eXBlX3BhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHB0cyA9IHRoaXMuX3B0cztcbiAgICAgICAgZm9yIChsZXQgaXggPSAwLCBuYl9wdHMgPSBwdHMubGVuZ3RoOyBpeCA8IG5iX3B0czsgaXgrKykge1xuICAgICAgICAgIGlmIChyZWN0LmNvbnRhaW5zKHB0c1tpeF0pKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGQucHJvcGVydGllc1tyYXRpb190b191c2VdO1xuICAgICAgICAgICAgY29uc3QgY29sb3IgPSBjb21wKHZhbHVlLCBzZWxmLm15X3JlZ2lvbl92YWx1ZSwgdGhpcy5zZXJpZV9pbnZlcnNlZCk7XG4gICAgICAgICAgICBhcHAuY29sb3JzW2lkXSA9IGNvbG9yO1xuICAgICAgICAgICAgc2VsZi5oaWdobGlnaHRfc2VsZWN0aW9uLnB1c2goe1xuICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgcmF0aW86IHZhbHVlLFxuICAgICAgICAgICAgICBkaXN0OiBtYXRoX2Ficyh2YWx1ZSAtIHNlbGYubXlfcmVnaW9uX3ZhbHVlKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGNvbG9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sb3JfY291bnRyaWVzO1xuICAgICAgfSk7XG4gICAgdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uLnNvcnQoKGEsIGIpID0+IGEuZGlzdCAtIGIuZGlzdCk7XG4gICAgc2VsZi51cGRhdGUoKTtcbiAgfVxuXG4gIGhhbmRsZUNsaWNrTWFwKGQsIHBhcmVudCkge1xuICAgIGNvbnN0IGlkID0gZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXTtcbiAgICBpZiAodGhpcy5jdXJyZW50X2lkcy5pbmRleE9mKGlkKSA8IDAgfHwgaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pIHJldHVybjtcbiAgICBpZiAoYXBwLmNvbG9yc1tpZF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gUmVtb3ZlIHRoZSBjbGlja2VkIGZlYXR1cmUgZnJvbSB0aGUgY29sb3JlZCBzZWxlY3Rpb24gb24gdGhlIGNoYXJ0OlxuICAgICAgY29uc3QgaWRfdG9fcmVtb3ZlID0gdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uXG4gICAgICAgIC5tYXAoKGZ0LCBpKSA9PiAoZnQuaWQgPT09IGlkID8gaSA6IG51bGwpKS5maWx0ZXIoZnQgPT4gZnQpO1xuICAgICAgdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uLnNwbGljZShpZF90b19yZW1vdmUsIDEpO1xuICAgICAgLy8gQ2hhbmdlIGl0cyBjb2xvciBpbiB0aGUgZ2xvYmFsIGNvbG9ycyBvYmplY3Q6XG4gICAgICBhcHAuY29sb3JzW2lkXSA9IHVuZGVmaW5lZDtcbiAgICAgIC8vIENoYW5nZSB0aGUgY29sb3Igb24gdGhlIG1hcDpcbiAgICAgIGQzLnNlbGVjdChwYXJlbnQpLmF0dHIoJ2ZpbGwnLCBjb2xvcl9jb3VudHJpZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGQucHJvcGVydGllc1t0aGlzLnJhdGlvX3RvX3VzZV07XG4gICAgICBjb25zdCBjb2xvciA9IGNvbXAodmFsdWUsIHRoaXMubXlfcmVnaW9uX3ZhbHVlLCB0aGlzLnNlcmllX2ludmVyc2VkKTtcbiAgICAgIGFwcC5jb2xvcnNbaWRdID0gY29sb3I7XG4gICAgICAvLyBDaGFuZ2UgdGhlIGNvbG9yIG9uIHRoZSBtYXA6XG4gICAgICBkMy5zZWxlY3QocGFyZW50KS5hdHRyKCdmaWxsJywgY29sb3IpO1xuICAgICAgLy8gQWRkIHRoZSBjbGlja2VkIGZlYXR1cmUgb24gdGhlIGNvbG9yZWQgc2VsZWN0aW9uIG9uIHRoZSBjaGFydDpcbiAgICAgIHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbi5wdXNoKHtcbiAgICAgICAgaWQsXG4gICAgICAgIHJhdGlvOiB2YWx1ZSxcbiAgICAgICAgZGlzdDogbWF0aF9hYnModmFsdWUgLSB0aGlzLm15X3JlZ2lvbl92YWx1ZSksXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uLnNvcnQoKGEsIGIpID0+IGEuZGlzdCAtIGIuZGlzdCk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIHVwZGF0ZUNoYW5nZVJlZ2lvbigpIHtcbiAgICBpZiAoYXBwLmN1cnJlbnRfY29uZmlnLmZpbHRlcl9rZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5jaGFuZ2VTdHVkeVpvbmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tYXBfZWxlbS5yZW1vdmVSZWN0QnJ1c2goKTtcbiAgICAgIHRoaXMubWFwX2VsZW0udXBkYXRlTGVnZW5kKCk7XG4gICAgICB0aGlzLm15X3JlZ2lvbl92YWx1ZSA9IHRoaXMuZGF0YS5maWx0ZXIoXG4gICAgICAgIGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbilbMF1bdGhpcy5yYXRpb190b191c2VdO1xuICAgICAgdGhpcy51cGRhdGVUYWJsZVN0YXRzKCk7XG4gICAgICB0aGlzLmFwcGx5U2VsZWN0aW9uKHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbi5sZW5ndGgpO1xuICAgIH1cbiAgfVxuXG4gIGNoYW5nZVN0dWR5Wm9uZSgpIHtcbiAgICB0aGlzLm1hcF9lbGVtLnJlbW92ZVJlY3RCcnVzaCgpO1xuICAgIHRoaXMubWFwX2VsZW0udXBkYXRlTGVnZW5kKCk7XG4gICAgdGhpcy5kYXRhID0gYXBwLmN1cnJlbnRfZGF0YS5maWx0ZXIoZnQgPT4gISFmdFt0aGlzLnJhdGlvX3RvX3VzZV0pLnNsaWNlKClcbiAgICAgIC5zb3J0KChhLCBiKSA9PiBiW3RoaXMuc3RvY2tfdG9fdXNlXSAtIGFbdGhpcy5zdG9ja190b191c2VdKTtcbiAgICB0aGlzLmN1cnJlbnRfaWRzID0gdGhpcy5kYXRhLm1hcChkID0+IGQuaWQpO1xuICAgIHRoaXMubXlfcmVnaW9uX3ZhbHVlID0gdGhpcy5kYXRhLmZpbHRlcihcbiAgICAgIGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbilbMF1bdGhpcy5yYXRpb190b191c2VdO1xuICAgIGNvbnN0IHRlbXAgPSB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24ubGVuZ3RoO1xuICAgIHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbiA9IFtdO1xuICAgIHRoaXMuYXBwbHlTZWxlY3Rpb24odGVtcCk7XG4gIH1cblxuICBjaGFuZ2VWYXJpYWJsZShjb2RlX3ZhcmlhYmxlKSB7XG4gICAgdGhpcy5yYXRpb190b191c2UgPSBjb2RlX3ZhcmlhYmxlO1xuICAgIHRoaXMuc3RvY2tfdG9fdXNlID0gdmFyaWFibGVzX2luZm8uZmlsdGVyKGQgPT4gZC5yYXRpbyA9PT0gY29kZV92YXJpYWJsZSlbMF0ubnVtO1xuICB9XG5cblxuICBhZGRWYXJpYWJsZShjb2RlX3ZhcmlhYmxlLCBuYW1lX3ZhcmlhYmxlKSB7XG4gICAgLy8gQWRkIHRoZSB2YXJpYWJsZSB0byB0aGUgaW5wdXQgZWxlbWVudCBhbGxvd2luZyB0byBjaG9vc2UgdmFyaWFibGVzOlxuICAgIHRoaXMuc2VsZWNfdmFyLmFwcGVuZCgnb3B0aW9uJylcbiAgICAgIC5hdHRyKCd2YWx1ZScsIGNvZGVfdmFyaWFibGUpXG4gICAgICAudGV4dChuYW1lX3ZhcmlhYmxlKTtcblxuICAgIC8vIEFuZCB1c2UgaXQgaW1tZWRpYXRseTpcbiAgICB0aGlzLnNlbGVjX3Zhci5ub2RlKCkudmFsdWUgPSBjb2RlX3ZhcmlhYmxlO1xuICAgIHRoaXMuc2VsZWNfdmFyLmRpc3BhdGNoKCdjaGFuZ2UnKTtcbiAgfVxuXG4gIHJlbW92ZVZhcmlhYmxlKGNvZGVfdmFyaWFibGUpIHtcbiAgICAvLyBBZGQgdGhlIHZhcmlhYmxlIHRvIHRoZSBpbnB1dCBlbGVtZW50IGFsbG93aW5nIHRvIGNob29zZSB2YXJpYWJsZXM6XG4gICAgdGhpcy5zZWxlY192YXIuc2VsZWN0KGBvcHRpb25bdmFsdWU9JHtjb2RlX3ZhcmlhYmxlfV1gKS5yZW1vdmUoKTtcbiAgICBpZiAodGhpcy5yYXRpb190b191c2UgPT09IGNvZGVfdmFyaWFibGUpIHtcbiAgICAgIHRoaXMuc2VsZWNfdmFyLm5vZGUoKS52YWx1ZSA9IHRoaXMuc2VsZWNfdmFyLnNlbGVjdCgnb3B0aW9uJykubm9kZSgpLnZhbHVlO1xuICAgICAgdGhpcy5zZWxlY192YXIuZGlzcGF0Y2goJ2NoYW5nZScpO1xuICAgIH1cbiAgfVxuXG4gIGJpbmRNZW51KCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IG1lbnUgPSBkMy5zZWxlY3QoJyNtZW51X3NlbGVjdGlvbicpO1xuICAgIGNvbnN0IGFwcGx5Y2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgc2VsZi5tYXBfZWxlbS5yZW1vdmVSZWN0QnJ1c2goKTtcbiAgICAgIGxldCB2YWx1ZSA9ICt0aGlzLnZhbHVlO1xuICAgICAgaWYgKCEodmFsdWUgPiAtMSkpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IDU7XG4gICAgICAgIHZhbHVlID0gNTtcbiAgICAgIH1cbiAgICAgIHNlbGYuYXBwbHlTZWxlY3Rpb24odmFsdWUpO1xuICAgIH07XG4gICAgbWVudS5zZWxlY3QoJy5uYl9zZWxlY3QnKVxuICAgICAgLm9uKCdjaGFuZ2UnLCBhcHBseWNoYW5nZSk7XG4gICAgbWVudS5zZWxlY3QoJy5uYl9zZWxlY3QnKVxuICAgICAgLm9uKCd3aGVlbCcsIGFwcGx5Y2hhbmdlKTtcbiAgICBtZW51LnNlbGVjdCgnLm5iX3NlbGVjdCcpXG4gICAgICAub24oJ2tleXVwJywgYXBwbHljaGFuZ2UpO1xuICB9XG5cbiAgcmVtb3ZlKCkge1xuICAgIHRoaXMubWFwX2VsZW0udW5iaW5kQnJ1c2goKTtcbiAgICB0aGlzLm1hcF9lbGVtID0gbnVsbDtcbiAgICB0aGlzLnRhYmxlX3N0YXRzLnJlbW92ZSgpO1xuICAgIHRoaXMudGFibGVfc3RhdHMgPSBudWxsO1xuICAgIHRoaXMuc2VsZWNfdmFyLnJlbW92ZSgpO1xuICAgIHN2Z19iYXIuaHRtbCgnJyk7XG4gIH1cblxuICBiaW5kTWFwKG1hcF9lbGVtKSB7XG4gICAgdGhpcy5tYXBfZWxlbSA9IG1hcF9lbGVtO1xuICAgIHRoaXMubWFwX2VsZW0ucmVzZXRDb2xvcnModGhpcy5jdXJyZW50X2lkcyk7XG4gICAgZDMuc2VsZWN0KCcjbWVudV9zZWxlY3Rpb24nKS5zZWxlY3QoJy5uYl9zZWxlY3QnKS5kaXNwYXRjaCgnY2hhbmdlJyk7XG4gIH1cblxuICB1cGRhdGVUYWJsZVN0YXRzKCkge1xuICAgIHRoaXMudGFibGVfc3RhdHMucmVtb3ZlQWxsKCk7XG4gICAgdGhpcy50YWJsZV9zdGF0cy5hZGRGZWF0dXJlKHRoaXMucHJlcGFyZVRhYmxlU3RhdCgpKTtcbiAgfVxuXG4gIHByZXBhcmVUYWJsZVN0YXQoKSB7XG4gICAgY29uc3QgdmFsdWVzID0gdGhpcy5kYXRhLm1hcChkID0+IGRbdGhpcy5yYXRpb190b191c2VdKTtcbiAgICByZXR1cm4ge1xuICAgICAgTWluOiBkMy5taW4odmFsdWVzKSxcbiAgICAgIE1heDogZDMubWF4KHZhbHVlcyksXG4gICAgICBNb3llbm5lOiBkMy5tZWFuKHZhbHVlcyksXG4gICAgICBpZDogdGhpcy5yYXRpb190b191c2UsXG4gICAgICBWYXJpYWJsZTogdGhpcy5yYXRpb190b191c2UsXG4gICAgICAnTWEgcsOpZ2lvbic6IHRoaXMubXlfcmVnaW9uX3ZhbHVlLFxuICAgIH07XG4gIH1cblxuICBtYWtlVGFibGVTdGF0KCkge1xuICAgIGNvbnN0IGZlYXR1cmUgPSB0aGlzLnByZXBhcmVUYWJsZVN0YXQoKTtcbiAgICB0aGlzLnRhYmxlX3N0YXRzID0gbmV3IFRhYmxlUmVzdW1lU3RhdChbZmVhdHVyZV0pO1xuICB9XG5cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIGNvbnRleHRNZW51IHtcbiAgY29uc3RydWN0b3IoaXRlbXMpIHtcbiAgICBpZiAoaXRlbXMpIHtcbiAgICAgIHRoaXMuc2V0SXRlbXMoaXRlbXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLml0ZW1zID0gW107XG4gICAgfVxuICB9XG5cbiAgYWRkSXRlbShpdGVtKSB7XG4gICAgdGhpcy5pdGVtcy5wdXNoKHtcbiAgICAgIG5hbWU6IGl0ZW0ubmFtZSxcbiAgICAgIGFjdGlvbjogaXRlbS5hY3Rpb24sXG4gICAgfSk7XG4gIH1cblxuICByZW1vdmVJdGVtKG5hbWUpIHtcbiAgICBmb3IgKGxldCBpID0gdGhpcy5pdGVtcy5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7XG4gICAgICBpZiAodGhpcy5pdGVtc1tpXS5uYW1lID09PSBuYW1lKSB7XG4gICAgICAgIHRoaXMuaXRlbXMuc3BsaWNlKGksIDEpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzZXRJdGVtcyhpdGVtcykge1xuICAgIHRoaXMuaXRlbXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMCwgbmJfaXRlbXMgPSBpdGVtcy5sZW5ndGg7IGkgPCBuYl9pdGVtczsgaSsrKSB7XG4gICAgICBpZiAoaXRlbXNbaV0ubmFtZSAmJiBpdGVtc1tpXS5hY3Rpb24pIHtcbiAgICAgICAgdGhpcy5hZGRJdGVtKGl0ZW1zW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzaG93TWVudShldmVudCwgcGFyZW50LCBpdGVtcywgcG9zaXRpb24pIHtcbiAgICBpZiAoZXZlbnQucHJldmVudERlZmF1bHQpIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKGV2ZW50LnN0b3BQcm9wYWdhdGlvbikgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgaWYgKHRoaXMuRE9Nb2JqKSB7XG4gICAgICB0aGlzLmhpZGVNZW51KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpdGVtcykge1xuICAgICAgdGhpcy5zZXRJdGVtcyhpdGVtcyk7XG4gICAgfVxuXG4gICAgdGhpcy5pbml0TWVudShwYXJlbnQpO1xuICAgIGlmICghcG9zaXRpb24pIHtcbiAgICAgIHRoaXMuRE9Nb2JqLnN0eWxlLnRvcCA9IGAke2V2ZW50LmNsaWVudFkgKyBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcH1weGA7XG4gICAgICB0aGlzLkRPTW9iai5zdHlsZS5sZWZ0ID0gYCR7ZXZlbnQuY2xpZW50WH1weGA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuRE9Nb2JqLnN0eWxlLnRvcCA9IGAke3Bvc2l0aW9uWzFdfXB4YDtcbiAgICAgIHRoaXMuRE9Nb2JqLnN0eWxlLmxlZnQgPSBgJHtwb3NpdGlvblswXX1weGA7XG4gICAgfVxuICAgIHRoaXMuZGlzcGxheWVkID0gdHJ1ZTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5oaWRlTWVudSgpKTtcbiAgICB9LCAxNTApO1xuICB9XG5cbiAgaGlkZU1lbnUoKSB7XG4gICAgaWYgKHRoaXMuRE9Nb2JqICYmIHRoaXMuRE9Nb2JqLnBhcmVudEVsZW1lbnQgJiYgdGhpcy5ET01vYmoucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCkge1xuICAgICAgdGhpcy5ET01vYmoucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLkRPTW9iaik7XG4gICAgICB0aGlzLkRPTW9iaiA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMuZGlzcGxheWVkID0gZmFsc2U7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhpZGVNZW51KTtcbiAgfVxuXG4gIGluaXRNZW51KHBhcmVudCkge1xuICAgIGlmICh0aGlzLkRPTW9iaiAmJiB0aGlzLkRPTW9iai5wYXJlbnRFbGVtZW50ICYmIHRoaXMuRE9Nb2JqLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQpIHtcbiAgICAgIHRoaXMuRE9Nb2JqLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5ET01vYmopO1xuICAgICAgdGhpcy5ET01vYmogPSBudWxsO1xuICAgIH1cbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBtZW51ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3QgbGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XG4gICAgbWVudS5jbGFzc05hbWUgPSAnY29udGV4dC1tZW51JztcbiAgICBtZW51LmFwcGVuZENoaWxkKGxpc3QpO1xuICAgIGZvciAobGV0IGkgPSAwLCBuYl9pdGVtID0gdGhpcy5pdGVtcy5sZW5ndGg7IGkgPCBuYl9pdGVtOyBpKyspIHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnLCBpKTtcbiAgICAgIGl0ZW0uaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0tbmFtZVwiPiR7dGhpcy5pdGVtc1tpXS5uYW1lfTwvc3Bhbj5gO1xuICAgICAgbGlzdC5hcHBlbmRDaGlsZChpdGVtKTtcbiAgICAgIGl0ZW0ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgaXggPSB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcpO1xuICAgICAgICBzZWxmLml0ZW1zW2l4XS5hY3Rpb24oKTtcbiAgICAgIH07XG4gICAgfVxuICAgIHRoaXMuRE9Nb2JqID0gbWVudTtcbiAgICBwYXJlbnQuYXBwZW5kQ2hpbGQobWVudSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IGNvbXAsIG1hdGhfcm91bmQsIG1hdGhfYWJzLCBSZWN0LCBjb21wMiwgcHJlcGFyZVRvb2x0aXAsIHN2Z1BhdGhUb0Nvb3JkcywgX2dldFBSLCBjb21wdXRlUGVyY2VudGlsZVJhbmsgfSBmcm9tICcuLy4uL2hlbHBlcnMnO1xuaW1wb3J0IHsgY29sb3JfZGlzYWJsZWQsIGNvbG9yX2NvdW50cmllcywgY29sb3JfaGlnaGxpZ2h0IH0gZnJvbSAnLi8uLi9vcHRpb25zJztcbmltcG9ydCB7IGNhbGNQb3BDb21wbGV0dWRlU3Vic2V0IH0gZnJvbSAnLi8uLi9wcmVwYXJlX2RhdGEnO1xuaW1wb3J0IHsgc3ZnX21hcCB9IGZyb20gJy4vLi4vbWFwJztcbmltcG9ydCB7IGFwcCwgdmFyaWFibGVzX2luZm8sIHJlc2V0Q29sb3JzIH0gZnJvbSAnLi8uLi8uLi9tYWluJztcbmltcG9ydCBDb250ZXh0TWVudSBmcm9tICcuLy4uL2NvbnRleHRNZW51JztcbmltcG9ydCBUYWJsZVJlc3VtZVN0YXQgZnJvbSAnLi8uLi90YWJsZVJlc3VtZVN0YXQnO1xuXG5jb25zdCBzdmdfYmFyID0gZDMuc2VsZWN0KCcjc3ZnX2JhcicpO1xuY29uc3QgbWFyZ2luID0geyB0b3A6IDIwLCByaWdodDogMjAsIGJvdHRvbTogNDAsIGxlZnQ6IDQwIH07XG5cbmNvbnN0IHdpZHRoID0gK3N2Z19iYXIuYXR0cignd2lkdGgnKSAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0LFxuICBoZWlnaHQgPSArc3ZnX2Jhci5hdHRyKCdoZWlnaHQnKSAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tO1xuXG5cbi8qKiBDbGFzcyByZXByZXNlbnRpbmcgYSBzY2F0dGVycGxvdCAqL1xuZXhwb3J0IGNsYXNzIFNjYXR0ZXJQbG90MiB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSB0aGUgc2NhdHRlcnBsb3Qgb24gdGhlIGBzdmdfYmFyYCBzdmcgZWxlbWVudCBwcmV2aW91c2x5IGRlZmluZWRcbiAgICogQHBhcmFtIHtBcnJheX0gcmVmX2RhdGEgLSBBIHJlZmVyZW5jZSB0byB0aGUgc3Vic2V0IG9mIHRoZSBkYXRhc2V0IHRvIGJlIHVzZWRcbiAgICogdG8gY3JlYXRlIHRoZSBzY2F0dGVycGxvdCAoc2hvdWxkIGNvbnRhaW4gYXQgbGVhc3QgdHdvIGZpZWxkIGZsYWdnZWQgYXMgcmF0aW9cbiAgICogaW4gdGhlIGBhcHAuY3VycmVudF9jb25maWcucmF0aW9gIE9iamVjdC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHJlZl9kYXRhKSB7XG4gICAgdGhpcy5icnVzaGVkID0gKCkgPT4ge1xuICAgICAgaWYgKGQzLmV2ZW50ICYmICFkMy5ldmVudC5zZWxlY3Rpb24pIHtcbiAgICAgICAgaWYgKGQzLmV2ZW50LnR5cGUgPT09ICdlbmQnICYmIGQzLmV2ZW50LnNvdXJjZUV2ZW50LnR5cGUgPT09ICdtb3VzZXVwJykge1xuICAgICAgICAgIHRoaXMubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgYXBwLmNvbG9ycyA9IHt9O1xuICAgICAgICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmVzZXRDb2xvcnMoKTtcbiAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgY29uc3QgW3RvcGxlZnQsIGJvdHRvbXJpZ2h0XSA9IGQzLmV2ZW50LnNlbGVjdGlvbjtcbiAgICAgIGNvbnN0IHJhbmdlX3ggPSBbXG4gICAgICAgIHRoaXMueC5pbnZlcnQodG9wbGVmdFswXSksXG4gICAgICAgIHRoaXMueC5pbnZlcnQoYm90dG9tcmlnaHRbMF0pLFxuICAgICAgXTtcbiAgICAgIGNvbnN0IHJhbmdlX3kgPSBbXG4gICAgICAgIHRoaXMueS5pbnZlcnQoYm90dG9tcmlnaHRbMV0pLFxuICAgICAgICB0aGlzLnkuaW52ZXJ0KHRvcGxlZnRbMV0pLFxuICAgICAgXTtcbiAgICAgIGNvbnN0IHQxID0gdGhpcy5yYW5rX3ZhcmlhYmxlMTtcbiAgICAgIGNvbnN0IHQyID0gdGhpcy5yYW5rX3ZhcmlhYmxlMjtcbiAgICAgIHRoaXMuZGF0YVxuICAgICAgICAuZmlsdGVyKGZ0ID0+IGZ0W3QxXSA+IHJhbmdlX3hbMF1cbiAgICAgICAgICAmJiBmdFt0MV0gPCByYW5nZV94WzFdXG4gICAgICAgICAgJiYgZnRbdDJdID4gcmFuZ2VfeVswXVxuICAgICAgICAgICYmIGZ0W3QyXSA8IHJhbmdlX3lbMV0pXG4gICAgICAgIC5mb3JFYWNoKGZ0ID0+IHtcbiAgICAgICAgICBhcHAuY29sb3JzW2Z0LmlkXSA9IGNvbXAyKFxuICAgICAgICAgICAgZnRbdGhpcy52YXJpYWJsZTFdLCBmdFt0aGlzLnZhcmlhYmxlMl0sXG4gICAgICAgICAgICBzZWxmLnJlZl92YWx1ZTEsIHNlbGYucmVmX3ZhbHVlMixcbiAgICAgICAgICAgIHNlbGYueEludmVyc2VkLCBzZWxmLnlJbnZlcnNlZCk7XG4gICAgICAgIH0pO1xuICAgICAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgICB0aGlzLm1hcF9lbGVtLnJlbW92ZVJlY3RCcnVzaCgpO1xuICAgIH07XG4gICAgYXBwLmN1cnJlbnRfY29uZmlnLm5iX3ZhciA9IDI7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy52YXJpYWJsZTEgPSBhcHAuY3VycmVudF9jb25maWcucmF0aW9bMF07XG4gICAgdGhpcy52YXJpYWJsZTIgPSBhcHAuY3VycmVudF9jb25maWcucmF0aW9bMV07XG4gICAgdGhpcy5yYW5rX3ZhcmlhYmxlMSA9IGBwcl8ke3RoaXMudmFyaWFibGUxfWA7XG4gICAgdGhpcy5yYW5rX3ZhcmlhYmxlMiA9IGBwcl8ke3RoaXMudmFyaWFibGUyfWA7XG4gICAgdGhpcy5wcmV0dHlfbmFtZTEgPSBhcHAuY3VycmVudF9jb25maWcucmF0aW9fcHJldHR5X25hbWVbMF07XG4gICAgdGhpcy5wcmV0dHlfbmFtZTIgPSBhcHAuY3VycmVudF9jb25maWcucmF0aW9fcHJldHR5X25hbWVbMV07XG4gICAgdGhpcy5kYXRhID0gcmVmX2RhdGEuZmlsdGVyKGZ0ID0+ICEhZnRbdGhpcy52YXJpYWJsZTFdICYmICEhZnRbdGhpcy52YXJpYWJsZTJdKVxuICAgICAgLm1hcCgoZCkgPT4ge1xuICAgICAgICBjb25zdCByZXMgPSB7IGlkOiBkLmlkIH07XG4gICAgICAgIHJlc1t0aGlzLnZhcmlhYmxlMV0gPSBkW3RoaXMudmFyaWFibGUxXTtcbiAgICAgICAgcmVzW3RoaXMudmFyaWFibGUyXSA9IGRbdGhpcy52YXJpYWJsZTJdO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfSk7XG4gICAgdGhpcy5jdXJyZW50X2lkcyA9IHRoaXMuZGF0YS5tYXAoZCA9PiBkLmlkKTtcbiAgICByZXNldENvbG9ycyh0aGlzLmN1cnJlbnRfaWRzKTtcbiAgICB0aGlzLm5iRnQgPSB0aGlzLmRhdGEubGVuZ3RoO1xuICAgIGNvbXB1dGVQZXJjZW50aWxlUmFuayh0aGlzLmRhdGEsIHRoaXMudmFyaWFibGUxLCB0aGlzLnJhbmtfdmFyaWFibGUxKTtcbiAgICBjb21wdXRlUGVyY2VudGlsZVJhbmsodGhpcy5kYXRhLCB0aGlzLnZhcmlhYmxlMiwgdGhpcy5yYW5rX3ZhcmlhYmxlMik7XG5cbiAgICB0aGlzLnggPSBkMy5zY2FsZUxpbmVhcigpXG4gICAgICAucmFuZ2UoWzAsIHdpZHRoXSlcbiAgICAgIC5uaWNlKCk7XG4gICAgdGhpcy55ID0gZDMuc2NhbGVMaW5lYXIoKVxuICAgICAgLnJhbmdlKFtoZWlnaHQsIDBdKVxuICAgICAgLm5pY2UoKTtcbiAgICB0aGlzLnhBeGlzID0gZDMuYXhpc0JvdHRvbSh0aGlzLngpLnRpY2tzKDEyKTtcbiAgICB0aGlzLnlBeGlzID0gZDMuYXhpc0xlZnQodGhpcy55KS50aWNrcygxMiAqIGhlaWdodCAvIHdpZHRoKTtcbiAgICB0aGlzLnhBeGlzMiA9IGQzLmF4aXNCb3R0b20odGhpcy54KS50aWNrcygxMik7XG4gICAgdGhpcy55QXhpczIgPSBkMy5heGlzTGVmdCh0aGlzLnkpLnRpY2tzKDEyICogaGVpZ2h0IC8gd2lkdGgpO1xuXG4gICAgdGhpcy5icnVzaCA9IGQzLmJydXNoKClcbiAgICAgIC5leHRlbnQoW1swLCAwXSwgW3dpZHRoLCBoZWlnaHRdXSlcbiAgICAgIC5vbihcImJydXNoIGVuZFwiLCB0aGlzLmJydXNoZWQpO1xuXG4gICAgdGhpcy54SW52ZXJzZWQgPSBmYWxzZTtcbiAgICB0aGlzLnlJbnZlcnNlZCA9IGZhbHNlO1xuICAgIHRoaXMucmVmX3ZhbHVlMSA9IHRoaXMuZGF0YS5maW5kKFxuICAgICAgZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVt0aGlzLnZhcmlhYmxlMV07XG4gICAgdGhpcy5yZWZfdmFsdWUyID0gdGhpcy5kYXRhLmZpbmQoXG4gICAgICBkID0+IGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pW3RoaXMudmFyaWFibGUyXTtcblxuICAgIHRoaXMucGxvdCA9IHN2Z19iYXIuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7W21hcmdpbi5sZWZ0LCBtYXJnaW4udG9wXX0pYCk7XG5cbiAgICB0aGlzLnBsb3QuYXBwZW5kKCdkZWZzJylcbiAgICAgIC5hcHBlbmQoJ3N2ZzpjbGlwUGF0aCcpXG4gICAgICAuYXR0cignaWQnLCAnY2xpcCcpXG4gICAgICAuYXBwZW5kKCdzdmc6cmVjdCcpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0LFxuICAgICAgICB4OiAwLFxuICAgICAgICB5OiAwLFxuICAgICAgfSk7XG5cbiAgICB0aGlzLnNjYXR0ZXIgPSB0aGlzLnBsb3QuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdpZCcsICdzY2F0dGVycGxvdCcpXG4gICAgICAuYXR0cignY2xpcC1wYXRoJywgJ3VybCgjY2xpcCknKTtcblxuICAgIHRoaXMueC5kb21haW4oZDMuZXh0ZW50KHRoaXMuZGF0YSwgZCA9PiBkW3RoaXMucmFua192YXJpYWJsZTFdKSkubmljZSgpO1xuICAgIHRoaXMueS5kb21haW4oZDMuZXh0ZW50KHRoaXMuZGF0YSwgZCA9PiBkW3RoaXMucmFua192YXJpYWJsZTJdKSkubmljZSgpO1xuICAgIHRoaXMubWVhbl92YXJpYWJsZTEgPSBfZ2V0UFIoXG4gICAgICBkMy5tZWFuKHRoaXMuZGF0YS5tYXAoZCA9PiBkW3RoaXMudmFyaWFibGUxXSkpLCB0aGlzLmRhdGEubWFwKGQgPT4gZFt0aGlzLnZhcmlhYmxlMV0pKTtcbiAgICB0aGlzLm1lYW5fdmFyaWFibGUyID0gX2dldFBSKFxuICAgICAgZDMubWVhbih0aGlzLmRhdGEubWFwKGQgPT4gZFt0aGlzLnZhcmlhYmxlMl0pKSwgdGhpcy5kYXRhLm1hcChkID0+IGRbdGhpcy52YXJpYWJsZTJdKSk7XG5cbiAgICB0aGlzLm1ha2VHcmlkKCk7XG5cbiAgICBjb25zdCBncm91cGVfbGluZV9tZWFuID0gdGhpcy5wbG90LmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignY2xpcC1wYXRoJywgJ3VybCgjY2xpcCknKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ21lYW4nKTtcbiAgICBncm91cGVfbGluZV9tZWFuLmFwcGVuZCgnbGluZScpXG4gICAgICAuYXR0cignY2xpcC1wYXRoJywgJ3VybCgjY2xpcCknKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgaWQ6ICdtZWFuX3gnLFxuICAgICAgICB4MTogdGhpcy54KHRoaXMubWVhbl92YXJpYWJsZTEpLFxuICAgICAgICB4MjogdGhpcy54KHRoaXMubWVhbl92YXJpYWJsZTEpLFxuICAgICAgICB5MTogMCxcbiAgICAgICAgeTI6IHdpZHRoLFxuICAgICAgICAnc3Ryb2tlLWRhc2hhcnJheSc6ICcxMCwgNScsXG4gICAgICAgICdzdHJva2Utd2lkdGgnOiAnMnB4JyxcbiAgICAgIH0pXG4gICAgICAuc3R5bGUoJ3N0cm9rZScsICdyZWQnKTtcbiAgICBncm91cGVfbGluZV9tZWFuLmFwcGVuZCgnbGluZScpXG4gICAgICAuc3R5bGUoJ3N0cm9rZScsICdyZWQnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgaWQ6ICdtZWFuX3knLFxuICAgICAgICB4MTogMCxcbiAgICAgICAgeDI6IHdpZHRoLFxuICAgICAgICB5MTogdGhpcy55KHRoaXMubWVhbl92YXJpYWJsZTIpLFxuICAgICAgICB5MjogdGhpcy55KHRoaXMubWVhbl92YXJpYWJsZTIpLFxuICAgICAgICAnY2xpcC1wYXRoJzogJ3VybCgjY2xpcCknLFxuICAgICAgICAnc3Ryb2tlLWRhc2hhcnJheSc6ICcxMCwgNScsXG4gICAgICAgICdzdHJva2Utd2lkdGgnOiAnMnB4JyxcbiAgICAgIH0pO1xuXG4gICAgdGhpcy5wbG90LmFwcGVuZCgnZycpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICBjbGFzczogJ3ggYXhpcycsIGlkOiAnYXhpcy0teCcsIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgwLCAke2hlaWdodH0pYCxcbiAgICAgIH0pXG4gICAgICAuY2FsbCh0aGlzLnhBeGlzKTtcblxuICAgIHRoaXMucGxvdC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHsgY2xhc3M6ICd5IGF4aXMnLCBpZDogJ2F4aXMtLXknLCBvcGFjaXR5OiAwLjkgfSlcbiAgICAgIC5jYWxsKHRoaXMueUF4aXMpO1xuXG4gICAgdGhpcy5wcmVwYXJlVGl0bGVBeGlzKCk7XG5cbiAgICBzdmdfYmFyLmFwcGVuZCgnaW1hZ2UnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgeDogbWFyZ2luLmxlZnQgKyB3aWR0aCAvIDIgLSAyMCAtIHN2Z19iYXIuc2VsZWN0KCcjdGl0bGUtYXhpcy14Jykubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoIC8gMixcbiAgICAgICAgeTogbWFyZ2luLnRvcCArIGhlaWdodCArIG1hcmdpbi5ib3R0b20gLyAyIC0gMi41LFxuICAgICAgICB3aWR0aDogMTUsXG4gICAgICAgIGhlaWdodDogMTUsXG4gICAgICAgICd4bGluazpocmVmJzogJ2ltZy9yZXZlcnNlX3BsdXMucG5nJyxcbiAgICAgICAgaWQ6ICdpbWdfcmV2ZXJzZV94JyxcbiAgICAgIH0pXG4gICAgICAub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLnhJbnZlcnNlZCA9ICF0aGlzLnhJbnZlcnNlZDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm5iRnQ7IGkrKykge1xuICAgICAgICAgIHNlbGYuZGF0YVtpXVtzZWxmLnJhbmtfdmFyaWFibGUxXSA9IDEwMCAtIHNlbGYuZGF0YVtpXVtzZWxmLnJhbmtfdmFyaWFibGUxXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sYXN0X21hcF9zZWxlY3Rpb24pIHtcbiAgICAgICAgICB0aGlzLm1hcF9lbGVtLmNhbGxCcnVzaCh0aGlzLmxhc3RfbWFwX3NlbGVjdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICBzdmdfYmFyLmFwcGVuZCgnaW1hZ2UnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgeDogbWFyZ2luLmxlZnQgLyAyIC0gMjAsXG4gICAgICAgIHk6IG1hcmdpbi50b3AgKyAoaGVpZ2h0IC8gMikgKyBzdmdfYmFyLnNlbGVjdCgnI3RpdGxlLWF4aXMteScpLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgLyAyICsgNSxcbiAgICAgICAgd2lkdGg6IDE1LFxuICAgICAgICBoZWlnaHQ6IDE1LFxuICAgICAgICAneGxpbms6aHJlZic6ICdpbWcvcmV2ZXJzZV9wbHVzLnBuZycsXG4gICAgICAgIGlkOiAnaW1nX3JldmVyc2VfeScsXG4gICAgICB9KVxuICAgICAgLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGhpcy55SW52ZXJzZWQgPSAhdGhpcy55SW52ZXJzZWQ7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uYkZ0OyBpKyspIHtcbiAgICAgICAgICB0aGlzLmRhdGFbaV1bdGhpcy5yYW5rX3ZhcmlhYmxlMl0gPSAxMDAgLSB0aGlzLmRhdGFbaV1bdGhpcy5yYW5rX3ZhcmlhYmxlMl07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubGFzdF9tYXBfc2VsZWN0aW9uKSB7XG4gICAgICAgICAgdGhpcy5tYXBfZWxlbS5jYWxsQnJ1c2godGhpcy5sYXN0X21hcF9zZWxlY3Rpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgLy8gUHJlcGFyZSB0aGUgdG9vbHRpcCBkaXNwbGF5ZWQgb24gbW91c2VvdmVyOlxuICAgIHByZXBhcmVUb29sdGlwKHN2Z19iYXIpO1xuXG4gICAgLy8gQ29tcHV0ZSB0aGUgXCJjb21wbMOpdHVkZVwiIHZhbHVlIGZvciB0aGlzIHJhdGlvOlxuICAgIHRoaXMuY29tcGxldHVkZV92YWx1ZSA9IGNhbGNQb3BDb21wbGV0dWRlU3Vic2V0KGFwcCwgW3RoaXMudmFyaWFibGUxLCB0aGlzLnZhcmlhYmxlMl0pO1xuXG4gICAgLy8gQ3JlYXRlIHRoZSBcImNvbXBsw6l0dWRlXCIgdGV4dDpcbiAgICB0aGlzLmNvbXBsZXR1ZGUgPSBzdmdfYmFyLmFwcGVuZCgndGV4dCcpXG4gICAgICAuYXR0cnMoeyBpZDogJ2NoYXJ0X2NvbXBsZXR1ZGUnLCB4OiA2MCwgeTogNDAgfSlcbiAgICAgIC5zdHlsZXMoeyAnZm9udC1mYW1pbHknOiAnXFwnU2lnbmlrYVxcJywgc2Fucy1zZXJpZicgfSlcbiAgICAgIC50ZXh0KGBDb21wbMOpdHVkZSA6ICR7dGhpcy5jb21wbGV0dWRlX3ZhbHVlfSVgKTtcblxuICAgIHRoaXMucGxvdC5hcHBlbmQoXCJnXCIpXG4gICAgICAuYXR0cihcImNsYXNzXCIsIFwiYnJ1c2hcIilcbiAgICAgIC5jYWxsKHRoaXMuYnJ1c2gpO1xuXG5cbiAgICAvLyBEZWFjdGl2YXRlIHRoZSByZWN0IGJydXNoIHNlbGVjdGlvbiBvbiB0aGUgbWFwXG4gICAgLy8gd2hpbGUgdGhlIHVzZXIgcHJlc3MgdGhlIEN0cmwga2V5OlxuICAgIGRvY3VtZW50Lm9ua2V5ZG93biA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50LmtleSA9PT0gJ0NvbnRyb2wnKSB7XG4gICAgICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJylcbiAgICAgICAgICAuc2VsZWN0QWxsKCcuc2VsZWN0aW9uLCAub3ZlcmxheScpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIC8vIFJlYWN0aXZhdGUgdGhlIHJlY3QgYnJ1c2ggc2VsZWN0aW9uIG9uIHRoZSBtYXBcbiAgICAvLyB3aGVuIHRoZSB1c2VyIGRvZXNuJ3QgcHJlc3MgdGhlIEN0cmwga2V5IGFueW1vcmVcbiAgICBkb2N1bWVudC5vbmtleXVwID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQgJiYgZXZlbnQua2V5ID09PSAnQ29udHJvbCcpIHtcbiAgICAgICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKVxuICAgICAgICAgIC5zZWxlY3RBbGwoJy5zZWxlY3Rpb24sIC5vdmVybGF5JylcbiAgICAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIC8vIHRoaXMudXBkYXRlKCk7XG4gICAgdGhpcy5tYWtlVGFibGVTdGF0KCk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIHRoZSB1bmRlcmx5aW5nIGdyZXkgZ3JpZFxuICAgKi9cbiAgbWFrZUdyaWQoKSB7XG4gICAgdGhpcy5wbG90Lmluc2VydCgnZycsICcjc2NhdHRlcnBsb3QnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgY2xhc3M6ICdncmlkIGdyaWQteCcsIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgwLCAke2hlaWdodH0pYCxcbiAgICAgIH0pXG4gICAgICAuY2FsbCh0aGlzLnhBeGlzMlxuICAgICAgICAudGlja1NpemUoLWhlaWdodClcbiAgICAgICAgLnRpY2tGb3JtYXQoJycpKTtcbiAgICB0aGlzLnBsb3QuaW5zZXJ0KCdnJywgJyNzY2F0dGVycGxvdCcpXG4gICAgICAuYXR0cignY2xhc3MnLCAnZ3JpZCBncmlkLXknKVxuICAgICAgLmNhbGwodGhpcy55QXhpczJcbiAgICAgICAgLnRpY2tTaXplKC13aWR0aClcbiAgICAgICAgLnRpY2tGb3JtYXQoJycpKTtcbiAgICB0aGlzLnBsb3Quc2VsZWN0QWxsKCcuZ3JpZCcpXG4gICAgICAuc2VsZWN0QWxsKCdsaW5lJylcbiAgICAgIC5hdHRyKCdzdHJva2UnLCAnbGlnaHRncmF5Jyk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIHRoZSB0aXRsZSBvZiB0aGUgWCBhbmQgWSBheGlzIHdpdGggdGhlIGFzc29jaWF0ZWQgY29udGV4dCBtZW51XG4gICAqIGRpc3BsYXllZCB3aGVuIHRoZXkgYXJlIGNsaWNrZWQgYW5kIGFsbG93aW5nIHRvIHNlbGVjdCBhbiBvdGhlciB2YXJpYWJsZVxuICAgKiBmb3IgdGhpcyBheGlzLlxuICAgKi9cbiAgcHJlcGFyZVRpdGxlQXhpcygpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICB0aGlzLm1lbnVYID0gbmV3IENvbnRleHRNZW51KCk7XG4gICAgdGhpcy5tZW51WSA9IG5ldyBDb250ZXh0TWVudSgpO1xuICAgIHRoaXMuaXRlbXNYID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvLmZpbHRlcihlbGVtID0+IGVsZW0gIT09IHRoaXMudmFyaWFibGUyKVxuICAgICAgLm1hcChlbGVtID0+ICh7XG4gICAgICAgIG5hbWU6IGVsZW0sXG4gICAgICAgIGFjdGlvbjogKCkgPT4gdGhpcy5jaGFuZ2VWYXJpYWJsZVgoZWxlbSksXG4gICAgICB9KSk7XG4gICAgdGhpcy5pdGVtc1kgPSBhcHAuY3VycmVudF9jb25maWcucmF0aW8uZmlsdGVyKGVsZW0gPT4gZWxlbSAhPT0gdGhpcy52YXJpYWJsZTEpXG4gICAgICAubWFwKGVsZW0gPT4gKHtcbiAgICAgICAgbmFtZTogZWxlbSxcbiAgICAgICAgYWN0aW9uOiAoKSA9PiB0aGlzLmNoYW5nZVZhcmlhYmxlWShlbGVtKSxcbiAgICAgIH0pKTtcblxuICAgIHN2Z19iYXIuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIGlkOiAndGl0bGUtYXhpcy14JyxcbiAgICAgICAgeDogbWFyZ2luLmxlZnQgKyB3aWR0aCAvIDIsXG4gICAgICAgIHk6IG1hcmdpbi50b3AgKyBoZWlnaHQgKyBtYXJnaW4uYm90dG9tIC8gMiArIDEwLFxuICAgICAgfSlcbiAgICAgIC5zdHlsZXMoeyAnZm9udC1mYW1pbHknOiAnc2Fucy1zZXJpZicsICdmb250LXNpemUnOiAnMTJweCcsICd0ZXh0LWFuY2hvcic6ICdtaWRkbGUnIH0pXG4gICAgICAudGV4dCh0aGlzLnZhcmlhYmxlMSlcbiAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IGJib3ggPSB0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBpZiAoc2VsZi5tZW51WS5kaXNwbGF5ZWQpIHtcbiAgICAgICAgICBzZWxmLm1lbnVZLmhpZGVNZW51KCk7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5tZW51WC5zaG93TWVudShkMy5ldmVudCwgZG9jdW1lbnQuYm9keSwgc2VsZi5pdGVtc1gsIFtiYm94LmxlZnQgLSAyMCwgYmJveC50b3AgKyAyMF0pO1xuICAgICAgfSk7XG5cbiAgICBzdmdfYmFyLmFwcGVuZCgndGV4dCcpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICBpZDogJ3RpdGxlLWF4aXMteScsXG4gICAgICAgIHg6IG1hcmdpbi5sZWZ0IC8gMixcbiAgICAgICAgeTogbWFyZ2luLnRvcCArIChoZWlnaHQgLyAyKSAtIDEwLFxuICAgICAgICB0cmFuc2Zvcm06IGByb3RhdGUoLTkwLCAke21hcmdpbi5sZWZ0IC8gMn0sICR7bWFyZ2luLnRvcCArIChoZWlnaHQgLyAyKX0pYCxcbiAgICAgIH0pXG4gICAgICAuc3R5bGVzKHsgJ2ZvbnQtZmFtaWx5JzogJ3NhbnMtc2VyaWYnLCAnZm9udC1zaXplJzogJzEycHgnLCAndGV4dC1hbmNob3InOiAnbWlkZGxlJyB9KVxuICAgICAgLnRleHQodGhpcy52YXJpYWJsZTIpXG4gICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBiYm94ID0gdGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgaWYgKHNlbGYubWVudVguZGlzcGxheWVkKSB7XG4gICAgICAgICAgc2VsZi5tZW51WC5oaWRlTWVudSgpO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYubWVudVkuc2hvd01lbnUoZDMuZXZlbnQsIGRvY3VtZW50LmJvZHksIHNlbGYuaXRlbXNZLCBbYmJveC5sZWZ0LCBiYm94LmJvdHRvbSArIDEwXSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBkYXRhID0gc2VsZi5kYXRhO1xuICAgIGNvbnN0IHJhbmtfdmFyaWFibGUxID0gdGhpcy5yYW5rX3ZhcmlhYmxlMTtcbiAgICBjb25zdCByYW5rX3ZhcmlhYmxlMiA9IHRoaXMucmFua192YXJpYWJsZTI7XG4gICAgY29uc3QgeCA9IHRoaXMueDtcbiAgICBjb25zdCB5ID0gdGhpcy55O1xuICAgIGNvbnN0IGRlZmF1bHRfY29sb3IgPSAnZ3JheSc7XG4gICAgY29uc3QgZG90cyA9IHRoaXMuc2NhdHRlci5zZWxlY3RBbGwoJy5kb3QnKVxuICAgICAgLmRhdGEoZGF0YSwgZCA9PiBkLmlkKTtcblxuICAgIGRvdHMudHJhbnNpdGlvbigpXG4gICAgICAuZHVyYXRpb24oMjI1KVxuICAgICAgLmF0dHJzKGQgPT4gKHtcbiAgICAgICAgcjogNSxcbiAgICAgICAgY3g6IHgoZFtyYW5rX3ZhcmlhYmxlMV0pLFxuICAgICAgICBjeTogeShkW3JhbmtfdmFyaWFibGUyXSksXG4gICAgICB9KSlcbiAgICAgIC5zdHlsZXMoZCA9PiAoe1xuICAgICAgICBmaWxsOiBhcHAuY29sb3JzW2QuaWRdIHx8IGRlZmF1bHRfY29sb3IsXG4gICAgICB9KSk7XG5cbiAgICBkb3RzLmVudGVyKClcbiAgICAgIC5pbnNlcnQoJ2NpcmNsZScpXG4gICAgICAuc3R5bGVzKGQgPT4gKHtcbiAgICAgICAgZmlsbDogYXBwLmNvbG9yc1tkLmlkXSB8fCBkZWZhdWx0X2NvbG9yLFxuICAgICAgfSkpXG4gICAgICAudHJhbnNpdGlvbigpXG4gICAgICAuZHVyYXRpb24oMjI1KVxuICAgICAgLmF0dHJzKGQgPT4gKHtcbiAgICAgICAgcjogNSxcbiAgICAgICAgY3g6IHgoZFtyYW5rX3ZhcmlhYmxlMV0pLFxuICAgICAgICBjeTogeShkW3JhbmtfdmFyaWFibGUyXSksXG4gICAgICAgIGNsYXNzOiAnZG90JyxcbiAgICAgIH0pKTtcblxuICAgIGRvdHMuZXhpdCgpLnRyYW5zaXRpb24oKS5kdXJhdGlvbigyMjUpLnJlbW92ZSgpO1xuXG4gICAgZG90c1xuICAgICAgLm9uKCdtb3VzZW92ZXInLCAoKSA9PiB7XG4gICAgICAgIHN2Z19iYXIuc2VsZWN0KCcudG9vbHRpcCcpLnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZW91dCcsICgpID0+IHtcbiAgICAgICAgc3ZnX2Jhci5zZWxlY3QoJy50b29sdGlwJykuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgfSlcbiAgICAgIC5vbignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgY29uc3QgdG9vbHRpcCA9IHN2Z19iYXIuc2VsZWN0KCcudG9vbHRpcCcpO1xuICAgICAgICBjb25zdCBfdmFyMSA9IHNlbGYudmFyaWFibGUxO1xuICAgICAgICBjb25zdCBfdmFyMiA9IHNlbGYudmFyaWFibGUyO1xuICAgICAgICB0b29sdGlwXG4gICAgICAgICAgLnNlbGVjdCgndGV4dC5pZF9mZWF0dXJlJylcbiAgICAgICAgICAudGV4dChgJHtkLmlkfWApO1xuICAgICAgICB0b29sdGlwLnNlbGVjdCgndGV4dC52YWx1ZV9mZWF0dXJlMScpXG4gICAgICAgICAgLnRleHQoYFZhcmlhYmxlIDEgOiAke01hdGgucm91bmQoZFtfdmFyMV0gKiAxMCkgLyAxMH1gKTtcbiAgICAgICAgdG9vbHRpcC5zZWxlY3QoJ3RleHQudmFsdWVfZmVhdHVyZTInKVxuICAgICAgICAgIC50ZXh0KGBWYXJpYWJsZSAyIDogJHtNYXRoLnJvdW5kKGRbX3ZhcjJdICogMTApIC8gMTB9YCk7XG4gICAgICAgIHRvb2x0aXBcbiAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke1tkMy5tb3VzZSh0aGlzKVswXSAtIDUsIGQzLm1vdXNlKHRoaXMpWzFdIC0gNDVdfSlgKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlQ29tcGxldHVkZSgpIHtcbiAgICB0aGlzLmNvbXBsZXR1ZGVfdmFsdWUgPSBjYWxjUG9wQ29tcGxldHVkZVN1YnNldChhcHAsIFt0aGlzLnZhcmlhYmxlMSwgdGhpcy52YXJpYWJsZTJdKTtcblxuICAgIHRoaXMuY29tcGxldHVkZVxuICAgICAgLnRleHQoYENvbXBsw6l0dWRlIDogJHt0aGlzLmNvbXBsZXR1ZGVfdmFsdWV9JWApO1xuICB9XG5cbiAgdXBkYXRlTWFwUmVnaW8oKSB7XG4gICAgaWYgKCF0aGlzLm1hcF9lbGVtKSByZXR1cm47XG4gICAgdGhpcy5tYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5hdHRyKCdmaWxsJywgZCA9PiAodGhpcy5jdXJyZW50X2lkcy5pbmRleE9mKGQucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV0pID4gLTFcbiAgICAgICAgPyAoYXBwLmNvbG9yc1tkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dXSB8fCBjb2xvcl9jb3VudHJpZXMpXG4gICAgICAgIDogY29sb3JfZGlzYWJsZWQpKTtcbiAgfVxuXG4gIGhhbmRsZV9icnVzaF9tYXAoZXZlbnQpIHtcbiAgICBpZiAoIWV2ZW50IHx8ICFldmVudC5zZWxlY3Rpb24pIHtcbiAgICAgIHRoaXMubGFzdF9tYXBfc2VsZWN0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzdmdfYmFyLnNlbGVjdCgnLmJydXNoJykuY2FsbCh0aGlzLmJydXNoLm1vdmUsIG51bGwpO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IFt0b3BsZWZ0LCBib3R0b21yaWdodF0gPSBldmVudC5zZWxlY3Rpb247XG4gICAgdGhpcy5sYXN0X21hcF9zZWxlY3Rpb24gPSBbdG9wbGVmdCwgYm90dG9tcmlnaHRdO1xuICAgIGNvbnN0IHJlY3QgPSBuZXcgUmVjdCh0b3BsZWZ0LCBib3R0b21yaWdodCk7XG4gICAgYXBwLmNvbG9ycyA9IHt9O1xuICAgIHNlbGYubWFwX2VsZW0udGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuYXR0cignZmlsbCcsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgIGNvbnN0IGlkID0gZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXTtcbiAgICAgICAgaWYgKGlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKSB7XG4gICAgICAgICAgYXBwLmNvbG9yc1tpZF0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgICAgICAgcmV0dXJuIGNvbG9yX2hpZ2hsaWdodDtcbiAgICAgICAgfSBlbHNlIGlmIChzZWxmLmN1cnJlbnRfaWRzLmluZGV4T2YoaWQpIDwgMCkge1xuICAgICAgICAgIHJldHVybiBjb2xvcl9kaXNhYmxlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX3B0cykge1xuICAgICAgICAgIHRoaXMuX3B0cyA9IHN2Z1BhdGhUb0Nvb3Jkcyh0aGlzLmdldEF0dHJpYnV0ZSgnZCcpLCBhcHAudHlwZV9wYXRoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwdHMgPSB0aGlzLl9wdHM7XG4gICAgICAgIGZvciAobGV0IGl4ID0gMCwgbmJfcHRzID0gcHRzLmxlbmd0aDsgaXggPCBuYl9wdHM7IGl4KyspIHtcbiAgICAgICAgICBpZiAocmVjdC5jb250YWlucyhwdHNbaXhdKSkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUxID0gZC5wcm9wZXJ0aWVzW3NlbGYudmFyaWFibGUxXTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlMiA9IGQucHJvcGVydGllc1tzZWxmLnZhcmlhYmxlMl07XG4gICAgICAgICAgICBjb25zdCBjb2xvciA9IGNvbXAyKFxuICAgICAgICAgICAgICB2YWx1ZTEsIHZhbHVlMixcbiAgICAgICAgICAgICAgc2VsZi5yZWZfdmFsdWUxLCBzZWxmLnJlZl92YWx1ZTIsXG4gICAgICAgICAgICAgIHNlbGYueEludmVyc2VkLCBzZWxmLnlJbnZlcnNlZCk7XG4gICAgICAgICAgICBhcHAuY29sb3JzW2lkXSA9IGNvbG9yO1xuICAgICAgICAgICAgcmV0dXJuIGNvbG9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sb3JfY291bnRyaWVzO1xuICAgICAgfSk7XG4gICAgc2VsZi51cGRhdGUoKTtcbiAgfVxuXG4gIGhhbmRsZUNsaWNrTWFwKGQsIHBhcmVudCkge1xuICAgIGNvbnN0IGlkID0gZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXTtcbiAgICBpZiAodGhpcy5jdXJyZW50X2lkcy5pbmRleE9mKGlkKSA8IDAgfHwgaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pIHJldHVybjtcbiAgICBpZiAoYXBwLmNvbG9yc1tpZF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gQ2hhbmdlIGl0cyBjb2xvciBpbiB0aGUgZ2xvYmFsIGNvbG9ycyBvYmplY3Q6XG4gICAgICBhcHAuY29sb3JzW2lkXSA9IHVuZGVmaW5lZDtcbiAgICAgIC8vIENoYW5nZSB0aGUgY29sb3Igb24gdGhlIG1hcDpcbiAgICAgIGQzLnNlbGVjdChwYXJlbnQpLmF0dHIoJ2ZpbGwnLCBjb2xvcl9jb3VudHJpZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB2YWx1ZTEgPSBkLnByb3BlcnRpZXNbdGhpcy52YXJpYWJsZTFdO1xuICAgICAgY29uc3QgdmFsdWUyID0gZC5wcm9wZXJ0aWVzW3RoaXMudmFyaWFibGUyXTtcbiAgICAgIGNvbnN0IGNvbG9yID0gY29tcDIoXG4gICAgICAgIHZhbHVlMSwgdmFsdWUyLFxuICAgICAgICB0aGlzLnJlZl92YWx1ZTEsIHRoaXMucmVmX3ZhbHVlMixcbiAgICAgICAgdGhpcy54SW52ZXJzZWQsIHRoaXMueUludmVyc2VkKTtcbiAgICAgIGFwcC5jb2xvcnNbaWRdID0gY29sb3I7XG4gICAgICAvLyBDaGFuZ2UgdGhlIGNvbG9yIG9uIHRoZSBtYXA6XG4gICAgICBkMy5zZWxlY3QocGFyZW50KS5hdHRyKCdmaWxsJywgY29sb3IpO1xuICAgICAgLy8gQWRkIHRoZSBjbGlja2VkIGZlYXR1cmUgb24gdGhlIGNvbG9yZWQgc2VsZWN0aW9uIG9uIHRoZSBjaGFydDpcbiAgICB9XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIHVwZGF0ZU1lYW5WYWx1ZSgpIHtcbiAgICB0aGlzLm1lYW5fdmFyaWFibGUxID0gX2dldFBSKFxuICAgICAgZDMubWVhbih0aGlzLmRhdGEubWFwKGQgPT4gZFt0aGlzLnZhcmlhYmxlMV0pKSwgdGhpcy5kYXRhLm1hcChkID0+IGRbdGhpcy52YXJpYWJsZTFdKSk7XG4gICAgdGhpcy5tZWFuX3ZhcmlhYmxlMiA9IF9nZXRQUihcbiAgICAgIGQzLm1lYW4odGhpcy5kYXRhLm1hcChkID0+IGRbdGhpcy52YXJpYWJsZTJdKSksIHRoaXMuZGF0YS5tYXAoZCA9PiBkW3RoaXMudmFyaWFibGUyXSkpO1xuICAgIGNvbnN0IGdycF9tZWFuID0gdGhpcy5wbG90LnNlbGVjdCgnZy5tZWFuJyk7XG4gICAgZ3JwX21lYW4uc2VsZWN0KCcjbWVhbl94JylcbiAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgIC5kdXJhdGlvbigyMjUpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICB4MTogdGhpcy54KHRoaXMubWVhbl92YXJpYWJsZTEpLFxuICAgICAgICB4MjogdGhpcy54KHRoaXMubWVhbl92YXJpYWJsZTEpLFxuICAgICAgfSk7XG4gICAgZ3JwX21lYW4uc2VsZWN0KCcjbWVhbl95JylcbiAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgIC5kdXJhdGlvbigyMjUpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICB5MTogdGhpcy55KHRoaXMubWVhbl92YXJpYWJsZTIpLFxuICAgICAgICB5MjogdGhpcy55KHRoaXMubWVhbl92YXJpYWJsZTIpLFxuICAgICAgfSk7XG4gIH1cblxuICB1cGRhdGVDaGFuZ2VSZWdpb24oKSB7XG4gICAgaWYgKGFwcC5jdXJyZW50X2NvbmZpZy5maWx0ZXJfa2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuY2hhbmdlU3R1ZHlab25lKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVmX3ZhbHVlMSA9IHRoaXMuZGF0YS5maW5kKFxuICAgICAgICBkID0+IGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pW3RoaXMudmFyaWFibGUxXTtcbiAgICAgIHRoaXMucmVmX3ZhbHVlMiA9IHRoaXMuZGF0YS5maW5kKFxuICAgICAgICBkID0+IGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pW3RoaXMudmFyaWFibGUyXTtcbiAgICAgIHRoaXMubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gICAgICB0aGlzLm1hcF9lbGVtLnVwZGF0ZUxlZ2VuZCgpO1xuICAgICAgdGhpcy5tYXBfZWxlbS5yZXNldENvbG9ycyh0aGlzLmN1cnJlbnRfaWRzKTtcbiAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuICB9XG5cbiAgY2hhbmdlU3R1ZHlab25lKCkge1xuICAgIHRoaXMuZGF0YSA9IGFwcC5jdXJyZW50X2RhdGEuZmlsdGVyKGZ0ID0+ICEhZnRbdGhpcy52YXJpYWJsZTFdICYmICEhZnRbdGhpcy52YXJpYWJsZTJdKVxuICAgICAgLm1hcCgoZCkgPT4ge1xuICAgICAgICBjb25zdCByZXMgPSB7IGlkOiBkLmlkIH07XG4gICAgICAgIHJlc1t0aGlzLnZhcmlhYmxlMV0gPSBkW3RoaXMudmFyaWFibGUxXTtcbiAgICAgICAgcmVzW3RoaXMudmFyaWFibGUyXSA9IGRbdGhpcy52YXJpYWJsZTJdO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfSk7XG4gICAgdGhpcy5jdXJyZW50X2lkcyA9IHRoaXMuZGF0YS5tYXAoZCA9PiBkLmlkKTtcbiAgICByZXNldENvbG9ycygpO1xuICAgIHRoaXMubmJGdCA9IHRoaXMuZGF0YS5sZW5ndGg7XG4gICAgY29tcHV0ZVBlcmNlbnRpbGVSYW5rKHRoaXMuZGF0YSwgdGhpcy52YXJpYWJsZTEsIHRoaXMucmFua192YXJpYWJsZTEpO1xuICAgIGNvbXB1dGVQZXJjZW50aWxlUmFuayh0aGlzLmRhdGEsIHRoaXMudmFyaWFibGUyLCB0aGlzLnJhbmtfdmFyaWFibGUyKTtcblxuICAgIHRoaXMueEludmVyc2VkID0gZmFsc2U7XG4gICAgdGhpcy55SW52ZXJzZWQgPSBmYWxzZTtcbiAgICBjb25zdCB0bXBfbXlfcmVnaW9uID0gdGhpcy5kYXRhLmZpbHRlcihkID0+IGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pWzBdO1xuICAgIHRoaXMucmVmX3ZhbHVlMSA9IHRtcF9teV9yZWdpb25bdGhpcy52YXJpYWJsZTFdO1xuICAgIHRoaXMucmVmX3ZhbHVlMiA9IHRtcF9teV9yZWdpb25bdGhpcy52YXJpYWJsZTJdO1xuXG4gICAgdGhpcy54LmRvbWFpbihkMy5leHRlbnQodGhpcy5kYXRhLCBkID0+IGRbdGhpcy5yYW5rX3ZhcmlhYmxlMV0pKS5uaWNlKCk7XG4gICAgdGhpcy55LmRvbWFpbihkMy5leHRlbnQodGhpcy5kYXRhLCBkID0+IGRbdGhpcy5yYW5rX3ZhcmlhYmxlMl0pKS5uaWNlKCk7XG4gICAgdGhpcy5tYXBfZWxlbS5yZW1vdmVSZWN0QnJ1c2goKTtcbiAgICB0aGlzLnVwZGF0ZUl0ZW1zQ3R4TWVudSgpO1xuICAgIHRoaXMudXBkYXRlTWVhblZhbHVlKCk7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICAgIHRoaXMudXBkYXRlVGFibGVTdGF0KCk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIGNoYW5nZVZhcmlhYmxlWChjb2RlX3ZhcmlhYmxlKSB7XG4gICAgdGhpcy52YXJpYWJsZTEgPSBjb2RlX3ZhcmlhYmxlO1xuICAgIHRoaXMucmFua192YXJpYWJsZTEgPSBgcHJfJHt0aGlzLnZhcmlhYmxlMX1gO1xuICAgIHRoaXMucHJldHR5X25hbWUxID0gdmFyaWFibGVzX2luZm8uZmluZChmdCA9PiBmdC5yYXRpbyA9PT0gY29kZV92YXJpYWJsZSkubmFtZTtcbiAgICBzdmdfYmFyLnNlbGVjdCgnI3RpdGxlLWF4aXMteCcpXG4gICAgICAudGV4dChjb2RlX3ZhcmlhYmxlKTtcbiAgICAvLyBUT0RPOiBBbHNvIGNoYW5nZSB0aGUgcG9zaXRpb24gb2YgdGhlIGJ1dHRvbiBhbG93aW5nIHRvIGludmVyc2UgdGhlIHNlcmllXG4gICAgdGhpcy51cGRhdGVJdGVtc0N0eE1lbnUoKTtcbiAgICB0aGlzLmRhdGEgPSBhcHAuY3VycmVudF9kYXRhLmZpbHRlcihmdCA9PiAhIWZ0W3RoaXMudmFyaWFibGUxXSAmJiAhIWZ0W3RoaXMudmFyaWFibGUyXSlcbiAgICAgIC5tYXAoKGQpID0+IHtcbiAgICAgICAgY29uc3QgcmVzID0geyBpZDogZC5pZCB9O1xuICAgICAgICByZXNbdGhpcy52YXJpYWJsZTFdID0gZFt0aGlzLnZhcmlhYmxlMV07XG4gICAgICAgIHJlc1t0aGlzLnZhcmlhYmxlMl0gPSBkW3RoaXMudmFyaWFibGUyXTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIH0pO1xuICAgIHRoaXMuY3VycmVudF9pZHMgPSB0aGlzLmRhdGEubWFwKGQgPT4gZC5pZCk7XG4gICAgcmVzZXRDb2xvcnMoKTtcbiAgICB0aGlzLm5iRnQgPSB0aGlzLmRhdGEubGVuZ3RoO1xuICAgIGNvbXB1dGVQZXJjZW50aWxlUmFuayh0aGlzLmRhdGEsIHRoaXMudmFyaWFibGUxLCB0aGlzLnJhbmtfdmFyaWFibGUxKTtcbiAgICBjb21wdXRlUGVyY2VudGlsZVJhbmsodGhpcy5kYXRhLCB0aGlzLnZhcmlhYmxlMiwgdGhpcy5yYW5rX3ZhcmlhYmxlMik7XG4gICAgdGhpcy5yZWZfdmFsdWUxID0gdGhpcy5kYXRhLmZpbmQoXG4gICAgICBkID0+IGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pW3RoaXMudmFyaWFibGUxXTtcbiAgICB0aGlzLnguZG9tYWluKGQzLmV4dGVudCh0aGlzLmRhdGEsIGQgPT4gZFt0aGlzLnJhbmtfdmFyaWFibGUxXSkpLm5pY2UoKTtcbiAgICAvLyB0aGlzLnkuZG9tYWluKGQzLmV4dGVudCh0aGlzLmRhdGEsIGQgPT4gZFt0aGlzLnJhbmtfdmFyaWFibGUyXSkpLm5pY2UoKTtcbiAgICB0aGlzLnVwZGF0ZU1lYW5WYWx1ZSgpO1xuICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgICB0aGlzLnVwZGF0ZVRhYmxlU3RhdCgpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cblxuICBjaGFuZ2VWYXJpYWJsZVkoY29kZV92YXJpYWJsZSkge1xuICAgIHRoaXMudmFyaWFibGUyID0gY29kZV92YXJpYWJsZTtcbiAgICB0aGlzLnJhbmtfdmFyaWFibGUyID0gYHByXyR7dGhpcy52YXJpYWJsZTJ9YDtcbiAgICB0aGlzLnByZXR0eV9uYW1lMiA9IHZhcmlhYmxlc19pbmZvLmZpbmQoZnQgPT4gZnQucmF0aW8gPT09IGNvZGVfdmFyaWFibGUpLm5hbWU7XG4gICAgc3ZnX2Jhci5zZWxlY3QoJyN0aXRsZS1heGlzLXknKVxuICAgICAgLnRleHQoY29kZV92YXJpYWJsZSk7XG4gICAgLy8gVE9ETzogQWxzbyBjaGFuZ2UgdGhlIHBvc2l0aW9uIG9mIHRoZSBidXR0b24gYWxvd2luZyB0byBpbnZlcnNlIHRoZSBzZXJpZVxuICAgIHRoaXMudXBkYXRlSXRlbXNDdHhNZW51KCk7XG4gICAgdGhpcy5kYXRhID0gYXBwLmN1cnJlbnRfZGF0YS5maWx0ZXIoZnQgPT4gISFmdFt0aGlzLnZhcmlhYmxlMV0gJiYgISFmdFt0aGlzLnZhcmlhYmxlMl0pXG4gICAgICAubWFwKChkKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcyA9IHsgaWQ6IGQuaWQgfTtcbiAgICAgICAgcmVzW3RoaXMudmFyaWFibGUxXSA9IGRbdGhpcy52YXJpYWJsZTFdO1xuICAgICAgICByZXNbdGhpcy52YXJpYWJsZTJdID0gZFt0aGlzLnZhcmlhYmxlMl07XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgICB9KTtcbiAgICB0aGlzLmN1cnJlbnRfaWRzID0gdGhpcy5kYXRhLm1hcChkID0+IGQuaWQpO1xuICAgIHJlc2V0Q29sb3JzKCk7XG4gICAgdGhpcy5uYkZ0ID0gdGhpcy5kYXRhLmxlbmd0aDtcbiAgICBjb21wdXRlUGVyY2VudGlsZVJhbmsodGhpcy5kYXRhLCB0aGlzLnZhcmlhYmxlMSwgdGhpcy5yYW5rX3ZhcmlhYmxlMSk7XG4gICAgY29tcHV0ZVBlcmNlbnRpbGVSYW5rKHRoaXMuZGF0YSwgdGhpcy52YXJpYWJsZTIsIHRoaXMucmFua192YXJpYWJsZTIpO1xuICAgIHRoaXMucmVmX3ZhbHVlMiA9IHRoaXMuZGF0YS5maW5kKFxuICAgICAgZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVt0aGlzLnZhcmlhYmxlMl07XG4gICAgLy8gdGhpcy54LmRvbWFpbihkMy5leHRlbnQodGhpcy5kYXRhLCBkID0+IGRbdGhpcy5yYW5rX3ZhcmlhYmxlMV0pKS5uaWNlKCk7XG4gICAgdGhpcy55LmRvbWFpbihkMy5leHRlbnQodGhpcy5kYXRhLCBkID0+IGRbdGhpcy5yYW5rX3ZhcmlhYmxlMl0pKS5uaWNlKCk7XG4gICAgdGhpcy51cGRhdGVNZWFuVmFsdWUoKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgdGhpcy51cGRhdGVUYWJsZVN0YXQoKTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG5cbiAgdXBkYXRlSXRlbXNDdHhNZW51KCkge1xuICAgIHRoaXMuaXRlbXNYID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvLmZpbHRlcihlbGVtID0+IGVsZW0gIT09IHRoaXMudmFyaWFibGUyKVxuICAgICAgLm1hcChlbGVtID0+ICh7XG4gICAgICAgIG5hbWU6IGVsZW0sXG4gICAgICAgIGFjdGlvbjogKCkgPT4gdGhpcy5jaGFuZ2VWYXJpYWJsZVgoZWxlbSksXG4gICAgICB9KSk7XG4gICAgdGhpcy5pdGVtc1kgPSBhcHAuY3VycmVudF9jb25maWcucmF0aW8uZmlsdGVyKGVsZW0gPT4gZWxlbSAhPT0gdGhpcy52YXJpYWJsZTEpXG4gICAgICAubWFwKGVsZW0gPT4gKHtcbiAgICAgICAgbmFtZTogZWxlbSxcbiAgICAgICAgYWN0aW9uOiAoKSA9PiB0aGlzLmNoYW5nZVZhcmlhYmxlWShlbGVtKSxcbiAgICAgIH0pKTtcbiAgfVxuXG4gIGFkZFZhcmlhYmxlKGNvZGVfdmFyaWFibGUsIG5hbWVfdmFyaWFibGUpIHtcbiAgICB0aGlzLml0ZW1zWC5wdXNoKHtcbiAgICAgIG5hbWU6IGNvZGVfdmFyaWFibGUsXG4gICAgICBhY3Rpb246ICgpID0+IHRoaXMuY2hhbmdlVmFyaWFibGVYKGNvZGVfdmFyaWFibGUpLFxuICAgIH0pO1xuICAgIHRoaXMuaXRlbXNZLnB1c2goe1xuICAgICAgbmFtZTogY29kZV92YXJpYWJsZSxcbiAgICAgIGFjdGlvbjogKCkgPT4gdGhpcy5jaGFuZ2VWYXJpYWJsZVkoY29kZV92YXJpYWJsZSksXG4gICAgfSk7XG4gIH1cblxuICByZW1vdmVWYXJpYWJsZShjb2RlX3ZhcmlhYmxlKSB7XG4gICAgLy8gUmVtb3ZlIHRoZSB2YXJpYWJsZSBmcm9tIHRoZSBYIGFuZCBZIGxpc3Qgb2YgaXRlbXM6XG4gICAgZm9yIChsZXQgaSA9IHRoaXMuaXRlbXNYLmxlbmd0aCAtIDE7IGkgPiAtMTsgaS0tKSB7XG4gICAgICBpZiAodGhpcy5pdGVtc1hbaV0ubmFtZSA9PT0gY29kZV92YXJpYWJsZSkge1xuICAgICAgICB0aGlzLml0ZW1zWC5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gdGhpcy5pdGVtc1kubGVuZ3RoIC0gMTsgaSA+IC0xOyBpLS0pIHtcbiAgICAgIGlmICh0aGlzLml0ZW1zWVtpXS5uYW1lID09PSBjb2RlX3ZhcmlhYmxlKSB7XG4gICAgICAgIHRoaXMuaXRlbXNZLnNwbGljZShpLCAxKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIHZhcmlhYmxlIHRvIHJlbW92ZSB3YXMgY3VycmVudGx5IHVzZWQgZm9yIGRyYXdpbmcgdGhpcyBjaGFydCxcbiAgICAvLyBzZXQgYSBuZXcgdmFyaWFibGUgZm9yIHRoaXMgYXhpcyBhbmQgcmVkcmF3IHRoZSBjaGFydDpcbiAgICBpZiAoY29kZV92YXJpYWJsZSA9PT0gdGhpcy52YXJpYWJsZTEpIHtcbiAgICAgIGNvbnN0IG5ld192YXJfeCA9IHRoaXMuaXRlbXNYLmZpbHRlcihmdCA9PiBmdC5uYW1lICE9PSB0aGlzLnZhcmlhYmxlMilbMF0ubmFtZTtcbiAgICAgIHRoaXMuY2hhbmdlVmFyaWFibGVYKG5ld192YXJfeCk7XG4gICAgfSBlbHNlIGlmIChjb2RlX3ZhcmlhYmxlID09PSB0aGlzLnZhcmlhYmxlMikge1xuICAgICAgY29uc3QgbmV3X3Zhcl95ID0gdGhpcy5pdGVtc1kuZmlsdGVyKGZ0ID0+IGZ0Lm5hbWUgIT09IHRoaXMudmFyaWFibGUxKVswXS5uYW1lO1xuICAgICAgdGhpcy5jaGFuZ2VWYXJpYWJsZVkobmV3X3Zhcl95KTtcbiAgICB9XG4gIH1cblxuICByZW1vdmUoKSB7XG4gICAgdGhpcy50YWJsZV9zdGF0cy5yZW1vdmUoKTtcbiAgICB0aGlzLm1hcF9lbGVtLnVuYmluZEJydXNoKCk7XG4gICAgdGhpcy5tYXBfZWxlbSA9IG51bGw7XG4gICAgc3ZnX2Jhci5odG1sKCcnKTtcbiAgfVxuXG4gIGJpbmRNYXAobWFwX2VsZW0pIHtcbiAgICB0aGlzLm1hcF9lbGVtID0gbWFwX2VsZW07XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cblxuICBwcmVwYXJlVGFibGVTdGF0KCkge1xuICAgIGNvbnN0IHZhbHVlczEgPSB0aGlzLmRhdGEubWFwKGQgPT4gZFt0aGlzLnZhcmlhYmxlMV0pO1xuICAgIGNvbnN0IHZhbHVlczIgPSB0aGlzLmRhdGEubWFwKGQgPT4gZFt0aGlzLnZhcmlhYmxlMl0pO1xuICAgIGNvbnN0IGZlYXR1cmVzID0gW1xuICAgIHtcbiAgICAgIE1pbjogZDMubWluKHZhbHVlczEpLFxuICAgICAgTWF4OiBkMy5tYXgodmFsdWVzMSksXG4gICAgICBNb3llbm5lOiBkMy5tZWFuKHZhbHVlczEpLFxuICAgICAgaWQ6IHRoaXMudmFyaWFibGUxLFxuICAgICAgVmFyaWFibGU6IHRoaXMudmFyaWFibGUxLFxuICAgICAgJ01hIHLDqWdpb24nOiB0aGlzLnJlZl92YWx1ZTEsXG4gICAgfSxcbiAgICB7XG4gICAgICBNaW46IGQzLm1pbih2YWx1ZXMyKSxcbiAgICAgIE1heDogZDMubWF4KHZhbHVlczIpLFxuICAgICAgTW95ZW5uZTogZDMubWVhbih2YWx1ZXMyKSxcbiAgICAgIGlkOiB0aGlzLnZhcmlhYmxlMixcbiAgICAgIFZhcmlhYmxlOiB0aGlzLnZhcmlhYmxlMixcbiAgICAgICdNYSByw6lnaW9uJzogdGhpcy5yZWZfdmFsdWUyLFxuICAgIH1dO1xuICAgIHJldHVybiBmZWF0dXJlcztcbiAgfVxuXG4gIHVwZGF0ZVRhYmxlU3RhdCgpIHtcbiAgICB0aGlzLnRhYmxlX3N0YXRzLnJlbW92ZUFsbCgpO1xuICAgIHRoaXMudGFibGVfc3RhdHMuYWRkRmVhdHVyZXModGhpcy5wcmVwYXJlVGFibGVTdGF0KCkpO1xuICB9XG5cbiAgbWFrZVRhYmxlU3RhdCgpIHtcbiAgICBjb25zdCBmZWF0dXJlcyA9IHRoaXMucHJlcGFyZVRhYmxlU3RhdCgpO1xuICAgIHRoaXMudGFibGVfc3RhdHMgPSBuZXcgVGFibGVSZXN1bWVTdGF0KGZlYXR1cmVzKTtcbiAgfVxuXG59XG4iLCJpbXBvcnQge1xuICBjb21wLCBtYXRoX3JvdW5kLCBtYXRoX2FicywgbWF0aF9tYXgsIG1hdGhfc2luLCBtYXRoX2NvcywgSEFMRl9QSSwgUmVjdCxcbiAgcHJlcGFyZVRvb2x0aXAsIHN2Z1BhdGhUb0Nvb3JkcywgX2dldFBSLCBjb21wdXRlUGVyY2VudGlsZVJhbmssXG59IGZyb20gJy4vLi4vaGVscGVycyc7XG5pbXBvcnQgeyBjb2xvcl9kaXNhYmxlZCwgY29sb3JfY291bnRyaWVzLCBjb2xvcl9zdXAsIGNvbG9yX2luZiwgY29sb3JfaGlnaGxpZ2h0IH0gZnJvbSAnLi8uLi9vcHRpb25zJztcbmltcG9ydCB7IGNhbGNQb3BDb21wbGV0dWRlU3Vic2V0IH0gZnJvbSAnLi8uLi9wcmVwYXJlX2RhdGEnO1xuaW1wb3J0IHsgc3ZnX21hcCB9IGZyb20gJy4vLi4vbWFwJztcbmltcG9ydCB7IGFwcCwgdmFyaWFibGVzX2luZm8sIHJlc2V0Q29sb3JzIH0gZnJvbSAnLi8uLi8uLi9tYWluJztcbmltcG9ydCBUYWJsZVJlc3VtZVN0YXQgZnJvbSAnLi8uLi90YWJsZVJlc3VtZVN0YXQnO1xuXG5jb25zdCBzdmdfYmFyID0gZDMuc2VsZWN0KCcjc3ZnX2JhcicpO1xuY29uc3QgbWFyZ2luID0geyB0b3A6IDcwLCByaWdodDogNzAsIGJvdHRvbTogNzAsIGxlZnQ6IDcwIH07XG5cbmNvbnN0IHdpZHRoID0gK3N2Z19iYXIuYXR0cignd2lkdGgnKSAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0LFxuICBoZWlnaHQgPSArc3ZnX2Jhci5hdHRyKCdoZWlnaHQnKSAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tO1xuXG5jb25zdCB3cmFwID0gKF90ZXh0LCB3aWR0aCkgPT4ge1xuICBfdGV4dC5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCB0ZXh0ID0gZDMuc2VsZWN0KHRoaXMpLFxuICAgICAgd29yZHMgPSB0ZXh0LnRleHQoKS5zcGxpdCgvXFxzKy8pLnJldmVyc2UoKSxcbiAgICAgIGxpbmVIZWlnaHQgPSAxLjQsIC8vIGVtc1xuICAgICAgeSA9IHRleHQuYXR0cigneScpLFxuICAgICAgeCA9IHRleHQuYXR0cigneCcpLFxuICAgICAgZHkgPSBwYXJzZUZsb2F0KHRleHQuYXR0cignZHknKSk7XG4gICAgbGV0IGxpbmUgPSBbXSxcbiAgICAgIGxpbmVOdW1iZXIgPSAwO1xuICAgIGxldCB0c3BhbiA9IHRleHQudGV4dChudWxsKVxuICAgICAgLmFwcGVuZCgndHNwYW4nKVxuICAgICAgLmF0dHIoJ3gnLCB4KVxuICAgICAgLmF0dHIoJ3knLCB5KVxuICAgICAgLmF0dHIoJ2R5JywgYCR7ZHl9ZW1gKTtcbiAgICBsZXQgd29yZCA9IHdvcmRzLnBvcCgpO1xuICAgIHdoaWxlICh3b3JkKSB7XG4gICAgICBsaW5lLnB1c2god29yZCk7XG4gICAgICB0c3Bhbi50ZXh0KGxpbmUuam9pbignICcpKTtcbiAgICAgIGlmICh0c3Bhbi5ub2RlKCkuZ2V0Q29tcHV0ZWRUZXh0TGVuZ3RoKCkgPiB3aWR0aCkge1xuICAgICAgICBsaW5lLnBvcCgpO1xuICAgICAgICB0c3Bhbi50ZXh0KGxpbmUuam9pbignICcpKTtcbiAgICAgICAgbGluZSA9IFt3b3JkXTtcbiAgICAgICAgdHNwYW4gPSB0ZXh0LmFwcGVuZCgndHNwYW4nKVxuICAgICAgICAgIC5hdHRyKCd4JywgeClcbiAgICAgICAgICAuYXR0cigneScsIHkpXG4gICAgICAgICAgLmF0dHIoJ2R5JywgYCR7KytsaW5lTnVtYmVyICogbGluZUhlaWdodCArIGR5fWVtYClcbiAgICAgICAgICAudGV4dCh3b3JkKTtcbiAgICAgIH1cbiAgICAgIHdvcmQgPSB3b3Jkcy5wb3AoKTtcbiAgICB9XG4gIH0pO1xufTtcblxuY29uc3QgbW92ZSA9IGZ1bmN0aW9uIG1vdmUoYXJyYXksIGZyb20sIHRvKSB7XG4gIGFycmF5LnNwbGljZSh0bywgMCwgYXJyYXkuc3BsaWNlKGZyb20sIDEpWzBdKTtcbiAgcmV0dXJuIGFycmF5O1xufTtcblxuY29uc3Qgc3dhcCA9IGZ1bmN0aW9uIHN3YXAoYXJyYXksIGl4MSwgaXgyKSB7XG4gIFthcnJheVtpeDFdLCBhcnJheVtpeDJdXSA9IFthcnJheVtpeDJdLCBhcnJheVtpeDFdXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICByZXR1cm4gYXJyYXk7XG59O1xuXG5leHBvcnQgY29uc3QgcHJlcGFyZV9kYXRhX3JhZGFyX2RlZmF1bHQgPSAoZGF0YSwgdmFyaWFibGVzKSA9PiB7XG4gIGNvbnN0IGZlYXR1cmVzID0gW107XG4gIC8vIFByZXBhcmUgdGhlIGRhdGEgZm9yIFwiTXkgUsOpZ2lvblwiOlxuICBjb25zdCB2X215X3JlZ2lvbiA9IGRhdGEuZmluZChkID0+IGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pO1xuICBjb25zdCBvamJfbXlfcmVnaW9uID0ge1xuICAgIG5hbWU6IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24sXG4gICAgYXhlczogW10sXG4gIH07XG4gIHZhcmlhYmxlcy5mb3JFYWNoKCh2KSA9PiB7XG4gICAgY29uc3QgdCA9IHZhcmlhYmxlc19pbmZvLmZpbmQoZCA9PiBkLnJhdGlvID09PSB2KS5uYW1lO1xuICAgIGNvbnN0IF92ID0gYHByXyR7dn1gO1xuICAgIG9qYl9teV9yZWdpb24uYXhlcy5wdXNoKHtcbiAgICAgIGF4aXM6IHQsIHZhbHVlOiB2X215X3JlZ2lvbltfdl0sXG4gICAgfSk7XG4gIH0pO1xuICBmZWF0dXJlcy5wdXNoKG9qYl9teV9yZWdpb24pO1xuICBjb25zdCBvYmpfbWVhbiA9IHtcbiAgICBuYW1lOiAnTW95ZW5uZSBkdSBjb250ZXh0ZSBkXFwnw6l0dWRlJyxcbiAgICBheGVzOiBbXSxcbiAgfTtcbiAgdmFyaWFibGVzLmZvckVhY2goKHYpID0+IHtcbiAgICBjb25zdCB0ID0gdmFyaWFibGVzX2luZm8uZmluZChkID0+IGQucmF0aW8gPT09IHYpLm5hbWU7XG4gICAgY29uc3QgX3YgPSBgcHJfJHt2fWA7XG4gICAgb2JqX21lYW4uYXhlcy5wdXNoKHtcbiAgICAgIGF4aXM6IHQsXG4gICAgICB2YWx1ZTogX2dldFBSKGQzLm1lYW4oZGF0YS5tYXAoZCA9PiBkW192XSkpLCBkYXRhLm1hcChkID0+IGRbX3ZdKSksXG4gICAgfSk7XG4gIH0pO1xuICBmZWF0dXJlcy5wdXNoKG9ial9tZWFuKTtcbiAgcmV0dXJuIGZlYXR1cmVzO1xufTtcblxuZXhwb3J0IGNvbnN0IHByZXBhcmVfZGF0YV9yYWRhcl9mdCA9IChkYXRhLCB2YXJpYWJsZXMsIGZ0KSA9PiB7XG4gIGNvbnN0IGZ0X3ZhbHVlcyA9IGRhdGEuZmluZChkID0+IGQuaWQgPT09IGZ0KTtcbiAgY29uc3Qgb2JqID0ge1xuICAgIG5hbWU6IGZ0LFxuICAgIGF4ZXM6IFtdLFxuICB9O1xuICB2YXJpYWJsZXMuZm9yRWFjaCgodikgPT4ge1xuICAgIGNvbnN0IHQgPSB2YXJpYWJsZXNfaW5mby5maW5kKGQgPT4gZC5yYXRpbyA9PT0gdikubmFtZTtcbiAgICBjb25zdCBfdiA9IGBwcl8ke3Z9YDtcbiAgICBvYmouYXhlcy5wdXNoKHtcbiAgICAgIGF4aXM6IHQsIHZhbHVlOiBmdF92YWx1ZXNbX3ZdLFxuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIG9iajtcbn07XG5cbmV4cG9ydCBjbGFzcyBSYWRhckNoYXJ0MyB7XG4gIGNvbnN0cnVjdG9yKGRhdGEsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBjZmcgPSB7XG4gICAgICB3OiB3aWR0aCwgLy8gV2lkdGggb2YgdGhlIGNpcmNsZVxuICAgICAgaDogaGVpZ2h0LCAvLyBIZWlnaHQgb2YgdGhlIGNpcmNsZVxuICAgICAgbWFyZ2luOiBtYXJnaW4sIC8vIFRoZSBtYXJnaW5zIG9mIHRoZSBTVkdcbiAgICAgIGxldmVsczogMTAsIC8vIEhvdyBtYW55IGxldmVscyBvciBpbm5lciBjaXJjbGVzIHNob3VsZCB0aGVyZSBiZSBkcmF3blxuICAgICAgbWF4VmFsdWU6IDEwMCwgLy8gV2hhdCBpcyB0aGUgdmFsdWUgdGhhdCB0aGUgYmlnZ2VzdCBjaXJjbGUgd2lsbCByZXByZXNlbnRcbiAgICAgIGxhYmVsRmFjdG9yOiAxLjMsIC8vIEhvdyBtdWNoIGZhcnRoZXIgdGhhbiB0aGUgcmFkaXVzIG9mIHRoZSBvdXRlciBjaXJjbGUgc2hvdWxkIHRoZSBsYWJlbHMgYmUgcGxhY2VkXG4gICAgICB3cmFwV2lkdGg6IDg1LCAvLyBUaGUgbnVtYmVyIG9mIHBpeGVscyBhZnRlciB3aGljaCBhIGxhYmVsIG5lZWRzIHRvIGJlIGdpdmVuIGEgbmV3IGxpbmVcbiAgICAgIG9wYWNpdHlBcmVhOiAwLjM1LCAvLyBUaGUgb3BhY2l0eSBvZiB0aGUgYXJlYSBvZiB0aGUgYmxvYlxuICAgICAgZG90UmFkaXVzOiA0LCAvLyBUaGUgc2l6ZSBvZiB0aGUgY29sb3JlZCBjaXJjbGVzIG9mIGVhY2ggYmxvZ1xuICAgICAgb3BhY2l0eUNpcmNsZXM6IDAuMSwgLy8gVGhlIG9wYWNpdHkgb2YgdGhlIGNpcmNsZXMgb2YgZWFjaCBibG9iXG4gICAgICBzdHJva2VXaWR0aDogMiwgLy8gVGhlIHdpZHRoIG9mIHRoZSBzdHJva2UgYXJvdW5kIGVhY2ggYmxvYlxuICAgICAgcm91bmRTdHJva2VzOiBmYWxzZSwgLy8gSWYgdHJ1ZSB0aGUgYXJlYSBhbmQgc3Ryb2tlIHdpbGwgZm9sbG93IGEgcm91bmQgcGF0aCAoY2FyZGluYWwtY2xvc2VkKVxuICAgICAgY29sb3I6IGQzLnNjYWxlT3JkaW5hbChkMy5zY2hlbWVDYXRlZ29yeTEwKSwgLy8gQ29sb3IgZnVuY3Rpb24sXG4gICAgICBmb3JtYXQ6ICcuMicsIC8vIFRoZSBmb3JtYXQgc3RyaW5nIHRvIGJlIHVzZWQgYnkgZDMuZm9ybWF0XG4gICAgICB1bml0OiAnJScsIC8vIFRoZSB1bml0IHRvIGRpc3BsYXkgYWZ0ZXIgdGhlIG51bWJlciBvbiB0aGUgYXhpcyBhbmQgcG9pbnQgdG9vbHRpcHMgKGxpa2UgJCwg4oKsLCAlLCBldGMpXG4gICAgICBsZWdlbmQ6IGZhbHNlLFxuICAgICAgYWxsb3dJbnZlcnNlRGF0YTogdHJ1ZSxcbiAgICB9O1xuICAgIHRoaXMuY2ZnID0gY2ZnO1xuICAgIC8vIFB1dCBhbGwgb2YgdGhlIG9wdGlvbnMgaW50byBhIHZhcmlhYmxlIGNhbGxlZCBjZmdcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBmb3IgKGNvbnN0IGkgaW4gb3B0aW9ucykge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnNbaV0gIT09ICd1bmRlZmluZWQnKSB7IGNmZ1tpXSA9IG9wdGlvbnNbaV07IH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmcgPSBzdmdfYmFyLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignaWQnLCAnUmFkYXJHcnAnKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHtjZmcudyAvIDIgKyBjZmcubWFyZ2luLmxlZnR9LCR7Y2ZnLmggLyAyICsgY2ZnLm1hcmdpbi50b3B9KWApO1xuXG4gICAgdGhpcy5wcmVwYXJlRGF0YShkYXRhKTtcbiAgICB0aGlzLmRyYXdBeGlzR3JpZCgpO1xuICAgIHRoaXMuZHJhd0FyZWEoKTtcbiAgICB0aGlzLmhhbmRsZUxlZ2VuZCgpO1xuICAgIC8vIENvbXB1dGUgdGhlIFwiY29tcGzDqXR1ZGVcIiB2YWx1ZSBmb3IgdGhlc2UgcmF0aW9zOlxuICAgIHRoaXMuY29tcGxldHVkZV92YWx1ZSA9IGNhbGNQb3BDb21wbGV0dWRlU3Vic2V0KGFwcCwgdGhpcy52YXJpYWJsZXMpO1xuXG4gICAgLy8gQ3JlYXRlIHRoZSBcImNvbXBsw6l0dWRlXCIgdGV4dDpcbiAgICB0aGlzLmNvbXBsZXR1ZGUgPSBzdmdfYmFyLmFwcGVuZCgndGV4dCcpXG4gICAgICAuYXR0cnMoeyBpZDogJ2NoYXJ0X2NvbXBsZXR1ZGUnLCB4OiA2MCwgeTogNDAgfSlcbiAgICAgIC5zdHlsZXMoeyAnZm9udC1mYW1pbHknOiAnXFwnU2lnbmlrYVxcJywgc2Fucy1zZXJpZicgfSlcbiAgICAgIC50ZXh0KGBDb21wbMOpdHVkZSA6ICR7dGhpcy5jb21wbGV0dWRlX3ZhbHVlfSVgKTtcblxuICAgIGlmIChjZmcuYWxsb3dJbnZlcnNlRGF0YSkge1xuICAgICAgdGhpcy5pbnZlcnNlX2RhdGEgPSAoZmllbGQpID0+IHtcbiAgICAgICAgY29uc3QgZGF0YV9sZW5ndGggPSB0aGlzLmRhdGEubGVuZ3RoO1xuICAgICAgICBpZiAoIWZpZWxkKSB7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhX2xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBheCA9IHRoaXMuZGF0YVtpXS5heGVzO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBheC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICBheFtqXS52YWx1ZSA9IDEwMCAtIGF4W2pdLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGFfbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF4ID0gdGhpcy5kYXRhW2ldLmF4ZXM7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGF4Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgIGlmIChheFtqXS5heGlzID09PSBmaWVsZCkge1xuICAgICAgICAgICAgICAgIGF4W2pdLnZhbHVlID0gMTAwIC0gYXhbal0udmFsdWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgIH07XG4gICAgfVxuICAgIHRoaXMubWFrZVRhYmxlU3RhdCgpO1xuICB9XG5cbiAgYWRkX2VsZW1lbnQoZWxlbSkge1xuICAgIGNvbnN0IG5fYXhpcyA9IGVsZW0uYXhlcy5tYXAoaSA9PiBpLmF4aXMpO1xuICAgIGlmICghKEpTT04uc3RyaW5naWZ5KG5fYXhpcykgPT09IEpTT04uc3RyaW5naWZ5KHRoaXMuYWxsQXhpcykpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIGVsZW1lbnQgd2l0aCBzYW1lIGF4ZXMgbmFtZSB0aGFuIGV4aXN0aW5nIGRhdGEuJyk7XG4gICAgfVxuICAgIHRoaXMuZGF0YS5wdXNoKGVsZW0pO1xuICAgIHRoaXMuZGlzcGxheWVkX2lkcy5wdXNoKGVsZW0ubmFtZSk7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmRhdGEubGVuZ3RoOyBqKyspIHtcbiAgICAgIGNvbnN0IG9uX2F4ZXMgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kYXRhW2pdLmF4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5kYXRhW2pdLmF4ZXNbaV0uaWQgPSB0aGlzLmRhdGFbal0ubmFtZTtcbiAgICAgICAgb25fYXhlcy5wdXNoKHRoaXMuZGF0YVtqXS5uYW1lKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBjZmcgPSB0aGlzLmNmZztcbiAgICBjb25zdCBuID0gdGhpcy5kYXRhLmxlbmd0aCAtIDE7XG4gICAgY29uc3QgYmxvYldyYXBwZXIgPSB0aGlzLmdcbiAgICAgIC5pbnNlcnQoJ2cnLCAnLnJhZGFyQ2lyY2xlV3JhcHBlcicpXG4gICAgICAuYXR0cignaWQnLCBlbGVtLm5hbWUuaW5kZXhPZignICcpID4gLTEgPyAnY3R4JyA6IGVsZW0ubmFtZSlcbiAgICAgIC5hdHRyKCdjbGFzcycsICdyYWRhcldyYXBwZXInKTtcblxuICAgIC8vIEFwcGVuZCB0aGUgYmFja2dyb3VuZHNcbiAgICBibG9iV3JhcHBlclxuICAgICAgLmFwcGVuZCgncGF0aCcpXG4gICAgICAuYXR0cignY2xhc3MnLCAncmFkYXJBcmVhJylcbiAgICAgIC5hdHRyKCdkJywgdGhpcy5yYWRhckxpbmUoZWxlbS5heGVzKSlcbiAgICAgIC5zdHlsZSgnZmlsbCcsIGNmZy5jb2xvcihuKSlcbiAgICAgIC5zdHlsZSgnZmlsbC1vcGFjaXR5JywgMClcbiAgICAgIC5zdHlsZSgnZmlsbC1vcGFjaXR5JywgY2ZnLm9wYWNpdHlBcmVhKVxuICAgICAgLm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIERpbSBhbGwgYmxvYnNcbiAgICAgICAgYmxvYldyYXBwZXIuc2VsZWN0QWxsKCcucmFkYXJBcmVhJylcbiAgICAgICAgICAudHJhbnNpdGlvbigpLmR1cmF0aW9uKDIwMClcbiAgICAgICAgICAuc3R5bGUoJ2ZpbGwtb3BhY2l0eScsIDAuMSk7XG4gICAgICAgIC8vIEJyaW5nIGJhY2sgdGhlIGhvdmVyZWQgb3ZlciBibG9iXG4gICAgICAgIGQzLnNlbGVjdCh0aGlzKVxuICAgICAgICAgIC50cmFuc2l0aW9uKCkuZHVyYXRpb24oMjAwKVxuICAgICAgICAgIC5zdHlsZSgnZmlsbC1vcGFjaXR5JywgMC43KTtcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlb3V0JywgKCkgPT4ge1xuICAgICAgICAvLyBCcmluZyBiYWNrIGFsbCBibG9ic1xuICAgICAgICBibG9iV3JhcHBlci5zZWxlY3RBbGwoJy5yYWRhckFyZWEnKVxuICAgICAgICAgIC50cmFuc2l0aW9uKCkuZHVyYXRpb24oMjAwKVxuICAgICAgICAgIC5zdHlsZSgnZmlsbC1vcGFjaXR5JywgY2ZnLm9wYWNpdHlBcmVhKTtcbiAgICAgIH0pO1xuICAgICAgLy8gLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vICAgY29uc3QgcCA9IHRoaXMucGFyZW50RWxlbWVudDtcbiAgICAgIC8vICAgaWYgKHAucHJldmlvdXNTaWJsaW5nLmNsYXNzTmFtZSAhPT0gJ3Rvb2x0aXAnKSB7XG4gICAgICAvLyAgICAgY29uc3QgZ3JvdXAgPSBnLm5vZGUoKTtcbiAgICAgIC8vICAgICBncm91cC5pbnNlcnRCZWZvcmUocCwgZ3JvdXAucXVlcnlTZWxlY3RvcignLnRvb2x0aXAnKSk7XG4gICAgICAvLyAgICAgY29uc3QgbmV3X29yZGVyID0gW107XG4gICAgICAvLyAgICAgZy5zZWxlY3RBbGwoJy5yYWRhcldyYXBwZXInKS5lYWNoKGQgPT4gbmV3X29yZGVyLnB1c2goZC5uYW1lKSk7XG4gICAgICAvLyAgICAgbmV3X29yZGVyLnJldmVyc2UoKTtcbiAgICAgIC8vICAgICB1cGRhdGVMZWdlbmQobmV3X29yZGVyKTtcbiAgICAgIC8vICAgfVxuICAgICAgLy8gfSk7XG5cbiAgICAvLyBDcmVhdGUgdGhlIG91dGxpbmVzXG4gICAgYmxvYldyYXBwZXIuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdyYWRhclN0cm9rZScpXG4gICAgICAuYXR0cignZCcsIHRoaXMucmFkYXJMaW5lKGVsZW0uYXhlcykpXG4gICAgICAuc3R5bGUoJ3N0cm9rZS13aWR0aCcsIGAke2NmZy5zdHJva2VXaWR0aH1weGApXG4gICAgICAuc3R5bGUoJ3N0cm9rZScsIGNmZy5jb2xvcihuKSlcbiAgICAgIC5zdHlsZSgnZmlsbCcsICdub25lJylcbiAgICAgIC5zdHlsZSgnZmlsdGVyJywgJ3VybCgjZ2xvdyknKTtcblxuICAgIC8vIEFwcGVuZCB0aGUgY2lyY2xlc1xuICAgIGJsb2JXcmFwcGVyLnNlbGVjdEFsbCgnLnJhZGFyQ2lyY2xlJylcbiAgICAgIC5kYXRhKGVsZW0uYXhlcylcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdjaXJjbGUnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ3JhZGFyQ2lyY2xlJylcbiAgICAgIC5hdHRyKCdyJywgY2ZnLmRvdFJhZGl1cylcbiAgICAgIC5hdHRyKCdjeCcsIChkLCBpKSA9PiB0aGlzLnJTY2FsZShkLnZhbHVlKSAqIG1hdGhfY29zKHRoaXMuYW5nbGVTbGljZSAqIGkgLSBIQUxGX1BJKSlcbiAgICAgIC5hdHRyKCdjeScsIChkLCBpKSA9PiB0aGlzLnJTY2FsZShkLnZhbHVlKSAqIG1hdGhfc2luKHRoaXMuYW5nbGVTbGljZSAqIGkgLSBIQUxGX1BJKSlcbiAgICAgIC5zdHlsZSgnZmlsbCcsIGQgPT4gY2ZnLmNvbG9yKGQuaWQpKVxuICAgICAgLnN0eWxlKCdmaWxsLW9wYWNpdHknLCAwLjgpO1xuXG4gICAgLy8gLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIC8vIC8vLy8vLyBBcHBlbmQgaW52aXNpYmxlIGNpcmNsZXMgZm9yIHRvb2x0aXAgLy8vLy8vLy8vLy9cbiAgICAvLyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAvLyBXcmFwcGVyIGZvciB0aGUgaW52aXNpYmxlIGNpcmNsZXMgb24gdG9wXG4gICAgY29uc3QgYmxvYkNpcmNsZVdyYXBwZXIgPSB0aGlzLmdcbiAgICAgIC5pbnNlcnQoJ2cnLCAnLnRvb2x0aXAnKVxuICAgICAgLmF0dHIoJ2lkJywgZWxlbS5uYW1lLmluZGV4T2YoJyAnKSA+IC0xID8gJ2N0eCcgOiBlbGVtLm5hbWUpXG4gICAgICAuYXR0cignY2xhc3MnLCAncmFkYXJDaXJjbGVXcmFwcGVyJyk7XG5cbiAgICAvLyBBcHBlbmQgYSBzZXQgb2YgaW52aXNpYmxlIGNpcmNsZXMgb24gdG9wIGZvciB0aGUgbW91c2VvdmVyIHBvcC11cFxuICAgIGJsb2JDaXJjbGVXcmFwcGVyLnNlbGVjdEFsbCgnLnJhZGFySW52aXNpYmxlQ2lyY2xlJylcbiAgICAgIC5kYXRhKGVsZW0uYXhlcylcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdjaXJjbGUnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ3JhZGFySW52aXNpYmxlQ2lyY2xlJylcbiAgICAgIC5hdHRyKCdyJywgY2ZnLmRvdFJhZGl1cyAqIDEuNSlcbiAgICAgIC5hdHRyKCdjeCcsIChkLCBpKSA9PiB0aGlzLnJTY2FsZShkLnZhbHVlKSAqIG1hdGhfY29zKHRoaXMuYW5nbGVTbGljZSAqIGkgLSBIQUxGX1BJKSlcbiAgICAgIC5hdHRyKCdjeScsIChkLCBpKSA9PiB0aGlzLnJTY2FsZShkLnZhbHVlKSAqIG1hdGhfc2luKHRoaXMuYW5nbGVTbGljZSAqIGkgLSBIQUxGX1BJKSlcbiAgICAgIC5zdHlsZSgnZmlsbCcsICdub25lJylcbiAgICAgIC5zdHlsZSgncG9pbnRlci1ldmVudHMnLCAnYWxsJylcbiAgICAgIC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgc2VsZi5nLnNlbGVjdCgnLnRvb2x0aXAnKVxuICAgICAgICAgIC5hdHRyKCd4JywgdGhpcy5jeC5iYXNlVmFsLnZhbHVlIC0gMTApXG4gICAgICAgICAgLmF0dHIoJ3knLCB0aGlzLmN5LmJhc2VWYWwudmFsdWUgLSAxMClcbiAgICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ2Jsb2NrJylcbiAgICAgICAgICAudGV4dCh0aGlzLkZvcm1hdChkLnZhbHVlKSArIGNmZy51bml0KTtcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlb3V0JywgKCkgPT4ge1xuICAgICAgICBzZWxmLmcuc2VsZWN0KCcudG9vbHRpcCcpLnRyYW5zaXRpb24oKVxuICAgICAgICAgIC5zdHlsZSgnZGlzcGxheScsICdub25lJykudGV4dCgnJyk7XG4gICAgICB9KTtcbiAgfVxuXG4gIGNoYW5nZU9yZGVyKCkge1xuICAgIHRoaXMuZGF0YSA9IHRoaXMuZGF0YS5zbGljZSgxLCB0aGlzLmRhdGEubGVuZ3RoKS5jb25jYXQodGhpcy5kYXRhLnNsaWNlKDAsIDEpKTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG5cbiAgcHJlcGFyZURhdGEoZGF0YSkge1xuICAgIGFwcC5jdXJyZW50X2NvbmZpZy5uYl92YXIgPSAzO1xuICAgIHRoaXMudmFyaWFibGVzID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvO1xuICAgIHRoaXMucmVmX2RhdGEgPSBkYXRhLnNsaWNlKCkuZmlsdGVyKFxuICAgICAgZnQgPT4gdGhpcy52YXJpYWJsZXMubWFwKHYgPT4gISFmdFt2XSkuZXZlcnkoZCA9PiBkID09PSB0cnVlKSk7XG4gICAgdGhpcy5yYW5rX3ZhcmlhYmxlcyA9IHRoaXMudmFyaWFibGVzLm1hcChkID0+IGBwcl8ke2R9YCk7XG4gICAgdGhpcy52YXJpYWJsZXMuZm9yRWFjaCgoZCwgaSkgPT4ge1xuICAgICAgY29tcHV0ZVBlcmNlbnRpbGVSYW5rKHRoaXMucmVmX2RhdGEsIGQsIHRoaXMucmFua192YXJpYWJsZXNbaV0pO1xuICAgIH0pO1xuICAgIHRoaXMuZGF0YSA9IHByZXBhcmVfZGF0YV9yYWRhcl9kZWZhdWx0KHRoaXMucmVmX2RhdGEsIHRoaXMudmFyaWFibGVzKTtcbiAgICB0aGlzLmRpc3BsYXllZF9pZHMgPSB0aGlzLmRhdGEubWFwKGQgPT4gZC5uYW1lKTtcbiAgICB0aGlzLmN1cnJlbnRfaWRzID0gdGhpcy5yZWZfZGF0YS5tYXAoZCA9PiBkLmlkKTtcbiAgICAvLyBjb25zdCByZWZfaWRzID0gW107XG4gICAgLy8gSWYgdGhlIHN1cHBsaWVkIG1heFZhbHVlIGlzIHNtYWxsZXIgdGhhbiB0aGUgYWN0dWFsIG9uZSwgcmVwbGFjZSBieSB0aGUgbWF4IGluIHRoZSBkYXRhXG4gICAgLy8gdmFyIG1heFZhbHVlID0gbWF4KGNmZy5tYXhWYWx1ZSwgZDMubWF4KGRhdGEsIGZ1bmN0aW9uKGkpe3JldHVybiBkMy5tYXgoaS5tYXAoZnVuY3Rpb24obyl7cmV0dXJuIG8udmFsdWU7fSkpfSkpO1xuICAgIGxldCBtYXhWYWx1ZSA9IDA7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmRhdGEubGVuZ3RoOyBqKyspIHtcbiAgICAgIGNvbnN0IG9uX2F4ZXMgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kYXRhW2pdLmF4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5kYXRhW2pdLmF4ZXNbaV0uaWQgPSB0aGlzLmRhdGFbal0ubmFtZTtcbiAgICAgICAgLy8gb25fYXhlcy5wdXNoKHRoaXMuZGF0YVtqXS5uYW1lKTtcbiAgICAgICAgaWYgKHRoaXMuZGF0YVtqXS5heGVzW2ldLnZhbHVlID4gbWF4VmFsdWUpIHtcbiAgICAgICAgICBtYXhWYWx1ZSA9IHRoaXMuZGF0YVtqXS5heGVzW2ldLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlZl9pZHMucHVzaChvbl9heGVzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLm1heFZhbHVlID0gbWF0aF9tYXgodGhpcy5jZmcubWF4VmFsdWUsIG1heFZhbHVlKTtcbiAgICB0aGlzLmFsbEF4aXMgPSB0aGlzLmRhdGFbMF0uYXhlcy5tYXAoaSA9PiBpLmF4aXMpOyAvLyBOYW1lcyBvZiBlYWNoIGF4aXNcbiAgICB0aGlzLnRvdGFsID0gdGhpcy5hbGxBeGlzLmxlbmd0aDsgLy8gVGhlIG51bWJlciBvZiBkaWZmZXJlbnQgYXhlc1xuICAgIHRoaXMucmFkaXVzID0gTWF0aC5taW4odGhpcy5jZmcudyAvIDIsIHRoaXMuY2ZnLmggLyAyKTsgLy8gUmFkaXVzIG9mIHRoZSBvdXRlcm1vc3QgY2lyY2xlXG4gICAgdGhpcy5Gb3JtYXQgPSBkMy5mb3JtYXQodGhpcy5jZmcuZm9ybWF0KTsgLy8gRm9ybWF0dGluZ1xuICAgIHRoaXMuYW5nbGVTbGljZSA9IE1hdGguUEkgKiAyIC8gdGhpcy50b3RhbDsgLy8gVGhlIHdpZHRoIGluIHJhZGlhbnMgb2YgZWFjaCBcInNsaWNlXCJcbiAgICAvLyBTY2FsZSBmb3IgdGhlIHJhZGl1c1xuICAgIHRoaXMuclNjYWxlID0gZDMuc2NhbGVMaW5lYXIoKVxuICAgICAgLnJhbmdlKFswLCB0aGlzLnJhZGl1c10pXG4gICAgICAuZG9tYWluKFswLCB0aGlzLm1heFZhbHVlXSk7XG4gICAgLy8gVGhlIHJhZGlhbCBsaW5lIGZ1bmN0aW9uXG4gICAgdGhpcy5yYWRhckxpbmUgPSBkMy5yYWRpYWxMaW5lKClcbiAgICAgIC5jdXJ2ZSh0aGlzLmNmZy5yb3VuZFN0cm9rZXMgPyBkMy5jdXJ2ZUNhcmRpbmFsQ2xvc2VkIDogZDMuY3VydmVMaW5lYXJDbG9zZWQpXG4gICAgICAucmFkaXVzKGQgPT4gdGhpcy5yU2NhbGUoZC52YWx1ZSkpXG4gICAgICAuYW5nbGUoKGQsIGkpID0+IGkgKiB0aGlzLmFuZ2xlU2xpY2UpO1xuICB9XG5cbiAgZHJhd0F4aXNHcmlkKCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGNmZyA9IHRoaXMuY2ZnO1xuICAgIGNvbnN0IGcgPSB0aGlzLmc7XG4gICAgY29uc3QgcmFkaXVzID0gdGhpcy5yYWRpdXM7XG4gICAgY29uc3QgRm9ybWF0ID0gdGhpcy5Gb3JtYXQ7XG4gICAgY29uc3QgbWF4VmFsdWUgPSB0aGlzLm1heFZhbHVlO1xuICAgIGNvbnN0IHJTY2FsZSA9IHRoaXMuclNjYWxlO1xuICAgIGNvbnN0IGFuZ2xlU2xpY2UgPSB0aGlzLmFuZ2xlU2xpY2U7XG5cbiAgICBjb25zdCBsYWJlbENsaWNrZWQgPSBmdW5jdGlvbiBsYWJlbENsaWNrZWQoKSB7XG4gICAgICBjb25zdCBpeCA9ICt0aGlzLmlkO1xuICAgICAgaWYgKGl4ICsgMSA9PT0gc2VsZi5hbGxBeGlzLmxlbmd0aCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGYuZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHN3YXAoc2VsZi5kYXRhW2ldLmF4ZXMsIGl4LCAwKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgbmV3X2l4ID0gaXggKyAxO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGYuZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIG1vdmUoc2VsZi5kYXRhW2ldLmF4ZXMsIGl4LCBuZXdfaXgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzZWxmLnVwZGF0ZSgpO1xuICAgIH07XG5cbiAgICBjb25zdCBsYWJlbEN0eE1lbnUgPSBmdW5jdGlvbiBsYWJlbEN0eE1lbnUobGFiZWwpIHtcbiAgICAgIGQzLmV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZDMuZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IGl4ID0gK3RoaXMuaWQ7XG4gICAgICBzZWxmLmludmVyc2VfZGF0YShsYWJlbCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGF4aXNHcmlkID0gZy5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdheGlzV3JhcHBlcicpO1xuXG4gICAgLy8gRHJhdyB0aGUgYmFja2dyb3VuZCBjaXJjbGVzXG4gICAgYXhpc0dyaWQuc2VsZWN0QWxsKCcubGV2ZWxzJylcbiAgICAgIC5kYXRhKGQzLnJhbmdlKDEsIChjZmcubGV2ZWxzICsgMSkpLnJldmVyc2UoKSlcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdjaXJjbGUnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2dyaWRDaXJjbGUnKVxuICAgICAgLmF0dHIoJ3InLCBkID0+IHJhZGl1cyAvIGNmZy5sZXZlbHMgKiBkKVxuICAgICAgLnN0eWxlKCdmaWxsJywgJyNDRENEQ0QnKVxuICAgICAgLnN0eWxlKCdzdHJva2UnLCAnI0NEQ0RDRCcpXG4gICAgICAuc3R5bGUoJ2ZpbGwtb3BhY2l0eScsIGNmZy5vcGFjaXR5Q2lyY2xlcylcbiAgICAgIC5zdHlsZSgnZmlsdGVyJywgJ3VybCgjZ2xvdyknKTtcblxuICAgIC8vIFRleHQgaW5kaWNhdGluZyBhdCB3aGF0ICUgZWFjaCBsZXZlbCBpc1xuICAgIGF4aXNHcmlkLnNlbGVjdEFsbCgnLmF4aXNMYWJlbCcpXG4gICAgICAuZGF0YShkMy5yYW5nZSgxLCAoY2ZnLmxldmVscyArIDEpKS5yZXZlcnNlKCkpXG4gICAgICAuZW50ZXIoKS5hcHBlbmQoJ3RleHQnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2F4aXNMYWJlbCcpXG4gICAgICAuYXR0cigneCcsIDQpXG4gICAgICAuYXR0cigneScsIGQgPT4gLWQgKiByYWRpdXMgLyBjZmcubGV2ZWxzKVxuICAgICAgLmF0dHIoJ2R5JywgJzAuNGVtJylcbiAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgJzEwcHgnKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCAnIzczNzM3MycpXG4gICAgICAudGV4dChkID0+IEZvcm1hdChtYXhWYWx1ZSAqIGQgLyBjZmcubGV2ZWxzKSArIGNmZy51bml0KTtcblxuICAgIC8vIENyZWF0ZSB0aGUgc3RyYWlnaHQgbGluZXMgcmFkaWF0aW5nIG91dHdhcmQgZnJvbSB0aGUgY2VudGVyXG4gICAgY29uc3QgYXhpcyA9IGF4aXNHcmlkLnNlbGVjdEFsbCgnLmF4aXMnKVxuICAgICAgLmRhdGEodGhpcy5hbGxBeGlzKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2F4aXMnKTtcbiAgICAvLyBBcHBlbmQgdGhlIGxpbmVzXG4gICAgYXhpcy5hcHBlbmQoJ2xpbmUnKVxuICAgICAgLmF0dHIoJ3gxJywgMClcbiAgICAgIC5hdHRyKCd5MScsIDApXG4gICAgICAuYXR0cigneDInLCAoZCwgaSkgPT4gclNjYWxlKG1heFZhbHVlICogMS4xKSAqIG1hdGhfY29zKGFuZ2xlU2xpY2UgKiBpIC0gSEFMRl9QSSkpXG4gICAgICAuYXR0cigneTInLCAoZCwgaSkgPT4gclNjYWxlKG1heFZhbHVlICogMS4xKSAqIG1hdGhfc2luKGFuZ2xlU2xpY2UgKiBpIC0gSEFMRl9QSSkpXG4gICAgICAuYXR0cignY2xhc3MnLCAnbGluZScpXG4gICAgICAuc3R5bGUoJ3N0cm9rZScsICd3aGl0ZScpXG4gICAgICAuc3R5bGUoJ3N0cm9rZS13aWR0aCcsICcycHgnKTtcblxuICAgIC8vIEFwcGVuZCB0aGUgbGFiZWxzIGF0IGVhY2ggYXhpc1xuICAgIGF4aXMuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdsZWdlbmQnKVxuICAgICAgLnN0eWxlKCdmb250LXNpemUnLCAnMTFweCcpXG4gICAgICAuYXR0cignaWQnLCAoZCwgaSkgPT4gaSlcbiAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKVxuICAgICAgLmF0dHIoJ2R5JywgJzAuMzVlbScpXG4gICAgICAuYXR0cigneCcsIChkLCBpKSA9PiByU2NhbGUobWF4VmFsdWUgKiBjZmcubGFiZWxGYWN0b3IpICogbWF0aF9jb3MoYW5nbGVTbGljZSAqIGkgLSBIQUxGX1BJKSlcbiAgICAgIC5hdHRyKCd5JywgKGQsIGkpID0+IHJTY2FsZShtYXhWYWx1ZSAqIGNmZy5sYWJlbEZhY3RvcikgKiBtYXRoX3NpbihhbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpKVxuICAgICAgLnRleHQoZCA9PiBkKVxuICAgICAgLm9uKCdjbGljaycsIGxhYmVsQ2xpY2tlZClcbiAgICAgIC5vbignY29udGV4dG1lbnUnLCBjZmcuYWxsb3dJbnZlcnNlRGF0YSA/IGxhYmVsQ3R4TWVudSA6IG51bGwpXG4gICAgICAuY2FsbCh3cmFwLCBjZmcud3JhcFdpZHRoKTtcblxuICAgIC8vIEZpbHRlciBmb3IgdGhlIG91dHNpZGUgZ2xvd1xuICAgIGNvbnN0IGZpbHRlciA9IGcuYXBwZW5kKCdkZWZzJylcbiAgICAgIC5hcHBlbmQoJ2ZpbHRlcicpXG4gICAgICAuYXR0cignaWQnLCAnZ2xvdycpO1xuICAgIGZpbHRlci5hcHBlbmQoJ2ZlR2F1c3NpYW5CbHVyJylcbiAgICAgIC5hdHRyKCdzdGREZXZpYXRpb24nLCAnMi41JylcbiAgICAgIC5hdHRyKCdyZXN1bHQnLCAnY29sb3JlZEJsdXInKTtcbiAgICBjb25zdCBmZU1lcmdlID0gZmlsdGVyLmFwcGVuZCgnZmVNZXJnZScpO1xuICAgIGZlTWVyZ2UuYXBwZW5kKCdmZU1lcmdlTm9kZScpLmF0dHIoJ2luJywgJ2NvbG9yZWRCbHVyJyk7XG4gICAgZmVNZXJnZS5hcHBlbmQoJ2ZlTWVyZ2VOb2RlJykuYXR0cignaW4nLCAnU291cmNlR3JhcGhpYycpO1xuXG4gICAgdGhpcy5heGlzR3JpZCA9IGF4aXNHcmlkO1xuICB9XG5cbiAgaGFuZGxlTGVnZW5kKCkge1xuICAgIGNvbnN0IGNmZyA9IHRoaXMuY2ZnO1xuICAgIGlmIChjZmcubGVnZW5kICE9PSBmYWxzZSAmJiB0eXBlb2YgY2ZnLmxlZ2VuZCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGNvbnN0IG5hbWVzID0gdGhpcy5kYXRhLm1hcChlbCA9PiBlbC5uYW1lKTtcbiAgICAgIGlmIChjZmcubGVnZW5kLnRpdGxlKSB7XG4gICAgICAgIHRoaXMubGVnZW5kWm9uZS5hcHBlbmQoJ3RleHQnKVxuICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd0aXRsZScpXG4gICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMCwgLTIwKScpXG4gICAgICAgICAgLmF0dHIoJ3gnLCBjZmcudyAtIDcwKVxuICAgICAgICAgIC5hdHRyKCd5JywgMTApXG4gICAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsICcxMnB4JylcbiAgICAgICAgICAuYXR0cignZmlsbCcsICcjNDA0MDQwJylcbiAgICAgICAgICAudGV4dChjZmcubGVnZW5kLnRpdGxlKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGxlZ2VuZCA9IHRoaXMubGVnZW5kWm9uZVxuICAgICAgICAuc2VsZWN0QWxsKCdnJylcbiAgICAgICAgLmRhdGEobmFtZXMpO1xuICAgICAgY29uc3QgbGVnZW5kRW50ZXIgPSBsZWdlbmRcbiAgICAgICAgLmVudGVyKClcbiAgICAgICAgLmFwcGVuZCgnZycpO1xuXG4gICAgICAvLyBDcmVhdGUgcmVjdGFuZ2xlcyBtYXJrZXJzXG4gICAgICBsZWdlbmRFbnRlclxuICAgICAgICAuYXBwZW5kKCdyZWN0JylcbiAgICAgICAgLmF0dHIoJ3gnLCBjZmcudyAtIDY1KVxuICAgICAgICAuYXR0cigneScsIChkLCBpKSA9PiBpICogMjApXG4gICAgICAgIC5hdHRyKCd3aWR0aCcsIDEwKVxuICAgICAgICAuYXR0cignaGVpZ2h0JywgMTApXG4gICAgICAgIC5zdHlsZSgnZmlsbCcsIGQgPT4gY2ZnLmNvbG9yKGQpKTtcbiAgICAgIC8vIENyZWF0ZSBsYWJlbHNcbiAgICAgIGxlZ2VuZEVudGVyXG4gICAgICAgIC5hcHBlbmQoJ3RleHQnKVxuICAgICAgICAuYXR0cigneCcsIGNmZy53IC0gNTIpXG4gICAgICAgIC5hdHRyKCd5JywgKGQsIGkpID0+IGkgKiAyMCArIDkpXG4gICAgICAgIC5hdHRyKCdmb250LXNpemUnLCAnMTFweCcpXG4gICAgICAgIC5hdHRyKCdmaWxsJywgJyM3MzczNzMnKVxuICAgICAgICAudGV4dChkID0+IGQpO1xuXG4gICAgICBsZWdlbmQubWVyZ2UobGVnZW5kRW50ZXIpLnNlbGVjdEFsbCgncmVjdCcpXG4gICAgICAgIC5hdHRyKCd5JywgKGQsIGkpID0+IGkgKiAyMClcbiAgICAgICAgLnN0eWxlKCdmaWxsJywgZCA9PiBjZmcuY29sb3IoZCkpO1xuXG4gICAgICBsZWdlbmQubWVyZ2UobGVnZW5kRW50ZXIpLnNlbGVjdEFsbCgndGV4dCcpXG4gICAgICAgIC5hdHRyKCd4JywgY2ZnLncgLSA1MilcbiAgICAgICAgLmF0dHIoJ3knLCAoZCwgaSkgPT4gaSAqIDIwICsgOSlcbiAgICAgICAgLnRleHQoZCA9PiBkKTtcblxuICAgICAgbGVnZW5kLmV4aXQoKS5yZW1vdmUoKTtcbiAgICB9XG4gIH1cblxuICBkcmF3QXJlYSgpIHtcbiAgICBjb25zdCBjZmcgPSB0aGlzLmNmZztcbiAgICBjb25zdCBnID0gdGhpcy5nO1xuICAgIGNvbnN0IEZvcm1hdCA9IHRoaXMuRm9ybWF0O1xuICAgIGNvbnN0IHJTY2FsZSA9IHRoaXMuclNjYWxlO1xuICAgIGNvbnN0IGFuZ2xlU2xpY2UgPSB0aGlzLmFuZ2xlU2xpY2U7XG5cbiAgICAvLyBDcmVhdGUgYSB3cmFwcGVyIGZvciB0aGUgYmxvYnNcbiAgICBjb25zdCBibG9iV3JhcHBlciA9IGcuc2VsZWN0QWxsKCcucmFkYXJXcmFwcGVyJylcbiAgICAgIC5kYXRhKHRoaXMuZGF0YSwgZCA9PiBkLm5hbWUpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignaWQnLCBkID0+IChkLm5hbWUuaW5kZXhPZignICcpID4gLTEgPyAnY3R4JyA6IGQubmFtZSkpXG4gICAgICAuYXR0cignY2xhc3MnLCAncmFkYXJXcmFwcGVyJyk7XG5cbiAgICAvLyBBcHBlbmQgdGhlIGJhY2tncm91bmRzXG4gICAgYmxvYldyYXBwZXJcbiAgICAgIC5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ3JhZGFyQXJlYScpXG4gICAgICAuYXR0cignZCcsIGQgPT4gdGhpcy5yYWRhckxpbmUoZC5heGVzKSlcbiAgICAgIC5zdHlsZSgnZmlsbCcsIChkLCBpKSA9PiBjZmcuY29sb3IoaSkpXG4gICAgICAuc3R5bGUoJ2ZpbGwtb3BhY2l0eScsIDApXG4gICAgICAuc3R5bGUoJ2ZpbGwtb3BhY2l0eScsIGNmZy5vcGFjaXR5QXJlYSlcbiAgICAgIC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBEaW0gYWxsIGJsb2JzXG4gICAgICAgIGJsb2JXcmFwcGVyLnNlbGVjdEFsbCgnLnJhZGFyQXJlYScpXG4gICAgICAgICAgLnRyYW5zaXRpb24oKS5kdXJhdGlvbigyMDApXG4gICAgICAgICAgLnN0eWxlKCdmaWxsLW9wYWNpdHknLCAwLjEpO1xuICAgICAgICAvLyBCcmluZyBiYWNrIHRoZSBob3ZlcmVkIG92ZXIgYmxvYlxuICAgICAgICBkMy5zZWxlY3QodGhpcylcbiAgICAgICAgICAudHJhbnNpdGlvbigpLmR1cmF0aW9uKDIwMClcbiAgICAgICAgICAuc3R5bGUoJ2ZpbGwtb3BhY2l0eScsIDAuNyk7XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZW91dCcsICgpID0+IHtcbiAgICAgICAgLy8gQnJpbmcgYmFjayBhbGwgYmxvYnNcbiAgICAgICAgYmxvYldyYXBwZXIuc2VsZWN0QWxsKCcucmFkYXJBcmVhJylcbiAgICAgICAgICAudHJhbnNpdGlvbigpLmR1cmF0aW9uKDIwMClcbiAgICAgICAgICAuc3R5bGUoJ2ZpbGwtb3BhY2l0eScsIGNmZy5vcGFjaXR5QXJlYSk7XG4gICAgICB9KTtcbiAgICAgIC8vIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyAgIGNvbnN0IHAgPSB0aGlzLnBhcmVudEVsZW1lbnQ7XG4gICAgICAvLyAgIGlmIChwLnByZXZpb3VzU2libGluZy5jbGFzc05hbWUgIT09ICd0b29sdGlwJykge1xuICAgICAgLy8gICAgIGNvbnN0IGdyb3VwID0gZy5ub2RlKCk7XG4gICAgICAvLyAgICAgZ3JvdXAuaW5zZXJ0QmVmb3JlKHAsIGdyb3VwLnF1ZXJ5U2VsZWN0b3IoJy50b29sdGlwJykpO1xuICAgICAgLy8gICAgIGNvbnN0IG5ld19vcmRlciA9IFtdO1xuICAgICAgLy8gICAgIGcuc2VsZWN0QWxsKCcucmFkYXJXcmFwcGVyJykuZWFjaChkID0+IG5ld19vcmRlci5wdXNoKGQubmFtZSkpO1xuICAgICAgLy8gICAgIG5ld19vcmRlci5yZXZlcnNlKCk7XG4gICAgICAvLyAgICAgdXBkYXRlTGVnZW5kKG5ld19vcmRlcik7XG4gICAgICAvLyAgIH1cbiAgICAgIC8vIH0pO1xuXG4gICAgLy8gQ3JlYXRlIHRoZSBvdXRsaW5lc1xuICAgIGJsb2JXcmFwcGVyLmFwcGVuZCgncGF0aCcpXG4gICAgICAuYXR0cignY2xhc3MnLCAncmFkYXJTdHJva2UnKVxuICAgICAgLmF0dHIoJ2QnLCBkID0+IHRoaXMucmFkYXJMaW5lKGQuYXhlcykpXG4gICAgICAuc3R5bGUoJ3N0cm9rZS13aWR0aCcsIGAke2NmZy5zdHJva2VXaWR0aH1weGApXG4gICAgICAuc3R5bGUoJ3N0cm9rZScsIChkLCBpKSA9PiBjZmcuY29sb3IoaSkpXG4gICAgICAuc3R5bGUoJ2ZpbGwnLCAnbm9uZScpXG4gICAgICAuc3R5bGUoJ2ZpbHRlcicsICd1cmwoI2dsb3cpJyk7XG5cbiAgICAvLyBBcHBlbmQgdGhlIGNpcmNsZXNcbiAgICBibG9iV3JhcHBlci5zZWxlY3RBbGwoJy5yYWRhckNpcmNsZScpXG4gICAgICAuZGF0YShkID0+IGQuYXhlcylcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdjaXJjbGUnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ3JhZGFyQ2lyY2xlJylcbiAgICAgIC5hdHRyKCdyJywgY2ZnLmRvdFJhZGl1cylcbiAgICAgIC5hdHRyKCdjeCcsIChkLCBpKSA9PiByU2NhbGUoZC52YWx1ZSkgKiBtYXRoX2NvcyhhbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpKVxuICAgICAgLmF0dHIoJ2N5JywgKGQsIGkpID0+IHJTY2FsZShkLnZhbHVlKSAqIG1hdGhfc2luKGFuZ2xlU2xpY2UgKiBpIC0gSEFMRl9QSSkpXG4gICAgICAuc3R5bGUoJ2ZpbGwnLCBkID0+IGNmZy5jb2xvcihkLmlkKSlcbiAgICAgIC5zdHlsZSgnZmlsbC1vcGFjaXR5JywgMC44KTtcblxuICAgIC8vIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyAvLy8vLy8gQXBwZW5kIGludmlzaWJsZSBjaXJjbGVzIGZvciB0b29sdGlwIC8vLy8vLy8vLy8vXG4gICAgLy8gLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgLy8gV3JhcHBlciBmb3IgdGhlIGludmlzaWJsZSBjaXJjbGVzIG9uIHRvcFxuICAgIGNvbnN0IGJsb2JDaXJjbGVXcmFwcGVyID0gZy5zZWxlY3RBbGwoJy5yYWRhckNpcmNsZVdyYXBwZXInKVxuICAgICAgLmRhdGEodGhpcy5kYXRhLCBkID0+IGQubmFtZSlcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdpZCcsIGQgPT4gKGQubmFtZS5pbmRleE9mKCcgJykgPiAtMSA/ICdjdHgnIDogZC5uYW1lKSlcbiAgICAgIC5hdHRyKCdjbGFzcycsICdyYWRhckNpcmNsZVdyYXBwZXInKTtcblxuICAgIC8vIEFwcGVuZCBhIHNldCBvZiBpbnZpc2libGUgY2lyY2xlcyBvbiB0b3AgZm9yIHRoZSBtb3VzZW92ZXIgcG9wLXVwXG4gICAgYmxvYkNpcmNsZVdyYXBwZXIuc2VsZWN0QWxsKCcucmFkYXJJbnZpc2libGVDaXJjbGUnKVxuICAgICAgLmRhdGEoZCA9PiBkLmF4ZXMpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgnY2lyY2xlJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdyYWRhckludmlzaWJsZUNpcmNsZScpXG4gICAgICAuYXR0cigncicsIGNmZy5kb3RSYWRpdXMgKiAxLjUpXG4gICAgICAuYXR0cignY3gnLCAoZCwgaSkgPT4gclNjYWxlKGQudmFsdWUpICogbWF0aF9jb3MoYW5nbGVTbGljZSAqIGkgLSBIQUxGX1BJKSlcbiAgICAgIC5hdHRyKCdjeScsIChkLCBpKSA9PiByU2NhbGUoZC52YWx1ZSkgKiBtYXRoX3NpbihhbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpKVxuICAgICAgLnN0eWxlKCdmaWxsJywgJ25vbmUnKVxuICAgICAgLnN0eWxlKCdwb2ludGVyLWV2ZW50cycsICdhbGwnKVxuICAgICAgLm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICBnLnNlbGVjdCgnLnRvb2x0aXAnKVxuICAgICAgICAgIC5hdHRyKCd4JywgdGhpcy5jeC5iYXNlVmFsLnZhbHVlIC0gMTApXG4gICAgICAgICAgLmF0dHIoJ3knLCB0aGlzLmN5LmJhc2VWYWwudmFsdWUgLSAxMClcbiAgICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ2Jsb2NrJylcbiAgICAgICAgICAudGV4dChGb3JtYXQoZC52YWx1ZSkgKyBjZmcudW5pdCk7XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZW91dCcsICgpID0+IHtcbiAgICAgICAgZy5zZWxlY3QoJy50b29sdGlwJykudHJhbnNpdGlvbigpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKS50ZXh0KCcnKTtcbiAgICAgIH0pO1xuXG4gICAgY29uc3QgdG9vbHRpcCA9IGcuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRyKCdjbGFzcycsICd0b29sdGlwJylcbiAgICAgIC5hdHRyKCd4JywgMClcbiAgICAgIC5hdHRyKCd5JywgMClcbiAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgJzEycHgnKVxuICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKVxuICAgICAgLmF0dHIoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpXG4gICAgICAuYXR0cignZHknLCAnMC4zNWVtJyk7XG5cbiAgICB0aGlzLmxlZ2VuZFpvbmUgPSBzdmdfYmFyLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignaWQnLCAnbGVnZW5kWm9uZScpXG4gICAgICAuYXR0cignY2xhc3MnLCAnbGVnZW5kJylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7Y2ZnLmxlZ2VuZC50cmFuc2xhdGVYfSwke2NmZy5sZWdlbmQudHJhbnNsYXRlWSArIDIwfSlgKTtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBjb25zdCByU2NhbGUgPSB0aGlzLnJTY2FsZTtcbiAgICBjb25zdCBtYXhWYWx1ZSA9IHRoaXMubWF4VmFsdWU7XG4gICAgY29uc3QgY2ZnID0gdGhpcy5jZmc7XG4gICAgY29uc3QgYW5nbGVTbGljZSA9IHRoaXMuYW5nbGVTbGljZTtcbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmN1cnJlbnRfaWRzKTtcbiAgICAvLyBpZiAobmV3X2RhdGEpIHtcbiAgICAvLyAgIGNvbnN0IG5ld19heGlzID0gbmV3X2RhdGFbMF0uYXhlcy5tYXAoZWxlbSA9PiBlbGVtLmF4aXMpO1xuICAgIC8vICAgaWYgKCEoSlNPTi5zdHJpbmdpZnkobmV3X2F4aXMpID09PSBKU09OLnN0cmluZ2lmeSh0aGlzLmFsbEF4aXMpKSkge1xuICAgIC8vICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIGVsZW1lbnQgd2l0aCBzYW1lIGF4ZXMgbmFtZSB0aGFuIGV4aXN0aW5nIGRhdGEuJyk7XG4gICAgLy8gICB9XG4gICAgLy8gICB0aGlzLmRhdGEgPSBuZXdfZGF0YTtcbiAgICAvLyAgIHRoaXMuYWxsQXhpcyA9IG5ld19heGlzO1xuICAgIC8vIH0gZWxzZSB7XG4gICAgdGhpcy5hbGxBeGlzID0gdGhpcy5kYXRhWzBdLmF4ZXMubWFwKGVsZW0gPT4gZWxlbS5heGlzKTtcbiAgICAvLyB9XG4gICAgY29uc3QgdXBkYXRlX2F4aXMgPSB0aGlzLmF4aXNHcmlkLnNlbGVjdEFsbCgnLmF4aXMnKVxuICAgICAgLmRhdGEodGhpcy5hbGxBeGlzKTtcblxuICAgIGNvbnN0IHQgPSB0aGlzLmcuc2VsZWN0QWxsKCcucmFkYXJXcmFwcGVyJylcbiAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgIC5kdXJhdGlvbigyMjUpO1xuICAgICAgLy8gLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgICAvLyAgIHBhcmVudC5zZWxlY3RBbGwoJ3RleHQubGVnZW5kJylcbiAgICAgIC8vICAgICAudGV4dChkID0+IGQpXG4gICAgICAvLyAgICAgLmNhbGwod3JhcCwgY2ZnLndyYXBXaWR0aCk7XG4gICAgICAvLyAgIC8vIHdyYXAocGFyZW50LnNlbGVjdEFsbCgndGV4dC5sZWdlbmQnKSwgY2ZnLndyYXBXaWR0aCk7XG4gICAgICAvLyB9KTtcbiAgICB1cGRhdGVfYXhpcy5zZWxlY3QoJ3RleHQubGVnZW5kJylcbiAgICAgIC5hdHRyKCdpZCcsIChkLCBpKSA9PiBpKVxuICAgICAgLmF0dHIoJ3gnLCAoZCwgaSkgPT4gclNjYWxlKG1heFZhbHVlICogY2ZnLmxhYmVsRmFjdG9yKSAqIG1hdGhfY29zKGFuZ2xlU2xpY2UgKiBpIC0gSEFMRl9QSSkpXG4gICAgICAuYXR0cigneScsIChkLCBpKSA9PiByU2NhbGUobWF4VmFsdWUgKiBjZmcubGFiZWxGYWN0b3IpICogbWF0aF9zaW4oYW5nbGVTbGljZSAqIGkgLSBIQUxGX1BJKSlcbiAgICAgIC50ZXh0KGQgPT4gZClcbiAgICAgIC5jYWxsKHdyYXAsIGNmZy53cmFwV2lkdGgpO1xuXG4gICAgY29uc3QgdXBkYXRlX2Jsb2JXcmFwcGVyID0gdGhpcy5nLnNlbGVjdEFsbCgnLnJhZGFyV3JhcHBlcicpXG4gICAgICAuZGF0YSh0aGlzLmRhdGEsIGQgPT4gZC5uYW1lKTtcblxuICAgIHVwZGF0ZV9ibG9iV3JhcHBlci5zZWxlY3QoJy5yYWRhckFyZWEnKVxuICAgICAgLnRyYW5zaXRpb24odClcbiAgICAgIC5hdHRyKCdkJywgZCA9PiB0aGlzLnJhZGFyTGluZShkLmF4ZXMpKTtcblxuICAgIHVwZGF0ZV9ibG9iV3JhcHBlci5zZWxlY3QoJy5yYWRhclN0cm9rZScpXG4gICAgICAudHJhbnNpdGlvbih0KVxuICAgICAgLmF0dHIoJ2QnLCBkID0+IHRoaXMucmFkYXJMaW5lKGQuYXhlcykpO1xuXG4gICAgY29uc3QgY2lyY2xlID0gdXBkYXRlX2Jsb2JXcmFwcGVyLnNlbGVjdEFsbCgnLnJhZGFyQ2lyY2xlJylcbiAgICAgIC5kYXRhKGQgPT4gZC5heGVzKTtcbiAgICBjaXJjbGVcbiAgICAgIC50cmFuc2l0aW9uKHQpXG4gICAgICAuYXR0cignY3gnLCAoZCwgaSkgPT4gclNjYWxlKGQudmFsdWUpICogbWF0aF9jb3MoYW5nbGVTbGljZSAqIGkgLSBIQUxGX1BJKSlcbiAgICAgIC5hdHRyKCdjeScsIChkLCBpKSA9PiByU2NhbGUoZC52YWx1ZSkgKiBtYXRoX3NpbihhbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpKVxuICAgICAgLnN0eWxlKCdmaWxsJywgZCA9PiBjZmcuY29sb3IoZC5pZCkpXG4gICAgICAuc3R5bGUoJ2ZpbGwtb3BhY2l0eScsIDAuOCk7XG5cbiAgICBjb25zdCB1cGRhdGVfYmxvYkNpcmNsZVdyYXBwZXIgPSB0aGlzLmcuc2VsZWN0QWxsKCcucmFkYXJDaXJjbGVXcmFwcGVyJylcbiAgICAgIC5kYXRhKHRoaXMuZGF0YSwgZCA9PiBkLm5hbWUpO1xuXG4gICAgY29uc3QgaW52aXNpYmxlQ2lyY2xlID0gdXBkYXRlX2Jsb2JDaXJjbGVXcmFwcGVyLnNlbGVjdEFsbCgnLnJhZGFySW52aXNpYmxlQ2lyY2xlJylcbiAgICAgIC5kYXRhKGQgPT4gZC5heGVzKTtcbiAgICBpbnZpc2libGVDaXJjbGVcbiAgICAgIC50cmFuc2l0aW9uKHQpXG4gICAgICAuYXR0cignY3gnLCAoZCwgaSkgPT4gclNjYWxlKGQudmFsdWUpICogbWF0aF9jb3MoYW5nbGVTbGljZSAqIGkgLSBIQUxGX1BJKSlcbiAgICAgIC5hdHRyKCdjeScsIChkLCBpKSA9PiByU2NhbGUoZC52YWx1ZSkgKiBtYXRoX3NpbihhbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpKTtcbiAgfVxuXG4gIHJvdW5kX3N0cm9rZSh2YWwpIHtcbiAgICBpZiAodmFsID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLmNmZy5yb3VuZFN0cm9rZXM7XG4gICAgfSBlbHNlIGlmICh2YWwgIT09IHRoaXMuY2ZnLnJvdW5kU3Ryb2tlcykge1xuICAgICAgdGhpcy5jZmcucm91bmRTdHJva2VzID0gdmFsO1xuICAgICAgdGhpcy5yYWRhckxpbmUgPSBkMy5yYWRpYWxMaW5lKClcbiAgICAgICAgLmN1cnZlKHRoaXMuY2ZnLnJvdW5kU3Ryb2tlcyA/IGQzLmN1cnZlQ2FyZGluYWxDbG9zZWQgOiBkMy5jdXJ2ZUxpbmVhckNsb3NlZClcbiAgICAgICAgLnJhZGl1cyhkID0+IHRoaXMuclNjYWxlKGQudmFsdWUpKVxuICAgICAgICAuYW5nbGUoKGQsIGkpID0+IGkgKiB0aGlzLmFuZ2xlU2xpY2UpO1xuICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbDtcbiAgfVxuXG4gIGJpbmRNYXAobWFwX2VsZW0pIHtcbiAgICB0aGlzLm1hcF9lbGVtID0gbWFwX2VsZW07XG4gICAgdGhpcy5tYXBfZWxlbS5yZXNldENvbG9ycyh0aGlzLmN1cnJlbnRfaWRzKTtcbiAgfVxuXG4gIHJlbW92ZSgpIHtcbiAgICB0aGlzLnRhYmxlX3N0YXRzLnJlbW92ZSgpO1xuICAgIHRoaXMudGFibGVfc3RhdHMgPSBudWxsO1xuICAgIHRoaXMubWFwX2VsZW0udW5iaW5kQnJ1c2goKTtcbiAgICB0aGlzLm1hcF9lbGVtID0gbnVsbDtcbiAgICBzdmdfYmFyLmh0bWwoJycpO1xuICB9XG5cbiAgdXBkYXRlQ2hhbmdlUmVnaW9uKCkge1xuICAgIC8vIGlmIChhcHAuY3VycmVudF9jb25maWcuZmlsdGVyX2tleSkge1xuICAgIHRoaXMuY2hhbmdlU3R1ZHlab25lKCk7XG4gICAgLy8gfSBlbHNlIHtcbiAgICAvL1xuICAgIC8vIH1cbiAgfVxuXG4gIGNoYW5nZVN0dWR5Wm9uZSgpIHtcbiAgICB0aGlzLnZhcmlhYmxlcyA9IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpbztcbiAgICB0aGlzLnJlZl9kYXRhID0gYXBwLmN1cnJlbnRfZGF0YS5zbGljZSgpLmZpbHRlcihcbiAgICAgIGZ0ID0+IHRoaXMudmFyaWFibGVzLm1hcCh2ID0+ICEhZnRbdl0pLmV2ZXJ5KGQgPT4gZCA9PT0gdHJ1ZSkpO1xuICAgIHRoaXMucmFua192YXJpYWJsZXMgPSB0aGlzLnZhcmlhYmxlcy5tYXAoZCA9PiBgcHJfJHtkfWApO1xuICAgIHRoaXMudmFyaWFibGVzLmZvckVhY2goKGQsIGkpID0+IHtcbiAgICAgIGNvbXB1dGVQZXJjZW50aWxlUmFuayh0aGlzLnJlZl9kYXRhLCBkLCB0aGlzLnJhbmtfdmFyaWFibGVzW2ldKTtcbiAgICB9KTtcbiAgICB0aGlzLmRhdGEgPSBwcmVwYXJlX2RhdGFfcmFkYXJfZGVmYXVsdCh0aGlzLnJlZl9kYXRhLCB0aGlzLnZhcmlhYmxlcyk7XG4gICAgdGhpcy5jdXJyZW50X2lkcyA9IHRoaXMucmVmX2RhdGEubWFwKGQgPT4gZC5pZCk7XG4gICAgdGhpcy5kaXNwbGF5ZWRfaWRzID0gdGhpcy5kYXRhLm1hcChkID0+IGQubmFtZSk7XG4gICAgcmVzZXRDb2xvcnMoKTtcbiAgICB0aGlzLm5iRnQgPSB0aGlzLmRhdGEubGVuZ3RoO1xuICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgICB0aGlzLnVwZGF0ZVRhYmxlU3RhdCgpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cblxuICBhZGRWYXJpYWJsZShjb2RlX3ZhcmlhYmxlLCBuYW1lX3ZhcmlhYmxlKSB7XG4gICAgY29uc3Qgb3RoZXJfZmVhdHVyZXMgPSB0aGlzLmRpc3BsYXllZF9pZHMuZmlsdGVyKGQgPT4gZCAhPT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbiAmJiBkICE9PSAnTW95ZW5uZSBkdSBjb250ZXh0ZSBkXFwnw6l0dWRlJyk7XG5cbiAgICB0aGlzLmcucmVtb3ZlKCk7XG4gICAgdGhpcy5nID0gc3ZnX2Jhci5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2lkJywgJ1JhZGFyR3JwJylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7dGhpcy5jZmcudyAvIDIgKyB0aGlzLmNmZy5tYXJnaW4ubGVmdH0sJHt0aGlzLmNmZy5oIC8gMiArIHRoaXMuY2ZnLm1hcmdpbi50b3B9KWApO1xuXG4gICAgdGhpcy5wcmVwYXJlRGF0YShhcHAuY3VycmVudF9kYXRhKTtcbiAgICB0aGlzLmRyYXdBeGlzR3JpZCgpO1xuICAgIHRoaXMuZHJhd0FyZWEoKTtcbiAgICB0aGlzLmhhbmRsZUxlZ2VuZCgpO1xuICAgIG90aGVyX2ZlYXR1cmVzLmZvckVhY2goKGlkKSA9PiB7XG4gICAgICBjb25zdCBhID0gcHJlcGFyZV9kYXRhX3JhZGFyX2Z0KHRoaXMucmVmX2RhdGEsIHRoaXMudmFyaWFibGVzLCBpZCk7XG4gICAgICB0aGlzLmFkZF9lbGVtZW50KGEpO1xuICAgIH0pO1xuICAgIC8vIHRoaXMudXBkYXRlKCk7XG4gICAgLy8gdGhpcy52YXJpYWJsZXMgPSBhcHAuY3VycmVudF9jb25maWcucmF0aW87XG4gICAgLy8gdGhpcy5yZWZfZGF0YSA9IGFwcC5jdXJyZW50X2RhdGEuc2xpY2UoKS5maWx0ZXIoXG4gICAgLy8gICBmdCA9PiB0aGlzLnZhcmlhYmxlcy5tYXAodiA9PiAhIWZ0W3ZdKS5ldmVyeShkID0+IGQgPT09IHRydWUpKTtcbiAgICAvLyB0aGlzLnJhbmtfdmFyaWFibGVzID0gdGhpcy52YXJpYWJsZXMubWFwKGQgPT4gYHByXyR7ZH1gKTtcbiAgICAvLyB0aGlzLnZhcmlhYmxlcy5mb3JFYWNoKChkLCBpKSA9PiB7XG4gICAgLy8gICBjb21wdXRlUGVyY2VudGlsZVJhbmsodGhpcy5yZWZfZGF0YSwgZCwgdGhpcy5yYW5rX3ZhcmlhYmxlc1tpXSk7XG4gICAgLy8gfSk7XG4gICAgLy8gdGhpcy5kYXRhID0gcHJlcGFyZV9kYXRhX3JhZGFyX2RlZmF1bHQodGhpcy5yZWZfZGF0YSwgdGhpcy52YXJpYWJsZXMpO1xuICAgIC8vIHRoaXMuY3VycmVudF9pZHMgPSB0aGlzLnJlZl9kYXRhLm1hcChkID0+IGQuaWQpO1xuICAgIC8vIHJlc2V0Q29sb3JzKCk7XG4gICAgLy8gdGhpcy5uYkZ0ID0gdGhpcy5kYXRhLmxlbmd0aDtcbiAgICAvLyB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgLy8gdGhpcy51cGRhdGVUYWJsZVN0YXQoKTtcbiAgICAvLyB0aGlzLnVwZGF0ZSgpO1xuICB9XG5cbiAgcmVtb3ZlVmFyaWFibGUoY29kZV92YXJpYWJsZSkge1xuICAgIHRoaXMuZy5yZW1vdmUoKTtcbiAgICB0aGlzLmcgPSBzdmdfYmFyLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignaWQnLCAnUmFkYXJHcnAnKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHt0aGlzLmNmZy53IC8gMiArIHRoaXMuY2ZnLm1hcmdpbi5sZWZ0fSwke3RoaXMuY2ZnLmggLyAyICsgdGhpcy5jZmcubWFyZ2luLnRvcH0pYCk7XG5cbiAgICB0aGlzLnByZXBhcmVEYXRhKGFwcC5jdXJyZW50X2RhdGEpO1xuICAgIHRoaXMuZHJhd0F4aXNHcmlkKCk7XG4gICAgdGhpcy5kcmF3QXJlYSgpO1xuICAgIHRoaXMuaGFuZGxlTGVnZW5kKCk7XG4gICAgLy8gdGhpcy52YXJpYWJsZXMgPSBhcHAuY3VycmVudF9jb25maWcucmF0aW87XG4gICAgLy8gdGhpcy5yZWZfZGF0YSA9IGFwcC5jdXJyZW50X2RhdGEuc2xpY2UoKS5maWx0ZXIoXG4gICAgLy8gICBmdCA9PiB0aGlzLnZhcmlhYmxlcy5tYXAodiA9PiAhIWZ0W3ZdKS5ldmVyeShkID0+IGQgPT09IHRydWUpKTtcbiAgICAvLyB0aGlzLnJhbmtfdmFyaWFibGVzID0gdGhpcy52YXJpYWJsZXMubWFwKGQgPT4gYHByXyR7ZH1gKTtcbiAgICAvLyB0aGlzLnZhcmlhYmxlcy5mb3JFYWNoKChkLCBpKSA9PiB7XG4gICAgLy8gICBjb21wdXRlUGVyY2VudGlsZVJhbmsodGhpcy5yZWZfZGF0YSwgZCwgdGhpcy5yYW5rX3ZhcmlhYmxlc1tpXSk7XG4gICAgLy8gfSk7XG4gICAgLy8gdGhpcy5kYXRhID0gcHJlcGFyZV9kYXRhX3JhZGFyX2RlZmF1bHQodGhpcy5yZWZfZGF0YSwgdGhpcy52YXJpYWJsZXMpO1xuICAgIC8vIHRoaXMuY3VycmVudF9pZHMgPSB0aGlzLnJlZl9kYXRhLm1hcChkID0+IGQuaWQpO1xuICAgIC8vIHJlc2V0Q29sb3JzKCk7XG4gICAgLy8gdGhpcy5uYkZ0ID0gdGhpcy5kYXRhLmxlbmd0aDtcbiAgICAvLyB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgLy8gdGhpcy51cGRhdGVUYWJsZVN0YXQoKTtcbiAgICAvLyB0aGlzLnVwZGF0ZSgpO1xuICB9XG5cbiAgcHJlcGFyZVRhYmxlU3RhdCgpIHtcbiAgICBjb25zdCBhbGxfdmFsdWVzID0gdGhpcy52YXJpYWJsZXMubWFwKHYgPT4gdGhpcy5yZWZfZGF0YS5tYXAoZCA9PiBkW3ZdKSk7XG4gICAgY29uc3QgbXlfcmVnaW9uID0gdGhpcy5yZWZfZGF0YS5maW5kKGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbik7XG4gICAgY29uc3QgZmVhdHVyZXMgPSBhbGxfdmFsdWVzLm1hcCgodmFsdWVzLCBpKSA9PiAoe1xuICAgICAgTWluOiBkMy5taW4odmFsdWVzKSxcbiAgICAgIE1heDogZDMubWF4KHZhbHVlcyksXG4gICAgICBNb3llbm5lOiBkMy5tZWFuKHZhbHVlcyksXG4gICAgICBpZDogdGhpcy52YXJpYWJsZXNbaV0sXG4gICAgICBWYXJpYWJsZTogdGhpcy52YXJpYWJsZXNbaV0sXG4gICAgICAnTWEgcsOpZ2lvbic6IG15X3JlZ2lvblt0aGlzLnZhcmlhYmxlc1tpXV0sXG4gICAgfSkpO1xuICAgIHJldHVybiBmZWF0dXJlcztcbiAgfVxuXG4gIC8vIGhhbmRsZV9icnVzaF9tYXAoZXZlbnQpIHtcbiAgLy8gICBjb25zb2xlLmxvZyh0aGlzKTtcbiAgLy8gICBjb25zb2xlLmxvZyhldmVudCk7XG4gIC8vIH1cblxuICBoYW5kbGVDbGlja01hcChkLCBwYXJlbnQpIHtcbiAgICBjb25zdCBpZCA9IGQucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV07XG4gICAgaWYgKHRoaXMuY3VycmVudF9pZHMuaW5kZXhPZihpZCkgPCAwIHx8IGlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKSByZXR1cm47XG4gICAgaWYgKHRoaXMuZGlzcGxheWVkX2lkcy5pbmRleE9mKGlkKSA8IDApIHtcbiAgICAgIGNvbnN0IGEgPSBwcmVwYXJlX2RhdGFfcmFkYXJfZnQodGhpcy5yZWZfZGF0YSwgdGhpcy52YXJpYWJsZXMsIGlkKTtcbiAgICAgIHRoaXMuYWRkX2VsZW1lbnQoYSk7XG4gICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgY29uc29sZS5sb2coYSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZy5zZWxlY3RBbGwoYCMke2lkfS5yYWRhcldyYXBwZXJgKS5yZW1vdmUoKTtcbiAgICAgIHRoaXMuZy5zZWxlY3RBbGwoYCMke2lkfS5yYWRhckNpcmNsZVdyYXBwZXJgKS5yZW1vdmUoKTtcbiAgICAgIGNvbnN0IGl4ID0gdGhpcy5kYXRhLm1hcCgoX2QsIGkpID0+IFtpLCBfZC5uYW1lID09PSBpZF0pLmZpbmQoX2QgPT4gX2RbMV0gPT09IHRydWUpO1xuICAgICAgdGhpcy5kYXRhLnNwbGljZShpeCwgMSk7XG4gICAgICB0aGlzLmRpc3BsYXllZF9pZHMgPSB0aGlzLmRhdGEubWFwKF9kID0+IF9kLm5hbWUpO1xuICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGVDb21wbGV0dWRlKCkge1xuICAgIHRoaXMuY29tcGxldHVkZV92YWx1ZSA9IGNhbGNQb3BDb21wbGV0dWRlU3Vic2V0KGFwcCwgdGhpcy52YXJpYWJsZXMpO1xuICAgIHRoaXMuY29tcGxldHVkZVxuICAgICAgLnRleHQoYENvbXBsw6l0dWRlIDogJHt0aGlzLmNvbXBsZXR1ZGVfdmFsdWV9JWApO1xuICB9XG5cbiAgdXBkYXRlTWFwUmVnaW8oKSB7XG4gICAgaWYgKCF0aGlzLm1hcF9lbGVtKSByZXR1cm47XG4gICAgdGhpcy5tYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5hdHRyKCdmaWxsJywgZCA9PiAodGhpcy5jdXJyZW50X2lkcy5pbmRleE9mKGQucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV0pID4gLTFcbiAgICAgICAgPyAoYXBwLmNvbG9yc1tkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dXSB8fCBjb2xvcl9jb3VudHJpZXMpXG4gICAgICAgIDogY29sb3JfZGlzYWJsZWQpKTtcbiAgfVxuXG4gIHVwZGF0ZVRhYmxlU3RhdCgpIHtcbiAgICB0aGlzLnRhYmxlX3N0YXRzLnJlbW92ZUFsbCgpO1xuICAgIHRoaXMudGFibGVfc3RhdHMuYWRkRmVhdHVyZXModGhpcy5wcmVwYXJlVGFibGVTdGF0KCkpO1xuICB9XG5cbiAgbWFrZVRhYmxlU3RhdCgpIHtcbiAgICBjb25zdCBmZWF0dXJlcyA9IHRoaXMucHJlcGFyZVRhYmxlU3RhdCgpO1xuICAgIHRoaXMudGFibGVfc3RhdHMgPSBuZXcgVGFibGVSZXN1bWVTdGF0KGZlYXR1cmVzKTtcbiAgfVxufVxuIiwiaW1wb3J0IGRlYnVnIGZyb20gJ2RlYnVnJztcbmltcG9ydCB7IGNyZWF0ZU1lbnUgfSBmcm9tICcuL21vZHVsZXMvbWVudWxlZnQnO1xuaW1wb3J0IHsgbWFrZVRvcE1lbnUsIG1ha2VIZWFkZXJDaGFydCwgbWFrZUhlYWRlck1hcFNlY3Rpb24gfSBmcm9tICcuL21vZHVsZXMvbWVudXRvcCc7XG5pbXBvcnQgeyBNYXBTZWxlY3QsIG1ha2VTb3VyY2VTZWN0aW9uLCBtYWtlTWFwTGVnZW5kLCBzdmdfbWFwIH0gZnJvbSAnLi9tb2R1bGVzL21hcCc7XG5pbXBvcnQgeyBtYWtlVGFibGUgfSBmcm9tICcuL21vZHVsZXMvdGFibGUnO1xuaW1wb3J0IHsgY29sb3JfY291bnRyaWVzLCBjb2xvcl9oaWdobGlnaHQgfSBmcm9tICcuL21vZHVsZXMvb3B0aW9ucyc7XG5pbXBvcnQgeyBCYXJDaGFydDEgfSBmcm9tICcuL21vZHVsZXMvY2hhcnRzL2JhckNoYXJ0XzF2JztcbmltcG9ydCB7IEJ1YmJsZUNoYXJ0MSB9IGZyb20gJy4vbW9kdWxlcy9jaGFydHMvYnViYmxlQ2hhcnRfMXYnO1xuaW1wb3J0IHsgU2NhdHRlclBsb3QyIH0gZnJvbSAnLi9tb2R1bGVzL2NoYXJ0cy9zY2F0dGVyUGxvdF8ydic7XG5pbXBvcnQgeyBSYWRhckNoYXJ0MywgcHJlcGFyZV9kYXRhX3JhZGFyX2RlZmF1bHQgfSBmcm9tICcuL21vZHVsZXMvY2hhcnRzL3JhZGFyQ2hhcnRfM3YnO1xuaW1wb3J0IHsgdW5iaW5kVUkgfSBmcm9tICcuL21vZHVsZXMvaGVscGVycyc7XG5pbXBvcnQge1xuICBwcmVwYXJlX2RhdGFzZXQsXG4gIGZpbHRlckxldmVsVmFyLFxuICBhcHBseUZpbHRlcixcbiAgY2hhbmdlUmVnaW9uLFxuICBhZGRWYXJpYWJsZSxcbiAgcmVtb3ZlVmFyaWFibGUsXG4gIHJlc2V0VmFyaWFibGVzLFxuICBwcmVwYXJlVmFyaWFibGVzSW5mb1xufSBmcm9tICcuL21vZHVsZXMvcHJlcGFyZV9kYXRhJztcblxuZGVidWcoJ2FwcDpsb2cnKTtcblxuZXhwb3J0IGxldCB2YXJpYWJsZXNfaW5mbzsvKiA9IFtcbiAgeyByYXRpbzogJ1BDX0NIT01fMTUyNF8yMDE1JywgbnVtOiAnQ0hPTV8xNTI0XzIwMTUnLCBkZW51bTogJ0FDVF8xNTI0XzIwMTUnLCBuYW1lOiAnVGF1eCBkZSBjaG9tYWdlIGRlcyBqZXVuZXMgKDIwMTUpJywgZ3JvdXA6ICdQYXV2cmV0w6kgLyBFeGNsdXNpb24gc29jaWFsZScgfSxcbiAgeyByYXRpbzogJ1BDX0NIT01fMTU3NF8yMDE1JywgbnVtOiAnQ0hPTV8xNTc0XzIwMTUnLCBkZW51bTogJ0FDVF8xNTc0XzIwMTUnLCBuYW1lOiAnVGF1eCBkZSBjaG9tYWdlICgyMDE1KScsIGdyb3VwOiAnUGF1dnJldMOpIC8gRXhjbHVzaW9uIHNvY2lhbGUnIH0sXG4gIHsgcmF0aW86ICdQQ19DSE9NX0xPTkdfMjAxNicsIG51bTogJ0NIT01fTE9OR18yMDE2JywgZGVudW06ICdBQ1RfTE9OR18yMDE2JywgbmFtZTogJ1RhdXggZGUgY2jDtG1hZ2UgZGUgbG9uZ3VlIGR1csOpZSAoMjAxNiknLCBncm91cDogJ1BhdXZyZXTDqSAvIEV4Y2x1c2lvbiBzb2NpYWxlJyB9LFxuICB7IHJhdGlvOiAnUENfUkVWXzIwMTQnLCBudW06ICdSRVZfMjAxNCcsIGRlbnVtOiAnTUVOXzIwMTQnLCBuYW1lOiAnUmV2ZW51IGRlcyBtw6luYWdlcyAoMjAxNCknLCBncm91cDogJ1BhdXZyZXTDqSAvIEV4Y2x1c2lvbiBzb2NpYWxlJyB9LFxuICB7IHJhdGlvOiAnUENfQlJFVl9IQUJfMjAxMScsIG51bTogJ0JSRVZfMjAxMScsIGRlbnVtOiAnUE9QX0JSRVZfMjAxMScsIG5hbWU6ICdQcm9kdWN0aW9ucyBpbm5vdmFudGVzICgyMDExKScsIGdyb3VwOiAnQWN0aXZpdMOpIC8gSW5ub3ZhdGlvbicgfSxcbiAgeyByYXRpbzogJ1BDX1JEX0VNUF8yMDEzJywgbnVtOiAnUkRfRU1QXzIwMTMnLCBkZW51bTogJ1BPUF9SRF9FTVBfMjAxMycsIG5hbWU6ICdQYXJ0IGRlIGxcXCdlbXBsb2kgZW4gUiZEICgyMDEzKScsIGdyb3VwOiAnQWN0aXZpdMOpIC8gSW5ub3ZhdGlvbicgfSxcbiAgeyByYXRpbzogJ1BDX1BJQl9IQUJfMjAxNCcsIG51bTogJ1BDX1BJQl9IQUJfMjAxNCcsIGRlbnVtOiAnUE9QX1BJQl8yMDE0JywgbmFtZTogJ1BJQiBwYXIgaGFiaXRhbnQgKGV1cm9zKSgyMDE0KScsIGdyb3VwOiAnQWN0aXZpdMOpIC8gSW5ub3ZhdGlvbicgfSxcbiAgeyByYXRpbzogJ1BDX0FSVElGX0FSRUFfMjAxNScsIG51bTogJ0FSVElGX0FSRUFfMjAxNScsIGRlbnVtOiAnTENfQVJFQV8yMDE1JywgbmFtZTogJ1BhcnQgZGVzIHN1cmZhY2VzIGFydGlmaWNpYWxpc8OpZXMgKDIwMTUpJywgZ3JvdXA6ICdFbnZpcm9ubmVtZW50IC8gVHJhbnNpdGlvbiDDqWNvbG9naXF1ZScgfSxcbl07Ki9cblxuXG5jb25zdCBzdHVkeV96b25lcyA9IFtcbiAgeyBpZDogJ25vX2ZpbHRlcicsIG5hbWU6ICdVRTI4JyB9LFxuICB7IGlkOiAnZmlsdGVyX0ZSJywgbmFtZTogJ0ZpbHRyZSBuYXRpb25hbCAoRnJhbmNlKScgfSxcbiAgeyBpZDogJ2ZpbHRlcl9wYXJhbTInLCBuYW1lOiAnRXNwYWNlIGRlIGNvbXBhcmFpc29uIG7CsDInIH0sXG5dO1xuXG5jb25zdCB0ZXJyaXRvcmlhbF9tZXNoID0gW1xuICB7IGlkOiAnTlVUUzEnLCBuYW1lOiAnTlVUUzEnIH0sXG4gIHsgaWQ6ICdOVVRTMTJzdGF0JywgbmFtZTogJ05VVFMxLzIgKHN0YXRpc3RpcXVlKScgfSxcbl07XG5cbmV4cG9ydCBjb25zdCBhcHAgPSB7XG4gIC8vIEEgbWFwcGluZyBpZCAtPiBjb2xvciwgY29udGFpbmluZyB0aGUgY29sb3IgdG8gdXNlIGZvciBlYWNoXG4gIC8vIGZlYXR1cmUgbm90IHVzaW5nIHRoZSBkZWZhdWx0IGNvbG9yIG9yIHRoZSBkaXNhYmxlZCBjb2xvclxuICBjb2xvcnM6IHt9LFxuICAvLyBUaGUgZmlsdGVyZWQgZGF0YXNldCAoYWNjY29yZGluZyB0bzogdGhlIGN1cnJlbnQgdGVycml0b3JpYWwgbGV2ZWwsXG4gIC8vIHRoZSBmaWx0ZXIga2V5IChpZiBhbnkpIGFuZCB0aGUgcmF0aW8ocykgc2VsZWN0ZWQgb24gdGhlIGxlZnQgbWVudTpcbiAgY3VycmVudF9kYXRhOiBbXSxcbiAgLy8gVGhlIGZ1bGwgZGF0YXNldCBwcm92aWRlZCAoY29udGFpbmluZyBhbGwgdGhlIGZlYXR1cmVzIGF0IGFueSBsZXZlbCBpbiBvbmUgdGFibGUpXG4gIC8vIFJvdyB3aXRob3V0IGRhdGEgYXJlIGV4cGVjdGVkIHRvIGJlIGVtcHR5IG9yIHRvIGNvbnRhaW4gdGhlIFwiTkFcIiBzdHJpbmcuXG4gIGZ1bGxfZGF0YXNldDogW10sXG4gIC8vIFRoZSBpZHMgb2YgdGhlIGN1cnJlbnQgZmVhdHVyZSBpbiB1c2UgKGFjY2NvcmRpbmcgdG86IHRoZSBjdXJyZW50IHRlcnJpdG9yaWFsIGxldmVsLFxuICAvLyB0aGUgZmlsdGVyIGtleSAoaWYgYW55KSBhbmQgdGhlIHJhdGlvKHMpIHVzZWQgaW4gdGhlIGN1cnJlbnQgY2hhcnQ7IGZpbHRlcmVkXG4gIC8vIHRvIG5vdCBjb250YWluIGZlYXR1cmUgd2l0aCBlbXB0eSByYXRpbyB2YWx1ZXMgd2l0aGluIHRoZSByYXRpb3MgaW4gdXNlKS5cbiAgY3VycmVudF9pZHM6IFtdLFxufTtcblxuZnVuY3Rpb24gc2V0RGVmYXVsdENvbmZpZyhjb2RlID0gJ0ZSRScsIHZhcmlhYmxlID0gJ1JUX0NIT01fMTU3NCcpIHsgLy8gfSwgbGV2ZWwgPSAnTlVUUzEnKSB7XG4gIGFwcC5jdXJyZW50X2NvbmZpZyA9IHtcbiAgICAvLyBUaGUgbmFtZSBvZiB0aGUgZmllbGQgb2YgdGhlIGRhdGFzZXQgY29udGFpbmluZyB0aGUgSUQgb2YgZWFjaCBmZWF0dXJlOlxuICAgIGlkX2ZpZWxkOiAnZ2VvJyxcbiAgICAvLyBUaGUgbmFtZSBvZiB0aGUgZmllbGQgb2YgdGhlIGRhdGFzZXQgY29udGFpbmluZyB0aGUgbmFtZSBvZiBlYWNoIGZlYXR1cmU6XG4gICAgbmFtZV9maWVsZDogJ05vbScsXG4gICAgLy8gVGhlIG5hbWUgb2YgdGhlIGZpZWxkIG9mIHRoZSBkYXRhc2V0IGNvbnRhaW5pbmcgdGhlIHBvcHVsYXRpb24gb2YgZWFjaCBmZWF0dXJlOlxuICAgIHBvcF9maWVsZDogJ1BPUF9BR0VfVF8yMDE2JyxcbiAgICAvLyBUaGUgbmFtZSBvZiB0aGUgZmllbGQgb2YgdGhlIGdlb2pzb24gbGF5ZXIgY29udGFpbmluZyB0aGUgSUQgb2YgZWFjaCBmZWF0dXJlXG4gICAgLy8gKHRoZXNlIHZhbHVlcyBzaG91bGQgbWF0Y2ggd2l0aCB0aGUgdmFsdWVzIG9mIHRoZSBcImlkX2ZpZWxkXCIgaW4gdGhlXG4gICAgLy8gdGFidWxhciBkYXRhc2V0KVxuICAgIGlkX2ZpZWxkX2dlb206ICdOVVRTMV8yMDE2JyxcbiAgICBudW06IFsnQ0hPTV8xNTc0XzIwMTYnXSxcbiAgICBkZW51bTogWydBQ1RfMTU3NF8yMDE2J10sXG4gICAgcmF0aW86IFt2YXJpYWJsZV0sXG4gICAgcmF0aW9fcHJldHR5X25hbWU6IFsnVGF1eCBkZSBjaMO0bWFnZSAoMTUtNzQgYW5zKSAoMjAxNiknXSxcbiAgICAvLyBUaGUgbGV2ZWwgY3VycmVudGx5IGluIHVzZTpcbiAgICBjdXJyZW50X2xldmVsOiAxLFxuICAgIC8vIFRoZSBJRCBvZiB0aGUgcmVnaW9uIGN1cnJlbnRseSBpbiB1c2U6XG4gICAgbXlfcmVnaW9uOiBjb2RlLFxuICAgIC8vIFRoZSBuYW1lIG9mIHRoZSByZWdpb24gY3VycmVudGx5IGluIHVzZTpcbiAgICBteV9yZWdpb25fcHJldHR5X25hbWU6IGFwcC5mZWF0dXJlX25hbWVzW2NvZGVdLFxuICAgIC8vIEhvdyBtYW55IHJhdGlvIG9uIHRoZSBjdXJyZW50IGNoYXJ0OlxuICAgIG5iX3ZhcjogMSxcbiAgfTtcbiAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbn1cblxuZnVuY3Rpb24gc2V0RGVmYXVsdENvbmZpZ01lbnUoY29kZSA9ICdGUkUnLCB2YXJpYWJsZSA9ICdSVF9DSE9NXzE1NzQnLCBsZXZlbCA9ICdOVVRTMScpIHtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnRhcmdldF9yZWdpb24uc3F1YXJlW3ZhbHVlPVwiJHtjb2RlfVwiXWApLmNsYXNzTGlzdC5hZGQoJ2NoZWNrZWQnKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnRhcmdldF92YXJpYWJsZS5zbWFsbF9zcXVhcmVbdmFsdWU9XCIke3ZhcmlhYmxlfVwiXWApLmNsYXNzTGlzdC5hZGQoJ2NoZWNrZWQnKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZpbHRlcl92LnNxdWFyZVtmaWx0ZXItdmFsdWU9XCJub19maWx0ZXJcIl0nKS5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC50ZXJyaXRfbGV2ZWwuc3F1YXJlW3ZhbHVlPVwiJHtsZXZlbH1cIl1gKS5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0Q29sb3JzKCkge1xuICBhcHAuY29sb3JzID0ge307XG4gIC8vIGZvciAobGV0IGkgPSAwLCBsZW5faSA9IGN1cnJlbnRfaWRzLmxlbmd0aDsgaSA8IGxlbl9pOyBpKyspIHtcbiAgLy8gICBhcHAuY29sb3JzW2N1cnJlbnRfaWRzW2ldXSA9IGNvbG9yX2NvdW50cmllcztcbiAgLy8gfVxuICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xufVxuXG4vKipcbiogQ3JlYXRlIGhhbmRsZXJzIGZvciB1c2VyIGV2ZW50IG9uIHRoZSBsZWZ0IG1lbnUgYW5kIG9uIHRoZSBtYXAgZm9yIGNoYXJ0cyBvbmx5XG4qIGFsbG93aW5nIHRvIHVzZSAxIHZhcmlhYmxlLlxuKlxuKiBAcGFyYW0ge09iamVjdH0gY2hhcnQgLSBUaGUgY2hhcnQgb2JqZWN0LlxuKiBAcGFyYW0ge09iamVjdH0gbWFwX2VsZW0gLSBUaGUgbWFwIG9iamVjdC5cbiogQHJldHVybiB7dm9pZH1cbipcbiovXG5mdW5jdGlvbiBiaW5kVUlfY2hhcnQoY2hhcnQsIG1hcF9lbGVtKSB7XG4gIC8vIFVzZXIgY2hhbmdlIHRoZSBzdHVkeSB6b25lOlxuICBkMy5zZWxlY3RBbGwoJ3NwYW4uZmlsdGVyX3YnKVxuICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdjaGVja2VkJykpIHtcbiAgICAgICAgZDMuc2VsZWN0QWxsKCdzcGFuLmZpbHRlcl92JykuYXR0cignY2xhc3MnLCAnZmlsdGVyX3Ygc3F1YXJlJyk7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnY2hlY2tlZCcpO1xuICAgICAgICBjb25zdCBmaWx0ZXJfdHlwZSA9IHRoaXMuZ2V0QXR0cmlidXRlKCdmaWx0ZXItdmFsdWUnKTtcbiAgICAgICAgYXBwbHlGaWx0ZXIoYXBwLCBmaWx0ZXJfdHlwZSk7XG4gICAgICAgIG1ha2VUYWJsZShhcHAuY3VycmVudF9kYXRhLCBhcHAuY3VycmVudF9jb25maWcpO1xuICAgICAgICBjaGFydC5jaGFuZ2VTdHVkeVpvbmUoKTtcbiAgICAgICAgY2hhcnQudXBkYXRlQ29tcGxldHVkZSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIC8vIFVzZXIgY2hhbmdlIHRoZSB0YXJnZXRlZCByZWdpb246XG4gIGQzLnNlbGVjdEFsbCgnc3Bhbi50YXJnZXRfcmVnaW9uJylcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCF0aGlzLmNsYXNzTGlzdC5jb250YWlucygnY2hlY2tlZCcpKSB7XG4gICAgICAgIGQzLnNlbGVjdEFsbCgnc3Bhbi50YXJnZXRfcmVnaW9uJykuYXR0cignY2xhc3MnLCAndGFyZ2V0X3JlZ2lvbiBzcXVhcmUnKTtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XG4gICAgICAgIGNvbnN0IGlkX3JlZ2lvbiA9IHRoaXMuZ2V0QXR0cmlidXRlKCd2YWx1ZScpO1xuICAgICAgICBjaGFuZ2VSZWdpb24oYXBwLCBpZF9yZWdpb24pO1xuICAgICAgICAvLyBVcGRhdGUgdGhlIGF2YWlsYWJsZXMgcmF0aW8gb24gdGhlIGxlZnQgbWVudVxuICAgICAgICAvLyAodGhpcyBtYXkgY2hhbmdlIHRoZSBjdXJyZW50IHNlbGVjdGVkIHJhdGlvKHMpIGFzIHNvbWUgdmFyaWFibGVzIGFyZVxuICAgICAgICAvLyBub3QgYXZhaWxhYmxlIGZvciBzb21lIGZlYXR1cmVzKSBhbmQgZmV0Y2ggdGhlIG51bWJlciBvZiBzZWxlY3RlZFxuICAgICAgICAvLyB2YXJpYWJsZXMgYWZ0ZXIgdGhhdDpcbiAgICAgICAgY29uc3QgbmV3X25iX3ZhciA9IHVwZGF0ZUF2YWlsYWJsZXNSYXRpb3MoaWRfcmVnaW9uKTtcbiAgICAgICAgaWYgKG5ld19uYl92YXIgPj0gYXBwLmN1cnJlbnRfY29uZmlnLm5iX3Zhcikge1xuICAgICAgICAgIGNoYXJ0LnVwZGF0ZUNoYW5nZVJlZ2lvbigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIElmIHRoZXJlIGZld2VyIHNlbGVjdGVkIHZhcmlhYmxlcyB0aGFuIHJlcXVlc3RlZCBieSB0aGUgY3VycmVudCBjaGFydCxcbiAgICAgICAgICAvLyByZWRyYXcgdGhlIGZpcnN0IChkZWZhdWx0KSBraW5kIG9mIGNoYXJ0OlxuICAgICAgICAgIGQzLnNlbGVjdCgnc3Bhbi5jaGFydF90MVt2YWx1ZT1cIkJhckNoYXJ0MVwiXScpLmRpc3BhdGNoKCdjbGljaycpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgLy8gVXNlciBjbGljayBvbiB0aGUgbmFtZSBvZiBhIGdyb3VwIG9mIHZhcmlhYmxlc1xuICAvLyB0byBleHBhbmQgb3IgY29sbGFwc2UgaXRzIGNvbnRlbnQ6XG4gIGQzLnNlbGVjdEFsbCgnLm5hbWVfZ3JvdXBfdmFyJylcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgZ3JvdXBfdmFyID0gdGhpcy5uZXh0U2libGluZztcbiAgICAgIGlmIChncm91cF92YXIuc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnKSB7XG4gICAgICAgIGdyb3VwX3Zhci5zdHlsZS5kaXNwbGF5ID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdyb3VwX3Zhci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIC8vIFVzZXIgY2xpY2sgdG8gYWRkL3JlbW92ZSBhIHZhcmlhYmxlIGZyb20gdGhlIGNvbXBhcmlzb246XG4gIGQzLnNlbGVjdEFsbCgnc3Bhbi50YXJnZXRfdmFyaWFibGUnKVxuICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2Rpc2FibGVkJykpIHJldHVybjtcbiAgICAgIGxldCBuYl92YXIgPSAgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4udGFyZ2V0X3ZhcmlhYmxlJykpLmZpbHRlcihcbiAgICAgICAgICBlbGVtID0+ICEhZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2NoZWNrZWQnKSkubGVuZ3RoO1xuICAgICAgLy8gU2VsZWN0IGEgbmV3IHZhcmlhYmxlIGFuZCB0cmlnZ2VyIHRoZSBhcHByb3ByaWF0ZSBjaGFuZ2VzIG9uIHRoZSBjdXJyZW50IGNoYXJ0OlxuICAgICAgaWYgKCF0aGlzLmNsYXNzTGlzdC5jb250YWlucygnY2hlY2tlZCcpKSB7XG4gICAgICAgIC8vIFdlIGRvbid0IHdhbnQgdGhlIHVzZXIgdG8gYmUgYWJsZSB0byBzZWxlY3QgbW9yZSB0aGFuIDggdmFyaWFibGVzIHNpbXVsdGFuZW91c2x5OlxuICAgICAgICBpZiAobmJfdmFyID49IDgpIHJldHVybjtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XG4gICAgICAgIGNvbnN0IGNvZGVfdmFyaWFibGUgPSB0aGlzLmdldEF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgICAgICAgY29uc3QgbmFtZV92YXJpYWJsZSA9IHZhcmlhYmxlc19pbmZvLmZpbmQoZCA9PiBkLnJhdGlvID09PSBjb2RlX3ZhcmlhYmxlKS5uYW1lO1xuICAgICAgICBhZGRWYXJpYWJsZShhcHAsIGNvZGVfdmFyaWFibGUpO1xuICAgICAgICBtYWtlVGFibGUoYXBwLmN1cnJlbnRfZGF0YSwgYXBwLmN1cnJlbnRfY29uZmlnKTtcbiAgICAgICAgY2hhcnQuYWRkVmFyaWFibGUoY29kZV92YXJpYWJsZSwgbmFtZV92YXJpYWJsZSk7XG4gICAgICAgIG5iX3ZhciArPSAxO1xuICAgICAgfSBlbHNlIHsgLy8gUmVtb3ZlIGEgdmFyaWFibGUgZnJvbSB0aGUgc2VsZWN0aW9uOlxuICAgICAgICBuYl92YXIgLT0gMTtcbiAgICAgICAgLy8gV2UgZG9uJ3Qgd2FudCB0byBsZXQgdGhlIHVzZXIgcmVtb3ZlIHRoZSB2YXJpYWJsZSBpZlxuICAgICAgICAvLyBpdCdzIHRoZSBvbmx5IG9uZSBzZWxlY3RlZCBvciBpZiB0aGUgY3VycmVudGx5IGRpc3BsYXllZFxuICAgICAgICAvLyBjaGFydCBuZWVkIGEgbWluaW11bSBudW1iZXIgb2YgdmFyaWFibGVzOlxuICAgICAgICBpZiAobmJfdmFyIDwgYXBwLmN1cnJlbnRfY29uZmlnLm5iX3Zhcikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb2RlX3ZhcmlhYmxlID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LnJlbW92ZSgnY2hlY2tlZCcpO1xuICAgICAgICByZW1vdmVWYXJpYWJsZShhcHAsIGNvZGVfdmFyaWFibGUpO1xuICAgICAgICBjaGFydC5yZW1vdmVWYXJpYWJsZShjb2RlX3ZhcmlhYmxlKTtcbiAgICAgICAgbWFrZVRhYmxlKGFwcC5jdXJyZW50X2RhdGEsIGFwcC5jdXJyZW50X2NvbmZpZyk7XG4gICAgICB9XG4gICAgICAvLyBVcGRhdGUgdGhlIHRvcCBtZW51IHRvIGRpc3BsYXkgYXZhaWxhYmxlIGNoYXJ0cyBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnRcbiAgICAgIC8vIG51bWJlciBvZiBhdmFpbGFibGUgdmFyaWFibGVzOlxuICAgICAgaWYgKG5iX3ZhciA9PT0gMSkgeyAvLyBBbGxvdyBhbGwga2luZCBvZiB2aXp1IHdpdGggMSB2YXJpYWJsZTpcbiAgICAgICAgZDMuc2VsZWN0QWxsKCcuY2hhcnRfdDEnKVxuICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd0eXBlX2NoYXJ0IGNoYXJ0X3QxJyk7XG4gICAgICAgIGQzLnNlbGVjdEFsbCgnLmNoYXJ0X3QyJylcbiAgICAgICAgICAuYXR0cignY2xhc3MnLCAndHlwZV9jaGFydCBjaGFydF90MiBkaXNhYmxlZCcpO1xuICAgICAgICBkMy5zZWxlY3RBbGwoJy5jaGFydF90MycpXG4gICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3R5cGVfY2hhcnQgY2hhcnRfdDMgZGlzYWJsZWQnKTtcbiAgICAgIH0gZWxzZSBpZiAobmJfdmFyID09PSAyKSB7IC8vIEFsbG93IGFsbCBraW5kIG9mIHZpenUgd2l0aCAyIHZhcmlhYmxlczpcbiAgICAgICAgZDMuc2VsZWN0QWxsKCcuY2hhcnRfdDInKVxuICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd0eXBlX2NoYXJ0IGNoYXJ0X3QyJyk7XG4gICAgICAgIGQzLnNlbGVjdEFsbCgnLmNoYXJ0X3QzJylcbiAgICAgICAgICAuYXR0cignY2xhc3MnLCAndHlwZV9jaGFydCBjaGFydF90MyBkaXNhYmxlZCcpO1xuICAgICAgfSBlbHNlIGlmIChuYl92YXIgPiAyKSB7IC8vIEFsbG93IGFsbCBraW5kIG9mIHZpenUgd2l0aCAzIHZhcmlhYmxlczpcbiAgICAgICAgZDMuc2VsZWN0QWxsKCcuY2hhcnRfdDInKVxuICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd0eXBlX2NoYXJ0IGNoYXJ0X3QyJyk7XG4gICAgICAgIGQzLnNlbGVjdEFsbCgnLmNoYXJ0X3QzJylcbiAgICAgICAgICAuYXR0cignY2xhc3MnLCAndHlwZV9jaGFydCBjaGFydF90MycpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIC8vIERpc3BhdGNoIGEgY2xpY2sgZXZlbnQgb24gdGhlIGFzc29jaWF0ZWQgY2hlY2tib3ggd2hlbiB0aGUgdGV4dCBpcyBjbGlja2VkOlxuICBkMy5zZWxlY3RBbGwoJ3NwYW4ubGFiZWxfY2hrJylcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5wcmV2aW91c1NpYmxpbmcuY2xpY2soKTtcbiAgICB9KTtcblxuICBjb25zdCBoZWFkZXJfbWFwX3NlY3Rpb24gPSBkMy5zZWxlY3QoJyNtYXBfc2VjdGlvbiA+ICNoZWFkZXJfbWFwJyk7XG5cbiAgaGVhZGVyX21hcF9zZWN0aW9uLnNlbGVjdCgnI2ltZ19yZWN0X3NlbGVjJylcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCF0aGlzLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19tYXBfem9vbScpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX21hcF9zZWxlY3QnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgc3ZnX21hcC5vbignLnpvb20nLCBudWxsKTtcbiAgICAgICAgaWYgKG1hcF9lbGVtLmJydXNoX21hcCkge1xuICAgICAgICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJykuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBtYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJykub24oJ2NsaWNrJywgbnVsbCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgaGVhZGVyX21hcF9zZWN0aW9uLnNlbGVjdCgnI2ltZ19tYXBfem9vbScpXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfcmVjdF9zZWxlYycpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX21hcF9zZWxlY3QnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgc3ZnX21hcC5jYWxsKG1hcF9lbGVtLnpvb21fbWFwKTtcbiAgICAgICAgaWYgKG1hcF9lbGVtLmJydXNoX21hcCkge1xuICAgICAgICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJykuY2FsbChtYXBfZWxlbS5icnVzaF9tYXAubW92ZSwgbnVsbCk7XG4gICAgICAgICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgIH1cbiAgICAgICAgbWFwX2VsZW0udGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpLm9uKCdjbGljaycsIG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIGhlYWRlcl9tYXBfc2VjdGlvbi5zZWxlY3QoJyNpbWdfbWFwX3NlbGVjdCcpXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfcmVjdF9zZWxlYycpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX21hcF96b29tJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgIHN2Z19tYXAub24oJy56b29tJywgbnVsbCk7XG4gICAgICAgIGlmIChtYXBfZWxlbS5icnVzaF9tYXApIHtcbiAgICAgICAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpLmNhbGwobWFwX2VsZW0uYnJ1c2hfbWFwLm1vdmUsIG51bGwpO1xuICAgICAgICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJykuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICB9XG4gICAgICAgIG1hcF9lbGVtLnRhcmdldF9sYXllci5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoZCkgeyBjaGFydC5oYW5kbGVDbGlja01hcChkLCB0aGlzKTsgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgY29uc3QgaGVhZGVyX3RhYmxlX3NlY3Rpb24gPSBkMy5zZWxlY3QoJyNtYXBfc2VjdGlvbicpXG4gICAgICAuaW5zZXJ0KCdwJywgJ3N2ZycpXG4gICAgICAuYXR0cignaWQnLCAnaGVhZGVyX3RhYmxlJylcbiAgICAgIC5zdHlsZXMoeyBkaXNwbGF5OiAnbm9uZScsIG1hcmdpbjogJ2F1dG8nLCAndGV4dC1hbGlnbic6ICdyaWdodCcgfSk7XG5cbiAgaGVhZGVyX3RhYmxlX3NlY3Rpb24uYXBwZW5kKCdzcGFuJylcbiAgICAuYXR0cignY2xhc3MnLCAnYnV0dG9uX2JsdWUnKVxuICAgIC5odG1sKCdDU1YnKVxuICAgIC5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBjb250ZW50ID0gW1xuICAgICAgICAnaWQsTnVtw6lyYXRldXIsRMOpbm9taW5hdGV1cixSYXRpbyxSYW5nXFxyXFxuJyxcbiAgICAgICAgYXBwLmN1cnJlbnRfZGF0YS5tYXAoZCA9PiBbZC5pZCwgZC5udW0sIGQuZGVudW0sIGQucmF0aW8sIGQucmFuZ10uam9pbignLCcpKS5qb2luKCdcXHJcXG4nKSxcbiAgICAgIF0uam9pbignJyk7XG4gICAgICBjb25zdCBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBgZGF0YTp0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTgsJHtlbmNvZGVVUklDb21wb25lbnQoY29udGVudCl9YCk7XG4gICAgICBlbGVtLnNldEF0dHJpYnV0ZSgnZG93bmxvYWQnLCAndGFibGUuY3N2Jyk7XG4gICAgICBlbGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsZW0pO1xuICAgICAgZWxlbS5jbGljaygpO1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlbGVtKTtcbiAgICB9KTtcbiAgYmluZFRvcEJ1dHRvbnMoY2hhcnQsIG1hcF9lbGVtKTtcbn1cblxuLyoqXG4qIEZ1bmN0aW9uIHRvIGhhbmRsZSBjbGljayBvbiB0aGUgdG9wIG1lbnUsIGluIG9yZGVyIHRvIGNob29zZVxuKiB0aGUga2luZCBvZiBhdmFpbGFibGVzIHJlcHJlc2VudGF0aW9uXG4qXG4qIEBwYXJhbSB7T2JqZWN0fSBjaGFydCAtXG4qIEBwYXJhbSB7T2JqZWN0fSBtYXBfZWxlbSAtXG4qIEByZXR1cm4ge3ZvaWR9XG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmRUb3BCdXR0b25zKGNoYXJ0LCBtYXBfZWxlbSkge1xuICBkMy5zZWxlY3RBbGwoJy50eXBlX2NoYXJ0JylcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXNhYmxlZCcpKSByZXR1cm47XG4gICAgICBjaGFydC5yZW1vdmUoKTtcbiAgICAgIGNoYXJ0ID0gbnVsbDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgdW5iaW5kVUkoKTtcbiAgICAgIG1hcF9lbGVtLnJlc2V0Wm9vbSgpO1xuICAgICAgYXBwLmNvbG9ycyA9IHt9O1xuICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmdldEF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gJ0JhckNoYXJ0MScpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0JhckNoYXJ0MScpO1xuICAgICAgICBtYWtlVGFibGUoYXBwLmN1cnJlbnRfZGF0YSwgYXBwLmN1cnJlbnRfY29uZmlnKTtcbiAgICAgICAgY2hhcnQgPSBuZXcgQmFyQ2hhcnQxKGFwcC5jdXJyZW50X2RhdGEpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIGJpbmRVSV9jaGFydChjaGFydCwgbWFwX2VsZW0pO1xuICAgICAgICBtYXBfZWxlbS5iaW5kQnJ1c2goY2hhcnQpO1xuICAgICAgICBjaGFydC5iaW5kTWFwKG1hcF9lbGVtKTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09ICdCdWJibGVDaGFydDEnKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdCdWJibGVDaGFydDEnKTtcbiAgICAgICAgbWFrZVRhYmxlKGFwcC5jdXJyZW50X2RhdGEsIGFwcC5jdXJyZW50X2NvbmZpZyk7XG4gICAgICAgIGNoYXJ0ID0gbmV3IEJ1YmJsZUNoYXJ0MShhcHAuY3VycmVudF9kYXRhKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICBiaW5kVUlfY2hhcnQoY2hhcnQsIG1hcF9lbGVtKTtcbiAgICAgICAgbWFwX2VsZW0uYmluZEJydXNoKGNoYXJ0KTtcbiAgICAgICAgY2hhcnQuYmluZE1hcChtYXBfZWxlbSk7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnU2NhdHRlclBsb3QyJykge1xuICAgICAgICBjb25zb2xlLmxvZygnU2NhdHRlclBsb3QyJyk7XG4gICAgICAgIG1ha2VUYWJsZShhcHAuY3VycmVudF9kYXRhLCBhcHAuY3VycmVudF9jb25maWcpO1xuICAgICAgICBjaGFydCA9IG5ldyBTY2F0dGVyUGxvdDIoYXBwLmN1cnJlbnRfZGF0YSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgYmluZFVJX2NoYXJ0KGNoYXJ0LCBtYXBfZWxlbSk7XG4gICAgICAgIG1hcF9lbGVtLmJpbmRCcnVzaChjaGFydCk7XG4gICAgICAgIGNoYXJ0LmJpbmRNYXAobWFwX2VsZW0pO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJ1JhZGFyQ2hhcnQzJykge1xuICAgICAgICBjb25zb2xlLmxvZygnUmFkYXJDaGFydDMnKTtcbiAgICAgICAgbWFrZVRhYmxlKGFwcC5jdXJyZW50X2RhdGEsIGFwcC5jdXJyZW50X2NvbmZpZyk7XG4gICAgICAgIGNoYXJ0ID0gbmV3IFJhZGFyQ2hhcnQzKGFwcC5jdXJyZW50X2RhdGEpO1xuICAgICAgICBiaW5kVUlfY2hhcnQoY2hhcnQsIG1hcF9lbGVtKTtcbiAgICAgICAgbWFwX2VsZW0uYmluZEJydXNoKGNoYXJ0KTtcbiAgICAgICAgY2hhcnQuYmluZE1hcChtYXBfZWxlbSk7XG4gICAgICB9XG4gICAgfSk7XG59XG5cblxuZnVuY3Rpb24gbG9hZERhdGEoKSB7XG4gIGQzLnF1ZXVlKDQpXG4gICAgLmRlZmVyKGQzLmNzdiwgJ2RhdGEvUkVHSU9WSVpfREFUQS5jc3YnKVxuICAgIC5kZWZlcihkMy5qc29uLCAnZGF0YS9jZ2V0LW51dHMxLTMwMzUuZ2VvanNvbicpXG4gICAgLmRlZmVyKGQzLmpzb24sICdkYXRhL2NvdW50cmllczMwMzUuZ2VvanNvbicpXG4gICAgLmRlZmVyKGQzLmpzb24sICdkYXRhL3JlbW90ZTMwMzUuZ2VvanNvbicpXG4gICAgLmRlZmVyKGQzLmpzb24sICdkYXRhL3RlbXBsYXRlMzAzNS5nZW9qc29uJylcbiAgICAuZGVmZXIoZDMuanNvbiwgJ2RhdGEvc2VhX2JveGVzLmdlb2pzb24nKVxuICAgIC5kZWZlcihkMy5jc3YsICdkYXRhL2luZGljYXRldXJzX21ldGEuY3N2JylcbiAgICAuYXdhaXRBbGwoKGVycm9yLCByZXN1bHRzKSA9PiB7XG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICAgICAgY29uc3QgW1xuICAgICAgICBmdWxsX2RhdGFzZXQsIG51dHMxLCBjb3VudHJpZXMsIHJlbW90ZSwgdGVtcGxhdGUsIHNlYWJveGVzLCBtZXRhZGF0YV9pbmRpY2F0ZXVycyxcbiAgICAgIF0gPSByZXN1bHRzO1xuICAgICAgdmFyaWFibGVzX2luZm8gPSBwcmVwYXJlVmFyaWFibGVzSW5mbyhtZXRhZGF0YV9pbmRpY2F0ZXVycyk7XG4gICAgICBwcmVwYXJlX2RhdGFzZXQoZnVsbF9kYXRhc2V0LCBhcHApO1xuICAgICAgc2V0RGVmYXVsdENvbmZpZygnRlJCJywgJ1JUX0NIT01fMTU3NCcsICdOVVRTMScpO1xuICAgICAgY29uc3QgZmVhdHVyZXNfbWVudSA9IGZ1bGxfZGF0YXNldC5maWx0ZXIoZnQgPT4gZnQuZ2VvLmluZGV4T2YoJ0ZSJykgPiAtMVxuICAgICAgICAmJiArZnQubGV2ZWwgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5jdXJyZW50X2xldmVsKTtcbiAgICAgIGNyZWF0ZU1lbnUoZmVhdHVyZXNfbWVudSwgdmFyaWFibGVzX2luZm8sIHN0dWR5X3pvbmVzLCB0ZXJyaXRvcmlhbF9tZXNoKTtcbiAgICAgIG1ha2VUb3BNZW51KCk7XG4gICAgICBtYWtlSGVhZGVyQ2hhcnQoKTtcbiAgICAgIHNldERlZmF1bHRDb25maWdNZW51KCdGUkInLCAnUlRfQ0hPTV8xNTc0JywgJ05VVFMxJyk7XG4gICAgICBmaWx0ZXJMZXZlbFZhcihhcHApO1xuICAgICAgY29uc29sZS5sb2coYXBwKTtcbiAgICAgIGNvbnN0IG1hcF9lbGVtID0gbmV3IE1hcFNlbGVjdChudXRzMSwgY291bnRyaWVzLCByZW1vdGUsIHRlbXBsYXRlLCBzZWFib3hlcyk7XG4gICAgICBjb25zdCBjaGFydCA9IG5ldyBCYXJDaGFydDEoYXBwLmN1cnJlbnRfZGF0YSk7XG4gICAgICBtYWtlVGFibGUoYXBwLmN1cnJlbnRfZGF0YSwgYXBwLmN1cnJlbnRfY29uZmlnKTtcbiAgICAgIG1ha2VIZWFkZXJNYXBTZWN0aW9uKCk7XG4gICAgICBtYWtlU291cmNlU2VjdGlvbigpO1xuICAgICAgbWFrZU1hcExlZ2VuZCgpO1xuICAgICAgYmluZFVJX2NoYXJ0KGNoYXJ0LCBtYXBfZWxlbSk7XG4gICAgICBtYXBfZWxlbS5iaW5kQnJ1c2goY2hhcnQpO1xuICAgICAgY2hhcnQuYmluZE1hcChtYXBfZWxlbSk7XG4gICAgfSk7XG59XG5cbi8qKlxuKiBGdW5jdGlvbiB0byBzZWxlY3QgdGhlIGZpcnN0IHZhcmlhYmxlIG9uIHRoZSBsZWZ0IG1lbnVcbiogKHRyaWdnZXJlZCBhZnRlciBjaGFuZ2luZyByZWdpb24sIGlmIG5vIG1vcmUgdmFyaWFibGUgd2FzIHNlbGVjdGVkKVxuKlxuKiBAcmV0dXJuIHt2b2lkfVxuKi9cbmZ1bmN0aW9uIHNlbGVjdEZpcnN0QXZhaWxhYmxlVmFyKCkge1xuICBjb25zdCBtZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21lbnUnKTtcbiAgY29uc3QgdiA9IG1lbnUucXVlcnlTZWxlY3RvckFsbCgnLnRhcmdldF92YXJpYWJsZScpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHYubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIXZbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXNhYmxlZCcpKSB7XG4gICAgICB2W2ldLmNsYXNzTGlzdC5hZGQoJ2NoZWNrZWQnKTtcbiAgICAgIHJldHVybiB2W2ldLmdldEF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4qIEZ1bmN0aW9uIHRvIHVwZGF0ZSB0aGUgYXZhaWxhYmxlcyByYXRpb3MgaW4gdGhlIGxlZnQgbWVudSAoYWZ0ZXIgY2hhbmdpbmcgcmVnaW9uKVxuKiBJZiBhIHNlbGVjdGVkIHZhcmlhYmxlIGlzIG5vdCBhdmFpbGFibGUgYW55bW9yZSBpdCB3aWxsIGJlIGRlc2VsZWN0ZWQuXG4qIElmIHRoZXJlIHNlbGVjdGVkIHZhcmlhYmxlIChhbGwgdGhlIHByZXZpb3VzbHkgc2VsZWN0ZWQgdmFyaWFibGVzIGFyZSB1bmF2YWlsYWJsZSBmb3IgdGhpcyByZWdpb24pXG4qIHRoZSBmaXJzdCB2YXJpYWJsZSBvbiB0aGUgbWVudSB3aWxsIGJlIHNlbGVjdGVkLlxuKiBJZiB0aGUgbmV3IG51bWJlciBvZiBzZWxlY3RlZCBmZWF0dXJlIGlzIGluZmVyaW9yIHRvIHRoZSBudW1iZXIgb2YgdmFyaWFibGVzIG9uIHRoZSBjdXJyZW50XG4qIGNoYXJ0LCBhIG5ldyBjaGFydCAoc3VpdGFibGUgZm9yIG9ubHkgMSB2YXJpYWJsZSkgd2lsbCBiZSBzZWxlY3RlZC5cbipcbipcbiogQHBhcmFtIHtTdHJpbmd9IG15X3JlZ2lvbiAtIFRoZSBJRCBvZiB0aGUgbmV3bHkgc2VsZWN0ZWQgcmVnaW9uLlxuKiBAcmV0dXJuIHtOdW1iZXJ9IC0gVGhlIG5ldyBudW1iZXIgb2Ygc2VsZWN0ZWQgcmF0aW9zLlxuKlxuKi9cbmZ1bmN0aW9uIHVwZGF0ZUF2YWlsYWJsZXNSYXRpb3MobXlfcmVnaW9uKSB7XG4gIGNvbnN0IGRhdGFfbXlfZmVhdHVyZSA9IGFwcC5mdWxsX2RhdGFzZXQuZmlsdGVyKFxuICAgIGZ0ID0+IGZ0W2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF0gPT09IG15X3JlZ2lvbilbMF07XG4gIGNvbnN0IG1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWVudScpO1xuICBjb25zdCBsaW5lcyA9IG1lbnUucXVlcnlTZWxlY3RvckFsbCgnLnRhcmdldF92YXJpYWJsZScpO1xuICBmb3IgKGxldCBpID0gMCwgbmJfbGluZXMgPSBsaW5lcy5sZW5ndGg7IGkgPCBuYl9saW5lczsgaSsrKSB7XG4gICAgY29uc3QgY29kZV92YXJpYWJsZSA9IGxpbmVzW2ldLmdldEF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgICBpZiAoZGF0YV9teV9mZWF0dXJlW2NvZGVfdmFyaWFibGVdICE9PSB1bmRlZmluZWRcbiAgICAgICAgJiYgZGF0YV9teV9mZWF0dXJlW2NvZGVfdmFyaWFibGVdICE9PSAnTkEnKSB7XG4gICAgICBsaW5lc1tpXS5jbGFzc0xpc3QucmVtb3ZlKCdkaXNhYmxlZCcpO1xuICAgICAgbGluZXNbaV0ubmV4dFNpYmxpbmcuY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZWQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGluZXNbaV0uY2xhc3NMaXN0LnJlbW92ZSgnY2hlY2tlZCcpO1xuICAgICAgbGluZXNbaV0uY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKTtcbiAgICAgIGxpbmVzW2ldLm5leHRTaWJsaW5nLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJyk7XG4gICAgfVxuICB9XG4gIGNvbnN0IG5ld192YXIgPSBtZW51LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YXJnZXRfdmFyaWFibGUuY2hlY2tlZCcpO1xuICBpZiAobmV3X3Zhci5sZW5ndGggIT09IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpby5sZW5ndGgpIHtcbiAgICBsZXQgbmV3X3Zhcl9uYW1lcztcbiAgICBpZiAobmV3X3Zhci5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnN0IG5hbWUgPSBzZWxlY3RGaXJzdEF2YWlsYWJsZVZhcigpO1xuICAgICAgbmV3X3Zhcl9uYW1lcyA9IFtuYW1lXTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3X3Zhcl9uYW1lcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKFxuICAgICAgICBuZXdfdmFyKS5tYXAoZWxlbSA9PiBlbGVtLmdldEF0dHJpYnV0ZSgndmFsdWUnKSk7XG4gICAgfVxuICAgIHJlc2V0VmFyaWFibGVzKGFwcCwgbmV3X3Zhcl9uYW1lcyk7XG4gIH1cbiAgcmV0dXJuIG5ld192YXIubGVuZ3RoO1xufVxuXG5sb2FkRGF0YSgpO1xuIl0sIm5hbWVzIjpbInJlcXVpcmUkJDAiLCJtcyIsImNvbG9yX2NvdW50cmllcyIsImNvbG9yX2Rpc2FibGVkIiwiY29sb3Jfc3VwIiwiY29sb3JfaW5mIiwiY29sb3JfaGlnaGxpZ2h0IiwibWF0aF9hYnMiLCJNYXRoIiwiYWJzIiwibWF0aF9yb3VuZCIsInJvdW5kIiwibWF0aF9tYXgiLCJtYXgiLCJtYXRoX3NpbiIsInNpbiIsIm1hdGhfY29zIiwiY29zIiwiSEFMRl9QSSIsIlBJIiwicHJlcGFyZVRvb2x0aXAiLCJwYXJlbnRfc3ZnX2VsZW0iLCJ0b29sdGlwIiwiYXBwZW5kIiwiYXR0ciIsInN0eWxlIiwiYXR0cnMiLCJ3aWR0aCIsImhlaWdodCIsImZpbGwiLCJjbGFzcyIsIngiLCJkeSIsInVuYmluZFVJIiwic2VsZWN0QWxsIiwib24iLCJzZWxlY3QiLCJyZW1vdmUiLCJvbmtleXVwIiwib25rZXlkb3duIiwiY29tcCIsInRlc3RfdmFsdWUiLCJyZWZfdmFsdWUiLCJzZXJpZV9pbnZlcnNlZCIsImNvbXAyIiwidmFsMSIsInZhbDIiLCJyZWZfdmFsMSIsInJlZl92YWwyIiwieEludmVyc2VkIiwieUludmVyc2VkIiwiUmVjdCIsInRvcGxlZnQiLCJib3R0b21yaWdodCIsInhtaW4iLCJ4bWF4IiwieW1pbiIsInltYXgiLCJwdCIsIlByb3BTaXplciIsImZpeGVkX3ZhbHVlIiwiZml4ZWRfc2l6ZSIsInNxcnQiLCJzbWF4Iiwic2NhbGUiLCJ2YWwiLCJnZXRfdmFsdWUiLCJwb3ciLCJzaXplIiwicmVtb3ZlRHVwbGljYXRlcyIsImFyciIsInRtcCIsImkiLCJsZW5fYXJyIiwibGVuZ3RoIiwiaW5kZXhPZiIsInB1c2giLCJnZXRTdmdQYXRoVHlwZSIsInBhdGgiLCJzdmdQYXRoVG9Db29yZHMiLCJ0eXBlX3BhdGgiLCJzbGljZSIsInNwbGl0IiwibWFwIiwiYSIsImNvbXB1dGVQZXJjZW50aWxlUmFuayIsIm9iaiIsImZpZWxkX25hbWUiLCJyZXN1bHRfZmllbGRfbmFtZSIsInZhbHVlcyIsImQiLCJsZW5fdmFsdWVzIiwiZ2V0UFIiLCJ2IiwiY291bnQiLCJpeCIsIl9nZXRQUiIsInNlcmllIiwiY3JlYXRlTWVudSIsIm5hbWVzIiwidmFyaWFibGVzIiwic3R1ZHlfem9uZXMiLCJ0ZXJyaXRvcmlhbF9tZXNoIiwidGl0bGVfc2VjdGlvbjEiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJpbm5lckhUTUwiLCJzZWN0aW9uMSIsIm92ZXJmbG93IiwibGVuX2kiLCJpZCIsImdlbyIsIm5hbWUiLCJOb20iLCJlbnRyeSIsImFwcGVuZENoaWxkIiwidGl0bGVfc2VjdGlvbjIiLCJzZWN0aW9uMiIsImdyb3Vwc192YXIiLCJncm91cCIsImdwX25hbWUiLCJkaXZfZ3JwIiwiZGlzcGxheSIsInZhcl9uYW1lcyIsImZpbHRlciIsImoiLCJsZW5faiIsIm5hbWVfdmFyIiwiY29kZV92YXIiLCJyYXRpbyIsInN1Yl9lbnRyeSIsInRpdGxlX3NlY3Rpb24zIiwic2VjdGlvbjMiLCJ6b25lIiwidGl0bGVfc2VjdGlvbjQiLCJzZWN0aW9uNCIsInRlcnJpdF9sZXZlbCIsIm1lbnUiLCJnZXRFbGVtZW50QnlJZCIsImZsb2F0IiwibWFrZVRvcE1lbnUiLCJ0b3BfbWVudSIsImQzIiwic3R5bGVzIiwicGFkZGluZyIsIndpZHRoX2xlZnQiLCJxdWVyeVNlbGVjdG9yIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidCIsIndpZHRoX2NlbnRyYWxfY2hhcnQiLCJ3aWR0aF9tYXAiLCJ3aWR0aF90eXBlX2NvbXAiLCJtYXJnaW4iLCJodG1sIiwidHlwZV9jaGFydCIsInBvc2l0aW9uIiwidmFsdWUiLCJyZXNzZW1ibGFuY2UiLCJpbmVnYWxpdGUiLCJtYWtlSGVhZGVyTWFwU2VjdGlvbiIsImhlYWRlcl9tYXBfc2VjdGlvbiIsImluc2VydCIsIm1ha2VIZWFkZXJDaGFydCIsImhlYWRlcl9iYXJfc2VjdGlvbiIsInN2Z19tYXAiLCJtYXJnaW5fbWFwIiwidG9wIiwicmlnaHQiLCJib3R0b20iLCJsZWZ0IiwiaGVpZ2h0X21hcCIsInN0cm9rZSIsInByb2plY3Rpb24iLCJnZXRfYmJveF9sYXllcl9wYXRoIiwiYmJveF9sYXllciIsIkluZmluaXR5IiwiZWFjaCIsImJib3hfcGF0aCIsImJvdW5kcyIsImdlb21ldHJ5IiwiZml0TGF5ZXIiLCJ0cmFuc2xhdGUiLCJiIiwicyIsIm1hcF96b29tZWQiLCJ0cmFuc2Zvcm0iLCJldmVudCIsImsiLCJ5IiwibGF5ZXJzIiwidHJhbnNpdGlvbiIsImR1cmF0aW9uIiwiTWFwU2VsZWN0IiwibnV0czEiLCJjb3VudHJpZXMiLCJyZW1vdGUiLCJ0ZW1wbGF0ZSIsInNlYWJveGVzIiwiZ2VvSWRlbnRpdHkiLCJmaXRFeHRlbnQiLCJyZWZsZWN0WSIsImdlb1BhdGgiLCJ6b29tX21hcCIsInpvb20iLCJzY2FsZUV4dGVudCIsInRyYW5zbGF0ZUV4dGVudCIsImNhbGwiLCJkYXRhIiwiZmVhdHVyZXMiLCJlbnRlciIsInNlYWJveGVzMiIsInRhcmdldF9sYXllciIsInByb3BlcnRpZXMiLCJhcHAiLCJjdXJyZW50X2NvbmZpZyIsImlkX2ZpZWxkX2dlb20iLCJteV9yZWdpb24iLCJub2RlIiwiZ2V0QXR0cmlidXRlIiwiYmluZFRvb2x0aXAiLCJjdXJyZW50X2lkcyIsImNvbG9ycyIsInRleHQiLCJfaXgiLCJuYl92YWwiLCJtaW4iLCJyYXRpb19wcmV0dHlfbmFtZSIsIm1vdXNlIiwiem9vbUlkZW50aXR5IiwiY2xhc3NMaXN0IiwiYWRkIiwibXlfcmVnaW9uX3ByZXR0eV9uYW1lIiwiYnJ1c2hfbWFwIiwibW92ZSIsInNlbGVjdGlvbiIsImNoYXJ0IiwicmVzZXRIZWFkZXJCdXR0b24iLCJoYW5kbGVfYnJ1c2hfbWFwIiwiYnJ1c2giLCJleHRlbnQiLCJtYWtlU291cmNlU2VjdGlvbiIsInRleHRfem9uZSIsIm1ha2VNYXBMZWdlbmQiLCJsZWdlbmRfZWxlbXMiLCJjb2xvciIsInJlY3Rfc2l6ZSIsInNwYWNpbmciLCJsZ2RfaGVpZ2h0Iiwib2Zmc2V0IiwiZ3JwX2xnZCIsImxlZ2VuZHMiLCJ0eCIsInR5IiwiZGVmaW5lIiwidGhpcyIsImNyZWF0ZVRhYmxlRE9NIiwib3B0cyIsImNvbmZpZyIsIm51bSIsImRlbnVtIiwib3B0aW9ucyIsImRvYyIsIm5iX2ZlYXR1cmVzIiwiY29sdW1uX25hbWVzIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsIm5iX2NvbHVtbnMiLCJteVRhYmxlIiwiaGVhZGVycyIsImJvZHkiLCJoZWFkZXJzX3JvdyIsImNlbGwiLCJjb2xfbmFtZSIsInJvdyIsInNldEF0dHJpYnV0ZSIsIm1ha2VUYWJsZSIsImRhdGFfbm9fZW1wdHkiLCJ0YWJsZSIsInVuZGVmaW5lZCIsImRhdGFUYWJsZSIsIkRhdGFUYWJsZSIsIm1hcmdpblRvcCIsImZvbnRTaXplIiwicHJvdG90eXBlIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJlbCIsIm9uY2xpY2siLCJwYXJlbnRFbGVtZW50IiwiY2xpY2siLCJwcmVwYXJlX2RhdGFzZXQiLCJmdWxsX2RhdGFzZXQiLCJmZWF0dXJlX25hbWVzIiwiZWxlbSIsImZpbHRlckxldmVsVmFyIiwiZmlsdGVyX2lkIiwiY3VycmVudF9sZXZlbCIsImlkX2ZpZWxkIiwiZmlsdGVyX2tleSIsIm5hbWVfZmllbGQiLCJhbGxfdmFyaWFibGVzIiwiY29uY2F0IiwidGVtcCIsImZ0IiwibGV2ZWwiLCJteV9jYXRlZ29yeSIsInByb3BzX2ZlYXR1cmUiLCJjdXJyZW50X2RhdGEiLCJwcmVwYXJlVmFyaWFibGVzSW5mbyIsIm1ldGFkYXRhX2luZGljYXRldXJzIiwiYXBwbHlGaWx0ZXIiLCJmaWx0ZXJfdHlwZSIsImNoYW5nZVJlZ2lvbiIsImlkX3JlZ2lvbiIsImFkZFZhcmlhYmxlIiwiY29kZV9yYXRpbyIsInZhcmlhYmxlX2luZm8iLCJ2YXJpYWJsZXNfaW5mbyIsInJlbW92ZVZhcmlhYmxlIiwic3BsaWNlIiwicmVzZXRWYXJpYWJsZXMiLCJjb2Rlc19yYXRpbyIsImxlbiIsImNhbGNQb3BDb21wbGV0dWRlU3Vic2V0IiwidmFycyIsInBvcF9maWVsZCIsImZpbmQiLCJ0b3RhbF9wb3AiLCJpc05hTiIsInJhdGlvX25hbWUiLCJldmVyeSIsInN1YnNldF9wb3AiLCJwb3AiLCJUYWJsZVJlc3VtZVN0YXQiLCJzdW1tYXJ5X2ZlYXR1cmVzIiwiY29udGFpbmVyX2RpdiIsInRhYmxlX2JvZHkiLCJhZGRGZWF0dXJlIiwic3VtbWFyeSIsImlkX3ZhcmlhYmxlIiwicm93cyIsInN2Z19iYXIiLCJtYXJnaW4yIiwiaGVpZ2h0MiIsIm5iRnQiLCJjdXJyZW50X3JhbmdlX2JydXNoIiwiY3VycmVudF9yYW5nZSIsImRpc3BsYXllZCIsImdldE1lYW5SYW5rIiwibWVhbl92YWx1ZSIsInJhdGlvX3RvX3VzZSIsIm1lYW5fcmFuayIsInNvcnQiLCJCYXJDaGFydDEiLCJyZWZfZGF0YSIsImJydXNoZWQiLCJzb3VyY2VFdmVudCIsInR5cGUiLCJsb2ciLCJ4MiIsInJhbmdlIiwiZG9tYWluIiwidXBkYXRlIiwidXBkYXRlQ29udGV4dCIsImJydXNoX3RvcCIsImJydXNoZWRfdG9wIiwiX2ZvY3VzIiwibWFwX2VsZW0iLCJkM19ldmVudCIsInRhcmdldCIsInJlbW92ZVJlY3RCcnVzaCIsInVwZGF0ZU1hcFJlZ2lvIiwiZGV0YWlsIiwibmJfdmFyIiwic2NhbGVCYW5kIiwic2NhbGVMaW5lYXIiLCJ5MiIsInhBeGlzIiwiYXhpc0JvdHRvbSIsInhBeGlzMiIsInlBeGlzIiwiYXhpc0xlZnQiLCJzZWxmIiwiYXZhaWxhYmxlX3JhdGlvcyIsImN1cnJlbnRfcmFua3MiLCJtZWFuIiwiZm9jdXMiLCJjb250ZXh0IiwiYnJ1c2hfYm90dG9tIiwiYnJ1c2hYIiwiZHgiLCJnX2JhciIsImdyb3VwZV9saW5lX21lYW4iLCJ4MSIsInkxIiwidXBkYXRlTWluaUJhcnMiLCJjb21wbGV0dWRlX3ZhbHVlIiwiY29tcGxldHVkZSIsImtleSIsInNlbGVjX3ZhciIsImNvZGVfdmFyaWFibGUiLCJjaGFuZ2VWYXJpYWJsZSIsImNoYW5nZVN0dWR5Wm9uZSIsInVwZGF0ZUNvbXBsZXR1ZGUiLCJtZW51X3NlbGVjdGlvbiIsInNlbGVjdEJlbG93TWVhbiIsInNlbGVjdEFib3ZlTWVhbiIsInNlbGVjdEJlbG93TXlSZWdpb24iLCJzZWxlY3RBYm92ZU15UmVnaW9uIiwibWFrZVRhYmxlU3RhdCIsIl8iLCJiYXIiLCJiYW5kd2lkdGgiLCJ0b19kaXNwbGF5IiwiZXhpdCIsImF4aXNfeCIsIm1pbmlfYmFycyIsIm15X3JhbmsiLCJsYXN0X21hcF9zZWxlY3Rpb24iLCJyZWN0IiwiX3B0cyIsInB0cyIsIm5iX3B0cyIsImNvbnRhaW5zIiwiaWRzIiwia2V5cyIsInJhbmtzIiwiYzEiLCJjMiIsInBhcmVudCIsInVwZGF0ZVRhYmxlU3RhdHMiLCJ1cGRhdGVMZWdlbmQiLCJncnBfbWVhbiIsIm1pbl9zZXJpZSIsIm1heF9zZXJpZSIsIm9mZnNldF95IiwidXBkYXRlTWVhblZhbHVlIiwibmFtZV92YXJpYWJsZSIsImRpc3BhdGNoIiwidGFibGVfc3RhdHMiLCJ1bmJpbmRCcnVzaCIsInJlc2V0Q29sb3JzIiwicmVtb3ZlQWxsIiwicHJlcGFyZVRhYmxlU3RhdCIsImZlYXR1cmUiLCJCdWJibGVDaGFydDEiLCJhdmFpbGFibGVfbnVtcyIsInN0b2NrX3RvX3VzZSIsImhpZ2hsaWdodF9zZWxlY3Rpb24iLCJkcmF3X2dyb3VwIiwiYXBwbHlTZWxlY3Rpb24iLCJzZWxlY3Rpb25fY2xvc2UiLCJwcm9wZXJ0eSIsIm15X3JlZ2lvbl92YWx1ZSIsImZlYXR1cmVfb3JkZXIiLCJkaXN0IiwiYmluZE1lbnUiLCJuYiIsIl9taW4iLCJfbWF4IiwiZGlzdF9taW4iLCJkaXN0X21heCIsImRpc3RfYXhpcyIsIm1hcmdpbl9taW5fbWF4IiwicHJvcF9zaXplciIsInhTY2FsZSIsImJ1YmJsZXMiLCJ4X3ZhbHVlIiwiX3JhdGlvX3RvX3VzZSIsIl9zdG9ja190b191c2UiLCJpZF90b19yZW1vdmUiLCJhcHBseWNoYW5nZSIsImNvbnRleHRNZW51IiwiaXRlbXMiLCJzZXRJdGVtcyIsIml0ZW0iLCJhY3Rpb24iLCJuYl9pdGVtcyIsImFkZEl0ZW0iLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsIkRPTW9iaiIsImhpZGVNZW51IiwiaW5pdE1lbnUiLCJjbGllbnRZIiwic2Nyb2xsVG9wIiwiY2xpZW50WCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVDaGlsZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJsaXN0IiwibmJfaXRlbSIsIlNjYXR0ZXJQbG90MiIsInJhbmdlX3giLCJpbnZlcnQiLCJyYW5nZV95IiwidDEiLCJyYW5rX3ZhcmlhYmxlMSIsInQyIiwicmFua192YXJpYWJsZTIiLCJ2YXJpYWJsZTEiLCJ2YXJpYWJsZTIiLCJyZWZfdmFsdWUxIiwicmVmX3ZhbHVlMiIsInByZXR0eV9uYW1lMSIsInByZXR0eV9uYW1lMiIsInJlcyIsIm5pY2UiLCJ0aWNrcyIsInlBeGlzMiIsInBsb3QiLCJzY2F0dGVyIiwibWVhbl92YXJpYWJsZTEiLCJtZWFuX3ZhcmlhYmxlMiIsIm1ha2VHcmlkIiwib3BhY2l0eSIsInByZXBhcmVUaXRsZUF4aXMiLCJjYWxsQnJ1c2giLCJ0aWNrU2l6ZSIsInRpY2tGb3JtYXQiLCJtZW51WCIsIkNvbnRleHRNZW51IiwibWVudVkiLCJpdGVtc1giLCJjaGFuZ2VWYXJpYWJsZVgiLCJpdGVtc1kiLCJjaGFuZ2VWYXJpYWJsZVkiLCJiYm94Iiwic2hvd01lbnUiLCJkZWZhdWx0X2NvbG9yIiwiZG90cyIsIl92YXIxIiwiX3ZhcjIiLCJ2YWx1ZTEiLCJ2YWx1ZTIiLCJ0bXBfbXlfcmVnaW9uIiwidXBkYXRlSXRlbXNDdHhNZW51IiwidXBkYXRlVGFibGVTdGF0IiwibmV3X3Zhcl94IiwibmV3X3Zhcl95IiwidmFsdWVzMSIsInZhbHVlczIiLCJhZGRGZWF0dXJlcyIsIndyYXAiLCJfdGV4dCIsIndvcmRzIiwicmV2ZXJzZSIsImxpbmVIZWlnaHQiLCJwYXJzZUZsb2F0IiwibGluZSIsImxpbmVOdW1iZXIiLCJ0c3BhbiIsIndvcmQiLCJqb2luIiwiZ2V0Q29tcHV0ZWRUZXh0TGVuZ3RoIiwiYXJyYXkiLCJmcm9tIiwidG8iLCJzd2FwIiwiaXgxIiwiaXgyIiwicHJlcGFyZV9kYXRhX3JhZGFyX2RlZmF1bHQiLCJ2X215X3JlZ2lvbiIsIm9qYl9teV9yZWdpb24iLCJfdiIsImF4ZXMiLCJvYmpfbWVhbiIsInByZXBhcmVfZGF0YV9yYWRhcl9mdCIsImZ0X3ZhbHVlcyIsIlJhZGFyQ2hhcnQzIiwiY2ZnIiwic2NhbGVPcmRpbmFsIiwic2NoZW1lQ2F0ZWdvcnkxMCIsImciLCJ3IiwiaCIsInByZXBhcmVEYXRhIiwiZHJhd0F4aXNHcmlkIiwiZHJhd0FyZWEiLCJoYW5kbGVMZWdlbmQiLCJhbGxvd0ludmVyc2VEYXRhIiwiaW52ZXJzZV9kYXRhIiwiZmllbGQiLCJkYXRhX2xlbmd0aCIsImF4IiwiYXhpcyIsIm5fYXhpcyIsIkpTT04iLCJzdHJpbmdpZnkiLCJhbGxBeGlzIiwiRXJyb3IiLCJkaXNwbGF5ZWRfaWRzIiwib25fYXhlcyIsIm4iLCJibG9iV3JhcHBlciIsInJhZGFyTGluZSIsIm9wYWNpdHlBcmVhIiwic3Ryb2tlV2lkdGgiLCJkb3RSYWRpdXMiLCJyU2NhbGUiLCJhbmdsZVNsaWNlIiwiYmxvYkNpcmNsZVdyYXBwZXIiLCJjeCIsImJhc2VWYWwiLCJjeSIsIkZvcm1hdCIsInVuaXQiLCJyYW5rX3ZhcmlhYmxlcyIsIm1heFZhbHVlIiwidG90YWwiLCJyYWRpdXMiLCJmb3JtYXQiLCJyYWRpYWxMaW5lIiwiY3VydmUiLCJyb3VuZFN0cm9rZXMiLCJjdXJ2ZUNhcmRpbmFsQ2xvc2VkIiwiY3VydmVMaW5lYXJDbG9zZWQiLCJhbmdsZSIsImxhYmVsQ2xpY2tlZCIsIm5ld19peCIsImxhYmVsQ3R4TWVudSIsImxhYmVsIiwiYXhpc0dyaWQiLCJsZXZlbHMiLCJvcGFjaXR5Q2lyY2xlcyIsImxhYmVsRmFjdG9yIiwid3JhcFdpZHRoIiwiZmVNZXJnZSIsImxlZ2VuZCIsImJhYmVsSGVscGVycy50eXBlb2YiLCJ0aXRsZSIsImxlZ2VuZFpvbmUiLCJsZWdlbmRFbnRlciIsIm1lcmdlIiwidHJhbnNsYXRlWCIsInRyYW5zbGF0ZVkiLCJ1cGRhdGVfYXhpcyIsInVwZGF0ZV9ibG9iV3JhcHBlciIsImNpcmNsZSIsInVwZGF0ZV9ibG9iQ2lyY2xlV3JhcHBlciIsImludmlzaWJsZUNpcmNsZSIsIm90aGVyX2ZlYXR1cmVzIiwiYWRkX2VsZW1lbnQiLCJhbGxfdmFsdWVzIiwiX2QiLCJkZWJ1ZyIsInNldERlZmF1bHRDb25maWciLCJjb2RlIiwidmFyaWFibGUiLCJzZXREZWZhdWx0Q29uZmlnTWVudSIsImJpbmRVSV9jaGFydCIsIm5ld19uYl92YXIiLCJ1cGRhdGVBdmFpbGFibGVzUmF0aW9zIiwidXBkYXRlQ2hhbmdlUmVnaW9uIiwiZ3JvdXBfdmFyIiwibmV4dFNpYmxpbmciLCJBcnJheSIsInByZXZpb3VzU2libGluZyIsImhhbmRsZUNsaWNrTWFwIiwiaGVhZGVyX3RhYmxlX3NlY3Rpb24iLCJjb250ZW50IiwicmFuZyIsImVuY29kZVVSSUNvbXBvbmVudCIsImJpbmRUb3BCdXR0b25zIiwicmVzZXRab29tIiwiYmluZEJydXNoIiwiYmluZE1hcCIsImxvYWREYXRhIiwicXVldWUiLCJkZWZlciIsImNzdiIsImpzb24iLCJhd2FpdEFsbCIsImVycm9yIiwicmVzdWx0cyIsImZlYXR1cmVzX21lbnUiLCJzZWxlY3RGaXJzdEF2YWlsYWJsZVZhciIsImRhdGFfbXlfZmVhdHVyZSIsImxpbmVzIiwibmJfbGluZXMiLCJuZXdfdmFyIiwibmV3X3Zhcl9uYW1lcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0FBSUEsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDO0FBQ2IsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUNmLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7QUFDZixJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO0FBQ2YsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQzs7Ozs7Ozs7Ozs7Ozs7OztBQWdCbkIsTUFBYyxHQUFHLFNBQVMsR0FBRyxFQUFFLE9BQU8sRUFBRTtFQUN0QyxPQUFPLEdBQUcsT0FBTyxJQUFJLEVBQUUsQ0FBQztFQUN4QixJQUFJLElBQUksR0FBRyxPQUFPLEdBQUcsQ0FBQztFQUN0QixJQUFJLElBQUksS0FBSyxRQUFRLElBQUksR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7SUFDdkMsT0FBTyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7R0FDbkIsTUFBTSxJQUFJLElBQUksS0FBSyxRQUFRLElBQUksS0FBSyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEtBQUssRUFBRTtJQUNwRCxPQUFPLE9BQU8sQ0FBQyxJQUFJLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxH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
