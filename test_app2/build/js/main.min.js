(function (exports) {
'use strict';

var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};





function createCommonjsModule(fn, module) {
	return module = { exports: {} }, fn(module, module.exports), module.exports;
}

var tingle_min = createCommonjsModule(function (module, exports) {
!function(t,o){"function"==typeof undefined&&undefined.amd?undefined(o):module.exports=o();}(commonjsGlobal,function(){function t(t){var o={onClose:null,onOpen:null,beforeOpen:null,beforeClose:null,stickyFooter:!1,footer:!1,cssClass:[],closeLabel:"Close",closeMethods:["overlay","button","escape"]};this.opts=r({},o,t),this.init();}function o(){this.modalBoxFooter&&(this.modalBoxFooter.style.width=this.modalBox.clientWidth+"px",this.modalBoxFooter.style.left=this.modalBox.offsetLeft+"px");}function e(){this.modal=document.createElement("div"),this.modal.classList.add("tingle-modal"),0!==this.opts.closeMethods.length&&this.opts.closeMethods.indexOf("overlay")!==-1||this.modal.classList.add("tingle-modal--noOverlayClose"),this.modal.style.display="none",this.opts.cssClass.forEach(function(t){"string"==typeof t&&this.modal.classList.add(t);},this),this.opts.closeMethods.indexOf("button")!==-1&&(this.modalCloseBtn=document.createElement("button"),this.modalCloseBtn.classList.add("tingle-modal__close"),this.modalCloseBtnIcon=document.createElement("span"),this.modalCloseBtnIcon.classList.add("tingle-modal__closeIcon"),this.modalCloseBtnIcon.innerHTML="Ã—",this.modalCloseBtnLabel=document.createElement("span"),this.modalCloseBtnLabel.classList.add("tingle-modal__closeLabel"),this.modalCloseBtnLabel.innerHTML=this.opts.closeLabel,this.modalCloseBtn.appendChild(this.modalCloseBtnIcon),this.modalCloseBtn.appendChild(this.modalCloseBtnLabel)),this.modalBox=document.createElement("div"),this.modalBox.classList.add("tingle-modal-box"),this.modalBoxContent=document.createElement("div"),this.modalBoxContent.classList.add("tingle-modal-box__content"),this.modalBox.appendChild(this.modalBoxContent),this.opts.closeMethods.indexOf("button")!==-1&&this.modal.appendChild(this.modalCloseBtn),this.modal.appendChild(this.modalBox);}function s(){this.modalBoxFooter=document.createElement("div"),this.modalBoxFooter.classList.add("tingle-modal-box__footer"),this.modalBox.appendChild(this.modalBoxFooter);}function i(){this._events={clickCloseBtn:this.close.bind(this),clickOverlay:l.bind(this),resize:this.checkOverflow.bind(this),keyboardNav:n.bind(this)},this.opts.closeMethods.indexOf("button")!==-1&&this.modalCloseBtn.addEventListener("click",this._events.clickCloseBtn),this.modal.addEventListener("mousedown",this._events.clickOverlay),window.addEventListener("resize",this._events.resize),document.addEventListener("keydown",this._events.keyboardNav);}function n(t){this.opts.closeMethods.indexOf("escape")!==-1&&27===t.which&&this.isOpen()&&this.close();}function l(t){this.opts.closeMethods.indexOf("overlay")!==-1&&!d(t.target,"tingle-modal")&&t.clientX<this.modal.clientWidth&&this.close();}function d(t,o){for(;(t=t.parentElement)&&!t.classList.contains(o););return t}function a(){this.opts.closeMethods.indexOf("button")!==-1&&this.modalCloseBtn.removeEventListener("click",this._events.clickCloseBtn),this.modal.removeEventListener("mousedown",this._events.clickOverlay),window.removeEventListener("resize",this._events.resize),document.removeEventListener("keydown",this._events.keyboardNav);}function r(){for(var t=1;t<arguments.length;t++)for(var o in arguments[t])arguments[t].hasOwnProperty(o)&&(arguments[0][o]=arguments[t][o]);return arguments[0]}function h(){var t,o=document.createElement("tingle-test-transition"),e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in e)if(void 0!==o.style[t])return e[t]}var c=h();return t.prototype.init=function(){this.modal||(e.call(this),i.call(this),document.body.insertBefore(this.modal,document.body.firstChild),this.opts.footer&&this.addFooter());},t.prototype.destroy=function(){null!==this.modal&&(a.call(this),this.modal.parentNode.removeChild(this.modal),this.modal=null);},t.prototype.open=function(){var t=this;"function"==typeof t.opts.beforeOpen&&t.opts.beforeOpen(),this.modal.style.removeProperty?this.modal.style.removeProperty("display"):this.modal.style.removeAttribute("display"),document.body.classList.add("tingle-enabled"),this.setStickyFooter(this.opts.stickyFooter),this.modal.classList.add("tingle-modal--visible"),c?this.modal.addEventListener(c,function o(){"function"==typeof t.opts.onOpen&&t.opts.onOpen.call(t),t.modal.removeEventListener(c,o,!1);},!1):"function"==typeof t.opts.onOpen&&t.opts.onOpen.call(t),this.checkOverflow();},t.prototype.isOpen=function(){return!!this.modal.classList.contains("tingle-modal--visible")},t.prototype.close=function(){if("function"==typeof this.opts.beforeClose){var t=this.opts.beforeClose.call(this);if(!t)return}document.body.classList.remove("tingle-enabled"),this.modal.classList.remove("tingle-modal--visible");var o=this;c?this.modal.addEventListener(c,function t(){o.modal.removeEventListener(c,t,!1),o.modal.style.display="none","function"==typeof o.opts.onClose&&o.opts.onClose.call(this);},!1):(o.modal.style.display="none","function"==typeof o.opts.onClose&&o.opts.onClose.call(this));},t.prototype.setContent=function(t){"string"==typeof t?this.modalBoxContent.innerHTML=t:(this.modalBoxContent.innerHTML="",this.modalBoxContent.appendChild(t));},t.prototype.getContent=function(){return this.modalBoxContent},t.prototype.addFooter=function(){s.call(this);},t.prototype.setFooterContent=function(t){this.modalBoxFooter.innerHTML=t;},t.prototype.getFooterContent=function(){return this.modalBoxFooter},t.prototype.setStickyFooter=function(t){this.isOverflow()||(t=!1),t?this.modalBox.contains(this.modalBoxFooter)&&(this.modalBox.removeChild(this.modalBoxFooter),this.modal.appendChild(this.modalBoxFooter),this.modalBoxFooter.classList.add("tingle-modal-box__footer--sticky"),o.call(this),this.modalBoxContent.style["padding-bottom"]=this.modalBoxFooter.clientHeight+20+"px"):this.modalBoxFooter&&(this.modalBox.contains(this.modalBoxFooter)||(this.modal.removeChild(this.modalBoxFooter),this.modalBox.appendChild(this.modalBoxFooter),this.modalBoxFooter.style.width="auto",this.modalBoxFooter.style.left="",this.modalBoxContent.style["padding-bottom"]="",this.modalBoxFooter.classList.remove("tingle-modal-box__footer--sticky")));},t.prototype.addFooterBtn=function(t,o,e){var s=document.createElement("button");return s.innerHTML=t,s.addEventListener("click",e),"string"==typeof o&&o.length&&o.split(" ").forEach(function(t){s.classList.add(t);}),this.modalBoxFooter.appendChild(s),s},t.prototype.resize=function(){console.warn("Resize is deprecated and will be removed in version 1.0");},t.prototype.isOverflow=function(){var t=window.innerHeight,o=this.modalBox.clientHeight;return o>=t},t.prototype.checkOverflow=function(){this.modal.classList.contains("tingle-modal--visible")&&(this.isOverflow()?this.modal.classList.add("tingle-modal--overflow"):this.modal.classList.remove("tingle-modal--overflow"),!this.isOverflow()&&this.opts.stickyFooter?this.setStickyFooter(!1):this.isOverflow()&&this.opts.stickyFooter&&(o.call(this),this.setStickyFooter(!0)));},{modal:t}});
});

var color_countries = 'rgb(147,144,252)';
var color_disabled = 'rgb(214, 214, 214)';
var color_sup = 'green';
var color_inf = 'red';
var color_highlight = 'yellow';
var color_default_dissim = 'darkred';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
  return typeof obj;
} : function (obj) {
  return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
};











var classCallCheck = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

var createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();



























var slicedToArray = function () {
  function sliceIterator(arr, i) {
    var _arr = [];
    var _n = true;
    var _d = false;
    var _e = undefined;

    try {
      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
        _arr.push(_s.value);

        if (i && _arr.length === i) break;
      }
    } catch (err) {
      _d = true;
      _e = err;
    } finally {
      try {
        if (!_n && _i["return"]) _i["return"]();
      } finally {
        if (_d) throw _e;
      }
    }

    return _arr;
  }

  return function (arr, i) {
    if (Array.isArray(arr)) {
      return arr;
    } else if (Symbol.iterator in Object(arr)) {
      return sliceIterator(arr, i);
    } else {
      throw new TypeError("Invalid attempt to destructure non-iterable instance");
    }
  };
}();

var math_pow = Math.pow;
var math_abs = Math.abs;
var math_round = Math.round;
var math_max = Math.max;
var math_sin = Math.sin;
var math_cos = Math.cos;
var math_sqrt = Math.sqrt;
var HALF_PI = Math.PI / 2;

function prepareTooltip(parent_svg_elem) {
  var tooltip = parent_svg_elem.append('g').attr('class', 'tooltip').style('display', 'none');

  tooltip.append('rect').attrs({ x: 15, width: 0, height: 0, fill: 'beige' }).style('opacity', 0.75);

  tooltip.append('text').attrs({ class: 'id_feature', x: 25, dy: '1.2em', 'font-size': '14px' }).style('font-weight', 'bold');

  tooltip.append('text').attrs({
    class: 'value_feature1',
    x: 25,
    dy: '2.4em',
    'font-size': '14px'
  });

  tooltip.append('text').attrs({
    class: 'value_feature2',
    x: 25,
    dy: '3.5em',
    'font-size': '14px'
  });

  tooltip.append('text').attrs({
    class: 'value_feature3',
    x: 25,
    dy: '4.6em',
    'font-size': '14px'
  });

  tooltip.append('text').attrs({
    class: 'value_feature4',
    x: 25,
    dy: '5.7em',
    'font-size': '14px'
  });

  tooltip.append('text').attrs({
    class: 'value_feature5',
    x: 25,
    dy: '6.8em',
    'font-size': '14px'
  });

  return tooltip;
}

function unbindUI() {
  // Removes the current behavior corresponding to clicking on the left menu:
  d3.selectAll('span.filter_v').on('click', null);
  d3.selectAll('span.target_region').on('click', null);
  d3.selectAll('span.label_chk').on('click', null);

  // Remove the table:
  d3.select('.dataTable-wrapper').remove();

  // Unbind buttons on the top of the map:
  d3.select('#header_map').selectAll('img').on('click', null);

  // Remove the selection menu (or buttons) under the chart:
  d3.select('#bar_section > #menu_selection').remove();

  // Removes the current behavior corresponding to clicking on the top menu:
  d3.selectAll('.type_chart.title_menu').on('click', null);

  // Removes the current behavior corresponding to pressing the Control key:
  document.onkeyup = null;
  document.onkeydown = null;
}

/**
* Function to compare the value of a feature to the reference value (i.e. the value of "my region")
* and return the appropriate color (serie may be inversed)
*
* @param {Number} test_value - The value to be compared to the value of "my region".
* @param {Number} ref_value - The value of my region.
* @param {Boolean} serie_inversed - Whether the serie is inversed or not in the current chart.
* @return {String} - A string containing the color to be used for this value.
*
*/
var comp = function comp(test_value, ref_value, serie_inversed) {
  if (test_value < ref_value) {
    return serie_inversed ? color_sup : color_inf;
  }
  return serie_inversed ? color_inf : color_sup;
};

/**
* Function to compare the value of a feature to the reference value (i.e. the value of "my region")
* and return the appropriate color (serie may be inversed)
*
* @param {Number} val1 - The value to be compared to the value of "my region" for the 1st variable.
* @param {Number} val2 - The value to be compared to the value of "my region" for the 2nd variable.
* @param {Number} ref_val1 - The value of my region for he first variable.
* @param {Number} ref_val2 - The value of my region for the second variable.
* @param {Boolean} xInversed - Whether the serie is inversed on the x axis in the current chart.
* @param {Boolean} yInversed - Whether the serie is inversed on the y axis in the current chart.
* @return {String} - A string containing the color to be used for theses values.
*
*/
var comp2 = function comp2(val1, val2, ref_val1, ref_val2, xInversed, yInversed) {
  if (val1 < ref_val1 && !xInversed || val1 > ref_val1 && xInversed) {
    // val1 is inferior:
    if (val2 < ref_val2) {
      return yInversed ? 'rgb(160, 30, 160)' : color_inf;
    }
    return yInversed ? color_inf : 'rgb(160, 30, 160)';
  }
  // val1 is superior :
  if (val2 > ref_val2) {
    return !yInversed ? color_sup : 'orange';
  }
  return !yInversed ? 'orange' : color_sup;
};

var Rect = function () {
  function Rect(topleft, bottomright) {
    classCallCheck(this, Rect);

    this.xmin = topleft[0];
    this.xmax = bottomright[0];
    this.ymin = topleft[1];
    this.ymax = bottomright[1];
  }

  createClass(Rect, [{
    key: 'contains',
    value: function contains(pt) {
      if (pt[0] >= this.xmin && pt[0] <= this.xmax && pt[1] >= this.ymin && pt[1] <= this.ymax) {
        return true;
      }
      return false;
    }
  }]);
  return Rect;
}();

var PropSizer = function PropSizer(fixed_value, fixed_size) {
  var _this = this;

  this.fixed_value = fixed_value;
  var sqrt = Math.sqrt;
  var abs = Math.abs;
  var PI = Math.PI;
  this.smax = fixed_size * fixed_size * PI;
  this.scale = function (val) {
    return sqrt(abs(val) * _this.smax / _this.fixed_value) / PI;
  };
  // this.get_value = size => ((size * PI) ** 2) / this.smax * this.fixed_value;
  // Use Math pow to support browser without ** operator:
  // eslint-disable-next-line no-restricted-properties
  this.get_value = function (size) {
    return Math.pow(size * PI, 2) / _this.smax * _this.fixed_value;
  };
};

var removeDuplicates = function removeDuplicates(arr) {
  var tmp = [];
  for (var i = 0, len_arr = arr.length; i < len_arr; i++) {
    if (tmp.indexOf(arr[i]) === -1) {
      tmp.push(arr[i]);
    }
  }
  return tmp;
};

var getSvgPathType = function getSvgPathType(path) {
  if (path.indexOf('M ') > -1 && path.indexOf(' L ') > -1) {
    return 2;
  }
  return 1;
};

var svgPathToCoords = function svgPathToCoords(path, type_path) {
  if (type_path === 1) {
    return path.slice(1).split('L').map(function (pt) {
      return pt.split(',').map(function (a) {
        return +a;
      });
    });
  }
  return path.slice(2).split(' L ').map(function (pt) {
    return pt.split(' ').map(function (a) {
      return +a;
    });
  });
};

function computePercentileRank(obj, field_name, result_field_name) {
  var values = obj.map(function (d) {
    return d[field_name];
  });
  var len_values = values.length;
  var getPR = function getPR(v) {
    var count = 0;
    for (var i = 0; i < len_values; i++) {
      if (values[i] <= v) {
        count += 1;
      }
    }
    return 100 * count / len_values;
  };
  for (var ix = 0; ix < len_values; ix++) {
    // eslint-disable-next-line no-param-reassign
    obj[ix][result_field_name] = getPR(values[ix]);
  }
}

var _getPR = function _getPR(v, serie) {
  var count = 0;
  for (var i = 0; i < serie.length; i++) {
    if (serie[i] <= v) {
      count += 1;
    }
  }
  return 100 * count / serie.length;
};

var getMean = function getMean(serie) {
  var nb_values = serie.length;
  var sum = 0;
  for (var i = 0; i < nb_values; i++) {
    sum += serie[i];
  }
  return sum / nb_values;
};

var getStdDev = function getStdDev(serie, mean_value) {
  var nb_values = serie.length;
  if (!mean_value) {
    mean_value = getMean(serie); // eslint-disable-line no-param-reassign
  }
  var sum = 0;
  for (var i = 0; i < nb_values; i++) {
    // eslint-disable-next-line no-restricted-properties
    sum += math_pow(serie[i] - mean_value, 2);
  }
  return math_sqrt(1 / nb_values * sum);
};

var getStandardizedMeanStdDev = function getStandardizedMeanStdDev(serie) {
  var mean = getMean(serie);
  var stddev = getStdDev(serie, mean);
  return serie.map(function (val) {
    return (val - mean) / stddev;
  });
};

var shuffle = function shuffle(array) {
  for (var i = array.length - 1; i > 0; i--) {
    var j = Math.floor(Math.random() * (i + 1));
    // eslint-disable-next-line no-param-reassign
    var _ref = [array[j], array[i]];
    array[i] = _ref[0];
    array[j] = _ref[1];
  }
  return array;
};

function euclidian_distance(feature1, feature2) {
  var _feature1$geometry$co = slicedToArray(feature1.geometry.coordinates, 2),
      x1 = _feature1$geometry$co[0],
      y1 = _feature1$geometry$co[1];

  var _feature2$geometry$co = slicedToArray(feature2.geometry.coordinates, 2),
      x2 = _feature2$geometry$co[0],
      y2 = _feature2$geometry$co[1];

  var a = x1 - x2;
  var b = y1 - y2;
  return math_sqrt(a * a + b * b);
}

var createMenu = function createMenu(names, variables, study_zones, territorial_mesh) {
  // First section, regions names:
  var title_section1 = document.createElement('p');
  title_section1.className = 'title_menu';
  title_section1.innerHTML = 'Ma rÃ©gion';
  var section1 = document.createElement('div');
  section1.className = 'box';
  section1.style.overflow = 'auto';
  section1.style.height = '180px';
  for (var i = 0, len_i = names.length; i < len_i; i++) {
    var id = names[i].geo;
    var name = names[i].Nom;
    var entry = document.createElement('p');
    entry.innerHTML = '<span value="' + id + '" class=\'target_region square\'></span><span class="label_chk">' + name + '</span>';
    section1.appendChild(entry);
  }

  // Second section, groups of variables:
  var title_section2 = document.createElement('p');
  title_section2.className = 'title_menu';
  title_section2.innerHTML = 'Mon/mes indicateurs';
  var section2 = document.createElement('div');
  section2.id = 'menu_variables';
  section2.className = 'box';
  section2.style.overflow = 'auto';
  section2.style.height = '170px';

  // Filter the "variables" variable to fetch the group names :
  var groups_var = removeDuplicates(variables.map(function (d) {
    return d.group;
  }));

  var _loop = function _loop(_i, _len_i) {
    var gp_name = groups_var[_i];
    var entry = document.createElement('p');
    entry.className = 'name_group_var';
    entry.innerHTML = '<span class=\'square\'></span><span>' + gp_name + '</span>';
    section2.appendChild(entry);
    var div_grp = document.createElement('div');
    div_grp.style.display = _i === 0 ? null : 'none';
    var var_names = variables.filter(function (d) {
      return d.group === gp_name;
    });
    for (var j = 0, len_j = var_names.length; j < len_j; j++) {
      var name_var = var_names[j].name;
      var code_var = var_names[j].ratio;
      var sub_entry = document.createElement('p');
      sub_entry.className = 'small';
      sub_entry.innerHTML = '<span value="' + code_var + '" class="target_variable small_square"></span><span class="label_chk">' + name_var + '</span><span class="i_info">i</span>';
      div_grp.appendChild(sub_entry);
    }
    section2.appendChild(div_grp);
  };

  for (var _i = 0, _len_i = groups_var.length; _i < _len_i; _i++) {
    _loop(_i, _len_i);
  }

  // Third section, study zone:
  var title_section3 = document.createElement('p');
  title_section3.className = 'title_menu';
  title_section3.innerHTML = 'Mon espace d\'Ã©tude';
  var section3 = document.createElement('div');
  section3.id = 'menu_studyzone';
  section3.className = 'box';
  for (var _i2 = 0, _len_i2 = study_zones.length; _i2 < _len_i2; _i2++) {
    var _entry = document.createElement('p');
    var zone = study_zones[_i2];
    if (zone.id === 'filter_dist') {
      _entry.innerHTML = '<span filter-value="' + zone.id + '" class=\'filter_v square\'></span><span class="label_chk">' + zone.name + '</span><input value="450" disabled="disabled" style="width: 55px; height: 13px;" type="number" min="0" max="100000" id="dist_filter"></input><span> km</span><span class="i_info">i</span>';
    } else {
      _entry.innerHTML = '<span filter-value="' + zone.id + '" class=\'filter_v square\'></span><span class="label_chk">' + zone.name + '</span><span class="i_info">i</span>';
    }
    section3.appendChild(_entry);
  }

  // Fourth section:
  var title_section4 = document.createElement('p');
  title_section4.className = 'title_menu';
  title_section4.innerHTML = 'Maillage territorial d\'analyse';
  var section4 = document.createElement('div');
  section4.id = 'menu_territ_level';
  section4.className = 'box';
  for (var _i3 = 0, _len_i3 = territorial_mesh.length; _i3 < _len_i3; _i3++) {
    var _entry2 = document.createElement('p');
    var territ_level = territorial_mesh[_i3];
    _entry2.innerHTML = '<span value="' + territ_level.id + '" class=\'square territ_level\'></span><span class="label_chk">' + territ_level.name + '</span><span class="i_info">i</span>';
    section4.appendChild(_entry2);
  }

  // The actual menu containing these 4 sections:
  var menu = document.getElementById('menu');
  menu.id = 'menu';
  menu.style.width = '340px';
  menu.style.float = 'left';
  menu.appendChild(title_section1);
  menu.appendChild(section1);
  menu.appendChild(title_section2);
  menu.appendChild(section2);
  menu.appendChild(title_section3);
  menu.appendChild(section3);
  menu.appendChild(title_section4);
  menu.appendChild(section4);
};

function makeTopMenu() {
  var top_menu = d3.select('#menutop').styles({ 'font-family': "'Signika', sans-serif", 'font-size': '0.80em', padding: '0.3px' });
  var width_left = document.querySelector('#menu').getBoundingClientRect().width + 25 + 'px';
  var t = document.querySelector('#bar_section').getBoundingClientRect().width;
  var width_central_chart = t + 'px';
  var width_map = document.querySelector('#map_section').getBoundingClientRect().width - 35 + 'px';
  var width_type_comp = (t - 80) / 2 - 2 + 'px';
  top_menu.append('div').attrs({ class: 'title_section' }).styles({ width: width_left, float: 'left', margin: '0 3px' }).html('SÃ‰LECTION');

  var type_chart = top_menu.append('div').attr('class', 'top_section').styles({ width: width_central_chart, float: 'left', margin: '0 3px', 'text-align': 'center' });

  var position = type_chart.append('div').attr('class', 'type_comparaison').styles({ width: width_type_comp });

  position.append('p').attr('class', 'title_type_comp').html('POSITION');

  position.append('span').attrs({ class: 'type_chart chart_t1', value: 'BarChart1' }).html('1 ind.');

  position.append('span').attrs({ class: 'type_chart chart_t2 disabled', value: 'ScatterPlot2' }).html('2 ind.');

  position.append('span').attrs({ class: 'type_chart chart_t3 disabled', value: 'RadarChart3' }).html('+3 ind.');

  var ressemblance = type_chart.append('div').attr('class', 'type_comparaison').styles({ width: width_type_comp });

  ressemblance.append('p').attr('class', 'title_type_comp').html('RESSEMBLANCES');

  ressemblance.append('span').attrs({ class: 'type_chart chart_t1', value: 'BubbleChart1' }).html('1 ind.');

  ressemblance.append('span').attrs({ class: 'type_chart chart_t2 disabled', value: 'SimilarityChart' }).html('+2 ind.');

  ressemblance.append('span').attrs({ class: 'type_chart chart_t1', value: 'Similarity1plus' }).html('+1 ind.');

  // const inegalite = type_chart
  //   .append('div')
  //   .attr('class', 'type_comparaison')
  //   .styles({ width: width_type_comp });
  //
  // inegalite.append('p')
  //   .attr('class', 'title_type_comp')
  //   .html('INÃ‰GALITÃ‰S');
  //
  // inegalite.append('span')
  //   .attrs({ class: 'type_chart chart_t1', value: 'BoxPlot1' })
  //   .html('1 ind.');
  //
  // inegalite.append('span')
  //   .attrs({ class: 'type_chart chart_t2 disabled', value: 'ParallelCoords2' })
  //   .html('+2 ind.');

  top_menu.append('div').attrs({ class: 'title_section' }).styles({ width: width_map, float: 'left', margin: '0 0 0 20px' }).html('QUELLES REGIONS ?');
}

function makeHeaderMapSection() {
  var header_map_section = d3.select('#map_section').insert('p', 'svg').attr('id', 'header_map').style('margin', '0 0 0 10px');

  header_map_section.insert('img').attrs({
    class: 'map_button active',
    width: 20,
    height: 20,
    src: 'img/gimp-tool-rect-select.png',
    id: 'img_rect_selec'
  });

  header_map_section.insert('img').attrs({
    class: 'map_button',
    width: 20,
    height: 20,
    src: 'img/gimp-tool-zoom.png',
    id: 'img_map_zoom'
  });

  header_map_section.insert('img').attrs({
    class: 'map_button',
    width: 20,
    height: 20,
    src: 'img/gimp-cursor.png',
    id: 'img_map_select'
  });
}

function makeHeaderChart() {
  var header_bar_section = d3.select('#bar_section').insert('p', 'svg').attr('id', 'header_chart').style('margin-bottom', '0').style('clear', 'both');

  header_bar_section.insert('img').attrs({
    width: 24,
    height: 24,
    src: 'img/edit-table-insert-row-above.svg',
    id: 'img_table'
  }).styles({ margin: '3px', float: 'right' }).on('click', function () {
    if (document.querySelector('.dataTable-wrapper').style.display) {
      document.querySelector('#svg_map').style.display = 'none';
      document.querySelector('#svg_legend').style.display = 'none';
      document.querySelector('#header_map').style.display = 'none';
      document.querySelector('#header_table').style.display = null;
      document.querySelector('.dataTable-wrapper').style.display = null;
      this.style.filter = 'invert(75%)';
    } else {
      document.querySelector('#svg_map').style.display = null;
      document.querySelector('#svg_legend').style.display = null;
      document.querySelector('#header_map').style.display = null;
      document.querySelector('#header_table').style.display = 'none';
      document.querySelector('.dataTable-wrapper').style.display = 'none';
      this.style.filter = null;
    }
  });

  header_bar_section.insert('img').attrs({
    width: 24,
    height: 24,
    src: 'img/printer.svg',
    id: 'img_printer'
  }).styles({ margin: '3px', float: 'right' });

  header_bar_section.insert('img').attrs({
    width: 24,
    height: 24,
    src: 'img/gtk-info.svg',
    id: 'img_info'
  }).styles({ margin: '3px', float: 'right' });
}

var svg_map = d3.select('svg#svg_map');
var margin_map = { top: 0, right: 0, bottom: 0, left: 0 };
var width_map = +svg_map.attr('width') - margin_map.left - margin_map.right;
var height_map = +svg_map.attr('height') - margin_map.top - margin_map.bottom;

var styles = {
  template: { id: 'template', fill: 'rgb(247, 252, 254)', 'fill-opacity': 1 },
  countries: { id: 'countries', fill: 'rgb(214, 214, 214)', 'fill-opacity': 1, 'stroke-width': 0.5, stroke: '#ffffff' },
  seaboxes: { id: 'seaboxes', fill: '#e0faff', 'fill-opacity': 1, stroke: 'black', 'stroke-width': 0.2 },
  remote: { id: 'remote', fill: 'rgb(214, 214, 214)', 'fill-opacity': 1, 'stroke-width': 0.5, stroke: '#ffffff' },
  seaboxes2: { id: 'seaboxes2', fill: 'none', stroke: 'black', 'stroke-width': 0.8 },
  nuts1: { id: 'nuts1', 'fill-opacity': 1, 'stroke-width': 0.5, stroke: '#ffffff' }
};

var projection = void 0;
var path = void 0;

function get_bbox_layer_path(name) {
  var bbox_layer = [[Infinity, Infinity], [-Infinity, -Infinity]];
  svg_map.select('#' + name).selectAll('path').each(function (d) {
    var bbox_path = path.bounds(d.geometry);
    bbox_layer[0][0] = bbox_path[0][0] < bbox_layer[0][0] ? bbox_path[0][0] : bbox_layer[0][0];
    bbox_layer[0][1] = bbox_path[0][1] < bbox_layer[0][1] ? bbox_path[0][1] : bbox_layer[0][1];
    bbox_layer[1][0] = bbox_path[1][0] > bbox_layer[1][0] ? bbox_path[1][0] : bbox_layer[1][0];
    bbox_layer[1][1] = bbox_path[1][1] > bbox_layer[1][1] ? bbox_path[1][1] : bbox_layer[1][1];
  });
  return bbox_layer;
}

function fitLayer() {
  projection.scale(1).translate([0, 0]);
  var b = get_bbox_layer_path('template');
  var s = 1 / Math.max((b[1][0] - b[0][0]) / width_map, (b[1][1] - b[0][1]) / height_map);
  var t = [(width_map - s * (b[1][0] + b[0][0])) / 2, (height_map - s * (b[1][1] + b[0][1])) / 2];
  projection.scale(s).translate(t);
  svg_map.selectAll('path').attr('d', path);
}

function map_zoomed() {
  var transform = d3.event.transform;
  if (transform.k === 1) {
    transform.x = 0;
    transform.y = 0;
  }
  var layers = svg_map.select('#layers');
  var t = layers.selectAll('g').transition().duration(225);

  layers.selectAll('g').transition(t).style('stroke-width', function () {
    return styles[this.id]['stroke-width'] / transform.k + 'px';
  });

  layers.selectAll('g').transition(t).attr('transform', transform);

  svg_map.select('.brush_map').transition(t).attr('transform', transform);
}

var MapSelect = function () {
  function MapSelect(nuts1, countries, remote, template, seaboxes) {
    classCallCheck(this, MapSelect);

    projection = d3.geoIdentity().fitExtent([[0, 0], [width_map, height_map]], template).reflectY(true);

    path = d3.geoPath().projection(projection);
    var layers = svg_map.append('g').attr('id', 'layers');

    this.zoom_map = d3.zoom().scaleExtent([1, 5]).translateExtent([[0, 0], [width_map, height_map]]).on('zoom', map_zoomed);

    svg_map.call(this.zoom_map);

    layers.append('g').attrs(styles.template).selectAll('path').data(template.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs(styles.countries).attr('id', 'countries').selectAll('path').data(countries.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs(styles.seaboxes).selectAll('path').data(seaboxes.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs(styles.remote).selectAll('path').data(remote.features).enter().append('path').attrs({ d: path });

    layers.append('g').attrs(styles.seaboxes2).selectAll('path').data(seaboxes.features).enter().append('path').attrs({ d: path });

    this.target_layer = layers.append('g').attrs(styles.nuts1);
    this.target_layer.selectAll('path').data(nuts1.features).enter().append('path').attr('fill', function (d) {
      return d.properties[app.current_config.id_field_geom] !== app.current_config.my_region ? color_countries : color_highlight;
    }).attr('d', path);
    app.type_path = getSvgPathType(this.target_layer.select('path').node().getAttribute('d'));
    fitLayer();
    prepareTooltip(svg_map);
    // this.bindTooltip();
  }

  createClass(MapSelect, [{
    key: 'resetColors',
    value: function resetColors$$1(current_ids) {
      var id_field_geom = app.current_config.id_field_geom;
      this.target_layer.selectAll('path').attr('fill', function (d) {
        var id = d.properties[id_field_geom];
        if (id === app.current_config.my_region) {
          return color_highlight;
        } else if (current_ids.indexOf(id) > -1) {
          return app.colors[id] || color_countries;
        }
        return color_disabled;
      });
    }
    // bindTooltip() {
    //   this.target_layer.selectAll('path')
    //     .on('mouseover', () => {
    //       svg_map.select('.tooltip')
    //         .style('display', null);
    //     })
    //     .on('mouseout', () => {
    //       svg_map.select('.tooltip')
    //         .style('display', 'none');
    //     })
    //     .on('mousemove', function (d) {
    //       const tooltip = svg_map.select('.tooltip');
    //       tooltip
    //         .select('text.id_feature')
    //         .text(`${d.properties[app.current_config.id_field_geom]}`);
    //       let _ix, nb_val;
    //       for (_ix = 0, nb_val = Math.min(app.current_config.ratio.length, 5); _ix < nb_val; _ix++) {
    //         tooltip.select(`text.value_feature${_ix + 1}`)
    //           .text(`${app.current_config.ratio_pretty_name[_ix]}: ${math_round(d.properties[app.current_config.ratio[_ix]] * 10) / 10}`);
    //       }
    //       tooltip
    //         .attr('transform', `translate(${[d3.mouse(this)[0] - 5, d3.mouse(this)[1] - 45 - _ix * 12]})`);
    //     });
    // }

  }, {
    key: 'resetZoom',
    value: function resetZoom() {
      svg_map.transition().duration(250).call(this.zoom_map.transform, d3.zoomIdentity);
    }
  }, {
    key: 'updateLegend',
    value: function updateLegend() {
      d3.select('#svg_legend > g > .legend > text').text('Ma r\xE9gion : ' + app.current_config.my_region_pretty_name);
    }
  }, {
    key: 'removeRectBrush',
    value: function removeRectBrush() {
      svg_map.select('.brush_map').call(this.brush_map.move, null);
    }
  }, {
    key: 'callBrush',
    value: function callBrush(selection) {
      svg_map.select('.brush_map').call(this.brush_map.move, selection);
    }
  }, {
    key: 'bindBrushClick',
    value: function bindBrushClick(chart) {
      if (chart.handleClickMap) {
        document.getElementById('img_map_select').classList.remove('disabled');
        document.getElementById('img_map_select').classList.add('active');
      } else {
        document.getElementById('img_map_select').classList.add('disabled');
      }
      if (chart.handle_brush_map) {
        document.getElementById('img_rect_selec').classList.remove('disabled');
        document.getElementById('img_rect_selec').classList.add('active');
        document.getElementById('img_map_zoom').classList.remove('active');
        document.getElementById('img_map_select').classList.remove('active');
        this.brush_map = d3.brush().extent([[0, 0], [width_map, height_map]]).on('start brush', function () {
          chart.handle_brush_map(d3.event);
        });
        svg_map.append('g').attr('class', 'brush_map').call(this.brush_map);
      } else {
        document.getElementById('img_rect_selec').classList.remove('active');
        document.getElementById('img_rect_selec').classList.add('disabled');
        document.getElementById('img_map_zoom').classList.remove('active');
        document.getElementById('img_map_select').classList.add('active');
      }
    }
  }, {
    key: 'getUnitsWithin',
    value: function getUnitsWithin(dist_km) {
      var dist = dist_km * 1000;
      if (!this.dist_to_my_region) this.computeDistMat();
      return this.dist_to_my_region.filter(function (d) {
        return d.dist <= dist;
      }).map(function (d) {
        return d.id;
      });
    }
  }, {
    key: 'computeDistMat',
    value: function computeDistMat() {
      var features = Array.prototype.slice.call(this.target_layer.node().querySelectorAll('path'));
      var nb_ft = features.length;
      var my_region_geom = features.find(function (d) {
        return d.__data__.properties[app.current_config.id_field_geom] === app.current_config.my_region;
      }).__data__.geometry;
      var my_region_centroid = turf.centroid(my_region_geom);
      var result_dist = [];
      for (var i = 0; i < nb_ft; i++) {
        var id = features[i].__data__.properties[app.current_config.id_field_geom];
        var dist = euclidian_distance(my_region_centroid, turf.centroid(features[i].__data__.geometry));
        result_dist.push({ id: id, dist: dist });
      }
      this.dist_to_my_region = result_dist;
    }
  }, {
    key: 'unbindBrushClick',
    value: function unbindBrushClick() {
      this.brush_map = null;
      svg_map.select('.brush_map').remove();
    }
  }]);
  return MapSelect;
}();

function makeSourceSection() {
  var text_zone = d3.select('#svg_legend').append('text').attrs({ y: 32.5, 'text-anchor': 'end' }).style('font-size', '11px').style('font-family', '\'Signika\', sans-serif');
  text_zone.append('tspan').attrs({ x: 470, dy: 12 }).text('Niveau rÃ©gional : NUTS 1 (version 2016)');
  text_zone.append('tspan').attrs({ x: 470, dy: 12 }).text('Origine des donnÃ©es : Eurostat, 2016');
  text_zone.append('tspan').attrs({ x: 470, dy: 12 }).text('Limite administrative: UMS RIATE, CC-BY-SA');
}

function makeMapLegend() {
  var legend_elems = [{ color: color_highlight, text: 'Ma r\xE9gion : ' + app.current_config.my_region_pretty_name }, { color: color_countries, text: 'Autres rÃ©gions du filtre de comparaison' }, { color: color_sup, text: 'Rang plus Ã©levÃ© que ma rÃ©gion' }, { color: color_inf, text: 'Rang moins Ã©levÃ© que ma rÃ©gion' }];

  var rect_size = 14;
  var spacing = 4;
  var lgd_height = rect_size + spacing;
  var offset = lgd_height * legend_elems.length / 2;

  var grp_lgd = d3.select('#svg_legend').append('g').attr('transform', 'translate(50, 40)').styles({ 'font-size': '11px', 'font-family': '\'Signika\', sans-serif' });

  var legends = grp_lgd.selectAll('.legend').data(legend_elems).enter().append('g').attr('class', 'legend').attr('transform', function (d, i) {
    var tx = -2 * rect_size;
    var ty = i * lgd_height - offset;
    return 'translate(' + [tx, ty] + ')';
  });

  legends.append('rect').attrs({ width: rect_size, height: rect_size }).styles(function (d) {
    return { fill: d.color, stroke: d.color };
  });

  legends.append('text').attrs({ x: rect_size + spacing, y: rect_size - spacing }).text(function (d) {
    return d.text;
  });
}

var vanillaDataTables = createCommonjsModule(function (module, exports) {
/*!
 *
 * Vanilla-DataTables
 * Copyright (c) 2015-2017 Karl Saunders (http://mobius.ovh)
 * Licensed under MIT (http://www.opensource.org/licenses/mit-license.php)
 *
 * Version: 1.5.1
 *
 */
(function (root, factory) {
    var plugin = "DataTable";

    if (typeof undefined === "function" && undefined.amd) {
        undefined([], factory(plugin));
    } else {
        module.exports = factory(plugin);
    }
})(commonjsGlobal, function (plugin) {
    "use strict";
    var win = window,
        doc = document,
        body = doc.body;

    /**
     * Default configuration
     * @typ {Object}
     */
    var defaultConfig = {
        perPage: 10,
        perPageSelect: [5, 10, 15, 20, 25],

        sortable: true,
        searchable: true,

        // Pagination
        nextPrev: true,
        firstLast: false,
        prevText: "&lsaquo;",
        nextText: "&rsaquo;",
        firstText: "&laquo;",
        lastText: "&raquo;",
        ellipsisText: "&hellip;",
        ascText: "â–´",
        descText: "â–¾",
        truncatePager: true,
        pagerDelta: 2,

        fixedColumns: true,
        fixedHeight: false,

        header: true,
        footer: false,

        // Customise the display text
        labels: {
            placeholder: "Search...", // The search input placeholder
            perPage: "{select} entries per page", // per-page dropdown label
            noRows: "No entries found", // Message shown when there are no search results
            info: "Showing {start} to {end} of {rows} entries" //
        },

        // Customise the layout
        layout: {
            top: "{select}{search}",
            bottom: "{info}{pager}"
        }
    };

    /**
     * Check is item is object
     * @return {Boolean}
     */
    var isObject = function (val) {
        return Object.prototype.toString.call(val) === "[object Object]";
    };

    /**
     * Check is item is array
     * @return {Boolean}
     */
    var isArray = function (val) {
        return Array.isArray(val);
    };

    /**
     * Check for valid JSON string
     * @param  {String}   str
     * @return {Boolean|Array|Object}
     */
    var isJson = function (str) {
        var t = !1;
        try {
            t = JSON.parse(str);
        } catch (e) {
            return !1;
        }
        return !(null === t || (!isArray(t) && !isObject(t))) && t;
    };

    /**
     * Merge objects (reccursive)
     * @param  {Object} r
     * @param  {Object} t
     * @return {Object}
     */
    var extend = function (src, props) {
        for (var prop in props) {
            if (props.hasOwnProperty(prop)) {
                var val = props[prop];
                if (val && isObject(val)) {
                    src[prop] = src[prop] || {};
                    extend(src[prop], val);
                } else {
                    src[prop] = val;
                }
            }
        }
        return src;
    };

    /**
     * Iterator helper
     * @param  {(Array|Object)}   arr     Any object, array or array-like collection.
     * @param  {Function}         fn      Callback
     * @param  {Object}           scope   Change the value of this
     * @return {Void}
     */
    var each = function (arr, fn, scope) {
        var n;
        if (isObject(arr)) {
            for (n in arr) {
                if (Object.prototype.hasOwnProperty.call(arr, n)) {
                    fn.call(scope, arr[n], n);
                }
            }
        } else {
            for (n = 0; n < arr.length; n++) {
                fn.call(scope, arr[n], n);
            }
        }
    };

    /**
     * Add event listener to target
     * @param  {Object} el
     * @param  {String} e
     * @param  {Function} fn
     */
    var on = function (el, e, fn) {
        el.addEventListener(e, fn, false);
    };

    /**
     * Create DOM element node
     * @param  {String}   a nodeName
     * @param  {Object}   b properties and attributes
     * @return {Object}
     */
    var createElement = function (a, b) {
        var d = doc.createElement(a);
        if (b && "object" == typeof b) {
            var e;
            for (e in b) {
                if ("html" === e) {
                    d.innerHTML = b[e];
                } else {
                    d.setAttribute(e, b[e]);
                }
            }
        }
        return d;
    };

    var flush = function (el, ie) {
        if (el instanceof NodeList) {
            each(el, function (e) {
                flush(e, ie);
            });
        } else {
            if (ie) {
                while (el.hasChildNodes()) {
                    el.removeChild(el.firstChild);
                }
            } else {
                el.innerHTML = "";
            }
        }
    };

    /**
     * Create button helper
     * @param  {String}   c
     * @param  {Number}   p
     * @param  {String}   t
     * @return {Object}
     */
    var button = function (c, p, t) {
        return createElement("li", {
            class: c,
            html: '<a href="#" data-page="' + p + '">' + t + "</a>"
        });
    };

    /**
     * classList shim
     * @type {Object}
     */
    var classList = {
        add: function (s, a) {
            if (s.classList) {
                s.classList.add(a);
            } else {
                if (!classList.contains(s, a)) {
                    s.className = s.className.trim() + " " + a;
                }
            }
        },
        remove: function (s, a) {
            if (s.classList) {
                s.classList.remove(a);
            } else {
                if (classList.contains(s, a)) {
                    s.className = s.className.replace(
                        new RegExp("(^|\\s)" + a.split(" ").join("|") + "(\\s|$)", "gi"),
                        " "
                    );
                }
            }
        },
        contains: function (s, a) {
            if (s)
                return s.classList ?
                    s.classList.contains(a) :
                    !!s.className &&
                    !!s.className.match(new RegExp("(\\s|^)" + a + "(\\s|$)"));
        }
    };

    /**
     * Bubble sort algorithm
     */
    var sortItems = function (a, b) {
        var c, d;
        if (1 === b) {
            c = 0;
            d = a.length;
        } else {
            if (b === -1) {
                c = a.length - 1;
                d = -1;
            }
        }
        for (var e = !0; e;) {
            e = !1;
            for (var f = c; f != d; f += b) {
                if (a[f + b] && a[f].value > a[f + b].value) {
                    var g = a[f],
                        h = a[f + b],
                        i = g;
                    a[f] = h;
                    a[f + b] = i;
                    e = !0;
                }
            }
        }
        return a;
    };

    /**
     * Pager truncation algorithm
     */
    var truncate = function (a, b, c, d, ellipsis) {
        d = d || 2;
        var j,
            e = 2 * d,
            f = b - d,
            g = b + d,
            h = [],
            i = [];
        if (b < 4 - d + e) {
            g = 3 + e;
        } else if (b > c - (3 - d + e)) {
            f = c - (2 + e);
        }
        for (var k = 1; k <= c; k++) {
            if (1 == k || k == c || (k >= f && k <= g)) {
                var l = a[k - 1];
                classList.remove(l, "active");
                h.push(l);
            }
        }
        each(h, function (c) {
            var d = c.children[0].getAttribute("data-page");
            if (j) {
                var e = j.children[0].getAttribute("data-page");
                if (d - e == 2) i.push(a[e]);
                else if (d - e != 1) {
                    var f = createElement("li", {
                        class: "ellipsis",
                        html: '<a href="#">' + ellipsis + "</a>"
                    });
                    i.push(f);
                }
            }
            i.push(c);
            j = c;
        });

        return i;
    };

    /**
     * Parse data to HTML table
     */
    var dataToTable = function (data) {
        var thead = false,
            tbody = false;

        data = data || this.options.data;

        if (data.headings) {
            thead = createElement("thead");
            var tr = createElement("tr");
            each(data.headings, function (col) {
                var td = createElement("th", {
                    html: col
                });
                tr.appendChild(td);
            });

            thead.appendChild(tr);
        }

        if (data.data && data.data.length) {
            tbody = createElement("tbody");
            each(data.data, function (rows) {
                if (data.headings) {
                    if (data.headings.length !== rows.length) {
                        throw new Error(
                            "The number of rows do not match the number of headings."
                        );
                    }
                }
                var tr = createElement("tr");
                each(rows, function (value) {
                    var td = createElement("td", {
                        html: value
                    });
                    tr.appendChild(td);
                });
                tbody.appendChild(tr);
            });
        }

        if (thead) {
            if (this.table.tHead !== null) {
                this.table.removeChild(this.table.tHead);
            }
            this.table.appendChild(thead);
        }

        if (tbody) {
            if (this.table.tBodies.length) {
                this.table.removeChild(this.table.tBodies[0]);
            }
            this.table.appendChild(tbody);
        }
    };

    /**
     * Use moment.js to parse cell contents for sorting
     * @param  {String} content     The datetime string to parse
     * @param  {String} format      The format for moment to use
     * @return {String|Boolean}     Datatime string or false
     */
    var parseDate = function (content, format) {
        var date = false;

        // moment() throws a fit if the string isn't a valid datetime string
        // so we need to supply the format to the constructor (https://momentjs.com/docs/#/parsing/string-format/)

        // Converting to YYYYMMDD ensures we can accurately sort the column numerically

        if (format) {
            switch (format) {
            case "ISO_8601":
                date = moment(content, moment.ISO_8601).format("YYYYMMDD");
                break;
            case "RFC_2822":
                date = moment(content, "ddd, MM MMM YYYY HH:mm:ss ZZ").format("YYYYMMDD");
                break;
            case "MYSQL":
                date = moment(content, "YYYY-MM-DD hh:mm:ss").format("YYYYMMDD");
                break;
            case "UNIX":
                date = moment(content).unix();
                break;
                // User defined format using the data-format attribute or columns[n].format option
            default:
                date = moment(content, format).format("YYYYMMDD");
                break;
            }
        }

        return date;
    };

    /**
     * Columns API
     * @param {Object} instance DataTable instance
     * @param {Mixed} columns  Column index or array of column indexes
     */
    var Columns = function (dt) {
        this.dt = dt;
        return this;
    };

    /**
     * Swap two columns
     * @return {Void}
     */
    Columns.prototype.swap = function (columns) {
        if (columns.length && columns.length === 2) {
            var cols = [];

            // Get the current column indexes
            each(this.dt.headings, function (h, i) {
                cols.push(i);
            });

            var x = columns[0];
            var y = columns[1];
            var b = cols[y];
            cols[y] = cols[x];
            cols[x] = b;

            this.order(cols);
        }
    };

    /**
     * Reorder the columns
     * @return {Array} columns  Array of ordered column indexes
     */
    Columns.prototype.order = function (columns) {

        var a, b, c, d, h, s, cell,
            temp = [
                [],
                [],
                [],
                []
            ],
            dt = this.dt;

        // Order the headings
        each(columns, function (column, x) {
            h = dt.headings[column];
            s = h.getAttribute("data-sortable") !== "false";
            a = h.cloneNode(true);
            a.originalCellIndex = x;
            a.sortable = s;

            temp[0].push(a);

            if (dt.hiddenColumns.indexOf(column) < 0) {
                b = h.cloneNode(true);
                b.originalCellIndex = x;
                b.sortable = s;

                temp[1].push(b);
            }
        });

        // Order the row cells
        each(dt.data, function (row, i) {
            c = row.cloneNode();
            d = row.cloneNode();

            c.dataIndex = d.dataIndex = i;

            if (row.searchIndex !== null && row.searchIndex !== undefined) {
                c.searchIndex = d.searchIndex = row.searchIndex;
            }

            // Append the cell to the fragment in the correct order
            each(columns, function (column, x) {
                cell = row.cells[column].cloneNode(true);
                cell.data = row.cells[column].data;
                c.appendChild(cell);

                if (dt.hiddenColumns.indexOf(column) < 0) {
                    cell = row.cells[column].cloneNode(true);
                    cell.data = row.cells[column].data;
                    d.appendChild(cell);
                }
            });

            temp[2].push(c);
            temp[3].push(d);
        });

        dt.headings = temp[0];
        dt.activeHeadings = temp[1];

        dt.data = temp[2];
        dt.activeRows = temp[3];

        // Update
        dt.update();
    };

    /**
     * Hide columns
     * @return {Void}
     */
    Columns.prototype.hide = function (columns) {
        if (columns.length) {
            var dt = this.dt;

            each(columns, function (column) {
                if (dt.hiddenColumns.indexOf(column) < 0) {
                    dt.hiddenColumns.push(column);
                }
            });

            this.rebuild();
        }
    };

    /**
     * Show columns
     * @return {Void}
     */
    Columns.prototype.show = function (columns) {
        if (columns.length) {
            var index, dt = this.dt;

            each(columns, function (column) {
                index = dt.hiddenColumns.indexOf(column);
                if (index > -1) {
                    dt.hiddenColumns.splice(index, 1);
                }
            });

            this.rebuild();
        }
    };

    /**
     * Check column(s) visibility
     * @return {Boolean}
     */
    Columns.prototype.visible = function (columns) {
        var cols, dt = this.dt;

        columns = columns || dt.headings.map(function (th) {
            return th.originalCellIndex;
        });

        if (!isNaN(columns)) {
            cols = dt.hiddenColumns.indexOf(columns) < 0;
        } else if (isArray(columns)) {
            cols = [];
            each(columns, function (column) {
                cols.push(dt.hiddenColumns.indexOf(column) < 0);
            });
        }

        return cols;
    };

    /**
     * Add a new column
     * @param {Object} data
     */
    Columns.prototype.add = function (data) {
        var that = this,
            td, th = document.createElement("th");

        if (!this.dt.headings.length) {
            this.dt.insert({
                headings: [data.heading],
                data: data.data.map(function (i) {
                    return [i];
                })
            });
            this.rebuild();
            return;
        }

        if (!this.dt.hiddenHeader) {
            if (data.heading.nodeName) {
                th.appendChild(data.heading);
            } else {
                th.innerHTML = data.heading;
            }
        } else {
            th.innerHTML = "";
        }

        this.dt.headings.push(th);

        each(this.dt.data, function (row, i) {
            if (data.data[i]) {
                td = document.createElement("td");

                if (data.data[i].nodeName) {
                    td.appendChild(data.data[i]);
                } else {
                    td.innerHTML = data.data[i];
                }

                td.data = td.innerHTML;

                if (data.render) {
                    td.innerHTML = data.render.call(that, td.data, td, row);
                }

                row.appendChild(td);
            }
        });

        if (data.type) {
            th.setAttribute("data-type", data.type);
        }
        if (data.format) {
            th.setAttribute("data-format", data.format);
        }

        if (data.hasOwnProperty("sortable")) {
            th.sortable = data.sortable;
            th.setAttribute("data-sortable", data.sortable === true ? "true" : "false");
        }

        this.rebuild();

        this.dt.renderHeader();
    };

    /**
     * Remove column(s)
     * @param  {Array|Number} select
     * @return {Void}
     */
    Columns.prototype.remove = function (select) {
        if (isArray(select)) {
            // Remove in reverse otherwise the indexes will be incorrect
            select.sort(function (a, b) {
                return b - a;
            });

            each(select, function (column) {
                this.remove(column);
            }, this);
        } else {
            this.dt.headings.splice(select, 1);

            each(this.dt.data, function (row) {
                row.removeChild(row.cells[select]);
            });
        }

        this.rebuild();
    };

    /**
     * Sort by column
     * @param  {int} column - The column no.
     * @param  {string} direction - asc or desc
     * @return {void}
     */
    Columns.prototype.sort = function (column, direction, init) {

        var dt = this.dt;

        // Check column is present
        if (dt.hasHeadings && (column < 1 || column > dt.activeHeadings.length)) {
            return false;
        }

        dt.sorting = true;

        // Convert to zero-indexed
        column = column - 1;

        var dir,
            rows = dt.data,
            alpha = [],
            numeric = [],
            a = 0,
            n = 0,
            th = dt.activeHeadings[column];

        column = th.originalCellIndex;

        each(rows, function (tr) {
            var cell = tr.cells[column];
            var content = cell.data;
            var num = content.replace(/(\$|\,|\s|%)/g, "");

            // Check for date format and moment.js
            if (th.getAttribute("data-type") === "date" && win.moment) {
                var format = false,
                    formatted = th.hasAttribute("data-format");

                if (formatted) {
                    format = th.getAttribute("data-format");
                }

                num = parseDate(content, format);
            }

            if (parseFloat(num) == num) {
                numeric[n++] = {
                    value: Number(num),
                    row: tr
                };
            } else {
                alpha[a++] = {
                    value: content,
                    row: tr
                };
            }
        });

        /* Sort according to direction (ascending or descending) */
        var top, btm;
        if (classList.contains(th, "asc") || direction == "asc") {
            top = sortItems(alpha, -1);
            btm = sortItems(numeric, -1);
            dir = "descending";
            classList.remove(th, "asc");
            classList.add(th, "desc");
        } else {
            top = sortItems(numeric, 1);
            btm = sortItems(alpha, 1);
            dir = "ascending";
            classList.remove(th, "desc");
            classList.add(th, "asc");
        }

        /* Clear asc/desc class names from the last sorted column's th if it isn't the same as the one that was just clicked */
        if (dt.lastTh && th != dt.lastTh) {
            classList.remove(dt.lastTh, "desc");
            classList.remove(dt.lastTh, "asc");
        }

        dt.lastTh = th;

        /* Reorder the table */
        rows = top.concat(btm);

        dt.data = [];
        var indexes = [];

        each(rows, function (v, i) {
            dt.data.push(v.row);

            if (v.row.searchIndex !== null && v.row.searchIndex !== undefined) {
                indexes.push(i);
            }
        }, dt);

        dt.searchData = indexes;

        this.rebuild();

        dt.update();

        if (!init) {
            dt.emit("datatable.sort", column, dir);
        }
    };

    /**
     * Rebuild the columns
     * @return {Void}
     */
    Columns.prototype.rebuild = function () {
        var a, b, c, d, dt = this.dt,
            temp = [];

        dt.activeRows = [];
        dt.activeHeadings = [];

        each(dt.headings, function (th, i) {
            th.originalCellIndex = i;
            th.sortable = th.getAttribute("data-sortable") !== "false";
            if (dt.hiddenColumns.indexOf(i) < 0) {
                dt.activeHeadings.push(th);
            }
        }, this);

        // Loop over the rows and reorder the cells
        each(dt.data, function (row, i) {
            a = row.cloneNode();
            b = row.cloneNode();

            a.dataIndex = b.dataIndex = i;

            if (row.searchIndex !== null && row.searchIndex !== undefined) {
                a.searchIndex = b.searchIndex = row.searchIndex;
            }

            // Append the cell to the fragment in the correct order
            each(row.cells, function (cell) {
                c = cell.cloneNode(true);
                c.data = cell.data;
                a.appendChild(c);

                if (dt.hiddenColumns.indexOf(cell.cellIndex) < 0) {
                    d = cell.cloneNode(true);
                    d.data = cell.data;
                    b.appendChild(d);
                }
            });

            // Append the fragment with the ordered cells
            temp.push(a);
            dt.activeRows.push(b);
        });

        dt.data = temp;

        dt.update();
    };

    /**
     * Rows API
     * @param {Object} instance DataTable instance
     * @param {Array} rows
     */
    var Rows = function (dt, rows) {
        this.dt = dt;
        this.rows = rows;

        return this;
    };

    /**
     * Build a new row
     * @param  {Array} row
     * @return {HTMLElement}
     */
    Rows.prototype.build = function (row) {
        var td, tr = createElement("tr");

        var headings = this.dt.headings;

        if (!headings.length) {
            headings = row.map(function () {
                return "";
            });
        }

        each(headings, function (h, i) {
            td = createElement("td");

            // Fixes #29
            if (!row[i] && !row[i].length) {
                row[i] = "";
            }

            td.innerHTML = row[i];

            td.data = row[i];

            tr.appendChild(td);
        });

        return tr;
    };

    Rows.prototype.render = function (row) {
        return row;
    };

    /**
     * Add new row
     * @param {Array} select
     */
    Rows.prototype.add = function (data) {

        if (isArray(data)) {
            var dt = this.dt;
            // Check for multiple rows
            if (isArray(data[0])) {
                each(data, function (row, i) {
                    dt.data.push(this.build(row));
                }, this);
            } else {
                dt.data.push(this.build(data));
            }

            // We may have added data to an empty table
            if ( dt.data.length ) {
                dt.hasRows = true;
            }


            this.update();

            dt.columns().rebuild();
        }
    };

    /**
     * Remove row(s)
     * @param  {Array|Number} select
     * @return {Void}
     */
    Rows.prototype.remove = function (select) {

        var dt = this.dt;

        if (isArray(select)) {
            // Remove in reverse otherwise the indexes will be incorrect
            select.sort(function (a, b) {
                return b - a;
            });

            each(select, function (row, i) {
                dt.data.splice(row, 1);
            });
        } else {
            dt.data.splice(select, 1);
        }

        this.update();
        dt.columns().rebuild();
    };

    /**
     * Update row indexes
     * @return {Void}
     */
    Rows.prototype.update = function () {
        each(this.dt.data, function (row, i) {
            row.dataIndex = i;
        });
    };

    ////////////////////
    //    MAIN LIB    //
    ////////////////////

    var DataTable = function (table, options) {
        this.initialized = false;

        // user options
        this.options = extend(defaultConfig, options);

        if (typeof table === "string") {
            var selector = table;
            table = document.querySelector(table);

            if (!table) {
                throw new Error("The element '" + selector + "' can not be found.");
            }
        }

        if (table.tagName.toLowerCase() !== "table") {
            throw new Error("The selected element is not a table.");
        }

        this.initialLayout = table.innerHTML;
        this.initialSortable = this.options.sortable;

        // Disable manual sorting if no header is present (#4)
        if (!this.options.header) {
            this.options.sortable = false;
        }

        if (table.tHead === null) {
            if (!this.options.data ||
                (this.options.data && !this.options.data.headings)
            ) {
                this.options.sortable = false;
            }
        }

        if (table.tBodies.length && !table.tBodies[0].rows.length) {
            if (this.options.data) {
                if (!this.options.data.data) {
                    throw new Error(
                        "You seem to be using the data option, but you've not defined any rows."
                    );
                }
            }
        }

        this.table = table;

        this.init();
    };

    var proto = DataTable.prototype;

    /**
     * Initialize the instance
     * @param  {Object} options
     * @return {Void}
     */
    proto.init = function (options) {
        if (this.initialized || classList.contains(this.table, "dataTable-table")) {
            return false;
        }

        var that = this;

        this.options = extend(this.options, options || {});

        // IE detection
        this.isIE = !!/(msie|trident)/i.test(navigator.userAgent);

        this.currentPage = 1;
        this.onFirstPage = true;

        this.hiddenColumns = [];
        this.columnRenderers = [];
        this.selectedColumns = [];

        this.render();

        setTimeout(function () {
            that.emit("datatable.init");
            that.initialized = true;
        }, 10);
    };

    /**
     * Render the instance
     * @param  {String} type
     * @return {Void}
     */
    proto.render = function (type) {
        if (type) {
            switch (type) {
            case "page":
                this.renderPage();
                break;
            case "pager":
                this.renderPager();
                break;
            case "header":
                this.renderHeader();
                break;
            }

            return false;
        }

        var that = this,
            o = that.options,
            template = "";

        // Convert data to HTML
        if (o.data) {
            dataToTable.call(that);
        }

        if (o.ajax) {
            var ajax = o.ajax;
            var xhr = new XMLHttpRequest();

            var xhrProgress = function (e) {
                that.emit("datatable.ajax.progress", e, xhr);
            };

            var xhrLoad = function (e) {
                if (xhr.readyState === 4) {
                    that.emit("datatable.ajax.loaded", e, xhr);

                    if (xhr.status === 200) {
                        var obj = {};
                        obj.data = ajax.load ? ajax.load.call(that, xhr) : xhr.responseText;

                        obj.type = "json";

                        if (ajax.content && ajax.content.type) {
                            obj.type = ajax.content.type;

                            obj = extend(obj, ajax.content);
                        }

                        that.import(obj);

                        that.setColumns(true);

                        that.emit("datatable.ajax.success", e, xhr);
                    } else {
                        that.emit("datatable.ajax.error", e, xhr);
                    }
                }
            };

            var xhrFailed = function (e) {
                that.emit("datatable.ajax.error", e, xhr);
            };

            var xhrCancelled = function (e) {
                that.emit("datatable.ajax.abort", e, xhr);
            };

            on(xhr, "progress", xhrProgress);
            on(xhr, "load", xhrLoad);
            on(xhr, "error", xhrFailed);
            on(xhr, "abort", xhrCancelled);

            that.emit("datatable.ajax.loading", xhr);

            xhr.open("GET", typeof ajax === "string" ? o.ajax : o.ajax.url);
            xhr.send();
        }

        // Store references
        that.body = that.table.tBodies[0];
        that.head = that.table.tHead;
        that.foot = that.table.tFoot;

        if (!that.body) {
            that.body = createElement("tbody");

            that.table.appendChild(that.body);
        }

        that.hasRows = that.body.rows.length > 0;

        // Make a tHead if there isn't one (fixes #8)
        if (!that.head) {
            var h = createElement("thead");
            var t = createElement("tr");

            if (that.hasRows) {
                each(that.body.rows[0].cells, function () {
                    t.appendChild(createElement("th"));
                });

                h.appendChild(t);
            }

            that.head = h;

            that.table.insertBefore(that.head, that.body);

            that.hiddenHeader = !o.ajax;
        }

        that.headings = [];
        that.hasHeadings = that.head.rows.length > 0;

        if (that.hasHeadings) {
            that.header = that.head.rows[0];
            that.headings = [].slice.call(that.header.cells);
        }

        // Header
        if (!o.header) {
            if (that.head) {
                that.table.removeChild(that.table.tHead);
            }
        }

        // Footer
        if (o.footer) {
            if (that.head && !that.foot) {
                that.foot = createElement("tfoot", {
                    html: that.head.innerHTML
                });
                that.table.appendChild(that.foot);
            }
        } else {
            if (that.foot) {
                that.table.removeChild(that.table.tFoot);
            }
        }

        // Build
        that.wrapper = createElement("div", {
            class: "dataTable-wrapper dataTable-loading"
        });

        // Template for custom layouts
        template += "<div class='dataTable-top'>";
        template += o.layout.top;
        template += "</div>";
        template += "<div class='dataTable-container'></div>";
        template += "<div class='dataTable-bottom'>";
        template += o.layout.bottom;
        template += "</div>";

        // Info placement
        template = template.replace("{info}", "<div class='dataTable-info'></div>");

        // Per Page Select
        if (o.perPageSelect) {
            var wrap = "<div class='dataTable-dropdown'><label>";
            wrap += o.labels.perPage;
            wrap += "</label></div>";

            // Create the select
            var select = createElement("select", {
                class: "dataTable-selector"
            });

            // Create the options
            each(o.perPageSelect, function (val) {
                var selected = val === o.perPage;
                var option = new Option(val, val, selected, selected);
                select.add(option);
            });

            // Custom label
            wrap = wrap.replace("{select}", select.outerHTML);

            // Selector placement
            template = template.replace("{select}", wrap);
        } else {
            template = template.replace("{select}", "");
        }

        // Searchable
        if (o.searchable) {
            var form =
                "<div class='dataTable-search'><input class='dataTable-input' placeholder='" +
                o.labels.placeholder +
                "' type='text'></div>";

            // Search input placement
            template = template.replace("{search}", form);
        } else {
            template = template.replace("{search}", "");
        }

        if (that.hasHeadings) {
            // Sortable
            this.render("header");
        }

        // Add table class
        classList.add(that.table, "dataTable-table");

        // Paginator
        var w = createElement("div", {
            class: "dataTable-pagination"
        });
        var paginator = createElement("ul");
        w.appendChild(paginator);

        // Pager(s) placement
        template = template.replace(/\{pager\}/g, w.outerHTML);

        that.wrapper.innerHTML = template;

        that.container = that.wrapper.querySelector(".dataTable-container");

        that.pagers = that.wrapper.querySelectorAll(".dataTable-pagination");

        that.label = that.wrapper.querySelector(".dataTable-info");

        // Insert in to DOM tree
        that.table.parentNode.replaceChild(that.wrapper, that.table);
        that.container.appendChild(that.table);

        // Store the table dimensions
        that.rect = that.table.getBoundingClientRect();

        // Convert rows to array for processing
        that.data = [].slice.call(that.body.rows);
        that.activeRows = that.data.slice();
        that.activeHeadings = that.headings.slice();

        // Update
        that.update();

        if (!o.ajax) {
            that.setColumns();
        }

        // Fix height
        this.fixHeight();

        // Fix columns
        that.fixColumns();

        // Class names
        if (!o.header) {
            classList.add(that.wrapper, "no-header");
        }

        if (!o.footer) {
            classList.add(that.wrapper, "no-footer");
        }

        if (o.sortable) {
            classList.add(that.wrapper, "sortable");
        }

        if (o.searchable) {
            classList.add(that.wrapper, "searchable");
        }

        if (o.fixedHeight) {
            classList.add(that.wrapper, "fixed-height");
        }

        if (o.fixedColumns) {
            classList.add(that.wrapper, "fixed-columns");
        }

        that.bindEvents();
    };

    /**
     * Render the page
     * @return {Void}
     */
    proto.renderPage = function () {
        if (this.hasRows && this.totalPages) {
            if (this.currentPage > this.totalPages) {
                this.currentPage = 1;
            }

            // Use a fragment to limit touching the DOM
            var index = this.currentPage - 1,
                frag = doc.createDocumentFragment();

            if (this.hasHeadings) {
                flush(this.header, this.isIE);

                each(this.activeHeadings, function (th) {
                    this.header.appendChild(th);
                }, this);
            }

            each(this.pages[index], function (row) {
                frag.appendChild(this.rows().render(row));
            }, this);

            this.clear(frag);

            this.onFirstPage = this.currentPage === 1;
            this.onLastPage = this.currentPage === this.lastPage;
        } else {
            this.clear();
        }

        // Update the info
        var current = 0,
            f = 0,
            t = 0,
            items;

        if (this.totalPages) {
            current = this.currentPage - 1;
            f = current * this.options.perPage;
            t = f + this.pages[current].length;
            f = f + 1;
            items = !!this.searching ? this.searchData.length : this.data.length;
        }

        if (this.label && this.options.labels.info.length) {
            // CUSTOM LABELS
            var string = this.options.labels.info
                .replace("{start}", f)
                .replace("{end}", t)
                .replace("{page}", this.currentPage)
                .replace("{pages}", this.totalPages)
                .replace("{rows}", items);

            this.label.innerHTML = items ? string : "";
        }

        if (this.currentPage == 1) {
            this.fixHeight();
        }
    };

    /**
     * Render the pager(s)
     * @return {Void}
     */
    proto.renderPager = function () {
        flush(this.pagers, this.isIE);

        if (this.totalPages > 1) {
            var c = "pager",
                frag = doc.createDocumentFragment(),
                prev = this.onFirstPage ? 1 : this.currentPage - 1,
                next = this.onlastPage ? this.totalPages : this.currentPage + 1;

            // first button
            if (this.options.firstLast) {
                frag.appendChild(button(c, 1, this.options.firstText));
            }

            // prev button
            if (this.options.nextPrev) {
                frag.appendChild(button(c, prev, this.options.prevText));
            }

            var pager = this.links;

            // truncate the links
            if (this.options.truncatePager) {
                pager = truncate(
                    this.links,
                    this.currentPage,
                    this.pages.length,
                    this.options.pagerDelta,
                    this.options.ellipsisText
                );
            }

            // active page link
            classList.add(this.links[this.currentPage - 1], "active");

            // append the links
            each(pager, function (p) {
                classList.remove(p, "active");
                frag.appendChild(p);
            });

            classList.add(this.links[this.currentPage - 1], "active");

            // next button
            if (this.options.nextPrev) {
                frag.appendChild(button(c, next, this.options.nextText));
            }

            // first button
            if (this.options.firstLast) {
                frag.appendChild(button(c, this.totalPages, this.options.lastText));
            }

            // We may have more than one pager
            each(this.pagers, function (pager) {
                pager.appendChild(frag.cloneNode(true));
            });
        }
    };

    /**
     * Render the header
     * @return {Void}
     */
    proto.renderHeader = function () {
        var that = this;

        that.labels = [];

        if (that.headings && that.headings.length) {
            each(that.headings, function (th, i) {

                that.labels[i] = th.textContent;

                if (classList.contains(th.firstElementChild, "dataTable-sorter")) {
                    th.innerHTML = th.firstElementChild.innerHTML;
                }

                th.sortable = th.getAttribute("data-sortable") !== "false";

                th.originalCellIndex = i;
                if (that.options.sortable && th.sortable) {
                    var link = createElement("a", {
                        href: "#",
                        class: "dataTable-sorter",
                        html: th.innerHTML
                    });

                    th.innerHTML = "";
                    th.setAttribute("data-sortable", "");
                    th.appendChild(link);
                }
            });
        }

        that.fixColumns();
    };

    /**
     * Bind event listeners
     * @return {[type]} [description]
     */
    proto.bindEvents = function () {
        var that = this,
            o = that.options;

        // Per page selector
        if (o.perPageSelect) {
            var selector = that.wrapper.querySelector(".dataTable-selector");
            if (selector) {
                // Change per page
                on(selector, "change", function (e) {
                    o.perPage = parseInt(this.value, 10);
                    that.update();

                    that.fixHeight();

                    that.emit("datatable.perpage", o.perPage);
                });
            }
        }

        // Search input
        if (o.searchable) {
            that.input = that.wrapper.querySelector(".dataTable-input");
            if (that.input) {
                on(that.input, "keyup", function (e) {
                    that.search(this.value);
                });
            }
        }

        // Pager(s) / sorting
        on(that.wrapper, "click", function (e) {
            var t = e.target;
            if (t.nodeName.toLowerCase() === "a") {
                if (t.hasAttribute("data-page")) {
                    that.page(t.getAttribute("data-page"));
                    e.preventDefault();
                } else if (
                    o.sortable &&
                    classList.contains(t, "dataTable-sorter") &&
                    t.parentNode.getAttribute("data-sortable") != "false"
                ) {
                    that.columns().sort(that.activeHeadings.indexOf(t.parentNode) + 1);
                    e.preventDefault();
                }
            }
        });
    };

    /**
     * Set up columns
     * @return {[type]} [description]
     */
    proto.setColumns = function (ajax) {

        var that = this;

        if (!ajax) {
            each(that.data, function (row) {
                each(row.cells, function (cell) {
                    cell.data = cell.innerHTML;
                });
            });
        }

        // Check for the columns option
        if (that.options.columns && that.headings.length) {

            each(that.options.columns, function (data) {

                // convert single column selection to array
                if (!isArray(data.select)) {
                    data.select = [data.select];
                }

                if (data.hasOwnProperty("render") && typeof data.render === "function") {
                    that.selectedColumns = that.selectedColumns.concat(data.select);

                    that.columnRenderers.push({
                        columns: data.select,
                        renderer: data.render
                    });
                }

                // Add the data attributes to the th elements
                each(data.select, function (column) {
                    var th = that.headings[column];
                    if (data.type) {
                        th.setAttribute("data-type", data.type);
                    }
                    if (data.format) {
                        th.setAttribute("data-format", data.format);
                    }
                    if (data.hasOwnProperty("sortable")) {
                        th.setAttribute("data-sortable", data.sortable);
                    }

                    if (data.hasOwnProperty("hidden")) {
                        if (data.hidden !== false) {
                            that.columns(column).hide();
                        }
                    }

                    if (data.hasOwnProperty("sort") && data.select.length === 1) {
                        that.columns().sort(data.select[0] + 1, data.sort, true);
                    }
                });
            });
        }

        if (that.hasRows) {
            each(that.data, function (row, i) {
                row.dataIndex = i;
                each(row.cells, function (cell) {
                    cell.data = cell.innerHTML;
                });
            });

            if (that.selectedColumns.length) {
                each(that.data, function (row) {
                    each(row.cells, function (cell, i) {
                        if (that.selectedColumns.indexOf(i) > -1) {
                            each(that.columnRenderers, function (o) {
                                if (o.columns.indexOf(i) > -1) {
                                    cell.innerHTML = o.renderer.call(that, cell.data, cell, row);
                                }
                            });
                        }
                    });
                });
            }

            that.columns().rebuild();
        }

        that.render("header");
    };

    /**
     * Destroy the instance
     * @return {void}
     */
    proto.destroy = function () {
        this.table.innerHTML = this.initialLayout;

        // Remove the className
        classList.remove(this.table, "dataTable-table");

        // Remove the containers
        this.wrapper.parentNode.replaceChild(this.table, this.wrapper);

        this.initialized = false;
    };

    /**
     * Update the instance
     * @return {Void}
     */
    proto.update = function () {
        this.paginate(this);
        this.render("page");

        this.links = [];

        var i = this.pages.length;
        while (i--) {
            var num = i + 1;
            this.links[i] = button(i === 0 ? "active" : "", num, num);
        }

        this.sorting = false;

        this.render("pager");

        this.rows().update();

        this.emit("datatable.update");
    };

    /**
     * Sort rows into pages
     * @return {Number}
     */
    proto.paginate = function () {
        var perPage = this.options.perPage,
            rows = this.activeRows;

        if (this.searching) {
            rows = [];

            each(this.searchData, function (index) {
                rows.push(this.activeRows[index]);
            }, this);
        }

        // Check for hidden columns
        this.pages = rows
            .map(function (tr, i) {
                return i % perPage === 0 ? rows.slice(i, i + perPage) : null;
            })
            .filter(function (page) {
                return page;
            });

        this.totalPages = this.lastPage = this.pages.length;

        return this.totalPages;
    };

    /**
     * Fix column widths
     * @return {Void}
     */
    proto.fixColumns = function () {

        if (this.options.fixedColumns && this.activeHeadings && this.activeHeadings.length) {

            var cells,
                hd = false;

            this.columnWidths = [];

            // If we have headings we need only set the widths on them
            // otherwise we need a temp header and the widths need applying to all cells
            if (this.table.tHead) {
                // Reset widths
                each(this.activeHeadings, function (cell) {
                    cell.style.width = "";
                }, this);

                each(this.activeHeadings, function (cell, i) {
                    var ow = cell.offsetWidth;
                    var w = ow / this.rect.width * 100;
                    cell.style.width = w + "%";
                    this.columnWidths[i] = ow;
                }, this);
            } else {
                cells = [];

                // Make temperary headings
                hd = createElement("thead");
                var r = createElement("tr");
                var c = this.table.tBodies[0].rows[0].cells;
                each(c, function () {
                    var th = createElement("th");
                    r.appendChild(th);
                    cells.push(th);
                });

                hd.appendChild(r);
                this.table.insertBefore(hd, this.body);

                var widths = [];
                each(cells, function (cell, i) {
                    var ow = cell.offsetWidth;
                    var w = ow / this.rect.width * 100;
                    widths.push(w);
                    this.columnWidths[i] = ow;
                }, this);

                each(this.data, function (row) {
                    each(row.cells, function (cell, i) {
                        if (this.columns(cell.cellIndex).visible())
                            cell.style.width = widths[i] + "%";
                    }, this);
                }, this);

                // Discard the temp header
                this.table.removeChild(hd);
            }
        }
    };

    /**
     * Fix the container height;
     * @return {Void}
     */
    proto.fixHeight = function () {
        if (this.options.fixedHeight) {
            this.container.style.height = null;
            this.rect = this.container.getBoundingClientRect();
            this.container.style.height = this.rect.height + "px";
        }
    };

    /**
     * Perform a search of the data set
     * @param  {string} query
     * @return {void}
     */
    proto.search = function (query) {
        if (!this.hasRows) return false;

        var that = this;

        query = query.toLowerCase();

        this.currentPage = 1;
        this.searching = true;
        this.searchData = [];

        if (!query.length) {
            this.searching = false;
            this.update();
            this.emit("datatable.search", query, this.searchData);
            classList.remove(this.wrapper, "search-results");
            return false;
        }

        this.clear();

        each(this.data, function (row, idx) {
            var inArray = this.searchData.indexOf(row) > -1;

            // https://github.com/Mobius1/Vanilla-DataTables/issues/12
            var doesQueryMatch = query.split(" ").reduce(function (bool, word) {
                var includes = false;

                for (var x = 0; x < row.cells.length; x++) {
                    if (
                        row.cells[x].textContent.toLowerCase().indexOf(word) > -1 &&
                        that.columns(row.cells[x].cellIndex).visible()
                    ) {
                        includes = true;
                        break;
                    }
                }

                return bool && includes;
            }, true);

            if (doesQueryMatch && !inArray) {
                row.searchIndex = idx;
                this.searchData.push(idx);
            } else {
                row.searchIndex = null;
            }
        }, this);

        classList.add(this.wrapper, "search-results");

        if (!that.searchData.length) {
            classList.remove(that.wrapper, "search-results");

            that.setMessage(that.options.labels.noRows);
        } else {
            that.update();
        }

        this.emit("datatable.search", query, this.searchData);
    };

    /**
     * Change page
     * @param  {int} page
     * @return {void}
     */
    proto.page = function (page) {
        // We don't want to load the current page again.
        if (page == this.currentPage) {
            return false;
        }

        if (!isNaN(page)) {
            this.currentPage = parseInt(page, 10);
        }

        if (page > this.pages.length || page < 0) {
            return false;
        }

        this.render("page");
        this.render("pager");

        this.emit("datatable.page", page);
    };

    /**
     * Sort by column
     * @param  {int} column - The column no.
     * @param  {string} direction - asc or desc
     * @return {void}
     */
    proto.sortColumn = function (column, direction) {
        // Use columns API until sortColumn method is removed
        this.columns().sort(column, direction);
    };

    /**
     * Add new row data
     * @param {object} data
     */
    proto.insert = function (data) {

        var that = this,
            rows = [];
        if (isObject(data)) {
            if (data.headings) {
                if (!that.hasHeadings && !that.hasRows) {
                    var tr = createElement("tr"),
                        th;
                    each(data.headings, function (heading) {
                        th = createElement("th", {
                            html: heading
                        });

                        tr.appendChild(th);
                    });
                    that.head.appendChild(tr);

                    that.header = tr;
                    that.headings = [].slice.call(tr.cells);
                    that.hasHeadings = true;

                    // Re-enable sorting if it was disabled due
                    // to missing header
                    that.options.sortable = that.initialSortable;

                    // Allow sorting on new header
                    that.render("header");
                }
            }

            if (data.data && isArray(data.data)) {
                rows = data.data;
            }
        } else if (isArray(data)) {
            each(data, function (row) {
                var r = [];
                each(row, function (cell, heading) {

                    var index = that.labels.indexOf(heading);

                    if (index > -1) {
                        r[index] = cell;
                    }
                });
                rows.push(r);
            });
        }

        if (rows.length) {
            that.rows().add(rows);

            that.hasRows = true;
        }

        that.update();

        that.fixColumns();
    };

    /**
     * Refresh the instance
     * @return {void}
     */
    proto.refresh = function () {
        if (this.options.searchable) {
            this.input.value = "";
            this.searching = false;
        }
        this.currentPage = 1;
        this.onFirstPage = true;
        this.update();

        this.emit("datatable.refresh");
    };

    /**
     * Truncate the table
     * @param  {mixes} html - HTML string or HTMLElement
     * @return {void}
     */
    proto.clear = function (html) {
        if (this.body) {
            flush(this.body, this.isIE);
        }

        var parent = this.body;
        if (!this.body) {
            parent = this.table;
        }

        if (html) {
            if (typeof html === "string") {
                var frag = doc.createDocumentFragment();
                frag.innerHTML = html;
            }

            parent.appendChild(html);
        }
    };

    /**
     * Export table to various formats (csv, txt or sql)
     * @param  {Object} options User options
     * @return {Boolean}
     */
    proto.export = function (options) {
        if (!this.hasHeadings && !this.hasRows) return false;

        var headers = this.activeHeadings,
            rows = [],
            arr = [],
            i,
            x,
            str,
            link;

        var defaults = {
            download: true,
            skipColumn: [],

            // csv
            lineDelimiter: "\n",
            columnDelimiter: ",",

            // sql
            tableName: "myTable",

            // json
            replacer: null,
            space: 4
        };

        // Check for the options object
        if (!isObject(options)) {
            return false;
        }

        var o = extend(defaults, options);

        if (o.type) {
            if (o.type === "txt" || o.type === "csv") {
                // Include headings
                rows[0] = this.header;
            }

            // Selection or whole table
            if (o.selection) {
                // Page number
                if (!isNaN(o.selection)) {
                    rows = rows.concat(this.pages[o.selection - 1]);
                } else if (isArray(o.selection)) {
                    // Array of page numbers
                    for (i = 0; i < o.selection.length; i++) {
                        rows = rows.concat(this.pages[o.selection[i] - 1]);
                    }
                }
            } else {
                rows = rows.concat(this.activeRows);
            }

            // Only proceed if we have data
            if (rows.length) {
                if (o.type === "txt" || o.type === "csv") {
                    str = "";

                    for (i = 0; i < rows.length; i++) {
                        for (x = 0; x < rows[i].cells.length; x++) {
                            // Check for column skip and visibility
                            if (
                                o.skipColumn.indexOf(headers[x].originalCellIndex) < 0 &&
                                this.columns(headers[x].originalCellIndex).visible()
                            ) {
                                str += rows[i].cells[x].textContent + o.columnDelimiter;
                            }
                        }
                        // Remove trailing column delimiter
                        str = str.trim().substring(0, str.length - 1);

                        // Apply line delimiter
                        str += o.lineDelimiter;
                    }

                    // Remove trailing line delimiter
                    str = str.trim().substring(0, str.length - 1);

                    if (o.download) {
                        str = "data:text/csv;charset=utf-8," + str;
                    }
                } else if (o.type === "sql") {
                    // Begin INSERT statement
                    str = "INSERT INTO `" + o.tableName + "` (";

                    // Convert table headings to column names
                    for (i = 0; i < headers.length; i++) {
                        // Check for column skip and column visibility
                        if (
                            o.skipColumn.indexOf(headers[i].originalCellIndex) < 0 &&
                            this.columns(headers[i].originalCellIndex).visible()
                        ) {
                            str += "`" + headers[i].textContent + "`,";
                        }
                    }

                    // Remove trailing comma
                    str = str.trim().substring(0, str.length - 1);

                    // Begin VALUES
                    str += ") VALUES ";

                    // Iterate rows and convert cell data to column values
                    for (i = 0; i < rows.length; i++) {
                        str += "(";

                        for (x = 0; x < rows[i].cells.length; x++) {
                            // Check for column skip and column visibility
                            if (
                                o.skipColumn.indexOf(headers[x].originalCellIndex) < 0 &&
                                this.columns(headers[x].originalCellIndex).visible()
                            ) {
                                str += '"' + rows[i].cells[x].textContent + '",';
                            }
                        }

                        // Remove trailing comma
                        str = str.trim().substring(0, str.length - 1);

                        // end VALUES
                        str += "),";
                    }

                    // Remove trailing comma
                    str = str.trim().substring(0, str.length - 1);

                    // Add trailing colon
                    str += ";";

                    if (o.download) {
                        str = "data:application/sql;charset=utf-8," + str;
                    }
                } else if (o.type === "json") {
                    // Iterate rows
                    for (x = 0; x < rows.length; x++) {
                        arr[x] = arr[x] || {};
                        // Iterate columns
                        for (i = 0; i < headers.length; i++) {
                            // Check for column skip and column visibility
                            if (
                                o.skipColumn.indexOf(headers[i].originalCellIndex) < 0 &&
                                this.columns(headers[i].originalCellIndex).visible()
                            ) {
                                arr[x][headers[i].textContent] = rows[x].cells[i].textContent;
                            }
                        }
                    }

                    // Convert the array of objects to JSON string
                    str = JSON.stringify(arr, o.replacer, o.space);

                    if (o.download) {
                        str = "data:application/json;charset=utf-8," + str;
                    }
                }

                // Download
                if (o.download) {
                    // Filename
                    o.filename = o.filename || "datatable_export";
                    o.filename += "." + o.type;

                    str = encodeURI(str);

                    // Create a link to trigger the download
                    link = document.createElement("a");
                    link.href = str;
                    link.download = o.filename;

                    // Append the link
                    body.appendChild(link);

                    // Trigger the download
                    link.click();

                    // Remove the link
                    body.removeChild(link);
                }

                return str;
            }
        }

        return false;
    };

    /**
     * Import data to the table
     * @param  {Object} options User options
     * @return {Boolean}
     */
    proto.import = function (options) {
        var obj = false;
        var defaults = {
            // csv
            lineDelimiter: "\n",
            columnDelimiter: ","
        };

        // Check for the options object
        if (!isObject(options)) {
            return false;
        }

        options = extend(defaults, options);

        if (options.data.length || isObject(options.data)) {
            // Import CSV
            if (options.type === "csv") {
                obj = {
                    data: []
                };

                // Split the string into rows
                var rows = options.data.split(options.lineDelimiter);

                if (rows.length) {

                    if (options.headings) {
                        obj.headings = rows[0].split(options.columnDelimiter);

                        rows.shift();
                    }

                    each(rows, function (row, i) {
                        obj.data[i] = [];

                        // Split the rows into values
                        var values = row.split(options.columnDelimiter);

                        if (values.length) {
                            each(values, function (value) {
                                obj.data[i].push(value);
                            });
                        }
                    });
                }
            } else if (options.type === "json") {
                var json = isJson(options.data);

                // Valid JSON string
                if (json) {
                    obj = {
                        headings: [],
                        data: []
                    };

                    each(json, function (data, i) {
                        obj.data[i] = [];
                        each(data, function (value, column) {
                            if (obj.headings.indexOf(column) < 0) {
                                obj.headings.push(column);
                            }

                            obj.data[i].push(value);
                        });
                    });
                } else {
                    console.warn("That's not valid JSON!");
                }
            }

            if (isObject(options.data)) {
                obj = options.data;
            }

            if (obj) {
                // Add the rows
                this.insert(obj);
            }
        }

        return false;
    };
    /**
     * Print the table
     * @return {void}
     */
    proto.print = function () {
        var headings = this.activeHeadings;
        var rows = this.activeRows;
        var table = createElement("table");
        var thead = createElement("thead");
        var tbody = createElement("tbody");

        var tr = createElement("tr");
        each(headings, function (th) {
            tr.appendChild(
                createElement("th", {
                    html: th.textContent
                })
            );
        });

        thead.appendChild(tr);

        each(rows, function (row) {
            var tr = createElement("tr");
            each(row.cells, function (cell) {
                tr.appendChild(
                    createElement("td", {
                        html: cell.textContent
                    })
                );
            });
            tbody.appendChild(tr);
        });

        table.appendChild(thead);
        table.appendChild(tbody);

        // Open new window
        var w = win.open();

        // Append the table to the body
        w.document.body.appendChild(table);

        // Print
        w.print();
    };

    /**
     * Show a message in the table
     * @param {string} message
     */
    proto.setMessage = function (message) {
        var colspan = 1;

        if (this.hasRows) {
            colspan = this.data[0].cells.length;
        }

        this.clear(
            createElement("tr", {
                html: '<td class="dataTables-empty" colspan="' +
                    colspan +
                    '">' +
                    message +
                    "</td>"
            })
        );
    };

    /**
     * Columns API access
     * @return {Object} new Columns instance
     */
    proto.columns = function (columns) {
        return new Columns(this, columns);
    };

    /**
     * Rows API access
     * @return {Object} new Rows instance
     */
    proto.rows = function (rows) {
        return new Rows(this, rows);
    };

    /**
     * Add custom event listener
     * @param  {String} event
     * @param  {Function} callback
     * @return {Void}
     */
    proto.on = function (event, callback) {
        this.events = this.events || {};
        this.events[event] = this.events[event] || [];
        this.events[event].push(callback);
    };

    /**
     * Remove custom event listener
     * @param  {String} event
     * @param  {Function} callback
     * @return {Void}
     */
    proto.off = function (event, callback) {
        this.events = this.events || {};
        if (event in this.events === false) return;
        this.events[event].splice(this.events[event].indexOf(callback), 1);
    };

    /**
     * Fire custom event
     * @param  {String} event
     * @return {Void}
     */
    proto.emit = function (event) {
        this.events = this.events || {};
        if (event in this.events === false) return;
        for (var i = 0; i < this.events[event].length; i++) {
            this.events[event][i].apply(this, Array.prototype.slice.call(arguments, 1));
        }
    };

    return DataTable;
});
});

function createTableDOM(data, opts, config) {
  var num = config.num,
      denum = config.denum,
      ratio = config.ratio,
      my_region = config.my_region;

  var options = opts || {};
  options.id = options.id || 'myTable';
  var doc = document;
  var nb_features = data.length;
  var column_names = Object.getOwnPropertyNames(data[0]);
  var nb_columns = column_names.length;
  var myTable = doc.createElement('table');
  var headers = doc.createElement('thead');
  var body = doc.createElement('tbody');
  var headers_row = doc.createElement('tr');
  // TODO: Only display ratios values if there is more than 1 variable currently selected
  for (var i = 0; i < nb_columns; i++) {
    var cell = doc.createElement('th');
    var col_name = column_names[i];
    if (num.indexOf(col_name) > -1) {
      cell.innerHTML = 'Num<br><span class="small">' + col_name;
    } else if (denum.indexOf(col_name) > -1) {
      cell.innerHTML = 'Denum<br><span class="small">' + col_name;
    } else if (ratio.indexOf(col_name) > -1) {
      cell.innerHTML = 'Ratio<br><span class="small">' + col_name;
    } else if (col_name === 'rang') {
      cell.innerHTML = 'Rang ';
    } else {
      cell.innerHTML = col_name;
    }
    headers_row.appendChild(cell);
  }
  headers.appendChild(headers_row);
  myTable.appendChild(headers);
  for (var _i = 0; _i < nb_features; _i++) {
    var row = doc.createElement('tr');
    row.id = 'row_' + data[_i].id;
    if (data[_i].id === my_region) {
      row.className = color_highlight;
    }
    for (var j = 0; j < nb_columns; j++) {
      var _cell = doc.createElement('td');
      var _col_name = column_names[j];
      if (num.indexOf(_col_name) > -1 || denum.indexOf(_col_name) > -1 || ratio.indexOf(_col_name) > -1) {
        _cell.innerHTML = Math.round(data[_i][_col_name] * 100) / 10;
      } else {
        _cell.innerHTML = data[_i][_col_name];
      }
      row.appendChild(_cell);
    }
    body.appendChild(row);
  }
  myTable.appendChild(body);
  myTable.setAttribute('id', options.id);
  return myTable;
}

function makeTable(data_no_empty, config) {
  d3.select('.dataTable-wrapper').remove();
  var table = createTableDOM(data_no_empty, undefined, config);
  document.querySelector('#map_section').appendChild(table);
  var dataTable = new vanillaDataTables('#myTable');
  var t = document.querySelector('.dataTable-wrapper');
  t.style.marginTop = '20px';
  t.style.display = 'none';
  t.style.fontSize = '0.7em';
  t.querySelector('.dataTable-top').remove();
  Array.prototype.slice.call(t.querySelectorAll('span.small')).forEach(function (el) {
    el.onclick = function () {
      el.parentElement.click();
    }; // eslint-disable-line no-param-reassign
  });
}

function prepare_dataset(full_dataset, app$$1) {
  app$$1.full_dataset = full_dataset;
  // Create an Object feature_id ->  feature_name for easier lookup:
  app$$1.feature_names = {};
  full_dataset.forEach(function (elem) {
    app$$1.feature_names[elem.geo] = elem.Nom;
  });
}

/**
* Attach the full_dataset Array to the app Object and create a dictionnary
* allowing to obtain territorial units name from their Id.
*
* @param {Object} app - The variable containing the global parameters about
*   the current state of the application.
* @return {Array} - The filtered data, containing only the requested variables
*   for the feature of the current study zone,
*    without features containing empty ratios.
*
*/
function filterLevelVar(app$$1) {
  // Fetch the name(s) of the ratio (and associated num and denum variable),
  // the name of the targeted region and the current level :
  var _app$current_config = app$$1.current_config,
      num = _app$current_config.num,
      denum = _app$current_config.denum,
      ratio = _app$current_config.ratio,
      current_level = _app$current_config.current_level,
      id_field = _app$current_config.id_field,
      filter_key = _app$current_config.filter_key,
      name_field = _app$current_config.name_field,
      my_region = _app$current_config.my_region;


  var all_variables = ratio.concat(num).concat(denum);

  // Prepare the data:
  var temp = void 0;
  if (filter_key instanceof Array) {
    temp = app$$1.full_dataset.filter(function (ft) {
      return +ft.level === current_level && filter_key.indexOf(ft[id_field]) > -1;
    });
  } else if (filter_key) {
    var my_category = app$$1.full_dataset.filter(function (ft) {
      return ft[id_field] === my_region;
    })[0][filter_key];
    temp = app$$1.full_dataset.filter(function (ft) {
      return +ft.level === current_level && ft[filter_key] === my_category;
    });
  } else {
    temp = app$$1.full_dataset.filter(function (ft) {
      return +ft.level === current_level;
    });
  }
  temp = temp.map(function (ft) {
    var props_feature = {
      id: ft[id_field],
      name: ft[name_field]
    };
    for (var i = 0, len_i = all_variables.length; i < len_i; i++) {
      props_feature[all_variables[i]] = +ft[all_variables[i]];
    }
    return props_feature;
  });

  app$$1.current_data = temp;
}

/**
* Function to prepare the global "variables_info" Array of objects from the array
* containing the readed 'metadata.csv' file.
*
* @param {Array} metadata_indicateurs - The array return by d3.csv.
* @return {void}
*
*/
function prepareVariablesInfo(metadata_indicateurs) {
  return metadata_indicateurs.filter(function (ft) {
    return ft['Type statistique'] === 'Ratio';
  }).map(function (ft) {
    return {
      ratio: ft['id'],
      num: ft['id1'] + '_' + ft['AnnÃ©e'],
      denum: ft['id2'] + '_' + ft['AnnÃ©e'],
      name: ft['Nom'] + ' (' + ft['AnnÃ©e'] + ')',
      group: ft['ThÃ¨me'],
      methodo: ft['MÃ©thodologie'],
      source: ft['Source'],
      last_update: ft['DerniÃ¨re mise Ã  jour']
    };
  });
}

/**
* Set and apply a new filter (ie. restrict the study zone) on the dataset to be used.
*
* @param {String} filter_type - The name of the filter to use.
* @return {void}
*
*/
function applyFilter(app$$1, filter_type) {
  if (filter_type === 'filter_FR') {
    app$$1.current_config.filter_key = 'Pays';
    filterLevelVar(app$$1);
  } else if (filter_type === 'no_filter') {
    app$$1.current_config.filter_key = undefined;
    filterLevelVar(app$$1);
  } else if (filter_type instanceof Array) {
    app$$1.current_config.filter_key = filter_type;
    filterLevelVar(app$$1);
  } else {
    app$$1.current_config.filter_key = 'type_test';
    filterLevelVar(app$$1);
  }
  app$$1.colors = {};
  app$$1.colors[app$$1.current_config.my_region] = color_highlight;
}

// TODO : Doc
function changeRegion(app$$1, id_region, map_elem) {
  app$$1.current_config.my_region = id_region;
  app$$1.current_config.my_region_pretty_name = app$$1.feature_names[app$$1.current_config.my_region];
  if (app$$1.current_config.filter_key instanceof Array) {
    map_elem.computeDistMat();
    app$$1.current_config.filter_key = map_elem.getUnitsWithin(+d3.select('#dist_filter').property('value'));
    filterLevelVar(app$$1);
  } else if (app$$1.current_config.filter_key) {
    filterLevelVar(app$$1);
  }
  // Reset the color to use on the chart/map:
  app$$1.colors = {};
  app$$1.colors[app$$1.current_config.my_region] = color_highlight;
}

/**
*
*
*
*
*/
function addVariable(app$$1, code_ratio) {
  var variable_info = exports.variables_info.filter(function (d) {
    return d.ratio === code_ratio;
  })[0];
  app$$1.colors = {};
  app$$1.colors[app$$1.current_config.my_region] = color_highlight;
  app$$1.current_config.num.push(variable_info.num);
  app$$1.current_config.denum.push(variable_info.denum);
  app$$1.current_config.ratio.push(variable_info.ratio);
  app$$1.current_config.ratio_pretty_name.push(variable_info.name);
  filterLevelVar(app$$1);
}

/**
*
*
*
*
*/
function removeVariable(app$$1, code_ratio) {
  var ix = app$$1.current_config.ratio.indexOf(code_ratio);
  app$$1.current_config.num.splice(ix, 1);
  app$$1.current_config.denum.splice(ix, 1);
  app$$1.current_config.ratio.splice(ix, 1);
  app$$1.current_config.ratio_pretty_name.splice(ix, 1);
  filterLevelVar(app$$1);
}

/**
* Reset the current variables in use.
*
*
*
*/
function resetVariables(app$$1, codes_ratio) {
  app$$1.colors = {};
  app$$1.colors[app$$1.current_config.my_region] = color_highlight;
  app$$1.current_config.num = [];
  app$$1.current_config.denum = [];
  app$$1.current_config.ratio = [];
  app$$1.current_config.ratio_pretty_name = [];

  var _loop = function _loop(i, len) {
    var code_ratio = codes_ratio[i];
    var variable_info = exports.variables_info.filter(function (d) {
      return d.ratio === code_ratio;
    })[0];
    app$$1.current_config.num.push(variable_info.num);
    app$$1.current_config.denum.push(variable_info.denum);
    app$$1.current_config.ratio.push(variable_info.ratio);
    app$$1.current_config.ratio_pretty_name.push(variable_info.name);
  };

  for (var i = 0, len = codes_ratio.length; i < len; i++) {
    _loop(i, len);
  }
  filterLevelVar(app$$1);
}

/**
* Compute the ratio of available (= not empty) values (the "complÃ©tude") within
* the subset currently in use for all the variables in "vars".
*
* @param {Object} app -
* @param {Array} vars -
* @return {Number}
*
*/


/**
* Compute the ratio of population covered by features on which all the variables
* of "vars" are available.
*
* @param {Object} app -
* @param {Array} vars -
* @return {Number}
*
*/
function calcPopCompletudeSubset(app$$1, vars) {
  var _app$current_config3 = app$$1.current_config,
      current_level = _app$current_config3.current_level,
      id_field = _app$current_config3.id_field,
      filter_key = _app$current_config3.filter_key,
      my_region = _app$current_config3.my_region,
      pop_field = _app$current_config3.pop_field;

  // Compute the total population stock of the data (within the "study zone" if any):

  var temp = void 0;
  if (filter_key) {
    var my_category = app$$1.full_dataset.find(function (ft) {
      return ft[id_field] === my_region;
    })[filter_key];
    temp = app$$1.full_dataset.filter(function (ft) {
      return +ft.level === current_level && ft[filter_key] === my_category;
    });
  } else {
    temp = app$$1.full_dataset.filter(function (ft) {
      return +ft.level === current_level;
    });
  }
  var total_pop = 0;
  for (var i = 0, len = temp.length; i < len; i++) {
    total_pop += isNaN(+temp[i][pop_field]) ? 0 : +temp[i][pop_field];
  }
  // Compute the population stock of the dataset if we filter empty features
  // on all the variables of "vars":
  temp = temp.map(function (ft) {
    var props_feature = {
      id: ft[id_field],
      pop: +ft[pop_field]
    };
    for (var _i = 0, len_i = vars.length; _i < len_i; _i++) {
      props_feature[vars[_i]] = +ft[vars[_i]];
    }
    return props_feature;
  }).filter(function (ft) {
    return vars.map(function (ratio_name) {
      return !!ft[ratio_name];
    }).every(function (v) {
      return v === true;
    });
  });
  var subset_pop = 0;
  for (var _i2 = 0, _len = temp.length; _i2 < _len; _i2++) {
    subset_pop += isNaN(temp[_i2].pop) ? 0 : temp[_i2].pop;
  }
  // Return the ratio of population values ("complÃ©tude") within
  // the study zone selected by the user:
  return Math.round(subset_pop / total_pop * 1000) / 10;
}
/* eslint-enable no-param-reassign */

var TableResumeStat = function () {
  function TableResumeStat(summary_features) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    classCallCheck(this, TableResumeStat);

    var doc = document;
    var nb_features = summary_features.length;
    var column_names = ['Variable', 'Min', 'Moyenne', 'Max', 'Ma rÃ©gion'];
    var nb_columns = column_names.length;
    var container_div = doc.createElement('div');
    var myTable = doc.createElement('table');
    var headers = doc.createElement('thead');
    var table_body = doc.createElement('tbody');
    var headers_row = doc.createElement('tr');
    myTable.className = 'minitable';
    container_div.className = 'minitable_container';
    for (var i = 0; i < nb_columns; i++) {
      var cell = doc.createElement('th');
      cell.innerHTML = column_names[i];
      headers_row.appendChild(cell);
    }
    headers.appendChild(headers_row);
    myTable.appendChild(headers);
    for (var _i = 0; _i < nb_features; _i++) {
      var row = doc.createElement('tr');
      row.id = 'row_' + summary_features[_i].id;
      for (var j = 0; j < nb_columns; j++) {
        var _cell = doc.createElement('td');
        var col_name = column_names[j];
        if (col_name !== 'Variable') {
          _cell.innerHTML = Math.round(summary_features[_i][col_name] * 10) / 10;
        } else {
          _cell.innerHTML = summary_features[_i][col_name];
        }
        row.appendChild(_cell);
      }
      table_body.appendChild(row);
    }
    myTable.appendChild(table_body);
    myTable.setAttribute('id', options.id || 'table_summary');
    container_div.appendChild(myTable);
    document.querySelector('#map_section').appendChild(container_div);
    this.nb_columns = nb_columns;
    this.column_names = column_names;
    this.table_body = table_body;
  }

  createClass(TableResumeStat, [{
    key: 'addFeatures',
    value: function addFeatures(summary_features) {
      for (var i = 0, len = summary_features.length; i < len; i++) {
        this.addFeature(summary_features[i]);
      }
    }
  }, {
    key: 'addFeature',
    value: function addFeature(summary) {
      var row = document.createElement('tr');
      row.id = 'row_' + summary.id;
      for (var j = 0; j < this.nb_columns; j++) {
        var cell = document.createElement('td');
        var col_name = this.column_names[j];
        if (col_name !== 'Variable') {
          cell.innerHTML = Math.round(summary[col_name] * 10) / 10;
        } else {
          cell.innerHTML = summary[col_name];
        }
        row.appendChild(cell);
      }
      this.table_body.appendChild(row);
    }
  }, {
    key: 'removeFeature',
    value: function removeFeature(id_variable) {
      var row = this.table_body.querySelector('tr#row_' + id_variable);
      if (row) row.remove();
    }
  }, {
    key: 'removeAll',
    value: function removeAll() {
      var rows = this.table_body.querySelectorAll('tr');
      for (var i = rows.length - 1; i > -1; i--) {
        rows[i].remove();
      }
    }
  }, {
    key: 'remove',
    value: function remove() {
      this.table_body.parentElement.parentElement.remove();
      this.table_body = null;
    }
  }]);
  return TableResumeStat;
}();

var svg_bar = d3.select('svg#svg_bar');
var margin = { top: 10, right: 20, bottom: 100, left: 45 };
var margin2 = { top: 430, right: 20, bottom: 15, left: 45 };
var width = +svg_bar.attr('width') - margin.left - margin.right;
var height = +svg_bar.attr('height') - margin.top - margin.bottom;
var height2 = +svg_bar.attr('height') - margin2.top - margin2.bottom;

var nbFt = void 0;
var current_range_brush = [0, 0];
var current_range = [0, 0];
var displayed = void 0;

function getMeanRank(mean_value, ratio_to_use) {
  var mean_rank = app.current_data.map(function (d, i) {
    return [d[ratio_to_use], math_abs(mean_value - d[ratio_to_use]), i];
  });
  mean_rank.sort(function (a, b) {
    return a[1] - b[1];
  });
  mean_rank = mean_rank[0];
  if (mean_rank[1] > mean_value) {
    mean_rank = mean_rank[2] - 1;
  } else {
    mean_rank = mean_rank[2];
  }
  return mean_rank;
}

var BarChart1 = function () {
  function BarChart1(ref_data) {
    var _this = this;

    classCallCheck(this, BarChart1);

    this.brushed = function () {
      if (d3.event.sourceEvent && d3.event.sourceEvent.type === 'zoom') return; // ignore brush-by-zoom
      if (!_this.x) {
        console.log('a');return;
      }
      var s = d3.event.selection || _this.x2.range();
      current_range = [math_round(s[0] / (width / nbFt)), math_round(s[1] / (width / nbFt))];
      _this.x.domain(_this.data.slice(current_range[0], current_range[1]).map(function (ft) {
        return ft.id;
      }));
      svg_bar.select('.zoom').call(_this.zoom.transform, d3.zoomIdentity.scale(width / (current_range[1] - current_range[0])).translate(-current_range[0], 0));
      _this.update();
      _this.updateContext(current_range[0], current_range[1]);
      svg_bar.select('.brush_top').call(_this.brush_top.move, null);
      _this.brushed_top();
    };

    this.brushed_top = function () {
      if (!_this._focus) {
        console.log('b');return;
      }
      if (!_this.map_elem) {
        console.log('c');return;
      }
      var d3_event = d3.event;
      var ratio_to_use = _this.ratio_to_use;
      var ref_value = _this.ref_value;
      if (d3_event && d3_event.selection && d3_event.sourceEvent && d3_event.sourceEvent.target === document.querySelector('.brush_top > rect.overlay')) {
        _this.map_elem.removeRectBrush();
        var s = d3_event.selection;
        current_range_brush = [current_range[0] + math_round(s[0] / (width / displayed)) - 1, current_range[0] + math_round(s[1] / (width / displayed))];
        _this.x.domain(_this.data.slice(current_range_brush[0] + 1, current_range_brush[1]).map(function (ft) {
          return ft.id;
        }));
        app.colors = {};
        _this._focus.selectAll('.bar').style('fill', function (d, i) {
          if (d.id === app.current_config.my_region) {
            app.colors[d.id] = color_highlight;
            return color_highlight;
          } else if (i > current_range_brush[0] && i < current_range_brush[1]) {
            var color = comp(d[ratio_to_use], ref_value, _this.serie_inversed);
            app.colors[d.id] = color;
            return color;
          }
          return color_countries;
        });
        _this.updateMapRegio();
      } else {
        if (d3_event && !d3_event.selection && d3_event.sourceEvent && d3_event.sourceEvent.detail !== undefined) {
          _this.map_elem.removeRectBrush();
          app.colors = {};
          app.colors[app.current_config.my_region] = color_highlight;
          _this.updateMapRegio();
        }
        _this._focus.selectAll('.bar').style('fill', function (d) {
          return app.colors[d.id] || color_countries;
        });
      }
    };

    // Set the minimum number of variables to keep selected for this kind of chart:
    app.current_config.nb_var = 1;
    var x = d3.scaleBand().range([0, width]).padding(0.1),
        x2 = d3.scaleBand().range([0, width]).padding(0.1),
        y = d3.scaleLinear().range([height, 0]),
        y2 = d3.scaleLinear().range([height2, 0]);

    var xAxis = d3.axisBottom(x);
    var xAxis2 = d3.axisBottom(x2);
    var yAxis = d3.axisLeft(y);

    this.x = x;
    this.x2 = x2;
    this.y = y;
    this.y2 = y2;
    this.xAxis = xAxis;
    this.yAxis = yAxis;
    this.xAxis2 = xAxis2;
    var self = this;
    var available_ratios = app.current_config.ratio;
    var ratio_to_use = available_ratios[0];
    this.ratio_to_use = ratio_to_use;

    this.data = ref_data.filter(function (ft) {
      return !!ft[ratio_to_use];
    });
    this.data.sort(function (a, b) {
      return a[ratio_to_use] - b[ratio_to_use];
    });
    this.current_ids = this.data.map(function (d) {
      return d.id;
    });
    resetColors();
    this.current_ranks = this.data.map(function (d, i) {
      return i + 1;
    });
    nbFt = this.data.length;
    this.mean_value = getMean(this.data.map(function (d) {
      return d[ratio_to_use];
    }));
    this.ref_value = this.data.filter(function (ft) {
      return ft.id === app.current_config.my_region;
    })[0][ratio_to_use];
    svg_bar.append('defs').append('clipPath').attr('id', 'clip').append('rect').attrs({ width: width, height: height });

    var focus = svg_bar.append('g').attrs({
      class: 'focus',
      transform: 'translate(' + margin.left + ', ' + margin.top + ')'
    });

    var context = svg_bar.append('g').attrs({
      class: 'context',
      transform: 'translate(' + margin2.left + ', ' + margin2.top + ')'
    });

    this._focus = focus;
    this.context = context;

    x.domain(this.current_ids);
    y.domain([0, d3.max(this.data, function (d) {
      return d[ratio_to_use];
    })]);
    x2.domain(x.domain());
    y2.domain(y.domain());

    var brush_bottom = d3.brushX().extent([[0, 0], [width, height2]]).on('brush end', this.brushed);

    var brush_top = d3.brushX().extent([[0, 0], [width, height]]).on('brush end', this.brushed_top);

    var zoom = d3.zoom().scaleExtent([1, Infinity]).translateExtent([[0, 0], [width, height]]).extent([[0, 0], [width, height]]);
    // .on("zoom", zoomed);
    this.brush_top = brush_top;
    this.brush_bottom = brush_bottom;
    this.zoom = zoom;

    focus.append('g').attrs({ class: 'axis axis--x', transform: 'translate(0, ' + height + ')' }).call(xAxis);

    focus.select('.axis--x').selectAll('text').style('text-anchor', 'end').attrs({ dx: '-0.8em', dy: '0.15em', transform: 'rotate(-65)' });

    focus.append('g').attr('class', 'axis axis--y').call(yAxis);

    this.g_bar = focus.append('g');

    var groupe_line_mean = focus.append('g').attr('class', 'mean');
    groupe_line_mean.append('text').attrs({ x: 60, y: y(this.mean_value) + 20 }).styles({
      display: 'none',
      fill: 'red',
      'fill-opacity': '0.8',
      'font-family': '\'Signika\', sans-serif'
    }).text('Valeur moyenne : ' + Math.round(this.mean_value * 10) / 10);

    groupe_line_mean.append('line').attrs({
      x1: 0,
      x2: width,
      y1: y(this.mean_value),
      y2: y(this.mean_value),
      'stroke-dasharray': '10, 5',
      'stroke-width': '2px',
      class: 'mean_line'
    }).style('stroke', 'red');

    groupe_line_mean.append('line').attrs({ x1: 0, x2: width, y1: y(this.mean_value), y2: y(this.mean_value), 'stroke-width': '14px', class: 'transp_mean_line' }).style('stroke', 'transparent').on('mouseover', function () {
      groupe_line_mean.select('text').style('display', 'initial');
    }).on('mouseout', function () {
      groupe_line_mean.select('text').style('display', 'none');
    });

    this.updateMiniBars();

    context.append('g').attr('class', 'brush_bottom').call(brush_bottom).call(brush_bottom.move, x.range());

    focus.append('g').attr('class', 'brush_top').call(brush_top).call(brush_top.move, null);

    this.completude_value = calcPopCompletudeSubset(app, [this.ratio_to_use]);

    this.completude = svg_bar.append('text').attrs({ id: 'chart_completude', x: 60, y: 40 }).styles({ 'font-family': '\'Signika\', sans-serif' }).text('Compl\xE9tude : ' + this.completude_value + '%');

    svg_bar.append('image').attrs({
      x: width + margin.left + 5,
      y: 385,
      width: 15,
      height: 15,
      'xlink:href': 'img/reverse_plus.png',
      id: 'img_reverse'
    }).on('click', function () {
      // this.data = app.current_data.slice();
      if (!_this.serie_inversed) {
        _this.data.sort(function (a, b) {
          return b[_this.ratio_to_use] - a[_this.ratio_to_use];
        });
      } else {
        _this.data.sort(function (a, b) {
          return a[_this.ratio_to_use] - b[_this.ratio_to_use];
        });
      }
      _this.serie_inversed = !_this.serie_inversed;
      x.domain(_this.data.slice(current_range[0], current_range[1]).map(function (ft) {
        return ft.id;
      }));
      x2.domain(_this.data.map(function (ft) {
        return ft.id;
      }));
      // svg_bar.select(".zoom").call(zoom.transform, d3.zoomIdentity
      //     .scale(width / (current_range[1] - current_range[0]))
      //     .translate(-current_range[0], 0));
      _this.update();
      // this.updateMiniBars();
      _this.updateContext(current_range[0], current_range[1]);
      svg_bar.select('.brush_top').call(brush_top.move, null);
      _this.map_elem.removeRectBrush();
      svg_bar.select('.brush_bottom').call(brush_bottom.move, x.range());
    });

    // Prepare the tooltip displayed on mouseover:
    var tooltip = prepareTooltip(svg_bar);

    // Deactivate the brush rect selection on the map + on the chart
    // when he user press the Ctrl key:
    document.onkeydown = function (event) {
      if (event && event.key === 'Control') {
        svg_bar.select('.brush_top').selectAll('.selection, .overlay').style('display', 'none');
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', 'none');
      }
    };
    document.onkeyup = function (event) {
      if (event && event.key === 'Control') {
        svg_bar.select('.brush_top').selectAll('.selection, .overlay').style('display', null);
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', null);
      }
    };

    var header_bar_section = d3.select('#header_chart');

    this.selec_var = header_bar_section.insert('select', '#img_table').attrs({ class: 'title_variable' }).styles({
      'font-family': '\'Signika\', sans-serif',
      'font-weight': '800',
      'font-size': '14px',
      'margin-top': '12px',
      'margin-left': '40px',
      float: 'left'
    });

    for (var i = 0, len_i = available_ratios.length; i < len_i; i++) {
      this.selec_var.append('option').attr('value', available_ratios[i]).text(app.current_config.ratio_pretty_name[i]);
    }

    this.selec_var.on('change', function () {
      var code_variable = this.value;
      self.changeVariable(code_variable);
      self.changeStudyZone();
      self.updateCompletude();
    });

    // Create the menu under the chart allowing to use some useful selections
    // (above or below the mean value and above or below my_region)
    var menu_selection = d3.select('#bar_section').append('div').attr('id', 'menu_selection').styles({ padding: '0 10px 10px 10px', 'text-align': 'center' });

    menu_selection.append('button').attrs({ class: 'button_blue', id: 'btn_above_mean' }).text('< Ã  la moyenne').on('click', function () {
      return _this.selectBelowMean();
    });

    menu_selection.append('button').attrs({ class: 'button_blue', id: 'btn_below_mean' }).text('> Ã  la moyenne').on('click', function () {
      return _this.selectAboveMean();
    });

    menu_selection.append('button').attrs({ class: 'button_blue', id: 'btn_above_my_region' }).text('< Ã  ma rÃ©gion').on('click', function () {
      return _this.selectBelowMyRegion();
    });

    menu_selection.append('button').attrs({ class: 'button_blue', id: 'btn_below_my_region' }).text('> Ã  ma rÃ©gion').on('click', function () {
      return _this.selectAboveMyRegion();
    });

    this.makeTableStat();
  }

  createClass(BarChart1, [{
    key: 'updateCompletude',
    value: function updateCompletude() {
      this.completude_value = calcPopCompletudeSubset(app, [this.ratio_to_use]);

      this.completude.text('Compl\xE9tude : ' + this.completude_value + '%');
    }
  }, {
    key: 'updateContext',
    value: function updateContext(min, max) {
      this.context.selectAll('.bar').style('fill-opacity', function (_, i) {
        return i >= min && i < max ? '1' : '0.3';
      });
    }
  }, {
    key: 'update',
    value: function update() {
      var _this2 = this;

      displayed = 0;
      var ratio_to_use = this.ratio_to_use;
      var self = this;
      var bar = this.g_bar.selectAll('.bar').data(this.data);

      bar.attrs(function (d) {
        return {
          x: _this2.x(d.id),
          y: _this2.y(d[ratio_to_use]),
          width: _this2.x.bandwidth(),
          height: height - _this2.y(d[ratio_to_use])
        };
      }).style('fill', function (d) {
        return app.colors[d.id] || color_countries;
      }).style('display', function (d) {
        var to_display = _this2.x(d.id) != null;
        if (to_display) {
          displayed += 1;
          return 'initial';
        }
        return 'none';
      }).on('mouseover', function () {
        svg_bar.select('.tooltip').style('display', null);
      }).on('mouseout', function () {
        svg_bar.select('.tooltip').style('display', 'none');
      }).on('mousemove', function (d) {
        var tooltip = svg_bar.select('.tooltip');
        tooltip.select('rect').attrs({ width: 0, height: 0 });
        tooltip.select('text.id_feature').text('' + d.id);
        tooltip.select('text.value_feature1').text('' + math_round(d[self.ratio_to_use] * 10) / 10);
        var b = tooltip.node().getBoundingClientRect();
        tooltip.select('rect').attrs({
          width: b.width + 20,
          height: b.height + 7.5
        });
        tooltip.attr('transform', 'translate(' + [d3.mouse(this)[0] - 5, d3.mouse(this)[1] - 45] + ')');
      });

      bar.enter().insert('rect', '.mean').attrs(function (d) {
        return {
          class: 'bar',
          x: _this2.x(d.id),
          y: _this2.y(d[ratio_to_use]),
          width: _this2.x.bandwidth(),
          height: height - _this2.y(d[ratio_to_use])
        };
      });

      bar.exit().remove();

      this._focus.select('.axis--y').call(this.yAxis);

      var axis_x = this._focus.select('.axis--x').attr('font-size', function () {
        return displayed > 75 ? 6 : 10;
      }).call(this.xAxis);
      axis_x.selectAll('text').attrs(function () {
        if (displayed > 100) {
          return { dx: '-0.8em', dy: '0.15em', transform: 'rotate(-65)' };
        } else if (displayed > 20) {
          return { dx: '-0.8em', dy: '0.15em', transform: 'rotate(-65)' };
        } else {
          return { dx: '0', dy: '0.71em', transform: null };
        }
      }).style('text-anchor', function () {
        return displayed > 20 ? 'end' : 'middle';
      });

      this.updateMiniBars();
    }
  }, {
    key: 'updateMiniBars',
    value: function updateMiniBars() {
      var _this3 = this;

      var ratio_to_use = this.ratio_to_use;
      var mini_bars = this.context.selectAll('.bar').data(this.data);

      mini_bars.attrs(function (d) {
        return {
          x: _this3.x2(d.id),
          y: _this3.y2(d[ratio_to_use]),
          width: _this3.x2.bandwidth(),
          height: height2 - _this3.y2(d[ratio_to_use])
        };
      }).style('fill', function (d) {
        return d.id !== app.current_config.my_region ? color_countries : color_highlight;
      });

      mini_bars.enter().insert('rect').attrs(function (d) {
        return {
          class: 'bar',
          x: _this3.x2(d.id),
          y: _this3.y2(d[ratio_to_use]),
          width: _this3.x2.bandwidth(),
          height: height2 - _this3.y2(d[ratio_to_use])
        };
      }).style('fill', function (d) {
        return d.id !== app.current_config.my_region ? color_countries : color_highlight;
      });
      mini_bars.exit().remove();
    }
  }, {
    key: 'updateMapRegio',
    value: function updateMapRegio() {
      var _this4 = this;

      this.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        return _this4.current_ids.indexOf(d.properties[app.current_config.id_field_geom]) > -1 ? app.colors[d.properties[app.current_config.id_field_geom]] || color_countries : color_disabled;
      });
    }
  }, {
    key: 'selectAboveMyRegion',
    value: function selectAboveMyRegion() {
      var my_rank = this.data.map(function (d, i) {
        return [d.id, i];
      }).filter(function (d) {
        return d[0] === app.current_config.my_region;
      })[0][1];
      app.colors = {};
      app.colors[app.current_config.my_region] = color_highlight;
      if (!this.serie_inversed) {
        current_range_brush = [my_rank, this.data.length];
        this.data.filter(function (d, i) {
          return i > my_rank;
        }).map(function (d) {
          return d.id;
        }).forEach(function (ft) {
          app.colors[ft] = color_sup;
        });
      } else {
        current_range_brush = [0, my_rank];
        this.data.filter(function (d, i) {
          return i < my_rank;
        }).map(function (d) {
          return d.id;
        }).forEach(function (ft) {
          app.colors[ft] = color_inf;
        });
      }
      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.update();
      // svg_bar.select('.brush_top').call(this.brush_top.move, current_range_brush.map(d => d * (width / nbFt)));
      this.updateMapRegio();
    }
  }, {
    key: 'selectBelowMyRegion',
    value: function selectBelowMyRegion() {
      var my_rank = this.data.map(function (d, i) {
        return [d.id, i];
      }).filter(function (d) {
        return d[0] === app.current_config.my_region;
      })[0][1];

      app.colors = {};
      app.colors[app.current_config.my_region] = color_highlight;
      if (!this.serie_inversed) {
        current_range_brush = [0, my_rank];
        this.data.filter(function (d, i) {
          return i < my_rank;
        }).map(function (d) {
          return d.id;
        }).forEach(function (ft) {
          app.colors[ft] = color_inf;
        });
      } else {
        current_range_brush = [my_rank, this.data.length];
        this.data.filter(function (d, i) {
          return i > my_rank;
        }).map(function (d) {
          return d.id;
        }).forEach(function (ft) {
          app.colors[ft] = color_sup;
        });
      }
      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.update();
      // svg_bar.select('.brush_top').call(this.brush_top.move, current_range_brush.map(d => d * (width / nbFt)));
      this.updateMapRegio();
    }
  }, {
    key: 'selectAboveMean',
    value: function selectAboveMean() {
      var _this5 = this;

      var mean_rank = getMeanRank(this.mean_value, this.ratio_to_use);
      var ratio_to_use = this.ratio_to_use;
      var ref_value = this.ref_value;

      app.colors = {};
      app.colors[app.current_config.my_region] = color_highlight;
      if (!this.serie_inversed) {
        current_range_brush = [mean_rank, this.data.length];
        this.data.filter(function (d) {
          return d[ratio_to_use] > _this5.mean_value;
        }).forEach(function (ft) {
          if (ft[ratio_to_use] > ref_value) app.colors[ft.id] = color_sup;else app.colors[ft.id] = color_inf;
        });
      } else {
        current_range_brush = [0, mean_rank + 1];
        this.data.filter(function (d) {
          return d[ratio_to_use] > _this5.mean_value;
        }).forEach(function (ft) {
          if (ft[ratio_to_use] > ref_value) app.colors[ft.id] = color_inf;else app.colors[ft.id] = color_sup;
        });
      }
      app.colors[app.current_config.my_region] = color_highlight;
      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.update();
      // svg_bar.select('.brush_top').call(this.brush_top.move, current_range_brush.map(d => d * (width / nbFt)));
      this.updateMapRegio();
    }
  }, {
    key: 'selectBelowMean',
    value: function selectBelowMean() {
      var _this6 = this;

      var mean_rank = getMeanRank(this.mean_value, this.ratio_to_use);
      var ratio_to_use = this.ratio_to_use;
      var ref_value = this.ref_value;
      app.colors = {};
      if (!this.serie_inversed) {
        current_range_brush = [0, mean_rank];
        this.data.filter(function (d) {
          return d[ratio_to_use] < _this6.mean_value;
        }).forEach(function (ft) {
          if (ft[ratio_to_use] < ref_value) app.colors[ft.id] = color_inf;else app.colors[ft.id] = color_sup;
        });
      } else {
        current_range_brush = [mean_rank + 1, this.data.length];
        this.data.filter(function (d) {
          return d[ratio_to_use] < _this6.mean_value;
        }).forEach(function (ft) {
          if (ft[ratio_to_use] < ref_value) app.colors[ft.id] = color_sup;else app.colors[ft.id] = color_inf;
        });
      }
      app.colors[app.current_config.my_region] = color_highlight;
      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.update();
      // svg_bar.select('.brush_top').call(this.brush_top.move, current_range_brush.map(d => d * (width / nbFt)));
      this.updateMapRegio();
    }
  }, {
    key: 'handle_brush_map',
    value: function handle_brush_map(event) {
      var _this7 = this;

      if (!event || !event.selection) {
        this.last_map_selection = undefined;
        return;
      }
      var ratio_to_use = this.ratio_to_use;
      var ref_value = this.ref_value;
      var self = this;
      svg_bar.select('.brush_top').call(self.brush_top.move, null);

      var _event$selection = slicedToArray(event.selection, 2),
          topleft = _event$selection[0],
          bottomright = _event$selection[1];

      this.last_map_selection = [topleft, bottomright];
      // const transform = svg_map.node().__zoom;
      // topleft[0] = (topleft[0] - transform.x) / transform.k;
      // topleft[1] = (topleft[1] - transform.y) / transform.k;
      // bottomright[0] = (bottomright[0] - transform.x) / transform.k;
      // bottomright[1] = (bottomright[1] - transform.y) / transform.k;
      var rect = new Rect(topleft, bottomright);
      app.colors = {};
      self.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        var id = d.properties[app.current_config.id_field_geom];
        if (id === app.current_config.my_region) {
          app.colors[id] = color_highlight;
          return color_highlight;
        } else if (self.current_ids.indexOf(id) < 0) {
          return color_disabled;
        }
        if (!this._pts) {
          this._pts = svgPathToCoords(this.getAttribute('d'), app.type_path);
        }
        var pts = this._pts;
        for (var ix = 0, nb_pts = pts.length; ix < nb_pts; ix++) {
          if (rect.contains(pts[ix])) {
            var value = d.properties[ratio_to_use];
            var color = comp(value, ref_value, this.serie_inversed);
            app.colors[id] = color;
            return color;
          }
        }
        return color_countries;
      });
      self._focus.selectAll('.bar').style('fill', function (d) {
        return app.colors[d.id] || color_countries;
      });
      var ids = Object.keys(app.colors);
      var ranks = ids.map(function (d) {
        return _this7.current_ids.indexOf(d.id) > -1;
      }).map(function (d) {
        return _this7.current_ranks[d];
      });
      if (ranks.length > 1) {
        var c1 = ranks[0] - 1;
        var c2 = ranks[ranks.length - 1];
        if (c1 < current_range[0] || c2 > current_range[1]) {
          current_range = [ranks[0] - 1, ranks[ranks.length - 1]];
          svg_bar.select('.brush_bottom').call(self.brush_bottom.move, [current_range[0] * (width / nbFt), current_range[1] * (width / nbFt)]);
        }
      } else {
        current_range = [0, this.data.length];
        svg_bar.select('.brush_bottom').call(self.brush_bottom.move, self.x.range());
      }
    }
  }, {
    key: 'handleClickMap',
    value: function handleClickMap(d, parent) {
      var id = d.properties[app.current_config.id_field_geom];
      if (this.current_ids.indexOf(id) < 0 || id === app.current_config.my_region) return;
      if (app.colors[id] !== undefined) {
        app.colors[id] = undefined;
        d3.select(parent).attr('fill', color_countries);
      } else {
        var color = comp(d.properties[this.ratio_to_use], this.ref_value, this.serie_inversed);
        app.colors[id] = color;
        d3.select(parent).attr('fill', color);
      }
      this.update();
    }
  }, {
    key: 'updateChangeRegion',
    value: function updateChangeRegion() {
      if (app.current_config.filter_key !== undefined) {
        this.changeStudyZone();
      } else {
        this.ref_value = this.data.find(function (ft) {
          return ft.id === app.current_config.my_region;
        })[this.ratio_to_use];
        this.update();
        this.updateContext(0, this.data.length);
        this.updateMapRegio();
        this.updateTableStats();
        svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x.range());
        this.map_elem.removeRectBrush();
        this.map_elem.updateLegend();
      }
    }
  }, {
    key: 'updateMeanValue',
    value: function updateMeanValue() {
      var y = this.y;
      var ratio_to_use = this.ratio_to_use;
      var grp_mean = this._focus.select('.mean');
      this.mean_value = getMean(this.data.map(function (d) {
        return d[ratio_to_use];
      }));
      grp_mean.select('text').attr('y', y(this.mean_value) + 20).text('Valeur moyenne : ' + Math.round(this.mean_value * 10) / 10);
      grp_mean.select('.mean_line').attrs({ y1: y(this.mean_value), y2: y(this.mean_value) });
      grp_mean.select('.transp_mean_line').attrs({ y1: y(this.mean_value), y2: y(this.mean_value) });
    }
  }, {
    key: 'changeStudyZone',
    value: function changeStudyZone() {
      var ratio_to_use = this.ratio_to_use;
      this.data = app.current_data.filter(function (ft) {
        return !!ft[ratio_to_use];
      });

      if (this.serie_inversed) {
        this.data.sort(function (a, b) {
          return b[ratio_to_use] - a[ratio_to_use];
        });
      } else {
        this.data.sort(function (a, b) {
          return a[ratio_to_use] - b[ratio_to_use];
        });
      }
      this.current_ids = this.data.map(function (d) {
        return d.id;
      });
      nbFt = this.data.length;
      this.ref_value = this.data.find(function (ft) {
        return ft.id === app.current_config.my_region;
      })[ratio_to_use];
      this.x.domain(this.current_ids);
      // const min_serie = d3.min(this.data, d => d[ratio_to_use]);
      var max_serie = d3.max(this.data, function (d) {
        return d[ratio_to_use];
      });
      // const offset_y = (max_serie - min_serie) / 20;
      this.y.domain([
      // min_serie - offset_y, max_serie,
      0, max_serie]);
      this.x2.domain(this.x.domain());
      this.y2.domain(this.y.domain());
      this.updateMeanValue();
      this.update();
      this.updateContext(0, this.data.length);

      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.map_elem.removeRectBrush();
      app.colors = {};
      app.colors[app.current_config.my_region] = color_highlight;
      this.updateTableStats();
      this.updateMapRegio();
    }
  }, {
    key: 'addVariable',
    value: function addVariable$$1(code_variable, name_variable) {
      // Add the variable to the input element allowing to choose variables:
      this.selec_var.append('option').attr('value', code_variable).text(name_variable);

      // And use it immediatly:
      this.selec_var.node().value = code_variable;
      this.selec_var.dispatch('change');
    }
  }, {
    key: 'removeVariable',
    value: function removeVariable$$1(code_variable) {
      // Add the variable to the input element allowing to choose variables:
      this.selec_var.select('option[value=' + code_variable + ']').remove();
      if (this.ratio_to_use === code_variable) {
        this.selec_var.node().value = this.selec_var.select('option').node().value;
        this.selec_var.dispatch('change');
      }
    }
  }, {
    key: 'changeVariable',
    value: function changeVariable(code_variable) {
      this.ratio_to_use = code_variable;
    }
  }, {
    key: 'remove',
    value: function remove() {
      this._focus.remove();
      this.context.remove();
      this.selec_var.remove();
      this.table_stats.remove();
      this.table_stats = null;
      this.map_elem.unbindBrushClick();
      this.map_elem = null;
      svg_bar.html('');
    }
  }, {
    key: 'bindMap',
    value: function bindMap(map_elem) {
      this.map_elem = map_elem;
      this.map_elem.resetColors(this.current_ids);
    }
  }, {
    key: 'updateTableStats',
    value: function updateTableStats() {
      this.table_stats.removeAll();
      this.table_stats.addFeature(this.prepareTableStat());
    }
  }, {
    key: 'prepareTableStat',
    value: function prepareTableStat() {
      var _this8 = this;

      var values = this.data.map(function (d) {
        return d[_this8.ratio_to_use];
      });
      return {
        Min: d3.min(values),
        Max: d3.max(values),
        Moyenne: getMean(values),
        id: this.ratio_to_use,
        Variable: this.ratio_to_use,
        'Ma rÃ©gion': this.ref_value
      };
    }
  }, {
    key: 'makeTableStat',
    value: function makeTableStat() {
      var feature = this.prepareTableStat();
      this.table_stats = new TableResumeStat([feature]);
    }
  }]);
  return BarChart1;
}();

var svg_bar$1 = d3.select('#svg_bar');
var margin$1 = { top: 20, right: 20, bottom: 40, left: 30 };

var width$1 = +svg_bar$1.attr('width') - margin$1.left - margin$1.right;
var height$1 = +svg_bar$1.attr('height') - margin$1.top - margin$1.bottom;

var BubbleChart1 = function () {
  function BubbleChart1(ref_data) {
    var _this = this;

    classCallCheck(this, BubbleChart1);

    // Set the minimum number of variables to keep selected for this kind of chart:
    app.current_config.nb_var = 1;
    var self = this;
    var available_ratios = app.current_config.ratio;
    var available_nums = app.current_config.num;
    var ratio_to_use = available_ratios[0];
    var stock_to_use = available_nums[0];
    this.ratio_to_use = ratio_to_use;
    this.stock_to_use = stock_to_use;
    this.my_region_value = ref_data.find(function (d) {
      return d.id === app.current_config.my_region;
    })[ratio_to_use];
    this.data = ref_data.filter(function (ft) {
      return !!ft[ratio_to_use];
    }).slice();
    this.data.forEach(function (ft) {
      // eslint-disable-next-line no-param-reassign
      ft.dist = math_abs(+ft[ratio_to_use] - _this.my_region_value);
    });
    this.data.sort(function (a, b) {
      return b.dist - a.dist;
    });
    this.current_ids = this.data.map(function (d) {
      return d.id;
    });
    resetColors();
    this.highlight_selection = [];
    this.serie_inversed = false;
    var draw_group = svg_bar$1.append('g').attr('transform', 'translate(' + margin$1.left + ', ' + margin$1.top + ')');
    draw_group.append('g').attrs({ class: 'axis axis--x', transform: 'translate(0, ' + height$1 / 2 + ')' });
    this.draw_group = draw_group;

    // Prepare the tooltip displayed on mouseover:
    prepareTooltip(svg_bar$1);

    // Compute the "complÃ©tude" value for this ratio:
    this.completude_value = calcPopCompletudeSubset(app, [this.ratio_to_use]);

    // Create the "complÃ©tude" text:
    this.completude = svg_bar$1.append('text').attrs({ id: 'chart_completude', x: 60, y: 40 }).styles({ 'font-family': '\'Signika\', sans-serif' }).text('Compl\xE9tude : ' + this.completude_value + '%');

    // Create the button allowing to choose
    // if the colors are inversed
    // (like green/red for superior/inferior regions)
    svg_bar$1.append('image').attrs({
      x: width$1 + margin$1.left + 5,
      y: 232.5,
      width: 15,
      height: 15,
      'xlink:href': 'img/reverse_plus.png',
      id: 'img_reverse'
    }).on('click', function () {
      _this.serie_inversed = !_this.serie_inversed;
      _this.applySelection(_this.highlight_selection.length);
    });

    // Create the section containing the input element allowing to chose
    // how many "close" regions we want to highlight.
    var selection_close = d3.select(svg_bar$1.node().parentElement).append('div').attr('id', 'menu_selection').styles({ top: '-100px', 'margin-left': '30px', position: 'relative' }).append('p');

    selection_close.append('span').property('value', 'close').attrs({ value: 'close', class: 'type_selection square checked' });
    selection_close.append('span').attrs({ class: 'label_chk' }).html('Les');
    selection_close.append('input').attrs({ class: 'nb_select', type: 'number' }).property('value', 5);
    selection_close.append('span').attrs({ class: 'label_chk' }).html('rÃ©gions les plus proches');

    this.bindMenu();

    //
    var header_bar_section = d3.select('#header_chart');

    this.selec_var = header_bar_section.insert('select', '#img_table').attrs({ class: 'title_variable' }).styles({
      'font-family': '\'Signika\', sans-serif',
      'font-weight': '800',
      'font-size': '14px',
      'margin-top': '12px',
      'margin-left': '40px',
      float: 'left'
    });

    for (var i = 0, len_i = available_ratios.length; i < len_i; i++) {
      this.selec_var.append('option').attr('value', available_ratios[i]).text(app.current_config.ratio_pretty_name[i]);
    }

    this.selec_var.on('change', function () {
      var code_variable = this.value;
      self.changeVariable(code_variable);
      self.changeStudyZone();
      self.updateCompletude();
    });

    this.makeTableStat();
  }

  createClass(BubbleChart1, [{
    key: 'applySelection',
    value: function applySelection(nb) {
      app.colors = {};
      if (nb > 0) {
        var ratio_to_use = this.ratio_to_use;

        this.highlight_selection = this.data.map(function (d) {
          return {
            dist: d.dist,
            ratio: +d[ratio_to_use],
            id: d.id
          };
        });

        this.highlight_selection.sort(function (a, b) {
          return a.dist - b.dist;
        });
        this.highlight_selection = this.highlight_selection.slice(1, nb + 1);
      } else {
        this.highlight_selection = [];
      }
      this.update();
      this.updateMapRegio();
    }
  }, {
    key: 'update',
    value: function update() {
      var _this2 = this;

      var self = this;
      var data = self.data;
      var highlight_selection = self.highlight_selection;
      var my_region_value = self.my_region_value;
      var ratio_to_use = self.ratio_to_use;
      var stock_to_use = self.stock_to_use;

      var _min = void 0;
      var _max = void 0;
      if (highlight_selection.length > 0) {
        var dist_min = math_abs(my_region_value - +d3.min(highlight_selection, function (d) {
          return d.ratio;
        }));
        var dist_max = math_abs(+d3.max(highlight_selection, function (d) {
          return d.ratio;
        }) - my_region_value);
        var dist_axis = Math.max(dist_min, dist_max);
        var margin_min_max = math_round(dist_axis) / 8;
        _min = my_region_value - dist_axis - margin_min_max;
        _max = my_region_value + dist_axis + margin_min_max;
        if (_min > _max) {
          console.log('a');var _ref = [_max, _min];
          _min = _ref[0];
          _max = _ref[1];
        }
      } else {
        var _dist_min = math_abs(my_region_value - d3.min(data, function (d) {
          return d[ratio_to_use];
        }));
        var _dist_max = math_abs(d3.max(data, function (d) {
          return d[ratio_to_use];
        }) - my_region_value);
        var _dist_axis = Math.max(_dist_min, _dist_max);
        var _margin_min_max = math_round(_dist_axis) / 8;
        _min = my_region_value - _dist_axis - _margin_min_max;
        _max = my_region_value + _dist_axis + _margin_min_max;
      }

      this.highlight_selection.forEach(function (elem) {
        app.colors[elem.id] = comp(elem.ratio, my_region_value, _this2.serie_inversed);
      });

      app.colors[app.current_config.my_region] = color_highlight;
      var prop_sizer = new PropSizer(d3.max(data, function (d) {
        return d[stock_to_use];
      }), 30);
      var xScale = d3.scaleLinear().domain([_min, _max]).range([0, width$1]);

      this.draw_group.select('g.axis--x').transition().duration(225).call(d3.axisBottom(xScale));

      var bubbles = this.draw_group.selectAll('.bubble').data(data, function (d) {
        return d.id;
      });

      bubbles.transition().duration(225).attrs(function (d) {
        var x_value = xScale(d[ratio_to_use]);
        if (x_value > width$1) x_value = width$1 + 200;else if (x_value < 0) x_value = -200;
        return {
          cx: x_value,
          cy: height$1 / 2,
          r: prop_sizer.scale(d[stock_to_use])
        };
      }).styles(function (d) {
        return {
          fill: app.colors[d.id] || color_countries,
          'fill-opacity': d.id === app.current_config.my_region ? 1 : app.colors[d.id] ? 0.7 : 0.3,
          stroke: 'darkgray',
          'stroke-width': 0.75,
          'stroke-opacity': 0.75
        };
      });

      bubbles.enter().insert('circle').styles(function (d) {
        return {
          fill: app.colors[d.id] || color_countries,
          'fill-opacity': d.id === app.current_config.my_region ? 1 : app.colors[d.id] ? 0.7 : 0.3,
          stroke: 'darkgray',
          'stroke-width': 0.75,
          'stroke-opacity': 0.75
        };
      }).transition().duration(225).attrs(function (d) {
        var x_value = xScale(d[ratio_to_use]);
        if (x_value > width$1) x_value = width$1 + 200;else if (x_value < 0) x_value = -200;
        return {
          class: 'bubble',
          cx: x_value,
          cy: height$1 / 2,
          r: prop_sizer.scale(d[stock_to_use])
        };
      }).on('end', function () {
        _this2.draw_group.selectAll('.bubble').on('mouseover', function () {
          svg_bar$1.select('.tooltip').style('display', null);
        }).on('mouseout', function () {
          svg_bar$1.select('.tooltip').style('display', 'none');
        }).on('mousemove', function (d) {
          var tooltip = svg_bar$1.select('.tooltip');
          var _ratio_to_use = self.ratio_to_use;
          var _stock_to_use = self.stock_to_use;
          tooltip.select('rect').attrs({ width: 0, height: 0 });
          tooltip.select('text.id_feature').text('' + d.id);
          tooltip.select('text.value_feature1').text('Ratio: ' + Math.round(d[_ratio_to_use] * 10) / 10);
          tooltip.select('text.value_feature2').text('Stock: ' + Math.round(d[_stock_to_use] * 10) / 10);
          var b = tooltip.node().getBoundingClientRect();
          tooltip.select('rect').attrs({
            width: b.width + 20,
            height: b.height + 7.5
          });
          tooltip.attr('transform', 'translate(' + [d3.mouse(this)[0] - 5, d3.mouse(this)[1] - 45] + ')');
        });
      });
      bubbles.exit().transition().duration(225).remove();
    }
  }, {
    key: 'updateCompletude',
    value: function updateCompletude() {
      this.completude_value = calcPopCompletudeSubset(app, [this.ratio_to_use]);

      this.completude.text('Compl\xE9tude : ' + this.completude_value + '%');
    }
  }, {
    key: 'updateMapRegio',
    value: function updateMapRegio() {
      var _this3 = this;

      if (!this.map_elem) return;
      this.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        return _this3.current_ids.indexOf(d.properties[app.current_config.id_field_geom]) > -1 ? app.colors[d.properties[app.current_config.id_field_geom]] || color_countries : color_disabled;
      });
    }
  }, {
    key: 'handleClickMap',
    value: function handleClickMap(d, parent) {
      var id = d.properties[app.current_config.id_field_geom];
      if (this.current_ids.indexOf(id) < 0 || id === app.current_config.my_region) return;
      if (app.colors[id] !== undefined) {
        // Remove the clicked feature from the colored selection on the chart:
        var id_to_remove = this.highlight_selection.map(function (ft, i) {
          return ft.id === id ? i : null;
        }).filter(function (ft) {
          return ft;
        })[0];
        this.highlight_selection.splice(id_to_remove, 1);
        // Change its color in the global colors object:
        app.colors[id] = undefined;
        // Change the color on the map:
        d3.select(parent).attr('fill', color_countries);
      } else {
        var value = +d.properties[this.ratio_to_use];
        var color = comp(value, this.my_region_value, this.serie_inversed);
        // app.colors[id] = color;
        // Change the color on the map:
        d3.select(parent).attr('fill', color);
        // Add the clicked feature on the colored selection on the chart:
        this.highlight_selection.push({
          id: id,
          ratio: value,
          dist: math_abs(value - this.my_region_value)
        });
      }
      this.highlight_selection.sort(function (a, b) {
        return a.dist - b.dist;
      });
      this.update();
    }
  }, {
    key: 'updateChangeRegion',
    value: function updateChangeRegion() {
      var _this4 = this;

      if (app.current_config.filter_key !== undefined) {
        this.changeStudyZone();
      } else {
        this.map_elem.updateLegend();
        this.my_region_value = this.data.find(function (d) {
          return d.id === app.current_config.my_region;
        })[this.ratio_to_use];
        this.data.forEach(function (ft) {
          // eslint-disable-next-line no-param-reassign
          ft.dist = math_abs(+ft[_this4.ratio_to_use] - _this4.my_region_value);
        });
        this.updateTableStats();
        this.applySelection(this.highlight_selection.length);
      }
    }
  }, {
    key: 'changeStudyZone',
    value: function changeStudyZone() {
      var _this5 = this;

      this.map_elem.updateLegend();
      this.my_region_value = app.current_data.find(function (d) {
        return d.id === app.current_config.my_region;
      })[this.ratio_to_use];
      this.data = app.current_data.filter(function (ft) {
        return !!ft[_this5.ratio_to_use];
      }).slice();
      this.data.forEach(function (ft) {
        // eslint-disable-next-line no-param-reassign
        ft.dist = math_abs(+ft[_this5.ratio_to_use] - _this5.my_region_value);
      });
      this.data.sort(function (a, b) {
        return b.dist - a.dist;
      });
      this.current_ids = this.data.map(function (d) {
        return d.id;
      });
      var temp = this.highlight_selection.length;
      this.highlight_selection = [];
      this.updateTableStats();
      this.applySelection(temp);
    }
  }, {
    key: 'changeVariable',
    value: function changeVariable(code_variable) {
      this.ratio_to_use = code_variable;
      this.stock_to_use = exports.variables_info.find(function (d) {
        return d.ratio === code_variable;
      }).num;
    }
  }, {
    key: 'addVariable',
    value: function addVariable$$1(code_variable, name_variable) {
      // Add the variable to the input element allowing to choose variables:
      this.selec_var.append('option').attr('value', code_variable).text(name_variable);

      // And use it immediatly:
      this.selec_var.node().value = code_variable;
      this.selec_var.dispatch('change');
    }
  }, {
    key: 'removeVariable',
    value: function removeVariable$$1(code_variable) {
      // Add the variable to the input element allowing to choose variables:
      this.selec_var.select('option[value=' + code_variable + ']').remove();
      if (this.ratio_to_use === code_variable) {
        this.selec_var.node().value = this.selec_var.select('option').node().value;
        this.selec_var.dispatch('change');
      }
    }
  }, {
    key: 'bindMenu',
    value: function bindMenu() {
      var self = this;
      var menu = d3.select('#menu_selection');
      var applychange = function applychange() {
        // self.map_elem.removeRectBrush();
        var value = +this.value;
        if (value < 1) {
          this.value = 1;
          return;
        }
        self.applySelection(value);
      };
      menu.select('.nb_select').on('change', applychange);
      menu.select('.nb_select').on('wheel', applychange);
      menu.select('.nb_select').on('keyup', applychange);
    }
  }, {
    key: 'remove',
    value: function remove() {
      this.map_elem.unbindBrushClick();
      this.map_elem = null;
      this.table_stats.remove();
      this.table_stats = null;
      this.selec_var.remove();
      svg_bar$1.html('');
    }
  }, {
    key: 'bindMap',
    value: function bindMap(map_elem) {
      this.map_elem = map_elem;
      this.map_elem.resetColors(this.current_ids);
      d3.select('#menu_selection').select('.nb_select').dispatch('change');
    }
  }, {
    key: 'updateTableStats',
    value: function updateTableStats() {
      this.table_stats.removeAll();
      this.table_stats.addFeature(this.prepareTableStat());
    }
  }, {
    key: 'prepareTableStat',
    value: function prepareTableStat() {
      var _this6 = this;

      var values = this.data.map(function (d) {
        return d[_this6.ratio_to_use];
      });
      return {
        Min: d3.min(values),
        Max: d3.max(values),
        Moyenne: getMean(values),
        id: this.ratio_to_use,
        Variable: this.ratio_to_use,
        'Ma rÃ©gion': this.my_region_value
      };
    }
  }, {
    key: 'makeTableStat',
    value: function makeTableStat() {
      var feature = this.prepareTableStat();
      this.table_stats = new TableResumeStat([feature]);
    }
  }]);
  return BubbleChart1;
}();

var contextMenu = function () {
  function contextMenu(items) {
    classCallCheck(this, contextMenu);

    if (items) {
      this.setItems(items);
    } else {
      this.items = [];
    }
  }

  createClass(contextMenu, [{
    key: 'addItem',
    value: function addItem(item) {
      this.items.push({
        name: item.name,
        action: item.action
      });
    }
  }, {
    key: 'removeItem',
    value: function removeItem(name) {
      for (var i = this.items.length - 1; i > 0; i--) {
        if (this.items[i].name === name) {
          this.items.splice(i, 1);
          break;
        }
      }
    }
  }, {
    key: 'setItems',
    value: function setItems(items) {
      this.items = [];
      for (var i = 0, nb_items = items.length; i < nb_items; i++) {
        if (items[i].name && items[i].action) {
          this.addItem(items[i]);
        }
      }
    }
  }, {
    key: 'showMenu',
    value: function showMenu(event, parent, items, position) {
      var _this = this;

      if (event.preventDefault) event.preventDefault();
      if (event.stopPropagation) event.stopPropagation();
      if (this.DOMobj) {
        this.hideMenu();
        return;
      }
      if (items) {
        this.setItems(items);
      }

      this.initMenu(parent);
      if (!position) {
        this.DOMobj.style.top = event.clientY + document.body.scrollTop + 'px';
        this.DOMobj.style.left = event.clientX + 'px';
      } else {
        this.DOMobj.style.top = position[1] + 'px';
        this.DOMobj.style.left = position[0] + 'px';
      }
      this.displayed = true;
      setTimeout(function () {
        document.addEventListener('click', function () {
          return _this.hideMenu();
        });
      }, 150);
    }
  }, {
    key: 'hideMenu',
    value: function hideMenu() {
      if (this.DOMobj && this.DOMobj.parentElement && this.DOMobj.parentElement.removeChild) {
        this.DOMobj.parentElement.removeChild(this.DOMobj);
        this.DOMobj = null;
      }
      this.displayed = false;
      document.removeEventListener('click', this.hideMenu);
    }
  }, {
    key: 'initMenu',
    value: function initMenu(parent) {
      if (this.DOMobj && this.DOMobj.parentElement && this.DOMobj.parentElement.removeChild) {
        this.DOMobj.parentElement.removeChild(this.DOMobj);
        this.DOMobj = null;
      }
      var self = this;
      var menu = document.createElement('div');
      var list = document.createElement('ul');
      menu.className = 'context-menu';
      menu.appendChild(list);
      for (var i = 0, nb_item = this.items.length; i < nb_item; i++) {
        var item = document.createElement('li');
        item.setAttribute('data-index', i);
        item.innerHTML = '<span class="context-menu-item-name">' + this.items[i].name + '</span>';
        list.appendChild(item);
        item.onclick = function () {
          var ix = this.getAttribute('data-index');
          self.items[ix].action();
        };
      }
      this.DOMobj = menu;
      parent.appendChild(menu);
    }
  }]);
  return contextMenu;
}();

var svg_bar$2 = d3.select('#svg_bar');
var margin$2 = { top: 20, right: 20, bottom: 40, left: 40 };

var width$2 = +svg_bar$2.attr('width') - margin$2.left - margin$2.right;
var height$2 = +svg_bar$2.attr('height') - margin$2.top - margin$2.bottom;

/** Class representing a scatterplot */
var ScatterPlot2 = function () {
  /**
   * Create a the scatterplot on the `svg_bar` svg element previously defined
   * @param {Array} ref_data - A reference to the subset of the dataset to be used
   * to create the scatterplot (should contain at least two field flagged as ratio
   * in the `app.current_config.ratio` Object).
   */
  function ScatterPlot2(ref_data) {
    var _this = this;

    classCallCheck(this, ScatterPlot2);

    this.brushed = function () {
      if (d3.event && !d3.event.selection) {
        if (d3.event.type === 'end' && d3.event.sourceEvent.type === 'mouseup') {
          _this.map_elem.removeRectBrush();
        }
        app.colors = {};
        app.colors[app.current_config.my_region] = color_highlight;
        _this.update();
        _this.updateMapRegio();
        return;
      }

      resetColors();
      // const self = this;

      var _d3$event$selection = slicedToArray(d3.event.selection, 2),
          topleft = _d3$event$selection[0],
          bottomright = _d3$event$selection[1];

      var range_x = [_this.x.invert(topleft[0]), _this.x.invert(bottomright[0])];
      var range_y = [_this.y.invert(bottomright[1]), _this.y.invert(topleft[1])];
      var t1 = void 0;
      var t2 = void 0;
      if (_this.type === 'value') {
        t1 = _this.variable1;
        t2 = _this.variable2;
      } else {
        t1 = _this.rank_variable1;
        t2 = _this.rank_variable2;
      }

      // this.data
      //   .filter(ft => ft[t1] > range_x[0]
      //     && ft[t1] < range_x[1]
      //     && ft[t2] > range_y[0]
      //     && ft[t2] < range_y[1])
      //   .forEach((ft) => {
      //     app.colors[ft.id] = comp2(
      //       ft[this.variable1], ft[this.variable2],
      //       self.ref_value1, self.ref_value2,
      //       self.xInversed, self.yInversed);
      //   });
      for (var i = 0, len_i = _this.data.length; i < len_i; i++) {
        var ft = _this.data[i];
        if (ft[t1] > range_x[0] && ft[t1] < range_x[1] && ft[t2] > range_y[0] && ft[t2] < range_y[1]) {
          app.colors[ft.id] = comp2(ft[_this.variable1], ft[_this.variable2], _this.ref_value1, _this.ref_value2, _this.xInversed, _this.yInversed);
        }
      }
      app.colors[app.current_config.my_region] = color_highlight;
      _this.update();
      _this.updateMapRegio();
      _this.map_elem.removeRectBrush();
    };

    // Set the minimum number of variables to keep selected for this kind of chart:
    app.current_config.nb_var = 2;
    var self = this;
    this.type = 'rank';
    this.variable1 = app.current_config.ratio[0];
    this.variable2 = app.current_config.ratio[1];
    this.rank_variable1 = 'pr_' + this.variable1;
    this.rank_variable2 = 'pr_' + this.variable2;
    this.pretty_name1 = app.current_config.ratio_pretty_name[0];
    this.pretty_name2 = app.current_config.ratio_pretty_name[1];
    this.data = ref_data.filter(function (ft) {
      return !!ft[_this.variable1] && !!ft[_this.variable2];
    }).map(function (d) {
      var res = { id: d.id };
      res[_this.variable1] = d[_this.variable1];
      res[_this.variable2] = d[_this.variable2];
      return res;
    });
    this.current_ids = this.data.map(function (d) {
      return d.id;
    });
    resetColors(this.current_ids);
    this.nbFt = this.data.length;
    computePercentileRank(this.data, this.variable1, this.rank_variable1);
    computePercentileRank(this.data, this.variable2, this.rank_variable2);

    this.x = d3.scaleLinear().range([0, width$2]).nice();
    this.y = d3.scaleLinear().range([height$2, 0]).nice();
    this.xAxis = d3.axisBottom(this.x).ticks(12);
    this.yAxis = d3.axisLeft(this.y).ticks(12 * height$2 / width$2);
    this.xAxis2 = d3.axisBottom(this.x).ticks(12);
    this.yAxis2 = d3.axisLeft(this.y).ticks(12 * height$2 / width$2);

    this.brush = d3.brush().extent([[0, 0], [width$2, height$2]]).on('brush end', this.brushed);

    this.xInversed = false;
    this.yInversed = false;
    this.ref_value1 = this.data.find(function (d) {
      return d.id === app.current_config.my_region;
    })[this.variable1];
    this.ref_value2 = this.data.find(function (d) {
      return d.id === app.current_config.my_region;
    })[this.variable2];

    this.plot = svg_bar$2.append('g').attr('transform', 'translate(' + [margin$2.left, margin$2.top] + ')');

    this.plot.append('defs').append('svg:clipPath').attr('id', 'clip').append('svg:rect').attrs({
      width: width$2,
      height: height$2,
      x: 0,
      y: 0
    });

    this.scatter = this.plot.append('g').attr('id', 'scatterplot').attr('clip-path', 'url(#clip)');

    this.scatter.append('g').attr('class', 'brush').call(this.brush);

    this.makeGrid();

    var groupe_line_mean = this.plot.append('g').attr('clip-path', 'url(#clip)').attr('class', 'mean');
    groupe_line_mean.append('line').attr('clip-path', 'url(#clip)').attrs({
      id: 'mean_x',
      x1: this.x(this.mean_variable1),
      x2: this.x(this.mean_variable1),
      y1: 0,
      y2: width$2,
      'stroke-dasharray': '10, 5',
      'stroke-width': '2px'
    }).style('stroke', 'red');
    groupe_line_mean.append('line').style('stroke', 'red').attrs({
      id: 'mean_y',
      x1: 0,
      x2: width$2,
      y1: this.y(this.mean_variable2),
      y2: this.y(this.mean_variable2),
      'clip-path': 'url(#clip)',
      'stroke-dasharray': '10, 5',
      'stroke-width': '2px'
    });

    this.plot.append('g').attrs({
      class: 'x axis', id: 'axis--x', transform: 'translate(0, ' + height$2 + ')'
    }).call(this.xAxis);

    this.plot.append('g').attrs({ class: 'y axis', id: 'axis--y', opacity: 0.9 }).call(this.yAxis);

    // Prepare the tooltip displayed on mouseover:
    prepareTooltip(this.plot);

    this.prepareTitleAxis();

    svg_bar$2.append('image').attrs({
      x: margin$2.left + width$2 / 2 - 20 - svg_bar$2.select('#title-axis-x').node().getBoundingClientRect().width / 2,
      y: margin$2.top + height$2 + margin$2.bottom / 2 - 2.5,
      width: 15,
      height: 15,
      'xlink:href': 'img/reverse_plus.png',
      id: 'img_reverse_x'
    }).on('click', function () {
      _this.xInversed = !_this.xInversed;
      for (var i = 0; i < _this.nbFt; i++) {
        self.data[i][self.rank_variable1] = 100 - self.data[i][self.rank_variable1];
      }
      if (_this.last_map_selection) {
        _this.map_elem.callBrush(_this.last_map_selection);
      } else {
        _this.update();
      }
    });

    svg_bar$2.append('image').attrs({
      x: margin$2.left / 2 - 20,
      y: margin$2.top + height$2 / 2 + svg_bar$2.select('#title-axis-y').node().getBoundingClientRect().height / 2 + 5,
      width: 15,
      height: 15,
      'xlink:href': 'img/reverse_plus.png',
      id: 'img_reverse_y'
    }).on('click', function () {
      _this.yInversed = !_this.yInversed;
      for (var i = 0; i < _this.nbFt; i++) {
        _this.data[i][_this.rank_variable2] = 100 - _this.data[i][_this.rank_variable2];
      }
      if (_this.last_map_selection) {
        _this.map_elem.callBrush(_this.last_map_selection);
      } else {
        _this.update();
      }
    });

    // Compute the "complÃ©tude" value for this ratio:
    this.completude_value = calcPopCompletudeSubset(app, [this.variable1, this.variable2]);

    // Create the "complÃ©tude" text:
    this.completude = svg_bar$2.append('text').attrs({ id: 'chart_completude', x: 60, y: 40 }).styles({ 'font-family': '\'Signika\', sans-serif' }).text('Compl\xE9tude : ' + this.completude_value + '%');

    // Deactivate the rect brush selection on the map
    // while the user press the Ctrl key:
    document.onkeydown = function (event) {
      if (event && event.key === 'Control') {
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', 'none');
      }
    };
    // Reactivate the rect brush selection on the map
    // when the user doesn't press the Ctrl key anymore
    document.onkeyup = function (event) {
      if (event && event.key === 'Control') {
        svg_map.select('.brush_map').selectAll('.selection, .overlay').style('display', null);
      }
    };

    var menu_selection = d3.select(svg_bar$2.node().parentElement).append('div').attr('id', 'menu_selection').styles({ top: '-20px', 'margin-left': '30px', position: 'relative' });

    var chart_type = menu_selection.append('p').styles({
      float: 'right',
      display: 'inline-grid'
    });

    chart_type.append('span').attrs({
      id: 'ind_raw_values',
      class: 'choice_ind'
    }).text('Valeurs brutes');

    chart_type.append('span').attrs({
      id: 'ind_ranks',
      class: 'choice_ind active'
    }).text('Valeurs de rang');

    this.bindMenu();

    // this.update();
    this.makeTableStat();
  }

  /**
   * Create the underlying grey grid
   */


  createClass(ScatterPlot2, [{
    key: 'makeGrid',
    value: function makeGrid() {
      this.plot.insert('g', '#scatterplot').attrs({
        class: 'grid grid-x', transform: 'translate(0, ' + height$2 + ')'
      }).call(this.xAxis2.tickSize(-height$2).tickFormat(''));
      this.plot.insert('g', '#scatterplot').attr('class', 'grid grid-y').call(this.yAxis2.tickSize(-width$2).tickFormat(''));
    }
  }, {
    key: 'updateAxisGrid',
    value: function updateAxisGrid() {
      this.plot.select('.grid-x').transition().duration(125).call(this.xAxis2.tickSize(-height$2).tickFormat(''));
      this.plot.select('.grid-y').transition().duration(125).call(this.yAxis2.tickSize(-width$2).tickFormat(''));
      this.plot.select('#axis--x').transition().duration(125).call(this.xAxis);
      this.plot.select('#axis--y').transition().duration(125).call(this.yAxis);
      this.plot.selectAll('.grid').selectAll('line').attr('stroke', 'lightgray');
    }

    /**
     * Create the title of the X and Y axis with the associated context menu
     * displayed when they are clicked and allowing to select an other variable
     * for this axis.
     */

  }, {
    key: 'prepareTitleAxis',
    value: function prepareTitleAxis() {
      var _this2 = this;

      var self = this;
      this.menuX = new contextMenu();
      this.menuY = new contextMenu();
      this.itemsX = app.current_config.ratio.filter(function (elem) {
        return elem !== _this2.variable2;
      }).map(function (elem) {
        return {
          name: elem,
          action: function action() {
            return _this2.changeVariableX(elem);
          }
        };
      });
      this.itemsY = app.current_config.ratio.filter(function (elem) {
        return elem !== _this2.variable1;
      }).map(function (elem) {
        return {
          name: elem,
          action: function action() {
            return _this2.changeVariableY(elem);
          }
        };
      });

      svg_bar$2.append('text').attrs({
        id: 'title-axis-x',
        x: margin$2.left + width$2 / 2,
        y: margin$2.top + height$2 + margin$2.bottom / 2 + 10
      }).styles({ 'font-family': 'sans-serif', 'font-size': '12px', 'text-anchor': 'middle' }).text(this.variable1).on('click', function () {
        var bbox = this.getBoundingClientRect();
        if (self.menuY.displayed) {
          self.menuY.hideMenu();
        }
        self.menuX.showMenu(d3.event, document.body, self.itemsX, [bbox.left - 20, bbox.top + 20]);
      });

      svg_bar$2.append('text').attrs({
        id: 'title-axis-y',
        x: margin$2.left / 2,
        y: margin$2.top + height$2 / 2 - 10,
        transform: 'rotate(-90, ' + margin$2.left / 2 + ', ' + (margin$2.top + height$2 / 2) + ')'
      }).styles({ 'font-family': 'sans-serif', 'font-size': '12px', 'text-anchor': 'middle' }).text(this.variable2).on('click', function () {
        var bbox = this.getBoundingClientRect();
        if (self.menuX.displayed) {
          self.menuX.hideMenu();
        }
        self.menuY.showMenu(d3.event, document.body, self.itemsY, [bbox.left, bbox.bottom + 10]);
      });
    }
  }, {
    key: 'update',
    value: function update() {
      var _this3 = this;

      var self = this;
      var data = self.data;

      if (this.type === 'rank') {
        this.x.domain(d3.extent(this.data, function (d) {
          return d[_this3.rank_variable1];
        })).nice();
        this.y.domain(d3.extent(this.data, function (d) {
          return d[_this3.rank_variable2];
        })).nice();
        this.mean_variable1 = _getPR(getMean(this.data.map(function (d) {
          return d[_this3.variable1];
        })), this.data.map(function (d) {
          return d[_this3.variable1];
        }));
        this.mean_variable2 = _getPR(getMean(this.data.map(function (d) {
          return d[_this3.variable2];
        })), this.data.map(function (d) {
          return d[_this3.variable2];
        }));

        var rank_variable1 = this.rank_variable1;
        var rank_variable2 = this.rank_variable2;
        var x = this.x;
        var y = this.y;
        var default_color = 'gray';

        var dots = this.scatter.selectAll('.dot').data(data, function (d) {
          return d.id;
        });

        dots.transition().duration(125).attrs(function (d) {
          return {
            r: 5,
            cx: x(d[rank_variable1]),
            cy: y(d[rank_variable2])
          };
        }).styles(function (d) {
          return {
            fill: app.colors[d.id] || default_color
          };
        });

        dots.enter().insert('circle').transition().duration(125).styles(function (d) {
          return {
            fill: app.colors[d.id] || default_color
          };
        }).attrs(function (d) {
          return {
            r: 5,
            cx: x(d[rank_variable1]),
            cy: y(d[rank_variable2]),
            class: 'dot'
          };
        }).on('end', function () {
          dots.on('mouseover.tooltip', function () {
            svg_bar$2.select('.tooltip').style('display', null);
          }).on('mousemove.tooltip', function (d) {
            var tooltip = svg_bar$2.select('.tooltip').attr('transform', 'translate(' + [d3.mouse(this)[0] - 5, d3.mouse(this)[1] - 35] + ')');
            tooltip.select('rect').attrs({ width: 0, height: 0 });
            tooltip.select('text.id_feature').text('' + d.id);
            tooltip.select('text.value_feature1').text(self.variable1 + ' (rang) : ' + Math.round(d[self.rank_variable1] * 10) / 10 + '/100');
            tooltip.select('text.value_feature2').text(self.variable1 + ' (valeur) : ' + Math.round(d[self.variable1] * 10) / 10);
            tooltip.select('text.value_feature3').text(self.variable2 + ' (rang) : ' + Math.round(d[self.rank_variable2] * 10) / 10 + '/100');
            tooltip.select('text.value_feature4').text(self.variable2 + ' (valeur) : ' + Math.round(d[self.variable2] * 10) / 10);
            var b = tooltip.node().getBoundingClientRect();
            tooltip.select('rect').attrs({ width: b.width + 20, height: b.height + 7.5 });
          }).on('mouseout.tooltip', function () {
            svg_bar$2.select('.tooltip').style('display', 'none');
          });
        });
        dots.exit().transition().duration(125).remove();
      } else if (this.type === 'value') {
        var variable1 = this.variable1;
        var variable2 = this.variable2;
        this.x.domain(d3.extent(this.data, function (d) {
          return d[variable1];
        })).nice();
        this.y.domain(d3.extent(this.data, function (d) {
          return d[variable2];
        })).nice();
        this.mean_variable1 = getMean(this.data.map(function (d) {
          return d[variable1];
        }));
        this.mean_variable2 = getMean(this.data.map(function (d) {
          return d[variable2];
        }));

        var _x = this.x;
        var _y = this.y;
        var _default_color = 'gray';

        this.plot.select('#axis--x').transition().duration(125).call(this.xAxis);
        this.plot.select('#axis--y').transition().duration(125).call(this.yAxis);

        var _dots = this.scatter.selectAll('.dot').data(data, function (d) {
          return d.id;
        });

        _dots.transition().duration(125).attrs(function (d) {
          return {
            r: 5,
            cx: _x(d[variable1]),
            cy: _y(d[variable2])
          };
        }).styles(function (d) {
          return {
            fill: app.colors[d.id] || _default_color
          };
        });

        _dots.enter().insert('circle').transition().duration(125).styles(function (d) {
          return {
            fill: app.colors[d.id] || _default_color
          };
        }).attrs(function (d) {
          return {
            r: 5,
            cx: _x(d[variable1]),
            cy: _y(d[variable2]),
            class: 'dot'
          };
        }).on('end', function () {
          _dots.on('mouseover.tooltip', function () {
            svg_bar$2.select('.tooltip').style('display', null);
          }).on('mousemove.tooltip', function (d) {
            var tooltip = svg_bar$2.select('.tooltip').attr('transform', 'translate(' + [d3.mouse(this)[0] - 5, d3.mouse(this)[1] - 35] + ')');
            tooltip.select('rect').attrs({ width: 0, height: 0 });
            tooltip.select('text.id_feature').text('' + d.id);
            tooltip.select('text.value_feature1').text(self.variable1 + ' (valeur) : ' + Math.round(d[self.variable1] * 10) / 10);
            tooltip.select('text.value_feature2').text(self.variable2 + ' (valeur) : ' + Math.round(d[self.variable2] * 10) / 10);
            var b = tooltip.node().getBoundingClientRect();
            tooltip.select('rect').attrs({ width: b.width + 20, height: b.height + 7.5 });
          }).on('mouseout.tooltip', function () {
            svg_bar$2.select('.tooltip').style('display', 'none');
          });
        });

        _dots.exit().transition().duration(125).remove();
      }
      this.updateMeanValue();
      this.updateAxisGrid();
    }
  }, {
    key: 'updateCompletude',
    value: function updateCompletude() {
      this.completude_value = calcPopCompletudeSubset(app, [this.variable1, this.variable2]);
      this.completude.text('Compl\xE9tude : ' + this.completude_value + '%');
    }
  }, {
    key: 'updateMapRegio',
    value: function updateMapRegio() {
      var _this4 = this;

      if (!this.map_elem) return;
      this.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        return _this4.current_ids.indexOf(d.properties[app.current_config.id_field_geom]) > -1 ? app.colors[d.properties[app.current_config.id_field_geom]] || color_countries : color_disabled;
      });
    }
  }, {
    key: 'handle_brush_map',
    value: function handle_brush_map(event) {
      if (!event || !event.selection) {
        this.last_map_selection = undefined;
        return;
      }
      svg_bar$2.select('.brush').call(this.brush.move, null);
      var self = this;

      var _event$selection = slicedToArray(event.selection, 2),
          topleft = _event$selection[0],
          bottomright = _event$selection[1];

      this.last_map_selection = [topleft, bottomright];
      var rect = new Rect(topleft, bottomright);
      app.colors = {};
      self.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        var id = d.properties[app.current_config.id_field_geom];
        if (id === app.current_config.my_region) {
          app.colors[id] = color_highlight;
          return color_highlight;
        } else if (self.current_ids.indexOf(id) < 0) {
          return color_disabled;
        }
        if (!this._pts) {
          this._pts = svgPathToCoords(this.getAttribute('d'), app.type_path);
        }
        var pts = this._pts;
        for (var ix = 0, nb_pts = pts.length; ix < nb_pts; ix++) {
          if (rect.contains(pts[ix])) {
            var value1 = d.properties[self.variable1];
            var value2 = d.properties[self.variable2];
            var color = comp2(value1, value2, self.ref_value1, self.ref_value2, self.xInversed, self.yInversed);
            app.colors[id] = color;
            return color;
          }
        }
        return color_countries;
      });
      self.update();
    }
  }, {
    key: 'handleClickMap',
    value: function handleClickMap(d, parent) {
      var id = d.properties[app.current_config.id_field_geom];
      if (this.current_ids.indexOf(id) < 0 || id === app.current_config.my_region) return;
      if (app.colors[id] !== undefined) {
        // Change its color in the global colors object:
        app.colors[id] = undefined;
        // Change the color on the map:
        d3.select(parent).attr('fill', color_countries);
      } else {
        var value1 = d.properties[this.variable1];
        var value2 = d.properties[this.variable2];
        var color = comp2(value1, value2, this.ref_value1, this.ref_value2, this.xInversed, this.yInversed);
        app.colors[id] = color;
        // Change the color on the map:
        d3.select(parent).attr('fill', color);
        // Add the clicked feature on the colored selection on the chart:
      }
      this.update();
    }
  }, {
    key: 'updateMeanValue',
    value: function updateMeanValue() {
      var _this5 = this;

      if (this.type === 'value') {
        this.mean_variable1 = getMean(this.data.map(function (d) {
          return d[_this5.variable1];
        }));
        this.mean_variable2 = getMean(this.data.map(function (d) {
          return d[_this5.variable2];
        }));
      } else if (this.type === 'rank') {
        this.mean_variable1 = _getPR(getMean(this.data.map(function (d) {
          return d[_this5.variable1];
        })), this.data.map(function (d) {
          return d[_this5.variable1];
        }));
        this.mean_variable2 = _getPR(getMean(this.data.map(function (d) {
          return d[_this5.variable2];
        })), this.data.map(function (d) {
          return d[_this5.variable2];
        }));
      }
      var grp_mean = this.plot.select('g.mean');
      grp_mean.select('#mean_x').transition().duration(125).attrs({
        x1: this.x(this.mean_variable1),
        x2: this.x(this.mean_variable1)
      });
      grp_mean.select('#mean_y').transition().duration(125).attrs({
        y1: this.y(this.mean_variable2),
        y2: this.y(this.mean_variable2)
      });
    }
  }, {
    key: 'updateChangeRegion',
    value: function updateChangeRegion() {
      if (app.current_config.filter_key !== undefined) {
        this.changeStudyZone();
      } else {
        this.ref_value1 = this.data.find(function (d) {
          return d.id === app.current_config.my_region;
        })[this.variable1];
        this.ref_value2 = this.data.find(function (d) {
          return d.id === app.current_config.my_region;
        })[this.variable2];
        this.map_elem.removeRectBrush();
        this.map_elem.updateLegend();
        this.map_elem.resetColors(this.current_ids);
        this.update();
      }
    }
  }, {
    key: 'changeStudyZone',
    value: function changeStudyZone() {
      var _this6 = this;

      this.data = app.current_data.filter(function (ft) {
        return !!ft[_this6.variable1] && !!ft[_this6.variable2];
      }).map(function (d) {
        var res = { id: d.id };
        res[_this6.variable1] = d[_this6.variable1];
        res[_this6.variable2] = d[_this6.variable2];
        return res;
      });
      this.current_ids = this.data.map(function (d) {
        return d.id;
      });
      resetColors();
      this.nbFt = this.data.length;
      computePercentileRank(this.data, this.variable1, this.rank_variable1);
      computePercentileRank(this.data, this.variable2, this.rank_variable2);

      this.xInversed = false;
      this.yInversed = false;
      var tmp_my_region = this.data.filter(function (d) {
        return d.id === app.current_config.my_region;
      })[0];
      this.ref_value1 = tmp_my_region[this.variable1];
      this.ref_value2 = tmp_my_region[this.variable2];

      this.map_elem.removeRectBrush();
      this.updateItemsCtxMenu();
      this.updateMapRegio();
      this.updateTableStat();
      this.update();
    }
  }, {
    key: 'changeVariableX',
    value: function changeVariableX(code_variable) {
      var _this7 = this;

      this.variable1 = code_variable;
      this.rank_variable1 = 'pr_' + this.variable1;
      this.pretty_name1 = exports.variables_info.find(function (ft) {
        return ft.ratio === code_variable;
      }).name;
      svg_bar$2.select('#title-axis-x').text(code_variable);
      // TODO: Also change the position of the button alowing to inverse the serie
      this.updateItemsCtxMenu();
      this.data = app.current_data.filter(function (ft) {
        return !!ft[_this7.variable1] && !!ft[_this7.variable2];
      }).map(function (d) {
        var res = { id: d.id };
        res[_this7.variable1] = d[_this7.variable1];
        res[_this7.variable2] = d[_this7.variable2];
        return res;
      });
      this.current_ids = this.data.map(function (d) {
        return d.id;
      });
      resetColors();
      this.nbFt = this.data.length;
      computePercentileRank(this.data, this.variable1, this.rank_variable1);
      computePercentileRank(this.data, this.variable2, this.rank_variable2);
      this.ref_value1 = this.data.find(function (d) {
        return d.id === app.current_config.my_region;
      })[this.variable1];
      this.updateMapRegio();
      this.updateTableStat();
      this.update();
    }
  }, {
    key: 'changeVariableY',
    value: function changeVariableY(code_variable) {
      var _this8 = this;

      this.variable2 = code_variable;
      this.rank_variable2 = 'pr_' + this.variable2;
      this.pretty_name2 = exports.variables_info.find(function (ft) {
        return ft.ratio === code_variable;
      }).name;
      svg_bar$2.select('#title-axis-y').text(code_variable);
      // TODO: Also change the position of the button alowing to inverse the serie
      this.updateItemsCtxMenu();
      this.data = app.current_data.filter(function (ft) {
        return !!ft[_this8.variable1] && !!ft[_this8.variable2];
      }).map(function (d) {
        var res = { id: d.id };
        res[_this8.variable1] = d[_this8.variable1];
        res[_this8.variable2] = d[_this8.variable2];
        return res;
      });
      this.current_ids = this.data.map(function (d) {
        return d.id;
      });
      resetColors();
      this.nbFt = this.data.length;
      computePercentileRank(this.data, this.variable1, this.rank_variable1);
      computePercentileRank(this.data, this.variable2, this.rank_variable2);
      this.ref_value2 = this.data.find(function (d) {
        return d.id === app.current_config.my_region;
      })[this.variable2];
      this.updateMapRegio();
      this.updateTableStat();
      this.update();
    }
  }, {
    key: 'updateItemsCtxMenu',
    value: function updateItemsCtxMenu() {
      var _this9 = this;

      this.itemsX = app.current_config.ratio.filter(function (elem) {
        return elem !== _this9.variable2;
      }).map(function (elem) {
        return {
          name: elem,
          action: function action() {
            return _this9.changeVariableX(elem);
          }
        };
      });
      this.itemsY = app.current_config.ratio.filter(function (elem) {
        return elem !== _this9.variable1;
      }).map(function (elem) {
        return {
          name: elem,
          action: function action() {
            return _this9.changeVariableY(elem);
          }
        };
      });
    }
  }, {
    key: 'addVariable',
    value: function addVariable$$1(code_variable, name_variable) {
      var _this10 = this;

      this.itemsX.push({
        name: code_variable,
        action: function action() {
          return _this10.changeVariableX(code_variable);
        }
      });
      this.itemsY.push({
        name: code_variable,
        action: function action() {
          return _this10.changeVariableY(code_variable);
        }
      });
    }
  }, {
    key: 'removeVariable',
    value: function removeVariable$$1(code_variable) {
      var _this11 = this;

      // Remove the variable from the X and Y list of items:
      for (var i = this.itemsX.length - 1; i > -1; i--) {
        if (this.itemsX[i].name === code_variable) {
          this.itemsX.splice(i, 1);
          break;
        }
      }
      for (var _i = this.itemsY.length - 1; _i > -1; _i--) {
        if (this.itemsY[_i].name === code_variable) {
          this.itemsY.splice(_i, 1);
          break;
        }
      }

      // If the variable to remove was currently used for drawing this chart,
      // set a new variable for this axis and redraw the chart:
      if (code_variable === this.variable1) {
        var new_var_x = this.itemsX.filter(function (ft) {
          return ft.name !== _this11.variable2;
        })[0].name;
        this.changeVariableX(new_var_x);
      } else if (code_variable === this.variable2) {
        var new_var_y = this.itemsY.filter(function (ft) {
          return ft.name !== _this11.variable1;
        })[0].name;
        this.changeVariableY(new_var_y);
      }
    }
  }, {
    key: 'remove',
    value: function remove() {
      this.table_stats.remove();
      this.map_elem.unbindBrushClick();
      this.map_elem = null;
      svg_bar$2.html('');
    }
  }, {
    key: 'bindMap',
    value: function bindMap(map_elem) {
      this.map_elem = map_elem;
      this.updateMapRegio();
      this.update();
    }
  }, {
    key: 'bindMenu',
    value: function bindMenu() {
      var self = this;
      var menu = d3.select('#menu_selection');

      menu.select('#ind_raw_values').on('click', function () {
        if (this.classList.contains('active')) {
          return;
        }
        self.type = 'value';
        this.classList.add('active');
        menu.select('#ind_ranks').attr('class', 'choice_ind');
        // self.g_bar.selectAll('g').remove();
        self.update();
      });

      menu.select('#ind_ranks').on('click', function () {
        if (this.classList.contains('active')) {
          return;
        }
        self.type = 'rank';
        this.classList.add('active');
        menu.select('#ind_raw_values').attr('class', 'choice_ind');
        // self.g_bar.selectAll('rect').remove();
        self.update();
      });
    }
  }, {
    key: 'prepareTableStat',
    value: function prepareTableStat() {
      var _this12 = this;

      var values1 = this.data.map(function (d) {
        return d[_this12.variable1];
      });
      var values2 = this.data.map(function (d) {
        return d[_this12.variable2];
      });
      var features = [{
        Min: d3.min(values1),
        Max: d3.max(values1),
        Moyenne: getMean(values1),
        id: this.variable1,
        Variable: this.variable1,
        'Ma rÃ©gion': this.ref_value1
      }, {
        Min: d3.min(values2),
        Max: d3.max(values2),
        Moyenne: getMean(values2),
        id: this.variable2,
        Variable: this.variable2,
        'Ma rÃ©gion': this.ref_value2
      }];
      return features;
    }
  }, {
    key: 'updateTableStat',
    value: function updateTableStat() {
      this.table_stats.removeAll();
      this.table_stats.addFeatures(this.prepareTableStat());
    }
  }, {
    key: 'makeTableStat',
    value: function makeTableStat() {
      var features = this.prepareTableStat();
      this.table_stats = new TableResumeStat(features);
    }
  }]);
  return ScatterPlot2;
}();

var svg_bar$3 = d3.select('#svg_bar');
var margin$3 = { top: 70, right: 70, bottom: 70, left: 70 };

var width$3 = +svg_bar$3.attr('width') - margin$3.left - margin$3.right;
var height$3 = +svg_bar$3.attr('height') - margin$3.top - margin$3.bottom;

var wrap = function wrap(_text, _width) {
  _text.each(function () {
    var text = d3.select(this),
        words = text.text().split(/\s+/).reverse(),
        lineHeight = 1.4,
        // ems
    y = text.attr('y'),
        x = text.attr('x'),
        dy = parseFloat(text.attr('dy'));
    var line = [],
        lineNumber = 0;
    var tspan = text.text(null).append('tspan').attr('x', x).attr('y', y).attr('dy', dy + 'em');
    var word = words.pop();
    while (word) {
      line.push(word);
      tspan.text(line.join(' '));
      if (tspan.node().getComputedTextLength() > _width) {
        line.pop();
        tspan.text(line.join(' '));
        line = [word];
        tspan = text.append('tspan').attr('x', x).attr('y', y).attr('dy', ++lineNumber * lineHeight + dy + 'em').text(word);
      }
      word = words.pop();
    }
  });
};

var move = function move(array, from, to) {
  array.splice(to, 0, array.splice(from, 1)[0]);
  return array;
};

var swap = function swap(array, ix1, ix2) {
  // eslint-disable-line no-param-reassign
  var _ref = [array[ix2], array[ix1]];
  array[ix1] = _ref[0];
  array[ix2] = _ref[1];
  return array;
};

var prepare_data_radar_default = function prepare_data_radar_default(data, variables) {
  // Prepare the data for "My RÃ©gion":
  var v_my_region = data.find(function (d) {
    return d.id === app.current_config.my_region;
  });
  var ojb_my_region = {
    name: app.current_config.my_region,
    axes: []
  };
  variables.forEach(function (v) {
    var t = exports.variables_info.find(function (d) {
      return d.ratio === v;
    }).name;
    var _v = 'pr_' + v;
    ojb_my_region.axes.push({
      axis: t, value: v_my_region[_v]
    });
  });
  return ojb_my_region;
};

var prepare_data_radar_ft = function prepare_data_radar_ft(data, variables, ft) {
  var ft_values = data.find(function (d) {
    return d.id === ft;
  });
  if (!ft_values) {
    return null;
  }
  var obj = {
    name: ft,
    axes: []
  };
  variables.forEach(function (v) {
    var t = exports.variables_info.find(function (d) {
      return d.ratio === v;
    }).name;
    var _v = 'pr_' + v;
    obj.axes.push({
      axis: t, value: ft_values[_v]
    });
  });
  return obj;
};

var RadarChart3 = function () {
  function RadarChart3(data, options) {
    var _this = this;

    classCallCheck(this, RadarChart3);

    var cfg = {
      w: width$3, // Width of the circle
      h: height$3, // Height of the circle
      margin: margin$3, // The margins of the SVG
      levels: 10, // How many levels or inner circles should there be drawn
      maxValue: 100, // What is the value that the biggest circle will represent
      labelFactor: 1.3, // How much farther than the radius of the outer circle should the labels be placed
      wrapWidth: 85, // The number of pixels after which a label needs to be given a new line
      opacityArea: 0.35, // The opacity of the area of the blob
      dotRadius: 4, // The size of the colored circles of each blog
      opacityCircles: 0.1, // The opacity of the circles of each blob
      strokeWidth: 2, // The width of the stroke around each blob
      roundStrokes: false, // If true the area and stroke will follow a round path (cardinal-closed)
      color: d3.scaleOrdinal(d3.schemeCategory10), // Color function,
      format: '.2', // The format string to be used by d3.format
      unit: '%', // The unit to display after the number on the axis and point tooltips (like $, â‚¬, %, etc)
      legend: false,
      allowInverseData: true
    };
    this.cfg = cfg;
    // Put all of the options into a variable called cfg
    if (typeof options !== 'undefined') {
      for (var i in options) {
        if (typeof options[i] !== 'undefined') {
          cfg[i] = options[i];
        }
      }
    }

    this.g = svg_bar$3.append('g').attr('id', 'RadarGrp').attr('transform', 'translate(' + (cfg.w / 2 + cfg.margin.left) + ',' + (cfg.h / 2 + cfg.margin.top) + ')');

    this.prepareData(data);
    this.drawAxisGrid();
    this.drawArea();
    this.handleLegend();
    // Compute the "complÃ©tude" value for these ratios:
    this.completude_value = calcPopCompletudeSubset(app, this.variables);

    // Create the "complÃ©tude" text:
    this.completude = svg_bar$3.append('text').attrs({ id: 'chart_completude', x: 60, y: 40 }).styles({ 'font-family': '\'Signika\', sans-serif' }).text('Compl\xE9tude : ' + this.completude_value + '%');

    if (cfg.allowInverseData) {
      this.inverse_data = function (field) {
        var data_length = _this.data.length;
        if (!field) {
          for (var _i = 0; _i < data_length; _i++) {
            var ax = _this.data[_i].axes;
            for (var j = 0; j < ax.length; j++) {
              ax[j].value = 100 - ax[j].value;
            }
          }
        } else {
          for (var _i2 = 0; _i2 < data_length; _i2++) {
            var _ax = _this.data[_i2].axes;
            for (var _j = 0; _j < _ax.length; _j++) {
              if (_ax[_j].axis === field) {
                _ax[_j].value = 100 - _ax[_j].value;
              }
            }
          }
        }
        _this.update();
      };
    }
    this.makeTableStat();
  }

  createClass(RadarChart3, [{
    key: 'add_element',
    value: function add_element(elem) {
      var _this2 = this;

      var n_axis = elem.axes.map(function (i) {
        return i.axis;
      });
      if (!(JSON.stringify(n_axis) === JSON.stringify(this.allAxis))) {
        throw new Error('Expected element with same axes name than existing data.');
      }
      this.data.push(elem);
      this.displayed_ids.push(elem.name);
      for (var j = 0; j < this.data.length; j++) {
        var on_axes = [];
        for (var i = 0; i < this.data[j].axes.length; i++) {
          this.data[j].axes[i].id = this.data[j].name;
          on_axes.push(this.data[j].name);
        }
      }

      var self = this;
      var cfg = this.cfg;
      var n = this.data.length - 1;
      var blobWrapper = this.g.insert('g', '.radarCircleWrapper').attr('id', elem.name.indexOf(' ') > -1 ? 'ctx' : elem.name).attr('class', 'radarWrapper');

      // Append the backgrounds
      blobWrapper.append('path').attr('class', 'radarArea').attr('d', this.radarLine(elem.axes)).style('fill', cfg.color(n)).style('fill-opacity', 0).style('fill-opacity', cfg.opacityArea).on('mouseover', function () {
        // Dim all blobs
        blobWrapper.selectAll('.radarArea').transition().duration(200).style('fill-opacity', 0.1);
        // Bring back the hovered over blob
        d3.select(this).transition().duration(200).style('fill-opacity', 0.7);
      }).on('mouseout', function () {
        // Bring back all blobs
        blobWrapper.selectAll('.radarArea').transition().duration(200).style('fill-opacity', cfg.opacityArea);
      });
      // .on('click', function () {
      //   const p = this.parentElement;
      //   if (p.previousSibling.className !== 'tooltip') {
      //     const group = g.node();
      //     group.insertBefore(p, group.querySelector('.tooltip'));
      //     const new_order = [];
      //     g.selectAll('.radarWrapper').each(d => new_order.push(d.name));
      //     new_order.reverse();
      //     updateLegend(new_order);
      //   }
      // });

      // Create the outlines
      blobWrapper.append('path').attr('class', 'radarStroke').attr('d', this.radarLine(elem.axes)).style('stroke-width', cfg.strokeWidth + 'px').style('stroke', cfg.color(n)).style('fill', 'none').style('filter', 'url(#glow)');

      // Append the circles
      blobWrapper.selectAll('.radarCircle').data(elem.axes).enter().append('circle').attr('class', 'radarCircle').attr('r', cfg.dotRadius).attr('cx', function (d, i) {
        return _this2.rScale(d.value) * math_cos(_this2.angleSlice * i - HALF_PI);
      }).attr('cy', function (d, i) {
        return _this2.rScale(d.value) * math_sin(_this2.angleSlice * i - HALF_PI);
      }).style('fill', function (d) {
        return cfg.color(d.id);
      }).style('fill-opacity', 0.8);

      blobWrapper.node().__data__ = elem;

      // ///////////////////////////////////////////////////////
      // ////// Append invisible circles for tooltip ///////////
      // ///////////////////////////////////////////////////////

      // Wrapper for the invisible circles on top
      var blobCircleWrapper = this.g.insert('g', '.tooltip').attr('id', elem.name.indexOf(' ') > -1 ? 'ctx' : elem.name).attr('class', 'radarCircleWrapper');

      blobCircleWrapper.node().__data__ = elem;

      // Append a set of invisible circles on top for the mouseover pop-up
      blobCircleWrapper.selectAll('.radarInvisibleCircle').data(elem.axes).enter().append('circle').attr('class', 'radarInvisibleCircle').attr('r', cfg.dotRadius * 1.5).attr('cx', function (d, i) {
        return _this2.rScale(d.value) * math_cos(_this2.angleSlice * i - HALF_PI);
      }).attr('cy', function (d, i) {
        return _this2.rScale(d.value) * math_sin(_this2.angleSlice * i - HALF_PI);
      }).style('fill', 'none').style('pointer-events', 'all').on('mouseover', function (d) {
        self.g.select('.tooltip').attr('x', this.cx.baseVal.value - 10).attr('y', this.cy.baseVal.value - 10).transition().style('display', 'block').text(this.Format(d.value) + cfg.unit);
      }).on('mouseout', function () {
        self.g.select('.tooltip').transition().style('display', 'none').text('');
      });
    }
  }, {
    key: 'changeOrder',
    value: function changeOrder() {
      this.data = this.data.slice(1, this.data.length).concat(this.data.slice(0, 1));
      this.update();
    }
  }, {
    key: 'prepareData',
    value: function prepareData(data) {
      var _this3 = this;

      // Set the minimum number of variables to keep selected for this kind of chart:
      app.current_config.nb_var = 3;
      this.variables = app.current_config.ratio;
      this.ref_data = data.slice().filter(function (ft) {
        return _this3.variables.map(function (v) {
          return !!ft[v];
        }).every(function (d) {
          return d === true;
        });
      });
      this.rank_variables = this.variables.map(function (d) {
        return 'pr_' + d;
      });
      this.variables.forEach(function (d, i) {
        computePercentileRank(_this3.ref_data, d, _this3.rank_variables[i]);
      });
      this.data = [prepare_data_radar_default(this.ref_data, this.variables)];
      this.displayed_ids = this.data.map(function (d) {
        return d.name;
      });
      this.current_ids = this.ref_data.map(function (d) {
        return d.id;
      });
      this.id_my_region = app.current_config.my_region;

      // If the supplied maxValue is smaller than the actual one, replace by the max in the data
      var maxValue = 0;
      for (var j = 0; j < this.data.length; j++) {
        var on_axes = [];
        for (var i = 0; i < this.data[j].axes.length; i++) {
          this.data[j].axes[i].id = this.data[j].name;
          if (this.data[j].axes[i].value > maxValue) {
            maxValue = this.data[j].axes[i].value;
          }
        }
      }

      this.maxValue = math_max(this.cfg.maxValue, maxValue);
      this.allAxis = this.data[0].axes.map(function (i) {
        return i.axis;
      }); // Names of each axis
      this.total = this.allAxis.length; // The number of different axes
      this.radius = Math.min(this.cfg.w / 2, this.cfg.h / 2); // Radius of the outermost circle
      this.Format = d3.format(this.cfg.format); // Formatting
      this.angleSlice = Math.PI * 2 / this.total; // The width in radians of each "slice"
      // Scale for the radius
      this.rScale = d3.scaleLinear().range([0, this.radius]).domain([0, this.maxValue]);
      // The radial line function
      this.radarLine = d3.radialLine().curve(this.cfg.roundStrokes ? d3.curveCardinalClosed : d3.curveLinearClosed).radius(function (d) {
        return _this3.rScale(d.value);
      }).angle(function (d, i) {
        return i * _this3.angleSlice;
      });
    }
  }, {
    key: 'drawAxisGrid',
    value: function drawAxisGrid() {
      var self = this;
      var cfg = this.cfg;
      var g = this.g;
      var radius = this.radius;
      var maxValue = this.maxValue;
      var rScale = this.rScale;
      var angleSlice = this.angleSlice;

      var labelClicked = function labelClicked() {
        var ix = +this.id;
        if (ix + 1 === self.allAxis.length) {
          for (var i = 0; i < self.data.length; i++) {
            swap(self.data[i].axes, ix, 0);
          }
        } else {
          var new_ix = ix + 1;
          for (var _i3 = 0; _i3 < self.data.length; _i3++) {
            move(self.data[_i3].axes, ix, new_ix);
          }
        }
        self.update();
      };

      var labelCtxMenu = function labelCtxMenu(label) {
        d3.event.stopPropagation();
        d3.event.preventDefault();
        var ix = +this.id;
        self.inverse_data(label);
      };

      var axisGrid = g.append('g').attr('class', 'axisWrapper');

      // Draw the background circles
      axisGrid.selectAll('.levels').data(d3.range(1, cfg.levels + 1).reverse()).enter().append('circle').attr('class', 'gridCircle').attr('r', function (d) {
        return radius / cfg.levels * d;
      }).style('fill', '#CDCDCD').style('stroke', '#CDCDCD').style('fill-opacity', cfg.opacityCircles).style('filter', 'url(#glow)');

      // // Text indicating at what % each level is
      // axisGrid.selectAll('.axisLabel')
      //   .data(d3.range(1, (cfg.levels + 1)).reverse())
      //   .enter().append('text')
      //   .attr('class', 'axisLabel')
      //   .attr('x', 4)
      //   .attr('y', d => -d * radius / cfg.levels)
      //   .attr('dy', '0.4em')
      //   .style('font-size', '10px')
      //   .attr('fill', '#737373')
      //   .text(d => Format(maxValue * d / cfg.levels) + cfg.unit);

      // Create the straight lines radiating outward from the center
      var axis = axisGrid.selectAll('.axis').data(this.allAxis).enter().append('g').attr('class', 'axis');
      // Append the lines
      axis.append('line').attr('x1', 0).attr('y1', 0).attr('x2', function (d, i) {
        return rScale(maxValue * 1.1) * math_cos(angleSlice * i - HALF_PI);
      }).attr('y2', function (d, i) {
        return rScale(maxValue * 1.1) * math_sin(angleSlice * i - HALF_PI);
      }).attr('class', 'line').style('stroke', 'white').style('stroke-width', '2px');

      // Append the labels at each axis
      axis.append('text').attr('class', 'legend').style('font-size', '11px').attr('id', function (d, i) {
        return i;
      }).attr('text-anchor', 'middle').attr('dy', '0.35em').attr('x', function (d, i) {
        return rScale(maxValue * cfg.labelFactor) * math_cos(angleSlice * i - HALF_PI);
      }).attr('y', function (d, i) {
        return rScale(maxValue * cfg.labelFactor) * math_sin(angleSlice * i - HALF_PI);
      }).text(function (d) {
        return d;
      }).on('click', labelClicked).on('contextmenu', cfg.allowInverseData ? labelCtxMenu : null).call(wrap, cfg.wrapWidth);

      // Filter for the outside glow
      var filter = g.append('defs').append('filter').attr('id', 'glow');
      filter.append('feGaussianBlur').attr('stdDeviation', '2.5').attr('result', 'coloredBlur');
      var feMerge = filter.append('feMerge');
      feMerge.append('feMergeNode').attr('in', 'coloredBlur');
      feMerge.append('feMergeNode').attr('in', 'SourceGraphic');

      this.axisGrid = axisGrid;
    }
  }, {
    key: 'handleLegend',
    value: function handleLegend() {
      var cfg = this.cfg;
      if (cfg.legend !== false && _typeof(cfg.legend) === 'object') {
        var names = this.data.map(function (el) {
          return el.name;
        });
        if (cfg.legend.title) {
          this.legendZone.append('text').attr('class', 'title').attr('transform', 'translate(0, -20)').attr('x', cfg.w - 70).attr('y', 10).attr('font-size', '12px').attr('fill', '#404040').text(cfg.legend.title);
        }
        var legend = this.legendZone.selectAll('g').data(names);
        var legendEnter = legend.enter().append('g');

        // Create rectangles markers
        legendEnter.append('rect').attrs(function (d, i) {
          return {
            x: cfg.w - 65,
            y: i * 20,
            width: 10,
            height: 10
          };
        }).style('fill', function (d) {
          return cfg.color(d);
        });

        // Create labels
        legendEnter.append('text').attrs(function (d, i) {
          return {
            x: cfg.w - 52,
            y: i * 20 + 9,
            fill: '#737373',
            'font-size': '11px'
          };
        }).text(function (d) {
          return d;
        });

        legend.merge(legendEnter).selectAll('rect').attr('y', function (d, i) {
          return i * 20;
        }).style('fill', function (d) {
          return cfg.color(d);
        });

        legend.merge(legendEnter).selectAll('text').attrs(function (d, i) {
          return {
            x: cfg.w - 52,
            y: i * 20 + 9
          };
        }).text(function (d) {
          return d;
        });

        legend.exit().remove();
      }
    }
  }, {
    key: 'drawArea',
    value: function drawArea() {
      var _this4 = this;

      var cfg = this.cfg;
      var g = this.g;
      var Format = this.Format;
      var rScale = this.rScale;
      var angleSlice = this.angleSlice;

      // Create a wrapper for the blobs
      var blobWrapper = g.selectAll('.radarWrapper').data(this.data, function (d) {
        return d.name;
      }).enter().append('g').attr('id', function (d) {
        return d.name.indexOf(' ') > -1 ? 'ctx' : d.name;
      }).attr('class', 'radarWrapper');

      // Append the backgrounds
      blobWrapper.append('path').attr('class', 'radarArea').attr('d', function (d) {
        return _this4.radarLine(d.axes);
      }).style('fill', function (d, i) {
        return cfg.color(i);
      }).style('fill-opacity', 0).style('fill-opacity', cfg.opacityArea).on('mouseover', function () {
        // Dim all blobs
        blobWrapper.selectAll('.radarArea').transition().duration(200).style('fill-opacity', 0.1);
        // Bring back the hovered over blob
        d3.select(this).transition().duration(200).style('fill-opacity', 0.7);
      }).on('mouseout', function () {
        // Bring back all blobs
        blobWrapper.selectAll('.radarArea').transition().duration(200).style('fill-opacity', cfg.opacityArea);
      });
      // .on('click', function () {
      //   const p = this.parentElement;
      //   if (p.previousSibling.className !== 'tooltip') {
      //     const group = g.node();
      //     group.insertBefore(p, group.querySelector('.tooltip'));
      //     const new_order = [];
      //     g.selectAll('.radarWrapper').each(d => new_order.push(d.name));
      //     new_order.reverse();
      //     updateLegend(new_order);
      //   }
      // });

      // Create the outlines
      blobWrapper.append('path').attr('class', 'radarStroke').attr('d', function (d) {
        return _this4.radarLine(d.axes);
      }).style('stroke-width', cfg.strokeWidth + 'px').style('stroke', function (d, i) {
        return cfg.color(i);
      }).style('fill', 'none').style('filter', 'url(#glow)');

      // Append the circles
      blobWrapper.selectAll('.radarCircle').data(function (d) {
        return d.axes;
      }).enter().append('circle').attr('class', 'radarCircle').attr('r', cfg.dotRadius).attr('cx', function (d, i) {
        return rScale(d.value) * math_cos(angleSlice * i - HALF_PI);
      }).attr('cy', function (d, i) {
        return rScale(d.value) * math_sin(angleSlice * i - HALF_PI);
      }).style('fill', function (d) {
        return cfg.color(d.id);
      }).style('fill-opacity', 0.8);

      // ///////////////////////////////////////////////////////
      // ////// Append invisible circles for tooltip ///////////
      // ///////////////////////////////////////////////////////

      // Wrapper for the invisible circles on top
      var blobCircleWrapper = g.selectAll('.radarCircleWrapper').data(this.data, function (d) {
        return d.name;
      }).enter().append('g').attr('id', function (d) {
        return d.name.indexOf(' ') > -1 ? 'ctx' : d.name;
      }).attr('class', 'radarCircleWrapper');

      // Append a set of invisible circles on top for the mouseover pop-up
      blobCircleWrapper.selectAll('.radarInvisibleCircle').data(function (d) {
        return d.axes;
      }).enter().append('circle').attr('class', 'radarInvisibleCircle').attr('r', cfg.dotRadius * 1.5).attr('cx', function (d, i) {
        return rScale(d.value) * math_cos(angleSlice * i - HALF_PI);
      }).attr('cy', function (d, i) {
        return rScale(d.value) * math_sin(angleSlice * i - HALF_PI);
      }).style('fill', 'none').style('pointer-events', 'all').on('mouseover', function (d) {
        g.select('.tooltip').attr('x', this.cx.baseVal.value - 10).attr('y', this.cy.baseVal.value - 10).transition().style('display', 'block').text(Format(d.value) + cfg.unit);
      }).on('mouseout', function () {
        g.select('.tooltip').transition().style('display', 'none').text('');
      });

      var tooltip = g.append('text').attrs({ class: 'tooltip', x: 0, y: 0, dy: '0.35em', 'text-anchor': 'middle' }).styles({ 'font-size': '12px', display: 'none' });

      this.legendZone = svg_bar$3.append('g').attrs({
        id: 'legendZone',
        class: 'legend',
        transform: 'translate(' + cfg.legend.translateX + ',' + (cfg.legend.translateY + 20) + ')'
      });
    }
  }, {
    key: 'update',
    value: function update() {
      var _this5 = this;

      var rScale = this.rScale;
      var maxValue = this.maxValue;
      var cfg = this.cfg;
      var angleSlice = this.angleSlice;
      // console.log(this.current_ids);
      // if (new_data) {
      //   const new_axis = new_data[0].axes.map(elem => elem.axis);
      //   if (!(JSON.stringify(new_axis) === JSON.stringify(this.allAxis))) {
      //     throw new Error('Expected element with same axes name than existing data.');
      //   }
      //   this.data = new_data;
      //   this.allAxis = new_axis;
      // } else {
      this.allAxis = this.data[0].axes.map(function (elem) {
        return elem.axis;
      });
      // }
      var update_axis = this.axisGrid.selectAll('.axis').data(this.allAxis);

      var t = this.g.selectAll('.radarWrapper').transition().duration(225);
      // .on('end', () => {
      //   parent.selectAll('text.legend')
      //     .text(d => d)
      //     .call(wrap, cfg.wrapWidth);
      //   // wrap(parent.selectAll('text.legend'), cfg.wrapWidth);
      // });
      update_axis.select('text.legend').attrs(function (d, i) {
        return {
          id: i,
          x: rScale(maxValue * cfg.labelFactor) * math_cos(angleSlice * i - HALF_PI),
          y: rScale(maxValue * cfg.labelFactor) * math_sin(angleSlice * i - HALF_PI)
        };
      }).text(function (d) {
        return d;
      }).call(wrap, cfg.wrapWidth);

      var update_blobWrapper = this.g.selectAll('.radarWrapper').data(this.data, function (d) {
        return d.name;
      });

      update_blobWrapper.select('.radarArea').transition(t).attr('d', function (d) {
        return _this5.radarLine(d.axes);
      });

      update_blobWrapper.select('.radarStroke').transition(t).attr('d', function (d) {
        return _this5.radarLine(d.axes);
      });

      var circle = update_blobWrapper.selectAll('.radarCircle').data(function (d) {
        return d.axes;
      });
      circle.transition(t).attrs(function (d, i) {
        return {
          cx: rScale(d.value) * math_cos(angleSlice * i - HALF_PI),
          cy: rScale(d.value) * math_sin(angleSlice * i - HALF_PI)
        };
      }).styles(function (d) {
        return {
          fill: cfg.color(d.id),
          'fill-opacity': 0.8
        };
      });

      console.log(this.g.selectAll('.radarCircleWrapper'));
      console.log(this.data);

      var update_blobCircleWrapper = this.g.selectAll('.radarCircleWrapper').data(this.data, function (d) {
        return d.name;
      });

      var invisibleCircle = update_blobCircleWrapper.selectAll('.radarInvisibleCircle').data(function (d) {
        return d.axes;
      });
      invisibleCircle.transition(t).attrs(function (d, i) {
        return {
          cx: rScale(d.value) * math_cos(angleSlice * i - HALF_PI),
          cy: rScale(d.value) * math_sin(angleSlice * i - HALF_PI)
        };
      });
    }
  }, {
    key: 'round_stroke',
    value: function round_stroke(val) {
      var _this6 = this;

      if (val === undefined) {
        return this.cfg.roundStrokes;
      } else if (val !== this.cfg.roundStrokes) {
        this.cfg.roundStrokes = val;
        this.radarLine = d3.radialLine().curve(this.cfg.roundStrokes ? d3.curveCardinalClosed : d3.curveLinearClosed).radius(function (d) {
          return _this6.rScale(d.value);
        }).angle(function (d, i) {
          return i * _this6.angleSlice;
        });
        this.update();
      }
      return val;
    }
  }, {
    key: 'bindMap',
    value: function bindMap(map_elem) {
      this.map_elem = map_elem;
      this.map_elem.resetColors(this.current_ids);
      this.updateMapRegio();
    }
  }, {
    key: 'remove',
    value: function remove() {
      this.table_stats.remove();
      this.table_stats = null;
      this.map_elem.unbindBrushClick();
      this.map_elem = null;
      svg_bar$3.html('');
    }
  }, {
    key: 'updateChangeRegion',
    value: function updateChangeRegion() {
      this.changeStudyZone();
    }
  }, {
    key: 'changeStudyZone',
    value: function changeStudyZone() {
      var _this7 = this;

      var old_my_region = this.id_my_region;
      var other_features = this.displayed_ids.filter(function (d) {
        return d !== old_my_region;
      });
      this.g.remove();
      this.g = svg_bar$3.append('g').attr('id', 'RadarGrp').attr('transform', 'translate(' + (this.cfg.w / 2 + this.cfg.margin.left) + ',' + (this.cfg.h / 2 + this.cfg.margin.top) + ')');

      this.id_my_region = app.current_config.my_region;
      this.prepareData(app.current_data);
      this.drawAxisGrid();
      this.drawArea();
      this.handleLegend();
      other_features.forEach(function (id) {
        var a = prepare_data_radar_ft(_this7.ref_data, _this7.variables, id);
        _this7.add_element(a);
      });
      this.updateMapRegio();
      this.updateTableStat();
    }
  }, {
    key: 'addVariable',
    value: function addVariable$$1(code_variable, name_variable) {
      var _this8 = this;

      var other_features = this.displayed_ids.filter(function (d) {
        return d !== _this8.id_my_region;
      });
      this.g.remove();
      this.g = svg_bar$3.append('g').attr('id', 'RadarGrp').attr('transform', 'translate(' + (this.cfg.w / 2 + this.cfg.margin.left) + ',' + (this.cfg.h / 2 + this.cfg.margin.top) + ')');

      this.prepareData(app.current_data);
      this.drawAxisGrid();
      this.drawArea();
      this.handleLegend();
      other_features.forEach(function (id) {
        var a = prepare_data_radar_ft(_this8.ref_data, _this8.variables, id);
        _this8.add_element(a);
      });
      this.updateMapRegio();
      this.updateTableStat();
    }
  }, {
    key: 'removeVariable',
    value: function removeVariable$$1(code_variable) {
      var _this9 = this;

      var other_features = this.displayed_ids.filter(function (d) {
        return d !== _this9.id_my_region;
      });
      this.g.remove();
      this.g = svg_bar$3.append('g').attr('id', 'RadarGrp').attr('transform', 'translate(' + (this.cfg.w / 2 + this.cfg.margin.left) + ',' + (this.cfg.h / 2 + this.cfg.margin.top) + ')');

      this.prepareData(app.current_data);
      this.drawAxisGrid();
      this.drawArea();
      this.handleLegend();
      other_features.forEach(function (id) {
        var a = prepare_data_radar_ft(_this9.ref_data, _this9.variables, id);
        _this9.add_element(a);
      });
      this.updateMapRegio();
      this.updateTableStat();
    }
  }, {
    key: 'prepareTableStat',
    value: function prepareTableStat() {
      var _this10 = this;

      var all_values = this.variables.map(function (v) {
        return _this10.ref_data.map(function (d) {
          return d[v];
        });
      });
      var my_region = this.ref_data.find(function (d) {
        return d.id === _this10.id_my_region;
      });
      var features = all_values.map(function (values, i) {
        return {
          Min: d3.min(values),
          Max: d3.max(values),
          Moyenne: getMean(values),
          id: _this10.variables[i],
          Variable: _this10.variables[i],
          'Ma rÃ©gion': my_region[_this10.variables[i]]
        };
      });
      return features;
    }
  }, {
    key: 'handleClickMap',
    value: function handleClickMap(d, parent) {
      var id = d.properties[app.current_config.id_field_geom];
      if (this.current_ids.indexOf(id) < 0 || id === this.id_my_region) return;
      if (this.displayed_ids.indexOf(id) < 0) {
        var a = prepare_data_radar_ft(this.ref_data, this.variables, id);
        this.add_element(a);
        this.update();
      } else {
        this.g.selectAll('#' + id + '.radarWrapper').remove();
        this.g.selectAll('#' + id + '.radarCircleWrapper').remove();
        var ix = this.data.map(function (_d, i) {
          return [i, _d.name === id];
        }).find(function (_d) {
          return _d[1] === true;
        });
        this.data.splice(ix, 1);
        this.displayed_ids = this.data.map(function (_d) {
          return _d.name;
        });
        this.update();
      }
      this.updateMapRegio();
    }
  }, {
    key: 'updateCompletude',
    value: function updateCompletude() {
      this.completude_value = calcPopCompletudeSubset(app, this.variables);
      this.completude.text('Compl\xE9tude : ' + this.completude_value + '%');
    }
  }, {
    key: 'updateMapRegio',
    value: function updateMapRegio() {
      var _this11 = this;

      if (!this.map_elem) return;
      this.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        return d.properties[app.current_config.id_field_geom] === _this11.id_my_region ? color_highlight : _this11.current_ids.indexOf(d.properties[app.current_config.id_field_geom]) > -1 ? _this11.displayed_ids.indexOf(d.properties[app.current_config.id_field_geom]) > -1 ? color_default_dissim : color_countries : color_disabled;
      });
    }
  }, {
    key: 'updateTableStat',
    value: function updateTableStat() {
      this.table_stats.removeAll();
      this.table_stats.addFeatures(this.prepareTableStat());
    }
  }, {
    key: 'makeTableStat',
    value: function makeTableStat() {
      var features = this.prepareTableStat();
      this.table_stats = new TableResumeStat(features);
    }
  }]);
  return RadarChart3;
}();

var svg_bar$4 = d3.select('#svg_bar');
var margin$4 = { top: 20, right: 20, bottom: 40, left: 40 };

var width$4 = +svg_bar$4.attr('width') - margin$4.left - margin$4.right;
var height$4 = +svg_bar$4.attr('height') - margin$4.top - margin$4.bottom;

/**
* Class representing some "special" bar chart, allowing to toogle the
* reprsentation between a simple bar chart (for **similarity**)
* and a grouped bar chart with negative value (for **dissimilarity**)
*/
var SimilarityChart = function () {
  /**
  * Create a the bar chart on the `svg_bar` svg element previously defined.
  * @param {Array} ref_data - A reference to the subset of the dataset to be used
  * to create the scatterplot (should contain at least two field flagged as ratio
  * in the `app.current_config.ratio` Object).
  */
  function SimilarityChart(ref_data) {
    var _this = this;

    classCallCheck(this, SimilarityChart);

    // Set the minimum number of variables to keep selected for this kind of chart:
    app.current_config.nb_var = 2;
    var x = d3.scaleBand().range([0, width$4]).padding(0.1);
    var x1 = d3.scaleBand().padding(0.05);
    var y = d3.scaleLinear().range([height$4, 0]);
    var z = d3.scaleOrdinal().range(shuffle(d3.schemeCategory10));
    var xAxis = d3.axisBottom(x);
    var yAxis = d3.axisLeft(y);
    this.x = x;
    this.x1 = x1;
    this.y = y;
    this.z = z;
    this.xAxis = xAxis;
    this.yAxis = yAxis;
    this.nb_display = 5;
    this.variables = app.current_config.ratio;
    this.current_type = 'global';
    // Filter the data against empty features:
    this.ref_data = ref_data.filter(function (ft) {
      return _this.variables.map(function (v) {
        return !!ft[v];
      }).every(function (v) {
        return v === true;
      });
    }).slice();
    // Standardize all variables:
    this.variables.forEach(function (v) {
      var serie = _this.ref_data.map(function (ft) {
        return ft[v];
      });
      var standardized = getStandardizedMeanStdDev(serie);
      var name_standardized = 'st_' + v;
      _this.ref_data.forEach(function (ft, i) {
        // eslint-disable-next-line no-param-reassign
        ft[name_standardized] = standardized[i];
      });
    });

    // Find value of my region:
    this.obj_my_region = this.ref_data.find(function (d) {
      return d.id === app.current_config.my_region;
    });

    this.ref_data.forEach(function (ft) {
      var s = _this.variables.map(function (v) {
        return math_pow(_this.obj_my_region['st_' + v] - ft['st_' + v], 2);
      }).reduce(function (a, b) {
        return a + b;
      }, 0);
      // eslint-disable-next-line no-param-reassign
      ft.dissimilarity = math_sqrt(s);
      _this.variables.forEach(function (v) {
        var var_name = 'ec_' + v;
        // eslint-disable-next-line no-param-reassign
        ft[var_name] = ft[v] / _this.obj_my_region[v] * 100 - 100;
      });
    });
    this.ref_data = this.ref_data.sort(function (a, b) {
      return a.dissimilarity - b.dissimilarity;
    });
    this.data = this.ref_data.slice(1, 1 + this.nb_display);

    this.current_ids = this.ref_data.map(function (d) {
      return d.id;
    });
    this.displayed_ids = this.data.map(function (d) {
      return d.id;
    });

    resetColors();

    svg_bar$4.append('defs').append('clipPath').attr('id', 'clip').append('rect').attrs({ width: width$4, height: height$4 });

    var plot = svg_bar$4.append('g').attr('transform', 'translate(' + margin$4.left + ', ' + margin$4.top + ')');

    this.plot = plot;

    var _max = d3.max(this.data, function (d) {
      return d.dissimilarity;
    });

    x.domain(this.displayed_ids);
    y.domain([0, _max + _max / 12]);

    plot.append('g').attrs({ class: 'axis axis--x', transform: 'translate(0, ' + height$4 + ')' }).call(xAxis);

    plot.select('.axis--x').selectAll('text').style('text-anchor', 'end').attrs({ dx: '-0.8em', dy: '0.15em', transform: 'rotate(-65)' });

    plot.append('g').attr('class', 'axis axis--y').call(yAxis);

    this.g_bar = plot.append('g').attr('id', 'bar');

    this.completude_value = calcPopCompletudeSubset(app, this.variables);

    this.completude = svg_bar$4.append('text').attrs({ id: 'chart_completude', x: 60, y: 40 }).styles({ 'font-family': '\'Signika\', sans-serif' }).text('Compl\xE9tude : ' + this.completude_value + '%');

    // Prepare the tooltip displayed on mouseover:
    var tooltip = prepareTooltip(svg_bar$4);

    // Create the section containing the input element allowing to chose
    // how many "close" regions we want to highlight.
    var menu_selection = d3.select(svg_bar$4.node().parentElement).append('div').attr('id', 'menu_selection').styles({ top: '-20px', 'margin-left': '30px', position: 'relative' });
    var selection_close = menu_selection.append('p').style('float', 'left');

    selection_close.append('span').property('value', 'close').attrs({ value: 'close', class: 'type_selection square checked' });
    selection_close.append('span').attrs({ class: 'label_chk' }).html('Les');
    selection_close.append('input').attrs({ class: 'nb_select', type: 'number' }).property('value', 5);
    selection_close.append('span').attrs({ class: 'label_chk' }).html('rÃ©gions les plus proches');

    var indice_kind = menu_selection.append('p').styles({
      float: 'right',
      display: 'inline-grid'
    });

    indice_kind.append('span').attrs({
      id: 'ind_global',
      class: 'choice_ind active'
    }).text('Indice global');

    indice_kind.append('span').attrs({
      id: 'ind_detail',
      class: 'choice_ind'
    }).text('Indices dÃ©taillÃ©s');

    this.makeGrid();
    this.bindMenu();
    this.update();
    this.makeTableStat();
  }

  createClass(SimilarityChart, [{
    key: 'makeGrid',
    value: function makeGrid() {
      this.plot.insert('g', '#bar').attr('class', 'grid grid-y').call(d3.axisLeft(this.y).tickSize(-width$4).tickFormat('')).selectAll('line, path').attr('stroke', 'lightgray');
    }
  }, {
    key: 'updateCompletude',
    value: function updateCompletude() {
      this.completude_value = calcPopCompletudeSubset(app, this.variables);
      this.completude.text('Compl\xE9tude : ' + this.completude_value + '%');
    }
  }, {
    key: 'updateContext',
    value: function updateContext(min, max) {
      this.context.selectAll('.bar').style('fill-opacity', function (_, i) {
        return i >= min && i < max ? '1' : '0.3';
      });
    }
  }, {
    key: 'update',
    value: function update() {
      var _this2 = this;

      var self = this;
      svg_bar$4.select('.tooltip').selectAll('text').text('');
      svg_bar$4.select('#title-axis-y').remove();
      if (this.current_type === 'global') {
        var _max = d3.max(this.data, function (d) {
          return d.dissimilarity;
        });
        this.x.domain(this.displayed_ids);
        this.y.domain([0, _max + _max / 12]);

        this.plot.select('#zero_line').remove();

        var bars = this.g_bar.selectAll('.bar').data(this.data, function (d) {
          return d.id;
        });

        bars.attrs(function (d) {
          return {
            x: _this2.x(d.id),
            y: _this2.y(d.dissimilarity),
            width: _this2.x.bandwidth(),
            height: height$4 - _this2.y(d.dissimilarity)
          };
        }).style('fill', color_default_dissim);

        bars.enter().insert('rect', '.mean').attrs(function (d) {
          return {
            class: 'bar',
            x: _this2.x(d.id),
            y: _this2.y(d.dissimilarity),
            width: _this2.x.bandwidth(),
            height: height$4 - _this2.y(d.dissimilarity)
          };
        }).style('fill', color_default_dissim).on('mouseover', function () {
          svg_bar$4.select('.tooltip').style('display', null);
        }).on('mouseout', function () {
          svg_bar$4.select('.tooltip').style('display', 'none');
        }).on('mousemove', function (d) {
          var tooltip = svg_bar$4.select('.tooltip');
          tooltip.select('rect').attrs({ width: 0, height: 0 });
          tooltip.select('text.id_feature').text(app.current_config.my_region + ' - ' + d.id);
          tooltip.select('text.value_feature1').text('Indice de dissimilarit\xE9 : ' + math_round(d.dissimilarity * 10) / 10);
          var b = tooltip.node().getBoundingClientRect();
          tooltip.select('rect').attrs({
            width: b.width + 20,
            height: b.height + 7.5
          });
          tooltip.attr('transform', 'translate(' + [d3.mouse(this)[0] - 5, d3.mouse(this)[1] - 25] + ')');
        });

        bars.exit().remove();

        var axis_x = this.plot.select('.axis--x').attr('font-size', function () {
          return _this2.nb_display > 75 ? 6 : 10;
        }).call(this.xAxis);

        axis_x.selectAll('text').attrs(function () {
          if (_this2.nb_display > 100) {
            return { dx: '-0.8em', dy: '0.15em', transform: 'rotate(-65)' };
          } else if (_this2.nb_display > 20) {
            return { dx: '-0.8em', dy: '0.15em', transform: 'rotate(-65)' };
          }
          return { dx: '0', dy: '0.71em', transform: null };
        }).style('text-anchor', function () {
          return _this2.nb_display > 20 ? 'end' : 'middle';
        });

        this.plot.select('.axis--y').call(this.yAxis);

        this.plot.select('.grid-y').call(d3.axisLeft(this.y).tickSize(-width$4).tickFormat('')).selectAll('line, path').attr('stroke', 'lightgray');

        svg_bar$4.append('text').attrs({
          id: 'title-axis-y',
          x: margin$4.left / 2,
          y: margin$4.top + height$4 / 2 - 10,
          transform: 'rotate(-90, ' + margin$4.left / 2 + ', ' + (margin$4.top + height$4 / 2) + ')'
        }).styles({ 'font-family': 'sans-serif', 'font-size': '12px', 'text-anchor': 'middle' }).text('Indice de dissimilaritÃ©');
      } else if (this.current_type === 'detail') {
        var keys = this.variables.map(function (v) {
          return 'ec_' + v;
        });
        this.x.domain(this.displayed_ids);
        this.x1.domain(keys).rangeRound([0, this.x.bandwidth()]);
        this.z.domain(keys);
        var mmin = d3.min(this.data, function (d) {
          return d3.min(keys, function (key) {
            return d[key];
          });
        });
        this.y.domain([mmin > 0 ? 0 : mmin, d3.max(this.data, function (d) {
          return d3.max(keys, function (key) {
            return d[key];
          });
        })]).nice();

        this.plot.select('#zero_line').remove();
        this.plot.insert('line').attrs({
          x1: 0,
          x2: width$4,
          y1: this.y(0),
          y2: this.y(0),
          'stroke-width': '1px',
          stroke: '#000',
          id: 'zero_line'
        });

        var _bars = this.g_bar.selectAll('.group_bar').data(this.data, function (d) {
          return d.id;
        });

        _bars.attr('transform', function (d) {
          return 'translate(' + _this2.x(d.id) + ', 0)';
        });

        _bars.selectAll('rect').attrs(function (d) {
          return {
            x: _this2.x1(d.key),
            y: _this2.y(Math.max(0, d.value)),
            width: _this2.x1.bandwidth(),
            height: Math.abs(_this2.y(d.value) - _this2.y(0)),
            fill: _this2.z(d.key)
          };
        });

        _bars.enter().append('g').attrs(function (d) {
          return {
            class: 'group_bar',
            transform: 'translate(' + _this2.x(d.id) + ', 0)'
          };
        }).selectAll('rect').data(function (d) {
          return keys.map(function (key) {
            return { key: key, value: d[key], value_ref: d[key.replace('ec_', '')], id: d.id };
          });
        }).enter().append('rect').attrs(function (d) {
          return {
            x: _this2.x1(d.key),
            y: _this2.y(Math.max(0, d.value)),
            width: _this2.x1.bandwidth(),
            height: Math.abs(_this2.y(d.value) - _this2.y(0)),
            fill: _this2.z(d.key)
          };
        }).on('mouseover', function () {
          svg_bar$4.select('.tooltip').style('display', null);
        }).on('mouseout', function () {
          svg_bar$4.select('.tooltip').style('display', 'none');
        }).on('mousemove', function (d) {
          var tooltip = svg_bar$4.select('.tooltip');
          var indic = d.key.replace('ec_', '');
          tooltip.select('rect').attrs({ width: 0, height: 0 });
          tooltip.select('text.id_feature').text(app.current_config.my_region + ' - ' + d.id);
          tooltip.select('text.value_feature1').text('Indicateur : ' + indic);
          tooltip.select('text.value_feature2').text(app.current_config.my_region + ' : ' + math_round(self.obj_my_region[indic] * 10) / 10);
          tooltip.select('text.value_feature3').text(d.id + ' : ' + math_round(d.value_ref * 10) / 10);
          tooltip.select('text.value_feature4').text('\xC9cart: ' + math_round(d.value * 10) / 10 + ' %');
          var tx = +this.parentElement.getAttribute('transform').replace('translate(', '').replace(', 0)', '');
          var b = tooltip.node().getBoundingClientRect();
          tooltip.select('rect').attrs({
            width: b.width + 20,
            height: b.height + 7.5
          });
          tooltip.attr('transform', 'translate(' + [d3.mouse(this)[0] - 5 + tx, d3.mouse(this)[1] - 72.5] + ')');
        });

        _bars.exit().remove();

        var _axis_x = this.plot.select('.axis--x').transition().call(d3.axisBottom(this.x));
        this.plot.select('.axis--y').transition().call(d3.axisLeft(this.y).ticks(null, 's'));

        this.plot.select('.grid-y').transition().call(d3.axisLeft(this.y).tickSize(-width$4).tickFormat('')).selectAll('line').attr('stroke', 'lightgray');

        _axis_x.selectAll('text').attrs(function () {
          if (_this2.nb_display > 18) {
            return {
              dx: '-0.8em',
              dy: '0.15em',
              transform: 'rotate(-65)',
              'font-size': _this2.nb_display > 45 ? '7.5px' : '9px' };
          }
          return { dx: '0', dy: '0.71em', transform: null };
        }).style('text-anchor', function () {
          return _this2.nb_display > 18 ? 'end' : 'middle';
        });

        _axis_x.selectAll('.tick > line').attrs({
          transform: 'translate(' + Math.ceil(width$4 / (this.displayed_ids.length * 2)) + ',0)',
          y1: 6,
          y2: -height$4
        }).styles({
          stroke: 'gray',
          'stroke-opacity': 0.4
        });
      }
    }
  }, {
    key: 'updateMapRegio',
    value: function updateMapRegio() {
      var _this3 = this;

      this.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        return _this3.current_ids.indexOf(d.properties[app.current_config.id_field_geom]) > -1 ? app.colors[d.properties[app.current_config.id_field_geom]] || color_countries : color_disabled;
      });
    }
  }, {
    key: 'updateChangeRegion',
    value: function updateChangeRegion() {
      this.changeStudyZone();
    }
  }, {
    key: 'changeStudyZone',
    value: function changeStudyZone() {
      var _this4 = this;

      this.variables = app.current_config.ratio;
      // Filter the data against empty features:
      this.ref_data = app.current_data.filter(function (ft) {
        return _this4.variables.map(function (v) {
          return !!ft[v];
        }).every(function (v) {
          return v === true;
        });
      }).slice();
      // Standardize all variables:
      this.variables.forEach(function (v) {
        var serie = _this4.ref_data.map(function (ft) {
          return ft[v];
        });
        var standardized = getStandardizedMeanStdDev(serie);
        var name_standardized = 'st_' + v;
        _this4.ref_data.forEach(function (ft, i) {
          // eslint-disable-next-line no-param-reassign
          ft[name_standardized] = standardized[i];
        });
      });

      // Find value of my region:
      this.obj_my_region = this.ref_data.find(function (d) {
        return d.id === app.current_config.my_region;
      });

      this.ref_data.forEach(function (ft) {
        var s = _this4.variables.map(function (v) {
          return math_pow(_this4.obj_my_region['st_' + v] - ft['st_' + v], 2);
        }).reduce(function (a, b) {
          return a + b;
        }, 0);
        // eslint-disable-next-line no-param-reassign
        ft.dissimilarity = math_sqrt(s);
        _this4.variables.forEach(function (v) {
          var var_name = 'ec_' + v;
          // eslint-disable-next-line no-param-reassign
          ft[var_name] = ft[v] / _this4.obj_my_region[v] * 100 - 100;
        });
      });
      this.ref_data = this.ref_data.sort(function (a, b) {
        return a.dissimilarity - b.dissimilarity;
      });
      this.data = this.ref_data.slice(1, 1 + this.nb_display);

      this.current_ids = this.ref_data.map(function (d) {
        return d.id;
      });
      this.displayed_ids = this.data.map(function (d) {
        return d.id;
      });
      app.colors = {};
      this.displayed_ids.forEach(function (_id) {
        app.colors[_id] = color_default_dissim;
      });
      app.colors[app.current_config.my_region] = color_highlight;
      this.updateCompletude();
      this.updateTableStats();
      this.updateMapRegio();
      this.update();
    }
  }, {
    key: 'applySelection',
    value: function applySelection(nb_value) {
      this.nb_display = nb_value;
      this.data = this.ref_data.slice(1, 1 + nb_value);
      this.displayed_ids = this.data.map(function (d) {
        return d.id;
      });
      app.colors = {};
      this.displayed_ids.forEach(function (_id) {
        app.colors[_id] = color_default_dissim;
      });
      app.colors[app.current_config.my_region] = color_highlight;
      this.updateMapRegio();
      this.update();
    }
  }, {
    key: 'bindMenu',
    value: function bindMenu() {
      var self = this;
      var menu = d3.select('#menu_selection');
      var applychange = function applychange() {
        var value = +this.value;
        if (value < 1) {
          this.value = 1;
          return;
        }
        if (self.current_type === 'global' && value > self.ref_data.length) {
          value = this.value = self.ref_data.length;
        } else if (self.current_type === 'detail' && value > 50) {
          value = this.value = 50;
        }
        self.applySelection(value);
      };
      menu.select('.nb_select').on('change', applychange);
      menu.select('.nb_select').on('wheel', applychange);
      menu.select('.nb_select').on('keyup', applychange);

      menu.select('#ind_global').on('click', function () {
        if (this.classList.contains('active')) {
          return;
        }
        self.current_type = 'global';
        this.classList.add('active');
        menu.select('#ind_detail').attr('class', 'choice_ind');
        self.g_bar.selectAll('g').remove();
        self.update();
      });

      menu.select('#ind_detail').on('click', function () {
        if (this.classList.contains('active')) {
          return;
        }
        self.current_type = 'detail';
        this.classList.add('active');
        menu.select('#ind_global').attr('class', 'choice_ind');
        self.g_bar.selectAll('rect').remove();
        self.update();
      });
    }
  }, {
    key: 'addVariable',
    value: function addVariable$$1(code_variable, name_variable) {
      this.g_bar.selectAll('rect, g').remove();
      this.changeStudyZone();
    }
  }, {
    key: 'removeVariable',
    value: function removeVariable$$1(code_variable) {
      this.g_bar.selectAll('rect, g').remove();
      this.changeStudyZone();
    }
  }, {
    key: 'changeVariable',
    value: function changeVariable(code_variable) {
      this.ratio_to_use = code_variable;
    }
  }, {
    key: 'remove',
    value: function remove() {
      this.plot.remove();
      this.table_stats.remove();
      this.table_stats = null;
      this.map_elem.unbindBrushClick();
      this.map_elem = null;
      svg_bar$4.html('');
    }
  }, {
    key: 'bindMap',
    value: function bindMap(map_elem) {
      this.map_elem = map_elem;
      this.map_elem.resetColors(this.current_ids);
      this.applySelection(5);

      // TODO : define in each chart was kind of tooltip to display on the map
      // this.map_elem.target_layer.selectAll('path')
      //   .on('mouseover', () => {
      //     svg_map.select('.tooltip')
      //       .style('display', null);
      //   })
      //   .on('mouseout', () => {
      //     svg_map.select('.tooltip')
      //       .style('display', 'none');
      //   })
      //   .on('mousemove', function (d) {
      //     const tooltip = svg_map.select('.tooltip');
      //     tooltip
      //       .select('text.id_feature')
      //       .text(`${d.properties[app.current_config.id_field_geom]}`);
      //     let _ix, nb_val;
      //     for (_ix = 0, nb_val = Math.min(app.current_config.ratio.length, 5); _ix < nb_val; _ix++) {
      //       tooltip.select(`text.value_feature${_ix + 1}`)
      //         .text(`${app.current_config.ratio_pretty_name[_ix]}: ${math_round(d.properties[app.current_config.ratio[_ix]] * 10) / 10}`);
      //     }
      //     tooltip
      //       .attr('transform', `translate(${[d3.mouse(this)[0] - 5, d3.mouse(this)[1] - 45 - _ix * 12]})`);
      //   });
    }
  }, {
    key: 'updateTableStats',
    value: function updateTableStats() {
      this.table_stats.removeAll();
      this.table_stats.addFeatures(this.prepareTableStat());
    }
  }, {
    key: 'prepareTableStat',
    value: function prepareTableStat() {
      var _this5 = this;

      var all_values = this.variables.map(function (v) {
        return _this5.ref_data.map(function (d) {
          return d[v];
        });
      });
      var my_region = this.ref_data.find(function (d) {
        return d.id === app.current_config.my_region;
      });
      var features = all_values.map(function (values, i) {
        return {
          Min: d3.min(values),
          Max: d3.max(values),
          Moyenne: getMean(values),
          id: _this5.variables[i],
          Variable: _this5.variables[i],
          'Ma rÃ©gion': my_region[_this5.variables[i]]
        };
      });
      return features;
    }
  }, {
    key: 'makeTableStat',
    value: function makeTableStat() {
      this.table_stats = new TableResumeStat(this.prepareTableStat());
    }
  }]);
  return SimilarityChart;
}();

var svg_bar$5 = d3.select('#svg_bar');
var margin$5 = { top: 20, right: 20, bottom: 40, left: 30 };

var width$5 = +svg_bar$5.attr('width') - margin$5.left - margin$5.right;
var height$5 = +svg_bar$5.attr('height') - margin$5.top - margin$5.bottom;

var Similarity1plus = function () {
  function Similarity1plus(ref_data) {
    var _this = this;

    classCallCheck(this, Similarity1plus);

    // Set the minimum number of variables to keep selected for this kind of chart:
    app.current_config.nb_var = 1;
    this.ratios = app.current_config.ratio;
    this.nums = app.current_config.num;
    this.my_region = ref_data.find(function (d) {
      return d.id === app.current_config.my_region;
    });
    this.data = ref_data.filter(function (ft) {
      return _this.ratios.map(function (v) {
        return !!ft[v];
      }).every(function (v) {
        return v === true;
      });
    }).slice();
    this.data.forEach(function (ft) {
      _this.ratios.forEach(function (v) {
        ft['dist_' + v] = math_abs(+ft[v] - +_this.my_region[v]);
      });
    });
    // this.data = ref_data.filter(ft => !!ft[ratio_to_use]).slice();
    // this.data
    //   .forEach((ft) => {
    //     // eslint-disable-next-line no-param-reassign
    //     ft.dist = math_abs(+ft[ratio_to_use] - this.my_region_value);
    //   });
    // this.data.sort((a, b) => b.dist - a.dist);
    this.current_ids = this.data.map(function (d) {
      return d.id;
    });
    resetColors();
    this.highlight_selection = [];
    this.serie_inversed = false;
    var draw_group = svg_bar$5.append('g').attr('transform', 'translate(' + margin$5.left + ', ' + margin$5.top + ')');
    draw_group.append('g').attrs({ class: 'axis axis--x', transform: 'translate(0, ' + height$5 / 2 + ')' });
    this.draw_group = draw_group;

    // Prepare the tooltip displayed on mouseover:
    prepareTooltip(svg_bar$5);

    // Compute the "complÃ©tude" value for this ratio:
    this.completude_value = calcPopCompletudeSubset(app, [this.ratio_to_use]);

    // Create the "complÃ©tude" text:
    this.completude = svg_bar$5.append('text').attrs({ id: 'chart_completude', x: 60, y: 40 }).styles({ 'font-family': '\'Signika\', sans-serif' }).text('Compl\xE9tude : ' + this.completude_value + '%');

    // Create the button allowing to choose
    // if the colors are inversed
    // (like green/red for superior/inferior regions)
    svg_bar$5.append('image').attrs({
      x: width$5 + margin$5.left + 5,
      y: 232.5,
      width: 15,
      height: 15,
      'xlink:href': 'img/reverse_plus.png',
      id: 'img_reverse'
    }).on('click', function () {
      _this.serie_inversed = !_this.serie_inversed;
      _this.applySelection(_this.highlight_selection.length);
    });

    // Create the section containing the input element allowing to chose
    // how many "close" regions we want to highlight.
    var selection_close = d3.select(svg_bar$5.node().parentElement).append('div').attr('id', 'menu_selection').styles({ top: '-100px', 'margin-left': '30px', position: 'relative' }).append('p');

    selection_close.append('span').property('value', 'close').attrs({ value: 'close', class: 'type_selection square checked' });
    selection_close.append('span').attrs({ class: 'label_chk' }).html('Les');
    selection_close.append('input').attrs({ class: 'nb_select', type: 'number' }).property('value', 5);
    selection_close.append('span').attrs({ class: 'label_chk' }).html('rÃ©gions les plus proches');

    this.bindMenu();

    // const header_bar_section = d3.select('#header_chart');
    //
    // this.selec_var = header_bar_section
    //   .insert('select', '#img_table')
    //   .attrs({ class: 'title_variable' })
    //   .styles({
    //     'font-family': '\'Signika\', sans-serif',
    //     'font-weight': '800',
    //     'font-size': '14px',
    //     'margin-top': '12px',
    //     'margin-left': '40px',
    //     float: 'left',
    //   });
    //
    // for (let i = 0, len_i = available_ratios.length; i < len_i; i++) {
    //   this.selec_var.append('option')
    //     .attr('value', available_ratios[i])
    //     .text(app.current_config.ratio_pretty_name[i]);
    // }
    //
    // this.selec_var.on('change', function () {
    //   const code_variable = this.value;
    //   self.changeVariable(code_variable);
    //   self.changeStudyZone();
    //   self.updateCompletude();
    // });

    this.makeTableStat();
  }

  createClass(Similarity1plus, [{
    key: 'applySelection',
    value: function applySelection(nb) {
      app.colors = {};
      if (nb > 0) {
        var ratio_to_use = this.ratio_to_use;

        this.highlight_selection = this.data.map(function (d) {
          return {
            dist: d.dist,
            ratio: +d[ratio_to_use],
            id: d.id
          };
        });

        this.highlight_selection.sort(function (a, b) {
          return a.dist - b.dist;
        });
        this.highlight_selection = this.highlight_selection.slice(1, nb + 1);
      } else {
        this.highlight_selection = [];
      }
      this.update();
      this.updateMapRegio();
    }
  }, {
    key: 'update',
    value: function update() {
      var _this2 = this;

      var self = this;
      var data = self.data;
      var highlight_selection = self.highlight_selection;
      var my_region_value = self.my_region_value;
      var ratio_to_use = self.ratio_to_use;
      var stock_to_use = self.stock_to_use;

      var _min = void 0;
      var _max = void 0;
      if (highlight_selection.length > 0) {
        var dist_min = math_abs(my_region_value - +d3.min(highlight_selection, function (d) {
          return d.ratio;
        }));
        var dist_max = math_abs(+d3.max(highlight_selection, function (d) {
          return d.ratio;
        }) - my_region_value);
        var dist_axis = Math.max(dist_min, dist_max);
        var margin_min_max = math_round(dist_axis) / 8;
        _min = my_region_value - dist_axis - margin_min_max;
        _max = my_region_value + dist_axis + margin_min_max;
        if (_min > _max) {
          console.log('a');var _ref = [_max, _min];
          _min = _ref[0];
          _max = _ref[1];
        }
      } else {
        var _dist_min = math_abs(my_region_value - d3.min(data, function (d) {
          return d[ratio_to_use];
        }));
        var _dist_max = math_abs(d3.max(data, function (d) {
          return d[ratio_to_use];
        }) - my_region_value);
        var _dist_axis = Math.max(_dist_min, _dist_max);
        var _margin_min_max = math_round(_dist_axis) / 8;
        _min = my_region_value - _dist_axis - _margin_min_max;
        _max = my_region_value + _dist_axis + _margin_min_max;
      }

      this.highlight_selection.forEach(function (elem) {
        app.colors[elem.id] = comp(elem.ratio, my_region_value, _this2.serie_inversed);
      });

      app.colors[app.current_config.my_region] = color_highlight;
      var prop_sizer = new PropSizer(d3.max(data, function (d) {
        return d[stock_to_use];
      }), 30);
      var xScale = d3.scaleLinear().domain([_min, _max]).range([0, width$5]);

      this.draw_group.select('g.axis--x').transition().duration(225).call(d3.axisBottom(xScale));

      var bubbles = this.draw_group.selectAll('.bubble').data(data, function (d) {
        return d.id;
      });

      bubbles.transition().duration(225).attrs(function (d) {
        var x_value = xScale(d[ratio_to_use]);
        if (x_value > width$5) x_value = width$5 + 200;else if (x_value < 0) x_value = -200;
        return {
          cx: x_value,
          cy: height$5 / 2,
          r: prop_sizer.scale(d[stock_to_use])
        };
      }).styles(function (d) {
        return {
          fill: app.colors[d.id] || color_countries,
          'fill-opacity': d.id === app.current_config.my_region ? 1 : app.colors[d.id] ? 0.7 : 0.3,
          stroke: 'darkgray',
          'stroke-width': 0.75,
          'stroke-opacity': 0.75
        };
      });

      bubbles.enter().insert('circle').styles(function (d) {
        return {
          fill: app.colors[d.id] || color_countries,
          'fill-opacity': d.id === app.current_config.my_region ? 1 : app.colors[d.id] ? 0.7 : 0.3,
          stroke: 'darkgray',
          'stroke-width': 0.75,
          'stroke-opacity': 0.75
        };
      }).transition().duration(225).attrs(function (d) {
        var x_value = xScale(d[ratio_to_use]);
        if (x_value > width$5) x_value = width$5 + 200;else if (x_value < 0) x_value = -200;
        return {
          class: 'bubble',
          cx: x_value,
          cy: height$5 / 2,
          r: prop_sizer.scale(d[stock_to_use])
        };
      }).on('end', function () {
        _this2.draw_group.selectAll('.bubble').on('mouseover', function () {
          svg_bar$5.select('.tooltip').style('display', null);
        }).on('mouseout', function () {
          svg_bar$5.select('.tooltip').style('display', 'none');
        }).on('mousemove', function (d) {
          var tooltip = svg_bar$5.select('.tooltip');
          var _ratio_to_use = self.ratio_to_use;
          var _stock_to_use = self.stock_to_use;
          tooltip.select('rect').attrs({ width: 0, height: 0 });
          tooltip.select('text.id_feature').text('' + d.id);
          tooltip.select('text.value_feature1').text('Ratio: ' + Math.round(d[_ratio_to_use] * 10) / 10);
          tooltip.select('text.value_feature2').text('Stock: ' + Math.round(d[_stock_to_use] * 10) / 10);
          var b = tooltip.node().getBoundingClientRect();
          tooltip.select('rect').attrs({
            width: b.width + 20,
            height: b.height + 7.5
          });
          tooltip.attr('transform', 'translate(' + [d3.mouse(this)[0] - 5, d3.mouse(this)[1] - 45] + ')');
        });
      });
      bubbles.exit().transition().duration(225).remove();
    }
  }, {
    key: 'updateCompletude',
    value: function updateCompletude() {
      this.completude_value = calcPopCompletudeSubset(app, [this.ratio_to_use]);

      this.completude.text('Compl\xE9tude : ' + this.completude_value + '%');
    }
  }, {
    key: 'updateMapRegio',
    value: function updateMapRegio() {
      var _this3 = this;

      if (!this.map_elem) return;
      this.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        return _this3.current_ids.indexOf(d.properties[app.current_config.id_field_geom]) > -1 ? app.colors[d.properties[app.current_config.id_field_geom]] || color_countries : color_disabled;
      });
    }
  }, {
    key: 'handleClickMap',
    value: function handleClickMap(d, parent) {
      var id = d.properties[app.current_config.id_field_geom];
      if (this.current_ids.indexOf(id) < 0 || id === app.current_config.my_region) return;
      if (app.colors[id] !== undefined) {
        // Remove the clicked feature from the colored selection on the chart:
        var id_to_remove = this.highlight_selection.map(function (ft, i) {
          return ft.id === id ? i : null;
        }).filter(function (ft) {
          return ft;
        })[0];
        this.highlight_selection.splice(id_to_remove, 1);
        // Change its color in the global colors object:
        app.colors[id] = undefined;
        // Change the color on the map:
        d3.select(parent).attr('fill', color_countries);
      } else {
        var value = +d.properties[this.ratio_to_use];
        var color = comp(value, this.my_region_value, this.serie_inversed);
        // app.colors[id] = color;
        // Change the color on the map:
        d3.select(parent).attr('fill', color);
        // Add the clicked feature on the colored selection on the chart:
        this.highlight_selection.push({
          id: id,
          ratio: value,
          dist: math_abs(value - this.my_region_value)
        });
      }
      this.highlight_selection.sort(function (a, b) {
        return a.dist - b.dist;
      });
      this.update();
    }
  }, {
    key: 'updateChangeRegion',
    value: function updateChangeRegion() {
      var _this4 = this;

      if (app.current_config.filter_key !== undefined) {
        this.changeStudyZone();
      } else {
        this.map_elem.updateLegend();
        this.my_region_value = this.data.find(function (d) {
          return d.id === app.current_config.my_region;
        })[this.ratio_to_use];
        this.data.forEach(function (ft) {
          // eslint-disable-next-line no-param-reassign
          ft.dist = math_abs(+ft[_this4.ratio_to_use] - _this4.my_region_value);
        });
        this.updateTableStats();
        this.applySelection(this.highlight_selection.length);
      }
    }
  }, {
    key: 'changeStudyZone',
    value: function changeStudyZone() {
      var _this5 = this;

      this.map_elem.updateLegend();
      this.my_region_value = app.current_data.find(function (d) {
        return d.id === app.current_config.my_region;
      })[this.ratio_to_use];
      this.data = app.current_data.filter(function (ft) {
        return !!ft[_this5.ratio_to_use];
      }).slice();
      this.data.forEach(function (ft) {
        // eslint-disable-next-line no-param-reassign
        ft.dist = math_abs(+ft[_this5.ratio_to_use] - _this5.my_region_value);
      });
      this.data.sort(function (a, b) {
        return b.dist - a.dist;
      });
      this.current_ids = this.data.map(function (d) {
        return d.id;
      });
      var temp = this.highlight_selection.length;
      this.highlight_selection = [];
      this.updateTableStats();
      this.applySelection(temp);
    }
  }, {
    key: 'changeVariable',
    value: function changeVariable(code_variable) {
      this.ratio_to_use = code_variable;
      this.stock_to_use = exports.variables_info.find(function (d) {
        return d.ratio === code_variable;
      }).num;
    }
  }, {
    key: 'addVariable',
    value: function addVariable$$1(code_variable, name_variable) {
      // Add the variable to the input element allowing to choose variables:
      this.selec_var.append('option').attr('value', code_variable).text(name_variable);

      // And use it immediatly:
      this.selec_var.node().value = code_variable;
      this.selec_var.dispatch('change');
    }
  }, {
    key: 'removeVariable',
    value: function removeVariable$$1(code_variable) {
      // Add the variable to the input element allowing to choose variables:
      this.selec_var.select('option[value=' + code_variable + ']').remove();
      if (this.ratio_to_use === code_variable) {
        this.selec_var.node().value = this.selec_var.select('option').node().value;
        this.selec_var.dispatch('change');
      }
    }
  }, {
    key: 'bindMenu',
    value: function bindMenu() {
      var self = this;
      var menu = d3.select('#menu_selection');
      var applychange = function applychange() {
        // self.map_elem.removeRectBrush();
        var value = +this.value;
        if (value < 1) {
          this.value = 1;
          return;
        }
        self.applySelection(value);
      };
      menu.select('.nb_select').on('change', applychange);
      menu.select('.nb_select').on('wheel', applychange);
      menu.select('.nb_select').on('keyup', applychange);
    }
  }, {
    key: 'remove',
    value: function remove() {
      this.map_elem.unbindBrushClick();
      this.map_elem = null;
      this.table_stats.remove();
      this.table_stats = null;
      this.selec_var.remove();
      svg_bar$5.html('');
    }
  }, {
    key: 'bindMap',
    value: function bindMap(map_elem) {
      this.map_elem = map_elem;
      this.map_elem.resetColors(this.current_ids);
      this.update();
    }
  }, {
    key: 'updateTableStats',
    value: function updateTableStats() {
      this.table_stats.removeAll();
      this.table_stats.addFeature(this.prepareTableStat());
    }
  }, {
    key: 'prepareTableStat',
    value: function prepareTableStat() {
      var _this6 = this;

      var values = this.data.map(function (d) {
        return d[_this6.ratio_to_use];
      });
      return {
        Min: d3.min(values),
        Max: d3.max(values),
        Moyenne: getMean(values),
        id: this.ratio_to_use,
        Variable: this.ratio_to_use,
        'Ma rÃ©gion': this.my_region_value
      };
    }
  }, {
    key: 'makeTableStat',
    value: function makeTableStat() {
      var feature = this.prepareTableStat();
      this.table_stats = new TableResumeStat([feature]);
    }
  }]);
  return Similarity1plus;
}();

// import debug from 'debug';
// import { BoxPlot1 } from './modules/charts/boxPlot_1v';
// import { ParallelCoords2 } from './modules/charts/parallelCoords_2v';
exports.variables_info = void 0;

var study_zones = [{ id: 'no_filter', name: 'UE28' }, { id: 'filter_FR', name: 'Filtre national (France)' }, { id: 'filter_param2', name: 'Espace de comparaison nÂ°2' }, { id: 'filter_dist', name: 'RÃ©gion dans un rayon de ' }];

var territorial_mesh = [{ id: 'NUTS1', name: 'NUTS1' }, { id: 'NUTS12stat', name: 'NUTS1/2 (statistique)' }];

var app = {
  // A mapping id -> color, containing the color to use for each
  // feature not using the default color or the disabled color
  colors: {},
  // The filtered dataset (acccording to: the current territorial level,
  // the filter key (if any) and the ratio(s) selected on the left menu:
  current_data: [],
  // The full dataset provided (containing all the features at any level in one table)
  // Row without data are expected to be empty or to contain the "NA" string.
  full_dataset: [],
  // The ids of the current feature in use (acccording to: the current territorial level,
  // the filter key (if any) and the ratio(s) used in the current chart; filtered
  // to not contain feature with empty ratio values within the ratios in use).
  current_ids: []
};

function setDefaultConfig() {
  var code = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'FRE';
  var variable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'RT_CHOM_1574';
  // }, level = 'NUTS1') {
  app.current_config = {
    // The name of the field of the dataset containing the ID of each feature:
    id_field: 'geo',
    // The name of the field of the dataset containing the name of each feature:
    name_field: 'Nom',
    // The name of the field of the dataset containing the population of each feature:
    pop_field: 'POP_AGE_T_2016',
    // The name of the field of the geojson layer containing the ID of each feature
    // (these values should match with the values of the "id_field" in the
    // tabular dataset)
    id_field_geom: 'NUTS1_2016',
    num: ['CHOM_1574_2016'],
    denum: ['ACT_1574_2016'],
    ratio: [variable],
    ratio_pretty_name: ['Taux de chÃ´mage (15-74 ans) (2016)'],
    // The level currently in use:
    current_level: 1,
    // The ID of the region currently in use:
    my_region: code,
    // The name of the region currently in use:
    my_region_pretty_name: app.feature_names[code],
    // How many ratio on the current chart:
    nb_var: 1
  };
  app.colors[app.current_config.my_region] = color_highlight;
}

function setDefaultConfigMenu() {
  var code = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'FRE';
  var variable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'RT_CHOM_1574';
  var level = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'NUTS1';

  document.querySelector('.target_region.square[value="' + code + '"]').classList.add('checked');
  document.querySelector('.target_variable.small_square[value="' + variable + '"]').classList.add('checked');
  document.querySelector('.filter_v.square[filter-value="no_filter"]').classList.add('checked');
  document.querySelector('.territ_level.square[value="' + level + '"]').classList.add('checked');
}

function resetColors() {
  app.colors = {};
  // for (let i = 0, len_i = current_ids.length; i < len_i; i++) {
  //   app.colors[current_ids[i]] = color_countries;
  // }
  app.colors[app.current_config.my_region] = color_highlight;
}

/**
* Function to select the first variable on the left menu
* (triggered after changing region, if no more variable was selected)
*
* @return {void}
*/
function selectFirstAvailableVar() {
  var menu = document.querySelector('#menu');
  var v = menu.querySelectorAll('.target_variable');
  for (var i = 0; i < v.length; i++) {
    if (!v[i].classList.contains('disabled')) {
      v[i].classList.add('checked');
      return v[i].getAttribute('value');
    }
  }
}

/**
* Function to update the availables ratios in the left menu (after changing region)
* If a selected variable is not available anymore it will be deselected.
* If there selected variable (all the previously selected variables are unavailable for this region)
* the first variable on the menu will be selected.
* If the new number of selected feature is inferior to the number of variables on the current
* chart, a new chart (suitable for only 1 variable) will be selected.
*
*
* @param {String} my_region - The ID of the newly selected region.
* @return {Number} - The new number of selected ratios.
*
*/
function updateAvailablesRatios(my_region) {
  var data_my_feature = app.full_dataset.filter(function (ft) {
    return ft[app.current_config.id_field] === my_region;
  })[0];
  var menu = document.querySelector('#menu');
  var lines = menu.querySelectorAll('.target_variable');
  for (var i = 0, nb_lines = lines.length; i < nb_lines; i++) {
    var code_variable = lines[i].getAttribute('value');
    if (data_my_feature[code_variable] !== undefined && data_my_feature[code_variable] !== 'NA') {
      lines[i].classList.remove('disabled');
      lines[i].nextSibling.classList.remove('disabled');
    } else {
      lines[i].classList.remove('checked');
      lines[i].classList.add('disabled');
      lines[i].nextSibling.classList.add('disabled');
    }
  }
  var new_var = menu.querySelectorAll('.target_variable.checked');
  if (new_var.length !== app.current_config.ratio.length) {
    var new_var_names = void 0;
    if (new_var.length === 0) {
      var name = selectFirstAvailableVar();
      new_var_names = [name];
    } else {
      new_var_names = Array.prototype.slice.call(new_var).map(function (elem) {
        return elem.getAttribute('value');
      });
    }
    resetVariables(app, new_var_names);
  }
  return new_var.length;
}

/**
* Create handlers for user event on the left menu and on the map for charts only
* allowing to use 1 variable.
*
* @param {Object} chart - The chart object.
* @param {Object} map_elem - The map object.
* @return {void}
*
*/
function bindUI_chart(chart, map_elem) {
  // User change the study zone:
  d3.selectAll('span.filter_v').on('click', function () {
    if (!this.classList.contains('checked')) {
      d3.selectAll('span.filter_v').attr('class', 'filter_v square');
      this.classList.add('checked');
      var filter_type = this.getAttribute('filter-value');
      if (filter_type === 'filter_dist') {
        var input_elem = document.getElementById('dist_filter');
        input_elem.removeAttribute('disabled');
        var dist = +input_elem.value;
        var ids = map_elem.getUnitsWithin(dist);
        applyFilter(app, ids);
      } else {
        document.getElementById('dist_filter').setAttribute('disabled', 'disabled');
        applyFilter(app, filter_type);
      }
      makeTable(app.current_data, app.current_config);
      chart.changeStudyZone();
      chart.updateCompletude();
    }
  });

  d3.select('#dist_filter').on('change, keyup', function () {
    var ids = map_elem.getUnitsWithin(+this.value);
    applyFilter(app, ids);
    makeTable(app.current_data, app.current_config);
    chart.changeStudyZone();
    chart.updateCompletude();
  });

  // User change the targeted region:
  d3.selectAll('span.target_region').on('click', function () {
    if (!this.classList.contains('checked')) {
      d3.selectAll('span.target_region').attr('class', 'target_region square');
      this.classList.add('checked');
      var id_region = this.getAttribute('value');
      changeRegion(app, id_region, map_elem);
      // Update the availables ratio on the left menu
      // (this may change the current selected ratio(s) as some variables are
      // not available for some features) and fetch the number of selected
      // variables after that:
      var new_nb_var = updateAvailablesRatios(id_region);
      if (new_nb_var >= app.current_config.nb_var) {
        chart.updateChangeRegion();
      } else {
        // If there fewer selected variables than requested by the current chart,
        // redraw the first (default) kind of chart:
        d3.select('span.chart_t1[value="BarChart1"]').dispatch('click');
      }
    }
  });

  // User click on the name of a group of variables
  // to expand or collapse its content:
  d3.selectAll('.name_group_var').on('click', function () {
    var group_var = this.nextSibling;
    if (group_var.style.display === 'none') {
      group_var.style.display = null;
    } else {
      group_var.style.display = 'none';
    }
  });

  // User click to add/remove a variable from the comparison:
  d3.selectAll('span.target_variable').on('click', function () {
    if (this.classList.contains('disabled')) return;
    var nb_var = Array.prototype.slice.call(document.querySelectorAll('span.target_variable')).filter(function (elem) {
      return !!elem.classList.contains('checked');
    }).length;
    // Select a new variable and trigger the appropriate changes on the current chart:
    if (!this.classList.contains('checked')) {
      // We don't want the user to be able to select more than 8 variables simultaneously:
      if (nb_var >= 8) return;
      this.classList.add('checked');
      var code_variable = this.getAttribute('value');
      var name_variable = exports.variables_info.find(function (d) {
        return d.ratio === code_variable;
      }).name;
      addVariable(app, code_variable);
      makeTable(app.current_data, app.current_config);
      chart.addVariable(code_variable, name_variable);
      nb_var += 1;
    } else {
      // Remove a variable from the selection:
      nb_var -= 1;
      // We don't want to let the user remove the variable if
      // it's the only one selected or if the currently displayed
      // chart need a minimum number of variables:
      if (nb_var < app.current_config.nb_var) {
        return;
      }
      var _code_variable = this.getAttribute('value');
      this.classList.remove('checked');
      removeVariable(app, _code_variable);
      chart.removeVariable(_code_variable);
      makeTable(app.current_data, app.current_config);
    }
    // Update the top menu to display available charts according to the current
    // number of available variables:
    if (nb_var === 1) {
      // Allow all kind of vizu with 1 variable:
      d3.selectAll('.chart_t1').attr('class', 'type_chart chart_t1');
      d3.selectAll('.chart_t2').attr('class', 'type_chart chart_t2 disabled');
      d3.selectAll('.chart_t3').attr('class', 'type_chart chart_t3 disabled');
    } else if (nb_var === 2) {
      // Allow all kind of vizu with 2 variables:
      d3.selectAll('.chart_t2').attr('class', 'type_chart chart_t2');
      d3.selectAll('.chart_t3').attr('class', 'type_chart chart_t3 disabled');
    } else if (nb_var > 2) {
      // Allow all kind of vizu with 3 variables:
      d3.selectAll('.chart_t2').attr('class', 'type_chart chart_t2');
      d3.selectAll('.chart_t3').attr('class', 'type_chart chart_t3');
    }
  });

  // Dispatch a click event on the associated checkbox when the text is clicked:
  d3.selectAll('span.label_chk').on('click', function () {
    this.previousSibling.click();
  });

  var header_map_section = d3.select('#map_section > #header_map');

  header_map_section.select('#img_rect_selec').on('click', function () {
    if (!this.classList.contains('active')) {
      this.classList.add('active');
      document.getElementById('img_map_zoom').classList.remove('active');
      document.getElementById('img_map_select').classList.remove('active');
      svg_map.on('.zoom', null);
      if (map_elem.brush_map) {
        svg_map.select('.brush_map').style('display', null);
      }
      map_elem.target_layer.selectAll('path').on('click', null);
    }
  });

  header_map_section.select('#img_map_zoom').on('click', function () {
    if (!this.classList.contains('active')) {
      this.classList.add('active');
      document.getElementById('img_rect_selec').classList.remove('active');
      document.getElementById('img_map_select').classList.remove('active');
      svg_map.call(map_elem.zoom_map);
      if (map_elem.brush_map) {
        svg_map.select('.brush_map').call(map_elem.brush_map.move, null);
        svg_map.select('.brush_map').style('display', 'none');
      }
      map_elem.target_layer.selectAll('path').on('click', null);
    }
  });

  header_map_section.select('#img_map_select').on('click', function () {
    if (!this.classList.contains('active')) {
      this.classList.add('active');
      document.getElementById('img_rect_selec').classList.remove('active');
      document.getElementById('img_map_zoom').classList.remove('active');
      svg_map.on('.zoom', null);
      if (map_elem.brush_map) {
        svg_map.select('.brush_map').call(map_elem.brush_map.move, null);
        svg_map.select('.brush_map').style('display', 'none');
      }
      map_elem.target_layer.selectAll('path').on('click', function (d) {
        chart.handleClickMap(d, this);
      });
    }
  });

  if (!map_elem.brush_map) {
    if (chart.handleClickMap) {
      map_elem.target_layer.selectAll('path').on('click', function (d) {
        chart.handleClickMap(d, this);
      });
    } else {
      map_elem.target_layer.selectAll('path').on('click', null);
    }
  }

  var header_table_section = d3.select('#map_section').insert('p', 'svg').attr('id', 'header_table').styles({ display: 'none', margin: 'auto', 'text-align': 'right' });

  header_table_section.append('span').attr('class', 'button_blue').html('CSV').on('click', function () {
    var content = ['id,NumÃ©rateur,DÃ©nominateur,Ratio,Rang\r\n', app.current_data.map(function (d) {
      return [d.id, d.num, d.denum, d.ratio, d.rang].join(',');
    }).join('\r\n')].join('');
    var elem = document.createElement('a');
    elem.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(content));
    elem.setAttribute('download', 'table.csv');
    elem.style.display = 'none';
    document.body.appendChild(elem);
    elem.click();
    document.body.removeChild(elem);
  });
  bindTopButtons(chart, map_elem);
}

/**
* Function to handle click on the top menu, in order to choose
* the kind of availables representation
*
* @param {Object} chart -
* @param {Object} map_elem -
* @return {void}
*/
function bindTopButtons(chart, map_elem) {
  d3.selectAll('.type_chart').on('click', function () {
    if (this.classList.contains('disabled')) return;
    chart.remove();
    chart = null; // eslint-disable-line no-param-reassign
    unbindUI();
    map_elem.resetZoom();
    app.colors = {};
    var value = this.getAttribute('value');
    if (value === 'BarChart1') {
      console.log('BarChart1');
      makeTable(app.current_data, app.current_config);
      chart = new BarChart1(app.current_data); // eslint-disable-line no-param-reassign
      bindUI_chart(chart, map_elem);
      map_elem.bindBrushClick(chart);
      chart.bindMap(map_elem);
    } else if (value === 'BubbleChart1') {
      console.log('BubbleChart1');
      makeTable(app.current_data, app.current_config);
      chart = new BubbleChart1(app.current_data); // eslint-disable-line no-param-reassign
      bindUI_chart(chart, map_elem);
      map_elem.bindBrushClick(chart);
      chart.bindMap(map_elem);
    } else if (value === 'ScatterPlot2') {
      console.log('ScatterPlot2');
      makeTable(app.current_data, app.current_config);
      chart = new ScatterPlot2(app.current_data); // eslint-disable-line no-param-reassign
      bindUI_chart(chart, map_elem);
      map_elem.bindBrushClick(chart);
      chart.bindMap(map_elem);
    } else if (value === 'RadarChart3') {
      console.log('RadarChart3');
      makeTable(app.current_data, app.current_config);
      chart = new RadarChart3(app.current_data);
      bindUI_chart(chart, map_elem);
      map_elem.bindBrushClick(chart);
      chart.bindMap(map_elem);
    } else if (value === 'SimilarityChart') {
      console.log('SimilarityChart');
      makeTable(app.current_data, app.current_config);
      chart = new SimilarityChart(app.current_data);
      bindUI_chart(chart, map_elem);
      map_elem.bindBrushClick(chart);
      chart.bindMap(map_elem);
    } else if (value === 'Similarity1plus') {
      console.log('Similarity1plus');
      makeTable(app.current_data, app.current_config);
      chart = new Similarity1plus(app.current_data);
      bindUI_chart(chart, map_elem);
      map_elem.bindBrushClick(chart);
      chart.bindMap(map_elem);
    }
    //  else if (value === 'ParallelCoords2') {
    //   console.log('ParallelCoords2');
    //   // makeTable(app.current_data, app.current_config);
    //   chart = new ParallelCoords2(app.current_data);
    //   bindUI_chart(chart, map_elem);
    //   map_elem.bindBrushClick(chart);
    //   chart.bindMap(map_elem);
    // } else if (value === 'BoxPlot1') {
    //   console.log('BoxPlot1');
    //   makeTable(app.current_data, app.current_config);
    //   chart = new BoxPlot1(app.current_data);
    //   bindUI_chart(chart, map_elem);
    //   map_elem.bindBrushClick(chart);
    //   chart.bindMap(map_elem);
    // }
  });
}

function loadData() {
  d3.queue(4).defer(d3.csv, 'data/REGIOVIZ_DATA.csv').defer(d3.json, 'data/cget-nuts1-3035.geojson').defer(d3.json, 'data/countries3035.geojson').defer(d3.json, 'data/remote3035.geojson').defer(d3.json, 'data/template3035.geojson').defer(d3.json, 'data/sea_boxes.geojson').defer(d3.csv, 'data/indicateurs_meta.csv').defer(d3.csv, 'data/nuts2_aggreg.csv').awaitAll(function (error, results) {
    if (error) throw error;

    var _results = slicedToArray(results, 8),
        full_dataset = _results[0],
        nuts1 = _results[1],
        countries = _results[2],
        remote = _results[3],
        template = _results[4],
        seaboxes = _results[5],
        metadata_indicateurs = _results[6],
        agg_n2 = _results[7];

    app.agg_n2 = agg_n2;
    exports.variables_info = prepareVariablesInfo(metadata_indicateurs);
    prepare_dataset(full_dataset, app);
    setDefaultConfig('FRB', 'RT_CHOM_1574', 'NUTS1');
    var features_menu = full_dataset.filter(function (ft) {
      return ft.geo.indexOf('FR') > -1 && +ft.level === app.current_config.current_level;
    });
    createMenu(features_menu, exports.variables_info, study_zones, territorial_mesh);
    bindHelpMenu();
    makeTopMenu();
    makeHeaderChart();
    setDefaultConfigMenu('FRB', 'RT_CHOM_1574', 'NUTS1');
    filterLevelVar(app);
    console.log(app);
    var map_elem = new MapSelect(nuts1, countries, remote, template, seaboxes);
    var chart = new BarChart1(app.current_data);
    makeTable(app.current_data, app.current_config);
    makeHeaderMapSection();
    makeSourceSection();
    makeMapLegend();
    bindUI_chart(chart, map_elem);
    map_elem.bindBrushClick(chart);
    chart.bindMap(map_elem);
  });
}

function bindHelpMenu() {
  var help_buttons_var = document.querySelector('#menu_variables').querySelectorAll('span.i_info');
  Array.prototype.slice.call(help_buttons_var).forEach(function (btn_i) {
    // eslint-disable-next-line no-param-reassign
    btn_i.onclick = function () {
      var code_variable = this.previousSibling.previousSibling.getAttribute('value');
      var o = exports.variables_info.find(function (d) {
        return d.ratio === code_variable;
      });
      // eslint-disable-next-line new-cap
      var modal = new tingle_min.modal({
        stickyFooter: false,
        closeMethods: ['overlay', 'button', 'escape'],
        closeLabel: 'Close',
        onOpen: function onOpen() {
          document.querySelector('div.tingle-modal.tingle-modal--visible').style.background = 'rgba(0,0,0,0.4)';
        },
        onClose: function onClose() {
          modal.destroy();
        }
      });
      modal.setContent('<p style="font-family: \'Signika\',sans-serif;color: #4f81bd;font-size: 1.3rem;">Description de l\'indicateur</p>\n        <p style="font-family: \'Signika\',sans-serif;text-align: justify;">' + o.methodo.split('\n').join('<br>') + '</p>\n        <p style="font-family: \'Signika\',sans-serif;font-size: 0.8em">' + o.source + '</p>\n        <p style="font-family: \'Signika\',sans-serif;font-size: 0.8em">Date de t\xE9l\xE9chargement de la donn\xE9es : ' + o.last_update + '</p>');
      modal.open();
    };
  });

  var helps_buttons_study_zone = document.querySelector('#menu_studyzone').querySelectorAll('span.i_info');
  Array.prototype.slice.call(helps_buttons_study_zone).forEach(function (btn_i) {
    // eslint-disable-next-line no-param-reassign
    btn_i.onclick = function () {
      var filter_name = this.previousSibling.previousSibling.getAttribute('filter-value');
      // eslint-disable-next-line new-cap
      var modal = new tingle_min.modal({
        stickyFooter: false,
        closeMethods: ['overlay', 'button', 'escape'],
        closeLabel: 'Close',
        onOpen: function onOpen() {
          document.querySelector('div.tingle-modal.tingle-modal--visible').style.background = 'rgba(0,0,0,0.4)';
        },
        onClose: function onClose() {
          modal.destroy();
        }
      });
      modal.setContent('<p style="font-family: \'Signika\',sans-serif;color: #4f81bd;font-size: 1.3rem;">M\xE9thodologie</p>\n        <p style="font-family: \'Signika\',sans-serif;text-align: justify;">' + filter_name + '</p>');
      modal.open();
    };
  });

  var helps_buttons_territ_unit = document.querySelector('#menu_territ_level').querySelectorAll('span.i_info');
  Array.prototype.slice.call(helps_buttons_territ_unit).forEach(function (btn_i) {
    // eslint-disable-next-line no-param-reassign
    btn_i.onclick = function () {
      var territ_level_name = this.previousSibling.previousSibling.getAttribute('value');
      // eslint-disable-next-line new-cap
      var modal = new tingle_min.modal({
        stickyFooter: false,
        closeMethods: ['overlay', 'button', 'escape'],
        closeLabel: 'Close',
        onOpen: function onOpen() {
          document.querySelector('div.tingle-modal.tingle-modal--visible').style.background = 'rgba(0,0,0,0,0.4)';
        },
        onClose: function onClose() {
          modal.destroy();
        }
      });
      modal.setContent('\n        <p style="font-family: \'Signika\',sans-serif; color: #4f81bd;font-size: 1.3rem;">Titre</p>\n        <p style="font-family: \'Signika\',sans-serif;text-align: justify;">' + territ_level_name + '</p>');
      modal.open();
    };
  });
}

loadData();

exports.app = app;
exports.resetColors = resetColors;
exports.bindTopButtons = bindTopButtons;

}((this.App = this.App || {})));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy90aW5nbGUuanMvZGlzdC90aW5nbGUubWluLmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9vcHRpb25zLmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9oZWxwZXJzLmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9tZW51bGVmdC5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvbWVudXRvcC5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvbWFwLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3ZhbmlsbGEtZGF0YXRhYmxlcy9zcmMvdmFuaWxsYS1kYXRhVGFibGVzLmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy90YWJsZS5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvcHJlcGFyZV9kYXRhLmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy90YWJsZVJlc3VtZVN0YXQuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL2NoYXJ0cy9iYXJDaGFydF8xdi5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvY2hhcnRzL2J1YmJsZUNoYXJ0XzF2LmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9jb250ZXh0TWVudS5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvY2hhcnRzL3NjYXR0ZXJQbG90XzJ2LmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9jaGFydHMvcmFkYXJDaGFydF8zdi5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvY2hhcnRzL3NpbWlsYXJpdHlfMnYuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL2NoYXJ0cy9zaW1pbGFyaXR5MXYuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbih0LG8pe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUobyk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9bygpOnQudGluZ2xlPW8oKX0odGhpcyxmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dmFyIG89e29uQ2xvc2U6bnVsbCxvbk9wZW46bnVsbCxiZWZvcmVPcGVuOm51bGwsYmVmb3JlQ2xvc2U6bnVsbCxzdGlja3lGb290ZXI6ITEsZm9vdGVyOiExLGNzc0NsYXNzOltdLGNsb3NlTGFiZWw6XCJDbG9zZVwiLGNsb3NlTWV0aG9kczpbXCJvdmVybGF5XCIsXCJidXR0b25cIixcImVzY2FwZVwiXX07dGhpcy5vcHRzPXIoe30sbyx0KSx0aGlzLmluaXQoKX1mdW5jdGlvbiBvKCl7dGhpcy5tb2RhbEJveEZvb3RlciYmKHRoaXMubW9kYWxCb3hGb290ZXIuc3R5bGUud2lkdGg9dGhpcy5tb2RhbEJveC5jbGllbnRXaWR0aCtcInB4XCIsdGhpcy5tb2RhbEJveEZvb3Rlci5zdHlsZS5sZWZ0PXRoaXMubW9kYWxCb3gub2Zmc2V0TGVmdCtcInB4XCIpfWZ1bmN0aW9uIGUoKXt0aGlzLm1vZGFsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5tb2RhbC5jbGFzc0xpc3QuYWRkKFwidGluZ2xlLW1vZGFsXCIpLDAhPT10aGlzLm9wdHMuY2xvc2VNZXRob2RzLmxlbmd0aCYmdGhpcy5vcHRzLmNsb3NlTWV0aG9kcy5pbmRleE9mKFwib3ZlcmxheVwiKSE9PS0xfHx0aGlzLm1vZGFsLmNsYXNzTGlzdC5hZGQoXCJ0aW5nbGUtbW9kYWwtLW5vT3ZlcmxheUNsb3NlXCIpLHRoaXMubW9kYWwuc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0aGlzLm9wdHMuY3NzQ2xhc3MuZm9yRWFjaChmdW5jdGlvbih0KXtcInN0cmluZ1wiPT10eXBlb2YgdCYmdGhpcy5tb2RhbC5jbGFzc0xpc3QuYWRkKHQpfSx0aGlzKSx0aGlzLm9wdHMuY2xvc2VNZXRob2RzLmluZGV4T2YoXCJidXR0b25cIikhPT0tMSYmKHRoaXMubW9kYWxDbG9zZUJ0bj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpLHRoaXMubW9kYWxDbG9zZUJ0bi5jbGFzc0xpc3QuYWRkKFwidGluZ2xlLW1vZGFsX19jbG9zZVwiKSx0aGlzLm1vZGFsQ2xvc2VCdG5JY29uPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpLHRoaXMubW9kYWxDbG9zZUJ0bkljb24uY2xhc3NMaXN0LmFkZChcInRpbmdsZS1tb2RhbF9fY2xvc2VJY29uXCIpLHRoaXMubW9kYWxDbG9zZUJ0bkljb24uaW5uZXJIVE1MPVwiw5dcIix0aGlzLm1vZGFsQ2xvc2VCdG5MYWJlbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSx0aGlzLm1vZGFsQ2xvc2VCdG5MYWJlbC5jbGFzc0xpc3QuYWRkKFwidGluZ2xlLW1vZGFsX19jbG9zZUxhYmVsXCIpLHRoaXMubW9kYWxDbG9zZUJ0bkxhYmVsLmlubmVySFRNTD10aGlzLm9wdHMuY2xvc2VMYWJlbCx0aGlzLm1vZGFsQ2xvc2VCdG4uYXBwZW5kQ2hpbGQodGhpcy5tb2RhbENsb3NlQnRuSWNvbiksdGhpcy5tb2RhbENsb3NlQnRuLmFwcGVuZENoaWxkKHRoaXMubW9kYWxDbG9zZUJ0bkxhYmVsKSksdGhpcy5tb2RhbEJveD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMubW9kYWxCb3guY2xhc3NMaXN0LmFkZChcInRpbmdsZS1tb2RhbC1ib3hcIiksdGhpcy5tb2RhbEJveENvbnRlbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLm1vZGFsQm94Q29udGVudC5jbGFzc0xpc3QuYWRkKFwidGluZ2xlLW1vZGFsLWJveF9fY29udGVudFwiKSx0aGlzLm1vZGFsQm94LmFwcGVuZENoaWxkKHRoaXMubW9kYWxCb3hDb250ZW50KSx0aGlzLm9wdHMuY2xvc2VNZXRob2RzLmluZGV4T2YoXCJidXR0b25cIikhPT0tMSYmdGhpcy5tb2RhbC5hcHBlbmRDaGlsZCh0aGlzLm1vZGFsQ2xvc2VCdG4pLHRoaXMubW9kYWwuYXBwZW5kQ2hpbGQodGhpcy5tb2RhbEJveCl9ZnVuY3Rpb24gcygpe3RoaXMubW9kYWxCb3hGb290ZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLm1vZGFsQm94Rm9vdGVyLmNsYXNzTGlzdC5hZGQoXCJ0aW5nbGUtbW9kYWwtYm94X19mb290ZXJcIiksdGhpcy5tb2RhbEJveC5hcHBlbmRDaGlsZCh0aGlzLm1vZGFsQm94Rm9vdGVyKX1mdW5jdGlvbiBpKCl7dGhpcy5fZXZlbnRzPXtjbGlja0Nsb3NlQnRuOnRoaXMuY2xvc2UuYmluZCh0aGlzKSxjbGlja092ZXJsYXk6bC5iaW5kKHRoaXMpLHJlc2l6ZTp0aGlzLmNoZWNrT3ZlcmZsb3cuYmluZCh0aGlzKSxrZXlib2FyZE5hdjpuLmJpbmQodGhpcyl9LHRoaXMub3B0cy5jbG9zZU1ldGhvZHMuaW5kZXhPZihcImJ1dHRvblwiKSE9PS0xJiZ0aGlzLm1vZGFsQ2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5fZXZlbnRzLmNsaWNrQ2xvc2VCdG4pLHRoaXMubW9kYWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMuX2V2ZW50cy5jbGlja092ZXJsYXkpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsdGhpcy5fZXZlbnRzLnJlc2l6ZSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix0aGlzLl9ldmVudHMua2V5Ym9hcmROYXYpfWZ1bmN0aW9uIG4odCl7dGhpcy5vcHRzLmNsb3NlTWV0aG9kcy5pbmRleE9mKFwiZXNjYXBlXCIpIT09LTEmJjI3PT09dC53aGljaCYmdGhpcy5pc09wZW4oKSYmdGhpcy5jbG9zZSgpfWZ1bmN0aW9uIGwodCl7dGhpcy5vcHRzLmNsb3NlTWV0aG9kcy5pbmRleE9mKFwib3ZlcmxheVwiKSE9PS0xJiYhZCh0LnRhcmdldCxcInRpbmdsZS1tb2RhbFwiKSYmdC5jbGllbnRYPHRoaXMubW9kYWwuY2xpZW50V2lkdGgmJnRoaXMuY2xvc2UoKX1mdW5jdGlvbiBkKHQsbyl7Zm9yKDsodD10LnBhcmVudEVsZW1lbnQpJiYhdC5jbGFzc0xpc3QuY29udGFpbnMobyk7KTtyZXR1cm4gdH1mdW5jdGlvbiBhKCl7dGhpcy5vcHRzLmNsb3NlTWV0aG9kcy5pbmRleE9mKFwiYnV0dG9uXCIpIT09LTEmJnRoaXMubW9kYWxDbG9zZUJ0bi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLl9ldmVudHMuY2xpY2tDbG9zZUJ0biksdGhpcy5tb2RhbC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsdGhpcy5fZXZlbnRzLmNsaWNrT3ZlcmxheSksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLl9ldmVudHMucmVzaXplKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLHRoaXMuX2V2ZW50cy5rZXlib2FyZE5hdil9ZnVuY3Rpb24gcigpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZm9yKHZhciBvIGluIGFyZ3VtZW50c1t0XSlhcmd1bWVudHNbdF0uaGFzT3duUHJvcGVydHkobykmJihhcmd1bWVudHNbMF1bb109YXJndW1lbnRzW3RdW29dKTtyZXR1cm4gYXJndW1lbnRzWzBdfWZ1bmN0aW9uIGgoKXt2YXIgdCxvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0aW5nbGUtdGVzdC10cmFuc2l0aW9uXCIpLGU9e3RyYW5zaXRpb246XCJ0cmFuc2l0aW9uZW5kXCIsT1RyYW5zaXRpb246XCJvVHJhbnNpdGlvbkVuZFwiLE1velRyYW5zaXRpb246XCJ0cmFuc2l0aW9uZW5kXCIsV2Via2l0VHJhbnNpdGlvbjpcIndlYmtpdFRyYW5zaXRpb25FbmRcIn07Zm9yKHQgaW4gZSlpZih2b2lkIDAhPT1vLnN0eWxlW3RdKXJldHVybiBlW3RdfXZhciBjPWgoKTtyZXR1cm4gdC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3RoaXMubW9kYWx8fChlLmNhbGwodGhpcyksaS5jYWxsKHRoaXMpLGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKHRoaXMubW9kYWwsZG9jdW1lbnQuYm9keS5maXJzdENoaWxkKSx0aGlzLm9wdHMuZm9vdGVyJiZ0aGlzLmFkZEZvb3RlcigpKX0sdC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe251bGwhPT10aGlzLm1vZGFsJiYoYS5jYWxsKHRoaXMpLHRoaXMubW9kYWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLm1vZGFsKSx0aGlzLm1vZGFsPW51bGwpfSx0LnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztcImZ1bmN0aW9uXCI9PXR5cGVvZiB0Lm9wdHMuYmVmb3JlT3BlbiYmdC5vcHRzLmJlZm9yZU9wZW4oKSx0aGlzLm1vZGFsLnN0eWxlLnJlbW92ZVByb3BlcnR5P3RoaXMubW9kYWwuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJkaXNwbGF5XCIpOnRoaXMubW9kYWwuc3R5bGUucmVtb3ZlQXR0cmlidXRlKFwiZGlzcGxheVwiKSxkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoXCJ0aW5nbGUtZW5hYmxlZFwiKSx0aGlzLnNldFN0aWNreUZvb3Rlcih0aGlzLm9wdHMuc3RpY2t5Rm9vdGVyKSx0aGlzLm1vZGFsLmNsYXNzTGlzdC5hZGQoXCJ0aW5nbGUtbW9kYWwtLXZpc2libGVcIiksYz90aGlzLm1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoYyxmdW5jdGlvbiBvKCl7XCJmdW5jdGlvblwiPT10eXBlb2YgdC5vcHRzLm9uT3BlbiYmdC5vcHRzLm9uT3Blbi5jYWxsKHQpLHQubW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihjLG8sITEpfSwhMSk6XCJmdW5jdGlvblwiPT10eXBlb2YgdC5vcHRzLm9uT3BlbiYmdC5vcHRzLm9uT3Blbi5jYWxsKHQpLHRoaXMuY2hlY2tPdmVyZmxvdygpfSx0LnByb3RvdHlwZS5pc09wZW49ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMubW9kYWwuY2xhc3NMaXN0LmNvbnRhaW5zKFwidGluZ2xlLW1vZGFsLS12aXNpYmxlXCIpfSx0LnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMub3B0cy5iZWZvcmVDbG9zZSl7dmFyIHQ9dGhpcy5vcHRzLmJlZm9yZUNsb3NlLmNhbGwodGhpcyk7aWYoIXQpcmV0dXJufWRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShcInRpbmdsZS1lbmFibGVkXCIpLHRoaXMubW9kYWwuY2xhc3NMaXN0LnJlbW92ZShcInRpbmdsZS1tb2RhbC0tdmlzaWJsZVwiKTt2YXIgbz10aGlzO2M/dGhpcy5tb2RhbC5hZGRFdmVudExpc3RlbmVyKGMsZnVuY3Rpb24gdCgpe28ubW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihjLHQsITEpLG8ubW9kYWwuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixcImZ1bmN0aW9uXCI9PXR5cGVvZiBvLm9wdHMub25DbG9zZSYmby5vcHRzLm9uQ2xvc2UuY2FsbCh0aGlzKX0sITEpOihvLm1vZGFsLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsXCJmdW5jdGlvblwiPT10eXBlb2Ygby5vcHRzLm9uQ2xvc2UmJm8ub3B0cy5vbkNsb3NlLmNhbGwodGhpcykpfSx0LnByb3RvdHlwZS5zZXRDb250ZW50PWZ1bmN0aW9uKHQpe1wic3RyaW5nXCI9PXR5cGVvZiB0P3RoaXMubW9kYWxCb3hDb250ZW50LmlubmVySFRNTD10Oih0aGlzLm1vZGFsQm94Q29udGVudC5pbm5lckhUTUw9XCJcIix0aGlzLm1vZGFsQm94Q29udGVudC5hcHBlbmRDaGlsZCh0KSl9LHQucHJvdG90eXBlLmdldENvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb2RhbEJveENvbnRlbnR9LHQucHJvdG90eXBlLmFkZEZvb3Rlcj1mdW5jdGlvbigpe3MuY2FsbCh0aGlzKX0sdC5wcm90b3R5cGUuc2V0Rm9vdGVyQ29udGVudD1mdW5jdGlvbih0KXt0aGlzLm1vZGFsQm94Rm9vdGVyLmlubmVySFRNTD10fSx0LnByb3RvdHlwZS5nZXRGb290ZXJDb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW9kYWxCb3hGb290ZXJ9LHQucHJvdG90eXBlLnNldFN0aWNreUZvb3Rlcj1mdW5jdGlvbih0KXt0aGlzLmlzT3ZlcmZsb3coKXx8KHQ9ITEpLHQ/dGhpcy5tb2RhbEJveC5jb250YWlucyh0aGlzLm1vZGFsQm94Rm9vdGVyKSYmKHRoaXMubW9kYWxCb3gucmVtb3ZlQ2hpbGQodGhpcy5tb2RhbEJveEZvb3RlciksdGhpcy5tb2RhbC5hcHBlbmRDaGlsZCh0aGlzLm1vZGFsQm94Rm9vdGVyKSx0aGlzLm1vZGFsQm94Rm9vdGVyLmNsYXNzTGlzdC5hZGQoXCJ0aW5nbGUtbW9kYWwtYm94X19mb290ZXItLXN0aWNreVwiKSxvLmNhbGwodGhpcyksdGhpcy5tb2RhbEJveENvbnRlbnQuc3R5bGVbXCJwYWRkaW5nLWJvdHRvbVwiXT10aGlzLm1vZGFsQm94Rm9vdGVyLmNsaWVudEhlaWdodCsyMCtcInB4XCIpOnRoaXMubW9kYWxCb3hGb290ZXImJih0aGlzLm1vZGFsQm94LmNvbnRhaW5zKHRoaXMubW9kYWxCb3hGb290ZXIpfHwodGhpcy5tb2RhbC5yZW1vdmVDaGlsZCh0aGlzLm1vZGFsQm94Rm9vdGVyKSx0aGlzLm1vZGFsQm94LmFwcGVuZENoaWxkKHRoaXMubW9kYWxCb3hGb290ZXIpLHRoaXMubW9kYWxCb3hGb290ZXIuc3R5bGUud2lkdGg9XCJhdXRvXCIsdGhpcy5tb2RhbEJveEZvb3Rlci5zdHlsZS5sZWZ0PVwiXCIsdGhpcy5tb2RhbEJveENvbnRlbnQuc3R5bGVbXCJwYWRkaW5nLWJvdHRvbVwiXT1cIlwiLHRoaXMubW9kYWxCb3hGb290ZXIuY2xhc3NMaXN0LnJlbW92ZShcInRpbmdsZS1tb2RhbC1ib3hfX2Zvb3Rlci0tc3RpY2t5XCIpKSl9LHQucHJvdG90eXBlLmFkZEZvb3RlckJ0bj1mdW5jdGlvbih0LG8sZSl7dmFyIHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtyZXR1cm4gcy5pbm5lckhUTUw9dCxzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGUpLFwic3RyaW5nXCI9PXR5cGVvZiBvJiZvLmxlbmd0aCYmby5zcGxpdChcIiBcIikuZm9yRWFjaChmdW5jdGlvbih0KXtzLmNsYXNzTGlzdC5hZGQodCl9KSx0aGlzLm1vZGFsQm94Rm9vdGVyLmFwcGVuZENoaWxkKHMpLHN9LHQucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlJlc2l6ZSBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdmVyc2lvbiAxLjBcIil9LHQucHJvdG90eXBlLmlzT3ZlcmZsb3c9ZnVuY3Rpb24oKXt2YXIgdD13aW5kb3cuaW5uZXJIZWlnaHQsbz10aGlzLm1vZGFsQm94LmNsaWVudEhlaWdodDtyZXR1cm4gbz49dH0sdC5wcm90b3R5cGUuY2hlY2tPdmVyZmxvdz1mdW5jdGlvbigpe3RoaXMubW9kYWwuY2xhc3NMaXN0LmNvbnRhaW5zKFwidGluZ2xlLW1vZGFsLS12aXNpYmxlXCIpJiYodGhpcy5pc092ZXJmbG93KCk/dGhpcy5tb2RhbC5jbGFzc0xpc3QuYWRkKFwidGluZ2xlLW1vZGFsLS1vdmVyZmxvd1wiKTp0aGlzLm1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXCJ0aW5nbGUtbW9kYWwtLW92ZXJmbG93XCIpLCF0aGlzLmlzT3ZlcmZsb3coKSYmdGhpcy5vcHRzLnN0aWNreUZvb3Rlcj90aGlzLnNldFN0aWNreUZvb3RlcighMSk6dGhpcy5pc092ZXJmbG93KCkmJnRoaXMub3B0cy5zdGlja3lGb290ZXImJihvLmNhbGwodGhpcyksdGhpcy5zZXRTdGlja3lGb290ZXIoITApKSl9LHttb2RhbDp0fX0pOyIsImV4cG9ydCBjb25zdCBjb2xvcl9jb3VudHJpZXMgPSAncmdiKDE0NywxNDQsMjUyKSc7XG5leHBvcnQgY29uc3QgY29sb3JfZGlzYWJsZWQgPSAncmdiKDIxNCwgMjE0LCAyMTQpJztcbmV4cG9ydCBjb25zdCBjb2xvcl9zdXAgPSAnZ3JlZW4nO1xuZXhwb3J0IGNvbnN0IGNvbG9yX2luZiA9ICdyZWQnO1xuZXhwb3J0IGNvbnN0IGNvbG9yX2hpZ2hsaWdodCA9ICd5ZWxsb3cnO1xuZXhwb3J0IGNvbnN0IGNvbG9yX2RlZmF1bHRfZGlzc2ltID0gJ2RhcmtyZWQnO1xuIiwiaW1wb3J0IHsgY29sb3JfaW5mLCBjb2xvcl9zdXAgfSBmcm9tICcuL29wdGlvbnMnO1xuXG5jb25zdCBtYXRoX3BvdyA9IE1hdGgucG93O1xuY29uc3QgbWF0aF9hYnMgPSBNYXRoLmFicztcbmNvbnN0IG1hdGhfcm91bmQgPSBNYXRoLnJvdW5kO1xuY29uc3QgbWF0aF9tYXggPSBNYXRoLm1heDtcbmNvbnN0IG1hdGhfc2luID0gTWF0aC5zaW47XG5jb25zdCBtYXRoX2NvcyA9IE1hdGguY29zO1xuY29uc3QgbWF0aF9zcXJ0ID0gTWF0aC5zcXJ0O1xuY29uc3QgSEFMRl9QSSA9IE1hdGguUEkgLyAyO1xuXG5mdW5jdGlvbiBwcmVwYXJlVG9vbHRpcChwYXJlbnRfc3ZnX2VsZW0pIHtcbiAgY29uc3QgdG9vbHRpcCA9IHBhcmVudF9zdmdfZWxlbS5hcHBlbmQoJ2cnKVxuICAgIC5hdHRyKCdjbGFzcycsICd0b29sdGlwJylcbiAgICAuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuXG4gIHRvb2x0aXAuYXBwZW5kKCdyZWN0JylcbiAgICAuYXR0cnMoeyB4OiAxNSwgd2lkdGg6IDAsIGhlaWdodDogMCwgZmlsbDogJ2JlaWdlJyB9KVxuICAgIC5zdHlsZSgnb3BhY2l0eScsIDAuNzUpO1xuXG4gIHRvb2x0aXAuYXBwZW5kKCd0ZXh0JylcbiAgICAuYXR0cnMoeyBjbGFzczogJ2lkX2ZlYXR1cmUnLCB4OiAyNSwgZHk6ICcxLjJlbScsICdmb250LXNpemUnOiAnMTRweCcgfSlcbiAgICAuc3R5bGUoJ2ZvbnQtd2VpZ2h0JywgJ2JvbGQnKTtcblxuICB0b29sdGlwLmFwcGVuZCgndGV4dCcpXG4gICAgLmF0dHJzKHtcbiAgICAgIGNsYXNzOiAndmFsdWVfZmVhdHVyZTEnLFxuICAgICAgeDogMjUsXG4gICAgICBkeTogJzIuNGVtJyxcbiAgICAgICdmb250LXNpemUnOiAnMTRweCcsXG4gICAgfSk7XG5cbiAgdG9vbHRpcC5hcHBlbmQoJ3RleHQnKVxuICAgIC5hdHRycyh7XG4gICAgICBjbGFzczogJ3ZhbHVlX2ZlYXR1cmUyJyxcbiAgICAgIHg6IDI1LFxuICAgICAgZHk6ICczLjVlbScsXG4gICAgICAnZm9udC1zaXplJzogJzE0cHgnLFxuICAgIH0pO1xuXG4gIHRvb2x0aXAuYXBwZW5kKCd0ZXh0JylcbiAgICAuYXR0cnMoe1xuICAgICAgY2xhc3M6ICd2YWx1ZV9mZWF0dXJlMycsXG4gICAgICB4OiAyNSxcbiAgICAgIGR5OiAnNC42ZW0nLFxuICAgICAgJ2ZvbnQtc2l6ZSc6ICcxNHB4JyxcbiAgICB9KTtcblxuICB0b29sdGlwLmFwcGVuZCgndGV4dCcpXG4gICAgLmF0dHJzKHtcbiAgICAgIGNsYXNzOiAndmFsdWVfZmVhdHVyZTQnLFxuICAgICAgeDogMjUsXG4gICAgICBkeTogJzUuN2VtJyxcbiAgICAgICdmb250LXNpemUnOiAnMTRweCcsXG4gICAgfSk7XG5cbiAgdG9vbHRpcC5hcHBlbmQoJ3RleHQnKVxuICAgIC5hdHRycyh7XG4gICAgICBjbGFzczogJ3ZhbHVlX2ZlYXR1cmU1JyxcbiAgICAgIHg6IDI1LFxuICAgICAgZHk6ICc2LjhlbScsXG4gICAgICAnZm9udC1zaXplJzogJzE0cHgnLFxuICAgIH0pO1xuXG4gIHJldHVybiB0b29sdGlwO1xufVxuXG5mdW5jdGlvbiB1bmJpbmRVSSgpIHtcbiAgLy8gUmVtb3ZlcyB0aGUgY3VycmVudCBiZWhhdmlvciBjb3JyZXNwb25kaW5nIHRvIGNsaWNraW5nIG9uIHRoZSBsZWZ0IG1lbnU6XG4gIGQzLnNlbGVjdEFsbCgnc3Bhbi5maWx0ZXJfdicpXG4gICAgLm9uKCdjbGljaycsIG51bGwpO1xuICBkMy5zZWxlY3RBbGwoJ3NwYW4udGFyZ2V0X3JlZ2lvbicpXG4gICAgLm9uKCdjbGljaycsIG51bGwpO1xuICBkMy5zZWxlY3RBbGwoJ3NwYW4ubGFiZWxfY2hrJylcbiAgICAub24oJ2NsaWNrJywgbnVsbCk7XG5cbiAgLy8gUmVtb3ZlIHRoZSB0YWJsZTpcbiAgZDMuc2VsZWN0KCcuZGF0YVRhYmxlLXdyYXBwZXInKS5yZW1vdmUoKTtcblxuICAvLyBVbmJpbmQgYnV0dG9ucyBvbiB0aGUgdG9wIG9mIHRoZSBtYXA6XG4gIGQzLnNlbGVjdCgnI2hlYWRlcl9tYXAnKVxuICAgIC5zZWxlY3RBbGwoJ2ltZycpXG4gICAgLm9uKCdjbGljaycsIG51bGwpO1xuXG4gIC8vIFJlbW92ZSB0aGUgc2VsZWN0aW9uIG1lbnUgKG9yIGJ1dHRvbnMpIHVuZGVyIHRoZSBjaGFydDpcbiAgZDMuc2VsZWN0KCcjYmFyX3NlY3Rpb24gPiAjbWVudV9zZWxlY3Rpb24nKS5yZW1vdmUoKTtcblxuICAvLyBSZW1vdmVzIHRoZSBjdXJyZW50IGJlaGF2aW9yIGNvcnJlc3BvbmRpbmcgdG8gY2xpY2tpbmcgb24gdGhlIHRvcCBtZW51OlxuICBkMy5zZWxlY3RBbGwoJy50eXBlX2NoYXJ0LnRpdGxlX21lbnUnKS5vbignY2xpY2snLCBudWxsKTtcblxuICAvLyBSZW1vdmVzIHRoZSBjdXJyZW50IGJlaGF2aW9yIGNvcnJlc3BvbmRpbmcgdG8gcHJlc3NpbmcgdGhlIENvbnRyb2wga2V5OlxuICBkb2N1bWVudC5vbmtleXVwID0gbnVsbDtcbiAgZG9jdW1lbnQub25rZXlkb3duID0gbnVsbDtcbn1cblxuLyoqXG4qIEZ1bmN0aW9uIHRvIGNvbXBhcmUgdGhlIHZhbHVlIG9mIGEgZmVhdHVyZSB0byB0aGUgcmVmZXJlbmNlIHZhbHVlIChpLmUuIHRoZSB2YWx1ZSBvZiBcIm15IHJlZ2lvblwiKVxuKiBhbmQgcmV0dXJuIHRoZSBhcHByb3ByaWF0ZSBjb2xvciAoc2VyaWUgbWF5IGJlIGludmVyc2VkKVxuKlxuKiBAcGFyYW0ge051bWJlcn0gdGVzdF92YWx1ZSAtIFRoZSB2YWx1ZSB0byBiZSBjb21wYXJlZCB0byB0aGUgdmFsdWUgb2YgXCJteSByZWdpb25cIi5cbiogQHBhcmFtIHtOdW1iZXJ9IHJlZl92YWx1ZSAtIFRoZSB2YWx1ZSBvZiBteSByZWdpb24uXG4qIEBwYXJhbSB7Qm9vbGVhbn0gc2VyaWVfaW52ZXJzZWQgLSBXaGV0aGVyIHRoZSBzZXJpZSBpcyBpbnZlcnNlZCBvciBub3QgaW4gdGhlIGN1cnJlbnQgY2hhcnQuXG4qIEByZXR1cm4ge1N0cmluZ30gLSBBIHN0cmluZyBjb250YWluaW5nIHRoZSBjb2xvciB0byBiZSB1c2VkIGZvciB0aGlzIHZhbHVlLlxuKlxuKi9cbmNvbnN0IGNvbXAgPSAodGVzdF92YWx1ZSwgcmVmX3ZhbHVlLCBzZXJpZV9pbnZlcnNlZCkgPT4ge1xuICBpZiAodGVzdF92YWx1ZSA8IHJlZl92YWx1ZSkge1xuICAgIHJldHVybiBzZXJpZV9pbnZlcnNlZCA/IGNvbG9yX3N1cCA6IGNvbG9yX2luZjtcbiAgfVxuICByZXR1cm4gc2VyaWVfaW52ZXJzZWQgPyBjb2xvcl9pbmYgOiBjb2xvcl9zdXA7XG59O1xuXG5cbi8qKlxuKiBGdW5jdGlvbiB0byBjb21wYXJlIHRoZSB2YWx1ZSBvZiBhIGZlYXR1cmUgdG8gdGhlIHJlZmVyZW5jZSB2YWx1ZSAoaS5lLiB0aGUgdmFsdWUgb2YgXCJteSByZWdpb25cIilcbiogYW5kIHJldHVybiB0aGUgYXBwcm9wcmlhdGUgY29sb3IgKHNlcmllIG1heSBiZSBpbnZlcnNlZClcbipcbiogQHBhcmFtIHtOdW1iZXJ9IHZhbDEgLSBUaGUgdmFsdWUgdG8gYmUgY29tcGFyZWQgdG8gdGhlIHZhbHVlIG9mIFwibXkgcmVnaW9uXCIgZm9yIHRoZSAxc3QgdmFyaWFibGUuXG4qIEBwYXJhbSB7TnVtYmVyfSB2YWwyIC0gVGhlIHZhbHVlIHRvIGJlIGNvbXBhcmVkIHRvIHRoZSB2YWx1ZSBvZiBcIm15IHJlZ2lvblwiIGZvciB0aGUgMm5kIHZhcmlhYmxlLlxuKiBAcGFyYW0ge051bWJlcn0gcmVmX3ZhbDEgLSBUaGUgdmFsdWUgb2YgbXkgcmVnaW9uIGZvciBoZSBmaXJzdCB2YXJpYWJsZS5cbiogQHBhcmFtIHtOdW1iZXJ9IHJlZl92YWwyIC0gVGhlIHZhbHVlIG9mIG15IHJlZ2lvbiBmb3IgdGhlIHNlY29uZCB2YXJpYWJsZS5cbiogQHBhcmFtIHtCb29sZWFufSB4SW52ZXJzZWQgLSBXaGV0aGVyIHRoZSBzZXJpZSBpcyBpbnZlcnNlZCBvbiB0aGUgeCBheGlzIGluIHRoZSBjdXJyZW50IGNoYXJ0LlxuKiBAcGFyYW0ge0Jvb2xlYW59IHlJbnZlcnNlZCAtIFdoZXRoZXIgdGhlIHNlcmllIGlzIGludmVyc2VkIG9uIHRoZSB5IGF4aXMgaW4gdGhlIGN1cnJlbnQgY2hhcnQuXG4qIEByZXR1cm4ge1N0cmluZ30gLSBBIHN0cmluZyBjb250YWluaW5nIHRoZSBjb2xvciB0byBiZSB1c2VkIGZvciB0aGVzZXMgdmFsdWVzLlxuKlxuKi9cbmNvbnN0IGNvbXAyID0gKHZhbDEsIHZhbDIsIHJlZl92YWwxLCByZWZfdmFsMiwgeEludmVyc2VkLCB5SW52ZXJzZWQpID0+IHtcbiAgaWYgKCh2YWwxIDwgcmVmX3ZhbDEgJiYgIXhJbnZlcnNlZCkgfHwgKHZhbDEgPiByZWZfdmFsMSAmJiB4SW52ZXJzZWQpKSB7IC8vIHZhbDEgaXMgaW5mZXJpb3I6XG4gICAgaWYgKHZhbDIgPCByZWZfdmFsMikge1xuICAgICAgcmV0dXJuIHlJbnZlcnNlZCA/ICdyZ2IoMTYwLCAzMCwgMTYwKScgOiBjb2xvcl9pbmY7XG4gICAgfVxuICAgIHJldHVybiB5SW52ZXJzZWQgPyBjb2xvcl9pbmYgOiAncmdiKDE2MCwgMzAsIDE2MCknO1xuICB9XG4gIC8vIHZhbDEgaXMgc3VwZXJpb3IgOlxuICBpZiAodmFsMiA+IHJlZl92YWwyKSB7XG4gICAgcmV0dXJuICF5SW52ZXJzZWQgPyBjb2xvcl9zdXAgOiAnb3JhbmdlJztcbiAgfVxuICByZXR1cm4gIXlJbnZlcnNlZCA/ICdvcmFuZ2UnIDogY29sb3Jfc3VwO1xufTtcblxuY2xhc3MgUmVjdCB7XG4gIGNvbnN0cnVjdG9yKHRvcGxlZnQsIGJvdHRvbXJpZ2h0KSB7XG4gICAgdGhpcy54bWluID0gdG9wbGVmdFswXTtcbiAgICB0aGlzLnhtYXggPSBib3R0b21yaWdodFswXTtcbiAgICB0aGlzLnltaW4gPSB0b3BsZWZ0WzFdO1xuICAgIHRoaXMueW1heCA9IGJvdHRvbXJpZ2h0WzFdO1xuICB9XG5cbiAgY29udGFpbnMocHQpIHtcbiAgICBpZiAocHRbMF0gPj0gdGhpcy54bWluICYmIHB0WzBdIDw9IHRoaXMueG1heFxuICAgICAgICAmJiBwdFsxXSA+PSB0aGlzLnltaW4gJiYgcHRbMV0gPD0gdGhpcy55bWF4KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmNvbnN0IFByb3BTaXplciA9IGZ1bmN0aW9uIFByb3BTaXplcihmaXhlZF92YWx1ZSwgZml4ZWRfc2l6ZSkge1xuICB0aGlzLmZpeGVkX3ZhbHVlID0gZml4ZWRfdmFsdWU7XG4gIGNvbnN0IHNxcnQgPSBNYXRoLnNxcnQ7XG4gIGNvbnN0IGFicyA9IE1hdGguYWJzO1xuICBjb25zdCBQSSA9IE1hdGguUEk7XG4gIHRoaXMuc21heCA9IGZpeGVkX3NpemUgKiBmaXhlZF9zaXplICogUEk7XG4gIHRoaXMuc2NhbGUgPSB2YWwgPT4gc3FydChhYnModmFsKSAqIHRoaXMuc21heCAvIHRoaXMuZml4ZWRfdmFsdWUpIC8gUEk7XG4gIC8vIHRoaXMuZ2V0X3ZhbHVlID0gc2l6ZSA9PiAoKHNpemUgKiBQSSkgKiogMikgLyB0aGlzLnNtYXggKiB0aGlzLmZpeGVkX3ZhbHVlO1xuICAvLyBVc2UgTWF0aCBwb3cgdG8gc3VwcG9ydCBicm93c2VyIHdpdGhvdXQgKiogb3BlcmF0b3I6XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXByb3BlcnRpZXNcbiAgdGhpcy5nZXRfdmFsdWUgPSBzaXplID0+IE1hdGgucG93KHNpemUgKiBQSSwgMikgLyB0aGlzLnNtYXggKiB0aGlzLmZpeGVkX3ZhbHVlO1xufTtcblxuY29uc3QgcmVtb3ZlRHVwbGljYXRlcyA9IGZ1bmN0aW9uIHJlbW92ZUR1cGxpY2F0ZXMoYXJyKSB7XG4gIGNvbnN0IHRtcCA9IFtdO1xuICBmb3IgKGxldCBpID0gMCwgbGVuX2FyciA9IGFyci5sZW5ndGg7IGkgPCBsZW5fYXJyOyBpKyspIHtcbiAgICBpZiAodG1wLmluZGV4T2YoYXJyW2ldKSA9PT0gLTEpIHtcbiAgICAgIHRtcC5wdXNoKGFycltpXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB0bXA7XG59O1xuXG5jb25zdCBnZXRTdmdQYXRoVHlwZSA9IChwYXRoKSA9PiB7XG4gIGlmIChwYXRoLmluZGV4T2YoJ00gJykgPiAtMSAmJiBwYXRoLmluZGV4T2YoJyBMICcpID4gLTEpIHtcbiAgICByZXR1cm4gMjtcbiAgfVxuICByZXR1cm4gMTtcbn07XG5cbmNvbnN0IHN2Z1BhdGhUb0Nvb3JkcyA9IChwYXRoLCB0eXBlX3BhdGgpID0+IHtcbiAgaWYgKHR5cGVfcGF0aCA9PT0gMSkge1xuICAgIHJldHVybiBwYXRoLnNsaWNlKDEpLnNwbGl0KCdMJykubWFwKHB0ID0+IHB0LnNwbGl0KCcsJykubWFwKGEgPT4gK2EpKTtcbiAgfVxuICByZXR1cm4gcGF0aC5zbGljZSgyKS5zcGxpdCgnIEwgJykubWFwKHB0ID0+IHB0LnNwbGl0KCcgJykubWFwKGEgPT4gK2EpKTtcbn07XG5cbmZ1bmN0aW9uIGNvbXB1dGVQZXJjZW50aWxlUmFuayhvYmosIGZpZWxkX25hbWUsIHJlc3VsdF9maWVsZF9uYW1lKSB7XG4gIGNvbnN0IHZhbHVlcyA9IG9iai5tYXAoZCA9PiBkW2ZpZWxkX25hbWVdKTtcbiAgY29uc3QgbGVuX3ZhbHVlcyA9IHZhbHVlcy5sZW5ndGg7XG4gIGNvbnN0IGdldFBSID0gKHYpID0+IHtcbiAgICBsZXQgY291bnQgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuX3ZhbHVlczsgaSsrKSB7XG4gICAgICBpZiAodmFsdWVzW2ldIDw9IHYpIHtcbiAgICAgICAgY291bnQgKz0gMTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIDEwMCAqIGNvdW50IC8gbGVuX3ZhbHVlcztcbiAgfTtcbiAgZm9yIChsZXQgaXggPSAwOyBpeCA8IGxlbl92YWx1ZXM7IGl4KyspIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICBvYmpbaXhdW3Jlc3VsdF9maWVsZF9uYW1lXSA9IGdldFBSKHZhbHVlc1tpeF0pO1xuICB9XG59XG5cbmNvbnN0IF9nZXRQUiA9ICh2LCBzZXJpZSkgPT4ge1xuICBsZXQgY291bnQgPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNlcmllLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHNlcmllW2ldIDw9IHYpIHtcbiAgICAgIGNvdW50ICs9IDE7XG4gICAgfVxuICB9XG4gIHJldHVybiAxMDAgKiBjb3VudCAvIHNlcmllLmxlbmd0aDtcbn07XG5cbmNvbnN0IGdldE1lYW4gPSAoc2VyaWUpID0+IHtcbiAgY29uc3QgbmJfdmFsdWVzID0gc2VyaWUubGVuZ3RoO1xuICBsZXQgc3VtID0gMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYl92YWx1ZXM7IGkrKykge1xuICAgIHN1bSArPSBzZXJpZVtpXTtcbiAgfVxuICByZXR1cm4gc3VtIC8gbmJfdmFsdWVzO1xufTtcblxuY29uc3QgZ2V0U3RkRGV2ID0gKHNlcmllLCBtZWFuX3ZhbHVlKSA9PiB7XG4gIGNvbnN0IG5iX3ZhbHVlcyA9IHNlcmllLmxlbmd0aDtcbiAgaWYgKCFtZWFuX3ZhbHVlKSB7XG4gICAgbWVhbl92YWx1ZSA9IGdldE1lYW4oc2VyaWUpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIH1cbiAgbGV0IHN1bSA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbmJfdmFsdWVzOyBpKyspIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1wcm9wZXJ0aWVzXG4gICAgc3VtICs9IG1hdGhfcG93KHNlcmllW2ldIC0gbWVhbl92YWx1ZSwgMik7XG4gIH1cbiAgcmV0dXJuIG1hdGhfc3FydCgoMSAvIG5iX3ZhbHVlcykgKiBzdW0pO1xufTtcblxuY29uc3QgZ2V0U3RhbmRhcmRpemVkTWVhblN0ZERldiA9IChzZXJpZSkgPT4ge1xuICBjb25zdCBtZWFuID0gZ2V0TWVhbihzZXJpZSk7XG4gIGNvbnN0IHN0ZGRldiA9IGdldFN0ZERldihzZXJpZSwgbWVhbik7XG4gIHJldHVybiBzZXJpZS5tYXAodmFsID0+ICh2YWwgLSBtZWFuKSAvIHN0ZGRldik7XG59O1xuXG5jb25zdCBzaHVmZmxlID0gKGFycmF5KSA9PiB7XG4gIGZvciAobGV0IGkgPSBhcnJheS5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7XG4gICAgY29uc3QgaiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChpICsgMSkpO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIFthcnJheVtpXSwgYXJyYXlbal1dID0gW2FycmF5W2pdLCBhcnJheVtpXV07XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufTtcblxuZnVuY3Rpb24gZXVjbGlkaWFuX2Rpc3RhbmNlKGZlYXR1cmUxLCBmZWF0dXJlMikge1xuICBjb25zdCBbeDEsIHkxXSA9IGZlYXR1cmUxLmdlb21ldHJ5LmNvb3JkaW5hdGVzO1xuICBjb25zdCBbeDIsIHkyXSA9IGZlYXR1cmUyLmdlb21ldHJ5LmNvb3JkaW5hdGVzO1xuICBjb25zdCBhID0geDEgLSB4MjtcbiAgY29uc3QgYiA9IHkxIC0geTI7XG4gIHJldHVybiBtYXRoX3NxcnQoYSAqIGEgKyBiICogYik7XG59XG5cbmV4cG9ydCB7XG4gIGNvbXAsXG4gIGNvbXAyLFxuICBtYXRoX2FicyxcbiAgbWF0aF9yb3VuZCxcbiAgbWF0aF9zaW4sXG4gIG1hdGhfY29zLFxuICBtYXRoX21heCxcbiAgbWF0aF9zcXJ0LFxuICBtYXRoX3BvdyxcbiAgSEFMRl9QSSxcbiAgUmVjdCxcbiAgUHJvcFNpemVyLFxuICB1bmJpbmRVSSxcbiAgcHJlcGFyZVRvb2x0aXAsXG4gIHJlbW92ZUR1cGxpY2F0ZXMsXG4gIGdldFN2Z1BhdGhUeXBlLFxuICBzdmdQYXRoVG9Db29yZHMsXG4gIGNvbXB1dGVQZXJjZW50aWxlUmFuayxcbiAgX2dldFBSLFxuICBnZXRNZWFuLFxuICBnZXRTdGREZXYsXG4gIGdldFN0YW5kYXJkaXplZE1lYW5TdGREZXYsXG4gIHNodWZmbGUsXG4gIGV1Y2xpZGlhbl9kaXN0YW5jZSxcbn07XG4iLCJpbXBvcnQgeyByZW1vdmVEdXBsaWNhdGVzIH0gZnJvbSAnLi9oZWxwZXJzJztcblxuY29uc3QgY3JlYXRlTWVudSA9IGZ1bmN0aW9uIGNyZWF0ZU1lbnUobmFtZXMsIHZhcmlhYmxlcywgc3R1ZHlfem9uZXMsIHRlcnJpdG9yaWFsX21lc2gpIHtcbiAgLy8gRmlyc3Qgc2VjdGlvbiwgcmVnaW9ucyBuYW1lczpcbiAgY29uc3QgdGl0bGVfc2VjdGlvbjEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gIHRpdGxlX3NlY3Rpb24xLmNsYXNzTmFtZSA9ICd0aXRsZV9tZW51JztcbiAgdGl0bGVfc2VjdGlvbjEuaW5uZXJIVE1MID0gJ01hIHLDqWdpb24nO1xuICBjb25zdCBzZWN0aW9uMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBzZWN0aW9uMS5jbGFzc05hbWUgPSAnYm94JztcbiAgc2VjdGlvbjEuc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7XG4gIHNlY3Rpb24xLnN0eWxlLmhlaWdodCA9ICcxODBweCc7XG4gIGZvciAobGV0IGkgPSAwLCBsZW5faSA9IG5hbWVzLmxlbmd0aDsgaSA8IGxlbl9pOyBpKyspIHtcbiAgICBjb25zdCBpZCA9IG5hbWVzW2ldLmdlbztcbiAgICBjb25zdCBuYW1lID0gbmFtZXNbaV0uTm9tO1xuICAgIGNvbnN0IGVudHJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGVudHJ5LmlubmVySFRNTCA9IGA8c3BhbiB2YWx1ZT1cIiR7aWR9XCIgY2xhc3M9J3RhcmdldF9yZWdpb24gc3F1YXJlJz48L3NwYW4+PHNwYW4gY2xhc3M9XCJsYWJlbF9jaGtcIj4ke25hbWV9PC9zcGFuPmA7XG4gICAgc2VjdGlvbjEuYXBwZW5kQ2hpbGQoZW50cnkpO1xuICB9XG5cbiAgLy8gU2Vjb25kIHNlY3Rpb24sIGdyb3VwcyBvZiB2YXJpYWJsZXM6XG4gIGNvbnN0IHRpdGxlX3NlY3Rpb24yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICB0aXRsZV9zZWN0aW9uMi5jbGFzc05hbWUgPSAndGl0bGVfbWVudSc7XG4gIHRpdGxlX3NlY3Rpb24yLmlubmVySFRNTCA9ICdNb24vbWVzIGluZGljYXRldXJzJztcbiAgY29uc3Qgc2VjdGlvbjIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgc2VjdGlvbjIuaWQgPSAnbWVudV92YXJpYWJsZXMnO1xuICBzZWN0aW9uMi5jbGFzc05hbWUgPSAnYm94JztcbiAgc2VjdGlvbjIuc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7XG4gIHNlY3Rpb24yLnN0eWxlLmhlaWdodCA9ICcxNzBweCc7XG5cbiAgLy8gRmlsdGVyIHRoZSBcInZhcmlhYmxlc1wiIHZhcmlhYmxlIHRvIGZldGNoIHRoZSBncm91cCBuYW1lcyA6XG4gIGNvbnN0IGdyb3Vwc192YXIgPSByZW1vdmVEdXBsaWNhdGVzKHZhcmlhYmxlcy5tYXAoZCA9PiBkLmdyb3VwKSk7XG5cbiAgZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gZ3JvdXBzX3Zhci5sZW5ndGg7IGkgPCBsZW5faTsgaSsrKSB7XG4gICAgY29uc3QgZ3BfbmFtZSA9IGdyb3Vwc192YXJbaV07XG4gICAgY29uc3QgZW50cnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgZW50cnkuY2xhc3NOYW1lID0gJ25hbWVfZ3JvdXBfdmFyJztcbiAgICBlbnRyeS5pbm5lckhUTUwgPSBgPHNwYW4gY2xhc3M9J3NxdWFyZSc+PC9zcGFuPjxzcGFuPiR7Z3BfbmFtZX08L3NwYW4+YDtcbiAgICBzZWN0aW9uMi5hcHBlbmRDaGlsZChlbnRyeSk7XG4gICAgY29uc3QgZGl2X2dycCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRpdl9ncnAuc3R5bGUuZGlzcGxheSA9IGkgPT09IDAgPyBudWxsIDogJ25vbmUnO1xuICAgIGNvbnN0IHZhcl9uYW1lcyA9IHZhcmlhYmxlcy5maWx0ZXIoZCA9PiBkLmdyb3VwID09PSBncF9uYW1lKTtcbiAgICBmb3IgKGxldCBqID0gMCwgbGVuX2ogPSB2YXJfbmFtZXMubGVuZ3RoOyBqIDwgbGVuX2o7IGorKykge1xuICAgICAgY29uc3QgbmFtZV92YXIgPSB2YXJfbmFtZXNbal0ubmFtZTtcbiAgICAgIGNvbnN0IGNvZGVfdmFyID0gdmFyX25hbWVzW2pdLnJhdGlvO1xuICAgICAgY29uc3Qgc3ViX2VudHJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgc3ViX2VudHJ5LmNsYXNzTmFtZSA9ICdzbWFsbCc7XG4gICAgICBzdWJfZW50cnkuaW5uZXJIVE1MID0gYDxzcGFuIHZhbHVlPVwiJHtjb2RlX3Zhcn1cIiBjbGFzcz1cInRhcmdldF92YXJpYWJsZSBzbWFsbF9zcXVhcmVcIj48L3NwYW4+PHNwYW4gY2xhc3M9XCJsYWJlbF9jaGtcIj4ke25hbWVfdmFyfTwvc3Bhbj48c3BhbiBjbGFzcz1cImlfaW5mb1wiPmk8L3NwYW4+YDtcbiAgICAgIGRpdl9ncnAuYXBwZW5kQ2hpbGQoc3ViX2VudHJ5KTtcbiAgICB9XG4gICAgc2VjdGlvbjIuYXBwZW5kQ2hpbGQoZGl2X2dycCk7XG4gIH1cblxuICAvLyBUaGlyZCBzZWN0aW9uLCBzdHVkeSB6b25lOlxuICBjb25zdCB0aXRsZV9zZWN0aW9uMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgdGl0bGVfc2VjdGlvbjMuY2xhc3NOYW1lID0gJ3RpdGxlX21lbnUnO1xuICB0aXRsZV9zZWN0aW9uMy5pbm5lckhUTUwgPSAnTW9uIGVzcGFjZSBkXFwnw6l0dWRlJztcbiAgY29uc3Qgc2VjdGlvbjMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgc2VjdGlvbjMuaWQgPSAnbWVudV9zdHVkeXpvbmUnO1xuICBzZWN0aW9uMy5jbGFzc05hbWUgPSAnYm94JztcbiAgZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gc3R1ZHlfem9uZXMubGVuZ3RoOyBpIDwgbGVuX2k7IGkrKykge1xuICAgIGNvbnN0IGVudHJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGNvbnN0IHpvbmUgPSBzdHVkeV96b25lc1tpXTtcbiAgICBpZiAoem9uZS5pZCA9PT0gJ2ZpbHRlcl9kaXN0Jykge1xuICAgICAgZW50cnkuaW5uZXJIVE1MID0gYDxzcGFuIGZpbHRlci12YWx1ZT1cIiR7em9uZS5pZH1cIiBjbGFzcz0nZmlsdGVyX3Ygc3F1YXJlJz48L3NwYW4+PHNwYW4gY2xhc3M9XCJsYWJlbF9jaGtcIj4ke3pvbmUubmFtZX08L3NwYW4+PGlucHV0IHZhbHVlPVwiNDUwXCIgZGlzYWJsZWQ9XCJkaXNhYmxlZFwiIHN0eWxlPVwid2lkdGg6IDU1cHg7IGhlaWdodDogMTNweDtcIiB0eXBlPVwibnVtYmVyXCIgbWluPVwiMFwiIG1heD1cIjEwMDAwMFwiIGlkPVwiZGlzdF9maWx0ZXJcIj48L2lucHV0PjxzcGFuPiBrbTwvc3Bhbj48c3BhbiBjbGFzcz1cImlfaW5mb1wiPmk8L3NwYW4+YDtcbiAgICB9IGVsc2Uge1xuICAgICAgZW50cnkuaW5uZXJIVE1MID0gYDxzcGFuIGZpbHRlci12YWx1ZT1cIiR7em9uZS5pZH1cIiBjbGFzcz0nZmlsdGVyX3Ygc3F1YXJlJz48L3NwYW4+PHNwYW4gY2xhc3M9XCJsYWJlbF9jaGtcIj4ke3pvbmUubmFtZX08L3NwYW4+PHNwYW4gY2xhc3M9XCJpX2luZm9cIj5pPC9zcGFuPmA7XG4gICAgfVxuICAgIHNlY3Rpb24zLmFwcGVuZENoaWxkKGVudHJ5KTtcbiAgfVxuXG4gIC8vIEZvdXJ0aCBzZWN0aW9uOlxuICBjb25zdCB0aXRsZV9zZWN0aW9uNCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgdGl0bGVfc2VjdGlvbjQuY2xhc3NOYW1lID0gJ3RpdGxlX21lbnUnO1xuICB0aXRsZV9zZWN0aW9uNC5pbm5lckhUTUwgPSAnTWFpbGxhZ2UgdGVycml0b3JpYWwgZFxcJ2FuYWx5c2UnO1xuICBjb25zdCBzZWN0aW9uNCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBzZWN0aW9uNC5pZCA9ICdtZW51X3RlcnJpdF9sZXZlbCc7XG4gIHNlY3Rpb240LmNsYXNzTmFtZSA9ICdib3gnO1xuICBmb3IgKGxldCBpID0gMCwgbGVuX2kgPSB0ZXJyaXRvcmlhbF9tZXNoLmxlbmd0aDsgaSA8IGxlbl9pOyBpKyspIHtcbiAgICBjb25zdCBlbnRyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBjb25zdCB0ZXJyaXRfbGV2ZWwgPSB0ZXJyaXRvcmlhbF9tZXNoW2ldO1xuICAgIGVudHJ5LmlubmVySFRNTCA9IGA8c3BhbiB2YWx1ZT1cIiR7dGVycml0X2xldmVsLmlkfVwiIGNsYXNzPSdzcXVhcmUgdGVycml0X2xldmVsJz48L3NwYW4+PHNwYW4gY2xhc3M9XCJsYWJlbF9jaGtcIj4ke3RlcnJpdF9sZXZlbC5uYW1lfTwvc3Bhbj48c3BhbiBjbGFzcz1cImlfaW5mb1wiPmk8L3NwYW4+YDtcbiAgICBzZWN0aW9uNC5hcHBlbmRDaGlsZChlbnRyeSk7XG4gIH1cblxuICAvLyBUaGUgYWN0dWFsIG1lbnUgY29udGFpbmluZyB0aGVzZSA0IHNlY3Rpb25zOlxuICBjb25zdCBtZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnUnKTtcbiAgbWVudS5pZCA9ICdtZW51JztcbiAgbWVudS5zdHlsZS53aWR0aCA9ICczNDBweCc7XG4gIG1lbnUuc3R5bGUuZmxvYXQgPSAnbGVmdCc7XG4gIG1lbnUuYXBwZW5kQ2hpbGQodGl0bGVfc2VjdGlvbjEpO1xuICBtZW51LmFwcGVuZENoaWxkKHNlY3Rpb24xKTtcbiAgbWVudS5hcHBlbmRDaGlsZCh0aXRsZV9zZWN0aW9uMik7XG4gIG1lbnUuYXBwZW5kQ2hpbGQoc2VjdGlvbjIpO1xuICBtZW51LmFwcGVuZENoaWxkKHRpdGxlX3NlY3Rpb24zKTtcbiAgbWVudS5hcHBlbmRDaGlsZChzZWN0aW9uMyk7XG4gIG1lbnUuYXBwZW5kQ2hpbGQodGl0bGVfc2VjdGlvbjQpO1xuICBtZW51LmFwcGVuZENoaWxkKHNlY3Rpb240KTtcbn07XG5cbmV4cG9ydCB7IGNyZWF0ZU1lbnUgfTtcbiIsImltcG9ydCB7IGFwcCB9IGZyb20gJy4vLi4vbWFpbic7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VUb3BNZW51KCkge1xuICBjb25zdCB0b3BfbWVudSA9IGQzLnNlbGVjdCgnI21lbnV0b3AnKVxuICAgIC5zdHlsZXMoeyAnZm9udC1mYW1pbHknOiBcIidTaWduaWthJywgc2Fucy1zZXJpZlwiLCAnZm9udC1zaXplJzogJzAuODBlbScsIHBhZGRpbmc6ICcwLjNweCcgfSk7XG4gIGNvbnN0IHdpZHRoX2xlZnQgPSBgJHtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWVudScpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICsgMjV9cHhgO1xuICBjb25zdCB0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Jhcl9zZWN0aW9uJykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XG4gIGNvbnN0IHdpZHRoX2NlbnRyYWxfY2hhcnQgPSBgJHt0fXB4YDtcbiAgY29uc3Qgd2lkdGhfbWFwID0gYCR7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21hcF9zZWN0aW9uJykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggLSAzNX1weGA7XG4gIGNvbnN0IHdpZHRoX3R5cGVfY29tcCA9IGAkeyh0IC0gODApIC8gMiAtIDJ9cHhgO1xuICB0b3BfbWVudVxuICAgIC5hcHBlbmQoJ2RpdicpXG4gICAgLmF0dHJzKHsgY2xhc3M6ICd0aXRsZV9zZWN0aW9uJyB9KVxuICAgIC5zdHlsZXMoeyB3aWR0aDogd2lkdGhfbGVmdCwgZmxvYXQ6ICdsZWZ0JywgbWFyZ2luOiAnMCAzcHgnIH0pXG4gICAgLmh0bWwoJ1PDiUxFQ1RJT04nKTtcblxuICBjb25zdCB0eXBlX2NoYXJ0ID0gdG9wX21lbnVcbiAgICAuYXBwZW5kKCdkaXYnKVxuICAgIC5hdHRyKCdjbGFzcycsICd0b3Bfc2VjdGlvbicpXG4gICAgLnN0eWxlcyh7IHdpZHRoOiB3aWR0aF9jZW50cmFsX2NoYXJ0LCBmbG9hdDogJ2xlZnQnLCBtYXJnaW46ICcwIDNweCcsICd0ZXh0LWFsaWduJzogJ2NlbnRlcicgfSk7XG5cbiAgY29uc3QgcG9zaXRpb24gPSB0eXBlX2NoYXJ0XG4gICAgLmFwcGVuZCgnZGl2JylcbiAgICAuYXR0cignY2xhc3MnLCAndHlwZV9jb21wYXJhaXNvbicpXG4gICAgLnN0eWxlcyh7IHdpZHRoOiB3aWR0aF90eXBlX2NvbXAgfSk7XG5cbiAgcG9zaXRpb24uYXBwZW5kKCdwJylcbiAgICAuYXR0cignY2xhc3MnLCAndGl0bGVfdHlwZV9jb21wJylcbiAgICAuaHRtbCgnUE9TSVRJT04nKTtcblxuICBwb3NpdGlvbi5hcHBlbmQoJ3NwYW4nKVxuICAgIC5hdHRycyh7IGNsYXNzOiAndHlwZV9jaGFydCBjaGFydF90MScsIHZhbHVlOiAnQmFyQ2hhcnQxJyB9KVxuICAgIC5odG1sKCcxIGluZC4nKTtcblxuICBwb3NpdGlvbi5hcHBlbmQoJ3NwYW4nKVxuICAgIC5hdHRycyh7IGNsYXNzOiAndHlwZV9jaGFydCBjaGFydF90MiBkaXNhYmxlZCcsIHZhbHVlOiAnU2NhdHRlclBsb3QyJyB9KVxuICAgIC5odG1sKCcyIGluZC4nKTtcblxuICBwb3NpdGlvbi5hcHBlbmQoJ3NwYW4nKVxuICAgIC5hdHRycyh7IGNsYXNzOiAndHlwZV9jaGFydCBjaGFydF90MyBkaXNhYmxlZCcsIHZhbHVlOiAnUmFkYXJDaGFydDMnIH0pXG4gICAgLmh0bWwoJyszIGluZC4nKTtcblxuICBjb25zdCByZXNzZW1ibGFuY2UgPSB0eXBlX2NoYXJ0XG4gICAgLmFwcGVuZCgnZGl2JylcbiAgICAuYXR0cignY2xhc3MnLCAndHlwZV9jb21wYXJhaXNvbicpXG4gICAgLnN0eWxlcyh7IHdpZHRoOiB3aWR0aF90eXBlX2NvbXAgfSk7XG5cbiAgcmVzc2VtYmxhbmNlLmFwcGVuZCgncCcpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ3RpdGxlX3R5cGVfY29tcCcpXG4gICAgLmh0bWwoJ1JFU1NFTUJMQU5DRVMnKTtcblxuICByZXNzZW1ibGFuY2UuYXBwZW5kKCdzcGFuJylcbiAgICAuYXR0cnMoeyBjbGFzczogJ3R5cGVfY2hhcnQgY2hhcnRfdDEnLCB2YWx1ZTogJ0J1YmJsZUNoYXJ0MScgfSlcbiAgICAuaHRtbCgnMSBpbmQuJyk7XG5cbiAgcmVzc2VtYmxhbmNlLmFwcGVuZCgnc3BhbicpXG4gICAgLmF0dHJzKHsgY2xhc3M6ICd0eXBlX2NoYXJ0IGNoYXJ0X3QyIGRpc2FibGVkJywgdmFsdWU6ICdTaW1pbGFyaXR5Q2hhcnQnIH0pXG4gICAgLmh0bWwoJysyIGluZC4nKTtcblxuICByZXNzZW1ibGFuY2UuYXBwZW5kKCdzcGFuJylcbiAgICAuYXR0cnMoeyBjbGFzczogJ3R5cGVfY2hhcnQgY2hhcnRfdDEnLCB2YWx1ZTogJ1NpbWlsYXJpdHkxcGx1cycgfSlcbiAgICAuaHRtbCgnKzEgaW5kLicpO1xuXG4gIC8vIGNvbnN0IGluZWdhbGl0ZSA9IHR5cGVfY2hhcnRcbiAgLy8gICAuYXBwZW5kKCdkaXYnKVxuICAvLyAgIC5hdHRyKCdjbGFzcycsICd0eXBlX2NvbXBhcmFpc29uJylcbiAgLy8gICAuc3R5bGVzKHsgd2lkdGg6IHdpZHRoX3R5cGVfY29tcCB9KTtcbiAgLy9cbiAgLy8gaW5lZ2FsaXRlLmFwcGVuZCgncCcpXG4gIC8vICAgLmF0dHIoJ2NsYXNzJywgJ3RpdGxlX3R5cGVfY29tcCcpXG4gIC8vICAgLmh0bWwoJ0lOw4lHQUxJVMOJUycpO1xuICAvL1xuICAvLyBpbmVnYWxpdGUuYXBwZW5kKCdzcGFuJylcbiAgLy8gICAuYXR0cnMoeyBjbGFzczogJ3R5cGVfY2hhcnQgY2hhcnRfdDEnLCB2YWx1ZTogJ0JveFBsb3QxJyB9KVxuICAvLyAgIC5odG1sKCcxIGluZC4nKTtcbiAgLy9cbiAgLy8gaW5lZ2FsaXRlLmFwcGVuZCgnc3BhbicpXG4gIC8vICAgLmF0dHJzKHsgY2xhc3M6ICd0eXBlX2NoYXJ0IGNoYXJ0X3QyIGRpc2FibGVkJywgdmFsdWU6ICdQYXJhbGxlbENvb3JkczInIH0pXG4gIC8vICAgLmh0bWwoJysyIGluZC4nKTtcblxuICB0b3BfbWVudVxuICAgIC5hcHBlbmQoJ2RpdicpXG4gICAgLmF0dHJzKHsgY2xhc3M6ICd0aXRsZV9zZWN0aW9uJyB9KVxuICAgIC5zdHlsZXMoeyB3aWR0aDogd2lkdGhfbWFwLCBmbG9hdDogJ2xlZnQnLCBtYXJnaW46ICcwIDAgMCAyMHB4JyB9KVxuICAgIC5odG1sKCdRVUVMTEVTIFJFR0lPTlMgPycpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZUhlYWRlck1hcFNlY3Rpb24oKSB7XG4gIGNvbnN0IGhlYWRlcl9tYXBfc2VjdGlvbiA9IGQzLnNlbGVjdCgnI21hcF9zZWN0aW9uJylcbiAgICAuaW5zZXJ0KCdwJywgJ3N2ZycpXG4gICAgLmF0dHIoJ2lkJywgJ2hlYWRlcl9tYXAnKVxuICAgIC5zdHlsZSgnbWFyZ2luJywgJzAgMCAwIDEwcHgnKTtcblxuICBoZWFkZXJfbWFwX3NlY3Rpb24uaW5zZXJ0KCdpbWcnKVxuICAgIC5hdHRycyh7XG4gICAgICBjbGFzczogJ21hcF9idXR0b24gYWN0aXZlJyxcbiAgICAgIHdpZHRoOiAyMCxcbiAgICAgIGhlaWdodDogMjAsXG4gICAgICBzcmM6ICdpbWcvZ2ltcC10b29sLXJlY3Qtc2VsZWN0LnBuZycsXG4gICAgICBpZDogJ2ltZ19yZWN0X3NlbGVjJyxcbiAgICB9KTtcblxuICBoZWFkZXJfbWFwX3NlY3Rpb24uaW5zZXJ0KCdpbWcnKVxuICAgIC5hdHRycyh7XG4gICAgICBjbGFzczogJ21hcF9idXR0b24nLFxuICAgICAgd2lkdGg6IDIwLFxuICAgICAgaGVpZ2h0OiAyMCxcbiAgICAgIHNyYzogJ2ltZy9naW1wLXRvb2wtem9vbS5wbmcnLFxuICAgICAgaWQ6ICdpbWdfbWFwX3pvb20nLFxuICAgIH0pO1xuXG4gIGhlYWRlcl9tYXBfc2VjdGlvbi5pbnNlcnQoJ2ltZycpXG4gICAgLmF0dHJzKHtcbiAgICAgIGNsYXNzOiAnbWFwX2J1dHRvbicsXG4gICAgICB3aWR0aDogMjAsXG4gICAgICBoZWlnaHQ6IDIwLFxuICAgICAgc3JjOiAnaW1nL2dpbXAtY3Vyc29yLnBuZycsXG4gICAgICBpZDogJ2ltZ19tYXBfc2VsZWN0JyxcbiAgICB9KTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZUhlYWRlckNoYXJ0KCkge1xuICBjb25zdCBoZWFkZXJfYmFyX3NlY3Rpb24gPSBkMy5zZWxlY3QoJyNiYXJfc2VjdGlvbicpXG4gICAgLmluc2VydCgncCcsICdzdmcnKVxuICAgIC5hdHRyKCdpZCcsICdoZWFkZXJfY2hhcnQnKVxuICAgIC5zdHlsZSgnbWFyZ2luLWJvdHRvbScsICcwJylcbiAgICAuc3R5bGUoJ2NsZWFyJywgJ2JvdGgnKTtcblxuICBoZWFkZXJfYmFyX3NlY3Rpb24uaW5zZXJ0KCdpbWcnKVxuICAgIC5hdHRycyh7XG4gICAgICB3aWR0aDogMjQsXG4gICAgICBoZWlnaHQ6IDI0LFxuICAgICAgc3JjOiAnaW1nL2VkaXQtdGFibGUtaW5zZXJ0LXJvdy1hYm92ZS5zdmcnLFxuICAgICAgaWQ6ICdpbWdfdGFibGUnLFxuICAgIH0pXG4gICAgLnN0eWxlcyh7IG1hcmdpbjogJzNweCcsIGZsb2F0OiAncmlnaHQnIH0pXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGF0YVRhYmxlLXdyYXBwZXInKS5zdHlsZS5kaXNwbGF5KSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzdmdfbWFwJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N2Z19sZWdlbmQnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaGVhZGVyX21hcCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNoZWFkZXJfdGFibGUnKS5zdHlsZS5kaXNwbGF5ID0gbnVsbDtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRhdGFUYWJsZS13cmFwcGVyJykuc3R5bGUuZGlzcGxheSA9IG51bGw7XG4gICAgICAgIHRoaXMuc3R5bGUuZmlsdGVyID0gJ2ludmVydCg3NSUpJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzdmdfbWFwJykuc3R5bGUuZGlzcGxheSA9IG51bGw7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzdmdfbGVnZW5kJykuc3R5bGUuZGlzcGxheSA9IG51bGw7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNoZWFkZXJfbWFwJykuc3R5bGUuZGlzcGxheSA9IG51bGw7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNoZWFkZXJfdGFibGUnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGF0YVRhYmxlLXdyYXBwZXInKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB0aGlzLnN0eWxlLmZpbHRlciA9IG51bGw7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgaGVhZGVyX2Jhcl9zZWN0aW9uLmluc2VydCgnaW1nJylcbiAgICAuYXR0cnMoe1xuICAgICAgd2lkdGg6IDI0LFxuICAgICAgaGVpZ2h0OiAyNCxcbiAgICAgIHNyYzogJ2ltZy9wcmludGVyLnN2ZycsXG4gICAgICBpZDogJ2ltZ19wcmludGVyJyxcbiAgICB9KVxuICAgIC5zdHlsZXMoeyBtYXJnaW46ICczcHgnLCBmbG9hdDogJ3JpZ2h0JyB9KTtcblxuICBoZWFkZXJfYmFyX3NlY3Rpb24uaW5zZXJ0KCdpbWcnKVxuICAgIC5hdHRycyh7XG4gICAgICB3aWR0aDogMjQsXG4gICAgICBoZWlnaHQ6IDI0LFxuICAgICAgc3JjOiAnaW1nL2d0ay1pbmZvLnN2ZycsXG4gICAgICBpZDogJ2ltZ19pbmZvJyxcbiAgICB9KVxuICAgIC5zdHlsZXMoeyBtYXJnaW46ICczcHgnLCBmbG9hdDogJ3JpZ2h0JyB9KTtcbn1cbiIsImltcG9ydCB7IGFwcCB9IGZyb20gJy4vLi4vbWFpbic7XG5pbXBvcnQgeyBjb2xvcl9kaXNhYmxlZCwgY29sb3JfY291bnRyaWVzLCBjb2xvcl9zdXAsIGNvbG9yX2luZiwgY29sb3JfaGlnaGxpZ2h0IH0gZnJvbSAnLi9vcHRpb25zJztcbmltcG9ydCB7IG1hdGhfcm91bmQsIHByZXBhcmVUb29sdGlwLCBnZXRTdmdQYXRoVHlwZSwgZXVjbGlkaWFuX2Rpc3RhbmNlIH0gZnJvbSAnLi9oZWxwZXJzJztcblxuY29uc3Qgc3ZnX21hcCA9IGQzLnNlbGVjdCgnc3ZnI3N2Z19tYXAnKSxcbiAgbWFyZ2luX21hcCA9IHsgdG9wOiAwLCByaWdodDogMCwgYm90dG9tOiAwLCBsZWZ0OiAwIH0sXG4gIHdpZHRoX21hcCA9ICtzdmdfbWFwLmF0dHIoJ3dpZHRoJykgLSBtYXJnaW5fbWFwLmxlZnQgLSBtYXJnaW5fbWFwLnJpZ2h0LFxuICBoZWlnaHRfbWFwID0gK3N2Z19tYXAuYXR0cignaGVpZ2h0JykgLSBtYXJnaW5fbWFwLnRvcCAtIG1hcmdpbl9tYXAuYm90dG9tO1xuXG5jb25zdCBzdHlsZXMgPSB7XG4gIHRlbXBsYXRlOiB7IGlkOiAndGVtcGxhdGUnLCBmaWxsOiAncmdiKDI0NywgMjUyLCAyNTQpJywgJ2ZpbGwtb3BhY2l0eSc6IDEgfSxcbiAgY291bnRyaWVzOiB7IGlkOiAnY291bnRyaWVzJywgZmlsbDogJ3JnYigyMTQsIDIxNCwgMjE0KScsICdmaWxsLW9wYWNpdHknOiAxLCAnc3Ryb2tlLXdpZHRoJzogMC41LCBzdHJva2U6ICcjZmZmZmZmJyB9LFxuICBzZWFib3hlczogeyBpZDogJ3NlYWJveGVzJywgZmlsbDogJyNlMGZhZmYnLCAnZmlsbC1vcGFjaXR5JzogMSwgc3Ryb2tlOiAnYmxhY2snLCAnc3Ryb2tlLXdpZHRoJzogMC4yIH0sXG4gIHJlbW90ZTogeyBpZDogJ3JlbW90ZScsIGZpbGw6ICdyZ2IoMjE0LCAyMTQsIDIxNCknLCAnZmlsbC1vcGFjaXR5JzogMSwgJ3N0cm9rZS13aWR0aCc6IDAuNSwgc3Ryb2tlOiAnI2ZmZmZmZicgfSxcbiAgc2VhYm94ZXMyOiB7IGlkOiAnc2VhYm94ZXMyJywgZmlsbDogJ25vbmUnLCBzdHJva2U6ICdibGFjaycsICdzdHJva2Utd2lkdGgnOiAwLjggfSxcbiAgbnV0czE6IHsgaWQ6ICdudXRzMScsICdmaWxsLW9wYWNpdHknOiAxLCAnc3Ryb2tlLXdpZHRoJzogMC41LCBzdHJva2U6ICcjZmZmZmZmJyB9LFxufTtcblxubGV0IHByb2plY3Rpb247XG5sZXQgcGF0aDtcblxuZnVuY3Rpb24gZ2V0X2Jib3hfbGF5ZXJfcGF0aChuYW1lKSB7XG4gIGNvbnN0IGJib3hfbGF5ZXIgPSBbW0luZmluaXR5LCBJbmZpbml0eV0sIFstSW5maW5pdHksIC1JbmZpbml0eV1dO1xuICBzdmdfbWFwLnNlbGVjdChgIyR7bmFtZX1gKVxuICAgIC5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgIC5lYWNoKChkKSA9PiB7XG4gICAgICBjb25zdCBiYm94X3BhdGggPSBwYXRoLmJvdW5kcyhkLmdlb21ldHJ5KTtcbiAgICAgIGJib3hfbGF5ZXJbMF1bMF0gPSBiYm94X3BhdGhbMF1bMF0gPCBiYm94X2xheWVyWzBdWzBdID8gYmJveF9wYXRoWzBdWzBdIDogYmJveF9sYXllclswXVswXTtcbiAgICAgIGJib3hfbGF5ZXJbMF1bMV0gPSBiYm94X3BhdGhbMF1bMV0gPCBiYm94X2xheWVyWzBdWzFdID8gYmJveF9wYXRoWzBdWzFdIDogYmJveF9sYXllclswXVsxXTtcbiAgICAgIGJib3hfbGF5ZXJbMV1bMF0gPSBiYm94X3BhdGhbMV1bMF0gPiBiYm94X2xheWVyWzFdWzBdID8gYmJveF9wYXRoWzFdWzBdIDogYmJveF9sYXllclsxXVswXTtcbiAgICAgIGJib3hfbGF5ZXJbMV1bMV0gPSBiYm94X3BhdGhbMV1bMV0gPiBiYm94X2xheWVyWzFdWzFdID8gYmJveF9wYXRoWzFdWzFdIDogYmJveF9sYXllclsxXVsxXTtcbiAgICB9KTtcbiAgcmV0dXJuIGJib3hfbGF5ZXI7XG59XG5cbmZ1bmN0aW9uIGZpdExheWVyKCkge1xuICBwcm9qZWN0aW9uLnNjYWxlKDEpLnRyYW5zbGF0ZShbMCwgMF0pO1xuICBjb25zdCBiID0gZ2V0X2Jib3hfbGF5ZXJfcGF0aCgndGVtcGxhdGUnKTtcbiAgY29uc3QgcyA9IDEgLyBNYXRoLm1heCgoYlsxXVswXSAtIGJbMF1bMF0pIC8gd2lkdGhfbWFwLCAoYlsxXVsxXSAtIGJbMF1bMV0pIC8gaGVpZ2h0X21hcCk7XG4gIGNvbnN0IHQgPSBbKHdpZHRoX21hcCAtIHMgKiAoYlsxXVswXSArIGJbMF1bMF0pKSAvIDIsIChoZWlnaHRfbWFwIC0gcyAqIChiWzFdWzFdICsgYlswXVsxXSkpIC8gMl07XG4gIHByb2plY3Rpb24uc2NhbGUocykudHJhbnNsYXRlKHQpO1xuICBzdmdfbWFwLnNlbGVjdEFsbCgncGF0aCcpLmF0dHIoJ2QnLCBwYXRoKTtcbn1cblxuZnVuY3Rpb24gbWFwX3pvb21lZCgpIHtcbiAgY29uc3QgdHJhbnNmb3JtID0gZDMuZXZlbnQudHJhbnNmb3JtO1xuICBpZiAodHJhbnNmb3JtLmsgPT09IDEpIHtcbiAgICB0cmFuc2Zvcm0ueCA9IDA7XG4gICAgdHJhbnNmb3JtLnkgPSAwO1xuICB9XG4gIGNvbnN0IGxheWVycyA9IHN2Z19tYXAuc2VsZWN0KCcjbGF5ZXJzJyk7XG4gIGNvbnN0IHQgPSBsYXllcnNcbiAgICAuc2VsZWN0QWxsKCdnJylcbiAgICAudHJhbnNpdGlvbigpXG4gICAgLmR1cmF0aW9uKDIyNSk7XG5cbiAgbGF5ZXJzLnNlbGVjdEFsbCgnZycpXG4gICAgLnRyYW5zaXRpb24odClcbiAgICAuc3R5bGUoJ3N0cm9rZS13aWR0aCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBgJHtzdHlsZXNbdGhpcy5pZF1bJ3N0cm9rZS13aWR0aCddIC8gdHJhbnNmb3JtLmt9cHhgO1xuICAgIH0pO1xuXG4gIGxheWVycy5zZWxlY3RBbGwoJ2cnKVxuICAgIC50cmFuc2l0aW9uKHQpXG4gICAgLmF0dHIoJ3RyYW5zZm9ybScsIHRyYW5zZm9ybSk7XG5cbiAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKVxuICAgIC50cmFuc2l0aW9uKHQpXG4gICAgLmF0dHIoJ3RyYW5zZm9ybScsIHRyYW5zZm9ybSk7XG59XG5cbmNsYXNzIE1hcFNlbGVjdCB7XG4gIGNvbnN0cnVjdG9yKG51dHMxLCBjb3VudHJpZXMsIHJlbW90ZSwgdGVtcGxhdGUsIHNlYWJveGVzKSB7XG4gICAgcHJvamVjdGlvbiA9IGQzLmdlb0lkZW50aXR5KClcbiAgICAgIC5maXRFeHRlbnQoW1swLCAwXSwgW3dpZHRoX21hcCwgaGVpZ2h0X21hcF1dLCB0ZW1wbGF0ZSlcbiAgICAgIC5yZWZsZWN0WSh0cnVlKTtcblxuICAgIHBhdGggPSBkMy5nZW9QYXRoKCkucHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICBjb25zdCBsYXllcnMgPSBzdmdfbWFwLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignaWQnLCAnbGF5ZXJzJyk7XG5cbiAgICB0aGlzLnpvb21fbWFwID0gZDMuem9vbSgpXG4gICAgICAuc2NhbGVFeHRlbnQoWzEsIDVdKVxuICAgICAgLnRyYW5zbGF0ZUV4dGVudChbWzAsIDBdLCBbd2lkdGhfbWFwLCBoZWlnaHRfbWFwXV0pXG4gICAgICAub24oJ3pvb20nLCBtYXBfem9vbWVkKTtcblxuICAgIHN2Z19tYXAuY2FsbCh0aGlzLnpvb21fbWFwKTtcblxuICAgIGxheWVycy5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHN0eWxlcy50ZW1wbGF0ZSlcbiAgICAgIC5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLmRhdGEodGVtcGxhdGUuZmVhdHVyZXMpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgncGF0aCcpXG4gICAgICAuYXR0cnMoeyBkOiBwYXRoIH0pO1xuXG4gICAgbGF5ZXJzLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cnMoc3R5bGVzLmNvdW50cmllcylcbiAgICAgIC5hdHRyKCdpZCcsICdjb3VudHJpZXMnKVxuICAgICAgLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuZGF0YShjb3VudHJpZXMuZmVhdHVyZXMpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgncGF0aCcpXG4gICAgICAuYXR0cnMoeyBkOiBwYXRoIH0pO1xuXG4gICAgbGF5ZXJzLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cnMoc3R5bGVzLnNlYWJveGVzKVxuICAgICAgLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuZGF0YShzZWFib3hlcy5mZWF0dXJlcylcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRycyh7IGQ6IHBhdGggfSk7XG5cbiAgICBsYXllcnMuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyhzdHlsZXMucmVtb3RlKVxuICAgICAgLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuZGF0YShyZW1vdGUuZmVhdHVyZXMpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgncGF0aCcpXG4gICAgICAuYXR0cnMoeyBkOiBwYXRoIH0pO1xuXG4gICAgbGF5ZXJzLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cnMoc3R5bGVzLnNlYWJveGVzMilcbiAgICAgIC5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLmRhdGEoc2VhYm94ZXMuZmVhdHVyZXMpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgncGF0aCcpXG4gICAgICAuYXR0cnMoeyBkOiBwYXRoIH0pO1xuXG4gICAgdGhpcy50YXJnZXRfbGF5ZXIgPSBsYXllcnMuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyhzdHlsZXMubnV0czEpO1xuICAgIHRoaXMudGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuZGF0YShudXRzMS5mZWF0dXJlcylcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRyKCdmaWxsJywgZCA9PiAoZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXSAhPT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbiA/IGNvbG9yX2NvdW50cmllcyA6IGNvbG9yX2hpZ2hsaWdodCkpXG4gICAgICAuYXR0cignZCcsIHBhdGgpO1xuICAgIGFwcC50eXBlX3BhdGggPSBnZXRTdmdQYXRoVHlwZSh0aGlzLnRhcmdldF9sYXllci5zZWxlY3QoJ3BhdGgnKS5ub2RlKCkuZ2V0QXR0cmlidXRlKCdkJykpO1xuICAgIGZpdExheWVyKCk7XG4gICAgcHJlcGFyZVRvb2x0aXAoc3ZnX21hcCk7XG4gICAgLy8gdGhpcy5iaW5kVG9vbHRpcCgpO1xuICB9XG5cbiAgcmVzZXRDb2xvcnMoY3VycmVudF9pZHMpIHtcbiAgICBjb25zdCBpZF9maWVsZF9nZW9tID0gYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb207XG4gICAgdGhpcy50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5hdHRyKCdmaWxsJywgKGQpID0+IHtcbiAgICAgICAgY29uc3QgaWQgPSBkLnByb3BlcnRpZXNbaWRfZmllbGRfZ2VvbV07XG4gICAgICAgIGlmIChpZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbikge1xuICAgICAgICAgIHJldHVybiBjb2xvcl9oaWdobGlnaHQ7XG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudF9pZHMuaW5kZXhPZihpZCkgPiAtMSkge1xuICAgICAgICAgIHJldHVybiBhcHAuY29sb3JzW2lkXSB8fCBjb2xvcl9jb3VudHJpZXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbG9yX2Rpc2FibGVkO1xuICAgICAgfSk7XG4gIH1cbiAgLy8gYmluZFRvb2x0aXAoKSB7XG4gIC8vICAgdGhpcy50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgLy8gICAgIC5vbignbW91c2VvdmVyJywgKCkgPT4ge1xuICAvLyAgICAgICBzdmdfbWFwLnNlbGVjdCgnLnRvb2x0aXAnKVxuICAvLyAgICAgICAgIC5zdHlsZSgnZGlzcGxheScsIG51bGwpO1xuICAvLyAgICAgfSlcbiAgLy8gICAgIC5vbignbW91c2VvdXQnLCAoKSA9PiB7XG4gIC8vICAgICAgIHN2Z19tYXAuc2VsZWN0KCcudG9vbHRpcCcpXG4gIC8vICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgLy8gICAgIH0pXG4gIC8vICAgICAub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChkKSB7XG4gIC8vICAgICAgIGNvbnN0IHRvb2x0aXAgPSBzdmdfbWFwLnNlbGVjdCgnLnRvb2x0aXAnKTtcbiAgLy8gICAgICAgdG9vbHRpcFxuICAvLyAgICAgICAgIC5zZWxlY3QoJ3RleHQuaWRfZmVhdHVyZScpXG4gIC8vICAgICAgICAgLnRleHQoYCR7ZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXX1gKTtcbiAgLy8gICAgICAgbGV0IF9peCwgbmJfdmFsO1xuICAvLyAgICAgICBmb3IgKF9peCA9IDAsIG5iX3ZhbCA9IE1hdGgubWluKGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpby5sZW5ndGgsIDUpOyBfaXggPCBuYl92YWw7IF9peCsrKSB7XG4gIC8vICAgICAgICAgdG9vbHRpcC5zZWxlY3QoYHRleHQudmFsdWVfZmVhdHVyZSR7X2l4ICsgMX1gKVxuICAvLyAgICAgICAgICAgLnRleHQoYCR7YXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvX3ByZXR0eV9uYW1lW19peF19OiAke21hdGhfcm91bmQoZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5yYXRpb1tfaXhdXSAqIDEwKSAvIDEwfWApO1xuICAvLyAgICAgICB9XG4gIC8vICAgICAgIHRvb2x0aXBcbiAgLy8gICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke1tkMy5tb3VzZSh0aGlzKVswXSAtIDUsIGQzLm1vdXNlKHRoaXMpWzFdIC0gNDUgLSBfaXggKiAxMl19KWApO1xuICAvLyAgICAgfSk7XG4gIC8vIH1cbiAgcmVzZXRab29tKCkge1xuICAgIHN2Z19tYXAudHJhbnNpdGlvbigpXG4gICAgICAuZHVyYXRpb24oMjUwKVxuICAgICAgLmNhbGwodGhpcy56b29tX21hcC50cmFuc2Zvcm0sIGQzLnpvb21JZGVudGl0eSk7XG4gIH1cblxuICB1cGRhdGVMZWdlbmQoKSB7XG4gICAgZDMuc2VsZWN0KCcjc3ZnX2xlZ2VuZCA+IGcgPiAubGVnZW5kID4gdGV4dCcpXG4gICAgICAudGV4dChgTWEgcsOpZ2lvbiA6ICR7YXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl9wcmV0dHlfbmFtZX1gKTtcbiAgfVxuXG4gIHJlbW92ZVJlY3RCcnVzaCgpIHtcbiAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpLmNhbGwodGhpcy5icnVzaF9tYXAubW92ZSwgbnVsbCk7XG4gIH1cblxuICBjYWxsQnJ1c2goc2VsZWN0aW9uKSB7XG4gICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKS5jYWxsKHRoaXMuYnJ1c2hfbWFwLm1vdmUsIHNlbGVjdGlvbik7XG4gIH1cblxuICBiaW5kQnJ1c2hDbGljayhjaGFydCkge1xuICAgIGlmIChjaGFydC5oYW5kbGVDbGlja01hcCkge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19tYXBfc2VsZWN0JykuY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZWQnKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfbWFwX3NlbGVjdCcpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX21hcF9zZWxlY3QnKS5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xuICAgIH1cbiAgICBpZiAoY2hhcnQuaGFuZGxlX2JydXNoX21hcCkge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19yZWN0X3NlbGVjJykuY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZWQnKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfcmVjdF9zZWxlYycpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19tYXBfem9vbScpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19tYXBfc2VsZWN0JykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICB0aGlzLmJydXNoX21hcCA9IGQzLmJydXNoKClcbiAgICAgICAgLmV4dGVudChbWzAsIDBdLCBbd2lkdGhfbWFwLCBoZWlnaHRfbWFwXV0pXG4gICAgICAgIC5vbignc3RhcnQgYnJ1c2gnLCAoKSA9PiB7XG4gICAgICAgICAgY2hhcnQuaGFuZGxlX2JydXNoX21hcChkMy5ldmVudCk7XG4gICAgICAgIH0pO1xuICAgICAgc3ZnX21hcC5hcHBlbmQoJ2cnKVxuICAgICAgICAuYXR0cignY2xhc3MnLCAnYnJ1c2hfbWFwJylcbiAgICAgICAgLmNhbGwodGhpcy5icnVzaF9tYXApO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX3JlY3Rfc2VsZWMnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfcmVjdF9zZWxlYycpLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX21hcF96b29tJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX21hcF9zZWxlY3QnKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICB9XG4gIH1cblxuICBnZXRVbml0c1dpdGhpbihkaXN0X2ttKSB7XG4gICAgY29uc3QgZGlzdCA9IGRpc3Rfa20gKiAxMDAwO1xuICAgIGlmICghdGhpcy5kaXN0X3RvX215X3JlZ2lvbikgdGhpcy5jb21wdXRlRGlzdE1hdCgpO1xuICAgIHJldHVybiB0aGlzLmRpc3RfdG9fbXlfcmVnaW9uLmZpbHRlcihkID0+IGQuZGlzdCA8PSBkaXN0KS5tYXAoZCA9PiBkLmlkKTtcbiAgfVxuXG4gIGNvbXB1dGVEaXN0TWF0KCkge1xuICAgIGNvbnN0IGZlYXR1cmVzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlXG4gICAgICAuY2FsbCh0aGlzLnRhcmdldF9sYXllci5ub2RlKCkucXVlcnlTZWxlY3RvckFsbCgncGF0aCcpKTtcbiAgICBjb25zdCBuYl9mdCA9IGZlYXR1cmVzLmxlbmd0aDtcbiAgICBjb25zdCBteV9yZWdpb25fZ2VvbSA9IGZlYXR1cmVzLmZpbmQoXG4gICAgICBkID0+IGQuX19kYXRhX18ucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV0gPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24sXG4gICAgICApLl9fZGF0YV9fLmdlb21ldHJ5O1xuICAgIGNvbnN0IG15X3JlZ2lvbl9jZW50cm9pZCA9IHR1cmYuY2VudHJvaWQobXlfcmVnaW9uX2dlb20pO1xuICAgIGNvbnN0IHJlc3VsdF9kaXN0ID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYl9mdDsgaSsrKSB7XG4gICAgICBjb25zdCBpZCA9IGZlYXR1cmVzW2ldLl9fZGF0YV9fLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dO1xuICAgICAgY29uc3QgZGlzdCA9IGV1Y2xpZGlhbl9kaXN0YW5jZShcbiAgICAgICAgbXlfcmVnaW9uX2NlbnRyb2lkLCB0dXJmLmNlbnRyb2lkKGZlYXR1cmVzW2ldLl9fZGF0YV9fLmdlb21ldHJ5KSk7XG4gICAgICByZXN1bHRfZGlzdC5wdXNoKHsgaWQsIGRpc3QgfSk7XG4gICAgfVxuICAgIHRoaXMuZGlzdF90b19teV9yZWdpb24gPSByZXN1bHRfZGlzdDtcbiAgfVxuXG4gIHVuYmluZEJydXNoQ2xpY2soKSB7XG4gICAgdGhpcy5icnVzaF9tYXAgPSBudWxsO1xuICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJylcbiAgICAgIC5yZW1vdmUoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBtYWtlU291cmNlU2VjdGlvbigpIHtcbiAgY29uc3QgdGV4dF96b25lID0gZDMuc2VsZWN0KCcjc3ZnX2xlZ2VuZCcpXG4gICAgLmFwcGVuZCgndGV4dCcpXG4gICAgLmF0dHJzKHsgeTogMzIuNSwgJ3RleHQtYW5jaG9yJzogJ2VuZCcgfSlcbiAgICAuc3R5bGUoJ2ZvbnQtc2l6ZScsICcxMXB4JylcbiAgICAuc3R5bGUoJ2ZvbnQtZmFtaWx5JywgJ1xcJ1NpZ25pa2FcXCcsIHNhbnMtc2VyaWYnKTtcbiAgdGV4dF96b25lLmFwcGVuZCgndHNwYW4nKVxuICAgIC5hdHRycyh7IHg6IDQ3MCwgZHk6IDEyIH0pXG4gICAgLnRleHQoJ05pdmVhdSByw6lnaW9uYWwgOiBOVVRTIDEgKHZlcnNpb24gMjAxNiknKTtcbiAgdGV4dF96b25lLmFwcGVuZCgndHNwYW4nKVxuICAgIC5hdHRycyh7IHg6IDQ3MCwgZHk6IDEyIH0pXG4gICAgLnRleHQoJ09yaWdpbmUgZGVzIGRvbm7DqWVzIDogRXVyb3N0YXQsIDIwMTYnKTtcbiAgdGV4dF96b25lLmFwcGVuZCgndHNwYW4nKVxuICAgIC5hdHRycyh7IHg6IDQ3MCwgZHk6IDEyIH0pXG4gICAgLnRleHQoJ0xpbWl0ZSBhZG1pbmlzdHJhdGl2ZTogVU1TIFJJQVRFLCBDQy1CWS1TQScpO1xufVxuXG5mdW5jdGlvbiBtYWtlTWFwTGVnZW5kKCkge1xuICBjb25zdCBsZWdlbmRfZWxlbXMgPSBbXG4gICAgeyBjb2xvcjogY29sb3JfaGlnaGxpZ2h0LCB0ZXh0OiBgTWEgcsOpZ2lvbiA6ICR7YXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl9wcmV0dHlfbmFtZX1gIH0sXG4gICAgeyBjb2xvcjogY29sb3JfY291bnRyaWVzLCB0ZXh0OiAnQXV0cmVzIHLDqWdpb25zIGR1IGZpbHRyZSBkZSBjb21wYXJhaXNvbicgfSxcbiAgICB7IGNvbG9yOiBjb2xvcl9zdXAsIHRleHQ6ICdSYW5nIHBsdXMgw6lsZXbDqSBxdWUgbWEgcsOpZ2lvbicgfSxcbiAgICB7IGNvbG9yOiBjb2xvcl9pbmYsIHRleHQ6ICdSYW5nIG1vaW5zIMOpbGV2w6kgcXVlIG1hIHLDqWdpb24nIH0sXG4gIF07XG5cbiAgY29uc3QgcmVjdF9zaXplID0gMTQ7XG4gIGNvbnN0IHNwYWNpbmcgPSA0O1xuICBjb25zdCBsZ2RfaGVpZ2h0ID0gcmVjdF9zaXplICsgc3BhY2luZztcbiAgY29uc3Qgb2Zmc2V0ID0gbGdkX2hlaWdodCAqIGxlZ2VuZF9lbGVtcy5sZW5ndGggLyAyO1xuXG4gIGNvbnN0IGdycF9sZ2QgPSBkMy5zZWxlY3QoJyNzdmdfbGVnZW5kJylcbiAgICAuYXBwZW5kKCdnJylcbiAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSg1MCwgNDApJylcbiAgICAuc3R5bGVzKHsgJ2ZvbnQtc2l6ZSc6ICcxMXB4JywgJ2ZvbnQtZmFtaWx5JzogJ1xcJ1NpZ25pa2FcXCcsIHNhbnMtc2VyaWYnIH0pO1xuXG4gIGNvbnN0IGxlZ2VuZHMgPSBncnBfbGdkLnNlbGVjdEFsbCgnLmxlZ2VuZCcpXG4gICAgLmRhdGEobGVnZW5kX2VsZW1zKVxuICAgIC5lbnRlcigpXG4gICAgLmFwcGVuZCgnZycpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ2xlZ2VuZCcpXG4gICAgLmF0dHIoJ3RyYW5zZm9ybScsIChkLCBpKSA9PiB7XG4gICAgICBjb25zdCB0eCA9IC0yICogcmVjdF9zaXplO1xuICAgICAgY29uc3QgdHkgPSBpICogbGdkX2hlaWdodCAtIG9mZnNldDtcbiAgICAgIHJldHVybiBgdHJhbnNsYXRlKCR7W3R4LCB0eV19KWA7XG4gICAgfSk7XG5cbiAgbGVnZW5kcy5hcHBlbmQoJ3JlY3QnKVxuICAgIC5hdHRycyh7IHdpZHRoOiByZWN0X3NpemUsIGhlaWdodDogcmVjdF9zaXplIH0pXG4gICAgLnN0eWxlcyhkID0+ICh7IGZpbGw6IGQuY29sb3IsIHN0cm9rZTogZC5jb2xvciB9KSk7XG5cbiAgbGVnZW5kcy5hcHBlbmQoJ3RleHQnKVxuICAgIC5hdHRycyh7IHg6IHJlY3Rfc2l6ZSArIHNwYWNpbmcsIHk6IHJlY3Rfc2l6ZSAtIHNwYWNpbmcgfSlcbiAgICAudGV4dChkID0+IGQudGV4dCk7XG59XG5cbmV4cG9ydCB7XG4gIE1hcFNlbGVjdCxcbiAgbWFrZVNvdXJjZVNlY3Rpb24sXG4gIG1ha2VNYXBMZWdlbmQsXG4gIHN2Z19tYXAsXG59O1xuIiwiLyohXHJcbiAqXHJcbiAqIFZhbmlsbGEtRGF0YVRhYmxlc1xyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtMjAxNyBLYXJsIFNhdW5kZXJzIChodHRwOi8vbW9iaXVzLm92aClcclxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocClcclxuICpcclxuICogVmVyc2lvbjogMS41LjFcclxuICpcclxuICovXHJcbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xyXG4gICAgdmFyIHBsdWdpbiA9IFwiRGF0YVRhYmxlXCI7XHJcblxyXG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XHJcbiAgICAgICAgZGVmaW5lKFtdLCBmYWN0b3J5KHBsdWdpbikpO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShwbHVnaW4pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByb290W3BsdWdpbl0gPSBmYWN0b3J5KHBsdWdpbik7XHJcbiAgICB9XHJcbn0pKHRoaXMsIGZ1bmN0aW9uIChwbHVnaW4pIHtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG4gICAgdmFyIHdpbiA9IHdpbmRvdyxcclxuICAgICAgICBkb2MgPSBkb2N1bWVudCxcclxuICAgICAgICBib2R5ID0gZG9jLmJvZHk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZWZhdWx0IGNvbmZpZ3VyYXRpb25cclxuICAgICAqIEB0eXAge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgdmFyIGRlZmF1bHRDb25maWcgPSB7XHJcbiAgICAgICAgcGVyUGFnZTogMTAsXHJcbiAgICAgICAgcGVyUGFnZVNlbGVjdDogWzUsIDEwLCAxNSwgMjAsIDI1XSxcclxuXHJcbiAgICAgICAgc29ydGFibGU6IHRydWUsXHJcbiAgICAgICAgc2VhcmNoYWJsZTogdHJ1ZSxcclxuXHJcbiAgICAgICAgLy8gUGFnaW5hdGlvblxyXG4gICAgICAgIG5leHRQcmV2OiB0cnVlLFxyXG4gICAgICAgIGZpcnN0TGFzdDogZmFsc2UsXHJcbiAgICAgICAgcHJldlRleHQ6IFwiJmxzYXF1bztcIixcclxuICAgICAgICBuZXh0VGV4dDogXCImcnNhcXVvO1wiLFxyXG4gICAgICAgIGZpcnN0VGV4dDogXCImbGFxdW87XCIsXHJcbiAgICAgICAgbGFzdFRleHQ6IFwiJnJhcXVvO1wiLFxyXG4gICAgICAgIGVsbGlwc2lzVGV4dDogXCImaGVsbGlwO1wiLFxyXG4gICAgICAgIGFzY1RleHQ6IFwi4pa0XCIsXHJcbiAgICAgICAgZGVzY1RleHQ6IFwi4pa+XCIsXHJcbiAgICAgICAgdHJ1bmNhdGVQYWdlcjogdHJ1ZSxcclxuICAgICAgICBwYWdlckRlbHRhOiAyLFxyXG5cclxuICAgICAgICBmaXhlZENvbHVtbnM6IHRydWUsXHJcbiAgICAgICAgZml4ZWRIZWlnaHQ6IGZhbHNlLFxyXG5cclxuICAgICAgICBoZWFkZXI6IHRydWUsXHJcbiAgICAgICAgZm9vdGVyOiBmYWxzZSxcclxuXHJcbiAgICAgICAgLy8gQ3VzdG9taXNlIHRoZSBkaXNwbGF5IHRleHRcclxuICAgICAgICBsYWJlbHM6IHtcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiU2VhcmNoLi4uXCIsIC8vIFRoZSBzZWFyY2ggaW5wdXQgcGxhY2Vob2xkZXJcclxuICAgICAgICAgICAgcGVyUGFnZTogXCJ7c2VsZWN0fSBlbnRyaWVzIHBlciBwYWdlXCIsIC8vIHBlci1wYWdlIGRyb3Bkb3duIGxhYmVsXHJcbiAgICAgICAgICAgIG5vUm93czogXCJObyBlbnRyaWVzIGZvdW5kXCIsIC8vIE1lc3NhZ2Ugc2hvd24gd2hlbiB0aGVyZSBhcmUgbm8gc2VhcmNoIHJlc3VsdHNcclxuICAgICAgICAgICAgaW5mbzogXCJTaG93aW5nIHtzdGFydH0gdG8ge2VuZH0gb2Yge3Jvd3N9IGVudHJpZXNcIiAvL1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8vIEN1c3RvbWlzZSB0aGUgbGF5b3V0XHJcbiAgICAgICAgbGF5b3V0OiB7XHJcbiAgICAgICAgICAgIHRvcDogXCJ7c2VsZWN0fXtzZWFyY2h9XCIsXHJcbiAgICAgICAgICAgIGJvdHRvbTogXCJ7aW5mb317cGFnZXJ9XCJcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaXMgaXRlbSBpcyBvYmplY3RcclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIHZhciBpc09iamVjdCA9IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbCkgPT09IFwiW29iamVjdCBPYmplY3RdXCI7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaXMgaXRlbSBpcyBhcnJheVxyXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgdmFyIGlzQXJyYXkgPSBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBmb3IgdmFsaWQgSlNPTiBzdHJpbmdcclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICBzdHJcclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW58QXJyYXl8T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICB2YXIgaXNKc29uID0gZnVuY3Rpb24gKHN0cikge1xyXG4gICAgICAgIHZhciB0ID0gITE7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdCA9IEpTT04ucGFyc2Uoc3RyKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICEobnVsbCA9PT0gdCB8fCAoIWlzQXJyYXkodCkgJiYgIWlzT2JqZWN0KHQpKSkgJiYgdDtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXJnZSBvYmplY3RzIChyZWNjdXJzaXZlKVxyXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSByXHJcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IHRcclxuICAgICAqIEByZXR1cm4ge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgdmFyIGV4dGVuZCA9IGZ1bmN0aW9uIChzcmMsIHByb3BzKSB7XHJcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICBpZiAocHJvcHMuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciB2YWwgPSBwcm9wc1twcm9wXTtcclxuICAgICAgICAgICAgICAgIGlmICh2YWwgJiYgaXNPYmplY3QodmFsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNyY1twcm9wXSA9IHNyY1twcm9wXSB8fCB7fTtcclxuICAgICAgICAgICAgICAgICAgICBleHRlbmQoc3JjW3Byb3BdLCB2YWwpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzcmNbcHJvcF0gPSB2YWw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNyYztcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJdGVyYXRvciBoZWxwZXJcclxuICAgICAqIEBwYXJhbSAgeyhBcnJheXxPYmplY3QpfSAgIGFyciAgICAgQW55IG9iamVjdCwgYXJyYXkgb3IgYXJyYXktbGlrZSBjb2xsZWN0aW9uLlxyXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259ICAgICAgICAgZm4gICAgICBDYWxsYmFja1xyXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgICAgICAgICAgc2NvcGUgICBDaGFuZ2UgdGhlIHZhbHVlIG9mIHRoaXNcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHZhciBlYWNoID0gZnVuY3Rpb24gKGFyciwgZm4sIHNjb3BlKSB7XHJcbiAgICAgICAgdmFyIG47XHJcbiAgICAgICAgaWYgKGlzT2JqZWN0KGFycikpIHtcclxuICAgICAgICAgICAgZm9yIChuIGluIGFycikge1xyXG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhcnIsIG4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm4uY2FsbChzY29wZSwgYXJyW25dLCBuKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGZvciAobiA9IDA7IG4gPCBhcnIubGVuZ3RoOyBuKyspIHtcclxuICAgICAgICAgICAgICAgIGZuLmNhbGwoc2NvcGUsIGFycltuXSwgbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkIGV2ZW50IGxpc3RlbmVyIHRvIHRhcmdldFxyXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBlbFxyXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBlXHJcbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gZm5cclxuICAgICAqL1xyXG4gICAgdmFyIG9uID0gZnVuY3Rpb24gKGVsLCBlLCBmbikge1xyXG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoZSwgZm4sIGZhbHNlKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgRE9NIGVsZW1lbnQgbm9kZVxyXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgIGEgbm9kZU5hbWVcclxuICAgICAqIEBwYXJhbSAge09iamVjdH0gICBiIHByb3BlcnRpZXMgYW5kIGF0dHJpYnV0ZXNcclxuICAgICAqIEByZXR1cm4ge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgdmFyIGNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgIHZhciBkID0gZG9jLmNyZWF0ZUVsZW1lbnQoYSk7XHJcbiAgICAgICAgaWYgKGIgJiYgXCJvYmplY3RcIiA9PSB0eXBlb2YgYikge1xyXG4gICAgICAgICAgICB2YXIgZTtcclxuICAgICAgICAgICAgZm9yIChlIGluIGIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChcImh0bWxcIiA9PT0gZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGQuaW5uZXJIVE1MID0gYltlXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZC5zZXRBdHRyaWJ1dGUoZSwgYltlXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBmbHVzaCA9IGZ1bmN0aW9uIChlbCwgaWUpIHtcclxuICAgICAgICBpZiAoZWwgaW5zdGFuY2VvZiBOb2RlTGlzdCkge1xyXG4gICAgICAgICAgICBlYWNoKGVsLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgZmx1c2goZSwgaWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoaWUpIHtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChlbC5oYXNDaGlsZE5vZGVzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbC5yZW1vdmVDaGlsZChlbC5maXJzdENoaWxkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGVsLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGJ1dHRvbiBoZWxwZXJcclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICBjXHJcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICAgcFxyXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgIHRcclxuICAgICAqIEByZXR1cm4ge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgdmFyIGJ1dHRvbiA9IGZ1bmN0aW9uIChjLCBwLCB0KSB7XHJcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7XHJcbiAgICAgICAgICAgIGNsYXNzOiBjLFxyXG4gICAgICAgICAgICBodG1sOiAnPGEgaHJlZj1cIiNcIiBkYXRhLXBhZ2U9XCInICsgcCArICdcIj4nICsgdCArIFwiPC9hPlwiXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogY2xhc3NMaXN0IHNoaW1cclxuICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIHZhciBjbGFzc0xpc3QgPSB7XHJcbiAgICAgICAgYWRkOiBmdW5jdGlvbiAocywgYSkge1xyXG4gICAgICAgICAgICBpZiAocy5jbGFzc0xpc3QpIHtcclxuICAgICAgICAgICAgICAgIHMuY2xhc3NMaXN0LmFkZChhKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICghY2xhc3NMaXN0LmNvbnRhaW5zKHMsIGEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcy5jbGFzc05hbWUgPSBzLmNsYXNzTmFtZS50cmltKCkgKyBcIiBcIiArIGE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24gKHMsIGEpIHtcclxuICAgICAgICAgICAgaWYgKHMuY2xhc3NMaXN0KSB7XHJcbiAgICAgICAgICAgICAgICBzLmNsYXNzTGlzdC5yZW1vdmUoYSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2xhc3NMaXN0LmNvbnRhaW5zKHMsIGEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcy5jbGFzc05hbWUgPSBzLmNsYXNzTmFtZS5yZXBsYWNlKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgUmVnRXhwKFwiKF58XFxcXHMpXCIgKyBhLnNwbGl0KFwiIFwiKS5qb2luKFwifFwiKSArIFwiKFxcXFxzfCQpXCIsIFwiZ2lcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIFwiXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udGFpbnM6IGZ1bmN0aW9uIChzLCBhKSB7XHJcbiAgICAgICAgICAgIGlmIChzKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHMuY2xhc3NMaXN0ID9cclxuICAgICAgICAgICAgICAgICAgICBzLmNsYXNzTGlzdC5jb250YWlucyhhKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgISFzLmNsYXNzTmFtZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICEhcy5jbGFzc05hbWUubWF0Y2gobmV3IFJlZ0V4cChcIihcXFxcc3xeKVwiICsgYSArIFwiKFxcXFxzfCQpXCIpKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQnViYmxlIHNvcnQgYWxnb3JpdGhtXHJcbiAgICAgKi9cclxuICAgIHZhciBzb3J0SXRlbXMgPSBmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgIHZhciBjLCBkO1xyXG4gICAgICAgIGlmICgxID09PSBiKSB7XHJcbiAgICAgICAgICAgIGMgPSAwO1xyXG4gICAgICAgICAgICBkID0gYS5sZW5ndGg7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGIgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBjID0gYS5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICAgICAgZCA9IC0xO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAodmFyIGUgPSAhMDsgZTspIHtcclxuICAgICAgICAgICAgZSA9ICExO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBmID0gYzsgZiAhPSBkOyBmICs9IGIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChhW2YgKyBiXSAmJiBhW2ZdLnZhbHVlID4gYVtmICsgYl0udmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZyA9IGFbZl0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGggPSBhW2YgKyBiXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGc7XHJcbiAgICAgICAgICAgICAgICAgICAgYVtmXSA9IGg7XHJcbiAgICAgICAgICAgICAgICAgICAgYVtmICsgYl0gPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgIGUgPSAhMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQYWdlciB0cnVuY2F0aW9uIGFsZ29yaXRobVxyXG4gICAgICovXHJcbiAgICB2YXIgdHJ1bmNhdGUgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgZWxsaXBzaXMpIHtcclxuICAgICAgICBkID0gZCB8fCAyO1xyXG4gICAgICAgIHZhciBqLFxyXG4gICAgICAgICAgICBlID0gMiAqIGQsXHJcbiAgICAgICAgICAgIGYgPSBiIC0gZCxcclxuICAgICAgICAgICAgZyA9IGIgKyBkLFxyXG4gICAgICAgICAgICBoID0gW10sXHJcbiAgICAgICAgICAgIGkgPSBbXTtcclxuICAgICAgICBpZiAoYiA8IDQgLSBkICsgZSkge1xyXG4gICAgICAgICAgICBnID0gMyArIGU7XHJcbiAgICAgICAgfSBlbHNlIGlmIChiID4gYyAtICgzIC0gZCArIGUpKSB7XHJcbiAgICAgICAgICAgIGYgPSBjIC0gKDIgKyBlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICh2YXIgayA9IDE7IGsgPD0gYzsgaysrKSB7XHJcbiAgICAgICAgICAgIGlmICgxID09IGsgfHwgayA9PSBjIHx8IChrID49IGYgJiYgayA8PSBnKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGwgPSBhW2sgLSAxXTtcclxuICAgICAgICAgICAgICAgIGNsYXNzTGlzdC5yZW1vdmUobCwgXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgICAgICBoLnB1c2gobCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWFjaChoLCBmdW5jdGlvbiAoYykge1xyXG4gICAgICAgICAgICB2YXIgZCA9IGMuY2hpbGRyZW5bMF0uZ2V0QXR0cmlidXRlKFwiZGF0YS1wYWdlXCIpO1xyXG4gICAgICAgICAgICBpZiAoaikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGUgPSBqLmNoaWxkcmVuWzBdLmdldEF0dHJpYnV0ZShcImRhdGEtcGFnZVwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChkIC0gZSA9PSAyKSBpLnB1c2goYVtlXSk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkIC0gZSAhPSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGYgPSBjcmVhdGVFbGVtZW50KFwibGlcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogXCJlbGxpcHNpc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sOiAnPGEgaHJlZj1cIiNcIj4nICsgZWxsaXBzaXMgKyBcIjwvYT5cIlxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGkucHVzaChmKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpLnB1c2goYyk7XHJcbiAgICAgICAgICAgIGogPSBjO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gaTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQYXJzZSBkYXRhIHRvIEhUTUwgdGFibGVcclxuICAgICAqL1xyXG4gICAgdmFyIGRhdGFUb1RhYmxlID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICB2YXIgdGhlYWQgPSBmYWxzZSxcclxuICAgICAgICAgICAgdGJvZHkgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgZGF0YSA9IGRhdGEgfHwgdGhpcy5vcHRpb25zLmRhdGE7XHJcblxyXG4gICAgICAgIGlmIChkYXRhLmhlYWRpbmdzKSB7XHJcbiAgICAgICAgICAgIHRoZWFkID0gY3JlYXRlRWxlbWVudChcInRoZWFkXCIpO1xyXG4gICAgICAgICAgICB2YXIgdHIgPSBjcmVhdGVFbGVtZW50KFwidHJcIik7XHJcbiAgICAgICAgICAgIGVhY2goZGF0YS5oZWFkaW5ncywgZnVuY3Rpb24gKGNvbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRkID0gY3JlYXRlRWxlbWVudChcInRoXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICBodG1sOiBjb2xcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGQpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoZWFkLmFwcGVuZENoaWxkKHRyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChkYXRhLmRhdGEgJiYgZGF0YS5kYXRhLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0Ym9keSA9IGNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiKTtcclxuICAgICAgICAgICAgZWFjaChkYXRhLmRhdGEsIGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5oZWFkaW5ncykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmhlYWRpbmdzLmxlbmd0aCAhPT0gcm93cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJUaGUgbnVtYmVyIG9mIHJvd3MgZG8gbm90IG1hdGNoIHRoZSBudW1iZXIgb2YgaGVhZGluZ3MuXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgdHIgPSBjcmVhdGVFbGVtZW50KFwidHJcIik7XHJcbiAgICAgICAgICAgICAgICBlYWNoKHJvd3MsIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZCA9IGNyZWF0ZUVsZW1lbnQoXCJ0ZFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw6IHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0Ym9keS5hcHBlbmRDaGlsZCh0cik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoZWFkKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRhYmxlLnRIZWFkICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlLnJlbW92ZUNoaWxkKHRoaXMudGFibGUudEhlYWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudGFibGUuYXBwZW5kQ2hpbGQodGhlYWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRib2R5KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRhYmxlLnRCb2RpZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlLnJlbW92ZUNoaWxkKHRoaXMudGFibGUudEJvZGllc1swXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy50YWJsZS5hcHBlbmRDaGlsZCh0Ym9keSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFVzZSBtb21lbnQuanMgdG8gcGFyc2UgY2VsbCBjb250ZW50cyBmb3Igc29ydGluZ1xyXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBjb250ZW50ICAgICBUaGUgZGF0ZXRpbWUgc3RyaW5nIHRvIHBhcnNlXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGZvcm1hdCAgICAgIFRoZSBmb3JtYXQgZm9yIG1vbWVudCB0byB1c2VcclxuICAgICAqIEByZXR1cm4ge1N0cmluZ3xCb29sZWFufSAgICAgRGF0YXRpbWUgc3RyaW5nIG9yIGZhbHNlXHJcbiAgICAgKi9cclxuICAgIHZhciBwYXJzZURhdGUgPSBmdW5jdGlvbiAoY29udGVudCwgZm9ybWF0KSB7XHJcbiAgICAgICAgdmFyIGRhdGUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gbW9tZW50KCkgdGhyb3dzIGEgZml0IGlmIHRoZSBzdHJpbmcgaXNuJ3QgYSB2YWxpZCBkYXRldGltZSBzdHJpbmdcclxuICAgICAgICAvLyBzbyB3ZSBuZWVkIHRvIHN1cHBseSB0aGUgZm9ybWF0IHRvIHRoZSBjb25zdHJ1Y3RvciAoaHR0cHM6Ly9tb21lbnRqcy5jb20vZG9jcy8jL3BhcnNpbmcvc3RyaW5nLWZvcm1hdC8pXHJcblxyXG4gICAgICAgIC8vIENvbnZlcnRpbmcgdG8gWVlZWU1NREQgZW5zdXJlcyB3ZSBjYW4gYWNjdXJhdGVseSBzb3J0IHRoZSBjb2x1bW4gbnVtZXJpY2FsbHlcclxuXHJcbiAgICAgICAgaWYgKGZvcm1hdCkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGZvcm1hdCkge1xyXG4gICAgICAgICAgICBjYXNlIFwiSVNPXzg2MDFcIjpcclxuICAgICAgICAgICAgICAgIGRhdGUgPSBtb21lbnQoY29udGVudCwgbW9tZW50LklTT184NjAxKS5mb3JtYXQoXCJZWVlZTU1ERFwiKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiUkZDXzI4MjJcIjpcclxuICAgICAgICAgICAgICAgIGRhdGUgPSBtb21lbnQoY29udGVudCwgXCJkZGQsIE1NIE1NTSBZWVlZIEhIOm1tOnNzIFpaXCIpLmZvcm1hdChcIllZWVlNTUREXCIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJNWVNRTFwiOlxyXG4gICAgICAgICAgICAgICAgZGF0ZSA9IG1vbWVudChjb250ZW50LCBcIllZWVktTU0tREQgaGg6bW06c3NcIikuZm9ybWF0KFwiWVlZWU1NRERcIik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIlVOSVhcIjpcclxuICAgICAgICAgICAgICAgIGRhdGUgPSBtb21lbnQoY29udGVudCkudW5peCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAvLyBVc2VyIGRlZmluZWQgZm9ybWF0IHVzaW5nIHRoZSBkYXRhLWZvcm1hdCBhdHRyaWJ1dGUgb3IgY29sdW1uc1tuXS5mb3JtYXQgb3B0aW9uXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBkYXRlID0gbW9tZW50KGNvbnRlbnQsIGZvcm1hdCkuZm9ybWF0KFwiWVlZWU1NRERcIik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGRhdGU7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29sdW1ucyBBUElcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBEYXRhVGFibGUgaW5zdGFuY2VcclxuICAgICAqIEBwYXJhbSB7TWl4ZWR9IGNvbHVtbnMgIENvbHVtbiBpbmRleCBvciBhcnJheSBvZiBjb2x1bW4gaW5kZXhlc1xyXG4gICAgICovXHJcbiAgICB2YXIgQ29sdW1ucyA9IGZ1bmN0aW9uIChkdCkge1xyXG4gICAgICAgIHRoaXMuZHQgPSBkdDtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTd2FwIHR3byBjb2x1bW5zXHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBDb2x1bW5zLnByb3RvdHlwZS5zd2FwID0gZnVuY3Rpb24gKGNvbHVtbnMpIHtcclxuICAgICAgICBpZiAoY29sdW1ucy5sZW5ndGggJiYgY29sdW1ucy5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgdmFyIGNvbHMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIC8vIEdldCB0aGUgY3VycmVudCBjb2x1bW4gaW5kZXhlc1xyXG4gICAgICAgICAgICBlYWNoKHRoaXMuZHQuaGVhZGluZ3MsIGZ1bmN0aW9uIChoLCBpKSB7XHJcbiAgICAgICAgICAgICAgICBjb2xzLnB1c2goaSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdmFyIHggPSBjb2x1bW5zWzBdO1xyXG4gICAgICAgICAgICB2YXIgeSA9IGNvbHVtbnNbMV07XHJcbiAgICAgICAgICAgIHZhciBiID0gY29sc1t5XTtcclxuICAgICAgICAgICAgY29sc1t5XSA9IGNvbHNbeF07XHJcbiAgICAgICAgICAgIGNvbHNbeF0gPSBiO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vcmRlcihjb2xzKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVvcmRlciB0aGUgY29sdW1uc1xyXG4gICAgICogQHJldHVybiB7QXJyYXl9IGNvbHVtbnMgIEFycmF5IG9mIG9yZGVyZWQgY29sdW1uIGluZGV4ZXNcclxuICAgICAqL1xyXG4gICAgQ29sdW1ucy5wcm90b3R5cGUub3JkZXIgPSBmdW5jdGlvbiAoY29sdW1ucykge1xyXG5cclxuICAgICAgICB2YXIgYSwgYiwgYywgZCwgaCwgcywgY2VsbCxcclxuICAgICAgICAgICAgdGVtcCA9IFtcclxuICAgICAgICAgICAgICAgIFtdLFxyXG4gICAgICAgICAgICAgICAgW10sXHJcbiAgICAgICAgICAgICAgICBbXSxcclxuICAgICAgICAgICAgICAgIFtdXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIGR0ID0gdGhpcy5kdDtcclxuXHJcbiAgICAgICAgLy8gT3JkZXIgdGhlIGhlYWRpbmdzXHJcbiAgICAgICAgZWFjaChjb2x1bW5zLCBmdW5jdGlvbiAoY29sdW1uLCB4KSB7XHJcbiAgICAgICAgICAgIGggPSBkdC5oZWFkaW5nc1tjb2x1bW5dO1xyXG4gICAgICAgICAgICBzID0gaC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNvcnRhYmxlXCIpICE9PSBcImZhbHNlXCI7XHJcbiAgICAgICAgICAgIGEgPSBoLmNsb25lTm9kZSh0cnVlKTtcclxuICAgICAgICAgICAgYS5vcmlnaW5hbENlbGxJbmRleCA9IHg7XHJcbiAgICAgICAgICAgIGEuc29ydGFibGUgPSBzO1xyXG5cclxuICAgICAgICAgICAgdGVtcFswXS5wdXNoKGEpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGR0LmhpZGRlbkNvbHVtbnMuaW5kZXhPZihjb2x1bW4pIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgYiA9IGguY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgYi5vcmlnaW5hbENlbGxJbmRleCA9IHg7XHJcbiAgICAgICAgICAgICAgICBiLnNvcnRhYmxlID0gcztcclxuXHJcbiAgICAgICAgICAgICAgICB0ZW1wWzFdLnB1c2goYik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gT3JkZXIgdGhlIHJvdyBjZWxsc1xyXG4gICAgICAgIGVhY2goZHQuZGF0YSwgZnVuY3Rpb24gKHJvdywgaSkge1xyXG4gICAgICAgICAgICBjID0gcm93LmNsb25lTm9kZSgpO1xyXG4gICAgICAgICAgICBkID0gcm93LmNsb25lTm9kZSgpO1xyXG5cclxuICAgICAgICAgICAgYy5kYXRhSW5kZXggPSBkLmRhdGFJbmRleCA9IGk7XHJcblxyXG4gICAgICAgICAgICBpZiAocm93LnNlYXJjaEluZGV4ICE9PSBudWxsICYmIHJvdy5zZWFyY2hJbmRleCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBjLnNlYXJjaEluZGV4ID0gZC5zZWFyY2hJbmRleCA9IHJvdy5zZWFyY2hJbmRleDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQXBwZW5kIHRoZSBjZWxsIHRvIHRoZSBmcmFnbWVudCBpbiB0aGUgY29ycmVjdCBvcmRlclxyXG4gICAgICAgICAgICBlYWNoKGNvbHVtbnMsIGZ1bmN0aW9uIChjb2x1bW4sIHgpIHtcclxuICAgICAgICAgICAgICAgIGNlbGwgPSByb3cuY2VsbHNbY29sdW1uXS5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBjZWxsLmRhdGEgPSByb3cuY2VsbHNbY29sdW1uXS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgYy5hcHBlbmRDaGlsZChjZWxsKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZHQuaGlkZGVuQ29sdW1ucy5pbmRleE9mKGNvbHVtbikgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2VsbCA9IHJvdy5jZWxsc1tjb2x1bW5dLmNsb25lTm9kZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICBjZWxsLmRhdGEgPSByb3cuY2VsbHNbY29sdW1uXS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIGQuYXBwZW5kQ2hpbGQoY2VsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGVtcFsyXS5wdXNoKGMpO1xyXG4gICAgICAgICAgICB0ZW1wWzNdLnB1c2goZCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGR0LmhlYWRpbmdzID0gdGVtcFswXTtcclxuICAgICAgICBkdC5hY3RpdmVIZWFkaW5ncyA9IHRlbXBbMV07XHJcblxyXG4gICAgICAgIGR0LmRhdGEgPSB0ZW1wWzJdO1xyXG4gICAgICAgIGR0LmFjdGl2ZVJvd3MgPSB0ZW1wWzNdO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGVcclxuICAgICAgICBkdC51cGRhdGUoKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIaWRlIGNvbHVtbnNcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIENvbHVtbnMucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoY29sdW1ucykge1xyXG4gICAgICAgIGlmIChjb2x1bW5zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB2YXIgZHQgPSB0aGlzLmR0O1xyXG5cclxuICAgICAgICAgICAgZWFjaChjb2x1bW5zLCBmdW5jdGlvbiAoY29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZHQuaGlkZGVuQ29sdW1ucy5pbmRleE9mKGNvbHVtbikgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZHQuaGlkZGVuQ29sdW1ucy5wdXNoKGNvbHVtbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWJ1aWxkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNob3cgY29sdW1uc1xyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgQ29sdW1ucy5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uIChjb2x1bW5zKSB7XHJcbiAgICAgICAgaWYgKGNvbHVtbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCwgZHQgPSB0aGlzLmR0O1xyXG5cclxuICAgICAgICAgICAgZWFjaChjb2x1bW5zLCBmdW5jdGlvbiAoY29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICBpbmRleCA9IGR0LmhpZGRlbkNvbHVtbnMuaW5kZXhPZihjb2x1bW4pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBkdC5oaWRkZW5Db2x1bW5zLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWJ1aWxkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGNvbHVtbihzKSB2aXNpYmlsaXR5XHJcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICBDb2x1bW5zLnByb3RvdHlwZS52aXNpYmxlID0gZnVuY3Rpb24gKGNvbHVtbnMpIHtcclxuICAgICAgICB2YXIgY29scywgZHQgPSB0aGlzLmR0O1xyXG5cclxuICAgICAgICBjb2x1bW5zID0gY29sdW1ucyB8fCBkdC5oZWFkaW5ncy5tYXAoZnVuY3Rpb24gKHRoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aC5vcmlnaW5hbENlbGxJbmRleDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKCFpc05hTihjb2x1bW5zKSkge1xyXG4gICAgICAgICAgICBjb2xzID0gZHQuaGlkZGVuQ29sdW1ucy5pbmRleE9mKGNvbHVtbnMpIDwgMDtcclxuICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkoY29sdW1ucykpIHtcclxuICAgICAgICAgICAgY29scyA9IFtdO1xyXG4gICAgICAgICAgICBlYWNoKGNvbHVtbnMsIGZ1bmN0aW9uIChjb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgIGNvbHMucHVzaChkdC5oaWRkZW5Db2x1bW5zLmluZGV4T2YoY29sdW1uKSA8IDApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBjb2xzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZCBhIG5ldyBjb2x1bW5cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXHJcbiAgICAgKi9cclxuICAgIENvbHVtbnMucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzLFxyXG4gICAgICAgICAgICB0ZCwgdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGhcIik7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5kdC5oZWFkaW5ncy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5kdC5pbnNlcnQoe1xyXG4gICAgICAgICAgICAgICAgaGVhZGluZ3M6IFtkYXRhLmhlYWRpbmddLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YS5kYXRhLm1hcChmdW5jdGlvbiAoaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbaV07XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5yZWJ1aWxkKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5kdC5oaWRkZW5IZWFkZXIpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuaGVhZGluZy5ub2RlTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgdGguYXBwZW5kQ2hpbGQoZGF0YS5oZWFkaW5nKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoLmlubmVySFRNTCA9IGRhdGEuaGVhZGluZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmR0LmhlYWRpbmdzLnB1c2godGgpO1xyXG5cclxuICAgICAgICBlYWNoKHRoaXMuZHQuZGF0YSwgZnVuY3Rpb24gKHJvdywgaSkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5kYXRhW2ldKSB7XHJcbiAgICAgICAgICAgICAgICB0ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5kYXRhW2ldLm5vZGVOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGQuYXBwZW5kQ2hpbGQoZGF0YS5kYXRhW2ldKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGQuaW5uZXJIVE1MID0gZGF0YS5kYXRhW2ldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRkLmRhdGEgPSB0ZC5pbm5lckhUTUw7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEucmVuZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGQuaW5uZXJIVE1MID0gZGF0YS5yZW5kZXIuY2FsbCh0aGF0LCB0ZC5kYXRhLCB0ZCwgcm93KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQodGQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChkYXRhLnR5cGUpIHtcclxuICAgICAgICAgICAgdGguc2V0QXR0cmlidXRlKFwiZGF0YS10eXBlXCIsIGRhdGEudHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkYXRhLmZvcm1hdCkge1xyXG4gICAgICAgICAgICB0aC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWZvcm1hdFwiLCBkYXRhLmZvcm1hdCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eShcInNvcnRhYmxlXCIpKSB7XHJcbiAgICAgICAgICAgIHRoLnNvcnRhYmxlID0gZGF0YS5zb3J0YWJsZTtcclxuICAgICAgICAgICAgdGguc2V0QXR0cmlidXRlKFwiZGF0YS1zb3J0YWJsZVwiLCBkYXRhLnNvcnRhYmxlID09PSB0cnVlID8gXCJ0cnVlXCIgOiBcImZhbHNlXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5yZWJ1aWxkKCk7XHJcblxyXG4gICAgICAgIHRoaXMuZHQucmVuZGVySGVhZGVyKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIGNvbHVtbihzKVxyXG4gICAgICogQHBhcmFtICB7QXJyYXl8TnVtYmVyfSBzZWxlY3RcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIENvbHVtbnMucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChzZWxlY3QpIHtcclxuICAgICAgICBpZiAoaXNBcnJheShzZWxlY3QpKSB7XHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSBpbiByZXZlcnNlIG90aGVyd2lzZSB0aGUgaW5kZXhlcyB3aWxsIGJlIGluY29ycmVjdFxyXG4gICAgICAgICAgICBzZWxlY3Quc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGIgLSBhO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGVhY2goc2VsZWN0LCBmdW5jdGlvbiAoY29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZShjb2x1bW4pO1xyXG4gICAgICAgICAgICB9LCB0aGlzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmR0LmhlYWRpbmdzLnNwbGljZShzZWxlY3QsIDEpO1xyXG5cclxuICAgICAgICAgICAgZWFjaCh0aGlzLmR0LmRhdGEsIGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgICAgICAgICAgIHJvdy5yZW1vdmVDaGlsZChyb3cuY2VsbHNbc2VsZWN0XSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5yZWJ1aWxkKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU29ydCBieSBjb2x1bW5cclxuICAgICAqIEBwYXJhbSAge2ludH0gY29sdW1uIC0gVGhlIGNvbHVtbiBuby5cclxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gZGlyZWN0aW9uIC0gYXNjIG9yIGRlc2NcclxuICAgICAqIEByZXR1cm4ge3ZvaWR9XHJcbiAgICAgKi9cclxuICAgIENvbHVtbnMucHJvdG90eXBlLnNvcnQgPSBmdW5jdGlvbiAoY29sdW1uLCBkaXJlY3Rpb24sIGluaXQpIHtcclxuXHJcbiAgICAgICAgdmFyIGR0ID0gdGhpcy5kdDtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgY29sdW1uIGlzIHByZXNlbnRcclxuICAgICAgICBpZiAoZHQuaGFzSGVhZGluZ3MgJiYgKGNvbHVtbiA8IDEgfHwgY29sdW1uID4gZHQuYWN0aXZlSGVhZGluZ3MubGVuZ3RoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkdC5zb3J0aW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgLy8gQ29udmVydCB0byB6ZXJvLWluZGV4ZWRcclxuICAgICAgICBjb2x1bW4gPSBjb2x1bW4gLSAxO1xyXG5cclxuICAgICAgICB2YXIgZGlyLFxyXG4gICAgICAgICAgICByb3dzID0gZHQuZGF0YSxcclxuICAgICAgICAgICAgYWxwaGEgPSBbXSxcclxuICAgICAgICAgICAgbnVtZXJpYyA9IFtdLFxyXG4gICAgICAgICAgICBhID0gMCxcclxuICAgICAgICAgICAgbiA9IDAsXHJcbiAgICAgICAgICAgIHRoID0gZHQuYWN0aXZlSGVhZGluZ3NbY29sdW1uXTtcclxuXHJcbiAgICAgICAgY29sdW1uID0gdGgub3JpZ2luYWxDZWxsSW5kZXg7XHJcblxyXG4gICAgICAgIGVhY2gocm93cywgZnVuY3Rpb24gKHRyKSB7XHJcbiAgICAgICAgICAgIHZhciBjZWxsID0gdHIuY2VsbHNbY29sdW1uXTtcclxuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBjZWxsLmRhdGE7XHJcbiAgICAgICAgICAgIHZhciBudW0gPSBjb250ZW50LnJlcGxhY2UoLyhcXCR8XFwsfFxcc3wlKS9nLCBcIlwiKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENoZWNrIGZvciBkYXRlIGZvcm1hdCBhbmQgbW9tZW50LmpzXHJcbiAgICAgICAgICAgIGlmICh0aC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXR5cGVcIikgPT09IFwiZGF0ZVwiICYmIHdpbi5tb21lbnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBmb3JtYXQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWQgPSB0aC5oYXNBdHRyaWJ1dGUoXCJkYXRhLWZvcm1hdFwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZm9ybWF0dGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0ID0gdGguZ2V0QXR0cmlidXRlKFwiZGF0YS1mb3JtYXRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbnVtID0gcGFyc2VEYXRlKGNvbnRlbnQsIGZvcm1hdCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChwYXJzZUZsb2F0KG51bSkgPT0gbnVtKSB7XHJcbiAgICAgICAgICAgICAgICBudW1lcmljW24rK10gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IE51bWJlcihudW0pLFxyXG4gICAgICAgICAgICAgICAgICAgIHJvdzogdHJcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhbHBoYVthKytdID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjb250ZW50LFxyXG4gICAgICAgICAgICAgICAgICAgIHJvdzogdHJcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyogU29ydCBhY2NvcmRpbmcgdG8gZGlyZWN0aW9uIChhc2NlbmRpbmcgb3IgZGVzY2VuZGluZykgKi9cclxuICAgICAgICB2YXIgdG9wLCBidG07XHJcbiAgICAgICAgaWYgKGNsYXNzTGlzdC5jb250YWlucyh0aCwgXCJhc2NcIikgfHwgZGlyZWN0aW9uID09IFwiYXNjXCIpIHtcclxuICAgICAgICAgICAgdG9wID0gc29ydEl0ZW1zKGFscGhhLCAtMSk7XHJcbiAgICAgICAgICAgIGJ0bSA9IHNvcnRJdGVtcyhudW1lcmljLCAtMSk7XHJcbiAgICAgICAgICAgIGRpciA9IFwiZGVzY2VuZGluZ1wiO1xyXG4gICAgICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKHRoLCBcImFzY1wiKTtcclxuICAgICAgICAgICAgY2xhc3NMaXN0LmFkZCh0aCwgXCJkZXNjXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRvcCA9IHNvcnRJdGVtcyhudW1lcmljLCAxKTtcclxuICAgICAgICAgICAgYnRtID0gc29ydEl0ZW1zKGFscGhhLCAxKTtcclxuICAgICAgICAgICAgZGlyID0gXCJhc2NlbmRpbmdcIjtcclxuICAgICAgICAgICAgY2xhc3NMaXN0LnJlbW92ZSh0aCwgXCJkZXNjXCIpO1xyXG4gICAgICAgICAgICBjbGFzc0xpc3QuYWRkKHRoLCBcImFzY1wiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIENsZWFyIGFzYy9kZXNjIGNsYXNzIG5hbWVzIGZyb20gdGhlIGxhc3Qgc29ydGVkIGNvbHVtbidzIHRoIGlmIGl0IGlzbid0IHRoZSBzYW1lIGFzIHRoZSBvbmUgdGhhdCB3YXMganVzdCBjbGlja2VkICovXHJcbiAgICAgICAgaWYgKGR0Lmxhc3RUaCAmJiB0aCAhPSBkdC5sYXN0VGgpIHtcclxuICAgICAgICAgICAgY2xhc3NMaXN0LnJlbW92ZShkdC5sYXN0VGgsIFwiZGVzY1wiKTtcclxuICAgICAgICAgICAgY2xhc3NMaXN0LnJlbW92ZShkdC5sYXN0VGgsIFwiYXNjXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZHQubGFzdFRoID0gdGg7XHJcblxyXG4gICAgICAgIC8qIFJlb3JkZXIgdGhlIHRhYmxlICovXHJcbiAgICAgICAgcm93cyA9IHRvcC5jb25jYXQoYnRtKTtcclxuXHJcbiAgICAgICAgZHQuZGF0YSA9IFtdO1xyXG4gICAgICAgIHZhciBpbmRleGVzID0gW107XHJcblxyXG4gICAgICAgIGVhY2gocm93cywgZnVuY3Rpb24gKHYsIGkpIHtcclxuICAgICAgICAgICAgZHQuZGF0YS5wdXNoKHYucm93KTtcclxuXHJcbiAgICAgICAgICAgIGlmICh2LnJvdy5zZWFyY2hJbmRleCAhPT0gbnVsbCAmJiB2LnJvdy5zZWFyY2hJbmRleCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBpbmRleGVzLnB1c2goaSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCBkdCk7XHJcblxyXG4gICAgICAgIGR0LnNlYXJjaERhdGEgPSBpbmRleGVzO1xyXG5cclxuICAgICAgICB0aGlzLnJlYnVpbGQoKTtcclxuXHJcbiAgICAgICAgZHQudXBkYXRlKCk7XHJcblxyXG4gICAgICAgIGlmICghaW5pdCkge1xyXG4gICAgICAgICAgICBkdC5lbWl0KFwiZGF0YXRhYmxlLnNvcnRcIiwgY29sdW1uLCBkaXIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWJ1aWxkIHRoZSBjb2x1bW5zXHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBDb2x1bW5zLnByb3RvdHlwZS5yZWJ1aWxkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBhLCBiLCBjLCBkLCBkdCA9IHRoaXMuZHQsXHJcbiAgICAgICAgICAgIHRlbXAgPSBbXTtcclxuXHJcbiAgICAgICAgZHQuYWN0aXZlUm93cyA9IFtdO1xyXG4gICAgICAgIGR0LmFjdGl2ZUhlYWRpbmdzID0gW107XHJcblxyXG4gICAgICAgIGVhY2goZHQuaGVhZGluZ3MsIGZ1bmN0aW9uICh0aCwgaSkge1xyXG4gICAgICAgICAgICB0aC5vcmlnaW5hbENlbGxJbmRleCA9IGk7XHJcbiAgICAgICAgICAgIHRoLnNvcnRhYmxlID0gdGguZ2V0QXR0cmlidXRlKFwiZGF0YS1zb3J0YWJsZVwiKSAhPT0gXCJmYWxzZVwiO1xyXG4gICAgICAgICAgICBpZiAoZHQuaGlkZGVuQ29sdW1ucy5pbmRleE9mKGkpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgZHQuYWN0aXZlSGVhZGluZ3MucHVzaCh0aCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCB0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gTG9vcCBvdmVyIHRoZSByb3dzIGFuZCByZW9yZGVyIHRoZSBjZWxsc1xyXG4gICAgICAgIGVhY2goZHQuZGF0YSwgZnVuY3Rpb24gKHJvdywgaSkge1xyXG4gICAgICAgICAgICBhID0gcm93LmNsb25lTm9kZSgpO1xyXG4gICAgICAgICAgICBiID0gcm93LmNsb25lTm9kZSgpO1xyXG5cclxuICAgICAgICAgICAgYS5kYXRhSW5kZXggPSBiLmRhdGFJbmRleCA9IGk7XHJcblxyXG4gICAgICAgICAgICBpZiAocm93LnNlYXJjaEluZGV4ICE9PSBudWxsICYmIHJvdy5zZWFyY2hJbmRleCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBhLnNlYXJjaEluZGV4ID0gYi5zZWFyY2hJbmRleCA9IHJvdy5zZWFyY2hJbmRleDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQXBwZW5kIHRoZSBjZWxsIHRvIHRoZSBmcmFnbWVudCBpbiB0aGUgY29ycmVjdCBvcmRlclxyXG4gICAgICAgICAgICBlYWNoKHJvdy5jZWxscywgZnVuY3Rpb24gKGNlbGwpIHtcclxuICAgICAgICAgICAgICAgIGMgPSBjZWxsLmNsb25lTm9kZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIGMuZGF0YSA9IGNlbGwuZGF0YTtcclxuICAgICAgICAgICAgICAgIGEuYXBwZW5kQ2hpbGQoYyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGR0LmhpZGRlbkNvbHVtbnMuaW5kZXhPZihjZWxsLmNlbGxJbmRleCkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZCA9IGNlbGwuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGQuZGF0YSA9IGNlbGwuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICBiLmFwcGVuZENoaWxkKGQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFwcGVuZCB0aGUgZnJhZ21lbnQgd2l0aCB0aGUgb3JkZXJlZCBjZWxsc1xyXG4gICAgICAgICAgICB0ZW1wLnB1c2goYSk7XHJcbiAgICAgICAgICAgIGR0LmFjdGl2ZVJvd3MucHVzaChiKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZHQuZGF0YSA9IHRlbXA7XHJcblxyXG4gICAgICAgIGR0LnVwZGF0ZSgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJvd3MgQVBJXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2UgRGF0YVRhYmxlIGluc3RhbmNlXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSByb3dzXHJcbiAgICAgKi9cclxuICAgIHZhciBSb3dzID0gZnVuY3Rpb24gKGR0LCByb3dzKSB7XHJcbiAgICAgICAgdGhpcy5kdCA9IGR0O1xyXG4gICAgICAgIHRoaXMucm93cyA9IHJvd3M7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEJ1aWxkIGEgbmV3IHJvd1xyXG4gICAgICogQHBhcmFtICB7QXJyYXl9IHJvd1xyXG4gICAgICogQHJldHVybiB7SFRNTEVsZW1lbnR9XHJcbiAgICAgKi9cclxuICAgIFJvd3MucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgIHZhciB0ZCwgdHIgPSBjcmVhdGVFbGVtZW50KFwidHJcIik7XHJcblxyXG4gICAgICAgIHZhciBoZWFkaW5ncyA9IHRoaXMuZHQuaGVhZGluZ3M7XHJcblxyXG4gICAgICAgIGlmICghaGVhZGluZ3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGhlYWRpbmdzID0gcm93Lm1hcChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBlYWNoKGhlYWRpbmdzLCBmdW5jdGlvbiAoaCwgaSkge1xyXG4gICAgICAgICAgICB0ZCA9IGNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEZpeGVzICMyOVxyXG4gICAgICAgICAgICBpZiAoIXJvd1tpXSAmJiAhcm93W2ldLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgcm93W2ldID0gXCJcIjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGQuaW5uZXJIVE1MID0gcm93W2ldO1xyXG5cclxuICAgICAgICAgICAgdGQuZGF0YSA9IHJvd1tpXTtcclxuXHJcbiAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRkKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRyO1xyXG4gICAgfTtcclxuXHJcbiAgICBSb3dzLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgcmV0dXJuIHJvdztcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgbmV3IHJvd1xyXG4gICAgICogQHBhcmFtIHtBcnJheX0gc2VsZWN0XHJcbiAgICAgKi9cclxuICAgIFJvd3MucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcblxyXG4gICAgICAgIGlmIChpc0FycmF5KGRhdGEpKSB7XHJcbiAgICAgICAgICAgIHZhciBkdCA9IHRoaXMuZHQ7XHJcbiAgICAgICAgICAgIC8vIENoZWNrIGZvciBtdWx0aXBsZSByb3dzXHJcbiAgICAgICAgICAgIGlmIChpc0FycmF5KGRhdGFbMF0pKSB7XHJcbiAgICAgICAgICAgICAgICBlYWNoKGRhdGEsIGZ1bmN0aW9uIChyb3csIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkdC5kYXRhLnB1c2godGhpcy5idWlsZChyb3cpKTtcclxuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZHQuZGF0YS5wdXNoKHRoaXMuYnVpbGQoZGF0YSkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBXZSBtYXkgaGF2ZSBhZGRlZCBkYXRhIHRvIGFuIGVtcHR5IHRhYmxlXHJcbiAgICAgICAgICAgIGlmICggZHQuZGF0YS5sZW5ndGggKSB7XHJcbiAgICAgICAgICAgICAgICBkdC5oYXNSb3dzID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XHJcblxyXG4gICAgICAgICAgICBkdC5jb2x1bW5zKCkucmVidWlsZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmUgcm93KHMpXHJcbiAgICAgKiBAcGFyYW0gIHtBcnJheXxOdW1iZXJ9IHNlbGVjdFxyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgUm93cy5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKHNlbGVjdCkge1xyXG5cclxuICAgICAgICB2YXIgZHQgPSB0aGlzLmR0O1xyXG5cclxuICAgICAgICBpZiAoaXNBcnJheShzZWxlY3QpKSB7XHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSBpbiByZXZlcnNlIG90aGVyd2lzZSB0aGUgaW5kZXhlcyB3aWxsIGJlIGluY29ycmVjdFxyXG4gICAgICAgICAgICBzZWxlY3Quc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGIgLSBhO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGVhY2goc2VsZWN0LCBmdW5jdGlvbiAocm93LCBpKSB7XHJcbiAgICAgICAgICAgICAgICBkdC5kYXRhLnNwbGljZShyb3csIDEpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkdC5kYXRhLnNwbGljZShzZWxlY3QsIDEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICBkdC5jb2x1bW5zKCkucmVidWlsZCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZSByb3cgaW5kZXhlc1xyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgUm93cy5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGVhY2godGhpcy5kdC5kYXRhLCBmdW5jdGlvbiAocm93LCBpKSB7XHJcbiAgICAgICAgICAgIHJvdy5kYXRhSW5kZXggPSBpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgLy8gICAgTUFJTiBMSUIgICAgLy9cclxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gICAgdmFyIERhdGFUYWJsZSA9IGZ1bmN0aW9uICh0YWJsZSwgb3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gdXNlciBvcHRpb25zXHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gZXh0ZW5kKGRlZmF1bHRDb25maWcsIG9wdGlvbnMpO1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHRhYmxlID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxlY3RvciA9IHRhYmxlO1xyXG4gICAgICAgICAgICB0YWJsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFibGUpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCF0YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIGVsZW1lbnQgJ1wiICsgc2VsZWN0b3IgKyBcIicgY2FuIG5vdCBiZSBmb3VuZC5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0YWJsZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT09IFwidGFibGVcIikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc2VsZWN0ZWQgZWxlbWVudCBpcyBub3QgYSB0YWJsZS5cIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmluaXRpYWxMYXlvdXQgPSB0YWJsZS5pbm5lckhUTUw7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsU29ydGFibGUgPSB0aGlzLm9wdGlvbnMuc29ydGFibGU7XHJcblxyXG4gICAgICAgIC8vIERpc2FibGUgbWFudWFsIHNvcnRpbmcgaWYgbm8gaGVhZGVyIGlzIHByZXNlbnQgKCM0KVxyXG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmhlYWRlcikge1xyXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuc29ydGFibGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0YWJsZS50SGVhZCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5kYXRhIHx8XHJcbiAgICAgICAgICAgICAgICAodGhpcy5vcHRpb25zLmRhdGEgJiYgIXRoaXMub3B0aW9ucy5kYXRhLmhlYWRpbmdzKVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5zb3J0YWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGFibGUudEJvZGllcy5sZW5ndGggJiYgIXRhYmxlLnRCb2RpZXNbMF0ucm93cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5kYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5kYXRhLmRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiWW91IHNlZW0gdG8gYmUgdXNpbmcgdGhlIGRhdGEgb3B0aW9uLCBidXQgeW91J3ZlIG5vdCBkZWZpbmVkIGFueSByb3dzLlwiXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy50YWJsZSA9IHRhYmxlO1xyXG5cclxuICAgICAgICB0aGlzLmluaXQoKTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIHByb3RvID0gRGF0YVRhYmxlLnByb3RvdHlwZTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYWxpemUgdGhlIGluc3RhbmNlXHJcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnNcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLmluaXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgICAgIGlmICh0aGlzLmluaXRpYWxpemVkIHx8IGNsYXNzTGlzdC5jb250YWlucyh0aGlzLnRhYmxlLCBcImRhdGFUYWJsZS10YWJsZVwiKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XHJcblxyXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IGV4dGVuZCh0aGlzLm9wdGlvbnMsIG9wdGlvbnMgfHwge30pO1xyXG5cclxuICAgICAgICAvLyBJRSBkZXRlY3Rpb25cclxuICAgICAgICB0aGlzLmlzSUUgPSAhIS8obXNpZXx0cmlkZW50KS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XHJcblxyXG4gICAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxO1xyXG4gICAgICAgIHRoaXMub25GaXJzdFBhZ2UgPSB0cnVlO1xyXG5cclxuICAgICAgICB0aGlzLmhpZGRlbkNvbHVtbnMgPSBbXTtcclxuICAgICAgICB0aGlzLmNvbHVtblJlbmRlcmVycyA9IFtdO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRDb2x1bW5zID0gW107XHJcblxyXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGF0LmVtaXQoXCJkYXRhdGFibGUuaW5pdFwiKTtcclxuICAgICAgICAgICAgdGhhdC5pbml0aWFsaXplZCA9IHRydWU7XHJcbiAgICAgICAgfSwgMTApO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciB0aGUgaW5zdGFuY2VcclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gdHlwZVxyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICBpZiAodHlwZSkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBcInBhZ2VcIjpcclxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyUGFnZSgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJwYWdlclwiOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJQYWdlcigpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJoZWFkZXJcIjpcclxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVySGVhZGVyKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzLFxyXG4gICAgICAgICAgICBvID0gdGhhdC5vcHRpb25zLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZSA9IFwiXCI7XHJcblxyXG4gICAgICAgIC8vIENvbnZlcnQgZGF0YSB0byBIVE1MXHJcbiAgICAgICAgaWYgKG8uZGF0YSkge1xyXG4gICAgICAgICAgICBkYXRhVG9UYWJsZS5jYWxsKHRoYXQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG8uYWpheCkge1xyXG4gICAgICAgICAgICB2YXIgYWpheCA9IG8uYWpheDtcclxuICAgICAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHhoclByb2dyZXNzID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIHRoYXQuZW1pdChcImRhdGF0YWJsZS5hamF4LnByb2dyZXNzXCIsIGUsIHhocik7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgeGhyTG9hZCA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0LmVtaXQoXCJkYXRhdGFibGUuYWpheC5sb2FkZWRcIiwgZSwgeGhyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5kYXRhID0gYWpheC5sb2FkID8gYWpheC5sb2FkLmNhbGwodGhhdCwgeGhyKSA6IHhoci5yZXNwb25zZVRleHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoudHlwZSA9IFwianNvblwiO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFqYXguY29udGVudCAmJiBhamF4LmNvbnRlbnQudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnR5cGUgPSBhamF4LmNvbnRlbnQudHlwZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmogPSBleHRlbmQob2JqLCBhamF4LmNvbnRlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmltcG9ydChvYmopO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5zZXRDb2x1bW5zKHRydWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5lbWl0KFwiZGF0YXRhYmxlLmFqYXguc3VjY2Vzc1wiLCBlLCB4aHIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuZW1pdChcImRhdGF0YWJsZS5hamF4LmVycm9yXCIsIGUsIHhocik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIHhockZhaWxlZCA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGF0LmVtaXQoXCJkYXRhdGFibGUuYWpheC5lcnJvclwiLCBlLCB4aHIpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIHhockNhbmNlbGxlZCA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGF0LmVtaXQoXCJkYXRhdGFibGUuYWpheC5hYm9ydFwiLCBlLCB4aHIpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgb24oeGhyLCBcInByb2dyZXNzXCIsIHhoclByb2dyZXNzKTtcclxuICAgICAgICAgICAgb24oeGhyLCBcImxvYWRcIiwgeGhyTG9hZCk7XHJcbiAgICAgICAgICAgIG9uKHhociwgXCJlcnJvclwiLCB4aHJGYWlsZWQpO1xyXG4gICAgICAgICAgICBvbih4aHIsIFwiYWJvcnRcIiwgeGhyQ2FuY2VsbGVkKTtcclxuXHJcbiAgICAgICAgICAgIHRoYXQuZW1pdChcImRhdGF0YWJsZS5hamF4LmxvYWRpbmdcIiwgeGhyKTtcclxuXHJcbiAgICAgICAgICAgIHhoci5vcGVuKFwiR0VUXCIsIHR5cGVvZiBhamF4ID09PSBcInN0cmluZ1wiID8gby5hamF4IDogby5hamF4LnVybCk7XHJcbiAgICAgICAgICAgIHhoci5zZW5kKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTdG9yZSByZWZlcmVuY2VzXHJcbiAgICAgICAgdGhhdC5ib2R5ID0gdGhhdC50YWJsZS50Qm9kaWVzWzBdO1xyXG4gICAgICAgIHRoYXQuaGVhZCA9IHRoYXQudGFibGUudEhlYWQ7XHJcbiAgICAgICAgdGhhdC5mb290ID0gdGhhdC50YWJsZS50Rm9vdDtcclxuXHJcbiAgICAgICAgaWYgKCF0aGF0LmJvZHkpIHtcclxuICAgICAgICAgICAgdGhhdC5ib2R5ID0gY3JlYXRlRWxlbWVudChcInRib2R5XCIpO1xyXG5cclxuICAgICAgICAgICAgdGhhdC50YWJsZS5hcHBlbmRDaGlsZCh0aGF0LmJvZHkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhhdC5oYXNSb3dzID0gdGhhdC5ib2R5LnJvd3MubGVuZ3RoID4gMDtcclxuXHJcbiAgICAgICAgLy8gTWFrZSBhIHRIZWFkIGlmIHRoZXJlIGlzbid0IG9uZSAoZml4ZXMgIzgpXHJcbiAgICAgICAgaWYgKCF0aGF0LmhlYWQpIHtcclxuICAgICAgICAgICAgdmFyIGggPSBjcmVhdGVFbGVtZW50KFwidGhlYWRcIik7XHJcbiAgICAgICAgICAgIHZhciB0ID0gY3JlYXRlRWxlbWVudChcInRyXCIpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoYXQuaGFzUm93cykge1xyXG4gICAgICAgICAgICAgICAgZWFjaCh0aGF0LmJvZHkucm93c1swXS5jZWxscywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHQuYXBwZW5kQ2hpbGQoY3JlYXRlRWxlbWVudChcInRoXCIpKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGguYXBwZW5kQ2hpbGQodCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoYXQuaGVhZCA9IGg7XHJcblxyXG4gICAgICAgICAgICB0aGF0LnRhYmxlLmluc2VydEJlZm9yZSh0aGF0LmhlYWQsIHRoYXQuYm9keSk7XHJcblxyXG4gICAgICAgICAgICB0aGF0LmhpZGRlbkhlYWRlciA9ICFvLmFqYXg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGF0LmhlYWRpbmdzID0gW107XHJcbiAgICAgICAgdGhhdC5oYXNIZWFkaW5ncyA9IHRoYXQuaGVhZC5yb3dzLmxlbmd0aCA+IDA7XHJcblxyXG4gICAgICAgIGlmICh0aGF0Lmhhc0hlYWRpbmdzKSB7XHJcbiAgICAgICAgICAgIHRoYXQuaGVhZGVyID0gdGhhdC5oZWFkLnJvd3NbMF07XHJcbiAgICAgICAgICAgIHRoYXQuaGVhZGluZ3MgPSBbXS5zbGljZS5jYWxsKHRoYXQuaGVhZGVyLmNlbGxzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEhlYWRlclxyXG4gICAgICAgIGlmICghby5oZWFkZXIpIHtcclxuICAgICAgICAgICAgaWYgKHRoYXQuaGVhZCkge1xyXG4gICAgICAgICAgICAgICAgdGhhdC50YWJsZS5yZW1vdmVDaGlsZCh0aGF0LnRhYmxlLnRIZWFkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRm9vdGVyXHJcbiAgICAgICAgaWYgKG8uZm9vdGVyKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGF0LmhlYWQgJiYgIXRoYXQuZm9vdCkge1xyXG4gICAgICAgICAgICAgICAgdGhhdC5mb290ID0gY3JlYXRlRWxlbWVudChcInRmb290XCIsIHtcclxuICAgICAgICAgICAgICAgICAgICBodG1sOiB0aGF0LmhlYWQuaW5uZXJIVE1MXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoYXQudGFibGUuYXBwZW5kQ2hpbGQodGhhdC5mb290KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGF0LmZvb3QpIHtcclxuICAgICAgICAgICAgICAgIHRoYXQudGFibGUucmVtb3ZlQ2hpbGQodGhhdC50YWJsZS50Rm9vdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEJ1aWxkXHJcbiAgICAgICAgdGhhdC53cmFwcGVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XHJcbiAgICAgICAgICAgIGNsYXNzOiBcImRhdGFUYWJsZS13cmFwcGVyIGRhdGFUYWJsZS1sb2FkaW5nXCJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gVGVtcGxhdGUgZm9yIGN1c3RvbSBsYXlvdXRzXHJcbiAgICAgICAgdGVtcGxhdGUgKz0gXCI8ZGl2IGNsYXNzPSdkYXRhVGFibGUtdG9wJz5cIjtcclxuICAgICAgICB0ZW1wbGF0ZSArPSBvLmxheW91dC50b3A7XHJcbiAgICAgICAgdGVtcGxhdGUgKz0gXCI8L2Rpdj5cIjtcclxuICAgICAgICB0ZW1wbGF0ZSArPSBcIjxkaXYgY2xhc3M9J2RhdGFUYWJsZS1jb250YWluZXInPjwvZGl2PlwiO1xyXG4gICAgICAgIHRlbXBsYXRlICs9IFwiPGRpdiBjbGFzcz0nZGF0YVRhYmxlLWJvdHRvbSc+XCI7XHJcbiAgICAgICAgdGVtcGxhdGUgKz0gby5sYXlvdXQuYm90dG9tO1xyXG4gICAgICAgIHRlbXBsYXRlICs9IFwiPC9kaXY+XCI7XHJcblxyXG4gICAgICAgIC8vIEluZm8gcGxhY2VtZW50XHJcbiAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKFwie2luZm99XCIsIFwiPGRpdiBjbGFzcz0nZGF0YVRhYmxlLWluZm8nPjwvZGl2PlwiKTtcclxuXHJcbiAgICAgICAgLy8gUGVyIFBhZ2UgU2VsZWN0XHJcbiAgICAgICAgaWYgKG8ucGVyUGFnZVNlbGVjdCkge1xyXG4gICAgICAgICAgICB2YXIgd3JhcCA9IFwiPGRpdiBjbGFzcz0nZGF0YVRhYmxlLWRyb3Bkb3duJz48bGFiZWw+XCI7XHJcbiAgICAgICAgICAgIHdyYXAgKz0gby5sYWJlbHMucGVyUGFnZTtcclxuICAgICAgICAgICAgd3JhcCArPSBcIjwvbGFiZWw+PC9kaXY+XCI7XHJcblxyXG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIHNlbGVjdFxyXG4gICAgICAgICAgICB2YXIgc2VsZWN0ID0gY3JlYXRlRWxlbWVudChcInNlbGVjdFwiLCB7XHJcbiAgICAgICAgICAgICAgICBjbGFzczogXCJkYXRhVGFibGUtc2VsZWN0b3JcIlxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgb3B0aW9uc1xyXG4gICAgICAgICAgICBlYWNoKG8ucGVyUGFnZVNlbGVjdCwgZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkID0gdmFsID09PSBvLnBlclBhZ2U7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9uID0gbmV3IE9wdGlvbih2YWwsIHZhbCwgc2VsZWN0ZWQsIHNlbGVjdGVkKTtcclxuICAgICAgICAgICAgICAgIHNlbGVjdC5hZGQob3B0aW9uKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBDdXN0b20gbGFiZWxcclxuICAgICAgICAgICAgd3JhcCA9IHdyYXAucmVwbGFjZShcIntzZWxlY3R9XCIsIHNlbGVjdC5vdXRlckhUTUwpO1xyXG5cclxuICAgICAgICAgICAgLy8gU2VsZWN0b3IgcGxhY2VtZW50XHJcbiAgICAgICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZShcIntzZWxlY3R9XCIsIHdyYXApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZShcIntzZWxlY3R9XCIsIFwiXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2VhcmNoYWJsZVxyXG4gICAgICAgIGlmIChvLnNlYXJjaGFibGUpIHtcclxuICAgICAgICAgICAgdmFyIGZvcm0gPVxyXG4gICAgICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPSdkYXRhVGFibGUtc2VhcmNoJz48aW5wdXQgY2xhc3M9J2RhdGFUYWJsZS1pbnB1dCcgcGxhY2Vob2xkZXI9J1wiICtcclxuICAgICAgICAgICAgICAgIG8ubGFiZWxzLnBsYWNlaG9sZGVyICtcclxuICAgICAgICAgICAgICAgIFwiJyB0eXBlPSd0ZXh0Jz48L2Rpdj5cIjtcclxuXHJcbiAgICAgICAgICAgIC8vIFNlYXJjaCBpbnB1dCBwbGFjZW1lbnRcclxuICAgICAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKFwie3NlYXJjaH1cIiwgZm9ybSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKFwie3NlYXJjaH1cIiwgXCJcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhhdC5oYXNIZWFkaW5ncykge1xyXG4gICAgICAgICAgICAvLyBTb3J0YWJsZVxyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcihcImhlYWRlclwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFkZCB0YWJsZSBjbGFzc1xyXG4gICAgICAgIGNsYXNzTGlzdC5hZGQodGhhdC50YWJsZSwgXCJkYXRhVGFibGUtdGFibGVcIik7XHJcblxyXG4gICAgICAgIC8vIFBhZ2luYXRvclxyXG4gICAgICAgIHZhciB3ID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XHJcbiAgICAgICAgICAgIGNsYXNzOiBcImRhdGFUYWJsZS1wYWdpbmF0aW9uXCJcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgcGFnaW5hdG9yID0gY3JlYXRlRWxlbWVudChcInVsXCIpO1xyXG4gICAgICAgIHcuYXBwZW5kQ2hpbGQocGFnaW5hdG9yKTtcclxuXHJcbiAgICAgICAgLy8gUGFnZXIocykgcGxhY2VtZW50XHJcbiAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC9cXHtwYWdlclxcfS9nLCB3Lm91dGVySFRNTCk7XHJcblxyXG4gICAgICAgIHRoYXQud3JhcHBlci5pbm5lckhUTUwgPSB0ZW1wbGF0ZTtcclxuXHJcbiAgICAgICAgdGhhdC5jb250YWluZXIgPSB0aGF0LndyYXBwZXIucXVlcnlTZWxlY3RvcihcIi5kYXRhVGFibGUtY29udGFpbmVyXCIpO1xyXG5cclxuICAgICAgICB0aGF0LnBhZ2VycyA9IHRoYXQud3JhcHBlci5xdWVyeVNlbGVjdG9yQWxsKFwiLmRhdGFUYWJsZS1wYWdpbmF0aW9uXCIpO1xyXG5cclxuICAgICAgICB0aGF0LmxhYmVsID0gdGhhdC53cmFwcGVyLnF1ZXJ5U2VsZWN0b3IoXCIuZGF0YVRhYmxlLWluZm9cIik7XHJcblxyXG4gICAgICAgIC8vIEluc2VydCBpbiB0byBET00gdHJlZVxyXG4gICAgICAgIHRoYXQudGFibGUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQodGhhdC53cmFwcGVyLCB0aGF0LnRhYmxlKTtcclxuICAgICAgICB0aGF0LmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGF0LnRhYmxlKTtcclxuXHJcbiAgICAgICAgLy8gU3RvcmUgdGhlIHRhYmxlIGRpbWVuc2lvbnNcclxuICAgICAgICB0aGF0LnJlY3QgPSB0aGF0LnRhYmxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICAgICAgICAvLyBDb252ZXJ0IHJvd3MgdG8gYXJyYXkgZm9yIHByb2Nlc3NpbmdcclxuICAgICAgICB0aGF0LmRhdGEgPSBbXS5zbGljZS5jYWxsKHRoYXQuYm9keS5yb3dzKTtcclxuICAgICAgICB0aGF0LmFjdGl2ZVJvd3MgPSB0aGF0LmRhdGEuc2xpY2UoKTtcclxuICAgICAgICB0aGF0LmFjdGl2ZUhlYWRpbmdzID0gdGhhdC5oZWFkaW5ncy5zbGljZSgpO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGVcclxuICAgICAgICB0aGF0LnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICBpZiAoIW8uYWpheCkge1xyXG4gICAgICAgICAgICB0aGF0LnNldENvbHVtbnMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEZpeCBoZWlnaHRcclxuICAgICAgICB0aGlzLmZpeEhlaWdodCgpO1xyXG5cclxuICAgICAgICAvLyBGaXggY29sdW1uc1xyXG4gICAgICAgIHRoYXQuZml4Q29sdW1ucygpO1xyXG5cclxuICAgICAgICAvLyBDbGFzcyBuYW1lc1xyXG4gICAgICAgIGlmICghby5oZWFkZXIpIHtcclxuICAgICAgICAgICAgY2xhc3NMaXN0LmFkZCh0aGF0LndyYXBwZXIsIFwibm8taGVhZGVyXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFvLmZvb3Rlcikge1xyXG4gICAgICAgICAgICBjbGFzc0xpc3QuYWRkKHRoYXQud3JhcHBlciwgXCJuby1mb290ZXJcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoby5zb3J0YWJsZSkge1xyXG4gICAgICAgICAgICBjbGFzc0xpc3QuYWRkKHRoYXQud3JhcHBlciwgXCJzb3J0YWJsZVwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChvLnNlYXJjaGFibGUpIHtcclxuICAgICAgICAgICAgY2xhc3NMaXN0LmFkZCh0aGF0LndyYXBwZXIsIFwic2VhcmNoYWJsZVwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChvLmZpeGVkSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIGNsYXNzTGlzdC5hZGQodGhhdC53cmFwcGVyLCBcImZpeGVkLWhlaWdodFwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChvLmZpeGVkQ29sdW1ucykge1xyXG4gICAgICAgICAgICBjbGFzc0xpc3QuYWRkKHRoYXQud3JhcHBlciwgXCJmaXhlZC1jb2x1bW5zXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhhdC5iaW5kRXZlbnRzKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyIHRoZSBwYWdlXHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5yZW5kZXJQYWdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmhhc1Jvd3MgJiYgdGhpcy50b3RhbFBhZ2VzKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYWdlID4gdGhpcy50b3RhbFBhZ2VzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gVXNlIGEgZnJhZ21lbnQgdG8gbGltaXQgdG91Y2hpbmcgdGhlIERPTVxyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmN1cnJlbnRQYWdlIC0gMSxcclxuICAgICAgICAgICAgICAgIGZyYWcgPSBkb2MuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuaGFzSGVhZGluZ3MpIHtcclxuICAgICAgICAgICAgICAgIGZsdXNoKHRoaXMuaGVhZGVyLCB0aGlzLmlzSUUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGVhY2godGhpcy5hY3RpdmVIZWFkaW5ncywgZnVuY3Rpb24gKHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oZWFkZXIuYXBwZW5kQ2hpbGQodGgpO1xyXG4gICAgICAgICAgICAgICAgfSwgdGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGVhY2godGhpcy5wYWdlc1tpbmRleF0sIGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgICAgICAgICAgIGZyYWcuYXBwZW5kQ2hpbGQodGhpcy5yb3dzKCkucmVuZGVyKHJvdykpO1xyXG4gICAgICAgICAgICB9LCB0aGlzKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2xlYXIoZnJhZyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9uRmlyc3RQYWdlID0gdGhpcy5jdXJyZW50UGFnZSA9PT0gMTtcclxuICAgICAgICAgICAgdGhpcy5vbkxhc3RQYWdlID0gdGhpcy5jdXJyZW50UGFnZSA9PT0gdGhpcy5sYXN0UGFnZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNsZWFyKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBVcGRhdGUgdGhlIGluZm9cclxuICAgICAgICB2YXIgY3VycmVudCA9IDAsXHJcbiAgICAgICAgICAgIGYgPSAwLFxyXG4gICAgICAgICAgICB0ID0gMCxcclxuICAgICAgICAgICAgaXRlbXM7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnRvdGFsUGFnZXMpIHtcclxuICAgICAgICAgICAgY3VycmVudCA9IHRoaXMuY3VycmVudFBhZ2UgLSAxO1xyXG4gICAgICAgICAgICBmID0gY3VycmVudCAqIHRoaXMub3B0aW9ucy5wZXJQYWdlO1xyXG4gICAgICAgICAgICB0ID0gZiArIHRoaXMucGFnZXNbY3VycmVudF0ubGVuZ3RoO1xyXG4gICAgICAgICAgICBmID0gZiArIDE7XHJcbiAgICAgICAgICAgIGl0ZW1zID0gISF0aGlzLnNlYXJjaGluZyA/IHRoaXMuc2VhcmNoRGF0YS5sZW5ndGggOiB0aGlzLmRhdGEubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMubGFiZWwgJiYgdGhpcy5vcHRpb25zLmxhYmVscy5pbmZvLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAvLyBDVVNUT00gTEFCRUxTXHJcbiAgICAgICAgICAgIHZhciBzdHJpbmcgPSB0aGlzLm9wdGlvbnMubGFiZWxzLmluZm9cclxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKFwie3N0YXJ0fVwiLCBmKVxyXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoXCJ7ZW5kfVwiLCB0KVxyXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoXCJ7cGFnZX1cIiwgdGhpcy5jdXJyZW50UGFnZSlcclxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKFwie3BhZ2VzfVwiLCB0aGlzLnRvdGFsUGFnZXMpXHJcbiAgICAgICAgICAgICAgICAucmVwbGFjZShcIntyb3dzfVwiLCBpdGVtcyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxhYmVsLmlubmVySFRNTCA9IGl0ZW1zID8gc3RyaW5nIDogXCJcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYWdlID09IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5maXhIZWlnaHQoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyIHRoZSBwYWdlcihzKVxyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8ucmVuZGVyUGFnZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZmx1c2godGhpcy5wYWdlcnMsIHRoaXMuaXNJRSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnRvdGFsUGFnZXMgPiAxKSB7XHJcbiAgICAgICAgICAgIHZhciBjID0gXCJwYWdlclwiLFxyXG4gICAgICAgICAgICAgICAgZnJhZyA9IGRvYy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXHJcbiAgICAgICAgICAgICAgICBwcmV2ID0gdGhpcy5vbkZpcnN0UGFnZSA/IDEgOiB0aGlzLmN1cnJlbnRQYWdlIC0gMSxcclxuICAgICAgICAgICAgICAgIG5leHQgPSB0aGlzLm9ubGFzdFBhZ2UgPyB0aGlzLnRvdGFsUGFnZXMgOiB0aGlzLmN1cnJlbnRQYWdlICsgMTtcclxuXHJcbiAgICAgICAgICAgIC8vIGZpcnN0IGJ1dHRvblxyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmZpcnN0TGFzdCkge1xyXG4gICAgICAgICAgICAgICAgZnJhZy5hcHBlbmRDaGlsZChidXR0b24oYywgMSwgdGhpcy5vcHRpb25zLmZpcnN0VGV4dCkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBwcmV2IGJ1dHRvblxyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLm5leHRQcmV2KSB7XHJcbiAgICAgICAgICAgICAgICBmcmFnLmFwcGVuZENoaWxkKGJ1dHRvbihjLCBwcmV2LCB0aGlzLm9wdGlvbnMucHJldlRleHQpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHBhZ2VyID0gdGhpcy5saW5rcztcclxuXHJcbiAgICAgICAgICAgIC8vIHRydW5jYXRlIHRoZSBsaW5rc1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRydW5jYXRlUGFnZXIpIHtcclxuICAgICAgICAgICAgICAgIHBhZ2VyID0gdHJ1bmNhdGUoXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5rcyxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFnZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5wYWdlckRlbHRhLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5lbGxpcHNpc1RleHRcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGFjdGl2ZSBwYWdlIGxpbmtcclxuICAgICAgICAgICAgY2xhc3NMaXN0LmFkZCh0aGlzLmxpbmtzW3RoaXMuY3VycmVudFBhZ2UgLSAxXSwgXCJhY3RpdmVcIik7XHJcblxyXG4gICAgICAgICAgICAvLyBhcHBlbmQgdGhlIGxpbmtzXHJcbiAgICAgICAgICAgIGVhY2gocGFnZXIsIGZ1bmN0aW9uIChwKSB7XHJcbiAgICAgICAgICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKHAsIFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICAgICAgZnJhZy5hcHBlbmRDaGlsZChwKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBjbGFzc0xpc3QuYWRkKHRoaXMubGlua3NbdGhpcy5jdXJyZW50UGFnZSAtIDFdLCBcImFjdGl2ZVwiKTtcclxuXHJcbiAgICAgICAgICAgIC8vIG5leHQgYnV0dG9uXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMubmV4dFByZXYpIHtcclxuICAgICAgICAgICAgICAgIGZyYWcuYXBwZW5kQ2hpbGQoYnV0dG9uKGMsIG5leHQsIHRoaXMub3B0aW9ucy5uZXh0VGV4dCkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBmaXJzdCBidXR0b25cclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5maXJzdExhc3QpIHtcclxuICAgICAgICAgICAgICAgIGZyYWcuYXBwZW5kQ2hpbGQoYnV0dG9uKGMsIHRoaXMudG90YWxQYWdlcywgdGhpcy5vcHRpb25zLmxhc3RUZXh0KSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFdlIG1heSBoYXZlIG1vcmUgdGhhbiBvbmUgcGFnZXJcclxuICAgICAgICAgICAgZWFjaCh0aGlzLnBhZ2VycywgZnVuY3Rpb24gKHBhZ2VyKSB7XHJcbiAgICAgICAgICAgICAgICBwYWdlci5hcHBlbmRDaGlsZChmcmFnLmNsb25lTm9kZSh0cnVlKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgdGhlIGhlYWRlclxyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8ucmVuZGVySGVhZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcclxuXHJcbiAgICAgICAgdGhhdC5sYWJlbHMgPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKHRoYXQuaGVhZGluZ3MgJiYgdGhhdC5oZWFkaW5ncy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZWFjaCh0aGF0LmhlYWRpbmdzLCBmdW5jdGlvbiAodGgsIGkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGF0LmxhYmVsc1tpXSA9IHRoLnRleHRDb250ZW50O1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjbGFzc0xpc3QuY29udGFpbnModGguZmlyc3RFbGVtZW50Q2hpbGQsIFwiZGF0YVRhYmxlLXNvcnRlclwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoLmlubmVySFRNTCA9IHRoLmZpcnN0RWxlbWVudENoaWxkLmlubmVySFRNTDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aC5zb3J0YWJsZSA9IHRoLmdldEF0dHJpYnV0ZShcImRhdGEtc29ydGFibGVcIikgIT09IFwiZmFsc2VcIjtcclxuXHJcbiAgICAgICAgICAgICAgICB0aC5vcmlnaW5hbENlbGxJbmRleCA9IGk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhhdC5vcHRpb25zLnNvcnRhYmxlICYmIHRoLnNvcnRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxpbmsgPSBjcmVhdGVFbGVtZW50KFwiYVwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY6IFwiI1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogXCJkYXRhVGFibGUtc29ydGVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw6IHRoLmlubmVySFRNTFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aC5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoLnNldEF0dHJpYnV0ZShcImRhdGEtc29ydGFibGVcIiwgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGguYXBwZW5kQ2hpbGQobGluayk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhhdC5maXhDb2x1bW5zKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQmluZCBldmVudCBsaXN0ZW5lcnNcclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICBwcm90by5iaW5kRXZlbnRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcyxcclxuICAgICAgICAgICAgbyA9IHRoYXQub3B0aW9ucztcclxuXHJcbiAgICAgICAgLy8gUGVyIHBhZ2Ugc2VsZWN0b3JcclxuICAgICAgICBpZiAoby5wZXJQYWdlU2VsZWN0KSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxlY3RvciA9IHRoYXQud3JhcHBlci5xdWVyeVNlbGVjdG9yKFwiLmRhdGFUYWJsZS1zZWxlY3RvclwiKTtcclxuICAgICAgICAgICAgaWYgKHNlbGVjdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBDaGFuZ2UgcGVyIHBhZ2VcclxuICAgICAgICAgICAgICAgIG9uKHNlbGVjdG9yLCBcImNoYW5nZVwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG8ucGVyUGFnZSA9IHBhcnNlSW50KHRoaXMudmFsdWUsIDEwKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0LnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGF0LmZpeEhlaWdodCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGF0LmVtaXQoXCJkYXRhdGFibGUucGVycGFnZVwiLCBvLnBlclBhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNlYXJjaCBpbnB1dFxyXG4gICAgICAgIGlmIChvLnNlYXJjaGFibGUpIHtcclxuICAgICAgICAgICAgdGhhdC5pbnB1dCA9IHRoYXQud3JhcHBlci5xdWVyeVNlbGVjdG9yKFwiLmRhdGFUYWJsZS1pbnB1dFwiKTtcclxuICAgICAgICAgICAgaWYgKHRoYXQuaW5wdXQpIHtcclxuICAgICAgICAgICAgICAgIG9uKHRoYXQuaW5wdXQsIFwia2V5dXBcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0LnNlYXJjaCh0aGlzLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBQYWdlcihzKSAvIHNvcnRpbmdcclxuICAgICAgICBvbih0aGF0LndyYXBwZXIsIFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgdmFyIHQgPSBlLnRhcmdldDtcclxuICAgICAgICAgICAgaWYgKHQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJhXCIpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0Lmhhc0F0dHJpYnV0ZShcImRhdGEtcGFnZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQucGFnZSh0LmdldEF0dHJpYnV0ZShcImRhdGEtcGFnZVwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICAgICAgICAgICAgICBvLnNvcnRhYmxlICYmXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NMaXN0LmNvbnRhaW5zKHQsIFwiZGF0YVRhYmxlLXNvcnRlclwiKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHQucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNvcnRhYmxlXCIpICE9IFwiZmFsc2VcIlxyXG4gICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5jb2x1bW5zKCkuc29ydCh0aGF0LmFjdGl2ZUhlYWRpbmdzLmluZGV4T2YodC5wYXJlbnROb2RlKSArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldCB1cCBjb2x1bW5zXHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgcHJvdG8uc2V0Q29sdW1ucyA9IGZ1bmN0aW9uIChhamF4KSB7XHJcblxyXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcclxuXHJcbiAgICAgICAgaWYgKCFhamF4KSB7XHJcbiAgICAgICAgICAgIGVhY2godGhhdC5kYXRhLCBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgICAgICBlYWNoKHJvdy5jZWxscywgZnVuY3Rpb24gKGNlbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjZWxsLmRhdGEgPSBjZWxsLmlubmVySFRNTDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGZvciB0aGUgY29sdW1ucyBvcHRpb25cclxuICAgICAgICBpZiAodGhhdC5vcHRpb25zLmNvbHVtbnMgJiYgdGhhdC5oZWFkaW5ncy5sZW5ndGgpIHtcclxuXHJcbiAgICAgICAgICAgIGVhY2godGhhdC5vcHRpb25zLmNvbHVtbnMsIGZ1bmN0aW9uIChkYXRhKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gY29udmVydCBzaW5nbGUgY29sdW1uIHNlbGVjdGlvbiB0byBhcnJheVxyXG4gICAgICAgICAgICAgICAgaWYgKCFpc0FycmF5KGRhdGEuc2VsZWN0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuc2VsZWN0ID0gW2RhdGEuc2VsZWN0XTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eShcInJlbmRlclwiKSAmJiB0eXBlb2YgZGF0YS5yZW5kZXIgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuc2VsZWN0ZWRDb2x1bW5zID0gdGhhdC5zZWxlY3RlZENvbHVtbnMuY29uY2F0KGRhdGEuc2VsZWN0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5jb2x1bW5SZW5kZXJlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbnM6IGRhdGEuc2VsZWN0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJlcjogZGF0YS5yZW5kZXJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIGRhdGEgYXR0cmlidXRlcyB0byB0aGUgdGggZWxlbWVudHNcclxuICAgICAgICAgICAgICAgIGVhY2goZGF0YS5zZWxlY3QsIGZ1bmN0aW9uIChjb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGggPSB0aGF0LmhlYWRpbmdzW2NvbHVtbl07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXR5cGVcIiwgZGF0YS50eXBlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuZm9ybWF0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoLnNldEF0dHJpYnV0ZShcImRhdGEtZm9ybWF0XCIsIGRhdGEuZm9ybWF0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoXCJzb3J0YWJsZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXNvcnRhYmxlXCIsIGRhdGEuc29ydGFibGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoXCJoaWRkZW5cIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuaGlkZGVuICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5jb2x1bW5zKGNvbHVtbikuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eShcInNvcnRcIikgJiYgZGF0YS5zZWxlY3QubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuY29sdW1ucygpLnNvcnQoZGF0YS5zZWxlY3RbMF0gKyAxLCBkYXRhLnNvcnQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGF0Lmhhc1Jvd3MpIHtcclxuICAgICAgICAgICAgZWFjaCh0aGF0LmRhdGEsIGZ1bmN0aW9uIChyb3csIGkpIHtcclxuICAgICAgICAgICAgICAgIHJvdy5kYXRhSW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgICAgZWFjaChyb3cuY2VsbHMsIGZ1bmN0aW9uIChjZWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2VsbC5kYXRhID0gY2VsbC5pbm5lckhUTUw7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhhdC5zZWxlY3RlZENvbHVtbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBlYWNoKHRoYXQuZGF0YSwgZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICAgICAgICAgIGVhY2gocm93LmNlbGxzLCBmdW5jdGlvbiAoY2VsbCwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhhdC5zZWxlY3RlZENvbHVtbnMuaW5kZXhPZihpKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYWNoKHRoYXQuY29sdW1uUmVuZGVyZXJzLCBmdW5jdGlvbiAobykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvLmNvbHVtbnMuaW5kZXhPZihpKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwuaW5uZXJIVE1MID0gby5yZW5kZXJlci5jYWxsKHRoYXQsIGNlbGwuZGF0YSwgY2VsbCwgcm93KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoYXQuY29sdW1ucygpLnJlYnVpbGQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoYXQucmVuZGVyKFwiaGVhZGVyXCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlc3Ryb3kgdGhlIGluc3RhbmNlXHJcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMudGFibGUuaW5uZXJIVE1MID0gdGhpcy5pbml0aWFsTGF5b3V0O1xyXG5cclxuICAgICAgICAvLyBSZW1vdmUgdGhlIGNsYXNzTmFtZVxyXG4gICAgICAgIGNsYXNzTGlzdC5yZW1vdmUodGhpcy50YWJsZSwgXCJkYXRhVGFibGUtdGFibGVcIik7XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZSB0aGUgY29udGFpbmVyc1xyXG4gICAgICAgIHRoaXMud3JhcHBlci5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZCh0aGlzLnRhYmxlLCB0aGlzLndyYXBwZXIpO1xyXG5cclxuICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlIHRoZSBpbnN0YW5jZVxyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8udXBkYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMucGFnaW5hdGUodGhpcyk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXIoXCJwYWdlXCIpO1xyXG5cclxuICAgICAgICB0aGlzLmxpbmtzID0gW107XHJcblxyXG4gICAgICAgIHZhciBpID0gdGhpcy5wYWdlcy5sZW5ndGg7XHJcbiAgICAgICAgd2hpbGUgKGktLSkge1xyXG4gICAgICAgICAgICB2YXIgbnVtID0gaSArIDE7XHJcbiAgICAgICAgICAgIHRoaXMubGlua3NbaV0gPSBidXR0b24oaSA9PT0gMCA/IFwiYWN0aXZlXCIgOiBcIlwiLCBudW0sIG51bSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNvcnRpbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5yZW5kZXIoXCJwYWdlclwiKTtcclxuXHJcbiAgICAgICAgdGhpcy5yb3dzKCkudXBkYXRlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuZW1pdChcImRhdGF0YWJsZS51cGRhdGVcIik7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU29ydCByb3dzIGludG8gcGFnZXNcclxuICAgICAqIEByZXR1cm4ge051bWJlcn1cclxuICAgICAqL1xyXG4gICAgcHJvdG8ucGFnaW5hdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHBlclBhZ2UgPSB0aGlzLm9wdGlvbnMucGVyUGFnZSxcclxuICAgICAgICAgICAgcm93cyA9IHRoaXMuYWN0aXZlUm93cztcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2VhcmNoaW5nKSB7XHJcbiAgICAgICAgICAgIHJvd3MgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGVhY2godGhpcy5zZWFyY2hEYXRhLCBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIHJvd3MucHVzaCh0aGlzLmFjdGl2ZVJvd3NbaW5kZXhdKTtcclxuICAgICAgICAgICAgfSwgdGhpcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVjayBmb3IgaGlkZGVuIGNvbHVtbnNcclxuICAgICAgICB0aGlzLnBhZ2VzID0gcm93c1xyXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uICh0ciwgaSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGkgJSBwZXJQYWdlID09PSAwID8gcm93cy5zbGljZShpLCBpICsgcGVyUGFnZSkgOiBudWxsO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChwYWdlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFnZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMudG90YWxQYWdlcyA9IHRoaXMubGFzdFBhZ2UgPSB0aGlzLnBhZ2VzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMudG90YWxQYWdlcztcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBGaXggY29sdW1uIHdpZHRoc1xyXG4gICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8uZml4Q29sdW1ucyA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5maXhlZENvbHVtbnMgJiYgdGhpcy5hY3RpdmVIZWFkaW5ncyAmJiB0aGlzLmFjdGl2ZUhlYWRpbmdzLmxlbmd0aCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIGNlbGxzLFxyXG4gICAgICAgICAgICAgICAgaGQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29sdW1uV2lkdGhzID0gW107XHJcblxyXG4gICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGhlYWRpbmdzIHdlIG5lZWQgb25seSBzZXQgdGhlIHdpZHRocyBvbiB0aGVtXHJcbiAgICAgICAgICAgIC8vIG90aGVyd2lzZSB3ZSBuZWVkIGEgdGVtcCBoZWFkZXIgYW5kIHRoZSB3aWR0aHMgbmVlZCBhcHBseWluZyB0byBhbGwgY2VsbHNcclxuICAgICAgICAgICAgaWYgKHRoaXMudGFibGUudEhlYWQpIHtcclxuICAgICAgICAgICAgICAgIC8vIFJlc2V0IHdpZHRoc1xyXG4gICAgICAgICAgICAgICAgZWFjaCh0aGlzLmFjdGl2ZUhlYWRpbmdzLCBmdW5jdGlvbiAoY2VsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNlbGwuc3R5bGUud2lkdGggPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgfSwgdGhpcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgZWFjaCh0aGlzLmFjdGl2ZUhlYWRpbmdzLCBmdW5jdGlvbiAoY2VsbCwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvdyA9IGNlbGwub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHcgPSBvdyAvIHRoaXMucmVjdC53aWR0aCAqIDEwMDtcclxuICAgICAgICAgICAgICAgICAgICBjZWxsLnN0eWxlLndpZHRoID0gdyArIFwiJVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sdW1uV2lkdGhzW2ldID0gb3c7XHJcbiAgICAgICAgICAgICAgICB9LCB0aGlzKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNlbGxzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gTWFrZSB0ZW1wZXJhcnkgaGVhZGluZ3NcclxuICAgICAgICAgICAgICAgIGhkID0gY3JlYXRlRWxlbWVudChcInRoZWFkXCIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHIgPSBjcmVhdGVFbGVtZW50KFwidHJcIik7XHJcbiAgICAgICAgICAgICAgICB2YXIgYyA9IHRoaXMudGFibGUudEJvZGllc1swXS5yb3dzWzBdLmNlbGxzO1xyXG4gICAgICAgICAgICAgICAgZWFjaChjLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRoID0gY3JlYXRlRWxlbWVudChcInRoXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHIuYXBwZW5kQ2hpbGQodGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNlbGxzLnB1c2godGgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaGQuYXBwZW5kQ2hpbGQocik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlLmluc2VydEJlZm9yZShoZCwgdGhpcy5ib2R5KTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgd2lkdGhzID0gW107XHJcbiAgICAgICAgICAgICAgICBlYWNoKGNlbGxzLCBmdW5jdGlvbiAoY2VsbCwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvdyA9IGNlbGwub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHcgPSBvdyAvIHRoaXMucmVjdC53aWR0aCAqIDEwMDtcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aHMucHVzaCh3KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbHVtbldpZHRoc1tpXSA9IG93O1xyXG4gICAgICAgICAgICAgICAgfSwgdGhpcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgZWFjaCh0aGlzLmRhdGEsIGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICBlYWNoKHJvdy5jZWxscywgZnVuY3Rpb24gKGNlbGwsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29sdW1ucyhjZWxsLmNlbGxJbmRleCkudmlzaWJsZSgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbC5zdHlsZS53aWR0aCA9IHdpZHRoc1tpXSArIFwiJVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfSwgdGhpcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gRGlzY2FyZCB0aGUgdGVtcCBoZWFkZXJcclxuICAgICAgICAgICAgICAgIHRoaXMudGFibGUucmVtb3ZlQ2hpbGQoaGQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEZpeCB0aGUgY29udGFpbmVyIGhlaWdodDtcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLmZpeEhlaWdodCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmZpeGVkSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMucmVjdCA9IHRoaXMuY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSB0aGlzLnJlY3QuaGVpZ2h0ICsgXCJweFwiO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQZXJmb3JtIGEgc2VhcmNoIG9mIHRoZSBkYXRhIHNldFxyXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSBxdWVyeVxyXG4gICAgICogQHJldHVybiB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8uc2VhcmNoID0gZnVuY3Rpb24gKHF1ZXJ5KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmhhc1Jvd3MpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xyXG5cclxuICAgICAgICBxdWVyeSA9IHF1ZXJ5LnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxO1xyXG4gICAgICAgIHRoaXMuc2VhcmNoaW5nID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnNlYXJjaERhdGEgPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKCFxdWVyeS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWFyY2hpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5lbWl0KFwiZGF0YXRhYmxlLnNlYXJjaFwiLCBxdWVyeSwgdGhpcy5zZWFyY2hEYXRhKTtcclxuICAgICAgICAgICAgY2xhc3NMaXN0LnJlbW92ZSh0aGlzLndyYXBwZXIsIFwic2VhcmNoLXJlc3VsdHNcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY2xlYXIoKTtcclxuXHJcbiAgICAgICAgZWFjaCh0aGlzLmRhdGEsIGZ1bmN0aW9uIChyb3csIGlkeCkge1xyXG4gICAgICAgICAgICB2YXIgaW5BcnJheSA9IHRoaXMuc2VhcmNoRGF0YS5pbmRleE9mKHJvdykgPiAtMTtcclxuXHJcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9Nb2JpdXMxL1ZhbmlsbGEtRGF0YVRhYmxlcy9pc3N1ZXMvMTJcclxuICAgICAgICAgICAgdmFyIGRvZXNRdWVyeU1hdGNoID0gcXVlcnkuc3BsaXQoXCIgXCIpLnJlZHVjZShmdW5jdGlvbiAoYm9vbCwgd29yZCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluY2x1ZGVzID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCByb3cuY2VsbHMubGVuZ3RoOyB4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdy5jZWxsc1t4XS50ZXh0Q29udGVudC50b0xvd2VyQ2FzZSgpLmluZGV4T2Yod29yZCkgPiAtMSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmNvbHVtbnMocm93LmNlbGxzW3hdLmNlbGxJbmRleCkudmlzaWJsZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBib29sICYmIGluY2x1ZGVzO1xyXG4gICAgICAgICAgICB9LCB0cnVlKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkb2VzUXVlcnlNYXRjaCAmJiAhaW5BcnJheSkge1xyXG4gICAgICAgICAgICAgICAgcm93LnNlYXJjaEluZGV4ID0gaWR4O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWFyY2hEYXRhLnB1c2goaWR4KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJvdy5zZWFyY2hJbmRleCA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCB0aGlzKTtcclxuXHJcbiAgICAgICAgY2xhc3NMaXN0LmFkZCh0aGlzLndyYXBwZXIsIFwic2VhcmNoLXJlc3VsdHNcIik7XHJcblxyXG4gICAgICAgIGlmICghdGhhdC5zZWFyY2hEYXRhLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKHRoYXQud3JhcHBlciwgXCJzZWFyY2gtcmVzdWx0c1wiKTtcclxuXHJcbiAgICAgICAgICAgIHRoYXQuc2V0TWVzc2FnZSh0aGF0Lm9wdGlvbnMubGFiZWxzLm5vUm93cyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhhdC51cGRhdGUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZW1pdChcImRhdGF0YWJsZS5zZWFyY2hcIiwgcXVlcnksIHRoaXMuc2VhcmNoRGF0YSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hhbmdlIHBhZ2VcclxuICAgICAqIEBwYXJhbSAge2ludH0gcGFnZVxyXG4gICAgICogQHJldHVybiB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8ucGFnZSA9IGZ1bmN0aW9uIChwYWdlKSB7XHJcbiAgICAgICAgLy8gV2UgZG9uJ3Qgd2FudCB0byBsb2FkIHRoZSBjdXJyZW50IHBhZ2UgYWdhaW4uXHJcbiAgICAgICAgaWYgKHBhZ2UgPT0gdGhpcy5jdXJyZW50UGFnZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWlzTmFOKHBhZ2UpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSBwYXJzZUludChwYWdlLCAxMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocGFnZSA+IHRoaXMucGFnZXMubGVuZ3RoIHx8IHBhZ2UgPCAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucmVuZGVyKFwicGFnZVwiKTtcclxuICAgICAgICB0aGlzLnJlbmRlcihcInBhZ2VyXCIpO1xyXG5cclxuICAgICAgICB0aGlzLmVtaXQoXCJkYXRhdGFibGUucGFnZVwiLCBwYWdlKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTb3J0IGJ5IGNvbHVtblxyXG4gICAgICogQHBhcmFtICB7aW50fSBjb2x1bW4gLSBUaGUgY29sdW1uIG5vLlxyXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSBkaXJlY3Rpb24gLSBhc2Mgb3IgZGVzY1xyXG4gICAgICogQHJldHVybiB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8uc29ydENvbHVtbiA9IGZ1bmN0aW9uIChjb2x1bW4sIGRpcmVjdGlvbikge1xyXG4gICAgICAgIC8vIFVzZSBjb2x1bW5zIEFQSSB1bnRpbCBzb3J0Q29sdW1uIG1ldGhvZCBpcyByZW1vdmVkXHJcbiAgICAgICAgdGhpcy5jb2x1bW5zKCkuc29ydChjb2x1bW4sIGRpcmVjdGlvbik7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkIG5ldyByb3cgZGF0YVxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGRhdGFcclxuICAgICAqL1xyXG4gICAgcHJvdG8uaW5zZXJ0ID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuXHJcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzLFxyXG4gICAgICAgICAgICByb3dzID0gW107XHJcbiAgICAgICAgaWYgKGlzT2JqZWN0KGRhdGEpKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmhlYWRpbmdzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoYXQuaGFzSGVhZGluZ3MgJiYgIXRoYXQuaGFzUm93cykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0ciA9IGNyZWF0ZUVsZW1lbnQoXCJ0clwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgZWFjaChkYXRhLmhlYWRpbmdzLCBmdW5jdGlvbiAoaGVhZGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aCA9IGNyZWF0ZUVsZW1lbnQoXCJ0aFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sOiBoZWFkaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuaGVhZC5hcHBlbmRDaGlsZCh0cik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuaGVhZGVyID0gdHI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5oZWFkaW5ncyA9IFtdLnNsaWNlLmNhbGwodHIuY2VsbHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuaGFzSGVhZGluZ3MgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBSZS1lbmFibGUgc29ydGluZyBpZiBpdCB3YXMgZGlzYWJsZWQgZHVlXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdG8gbWlzc2luZyBoZWFkZXJcclxuICAgICAgICAgICAgICAgICAgICB0aGF0Lm9wdGlvbnMuc29ydGFibGUgPSB0aGF0LmluaXRpYWxTb3J0YWJsZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQWxsb3cgc29ydGluZyBvbiBuZXcgaGVhZGVyXHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5yZW5kZXIoXCJoZWFkZXJcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChkYXRhLmRhdGEgJiYgaXNBcnJheShkYXRhLmRhdGEpKSB7XHJcbiAgICAgICAgICAgICAgICByb3dzID0gZGF0YS5kYXRhO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KGRhdGEpKSB7XHJcbiAgICAgICAgICAgIGVhY2goZGF0YSwgZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHIgPSBbXTtcclxuICAgICAgICAgICAgICAgIGVhY2gocm93LCBmdW5jdGlvbiAoY2VsbCwgaGVhZGluZykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0aGF0LmxhYmVscy5pbmRleE9mKGhlYWRpbmcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByW2luZGV4XSA9IGNlbGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByb3dzLnB1c2gocik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHJvd3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoYXQucm93cygpLmFkZChyb3dzKTtcclxuXHJcbiAgICAgICAgICAgIHRoYXQuaGFzUm93cyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGF0LnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICB0aGF0LmZpeENvbHVtbnMoKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWZyZXNoIHRoZSBpbnN0YW5jZVxyXG4gICAgICogQHJldHVybiB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8ucmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNlYXJjaGFibGUpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnB1dC52YWx1ZSA9IFwiXCI7XHJcbiAgICAgICAgICAgIHRoaXMuc2VhcmNoaW5nID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxO1xyXG4gICAgICAgIHRoaXMub25GaXJzdFBhZ2UgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMudXBkYXRlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuZW1pdChcImRhdGF0YWJsZS5yZWZyZXNoXCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRydW5jYXRlIHRoZSB0YWJsZVxyXG4gICAgICogQHBhcmFtICB7bWl4ZXN9IGh0bWwgLSBIVE1MIHN0cmluZyBvciBIVE1MRWxlbWVudFxyXG4gICAgICogQHJldHVybiB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgcHJvdG8uY2xlYXIgPSBmdW5jdGlvbiAoaHRtbCkge1xyXG4gICAgICAgIGlmICh0aGlzLmJvZHkpIHtcclxuICAgICAgICAgICAgZmx1c2godGhpcy5ib2R5LCB0aGlzLmlzSUUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMuYm9keTtcclxuICAgICAgICBpZiAoIXRoaXMuYm9keSkge1xyXG4gICAgICAgICAgICBwYXJlbnQgPSB0aGlzLnRhYmxlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGh0bWwpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBodG1sID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZnJhZyA9IGRvYy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XHJcbiAgICAgICAgICAgICAgICBmcmFnLmlubmVySFRNTCA9IGh0bWw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChodG1sKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRXhwb3J0IHRhYmxlIHRvIHZhcmlvdXMgZm9ybWF0cyAoY3N2LCB0eHQgb3Igc3FsKVxyXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zIFVzZXIgb3B0aW9uc1xyXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgcHJvdG8uZXhwb3J0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaGFzSGVhZGluZ3MgJiYgIXRoaXMuaGFzUm93cykgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICB2YXIgaGVhZGVycyA9IHRoaXMuYWN0aXZlSGVhZGluZ3MsXHJcbiAgICAgICAgICAgIHJvd3MgPSBbXSxcclxuICAgICAgICAgICAgYXJyID0gW10sXHJcbiAgICAgICAgICAgIGksXHJcbiAgICAgICAgICAgIHgsXHJcbiAgICAgICAgICAgIHN0cixcclxuICAgICAgICAgICAgbGluaztcclxuXHJcbiAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xyXG4gICAgICAgICAgICBkb3dubG9hZDogdHJ1ZSxcclxuICAgICAgICAgICAgc2tpcENvbHVtbjogW10sXHJcblxyXG4gICAgICAgICAgICAvLyBjc3ZcclxuICAgICAgICAgICAgbGluZURlbGltaXRlcjogXCJcXG5cIixcclxuICAgICAgICAgICAgY29sdW1uRGVsaW1pdGVyOiBcIixcIixcclxuXHJcbiAgICAgICAgICAgIC8vIHNxbFxyXG4gICAgICAgICAgICB0YWJsZU5hbWU6IFwibXlUYWJsZVwiLFxyXG5cclxuICAgICAgICAgICAgLy8ganNvblxyXG4gICAgICAgICAgICByZXBsYWNlcjogbnVsbCxcclxuICAgICAgICAgICAgc3BhY2U6IDRcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBDaGVjayBmb3IgdGhlIG9wdGlvbnMgb2JqZWN0XHJcbiAgICAgICAgaWYgKCFpc09iamVjdChvcHRpb25zKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgbyA9IGV4dGVuZChkZWZhdWx0cywgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgIGlmIChvLnR5cGUpIHtcclxuICAgICAgICAgICAgaWYgKG8udHlwZSA9PT0gXCJ0eHRcIiB8fCBvLnR5cGUgPT09IFwiY3N2XCIpIHtcclxuICAgICAgICAgICAgICAgIC8vIEluY2x1ZGUgaGVhZGluZ3NcclxuICAgICAgICAgICAgICAgIHJvd3NbMF0gPSB0aGlzLmhlYWRlcjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gU2VsZWN0aW9uIG9yIHdob2xlIHRhYmxlXHJcbiAgICAgICAgICAgIGlmIChvLnNlbGVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgLy8gUGFnZSBudW1iZXJcclxuICAgICAgICAgICAgICAgIGlmICghaXNOYU4oby5zZWxlY3Rpb24pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93cyA9IHJvd3MuY29uY2F0KHRoaXMucGFnZXNbby5zZWxlY3Rpb24gLSAxXSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkoby5zZWxlY3Rpb24pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQXJyYXkgb2YgcGFnZSBudW1iZXJzXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IG8uc2VsZWN0aW9uLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd3MgPSByb3dzLmNvbmNhdCh0aGlzLnBhZ2VzW28uc2VsZWN0aW9uW2ldIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJvd3MgPSByb3dzLmNvbmNhdCh0aGlzLmFjdGl2ZVJvd3MpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBPbmx5IHByb2NlZWQgaWYgd2UgaGF2ZSBkYXRhXHJcbiAgICAgICAgICAgIGlmIChyb3dzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG8udHlwZSA9PT0gXCJ0eHRcIiB8fCBvLnR5cGUgPT09IFwiY3N2XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBcIlwiO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcm93cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHggPSAwOyB4IDwgcm93c1tpXS5jZWxscy5sZW5ndGg7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGNvbHVtbiBza2lwIGFuZCB2aXNpYmlsaXR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby5za2lwQ29sdW1uLmluZGV4T2YoaGVhZGVyc1t4XS5vcmlnaW5hbENlbGxJbmRleCkgPCAwICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2x1bW5zKGhlYWRlcnNbeF0ub3JpZ2luYWxDZWxsSW5kZXgpLnZpc2libGUoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9IHJvd3NbaV0uY2VsbHNbeF0udGV4dENvbnRlbnQgKyBvLmNvbHVtbkRlbGltaXRlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdHJhaWxpbmcgY29sdW1uIGRlbGltaXRlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHIgPSBzdHIudHJpbSgpLnN1YnN0cmluZygwLCBzdHIubGVuZ3RoIC0gMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBcHBseSBsaW5lIGRlbGltaXRlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHIgKz0gby5saW5lRGVsaW1pdGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRyYWlsaW5nIGxpbmUgZGVsaW1pdGVyXHJcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gc3RyLnRyaW0oKS5zdWJzdHJpbmcoMCwgc3RyLmxlbmd0aCAtIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoby5kb3dubG9hZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHIgPSBcImRhdGE6dGV4dC9jc3Y7Y2hhcnNldD11dGYtOCxcIiArIHN0cjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG8udHlwZSA9PT0gXCJzcWxcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEJlZ2luIElOU0VSVCBzdGF0ZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBcIklOU0VSVCBJTlRPIGBcIiArIG8udGFibGVOYW1lICsgXCJgIChcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29udmVydCB0YWJsZSBoZWFkaW5ncyB0byBjb2x1bW4gbmFtZXNcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaGVhZGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgY29sdW1uIHNraXAgYW5kIGNvbHVtbiB2aXNpYmlsaXR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8uc2tpcENvbHVtbi5pbmRleE9mKGhlYWRlcnNbaV0ub3JpZ2luYWxDZWxsSW5kZXgpIDwgMCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2x1bW5zKGhlYWRlcnNbaV0ub3JpZ2luYWxDZWxsSW5kZXgpLnZpc2libGUoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSBcImBcIiArIGhlYWRlcnNbaV0udGV4dENvbnRlbnQgKyBcImAsXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0cmFpbGluZyBjb21tYVxyXG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IHN0ci50cmltKCkuc3Vic3RyaW5nKDAsIHN0ci5sZW5ndGggLSAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQmVnaW4gVkFMVUVTXHJcbiAgICAgICAgICAgICAgICAgICAgc3RyICs9IFwiKSBWQUxVRVMgXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEl0ZXJhdGUgcm93cyBhbmQgY29udmVydCBjZWxsIGRhdGEgdG8gY29sdW1uIHZhbHVlc1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCByb3dzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSBcIihcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoeCA9IDA7IHggPCByb3dzW2ldLmNlbGxzLmxlbmd0aDsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgY29sdW1uIHNraXAgYW5kIGNvbHVtbiB2aXNpYmlsaXR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby5za2lwQ29sdW1uLmluZGV4T2YoaGVhZGVyc1t4XS5vcmlnaW5hbENlbGxJbmRleCkgPCAwICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2x1bW5zKGhlYWRlcnNbeF0ub3JpZ2luYWxDZWxsSW5kZXgpLnZpc2libGUoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9ICdcIicgKyByb3dzW2ldLmNlbGxzW3hdLnRleHRDb250ZW50ICsgJ1wiLCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0cmFpbGluZyBjb21tYVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHIgPSBzdHIudHJpbSgpLnN1YnN0cmluZygwLCBzdHIubGVuZ3RoIC0gMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlbmQgVkFMVUVTXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSBcIiksXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdHJhaWxpbmcgY29tbWFcclxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBzdHIudHJpbSgpLnN1YnN0cmluZygwLCBzdHIubGVuZ3RoIC0gMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0cmFpbGluZyBjb2xvblxyXG4gICAgICAgICAgICAgICAgICAgIHN0ciArPSBcIjtcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG8uZG93bmxvYWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyID0gXCJkYXRhOmFwcGxpY2F0aW9uL3NxbDtjaGFyc2V0PXV0Zi04LFwiICsgc3RyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoby50eXBlID09PSBcImpzb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEl0ZXJhdGUgcm93c1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoeCA9IDA7IHggPCByb3dzLmxlbmd0aDsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyclt4XSA9IGFyclt4XSB8fCB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSXRlcmF0ZSBjb2x1bW5zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBoZWFkZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgY29sdW1uIHNraXAgYW5kIGNvbHVtbiB2aXNpYmlsaXR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby5za2lwQ29sdW1uLmluZGV4T2YoaGVhZGVyc1tpXS5vcmlnaW5hbENlbGxJbmRleCkgPCAwICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2x1bW5zKGhlYWRlcnNbaV0ub3JpZ2luYWxDZWxsSW5kZXgpLnZpc2libGUoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyW3hdW2hlYWRlcnNbaV0udGV4dENvbnRlbnRdID0gcm93c1t4XS5jZWxsc1tpXS50ZXh0Q29udGVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29udmVydCB0aGUgYXJyYXkgb2Ygb2JqZWN0cyB0byBKU09OIHN0cmluZ1xyXG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IEpTT04uc3RyaW5naWZ5KGFyciwgby5yZXBsYWNlciwgby5zcGFjZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvLmRvd25sb2FkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciA9IFwiZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTgsXCIgKyBzdHI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIERvd25sb2FkXHJcbiAgICAgICAgICAgICAgICBpZiAoby5kb3dubG9hZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEZpbGVuYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgby5maWxlbmFtZSA9IG8uZmlsZW5hbWUgfHwgXCJkYXRhdGFibGVfZXhwb3J0XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgby5maWxlbmFtZSArPSBcIi5cIiArIG8udHlwZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gZW5jb2RlVVJJKHN0cik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIGxpbmsgdG8gdHJpZ2dlciB0aGUgZG93bmxvYWRcclxuICAgICAgICAgICAgICAgICAgICBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluay5ocmVmID0gc3RyO1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmsuZG93bmxvYWQgPSBvLmZpbGVuYW1lO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBBcHBlbmQgdGhlIGxpbmtcclxuICAgICAgICAgICAgICAgICAgICBib2R5LmFwcGVuZENoaWxkKGxpbmspO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBUcmlnZ2VyIHRoZSBkb3dubG9hZFxyXG4gICAgICAgICAgICAgICAgICAgIGxpbmsuY2xpY2soKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBsaW5rXHJcbiAgICAgICAgICAgICAgICAgICAgYm9keS5yZW1vdmVDaGlsZChsaW5rKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW1wb3J0IGRhdGEgdG8gdGhlIHRhYmxlXHJcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnMgVXNlciBvcHRpb25zXHJcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICBwcm90by5pbXBvcnQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgICAgIHZhciBvYmogPSBmYWxzZTtcclxuICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XHJcbiAgICAgICAgICAgIC8vIGNzdlxyXG4gICAgICAgICAgICBsaW5lRGVsaW1pdGVyOiBcIlxcblwiLFxyXG4gICAgICAgICAgICBjb2x1bW5EZWxpbWl0ZXI6IFwiLFwiXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgZm9yIHRoZSBvcHRpb25zIG9iamVjdFxyXG4gICAgICAgIGlmICghaXNPYmplY3Qob3B0aW9ucykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgb3B0aW9ucyA9IGV4dGVuZChkZWZhdWx0cywgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgIGlmIChvcHRpb25zLmRhdGEubGVuZ3RoIHx8IGlzT2JqZWN0KG9wdGlvbnMuZGF0YSkpIHtcclxuICAgICAgICAgICAgLy8gSW1wb3J0IENTVlxyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy50eXBlID09PSBcImNzdlwiKSB7XHJcbiAgICAgICAgICAgICAgICBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogW11cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU3BsaXQgdGhlIHN0cmluZyBpbnRvIHJvd3NcclxuICAgICAgICAgICAgICAgIHZhciByb3dzID0gb3B0aW9ucy5kYXRhLnNwbGl0KG9wdGlvbnMubGluZURlbGltaXRlcik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHJvd3MubGVuZ3RoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmhlYWRpbmdzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5oZWFkaW5ncyA9IHJvd3NbMF0uc3BsaXQob3B0aW9ucy5jb2x1bW5EZWxpbWl0ZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcm93cy5zaGlmdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZWFjaChyb3dzLCBmdW5jdGlvbiAocm93LCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5kYXRhW2ldID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTcGxpdCB0aGUgcm93cyBpbnRvIHZhbHVlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVzID0gcm93LnNwbGl0KG9wdGlvbnMuY29sdW1uRGVsaW1pdGVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYWNoKHZhbHVlcywgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmRhdGFbaV0ucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMudHlwZSA9PT0gXCJqc29uXCIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBqc29uID0gaXNKc29uKG9wdGlvbnMuZGF0YSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gVmFsaWQgSlNPTiBzdHJpbmdcclxuICAgICAgICAgICAgICAgIGlmIChqc29uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkaW5nczogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IFtdXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZWFjaChqc29uLCBmdW5jdGlvbiAoZGF0YSwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmouZGF0YVtpXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlYWNoKGRhdGEsIGZ1bmN0aW9uICh2YWx1ZSwgY29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLmhlYWRpbmdzLmluZGV4T2YoY29sdW1uKSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouaGVhZGluZ3MucHVzaChjb2x1bW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5kYXRhW2ldLnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVGhhdCdzIG5vdCB2YWxpZCBKU09OIVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMuZGF0YSkpIHtcclxuICAgICAgICAgICAgICAgIG9iaiA9IG9wdGlvbnMuZGF0YTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKG9iaikge1xyXG4gICAgICAgICAgICAgICAgLy8gQWRkIHRoZSByb3dzXHJcbiAgICAgICAgICAgICAgICB0aGlzLmluc2VydChvYmopO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBQcmludCB0aGUgdGFibGVcclxuICAgICAqIEByZXR1cm4ge3ZvaWR9XHJcbiAgICAgKi9cclxuICAgIHByb3RvLnByaW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBoZWFkaW5ncyA9IHRoaXMuYWN0aXZlSGVhZGluZ3M7XHJcbiAgICAgICAgdmFyIHJvd3MgPSB0aGlzLmFjdGl2ZVJvd3M7XHJcbiAgICAgICAgdmFyIHRhYmxlID0gY3JlYXRlRWxlbWVudChcInRhYmxlXCIpO1xyXG4gICAgICAgIHZhciB0aGVhZCA9IGNyZWF0ZUVsZW1lbnQoXCJ0aGVhZFwiKTtcclxuICAgICAgICB2YXIgdGJvZHkgPSBjcmVhdGVFbGVtZW50KFwidGJvZHlcIik7XHJcblxyXG4gICAgICAgIHZhciB0ciA9IGNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcclxuICAgICAgICBlYWNoKGhlYWRpbmdzLCBmdW5jdGlvbiAodGgpIHtcclxuICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQoXHJcbiAgICAgICAgICAgICAgICBjcmVhdGVFbGVtZW50KFwidGhcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIGh0bWw6IHRoLnRleHRDb250ZW50XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGVhZC5hcHBlbmRDaGlsZCh0cik7XHJcblxyXG4gICAgICAgIGVhY2gocm93cywgZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICB2YXIgdHIgPSBjcmVhdGVFbGVtZW50KFwidHJcIik7XHJcbiAgICAgICAgICAgIGVhY2gocm93LmNlbGxzLCBmdW5jdGlvbiAoY2VsbCkge1xyXG4gICAgICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQoXHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlRWxlbWVudChcInRkXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogY2VsbC50ZXh0Q29udGVudFxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGJvZHkuYXBwZW5kQ2hpbGQodHIpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0YWJsZS5hcHBlbmRDaGlsZCh0aGVhZCk7XHJcbiAgICAgICAgdGFibGUuYXBwZW5kQ2hpbGQodGJvZHkpO1xyXG5cclxuICAgICAgICAvLyBPcGVuIG5ldyB3aW5kb3dcclxuICAgICAgICB2YXIgdyA9IHdpbi5vcGVuKCk7XHJcblxyXG4gICAgICAgIC8vIEFwcGVuZCB0aGUgdGFibGUgdG8gdGhlIGJvZHlcclxuICAgICAgICB3LmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGFibGUpO1xyXG5cclxuICAgICAgICAvLyBQcmludFxyXG4gICAgICAgIHcucHJpbnQoKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTaG93IGEgbWVzc2FnZSBpbiB0aGUgdGFibGVcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlXHJcbiAgICAgKi9cclxuICAgIHByb3RvLnNldE1lc3NhZ2UgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xyXG4gICAgICAgIHZhciBjb2xzcGFuID0gMTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaGFzUm93cykge1xyXG4gICAgICAgICAgICBjb2xzcGFuID0gdGhpcy5kYXRhWzBdLmNlbGxzLmxlbmd0aDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY2xlYXIoXHJcbiAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnQoXCJ0clwiLCB7XHJcbiAgICAgICAgICAgICAgICBodG1sOiAnPHRkIGNsYXNzPVwiZGF0YVRhYmxlcy1lbXB0eVwiIGNvbHNwYW49XCInICtcclxuICAgICAgICAgICAgICAgICAgICBjb2xzcGFuICtcclxuICAgICAgICAgICAgICAgICAgICAnXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSArXHJcbiAgICAgICAgICAgICAgICAgICAgXCI8L3RkPlwiXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb2x1bW5zIEFQSSBhY2Nlc3NcclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gbmV3IENvbHVtbnMgaW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgcHJvdG8uY29sdW1ucyA9IGZ1bmN0aW9uIChjb2x1bW5zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDb2x1bW5zKHRoaXMsIGNvbHVtbnMpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJvd3MgQVBJIGFjY2Vzc1xyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBuZXcgUm93cyBpbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBwcm90by5yb3dzID0gZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFJvd3ModGhpcywgcm93cyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkIGN1c3RvbSBldmVudCBsaXN0ZW5lclxyXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBldmVudFxyXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGNhbGxiYWNrXHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5vbiA9IGZ1bmN0aW9uIChldmVudCwgY2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLmV2ZW50cyA9IHRoaXMuZXZlbnRzIHx8IHt9O1xyXG4gICAgICAgIHRoaXMuZXZlbnRzW2V2ZW50XSA9IHRoaXMuZXZlbnRzW2V2ZW50XSB8fCBbXTtcclxuICAgICAgICB0aGlzLmV2ZW50c1tldmVudF0ucHVzaChjYWxsYmFjayk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIGN1c3RvbSBldmVudCBsaXN0ZW5lclxyXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBldmVudFxyXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGNhbGxiYWNrXHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5vZmYgPSBmdW5jdGlvbiAoZXZlbnQsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudHMgPSB0aGlzLmV2ZW50cyB8fCB7fTtcclxuICAgICAgICBpZiAoZXZlbnQgaW4gdGhpcy5ldmVudHMgPT09IGZhbHNlKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5ldmVudHNbZXZlbnRdLnNwbGljZSh0aGlzLmV2ZW50c1tldmVudF0uaW5kZXhPZihjYWxsYmFjayksIDEpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEZpcmUgY3VzdG9tIGV2ZW50XHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGV2ZW50XHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcbiAgICBwcm90by5lbWl0ID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5ldmVudHMgPSB0aGlzLmV2ZW50cyB8fCB7fTtcclxuICAgICAgICBpZiAoZXZlbnQgaW4gdGhpcy5ldmVudHMgPT09IGZhbHNlKSByZXR1cm47XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmV2ZW50c1tldmVudF0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudHNbZXZlbnRdW2ldLmFwcGx5KHRoaXMsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIERhdGFUYWJsZTtcclxufSk7IiwiaW1wb3J0IERhdGFUYWJsZSBmcm9tICd2YW5pbGxhLWRhdGF0YWJsZXMnO1xuaW1wb3J0IHsgY29sb3JfaGlnaGxpZ2h0IH0gZnJvbSAnLi9vcHRpb25zJztcblxuZnVuY3Rpb24gY3JlYXRlVGFibGVET00oZGF0YSwgb3B0cywgY29uZmlnKSB7XG4gIGNvbnN0IHsgbnVtLCBkZW51bSwgcmF0aW8sIG15X3JlZ2lvbiB9ID0gY29uZmlnO1xuICBjb25zdCBvcHRpb25zID0gb3B0cyB8fCB7fTtcbiAgb3B0aW9ucy5pZCA9IG9wdGlvbnMuaWQgfHwgJ215VGFibGUnO1xuICBjb25zdCBkb2MgPSBkb2N1bWVudDtcbiAgY29uc3QgbmJfZmVhdHVyZXMgPSBkYXRhLmxlbmd0aDtcbiAgY29uc3QgY29sdW1uX25hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGF0YVswXSk7XG4gIGNvbnN0IG5iX2NvbHVtbnMgPSBjb2x1bW5fbmFtZXMubGVuZ3RoO1xuICBjb25zdCBteVRhYmxlID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3RhYmxlJyk7XG4gIGNvbnN0IGhlYWRlcnMgPSBkb2MuY3JlYXRlRWxlbWVudCgndGhlYWQnKTtcbiAgY29uc3QgYm9keSA9IGRvYy5jcmVhdGVFbGVtZW50KCd0Ym9keScpO1xuICBjb25zdCBoZWFkZXJzX3JvdyA9IGRvYy5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAvLyBUT0RPOiBPbmx5IGRpc3BsYXkgcmF0aW9zIHZhbHVlcyBpZiB0aGVyZSBpcyBtb3JlIHRoYW4gMSB2YXJpYWJsZSBjdXJyZW50bHkgc2VsZWN0ZWRcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYl9jb2x1bW5zOyBpKyspIHtcbiAgICBjb25zdCBjZWxsID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3RoJyk7XG4gICAgY29uc3QgY29sX25hbWUgPSBjb2x1bW5fbmFtZXNbaV07XG4gICAgaWYgKG51bS5pbmRleE9mKGNvbF9uYW1lKSA+IC0xKSB7XG4gICAgICBjZWxsLmlubmVySFRNTCA9IGBOdW08YnI+PHNwYW4gY2xhc3M9XCJzbWFsbFwiPiR7Y29sX25hbWV9YDtcbiAgICB9IGVsc2UgaWYgKGRlbnVtLmluZGV4T2YoY29sX25hbWUpID4gLTEpIHtcbiAgICAgIGNlbGwuaW5uZXJIVE1MID0gYERlbnVtPGJyPjxzcGFuIGNsYXNzPVwic21hbGxcIj4ke2NvbF9uYW1lfWA7XG4gICAgfSBlbHNlIGlmIChyYXRpby5pbmRleE9mKGNvbF9uYW1lKSA+IC0xKSB7XG4gICAgICBjZWxsLmlubmVySFRNTCA9IGBSYXRpbzxicj48c3BhbiBjbGFzcz1cInNtYWxsXCI+JHtjb2xfbmFtZX1gO1xuICAgIH0gZWxzZSBpZiAoY29sX25hbWUgPT09ICdyYW5nJykge1xuICAgICAgY2VsbC5pbm5lckhUTUwgPSAnUmFuZyAnO1xuICAgIH0gZWxzZSB7XG4gICAgICBjZWxsLmlubmVySFRNTCA9IGNvbF9uYW1lO1xuICAgIH1cbiAgICBoZWFkZXJzX3Jvdy5hcHBlbmRDaGlsZChjZWxsKTtcbiAgfVxuICBoZWFkZXJzLmFwcGVuZENoaWxkKGhlYWRlcnNfcm93KTtcbiAgbXlUYWJsZS5hcHBlbmRDaGlsZChoZWFkZXJzKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYl9mZWF0dXJlczsgaSsrKSB7XG4gICAgY29uc3Qgcm93ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgcm93LmlkID0gYHJvd18ke2RhdGFbaV0uaWR9YDtcbiAgICBpZiAoZGF0YVtpXS5pZCA9PT0gbXlfcmVnaW9uKSB7XG4gICAgICByb3cuY2xhc3NOYW1lID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgIH1cbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IG5iX2NvbHVtbnM7IGorKykge1xuICAgICAgY29uc3QgY2VsbCA9IGRvYy5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgY29uc3QgY29sX25hbWUgPSBjb2x1bW5fbmFtZXNbal07XG4gICAgICBpZiAobnVtLmluZGV4T2YoY29sX25hbWUpID4gLTFcbiAgICAgICAgICB8fCBkZW51bS5pbmRleE9mKGNvbF9uYW1lKSA+IC0xIHx8IHJhdGlvLmluZGV4T2YoY29sX25hbWUpID4gLTEpIHtcbiAgICAgICAgY2VsbC5pbm5lckhUTUwgPSBNYXRoLnJvdW5kKGRhdGFbaV1bY29sX25hbWVdICogMTAwKSAvIDEwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2VsbC5pbm5lckhUTUwgPSBkYXRhW2ldW2NvbF9uYW1lXTtcbiAgICAgIH1cbiAgICAgIHJvdy5hcHBlbmRDaGlsZChjZWxsKTtcbiAgICB9XG4gICAgYm9keS5hcHBlbmRDaGlsZChyb3cpO1xuICB9XG4gIG15VGFibGUuYXBwZW5kQ2hpbGQoYm9keSk7XG4gIG15VGFibGUuc2V0QXR0cmlidXRlKCdpZCcsIG9wdGlvbnMuaWQpO1xuICByZXR1cm4gbXlUYWJsZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VUYWJsZShkYXRhX25vX2VtcHR5LCBjb25maWcpIHtcbiAgZDMuc2VsZWN0KCcuZGF0YVRhYmxlLXdyYXBwZXInKS5yZW1vdmUoKTtcbiAgY29uc3QgdGFibGUgPSBjcmVhdGVUYWJsZURPTShkYXRhX25vX2VtcHR5LCB1bmRlZmluZWQsIGNvbmZpZyk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtYXBfc2VjdGlvbicpLmFwcGVuZENoaWxkKHRhYmxlKTtcbiAgY29uc3QgZGF0YVRhYmxlID0gbmV3IERhdGFUYWJsZSgnI215VGFibGUnKTtcbiAgY29uc3QgdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kYXRhVGFibGUtd3JhcHBlcicpO1xuICB0LnN0eWxlLm1hcmdpblRvcCA9ICcyMHB4JztcbiAgdC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB0LnN0eWxlLmZvbnRTaXplID0gJzAuN2VtJztcbiAgdC5xdWVyeVNlbGVjdG9yKCcuZGF0YVRhYmxlLXRvcCcpLnJlbW92ZSgpO1xuICBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4uc21hbGwnKSlcbiAgICAuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgIGVsLm9uY2xpY2sgPSAoKSA9PiB7IGVsLnBhcmVudEVsZW1lbnQuY2xpY2soKTsgfTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIH0pO1xufVxuIiwiaW1wb3J0IHsgY29sb3JfaGlnaGxpZ2h0IH0gZnJvbSAnLi9vcHRpb25zJztcbmltcG9ydCB7IHZhcmlhYmxlc19pbmZvIH0gZnJvbSAnLi8uLi9tYWluJztcblxuLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cblxuLyoqXG4qIEF0dGFjaCB0aGUgZnVsbF9kYXRhc2V0IEFycmF5IHRvIHRoZSBhcHAgT2JqZWN0IGFuZCBjcmVhdGUgYSBkaWN0aW9ubmFyeVxuKiBhbGxvd2luZyB0byBvYnRhaW4gdGVycml0b3JpYWwgdW5pdHMgbmFtZSBmcm9tIHRoZWlyIElkLlxuKlxuKiBAcGFyYW0ge0FycmF5fSBmdWxsX2RhdGFzZXQgLSBUaGUgZGF0YXNldCBhcyBhbiBBcnJheSBvZiBPYmplY3RcbiogQHBhcmFtIHtPYmplY3R9IGFwcCAtIFRoZSB2YXJpYWJsZSBjb250YWluaW5nIHRoZSBnbG9iYWwgcGFyYW1ldGVycyBhYm91dFxuKiAgIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBhcHBsaWNhdGlvbi5cbiogQHJldHVybiB7dm9pZH1cbipcbiovXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZV9kYXRhc2V0KGZ1bGxfZGF0YXNldCwgYXBwKSB7XG4gIGFwcC5mdWxsX2RhdGFzZXQgPSBmdWxsX2RhdGFzZXQ7XG4gIC8vIENyZWF0ZSBhbiBPYmplY3QgZmVhdHVyZV9pZCAtPiAgZmVhdHVyZV9uYW1lIGZvciBlYXNpZXIgbG9va3VwOlxuICBhcHAuZmVhdHVyZV9uYW1lcyA9IHt9O1xuICBmdWxsX2RhdGFzZXQuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgIGFwcC5mZWF0dXJlX25hbWVzW2VsZW0uZ2VvXSA9IGVsZW0uTm9tO1xuICB9KTtcbn1cblxuXG4vKipcbiogQXR0YWNoIHRoZSBmdWxsX2RhdGFzZXQgQXJyYXkgdG8gdGhlIGFwcCBPYmplY3QgYW5kIGNyZWF0ZSBhIGRpY3Rpb25uYXJ5XG4qIGFsbG93aW5nIHRvIG9idGFpbiB0ZXJyaXRvcmlhbCB1bml0cyBuYW1lIGZyb20gdGhlaXIgSWQuXG4qXG4qIEBwYXJhbSB7T2JqZWN0fSBhcHAgLSBUaGUgdmFyaWFibGUgY29udGFpbmluZyB0aGUgZ2xvYmFsIHBhcmFtZXRlcnMgYWJvdXRcbiogICB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgYXBwbGljYXRpb24uXG4qIEByZXR1cm4ge0FycmF5fSAtIFRoZSBmaWx0ZXJlZCBkYXRhLCBjb250YWluaW5nIG9ubHkgdGhlIHJlcXVlc3RlZCB2YXJpYWJsZXNcbiogICBmb3IgdGhlIGZlYXR1cmUgb2YgdGhlIGN1cnJlbnQgc3R1ZHkgem9uZSxcbiogICAgd2l0aG91dCBmZWF0dXJlcyBjb250YWluaW5nIGVtcHR5IHJhdGlvcy5cbipcbiovXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyTGV2ZWxWYXIoYXBwKSB7XG4gIC8vIEZldGNoIHRoZSBuYW1lKHMpIG9mIHRoZSByYXRpbyAoYW5kIGFzc29jaWF0ZWQgbnVtIGFuZCBkZW51bSB2YXJpYWJsZSksXG4gIC8vIHRoZSBuYW1lIG9mIHRoZSB0YXJnZXRlZCByZWdpb24gYW5kIHRoZSBjdXJyZW50IGxldmVsIDpcbiAgY29uc3Qge1xuICAgIG51bSwgZGVudW0sIHJhdGlvLCBjdXJyZW50X2xldmVsLCBpZF9maWVsZCwgZmlsdGVyX2tleSwgbmFtZV9maWVsZCwgbXlfcmVnaW9uLFxuICB9ID0gYXBwLmN1cnJlbnRfY29uZmlnO1xuXG4gIGNvbnN0IGFsbF92YXJpYWJsZXMgPSByYXRpby5jb25jYXQobnVtKS5jb25jYXQoZGVudW0pO1xuXG4gIC8vIFByZXBhcmUgdGhlIGRhdGE6XG4gIGxldCB0ZW1wO1xuICBpZiAoZmlsdGVyX2tleSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgdGVtcCA9IGFwcC5mdWxsX2RhdGFzZXRcbiAgICAgIC5maWx0ZXIoZnQgPT4gK2Z0LmxldmVsID09PSBjdXJyZW50X2xldmVsICYmIGZpbHRlcl9rZXkuaW5kZXhPZihmdFtpZF9maWVsZF0pID4gLTEpO1xuICB9IGVsc2UgaWYgKGZpbHRlcl9rZXkpIHtcbiAgICBjb25zdCBteV9jYXRlZ29yeSA9IGFwcC5mdWxsX2RhdGFzZXQuZmlsdGVyKGZ0ID0+IGZ0W2lkX2ZpZWxkXSA9PT0gbXlfcmVnaW9uKVswXVtmaWx0ZXJfa2V5XTtcbiAgICB0ZW1wID0gYXBwLmZ1bGxfZGF0YXNldFxuICAgICAgLmZpbHRlcihmdCA9PiArZnQubGV2ZWwgPT09IGN1cnJlbnRfbGV2ZWwgJiYgZnRbZmlsdGVyX2tleV0gPT09IG15X2NhdGVnb3J5KTtcbiAgfSBlbHNlIHtcbiAgICB0ZW1wID0gYXBwLmZ1bGxfZGF0YXNldFxuICAgICAgLmZpbHRlcihmdCA9PiArZnQubGV2ZWwgPT09IGN1cnJlbnRfbGV2ZWwpO1xuICB9XG4gIHRlbXAgPSB0ZW1wLm1hcCgoZnQpID0+IHtcbiAgICBjb25zdCBwcm9wc19mZWF0dXJlID0ge1xuICAgICAgaWQ6IGZ0W2lkX2ZpZWxkXSxcbiAgICAgIG5hbWU6IGZ0W25hbWVfZmllbGRdLFxuICAgIH07XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gYWxsX3ZhcmlhYmxlcy5sZW5ndGg7IGkgPCBsZW5faTsgaSsrKSB7XG4gICAgICBwcm9wc19mZWF0dXJlW2FsbF92YXJpYWJsZXNbaV1dID0gK2Z0W2FsbF92YXJpYWJsZXNbaV1dO1xuICAgIH1cbiAgICByZXR1cm4gcHJvcHNfZmVhdHVyZTtcbiAgfSk7XG5cbiAgYXBwLmN1cnJlbnRfZGF0YSA9IHRlbXA7XG59XG5cbi8qKlxuKiBGdW5jdGlvbiB0byBwcmVwYXJlIHRoZSBnbG9iYWwgXCJ2YXJpYWJsZXNfaW5mb1wiIEFycmF5IG9mIG9iamVjdHMgZnJvbSB0aGUgYXJyYXlcbiogY29udGFpbmluZyB0aGUgcmVhZGVkICdtZXRhZGF0YS5jc3YnIGZpbGUuXG4qXG4qIEBwYXJhbSB7QXJyYXl9IG1ldGFkYXRhX2luZGljYXRldXJzIC0gVGhlIGFycmF5IHJldHVybiBieSBkMy5jc3YuXG4qIEByZXR1cm4ge3ZvaWR9XG4qXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXBhcmVWYXJpYWJsZXNJbmZvKG1ldGFkYXRhX2luZGljYXRldXJzKSB7XG4gIHJldHVybiBtZXRhZGF0YV9pbmRpY2F0ZXVyc1xuICAgIC5maWx0ZXIoZnQgPT4gZnRbJ1R5cGUgc3RhdGlzdGlxdWUnXSA9PT0gJ1JhdGlvJylcbiAgICAubWFwKGZ0ID0+ICh7XG4gICAgICByYXRpbzogZnRbJ2lkJ10sXG4gICAgICBudW06IGAke2Z0WydpZDEnXX1fJHtmdFsnQW5uw6llJ119YCxcbiAgICAgIGRlbnVtOiBgJHtmdFsnaWQyJ119XyR7ZnRbJ0FubsOpZSddfWAsXG4gICAgICBuYW1lOiBgJHtmdFsnTm9tJ119ICgke2Z0WydBbm7DqWUnXX0pYCxcbiAgICAgIGdyb3VwOiBmdFsnVGjDqG1lJ10sXG4gICAgICBtZXRob2RvOiBmdFsnTcOpdGhvZG9sb2dpZSddLFxuICAgICAgc291cmNlOiBmdFsnU291cmNlJ10sXG4gICAgICBsYXN0X3VwZGF0ZTogZnRbJ0Rlcm5pw6hyZSBtaXNlIMOgIGpvdXInXSxcbiAgICB9KSk7XG59XG5cbi8qKlxuKiBTZXQgYW5kIGFwcGx5IGEgbmV3IGZpbHRlciAoaWUuIHJlc3RyaWN0IHRoZSBzdHVkeSB6b25lKSBvbiB0aGUgZGF0YXNldCB0byBiZSB1c2VkLlxuKlxuKiBAcGFyYW0ge1N0cmluZ30gZmlsdGVyX3R5cGUgLSBUaGUgbmFtZSBvZiB0aGUgZmlsdGVyIHRvIHVzZS5cbiogQHJldHVybiB7dm9pZH1cbipcbiovXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlGaWx0ZXIoYXBwLCBmaWx0ZXJfdHlwZSkge1xuICBpZiAoZmlsdGVyX3R5cGUgPT09ICdmaWx0ZXJfRlInKSB7XG4gICAgYXBwLmN1cnJlbnRfY29uZmlnLmZpbHRlcl9rZXkgPSAnUGF5cyc7XG4gICAgZmlsdGVyTGV2ZWxWYXIoYXBwKTtcbiAgfSBlbHNlIGlmIChmaWx0ZXJfdHlwZSA9PT0gJ25vX2ZpbHRlcicpIHtcbiAgICBhcHAuY3VycmVudF9jb25maWcuZmlsdGVyX2tleSA9IHVuZGVmaW5lZDtcbiAgICBmaWx0ZXJMZXZlbFZhcihhcHApO1xuICB9IGVsc2UgaWYgKGZpbHRlcl90eXBlIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICBhcHAuY3VycmVudF9jb25maWcuZmlsdGVyX2tleSA9IGZpbHRlcl90eXBlO1xuICAgIGZpbHRlckxldmVsVmFyKGFwcCk7XG4gIH0gZWxzZSB7XG4gICAgYXBwLmN1cnJlbnRfY29uZmlnLmZpbHRlcl9rZXkgPSAndHlwZV90ZXN0JztcbiAgICBmaWx0ZXJMZXZlbFZhcihhcHApO1xuICB9XG4gIGFwcC5jb2xvcnMgPSB7fTtcbiAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbn1cblxuLy8gVE9ETyA6IERvY1xuZXhwb3J0IGZ1bmN0aW9uIGNoYW5nZVJlZ2lvbihhcHAsIGlkX3JlZ2lvbiwgbWFwX2VsZW0pIHtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbiA9IGlkX3JlZ2lvbjtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl9wcmV0dHlfbmFtZSA9IGFwcC5mZWF0dXJlX25hbWVzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dO1xuICBpZiAoYXBwLmN1cnJlbnRfY29uZmlnLmZpbHRlcl9rZXkgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgIG1hcF9lbGVtLmNvbXB1dGVEaXN0TWF0KCk7XG4gICAgYXBwLmN1cnJlbnRfY29uZmlnLmZpbHRlcl9rZXkgPSBtYXBfZWxlbS5nZXRVbml0c1dpdGhpbigrZDMuc2VsZWN0KCcjZGlzdF9maWx0ZXInKS5wcm9wZXJ0eSgndmFsdWUnKSk7XG4gICAgZmlsdGVyTGV2ZWxWYXIoYXBwKTtcbiAgfSBlbHNlIGlmIChhcHAuY3VycmVudF9jb25maWcuZmlsdGVyX2tleSkge1xuICAgIGZpbHRlckxldmVsVmFyKGFwcCk7XG4gIH1cbiAgLy8gUmVzZXQgdGhlIGNvbG9yIHRvIHVzZSBvbiB0aGUgY2hhcnQvbWFwOlxuICBhcHAuY29sb3JzID0ge307XG4gIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG59XG5cbi8qKlxuKlxuKlxuKlxuKlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRWYXJpYWJsZShhcHAsIGNvZGVfcmF0aW8pIHtcbiAgY29uc3QgdmFyaWFibGVfaW5mbyA9IHZhcmlhYmxlc19pbmZvLmZpbHRlcihkID0+IGQucmF0aW8gPT09IGNvZGVfcmF0aW8pWzBdO1xuICBhcHAuY29sb3JzID0ge307XG4gIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gIGFwcC5jdXJyZW50X2NvbmZpZy5udW0ucHVzaCh2YXJpYWJsZV9pbmZvLm51bSk7XG4gIGFwcC5jdXJyZW50X2NvbmZpZy5kZW51bS5wdXNoKHZhcmlhYmxlX2luZm8uZGVudW0pO1xuICBhcHAuY3VycmVudF9jb25maWcucmF0aW8ucHVzaCh2YXJpYWJsZV9pbmZvLnJhdGlvKTtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvX3ByZXR0eV9uYW1lLnB1c2godmFyaWFibGVfaW5mby5uYW1lKTtcbiAgZmlsdGVyTGV2ZWxWYXIoYXBwKTtcbn1cblxuLyoqXG4qXG4qXG4qXG4qXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVZhcmlhYmxlKGFwcCwgY29kZV9yYXRpbykge1xuICBjb25zdCBpeCA9IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpby5pbmRleE9mKGNvZGVfcmF0aW8pO1xuICBhcHAuY3VycmVudF9jb25maWcubnVtLnNwbGljZShpeCwgMSk7XG4gIGFwcC5jdXJyZW50X2NvbmZpZy5kZW51bS5zcGxpY2UoaXgsIDEpO1xuICBhcHAuY3VycmVudF9jb25maWcucmF0aW8uc3BsaWNlKGl4LCAxKTtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvX3ByZXR0eV9uYW1lLnNwbGljZShpeCwgMSk7XG4gIGZpbHRlckxldmVsVmFyKGFwcCk7XG59XG5cbi8qKlxuKiBSZXNldCB0aGUgY3VycmVudCB2YXJpYWJsZXMgaW4gdXNlLlxuKlxuKlxuKlxuKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNldFZhcmlhYmxlcyhhcHAsIGNvZGVzX3JhdGlvKSB7XG4gIGFwcC5jb2xvcnMgPSB7fTtcbiAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLm51bSA9IFtdO1xuICBhcHAuY3VycmVudF9jb25maWcuZGVudW0gPSBbXTtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvID0gW107XG4gIGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpb19wcmV0dHlfbmFtZSA9IFtdO1xuICBmb3IgKGxldCBpID0gMCwgbGVuID0gY29kZXNfcmF0aW8ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBjb25zdCBjb2RlX3JhdGlvID0gY29kZXNfcmF0aW9baV07XG4gICAgY29uc3QgdmFyaWFibGVfaW5mbyA9IHZhcmlhYmxlc19pbmZvLmZpbHRlcihkID0+IGQucmF0aW8gPT09IGNvZGVfcmF0aW8pWzBdO1xuICAgIGFwcC5jdXJyZW50X2NvbmZpZy5udW0ucHVzaCh2YXJpYWJsZV9pbmZvLm51bSk7XG4gICAgYXBwLmN1cnJlbnRfY29uZmlnLmRlbnVtLnB1c2godmFyaWFibGVfaW5mby5kZW51bSk7XG4gICAgYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvLnB1c2godmFyaWFibGVfaW5mby5yYXRpbyk7XG4gICAgYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvX3ByZXR0eV9uYW1lLnB1c2godmFyaWFibGVfaW5mby5uYW1lKTtcbiAgfVxuICBmaWx0ZXJMZXZlbFZhcihhcHApO1xufVxuXG4vKipcbiogQ29tcHV0ZSB0aGUgcmF0aW8gb2YgYXZhaWxhYmxlICg9IG5vdCBlbXB0eSkgdmFsdWVzICh0aGUgXCJjb21wbMOpdHVkZVwiKSB3aXRoaW5cbiogdGhlIHN1YnNldCBjdXJyZW50bHkgaW4gdXNlIGZvciBhbGwgdGhlIHZhcmlhYmxlcyBpbiBcInZhcnNcIi5cbipcbiogQHBhcmFtIHtPYmplY3R9IGFwcCAtXG4qIEBwYXJhbSB7QXJyYXl9IHZhcnMgLVxuKiBAcmV0dXJuIHtOdW1iZXJ9XG4qXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGNhbGNDb21wbGV0dWRlU3Vic2V0KGFwcCwgdmFycykge1xuICBjb25zdCB7XG4gICAgY3VycmVudF9sZXZlbCwgaWRfZmllbGQsIGZpbHRlcl9rZXksIG15X3JlZ2lvbixcbiAgfSA9IGFwcC5jdXJyZW50X2NvbmZpZztcblxuICAvLyBDb21wdXRlIHRoZSBsZW5ndGggb2YgdGhlIGRhdGFzZXQgKHdpdGhpbiB0aGUgXCJzdHVkeSB6b25lXCIgaWYgYW55KTpcbiAgbGV0IHRlbXA7XG4gIGlmIChmaWx0ZXJfa2V5KSB7XG4gICAgY29uc3QgbXlfY2F0ZWdvcnkgPSBhcHAuZnVsbF9kYXRhc2V0LmZpbHRlcihmdCA9PiBmdFtpZF9maWVsZF0gPT09IG15X3JlZ2lvbilbMF1bZmlsdGVyX2tleV07XG4gICAgdGVtcCA9IGFwcC5mdWxsX2RhdGFzZXRcbiAgICAgIC5maWx0ZXIoZnQgPT4gK2Z0LmxldmVsID09PSBjdXJyZW50X2xldmVsICYmIGZ0W2ZpbHRlcl9rZXldID09PSBteV9jYXRlZ29yeSk7XG4gIH0gZWxzZSB7XG4gICAgdGVtcCA9IGFwcC5mdWxsX2RhdGFzZXRcbiAgICAgIC5maWx0ZXIoZnQgPT4gK2Z0LmxldmVsID09PSBjdXJyZW50X2xldmVsKTtcbiAgfVxuICBjb25zdCB0b3RhbF9sZW5ndGggPSB0ZW1wLmxlbmd0aDtcblxuICAvLyBDb21wdXRlIHRoZSBsZW5ndGggb2YgdGhlIGRhdGFzZXQgaWYgd2UgZmlsdGVyIGVtcHR5IGZlYXR1cmVzXG4gIC8vIG9uIGFsbCB0aGUgdmFyaWFibGVzIG9mIFwidmFyc1wiOlxuICB0ZW1wID0gdGVtcC5tYXAoKGZ0KSA9PiB7XG4gICAgY29uc3QgcHJvcHNfZmVhdHVyZSA9IHtcbiAgICAgIGlkOiBmdFtpZF9maWVsZF0sXG4gICAgfTtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuX2kgPSB2YXJzLmxlbmd0aDsgaSA8IGxlbl9pOyBpKyspIHtcbiAgICAgIHByb3BzX2ZlYXR1cmVbdmFyc1tpXV0gPSArZnRbdmFyc1tpXV07XG4gICAgfVxuICAgIHJldHVybiBwcm9wc19mZWF0dXJlO1xuICB9KS5maWx0ZXIoZnQgPT4gdmFycy5tYXAocmF0aW9fbmFtZSA9PiAhIWZ0W3JhdGlvX25hbWVdKS5ldmVyeSh2ID0+IHYgPT09IHRydWUpKTtcbiAgY29uc3QgZmlsdGVyZWRfbGVuZ3RoID0gdGVtcC5sZW5ndGg7XG5cbiAgLy8gUmV0dXJuIHRoZSByYXRpbyBvZiBhdmFpbGFibGUgdmFsdWVzIChcImNvbXBsw6l0dWRlXCIpIHdpdGhpblxuICAvLyB0aGUgc3R1ZHkgem9uZSBzZWxlY3RlZCBieSB0aGUgdXNlcjpcbiAgcmV0dXJuIE1hdGgucm91bmQoKGZpbHRlcmVkX2xlbmd0aCAvIHRvdGFsX2xlbmd0aCkgKiAxMDAwKSAvIDEwO1xufVxuXG4vKipcbiogQ29tcHV0ZSB0aGUgcmF0aW8gb2YgcG9wdWxhdGlvbiBjb3ZlcmVkIGJ5IGZlYXR1cmVzIG9uIHdoaWNoIGFsbCB0aGUgdmFyaWFibGVzXG4qIG9mIFwidmFyc1wiIGFyZSBhdmFpbGFibGUuXG4qXG4qIEBwYXJhbSB7T2JqZWN0fSBhcHAgLVxuKiBAcGFyYW0ge0FycmF5fSB2YXJzIC1cbiogQHJldHVybiB7TnVtYmVyfVxuKlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBjYWxjUG9wQ29tcGxldHVkZVN1YnNldChhcHAsIHZhcnMpIHtcbiAgY29uc3Qge1xuICAgIGN1cnJlbnRfbGV2ZWwsIGlkX2ZpZWxkLCBmaWx0ZXJfa2V5LCBteV9yZWdpb24sIHBvcF9maWVsZCxcbiAgfSA9IGFwcC5jdXJyZW50X2NvbmZpZztcblxuICAvLyBDb21wdXRlIHRoZSB0b3RhbCBwb3B1bGF0aW9uIHN0b2NrIG9mIHRoZSBkYXRhICh3aXRoaW4gdGhlIFwic3R1ZHkgem9uZVwiIGlmIGFueSk6XG4gIGxldCB0ZW1wO1xuICBpZiAoZmlsdGVyX2tleSkge1xuICAgIGNvbnN0IG15X2NhdGVnb3J5ID0gYXBwLmZ1bGxfZGF0YXNldC5maW5kKGZ0ID0+IGZ0W2lkX2ZpZWxkXSA9PT0gbXlfcmVnaW9uKVtmaWx0ZXJfa2V5XTtcbiAgICB0ZW1wID0gYXBwLmZ1bGxfZGF0YXNldFxuICAgICAgLmZpbHRlcihmdCA9PiArZnQubGV2ZWwgPT09IGN1cnJlbnRfbGV2ZWwgJiYgZnRbZmlsdGVyX2tleV0gPT09IG15X2NhdGVnb3J5KTtcbiAgfSBlbHNlIHtcbiAgICB0ZW1wID0gYXBwLmZ1bGxfZGF0YXNldFxuICAgICAgLmZpbHRlcihmdCA9PiArZnQubGV2ZWwgPT09IGN1cnJlbnRfbGV2ZWwpO1xuICB9XG4gIGxldCB0b3RhbF9wb3AgPSAwO1xuICBmb3IgKGxldCBpID0gMCwgbGVuID0gdGVtcC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHRvdGFsX3BvcCArPSBpc05hTigrdGVtcFtpXVtwb3BfZmllbGRdKSA/IDAgOiArdGVtcFtpXVtwb3BfZmllbGRdO1xuICB9XG4gIC8vIENvbXB1dGUgdGhlIHBvcHVsYXRpb24gc3RvY2sgb2YgdGhlIGRhdGFzZXQgaWYgd2UgZmlsdGVyIGVtcHR5IGZlYXR1cmVzXG4gIC8vIG9uIGFsbCB0aGUgdmFyaWFibGVzIG9mIFwidmFyc1wiOlxuICB0ZW1wID0gdGVtcC5tYXAoKGZ0KSA9PiB7XG4gICAgY29uc3QgcHJvcHNfZmVhdHVyZSA9IHtcbiAgICAgIGlkOiBmdFtpZF9maWVsZF0sXG4gICAgICBwb3A6ICtmdFtwb3BfZmllbGRdLFxuICAgIH07XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gdmFycy5sZW5ndGg7IGkgPCBsZW5faTsgaSsrKSB7XG4gICAgICBwcm9wc19mZWF0dXJlW3ZhcnNbaV1dID0gK2Z0W3ZhcnNbaV1dO1xuICAgIH1cbiAgICByZXR1cm4gcHJvcHNfZmVhdHVyZTtcbiAgfSkuZmlsdGVyKGZ0ID0+IHZhcnMubWFwKHJhdGlvX25hbWUgPT4gISFmdFtyYXRpb19uYW1lXSkuZXZlcnkodiA9PiB2ID09PSB0cnVlKSk7XG4gIGxldCBzdWJzZXRfcG9wID0gMDtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRlbXAubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBzdWJzZXRfcG9wICs9IGlzTmFOKHRlbXBbaV0ucG9wKSA/IDAgOiB0ZW1wW2ldLnBvcDtcbiAgfVxuICAvLyBSZXR1cm4gdGhlIHJhdGlvIG9mIHBvcHVsYXRpb24gdmFsdWVzIChcImNvbXBsw6l0dWRlXCIpIHdpdGhpblxuICAvLyB0aGUgc3R1ZHkgem9uZSBzZWxlY3RlZCBieSB0aGUgdXNlcjpcbiAgcmV0dXJuIE1hdGgucm91bmQoKHN1YnNldF9wb3AgLyB0b3RhbF9wb3ApICogMTAwMCkgLyAxMDtcbn1cbi8qIGVzbGludC1lbmFibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhYmxlUmVzdW1lU3RhdCB7XG4gIGNvbnN0cnVjdG9yKHN1bW1hcnlfZmVhdHVyZXMsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IGRvYyA9IGRvY3VtZW50O1xuICAgIGNvbnN0IG5iX2ZlYXR1cmVzID0gc3VtbWFyeV9mZWF0dXJlcy5sZW5ndGg7XG4gICAgY29uc3QgY29sdW1uX25hbWVzID0gWydWYXJpYWJsZScsICdNaW4nLCAnTW95ZW5uZScsICdNYXgnLCAnTWEgcsOpZ2lvbiddO1xuICAgIGNvbnN0IG5iX2NvbHVtbnMgPSBjb2x1bW5fbmFtZXMubGVuZ3RoO1xuICAgIGNvbnN0IGNvbnRhaW5lcl9kaXYgPSBkb2MuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3QgbXlUYWJsZSA9IGRvYy5jcmVhdGVFbGVtZW50KCd0YWJsZScpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSBkb2MuY3JlYXRlRWxlbWVudCgndGhlYWQnKTtcbiAgICBjb25zdCB0YWJsZV9ib2R5ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3Rib2R5Jyk7XG4gICAgY29uc3QgaGVhZGVyc19yb3cgPSBkb2MuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICBteVRhYmxlLmNsYXNzTmFtZSA9ICdtaW5pdGFibGUnO1xuICAgIGNvbnRhaW5lcl9kaXYuY2xhc3NOYW1lID0gJ21pbml0YWJsZV9jb250YWluZXInO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmJfY29sdW1uczsgaSsrKSB7XG4gICAgICBjb25zdCBjZWxsID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3RoJyk7XG4gICAgICBjZWxsLmlubmVySFRNTCA9IGNvbHVtbl9uYW1lc1tpXTtcbiAgICAgIGhlYWRlcnNfcm93LmFwcGVuZENoaWxkKGNlbGwpO1xuICAgIH1cbiAgICBoZWFkZXJzLmFwcGVuZENoaWxkKGhlYWRlcnNfcm93KTtcbiAgICBteVRhYmxlLmFwcGVuZENoaWxkKGhlYWRlcnMpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmJfZmVhdHVyZXM7IGkrKykge1xuICAgICAgY29uc3Qgcm93ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgICByb3cuaWQgPSBgcm93XyR7c3VtbWFyeV9mZWF0dXJlc1tpXS5pZH1gO1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBuYl9jb2x1bW5zOyBqKyspIHtcbiAgICAgICAgY29uc3QgY2VsbCA9IGRvYy5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgICBjb25zdCBjb2xfbmFtZSA9IGNvbHVtbl9uYW1lc1tqXTtcbiAgICAgICAgaWYgKGNvbF9uYW1lICE9PSAnVmFyaWFibGUnKSB7XG4gICAgICAgICAgY2VsbC5pbm5lckhUTUwgPSBNYXRoLnJvdW5kKHN1bW1hcnlfZmVhdHVyZXNbaV1bY29sX25hbWVdICogMTApIC8gMTA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2VsbC5pbm5lckhUTUwgPSBzdW1tYXJ5X2ZlYXR1cmVzW2ldW2NvbF9uYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByb3cuYXBwZW5kQ2hpbGQoY2VsbCk7XG4gICAgICB9XG4gICAgICB0YWJsZV9ib2R5LmFwcGVuZENoaWxkKHJvdyk7XG4gICAgfVxuICAgIG15VGFibGUuYXBwZW5kQ2hpbGQodGFibGVfYm9keSk7XG4gICAgbXlUYWJsZS5zZXRBdHRyaWJ1dGUoJ2lkJywgb3B0aW9ucy5pZCB8fCAndGFibGVfc3VtbWFyeScpO1xuICAgIGNvbnRhaW5lcl9kaXYuYXBwZW5kQ2hpbGQobXlUYWJsZSk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21hcF9zZWN0aW9uJykuYXBwZW5kQ2hpbGQoY29udGFpbmVyX2Rpdik7XG4gICAgdGhpcy5uYl9jb2x1bW5zID0gbmJfY29sdW1ucztcbiAgICB0aGlzLmNvbHVtbl9uYW1lcyA9IGNvbHVtbl9uYW1lcztcbiAgICB0aGlzLnRhYmxlX2JvZHkgPSB0YWJsZV9ib2R5O1xuICB9XG5cbiAgYWRkRmVhdHVyZXMoc3VtbWFyeV9mZWF0dXJlcykge1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBzdW1tYXJ5X2ZlYXR1cmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB0aGlzLmFkZEZlYXR1cmUoc3VtbWFyeV9mZWF0dXJlc1tpXSk7XG4gICAgfVxuICB9XG5cbiAgYWRkRmVhdHVyZShzdW1tYXJ5KSB7XG4gICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICByb3cuaWQgPSBgcm93XyR7c3VtbWFyeS5pZH1gO1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5uYl9jb2x1bW5zOyBqKyspIHtcbiAgICAgIGNvbnN0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgY29uc3QgY29sX25hbWUgPSB0aGlzLmNvbHVtbl9uYW1lc1tqXTtcbiAgICAgIGlmIChjb2xfbmFtZSAhPT0gJ1ZhcmlhYmxlJykge1xuICAgICAgICBjZWxsLmlubmVySFRNTCA9IE1hdGgucm91bmQoc3VtbWFyeVtjb2xfbmFtZV0gKiAxMCkgLyAxMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNlbGwuaW5uZXJIVE1MID0gc3VtbWFyeVtjb2xfbmFtZV07XG4gICAgICB9XG4gICAgICByb3cuYXBwZW5kQ2hpbGQoY2VsbCk7XG4gICAgfVxuICAgIHRoaXMudGFibGVfYm9keS5hcHBlbmRDaGlsZChyb3cpO1xuICB9XG5cbiAgcmVtb3ZlRmVhdHVyZShpZF92YXJpYWJsZSkge1xuICAgIGNvbnN0IHJvdyA9IHRoaXMudGFibGVfYm9keS5xdWVyeVNlbGVjdG9yKGB0ciNyb3dfJHtpZF92YXJpYWJsZX1gKTtcbiAgICBpZiAocm93KSByb3cucmVtb3ZlKCk7XG4gIH1cblxuICByZW1vdmVBbGwoKSB7XG4gICAgY29uc3Qgcm93cyA9IHRoaXMudGFibGVfYm9keS5xdWVyeVNlbGVjdG9yQWxsKCd0cicpO1xuICAgIGZvciAobGV0IGkgPSByb3dzLmxlbmd0aCAtIDE7IGkgPiAtMTsgaS0tKSB7XG4gICAgICByb3dzW2ldLnJlbW92ZSgpO1xuICAgIH1cbiAgfVxuXG4gIHJlbW92ZSgpIHtcbiAgICB0aGlzLnRhYmxlX2JvZHkucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnJlbW92ZSgpO1xuICAgIHRoaXMudGFibGVfYm9keSA9IG51bGw7XG4gIH1cbn1cbiIsImltcG9ydCB7IGNvbXAsIG1hdGhfcm91bmQsIG1hdGhfYWJzLCBSZWN0LCBwcmVwYXJlVG9vbHRpcCwgc3ZnUGF0aFRvQ29vcmRzLCBnZXRNZWFuIH0gZnJvbSAnLi8uLi9oZWxwZXJzJztcbmltcG9ydCB7IGNvbG9yX2Rpc2FibGVkLCBjb2xvcl9jb3VudHJpZXMsIGNvbG9yX3N1cCwgY29sb3JfaW5mLCBjb2xvcl9oaWdobGlnaHQgfSBmcm9tICcuLy4uL29wdGlvbnMnO1xuaW1wb3J0IHsgY2FsY1BvcENvbXBsZXR1ZGVTdWJzZXQgfSBmcm9tICcuLy4uL3ByZXBhcmVfZGF0YSc7XG5pbXBvcnQgeyBzdmdfbWFwIH0gZnJvbSAnLi8uLi9tYXAnO1xuaW1wb3J0IHsgYXBwLCByZXNldENvbG9ycyB9IGZyb20gJy4vLi4vLi4vbWFpbic7XG5pbXBvcnQgVGFibGVSZXN1bWVTdGF0IGZyb20gJy4vLi4vdGFibGVSZXN1bWVTdGF0JztcblxuZXhwb3J0IGNvbnN0IHN2Z19iYXIgPSBkMy5zZWxlY3QoJ3N2ZyNzdmdfYmFyJyksXG4gIG1hcmdpbiA9IHsgdG9wOiAxMCwgcmlnaHQ6IDIwLCBib3R0b206IDEwMCwgbGVmdDogNDUgfSxcbiAgbWFyZ2luMiA9IHsgdG9wOiA0MzAsIHJpZ2h0OiAyMCwgYm90dG9tOiAxNSwgbGVmdDogNDUgfSxcbiAgd2lkdGggPSArc3ZnX2Jhci5hdHRyKCd3aWR0aCcpIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQsXG4gIGhlaWdodCA9ICtzdmdfYmFyLmF0dHIoJ2hlaWdodCcpIC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b20sXG4gIGhlaWdodDIgPSArc3ZnX2Jhci5hdHRyKCdoZWlnaHQnKSAtIG1hcmdpbjIudG9wIC0gbWFyZ2luMi5ib3R0b207XG5cbmxldCBuYkZ0O1xubGV0IGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbMCwgMF07XG5sZXQgY3VycmVudF9yYW5nZSA9IFswLCAwXTtcbmxldCBkaXNwbGF5ZWQ7XG5cbmZ1bmN0aW9uIGdldE1lYW5SYW5rKG1lYW5fdmFsdWUsIHJhdGlvX3RvX3VzZSkge1xuICBsZXQgbWVhbl9yYW5rID0gYXBwLmN1cnJlbnRfZGF0YS5tYXAoXG4gICAgKGQsIGkpID0+IFtkW3JhdGlvX3RvX3VzZV0sIG1hdGhfYWJzKG1lYW5fdmFsdWUgLSBkW3JhdGlvX3RvX3VzZV0pLCBpXSk7XG4gIG1lYW5fcmFuay5zb3J0KChhLCBiKSA9PiBhWzFdIC0gYlsxXSk7XG4gIG1lYW5fcmFuayA9IG1lYW5fcmFua1swXTtcbiAgaWYgKG1lYW5fcmFua1sxXSA+IG1lYW5fdmFsdWUpIHtcbiAgICBtZWFuX3JhbmsgPSBtZWFuX3JhbmtbMl0gLSAxO1xuICB9IGVsc2Uge1xuICAgIG1lYW5fcmFuayA9IG1lYW5fcmFua1syXTtcbiAgfVxuICByZXR1cm4gbWVhbl9yYW5rO1xufVxuXG5cbmV4cG9ydCBjbGFzcyBCYXJDaGFydDEge1xuICBjb25zdHJ1Y3RvcihyZWZfZGF0YSkge1xuICAgIHRoaXMuYnJ1c2hlZCA9ICgpID0+IHtcbiAgICAgIGlmIChkMy5ldmVudC5zb3VyY2VFdmVudCAmJiBkMy5ldmVudC5zb3VyY2VFdmVudC50eXBlID09PSAnem9vbScpIHJldHVybjsgLy8gaWdub3JlIGJydXNoLWJ5LXpvb21cbiAgICAgIGlmICghdGhpcy54KSB7IGNvbnNvbGUubG9nKCdhJyk7IHJldHVybjsgfVxuICAgICAgY29uc3QgcyA9IGQzLmV2ZW50LnNlbGVjdGlvbiB8fCB0aGlzLngyLnJhbmdlKCk7XG4gICAgICBjdXJyZW50X3JhbmdlID0gW21hdGhfcm91bmQoc1swXSAvICh3aWR0aCAvIG5iRnQpKSwgbWF0aF9yb3VuZChzWzFdIC8gKHdpZHRoIC8gbmJGdCkpXTtcbiAgICAgIHRoaXMueC5kb21haW4odGhpcy5kYXRhLnNsaWNlKGN1cnJlbnRfcmFuZ2VbMF0sIGN1cnJlbnRfcmFuZ2VbMV0pLm1hcChmdCA9PiBmdC5pZCkpO1xuICAgICAgc3ZnX2Jhci5zZWxlY3QoJy56b29tJykuY2FsbCh0aGlzLnpvb20udHJhbnNmb3JtLCBkMy56b29tSWRlbnRpdHlcbiAgICAgICAgLnNjYWxlKHdpZHRoIC8gKGN1cnJlbnRfcmFuZ2VbMV0gLSBjdXJyZW50X3JhbmdlWzBdKSlcbiAgICAgICAgLnRyYW5zbGF0ZSgtY3VycmVudF9yYW5nZVswXSwgMCkpO1xuICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgIHRoaXMudXBkYXRlQ29udGV4dChjdXJyZW50X3JhbmdlWzBdLCBjdXJyZW50X3JhbmdlWzFdKTtcbiAgICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfdG9wJykuY2FsbCh0aGlzLmJydXNoX3RvcC5tb3ZlLCBudWxsKTtcbiAgICAgIHRoaXMuYnJ1c2hlZF90b3AoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5icnVzaGVkX3RvcCA9ICgpID0+IHtcbiAgICAgIGlmICghdGhpcy5fZm9jdXMpIHsgY29uc29sZS5sb2coJ2InKTsgcmV0dXJuOyB9XG4gICAgICBpZiAoIXRoaXMubWFwX2VsZW0pIHsgY29uc29sZS5sb2coJ2MnKTsgcmV0dXJuOyB9XG4gICAgICBjb25zdCBkM19ldmVudCA9IGQzLmV2ZW50O1xuICAgICAgY29uc3QgcmF0aW9fdG9fdXNlID0gdGhpcy5yYXRpb190b191c2U7XG4gICAgICBjb25zdCByZWZfdmFsdWUgPSB0aGlzLnJlZl92YWx1ZTtcbiAgICAgIGlmIChkM19ldmVudCAmJiBkM19ldmVudC5zZWxlY3Rpb25cbiAgICAgICAgICAgICYmIGQzX2V2ZW50LnNvdXJjZUV2ZW50ICYmIGQzX2V2ZW50LnNvdXJjZUV2ZW50LnRhcmdldCA9PT0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJydXNoX3RvcCA+IHJlY3Qub3ZlcmxheScpKSB7XG4gICAgICAgIHRoaXMubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gICAgICAgIGNvbnN0IHMgPSBkM19ldmVudC5zZWxlY3Rpb247XG4gICAgICAgIGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbXG4gICAgICAgICAgY3VycmVudF9yYW5nZVswXSArIG1hdGhfcm91bmQoc1swXSAvICh3aWR0aCAvIGRpc3BsYXllZCkpIC0gMSxcbiAgICAgICAgICBjdXJyZW50X3JhbmdlWzBdICsgbWF0aF9yb3VuZChzWzFdIC8gKHdpZHRoIC8gZGlzcGxheWVkKSksXG4gICAgICAgIF07XG4gICAgICAgIHRoaXMueC5kb21haW4odGhpcy5kYXRhLnNsaWNlKGN1cnJlbnRfcmFuZ2VfYnJ1c2hbMF0gKyAxLCBjdXJyZW50X3JhbmdlX2JydXNoWzFdKVxuICAgICAgICAgIC5tYXAoZnQgPT4gZnQuaWQpKTtcbiAgICAgICAgYXBwLmNvbG9ycyA9IHt9O1xuICAgICAgICB0aGlzLl9mb2N1cy5zZWxlY3RBbGwoJy5iYXInKVxuICAgICAgICAgIC5zdHlsZSgnZmlsbCcsIChkLCBpKSA9PiB7XG4gICAgICAgICAgICBpZiAoZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbikge1xuICAgICAgICAgICAgICBhcHAuY29sb3JzW2QuaWRdID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgICAgICAgICAgICByZXR1cm4gY29sb3JfaGlnaGxpZ2h0O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpID4gY3VycmVudF9yYW5nZV9icnVzaFswXSAmJiBpIDwgY3VycmVudF9yYW5nZV9icnVzaFsxXSkge1xuICAgICAgICAgICAgICBjb25zdCBjb2xvciA9IGNvbXAoZFtyYXRpb190b191c2VdLCByZWZfdmFsdWUsIHRoaXMuc2VyaWVfaW52ZXJzZWQpO1xuICAgICAgICAgICAgICBhcHAuY29sb3JzW2QuaWRdID0gY29sb3I7XG4gICAgICAgICAgICAgIHJldHVybiBjb2xvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb2xvcl9jb3VudHJpZXM7XG4gICAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChkM19ldmVudCAmJiAhZDNfZXZlbnQuc2VsZWN0aW9uXG4gICAgICAgICAgICAmJiBkM19ldmVudC5zb3VyY2VFdmVudCAmJiBkM19ldmVudC5zb3VyY2VFdmVudC5kZXRhaWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRoaXMubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gICAgICAgICAgYXBwLmNvbG9ycyA9IHt9O1xuICAgICAgICAgIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgICAgICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ZvY3VzLnNlbGVjdEFsbCgnLmJhcicpXG4gICAgICAgICAgLnN0eWxlKCdmaWxsJywgZCA9PiBhcHAuY29sb3JzW2QuaWRdIHx8IGNvbG9yX2NvdW50cmllcyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIFNldCB0aGUgbWluaW11bSBudW1iZXIgb2YgdmFyaWFibGVzIHRvIGtlZXAgc2VsZWN0ZWQgZm9yIHRoaXMga2luZCBvZiBjaGFydDpcbiAgICBhcHAuY3VycmVudF9jb25maWcubmJfdmFyID0gMTtcbiAgICBjb25zdCB4ID0gZDMuc2NhbGVCYW5kKCkucmFuZ2UoWzAsIHdpZHRoXSkucGFkZGluZygwLjEpLFxuICAgICAgeDIgPSBkMy5zY2FsZUJhbmQoKS5yYW5nZShbMCwgd2lkdGhdKS5wYWRkaW5nKDAuMSksXG4gICAgICB5ID0gZDMuc2NhbGVMaW5lYXIoKS5yYW5nZShbaGVpZ2h0LCAwXSksXG4gICAgICB5MiA9IGQzLnNjYWxlTGluZWFyKCkucmFuZ2UoW2hlaWdodDIsIDBdKTtcblxuICAgIGNvbnN0IHhBeGlzID0gZDMuYXhpc0JvdHRvbSh4KTtcbiAgICBjb25zdCB4QXhpczIgPSBkMy5heGlzQm90dG9tKHgyKTtcbiAgICBjb25zdCB5QXhpcyA9IGQzLmF4aXNMZWZ0KHkpO1xuXG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLngyID0geDI7XG4gICAgdGhpcy55ID0geTtcbiAgICB0aGlzLnkyID0geTI7XG4gICAgdGhpcy54QXhpcyA9IHhBeGlzO1xuICAgIHRoaXMueUF4aXMgPSB5QXhpcztcbiAgICB0aGlzLnhBeGlzMiA9IHhBeGlzMjtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBhdmFpbGFibGVfcmF0aW9zID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvO1xuICAgIGNvbnN0IHJhdGlvX3RvX3VzZSA9IGF2YWlsYWJsZV9yYXRpb3NbMF07XG4gICAgdGhpcy5yYXRpb190b191c2UgPSByYXRpb190b191c2U7XG5cbiAgICB0aGlzLmRhdGEgPSByZWZfZGF0YS5maWx0ZXIoZnQgPT4gISFmdFtyYXRpb190b191c2VdKTtcbiAgICB0aGlzLmRhdGEuc29ydCgoYSwgYikgPT4gYVtyYXRpb190b191c2VdIC0gYltyYXRpb190b191c2VdKTtcbiAgICB0aGlzLmN1cnJlbnRfaWRzID0gdGhpcy5kYXRhLm1hcChkID0+IGQuaWQpO1xuICAgIHJlc2V0Q29sb3JzKCk7XG4gICAgdGhpcy5jdXJyZW50X3JhbmtzID0gdGhpcy5kYXRhLm1hcCgoZCwgaSkgPT4gaSArIDEpO1xuICAgIG5iRnQgPSB0aGlzLmRhdGEubGVuZ3RoO1xuICAgIHRoaXMubWVhbl92YWx1ZSA9IGdldE1lYW4odGhpcy5kYXRhLm1hcChkID0+IGRbcmF0aW9fdG9fdXNlXSkpO1xuICAgIHRoaXMucmVmX3ZhbHVlID0gdGhpcy5kYXRhLmZpbHRlcihcbiAgICAgIGZ0ID0+IGZ0LmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVswXVtyYXRpb190b191c2VdO1xuICAgIHN2Z19iYXIuYXBwZW5kKCdkZWZzJylcbiAgICAgIC5hcHBlbmQoJ2NsaXBQYXRoJylcbiAgICAgIC5hdHRyKCdpZCcsICdjbGlwJylcbiAgICAgIC5hcHBlbmQoJ3JlY3QnKVxuICAgICAgLmF0dHJzKHsgd2lkdGgsIGhlaWdodCB9KTtcblxuICAgIGNvbnN0IGZvY3VzID0gc3ZnX2Jhci5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgY2xhc3M6ICdmb2N1cycsXG4gICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke21hcmdpbi5sZWZ0fSwgJHttYXJnaW4udG9wfSlgLFxuICAgICAgfSk7XG5cbiAgICBjb25zdCBjb250ZXh0ID0gc3ZnX2Jhci5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgY2xhc3M6ICdjb250ZXh0JyxcbiAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7bWFyZ2luMi5sZWZ0fSwgJHttYXJnaW4yLnRvcH0pYCxcbiAgICAgIH0pO1xuXG4gICAgdGhpcy5fZm9jdXMgPSBmb2N1cztcbiAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuXG4gICAgeC5kb21haW4odGhpcy5jdXJyZW50X2lkcyk7XG4gICAgeS5kb21haW4oW1xuICAgICAgMCxcbiAgICAgIGQzLm1heCh0aGlzLmRhdGEsIGQgPT4gZFtyYXRpb190b191c2VdKSxcbiAgICBdKTtcbiAgICB4Mi5kb21haW4oeC5kb21haW4oKSk7XG4gICAgeTIuZG9tYWluKHkuZG9tYWluKCkpO1xuXG4gICAgY29uc3QgYnJ1c2hfYm90dG9tID0gZDMuYnJ1c2hYKClcbiAgICAgIC5leHRlbnQoW1swLCAwXSwgW3dpZHRoLCBoZWlnaHQyXV0pXG4gICAgICAub24oJ2JydXNoIGVuZCcsIHRoaXMuYnJ1c2hlZCk7XG5cbiAgICBjb25zdCBicnVzaF90b3AgPSBkMy5icnVzaFgoKVxuICAgICAgLmV4dGVudChbWzAsIDBdLCBbd2lkdGgsIGhlaWdodF1dKVxuICAgICAgLm9uKCdicnVzaCBlbmQnLCB0aGlzLmJydXNoZWRfdG9wKTtcblxuICAgIGNvbnN0IHpvb20gPSBkMy56b29tKClcbiAgICAgIC5zY2FsZUV4dGVudChbMSwgSW5maW5pdHldKVxuICAgICAgLnRyYW5zbGF0ZUV4dGVudChbWzAsIDBdLCBbd2lkdGgsIGhlaWdodF1dKVxuICAgICAgLmV4dGVudChbWzAsIDBdLCBbd2lkdGgsIGhlaWdodF1dKTtcbiAgICAgIC8vIC5vbihcInpvb21cIiwgem9vbWVkKTtcbiAgICB0aGlzLmJydXNoX3RvcCA9IGJydXNoX3RvcDtcbiAgICB0aGlzLmJydXNoX2JvdHRvbSA9IGJydXNoX2JvdHRvbTtcbiAgICB0aGlzLnpvb20gPSB6b29tO1xuXG4gICAgZm9jdXMuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAnYXhpcyBheGlzLS14JywgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKDAsICR7aGVpZ2h0fSlgIH0pXG4gICAgICAuY2FsbCh4QXhpcyk7XG5cbiAgICBmb2N1cy5zZWxlY3QoJy5heGlzLS14JylcbiAgICAgIC5zZWxlY3RBbGwoJ3RleHQnKVxuICAgICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdlbmQnKVxuICAgICAgLmF0dHJzKHsgZHg6ICctMC44ZW0nLCBkeTogJzAuMTVlbScsIHRyYW5zZm9ybTogJ3JvdGF0ZSgtNjUpJyB9KTtcblxuICAgIGZvY3VzLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignY2xhc3MnLCAnYXhpcyBheGlzLS15JylcbiAgICAgIC5jYWxsKHlBeGlzKTtcblxuICAgIHRoaXMuZ19iYXIgPSBmb2N1cy5hcHBlbmQoJ2cnKTtcblxuICAgIGNvbnN0IGdyb3VwZV9saW5lX21lYW4gPSBmb2N1cy5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdtZWFuJyk7XG4gICAgZ3JvdXBlX2xpbmVfbWVhbi5hcHBlbmQoJ3RleHQnKVxuICAgICAgLmF0dHJzKHsgeDogNjAsIHk6IHkodGhpcy5tZWFuX3ZhbHVlKSArIDIwIH0pXG4gICAgICAuc3R5bGVzKHtcbiAgICAgICAgZGlzcGxheTogJ25vbmUnLFxuICAgICAgICBmaWxsOiAncmVkJyxcbiAgICAgICAgJ2ZpbGwtb3BhY2l0eSc6ICcwLjgnLFxuICAgICAgICAnZm9udC1mYW1pbHknOiAnXFwnU2lnbmlrYVxcJywgc2Fucy1zZXJpZicsXG4gICAgICB9KVxuICAgICAgLnRleHQoYFZhbGV1ciBtb3llbm5lIDogJHtNYXRoLnJvdW5kKHRoaXMubWVhbl92YWx1ZSAqIDEwKSAvIDEwfWApO1xuXG4gICAgZ3JvdXBlX2xpbmVfbWVhbi5hcHBlbmQoJ2xpbmUnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgeDE6IDAsXG4gICAgICAgIHgyOiB3aWR0aCxcbiAgICAgICAgeTE6IHkodGhpcy5tZWFuX3ZhbHVlKSxcbiAgICAgICAgeTI6IHkodGhpcy5tZWFuX3ZhbHVlKSxcbiAgICAgICAgJ3N0cm9rZS1kYXNoYXJyYXknOiAnMTAsIDUnLFxuICAgICAgICAnc3Ryb2tlLXdpZHRoJzogJzJweCcsXG4gICAgICAgIGNsYXNzOiAnbWVhbl9saW5lJyxcbiAgICAgIH0pXG4gICAgICAuc3R5bGUoJ3N0cm9rZScsICdyZWQnKTtcblxuICAgIGdyb3VwZV9saW5lX21lYW4uYXBwZW5kKCdsaW5lJylcbiAgICAgIC5hdHRycyh7IHgxOiAwLCB4Mjogd2lkdGgsIHkxOiB5KHRoaXMubWVhbl92YWx1ZSksIHkyOiB5KHRoaXMubWVhbl92YWx1ZSksICdzdHJva2Utd2lkdGgnOiAnMTRweCcsIGNsYXNzOiAndHJhbnNwX21lYW5fbGluZScgfSlcbiAgICAgIC5zdHlsZSgnc3Ryb2tlJywgJ3RyYW5zcGFyZW50JylcbiAgICAgIC5vbignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgICAgICBncm91cGVfbGluZV9tZWFuLnNlbGVjdCgndGV4dCcpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ2luaXRpYWwnKTtcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlb3V0JywgKCkgPT4ge1xuICAgICAgICBncm91cGVfbGluZV9tZWFuLnNlbGVjdCgndGV4dCcpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgIH0pO1xuXG4gICAgdGhpcy51cGRhdGVNaW5pQmFycygpO1xuXG4gICAgY29udGV4dC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2JydXNoX2JvdHRvbScpXG4gICAgICAuY2FsbChicnVzaF9ib3R0b20pXG4gICAgICAuY2FsbChicnVzaF9ib3R0b20ubW92ZSwgeC5yYW5nZSgpKTtcblxuICAgIGZvY3VzLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignY2xhc3MnLCAnYnJ1c2hfdG9wJylcbiAgICAgIC5jYWxsKGJydXNoX3RvcClcbiAgICAgIC5jYWxsKGJydXNoX3RvcC5tb3ZlLCBudWxsKTtcblxuICAgIHRoaXMuY29tcGxldHVkZV92YWx1ZSA9IGNhbGNQb3BDb21wbGV0dWRlU3Vic2V0KGFwcCwgW3RoaXMucmF0aW9fdG9fdXNlXSk7XG5cbiAgICB0aGlzLmNvbXBsZXR1ZGUgPSBzdmdfYmFyLmFwcGVuZCgndGV4dCcpXG4gICAgICAuYXR0cnMoeyBpZDogJ2NoYXJ0X2NvbXBsZXR1ZGUnLCB4OiA2MCwgeTogNDAgfSlcbiAgICAgIC5zdHlsZXMoeyAnZm9udC1mYW1pbHknOiAnXFwnU2lnbmlrYVxcJywgc2Fucy1zZXJpZicgfSlcbiAgICAgIC50ZXh0KGBDb21wbMOpdHVkZSA6ICR7dGhpcy5jb21wbGV0dWRlX3ZhbHVlfSVgKTtcblxuICAgIHN2Z19iYXIuYXBwZW5kKCdpbWFnZScpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICB4OiB3aWR0aCArIG1hcmdpbi5sZWZ0ICsgNSxcbiAgICAgICAgeTogMzg1LFxuICAgICAgICB3aWR0aDogMTUsXG4gICAgICAgIGhlaWdodDogMTUsXG4gICAgICAgICd4bGluazpocmVmJzogJ2ltZy9yZXZlcnNlX3BsdXMucG5nJyxcbiAgICAgICAgaWQ6ICdpbWdfcmV2ZXJzZScsXG4gICAgICB9KVxuICAgICAgLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgLy8gdGhpcy5kYXRhID0gYXBwLmN1cnJlbnRfZGF0YS5zbGljZSgpO1xuICAgICAgICBpZiAoIXRoaXMuc2VyaWVfaW52ZXJzZWQpIHtcbiAgICAgICAgICB0aGlzLmRhdGEuc29ydCgoYSwgYikgPT4gYlt0aGlzLnJhdGlvX3RvX3VzZV0gLSBhW3RoaXMucmF0aW9fdG9fdXNlXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5kYXRhLnNvcnQoKGEsIGIpID0+IGFbdGhpcy5yYXRpb190b191c2VdIC0gYlt0aGlzLnJhdGlvX3RvX3VzZV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VyaWVfaW52ZXJzZWQgPSAhdGhpcy5zZXJpZV9pbnZlcnNlZDtcbiAgICAgICAgeC5kb21haW4odGhpcy5kYXRhLnNsaWNlKGN1cnJlbnRfcmFuZ2VbMF0sIGN1cnJlbnRfcmFuZ2VbMV0pLm1hcChmdCA9PiBmdC5pZCkpO1xuICAgICAgICB4Mi5kb21haW4odGhpcy5kYXRhLm1hcChmdCA9PiBmdC5pZCkpO1xuICAgICAgICAvLyBzdmdfYmFyLnNlbGVjdChcIi56b29tXCIpLmNhbGwoem9vbS50cmFuc2Zvcm0sIGQzLnpvb21JZGVudGl0eVxuICAgICAgICAvLyAgICAgLnNjYWxlKHdpZHRoIC8gKGN1cnJlbnRfcmFuZ2VbMV0gLSBjdXJyZW50X3JhbmdlWzBdKSlcbiAgICAgICAgLy8gICAgIC50cmFuc2xhdGUoLWN1cnJlbnRfcmFuZ2VbMF0sIDApKTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgLy8gdGhpcy51cGRhdGVNaW5pQmFycygpO1xuICAgICAgICB0aGlzLnVwZGF0ZUNvbnRleHQoY3VycmVudF9yYW5nZVswXSwgY3VycmVudF9yYW5nZVsxXSk7XG4gICAgICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfdG9wJykuY2FsbChicnVzaF90b3AubW92ZSwgbnVsbCk7XG4gICAgICAgIHRoaXMubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gICAgICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfYm90dG9tJykuY2FsbChicnVzaF9ib3R0b20ubW92ZSwgeC5yYW5nZSgpKTtcbiAgICAgIH0pO1xuXG4gICAgLy8gUHJlcGFyZSB0aGUgdG9vbHRpcCBkaXNwbGF5ZWQgb24gbW91c2VvdmVyOlxuICAgIGNvbnN0IHRvb2x0aXAgPSBwcmVwYXJlVG9vbHRpcChzdmdfYmFyKTtcblxuICAgIC8vIERlYWN0aXZhdGUgdGhlIGJydXNoIHJlY3Qgc2VsZWN0aW9uIG9uIHRoZSBtYXAgKyBvbiB0aGUgY2hhcnRcbiAgICAvLyB3aGVuIGhlIHVzZXIgcHJlc3MgdGhlIEN0cmwga2V5OlxuICAgIGRvY3VtZW50Lm9ua2V5ZG93biA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50LmtleSA9PT0gJ0NvbnRyb2wnKSB7XG4gICAgICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfdG9wJylcbiAgICAgICAgICAuc2VsZWN0QWxsKCcuc2VsZWN0aW9uLCAub3ZlcmxheScpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKVxuICAgICAgICAgIC5zZWxlY3RBbGwoJy5zZWxlY3Rpb24sIC5vdmVybGF5JylcbiAgICAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgfVxuICAgIH07XG4gICAgZG9jdW1lbnQub25rZXl1cCA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50LmtleSA9PT0gJ0NvbnRyb2wnKSB7XG4gICAgICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfdG9wJylcbiAgICAgICAgICAuc2VsZWN0QWxsKCcuc2VsZWN0aW9uLCAub3ZlcmxheScpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7XG4gICAgICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJylcbiAgICAgICAgICAuc2VsZWN0QWxsKCcuc2VsZWN0aW9uLCAub3ZlcmxheScpXG4gICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGhlYWRlcl9iYXJfc2VjdGlvbiA9IGQzLnNlbGVjdCgnI2hlYWRlcl9jaGFydCcpO1xuXG4gICAgdGhpcy5zZWxlY192YXIgPSBoZWFkZXJfYmFyX3NlY3Rpb25cbiAgICAgIC5pbnNlcnQoJ3NlbGVjdCcsICcjaW1nX3RhYmxlJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAndGl0bGVfdmFyaWFibGUnIH0pXG4gICAgICAuc3R5bGVzKHtcbiAgICAgICAgJ2ZvbnQtZmFtaWx5JzogJ1xcJ1NpZ25pa2FcXCcsIHNhbnMtc2VyaWYnLFxuICAgICAgICAnZm9udC13ZWlnaHQnOiAnODAwJyxcbiAgICAgICAgJ2ZvbnQtc2l6ZSc6ICcxNHB4JyxcbiAgICAgICAgJ21hcmdpbi10b3AnOiAnMTJweCcsXG4gICAgICAgICdtYXJnaW4tbGVmdCc6ICc0MHB4JyxcbiAgICAgICAgZmxvYXQ6ICdsZWZ0JyxcbiAgICAgIH0pO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gYXZhaWxhYmxlX3JhdGlvcy5sZW5ndGg7IGkgPCBsZW5faTsgaSsrKSB7XG4gICAgICB0aGlzLnNlbGVjX3Zhci5hcHBlbmQoJ29wdGlvbicpXG4gICAgICAgIC5hdHRyKCd2YWx1ZScsIGF2YWlsYWJsZV9yYXRpb3NbaV0pXG4gICAgICAgIC50ZXh0KGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpb19wcmV0dHlfbmFtZVtpXSk7XG4gICAgfVxuXG4gICAgdGhpcy5zZWxlY192YXIub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IGNvZGVfdmFyaWFibGUgPSB0aGlzLnZhbHVlO1xuICAgICAgc2VsZi5jaGFuZ2VWYXJpYWJsZShjb2RlX3ZhcmlhYmxlKTtcbiAgICAgIHNlbGYuY2hhbmdlU3R1ZHlab25lKCk7XG4gICAgICBzZWxmLnVwZGF0ZUNvbXBsZXR1ZGUoKTtcbiAgICB9KTtcblxuICAgIC8vIENyZWF0ZSB0aGUgbWVudSB1bmRlciB0aGUgY2hhcnQgYWxsb3dpbmcgdG8gdXNlIHNvbWUgdXNlZnVsIHNlbGVjdGlvbnNcbiAgICAvLyAoYWJvdmUgb3IgYmVsb3cgdGhlIG1lYW4gdmFsdWUgYW5kIGFib3ZlIG9yIGJlbG93IG15X3JlZ2lvbilcbiAgICBjb25zdCBtZW51X3NlbGVjdGlvbiA9IGQzLnNlbGVjdCgnI2Jhcl9zZWN0aW9uJylcbiAgICAgIC5hcHBlbmQoJ2RpdicpXG4gICAgICAuYXR0cignaWQnLCAnbWVudV9zZWxlY3Rpb24nKVxuICAgICAgLnN0eWxlcyh7IHBhZGRpbmc6ICcwIDEwcHggMTBweCAxMHB4JywgJ3RleHQtYWxpZ24nOiAnY2VudGVyJyB9KTtcblxuICAgIG1lbnVfc2VsZWN0aW9uLmFwcGVuZCgnYnV0dG9uJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAnYnV0dG9uX2JsdWUnLCBpZDogJ2J0bl9hYm92ZV9tZWFuJyB9KVxuICAgICAgLnRleHQoJzwgw6AgbGEgbW95ZW5uZScpXG4gICAgICAub24oJ2NsaWNrJywgKCkgPT4gdGhpcy5zZWxlY3RCZWxvd01lYW4oKSk7XG5cbiAgICBtZW51X3NlbGVjdGlvbi5hcHBlbmQoJ2J1dHRvbicpXG4gICAgICAuYXR0cnMoeyBjbGFzczogJ2J1dHRvbl9ibHVlJywgaWQ6ICdidG5fYmVsb3dfbWVhbicgfSlcbiAgICAgIC50ZXh0KCc+IMOgIGxhIG1veWVubmUnKVxuICAgICAgLm9uKCdjbGljaycsICgpID0+IHRoaXMuc2VsZWN0QWJvdmVNZWFuKCkpO1xuXG4gICAgbWVudV9zZWxlY3Rpb24uYXBwZW5kKCdidXR0b24nKVxuICAgICAgLmF0dHJzKHsgY2xhc3M6ICdidXR0b25fYmx1ZScsIGlkOiAnYnRuX2Fib3ZlX215X3JlZ2lvbicgfSlcbiAgICAgIC50ZXh0KCc8IMOgIG1hIHLDqWdpb24nKVxuICAgICAgLm9uKCdjbGljaycsICgpID0+IHRoaXMuc2VsZWN0QmVsb3dNeVJlZ2lvbigpKTtcblxuICAgIG1lbnVfc2VsZWN0aW9uLmFwcGVuZCgnYnV0dG9uJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAnYnV0dG9uX2JsdWUnLCBpZDogJ2J0bl9iZWxvd19teV9yZWdpb24nIH0pXG4gICAgICAudGV4dCgnPiDDoCBtYSByw6lnaW9uJylcbiAgICAgIC5vbignY2xpY2snLCAoKSA9PiB0aGlzLnNlbGVjdEFib3ZlTXlSZWdpb24oKSk7XG5cbiAgICB0aGlzLm1ha2VUYWJsZVN0YXQoKTtcbiAgfVxuXG4gIHVwZGF0ZUNvbXBsZXR1ZGUoKSB7XG4gICAgdGhpcy5jb21wbGV0dWRlX3ZhbHVlID0gY2FsY1BvcENvbXBsZXR1ZGVTdWJzZXQoYXBwLCBbdGhpcy5yYXRpb190b191c2VdKTtcblxuICAgIHRoaXMuY29tcGxldHVkZVxuICAgICAgLnRleHQoYENvbXBsw6l0dWRlIDogJHt0aGlzLmNvbXBsZXR1ZGVfdmFsdWV9JWApO1xuICB9XG5cbiAgdXBkYXRlQ29udGV4dChtaW4sIG1heCkge1xuICAgIHRoaXMuY29udGV4dC5zZWxlY3RBbGwoJy5iYXInKVxuICAgICAgIC5zdHlsZSgnZmlsbC1vcGFjaXR5JywgKF8sIGkpID0+IChpID49IG1pbiAmJiBpIDwgbWF4ID8gJzEnIDogJzAuMycpKTtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBkaXNwbGF5ZWQgPSAwO1xuICAgIGNvbnN0IHJhdGlvX3RvX3VzZSA9IHRoaXMucmF0aW9fdG9fdXNlO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGJhciA9IHRoaXMuZ19iYXIuc2VsZWN0QWxsKCcuYmFyJylcbiAgICAgIC5kYXRhKHRoaXMuZGF0YSk7XG5cbiAgICBiYXJcbiAgICAgIC5hdHRycyhkID0+ICh7XG4gICAgICAgIHg6IHRoaXMueChkLmlkKSxcbiAgICAgICAgeTogdGhpcy55KGRbcmF0aW9fdG9fdXNlXSksXG4gICAgICAgIHdpZHRoOiB0aGlzLnguYmFuZHdpZHRoKCksXG4gICAgICAgIGhlaWdodDogaGVpZ2h0IC0gdGhpcy55KGRbcmF0aW9fdG9fdXNlXSksXG4gICAgICB9KSlcbiAgICAgIC5zdHlsZSgnZmlsbCcsIGQgPT4gYXBwLmNvbG9yc1tkLmlkXSB8fCBjb2xvcl9jb3VudHJpZXMpXG4gICAgICAuc3R5bGUoJ2Rpc3BsYXknLCAoZCkgPT4ge1xuICAgICAgICBjb25zdCB0b19kaXNwbGF5ID0gdGhpcy54KGQuaWQpICE9IG51bGw7XG4gICAgICAgIGlmICh0b19kaXNwbGF5KSB7XG4gICAgICAgICAgZGlzcGxheWVkICs9IDE7XG4gICAgICAgICAgcmV0dXJuICdpbml0aWFsJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJ25vbmUnO1xuICAgICAgfSlcbiAgICAgIC5vbignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgICAgICBzdmdfYmFyLnNlbGVjdCgnLnRvb2x0aXAnKS5zdHlsZSgnZGlzcGxheScsIG51bGwpO1xuICAgICAgfSlcbiAgICAgIC5vbignbW91c2VvdXQnLCAoKSA9PiB7XG4gICAgICAgIHN2Z19iYXIuc2VsZWN0KCcudG9vbHRpcCcpLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgIGNvbnN0IHRvb2x0aXAgPSBzdmdfYmFyLnNlbGVjdCgnLnRvb2x0aXAnKTtcbiAgICAgICAgdG9vbHRpcC5zZWxlY3QoJ3JlY3QnKS5hdHRycyh7IHdpZHRoOiAwLCBoZWlnaHQ6IDAgfSk7XG4gICAgICAgIHRvb2x0aXBcbiAgICAgICAgICAuc2VsZWN0KCd0ZXh0LmlkX2ZlYXR1cmUnKVxuICAgICAgICAgIC50ZXh0KGAke2QuaWR9YCk7XG4gICAgICAgIHRvb2x0aXAuc2VsZWN0KCd0ZXh0LnZhbHVlX2ZlYXR1cmUxJylcbiAgICAgICAgICAudGV4dChgJHttYXRoX3JvdW5kKGRbc2VsZi5yYXRpb190b191c2VdICogMTApIC8gMTB9YCk7XG4gICAgICAgIGNvbnN0IGIgPSB0b29sdGlwLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdG9vbHRpcC5zZWxlY3QoJ3JlY3QnKVxuICAgICAgICAgIC5hdHRycyh7XG4gICAgICAgICAgICB3aWR0aDogYi53aWR0aCArIDIwLFxuICAgICAgICAgICAgaGVpZ2h0OiBiLmhlaWdodCArIDcuNSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgdG9vbHRpcFxuICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7W2QzLm1vdXNlKHRoaXMpWzBdIC0gNSwgZDMubW91c2UodGhpcylbMV0gLSA0NV19KWApO1xuICAgICAgfSk7XG5cbiAgICBiYXIuZW50ZXIoKVxuICAgICAgLmluc2VydCgncmVjdCcsICcubWVhbicpXG4gICAgICAuYXR0cnMoZCA9PiAoe1xuICAgICAgICBjbGFzczogJ2JhcicsXG4gICAgICAgIHg6IHRoaXMueChkLmlkKSxcbiAgICAgICAgeTogdGhpcy55KGRbcmF0aW9fdG9fdXNlXSksXG4gICAgICAgIHdpZHRoOiB0aGlzLnguYmFuZHdpZHRoKCksXG4gICAgICAgIGhlaWdodDogaGVpZ2h0IC0gdGhpcy55KGRbcmF0aW9fdG9fdXNlXSksXG4gICAgICB9KSk7XG5cbiAgICBiYXIuZXhpdCgpLnJlbW92ZSgpO1xuXG4gICAgdGhpcy5fZm9jdXMuc2VsZWN0KCcuYXhpcy0teScpXG4gICAgICAuY2FsbCh0aGlzLnlBeGlzKTtcblxuICAgIGNvbnN0IGF4aXNfeCA9IHRoaXMuX2ZvY3VzLnNlbGVjdCgnLmF4aXMtLXgnKVxuICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsICgpID0+IChkaXNwbGF5ZWQgPiA3NSA/IDYgOiAxMCkpXG4gICAgICAuY2FsbCh0aGlzLnhBeGlzKTtcbiAgICBheGlzX3hcbiAgICAgIC5zZWxlY3RBbGwoJ3RleHQnKVxuICAgICAgLmF0dHJzKCgpID0+IHtcbiAgICAgICAgaWYgKGRpc3BsYXllZCA+IDEwMCkge1xuICAgICAgICAgIHJldHVybiB7IGR4OiAnLTAuOGVtJywgZHk6ICcwLjE1ZW0nLCB0cmFuc2Zvcm06ICdyb3RhdGUoLTY1KScgfTtcbiAgICAgICAgfSBlbHNlIGlmIChkaXNwbGF5ZWQgPiAyMCkge1xuICAgICAgICAgIHJldHVybiB7IGR4OiAnLTAuOGVtJywgZHk6ICcwLjE1ZW0nLCB0cmFuc2Zvcm06ICdyb3RhdGUoLTY1KScgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4geyBkeDogJzAnLCBkeTogJzAuNzFlbScsIHRyYW5zZm9ybTogbnVsbCB9O1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICgpID0+IChkaXNwbGF5ZWQgPiAyMCA/ICdlbmQnIDogJ21pZGRsZScpKTtcblxuICAgIHRoaXMudXBkYXRlTWluaUJhcnMoKTtcbiAgfVxuXG5cbiAgdXBkYXRlTWluaUJhcnMoKSB7XG4gICAgY29uc3QgcmF0aW9fdG9fdXNlID0gdGhpcy5yYXRpb190b191c2U7XG4gICAgY29uc3QgbWluaV9iYXJzID0gdGhpcy5jb250ZXh0LnNlbGVjdEFsbCgnLmJhcicpXG4gICAgICAuZGF0YSh0aGlzLmRhdGEpO1xuXG4gICAgbWluaV9iYXJzXG4gICAgICAuYXR0cnMoZCA9PiAoe1xuICAgICAgICB4OiB0aGlzLngyKGQuaWQpLFxuICAgICAgICB5OiB0aGlzLnkyKGRbcmF0aW9fdG9fdXNlXSksXG4gICAgICAgIHdpZHRoOiB0aGlzLngyLmJhbmR3aWR0aCgpLFxuICAgICAgICBoZWlnaHQ6IGhlaWdodDIgLSB0aGlzLnkyKGRbcmF0aW9fdG9fdXNlXSksXG4gICAgICB9KSlcbiAgICAgIC5zdHlsZSgnZmlsbCcsIGQgPT4gKGQuaWQgIT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24gPyBjb2xvcl9jb3VudHJpZXMgOiBjb2xvcl9oaWdobGlnaHQpKTtcblxuICAgIG1pbmlfYmFyc1xuICAgICAgLmVudGVyKClcbiAgICAgIC5pbnNlcnQoJ3JlY3QnKVxuICAgICAgLmF0dHJzKGQgPT4gKHtcbiAgICAgICAgY2xhc3M6ICdiYXInLFxuICAgICAgICB4OiB0aGlzLngyKGQuaWQpLFxuICAgICAgICB5OiB0aGlzLnkyKGRbcmF0aW9fdG9fdXNlXSksXG4gICAgICAgIHdpZHRoOiB0aGlzLngyLmJhbmR3aWR0aCgpLFxuICAgICAgICBoZWlnaHQ6IGhlaWdodDIgLSB0aGlzLnkyKGRbcmF0aW9fdG9fdXNlXSksXG4gICAgICB9KSlcbiAgICAgIC5zdHlsZSgnZmlsbCcsIGQgPT4gKGQuaWQgIT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24gPyBjb2xvcl9jb3VudHJpZXMgOiBjb2xvcl9oaWdobGlnaHQpKTtcbiAgICBtaW5pX2JhcnMuZXhpdCgpLnJlbW92ZSgpO1xuICB9XG5cbiAgdXBkYXRlTWFwUmVnaW8oKSB7XG4gICAgdGhpcy5tYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5hdHRyKCdmaWxsJywgZCA9PiAodGhpcy5jdXJyZW50X2lkcy5pbmRleE9mKGQucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV0pID4gLTFcbiAgICAgICAgPyAoYXBwLmNvbG9yc1tkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dXSB8fCBjb2xvcl9jb3VudHJpZXMpXG4gICAgICAgIDogY29sb3JfZGlzYWJsZWQpKTtcbiAgfVxuXG4gIHNlbGVjdEFib3ZlTXlSZWdpb24oKSB7XG4gICAgY29uc3QgbXlfcmFuayA9IHRoaXMuZGF0YS5tYXAoKGQsIGkpID0+IFtkLmlkLCBpXSlcbiAgICAgIC5maWx0ZXIoZCA9PiBkWzBdID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVswXVsxXTtcbiAgICBhcHAuY29sb3JzID0ge307XG4gICAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICBpZiAoIXRoaXMuc2VyaWVfaW52ZXJzZWQpIHtcbiAgICAgIGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbbXlfcmFuaywgdGhpcy5kYXRhLmxlbmd0aF07XG4gICAgICB0aGlzLmRhdGFcbiAgICAgICAgLmZpbHRlcigoZCwgaSkgPT4gaSA+IG15X3JhbmspXG4gICAgICAgIC5tYXAoZCA9PiBkLmlkKVxuICAgICAgICAuZm9yRWFjaCgoZnQpID0+IHsgYXBwLmNvbG9yc1tmdF0gPSBjb2xvcl9zdXA7IH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X3JhbmdlX2JydXNoID0gWzAsIG15X3JhbmtdO1xuICAgICAgdGhpcy5kYXRhXG4gICAgICAgIC5maWx0ZXIoKGQsIGkpID0+IGkgPCBteV9yYW5rKVxuICAgICAgICAubWFwKGQgPT4gZC5pZClcbiAgICAgICAgLmZvckVhY2goKGZ0KSA9PiB7IGFwcC5jb2xvcnNbZnRdID0gY29sb3JfaW5mOyB9KTtcbiAgICB9XG4gICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF9ib3R0b20nKS5jYWxsKFxuICAgICAgdGhpcy5icnVzaF9ib3R0b20ubW92ZSwgdGhpcy54Mi5yYW5nZSgpKTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIC8vIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfdG9wJykuY2FsbCh0aGlzLmJydXNoX3RvcC5tb3ZlLCBjdXJyZW50X3JhbmdlX2JydXNoLm1hcChkID0+IGQgKiAod2lkdGggLyBuYkZ0KSkpO1xuICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgfVxuXG4gIHNlbGVjdEJlbG93TXlSZWdpb24oKSB7XG4gICAgY29uc3QgbXlfcmFuayA9IHRoaXMuZGF0YS5tYXAoKGQsIGkpID0+IFtkLmlkLCBpXSlcbiAgICAgIC5maWx0ZXIoZCA9PiBkWzBdID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVswXVsxXTtcblxuICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgIGlmICghdGhpcy5zZXJpZV9pbnZlcnNlZCkge1xuICAgICAgY3VycmVudF9yYW5nZV9icnVzaCA9IFswLCBteV9yYW5rXTtcbiAgICAgIHRoaXMuZGF0YVxuICAgICAgICAuZmlsdGVyKChkLCBpKSA9PiBpIDwgbXlfcmFuaylcbiAgICAgICAgLm1hcChkID0+IGQuaWQpXG4gICAgICAgIC5mb3JFYWNoKChmdCkgPT4geyBhcHAuY29sb3JzW2Z0XSA9IGNvbG9yX2luZjsgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbbXlfcmFuaywgdGhpcy5kYXRhLmxlbmd0aF07XG4gICAgICB0aGlzLmRhdGFcbiAgICAgICAgLmZpbHRlcigoZCwgaSkgPT4gaSA+IG15X3JhbmspXG4gICAgICAgIC5tYXAoZCA9PiBkLmlkKVxuICAgICAgICAuZm9yRWFjaCgoZnQpID0+IHsgYXBwLmNvbG9yc1tmdF0gPSBjb2xvcl9zdXA7IH0pO1xuICAgIH1cbiAgICBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX2JvdHRvbScpLmNhbGwoXG4gICAgICB0aGlzLmJydXNoX2JvdHRvbS5tb3ZlLCB0aGlzLngyLnJhbmdlKCkpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gICAgLy8gc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF90b3AnKS5jYWxsKHRoaXMuYnJ1c2hfdG9wLm1vdmUsIGN1cnJlbnRfcmFuZ2VfYnJ1c2gubWFwKGQgPT4gZCAqICh3aWR0aCAvIG5iRnQpKSk7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICB9XG5cbiAgc2VsZWN0QWJvdmVNZWFuKCkge1xuICAgIGNvbnN0IG1lYW5fcmFuayA9IGdldE1lYW5SYW5rKHRoaXMubWVhbl92YWx1ZSwgdGhpcy5yYXRpb190b191c2UpO1xuICAgIGNvbnN0IHJhdGlvX3RvX3VzZSA9IHRoaXMucmF0aW9fdG9fdXNlO1xuICAgIGNvbnN0IHJlZl92YWx1ZSA9IHRoaXMucmVmX3ZhbHVlO1xuXG4gICAgYXBwLmNvbG9ycyA9IHt9O1xuICAgIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgaWYgKCF0aGlzLnNlcmllX2ludmVyc2VkKSB7XG4gICAgICBjdXJyZW50X3JhbmdlX2JydXNoID0gW21lYW5fcmFuaywgdGhpcy5kYXRhLmxlbmd0aF07XG4gICAgICB0aGlzLmRhdGEuZmlsdGVyKGQgPT4gZFtyYXRpb190b191c2VdID4gdGhpcy5tZWFuX3ZhbHVlKS5mb3JFYWNoKChmdCkgPT4ge1xuICAgICAgICBpZiAoZnRbcmF0aW9fdG9fdXNlXSA+IHJlZl92YWx1ZSkgYXBwLmNvbG9yc1tmdC5pZF0gPSBjb2xvcl9zdXA7XG4gICAgICAgIGVsc2UgYXBwLmNvbG9yc1tmdC5pZF0gPSBjb2xvcl9pbmY7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9yYW5nZV9icnVzaCA9IFswLCBtZWFuX3JhbmsgKyAxXTtcbiAgICAgIHRoaXMuZGF0YS5maWx0ZXIoZCA9PiBkW3JhdGlvX3RvX3VzZV0gPiB0aGlzLm1lYW5fdmFsdWUpLmZvckVhY2goKGZ0KSA9PiB7XG4gICAgICAgIGlmIChmdFtyYXRpb190b191c2VdID4gcmVmX3ZhbHVlKSBhcHAuY29sb3JzW2Z0LmlkXSA9IGNvbG9yX2luZjtcbiAgICAgICAgZWxzZSBhcHAuY29sb3JzW2Z0LmlkXSA9IGNvbG9yX3N1cDtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfYm90dG9tJykuY2FsbChcbiAgICAgIHRoaXMuYnJ1c2hfYm90dG9tLm1vdmUsIHRoaXMueDIucmFuZ2UoKSk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgICAvLyBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX3RvcCcpLmNhbGwodGhpcy5icnVzaF90b3AubW92ZSwgY3VycmVudF9yYW5nZV9icnVzaC5tYXAoZCA9PiBkICogKHdpZHRoIC8gbmJGdCkpKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gIH1cblxuICBzZWxlY3RCZWxvd01lYW4oKSB7XG4gICAgY29uc3QgbWVhbl9yYW5rID0gZ2V0TWVhblJhbmsodGhpcy5tZWFuX3ZhbHVlLCB0aGlzLnJhdGlvX3RvX3VzZSk7XG4gICAgY29uc3QgcmF0aW9fdG9fdXNlID0gdGhpcy5yYXRpb190b191c2U7XG4gICAgY29uc3QgcmVmX3ZhbHVlID0gdGhpcy5yZWZfdmFsdWU7XG4gICAgYXBwLmNvbG9ycyA9IHt9O1xuICAgIGlmICghdGhpcy5zZXJpZV9pbnZlcnNlZCkge1xuICAgICAgY3VycmVudF9yYW5nZV9icnVzaCA9IFswLCBtZWFuX3JhbmtdO1xuICAgICAgdGhpcy5kYXRhLmZpbHRlcihkID0+IGRbcmF0aW9fdG9fdXNlXSA8IHRoaXMubWVhbl92YWx1ZSkuZm9yRWFjaCgoZnQpID0+IHtcbiAgICAgICAgaWYgKGZ0W3JhdGlvX3RvX3VzZV0gPCByZWZfdmFsdWUpIGFwcC5jb2xvcnNbZnQuaWRdID0gY29sb3JfaW5mO1xuICAgICAgICBlbHNlIGFwcC5jb2xvcnNbZnQuaWRdID0gY29sb3Jfc3VwO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbbWVhbl9yYW5rICsgMSwgdGhpcy5kYXRhLmxlbmd0aF07XG4gICAgICB0aGlzLmRhdGEuZmlsdGVyKGQgPT4gZFtyYXRpb190b191c2VdIDwgdGhpcy5tZWFuX3ZhbHVlKS5mb3JFYWNoKChmdCkgPT4ge1xuICAgICAgICBpZiAoZnRbcmF0aW9fdG9fdXNlXSA8IHJlZl92YWx1ZSkgYXBwLmNvbG9yc1tmdC5pZF0gPSBjb2xvcl9zdXA7XG4gICAgICAgIGVsc2UgYXBwLmNvbG9yc1tmdC5pZF0gPSBjb2xvcl9pbmY7XG4gICAgICB9KTtcbiAgICB9XG4gICAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX2JvdHRvbScpLmNhbGwoXG4gICAgICB0aGlzLmJydXNoX2JvdHRvbS5tb3ZlLCB0aGlzLngyLnJhbmdlKCkpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gICAgLy8gc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF90b3AnKS5jYWxsKHRoaXMuYnJ1c2hfdG9wLm1vdmUsIGN1cnJlbnRfcmFuZ2VfYnJ1c2gubWFwKGQgPT4gZCAqICh3aWR0aCAvIG5iRnQpKSk7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICB9XG5cbiAgaGFuZGxlX2JydXNoX21hcChldmVudCkge1xuICAgIGlmICghZXZlbnQgfHwgIWV2ZW50LnNlbGVjdGlvbikge1xuICAgICAgdGhpcy5sYXN0X21hcF9zZWxlY3Rpb24gPSB1bmRlZmluZWQ7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJhdGlvX3RvX3VzZSA9IHRoaXMucmF0aW9fdG9fdXNlO1xuICAgIGNvbnN0IHJlZl92YWx1ZSA9IHRoaXMucmVmX3ZhbHVlO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfdG9wJykuY2FsbChzZWxmLmJydXNoX3RvcC5tb3ZlLCBudWxsKTtcbiAgICBjb25zdCBbdG9wbGVmdCwgYm90dG9tcmlnaHRdID0gZXZlbnQuc2VsZWN0aW9uO1xuICAgIHRoaXMubGFzdF9tYXBfc2VsZWN0aW9uID0gW3RvcGxlZnQsIGJvdHRvbXJpZ2h0XTtcbiAgICAvLyBjb25zdCB0cmFuc2Zvcm0gPSBzdmdfbWFwLm5vZGUoKS5fX3pvb207XG4gICAgLy8gdG9wbGVmdFswXSA9ICh0b3BsZWZ0WzBdIC0gdHJhbnNmb3JtLngpIC8gdHJhbnNmb3JtLms7XG4gICAgLy8gdG9wbGVmdFsxXSA9ICh0b3BsZWZ0WzFdIC0gdHJhbnNmb3JtLnkpIC8gdHJhbnNmb3JtLms7XG4gICAgLy8gYm90dG9tcmlnaHRbMF0gPSAoYm90dG9tcmlnaHRbMF0gLSB0cmFuc2Zvcm0ueCkgLyB0cmFuc2Zvcm0uaztcbiAgICAvLyBib3R0b21yaWdodFsxXSA9IChib3R0b21yaWdodFsxXSAtIHRyYW5zZm9ybS55KSAvIHRyYW5zZm9ybS5rO1xuICAgIGNvbnN0IHJlY3QgPSBuZXcgUmVjdCh0b3BsZWZ0LCBib3R0b21yaWdodCk7XG4gICAgYXBwLmNvbG9ycyA9IHt9O1xuICAgIHNlbGYubWFwX2VsZW0udGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuYXR0cignZmlsbCcsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgIGNvbnN0IGlkID0gZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXTtcbiAgICAgICAgaWYgKGlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKSB7XG4gICAgICAgICAgYXBwLmNvbG9yc1tpZF0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgICAgICAgcmV0dXJuIGNvbG9yX2hpZ2hsaWdodDtcbiAgICAgICAgfSBlbHNlIGlmIChzZWxmLmN1cnJlbnRfaWRzLmluZGV4T2YoaWQpIDwgMCkge1xuICAgICAgICAgIHJldHVybiBjb2xvcl9kaXNhYmxlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX3B0cykge1xuICAgICAgICAgIHRoaXMuX3B0cyA9IHN2Z1BhdGhUb0Nvb3Jkcyh0aGlzLmdldEF0dHJpYnV0ZSgnZCcpLCBhcHAudHlwZV9wYXRoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwdHMgPSB0aGlzLl9wdHM7XG4gICAgICAgIGZvciAobGV0IGl4ID0gMCwgbmJfcHRzID0gcHRzLmxlbmd0aDsgaXggPCBuYl9wdHM7IGl4KyspIHtcbiAgICAgICAgICBpZiAocmVjdC5jb250YWlucyhwdHNbaXhdKSkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBkLnByb3BlcnRpZXNbcmF0aW9fdG9fdXNlXTtcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gY29tcCh2YWx1ZSwgcmVmX3ZhbHVlLCB0aGlzLnNlcmllX2ludmVyc2VkKTtcbiAgICAgICAgICAgIGFwcC5jb2xvcnNbaWRdID0gY29sb3I7XG4gICAgICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2xvcl9jb3VudHJpZXM7XG4gICAgICB9KTtcbiAgICBzZWxmLl9mb2N1cy5zZWxlY3RBbGwoJy5iYXInKVxuICAgICAgLnN0eWxlKCdmaWxsJywgZCA9PiBhcHAuY29sb3JzW2QuaWRdIHx8IGNvbG9yX2NvdW50cmllcyk7XG4gICAgY29uc3QgaWRzID0gT2JqZWN0LmtleXMoYXBwLmNvbG9ycyk7XG4gICAgY29uc3QgcmFua3MgPSBpZHMubWFwKGQgPT4gdGhpcy5jdXJyZW50X2lkcy5pbmRleE9mKGQuaWQpID4gLTEpLm1hcChkID0+IHRoaXMuY3VycmVudF9yYW5rc1tkXSk7XG4gICAgaWYgKHJhbmtzLmxlbmd0aCA+IDEpIHtcbiAgICAgIGNvbnN0IGMxID0gcmFua3NbMF0gLSAxO1xuICAgICAgY29uc3QgYzIgPSByYW5rc1tyYW5rcy5sZW5ndGggLSAxXTtcbiAgICAgIGlmIChjMSA8IGN1cnJlbnRfcmFuZ2VbMF0gfHwgYzIgPiBjdXJyZW50X3JhbmdlWzFdKSB7XG4gICAgICAgIGN1cnJlbnRfcmFuZ2UgPSBbXG4gICAgICAgICAgcmFua3NbMF0gLSAxLFxuICAgICAgICAgIHJhbmtzW3JhbmtzLmxlbmd0aCAtIDFdLFxuICAgICAgICBdO1xuICAgICAgICBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX2JvdHRvbScpLmNhbGwoXG4gICAgICAgICAgc2VsZi5icnVzaF9ib3R0b20ubW92ZSxcbiAgICAgICAgICBbY3VycmVudF9yYW5nZVswXSAqICh3aWR0aCAvIG5iRnQpLCBjdXJyZW50X3JhbmdlWzFdICogKHdpZHRoIC8gbmJGdCldKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9yYW5nZSA9IFswLCB0aGlzLmRhdGEubGVuZ3RoXTtcbiAgICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfYm90dG9tJykuY2FsbChcbiAgICAgICAgc2VsZi5icnVzaF9ib3R0b20ubW92ZSwgc2VsZi54LnJhbmdlKCkpO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZUNsaWNrTWFwKGQsIHBhcmVudCkge1xuICAgIGNvbnN0IGlkID0gZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXTtcbiAgICBpZiAodGhpcy5jdXJyZW50X2lkcy5pbmRleE9mKGlkKSA8IDAgfHwgaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pIHJldHVybjtcbiAgICBpZiAoYXBwLmNvbG9yc1tpZF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgYXBwLmNvbG9yc1tpZF0gPSB1bmRlZmluZWQ7XG4gICAgICBkMy5zZWxlY3QocGFyZW50KS5hdHRyKCdmaWxsJywgY29sb3JfY291bnRyaWVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgY29sb3IgPSBjb21wKFxuICAgICAgICBkLnByb3BlcnRpZXNbdGhpcy5yYXRpb190b191c2VdLFxuICAgICAgICB0aGlzLnJlZl92YWx1ZSxcbiAgICAgICAgdGhpcy5zZXJpZV9pbnZlcnNlZCk7XG4gICAgICBhcHAuY29sb3JzW2lkXSA9IGNvbG9yO1xuICAgICAgZDMuc2VsZWN0KHBhcmVudCkuYXR0cignZmlsbCcsIGNvbG9yKTtcbiAgICB9XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIHVwZGF0ZUNoYW5nZVJlZ2lvbigpIHtcbiAgICBpZiAoYXBwLmN1cnJlbnRfY29uZmlnLmZpbHRlcl9rZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5jaGFuZ2VTdHVkeVpvbmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZWZfdmFsdWUgPSB0aGlzLmRhdGEuZmluZChcbiAgICAgICAgZnQgPT4gZnQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pW3RoaXMucmF0aW9fdG9fdXNlXTtcbiAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICB0aGlzLnVwZGF0ZUNvbnRleHQoMCwgdGhpcy5kYXRhLmxlbmd0aCk7XG4gICAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgICB0aGlzLnVwZGF0ZVRhYmxlU3RhdHMoKTtcbiAgICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfYm90dG9tJykuY2FsbCh0aGlzLmJydXNoX2JvdHRvbS5tb3ZlLCB0aGlzLngucmFuZ2UoKSk7XG4gICAgICB0aGlzLm1hcF9lbGVtLnJlbW92ZVJlY3RCcnVzaCgpO1xuICAgICAgdGhpcy5tYXBfZWxlbS51cGRhdGVMZWdlbmQoKTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGVNZWFuVmFsdWUoKSB7XG4gICAgY29uc3QgeSA9IHRoaXMueTtcbiAgICBjb25zdCByYXRpb190b191c2UgPSB0aGlzLnJhdGlvX3RvX3VzZTtcbiAgICBjb25zdCBncnBfbWVhbiA9IHRoaXMuX2ZvY3VzLnNlbGVjdCgnLm1lYW4nKTtcbiAgICB0aGlzLm1lYW5fdmFsdWUgPSBnZXRNZWFuKHRoaXMuZGF0YS5tYXAoZCA9PiBkW3JhdGlvX3RvX3VzZV0pKTtcbiAgICBncnBfbWVhbi5zZWxlY3QoJ3RleHQnKVxuICAgICAgLmF0dHIoJ3knLCB5KHRoaXMubWVhbl92YWx1ZSkgKyAyMClcbiAgICAgIC50ZXh0KGBWYWxldXIgbW95ZW5uZSA6ICR7TWF0aC5yb3VuZCh0aGlzLm1lYW5fdmFsdWUgKiAxMCkgLyAxMH1gKTtcbiAgICBncnBfbWVhbi5zZWxlY3QoJy5tZWFuX2xpbmUnKVxuICAgICAgLmF0dHJzKHsgeTE6IHkodGhpcy5tZWFuX3ZhbHVlKSwgeTI6IHkodGhpcy5tZWFuX3ZhbHVlKSB9KTtcbiAgICBncnBfbWVhbi5zZWxlY3QoJy50cmFuc3BfbWVhbl9saW5lJylcbiAgICAgIC5hdHRycyh7IHkxOiB5KHRoaXMubWVhbl92YWx1ZSksIHkyOiB5KHRoaXMubWVhbl92YWx1ZSkgfSk7XG4gIH1cblxuICBjaGFuZ2VTdHVkeVpvbmUoKSB7XG4gICAgY29uc3QgcmF0aW9fdG9fdXNlID0gdGhpcy5yYXRpb190b191c2U7XG4gICAgdGhpcy5kYXRhID0gYXBwLmN1cnJlbnRfZGF0YS5maWx0ZXIoZnQgPT4gISFmdFtyYXRpb190b191c2VdKTtcblxuICAgIGlmICh0aGlzLnNlcmllX2ludmVyc2VkKSB7XG4gICAgICB0aGlzLmRhdGEuc29ydCgoYSwgYikgPT4gYltyYXRpb190b191c2VdIC0gYVtyYXRpb190b191c2VdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kYXRhLnNvcnQoKGEsIGIpID0+IGFbcmF0aW9fdG9fdXNlXSAtIGJbcmF0aW9fdG9fdXNlXSk7XG4gICAgfVxuICAgIHRoaXMuY3VycmVudF9pZHMgPSB0aGlzLmRhdGEubWFwKGQgPT4gZC5pZCk7XG4gICAgbmJGdCA9IHRoaXMuZGF0YS5sZW5ndGg7XG4gICAgdGhpcy5yZWZfdmFsdWUgPSB0aGlzLmRhdGEuZmluZChcbiAgICAgIGZ0ID0+IGZ0LmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVtyYXRpb190b191c2VdO1xuICAgIHRoaXMueC5kb21haW4odGhpcy5jdXJyZW50X2lkcyk7XG4gICAgLy8gY29uc3QgbWluX3NlcmllID0gZDMubWluKHRoaXMuZGF0YSwgZCA9PiBkW3JhdGlvX3RvX3VzZV0pO1xuICAgIGNvbnN0IG1heF9zZXJpZSA9IGQzLm1heCh0aGlzLmRhdGEsIGQgPT4gZFtyYXRpb190b191c2VdKTtcbiAgICAvLyBjb25zdCBvZmZzZXRfeSA9IChtYXhfc2VyaWUgLSBtaW5fc2VyaWUpIC8gMjA7XG4gICAgdGhpcy55LmRvbWFpbihbXG4gICAgICAvLyBtaW5fc2VyaWUgLSBvZmZzZXRfeSwgbWF4X3NlcmllLFxuICAgICAgMCwgbWF4X3NlcmllLFxuICAgIF0pO1xuICAgIHRoaXMueDIuZG9tYWluKHRoaXMueC5kb21haW4oKSk7XG4gICAgdGhpcy55Mi5kb21haW4odGhpcy55LmRvbWFpbigpKTtcbiAgICB0aGlzLnVwZGF0ZU1lYW5WYWx1ZSgpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gICAgdGhpcy51cGRhdGVDb250ZXh0KDAsIHRoaXMuZGF0YS5sZW5ndGgpO1xuXG4gICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF9ib3R0b20nKS5jYWxsKHRoaXMuYnJ1c2hfYm90dG9tLm1vdmUsIHRoaXMueDIucmFuZ2UoKSk7XG4gICAgdGhpcy5tYXBfZWxlbS5yZW1vdmVSZWN0QnJ1c2goKTtcbiAgICBhcHAuY29sb3JzID0ge307XG4gICAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICB0aGlzLnVwZGF0ZVRhYmxlU3RhdHMoKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gIH1cblxuICBhZGRWYXJpYWJsZShjb2RlX3ZhcmlhYmxlLCBuYW1lX3ZhcmlhYmxlKSB7XG4gICAgLy8gQWRkIHRoZSB2YXJpYWJsZSB0byB0aGUgaW5wdXQgZWxlbWVudCBhbGxvd2luZyB0byBjaG9vc2UgdmFyaWFibGVzOlxuICAgIHRoaXMuc2VsZWNfdmFyLmFwcGVuZCgnb3B0aW9uJylcbiAgICAgIC5hdHRyKCd2YWx1ZScsIGNvZGVfdmFyaWFibGUpXG4gICAgICAudGV4dChuYW1lX3ZhcmlhYmxlKTtcblxuICAgIC8vIEFuZCB1c2UgaXQgaW1tZWRpYXRseTpcbiAgICB0aGlzLnNlbGVjX3Zhci5ub2RlKCkudmFsdWUgPSBjb2RlX3ZhcmlhYmxlO1xuICAgIHRoaXMuc2VsZWNfdmFyLmRpc3BhdGNoKCdjaGFuZ2UnKTtcbiAgfVxuXG4gIHJlbW92ZVZhcmlhYmxlKGNvZGVfdmFyaWFibGUpIHtcbiAgICAvLyBBZGQgdGhlIHZhcmlhYmxlIHRvIHRoZSBpbnB1dCBlbGVtZW50IGFsbG93aW5nIHRvIGNob29zZSB2YXJpYWJsZXM6XG4gICAgdGhpcy5zZWxlY192YXIuc2VsZWN0KGBvcHRpb25bdmFsdWU9JHtjb2RlX3ZhcmlhYmxlfV1gKS5yZW1vdmUoKTtcbiAgICBpZiAodGhpcy5yYXRpb190b191c2UgPT09IGNvZGVfdmFyaWFibGUpIHtcbiAgICAgIHRoaXMuc2VsZWNfdmFyLm5vZGUoKS52YWx1ZSA9IHRoaXMuc2VsZWNfdmFyLnNlbGVjdCgnb3B0aW9uJykubm9kZSgpLnZhbHVlO1xuICAgICAgdGhpcy5zZWxlY192YXIuZGlzcGF0Y2goJ2NoYW5nZScpO1xuICAgIH1cbiAgfVxuXG4gIGNoYW5nZVZhcmlhYmxlKGNvZGVfdmFyaWFibGUpIHtcbiAgICB0aGlzLnJhdGlvX3RvX3VzZSA9IGNvZGVfdmFyaWFibGU7XG4gIH1cblxuICByZW1vdmUoKSB7XG4gICAgdGhpcy5fZm9jdXMucmVtb3ZlKCk7XG4gICAgdGhpcy5jb250ZXh0LnJlbW92ZSgpO1xuICAgIHRoaXMuc2VsZWNfdmFyLnJlbW92ZSgpO1xuICAgIHRoaXMudGFibGVfc3RhdHMucmVtb3ZlKCk7XG4gICAgdGhpcy50YWJsZV9zdGF0cyA9IG51bGw7XG4gICAgdGhpcy5tYXBfZWxlbS51bmJpbmRCcnVzaENsaWNrKCk7XG4gICAgdGhpcy5tYXBfZWxlbSA9IG51bGw7XG4gICAgc3ZnX2Jhci5odG1sKCcnKTtcbiAgfVxuXG4gIGJpbmRNYXAobWFwX2VsZW0pIHtcbiAgICB0aGlzLm1hcF9lbGVtID0gbWFwX2VsZW07XG4gICAgdGhpcy5tYXBfZWxlbS5yZXNldENvbG9ycyh0aGlzLmN1cnJlbnRfaWRzKTtcbiAgfVxuXG4gIHVwZGF0ZVRhYmxlU3RhdHMoKSB7XG4gICAgdGhpcy50YWJsZV9zdGF0cy5yZW1vdmVBbGwoKTtcbiAgICB0aGlzLnRhYmxlX3N0YXRzLmFkZEZlYXR1cmUodGhpcy5wcmVwYXJlVGFibGVTdGF0KCkpO1xuICB9XG5cbiAgcHJlcGFyZVRhYmxlU3RhdCgpIHtcbiAgICBjb25zdCB2YWx1ZXMgPSB0aGlzLmRhdGEubWFwKGQgPT4gZFt0aGlzLnJhdGlvX3RvX3VzZV0pO1xuICAgIHJldHVybiB7XG4gICAgICBNaW46IGQzLm1pbih2YWx1ZXMpLFxuICAgICAgTWF4OiBkMy5tYXgodmFsdWVzKSxcbiAgICAgIE1veWVubmU6IGdldE1lYW4odmFsdWVzKSxcbiAgICAgIGlkOiB0aGlzLnJhdGlvX3RvX3VzZSxcbiAgICAgIFZhcmlhYmxlOiB0aGlzLnJhdGlvX3RvX3VzZSxcbiAgICAgICdNYSByw6lnaW9uJzogdGhpcy5yZWZfdmFsdWUsXG4gICAgfTtcbiAgfVxuXG4gIG1ha2VUYWJsZVN0YXQoKSB7XG4gICAgY29uc3QgZmVhdHVyZSA9IHRoaXMucHJlcGFyZVRhYmxlU3RhdCgpO1xuICAgIHRoaXMudGFibGVfc3RhdHMgPSBuZXcgVGFibGVSZXN1bWVTdGF0KFtmZWF0dXJlXSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IGNvbXAsIG1hdGhfcm91bmQsIG1hdGhfYWJzLCBSZWN0LCBQcm9wU2l6ZXIsIHByZXBhcmVUb29sdGlwLCBzdmdQYXRoVG9Db29yZHMsIGdldE1lYW4gfSBmcm9tICcuLy4uL2hlbHBlcnMnO1xuaW1wb3J0IHsgY29sb3JfZGlzYWJsZWQsIGNvbG9yX2NvdW50cmllcywgY29sb3Jfc3VwLCBjb2xvcl9pbmYsIGNvbG9yX2hpZ2hsaWdodCB9IGZyb20gJy4vLi4vb3B0aW9ucyc7XG5pbXBvcnQgeyBjYWxjUG9wQ29tcGxldHVkZVN1YnNldCB9IGZyb20gJy4vLi4vcHJlcGFyZV9kYXRhJztcbmltcG9ydCB7IHN2Z19tYXAgfSBmcm9tICcuLy4uL21hcCc7XG5pbXBvcnQgeyBhcHAsIHZhcmlhYmxlc19pbmZvLCByZXNldENvbG9ycyB9IGZyb20gJy4vLi4vLi4vbWFpbic7XG5pbXBvcnQgVGFibGVSZXN1bWVTdGF0IGZyb20gJy4vLi4vdGFibGVSZXN1bWVTdGF0JztcblxuY29uc3Qgc3ZnX2JhciA9IGQzLnNlbGVjdCgnI3N2Z19iYXInKTtcbmNvbnN0IG1hcmdpbiA9IHsgdG9wOiAyMCwgcmlnaHQ6IDIwLCBib3R0b206IDQwLCBsZWZ0OiAzMCB9O1xuXG5jb25zdCB3aWR0aCA9ICtzdmdfYmFyLmF0dHIoJ3dpZHRoJykgLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodCxcbiAgaGVpZ2h0ID0gK3N2Z19iYXIuYXR0cignaGVpZ2h0JykgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcblxuZXhwb3J0IGNsYXNzIEJ1YmJsZUNoYXJ0MSB7XG4gIGNvbnN0cnVjdG9yKHJlZl9kYXRhKSB7XG4gICAgLy8gU2V0IHRoZSBtaW5pbXVtIG51bWJlciBvZiB2YXJpYWJsZXMgdG8ga2VlcCBzZWxlY3RlZCBmb3IgdGhpcyBraW5kIG9mIGNoYXJ0OlxuICAgIGFwcC5jdXJyZW50X2NvbmZpZy5uYl92YXIgPSAxO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGF2YWlsYWJsZV9yYXRpb3MgPSBhcHAuY3VycmVudF9jb25maWcucmF0aW87XG4gICAgY29uc3QgYXZhaWxhYmxlX251bXMgPSBhcHAuY3VycmVudF9jb25maWcubnVtO1xuICAgIGNvbnN0IHJhdGlvX3RvX3VzZSA9IGF2YWlsYWJsZV9yYXRpb3NbMF07XG4gICAgY29uc3Qgc3RvY2tfdG9fdXNlID0gYXZhaWxhYmxlX251bXNbMF07XG4gICAgdGhpcy5yYXRpb190b191c2UgPSByYXRpb190b191c2U7XG4gICAgdGhpcy5zdG9ja190b191c2UgPSBzdG9ja190b191c2U7XG4gICAgdGhpcy5teV9yZWdpb25fdmFsdWUgPSByZWZfZGF0YS5maW5kKGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbilbcmF0aW9fdG9fdXNlXTtcbiAgICB0aGlzLmRhdGEgPSByZWZfZGF0YS5maWx0ZXIoZnQgPT4gISFmdFtyYXRpb190b191c2VdKS5zbGljZSgpO1xuICAgIHRoaXMuZGF0YVxuICAgICAgLmZvckVhY2goKGZ0KSA9PiB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICBmdC5kaXN0ID0gbWF0aF9hYnMoK2Z0W3JhdGlvX3RvX3VzZV0gLSB0aGlzLm15X3JlZ2lvbl92YWx1ZSk7XG4gICAgICB9KTtcbiAgICB0aGlzLmRhdGEuc29ydCgoYSwgYikgPT4gYi5kaXN0IC0gYS5kaXN0KTtcbiAgICB0aGlzLmN1cnJlbnRfaWRzID0gdGhpcy5kYXRhLm1hcChkID0+IGQuaWQpO1xuICAgIHJlc2V0Q29sb3JzKCk7XG4gICAgdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uID0gW107XG4gICAgdGhpcy5zZXJpZV9pbnZlcnNlZCA9IGZhbHNlO1xuICAgIGNvbnN0IGRyYXdfZ3JvdXAgPSBzdmdfYmFyXG4gICAgICAuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7bWFyZ2luLmxlZnR9LCAke21hcmdpbi50b3B9KWApO1xuICAgIGRyYXdfZ3JvdXAuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAnYXhpcyBheGlzLS14JywgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKDAsICR7aGVpZ2h0IC8gMn0pYCB9KTtcbiAgICB0aGlzLmRyYXdfZ3JvdXAgPSBkcmF3X2dyb3VwO1xuXG4gICAgLy8gUHJlcGFyZSB0aGUgdG9vbHRpcCBkaXNwbGF5ZWQgb24gbW91c2VvdmVyOlxuICAgIHByZXBhcmVUb29sdGlwKHN2Z19iYXIpO1xuXG4gICAgLy8gQ29tcHV0ZSB0aGUgXCJjb21wbMOpdHVkZVwiIHZhbHVlIGZvciB0aGlzIHJhdGlvOlxuICAgIHRoaXMuY29tcGxldHVkZV92YWx1ZSA9IGNhbGNQb3BDb21wbGV0dWRlU3Vic2V0KGFwcCwgW3RoaXMucmF0aW9fdG9fdXNlXSk7XG5cbiAgICAvLyBDcmVhdGUgdGhlIFwiY29tcGzDqXR1ZGVcIiB0ZXh0OlxuICAgIHRoaXMuY29tcGxldHVkZSA9IHN2Z19iYXIuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRycyh7IGlkOiAnY2hhcnRfY29tcGxldHVkZScsIHg6IDYwLCB5OiA0MCB9KVxuICAgICAgLnN0eWxlcyh7ICdmb250LWZhbWlseSc6ICdcXCdTaWduaWthXFwnLCBzYW5zLXNlcmlmJyB9KVxuICAgICAgLnRleHQoYENvbXBsw6l0dWRlIDogJHt0aGlzLmNvbXBsZXR1ZGVfdmFsdWV9JWApO1xuXG4gICAgLy8gQ3JlYXRlIHRoZSBidXR0b24gYWxsb3dpbmcgdG8gY2hvb3NlXG4gICAgLy8gaWYgdGhlIGNvbG9ycyBhcmUgaW52ZXJzZWRcbiAgICAvLyAobGlrZSBncmVlbi9yZWQgZm9yIHN1cGVyaW9yL2luZmVyaW9yIHJlZ2lvbnMpXG4gICAgc3ZnX2Jhci5hcHBlbmQoJ2ltYWdlJylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIHg6IHdpZHRoICsgbWFyZ2luLmxlZnQgKyA1LFxuICAgICAgICB5OiAyMzIuNSxcbiAgICAgICAgd2lkdGg6IDE1LFxuICAgICAgICBoZWlnaHQ6IDE1LFxuICAgICAgICAneGxpbms6aHJlZic6ICdpbWcvcmV2ZXJzZV9wbHVzLnBuZycsXG4gICAgICAgIGlkOiAnaW1nX3JldmVyc2UnLFxuICAgICAgfSlcbiAgICAgIC5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2VyaWVfaW52ZXJzZWQgPSAhdGhpcy5zZXJpZV9pbnZlcnNlZDtcbiAgICAgICAgdGhpcy5hcHBseVNlbGVjdGlvbih0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24ubGVuZ3RoKTtcbiAgICAgIH0pO1xuXG5cbiAgICAvLyBDcmVhdGUgdGhlIHNlY3Rpb24gY29udGFpbmluZyB0aGUgaW5wdXQgZWxlbWVudCBhbGxvd2luZyB0byBjaG9zZVxuICAgIC8vIGhvdyBtYW55IFwiY2xvc2VcIiByZWdpb25zIHdlIHdhbnQgdG8gaGlnaGxpZ2h0LlxuICAgIGNvbnN0IHNlbGVjdGlvbl9jbG9zZSA9IGQzLnNlbGVjdChzdmdfYmFyLm5vZGUoKS5wYXJlbnRFbGVtZW50KVxuICAgICAgLmFwcGVuZCgnZGl2JylcbiAgICAgIC5hdHRyKCdpZCcsICdtZW51X3NlbGVjdGlvbicpXG4gICAgICAuc3R5bGVzKHsgdG9wOiAnLTEwMHB4JywgJ21hcmdpbi1sZWZ0JzogJzMwcHgnLCBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9KVxuICAgICAgLmFwcGVuZCgncCcpO1xuXG4gICAgc2VsZWN0aW9uX2Nsb3NlLmFwcGVuZCgnc3BhbicpXG4gICAgICAucHJvcGVydHkoJ3ZhbHVlJywgJ2Nsb3NlJylcbiAgICAgIC5hdHRycyh7IHZhbHVlOiAnY2xvc2UnLCBjbGFzczogJ3R5cGVfc2VsZWN0aW9uIHNxdWFyZSBjaGVja2VkJyB9KTtcbiAgICBzZWxlY3Rpb25fY2xvc2UuYXBwZW5kKCdzcGFuJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAnbGFiZWxfY2hrJyB9KVxuICAgICAgLmh0bWwoJ0xlcycpO1xuICAgIHNlbGVjdGlvbl9jbG9zZS5hcHBlbmQoJ2lucHV0JylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAnbmJfc2VsZWN0JywgdHlwZTogJ251bWJlcicgfSlcbiAgICAgIC5wcm9wZXJ0eSgndmFsdWUnLCA1KTtcbiAgICBzZWxlY3Rpb25fY2xvc2UuYXBwZW5kKCdzcGFuJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAnbGFiZWxfY2hrJyB9KVxuICAgICAgLmh0bWwoJ3LDqWdpb25zIGxlcyBwbHVzIHByb2NoZXMnKTtcblxuICAgIHRoaXMuYmluZE1lbnUoKTtcblxuICAgIC8vXG4gICAgY29uc3QgaGVhZGVyX2Jhcl9zZWN0aW9uID0gZDMuc2VsZWN0KCcjaGVhZGVyX2NoYXJ0Jyk7XG5cbiAgICB0aGlzLnNlbGVjX3ZhciA9IGhlYWRlcl9iYXJfc2VjdGlvblxuICAgICAgLmluc2VydCgnc2VsZWN0JywgJyNpbWdfdGFibGUnKVxuICAgICAgLmF0dHJzKHsgY2xhc3M6ICd0aXRsZV92YXJpYWJsZScgfSlcbiAgICAgIC5zdHlsZXMoe1xuICAgICAgICAnZm9udC1mYW1pbHknOiAnXFwnU2lnbmlrYVxcJywgc2Fucy1zZXJpZicsXG4gICAgICAgICdmb250LXdlaWdodCc6ICc4MDAnLFxuICAgICAgICAnZm9udC1zaXplJzogJzE0cHgnLFxuICAgICAgICAnbWFyZ2luLXRvcCc6ICcxMnB4JyxcbiAgICAgICAgJ21hcmdpbi1sZWZ0JzogJzQwcHgnLFxuICAgICAgICBmbG9hdDogJ2xlZnQnLFxuICAgICAgfSk7XG5cbiAgICBmb3IgKGxldCBpID0gMCwgbGVuX2kgPSBhdmFpbGFibGVfcmF0aW9zLmxlbmd0aDsgaSA8IGxlbl9pOyBpKyspIHtcbiAgICAgIHRoaXMuc2VsZWNfdmFyLmFwcGVuZCgnb3B0aW9uJylcbiAgICAgICAgLmF0dHIoJ3ZhbHVlJywgYXZhaWxhYmxlX3JhdGlvc1tpXSlcbiAgICAgICAgLnRleHQoYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvX3ByZXR0eV9uYW1lW2ldKTtcbiAgICB9XG5cbiAgICB0aGlzLnNlbGVjX3Zhci5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgY29kZV92YXJpYWJsZSA9IHRoaXMudmFsdWU7XG4gICAgICBzZWxmLmNoYW5nZVZhcmlhYmxlKGNvZGVfdmFyaWFibGUpO1xuICAgICAgc2VsZi5jaGFuZ2VTdHVkeVpvbmUoKTtcbiAgICAgIHNlbGYudXBkYXRlQ29tcGxldHVkZSgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5tYWtlVGFibGVTdGF0KCk7XG4gIH1cblxuICBhcHBseVNlbGVjdGlvbihuYikge1xuICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICBpZiAobmIgPiAwKSB7XG4gICAgICBjb25zdCByYXRpb190b191c2UgPSB0aGlzLnJhdGlvX3RvX3VzZTtcblxuICAgICAgdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uID0gdGhpcy5kYXRhLm1hcChkID0+ICh7XG4gICAgICAgIGRpc3Q6IGQuZGlzdCxcbiAgICAgICAgcmF0aW86ICtkW3JhdGlvX3RvX3VzZV0sXG4gICAgICAgIGlkOiBkLmlkLFxuICAgICAgfSkpO1xuXG4gICAgICB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24uc29ydCgoYSwgYikgPT4gYS5kaXN0IC0gYi5kaXN0KTtcbiAgICAgIHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbiA9IHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbi5zbGljZSgxLCBuYiArIDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24gPSBbXTtcbiAgICB9XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZGF0YSA9IHNlbGYuZGF0YTtcbiAgICBjb25zdCBoaWdobGlnaHRfc2VsZWN0aW9uID0gc2VsZi5oaWdobGlnaHRfc2VsZWN0aW9uO1xuICAgIGNvbnN0IG15X3JlZ2lvbl92YWx1ZSA9IHNlbGYubXlfcmVnaW9uX3ZhbHVlO1xuICAgIGNvbnN0IHJhdGlvX3RvX3VzZSA9IHNlbGYucmF0aW9fdG9fdXNlO1xuICAgIGNvbnN0IHN0b2NrX3RvX3VzZSA9IHNlbGYuc3RvY2tfdG9fdXNlO1xuXG4gICAgbGV0IF9taW47XG4gICAgbGV0IF9tYXg7XG4gICAgaWYgKGhpZ2hsaWdodF9zZWxlY3Rpb24ubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgZGlzdF9taW4gPSBtYXRoX2FicyhteV9yZWdpb25fdmFsdWUgLSArZDMubWluKGhpZ2hsaWdodF9zZWxlY3Rpb24sIGQgPT4gZC5yYXRpbykpO1xuICAgICAgY29uc3QgZGlzdF9tYXggPSBtYXRoX2FicygrZDMubWF4KGhpZ2hsaWdodF9zZWxlY3Rpb24sIGQgPT4gZC5yYXRpbykgLSBteV9yZWdpb25fdmFsdWUpO1xuICAgICAgY29uc3QgZGlzdF9heGlzID0gTWF0aC5tYXgoZGlzdF9taW4sIGRpc3RfbWF4KTtcbiAgICAgIGNvbnN0IG1hcmdpbl9taW5fbWF4ID0gbWF0aF9yb3VuZChkaXN0X2F4aXMpIC8gODtcbiAgICAgIF9taW4gPSBteV9yZWdpb25fdmFsdWUgLSBkaXN0X2F4aXMgLSBtYXJnaW5fbWluX21heDtcbiAgICAgIF9tYXggPSBteV9yZWdpb25fdmFsdWUgKyBkaXN0X2F4aXMgKyBtYXJnaW5fbWluX21heDtcbiAgICAgIGlmIChfbWluID4gX21heCkgeyBjb25zb2xlLmxvZygnYScpOyBbX21pbiwgX21heF0gPSBbX21heCwgX21pbl07IH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZGlzdF9taW4gPSBtYXRoX2FicyhteV9yZWdpb25fdmFsdWUgLSBkMy5taW4oZGF0YSwgZCA9PiBkW3JhdGlvX3RvX3VzZV0pKTtcbiAgICAgIGNvbnN0IGRpc3RfbWF4ID0gbWF0aF9hYnMoZDMubWF4KGRhdGEsIGQgPT4gZFtyYXRpb190b191c2VdKSAtIG15X3JlZ2lvbl92YWx1ZSk7XG4gICAgICBjb25zdCBkaXN0X2F4aXMgPSBNYXRoLm1heChkaXN0X21pbiwgZGlzdF9tYXgpO1xuICAgICAgY29uc3QgbWFyZ2luX21pbl9tYXggPSBtYXRoX3JvdW5kKGRpc3RfYXhpcykgLyA4O1xuICAgICAgX21pbiA9IG15X3JlZ2lvbl92YWx1ZSAtIGRpc3RfYXhpcyAtIG1hcmdpbl9taW5fbWF4O1xuICAgICAgX21heCA9IG15X3JlZ2lvbl92YWx1ZSArIGRpc3RfYXhpcyArIG1hcmdpbl9taW5fbWF4O1xuICAgIH1cblxuICAgIHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbi5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgICBhcHAuY29sb3JzW2VsZW0uaWRdID0gY29tcChlbGVtLnJhdGlvLCBteV9yZWdpb25fdmFsdWUsIHRoaXMuc2VyaWVfaW52ZXJzZWQpO1xuICAgIH0pO1xuXG4gICAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICBjb25zdCBwcm9wX3NpemVyID0gbmV3IFByb3BTaXplcihkMy5tYXgoZGF0YSwgZCA9PiBkW3N0b2NrX3RvX3VzZV0pLCAzMCk7XG4gICAgY29uc3QgeFNjYWxlID0gZDMuc2NhbGVMaW5lYXIoKVxuICAgICAgLmRvbWFpbihbX21pbiwgX21heF0pXG4gICAgICAucmFuZ2UoWzAsIHdpZHRoXSk7XG5cbiAgICB0aGlzLmRyYXdfZ3JvdXAuc2VsZWN0KCdnLmF4aXMtLXgnKVxuICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgLmR1cmF0aW9uKDIyNSlcbiAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeFNjYWxlKSk7XG5cbiAgICBjb25zdCBidWJibGVzID0gdGhpcy5kcmF3X2dyb3VwLnNlbGVjdEFsbCgnLmJ1YmJsZScpXG4gICAgICAuZGF0YShkYXRhLCBkID0+IGQuaWQpO1xuXG4gICAgYnViYmxlc1xuICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgLmR1cmF0aW9uKDIyNSlcbiAgICAgIC5hdHRycygoZCkgPT4ge1xuICAgICAgICBsZXQgeF92YWx1ZSA9IHhTY2FsZShkW3JhdGlvX3RvX3VzZV0pO1xuICAgICAgICBpZiAoeF92YWx1ZSA+IHdpZHRoKSB4X3ZhbHVlID0gd2lkdGggKyAyMDA7XG4gICAgICAgIGVsc2UgaWYgKHhfdmFsdWUgPCAwKSB4X3ZhbHVlID0gLTIwMDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBjeDogeF92YWx1ZSxcbiAgICAgICAgICBjeTogaGVpZ2h0IC8gMixcbiAgICAgICAgICByOiBwcm9wX3NpemVyLnNjYWxlKGRbc3RvY2tfdG9fdXNlXSksXG4gICAgICAgIH07XG4gICAgICB9KVxuICAgICAgLnN0eWxlcyhkID0+ICh7XG4gICAgICAgIGZpbGw6IGFwcC5jb2xvcnNbZC5pZF0gfHwgY29sb3JfY291bnRyaWVzLFxuICAgICAgICAnZmlsbC1vcGFjaXR5JzogZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbiA/IDEgOiBhcHAuY29sb3JzW2QuaWRdID8gMC43IDogMC4zLFxuICAgICAgICBzdHJva2U6ICdkYXJrZ3JheScsXG4gICAgICAgICdzdHJva2Utd2lkdGgnOiAwLjc1LFxuICAgICAgICAnc3Ryb2tlLW9wYWNpdHknOiAwLjc1LFxuICAgICAgfSkpO1xuXG4gICAgYnViYmxlc1xuICAgICAgLmVudGVyKClcbiAgICAgIC5pbnNlcnQoJ2NpcmNsZScpXG4gICAgICAuc3R5bGVzKGQgPT4gKHtcbiAgICAgICAgZmlsbDogYXBwLmNvbG9yc1tkLmlkXSB8fCBjb2xvcl9jb3VudHJpZXMsXG4gICAgICAgICdmaWxsLW9wYWNpdHknOiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uID8gMSA6IGFwcC5jb2xvcnNbZC5pZF0gPyAwLjcgOiAwLjMsXG4gICAgICAgIHN0cm9rZTogJ2RhcmtncmF5JyxcbiAgICAgICAgJ3N0cm9rZS13aWR0aCc6IDAuNzUsXG4gICAgICAgICdzdHJva2Utb3BhY2l0eSc6IDAuNzUsXG4gICAgICB9KSlcbiAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgIC5kdXJhdGlvbigyMjUpXG4gICAgICAuYXR0cnMoKGQpID0+IHtcbiAgICAgICAgbGV0IHhfdmFsdWUgPSB4U2NhbGUoZFtyYXRpb190b191c2VdKTtcbiAgICAgICAgaWYgKHhfdmFsdWUgPiB3aWR0aCkgeF92YWx1ZSA9IHdpZHRoICsgMjAwO1xuICAgICAgICBlbHNlIGlmICh4X3ZhbHVlIDwgMCkgeF92YWx1ZSA9IC0yMDA7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgY2xhc3M6ICdidWJibGUnLFxuICAgICAgICAgIGN4OiB4X3ZhbHVlLFxuICAgICAgICAgIGN5OiBoZWlnaHQgLyAyLFxuICAgICAgICAgIHI6IHByb3Bfc2l6ZXIuc2NhbGUoZFtzdG9ja190b191c2VdKSxcbiAgICAgICAgfTtcbiAgICAgIH0pXG4gICAgICAub24oJ2VuZCcsICgpID0+IHtcbiAgICAgICAgdGhpcy5kcmF3X2dyb3VwLnNlbGVjdEFsbCgnLmJ1YmJsZScpXG4gICAgICAgICAgLm9uKCdtb3VzZW92ZXInLCAoKSA9PiB7XG4gICAgICAgICAgICBzdmdfYmFyLnNlbGVjdCgnLnRvb2x0aXAnKS5zdHlsZSgnZGlzcGxheScsIG51bGwpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLm9uKCdtb3VzZW91dCcsICgpID0+IHtcbiAgICAgICAgICAgIHN2Z19iYXIuc2VsZWN0KCcudG9vbHRpcCcpLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5vbignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvb2x0aXAgPSBzdmdfYmFyLnNlbGVjdCgnLnRvb2x0aXAnKTtcbiAgICAgICAgICAgIGNvbnN0IF9yYXRpb190b191c2UgPSBzZWxmLnJhdGlvX3RvX3VzZTtcbiAgICAgICAgICAgIGNvbnN0IF9zdG9ja190b191c2UgPSBzZWxmLnN0b2NrX3RvX3VzZTtcbiAgICAgICAgICAgIHRvb2x0aXAuc2VsZWN0KCdyZWN0JykuYXR0cnMoeyB3aWR0aDogMCwgaGVpZ2h0OiAwIH0pO1xuICAgICAgICAgICAgdG9vbHRpcFxuICAgICAgICAgICAgICAuc2VsZWN0KCd0ZXh0LmlkX2ZlYXR1cmUnKVxuICAgICAgICAgICAgICAudGV4dChgJHtkLmlkfWApO1xuICAgICAgICAgICAgdG9vbHRpcC5zZWxlY3QoJ3RleHQudmFsdWVfZmVhdHVyZTEnKVxuICAgICAgICAgICAgICAudGV4dChgUmF0aW86ICR7TWF0aC5yb3VuZChkW19yYXRpb190b191c2VdICogMTApIC8gMTB9YCk7XG4gICAgICAgICAgICB0b29sdGlwLnNlbGVjdCgndGV4dC52YWx1ZV9mZWF0dXJlMicpXG4gICAgICAgICAgICAgIC50ZXh0KGBTdG9jazogJHtNYXRoLnJvdW5kKGRbX3N0b2NrX3RvX3VzZV0gKiAxMCkgLyAxMH1gKTtcbiAgICAgICAgICAgIGNvbnN0IGIgPSB0b29sdGlwLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIHRvb2x0aXAuc2VsZWN0KCdyZWN0JylcbiAgICAgICAgICAgICAgLmF0dHJzKHtcbiAgICAgICAgICAgICAgICB3aWR0aDogYi53aWR0aCArIDIwLFxuICAgICAgICAgICAgICAgIGhlaWdodDogYi5oZWlnaHQgKyA3LjUsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdG9vbHRpcFxuICAgICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke1tkMy5tb3VzZSh0aGlzKVswXSAtIDUsIGQzLm1vdXNlKHRoaXMpWzFdIC0gNDVdfSlgKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIGJ1YmJsZXMuZXhpdCgpLnRyYW5zaXRpb24oKS5kdXJhdGlvbigyMjUpLnJlbW92ZSgpO1xuICB9XG5cbiAgdXBkYXRlQ29tcGxldHVkZSgpIHtcbiAgICB0aGlzLmNvbXBsZXR1ZGVfdmFsdWUgPSBjYWxjUG9wQ29tcGxldHVkZVN1YnNldChhcHAsIFt0aGlzLnJhdGlvX3RvX3VzZV0pO1xuXG4gICAgdGhpcy5jb21wbGV0dWRlXG4gICAgICAudGV4dChgQ29tcGzDqXR1ZGUgOiAke3RoaXMuY29tcGxldHVkZV92YWx1ZX0lYCk7XG4gIH1cblxuICB1cGRhdGVNYXBSZWdpbygpIHtcbiAgICBpZiAoIXRoaXMubWFwX2VsZW0pIHJldHVybjtcbiAgICB0aGlzLm1hcF9lbGVtLnRhcmdldF9sYXllci5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCBkID0+ICh0aGlzLmN1cnJlbnRfaWRzLmluZGV4T2YoZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXSkgPiAtMVxuICAgICAgICA/IChhcHAuY29sb3JzW2QucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV1dIHx8IGNvbG9yX2NvdW50cmllcylcbiAgICAgICAgOiBjb2xvcl9kaXNhYmxlZCkpO1xuICB9XG5cbiAgaGFuZGxlQ2xpY2tNYXAoZCwgcGFyZW50KSB7XG4gICAgY29uc3QgaWQgPSBkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dO1xuICAgIGlmICh0aGlzLmN1cnJlbnRfaWRzLmluZGV4T2YoaWQpIDwgMCB8fCBpZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbikgcmV0dXJuO1xuICAgIGlmIChhcHAuY29sb3JzW2lkXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBSZW1vdmUgdGhlIGNsaWNrZWQgZmVhdHVyZSBmcm9tIHRoZSBjb2xvcmVkIHNlbGVjdGlvbiBvbiB0aGUgY2hhcnQ6XG4gICAgICBjb25zdCBpZF90b19yZW1vdmUgPSB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb25cbiAgICAgICAgLm1hcCgoZnQsIGkpID0+IChmdC5pZCA9PT0gaWQgPyBpIDogbnVsbCkpLmZpbHRlcihmdCA9PiBmdClbMF07XG4gICAgICB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24uc3BsaWNlKGlkX3RvX3JlbW92ZSwgMSk7XG4gICAgICAvLyBDaGFuZ2UgaXRzIGNvbG9yIGluIHRoZSBnbG9iYWwgY29sb3JzIG9iamVjdDpcbiAgICAgIGFwcC5jb2xvcnNbaWRdID0gdW5kZWZpbmVkO1xuICAgICAgLy8gQ2hhbmdlIHRoZSBjb2xvciBvbiB0aGUgbWFwOlxuICAgICAgZDMuc2VsZWN0KHBhcmVudCkuYXR0cignZmlsbCcsIGNvbG9yX2NvdW50cmllcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gK2QucHJvcGVydGllc1t0aGlzLnJhdGlvX3RvX3VzZV07XG4gICAgICBjb25zdCBjb2xvciA9IGNvbXAodmFsdWUsIHRoaXMubXlfcmVnaW9uX3ZhbHVlLCB0aGlzLnNlcmllX2ludmVyc2VkKTtcbiAgICAgIC8vIGFwcC5jb2xvcnNbaWRdID0gY29sb3I7XG4gICAgICAvLyBDaGFuZ2UgdGhlIGNvbG9yIG9uIHRoZSBtYXA6XG4gICAgICBkMy5zZWxlY3QocGFyZW50KS5hdHRyKCdmaWxsJywgY29sb3IpO1xuICAgICAgLy8gQWRkIHRoZSBjbGlja2VkIGZlYXR1cmUgb24gdGhlIGNvbG9yZWQgc2VsZWN0aW9uIG9uIHRoZSBjaGFydDpcbiAgICAgIHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbi5wdXNoKHtcbiAgICAgICAgaWQsXG4gICAgICAgIHJhdGlvOiB2YWx1ZSxcbiAgICAgICAgZGlzdDogbWF0aF9hYnModmFsdWUgLSB0aGlzLm15X3JlZ2lvbl92YWx1ZSksXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uLnNvcnQoKGEsIGIpID0+IGEuZGlzdCAtIGIuZGlzdCk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIHVwZGF0ZUNoYW5nZVJlZ2lvbigpIHtcbiAgICBpZiAoYXBwLmN1cnJlbnRfY29uZmlnLmZpbHRlcl9rZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5jaGFuZ2VTdHVkeVpvbmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tYXBfZWxlbS51cGRhdGVMZWdlbmQoKTtcbiAgICAgIHRoaXMubXlfcmVnaW9uX3ZhbHVlID0gdGhpcy5kYXRhLmZpbmQoXG4gICAgICAgIGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbilbdGhpcy5yYXRpb190b191c2VdO1xuICAgICAgdGhpcy5kYXRhXG4gICAgICAgIC5mb3JFYWNoKChmdCkgPT4ge1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICAgIGZ0LmRpc3QgPSBtYXRoX2FicygrZnRbdGhpcy5yYXRpb190b191c2VdIC0gdGhpcy5teV9yZWdpb25fdmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgIHRoaXMudXBkYXRlVGFibGVTdGF0cygpO1xuICAgICAgdGhpcy5hcHBseVNlbGVjdGlvbih0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24ubGVuZ3RoKTtcbiAgICB9XG4gIH1cblxuICBjaGFuZ2VTdHVkeVpvbmUoKSB7XG4gICAgdGhpcy5tYXBfZWxlbS51cGRhdGVMZWdlbmQoKTtcbiAgICB0aGlzLm15X3JlZ2lvbl92YWx1ZSA9IGFwcC5jdXJyZW50X2RhdGEuZmluZChcbiAgICAgIGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbilbdGhpcy5yYXRpb190b191c2VdO1xuICAgIHRoaXMuZGF0YSA9IGFwcC5jdXJyZW50X2RhdGEuZmlsdGVyKGZ0ID0+ICEhZnRbdGhpcy5yYXRpb190b191c2VdKS5zbGljZSgpO1xuICAgIHRoaXMuZGF0YVxuICAgICAgLmZvckVhY2goKGZ0KSA9PiB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICBmdC5kaXN0ID0gbWF0aF9hYnMoK2Z0W3RoaXMucmF0aW9fdG9fdXNlXSAtIHRoaXMubXlfcmVnaW9uX3ZhbHVlKTtcbiAgICAgIH0pO1xuICAgIHRoaXMuZGF0YS5zb3J0KChhLCBiKSA9PiBiLmRpc3QgLSBhLmRpc3QpO1xuICAgIHRoaXMuY3VycmVudF9pZHMgPSB0aGlzLmRhdGEubWFwKGQgPT4gZC5pZCk7XG4gICAgY29uc3QgdGVtcCA9IHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbi5sZW5ndGg7XG4gICAgdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uID0gW107XG4gICAgdGhpcy51cGRhdGVUYWJsZVN0YXRzKCk7XG4gICAgdGhpcy5hcHBseVNlbGVjdGlvbih0ZW1wKTtcbiAgfVxuXG4gIGNoYW5nZVZhcmlhYmxlKGNvZGVfdmFyaWFibGUpIHtcbiAgICB0aGlzLnJhdGlvX3RvX3VzZSA9IGNvZGVfdmFyaWFibGU7XG4gICAgdGhpcy5zdG9ja190b191c2UgPSB2YXJpYWJsZXNfaW5mby5maW5kKGQgPT4gZC5yYXRpbyA9PT0gY29kZV92YXJpYWJsZSkubnVtO1xuICB9XG5cblxuICBhZGRWYXJpYWJsZShjb2RlX3ZhcmlhYmxlLCBuYW1lX3ZhcmlhYmxlKSB7XG4gICAgLy8gQWRkIHRoZSB2YXJpYWJsZSB0byB0aGUgaW5wdXQgZWxlbWVudCBhbGxvd2luZyB0byBjaG9vc2UgdmFyaWFibGVzOlxuICAgIHRoaXMuc2VsZWNfdmFyLmFwcGVuZCgnb3B0aW9uJylcbiAgICAgIC5hdHRyKCd2YWx1ZScsIGNvZGVfdmFyaWFibGUpXG4gICAgICAudGV4dChuYW1lX3ZhcmlhYmxlKTtcblxuICAgIC8vIEFuZCB1c2UgaXQgaW1tZWRpYXRseTpcbiAgICB0aGlzLnNlbGVjX3Zhci5ub2RlKCkudmFsdWUgPSBjb2RlX3ZhcmlhYmxlO1xuICAgIHRoaXMuc2VsZWNfdmFyLmRpc3BhdGNoKCdjaGFuZ2UnKTtcbiAgfVxuXG4gIHJlbW92ZVZhcmlhYmxlKGNvZGVfdmFyaWFibGUpIHtcbiAgICAvLyBBZGQgdGhlIHZhcmlhYmxlIHRvIHRoZSBpbnB1dCBlbGVtZW50IGFsbG93aW5nIHRvIGNob29zZSB2YXJpYWJsZXM6XG4gICAgdGhpcy5zZWxlY192YXIuc2VsZWN0KGBvcHRpb25bdmFsdWU9JHtjb2RlX3ZhcmlhYmxlfV1gKS5yZW1vdmUoKTtcbiAgICBpZiAodGhpcy5yYXRpb190b191c2UgPT09IGNvZGVfdmFyaWFibGUpIHtcbiAgICAgIHRoaXMuc2VsZWNfdmFyLm5vZGUoKS52YWx1ZSA9IHRoaXMuc2VsZWNfdmFyLnNlbGVjdCgnb3B0aW9uJykubm9kZSgpLnZhbHVlO1xuICAgICAgdGhpcy5zZWxlY192YXIuZGlzcGF0Y2goJ2NoYW5nZScpO1xuICAgIH1cbiAgfVxuXG4gIGJpbmRNZW51KCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IG1lbnUgPSBkMy5zZWxlY3QoJyNtZW51X3NlbGVjdGlvbicpO1xuICAgIGNvbnN0IGFwcGx5Y2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgLy8gc2VsZi5tYXBfZWxlbS5yZW1vdmVSZWN0QnJ1c2goKTtcbiAgICAgIGNvbnN0IHZhbHVlID0gK3RoaXMudmFsdWU7XG4gICAgICBpZiAodmFsdWUgPCAxKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSAxO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZWxmLmFwcGx5U2VsZWN0aW9uKHZhbHVlKTtcbiAgICB9O1xuICAgIG1lbnUuc2VsZWN0KCcubmJfc2VsZWN0JylcbiAgICAgIC5vbignY2hhbmdlJywgYXBwbHljaGFuZ2UpO1xuICAgIG1lbnUuc2VsZWN0KCcubmJfc2VsZWN0JylcbiAgICAgIC5vbignd2hlZWwnLCBhcHBseWNoYW5nZSk7XG4gICAgbWVudS5zZWxlY3QoJy5uYl9zZWxlY3QnKVxuICAgICAgLm9uKCdrZXl1cCcsIGFwcGx5Y2hhbmdlKTtcbiAgfVxuXG4gIHJlbW92ZSgpIHtcbiAgICB0aGlzLm1hcF9lbGVtLnVuYmluZEJydXNoQ2xpY2soKTtcbiAgICB0aGlzLm1hcF9lbGVtID0gbnVsbDtcbiAgICB0aGlzLnRhYmxlX3N0YXRzLnJlbW92ZSgpO1xuICAgIHRoaXMudGFibGVfc3RhdHMgPSBudWxsO1xuICAgIHRoaXMuc2VsZWNfdmFyLnJlbW92ZSgpO1xuICAgIHN2Z19iYXIuaHRtbCgnJyk7XG4gIH1cblxuICBiaW5kTWFwKG1hcF9lbGVtKSB7XG4gICAgdGhpcy5tYXBfZWxlbSA9IG1hcF9lbGVtO1xuICAgIHRoaXMubWFwX2VsZW0ucmVzZXRDb2xvcnModGhpcy5jdXJyZW50X2lkcyk7XG4gICAgZDMuc2VsZWN0KCcjbWVudV9zZWxlY3Rpb24nKS5zZWxlY3QoJy5uYl9zZWxlY3QnKS5kaXNwYXRjaCgnY2hhbmdlJyk7XG4gIH1cblxuICB1cGRhdGVUYWJsZVN0YXRzKCkge1xuICAgIHRoaXMudGFibGVfc3RhdHMucmVtb3ZlQWxsKCk7XG4gICAgdGhpcy50YWJsZV9zdGF0cy5hZGRGZWF0dXJlKHRoaXMucHJlcGFyZVRhYmxlU3RhdCgpKTtcbiAgfVxuXG4gIHByZXBhcmVUYWJsZVN0YXQoKSB7XG4gICAgY29uc3QgdmFsdWVzID0gdGhpcy5kYXRhLm1hcChkID0+IGRbdGhpcy5yYXRpb190b191c2VdKTtcbiAgICByZXR1cm4ge1xuICAgICAgTWluOiBkMy5taW4odmFsdWVzKSxcbiAgICAgIE1heDogZDMubWF4KHZhbHVlcyksXG4gICAgICBNb3llbm5lOiBnZXRNZWFuKHZhbHVlcyksXG4gICAgICBpZDogdGhpcy5yYXRpb190b191c2UsXG4gICAgICBWYXJpYWJsZTogdGhpcy5yYXRpb190b191c2UsXG4gICAgICAnTWEgcsOpZ2lvbic6IHRoaXMubXlfcmVnaW9uX3ZhbHVlLFxuICAgIH07XG4gIH1cblxuICBtYWtlVGFibGVTdGF0KCkge1xuICAgIGNvbnN0IGZlYXR1cmUgPSB0aGlzLnByZXBhcmVUYWJsZVN0YXQoKTtcbiAgICB0aGlzLnRhYmxlX3N0YXRzID0gbmV3IFRhYmxlUmVzdW1lU3RhdChbZmVhdHVyZV0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBjb250ZXh0TWVudSB7XG4gIGNvbnN0cnVjdG9yKGl0ZW1zKSB7XG4gICAgaWYgKGl0ZW1zKSB7XG4gICAgICB0aGlzLnNldEl0ZW1zKGl0ZW1zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pdGVtcyA9IFtdO1xuICAgIH1cbiAgfVxuXG4gIGFkZEl0ZW0oaXRlbSkge1xuICAgIHRoaXMuaXRlbXMucHVzaCh7XG4gICAgICBuYW1lOiBpdGVtLm5hbWUsXG4gICAgICBhY3Rpb246IGl0ZW0uYWN0aW9uLFxuICAgIH0pO1xuICB9XG5cbiAgcmVtb3ZlSXRlbShuYW1lKSB7XG4gICAgZm9yIChsZXQgaSA9IHRoaXMuaXRlbXMubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkge1xuICAgICAgaWYgKHRoaXMuaXRlbXNbaV0ubmFtZSA9PT0gbmFtZSkge1xuICAgICAgICB0aGlzLml0ZW1zLnNwbGljZShpLCAxKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc2V0SXRlbXMoaXRlbXMpIHtcbiAgICB0aGlzLml0ZW1zID0gW107XG4gICAgZm9yIChsZXQgaSA9IDAsIG5iX2l0ZW1zID0gaXRlbXMubGVuZ3RoOyBpIDwgbmJfaXRlbXM7IGkrKykge1xuICAgICAgaWYgKGl0ZW1zW2ldLm5hbWUgJiYgaXRlbXNbaV0uYWN0aW9uKSB7XG4gICAgICAgIHRoaXMuYWRkSXRlbShpdGVtc1tpXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc2hvd01lbnUoZXZlbnQsIHBhcmVudCwgaXRlbXMsIHBvc2l0aW9uKSB7XG4gICAgaWYgKGV2ZW50LnByZXZlbnREZWZhdWx0KSBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmIChldmVudC5zdG9wUHJvcGFnYXRpb24pIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGlmICh0aGlzLkRPTW9iaikge1xuICAgICAgdGhpcy5oaWRlTWVudSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXRlbXMpIHtcbiAgICAgIHRoaXMuc2V0SXRlbXMoaXRlbXMpO1xuICAgIH1cblxuICAgIHRoaXMuaW5pdE1lbnUocGFyZW50KTtcbiAgICBpZiAoIXBvc2l0aW9uKSB7XG4gICAgICB0aGlzLkRPTW9iai5zdHlsZS50b3AgPSBgJHtldmVudC5jbGllbnRZICsgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3B9cHhgO1xuICAgICAgdGhpcy5ET01vYmouc3R5bGUubGVmdCA9IGAke2V2ZW50LmNsaWVudFh9cHhgO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLkRPTW9iai5zdHlsZS50b3AgPSBgJHtwb3NpdGlvblsxXX1weGA7XG4gICAgICB0aGlzLkRPTW9iai5zdHlsZS5sZWZ0ID0gYCR7cG9zaXRpb25bMF19cHhgO1xuICAgIH1cbiAgICB0aGlzLmRpc3BsYXllZCA9IHRydWU7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuaGlkZU1lbnUoKSk7XG4gICAgfSwgMTUwKTtcbiAgfVxuXG4gIGhpZGVNZW51KCkge1xuICAgIGlmICh0aGlzLkRPTW9iaiAmJiB0aGlzLkRPTW9iai5wYXJlbnRFbGVtZW50ICYmIHRoaXMuRE9Nb2JqLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQpIHtcbiAgICAgIHRoaXMuRE9Nb2JqLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5ET01vYmopO1xuICAgICAgdGhpcy5ET01vYmogPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLmRpc3BsYXllZCA9IGZhbHNlO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oaWRlTWVudSk7XG4gIH1cblxuICBpbml0TWVudShwYXJlbnQpIHtcbiAgICBpZiAodGhpcy5ET01vYmogJiYgdGhpcy5ET01vYmoucGFyZW50RWxlbWVudCAmJiB0aGlzLkRPTW9iai5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKSB7XG4gICAgICB0aGlzLkRPTW9iai5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuRE9Nb2JqKTtcbiAgICAgIHRoaXMuRE9Nb2JqID0gbnVsbDtcbiAgICB9XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgbWVudSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IGxpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgIG1lbnUuY2xhc3NOYW1lID0gJ2NvbnRleHQtbWVudSc7XG4gICAgbWVudS5hcHBlbmRDaGlsZChsaXN0KTtcbiAgICBmb3IgKGxldCBpID0gMCwgbmJfaXRlbSA9IHRoaXMuaXRlbXMubGVuZ3RoOyBpIDwgbmJfaXRlbTsgaSsrKSB7XG4gICAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JywgaSk7XG4gICAgICBpdGVtLmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLW5hbWVcIj4ke3RoaXMuaXRlbXNbaV0ubmFtZX08L3NwYW4+YDtcbiAgICAgIGxpc3QuYXBwZW5kQ2hpbGQoaXRlbSk7XG4gICAgICBpdGVtLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IGl4ID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnKTtcbiAgICAgICAgc2VsZi5pdGVtc1tpeF0uYWN0aW9uKCk7XG4gICAgICB9O1xuICAgIH1cbiAgICB0aGlzLkRPTW9iaiA9IG1lbnU7XG4gICAgcGFyZW50LmFwcGVuZENoaWxkKG1lbnUpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBSZWN0LCBjb21wMiwgcHJlcGFyZVRvb2x0aXAsIHN2Z1BhdGhUb0Nvb3JkcywgX2dldFBSLCBjb21wdXRlUGVyY2VudGlsZVJhbmssIGdldE1lYW4gfSBmcm9tICcuLy4uL2hlbHBlcnMnO1xuaW1wb3J0IHsgY29sb3JfZGlzYWJsZWQsIGNvbG9yX2NvdW50cmllcywgY29sb3JfaGlnaGxpZ2h0IH0gZnJvbSAnLi8uLi9vcHRpb25zJztcbmltcG9ydCB7IGNhbGNQb3BDb21wbGV0dWRlU3Vic2V0IH0gZnJvbSAnLi8uLi9wcmVwYXJlX2RhdGEnO1xuaW1wb3J0IHsgc3ZnX21hcCB9IGZyb20gJy4vLi4vbWFwJztcbmltcG9ydCB7IGFwcCwgdmFyaWFibGVzX2luZm8sIHJlc2V0Q29sb3JzIH0gZnJvbSAnLi8uLi8uLi9tYWluJztcbmltcG9ydCBDb250ZXh0TWVudSBmcm9tICcuLy4uL2NvbnRleHRNZW51JztcbmltcG9ydCBUYWJsZVJlc3VtZVN0YXQgZnJvbSAnLi8uLi90YWJsZVJlc3VtZVN0YXQnO1xuXG5jb25zdCBzdmdfYmFyID0gZDMuc2VsZWN0KCcjc3ZnX2JhcicpO1xuY29uc3QgbWFyZ2luID0geyB0b3A6IDIwLCByaWdodDogMjAsIGJvdHRvbTogNDAsIGxlZnQ6IDQwIH07XG5cbmNvbnN0IHdpZHRoID0gK3N2Z19iYXIuYXR0cignd2lkdGgnKSAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0LFxuICBoZWlnaHQgPSArc3ZnX2Jhci5hdHRyKCdoZWlnaHQnKSAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tO1xuXG4vKiogQ2xhc3MgcmVwcmVzZW50aW5nIGEgc2NhdHRlcnBsb3QgKi9cbmV4cG9ydCBjbGFzcyBTY2F0dGVyUGxvdDIge1xuICAvKipcbiAgICogQ3JlYXRlIGEgdGhlIHNjYXR0ZXJwbG90IG9uIHRoZSBgc3ZnX2JhcmAgc3ZnIGVsZW1lbnQgcHJldmlvdXNseSBkZWZpbmVkXG4gICAqIEBwYXJhbSB7QXJyYXl9IHJlZl9kYXRhIC0gQSByZWZlcmVuY2UgdG8gdGhlIHN1YnNldCBvZiB0aGUgZGF0YXNldCB0byBiZSB1c2VkXG4gICAqIHRvIGNyZWF0ZSB0aGUgc2NhdHRlcnBsb3QgKHNob3VsZCBjb250YWluIGF0IGxlYXN0IHR3byBmaWVsZCBmbGFnZ2VkIGFzIHJhdGlvXG4gICAqIGluIHRoZSBgYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvYCBPYmplY3QpLlxuICAgKi9cbiAgY29uc3RydWN0b3IocmVmX2RhdGEpIHtcbiAgICB0aGlzLmJydXNoZWQgPSAoKSA9PiB7XG4gICAgICBpZiAoZDMuZXZlbnQgJiYgIWQzLmV2ZW50LnNlbGVjdGlvbikge1xuICAgICAgICBpZiAoZDMuZXZlbnQudHlwZSA9PT0gJ2VuZCcgJiYgZDMuZXZlbnQuc291cmNlRXZlbnQudHlwZSA9PT0gJ21vdXNldXAnKSB7XG4gICAgICAgICAgdGhpcy5tYXBfZWxlbS5yZW1vdmVSZWN0QnJ1c2goKTtcbiAgICAgICAgfVxuICAgICAgICBhcHAuY29sb3JzID0ge307XG4gICAgICAgIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByZXNldENvbG9ycygpO1xuICAgICAgLy8gY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICBjb25zdCBbdG9wbGVmdCwgYm90dG9tcmlnaHRdID0gZDMuZXZlbnQuc2VsZWN0aW9uO1xuICAgICAgY29uc3QgcmFuZ2VfeCA9IFtcbiAgICAgICAgdGhpcy54LmludmVydCh0b3BsZWZ0WzBdKSxcbiAgICAgICAgdGhpcy54LmludmVydChib3R0b21yaWdodFswXSksXG4gICAgICBdO1xuICAgICAgY29uc3QgcmFuZ2VfeSA9IFtcbiAgICAgICAgdGhpcy55LmludmVydChib3R0b21yaWdodFsxXSksXG4gICAgICAgIHRoaXMueS5pbnZlcnQodG9wbGVmdFsxXSksXG4gICAgICBdO1xuICAgICAgbGV0IHQxO1xuICAgICAgbGV0IHQyO1xuICAgICAgaWYgKHRoaXMudHlwZSA9PT0gJ3ZhbHVlJykge1xuICAgICAgICB0MSA9IHRoaXMudmFyaWFibGUxO1xuICAgICAgICB0MiA9IHRoaXMudmFyaWFibGUyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdDEgPSB0aGlzLnJhbmtfdmFyaWFibGUxO1xuICAgICAgICB0MiA9IHRoaXMucmFua192YXJpYWJsZTI7XG4gICAgICB9XG5cbiAgICAgIC8vIHRoaXMuZGF0YVxuICAgICAgLy8gICAuZmlsdGVyKGZ0ID0+IGZ0W3QxXSA+IHJhbmdlX3hbMF1cbiAgICAgIC8vICAgICAmJiBmdFt0MV0gPCByYW5nZV94WzFdXG4gICAgICAvLyAgICAgJiYgZnRbdDJdID4gcmFuZ2VfeVswXVxuICAgICAgLy8gICAgICYmIGZ0W3QyXSA8IHJhbmdlX3lbMV0pXG4gICAgICAvLyAgIC5mb3JFYWNoKChmdCkgPT4ge1xuICAgICAgLy8gICAgIGFwcC5jb2xvcnNbZnQuaWRdID0gY29tcDIoXG4gICAgICAvLyAgICAgICBmdFt0aGlzLnZhcmlhYmxlMV0sIGZ0W3RoaXMudmFyaWFibGUyXSxcbiAgICAgIC8vICAgICAgIHNlbGYucmVmX3ZhbHVlMSwgc2VsZi5yZWZfdmFsdWUyLFxuICAgICAgLy8gICAgICAgc2VsZi54SW52ZXJzZWQsIHNlbGYueUludmVyc2VkKTtcbiAgICAgIC8vICAgfSk7XG4gICAgICBmb3IgKGxldCBpID0gMCwgbGVuX2kgPSB0aGlzLmRhdGEubGVuZ3RoOyBpIDwgbGVuX2k7IGkrKykge1xuICAgICAgICBjb25zdCBmdCA9IHRoaXMuZGF0YVtpXTtcbiAgICAgICAgaWYgKGZ0W3QxXSA+IHJhbmdlX3hbMF0gJiYgZnRbdDFdIDwgcmFuZ2VfeFsxXSAmJiBmdFt0Ml0gPiByYW5nZV95WzBdICYmIGZ0W3QyXSA8IHJhbmdlX3lbMV0pIHtcbiAgICAgICAgICBhcHAuY29sb3JzW2Z0LmlkXSA9IGNvbXAyKFxuICAgICAgICAgICAgZnRbdGhpcy52YXJpYWJsZTFdLCBmdFt0aGlzLnZhcmlhYmxlMl0sXG4gICAgICAgICAgICB0aGlzLnJlZl92YWx1ZTEsIHRoaXMucmVmX3ZhbHVlMixcbiAgICAgICAgICAgIHRoaXMueEludmVyc2VkLCB0aGlzLnlJbnZlcnNlZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICAgICAgdGhpcy5tYXBfZWxlbS5yZW1vdmVSZWN0QnJ1c2goKTtcbiAgICB9O1xuXG4gICAgLy8gU2V0IHRoZSBtaW5pbXVtIG51bWJlciBvZiB2YXJpYWJsZXMgdG8ga2VlcCBzZWxlY3RlZCBmb3IgdGhpcyBraW5kIG9mIGNoYXJ0OlxuICAgIGFwcC5jdXJyZW50X2NvbmZpZy5uYl92YXIgPSAyO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHRoaXMudHlwZSA9ICdyYW5rJztcbiAgICB0aGlzLnZhcmlhYmxlMSA9IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpb1swXTtcbiAgICB0aGlzLnZhcmlhYmxlMiA9IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpb1sxXTtcbiAgICB0aGlzLnJhbmtfdmFyaWFibGUxID0gYHByXyR7dGhpcy52YXJpYWJsZTF9YDtcbiAgICB0aGlzLnJhbmtfdmFyaWFibGUyID0gYHByXyR7dGhpcy52YXJpYWJsZTJ9YDtcbiAgICB0aGlzLnByZXR0eV9uYW1lMSA9IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpb19wcmV0dHlfbmFtZVswXTtcbiAgICB0aGlzLnByZXR0eV9uYW1lMiA9IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpb19wcmV0dHlfbmFtZVsxXTtcbiAgICB0aGlzLmRhdGEgPSByZWZfZGF0YS5maWx0ZXIoZnQgPT4gISFmdFt0aGlzLnZhcmlhYmxlMV0gJiYgISFmdFt0aGlzLnZhcmlhYmxlMl0pXG4gICAgICAubWFwKChkKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcyA9IHsgaWQ6IGQuaWQgfTtcbiAgICAgICAgcmVzW3RoaXMudmFyaWFibGUxXSA9IGRbdGhpcy52YXJpYWJsZTFdO1xuICAgICAgICByZXNbdGhpcy52YXJpYWJsZTJdID0gZFt0aGlzLnZhcmlhYmxlMl07XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgICB9KTtcbiAgICB0aGlzLmN1cnJlbnRfaWRzID0gdGhpcy5kYXRhLm1hcChkID0+IGQuaWQpO1xuICAgIHJlc2V0Q29sb3JzKHRoaXMuY3VycmVudF9pZHMpO1xuICAgIHRoaXMubmJGdCA9IHRoaXMuZGF0YS5sZW5ndGg7XG4gICAgY29tcHV0ZVBlcmNlbnRpbGVSYW5rKHRoaXMuZGF0YSwgdGhpcy52YXJpYWJsZTEsIHRoaXMucmFua192YXJpYWJsZTEpO1xuICAgIGNvbXB1dGVQZXJjZW50aWxlUmFuayh0aGlzLmRhdGEsIHRoaXMudmFyaWFibGUyLCB0aGlzLnJhbmtfdmFyaWFibGUyKTtcblxuICAgIHRoaXMueCA9IGQzLnNjYWxlTGluZWFyKClcbiAgICAgIC5yYW5nZShbMCwgd2lkdGhdKVxuICAgICAgLm5pY2UoKTtcbiAgICB0aGlzLnkgPSBkMy5zY2FsZUxpbmVhcigpXG4gICAgICAucmFuZ2UoW2hlaWdodCwgMF0pXG4gICAgICAubmljZSgpO1xuICAgIHRoaXMueEF4aXMgPSBkMy5heGlzQm90dG9tKHRoaXMueCkudGlja3MoMTIpO1xuICAgIHRoaXMueUF4aXMgPSBkMy5heGlzTGVmdCh0aGlzLnkpLnRpY2tzKDEyICogaGVpZ2h0IC8gd2lkdGgpO1xuICAgIHRoaXMueEF4aXMyID0gZDMuYXhpc0JvdHRvbSh0aGlzLngpLnRpY2tzKDEyKTtcbiAgICB0aGlzLnlBeGlzMiA9IGQzLmF4aXNMZWZ0KHRoaXMueSkudGlja3MoMTIgKiBoZWlnaHQgLyB3aWR0aCk7XG5cbiAgICB0aGlzLmJydXNoID0gZDMuYnJ1c2goKVxuICAgICAgLmV4dGVudChbWzAsIDBdLCBbd2lkdGgsIGhlaWdodF1dKVxuICAgICAgLm9uKCdicnVzaCBlbmQnLCB0aGlzLmJydXNoZWQpO1xuXG4gICAgdGhpcy54SW52ZXJzZWQgPSBmYWxzZTtcbiAgICB0aGlzLnlJbnZlcnNlZCA9IGZhbHNlO1xuICAgIHRoaXMucmVmX3ZhbHVlMSA9IHRoaXMuZGF0YS5maW5kKFxuICAgICAgZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVt0aGlzLnZhcmlhYmxlMV07XG4gICAgdGhpcy5yZWZfdmFsdWUyID0gdGhpcy5kYXRhLmZpbmQoXG4gICAgICBkID0+IGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pW3RoaXMudmFyaWFibGUyXTtcblxuICAgIHRoaXMucGxvdCA9IHN2Z19iYXIuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7W21hcmdpbi5sZWZ0LCBtYXJnaW4udG9wXX0pYCk7XG5cbiAgICB0aGlzLnBsb3QuYXBwZW5kKCdkZWZzJylcbiAgICAgIC5hcHBlbmQoJ3N2ZzpjbGlwUGF0aCcpXG4gICAgICAuYXR0cignaWQnLCAnY2xpcCcpXG4gICAgICAuYXBwZW5kKCdzdmc6cmVjdCcpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0LFxuICAgICAgICB4OiAwLFxuICAgICAgICB5OiAwLFxuICAgICAgfSk7XG5cbiAgICB0aGlzLnNjYXR0ZXIgPSB0aGlzLnBsb3QuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdpZCcsICdzY2F0dGVycGxvdCcpXG4gICAgICAuYXR0cignY2xpcC1wYXRoJywgJ3VybCgjY2xpcCknKTtcblxuICAgIHRoaXMuc2NhdHRlci5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2JydXNoJylcbiAgICAgIC5jYWxsKHRoaXMuYnJ1c2gpO1xuXG4gICAgdGhpcy5tYWtlR3JpZCgpO1xuXG4gICAgY29uc3QgZ3JvdXBlX2xpbmVfbWVhbiA9IHRoaXMucGxvdC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2NsaXAtcGF0aCcsICd1cmwoI2NsaXApJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdtZWFuJyk7XG4gICAgZ3JvdXBlX2xpbmVfbWVhbi5hcHBlbmQoJ2xpbmUnKVxuICAgICAgLmF0dHIoJ2NsaXAtcGF0aCcsICd1cmwoI2NsaXApJylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIGlkOiAnbWVhbl94JyxcbiAgICAgICAgeDE6IHRoaXMueCh0aGlzLm1lYW5fdmFyaWFibGUxKSxcbiAgICAgICAgeDI6IHRoaXMueCh0aGlzLm1lYW5fdmFyaWFibGUxKSxcbiAgICAgICAgeTE6IDAsXG4gICAgICAgIHkyOiB3aWR0aCxcbiAgICAgICAgJ3N0cm9rZS1kYXNoYXJyYXknOiAnMTAsIDUnLFxuICAgICAgICAnc3Ryb2tlLXdpZHRoJzogJzJweCcsXG4gICAgICB9KVxuICAgICAgLnN0eWxlKCdzdHJva2UnLCAncmVkJyk7XG4gICAgZ3JvdXBlX2xpbmVfbWVhbi5hcHBlbmQoJ2xpbmUnKVxuICAgICAgLnN0eWxlKCdzdHJva2UnLCAncmVkJylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIGlkOiAnbWVhbl95JyxcbiAgICAgICAgeDE6IDAsXG4gICAgICAgIHgyOiB3aWR0aCxcbiAgICAgICAgeTE6IHRoaXMueSh0aGlzLm1lYW5fdmFyaWFibGUyKSxcbiAgICAgICAgeTI6IHRoaXMueSh0aGlzLm1lYW5fdmFyaWFibGUyKSxcbiAgICAgICAgJ2NsaXAtcGF0aCc6ICd1cmwoI2NsaXApJyxcbiAgICAgICAgJ3N0cm9rZS1kYXNoYXJyYXknOiAnMTAsIDUnLFxuICAgICAgICAnc3Ryb2tlLXdpZHRoJzogJzJweCcsXG4gICAgICB9KTtcblxuICAgIHRoaXMucGxvdC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgY2xhc3M6ICd4IGF4aXMnLCBpZDogJ2F4aXMtLXgnLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoMCwgJHtoZWlnaHR9KWAsXG4gICAgICB9KVxuICAgICAgLmNhbGwodGhpcy54QXhpcyk7XG5cbiAgICB0aGlzLnBsb3QuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAneSBheGlzJywgaWQ6ICdheGlzLS15Jywgb3BhY2l0eTogMC45IH0pXG4gICAgICAuY2FsbCh0aGlzLnlBeGlzKTtcblxuICAgIC8vIFByZXBhcmUgdGhlIHRvb2x0aXAgZGlzcGxheWVkIG9uIG1vdXNlb3ZlcjpcbiAgICBwcmVwYXJlVG9vbHRpcCh0aGlzLnBsb3QpO1xuXG4gICAgdGhpcy5wcmVwYXJlVGl0bGVBeGlzKCk7XG5cbiAgICBzdmdfYmFyLmFwcGVuZCgnaW1hZ2UnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgeDogbWFyZ2luLmxlZnQgKyB3aWR0aCAvIDIgLSAyMCAtIHN2Z19iYXIuc2VsZWN0KCcjdGl0bGUtYXhpcy14Jykubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoIC8gMixcbiAgICAgICAgeTogbWFyZ2luLnRvcCArIGhlaWdodCArIG1hcmdpbi5ib3R0b20gLyAyIC0gMi41LFxuICAgICAgICB3aWR0aDogMTUsXG4gICAgICAgIGhlaWdodDogMTUsXG4gICAgICAgICd4bGluazpocmVmJzogJ2ltZy9yZXZlcnNlX3BsdXMucG5nJyxcbiAgICAgICAgaWQ6ICdpbWdfcmV2ZXJzZV94JyxcbiAgICAgIH0pXG4gICAgICAub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLnhJbnZlcnNlZCA9ICF0aGlzLnhJbnZlcnNlZDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm5iRnQ7IGkrKykge1xuICAgICAgICAgIHNlbGYuZGF0YVtpXVtzZWxmLnJhbmtfdmFyaWFibGUxXSA9IDEwMCAtIHNlbGYuZGF0YVtpXVtzZWxmLnJhbmtfdmFyaWFibGUxXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sYXN0X21hcF9zZWxlY3Rpb24pIHtcbiAgICAgICAgICB0aGlzLm1hcF9lbGVtLmNhbGxCcnVzaCh0aGlzLmxhc3RfbWFwX3NlbGVjdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICBzdmdfYmFyLmFwcGVuZCgnaW1hZ2UnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgeDogbWFyZ2luLmxlZnQgLyAyIC0gMjAsXG4gICAgICAgIHk6IG1hcmdpbi50b3AgKyAoaGVpZ2h0IC8gMikgKyBzdmdfYmFyLnNlbGVjdCgnI3RpdGxlLWF4aXMteScpLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgLyAyICsgNSxcbiAgICAgICAgd2lkdGg6IDE1LFxuICAgICAgICBoZWlnaHQ6IDE1LFxuICAgICAgICAneGxpbms6aHJlZic6ICdpbWcvcmV2ZXJzZV9wbHVzLnBuZycsXG4gICAgICAgIGlkOiAnaW1nX3JldmVyc2VfeScsXG4gICAgICB9KVxuICAgICAgLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGhpcy55SW52ZXJzZWQgPSAhdGhpcy55SW52ZXJzZWQ7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uYkZ0OyBpKyspIHtcbiAgICAgICAgICB0aGlzLmRhdGFbaV1bdGhpcy5yYW5rX3ZhcmlhYmxlMl0gPSAxMDAgLSB0aGlzLmRhdGFbaV1bdGhpcy5yYW5rX3ZhcmlhYmxlMl07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubGFzdF9tYXBfc2VsZWN0aW9uKSB7XG4gICAgICAgICAgdGhpcy5tYXBfZWxlbS5jYWxsQnJ1c2godGhpcy5sYXN0X21hcF9zZWxlY3Rpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgLy8gQ29tcHV0ZSB0aGUgXCJjb21wbMOpdHVkZVwiIHZhbHVlIGZvciB0aGlzIHJhdGlvOlxuICAgIHRoaXMuY29tcGxldHVkZV92YWx1ZSA9IGNhbGNQb3BDb21wbGV0dWRlU3Vic2V0KGFwcCwgW3RoaXMudmFyaWFibGUxLCB0aGlzLnZhcmlhYmxlMl0pO1xuXG4gICAgLy8gQ3JlYXRlIHRoZSBcImNvbXBsw6l0dWRlXCIgdGV4dDpcbiAgICB0aGlzLmNvbXBsZXR1ZGUgPSBzdmdfYmFyLmFwcGVuZCgndGV4dCcpXG4gICAgICAuYXR0cnMoeyBpZDogJ2NoYXJ0X2NvbXBsZXR1ZGUnLCB4OiA2MCwgeTogNDAgfSlcbiAgICAgIC5zdHlsZXMoeyAnZm9udC1mYW1pbHknOiAnXFwnU2lnbmlrYVxcJywgc2Fucy1zZXJpZicgfSlcbiAgICAgIC50ZXh0KGBDb21wbMOpdHVkZSA6ICR7dGhpcy5jb21wbGV0dWRlX3ZhbHVlfSVgKTtcblxuICAgIC8vIERlYWN0aXZhdGUgdGhlIHJlY3QgYnJ1c2ggc2VsZWN0aW9uIG9uIHRoZSBtYXBcbiAgICAvLyB3aGlsZSB0aGUgdXNlciBwcmVzcyB0aGUgQ3RybCBrZXk6XG4gICAgZG9jdW1lbnQub25rZXlkb3duID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQgJiYgZXZlbnQua2V5ID09PSAnQ29udHJvbCcpIHtcbiAgICAgICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKVxuICAgICAgICAgIC5zZWxlY3RBbGwoJy5zZWxlY3Rpb24sIC5vdmVybGF5JylcbiAgICAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgfVxuICAgIH07XG4gICAgLy8gUmVhY3RpdmF0ZSB0aGUgcmVjdCBicnVzaCBzZWxlY3Rpb24gb24gdGhlIG1hcFxuICAgIC8vIHdoZW4gdGhlIHVzZXIgZG9lc24ndCBwcmVzcyB0aGUgQ3RybCBrZXkgYW55bW9yZVxuICAgIGRvY3VtZW50Lm9ua2V5dXAgPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudCAmJiBldmVudC5rZXkgPT09ICdDb250cm9sJykge1xuICAgICAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpXG4gICAgICAgICAgLnNlbGVjdEFsbCgnLnNlbGVjdGlvbiwgLm92ZXJsYXknKVxuICAgICAgICAgIC5zdHlsZSgnZGlzcGxheScsIG51bGwpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBtZW51X3NlbGVjdGlvbiA9IGQzLnNlbGVjdChzdmdfYmFyLm5vZGUoKS5wYXJlbnRFbGVtZW50KVxuICAgICAgLmFwcGVuZCgnZGl2JylcbiAgICAgIC5hdHRyKCdpZCcsICdtZW51X3NlbGVjdGlvbicpXG4gICAgICAuc3R5bGVzKHsgdG9wOiAnLTIwcHgnLCAnbWFyZ2luLWxlZnQnOiAnMzBweCcsIHBvc2l0aW9uOiAncmVsYXRpdmUnIH0pO1xuXG4gICAgY29uc3QgY2hhcnRfdHlwZSA9IG1lbnVfc2VsZWN0aW9uLmFwcGVuZCgncCcpXG4gICAgICAuc3R5bGVzKHtcbiAgICAgICAgZmxvYXQ6ICdyaWdodCcsXG4gICAgICAgIGRpc3BsYXk6ICdpbmxpbmUtZ3JpZCcsXG4gICAgICB9KTtcblxuICAgIGNoYXJ0X3R5cGUuYXBwZW5kKCdzcGFuJylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIGlkOiAnaW5kX3Jhd192YWx1ZXMnLFxuICAgICAgICBjbGFzczogJ2Nob2ljZV9pbmQnLFxuICAgICAgfSlcbiAgICAgIC50ZXh0KCdWYWxldXJzIGJydXRlcycpO1xuXG4gICAgY2hhcnRfdHlwZS5hcHBlbmQoJ3NwYW4nKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgaWQ6ICdpbmRfcmFua3MnLFxuICAgICAgICBjbGFzczogJ2Nob2ljZV9pbmQgYWN0aXZlJyxcbiAgICAgIH0pXG4gICAgICAudGV4dCgnVmFsZXVycyBkZSByYW5nJyk7XG5cbiAgICB0aGlzLmJpbmRNZW51KCk7XG5cbiAgICAvLyB0aGlzLnVwZGF0ZSgpO1xuICAgIHRoaXMubWFrZVRhYmxlU3RhdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSB0aGUgdW5kZXJseWluZyBncmV5IGdyaWRcbiAgICovXG4gIG1ha2VHcmlkKCkge1xuICAgIHRoaXMucGxvdC5pbnNlcnQoJ2cnLCAnI3NjYXR0ZXJwbG90JylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIGNsYXNzOiAnZ3JpZCBncmlkLXgnLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoMCwgJHtoZWlnaHR9KWAsXG4gICAgICB9KVxuICAgICAgLmNhbGwodGhpcy54QXhpczJcbiAgICAgICAgLnRpY2tTaXplKC1oZWlnaHQpXG4gICAgICAgIC50aWNrRm9ybWF0KCcnKSk7XG4gICAgdGhpcy5wbG90Lmluc2VydCgnZycsICcjc2NhdHRlcnBsb3QnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2dyaWQgZ3JpZC15JylcbiAgICAgIC5jYWxsKHRoaXMueUF4aXMyXG4gICAgICAgIC50aWNrU2l6ZSgtd2lkdGgpXG4gICAgICAgIC50aWNrRm9ybWF0KCcnKSk7XG4gIH1cblxuXG4gIHVwZGF0ZUF4aXNHcmlkKCkge1xuICAgIHRoaXMucGxvdC5zZWxlY3QoJy5ncmlkLXgnKVxuICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgLmR1cmF0aW9uKDEyNSlcbiAgICAgIC5jYWxsKHRoaXMueEF4aXMyLnRpY2tTaXplKC1oZWlnaHQpLnRpY2tGb3JtYXQoJycpKTtcbiAgICB0aGlzLnBsb3Quc2VsZWN0KCcuZ3JpZC15JylcbiAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgIC5kdXJhdGlvbigxMjUpXG4gICAgICAuY2FsbCh0aGlzLnlBeGlzMi50aWNrU2l6ZSgtd2lkdGgpLnRpY2tGb3JtYXQoJycpKTtcbiAgICB0aGlzLnBsb3Quc2VsZWN0KCcjYXhpcy0teCcpXG4gICAgICAudHJhbnNpdGlvbigpXG4gICAgICAuZHVyYXRpb24oMTI1KVxuICAgICAgLmNhbGwodGhpcy54QXhpcyk7XG4gICAgdGhpcy5wbG90LnNlbGVjdCgnI2F4aXMtLXknKVxuICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgLmR1cmF0aW9uKDEyNSlcbiAgICAgIC5jYWxsKHRoaXMueUF4aXMpO1xuICAgIHRoaXMucGxvdC5zZWxlY3RBbGwoJy5ncmlkJylcbiAgICAgIC5zZWxlY3RBbGwoJ2xpbmUnKVxuICAgICAgLmF0dHIoJ3N0cm9rZScsICdsaWdodGdyYXknKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgdGhlIHRpdGxlIG9mIHRoZSBYIGFuZCBZIGF4aXMgd2l0aCB0aGUgYXNzb2NpYXRlZCBjb250ZXh0IG1lbnVcbiAgICogZGlzcGxheWVkIHdoZW4gdGhleSBhcmUgY2xpY2tlZCBhbmQgYWxsb3dpbmcgdG8gc2VsZWN0IGFuIG90aGVyIHZhcmlhYmxlXG4gICAqIGZvciB0aGlzIGF4aXMuXG4gICAqL1xuICBwcmVwYXJlVGl0bGVBeGlzKCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHRoaXMubWVudVggPSBuZXcgQ29udGV4dE1lbnUoKTtcbiAgICB0aGlzLm1lbnVZID0gbmV3IENvbnRleHRNZW51KCk7XG4gICAgdGhpcy5pdGVtc1ggPSBhcHAuY3VycmVudF9jb25maWcucmF0aW8uZmlsdGVyKGVsZW0gPT4gZWxlbSAhPT0gdGhpcy52YXJpYWJsZTIpXG4gICAgICAubWFwKGVsZW0gPT4gKHtcbiAgICAgICAgbmFtZTogZWxlbSxcbiAgICAgICAgYWN0aW9uOiAoKSA9PiB0aGlzLmNoYW5nZVZhcmlhYmxlWChlbGVtKSxcbiAgICAgIH0pKTtcbiAgICB0aGlzLml0ZW1zWSA9IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpby5maWx0ZXIoZWxlbSA9PiBlbGVtICE9PSB0aGlzLnZhcmlhYmxlMSlcbiAgICAgIC5tYXAoZWxlbSA9PiAoe1xuICAgICAgICBuYW1lOiBlbGVtLFxuICAgICAgICBhY3Rpb246ICgpID0+IHRoaXMuY2hhbmdlVmFyaWFibGVZKGVsZW0pLFxuICAgICAgfSkpO1xuXG4gICAgc3ZnX2Jhci5hcHBlbmQoJ3RleHQnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgaWQ6ICd0aXRsZS1heGlzLXgnLFxuICAgICAgICB4OiBtYXJnaW4ubGVmdCArIHdpZHRoIC8gMixcbiAgICAgICAgeTogbWFyZ2luLnRvcCArIGhlaWdodCArIG1hcmdpbi5ib3R0b20gLyAyICsgMTAsXG4gICAgICB9KVxuICAgICAgLnN0eWxlcyh7ICdmb250LWZhbWlseSc6ICdzYW5zLXNlcmlmJywgJ2ZvbnQtc2l6ZSc6ICcxMnB4JywgJ3RleHQtYW5jaG9yJzogJ21pZGRsZScgfSlcbiAgICAgIC50ZXh0KHRoaXMudmFyaWFibGUxKVxuICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgYmJveCA9IHRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGlmIChzZWxmLm1lbnVZLmRpc3BsYXllZCkge1xuICAgICAgICAgIHNlbGYubWVudVkuaGlkZU1lbnUoKTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLm1lbnVYLnNob3dNZW51KGQzLmV2ZW50LCBkb2N1bWVudC5ib2R5LCBzZWxmLml0ZW1zWCwgW2Jib3gubGVmdCAtIDIwLCBiYm94LnRvcCArIDIwXSk7XG4gICAgICB9KTtcblxuICAgIHN2Z19iYXIuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIGlkOiAndGl0bGUtYXhpcy15JyxcbiAgICAgICAgeDogbWFyZ2luLmxlZnQgLyAyLFxuICAgICAgICB5OiBtYXJnaW4udG9wICsgKGhlaWdodCAvIDIpIC0gMTAsXG4gICAgICAgIHRyYW5zZm9ybTogYHJvdGF0ZSgtOTAsICR7bWFyZ2luLmxlZnQgLyAyfSwgJHttYXJnaW4udG9wICsgKGhlaWdodCAvIDIpfSlgLFxuICAgICAgfSlcbiAgICAgIC5zdHlsZXMoeyAnZm9udC1mYW1pbHknOiAnc2Fucy1zZXJpZicsICdmb250LXNpemUnOiAnMTJweCcsICd0ZXh0LWFuY2hvcic6ICdtaWRkbGUnIH0pXG4gICAgICAudGV4dCh0aGlzLnZhcmlhYmxlMilcbiAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IGJib3ggPSB0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBpZiAoc2VsZi5tZW51WC5kaXNwbGF5ZWQpIHtcbiAgICAgICAgICBzZWxmLm1lbnVYLmhpZGVNZW51KCk7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5tZW51WS5zaG93TWVudShkMy5ldmVudCwgZG9jdW1lbnQuYm9keSwgc2VsZi5pdGVtc1ksIFtiYm94LmxlZnQsIGJib3guYm90dG9tICsgMTBdKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGRhdGEgPSBzZWxmLmRhdGE7XG5cbiAgICBpZiAodGhpcy50eXBlID09PSAncmFuaycpIHtcbiAgICAgIHRoaXMueC5kb21haW4oZDMuZXh0ZW50KHRoaXMuZGF0YSwgZCA9PiBkW3RoaXMucmFua192YXJpYWJsZTFdKSkubmljZSgpO1xuICAgICAgdGhpcy55LmRvbWFpbihkMy5leHRlbnQodGhpcy5kYXRhLCBkID0+IGRbdGhpcy5yYW5rX3ZhcmlhYmxlMl0pKS5uaWNlKCk7XG4gICAgICB0aGlzLm1lYW5fdmFyaWFibGUxID0gX2dldFBSKFxuICAgICAgICBnZXRNZWFuKHRoaXMuZGF0YS5tYXAoZCA9PiBkW3RoaXMudmFyaWFibGUxXSkpLCB0aGlzLmRhdGEubWFwKGQgPT4gZFt0aGlzLnZhcmlhYmxlMV0pKTtcbiAgICAgIHRoaXMubWVhbl92YXJpYWJsZTIgPSBfZ2V0UFIoXG4gICAgICAgIGdldE1lYW4odGhpcy5kYXRhLm1hcChkID0+IGRbdGhpcy52YXJpYWJsZTJdKSksIHRoaXMuZGF0YS5tYXAoZCA9PiBkW3RoaXMudmFyaWFibGUyXSkpO1xuXG5cbiAgICAgIGNvbnN0IHJhbmtfdmFyaWFibGUxID0gdGhpcy5yYW5rX3ZhcmlhYmxlMTtcbiAgICAgIGNvbnN0IHJhbmtfdmFyaWFibGUyID0gdGhpcy5yYW5rX3ZhcmlhYmxlMjtcbiAgICAgIGNvbnN0IHggPSB0aGlzLng7XG4gICAgICBjb25zdCB5ID0gdGhpcy55O1xuICAgICAgY29uc3QgZGVmYXVsdF9jb2xvciA9ICdncmF5JztcblxuICAgICAgY29uc3QgZG90cyA9IHRoaXMuc2NhdHRlci5zZWxlY3RBbGwoJy5kb3QnKVxuICAgICAgICAuZGF0YShkYXRhLCBkID0+IGQuaWQpO1xuXG4gICAgICBkb3RzXG4gICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgLmR1cmF0aW9uKDEyNSlcbiAgICAgICAgLmF0dHJzKGQgPT4gKHtcbiAgICAgICAgICByOiA1LFxuICAgICAgICAgIGN4OiB4KGRbcmFua192YXJpYWJsZTFdKSxcbiAgICAgICAgICBjeTogeShkW3JhbmtfdmFyaWFibGUyXSksXG4gICAgICAgIH0pKVxuICAgICAgICAuc3R5bGVzKGQgPT4gKHtcbiAgICAgICAgICBmaWxsOiBhcHAuY29sb3JzW2QuaWRdIHx8IGRlZmF1bHRfY29sb3IsXG4gICAgICAgIH0pKTtcblxuICAgICAgZG90cy5lbnRlcigpXG4gICAgICAgIC5pbnNlcnQoJ2NpcmNsZScpXG4gICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgLmR1cmF0aW9uKDEyNSlcbiAgICAgICAgLnN0eWxlcyhkID0+ICh7XG4gICAgICAgICAgZmlsbDogYXBwLmNvbG9yc1tkLmlkXSB8fCBkZWZhdWx0X2NvbG9yLFxuICAgICAgICB9KSlcbiAgICAgICAgLmF0dHJzKGQgPT4gKHtcbiAgICAgICAgICByOiA1LFxuICAgICAgICAgIGN4OiB4KGRbcmFua192YXJpYWJsZTFdKSxcbiAgICAgICAgICBjeTogeShkW3JhbmtfdmFyaWFibGUyXSksXG4gICAgICAgICAgY2xhc3M6ICdkb3QnLFxuICAgICAgICB9KSlcbiAgICAgICAgLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgZG90c1xuICAgICAgICAgICAgLm9uKCdtb3VzZW92ZXIudG9vbHRpcCcsICgpID0+IHtcbiAgICAgICAgICAgICAgc3ZnX2Jhci5zZWxlY3QoJy50b29sdGlwJykuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAub24oJ21vdXNlbW92ZS50b29sdGlwJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgY29uc3QgdG9vbHRpcCA9IHN2Z19iYXIuc2VsZWN0KCcudG9vbHRpcCcpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHtbZDMubW91c2UodGhpcylbMF0gLSA1LCBkMy5tb3VzZSh0aGlzKVsxXSAtIDM1XX0pYCk7XG4gICAgICAgICAgICAgIHRvb2x0aXAuc2VsZWN0KCdyZWN0JykuYXR0cnMoeyB3aWR0aDogMCwgaGVpZ2h0OiAwIH0pO1xuICAgICAgICAgICAgICB0b29sdGlwLnNlbGVjdCgndGV4dC5pZF9mZWF0dXJlJylcbiAgICAgICAgICAgICAgICAudGV4dChgJHtkLmlkfWApO1xuICAgICAgICAgICAgICB0b29sdGlwLnNlbGVjdCgndGV4dC52YWx1ZV9mZWF0dXJlMScpXG4gICAgICAgICAgICAgICAgLnRleHQoYCR7c2VsZi52YXJpYWJsZTF9IChyYW5nKSA6ICR7TWF0aC5yb3VuZChkW3NlbGYucmFua192YXJpYWJsZTFdICogMTApIC8gMTB9LzEwMGApO1xuICAgICAgICAgICAgICB0b29sdGlwLnNlbGVjdCgndGV4dC52YWx1ZV9mZWF0dXJlMicpXG4gICAgICAgICAgICAgICAgLnRleHQoYCR7c2VsZi52YXJpYWJsZTF9ICh2YWxldXIpIDogJHtNYXRoLnJvdW5kKGRbc2VsZi52YXJpYWJsZTFdICogMTApIC8gMTB9YCk7XG4gICAgICAgICAgICAgIHRvb2x0aXAuc2VsZWN0KCd0ZXh0LnZhbHVlX2ZlYXR1cmUzJylcbiAgICAgICAgICAgICAgICAudGV4dChgJHtzZWxmLnZhcmlhYmxlMn0gKHJhbmcpIDogJHtNYXRoLnJvdW5kKGRbc2VsZi5yYW5rX3ZhcmlhYmxlMl0gKiAxMCkgLyAxMH0vMTAwYCk7XG4gICAgICAgICAgICAgIHRvb2x0aXAuc2VsZWN0KCd0ZXh0LnZhbHVlX2ZlYXR1cmU0JylcbiAgICAgICAgICAgICAgLnRleHQoYCR7c2VsZi52YXJpYWJsZTJ9ICh2YWxldXIpIDogJHtNYXRoLnJvdW5kKGRbc2VsZi52YXJpYWJsZTJdICogMTApIC8gMTB9YCk7XG4gICAgICAgICAgICAgIGNvbnN0IGIgPSB0b29sdGlwLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgdG9vbHRpcC5zZWxlY3QoJ3JlY3QnKVxuICAgICAgICAgICAgICAgIC5hdHRycyh7IHdpZHRoOiBiLndpZHRoICsgMjAsIGhlaWdodDogYi5oZWlnaHQgKyA3LjUgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm9uKCdtb3VzZW91dC50b29sdGlwJywgKCkgPT4ge1xuICAgICAgICAgICAgICBzdmdfYmFyLnNlbGVjdCgnLnRvb2x0aXAnKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICBkb3RzLmV4aXQoKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oMTI1KS5yZW1vdmUoKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMudHlwZSA9PT0gJ3ZhbHVlJykge1xuICAgICAgY29uc3QgdmFyaWFibGUxID0gdGhpcy52YXJpYWJsZTE7XG4gICAgICBjb25zdCB2YXJpYWJsZTIgPSB0aGlzLnZhcmlhYmxlMjtcbiAgICAgIHRoaXMueC5kb21haW4oZDMuZXh0ZW50KHRoaXMuZGF0YSwgZCA9PiBkW3ZhcmlhYmxlMV0pKS5uaWNlKCk7XG4gICAgICB0aGlzLnkuZG9tYWluKGQzLmV4dGVudCh0aGlzLmRhdGEsIGQgPT4gZFt2YXJpYWJsZTJdKSkubmljZSgpO1xuICAgICAgdGhpcy5tZWFuX3ZhcmlhYmxlMSA9IGdldE1lYW4odGhpcy5kYXRhLm1hcChkID0+IGRbdmFyaWFibGUxXSkpO1xuICAgICAgdGhpcy5tZWFuX3ZhcmlhYmxlMiA9IGdldE1lYW4odGhpcy5kYXRhLm1hcChkID0+IGRbdmFyaWFibGUyXSkpO1xuXG4gICAgICBjb25zdCB4ID0gdGhpcy54O1xuICAgICAgY29uc3QgeSA9IHRoaXMueTtcbiAgICAgIGNvbnN0IGRlZmF1bHRfY29sb3IgPSAnZ3JheSc7XG5cbiAgICAgIHRoaXMucGxvdC5zZWxlY3QoJyNheGlzLS14JykudHJhbnNpdGlvbigpLmR1cmF0aW9uKDEyNSkuY2FsbCh0aGlzLnhBeGlzKTtcbiAgICAgIHRoaXMucGxvdC5zZWxlY3QoJyNheGlzLS15JykudHJhbnNpdGlvbigpLmR1cmF0aW9uKDEyNSkuY2FsbCh0aGlzLnlBeGlzKTtcblxuICAgICAgY29uc3QgZG90cyA9IHRoaXMuc2NhdHRlci5zZWxlY3RBbGwoJy5kb3QnKVxuICAgICAgICAuZGF0YShkYXRhLCBkID0+IGQuaWQpO1xuXG4gICAgICBkb3RzXG4gICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgLmR1cmF0aW9uKDEyNSlcbiAgICAgICAgLmF0dHJzKGQgPT4gKHtcbiAgICAgICAgICByOiA1LFxuICAgICAgICAgIGN4OiB4KGRbdmFyaWFibGUxXSksXG4gICAgICAgICAgY3k6IHkoZFt2YXJpYWJsZTJdKSxcbiAgICAgICAgfSkpXG4gICAgICAgIC5zdHlsZXMoZCA9PiAoe1xuICAgICAgICAgIGZpbGw6IGFwcC5jb2xvcnNbZC5pZF0gfHwgZGVmYXVsdF9jb2xvcixcbiAgICAgICAgfSkpO1xuXG4gICAgICBkb3RzLmVudGVyKClcbiAgICAgICAgLmluc2VydCgnY2lyY2xlJylcbiAgICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgICAuZHVyYXRpb24oMTI1KVxuICAgICAgICAuc3R5bGVzKGQgPT4gKHtcbiAgICAgICAgICBmaWxsOiBhcHAuY29sb3JzW2QuaWRdIHx8IGRlZmF1bHRfY29sb3IsXG4gICAgICAgIH0pKVxuICAgICAgICAuYXR0cnMoZCA9PiAoe1xuICAgICAgICAgIHI6IDUsXG4gICAgICAgICAgY3g6IHgoZFt2YXJpYWJsZTFdKSxcbiAgICAgICAgICBjeTogeShkW3ZhcmlhYmxlMl0pLFxuICAgICAgICAgIGNsYXNzOiAnZG90JyxcbiAgICAgICAgfSkpXG4gICAgICAgIC5vbignZW5kJywgKCkgPT4ge1xuICAgICAgICAgIGRvdHNcbiAgICAgICAgICAgIC5vbignbW91c2VvdmVyLnRvb2x0aXAnLCAoKSA9PiB7XG4gICAgICAgICAgICAgIHN2Z19iYXIuc2VsZWN0KCcudG9vbHRpcCcpLnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm9uKCdtb3VzZW1vdmUudG9vbHRpcCcsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHRvb2x0aXAgPSBzdmdfYmFyLnNlbGVjdCgnLnRvb2x0aXAnKVxuICAgICAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7W2QzLm1vdXNlKHRoaXMpWzBdIC0gNSwgZDMubW91c2UodGhpcylbMV0gLSAzNV19KWApO1xuICAgICAgICAgICAgICB0b29sdGlwLnNlbGVjdCgncmVjdCcpLmF0dHJzKHsgd2lkdGg6IDAsIGhlaWdodDogMCB9KTtcbiAgICAgICAgICAgICAgdG9vbHRpcC5zZWxlY3QoJ3RleHQuaWRfZmVhdHVyZScpXG4gICAgICAgICAgICAgICAgLnRleHQoYCR7ZC5pZH1gKTtcbiAgICAgICAgICAgICAgdG9vbHRpcC5zZWxlY3QoJ3RleHQudmFsdWVfZmVhdHVyZTEnKVxuICAgICAgICAgICAgICAgIC50ZXh0KGAke3NlbGYudmFyaWFibGUxfSAodmFsZXVyKSA6ICR7TWF0aC5yb3VuZChkW3NlbGYudmFyaWFibGUxXSAqIDEwKSAvIDEwfWApO1xuICAgICAgICAgICAgICB0b29sdGlwLnNlbGVjdCgndGV4dC52YWx1ZV9mZWF0dXJlMicpXG4gICAgICAgICAgICAgIC50ZXh0KGAke3NlbGYudmFyaWFibGUyfSAodmFsZXVyKSA6ICR7TWF0aC5yb3VuZChkW3NlbGYudmFyaWFibGUyXSAqIDEwKSAvIDEwfWApO1xuICAgICAgICAgICAgICBjb25zdCBiID0gdG9vbHRpcC5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgIHRvb2x0aXAuc2VsZWN0KCdyZWN0JylcbiAgICAgICAgICAgICAgICAuYXR0cnMoeyB3aWR0aDogYi53aWR0aCArIDIwLCBoZWlnaHQ6IGIuaGVpZ2h0ICsgNy41IH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5vbignbW91c2VvdXQudG9vbHRpcCcsICgpID0+IHtcbiAgICAgICAgICAgICAgc3ZnX2Jhci5zZWxlY3QoJy50b29sdGlwJykuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICBkb3RzLmV4aXQoKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oMTI1KS5yZW1vdmUoKTtcbiAgICB9XG4gICAgdGhpcy51cGRhdGVNZWFuVmFsdWUoKTtcbiAgICB0aGlzLnVwZGF0ZUF4aXNHcmlkKCk7XG4gIH1cblxuICB1cGRhdGVDb21wbGV0dWRlKCkge1xuICAgIHRoaXMuY29tcGxldHVkZV92YWx1ZSA9IGNhbGNQb3BDb21wbGV0dWRlU3Vic2V0KGFwcCwgW3RoaXMudmFyaWFibGUxLCB0aGlzLnZhcmlhYmxlMl0pO1xuICAgIHRoaXMuY29tcGxldHVkZS50ZXh0KGBDb21wbMOpdHVkZSA6ICR7dGhpcy5jb21wbGV0dWRlX3ZhbHVlfSVgKTtcbiAgfVxuXG4gIHVwZGF0ZU1hcFJlZ2lvKCkge1xuICAgIGlmICghdGhpcy5tYXBfZWxlbSkgcmV0dXJuO1xuICAgIHRoaXMubWFwX2VsZW0udGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuYXR0cignZmlsbCcsIGQgPT4gKHRoaXMuY3VycmVudF9pZHMuaW5kZXhPZihkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dKSA+IC0xXG4gICAgICAgID8gKGFwcC5jb2xvcnNbZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXV0gfHwgY29sb3JfY291bnRyaWVzKVxuICAgICAgICA6IGNvbG9yX2Rpc2FibGVkKSk7XG4gIH1cblxuICBoYW5kbGVfYnJ1c2hfbWFwKGV2ZW50KSB7XG4gICAgaWYgKCFldmVudCB8fCAhZXZlbnQuc2VsZWN0aW9uKSB7XG4gICAgICB0aGlzLmxhc3RfbWFwX3NlbGVjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaCcpLmNhbGwodGhpcy5icnVzaC5tb3ZlLCBudWxsKTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBbdG9wbGVmdCwgYm90dG9tcmlnaHRdID0gZXZlbnQuc2VsZWN0aW9uO1xuICAgIHRoaXMubGFzdF9tYXBfc2VsZWN0aW9uID0gW3RvcGxlZnQsIGJvdHRvbXJpZ2h0XTtcbiAgICBjb25zdCByZWN0ID0gbmV3IFJlY3QodG9wbGVmdCwgYm90dG9tcmlnaHQpO1xuICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICBzZWxmLm1hcF9lbGVtLnRhcmdldF9sYXllci5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICBjb25zdCBpZCA9IGQucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV07XG4gICAgICAgIGlmIChpZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbikge1xuICAgICAgICAgIGFwcC5jb2xvcnNbaWRdID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgICAgICAgIHJldHVybiBjb2xvcl9oaWdobGlnaHQ7XG4gICAgICAgIH0gZWxzZSBpZiAoc2VsZi5jdXJyZW50X2lkcy5pbmRleE9mKGlkKSA8IDApIHtcbiAgICAgICAgICByZXR1cm4gY29sb3JfZGlzYWJsZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9wdHMpIHtcbiAgICAgICAgICB0aGlzLl9wdHMgPSBzdmdQYXRoVG9Db29yZHModGhpcy5nZXRBdHRyaWJ1dGUoJ2QnKSwgYXBwLnR5cGVfcGF0aCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHRzID0gdGhpcy5fcHRzO1xuICAgICAgICBmb3IgKGxldCBpeCA9IDAsIG5iX3B0cyA9IHB0cy5sZW5ndGg7IGl4IDwgbmJfcHRzOyBpeCsrKSB7XG4gICAgICAgICAgaWYgKHJlY3QuY29udGFpbnMocHRzW2l4XSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlMSA9IGQucHJvcGVydGllc1tzZWxmLnZhcmlhYmxlMV07XG4gICAgICAgICAgICBjb25zdCB2YWx1ZTIgPSBkLnByb3BlcnRpZXNbc2VsZi52YXJpYWJsZTJdO1xuICAgICAgICAgICAgY29uc3QgY29sb3IgPSBjb21wMihcbiAgICAgICAgICAgICAgdmFsdWUxLCB2YWx1ZTIsXG4gICAgICAgICAgICAgIHNlbGYucmVmX3ZhbHVlMSwgc2VsZi5yZWZfdmFsdWUyLFxuICAgICAgICAgICAgICBzZWxmLnhJbnZlcnNlZCwgc2VsZi55SW52ZXJzZWQpO1xuICAgICAgICAgICAgYXBwLmNvbG9yc1tpZF0gPSBjb2xvcjtcbiAgICAgICAgICAgIHJldHVybiBjb2xvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbG9yX2NvdW50cmllcztcbiAgICAgIH0pO1xuICAgIHNlbGYudXBkYXRlKCk7XG4gIH1cblxuICBoYW5kbGVDbGlja01hcChkLCBwYXJlbnQpIHtcbiAgICBjb25zdCBpZCA9IGQucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV07XG4gICAgaWYgKHRoaXMuY3VycmVudF9pZHMuaW5kZXhPZihpZCkgPCAwIHx8IGlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKSByZXR1cm47XG4gICAgaWYgKGFwcC5jb2xvcnNbaWRdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIENoYW5nZSBpdHMgY29sb3IgaW4gdGhlIGdsb2JhbCBjb2xvcnMgb2JqZWN0OlxuICAgICAgYXBwLmNvbG9yc1tpZF0gPSB1bmRlZmluZWQ7XG4gICAgICAvLyBDaGFuZ2UgdGhlIGNvbG9yIG9uIHRoZSBtYXA6XG4gICAgICBkMy5zZWxlY3QocGFyZW50KS5hdHRyKCdmaWxsJywgY29sb3JfY291bnRyaWVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdmFsdWUxID0gZC5wcm9wZXJ0aWVzW3RoaXMudmFyaWFibGUxXTtcbiAgICAgIGNvbnN0IHZhbHVlMiA9IGQucHJvcGVydGllc1t0aGlzLnZhcmlhYmxlMl07XG4gICAgICBjb25zdCBjb2xvciA9IGNvbXAyKFxuICAgICAgICB2YWx1ZTEsIHZhbHVlMixcbiAgICAgICAgdGhpcy5yZWZfdmFsdWUxLCB0aGlzLnJlZl92YWx1ZTIsXG4gICAgICAgIHRoaXMueEludmVyc2VkLCB0aGlzLnlJbnZlcnNlZCk7XG4gICAgICBhcHAuY29sb3JzW2lkXSA9IGNvbG9yO1xuICAgICAgLy8gQ2hhbmdlIHRoZSBjb2xvciBvbiB0aGUgbWFwOlxuICAgICAgZDMuc2VsZWN0KHBhcmVudCkuYXR0cignZmlsbCcsIGNvbG9yKTtcbiAgICAgIC8vIEFkZCB0aGUgY2xpY2tlZCBmZWF0dXJlIG9uIHRoZSBjb2xvcmVkIHNlbGVjdGlvbiBvbiB0aGUgY2hhcnQ6XG4gICAgfVxuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cblxuICB1cGRhdGVNZWFuVmFsdWUoKSB7XG4gICAgaWYgKHRoaXMudHlwZSA9PT0gJ3ZhbHVlJykge1xuICAgICAgdGhpcy5tZWFuX3ZhcmlhYmxlMSA9IGdldE1lYW4odGhpcy5kYXRhLm1hcChkID0+IGRbdGhpcy52YXJpYWJsZTFdKSk7XG4gICAgICB0aGlzLm1lYW5fdmFyaWFibGUyID0gZ2V0TWVhbih0aGlzLmRhdGEubWFwKGQgPT4gZFt0aGlzLnZhcmlhYmxlMl0pKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMudHlwZSA9PT0gJ3JhbmsnKSB7XG4gICAgICB0aGlzLm1lYW5fdmFyaWFibGUxID0gX2dldFBSKFxuICAgICAgICBnZXRNZWFuKHRoaXMuZGF0YS5tYXAoZCA9PiBkW3RoaXMudmFyaWFibGUxXSkpLCB0aGlzLmRhdGEubWFwKGQgPT4gZFt0aGlzLnZhcmlhYmxlMV0pKTtcbiAgICAgIHRoaXMubWVhbl92YXJpYWJsZTIgPSBfZ2V0UFIoXG4gICAgICAgIGdldE1lYW4odGhpcy5kYXRhLm1hcChkID0+IGRbdGhpcy52YXJpYWJsZTJdKSksIHRoaXMuZGF0YS5tYXAoZCA9PiBkW3RoaXMudmFyaWFibGUyXSkpO1xuICAgIH1cbiAgICBjb25zdCBncnBfbWVhbiA9IHRoaXMucGxvdC5zZWxlY3QoJ2cubWVhbicpO1xuICAgIGdycF9tZWFuLnNlbGVjdCgnI21lYW5feCcpXG4gICAgICAudHJhbnNpdGlvbigpXG4gICAgICAuZHVyYXRpb24oMTI1KVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgeDE6IHRoaXMueCh0aGlzLm1lYW5fdmFyaWFibGUxKSxcbiAgICAgICAgeDI6IHRoaXMueCh0aGlzLm1lYW5fdmFyaWFibGUxKSxcbiAgICAgIH0pO1xuICAgIGdycF9tZWFuLnNlbGVjdCgnI21lYW5feScpXG4gICAgICAudHJhbnNpdGlvbigpXG4gICAgICAuZHVyYXRpb24oMTI1KVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgeTE6IHRoaXMueSh0aGlzLm1lYW5fdmFyaWFibGUyKSxcbiAgICAgICAgeTI6IHRoaXMueSh0aGlzLm1lYW5fdmFyaWFibGUyKSxcbiAgICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlQ2hhbmdlUmVnaW9uKCkge1xuICAgIGlmIChhcHAuY3VycmVudF9jb25maWcuZmlsdGVyX2tleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmNoYW5nZVN0dWR5Wm9uZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlZl92YWx1ZTEgPSB0aGlzLmRhdGEuZmluZChcbiAgICAgICAgZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVt0aGlzLnZhcmlhYmxlMV07XG4gICAgICB0aGlzLnJlZl92YWx1ZTIgPSB0aGlzLmRhdGEuZmluZChcbiAgICAgICAgZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVt0aGlzLnZhcmlhYmxlMl07XG4gICAgICB0aGlzLm1hcF9lbGVtLnJlbW92ZVJlY3RCcnVzaCgpO1xuICAgICAgdGhpcy5tYXBfZWxlbS51cGRhdGVMZWdlbmQoKTtcbiAgICAgIHRoaXMubWFwX2VsZW0ucmVzZXRDb2xvcnModGhpcy5jdXJyZW50X2lkcyk7XG4gICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIGNoYW5nZVN0dWR5Wm9uZSgpIHtcbiAgICB0aGlzLmRhdGEgPSBhcHAuY3VycmVudF9kYXRhLmZpbHRlcihmdCA9PiAhIWZ0W3RoaXMudmFyaWFibGUxXSAmJiAhIWZ0W3RoaXMudmFyaWFibGUyXSlcbiAgICAgIC5tYXAoKGQpID0+IHtcbiAgICAgICAgY29uc3QgcmVzID0geyBpZDogZC5pZCB9O1xuICAgICAgICByZXNbdGhpcy52YXJpYWJsZTFdID0gZFt0aGlzLnZhcmlhYmxlMV07XG4gICAgICAgIHJlc1t0aGlzLnZhcmlhYmxlMl0gPSBkW3RoaXMudmFyaWFibGUyXTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIH0pO1xuICAgIHRoaXMuY3VycmVudF9pZHMgPSB0aGlzLmRhdGEubWFwKGQgPT4gZC5pZCk7XG4gICAgcmVzZXRDb2xvcnMoKTtcbiAgICB0aGlzLm5iRnQgPSB0aGlzLmRhdGEubGVuZ3RoO1xuICAgIGNvbXB1dGVQZXJjZW50aWxlUmFuayh0aGlzLmRhdGEsIHRoaXMudmFyaWFibGUxLCB0aGlzLnJhbmtfdmFyaWFibGUxKTtcbiAgICBjb21wdXRlUGVyY2VudGlsZVJhbmsodGhpcy5kYXRhLCB0aGlzLnZhcmlhYmxlMiwgdGhpcy5yYW5rX3ZhcmlhYmxlMik7XG5cbiAgICB0aGlzLnhJbnZlcnNlZCA9IGZhbHNlO1xuICAgIHRoaXMueUludmVyc2VkID0gZmFsc2U7XG4gICAgY29uc3QgdG1wX215X3JlZ2lvbiA9IHRoaXMuZGF0YS5maWx0ZXIoZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVswXTtcbiAgICB0aGlzLnJlZl92YWx1ZTEgPSB0bXBfbXlfcmVnaW9uW3RoaXMudmFyaWFibGUxXTtcbiAgICB0aGlzLnJlZl92YWx1ZTIgPSB0bXBfbXlfcmVnaW9uW3RoaXMudmFyaWFibGUyXTtcblxuICAgIHRoaXMubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gICAgdGhpcy51cGRhdGVJdGVtc0N0eE1lbnUoKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgdGhpcy51cGRhdGVUYWJsZVN0YXQoKTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG5cbiAgY2hhbmdlVmFyaWFibGVYKGNvZGVfdmFyaWFibGUpIHtcbiAgICB0aGlzLnZhcmlhYmxlMSA9IGNvZGVfdmFyaWFibGU7XG4gICAgdGhpcy5yYW5rX3ZhcmlhYmxlMSA9IGBwcl8ke3RoaXMudmFyaWFibGUxfWA7XG4gICAgdGhpcy5wcmV0dHlfbmFtZTEgPSB2YXJpYWJsZXNfaW5mby5maW5kKGZ0ID0+IGZ0LnJhdGlvID09PSBjb2RlX3ZhcmlhYmxlKS5uYW1lO1xuICAgIHN2Z19iYXIuc2VsZWN0KCcjdGl0bGUtYXhpcy14JylcbiAgICAgIC50ZXh0KGNvZGVfdmFyaWFibGUpO1xuICAgIC8vIFRPRE86IEFsc28gY2hhbmdlIHRoZSBwb3NpdGlvbiBvZiB0aGUgYnV0dG9uIGFsb3dpbmcgdG8gaW52ZXJzZSB0aGUgc2VyaWVcbiAgICB0aGlzLnVwZGF0ZUl0ZW1zQ3R4TWVudSgpO1xuICAgIHRoaXMuZGF0YSA9IGFwcC5jdXJyZW50X2RhdGEuZmlsdGVyKGZ0ID0+ICEhZnRbdGhpcy52YXJpYWJsZTFdICYmICEhZnRbdGhpcy52YXJpYWJsZTJdKVxuICAgICAgLm1hcCgoZCkgPT4ge1xuICAgICAgICBjb25zdCByZXMgPSB7IGlkOiBkLmlkIH07XG4gICAgICAgIHJlc1t0aGlzLnZhcmlhYmxlMV0gPSBkW3RoaXMudmFyaWFibGUxXTtcbiAgICAgICAgcmVzW3RoaXMudmFyaWFibGUyXSA9IGRbdGhpcy52YXJpYWJsZTJdO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfSk7XG4gICAgdGhpcy5jdXJyZW50X2lkcyA9IHRoaXMuZGF0YS5tYXAoZCA9PiBkLmlkKTtcbiAgICByZXNldENvbG9ycygpO1xuICAgIHRoaXMubmJGdCA9IHRoaXMuZGF0YS5sZW5ndGg7XG4gICAgY29tcHV0ZVBlcmNlbnRpbGVSYW5rKHRoaXMuZGF0YSwgdGhpcy52YXJpYWJsZTEsIHRoaXMucmFua192YXJpYWJsZTEpO1xuICAgIGNvbXB1dGVQZXJjZW50aWxlUmFuayh0aGlzLmRhdGEsIHRoaXMudmFyaWFibGUyLCB0aGlzLnJhbmtfdmFyaWFibGUyKTtcbiAgICB0aGlzLnJlZl92YWx1ZTEgPSB0aGlzLmRhdGEuZmluZChcbiAgICAgIGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbilbdGhpcy52YXJpYWJsZTFdO1xuICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgICB0aGlzLnVwZGF0ZVRhYmxlU3RhdCgpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cblxuICBjaGFuZ2VWYXJpYWJsZVkoY29kZV92YXJpYWJsZSkge1xuICAgIHRoaXMudmFyaWFibGUyID0gY29kZV92YXJpYWJsZTtcbiAgICB0aGlzLnJhbmtfdmFyaWFibGUyID0gYHByXyR7dGhpcy52YXJpYWJsZTJ9YDtcbiAgICB0aGlzLnByZXR0eV9uYW1lMiA9IHZhcmlhYmxlc19pbmZvLmZpbmQoZnQgPT4gZnQucmF0aW8gPT09IGNvZGVfdmFyaWFibGUpLm5hbWU7XG4gICAgc3ZnX2Jhci5zZWxlY3QoJyN0aXRsZS1heGlzLXknKVxuICAgICAgLnRleHQoY29kZV92YXJpYWJsZSk7XG4gICAgLy8gVE9ETzogQWxzbyBjaGFuZ2UgdGhlIHBvc2l0aW9uIG9mIHRoZSBidXR0b24gYWxvd2luZyB0byBpbnZlcnNlIHRoZSBzZXJpZVxuICAgIHRoaXMudXBkYXRlSXRlbXNDdHhNZW51KCk7XG4gICAgdGhpcy5kYXRhID0gYXBwLmN1cnJlbnRfZGF0YS5maWx0ZXIoZnQgPT4gISFmdFt0aGlzLnZhcmlhYmxlMV0gJiYgISFmdFt0aGlzLnZhcmlhYmxlMl0pXG4gICAgICAubWFwKChkKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcyA9IHsgaWQ6IGQuaWQgfTtcbiAgICAgICAgcmVzW3RoaXMudmFyaWFibGUxXSA9IGRbdGhpcy52YXJpYWJsZTFdO1xuICAgICAgICByZXNbdGhpcy52YXJpYWJsZTJdID0gZFt0aGlzLnZhcmlhYmxlMl07XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgICB9KTtcbiAgICB0aGlzLmN1cnJlbnRfaWRzID0gdGhpcy5kYXRhLm1hcChkID0+IGQuaWQpO1xuICAgIHJlc2V0Q29sb3JzKCk7XG4gICAgdGhpcy5uYkZ0ID0gdGhpcy5kYXRhLmxlbmd0aDtcbiAgICBjb21wdXRlUGVyY2VudGlsZVJhbmsodGhpcy5kYXRhLCB0aGlzLnZhcmlhYmxlMSwgdGhpcy5yYW5rX3ZhcmlhYmxlMSk7XG4gICAgY29tcHV0ZVBlcmNlbnRpbGVSYW5rKHRoaXMuZGF0YSwgdGhpcy52YXJpYWJsZTIsIHRoaXMucmFua192YXJpYWJsZTIpO1xuICAgIHRoaXMucmVmX3ZhbHVlMiA9IHRoaXMuZGF0YS5maW5kKFxuICAgICAgZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVt0aGlzLnZhcmlhYmxlMl07XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICAgIHRoaXMudXBkYXRlVGFibGVTdGF0KCk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIHVwZGF0ZUl0ZW1zQ3R4TWVudSgpIHtcbiAgICB0aGlzLml0ZW1zWCA9IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpby5maWx0ZXIoZWxlbSA9PiBlbGVtICE9PSB0aGlzLnZhcmlhYmxlMilcbiAgICAgIC5tYXAoZWxlbSA9PiAoe1xuICAgICAgICBuYW1lOiBlbGVtLFxuICAgICAgICBhY3Rpb246ICgpID0+IHRoaXMuY2hhbmdlVmFyaWFibGVYKGVsZW0pLFxuICAgICAgfSkpO1xuICAgIHRoaXMuaXRlbXNZID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvLmZpbHRlcihlbGVtID0+IGVsZW0gIT09IHRoaXMudmFyaWFibGUxKVxuICAgICAgLm1hcChlbGVtID0+ICh7XG4gICAgICAgIG5hbWU6IGVsZW0sXG4gICAgICAgIGFjdGlvbjogKCkgPT4gdGhpcy5jaGFuZ2VWYXJpYWJsZVkoZWxlbSksXG4gICAgICB9KSk7XG4gIH1cblxuICBhZGRWYXJpYWJsZShjb2RlX3ZhcmlhYmxlLCBuYW1lX3ZhcmlhYmxlKSB7XG4gICAgdGhpcy5pdGVtc1gucHVzaCh7XG4gICAgICBuYW1lOiBjb2RlX3ZhcmlhYmxlLFxuICAgICAgYWN0aW9uOiAoKSA9PiB0aGlzLmNoYW5nZVZhcmlhYmxlWChjb2RlX3ZhcmlhYmxlKSxcbiAgICB9KTtcbiAgICB0aGlzLml0ZW1zWS5wdXNoKHtcbiAgICAgIG5hbWU6IGNvZGVfdmFyaWFibGUsXG4gICAgICBhY3Rpb246ICgpID0+IHRoaXMuY2hhbmdlVmFyaWFibGVZKGNvZGVfdmFyaWFibGUpLFxuICAgIH0pO1xuICB9XG5cbiAgcmVtb3ZlVmFyaWFibGUoY29kZV92YXJpYWJsZSkge1xuICAgIC8vIFJlbW92ZSB0aGUgdmFyaWFibGUgZnJvbSB0aGUgWCBhbmQgWSBsaXN0IG9mIGl0ZW1zOlxuICAgIGZvciAobGV0IGkgPSB0aGlzLml0ZW1zWC5sZW5ndGggLSAxOyBpID4gLTE7IGktLSkge1xuICAgICAgaWYgKHRoaXMuaXRlbXNYW2ldLm5hbWUgPT09IGNvZGVfdmFyaWFibGUpIHtcbiAgICAgICAgdGhpcy5pdGVtc1guc3BsaWNlKGksIDEpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IHRoaXMuaXRlbXNZLmxlbmd0aCAtIDE7IGkgPiAtMTsgaS0tKSB7XG4gICAgICBpZiAodGhpcy5pdGVtc1lbaV0ubmFtZSA9PT0gY29kZV92YXJpYWJsZSkge1xuICAgICAgICB0aGlzLml0ZW1zWS5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIHRoZSB2YXJpYWJsZSB0byByZW1vdmUgd2FzIGN1cnJlbnRseSB1c2VkIGZvciBkcmF3aW5nIHRoaXMgY2hhcnQsXG4gICAgLy8gc2V0IGEgbmV3IHZhcmlhYmxlIGZvciB0aGlzIGF4aXMgYW5kIHJlZHJhdyB0aGUgY2hhcnQ6XG4gICAgaWYgKGNvZGVfdmFyaWFibGUgPT09IHRoaXMudmFyaWFibGUxKSB7XG4gICAgICBjb25zdCBuZXdfdmFyX3ggPSB0aGlzLml0ZW1zWC5maWx0ZXIoZnQgPT4gZnQubmFtZSAhPT0gdGhpcy52YXJpYWJsZTIpWzBdLm5hbWU7XG4gICAgICB0aGlzLmNoYW5nZVZhcmlhYmxlWChuZXdfdmFyX3gpO1xuICAgIH0gZWxzZSBpZiAoY29kZV92YXJpYWJsZSA9PT0gdGhpcy52YXJpYWJsZTIpIHtcbiAgICAgIGNvbnN0IG5ld192YXJfeSA9IHRoaXMuaXRlbXNZLmZpbHRlcihmdCA9PiBmdC5uYW1lICE9PSB0aGlzLnZhcmlhYmxlMSlbMF0ubmFtZTtcbiAgICAgIHRoaXMuY2hhbmdlVmFyaWFibGVZKG5ld192YXJfeSk7XG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlKCkge1xuICAgIHRoaXMudGFibGVfc3RhdHMucmVtb3ZlKCk7XG4gICAgdGhpcy5tYXBfZWxlbS51bmJpbmRCcnVzaENsaWNrKCk7XG4gICAgdGhpcy5tYXBfZWxlbSA9IG51bGw7XG4gICAgc3ZnX2Jhci5odG1sKCcnKTtcbiAgfVxuXG4gIGJpbmRNYXAobWFwX2VsZW0pIHtcbiAgICB0aGlzLm1hcF9lbGVtID0gbWFwX2VsZW07XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cblxuICBiaW5kTWVudSgpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBtZW51ID0gZDMuc2VsZWN0KCcjbWVudV9zZWxlY3Rpb24nKTtcblxuICAgIG1lbnUuc2VsZWN0KCcjaW5kX3Jhd192YWx1ZXMnKVxuICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLnR5cGUgPSAndmFsdWUnO1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICBtZW51LnNlbGVjdCgnI2luZF9yYW5rcycpXG4gICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2Nob2ljZV9pbmQnKTtcbiAgICAgICAgLy8gc2VsZi5nX2Jhci5zZWxlY3RBbGwoJ2cnKS5yZW1vdmUoKTtcbiAgICAgICAgc2VsZi51cGRhdGUoKTtcbiAgICAgIH0pO1xuXG4gICAgbWVudS5zZWxlY3QoJyNpbmRfcmFua3MnKVxuICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLnR5cGUgPSAncmFuayc7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIG1lbnUuc2VsZWN0KCcjaW5kX3Jhd192YWx1ZXMnKVxuICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdjaG9pY2VfaW5kJyk7XG4gICAgICAgIC8vIHNlbGYuZ19iYXIuc2VsZWN0QWxsKCdyZWN0JykucmVtb3ZlKCk7XG4gICAgICAgIHNlbGYudXBkYXRlKCk7XG4gICAgICB9KTtcbiAgfVxuXG4gIHByZXBhcmVUYWJsZVN0YXQoKSB7XG4gICAgY29uc3QgdmFsdWVzMSA9IHRoaXMuZGF0YS5tYXAoZCA9PiBkW3RoaXMudmFyaWFibGUxXSk7XG4gICAgY29uc3QgdmFsdWVzMiA9IHRoaXMuZGF0YS5tYXAoZCA9PiBkW3RoaXMudmFyaWFibGUyXSk7XG4gICAgY29uc3QgZmVhdHVyZXMgPSBbXG4gICAgICB7XG4gICAgICAgIE1pbjogZDMubWluKHZhbHVlczEpLFxuICAgICAgICBNYXg6IGQzLm1heCh2YWx1ZXMxKSxcbiAgICAgICAgTW95ZW5uZTogZ2V0TWVhbih2YWx1ZXMxKSxcbiAgICAgICAgaWQ6IHRoaXMudmFyaWFibGUxLFxuICAgICAgICBWYXJpYWJsZTogdGhpcy52YXJpYWJsZTEsXG4gICAgICAgICdNYSByw6lnaW9uJzogdGhpcy5yZWZfdmFsdWUxLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgTWluOiBkMy5taW4odmFsdWVzMiksXG4gICAgICAgIE1heDogZDMubWF4KHZhbHVlczIpLFxuICAgICAgICBNb3llbm5lOiBnZXRNZWFuKHZhbHVlczIpLFxuICAgICAgICBpZDogdGhpcy52YXJpYWJsZTIsXG4gICAgICAgIFZhcmlhYmxlOiB0aGlzLnZhcmlhYmxlMixcbiAgICAgICAgJ01hIHLDqWdpb24nOiB0aGlzLnJlZl92YWx1ZTIsXG4gICAgICB9XTtcbiAgICByZXR1cm4gZmVhdHVyZXM7XG4gIH1cblxuICB1cGRhdGVUYWJsZVN0YXQoKSB7XG4gICAgdGhpcy50YWJsZV9zdGF0cy5yZW1vdmVBbGwoKTtcbiAgICB0aGlzLnRhYmxlX3N0YXRzLmFkZEZlYXR1cmVzKHRoaXMucHJlcGFyZVRhYmxlU3RhdCgpKTtcbiAgfVxuXG4gIG1ha2VUYWJsZVN0YXQoKSB7XG4gICAgY29uc3QgZmVhdHVyZXMgPSB0aGlzLnByZXBhcmVUYWJsZVN0YXQoKTtcbiAgICB0aGlzLnRhYmxlX3N0YXRzID0gbmV3IFRhYmxlUmVzdW1lU3RhdChmZWF0dXJlcyk7XG4gIH1cblxufVxuIiwiaW1wb3J0IHtcbiAgbWF0aF9tYXgsIG1hdGhfc2luLCBtYXRoX2NvcywgSEFMRl9QSSwgX2dldFBSLCBjb21wdXRlUGVyY2VudGlsZVJhbmssIGdldE1lYW4gfSBmcm9tICcuLy4uL2hlbHBlcnMnO1xuaW1wb3J0IHsgY29sb3JfZGlzYWJsZWQsIGNvbG9yX2NvdW50cmllcywgY29sb3JfaGlnaGxpZ2h0LCBjb2xvcl9kZWZhdWx0X2Rpc3NpbSB9IGZyb20gJy4vLi4vb3B0aW9ucyc7XG5pbXBvcnQgeyBjYWxjUG9wQ29tcGxldHVkZVN1YnNldCB9IGZyb20gJy4vLi4vcHJlcGFyZV9kYXRhJztcbmltcG9ydCB7IGFwcCwgdmFyaWFibGVzX2luZm8sIHJlc2V0Q29sb3JzIH0gZnJvbSAnLi8uLi8uLi9tYWluJztcbmltcG9ydCBUYWJsZVJlc3VtZVN0YXQgZnJvbSAnLi8uLi90YWJsZVJlc3VtZVN0YXQnO1xuXG5jb25zdCBzdmdfYmFyID0gZDMuc2VsZWN0KCcjc3ZnX2JhcicpO1xuY29uc3QgbWFyZ2luID0geyB0b3A6IDcwLCByaWdodDogNzAsIGJvdHRvbTogNzAsIGxlZnQ6IDcwIH07XG5cbmNvbnN0IHdpZHRoID0gK3N2Z19iYXIuYXR0cignd2lkdGgnKSAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0LFxuICBoZWlnaHQgPSArc3ZnX2Jhci5hdHRyKCdoZWlnaHQnKSAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tO1xuXG5jb25zdCB3cmFwID0gKF90ZXh0LCBfd2lkdGgpID0+IHtcbiAgX3RleHQuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgdGV4dCA9IGQzLnNlbGVjdCh0aGlzKSxcbiAgICAgIHdvcmRzID0gdGV4dC50ZXh0KCkuc3BsaXQoL1xccysvKS5yZXZlcnNlKCksXG4gICAgICBsaW5lSGVpZ2h0ID0gMS40LCAvLyBlbXNcbiAgICAgIHkgPSB0ZXh0LmF0dHIoJ3knKSxcbiAgICAgIHggPSB0ZXh0LmF0dHIoJ3gnKSxcbiAgICAgIGR5ID0gcGFyc2VGbG9hdCh0ZXh0LmF0dHIoJ2R5JykpO1xuICAgIGxldCBsaW5lID0gW10sXG4gICAgICBsaW5lTnVtYmVyID0gMDtcbiAgICBsZXQgdHNwYW4gPSB0ZXh0LnRleHQobnVsbClcbiAgICAgIC5hcHBlbmQoJ3RzcGFuJylcbiAgICAgIC5hdHRyKCd4JywgeClcbiAgICAgIC5hdHRyKCd5JywgeSlcbiAgICAgIC5hdHRyKCdkeScsIGAke2R5fWVtYCk7XG4gICAgbGV0IHdvcmQgPSB3b3Jkcy5wb3AoKTtcbiAgICB3aGlsZSAod29yZCkge1xuICAgICAgbGluZS5wdXNoKHdvcmQpO1xuICAgICAgdHNwYW4udGV4dChsaW5lLmpvaW4oJyAnKSk7XG4gICAgICBpZiAodHNwYW4ubm9kZSgpLmdldENvbXB1dGVkVGV4dExlbmd0aCgpID4gX3dpZHRoKSB7XG4gICAgICAgIGxpbmUucG9wKCk7XG4gICAgICAgIHRzcGFuLnRleHQobGluZS5qb2luKCcgJykpO1xuICAgICAgICBsaW5lID0gW3dvcmRdO1xuICAgICAgICB0c3BhbiA9IHRleHQuYXBwZW5kKCd0c3BhbicpXG4gICAgICAgICAgLmF0dHIoJ3gnLCB4KVxuICAgICAgICAgIC5hdHRyKCd5JywgeSlcbiAgICAgICAgICAuYXR0cignZHknLCBgJHsrK2xpbmVOdW1iZXIgKiBsaW5lSGVpZ2h0ICsgZHl9ZW1gKVxuICAgICAgICAgIC50ZXh0KHdvcmQpO1xuICAgICAgfVxuICAgICAgd29yZCA9IHdvcmRzLnBvcCgpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5jb25zdCBtb3ZlID0gZnVuY3Rpb24gbW92ZShhcnJheSwgZnJvbSwgdG8pIHtcbiAgYXJyYXkuc3BsaWNlKHRvLCAwLCBhcnJheS5zcGxpY2UoZnJvbSwgMSlbMF0pO1xuICByZXR1cm4gYXJyYXk7XG59O1xuXG5jb25zdCBzd2FwID0gZnVuY3Rpb24gc3dhcChhcnJheSwgaXgxLCBpeDIpIHtcbiAgW2FycmF5W2l4MV0sIGFycmF5W2l4Ml1dID0gW2FycmF5W2l4Ml0sIGFycmF5W2l4MV1dOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIHJldHVybiBhcnJheTtcbn07XG5cbmV4cG9ydCBjb25zdCBwcmVwYXJlX2RhdGFfcmFkYXJfZGVmYXVsdCA9IChkYXRhLCB2YXJpYWJsZXMpID0+IHtcbiAgLy8gUHJlcGFyZSB0aGUgZGF0YSBmb3IgXCJNeSBSw6lnaW9uXCI6XG4gIGNvbnN0IHZfbXlfcmVnaW9uID0gZGF0YS5maW5kKGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbik7XG4gIGNvbnN0IG9qYl9teV9yZWdpb24gPSB7XG4gICAgbmFtZTogYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbixcbiAgICBheGVzOiBbXSxcbiAgfTtcbiAgdmFyaWFibGVzLmZvckVhY2goKHYpID0+IHtcbiAgICBjb25zdCB0ID0gdmFyaWFibGVzX2luZm8uZmluZChkID0+IGQucmF0aW8gPT09IHYpLm5hbWU7XG4gICAgY29uc3QgX3YgPSBgcHJfJHt2fWA7XG4gICAgb2piX215X3JlZ2lvbi5heGVzLnB1c2goe1xuICAgICAgYXhpczogdCwgdmFsdWU6IHZfbXlfcmVnaW9uW192XSxcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBvamJfbXlfcmVnaW9uO1xufTtcblxuZXhwb3J0IGNvbnN0IHByZXBhcmVfZGF0YV9yYWRhcl9mdCA9IChkYXRhLCB2YXJpYWJsZXMsIGZ0KSA9PiB7XG4gIGNvbnN0IGZ0X3ZhbHVlcyA9IGRhdGEuZmluZChkID0+IGQuaWQgPT09IGZ0KTtcbiAgaWYgKCFmdF92YWx1ZXMpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBvYmogPSB7XG4gICAgbmFtZTogZnQsXG4gICAgYXhlczogW10sXG4gIH07XG4gIHZhcmlhYmxlcy5mb3JFYWNoKCh2KSA9PiB7XG4gICAgY29uc3QgdCA9IHZhcmlhYmxlc19pbmZvLmZpbmQoZCA9PiBkLnJhdGlvID09PSB2KS5uYW1lO1xuICAgIGNvbnN0IF92ID0gYHByXyR7dn1gO1xuICAgIG9iai5heGVzLnB1c2goe1xuICAgICAgYXhpczogdCwgdmFsdWU6IGZ0X3ZhbHVlc1tfdl0sXG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gb2JqO1xufTtcblxuZXhwb3J0IGNsYXNzIFJhZGFyQ2hhcnQzIHtcbiAgY29uc3RydWN0b3IoZGF0YSwgb3B0aW9ucykge1xuICAgIGNvbnN0IGNmZyA9IHtcbiAgICAgIHc6IHdpZHRoLCAvLyBXaWR0aCBvZiB0aGUgY2lyY2xlXG4gICAgICBoOiBoZWlnaHQsIC8vIEhlaWdodCBvZiB0aGUgY2lyY2xlXG4gICAgICBtYXJnaW46IG1hcmdpbiwgLy8gVGhlIG1hcmdpbnMgb2YgdGhlIFNWR1xuICAgICAgbGV2ZWxzOiAxMCwgLy8gSG93IG1hbnkgbGV2ZWxzIG9yIGlubmVyIGNpcmNsZXMgc2hvdWxkIHRoZXJlIGJlIGRyYXduXG4gICAgICBtYXhWYWx1ZTogMTAwLCAvLyBXaGF0IGlzIHRoZSB2YWx1ZSB0aGF0IHRoZSBiaWdnZXN0IGNpcmNsZSB3aWxsIHJlcHJlc2VudFxuICAgICAgbGFiZWxGYWN0b3I6IDEuMywgLy8gSG93IG11Y2ggZmFydGhlciB0aGFuIHRoZSByYWRpdXMgb2YgdGhlIG91dGVyIGNpcmNsZSBzaG91bGQgdGhlIGxhYmVscyBiZSBwbGFjZWRcbiAgICAgIHdyYXBXaWR0aDogODUsIC8vIFRoZSBudW1iZXIgb2YgcGl4ZWxzIGFmdGVyIHdoaWNoIGEgbGFiZWwgbmVlZHMgdG8gYmUgZ2l2ZW4gYSBuZXcgbGluZVxuICAgICAgb3BhY2l0eUFyZWE6IDAuMzUsIC8vIFRoZSBvcGFjaXR5IG9mIHRoZSBhcmVhIG9mIHRoZSBibG9iXG4gICAgICBkb3RSYWRpdXM6IDQsIC8vIFRoZSBzaXplIG9mIHRoZSBjb2xvcmVkIGNpcmNsZXMgb2YgZWFjaCBibG9nXG4gICAgICBvcGFjaXR5Q2lyY2xlczogMC4xLCAvLyBUaGUgb3BhY2l0eSBvZiB0aGUgY2lyY2xlcyBvZiBlYWNoIGJsb2JcbiAgICAgIHN0cm9rZVdpZHRoOiAyLCAvLyBUaGUgd2lkdGggb2YgdGhlIHN0cm9rZSBhcm91bmQgZWFjaCBibG9iXG4gICAgICByb3VuZFN0cm9rZXM6IGZhbHNlLCAvLyBJZiB0cnVlIHRoZSBhcmVhIGFuZCBzdHJva2Ugd2lsbCBmb2xsb3cgYSByb3VuZCBwYXRoIChjYXJkaW5hbC1jbG9zZWQpXG4gICAgICBjb2xvcjogZDMuc2NhbGVPcmRpbmFsKGQzLnNjaGVtZUNhdGVnb3J5MTApLCAvLyBDb2xvciBmdW5jdGlvbixcbiAgICAgIGZvcm1hdDogJy4yJywgLy8gVGhlIGZvcm1hdCBzdHJpbmcgdG8gYmUgdXNlZCBieSBkMy5mb3JtYXRcbiAgICAgIHVuaXQ6ICclJywgLy8gVGhlIHVuaXQgdG8gZGlzcGxheSBhZnRlciB0aGUgbnVtYmVyIG9uIHRoZSBheGlzIGFuZCBwb2ludCB0b29sdGlwcyAobGlrZSAkLCDigqwsICUsIGV0YylcbiAgICAgIGxlZ2VuZDogZmFsc2UsXG4gICAgICBhbGxvd0ludmVyc2VEYXRhOiB0cnVlLFxuICAgIH07XG4gICAgdGhpcy5jZmcgPSBjZmc7XG4gICAgLy8gUHV0IGFsbCBvZiB0aGUgb3B0aW9ucyBpbnRvIGEgdmFyaWFibGUgY2FsbGVkIGNmZ1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGZvciAoY29uc3QgaSBpbiBvcHRpb25zKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uc1tpXSAhPT0gJ3VuZGVmaW5lZCcpIHsgY2ZnW2ldID0gb3B0aW9uc1tpXTsgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZyA9IHN2Z19iYXIuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdpZCcsICdSYWRhckdycCcpXG4gICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke2NmZy53IC8gMiArIGNmZy5tYXJnaW4ubGVmdH0sJHtjZmcuaCAvIDIgKyBjZmcubWFyZ2luLnRvcH0pYCk7XG5cbiAgICB0aGlzLnByZXBhcmVEYXRhKGRhdGEpO1xuICAgIHRoaXMuZHJhd0F4aXNHcmlkKCk7XG4gICAgdGhpcy5kcmF3QXJlYSgpO1xuICAgIHRoaXMuaGFuZGxlTGVnZW5kKCk7XG4gICAgLy8gQ29tcHV0ZSB0aGUgXCJjb21wbMOpdHVkZVwiIHZhbHVlIGZvciB0aGVzZSByYXRpb3M6XG4gICAgdGhpcy5jb21wbGV0dWRlX3ZhbHVlID0gY2FsY1BvcENvbXBsZXR1ZGVTdWJzZXQoYXBwLCB0aGlzLnZhcmlhYmxlcyk7XG5cbiAgICAvLyBDcmVhdGUgdGhlIFwiY29tcGzDqXR1ZGVcIiB0ZXh0OlxuICAgIHRoaXMuY29tcGxldHVkZSA9IHN2Z19iYXIuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRycyh7IGlkOiAnY2hhcnRfY29tcGxldHVkZScsIHg6IDYwLCB5OiA0MCB9KVxuICAgICAgLnN0eWxlcyh7ICdmb250LWZhbWlseSc6ICdcXCdTaWduaWthXFwnLCBzYW5zLXNlcmlmJyB9KVxuICAgICAgLnRleHQoYENvbXBsw6l0dWRlIDogJHt0aGlzLmNvbXBsZXR1ZGVfdmFsdWV9JWApO1xuXG4gICAgaWYgKGNmZy5hbGxvd0ludmVyc2VEYXRhKSB7XG4gICAgICB0aGlzLmludmVyc2VfZGF0YSA9IChmaWVsZCkgPT4ge1xuICAgICAgICBjb25zdCBkYXRhX2xlbmd0aCA9IHRoaXMuZGF0YS5sZW5ndGg7XG4gICAgICAgIGlmICghZmllbGQpIHtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGFfbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF4ID0gdGhpcy5kYXRhW2ldLmF4ZXM7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGF4Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgIGF4W2pdLnZhbHVlID0gMTAwIC0gYXhbal0udmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YV9sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgYXggPSB0aGlzLmRhdGFbaV0uYXhlcztcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYXgubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgaWYgKGF4W2pdLmF4aXMgPT09IGZpZWxkKSB7XG4gICAgICAgICAgICAgICAgYXhbal0udmFsdWUgPSAxMDAgLSBheFtqXS52YWx1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgfTtcbiAgICB9XG4gICAgdGhpcy5tYWtlVGFibGVTdGF0KCk7XG4gIH1cblxuICBhZGRfZWxlbWVudChlbGVtKSB7XG4gICAgY29uc3Qgbl9heGlzID0gZWxlbS5heGVzLm1hcChpID0+IGkuYXhpcyk7XG4gICAgaWYgKCEoSlNPTi5zdHJpbmdpZnkobl9heGlzKSA9PT0gSlNPTi5zdHJpbmdpZnkodGhpcy5hbGxBeGlzKSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgZWxlbWVudCB3aXRoIHNhbWUgYXhlcyBuYW1lIHRoYW4gZXhpc3RpbmcgZGF0YS4nKTtcbiAgICB9XG4gICAgdGhpcy5kYXRhLnB1c2goZWxlbSk7XG4gICAgdGhpcy5kaXNwbGF5ZWRfaWRzLnB1c2goZWxlbS5uYW1lKTtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuZGF0YS5sZW5ndGg7IGorKykge1xuICAgICAgY29uc3Qgb25fYXhlcyA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmRhdGFbal0uYXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLmRhdGFbal0uYXhlc1tpXS5pZCA9IHRoaXMuZGF0YVtqXS5uYW1lO1xuICAgICAgICBvbl9heGVzLnB1c2godGhpcy5kYXRhW2pdLm5hbWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGNmZyA9IHRoaXMuY2ZnO1xuICAgIGNvbnN0IG4gPSB0aGlzLmRhdGEubGVuZ3RoIC0gMTtcbiAgICBjb25zdCBibG9iV3JhcHBlciA9IHRoaXMuZ1xuICAgICAgLmluc2VydCgnZycsICcucmFkYXJDaXJjbGVXcmFwcGVyJylcbiAgICAgIC5hdHRyKCdpZCcsIGVsZW0ubmFtZS5pbmRleE9mKCcgJykgPiAtMSA/ICdjdHgnIDogZWxlbS5uYW1lKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ3JhZGFyV3JhcHBlcicpO1xuXG4gICAgLy8gQXBwZW5kIHRoZSBiYWNrZ3JvdW5kc1xuICAgIGJsb2JXcmFwcGVyXG4gICAgICAuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdyYWRhckFyZWEnKVxuICAgICAgLmF0dHIoJ2QnLCB0aGlzLnJhZGFyTGluZShlbGVtLmF4ZXMpKVxuICAgICAgLnN0eWxlKCdmaWxsJywgY2ZnLmNvbG9yKG4pKVxuICAgICAgLnN0eWxlKCdmaWxsLW9wYWNpdHknLCAwKVxuICAgICAgLnN0eWxlKCdmaWxsLW9wYWNpdHknLCBjZmcub3BhY2l0eUFyZWEpXG4gICAgICAub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gRGltIGFsbCBibG9ic1xuICAgICAgICBibG9iV3JhcHBlci5zZWxlY3RBbGwoJy5yYWRhckFyZWEnKVxuICAgICAgICAgIC50cmFuc2l0aW9uKCkuZHVyYXRpb24oMjAwKVxuICAgICAgICAgIC5zdHlsZSgnZmlsbC1vcGFjaXR5JywgMC4xKTtcbiAgICAgICAgLy8gQnJpbmcgYmFjayB0aGUgaG92ZXJlZCBvdmVyIGJsb2JcbiAgICAgICAgZDMuc2VsZWN0KHRoaXMpXG4gICAgICAgICAgLnRyYW5zaXRpb24oKS5kdXJhdGlvbigyMDApXG4gICAgICAgICAgLnN0eWxlKCdmaWxsLW9wYWNpdHknLCAwLjcpO1xuICAgICAgfSlcbiAgICAgIC5vbignbW91c2VvdXQnLCAoKSA9PiB7XG4gICAgICAgIC8vIEJyaW5nIGJhY2sgYWxsIGJsb2JzXG4gICAgICAgIGJsb2JXcmFwcGVyLnNlbGVjdEFsbCgnLnJhZGFyQXJlYScpXG4gICAgICAgICAgLnRyYW5zaXRpb24oKS5kdXJhdGlvbigyMDApXG4gICAgICAgICAgLnN0eWxlKCdmaWxsLW9wYWNpdHknLCBjZmcub3BhY2l0eUFyZWEpO1xuICAgICAgfSk7XG4gICAgICAvLyAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgLy8gICBjb25zdCBwID0gdGhpcy5wYXJlbnRFbGVtZW50O1xuICAgICAgLy8gICBpZiAocC5wcmV2aW91c1NpYmxpbmcuY2xhc3NOYW1lICE9PSAndG9vbHRpcCcpIHtcbiAgICAgIC8vICAgICBjb25zdCBncm91cCA9IGcubm9kZSgpO1xuICAgICAgLy8gICAgIGdyb3VwLmluc2VydEJlZm9yZShwLCBncm91cC5xdWVyeVNlbGVjdG9yKCcudG9vbHRpcCcpKTtcbiAgICAgIC8vICAgICBjb25zdCBuZXdfb3JkZXIgPSBbXTtcbiAgICAgIC8vICAgICBnLnNlbGVjdEFsbCgnLnJhZGFyV3JhcHBlcicpLmVhY2goZCA9PiBuZXdfb3JkZXIucHVzaChkLm5hbWUpKTtcbiAgICAgIC8vICAgICBuZXdfb3JkZXIucmV2ZXJzZSgpO1xuICAgICAgLy8gICAgIHVwZGF0ZUxlZ2VuZChuZXdfb3JkZXIpO1xuICAgICAgLy8gICB9XG4gICAgICAvLyB9KTtcblxuICAgIC8vIENyZWF0ZSB0aGUgb3V0bGluZXNcbiAgICBibG9iV3JhcHBlci5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ3JhZGFyU3Ryb2tlJylcbiAgICAgIC5hdHRyKCdkJywgdGhpcy5yYWRhckxpbmUoZWxlbS5heGVzKSlcbiAgICAgIC5zdHlsZSgnc3Ryb2tlLXdpZHRoJywgYCR7Y2ZnLnN0cm9rZVdpZHRofXB4YClcbiAgICAgIC5zdHlsZSgnc3Ryb2tlJywgY2ZnLmNvbG9yKG4pKVxuICAgICAgLnN0eWxlKCdmaWxsJywgJ25vbmUnKVxuICAgICAgLnN0eWxlKCdmaWx0ZXInLCAndXJsKCNnbG93KScpO1xuXG4gICAgLy8gQXBwZW5kIHRoZSBjaXJjbGVzXG4gICAgYmxvYldyYXBwZXIuc2VsZWN0QWxsKCcucmFkYXJDaXJjbGUnKVxuICAgICAgLmRhdGEoZWxlbS5heGVzKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ2NpcmNsZScpXG4gICAgICAuYXR0cignY2xhc3MnLCAncmFkYXJDaXJjbGUnKVxuICAgICAgLmF0dHIoJ3InLCBjZmcuZG90UmFkaXVzKVxuICAgICAgLmF0dHIoJ2N4JywgKGQsIGkpID0+IHRoaXMuclNjYWxlKGQudmFsdWUpICogbWF0aF9jb3ModGhpcy5hbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpKVxuICAgICAgLmF0dHIoJ2N5JywgKGQsIGkpID0+IHRoaXMuclNjYWxlKGQudmFsdWUpICogbWF0aF9zaW4odGhpcy5hbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpKVxuICAgICAgLnN0eWxlKCdmaWxsJywgZCA9PiBjZmcuY29sb3IoZC5pZCkpXG4gICAgICAuc3R5bGUoJ2ZpbGwtb3BhY2l0eScsIDAuOCk7XG5cbiAgICBibG9iV3JhcHBlci5ub2RlKCkuX19kYXRhX18gPSBlbGVtO1xuXG4gICAgLy8gLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIC8vIC8vLy8vLyBBcHBlbmQgaW52aXNpYmxlIGNpcmNsZXMgZm9yIHRvb2x0aXAgLy8vLy8vLy8vLy9cbiAgICAvLyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAvLyBXcmFwcGVyIGZvciB0aGUgaW52aXNpYmxlIGNpcmNsZXMgb24gdG9wXG4gICAgY29uc3QgYmxvYkNpcmNsZVdyYXBwZXIgPSB0aGlzLmdcbiAgICAgIC5pbnNlcnQoJ2cnLCAnLnRvb2x0aXAnKVxuICAgICAgLmF0dHIoJ2lkJywgZWxlbS5uYW1lLmluZGV4T2YoJyAnKSA+IC0xID8gJ2N0eCcgOiBlbGVtLm5hbWUpXG4gICAgICAuYXR0cignY2xhc3MnLCAncmFkYXJDaXJjbGVXcmFwcGVyJyk7XG5cbiAgICBibG9iQ2lyY2xlV3JhcHBlci5ub2RlKCkuX19kYXRhX18gPSBlbGVtO1xuXG4gICAgLy8gQXBwZW5kIGEgc2V0IG9mIGludmlzaWJsZSBjaXJjbGVzIG9uIHRvcCBmb3IgdGhlIG1vdXNlb3ZlciBwb3AtdXBcbiAgICBibG9iQ2lyY2xlV3JhcHBlci5zZWxlY3RBbGwoJy5yYWRhckludmlzaWJsZUNpcmNsZScpXG4gICAgICAuZGF0YShlbGVtLmF4ZXMpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgnY2lyY2xlJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdyYWRhckludmlzaWJsZUNpcmNsZScpXG4gICAgICAuYXR0cigncicsIGNmZy5kb3RSYWRpdXMgKiAxLjUpXG4gICAgICAuYXR0cignY3gnLCAoZCwgaSkgPT4gdGhpcy5yU2NhbGUoZC52YWx1ZSkgKiBtYXRoX2Nvcyh0aGlzLmFuZ2xlU2xpY2UgKiBpIC0gSEFMRl9QSSkpXG4gICAgICAuYXR0cignY3knLCAoZCwgaSkgPT4gdGhpcy5yU2NhbGUoZC52YWx1ZSkgKiBtYXRoX3Npbih0aGlzLmFuZ2xlU2xpY2UgKiBpIC0gSEFMRl9QSSkpXG4gICAgICAuc3R5bGUoJ2ZpbGwnLCAnbm9uZScpXG4gICAgICAuc3R5bGUoJ3BvaW50ZXItZXZlbnRzJywgJ2FsbCcpXG4gICAgICAub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgIHNlbGYuZy5zZWxlY3QoJy50b29sdGlwJylcbiAgICAgICAgICAuYXR0cigneCcsIHRoaXMuY3guYmFzZVZhbC52YWx1ZSAtIDEwKVxuICAgICAgICAgIC5hdHRyKCd5JywgdGhpcy5jeS5iYXNlVmFsLnZhbHVlIC0gMTApXG4gICAgICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgICAgIC5zdHlsZSgnZGlzcGxheScsICdibG9jaycpXG4gICAgICAgICAgLnRleHQodGhpcy5Gb3JtYXQoZC52YWx1ZSkgKyBjZmcudW5pdCk7XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZW91dCcsICgpID0+IHtcbiAgICAgICAgc2VsZi5nLnNlbGVjdCgnLnRvb2x0aXAnKS50cmFuc2l0aW9uKClcbiAgICAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpLnRleHQoJycpO1xuICAgICAgfSk7XG4gIH1cblxuICBjaGFuZ2VPcmRlcigpIHtcbiAgICB0aGlzLmRhdGEgPSB0aGlzLmRhdGEuc2xpY2UoMSwgdGhpcy5kYXRhLmxlbmd0aCkuY29uY2F0KHRoaXMuZGF0YS5zbGljZSgwLCAxKSk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIHByZXBhcmVEYXRhKGRhdGEpIHtcbiAgICAvLyBTZXQgdGhlIG1pbmltdW0gbnVtYmVyIG9mIHZhcmlhYmxlcyB0byBrZWVwIHNlbGVjdGVkIGZvciB0aGlzIGtpbmQgb2YgY2hhcnQ6XG4gICAgYXBwLmN1cnJlbnRfY29uZmlnLm5iX3ZhciA9IDM7XG4gICAgdGhpcy52YXJpYWJsZXMgPSBhcHAuY3VycmVudF9jb25maWcucmF0aW87XG4gICAgdGhpcy5yZWZfZGF0YSA9IGRhdGEuc2xpY2UoKS5maWx0ZXIoXG4gICAgICBmdCA9PiB0aGlzLnZhcmlhYmxlcy5tYXAodiA9PiAhIWZ0W3ZdKS5ldmVyeShkID0+IGQgPT09IHRydWUpKTtcbiAgICB0aGlzLnJhbmtfdmFyaWFibGVzID0gdGhpcy52YXJpYWJsZXMubWFwKGQgPT4gYHByXyR7ZH1gKTtcbiAgICB0aGlzLnZhcmlhYmxlcy5mb3JFYWNoKChkLCBpKSA9PiB7XG4gICAgICBjb21wdXRlUGVyY2VudGlsZVJhbmsodGhpcy5yZWZfZGF0YSwgZCwgdGhpcy5yYW5rX3ZhcmlhYmxlc1tpXSk7XG4gICAgfSk7XG4gICAgdGhpcy5kYXRhID0gW3ByZXBhcmVfZGF0YV9yYWRhcl9kZWZhdWx0KHRoaXMucmVmX2RhdGEsIHRoaXMudmFyaWFibGVzKV07XG4gICAgdGhpcy5kaXNwbGF5ZWRfaWRzID0gdGhpcy5kYXRhLm1hcChkID0+IGQubmFtZSk7XG4gICAgdGhpcy5jdXJyZW50X2lkcyA9IHRoaXMucmVmX2RhdGEubWFwKGQgPT4gZC5pZCk7XG4gICAgdGhpcy5pZF9teV9yZWdpb24gPSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uO1xuXG4gICAgLy8gSWYgdGhlIHN1cHBsaWVkIG1heFZhbHVlIGlzIHNtYWxsZXIgdGhhbiB0aGUgYWN0dWFsIG9uZSwgcmVwbGFjZSBieSB0aGUgbWF4IGluIHRoZSBkYXRhXG4gICAgbGV0IG1heFZhbHVlID0gMDtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuZGF0YS5sZW5ndGg7IGorKykge1xuICAgICAgY29uc3Qgb25fYXhlcyA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmRhdGFbal0uYXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLmRhdGFbal0uYXhlc1tpXS5pZCA9IHRoaXMuZGF0YVtqXS5uYW1lO1xuICAgICAgICBpZiAodGhpcy5kYXRhW2pdLmF4ZXNbaV0udmFsdWUgPiBtYXhWYWx1ZSkge1xuICAgICAgICAgIG1heFZhbHVlID0gdGhpcy5kYXRhW2pdLmF4ZXNbaV0udmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLm1heFZhbHVlID0gbWF0aF9tYXgodGhpcy5jZmcubWF4VmFsdWUsIG1heFZhbHVlKTtcbiAgICB0aGlzLmFsbEF4aXMgPSB0aGlzLmRhdGFbMF0uYXhlcy5tYXAoaSA9PiBpLmF4aXMpOyAvLyBOYW1lcyBvZiBlYWNoIGF4aXNcbiAgICB0aGlzLnRvdGFsID0gdGhpcy5hbGxBeGlzLmxlbmd0aDsgLy8gVGhlIG51bWJlciBvZiBkaWZmZXJlbnQgYXhlc1xuICAgIHRoaXMucmFkaXVzID0gTWF0aC5taW4odGhpcy5jZmcudyAvIDIsIHRoaXMuY2ZnLmggLyAyKTsgLy8gUmFkaXVzIG9mIHRoZSBvdXRlcm1vc3QgY2lyY2xlXG4gICAgdGhpcy5Gb3JtYXQgPSBkMy5mb3JtYXQodGhpcy5jZmcuZm9ybWF0KTsgLy8gRm9ybWF0dGluZ1xuICAgIHRoaXMuYW5nbGVTbGljZSA9IE1hdGguUEkgKiAyIC8gdGhpcy50b3RhbDsgLy8gVGhlIHdpZHRoIGluIHJhZGlhbnMgb2YgZWFjaCBcInNsaWNlXCJcbiAgICAvLyBTY2FsZSBmb3IgdGhlIHJhZGl1c1xuICAgIHRoaXMuclNjYWxlID0gZDMuc2NhbGVMaW5lYXIoKVxuICAgICAgLnJhbmdlKFswLCB0aGlzLnJhZGl1c10pXG4gICAgICAuZG9tYWluKFswLCB0aGlzLm1heFZhbHVlXSk7XG4gICAgLy8gVGhlIHJhZGlhbCBsaW5lIGZ1bmN0aW9uXG4gICAgdGhpcy5yYWRhckxpbmUgPSBkMy5yYWRpYWxMaW5lKClcbiAgICAgIC5jdXJ2ZSh0aGlzLmNmZy5yb3VuZFN0cm9rZXMgPyBkMy5jdXJ2ZUNhcmRpbmFsQ2xvc2VkIDogZDMuY3VydmVMaW5lYXJDbG9zZWQpXG4gICAgICAucmFkaXVzKGQgPT4gdGhpcy5yU2NhbGUoZC52YWx1ZSkpXG4gICAgICAuYW5nbGUoKGQsIGkpID0+IGkgKiB0aGlzLmFuZ2xlU2xpY2UpO1xuICB9XG5cbiAgZHJhd0F4aXNHcmlkKCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGNmZyA9IHRoaXMuY2ZnO1xuICAgIGNvbnN0IGcgPSB0aGlzLmc7XG4gICAgY29uc3QgcmFkaXVzID0gdGhpcy5yYWRpdXM7XG4gICAgY29uc3QgbWF4VmFsdWUgPSB0aGlzLm1heFZhbHVlO1xuICAgIGNvbnN0IHJTY2FsZSA9IHRoaXMuclNjYWxlO1xuICAgIGNvbnN0IGFuZ2xlU2xpY2UgPSB0aGlzLmFuZ2xlU2xpY2U7XG5cbiAgICBjb25zdCBsYWJlbENsaWNrZWQgPSBmdW5jdGlvbiBsYWJlbENsaWNrZWQoKSB7XG4gICAgICBjb25zdCBpeCA9ICt0aGlzLmlkO1xuICAgICAgaWYgKGl4ICsgMSA9PT0gc2VsZi5hbGxBeGlzLmxlbmd0aCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGYuZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHN3YXAoc2VsZi5kYXRhW2ldLmF4ZXMsIGl4LCAwKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgbmV3X2l4ID0gaXggKyAxO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGYuZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIG1vdmUoc2VsZi5kYXRhW2ldLmF4ZXMsIGl4LCBuZXdfaXgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzZWxmLnVwZGF0ZSgpO1xuICAgIH07XG5cbiAgICBjb25zdCBsYWJlbEN0eE1lbnUgPSBmdW5jdGlvbiBsYWJlbEN0eE1lbnUobGFiZWwpIHtcbiAgICAgIGQzLmV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZDMuZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IGl4ID0gK3RoaXMuaWQ7XG4gICAgICBzZWxmLmludmVyc2VfZGF0YShsYWJlbCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGF4aXNHcmlkID0gZy5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdheGlzV3JhcHBlcicpO1xuXG4gICAgLy8gRHJhdyB0aGUgYmFja2dyb3VuZCBjaXJjbGVzXG4gICAgYXhpc0dyaWQuc2VsZWN0QWxsKCcubGV2ZWxzJylcbiAgICAgIC5kYXRhKGQzLnJhbmdlKDEsIChjZmcubGV2ZWxzICsgMSkpLnJldmVyc2UoKSlcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdjaXJjbGUnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2dyaWRDaXJjbGUnKVxuICAgICAgLmF0dHIoJ3InLCBkID0+IHJhZGl1cyAvIGNmZy5sZXZlbHMgKiBkKVxuICAgICAgLnN0eWxlKCdmaWxsJywgJyNDRENEQ0QnKVxuICAgICAgLnN0eWxlKCdzdHJva2UnLCAnI0NEQ0RDRCcpXG4gICAgICAuc3R5bGUoJ2ZpbGwtb3BhY2l0eScsIGNmZy5vcGFjaXR5Q2lyY2xlcylcbiAgICAgIC5zdHlsZSgnZmlsdGVyJywgJ3VybCgjZ2xvdyknKTtcblxuICAgIC8vIC8vIFRleHQgaW5kaWNhdGluZyBhdCB3aGF0ICUgZWFjaCBsZXZlbCBpc1xuICAgIC8vIGF4aXNHcmlkLnNlbGVjdEFsbCgnLmF4aXNMYWJlbCcpXG4gICAgLy8gICAuZGF0YShkMy5yYW5nZSgxLCAoY2ZnLmxldmVscyArIDEpKS5yZXZlcnNlKCkpXG4gICAgLy8gICAuZW50ZXIoKS5hcHBlbmQoJ3RleHQnKVxuICAgIC8vICAgLmF0dHIoJ2NsYXNzJywgJ2F4aXNMYWJlbCcpXG4gICAgLy8gICAuYXR0cigneCcsIDQpXG4gICAgLy8gICAuYXR0cigneScsIGQgPT4gLWQgKiByYWRpdXMgLyBjZmcubGV2ZWxzKVxuICAgIC8vICAgLmF0dHIoJ2R5JywgJzAuNGVtJylcbiAgICAvLyAgIC5zdHlsZSgnZm9udC1zaXplJywgJzEwcHgnKVxuICAgIC8vICAgLmF0dHIoJ2ZpbGwnLCAnIzczNzM3MycpXG4gICAgLy8gICAudGV4dChkID0+IEZvcm1hdChtYXhWYWx1ZSAqIGQgLyBjZmcubGV2ZWxzKSArIGNmZy51bml0KTtcblxuICAgIC8vIENyZWF0ZSB0aGUgc3RyYWlnaHQgbGluZXMgcmFkaWF0aW5nIG91dHdhcmQgZnJvbSB0aGUgY2VudGVyXG4gICAgY29uc3QgYXhpcyA9IGF4aXNHcmlkLnNlbGVjdEFsbCgnLmF4aXMnKVxuICAgICAgLmRhdGEodGhpcy5hbGxBeGlzKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2F4aXMnKTtcbiAgICAvLyBBcHBlbmQgdGhlIGxpbmVzXG4gICAgYXhpcy5hcHBlbmQoJ2xpbmUnKVxuICAgICAgLmF0dHIoJ3gxJywgMClcbiAgICAgIC5hdHRyKCd5MScsIDApXG4gICAgICAuYXR0cigneDInLCAoZCwgaSkgPT4gclNjYWxlKG1heFZhbHVlICogMS4xKSAqIG1hdGhfY29zKGFuZ2xlU2xpY2UgKiBpIC0gSEFMRl9QSSkpXG4gICAgICAuYXR0cigneTInLCAoZCwgaSkgPT4gclNjYWxlKG1heFZhbHVlICogMS4xKSAqIG1hdGhfc2luKGFuZ2xlU2xpY2UgKiBpIC0gSEFMRl9QSSkpXG4gICAgICAuYXR0cignY2xhc3MnLCAnbGluZScpXG4gICAgICAuc3R5bGUoJ3N0cm9rZScsICd3aGl0ZScpXG4gICAgICAuc3R5bGUoJ3N0cm9rZS13aWR0aCcsICcycHgnKTtcblxuICAgIC8vIEFwcGVuZCB0aGUgbGFiZWxzIGF0IGVhY2ggYXhpc1xuICAgIGF4aXMuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdsZWdlbmQnKVxuICAgICAgLnN0eWxlKCdmb250LXNpemUnLCAnMTFweCcpXG4gICAgICAuYXR0cignaWQnLCAoZCwgaSkgPT4gaSlcbiAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKVxuICAgICAgLmF0dHIoJ2R5JywgJzAuMzVlbScpXG4gICAgICAuYXR0cigneCcsIChkLCBpKSA9PiByU2NhbGUobWF4VmFsdWUgKiBjZmcubGFiZWxGYWN0b3IpICogbWF0aF9jb3MoYW5nbGVTbGljZSAqIGkgLSBIQUxGX1BJKSlcbiAgICAgIC5hdHRyKCd5JywgKGQsIGkpID0+IHJTY2FsZShtYXhWYWx1ZSAqIGNmZy5sYWJlbEZhY3RvcikgKiBtYXRoX3NpbihhbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpKVxuICAgICAgLnRleHQoZCA9PiBkKVxuICAgICAgLm9uKCdjbGljaycsIGxhYmVsQ2xpY2tlZClcbiAgICAgIC5vbignY29udGV4dG1lbnUnLCBjZmcuYWxsb3dJbnZlcnNlRGF0YSA/IGxhYmVsQ3R4TWVudSA6IG51bGwpXG4gICAgICAuY2FsbCh3cmFwLCBjZmcud3JhcFdpZHRoKTtcblxuICAgIC8vIEZpbHRlciBmb3IgdGhlIG91dHNpZGUgZ2xvd1xuICAgIGNvbnN0IGZpbHRlciA9IGcuYXBwZW5kKCdkZWZzJylcbiAgICAgIC5hcHBlbmQoJ2ZpbHRlcicpXG4gICAgICAuYXR0cignaWQnLCAnZ2xvdycpO1xuICAgIGZpbHRlci5hcHBlbmQoJ2ZlR2F1c3NpYW5CbHVyJylcbiAgICAgIC5hdHRyKCdzdGREZXZpYXRpb24nLCAnMi41JylcbiAgICAgIC5hdHRyKCdyZXN1bHQnLCAnY29sb3JlZEJsdXInKTtcbiAgICBjb25zdCBmZU1lcmdlID0gZmlsdGVyLmFwcGVuZCgnZmVNZXJnZScpO1xuICAgIGZlTWVyZ2UuYXBwZW5kKCdmZU1lcmdlTm9kZScpLmF0dHIoJ2luJywgJ2NvbG9yZWRCbHVyJyk7XG4gICAgZmVNZXJnZS5hcHBlbmQoJ2ZlTWVyZ2VOb2RlJykuYXR0cignaW4nLCAnU291cmNlR3JhcGhpYycpO1xuXG4gICAgdGhpcy5heGlzR3JpZCA9IGF4aXNHcmlkO1xuICB9XG5cbiAgaGFuZGxlTGVnZW5kKCkge1xuICAgIGNvbnN0IGNmZyA9IHRoaXMuY2ZnO1xuICAgIGlmIChjZmcubGVnZW5kICE9PSBmYWxzZSAmJiB0eXBlb2YgY2ZnLmxlZ2VuZCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGNvbnN0IG5hbWVzID0gdGhpcy5kYXRhLm1hcChlbCA9PiBlbC5uYW1lKTtcbiAgICAgIGlmIChjZmcubGVnZW5kLnRpdGxlKSB7XG4gICAgICAgIHRoaXMubGVnZW5kWm9uZS5hcHBlbmQoJ3RleHQnKVxuICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd0aXRsZScpXG4gICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMCwgLTIwKScpXG4gICAgICAgICAgLmF0dHIoJ3gnLCBjZmcudyAtIDcwKVxuICAgICAgICAgIC5hdHRyKCd5JywgMTApXG4gICAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsICcxMnB4JylcbiAgICAgICAgICAuYXR0cignZmlsbCcsICcjNDA0MDQwJylcbiAgICAgICAgICAudGV4dChjZmcubGVnZW5kLnRpdGxlKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGxlZ2VuZCA9IHRoaXMubGVnZW5kWm9uZVxuICAgICAgICAuc2VsZWN0QWxsKCdnJylcbiAgICAgICAgLmRhdGEobmFtZXMpO1xuICAgICAgY29uc3QgbGVnZW5kRW50ZXIgPSBsZWdlbmRcbiAgICAgICAgLmVudGVyKClcbiAgICAgICAgLmFwcGVuZCgnZycpO1xuXG4gICAgICAvLyBDcmVhdGUgcmVjdGFuZ2xlcyBtYXJrZXJzXG4gICAgICBsZWdlbmRFbnRlclxuICAgICAgICAuYXBwZW5kKCdyZWN0JylcbiAgICAgICAgLmF0dHJzKChkLCBpKSA9PiAoe1xuICAgICAgICAgIHg6IGNmZy53IC0gNjUsXG4gICAgICAgICAgeTogaSAqIDIwLFxuICAgICAgICAgIHdpZHRoOiAxMCxcbiAgICAgICAgICBoZWlnaHQ6IDEwLFxuICAgICAgICB9KSlcbiAgICAgICAgLnN0eWxlKCdmaWxsJywgZCA9PiBjZmcuY29sb3IoZCkpO1xuXG4gICAgICAvLyBDcmVhdGUgbGFiZWxzXG4gICAgICBsZWdlbmRFbnRlclxuICAgICAgICAuYXBwZW5kKCd0ZXh0JylcbiAgICAgICAgLmF0dHJzKChkLCBpKSA9PiAoe1xuICAgICAgICAgIHg6IGNmZy53IC0gNTIsXG4gICAgICAgICAgeTogaSAqIDIwICsgOSxcbiAgICAgICAgICBmaWxsOiAnIzczNzM3MycsXG4gICAgICAgICAgJ2ZvbnQtc2l6ZSc6ICcxMXB4JyxcbiAgICAgICAgfSkpXG4gICAgICAgIC50ZXh0KGQgPT4gZCk7XG5cbiAgICAgIGxlZ2VuZC5tZXJnZShsZWdlbmRFbnRlcikuc2VsZWN0QWxsKCdyZWN0JylcbiAgICAgICAgLmF0dHIoJ3knLCAoZCwgaSkgPT4gaSAqIDIwKVxuICAgICAgICAuc3R5bGUoJ2ZpbGwnLCBkID0+IGNmZy5jb2xvcihkKSk7XG5cbiAgICAgIGxlZ2VuZC5tZXJnZShsZWdlbmRFbnRlcikuc2VsZWN0QWxsKCd0ZXh0JylcbiAgICAgICAgLmF0dHJzKChkLCBpKSA9PiAoe1xuICAgICAgICAgIHg6IGNmZy53IC0gNTIsXG4gICAgICAgICAgeTogaSAqIDIwICsgOSxcbiAgICAgICAgfSkpXG4gICAgICAgIC50ZXh0KGQgPT4gZCk7XG5cbiAgICAgIGxlZ2VuZC5leGl0KCkucmVtb3ZlKCk7XG4gICAgfVxuICB9XG5cbiAgZHJhd0FyZWEoKSB7XG4gICAgY29uc3QgY2ZnID0gdGhpcy5jZmc7XG4gICAgY29uc3QgZyA9IHRoaXMuZztcbiAgICBjb25zdCBGb3JtYXQgPSB0aGlzLkZvcm1hdDtcbiAgICBjb25zdCByU2NhbGUgPSB0aGlzLnJTY2FsZTtcbiAgICBjb25zdCBhbmdsZVNsaWNlID0gdGhpcy5hbmdsZVNsaWNlO1xuXG4gICAgLy8gQ3JlYXRlIGEgd3JhcHBlciBmb3IgdGhlIGJsb2JzXG4gICAgY29uc3QgYmxvYldyYXBwZXIgPSBnLnNlbGVjdEFsbCgnLnJhZGFyV3JhcHBlcicpXG4gICAgICAuZGF0YSh0aGlzLmRhdGEsIGQgPT4gZC5uYW1lKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2lkJywgZCA9PiAoZC5uYW1lLmluZGV4T2YoJyAnKSA+IC0xID8gJ2N0eCcgOiBkLm5hbWUpKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ3JhZGFyV3JhcHBlcicpO1xuXG4gICAgLy8gQXBwZW5kIHRoZSBiYWNrZ3JvdW5kc1xuICAgIGJsb2JXcmFwcGVyXG4gICAgICAuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdyYWRhckFyZWEnKVxuICAgICAgLmF0dHIoJ2QnLCBkID0+IHRoaXMucmFkYXJMaW5lKGQuYXhlcykpXG4gICAgICAuc3R5bGUoJ2ZpbGwnLCAoZCwgaSkgPT4gY2ZnLmNvbG9yKGkpKVxuICAgICAgLnN0eWxlKCdmaWxsLW9wYWNpdHknLCAwKVxuICAgICAgLnN0eWxlKCdmaWxsLW9wYWNpdHknLCBjZmcub3BhY2l0eUFyZWEpXG4gICAgICAub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gRGltIGFsbCBibG9ic1xuICAgICAgICBibG9iV3JhcHBlci5zZWxlY3RBbGwoJy5yYWRhckFyZWEnKVxuICAgICAgICAgIC50cmFuc2l0aW9uKCkuZHVyYXRpb24oMjAwKVxuICAgICAgICAgIC5zdHlsZSgnZmlsbC1vcGFjaXR5JywgMC4xKTtcbiAgICAgICAgLy8gQnJpbmcgYmFjayB0aGUgaG92ZXJlZCBvdmVyIGJsb2JcbiAgICAgICAgZDMuc2VsZWN0KHRoaXMpXG4gICAgICAgICAgLnRyYW5zaXRpb24oKS5kdXJhdGlvbigyMDApXG4gICAgICAgICAgLnN0eWxlKCdmaWxsLW9wYWNpdHknLCAwLjcpO1xuICAgICAgfSlcbiAgICAgIC5vbignbW91c2VvdXQnLCAoKSA9PiB7XG4gICAgICAgIC8vIEJyaW5nIGJhY2sgYWxsIGJsb2JzXG4gICAgICAgIGJsb2JXcmFwcGVyLnNlbGVjdEFsbCgnLnJhZGFyQXJlYScpXG4gICAgICAgICAgLnRyYW5zaXRpb24oKS5kdXJhdGlvbigyMDApXG4gICAgICAgICAgLnN0eWxlKCdmaWxsLW9wYWNpdHknLCBjZmcub3BhY2l0eUFyZWEpO1xuICAgICAgfSk7XG4gICAgICAvLyAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgLy8gICBjb25zdCBwID0gdGhpcy5wYXJlbnRFbGVtZW50O1xuICAgICAgLy8gICBpZiAocC5wcmV2aW91c1NpYmxpbmcuY2xhc3NOYW1lICE9PSAndG9vbHRpcCcpIHtcbiAgICAgIC8vICAgICBjb25zdCBncm91cCA9IGcubm9kZSgpO1xuICAgICAgLy8gICAgIGdyb3VwLmluc2VydEJlZm9yZShwLCBncm91cC5xdWVyeVNlbGVjdG9yKCcudG9vbHRpcCcpKTtcbiAgICAgIC8vICAgICBjb25zdCBuZXdfb3JkZXIgPSBbXTtcbiAgICAgIC8vICAgICBnLnNlbGVjdEFsbCgnLnJhZGFyV3JhcHBlcicpLmVhY2goZCA9PiBuZXdfb3JkZXIucHVzaChkLm5hbWUpKTtcbiAgICAgIC8vICAgICBuZXdfb3JkZXIucmV2ZXJzZSgpO1xuICAgICAgLy8gICAgIHVwZGF0ZUxlZ2VuZChuZXdfb3JkZXIpO1xuICAgICAgLy8gICB9XG4gICAgICAvLyB9KTtcblxuICAgIC8vIENyZWF0ZSB0aGUgb3V0bGluZXNcbiAgICBibG9iV3JhcHBlci5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ3JhZGFyU3Ryb2tlJylcbiAgICAgIC5hdHRyKCdkJywgZCA9PiB0aGlzLnJhZGFyTGluZShkLmF4ZXMpKVxuICAgICAgLnN0eWxlKCdzdHJva2Utd2lkdGgnLCBgJHtjZmcuc3Ryb2tlV2lkdGh9cHhgKVxuICAgICAgLnN0eWxlKCdzdHJva2UnLCAoZCwgaSkgPT4gY2ZnLmNvbG9yKGkpKVxuICAgICAgLnN0eWxlKCdmaWxsJywgJ25vbmUnKVxuICAgICAgLnN0eWxlKCdmaWx0ZXInLCAndXJsKCNnbG93KScpO1xuXG4gICAgLy8gQXBwZW5kIHRoZSBjaXJjbGVzXG4gICAgYmxvYldyYXBwZXIuc2VsZWN0QWxsKCcucmFkYXJDaXJjbGUnKVxuICAgICAgLmRhdGEoZCA9PiBkLmF4ZXMpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgnY2lyY2xlJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdyYWRhckNpcmNsZScpXG4gICAgICAuYXR0cigncicsIGNmZy5kb3RSYWRpdXMpXG4gICAgICAuYXR0cignY3gnLCAoZCwgaSkgPT4gclNjYWxlKGQudmFsdWUpICogbWF0aF9jb3MoYW5nbGVTbGljZSAqIGkgLSBIQUxGX1BJKSlcbiAgICAgIC5hdHRyKCdjeScsIChkLCBpKSA9PiByU2NhbGUoZC52YWx1ZSkgKiBtYXRoX3NpbihhbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpKVxuICAgICAgLnN0eWxlKCdmaWxsJywgZCA9PiBjZmcuY29sb3IoZC5pZCkpXG4gICAgICAuc3R5bGUoJ2ZpbGwtb3BhY2l0eScsIDAuOCk7XG5cbiAgICAvLyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gLy8vLy8vIEFwcGVuZCBpbnZpc2libGUgY2lyY2xlcyBmb3IgdG9vbHRpcCAvLy8vLy8vLy8vL1xuICAgIC8vIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgIC8vIFdyYXBwZXIgZm9yIHRoZSBpbnZpc2libGUgY2lyY2xlcyBvbiB0b3BcbiAgICBjb25zdCBibG9iQ2lyY2xlV3JhcHBlciA9IGcuc2VsZWN0QWxsKCcucmFkYXJDaXJjbGVXcmFwcGVyJylcbiAgICAgIC5kYXRhKHRoaXMuZGF0YSwgZCA9PiBkLm5hbWUpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignaWQnLCBkID0+IChkLm5hbWUuaW5kZXhPZignICcpID4gLTEgPyAnY3R4JyA6IGQubmFtZSkpXG4gICAgICAuYXR0cignY2xhc3MnLCAncmFkYXJDaXJjbGVXcmFwcGVyJyk7XG5cbiAgICAvLyBBcHBlbmQgYSBzZXQgb2YgaW52aXNpYmxlIGNpcmNsZXMgb24gdG9wIGZvciB0aGUgbW91c2VvdmVyIHBvcC11cFxuICAgIGJsb2JDaXJjbGVXcmFwcGVyLnNlbGVjdEFsbCgnLnJhZGFySW52aXNpYmxlQ2lyY2xlJylcbiAgICAgIC5kYXRhKGQgPT4gZC5heGVzKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ2NpcmNsZScpXG4gICAgICAuYXR0cignY2xhc3MnLCAncmFkYXJJbnZpc2libGVDaXJjbGUnKVxuICAgICAgLmF0dHIoJ3InLCBjZmcuZG90UmFkaXVzICogMS41KVxuICAgICAgLmF0dHIoJ2N4JywgKGQsIGkpID0+IHJTY2FsZShkLnZhbHVlKSAqIG1hdGhfY29zKGFuZ2xlU2xpY2UgKiBpIC0gSEFMRl9QSSkpXG4gICAgICAuYXR0cignY3knLCAoZCwgaSkgPT4gclNjYWxlKGQudmFsdWUpICogbWF0aF9zaW4oYW5nbGVTbGljZSAqIGkgLSBIQUxGX1BJKSlcbiAgICAgIC5zdHlsZSgnZmlsbCcsICdub25lJylcbiAgICAgIC5zdHlsZSgncG9pbnRlci1ldmVudHMnLCAnYWxsJylcbiAgICAgIC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgZy5zZWxlY3QoJy50b29sdGlwJylcbiAgICAgICAgICAuYXR0cigneCcsIHRoaXMuY3guYmFzZVZhbC52YWx1ZSAtIDEwKVxuICAgICAgICAgIC5hdHRyKCd5JywgdGhpcy5jeS5iYXNlVmFsLnZhbHVlIC0gMTApXG4gICAgICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgICAgIC5zdHlsZSgnZGlzcGxheScsICdibG9jaycpXG4gICAgICAgICAgLnRleHQoRm9ybWF0KGQudmFsdWUpICsgY2ZnLnVuaXQpO1xuICAgICAgfSlcbiAgICAgIC5vbignbW91c2VvdXQnLCAoKSA9PiB7XG4gICAgICAgIGcuc2VsZWN0KCcudG9vbHRpcCcpLnRyYW5zaXRpb24oKVxuICAgICAgICAgIC5zdHlsZSgnZGlzcGxheScsICdub25lJykudGV4dCgnJyk7XG4gICAgICB9KTtcblxuICAgIGNvbnN0IHRvb2x0aXAgPSBnLmFwcGVuZCgndGV4dCcpXG4gICAgICAuYXR0cnMoeyBjbGFzczogJ3Rvb2x0aXAnLCB4OiAwLCB5OiAwLCBkeTogJzAuMzVlbScsICd0ZXh0LWFuY2hvcic6ICdtaWRkbGUnIH0pXG4gICAgICAuc3R5bGVzKHsgJ2ZvbnQtc2l6ZSc6ICcxMnB4JywgZGlzcGxheTogJ25vbmUnIH0pO1xuXG4gICAgdGhpcy5sZWdlbmRab25lID0gc3ZnX2Jhci5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgaWQ6ICdsZWdlbmRab25lJyxcbiAgICAgICAgY2xhc3M6ICdsZWdlbmQnLFxuICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHtjZmcubGVnZW5kLnRyYW5zbGF0ZVh9LCR7Y2ZnLmxlZ2VuZC50cmFuc2xhdGVZICsgMjB9KWAsXG4gICAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBjb25zdCByU2NhbGUgPSB0aGlzLnJTY2FsZTtcbiAgICBjb25zdCBtYXhWYWx1ZSA9IHRoaXMubWF4VmFsdWU7XG4gICAgY29uc3QgY2ZnID0gdGhpcy5jZmc7XG4gICAgY29uc3QgYW5nbGVTbGljZSA9IHRoaXMuYW5nbGVTbGljZTtcbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmN1cnJlbnRfaWRzKTtcbiAgICAvLyBpZiAobmV3X2RhdGEpIHtcbiAgICAvLyAgIGNvbnN0IG5ld19heGlzID0gbmV3X2RhdGFbMF0uYXhlcy5tYXAoZWxlbSA9PiBlbGVtLmF4aXMpO1xuICAgIC8vICAgaWYgKCEoSlNPTi5zdHJpbmdpZnkobmV3X2F4aXMpID09PSBKU09OLnN0cmluZ2lmeSh0aGlzLmFsbEF4aXMpKSkge1xuICAgIC8vICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIGVsZW1lbnQgd2l0aCBzYW1lIGF4ZXMgbmFtZSB0aGFuIGV4aXN0aW5nIGRhdGEuJyk7XG4gICAgLy8gICB9XG4gICAgLy8gICB0aGlzLmRhdGEgPSBuZXdfZGF0YTtcbiAgICAvLyAgIHRoaXMuYWxsQXhpcyA9IG5ld19heGlzO1xuICAgIC8vIH0gZWxzZSB7XG4gICAgdGhpcy5hbGxBeGlzID0gdGhpcy5kYXRhWzBdLmF4ZXMubWFwKGVsZW0gPT4gZWxlbS5heGlzKTtcbiAgICAvLyB9XG4gICAgY29uc3QgdXBkYXRlX2F4aXMgPSB0aGlzLmF4aXNHcmlkLnNlbGVjdEFsbCgnLmF4aXMnKVxuICAgICAgLmRhdGEodGhpcy5hbGxBeGlzKTtcblxuICAgIGNvbnN0IHQgPSB0aGlzLmcuc2VsZWN0QWxsKCcucmFkYXJXcmFwcGVyJylcbiAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgIC5kdXJhdGlvbigyMjUpO1xuICAgICAgLy8gLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgICAvLyAgIHBhcmVudC5zZWxlY3RBbGwoJ3RleHQubGVnZW5kJylcbiAgICAgIC8vICAgICAudGV4dChkID0+IGQpXG4gICAgICAvLyAgICAgLmNhbGwod3JhcCwgY2ZnLndyYXBXaWR0aCk7XG4gICAgICAvLyAgIC8vIHdyYXAocGFyZW50LnNlbGVjdEFsbCgndGV4dC5sZWdlbmQnKSwgY2ZnLndyYXBXaWR0aCk7XG4gICAgICAvLyB9KTtcbiAgICB1cGRhdGVfYXhpcy5zZWxlY3QoJ3RleHQubGVnZW5kJylcbiAgICAgIC5hdHRycygoZCwgaSkgPT4gKHtcbiAgICAgICAgaWQ6IGksXG4gICAgICAgIHg6IHJTY2FsZShtYXhWYWx1ZSAqIGNmZy5sYWJlbEZhY3RvcikgKiBtYXRoX2NvcyhhbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpLFxuICAgICAgICB5OiByU2NhbGUobWF4VmFsdWUgKiBjZmcubGFiZWxGYWN0b3IpICogbWF0aF9zaW4oYW5nbGVTbGljZSAqIGkgLSBIQUxGX1BJKSxcbiAgICAgIH0pKVxuICAgICAgLnRleHQoZCA9PiBkKVxuICAgICAgLmNhbGwod3JhcCwgY2ZnLndyYXBXaWR0aCk7XG5cbiAgICBjb25zdCB1cGRhdGVfYmxvYldyYXBwZXIgPSB0aGlzLmcuc2VsZWN0QWxsKCcucmFkYXJXcmFwcGVyJylcbiAgICAgIC5kYXRhKHRoaXMuZGF0YSwgZCA9PiBkLm5hbWUpO1xuXG4gICAgdXBkYXRlX2Jsb2JXcmFwcGVyLnNlbGVjdCgnLnJhZGFyQXJlYScpXG4gICAgICAudHJhbnNpdGlvbih0KVxuICAgICAgLmF0dHIoJ2QnLCBkID0+IHRoaXMucmFkYXJMaW5lKGQuYXhlcykpO1xuXG4gICAgdXBkYXRlX2Jsb2JXcmFwcGVyLnNlbGVjdCgnLnJhZGFyU3Ryb2tlJylcbiAgICAgIC50cmFuc2l0aW9uKHQpXG4gICAgICAuYXR0cignZCcsIGQgPT4gdGhpcy5yYWRhckxpbmUoZC5heGVzKSk7XG5cbiAgICBjb25zdCBjaXJjbGUgPSB1cGRhdGVfYmxvYldyYXBwZXIuc2VsZWN0QWxsKCcucmFkYXJDaXJjbGUnKVxuICAgICAgLmRhdGEoZCA9PiBkLmF4ZXMpO1xuICAgIGNpcmNsZVxuICAgICAgLnRyYW5zaXRpb24odClcbiAgICAgIC5hdHRycygoZCwgaSkgPT4gKHtcbiAgICAgICAgY3g6IHJTY2FsZShkLnZhbHVlKSAqIG1hdGhfY29zKGFuZ2xlU2xpY2UgKiBpIC0gSEFMRl9QSSksXG4gICAgICAgIGN5OiByU2NhbGUoZC52YWx1ZSkgKiBtYXRoX3NpbihhbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpLFxuICAgICAgfSkpXG4gICAgICAuc3R5bGVzKGQgPT4gKHtcbiAgICAgICAgZmlsbDogY2ZnLmNvbG9yKGQuaWQpLFxuICAgICAgICAnZmlsbC1vcGFjaXR5JzogMC44LFxuICAgICAgfSkpO1xuXG4gICAgY29uc29sZS5sb2codGhpcy5nLnNlbGVjdEFsbCgnLnJhZGFyQ2lyY2xlV3JhcHBlcicpKTtcbiAgICBjb25zb2xlLmxvZyh0aGlzLmRhdGEpO1xuXG4gICAgY29uc3QgdXBkYXRlX2Jsb2JDaXJjbGVXcmFwcGVyID0gdGhpcy5nLnNlbGVjdEFsbCgnLnJhZGFyQ2lyY2xlV3JhcHBlcicpXG4gICAgICAuZGF0YSh0aGlzLmRhdGEsIGQgPT4gZC5uYW1lKTtcblxuICAgIGNvbnN0IGludmlzaWJsZUNpcmNsZSA9IHVwZGF0ZV9ibG9iQ2lyY2xlV3JhcHBlci5zZWxlY3RBbGwoJy5yYWRhckludmlzaWJsZUNpcmNsZScpXG4gICAgICAuZGF0YShkID0+IGQuYXhlcyk7XG4gICAgaW52aXNpYmxlQ2lyY2xlXG4gICAgICAudHJhbnNpdGlvbih0KVxuICAgICAgLmF0dHJzKChkLCBpKSA9PiAoe1xuICAgICAgICBjeDogclNjYWxlKGQudmFsdWUpICogbWF0aF9jb3MoYW5nbGVTbGljZSAqIGkgLSBIQUxGX1BJKSxcbiAgICAgICAgY3k6IHJTY2FsZShkLnZhbHVlKSAqIG1hdGhfc2luKGFuZ2xlU2xpY2UgKiBpIC0gSEFMRl9QSSksXG4gICAgICB9KSk7XG4gIH1cblxuICByb3VuZF9zdHJva2UodmFsKSB7XG4gICAgaWYgKHZhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5jZmcucm91bmRTdHJva2VzO1xuICAgIH0gZWxzZSBpZiAodmFsICE9PSB0aGlzLmNmZy5yb3VuZFN0cm9rZXMpIHtcbiAgICAgIHRoaXMuY2ZnLnJvdW5kU3Ryb2tlcyA9IHZhbDtcbiAgICAgIHRoaXMucmFkYXJMaW5lID0gZDMucmFkaWFsTGluZSgpXG4gICAgICAgIC5jdXJ2ZSh0aGlzLmNmZy5yb3VuZFN0cm9rZXMgPyBkMy5jdXJ2ZUNhcmRpbmFsQ2xvc2VkIDogZDMuY3VydmVMaW5lYXJDbG9zZWQpXG4gICAgICAgIC5yYWRpdXMoZCA9PiB0aGlzLnJTY2FsZShkLnZhbHVlKSlcbiAgICAgICAgLmFuZ2xlKChkLCBpKSA9PiBpICogdGhpcy5hbmdsZVNsaWNlKTtcbiAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuICAgIHJldHVybiB2YWw7XG4gIH1cblxuICBiaW5kTWFwKG1hcF9lbGVtKSB7XG4gICAgdGhpcy5tYXBfZWxlbSA9IG1hcF9lbGVtO1xuICAgIHRoaXMubWFwX2VsZW0ucmVzZXRDb2xvcnModGhpcy5jdXJyZW50X2lkcyk7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICB9XG5cbiAgcmVtb3ZlKCkge1xuICAgIHRoaXMudGFibGVfc3RhdHMucmVtb3ZlKCk7XG4gICAgdGhpcy50YWJsZV9zdGF0cyA9IG51bGw7XG4gICAgdGhpcy5tYXBfZWxlbS51bmJpbmRCcnVzaENsaWNrKCk7XG4gICAgdGhpcy5tYXBfZWxlbSA9IG51bGw7XG4gICAgc3ZnX2Jhci5odG1sKCcnKTtcbiAgfVxuXG4gIHVwZGF0ZUNoYW5nZVJlZ2lvbigpIHtcbiAgICB0aGlzLmNoYW5nZVN0dWR5Wm9uZSgpO1xuICB9XG5cbiAgY2hhbmdlU3R1ZHlab25lKCkge1xuICAgIGNvbnN0IG9sZF9teV9yZWdpb24gPSB0aGlzLmlkX215X3JlZ2lvbjtcbiAgICBjb25zdCBvdGhlcl9mZWF0dXJlcyA9IHRoaXMuZGlzcGxheWVkX2lkcy5maWx0ZXIoZCA9PiBkICE9PSBvbGRfbXlfcmVnaW9uKTtcbiAgICB0aGlzLmcucmVtb3ZlKCk7XG4gICAgdGhpcy5nID0gc3ZnX2Jhci5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2lkJywgJ1JhZGFyR3JwJylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7dGhpcy5jZmcudyAvIDIgKyB0aGlzLmNmZy5tYXJnaW4ubGVmdH0sJHt0aGlzLmNmZy5oIC8gMiArIHRoaXMuY2ZnLm1hcmdpbi50b3B9KWApO1xuXG4gICAgdGhpcy5pZF9teV9yZWdpb24gPSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uO1xuICAgIHRoaXMucHJlcGFyZURhdGEoYXBwLmN1cnJlbnRfZGF0YSk7XG4gICAgdGhpcy5kcmF3QXhpc0dyaWQoKTtcbiAgICB0aGlzLmRyYXdBcmVhKCk7XG4gICAgdGhpcy5oYW5kbGVMZWdlbmQoKTtcbiAgICBvdGhlcl9mZWF0dXJlcy5mb3JFYWNoKChpZCkgPT4ge1xuICAgICAgY29uc3QgYSA9IHByZXBhcmVfZGF0YV9yYWRhcl9mdCh0aGlzLnJlZl9kYXRhLCB0aGlzLnZhcmlhYmxlcywgaWQpO1xuICAgICAgdGhpcy5hZGRfZWxlbWVudChhKTtcbiAgICB9KTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgdGhpcy51cGRhdGVUYWJsZVN0YXQoKTtcbiAgfVxuXG4gIGFkZFZhcmlhYmxlKGNvZGVfdmFyaWFibGUsIG5hbWVfdmFyaWFibGUpIHtcbiAgICBjb25zdCBvdGhlcl9mZWF0dXJlcyA9IHRoaXMuZGlzcGxheWVkX2lkcy5maWx0ZXIoZCA9PiBkICE9PSB0aGlzLmlkX215X3JlZ2lvbik7XG4gICAgdGhpcy5nLnJlbW92ZSgpO1xuICAgIHRoaXMuZyA9IHN2Z19iYXIuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdpZCcsICdSYWRhckdycCcpXG4gICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3RoaXMuY2ZnLncgLyAyICsgdGhpcy5jZmcubWFyZ2luLmxlZnR9LCR7dGhpcy5jZmcuaCAvIDIgKyB0aGlzLmNmZy5tYXJnaW4udG9wfSlgKTtcblxuICAgIHRoaXMucHJlcGFyZURhdGEoYXBwLmN1cnJlbnRfZGF0YSk7XG4gICAgdGhpcy5kcmF3QXhpc0dyaWQoKTtcbiAgICB0aGlzLmRyYXdBcmVhKCk7XG4gICAgdGhpcy5oYW5kbGVMZWdlbmQoKTtcbiAgICBvdGhlcl9mZWF0dXJlcy5mb3JFYWNoKChpZCkgPT4ge1xuICAgICAgY29uc3QgYSA9IHByZXBhcmVfZGF0YV9yYWRhcl9mdCh0aGlzLnJlZl9kYXRhLCB0aGlzLnZhcmlhYmxlcywgaWQpO1xuICAgICAgdGhpcy5hZGRfZWxlbWVudChhKTtcbiAgICB9KTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgdGhpcy51cGRhdGVUYWJsZVN0YXQoKTtcbiAgfVxuXG4gIHJlbW92ZVZhcmlhYmxlKGNvZGVfdmFyaWFibGUpIHtcbiAgICBjb25zdCBvdGhlcl9mZWF0dXJlcyA9IHRoaXMuZGlzcGxheWVkX2lkcy5maWx0ZXIoZCA9PiBkICE9PSB0aGlzLmlkX215X3JlZ2lvbik7XG4gICAgdGhpcy5nLnJlbW92ZSgpO1xuICAgIHRoaXMuZyA9IHN2Z19iYXIuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdpZCcsICdSYWRhckdycCcpXG4gICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3RoaXMuY2ZnLncgLyAyICsgdGhpcy5jZmcubWFyZ2luLmxlZnR9LCR7dGhpcy5jZmcuaCAvIDIgKyB0aGlzLmNmZy5tYXJnaW4udG9wfSlgKTtcblxuICAgIHRoaXMucHJlcGFyZURhdGEoYXBwLmN1cnJlbnRfZGF0YSk7XG4gICAgdGhpcy5kcmF3QXhpc0dyaWQoKTtcbiAgICB0aGlzLmRyYXdBcmVhKCk7XG4gICAgdGhpcy5oYW5kbGVMZWdlbmQoKTtcbiAgICBvdGhlcl9mZWF0dXJlcy5mb3JFYWNoKChpZCkgPT4ge1xuICAgICAgY29uc3QgYSA9IHByZXBhcmVfZGF0YV9yYWRhcl9mdCh0aGlzLnJlZl9kYXRhLCB0aGlzLnZhcmlhYmxlcywgaWQpO1xuICAgICAgdGhpcy5hZGRfZWxlbWVudChhKTtcbiAgICB9KTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgdGhpcy51cGRhdGVUYWJsZVN0YXQoKTtcbiAgfVxuXG4gIHByZXBhcmVUYWJsZVN0YXQoKSB7XG4gICAgY29uc3QgYWxsX3ZhbHVlcyA9IHRoaXMudmFyaWFibGVzLm1hcCh2ID0+IHRoaXMucmVmX2RhdGEubWFwKGQgPT4gZFt2XSkpO1xuICAgIGNvbnN0IG15X3JlZ2lvbiA9IHRoaXMucmVmX2RhdGEuZmluZChkID0+IGQuaWQgPT09IHRoaXMuaWRfbXlfcmVnaW9uKTtcbiAgICBjb25zdCBmZWF0dXJlcyA9IGFsbF92YWx1ZXMubWFwKCh2YWx1ZXMsIGkpID0+ICh7XG4gICAgICBNaW46IGQzLm1pbih2YWx1ZXMpLFxuICAgICAgTWF4OiBkMy5tYXgodmFsdWVzKSxcbiAgICAgIE1veWVubmU6IGdldE1lYW4odmFsdWVzKSxcbiAgICAgIGlkOiB0aGlzLnZhcmlhYmxlc1tpXSxcbiAgICAgIFZhcmlhYmxlOiB0aGlzLnZhcmlhYmxlc1tpXSxcbiAgICAgICdNYSByw6lnaW9uJzogbXlfcmVnaW9uW3RoaXMudmFyaWFibGVzW2ldXSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIGZlYXR1cmVzO1xuICB9XG5cbiAgaGFuZGxlQ2xpY2tNYXAoZCwgcGFyZW50KSB7XG4gICAgY29uc3QgaWQgPSBkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dO1xuICAgIGlmICh0aGlzLmN1cnJlbnRfaWRzLmluZGV4T2YoaWQpIDwgMCB8fCBpZCA9PT0gdGhpcy5pZF9teV9yZWdpb24pIHJldHVybjtcbiAgICBpZiAodGhpcy5kaXNwbGF5ZWRfaWRzLmluZGV4T2YoaWQpIDwgMCkge1xuICAgICAgY29uc3QgYSA9IHByZXBhcmVfZGF0YV9yYWRhcl9mdCh0aGlzLnJlZl9kYXRhLCB0aGlzLnZhcmlhYmxlcywgaWQpO1xuICAgICAgdGhpcy5hZGRfZWxlbWVudChhKTtcbiAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZy5zZWxlY3RBbGwoYCMke2lkfS5yYWRhcldyYXBwZXJgKS5yZW1vdmUoKTtcbiAgICAgIHRoaXMuZy5zZWxlY3RBbGwoYCMke2lkfS5yYWRhckNpcmNsZVdyYXBwZXJgKS5yZW1vdmUoKTtcbiAgICAgIGNvbnN0IGl4ID0gdGhpcy5kYXRhLm1hcCgoX2QsIGkpID0+IFtpLCBfZC5uYW1lID09PSBpZF0pLmZpbmQoX2QgPT4gX2RbMV0gPT09IHRydWUpO1xuICAgICAgdGhpcy5kYXRhLnNwbGljZShpeCwgMSk7XG4gICAgICB0aGlzLmRpc3BsYXllZF9pZHMgPSB0aGlzLmRhdGEubWFwKF9kID0+IF9kLm5hbWUpO1xuICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICB9XG5cbiAgdXBkYXRlQ29tcGxldHVkZSgpIHtcbiAgICB0aGlzLmNvbXBsZXR1ZGVfdmFsdWUgPSBjYWxjUG9wQ29tcGxldHVkZVN1YnNldChhcHAsIHRoaXMudmFyaWFibGVzKTtcbiAgICB0aGlzLmNvbXBsZXR1ZGVcbiAgICAgIC50ZXh0KGBDb21wbMOpdHVkZSA6ICR7dGhpcy5jb21wbGV0dWRlX3ZhbHVlfSVgKTtcbiAgfVxuXG4gIHVwZGF0ZU1hcFJlZ2lvKCkge1xuICAgIGlmICghdGhpcy5tYXBfZWxlbSkgcmV0dXJuO1xuICAgIHRoaXMubWFwX2VsZW0udGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuYXR0cignZmlsbCcsIGQgPT4gKGQucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV0gPT09IHRoaXMuaWRfbXlfcmVnaW9uXG4gICAgICAgID8gY29sb3JfaGlnaGxpZ2h0XG4gICAgICAgIDogdGhpcy5jdXJyZW50X2lkcy5pbmRleE9mKGQucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV0pID4gLTFcbiAgICAgICAgPyAodGhpcy5kaXNwbGF5ZWRfaWRzLmluZGV4T2YoZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXSkgPiAtMVxuICAgICAgICA/IGNvbG9yX2RlZmF1bHRfZGlzc2ltIDogY29sb3JfY291bnRyaWVzKSA6IGNvbG9yX2Rpc2FibGVkKSk7XG4gIH1cblxuICB1cGRhdGVUYWJsZVN0YXQoKSB7XG4gICAgdGhpcy50YWJsZV9zdGF0cy5yZW1vdmVBbGwoKTtcbiAgICB0aGlzLnRhYmxlX3N0YXRzLmFkZEZlYXR1cmVzKHRoaXMucHJlcGFyZVRhYmxlU3RhdCgpKTtcbiAgfVxuXG4gIG1ha2VUYWJsZVN0YXQoKSB7XG4gICAgY29uc3QgZmVhdHVyZXMgPSB0aGlzLnByZXBhcmVUYWJsZVN0YXQoKTtcbiAgICB0aGlzLnRhYmxlX3N0YXRzID0gbmV3IFRhYmxlUmVzdW1lU3RhdChmZWF0dXJlcyk7XG4gIH1cbn1cbiIsImltcG9ydCB7IGNvbXAsIG1hdGhfcm91bmQsIG1hdGhfcG93LCBtYXRoX3NxcnQsIGdldE1lYW4sIGdldFN0YW5kYXJkaXplZE1lYW5TdGREZXYsIHByZXBhcmVUb29sdGlwLCBzaHVmZmxlIH0gZnJvbSAnLi8uLi9oZWxwZXJzJztcbmltcG9ydCB7IGNvbG9yX2Rpc2FibGVkLCBjb2xvcl9jb3VudHJpZXMsIGNvbG9yX2hpZ2hsaWdodCwgY29sb3JfZGVmYXVsdF9kaXNzaW0gfSBmcm9tICcuLy4uL29wdGlvbnMnO1xuaW1wb3J0IHsgY2FsY1BvcENvbXBsZXR1ZGVTdWJzZXQgfSBmcm9tICcuLy4uL3ByZXBhcmVfZGF0YSc7XG5pbXBvcnQgeyBhcHAsIHJlc2V0Q29sb3JzIH0gZnJvbSAnLi8uLi8uLi9tYWluJztcbmltcG9ydCBUYWJsZVJlc3VtZVN0YXQgZnJvbSAnLi8uLi90YWJsZVJlc3VtZVN0YXQnO1xuXG5jb25zdCBzdmdfYmFyID0gZDMuc2VsZWN0KCcjc3ZnX2JhcicpO1xuY29uc3QgbWFyZ2luID0geyB0b3A6IDIwLCByaWdodDogMjAsIGJvdHRvbTogNDAsIGxlZnQ6IDQwIH07XG5cbmNvbnN0IHdpZHRoID0gK3N2Z19iYXIuYXR0cignd2lkdGgnKSAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0LFxuICBoZWlnaHQgPSArc3ZnX2Jhci5hdHRyKCdoZWlnaHQnKSAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tO1xuXG5cbi8qKlxuKiBDbGFzcyByZXByZXNlbnRpbmcgc29tZSBcInNwZWNpYWxcIiBiYXIgY2hhcnQsIGFsbG93aW5nIHRvIHRvb2dsZSB0aGVcbiogcmVwcnNlbnRhdGlvbiBiZXR3ZWVuIGEgc2ltcGxlIGJhciBjaGFydCAoZm9yICoqc2ltaWxhcml0eSoqKVxuKiBhbmQgYSBncm91cGVkIGJhciBjaGFydCB3aXRoIG5lZ2F0aXZlIHZhbHVlIChmb3IgKipkaXNzaW1pbGFyaXR5KiopXG4qL1xuZXhwb3J0IGNsYXNzIFNpbWlsYXJpdHlDaGFydCB7XG4gICAvKipcbiAgICogQ3JlYXRlIGEgdGhlIGJhciBjaGFydCBvbiB0aGUgYHN2Z19iYXJgIHN2ZyBlbGVtZW50IHByZXZpb3VzbHkgZGVmaW5lZC5cbiAgICogQHBhcmFtIHtBcnJheX0gcmVmX2RhdGEgLSBBIHJlZmVyZW5jZSB0byB0aGUgc3Vic2V0IG9mIHRoZSBkYXRhc2V0IHRvIGJlIHVzZWRcbiAgICogdG8gY3JlYXRlIHRoZSBzY2F0dGVycGxvdCAoc2hvdWxkIGNvbnRhaW4gYXQgbGVhc3QgdHdvIGZpZWxkIGZsYWdnZWQgYXMgcmF0aW9cbiAgICogaW4gdGhlIGBhcHAuY3VycmVudF9jb25maWcucmF0aW9gIE9iamVjdCkuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihyZWZfZGF0YSkge1xuICAgIC8vIFNldCB0aGUgbWluaW11bSBudW1iZXIgb2YgdmFyaWFibGVzIHRvIGtlZXAgc2VsZWN0ZWQgZm9yIHRoaXMga2luZCBvZiBjaGFydDpcbiAgICBhcHAuY3VycmVudF9jb25maWcubmJfdmFyID0gMjtcbiAgICBjb25zdCB4ID0gZDMuc2NhbGVCYW5kKCkucmFuZ2UoWzAsIHdpZHRoXSkucGFkZGluZygwLjEpO1xuICAgIGNvbnN0IHgxID0gZDMuc2NhbGVCYW5kKCkucGFkZGluZygwLjA1KTtcbiAgICBjb25zdCB5ID0gZDMuc2NhbGVMaW5lYXIoKS5yYW5nZShbaGVpZ2h0LCAwXSk7XG4gICAgY29uc3QgeiA9IGQzLnNjYWxlT3JkaW5hbCgpXG4gICAgICAucmFuZ2Uoc2h1ZmZsZShkMy5zY2hlbWVDYXRlZ29yeTEwKSk7XG4gICAgY29uc3QgeEF4aXMgPSBkMy5heGlzQm90dG9tKHgpO1xuICAgIGNvbnN0IHlBeGlzID0gZDMuYXhpc0xlZnQoeSk7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLngxID0geDE7XG4gICAgdGhpcy55ID0geTtcbiAgICB0aGlzLnogPSB6O1xuICAgIHRoaXMueEF4aXMgPSB4QXhpcztcbiAgICB0aGlzLnlBeGlzID0geUF4aXM7XG4gICAgdGhpcy5uYl9kaXNwbGF5ID0gNTtcbiAgICB0aGlzLnZhcmlhYmxlcyA9IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpbztcbiAgICB0aGlzLmN1cnJlbnRfdHlwZSA9ICdnbG9iYWwnO1xuICAgIC8vIEZpbHRlciB0aGUgZGF0YSBhZ2FpbnN0IGVtcHR5IGZlYXR1cmVzOlxuICAgIHRoaXMucmVmX2RhdGEgPSByZWZfZGF0YS5maWx0ZXIoXG4gICAgICBmdCA9PiB0aGlzLnZhcmlhYmxlcy5tYXAodiA9PiAhIWZ0W3ZdKS5ldmVyeSh2ID0+IHYgPT09IHRydWUpKS5zbGljZSgpO1xuICAgIC8vIFN0YW5kYXJkaXplIGFsbCB2YXJpYWJsZXM6XG4gICAgdGhpcy52YXJpYWJsZXMuZm9yRWFjaCgodikgPT4ge1xuICAgICAgY29uc3Qgc2VyaWUgPSB0aGlzLnJlZl9kYXRhLm1hcChmdCA9PiBmdFt2XSk7XG4gICAgICBjb25zdCBzdGFuZGFyZGl6ZWQgPSBnZXRTdGFuZGFyZGl6ZWRNZWFuU3RkRGV2KHNlcmllKTtcbiAgICAgIGNvbnN0IG5hbWVfc3RhbmRhcmRpemVkID0gYHN0XyR7dn1gO1xuICAgICAgdGhpcy5yZWZfZGF0YS5mb3JFYWNoKChmdCwgaSkgPT4ge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgZnRbbmFtZV9zdGFuZGFyZGl6ZWRdID0gc3RhbmRhcmRpemVkW2ldO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBGaW5kIHZhbHVlIG9mIG15IHJlZ2lvbjpcbiAgICB0aGlzLm9ial9teV9yZWdpb24gPSB0aGlzLnJlZl9kYXRhLmZpbmQoZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKTtcblxuICAgIHRoaXMucmVmX2RhdGEuZm9yRWFjaCgoZnQpID0+IHtcbiAgICAgIGNvbnN0IHMgPSB0aGlzLnZhcmlhYmxlcy5tYXAodiA9PiBtYXRoX3Bvdyh0aGlzLm9ial9teV9yZWdpb25bYHN0XyR7dn1gXSAtIGZ0W2BzdF8ke3Z9YF0sIDIpKS5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgZnQuZGlzc2ltaWxhcml0eSA9IG1hdGhfc3FydChzKTtcbiAgICAgIHRoaXMudmFyaWFibGVzLmZvckVhY2goKHYpID0+IHtcbiAgICAgICAgY29uc3QgdmFyX25hbWUgPSBgZWNfJHt2fWA7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICBmdFt2YXJfbmFtZV0gPSAoZnRbdl0gLyB0aGlzLm9ial9teV9yZWdpb25bdl0gKiAxMDApIC0gMTAwO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5yZWZfZGF0YSA9IHRoaXMucmVmX2RhdGEuc29ydCgoYSwgYikgPT4gYS5kaXNzaW1pbGFyaXR5IC0gYi5kaXNzaW1pbGFyaXR5KTtcbiAgICB0aGlzLmRhdGEgPSB0aGlzLnJlZl9kYXRhLnNsaWNlKDEsIDEgKyB0aGlzLm5iX2Rpc3BsYXkpO1xuXG4gICAgdGhpcy5jdXJyZW50X2lkcyA9IHRoaXMucmVmX2RhdGEubWFwKGQgPT4gZC5pZCk7XG4gICAgdGhpcy5kaXNwbGF5ZWRfaWRzID0gdGhpcy5kYXRhLm1hcChkID0+IGQuaWQpO1xuXG4gICAgcmVzZXRDb2xvcnMoKTtcblxuICAgIHN2Z19iYXIuYXBwZW5kKCdkZWZzJylcbiAgICAgIC5hcHBlbmQoJ2NsaXBQYXRoJylcbiAgICAgIC5hdHRyKCdpZCcsICdjbGlwJylcbiAgICAgIC5hcHBlbmQoJ3JlY3QnKVxuICAgICAgLmF0dHJzKHsgd2lkdGgsIGhlaWdodCB9KTtcblxuICAgIGNvbnN0IHBsb3QgPSBzdmdfYmFyLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke21hcmdpbi5sZWZ0fSwgJHttYXJnaW4udG9wfSlgKTtcblxuICAgIHRoaXMucGxvdCA9IHBsb3Q7XG5cbiAgICBjb25zdCBfbWF4ID0gZDMubWF4KHRoaXMuZGF0YSwgZCA9PiBkLmRpc3NpbWlsYXJpdHkpO1xuXG4gICAgeC5kb21haW4odGhpcy5kaXNwbGF5ZWRfaWRzKTtcbiAgICB5LmRvbWFpbihbMCwgX21heCArIF9tYXggLyAxMl0pO1xuXG4gICAgcGxvdC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHsgY2xhc3M6ICdheGlzIGF4aXMtLXgnLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoMCwgJHtoZWlnaHR9KWAgfSlcbiAgICAgIC5jYWxsKHhBeGlzKTtcblxuICAgIHBsb3Quc2VsZWN0KCcuYXhpcy0teCcpXG4gICAgICAuc2VsZWN0QWxsKCd0ZXh0JylcbiAgICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnZW5kJylcbiAgICAgIC5hdHRycyh7IGR4OiAnLTAuOGVtJywgZHk6ICcwLjE1ZW0nLCB0cmFuc2Zvcm06ICdyb3RhdGUoLTY1KScgfSk7XG5cbiAgICBwbG90LmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignY2xhc3MnLCAnYXhpcyBheGlzLS15JylcbiAgICAgIC5jYWxsKHlBeGlzKTtcblxuICAgIHRoaXMuZ19iYXIgPSBwbG90LmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignaWQnLCAnYmFyJyk7XG5cbiAgICB0aGlzLmNvbXBsZXR1ZGVfdmFsdWUgPSBjYWxjUG9wQ29tcGxldHVkZVN1YnNldChhcHAsIHRoaXMudmFyaWFibGVzKTtcblxuICAgIHRoaXMuY29tcGxldHVkZSA9IHN2Z19iYXIuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRycyh7IGlkOiAnY2hhcnRfY29tcGxldHVkZScsIHg6IDYwLCB5OiA0MCB9KVxuICAgICAgLnN0eWxlcyh7ICdmb250LWZhbWlseSc6ICdcXCdTaWduaWthXFwnLCBzYW5zLXNlcmlmJyB9KVxuICAgICAgLnRleHQoYENvbXBsw6l0dWRlIDogJHt0aGlzLmNvbXBsZXR1ZGVfdmFsdWV9JWApO1xuXG4gICAgLy8gUHJlcGFyZSB0aGUgdG9vbHRpcCBkaXNwbGF5ZWQgb24gbW91c2VvdmVyOlxuICAgIGNvbnN0IHRvb2x0aXAgPSBwcmVwYXJlVG9vbHRpcChzdmdfYmFyKTtcblxuICAgIC8vIENyZWF0ZSB0aGUgc2VjdGlvbiBjb250YWluaW5nIHRoZSBpbnB1dCBlbGVtZW50IGFsbG93aW5nIHRvIGNob3NlXG4gICAgLy8gaG93IG1hbnkgXCJjbG9zZVwiIHJlZ2lvbnMgd2Ugd2FudCB0byBoaWdobGlnaHQuXG4gICAgY29uc3QgbWVudV9zZWxlY3Rpb24gPSBkMy5zZWxlY3Qoc3ZnX2Jhci5ub2RlKCkucGFyZW50RWxlbWVudClcbiAgICAgIC5hcHBlbmQoJ2RpdicpXG4gICAgICAuYXR0cignaWQnLCAnbWVudV9zZWxlY3Rpb24nKVxuICAgICAgLnN0eWxlcyh7IHRvcDogJy0yMHB4JywgJ21hcmdpbi1sZWZ0JzogJzMwcHgnLCBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9KTtcbiAgICBjb25zdCBzZWxlY3Rpb25fY2xvc2UgPSBtZW51X3NlbGVjdGlvbi5hcHBlbmQoJ3AnKVxuICAgICAgLnN0eWxlKCdmbG9hdCcsICdsZWZ0Jyk7XG5cbiAgICBzZWxlY3Rpb25fY2xvc2UuYXBwZW5kKCdzcGFuJylcbiAgICAgIC5wcm9wZXJ0eSgndmFsdWUnLCAnY2xvc2UnKVxuICAgICAgLmF0dHJzKHsgdmFsdWU6ICdjbG9zZScsIGNsYXNzOiAndHlwZV9zZWxlY3Rpb24gc3F1YXJlIGNoZWNrZWQnIH0pO1xuICAgIHNlbGVjdGlvbl9jbG9zZS5hcHBlbmQoJ3NwYW4nKVxuICAgICAgLmF0dHJzKHsgY2xhc3M6ICdsYWJlbF9jaGsnIH0pXG4gICAgICAuaHRtbCgnTGVzJyk7XG4gICAgc2VsZWN0aW9uX2Nsb3NlLmFwcGVuZCgnaW5wdXQnKVxuICAgICAgLmF0dHJzKHsgY2xhc3M6ICduYl9zZWxlY3QnLCB0eXBlOiAnbnVtYmVyJyB9KVxuICAgICAgLnByb3BlcnR5KCd2YWx1ZScsIDUpO1xuICAgIHNlbGVjdGlvbl9jbG9zZS5hcHBlbmQoJ3NwYW4nKVxuICAgICAgLmF0dHJzKHsgY2xhc3M6ICdsYWJlbF9jaGsnIH0pXG4gICAgICAuaHRtbCgncsOpZ2lvbnMgbGVzIHBsdXMgcHJvY2hlcycpO1xuXG4gICAgY29uc3QgaW5kaWNlX2tpbmQgPSBtZW51X3NlbGVjdGlvbi5hcHBlbmQoJ3AnKVxuICAgICAgLnN0eWxlcyh7XG4gICAgICAgIGZsb2F0OiAncmlnaHQnLFxuICAgICAgICBkaXNwbGF5OiAnaW5saW5lLWdyaWQnLFxuICAgICAgfSk7XG5cbiAgICBpbmRpY2Vfa2luZC5hcHBlbmQoJ3NwYW4nKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgaWQ6ICdpbmRfZ2xvYmFsJyxcbiAgICAgICAgY2xhc3M6ICdjaG9pY2VfaW5kIGFjdGl2ZScsXG4gICAgICB9KVxuICAgICAgLnRleHQoJ0luZGljZSBnbG9iYWwnKTtcblxuICAgIGluZGljZV9raW5kLmFwcGVuZCgnc3BhbicpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICBpZDogJ2luZF9kZXRhaWwnLFxuICAgICAgICBjbGFzczogJ2Nob2ljZV9pbmQnLFxuICAgICAgfSlcbiAgICAgIC50ZXh0KCdJbmRpY2VzIGTDqXRhaWxsw6lzJyk7XG5cbiAgICB0aGlzLm1ha2VHcmlkKCk7XG4gICAgdGhpcy5iaW5kTWVudSgpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gICAgdGhpcy5tYWtlVGFibGVTdGF0KCk7XG4gIH1cblxuICBtYWtlR3JpZCgpIHtcbiAgICB0aGlzLnBsb3QuaW5zZXJ0KCdnJywgJyNiYXInKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2dyaWQgZ3JpZC15JylcbiAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHRoaXMueSlcbiAgICAgICAgLnRpY2tTaXplKC13aWR0aClcbiAgICAgICAgLnRpY2tGb3JtYXQoJycpKVxuICAgICAgLnNlbGVjdEFsbCgnbGluZSwgcGF0aCcpXG4gICAgICAuYXR0cignc3Ryb2tlJywgJ2xpZ2h0Z3JheScpO1xuICB9XG5cbiAgdXBkYXRlQ29tcGxldHVkZSgpIHtcbiAgICB0aGlzLmNvbXBsZXR1ZGVfdmFsdWUgPSBjYWxjUG9wQ29tcGxldHVkZVN1YnNldChhcHAsIHRoaXMudmFyaWFibGVzKTtcbiAgICB0aGlzLmNvbXBsZXR1ZGVcbiAgICAgIC50ZXh0KGBDb21wbMOpdHVkZSA6ICR7dGhpcy5jb21wbGV0dWRlX3ZhbHVlfSVgKTtcbiAgfVxuXG4gIHVwZGF0ZUNvbnRleHQobWluLCBtYXgpIHtcbiAgICB0aGlzLmNvbnRleHQuc2VsZWN0QWxsKCcuYmFyJylcbiAgICAgICAuc3R5bGUoJ2ZpbGwtb3BhY2l0eScsIChfLCBpKSA9PiAoaSA+PSBtaW4gJiYgaSA8IG1heCA/ICcxJyA6ICcwLjMnKSk7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgc3ZnX2Jhci5zZWxlY3QoJy50b29sdGlwJykuc2VsZWN0QWxsKCd0ZXh0JykudGV4dCgnJyk7XG4gICAgc3ZnX2Jhci5zZWxlY3QoJyN0aXRsZS1heGlzLXknKS5yZW1vdmUoKTtcbiAgICBpZiAodGhpcy5jdXJyZW50X3R5cGUgPT09ICdnbG9iYWwnKSB7XG4gICAgICBjb25zdCBfbWF4ID0gZDMubWF4KHRoaXMuZGF0YSwgZCA9PiBkLmRpc3NpbWlsYXJpdHkpO1xuICAgICAgdGhpcy54LmRvbWFpbih0aGlzLmRpc3BsYXllZF9pZHMpO1xuICAgICAgdGhpcy55LmRvbWFpbihbMCwgX21heCArIF9tYXggLyAxMl0pO1xuXG4gICAgICB0aGlzLnBsb3Quc2VsZWN0KCcjemVyb19saW5lJykucmVtb3ZlKCk7XG5cbiAgICAgIGNvbnN0IGJhcnMgPSB0aGlzLmdfYmFyLnNlbGVjdEFsbCgnLmJhcicpXG4gICAgICAgIC5kYXRhKHRoaXMuZGF0YSwgZCA9PiBkLmlkKTtcblxuICAgICAgYmFyc1xuICAgICAgICAuYXR0cnMoZCA9PiAoe1xuICAgICAgICAgIHg6IHRoaXMueChkLmlkKSxcbiAgICAgICAgICB5OiB0aGlzLnkoZC5kaXNzaW1pbGFyaXR5KSxcbiAgICAgICAgICB3aWR0aDogdGhpcy54LmJhbmR3aWR0aCgpLFxuICAgICAgICAgIGhlaWdodDogaGVpZ2h0IC0gdGhpcy55KGQuZGlzc2ltaWxhcml0eSksXG4gICAgICAgIH0pKVxuICAgICAgICAuc3R5bGUoJ2ZpbGwnLCBjb2xvcl9kZWZhdWx0X2Rpc3NpbSk7XG5cbiAgICAgIGJhcnMuZW50ZXIoKVxuICAgICAgICAuaW5zZXJ0KCdyZWN0JywgJy5tZWFuJylcbiAgICAgICAgLmF0dHJzKGQgPT4gKHtcbiAgICAgICAgICBjbGFzczogJ2JhcicsXG4gICAgICAgICAgeDogdGhpcy54KGQuaWQpLFxuICAgICAgICAgIHk6IHRoaXMueShkLmRpc3NpbWlsYXJpdHkpLFxuICAgICAgICAgIHdpZHRoOiB0aGlzLnguYmFuZHdpZHRoKCksXG4gICAgICAgICAgaGVpZ2h0OiBoZWlnaHQgLSB0aGlzLnkoZC5kaXNzaW1pbGFyaXR5KSxcbiAgICAgICAgfSkpXG4gICAgICAgIC5zdHlsZSgnZmlsbCcsIGNvbG9yX2RlZmF1bHRfZGlzc2ltKVxuICAgICAgICAub24oJ21vdXNlb3ZlcicsICgpID0+IHtcbiAgICAgICAgICBzdmdfYmFyLnNlbGVjdCgnLnRvb2x0aXAnKS5zdHlsZSgnZGlzcGxheScsIG51bGwpO1xuICAgICAgICB9KVxuICAgICAgICAub24oJ21vdXNlb3V0JywgKCkgPT4ge1xuICAgICAgICAgIHN2Z19iYXIuc2VsZWN0KCcudG9vbHRpcCcpLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgIGNvbnN0IHRvb2x0aXAgPSBzdmdfYmFyLnNlbGVjdCgnLnRvb2x0aXAnKTtcbiAgICAgICAgICB0b29sdGlwLnNlbGVjdCgncmVjdCcpLmF0dHJzKHsgd2lkdGg6IDAsIGhlaWdodDogMCB9KTtcbiAgICAgICAgICB0b29sdGlwXG4gICAgICAgICAgICAuc2VsZWN0KCd0ZXh0LmlkX2ZlYXR1cmUnKVxuICAgICAgICAgICAgLnRleHQoYCR7YXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbn0gLSAke2QuaWR9YCk7XG4gICAgICAgICAgdG9vbHRpcC5zZWxlY3QoJ3RleHQudmFsdWVfZmVhdHVyZTEnKVxuICAgICAgICAgICAgLnRleHQoYEluZGljZSBkZSBkaXNzaW1pbGFyaXTDqSA6ICR7bWF0aF9yb3VuZChkLmRpc3NpbWlsYXJpdHkgKiAxMCkgLyAxMH1gKTtcbiAgICAgICAgICBjb25zdCBiID0gdG9vbHRpcC5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgdG9vbHRpcC5zZWxlY3QoJ3JlY3QnKVxuICAgICAgICAgICAgLmF0dHJzKHtcbiAgICAgICAgICAgICAgd2lkdGg6IGIud2lkdGggKyAyMCxcbiAgICAgICAgICAgICAgaGVpZ2h0OiBiLmhlaWdodCArIDcuNSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIHRvb2x0aXBcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7W2QzLm1vdXNlKHRoaXMpWzBdIC0gNSwgZDMubW91c2UodGhpcylbMV0gLSAyNV19KWApO1xuICAgICAgICB9KTtcblxuICAgICAgYmFycy5leGl0KCkucmVtb3ZlKCk7XG5cbiAgICAgIGNvbnN0IGF4aXNfeCA9IHRoaXMucGxvdC5zZWxlY3QoJy5heGlzLS14JylcbiAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsICgpID0+ICh0aGlzLm5iX2Rpc3BsYXkgPiA3NSA/IDYgOiAxMCkpXG4gICAgICAgIC5jYWxsKHRoaXMueEF4aXMpO1xuXG4gICAgICBheGlzX3hcbiAgICAgICAgLnNlbGVjdEFsbCgndGV4dCcpXG4gICAgICAgIC5hdHRycygoKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMubmJfZGlzcGxheSA+IDEwMCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgZHg6ICctMC44ZW0nLCBkeTogJzAuMTVlbScsIHRyYW5zZm9ybTogJ3JvdGF0ZSgtNjUpJyB9O1xuICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5uYl9kaXNwbGF5ID4gMjApIHtcbiAgICAgICAgICAgIHJldHVybiB7IGR4OiAnLTAuOGVtJywgZHk6ICcwLjE1ZW0nLCB0cmFuc2Zvcm06ICdyb3RhdGUoLTY1KScgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHsgZHg6ICcwJywgZHk6ICcwLjcxZW0nLCB0cmFuc2Zvcm06IG51bGwgfTtcbiAgICAgICAgfSlcbiAgICAgICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICgpID0+ICh0aGlzLm5iX2Rpc3BsYXkgPiAyMCA/ICdlbmQnIDogJ21pZGRsZScpKTtcblxuICAgICAgdGhpcy5wbG90LnNlbGVjdCgnLmF4aXMtLXknKVxuICAgICAgICAuY2FsbCh0aGlzLnlBeGlzKTtcblxuICAgICAgdGhpcy5wbG90LnNlbGVjdCgnLmdyaWQteScpXG4gICAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHRoaXMueSlcbiAgICAgICAgICAudGlja1NpemUoLXdpZHRoKVxuICAgICAgICAgIC50aWNrRm9ybWF0KCcnKSlcbiAgICAgICAgLnNlbGVjdEFsbCgnbGluZSwgcGF0aCcpXG4gICAgICAgIC5hdHRyKCdzdHJva2UnLCAnbGlnaHRncmF5Jyk7XG5cbiAgICAgIHN2Z19iYXIuYXBwZW5kKCd0ZXh0JylcbiAgICAgICAgLmF0dHJzKHtcbiAgICAgICAgICBpZDogJ3RpdGxlLWF4aXMteScsXG4gICAgICAgICAgeDogbWFyZ2luLmxlZnQgLyAyLFxuICAgICAgICAgIHk6IG1hcmdpbi50b3AgKyAoaGVpZ2h0IC8gMikgLSAxMCxcbiAgICAgICAgICB0cmFuc2Zvcm06IGByb3RhdGUoLTkwLCAke21hcmdpbi5sZWZ0IC8gMn0sICR7bWFyZ2luLnRvcCArIChoZWlnaHQgLyAyKX0pYCxcbiAgICAgICAgfSlcbiAgICAgICAgLnN0eWxlcyh7ICdmb250LWZhbWlseSc6ICdzYW5zLXNlcmlmJywgJ2ZvbnQtc2l6ZSc6ICcxMnB4JywgJ3RleHQtYW5jaG9yJzogJ21pZGRsZScgfSlcbiAgICAgICAgLnRleHQoJ0luZGljZSBkZSBkaXNzaW1pbGFyaXTDqScpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50X3R5cGUgPT09ICdkZXRhaWwnKSB7XG4gICAgICBjb25zdCBrZXlzID0gdGhpcy52YXJpYWJsZXMubWFwKHYgPT4gYGVjXyR7dn1gKTtcbiAgICAgIHRoaXMueC5kb21haW4odGhpcy5kaXNwbGF5ZWRfaWRzKTtcbiAgICAgIHRoaXMueDEuZG9tYWluKGtleXMpLnJhbmdlUm91bmQoWzAsIHRoaXMueC5iYW5kd2lkdGgoKV0pO1xuICAgICAgdGhpcy56LmRvbWFpbihrZXlzKTtcbiAgICAgIGNvbnN0IG1taW4gPSBkMy5taW4odGhpcy5kYXRhLCBkID0+IGQzLm1pbihrZXlzLCBrZXkgPT4gZFtrZXldKSk7XG4gICAgICB0aGlzLnkuZG9tYWluKFtcbiAgICAgICAgbW1pbiA+IDAgPyAwIDogbW1pbixcbiAgICAgICAgZDMubWF4KHRoaXMuZGF0YSwgZCA9PiBkMy5tYXgoa2V5cywga2V5ID0+IGRba2V5XSkpLFxuICAgICAgXSkubmljZSgpO1xuXG4gICAgICB0aGlzLnBsb3Quc2VsZWN0KCcjemVyb19saW5lJykucmVtb3ZlKCk7XG4gICAgICB0aGlzLnBsb3QuaW5zZXJ0KCdsaW5lJylcbiAgICAgICAgLmF0dHJzKHtcbiAgICAgICAgICB4MTogMCxcbiAgICAgICAgICB4Mjogd2lkdGgsXG4gICAgICAgICAgeTE6IHRoaXMueSgwKSxcbiAgICAgICAgICB5MjogdGhpcy55KDApLFxuICAgICAgICAgICdzdHJva2Utd2lkdGgnOiAnMXB4JyxcbiAgICAgICAgICBzdHJva2U6ICcjMDAwJyxcbiAgICAgICAgICBpZDogJ3plcm9fbGluZScsXG4gICAgICAgIH0pO1xuXG4gICAgICBjb25zdCBiYXJzID0gdGhpcy5nX2Jhci5zZWxlY3RBbGwoJy5ncm91cF9iYXInKVxuICAgICAgICAuZGF0YSh0aGlzLmRhdGEsIGQgPT4gZC5pZCk7XG5cbiAgICAgIGJhcnNcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGQgPT4gYHRyYW5zbGF0ZSgke3RoaXMueChkLmlkKX0sIDApYCk7XG5cbiAgICAgIGJhcnNcbiAgICAgICAgLnNlbGVjdEFsbCgncmVjdCcpXG4gICAgICAgIC5hdHRycyhkID0+ICh7XG4gICAgICAgICAgeDogdGhpcy54MShkLmtleSksXG4gICAgICAgICAgeTogdGhpcy55KE1hdGgubWF4KDAsIGQudmFsdWUpKSxcbiAgICAgICAgICB3aWR0aDogdGhpcy54MS5iYW5kd2lkdGgoKSxcbiAgICAgICAgICBoZWlnaHQ6IE1hdGguYWJzKHRoaXMueShkLnZhbHVlKSAtIHRoaXMueSgwKSksXG4gICAgICAgICAgZmlsbDogdGhpcy56KGQua2V5KSxcbiAgICAgICAgfSkpO1xuXG4gICAgICBiYXJzLmVudGVyKClcbiAgICAgICAgLmFwcGVuZCgnZycpXG4gICAgICAgIC5hdHRycyhkID0+ICh7XG4gICAgICAgICAgY2xhc3M6ICdncm91cF9iYXInLFxuICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke3RoaXMueChkLmlkKX0sIDApYCxcbiAgICAgICAgfSkpXG4gICAgICAgIC5zZWxlY3RBbGwoJ3JlY3QnKVxuICAgICAgICAuZGF0YShkID0+IGtleXMubWFwKGtleSA9PiAoeyBrZXksIHZhbHVlOiBkW2tleV0sIHZhbHVlX3JlZjogZFtrZXkucmVwbGFjZSgnZWNfJywgJycpXSwgaWQ6IGQuaWQgfSkpKVxuICAgICAgICAuZW50ZXIoKVxuICAgICAgICAuYXBwZW5kKCdyZWN0JylcbiAgICAgICAgLmF0dHJzKGQgPT4gKHtcbiAgICAgICAgICB4OiB0aGlzLngxKGQua2V5KSxcbiAgICAgICAgICB5OiB0aGlzLnkoTWF0aC5tYXgoMCwgZC52YWx1ZSkpLFxuICAgICAgICAgIHdpZHRoOiB0aGlzLngxLmJhbmR3aWR0aCgpLFxuICAgICAgICAgIGhlaWdodDogTWF0aC5hYnModGhpcy55KGQudmFsdWUpIC0gdGhpcy55KDApKSxcbiAgICAgICAgICBmaWxsOiB0aGlzLnooZC5rZXkpLFxuICAgICAgICB9KSlcbiAgICAgICAgLm9uKCdtb3VzZW92ZXInLCAoKSA9PiB7XG4gICAgICAgICAgc3ZnX2Jhci5zZWxlY3QoJy50b29sdGlwJykuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKCdtb3VzZW91dCcsICgpID0+IHtcbiAgICAgICAgICBzdmdfYmFyLnNlbGVjdCgnLnRvb2x0aXAnKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICBjb25zdCB0b29sdGlwID0gc3ZnX2Jhci5zZWxlY3QoJy50b29sdGlwJyk7XG4gICAgICAgICAgY29uc3QgaW5kaWMgPSBkLmtleS5yZXBsYWNlKCdlY18nLCAnJyk7XG4gICAgICAgICAgdG9vbHRpcC5zZWxlY3QoJ3JlY3QnKS5hdHRycyh7IHdpZHRoOiAwLCBoZWlnaHQ6IDAgfSk7XG4gICAgICAgICAgdG9vbHRpcFxuICAgICAgICAgICAgLnNlbGVjdCgndGV4dC5pZF9mZWF0dXJlJylcbiAgICAgICAgICAgIC50ZXh0KGAke2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb259IC0gJHtkLmlkfWApO1xuICAgICAgICAgIHRvb2x0aXAuc2VsZWN0KCd0ZXh0LnZhbHVlX2ZlYXR1cmUxJylcbiAgICAgICAgICAgIC50ZXh0KGBJbmRpY2F0ZXVyIDogJHtpbmRpY31gKTtcbiAgICAgICAgICB0b29sdGlwLnNlbGVjdCgndGV4dC52YWx1ZV9mZWF0dXJlMicpXG4gICAgICAgICAgICAudGV4dChgJHthcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9ufSA6ICR7bWF0aF9yb3VuZChzZWxmLm9ial9teV9yZWdpb25baW5kaWNdICogMTApIC8gMTB9YCk7XG4gICAgICAgICAgdG9vbHRpcC5zZWxlY3QoJ3RleHQudmFsdWVfZmVhdHVyZTMnKVxuICAgICAgICAgICAgLnRleHQoYCR7ZC5pZH0gOiAke21hdGhfcm91bmQoZC52YWx1ZV9yZWYgKiAxMCkgLyAxMH1gKTtcbiAgICAgICAgICB0b29sdGlwLnNlbGVjdCgndGV4dC52YWx1ZV9mZWF0dXJlNCcpXG4gICAgICAgICAgICAudGV4dChgw4ljYXJ0OiAke21hdGhfcm91bmQoZC52YWx1ZSAqIDEwKSAvIDEwfSAlYCk7XG4gICAgICAgICAgY29uc3QgdHggPSArdGhpcy5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgndHJhbnNmb3JtJykucmVwbGFjZSgndHJhbnNsYXRlKCcsICcnKS5yZXBsYWNlKCcsIDApJywgJycpO1xuICAgICAgICAgIGNvbnN0IGIgPSB0b29sdGlwLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICB0b29sdGlwLnNlbGVjdCgncmVjdCcpXG4gICAgICAgICAgICAuYXR0cnMoe1xuICAgICAgICAgICAgICB3aWR0aDogYi53aWR0aCArIDIwLFxuICAgICAgICAgICAgICBoZWlnaHQ6IGIuaGVpZ2h0ICsgNy41LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgdG9vbHRpcFxuICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHtbZDMubW91c2UodGhpcylbMF0gLSA1ICsgdHgsIGQzLm1vdXNlKHRoaXMpWzFdIC0gNzIuNV19KWApO1xuICAgICAgICB9KTtcblxuICAgICAgYmFycy5leGl0KCkucmVtb3ZlKCk7XG5cbiAgICAgIGNvbnN0IGF4aXNfeCA9IHRoaXMucGxvdC5zZWxlY3QoJy5heGlzLS14JylcbiAgICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHRoaXMueCkpO1xuICAgICAgdGhpcy5wbG90LnNlbGVjdCgnLmF4aXMtLXknKVxuICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHRoaXMueSkudGlja3MobnVsbCwgJ3MnKSk7XG5cbiAgICAgIHRoaXMucGxvdC5zZWxlY3QoJy5ncmlkLXknKVxuICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHRoaXMueSlcbiAgICAgICAgICAudGlja1NpemUoLXdpZHRoKVxuICAgICAgICAgIC50aWNrRm9ybWF0KCcnKSlcbiAgICAgICAgLnNlbGVjdEFsbCgnbGluZScpXG4gICAgICAgIC5hdHRyKCdzdHJva2UnLCAnbGlnaHRncmF5Jyk7XG5cbiAgICAgIGF4aXNfeC5zZWxlY3RBbGwoJ3RleHQnKVxuICAgICAgICAuYXR0cnMoKCkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLm5iX2Rpc3BsYXkgPiAxOCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgZHg6ICctMC44ZW0nLFxuICAgICAgICAgICAgICBkeTogJzAuMTVlbScsXG4gICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3JvdGF0ZSgtNjUpJyxcbiAgICAgICAgICAgICAgJ2ZvbnQtc2l6ZSc6IHRoaXMubmJfZGlzcGxheSA+IDQ1ID8gJzcuNXB4JyA6ICc5cHgnIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB7IGR4OiAnMCcsIGR5OiAnMC43MWVtJywgdHJhbnNmb3JtOiBudWxsIH07XG4gICAgICAgIH0pXG4gICAgICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAoKSA9PiAodGhpcy5uYl9kaXNwbGF5ID4gMTggPyAnZW5kJyA6ICdtaWRkbGUnKSk7XG5cbiAgICAgIGF4aXNfeC5zZWxlY3RBbGwoJy50aWNrID4gbGluZScpXG4gICAgICAgIC5hdHRycyh7XG4gICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7TWF0aC5jZWlsKHdpZHRoIC8gKHRoaXMuZGlzcGxheWVkX2lkcy5sZW5ndGggKiAyKSl9LDApYCxcbiAgICAgICAgICB5MTogNixcbiAgICAgICAgICB5MjogLWhlaWdodCxcbiAgICAgICAgfSlcbiAgICAgICAgLnN0eWxlcyh7XG4gICAgICAgICAgc3Ryb2tlOiAnZ3JheScsXG4gICAgICAgICAgJ3N0cm9rZS1vcGFjaXR5JzogMC40LFxuICAgICAgICB9KTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGVNYXBSZWdpbygpIHtcbiAgICB0aGlzLm1hcF9lbGVtLnRhcmdldF9sYXllci5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCBkID0+IChcbiAgICAgICAgdGhpcy5jdXJyZW50X2lkcy5pbmRleE9mKGQucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV0pID4gLTFcbiAgICAgICAgICA/IGFwcC5jb2xvcnNbZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXV0gfHwgY29sb3JfY291bnRyaWVzXG4gICAgICAgICAgOiBjb2xvcl9kaXNhYmxlZCkpO1xuICB9XG5cbiAgdXBkYXRlQ2hhbmdlUmVnaW9uKCkge1xuICAgIHRoaXMuY2hhbmdlU3R1ZHlab25lKCk7XG4gIH1cblxuICBjaGFuZ2VTdHVkeVpvbmUoKSB7XG4gICAgdGhpcy52YXJpYWJsZXMgPSBhcHAuY3VycmVudF9jb25maWcucmF0aW87XG4gICAgLy8gRmlsdGVyIHRoZSBkYXRhIGFnYWluc3QgZW1wdHkgZmVhdHVyZXM6XG4gICAgdGhpcy5yZWZfZGF0YSA9IGFwcC5jdXJyZW50X2RhdGFcbiAgICAgIC5maWx0ZXIoZnQgPT4gdGhpcy52YXJpYWJsZXMubWFwKHYgPT4gISFmdFt2XSkuZXZlcnkodiA9PiB2ID09PSB0cnVlKSlcbiAgICAgIC5zbGljZSgpO1xuICAgIC8vIFN0YW5kYXJkaXplIGFsbCB2YXJpYWJsZXM6XG4gICAgdGhpcy52YXJpYWJsZXMuZm9yRWFjaCgodikgPT4ge1xuICAgICAgY29uc3Qgc2VyaWUgPSB0aGlzLnJlZl9kYXRhLm1hcChmdCA9PiBmdFt2XSk7XG4gICAgICBjb25zdCBzdGFuZGFyZGl6ZWQgPSBnZXRTdGFuZGFyZGl6ZWRNZWFuU3RkRGV2KHNlcmllKTtcbiAgICAgIGNvbnN0IG5hbWVfc3RhbmRhcmRpemVkID0gYHN0XyR7dn1gO1xuICAgICAgdGhpcy5yZWZfZGF0YS5mb3JFYWNoKChmdCwgaSkgPT4ge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgZnRbbmFtZV9zdGFuZGFyZGl6ZWRdID0gc3RhbmRhcmRpemVkW2ldO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBGaW5kIHZhbHVlIG9mIG15IHJlZ2lvbjpcbiAgICB0aGlzLm9ial9teV9yZWdpb24gPSB0aGlzLnJlZl9kYXRhLmZpbmQoZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKTtcblxuICAgIHRoaXMucmVmX2RhdGEuZm9yRWFjaCgoZnQpID0+IHtcbiAgICAgIGNvbnN0IHMgPSB0aGlzLnZhcmlhYmxlcy5tYXAodiA9PiBtYXRoX3Bvdyh0aGlzLm9ial9teV9yZWdpb25bYHN0XyR7dn1gXSAtIGZ0W2BzdF8ke3Z9YF0sIDIpKS5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgZnQuZGlzc2ltaWxhcml0eSA9IG1hdGhfc3FydChzKTtcbiAgICAgIHRoaXMudmFyaWFibGVzLmZvckVhY2goKHYpID0+IHtcbiAgICAgICAgY29uc3QgdmFyX25hbWUgPSBgZWNfJHt2fWA7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICBmdFt2YXJfbmFtZV0gPSAoZnRbdl0gLyB0aGlzLm9ial9teV9yZWdpb25bdl0gKiAxMDApIC0gMTAwO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5yZWZfZGF0YSA9IHRoaXMucmVmX2RhdGEuc29ydCgoYSwgYikgPT4gYS5kaXNzaW1pbGFyaXR5IC0gYi5kaXNzaW1pbGFyaXR5KTtcbiAgICB0aGlzLmRhdGEgPSB0aGlzLnJlZl9kYXRhLnNsaWNlKDEsIDEgKyB0aGlzLm5iX2Rpc3BsYXkpO1xuXG4gICAgdGhpcy5jdXJyZW50X2lkcyA9IHRoaXMucmVmX2RhdGEubWFwKGQgPT4gZC5pZCk7XG4gICAgdGhpcy5kaXNwbGF5ZWRfaWRzID0gdGhpcy5kYXRhLm1hcChkID0+IGQuaWQpO1xuICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICB0aGlzLmRpc3BsYXllZF9pZHMuZm9yRWFjaCgoX2lkKSA9PiB7IGFwcC5jb2xvcnNbX2lkXSA9IGNvbG9yX2RlZmF1bHRfZGlzc2ltOyB9KTtcbiAgICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgIHRoaXMudXBkYXRlQ29tcGxldHVkZSgpO1xuICAgIHRoaXMudXBkYXRlVGFibGVTdGF0cygpO1xuICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG5cbiAgYXBwbHlTZWxlY3Rpb24obmJfdmFsdWUpIHtcbiAgICB0aGlzLm5iX2Rpc3BsYXkgPSBuYl92YWx1ZTtcbiAgICB0aGlzLmRhdGEgPSB0aGlzLnJlZl9kYXRhLnNsaWNlKDEsIDEgKyBuYl92YWx1ZSk7XG4gICAgdGhpcy5kaXNwbGF5ZWRfaWRzID0gdGhpcy5kYXRhLm1hcChkID0+IGQuaWQpO1xuICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICB0aGlzLmRpc3BsYXllZF9pZHMuZm9yRWFjaCgoX2lkKSA9PiB7IGFwcC5jb2xvcnNbX2lkXSA9IGNvbG9yX2RlZmF1bHRfZGlzc2ltOyB9KTtcbiAgICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG5cbiAgYmluZE1lbnUoKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgbWVudSA9IGQzLnNlbGVjdCgnI21lbnVfc2VsZWN0aW9uJyk7XG4gICAgY29uc3QgYXBwbHljaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBsZXQgdmFsdWUgPSArdGhpcy52YWx1ZTtcbiAgICAgIGlmICh2YWx1ZSA8IDEpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IDE7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChzZWxmLmN1cnJlbnRfdHlwZSA9PT0gJ2dsb2JhbCcgJiYgdmFsdWUgPiBzZWxmLnJlZl9kYXRhLmxlbmd0aCkge1xuICAgICAgICB2YWx1ZSA9IHRoaXMudmFsdWUgPSBzZWxmLnJlZl9kYXRhLmxlbmd0aDtcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5jdXJyZW50X3R5cGUgPT09ICdkZXRhaWwnICYmIHZhbHVlID4gNTApIHtcbiAgICAgICAgdmFsdWUgPSB0aGlzLnZhbHVlID0gNTA7XG4gICAgICB9XG4gICAgICBzZWxmLmFwcGx5U2VsZWN0aW9uKHZhbHVlKTtcbiAgICB9O1xuICAgIG1lbnUuc2VsZWN0KCcubmJfc2VsZWN0JylcbiAgICAgIC5vbignY2hhbmdlJywgYXBwbHljaGFuZ2UpO1xuICAgIG1lbnUuc2VsZWN0KCcubmJfc2VsZWN0JylcbiAgICAgIC5vbignd2hlZWwnLCBhcHBseWNoYW5nZSk7XG4gICAgbWVudS5zZWxlY3QoJy5uYl9zZWxlY3QnKVxuICAgICAgLm9uKCdrZXl1cCcsIGFwcGx5Y2hhbmdlKTtcblxuICAgIG1lbnUuc2VsZWN0KCcjaW5kX2dsb2JhbCcpXG4gICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYuY3VycmVudF90eXBlID0gJ2dsb2JhbCc7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIG1lbnUuc2VsZWN0KCcjaW5kX2RldGFpbCcpXG4gICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2Nob2ljZV9pbmQnKTtcbiAgICAgICAgc2VsZi5nX2Jhci5zZWxlY3RBbGwoJ2cnKS5yZW1vdmUoKTtcbiAgICAgICAgc2VsZi51cGRhdGUoKTtcbiAgICAgIH0pO1xuXG4gICAgbWVudS5zZWxlY3QoJyNpbmRfZGV0YWlsJylcbiAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5jdXJyZW50X3R5cGUgPSAnZGV0YWlsJztcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgbWVudS5zZWxlY3QoJyNpbmRfZ2xvYmFsJylcbiAgICAgICAgICAuYXR0cignY2xhc3MnLCAnY2hvaWNlX2luZCcpO1xuICAgICAgICBzZWxmLmdfYmFyLnNlbGVjdEFsbCgncmVjdCcpLnJlbW92ZSgpO1xuICAgICAgICBzZWxmLnVwZGF0ZSgpO1xuICAgICAgfSk7XG4gIH1cblxuICBhZGRWYXJpYWJsZShjb2RlX3ZhcmlhYmxlLCBuYW1lX3ZhcmlhYmxlKSB7XG4gICAgdGhpcy5nX2Jhci5zZWxlY3RBbGwoJ3JlY3QsIGcnKS5yZW1vdmUoKTtcbiAgICB0aGlzLmNoYW5nZVN0dWR5Wm9uZSgpO1xuICB9XG5cbiAgcmVtb3ZlVmFyaWFibGUoY29kZV92YXJpYWJsZSkge1xuICAgIHRoaXMuZ19iYXIuc2VsZWN0QWxsKCdyZWN0LCBnJykucmVtb3ZlKCk7XG4gICAgdGhpcy5jaGFuZ2VTdHVkeVpvbmUoKTtcbiAgfVxuXG4gIGNoYW5nZVZhcmlhYmxlKGNvZGVfdmFyaWFibGUpIHtcbiAgICB0aGlzLnJhdGlvX3RvX3VzZSA9IGNvZGVfdmFyaWFibGU7XG4gIH1cblxuICByZW1vdmUoKSB7XG4gICAgdGhpcy5wbG90LnJlbW92ZSgpO1xuICAgIHRoaXMudGFibGVfc3RhdHMucmVtb3ZlKCk7XG4gICAgdGhpcy50YWJsZV9zdGF0cyA9IG51bGw7XG4gICAgdGhpcy5tYXBfZWxlbS51bmJpbmRCcnVzaENsaWNrKCk7XG4gICAgdGhpcy5tYXBfZWxlbSA9IG51bGw7XG4gICAgc3ZnX2Jhci5odG1sKCcnKTtcbiAgfVxuXG4gIGJpbmRNYXAobWFwX2VsZW0pIHtcbiAgICB0aGlzLm1hcF9lbGVtID0gbWFwX2VsZW07XG4gICAgdGhpcy5tYXBfZWxlbS5yZXNldENvbG9ycyh0aGlzLmN1cnJlbnRfaWRzKTtcbiAgICB0aGlzLmFwcGx5U2VsZWN0aW9uKDUpO1xuXG4gICAgLy8gVE9ETyA6IGRlZmluZSBpbiBlYWNoIGNoYXJ0IHdhcyBraW5kIG9mIHRvb2x0aXAgdG8gZGlzcGxheSBvbiB0aGUgbWFwXG4gICAgLy8gdGhpcy5tYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAvLyAgIC5vbignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgIC8vICAgICBzdmdfbWFwLnNlbGVjdCgnLnRvb2x0aXAnKVxuICAgIC8vICAgICAgIC5zdHlsZSgnZGlzcGxheScsIG51bGwpO1xuICAgIC8vICAgfSlcbiAgICAvLyAgIC5vbignbW91c2VvdXQnLCAoKSA9PiB7XG4gICAgLy8gICAgIHN2Z19tYXAuc2VsZWN0KCcudG9vbHRpcCcpXG4gICAgLy8gICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAvLyAgIH0pXG4gICAgLy8gICAub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChkKSB7XG4gICAgLy8gICAgIGNvbnN0IHRvb2x0aXAgPSBzdmdfbWFwLnNlbGVjdCgnLnRvb2x0aXAnKTtcbiAgICAvLyAgICAgdG9vbHRpcFxuICAgIC8vICAgICAgIC5zZWxlY3QoJ3RleHQuaWRfZmVhdHVyZScpXG4gICAgLy8gICAgICAgLnRleHQoYCR7ZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXX1gKTtcbiAgICAvLyAgICAgbGV0IF9peCwgbmJfdmFsO1xuICAgIC8vICAgICBmb3IgKF9peCA9IDAsIG5iX3ZhbCA9IE1hdGgubWluKGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpby5sZW5ndGgsIDUpOyBfaXggPCBuYl92YWw7IF9peCsrKSB7XG4gICAgLy8gICAgICAgdG9vbHRpcC5zZWxlY3QoYHRleHQudmFsdWVfZmVhdHVyZSR7X2l4ICsgMX1gKVxuICAgIC8vICAgICAgICAgLnRleHQoYCR7YXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvX3ByZXR0eV9uYW1lW19peF19OiAke21hdGhfcm91bmQoZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5yYXRpb1tfaXhdXSAqIDEwKSAvIDEwfWApO1xuICAgIC8vICAgICB9XG4gICAgLy8gICAgIHRvb2x0aXBcbiAgICAvLyAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke1tkMy5tb3VzZSh0aGlzKVswXSAtIDUsIGQzLm1vdXNlKHRoaXMpWzFdIC0gNDUgLSBfaXggKiAxMl19KWApO1xuICAgIC8vICAgfSk7XG4gIH1cblxuICB1cGRhdGVUYWJsZVN0YXRzKCkge1xuICAgIHRoaXMudGFibGVfc3RhdHMucmVtb3ZlQWxsKCk7XG4gICAgdGhpcy50YWJsZV9zdGF0cy5hZGRGZWF0dXJlcyh0aGlzLnByZXBhcmVUYWJsZVN0YXQoKSk7XG4gIH1cblxuICBwcmVwYXJlVGFibGVTdGF0KCkge1xuICAgIGNvbnN0IGFsbF92YWx1ZXMgPSB0aGlzLnZhcmlhYmxlcy5tYXAodiA9PiB0aGlzLnJlZl9kYXRhLm1hcChkID0+IGRbdl0pKTtcbiAgICBjb25zdCBteV9yZWdpb24gPSB0aGlzLnJlZl9kYXRhLmZpbmQoZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKTtcbiAgICBjb25zdCBmZWF0dXJlcyA9IGFsbF92YWx1ZXMubWFwKCh2YWx1ZXMsIGkpID0+ICh7XG4gICAgICBNaW46IGQzLm1pbih2YWx1ZXMpLFxuICAgICAgTWF4OiBkMy5tYXgodmFsdWVzKSxcbiAgICAgIE1veWVubmU6IGdldE1lYW4odmFsdWVzKSxcbiAgICAgIGlkOiB0aGlzLnZhcmlhYmxlc1tpXSxcbiAgICAgIFZhcmlhYmxlOiB0aGlzLnZhcmlhYmxlc1tpXSxcbiAgICAgICdNYSByw6lnaW9uJzogbXlfcmVnaW9uW3RoaXMudmFyaWFibGVzW2ldXSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIGZlYXR1cmVzO1xuICB9XG5cbiAgbWFrZVRhYmxlU3RhdCgpIHtcbiAgICB0aGlzLnRhYmxlX3N0YXRzID0gbmV3IFRhYmxlUmVzdW1lU3RhdCh0aGlzLnByZXBhcmVUYWJsZVN0YXQoKSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IGNvbXAsIG1hdGhfcm91bmQsIG1hdGhfYWJzLCBSZWN0LCBQcm9wU2l6ZXIsIHByZXBhcmVUb29sdGlwLCBzdmdQYXRoVG9Db29yZHMsIGdldE1lYW4gfSBmcm9tICcuLy4uL2hlbHBlcnMnO1xuaW1wb3J0IHsgY29sb3JfZGlzYWJsZWQsIGNvbG9yX2NvdW50cmllcywgY29sb3Jfc3VwLCBjb2xvcl9pbmYsIGNvbG9yX2hpZ2hsaWdodCB9IGZyb20gJy4vLi4vb3B0aW9ucyc7XG5pbXBvcnQgeyBjYWxjUG9wQ29tcGxldHVkZVN1YnNldCB9IGZyb20gJy4vLi4vcHJlcGFyZV9kYXRhJztcbmltcG9ydCB7IHN2Z19tYXAgfSBmcm9tICcuLy4uL21hcCc7XG5pbXBvcnQgeyBhcHAsIHZhcmlhYmxlc19pbmZvLCByZXNldENvbG9ycyB9IGZyb20gJy4vLi4vLi4vbWFpbic7XG5pbXBvcnQgVGFibGVSZXN1bWVTdGF0IGZyb20gJy4vLi4vdGFibGVSZXN1bWVTdGF0JztcblxuY29uc3Qgc3ZnX2JhciA9IGQzLnNlbGVjdCgnI3N2Z19iYXInKTtcbmNvbnN0IG1hcmdpbiA9IHsgdG9wOiAyMCwgcmlnaHQ6IDIwLCBib3R0b206IDQwLCBsZWZ0OiAzMCB9O1xuXG5jb25zdCB3aWR0aCA9ICtzdmdfYmFyLmF0dHIoJ3dpZHRoJykgLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodCxcbiAgaGVpZ2h0ID0gK3N2Z19iYXIuYXR0cignaGVpZ2h0JykgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcblxuZXhwb3J0IGNsYXNzIFNpbWlsYXJpdHkxcGx1cyB7XG4gIGNvbnN0cnVjdG9yKHJlZl9kYXRhKSB7XG4gICAgLy8gU2V0IHRoZSBtaW5pbXVtIG51bWJlciBvZiB2YXJpYWJsZXMgdG8ga2VlcCBzZWxlY3RlZCBmb3IgdGhpcyBraW5kIG9mIGNoYXJ0OlxuICAgIGFwcC5jdXJyZW50X2NvbmZpZy5uYl92YXIgPSAxO1xuICAgIHRoaXMucmF0aW9zID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvO1xuICAgIHRoaXMubnVtcyA9IGFwcC5jdXJyZW50X2NvbmZpZy5udW07XG4gICAgdGhpcy5teV9yZWdpb24gPSByZWZfZGF0YS5maW5kKGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbik7XG4gICAgdGhpcy5kYXRhID0gcmVmX2RhdGEuZmlsdGVyKGZ0ID0+IHRoaXMucmF0aW9zLm1hcCh2ID0+ICEhZnRbdl0pLmV2ZXJ5KHYgPT4gdiA9PT0gdHJ1ZSkpLnNsaWNlKCk7XG4gICAgdGhpcy5kYXRhLmZvckVhY2goKGZ0KSA9PiB7XG4gICAgICB0aGlzLnJhdGlvcy5mb3JFYWNoKCh2KSA9PiB7XG4gICAgICAgIGZ0W2BkaXN0XyR7dn1gXSA9IG1hdGhfYWJzKCtmdFt2XSAtICt0aGlzLm15X3JlZ2lvblt2XSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICAvLyB0aGlzLmRhdGEgPSByZWZfZGF0YS5maWx0ZXIoZnQgPT4gISFmdFtyYXRpb190b191c2VdKS5zbGljZSgpO1xuICAgIC8vIHRoaXMuZGF0YVxuICAgIC8vICAgLmZvckVhY2goKGZ0KSA9PiB7XG4gICAgLy8gICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIC8vICAgICBmdC5kaXN0ID0gbWF0aF9hYnMoK2Z0W3JhdGlvX3RvX3VzZV0gLSB0aGlzLm15X3JlZ2lvbl92YWx1ZSk7XG4gICAgLy8gICB9KTtcbiAgICAvLyB0aGlzLmRhdGEuc29ydCgoYSwgYikgPT4gYi5kaXN0IC0gYS5kaXN0KTtcbiAgICB0aGlzLmN1cnJlbnRfaWRzID0gdGhpcy5kYXRhLm1hcChkID0+IGQuaWQpO1xuICAgIHJlc2V0Q29sb3JzKCk7XG4gICAgdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uID0gW107XG4gICAgdGhpcy5zZXJpZV9pbnZlcnNlZCA9IGZhbHNlO1xuICAgIGNvbnN0IGRyYXdfZ3JvdXAgPSBzdmdfYmFyXG4gICAgICAuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7bWFyZ2luLmxlZnR9LCAke21hcmdpbi50b3B9KWApO1xuICAgIGRyYXdfZ3JvdXAuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAnYXhpcyBheGlzLS14JywgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKDAsICR7aGVpZ2h0IC8gMn0pYCB9KTtcbiAgICB0aGlzLmRyYXdfZ3JvdXAgPSBkcmF3X2dyb3VwO1xuXG4gICAgLy8gUHJlcGFyZSB0aGUgdG9vbHRpcCBkaXNwbGF5ZWQgb24gbW91c2VvdmVyOlxuICAgIHByZXBhcmVUb29sdGlwKHN2Z19iYXIpO1xuXG4gICAgLy8gQ29tcHV0ZSB0aGUgXCJjb21wbMOpdHVkZVwiIHZhbHVlIGZvciB0aGlzIHJhdGlvOlxuICAgIHRoaXMuY29tcGxldHVkZV92YWx1ZSA9IGNhbGNQb3BDb21wbGV0dWRlU3Vic2V0KGFwcCwgW3RoaXMucmF0aW9fdG9fdXNlXSk7XG5cbiAgICAvLyBDcmVhdGUgdGhlIFwiY29tcGzDqXR1ZGVcIiB0ZXh0OlxuICAgIHRoaXMuY29tcGxldHVkZSA9IHN2Z19iYXIuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRycyh7IGlkOiAnY2hhcnRfY29tcGxldHVkZScsIHg6IDYwLCB5OiA0MCB9KVxuICAgICAgLnN0eWxlcyh7ICdmb250LWZhbWlseSc6ICdcXCdTaWduaWthXFwnLCBzYW5zLXNlcmlmJyB9KVxuICAgICAgLnRleHQoYENvbXBsw6l0dWRlIDogJHt0aGlzLmNvbXBsZXR1ZGVfdmFsdWV9JWApO1xuXG4gICAgLy8gQ3JlYXRlIHRoZSBidXR0b24gYWxsb3dpbmcgdG8gY2hvb3NlXG4gICAgLy8gaWYgdGhlIGNvbG9ycyBhcmUgaW52ZXJzZWRcbiAgICAvLyAobGlrZSBncmVlbi9yZWQgZm9yIHN1cGVyaW9yL2luZmVyaW9yIHJlZ2lvbnMpXG4gICAgc3ZnX2Jhci5hcHBlbmQoJ2ltYWdlJylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIHg6IHdpZHRoICsgbWFyZ2luLmxlZnQgKyA1LFxuICAgICAgICB5OiAyMzIuNSxcbiAgICAgICAgd2lkdGg6IDE1LFxuICAgICAgICBoZWlnaHQ6IDE1LFxuICAgICAgICAneGxpbms6aHJlZic6ICdpbWcvcmV2ZXJzZV9wbHVzLnBuZycsXG4gICAgICAgIGlkOiAnaW1nX3JldmVyc2UnLFxuICAgICAgfSlcbiAgICAgIC5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2VyaWVfaW52ZXJzZWQgPSAhdGhpcy5zZXJpZV9pbnZlcnNlZDtcbiAgICAgICAgdGhpcy5hcHBseVNlbGVjdGlvbih0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24ubGVuZ3RoKTtcbiAgICAgIH0pO1xuXG5cbiAgICAvLyBDcmVhdGUgdGhlIHNlY3Rpb24gY29udGFpbmluZyB0aGUgaW5wdXQgZWxlbWVudCBhbGxvd2luZyB0byBjaG9zZVxuICAgIC8vIGhvdyBtYW55IFwiY2xvc2VcIiByZWdpb25zIHdlIHdhbnQgdG8gaGlnaGxpZ2h0LlxuICAgIGNvbnN0IHNlbGVjdGlvbl9jbG9zZSA9IGQzLnNlbGVjdChzdmdfYmFyLm5vZGUoKS5wYXJlbnRFbGVtZW50KVxuICAgICAgLmFwcGVuZCgnZGl2JylcbiAgICAgIC5hdHRyKCdpZCcsICdtZW51X3NlbGVjdGlvbicpXG4gICAgICAuc3R5bGVzKHsgdG9wOiAnLTEwMHB4JywgJ21hcmdpbi1sZWZ0JzogJzMwcHgnLCBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9KVxuICAgICAgLmFwcGVuZCgncCcpO1xuXG4gICAgc2VsZWN0aW9uX2Nsb3NlLmFwcGVuZCgnc3BhbicpXG4gICAgICAucHJvcGVydHkoJ3ZhbHVlJywgJ2Nsb3NlJylcbiAgICAgIC5hdHRycyh7IHZhbHVlOiAnY2xvc2UnLCBjbGFzczogJ3R5cGVfc2VsZWN0aW9uIHNxdWFyZSBjaGVja2VkJyB9KTtcbiAgICBzZWxlY3Rpb25fY2xvc2UuYXBwZW5kKCdzcGFuJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAnbGFiZWxfY2hrJyB9KVxuICAgICAgLmh0bWwoJ0xlcycpO1xuICAgIHNlbGVjdGlvbl9jbG9zZS5hcHBlbmQoJ2lucHV0JylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAnbmJfc2VsZWN0JywgdHlwZTogJ251bWJlcicgfSlcbiAgICAgIC5wcm9wZXJ0eSgndmFsdWUnLCA1KTtcbiAgICBzZWxlY3Rpb25fY2xvc2UuYXBwZW5kKCdzcGFuJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAnbGFiZWxfY2hrJyB9KVxuICAgICAgLmh0bWwoJ3LDqWdpb25zIGxlcyBwbHVzIHByb2NoZXMnKTtcblxuICAgIHRoaXMuYmluZE1lbnUoKTtcblxuICAgIC8vIGNvbnN0IGhlYWRlcl9iYXJfc2VjdGlvbiA9IGQzLnNlbGVjdCgnI2hlYWRlcl9jaGFydCcpO1xuICAgIC8vXG4gICAgLy8gdGhpcy5zZWxlY192YXIgPSBoZWFkZXJfYmFyX3NlY3Rpb25cbiAgICAvLyAgIC5pbnNlcnQoJ3NlbGVjdCcsICcjaW1nX3RhYmxlJylcbiAgICAvLyAgIC5hdHRycyh7IGNsYXNzOiAndGl0bGVfdmFyaWFibGUnIH0pXG4gICAgLy8gICAuc3R5bGVzKHtcbiAgICAvLyAgICAgJ2ZvbnQtZmFtaWx5JzogJ1xcJ1NpZ25pa2FcXCcsIHNhbnMtc2VyaWYnLFxuICAgIC8vICAgICAnZm9udC13ZWlnaHQnOiAnODAwJyxcbiAgICAvLyAgICAgJ2ZvbnQtc2l6ZSc6ICcxNHB4JyxcbiAgICAvLyAgICAgJ21hcmdpbi10b3AnOiAnMTJweCcsXG4gICAgLy8gICAgICdtYXJnaW4tbGVmdCc6ICc0MHB4JyxcbiAgICAvLyAgICAgZmxvYXQ6ICdsZWZ0JyxcbiAgICAvLyAgIH0pO1xuICAgIC8vXG4gICAgLy8gZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gYXZhaWxhYmxlX3JhdGlvcy5sZW5ndGg7IGkgPCBsZW5faTsgaSsrKSB7XG4gICAgLy8gICB0aGlzLnNlbGVjX3Zhci5hcHBlbmQoJ29wdGlvbicpXG4gICAgLy8gICAgIC5hdHRyKCd2YWx1ZScsIGF2YWlsYWJsZV9yYXRpb3NbaV0pXG4gICAgLy8gICAgIC50ZXh0KGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpb19wcmV0dHlfbmFtZVtpXSk7XG4gICAgLy8gfVxuICAgIC8vXG4gICAgLy8gdGhpcy5zZWxlY192YXIub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAvLyAgIGNvbnN0IGNvZGVfdmFyaWFibGUgPSB0aGlzLnZhbHVlO1xuICAgIC8vICAgc2VsZi5jaGFuZ2VWYXJpYWJsZShjb2RlX3ZhcmlhYmxlKTtcbiAgICAvLyAgIHNlbGYuY2hhbmdlU3R1ZHlab25lKCk7XG4gICAgLy8gICBzZWxmLnVwZGF0ZUNvbXBsZXR1ZGUoKTtcbiAgICAvLyB9KTtcblxuICAgIHRoaXMubWFrZVRhYmxlU3RhdCgpO1xuICB9XG5cbiAgYXBwbHlTZWxlY3Rpb24obmIpIHtcbiAgICBhcHAuY29sb3JzID0ge307XG4gICAgaWYgKG5iID4gMCkge1xuICAgICAgY29uc3QgcmF0aW9fdG9fdXNlID0gdGhpcy5yYXRpb190b191c2U7XG5cbiAgICAgIHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbiA9IHRoaXMuZGF0YS5tYXAoZCA9PiAoe1xuICAgICAgICBkaXN0OiBkLmRpc3QsXG4gICAgICAgIHJhdGlvOiArZFtyYXRpb190b191c2VdLFxuICAgICAgICBpZDogZC5pZCxcbiAgICAgIH0pKTtcblxuICAgICAgdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uLnNvcnQoKGEsIGIpID0+IGEuZGlzdCAtIGIuZGlzdCk7XG4gICAgICB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24gPSB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24uc2xpY2UoMSwgbmIgKyAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uID0gW107XG4gICAgfVxuICAgIHRoaXMudXBkYXRlKCk7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGRhdGEgPSBzZWxmLmRhdGE7XG4gICAgY29uc3QgaGlnaGxpZ2h0X3NlbGVjdGlvbiA9IHNlbGYuaGlnaGxpZ2h0X3NlbGVjdGlvbjtcbiAgICBjb25zdCBteV9yZWdpb25fdmFsdWUgPSBzZWxmLm15X3JlZ2lvbl92YWx1ZTtcbiAgICBjb25zdCByYXRpb190b191c2UgPSBzZWxmLnJhdGlvX3RvX3VzZTtcbiAgICBjb25zdCBzdG9ja190b191c2UgPSBzZWxmLnN0b2NrX3RvX3VzZTtcblxuICAgIGxldCBfbWluO1xuICAgIGxldCBfbWF4O1xuICAgIGlmIChoaWdobGlnaHRfc2VsZWN0aW9uLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGRpc3RfbWluID0gbWF0aF9hYnMobXlfcmVnaW9uX3ZhbHVlIC0gK2QzLm1pbihoaWdobGlnaHRfc2VsZWN0aW9uLCBkID0+IGQucmF0aW8pKTtcbiAgICAgIGNvbnN0IGRpc3RfbWF4ID0gbWF0aF9hYnMoK2QzLm1heChoaWdobGlnaHRfc2VsZWN0aW9uLCBkID0+IGQucmF0aW8pIC0gbXlfcmVnaW9uX3ZhbHVlKTtcbiAgICAgIGNvbnN0IGRpc3RfYXhpcyA9IE1hdGgubWF4KGRpc3RfbWluLCBkaXN0X21heCk7XG4gICAgICBjb25zdCBtYXJnaW5fbWluX21heCA9IG1hdGhfcm91bmQoZGlzdF9heGlzKSAvIDg7XG4gICAgICBfbWluID0gbXlfcmVnaW9uX3ZhbHVlIC0gZGlzdF9heGlzIC0gbWFyZ2luX21pbl9tYXg7XG4gICAgICBfbWF4ID0gbXlfcmVnaW9uX3ZhbHVlICsgZGlzdF9heGlzICsgbWFyZ2luX21pbl9tYXg7XG4gICAgICBpZiAoX21pbiA+IF9tYXgpIHsgY29uc29sZS5sb2coJ2EnKTsgW19taW4sIF9tYXhdID0gW19tYXgsIF9taW5dOyB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGRpc3RfbWluID0gbWF0aF9hYnMobXlfcmVnaW9uX3ZhbHVlIC0gZDMubWluKGRhdGEsIGQgPT4gZFtyYXRpb190b191c2VdKSk7XG4gICAgICBjb25zdCBkaXN0X21heCA9IG1hdGhfYWJzKGQzLm1heChkYXRhLCBkID0+IGRbcmF0aW9fdG9fdXNlXSkgLSBteV9yZWdpb25fdmFsdWUpO1xuICAgICAgY29uc3QgZGlzdF9heGlzID0gTWF0aC5tYXgoZGlzdF9taW4sIGRpc3RfbWF4KTtcbiAgICAgIGNvbnN0IG1hcmdpbl9taW5fbWF4ID0gbWF0aF9yb3VuZChkaXN0X2F4aXMpIC8gODtcbiAgICAgIF9taW4gPSBteV9yZWdpb25fdmFsdWUgLSBkaXN0X2F4aXMgLSBtYXJnaW5fbWluX21heDtcbiAgICAgIF9tYXggPSBteV9yZWdpb25fdmFsdWUgKyBkaXN0X2F4aXMgKyBtYXJnaW5fbWluX21heDtcbiAgICB9XG5cbiAgICB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24uZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgYXBwLmNvbG9yc1tlbGVtLmlkXSA9IGNvbXAoZWxlbS5yYXRpbywgbXlfcmVnaW9uX3ZhbHVlLCB0aGlzLnNlcmllX2ludmVyc2VkKTtcbiAgICB9KTtcblxuICAgIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgY29uc3QgcHJvcF9zaXplciA9IG5ldyBQcm9wU2l6ZXIoZDMubWF4KGRhdGEsIGQgPT4gZFtzdG9ja190b191c2VdKSwgMzApO1xuICAgIGNvbnN0IHhTY2FsZSA9IGQzLnNjYWxlTGluZWFyKClcbiAgICAgIC5kb21haW4oW19taW4sIF9tYXhdKVxuICAgICAgLnJhbmdlKFswLCB3aWR0aF0pO1xuXG4gICAgdGhpcy5kcmF3X2dyb3VwLnNlbGVjdCgnZy5heGlzLS14JylcbiAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgIC5kdXJhdGlvbigyMjUpXG4gICAgICAuY2FsbChkMy5heGlzQm90dG9tKHhTY2FsZSkpO1xuXG4gICAgY29uc3QgYnViYmxlcyA9IHRoaXMuZHJhd19ncm91cC5zZWxlY3RBbGwoJy5idWJibGUnKVxuICAgICAgLmRhdGEoZGF0YSwgZCA9PiBkLmlkKTtcblxuICAgIGJ1YmJsZXNcbiAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgIC5kdXJhdGlvbigyMjUpXG4gICAgICAuYXR0cnMoKGQpID0+IHtcbiAgICAgICAgbGV0IHhfdmFsdWUgPSB4U2NhbGUoZFtyYXRpb190b191c2VdKTtcbiAgICAgICAgaWYgKHhfdmFsdWUgPiB3aWR0aCkgeF92YWx1ZSA9IHdpZHRoICsgMjAwO1xuICAgICAgICBlbHNlIGlmICh4X3ZhbHVlIDwgMCkgeF92YWx1ZSA9IC0yMDA7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgY3g6IHhfdmFsdWUsXG4gICAgICAgICAgY3k6IGhlaWdodCAvIDIsXG4gICAgICAgICAgcjogcHJvcF9zaXplci5zY2FsZShkW3N0b2NrX3RvX3VzZV0pLFxuICAgICAgICB9O1xuICAgICAgfSlcbiAgICAgIC5zdHlsZXMoZCA9PiAoe1xuICAgICAgICBmaWxsOiBhcHAuY29sb3JzW2QuaWRdIHx8IGNvbG9yX2NvdW50cmllcyxcbiAgICAgICAgJ2ZpbGwtb3BhY2l0eSc6IGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24gPyAxIDogYXBwLmNvbG9yc1tkLmlkXSA/IDAuNyA6IDAuMyxcbiAgICAgICAgc3Ryb2tlOiAnZGFya2dyYXknLFxuICAgICAgICAnc3Ryb2tlLXdpZHRoJzogMC43NSxcbiAgICAgICAgJ3N0cm9rZS1vcGFjaXR5JzogMC43NSxcbiAgICAgIH0pKTtcblxuICAgIGJ1YmJsZXNcbiAgICAgIC5lbnRlcigpXG4gICAgICAuaW5zZXJ0KCdjaXJjbGUnKVxuICAgICAgLnN0eWxlcyhkID0+ICh7XG4gICAgICAgIGZpbGw6IGFwcC5jb2xvcnNbZC5pZF0gfHwgY29sb3JfY291bnRyaWVzLFxuICAgICAgICAnZmlsbC1vcGFjaXR5JzogZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbiA/IDEgOiBhcHAuY29sb3JzW2QuaWRdID8gMC43IDogMC4zLFxuICAgICAgICBzdHJva2U6ICdkYXJrZ3JheScsXG4gICAgICAgICdzdHJva2Utd2lkdGgnOiAwLjc1LFxuICAgICAgICAnc3Ryb2tlLW9wYWNpdHknOiAwLjc1LFxuICAgICAgfSkpXG4gICAgICAudHJhbnNpdGlvbigpXG4gICAgICAuZHVyYXRpb24oMjI1KVxuICAgICAgLmF0dHJzKChkKSA9PiB7XG4gICAgICAgIGxldCB4X3ZhbHVlID0geFNjYWxlKGRbcmF0aW9fdG9fdXNlXSk7XG4gICAgICAgIGlmICh4X3ZhbHVlID4gd2lkdGgpIHhfdmFsdWUgPSB3aWR0aCArIDIwMDtcbiAgICAgICAgZWxzZSBpZiAoeF92YWx1ZSA8IDApIHhfdmFsdWUgPSAtMjAwO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGNsYXNzOiAnYnViYmxlJyxcbiAgICAgICAgICBjeDogeF92YWx1ZSxcbiAgICAgICAgICBjeTogaGVpZ2h0IC8gMixcbiAgICAgICAgICByOiBwcm9wX3NpemVyLnNjYWxlKGRbc3RvY2tfdG9fdXNlXSksXG4gICAgICAgIH07XG4gICAgICB9KVxuICAgICAgLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuZHJhd19ncm91cC5zZWxlY3RBbGwoJy5idWJibGUnKVxuICAgICAgICAgIC5vbignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgICAgICAgICAgc3ZnX2Jhci5zZWxlY3QoJy50b29sdGlwJykuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5vbignbW91c2VvdXQnLCAoKSA9PiB7XG4gICAgICAgICAgICBzdmdfYmFyLnNlbGVjdCgnLnRvb2x0aXAnKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICBjb25zdCB0b29sdGlwID0gc3ZnX2Jhci5zZWxlY3QoJy50b29sdGlwJyk7XG4gICAgICAgICAgICBjb25zdCBfcmF0aW9fdG9fdXNlID0gc2VsZi5yYXRpb190b191c2U7XG4gICAgICAgICAgICBjb25zdCBfc3RvY2tfdG9fdXNlID0gc2VsZi5zdG9ja190b191c2U7XG4gICAgICAgICAgICB0b29sdGlwLnNlbGVjdCgncmVjdCcpLmF0dHJzKHsgd2lkdGg6IDAsIGhlaWdodDogMCB9KTtcbiAgICAgICAgICAgIHRvb2x0aXBcbiAgICAgICAgICAgICAgLnNlbGVjdCgndGV4dC5pZF9mZWF0dXJlJylcbiAgICAgICAgICAgICAgLnRleHQoYCR7ZC5pZH1gKTtcbiAgICAgICAgICAgIHRvb2x0aXAuc2VsZWN0KCd0ZXh0LnZhbHVlX2ZlYXR1cmUxJylcbiAgICAgICAgICAgICAgLnRleHQoYFJhdGlvOiAke01hdGgucm91bmQoZFtfcmF0aW9fdG9fdXNlXSAqIDEwKSAvIDEwfWApO1xuICAgICAgICAgICAgdG9vbHRpcC5zZWxlY3QoJ3RleHQudmFsdWVfZmVhdHVyZTInKVxuICAgICAgICAgICAgICAudGV4dChgU3RvY2s6ICR7TWF0aC5yb3VuZChkW19zdG9ja190b191c2VdICogMTApIC8gMTB9YCk7XG4gICAgICAgICAgICBjb25zdCBiID0gdG9vbHRpcC5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICB0b29sdGlwLnNlbGVjdCgncmVjdCcpXG4gICAgICAgICAgICAgIC5hdHRycyh7XG4gICAgICAgICAgICAgICAgd2lkdGg6IGIud2lkdGggKyAyMCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGIuaGVpZ2h0ICsgNy41LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRvb2x0aXBcbiAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHtbZDMubW91c2UodGhpcylbMF0gLSA1LCBkMy5tb3VzZSh0aGlzKVsxXSAtIDQ1XX0pYCk7XG4gICAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICBidWJibGVzLmV4aXQoKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oMjI1KS5yZW1vdmUoKTtcbiAgfVxuXG4gIHVwZGF0ZUNvbXBsZXR1ZGUoKSB7XG4gICAgdGhpcy5jb21wbGV0dWRlX3ZhbHVlID0gY2FsY1BvcENvbXBsZXR1ZGVTdWJzZXQoYXBwLCBbdGhpcy5yYXRpb190b191c2VdKTtcblxuICAgIHRoaXMuY29tcGxldHVkZVxuICAgICAgLnRleHQoYENvbXBsw6l0dWRlIDogJHt0aGlzLmNvbXBsZXR1ZGVfdmFsdWV9JWApO1xuICB9XG5cbiAgdXBkYXRlTWFwUmVnaW8oKSB7XG4gICAgaWYgKCF0aGlzLm1hcF9lbGVtKSByZXR1cm47XG4gICAgdGhpcy5tYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5hdHRyKCdmaWxsJywgZCA9PiAodGhpcy5jdXJyZW50X2lkcy5pbmRleE9mKGQucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRfZ2VvbV0pID4gLTFcbiAgICAgICAgPyAoYXBwLmNvbG9yc1tkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLmlkX2ZpZWxkX2dlb21dXSB8fCBjb2xvcl9jb3VudHJpZXMpXG4gICAgICAgIDogY29sb3JfZGlzYWJsZWQpKTtcbiAgfVxuXG4gIGhhbmRsZUNsaWNrTWFwKGQsIHBhcmVudCkge1xuICAgIGNvbnN0IGlkID0gZC5wcm9wZXJ0aWVzW2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tXTtcbiAgICBpZiAodGhpcy5jdXJyZW50X2lkcy5pbmRleE9mKGlkKSA8IDAgfHwgaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pIHJldHVybjtcbiAgICBpZiAoYXBwLmNvbG9yc1tpZF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gUmVtb3ZlIHRoZSBjbGlja2VkIGZlYXR1cmUgZnJvbSB0aGUgY29sb3JlZCBzZWxlY3Rpb24gb24gdGhlIGNoYXJ0OlxuICAgICAgY29uc3QgaWRfdG9fcmVtb3ZlID0gdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uXG4gICAgICAgIC5tYXAoKGZ0LCBpKSA9PiAoZnQuaWQgPT09IGlkID8gaSA6IG51bGwpKS5maWx0ZXIoZnQgPT4gZnQpWzBdO1xuICAgICAgdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uLnNwbGljZShpZF90b19yZW1vdmUsIDEpO1xuICAgICAgLy8gQ2hhbmdlIGl0cyBjb2xvciBpbiB0aGUgZ2xvYmFsIGNvbG9ycyBvYmplY3Q6XG4gICAgICBhcHAuY29sb3JzW2lkXSA9IHVuZGVmaW5lZDtcbiAgICAgIC8vIENoYW5nZSB0aGUgY29sb3Igb24gdGhlIG1hcDpcbiAgICAgIGQzLnNlbGVjdChwYXJlbnQpLmF0dHIoJ2ZpbGwnLCBjb2xvcl9jb3VudHJpZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB2YWx1ZSA9ICtkLnByb3BlcnRpZXNbdGhpcy5yYXRpb190b191c2VdO1xuICAgICAgY29uc3QgY29sb3IgPSBjb21wKHZhbHVlLCB0aGlzLm15X3JlZ2lvbl92YWx1ZSwgdGhpcy5zZXJpZV9pbnZlcnNlZCk7XG4gICAgICAvLyBhcHAuY29sb3JzW2lkXSA9IGNvbG9yO1xuICAgICAgLy8gQ2hhbmdlIHRoZSBjb2xvciBvbiB0aGUgbWFwOlxuICAgICAgZDMuc2VsZWN0KHBhcmVudCkuYXR0cignZmlsbCcsIGNvbG9yKTtcbiAgICAgIC8vIEFkZCB0aGUgY2xpY2tlZCBmZWF0dXJlIG9uIHRoZSBjb2xvcmVkIHNlbGVjdGlvbiBvbiB0aGUgY2hhcnQ6XG4gICAgICB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24ucHVzaCh7XG4gICAgICAgIGlkLFxuICAgICAgICByYXRpbzogdmFsdWUsXG4gICAgICAgIGRpc3Q6IG1hdGhfYWJzKHZhbHVlIC0gdGhpcy5teV9yZWdpb25fdmFsdWUpLFxuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbi5zb3J0KChhLCBiKSA9PiBhLmRpc3QgLSBiLmRpc3QpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cblxuICB1cGRhdGVDaGFuZ2VSZWdpb24oKSB7XG4gICAgaWYgKGFwcC5jdXJyZW50X2NvbmZpZy5maWx0ZXJfa2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuY2hhbmdlU3R1ZHlab25lKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubWFwX2VsZW0udXBkYXRlTGVnZW5kKCk7XG4gICAgICB0aGlzLm15X3JlZ2lvbl92YWx1ZSA9IHRoaXMuZGF0YS5maW5kKFxuICAgICAgICBkID0+IGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pW3RoaXMucmF0aW9fdG9fdXNlXTtcbiAgICAgIHRoaXMuZGF0YVxuICAgICAgICAuZm9yRWFjaCgoZnQpID0+IHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgICBmdC5kaXN0ID0gbWF0aF9hYnMoK2Z0W3RoaXMucmF0aW9fdG9fdXNlXSAtIHRoaXMubXlfcmVnaW9uX3ZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICB0aGlzLnVwZGF0ZVRhYmxlU3RhdHMoKTtcbiAgICAgIHRoaXMuYXBwbHlTZWxlY3Rpb24odGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uLmxlbmd0aCk7XG4gICAgfVxuICB9XG5cbiAgY2hhbmdlU3R1ZHlab25lKCkge1xuICAgIHRoaXMubWFwX2VsZW0udXBkYXRlTGVnZW5kKCk7XG4gICAgdGhpcy5teV9yZWdpb25fdmFsdWUgPSBhcHAuY3VycmVudF9kYXRhLmZpbmQoXG4gICAgICBkID0+IGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pW3RoaXMucmF0aW9fdG9fdXNlXTtcbiAgICB0aGlzLmRhdGEgPSBhcHAuY3VycmVudF9kYXRhLmZpbHRlcihmdCA9PiAhIWZ0W3RoaXMucmF0aW9fdG9fdXNlXSkuc2xpY2UoKTtcbiAgICB0aGlzLmRhdGFcbiAgICAgIC5mb3JFYWNoKChmdCkgPT4ge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgZnQuZGlzdCA9IG1hdGhfYWJzKCtmdFt0aGlzLnJhdGlvX3RvX3VzZV0gLSB0aGlzLm15X3JlZ2lvbl92YWx1ZSk7XG4gICAgICB9KTtcbiAgICB0aGlzLmRhdGEuc29ydCgoYSwgYikgPT4gYi5kaXN0IC0gYS5kaXN0KTtcbiAgICB0aGlzLmN1cnJlbnRfaWRzID0gdGhpcy5kYXRhLm1hcChkID0+IGQuaWQpO1xuICAgIGNvbnN0IHRlbXAgPSB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24ubGVuZ3RoO1xuICAgIHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbiA9IFtdO1xuICAgIHRoaXMudXBkYXRlVGFibGVTdGF0cygpO1xuICAgIHRoaXMuYXBwbHlTZWxlY3Rpb24odGVtcCk7XG4gIH1cblxuICBjaGFuZ2VWYXJpYWJsZShjb2RlX3ZhcmlhYmxlKSB7XG4gICAgdGhpcy5yYXRpb190b191c2UgPSBjb2RlX3ZhcmlhYmxlO1xuICAgIHRoaXMuc3RvY2tfdG9fdXNlID0gdmFyaWFibGVzX2luZm8uZmluZChkID0+IGQucmF0aW8gPT09IGNvZGVfdmFyaWFibGUpLm51bTtcbiAgfVxuXG5cbiAgYWRkVmFyaWFibGUoY29kZV92YXJpYWJsZSwgbmFtZV92YXJpYWJsZSkge1xuICAgIC8vIEFkZCB0aGUgdmFyaWFibGUgdG8gdGhlIGlucHV0IGVsZW1lbnQgYWxsb3dpbmcgdG8gY2hvb3NlIHZhcmlhYmxlczpcbiAgICB0aGlzLnNlbGVjX3Zhci5hcHBlbmQoJ29wdGlvbicpXG4gICAgICAuYXR0cigndmFsdWUnLCBjb2RlX3ZhcmlhYmxlKVxuICAgICAgLnRleHQobmFtZV92YXJpYWJsZSk7XG5cbiAgICAvLyBBbmQgdXNlIGl0IGltbWVkaWF0bHk6XG4gICAgdGhpcy5zZWxlY192YXIubm9kZSgpLnZhbHVlID0gY29kZV92YXJpYWJsZTtcbiAgICB0aGlzLnNlbGVjX3Zhci5kaXNwYXRjaCgnY2hhbmdlJyk7XG4gIH1cblxuICByZW1vdmVWYXJpYWJsZShjb2RlX3ZhcmlhYmxlKSB7XG4gICAgLy8gQWRkIHRoZSB2YXJpYWJsZSB0byB0aGUgaW5wdXQgZWxlbWVudCBhbGxvd2luZyB0byBjaG9vc2UgdmFyaWFibGVzOlxuICAgIHRoaXMuc2VsZWNfdmFyLnNlbGVjdChgb3B0aW9uW3ZhbHVlPSR7Y29kZV92YXJpYWJsZX1dYCkucmVtb3ZlKCk7XG4gICAgaWYgKHRoaXMucmF0aW9fdG9fdXNlID09PSBjb2RlX3ZhcmlhYmxlKSB7XG4gICAgICB0aGlzLnNlbGVjX3Zhci5ub2RlKCkudmFsdWUgPSB0aGlzLnNlbGVjX3Zhci5zZWxlY3QoJ29wdGlvbicpLm5vZGUoKS52YWx1ZTtcbiAgICAgIHRoaXMuc2VsZWNfdmFyLmRpc3BhdGNoKCdjaGFuZ2UnKTtcbiAgICB9XG4gIH1cblxuICBiaW5kTWVudSgpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBtZW51ID0gZDMuc2VsZWN0KCcjbWVudV9zZWxlY3Rpb24nKTtcbiAgICBjb25zdCBhcHBseWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIHNlbGYubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gICAgICBjb25zdCB2YWx1ZSA9ICt0aGlzLnZhbHVlO1xuICAgICAgaWYgKHZhbHVlIDwgMSkge1xuICAgICAgICB0aGlzLnZhbHVlID0gMTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2VsZi5hcHBseVNlbGVjdGlvbih2YWx1ZSk7XG4gICAgfTtcbiAgICBtZW51LnNlbGVjdCgnLm5iX3NlbGVjdCcpXG4gICAgICAub24oJ2NoYW5nZScsIGFwcGx5Y2hhbmdlKTtcbiAgICBtZW51LnNlbGVjdCgnLm5iX3NlbGVjdCcpXG4gICAgICAub24oJ3doZWVsJywgYXBwbHljaGFuZ2UpO1xuICAgIG1lbnUuc2VsZWN0KCcubmJfc2VsZWN0JylcbiAgICAgIC5vbigna2V5dXAnLCBhcHBseWNoYW5nZSk7XG4gIH1cblxuICByZW1vdmUoKSB7XG4gICAgdGhpcy5tYXBfZWxlbS51bmJpbmRCcnVzaENsaWNrKCk7XG4gICAgdGhpcy5tYXBfZWxlbSA9IG51bGw7XG4gICAgdGhpcy50YWJsZV9zdGF0cy5yZW1vdmUoKTtcbiAgICB0aGlzLnRhYmxlX3N0YXRzID0gbnVsbDtcbiAgICB0aGlzLnNlbGVjX3Zhci5yZW1vdmUoKTtcbiAgICBzdmdfYmFyLmh0bWwoJycpO1xuICB9XG5cbiAgYmluZE1hcChtYXBfZWxlbSkge1xuICAgIHRoaXMubWFwX2VsZW0gPSBtYXBfZWxlbTtcbiAgICB0aGlzLm1hcF9lbGVtLnJlc2V0Q29sb3JzKHRoaXMuY3VycmVudF9pZHMpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cblxuICB1cGRhdGVUYWJsZVN0YXRzKCkge1xuICAgIHRoaXMudGFibGVfc3RhdHMucmVtb3ZlQWxsKCk7XG4gICAgdGhpcy50YWJsZV9zdGF0cy5hZGRGZWF0dXJlKHRoaXMucHJlcGFyZVRhYmxlU3RhdCgpKTtcbiAgfVxuXG4gIHByZXBhcmVUYWJsZVN0YXQoKSB7XG4gICAgY29uc3QgdmFsdWVzID0gdGhpcy5kYXRhLm1hcChkID0+IGRbdGhpcy5yYXRpb190b191c2VdKTtcbiAgICByZXR1cm4ge1xuICAgICAgTWluOiBkMy5taW4odmFsdWVzKSxcbiAgICAgIE1heDogZDMubWF4KHZhbHVlcyksXG4gICAgICBNb3llbm5lOiBnZXRNZWFuKHZhbHVlcyksXG4gICAgICBpZDogdGhpcy5yYXRpb190b191c2UsXG4gICAgICBWYXJpYWJsZTogdGhpcy5yYXRpb190b191c2UsXG4gICAgICAnTWEgcsOpZ2lvbic6IHRoaXMubXlfcmVnaW9uX3ZhbHVlLFxuICAgIH07XG4gIH1cblxuICBtYWtlVGFibGVTdGF0KCkge1xuICAgIGNvbnN0IGZlYXR1cmUgPSB0aGlzLnByZXBhcmVUYWJsZVN0YXQoKTtcbiAgICB0aGlzLnRhYmxlX3N0YXRzID0gbmV3IFRhYmxlUmVzdW1lU3RhdChbZmVhdHVyZV0pO1xuICB9XG59XG4iLCIvLyBpbXBvcnQgZGVidWcgZnJvbSAnZGVidWcnO1xuaW1wb3J0IHRpbmdsZSBmcm9tICd0aW5nbGUuanMnO1xuaW1wb3J0IHsgY3JlYXRlTWVudSB9IGZyb20gJy4vbW9kdWxlcy9tZW51bGVmdCc7XG5pbXBvcnQgeyBtYWtlVG9wTWVudSwgbWFrZUhlYWRlckNoYXJ0LCBtYWtlSGVhZGVyTWFwU2VjdGlvbiB9IGZyb20gJy4vbW9kdWxlcy9tZW51dG9wJztcbmltcG9ydCB7IE1hcFNlbGVjdCwgbWFrZVNvdXJjZVNlY3Rpb24sIG1ha2VNYXBMZWdlbmQsIHN2Z19tYXAgfSBmcm9tICcuL21vZHVsZXMvbWFwJztcbmltcG9ydCB7IG1ha2VUYWJsZSB9IGZyb20gJy4vbW9kdWxlcy90YWJsZSc7XG5pbXBvcnQgeyBjb2xvcl9oaWdobGlnaHQgfSBmcm9tICcuL21vZHVsZXMvb3B0aW9ucyc7XG5pbXBvcnQgeyBCYXJDaGFydDEgfSBmcm9tICcuL21vZHVsZXMvY2hhcnRzL2JhckNoYXJ0XzF2JztcbmltcG9ydCB7IEJ1YmJsZUNoYXJ0MSB9IGZyb20gJy4vbW9kdWxlcy9jaGFydHMvYnViYmxlQ2hhcnRfMXYnO1xuaW1wb3J0IHsgU2NhdHRlclBsb3QyIH0gZnJvbSAnLi9tb2R1bGVzL2NoYXJ0cy9zY2F0dGVyUGxvdF8ydic7XG5pbXBvcnQgeyBSYWRhckNoYXJ0MyB9IGZyb20gJy4vbW9kdWxlcy9jaGFydHMvcmFkYXJDaGFydF8zdic7XG5pbXBvcnQgeyBTaW1pbGFyaXR5Q2hhcnQgfSBmcm9tICcuL21vZHVsZXMvY2hhcnRzL3NpbWlsYXJpdHlfMnYnO1xuaW1wb3J0IHsgU2ltaWxhcml0eTFwbHVzIH0gZnJvbSAnLi9tb2R1bGVzL2NoYXJ0cy9zaW1pbGFyaXR5MXYnO1xuLy8gaW1wb3J0IHsgQm94UGxvdDEgfSBmcm9tICcuL21vZHVsZXMvY2hhcnRzL2JveFBsb3RfMXYnO1xuLy8gaW1wb3J0IHsgUGFyYWxsZWxDb29yZHMyIH0gZnJvbSAnLi9tb2R1bGVzL2NoYXJ0cy9wYXJhbGxlbENvb3Jkc18ydic7XG5pbXBvcnQgeyB1bmJpbmRVSSB9IGZyb20gJy4vbW9kdWxlcy9oZWxwZXJzJztcbmltcG9ydCB7XG4gIHByZXBhcmVfZGF0YXNldCxcbiAgZmlsdGVyTGV2ZWxWYXIsXG4gIGFwcGx5RmlsdGVyLFxuICBjaGFuZ2VSZWdpb24sXG4gIGFkZFZhcmlhYmxlLFxuICByZW1vdmVWYXJpYWJsZSxcbiAgcmVzZXRWYXJpYWJsZXMsXG4gIHByZXBhcmVWYXJpYWJsZXNJbmZvLFxufSBmcm9tICcuL21vZHVsZXMvcHJlcGFyZV9kYXRhJztcblxuZXhwb3J0IGxldCB2YXJpYWJsZXNfaW5mbztcblxuY29uc3Qgc3R1ZHlfem9uZXMgPSBbXG4gIHsgaWQ6ICdub19maWx0ZXInLCBuYW1lOiAnVUUyOCcgfSxcbiAgeyBpZDogJ2ZpbHRlcl9GUicsIG5hbWU6ICdGaWx0cmUgbmF0aW9uYWwgKEZyYW5jZSknIH0sXG4gIHsgaWQ6ICdmaWx0ZXJfcGFyYW0yJywgbmFtZTogJ0VzcGFjZSBkZSBjb21wYXJhaXNvbiBuwrAyJyB9LFxuICB7IGlkOiAnZmlsdGVyX2Rpc3QnLCBuYW1lOiAnUsOpZ2lvbiBkYW5zIHVuIHJheW9uIGRlICcgfSxcbl07XG5cbmNvbnN0IHRlcnJpdG9yaWFsX21lc2ggPSBbXG4gIHsgaWQ6ICdOVVRTMScsIG5hbWU6ICdOVVRTMScgfSxcbiAgeyBpZDogJ05VVFMxMnN0YXQnLCBuYW1lOiAnTlVUUzEvMiAoc3RhdGlzdGlxdWUpJyB9LFxuXTtcblxuZXhwb3J0IGNvbnN0IGFwcCA9IHtcbiAgLy8gQSBtYXBwaW5nIGlkIC0+IGNvbG9yLCBjb250YWluaW5nIHRoZSBjb2xvciB0byB1c2UgZm9yIGVhY2hcbiAgLy8gZmVhdHVyZSBub3QgdXNpbmcgdGhlIGRlZmF1bHQgY29sb3Igb3IgdGhlIGRpc2FibGVkIGNvbG9yXG4gIGNvbG9yczoge30sXG4gIC8vIFRoZSBmaWx0ZXJlZCBkYXRhc2V0IChhY2Njb3JkaW5nIHRvOiB0aGUgY3VycmVudCB0ZXJyaXRvcmlhbCBsZXZlbCxcbiAgLy8gdGhlIGZpbHRlciBrZXkgKGlmIGFueSkgYW5kIHRoZSByYXRpbyhzKSBzZWxlY3RlZCBvbiB0aGUgbGVmdCBtZW51OlxuICBjdXJyZW50X2RhdGE6IFtdLFxuICAvLyBUaGUgZnVsbCBkYXRhc2V0IHByb3ZpZGVkIChjb250YWluaW5nIGFsbCB0aGUgZmVhdHVyZXMgYXQgYW55IGxldmVsIGluIG9uZSB0YWJsZSlcbiAgLy8gUm93IHdpdGhvdXQgZGF0YSBhcmUgZXhwZWN0ZWQgdG8gYmUgZW1wdHkgb3IgdG8gY29udGFpbiB0aGUgXCJOQVwiIHN0cmluZy5cbiAgZnVsbF9kYXRhc2V0OiBbXSxcbiAgLy8gVGhlIGlkcyBvZiB0aGUgY3VycmVudCBmZWF0dXJlIGluIHVzZSAoYWNjY29yZGluZyB0bzogdGhlIGN1cnJlbnQgdGVycml0b3JpYWwgbGV2ZWwsXG4gIC8vIHRoZSBmaWx0ZXIga2V5IChpZiBhbnkpIGFuZCB0aGUgcmF0aW8ocykgdXNlZCBpbiB0aGUgY3VycmVudCBjaGFydDsgZmlsdGVyZWRcbiAgLy8gdG8gbm90IGNvbnRhaW4gZmVhdHVyZSB3aXRoIGVtcHR5IHJhdGlvIHZhbHVlcyB3aXRoaW4gdGhlIHJhdGlvcyBpbiB1c2UpLlxuICBjdXJyZW50X2lkczogW10sXG59O1xuXG5mdW5jdGlvbiBzZXREZWZhdWx0Q29uZmlnKGNvZGUgPSAnRlJFJywgdmFyaWFibGUgPSAnUlRfQ0hPTV8xNTc0JykgeyAvLyB9LCBsZXZlbCA9ICdOVVRTMScpIHtcbiAgYXBwLmN1cnJlbnRfY29uZmlnID0ge1xuICAgIC8vIFRoZSBuYW1lIG9mIHRoZSBmaWVsZCBvZiB0aGUgZGF0YXNldCBjb250YWluaW5nIHRoZSBJRCBvZiBlYWNoIGZlYXR1cmU6XG4gICAgaWRfZmllbGQ6ICdnZW8nLFxuICAgIC8vIFRoZSBuYW1lIG9mIHRoZSBmaWVsZCBvZiB0aGUgZGF0YXNldCBjb250YWluaW5nIHRoZSBuYW1lIG9mIGVhY2ggZmVhdHVyZTpcbiAgICBuYW1lX2ZpZWxkOiAnTm9tJyxcbiAgICAvLyBUaGUgbmFtZSBvZiB0aGUgZmllbGQgb2YgdGhlIGRhdGFzZXQgY29udGFpbmluZyB0aGUgcG9wdWxhdGlvbiBvZiBlYWNoIGZlYXR1cmU6XG4gICAgcG9wX2ZpZWxkOiAnUE9QX0FHRV9UXzIwMTYnLFxuICAgIC8vIFRoZSBuYW1lIG9mIHRoZSBmaWVsZCBvZiB0aGUgZ2VvanNvbiBsYXllciBjb250YWluaW5nIHRoZSBJRCBvZiBlYWNoIGZlYXR1cmVcbiAgICAvLyAodGhlc2UgdmFsdWVzIHNob3VsZCBtYXRjaCB3aXRoIHRoZSB2YWx1ZXMgb2YgdGhlIFwiaWRfZmllbGRcIiBpbiB0aGVcbiAgICAvLyB0YWJ1bGFyIGRhdGFzZXQpXG4gICAgaWRfZmllbGRfZ2VvbTogJ05VVFMxXzIwMTYnLFxuICAgIG51bTogWydDSE9NXzE1NzRfMjAxNiddLFxuICAgIGRlbnVtOiBbJ0FDVF8xNTc0XzIwMTYnXSxcbiAgICByYXRpbzogW3ZhcmlhYmxlXSxcbiAgICByYXRpb19wcmV0dHlfbmFtZTogWydUYXV4IGRlIGNow7RtYWdlICgxNS03NCBhbnMpICgyMDE2KSddLFxuICAgIC8vIFRoZSBsZXZlbCBjdXJyZW50bHkgaW4gdXNlOlxuICAgIGN1cnJlbnRfbGV2ZWw6IDEsXG4gICAgLy8gVGhlIElEIG9mIHRoZSByZWdpb24gY3VycmVudGx5IGluIHVzZTpcbiAgICBteV9yZWdpb246IGNvZGUsXG4gICAgLy8gVGhlIG5hbWUgb2YgdGhlIHJlZ2lvbiBjdXJyZW50bHkgaW4gdXNlOlxuICAgIG15X3JlZ2lvbl9wcmV0dHlfbmFtZTogYXBwLmZlYXR1cmVfbmFtZXNbY29kZV0sXG4gICAgLy8gSG93IG1hbnkgcmF0aW8gb24gdGhlIGN1cnJlbnQgY2hhcnQ6XG4gICAgbmJfdmFyOiAxLFxuICB9O1xuICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xufVxuXG5mdW5jdGlvbiBzZXREZWZhdWx0Q29uZmlnTWVudShjb2RlID0gJ0ZSRScsIHZhcmlhYmxlID0gJ1JUX0NIT01fMTU3NCcsIGxldmVsID0gJ05VVFMxJykge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAudGFyZ2V0X3JlZ2lvbi5zcXVhcmVbdmFsdWU9XCIke2NvZGV9XCJdYCkuY2xhc3NMaXN0LmFkZCgnY2hlY2tlZCcpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAudGFyZ2V0X3ZhcmlhYmxlLnNtYWxsX3NxdWFyZVt2YWx1ZT1cIiR7dmFyaWFibGV9XCJdYCkuY2xhc3NMaXN0LmFkZCgnY2hlY2tlZCcpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmlsdGVyX3Yuc3F1YXJlW2ZpbHRlci12YWx1ZT1cIm5vX2ZpbHRlclwiXScpLmNsYXNzTGlzdC5hZGQoJ2NoZWNrZWQnKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnRlcnJpdF9sZXZlbC5zcXVhcmVbdmFsdWU9XCIke2xldmVsfVwiXWApLmNsYXNzTGlzdC5hZGQoJ2NoZWNrZWQnKTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRDb2xvcnMoKSB7XG4gIGFwcC5jb2xvcnMgPSB7fTtcbiAgLy8gZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gY3VycmVudF9pZHMubGVuZ3RoOyBpIDwgbGVuX2k7IGkrKykge1xuICAvLyAgIGFwcC5jb2xvcnNbY3VycmVudF9pZHNbaV1dID0gY29sb3JfY291bnRyaWVzO1xuICAvLyB9XG4gIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG59XG5cbi8qKlxuKiBGdW5jdGlvbiB0byBzZWxlY3QgdGhlIGZpcnN0IHZhcmlhYmxlIG9uIHRoZSBsZWZ0IG1lbnVcbiogKHRyaWdnZXJlZCBhZnRlciBjaGFuZ2luZyByZWdpb24sIGlmIG5vIG1vcmUgdmFyaWFibGUgd2FzIHNlbGVjdGVkKVxuKlxuKiBAcmV0dXJuIHt2b2lkfVxuKi9cbmZ1bmN0aW9uIHNlbGVjdEZpcnN0QXZhaWxhYmxlVmFyKCkge1xuICBjb25zdCBtZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21lbnUnKTtcbiAgY29uc3QgdiA9IG1lbnUucXVlcnlTZWxlY3RvckFsbCgnLnRhcmdldF92YXJpYWJsZScpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHYubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIXZbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXNhYmxlZCcpKSB7XG4gICAgICB2W2ldLmNsYXNzTGlzdC5hZGQoJ2NoZWNrZWQnKTtcbiAgICAgIHJldHVybiB2W2ldLmdldEF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4qIEZ1bmN0aW9uIHRvIHVwZGF0ZSB0aGUgYXZhaWxhYmxlcyByYXRpb3MgaW4gdGhlIGxlZnQgbWVudSAoYWZ0ZXIgY2hhbmdpbmcgcmVnaW9uKVxuKiBJZiBhIHNlbGVjdGVkIHZhcmlhYmxlIGlzIG5vdCBhdmFpbGFibGUgYW55bW9yZSBpdCB3aWxsIGJlIGRlc2VsZWN0ZWQuXG4qIElmIHRoZXJlIHNlbGVjdGVkIHZhcmlhYmxlIChhbGwgdGhlIHByZXZpb3VzbHkgc2VsZWN0ZWQgdmFyaWFibGVzIGFyZSB1bmF2YWlsYWJsZSBmb3IgdGhpcyByZWdpb24pXG4qIHRoZSBmaXJzdCB2YXJpYWJsZSBvbiB0aGUgbWVudSB3aWxsIGJlIHNlbGVjdGVkLlxuKiBJZiB0aGUgbmV3IG51bWJlciBvZiBzZWxlY3RlZCBmZWF0dXJlIGlzIGluZmVyaW9yIHRvIHRoZSBudW1iZXIgb2YgdmFyaWFibGVzIG9uIHRoZSBjdXJyZW50XG4qIGNoYXJ0LCBhIG5ldyBjaGFydCAoc3VpdGFibGUgZm9yIG9ubHkgMSB2YXJpYWJsZSkgd2lsbCBiZSBzZWxlY3RlZC5cbipcbipcbiogQHBhcmFtIHtTdHJpbmd9IG15X3JlZ2lvbiAtIFRoZSBJRCBvZiB0aGUgbmV3bHkgc2VsZWN0ZWQgcmVnaW9uLlxuKiBAcmV0dXJuIHtOdW1iZXJ9IC0gVGhlIG5ldyBudW1iZXIgb2Ygc2VsZWN0ZWQgcmF0aW9zLlxuKlxuKi9cbmZ1bmN0aW9uIHVwZGF0ZUF2YWlsYWJsZXNSYXRpb3MobXlfcmVnaW9uKSB7XG4gIGNvbnN0IGRhdGFfbXlfZmVhdHVyZSA9IGFwcC5mdWxsX2RhdGFzZXQuZmlsdGVyKFxuICAgIGZ0ID0+IGZ0W2FwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF0gPT09IG15X3JlZ2lvbilbMF07XG4gIGNvbnN0IG1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWVudScpO1xuICBjb25zdCBsaW5lcyA9IG1lbnUucXVlcnlTZWxlY3RvckFsbCgnLnRhcmdldF92YXJpYWJsZScpO1xuICBmb3IgKGxldCBpID0gMCwgbmJfbGluZXMgPSBsaW5lcy5sZW5ndGg7IGkgPCBuYl9saW5lczsgaSsrKSB7XG4gICAgY29uc3QgY29kZV92YXJpYWJsZSA9IGxpbmVzW2ldLmdldEF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgICBpZiAoZGF0YV9teV9mZWF0dXJlW2NvZGVfdmFyaWFibGVdICE9PSB1bmRlZmluZWRcbiAgICAgICAgJiYgZGF0YV9teV9mZWF0dXJlW2NvZGVfdmFyaWFibGVdICE9PSAnTkEnKSB7XG4gICAgICBsaW5lc1tpXS5jbGFzc0xpc3QucmVtb3ZlKCdkaXNhYmxlZCcpO1xuICAgICAgbGluZXNbaV0ubmV4dFNpYmxpbmcuY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZWQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGluZXNbaV0uY2xhc3NMaXN0LnJlbW92ZSgnY2hlY2tlZCcpO1xuICAgICAgbGluZXNbaV0uY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKTtcbiAgICAgIGxpbmVzW2ldLm5leHRTaWJsaW5nLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJyk7XG4gICAgfVxuICB9XG4gIGNvbnN0IG5ld192YXIgPSBtZW51LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YXJnZXRfdmFyaWFibGUuY2hlY2tlZCcpO1xuICBpZiAobmV3X3Zhci5sZW5ndGggIT09IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpby5sZW5ndGgpIHtcbiAgICBsZXQgbmV3X3Zhcl9uYW1lcztcbiAgICBpZiAobmV3X3Zhci5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnN0IG5hbWUgPSBzZWxlY3RGaXJzdEF2YWlsYWJsZVZhcigpO1xuICAgICAgbmV3X3Zhcl9uYW1lcyA9IFtuYW1lXTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3X3Zhcl9uYW1lcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKFxuICAgICAgICBuZXdfdmFyKS5tYXAoZWxlbSA9PiBlbGVtLmdldEF0dHJpYnV0ZSgndmFsdWUnKSk7XG4gICAgfVxuICAgIHJlc2V0VmFyaWFibGVzKGFwcCwgbmV3X3Zhcl9uYW1lcyk7XG4gIH1cbiAgcmV0dXJuIG5ld192YXIubGVuZ3RoO1xufVxuXG4vKipcbiogQ3JlYXRlIGhhbmRsZXJzIGZvciB1c2VyIGV2ZW50IG9uIHRoZSBsZWZ0IG1lbnUgYW5kIG9uIHRoZSBtYXAgZm9yIGNoYXJ0cyBvbmx5XG4qIGFsbG93aW5nIHRvIHVzZSAxIHZhcmlhYmxlLlxuKlxuKiBAcGFyYW0ge09iamVjdH0gY2hhcnQgLSBUaGUgY2hhcnQgb2JqZWN0LlxuKiBAcGFyYW0ge09iamVjdH0gbWFwX2VsZW0gLSBUaGUgbWFwIG9iamVjdC5cbiogQHJldHVybiB7dm9pZH1cbipcbiovXG5mdW5jdGlvbiBiaW5kVUlfY2hhcnQoY2hhcnQsIG1hcF9lbGVtKSB7XG4gIC8vIFVzZXIgY2hhbmdlIHRoZSBzdHVkeSB6b25lOlxuICBkMy5zZWxlY3RBbGwoJ3NwYW4uZmlsdGVyX3YnKVxuICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdjaGVja2VkJykpIHtcbiAgICAgICAgZDMuc2VsZWN0QWxsKCdzcGFuLmZpbHRlcl92JykuYXR0cignY2xhc3MnLCAnZmlsdGVyX3Ygc3F1YXJlJyk7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnY2hlY2tlZCcpO1xuICAgICAgICBjb25zdCBmaWx0ZXJfdHlwZSA9IHRoaXMuZ2V0QXR0cmlidXRlKCdmaWx0ZXItdmFsdWUnKTtcbiAgICAgICAgaWYgKGZpbHRlcl90eXBlID09PSAnZmlsdGVyX2Rpc3QnKSB7XG4gICAgICAgICAgY29uc3QgaW5wdXRfZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXN0X2ZpbHRlcicpO1xuICAgICAgICAgIGlucHV0X2VsZW0ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgICAgICAgIGNvbnN0IGRpc3QgPSAraW5wdXRfZWxlbS52YWx1ZTtcbiAgICAgICAgICBjb25zdCBpZHMgPSBtYXBfZWxlbS5nZXRVbml0c1dpdGhpbihkaXN0KTtcbiAgICAgICAgICBhcHBseUZpbHRlcihhcHAsIGlkcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3RfZmlsdGVyJykuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgICAgICAgIGFwcGx5RmlsdGVyKGFwcCwgZmlsdGVyX3R5cGUpO1xuICAgICAgICB9XG4gICAgICAgIG1ha2VUYWJsZShhcHAuY3VycmVudF9kYXRhLCBhcHAuY3VycmVudF9jb25maWcpO1xuICAgICAgICBjaGFydC5jaGFuZ2VTdHVkeVpvbmUoKTtcbiAgICAgICAgY2hhcnQudXBkYXRlQ29tcGxldHVkZSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIGQzLnNlbGVjdCgnI2Rpc3RfZmlsdGVyJylcbiAgICAub24oJ2NoYW5nZSwga2V5dXAnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCBpZHMgPSBtYXBfZWxlbS5nZXRVbml0c1dpdGhpbigrdGhpcy52YWx1ZSk7XG4gICAgICBhcHBseUZpbHRlcihhcHAsIGlkcyk7XG4gICAgICBtYWtlVGFibGUoYXBwLmN1cnJlbnRfZGF0YSwgYXBwLmN1cnJlbnRfY29uZmlnKTtcbiAgICAgIGNoYXJ0LmNoYW5nZVN0dWR5Wm9uZSgpO1xuICAgICAgY2hhcnQudXBkYXRlQ29tcGxldHVkZSgpO1xuICAgIH0pO1xuXG4gIC8vIFVzZXIgY2hhbmdlIHRoZSB0YXJnZXRlZCByZWdpb246XG4gIGQzLnNlbGVjdEFsbCgnc3Bhbi50YXJnZXRfcmVnaW9uJylcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCF0aGlzLmNsYXNzTGlzdC5jb250YWlucygnY2hlY2tlZCcpKSB7XG4gICAgICAgIGQzLnNlbGVjdEFsbCgnc3Bhbi50YXJnZXRfcmVnaW9uJykuYXR0cignY2xhc3MnLCAndGFyZ2V0X3JlZ2lvbiBzcXVhcmUnKTtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XG4gICAgICAgIGNvbnN0IGlkX3JlZ2lvbiA9IHRoaXMuZ2V0QXR0cmlidXRlKCd2YWx1ZScpO1xuICAgICAgICBjaGFuZ2VSZWdpb24oYXBwLCBpZF9yZWdpb24sIG1hcF9lbGVtKTtcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBhdmFpbGFibGVzIHJhdGlvIG9uIHRoZSBsZWZ0IG1lbnVcbiAgICAgICAgLy8gKHRoaXMgbWF5IGNoYW5nZSB0aGUgY3VycmVudCBzZWxlY3RlZCByYXRpbyhzKSBhcyBzb21lIHZhcmlhYmxlcyBhcmVcbiAgICAgICAgLy8gbm90IGF2YWlsYWJsZSBmb3Igc29tZSBmZWF0dXJlcykgYW5kIGZldGNoIHRoZSBudW1iZXIgb2Ygc2VsZWN0ZWRcbiAgICAgICAgLy8gdmFyaWFibGVzIGFmdGVyIHRoYXQ6XG4gICAgICAgIGNvbnN0IG5ld19uYl92YXIgPSB1cGRhdGVBdmFpbGFibGVzUmF0aW9zKGlkX3JlZ2lvbik7XG4gICAgICAgIGlmIChuZXdfbmJfdmFyID49IGFwcC5jdXJyZW50X2NvbmZpZy5uYl92YXIpIHtcbiAgICAgICAgICBjaGFydC51cGRhdGVDaGFuZ2VSZWdpb24oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBJZiB0aGVyZSBmZXdlciBzZWxlY3RlZCB2YXJpYWJsZXMgdGhhbiByZXF1ZXN0ZWQgYnkgdGhlIGN1cnJlbnQgY2hhcnQsXG4gICAgICAgICAgLy8gcmVkcmF3IHRoZSBmaXJzdCAoZGVmYXVsdCkga2luZCBvZiBjaGFydDpcbiAgICAgICAgICBkMy5zZWxlY3QoJ3NwYW4uY2hhcnRfdDFbdmFsdWU9XCJCYXJDaGFydDFcIl0nKS5kaXNwYXRjaCgnY2xpY2snKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gIC8vIFVzZXIgY2xpY2sgb24gdGhlIG5hbWUgb2YgYSBncm91cCBvZiB2YXJpYWJsZXNcbiAgLy8gdG8gZXhwYW5kIG9yIGNvbGxhcHNlIGl0cyBjb250ZW50OlxuICBkMy5zZWxlY3RBbGwoJy5uYW1lX2dyb3VwX3ZhcicpXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IGdyb3VwX3ZhciA9IHRoaXMubmV4dFNpYmxpbmc7XG4gICAgICBpZiAoZ3JvdXBfdmFyLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJykge1xuICAgICAgICBncm91cF92YXIuc3R5bGUuZGlzcGxheSA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBncm91cF92YXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH1cbiAgICB9KTtcblxuICAvLyBVc2VyIGNsaWNrIHRvIGFkZC9yZW1vdmUgYSB2YXJpYWJsZSBmcm9tIHRoZSBjb21wYXJpc29uOlxuICBkMy5zZWxlY3RBbGwoJ3NwYW4udGFyZ2V0X3ZhcmlhYmxlJylcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXNhYmxlZCcpKSByZXR1cm47XG4gICAgICBsZXQgbmJfdmFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4udGFyZ2V0X3ZhcmlhYmxlJykpLmZpbHRlcihcbiAgICAgICAgICBlbGVtID0+ICEhZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2NoZWNrZWQnKSkubGVuZ3RoO1xuICAgICAgLy8gU2VsZWN0IGEgbmV3IHZhcmlhYmxlIGFuZCB0cmlnZ2VyIHRoZSBhcHByb3ByaWF0ZSBjaGFuZ2VzIG9uIHRoZSBjdXJyZW50IGNoYXJ0OlxuICAgICAgaWYgKCF0aGlzLmNsYXNzTGlzdC5jb250YWlucygnY2hlY2tlZCcpKSB7XG4gICAgICAgIC8vIFdlIGRvbid0IHdhbnQgdGhlIHVzZXIgdG8gYmUgYWJsZSB0byBzZWxlY3QgbW9yZSB0aGFuIDggdmFyaWFibGVzIHNpbXVsdGFuZW91c2x5OlxuICAgICAgICBpZiAobmJfdmFyID49IDgpIHJldHVybjtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XG4gICAgICAgIGNvbnN0IGNvZGVfdmFyaWFibGUgPSB0aGlzLmdldEF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgICAgICAgY29uc3QgbmFtZV92YXJpYWJsZSA9IHZhcmlhYmxlc19pbmZvLmZpbmQoZCA9PiBkLnJhdGlvID09PSBjb2RlX3ZhcmlhYmxlKS5uYW1lO1xuICAgICAgICBhZGRWYXJpYWJsZShhcHAsIGNvZGVfdmFyaWFibGUpO1xuICAgICAgICBtYWtlVGFibGUoYXBwLmN1cnJlbnRfZGF0YSwgYXBwLmN1cnJlbnRfY29uZmlnKTtcbiAgICAgICAgY2hhcnQuYWRkVmFyaWFibGUoY29kZV92YXJpYWJsZSwgbmFtZV92YXJpYWJsZSk7XG4gICAgICAgIG5iX3ZhciArPSAxO1xuICAgICAgfSBlbHNlIHsgLy8gUmVtb3ZlIGEgdmFyaWFibGUgZnJvbSB0aGUgc2VsZWN0aW9uOlxuICAgICAgICBuYl92YXIgLT0gMTtcbiAgICAgICAgLy8gV2UgZG9uJ3Qgd2FudCB0byBsZXQgdGhlIHVzZXIgcmVtb3ZlIHRoZSB2YXJpYWJsZSBpZlxuICAgICAgICAvLyBpdCdzIHRoZSBvbmx5IG9uZSBzZWxlY3RlZCBvciBpZiB0aGUgY3VycmVudGx5IGRpc3BsYXllZFxuICAgICAgICAvLyBjaGFydCBuZWVkIGEgbWluaW11bSBudW1iZXIgb2YgdmFyaWFibGVzOlxuICAgICAgICBpZiAobmJfdmFyIDwgYXBwLmN1cnJlbnRfY29uZmlnLm5iX3Zhcikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb2RlX3ZhcmlhYmxlID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LnJlbW92ZSgnY2hlY2tlZCcpO1xuICAgICAgICByZW1vdmVWYXJpYWJsZShhcHAsIGNvZGVfdmFyaWFibGUpO1xuICAgICAgICBjaGFydC5yZW1vdmVWYXJpYWJsZShjb2RlX3ZhcmlhYmxlKTtcbiAgICAgICAgbWFrZVRhYmxlKGFwcC5jdXJyZW50X2RhdGEsIGFwcC5jdXJyZW50X2NvbmZpZyk7XG4gICAgICB9XG4gICAgICAvLyBVcGRhdGUgdGhlIHRvcCBtZW51IHRvIGRpc3BsYXkgYXZhaWxhYmxlIGNoYXJ0cyBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnRcbiAgICAgIC8vIG51bWJlciBvZiBhdmFpbGFibGUgdmFyaWFibGVzOlxuICAgICAgaWYgKG5iX3ZhciA9PT0gMSkgeyAvLyBBbGxvdyBhbGwga2luZCBvZiB2aXp1IHdpdGggMSB2YXJpYWJsZTpcbiAgICAgICAgZDMuc2VsZWN0QWxsKCcuY2hhcnRfdDEnKVxuICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd0eXBlX2NoYXJ0IGNoYXJ0X3QxJyk7XG4gICAgICAgIGQzLnNlbGVjdEFsbCgnLmNoYXJ0X3QyJylcbiAgICAgICAgICAuYXR0cignY2xhc3MnLCAndHlwZV9jaGFydCBjaGFydF90MiBkaXNhYmxlZCcpO1xuICAgICAgICBkMy5zZWxlY3RBbGwoJy5jaGFydF90MycpXG4gICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3R5cGVfY2hhcnQgY2hhcnRfdDMgZGlzYWJsZWQnKTtcbiAgICAgIH0gZWxzZSBpZiAobmJfdmFyID09PSAyKSB7IC8vIEFsbG93IGFsbCBraW5kIG9mIHZpenUgd2l0aCAyIHZhcmlhYmxlczpcbiAgICAgICAgZDMuc2VsZWN0QWxsKCcuY2hhcnRfdDInKVxuICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd0eXBlX2NoYXJ0IGNoYXJ0X3QyJyk7XG4gICAgICAgIGQzLnNlbGVjdEFsbCgnLmNoYXJ0X3QzJylcbiAgICAgICAgICAuYXR0cignY2xhc3MnLCAndHlwZV9jaGFydCBjaGFydF90MyBkaXNhYmxlZCcpO1xuICAgICAgfSBlbHNlIGlmIChuYl92YXIgPiAyKSB7IC8vIEFsbG93IGFsbCBraW5kIG9mIHZpenUgd2l0aCAzIHZhcmlhYmxlczpcbiAgICAgICAgZDMuc2VsZWN0QWxsKCcuY2hhcnRfdDInKVxuICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd0eXBlX2NoYXJ0IGNoYXJ0X3QyJyk7XG4gICAgICAgIGQzLnNlbGVjdEFsbCgnLmNoYXJ0X3QzJylcbiAgICAgICAgICAuYXR0cignY2xhc3MnLCAndHlwZV9jaGFydCBjaGFydF90MycpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIC8vIERpc3BhdGNoIGEgY2xpY2sgZXZlbnQgb24gdGhlIGFzc29jaWF0ZWQgY2hlY2tib3ggd2hlbiB0aGUgdGV4dCBpcyBjbGlja2VkOlxuICBkMy5zZWxlY3RBbGwoJ3NwYW4ubGFiZWxfY2hrJylcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5wcmV2aW91c1NpYmxpbmcuY2xpY2soKTtcbiAgICB9KTtcblxuICBjb25zdCBoZWFkZXJfbWFwX3NlY3Rpb24gPSBkMy5zZWxlY3QoJyNtYXBfc2VjdGlvbiA+ICNoZWFkZXJfbWFwJyk7XG5cbiAgaGVhZGVyX21hcF9zZWN0aW9uLnNlbGVjdCgnI2ltZ19yZWN0X3NlbGVjJylcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCF0aGlzLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19tYXBfem9vbScpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX21hcF9zZWxlY3QnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgc3ZnX21hcC5vbignLnpvb20nLCBudWxsKTtcbiAgICAgICAgaWYgKG1hcF9lbGVtLmJydXNoX21hcCkge1xuICAgICAgICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJykuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBtYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJykub24oJ2NsaWNrJywgbnVsbCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgaGVhZGVyX21hcF9zZWN0aW9uLnNlbGVjdCgnI2ltZ19tYXBfem9vbScpXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfcmVjdF9zZWxlYycpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX21hcF9zZWxlY3QnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgc3ZnX21hcC5jYWxsKG1hcF9lbGVtLnpvb21fbWFwKTtcbiAgICAgICAgaWYgKG1hcF9lbGVtLmJydXNoX21hcCkge1xuICAgICAgICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJykuY2FsbChtYXBfZWxlbS5icnVzaF9tYXAubW92ZSwgbnVsbCk7XG4gICAgICAgICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgIH1cbiAgICAgICAgbWFwX2VsZW0udGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpLm9uKCdjbGljaycsIG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIGhlYWRlcl9tYXBfc2VjdGlvbi5zZWxlY3QoJyNpbWdfbWFwX3NlbGVjdCcpXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfcmVjdF9zZWxlYycpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX21hcF96b29tJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgIHN2Z19tYXAub24oJy56b29tJywgbnVsbCk7XG4gICAgICAgIGlmIChtYXBfZWxlbS5icnVzaF9tYXApIHtcbiAgICAgICAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpLmNhbGwobWFwX2VsZW0uYnJ1c2hfbWFwLm1vdmUsIG51bGwpO1xuICAgICAgICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJykuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICB9XG4gICAgICAgIG1hcF9lbGVtLnRhcmdldF9sYXllci5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgY2hhcnQuaGFuZGxlQ2xpY2tNYXAoZCwgdGhpcyk7XG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgaWYgKCFtYXBfZWxlbS5icnVzaF9tYXApIHtcbiAgICBpZiAoY2hhcnQuaGFuZGxlQ2xpY2tNYXApIHtcbiAgICAgIG1hcF9lbGVtLnRhcmdldF9sYXllci5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICBjaGFydC5oYW5kbGVDbGlja01hcChkLCB0aGlzKTtcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1hcF9lbGVtLnRhcmdldF9sYXllci5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgICAub24oJ2NsaWNrJywgbnVsbCk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgaGVhZGVyX3RhYmxlX3NlY3Rpb24gPSBkMy5zZWxlY3QoJyNtYXBfc2VjdGlvbicpXG4gICAgICAuaW5zZXJ0KCdwJywgJ3N2ZycpXG4gICAgICAuYXR0cignaWQnLCAnaGVhZGVyX3RhYmxlJylcbiAgICAgIC5zdHlsZXMoeyBkaXNwbGF5OiAnbm9uZScsIG1hcmdpbjogJ2F1dG8nLCAndGV4dC1hbGlnbic6ICdyaWdodCcgfSk7XG5cbiAgaGVhZGVyX3RhYmxlX3NlY3Rpb24uYXBwZW5kKCdzcGFuJylcbiAgICAuYXR0cignY2xhc3MnLCAnYnV0dG9uX2JsdWUnKVxuICAgIC5odG1sKCdDU1YnKVxuICAgIC5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBjb250ZW50ID0gW1xuICAgICAgICAnaWQsTnVtw6lyYXRldXIsRMOpbm9taW5hdGV1cixSYXRpbyxSYW5nXFxyXFxuJyxcbiAgICAgICAgYXBwLmN1cnJlbnRfZGF0YS5tYXAoZCA9PiBbZC5pZCwgZC5udW0sIGQuZGVudW0sIGQucmF0aW8sIGQucmFuZ10uam9pbignLCcpKS5qb2luKCdcXHJcXG4nKSxcbiAgICAgIF0uam9pbignJyk7XG4gICAgICBjb25zdCBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBgZGF0YTp0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTgsJHtlbmNvZGVVUklDb21wb25lbnQoY29udGVudCl9YCk7XG4gICAgICBlbGVtLnNldEF0dHJpYnV0ZSgnZG93bmxvYWQnLCAndGFibGUuY3N2Jyk7XG4gICAgICBlbGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsZW0pO1xuICAgICAgZWxlbS5jbGljaygpO1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlbGVtKTtcbiAgICB9KTtcbiAgYmluZFRvcEJ1dHRvbnMoY2hhcnQsIG1hcF9lbGVtKTtcbn1cblxuLyoqXG4qIEZ1bmN0aW9uIHRvIGhhbmRsZSBjbGljayBvbiB0aGUgdG9wIG1lbnUsIGluIG9yZGVyIHRvIGNob29zZVxuKiB0aGUga2luZCBvZiBhdmFpbGFibGVzIHJlcHJlc2VudGF0aW9uXG4qXG4qIEBwYXJhbSB7T2JqZWN0fSBjaGFydCAtXG4qIEBwYXJhbSB7T2JqZWN0fSBtYXBfZWxlbSAtXG4qIEByZXR1cm4ge3ZvaWR9XG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmRUb3BCdXR0b25zKGNoYXJ0LCBtYXBfZWxlbSkge1xuICBkMy5zZWxlY3RBbGwoJy50eXBlX2NoYXJ0JylcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXNhYmxlZCcpKSByZXR1cm47XG4gICAgICBjaGFydC5yZW1vdmUoKTtcbiAgICAgIGNoYXJ0ID0gbnVsbDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgdW5iaW5kVUkoKTtcbiAgICAgIG1hcF9lbGVtLnJlc2V0Wm9vbSgpO1xuICAgICAgYXBwLmNvbG9ycyA9IHt9O1xuICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmdldEF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gJ0JhckNoYXJ0MScpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0JhckNoYXJ0MScpO1xuICAgICAgICBtYWtlVGFibGUoYXBwLmN1cnJlbnRfZGF0YSwgYXBwLmN1cnJlbnRfY29uZmlnKTtcbiAgICAgICAgY2hhcnQgPSBuZXcgQmFyQ2hhcnQxKGFwcC5jdXJyZW50X2RhdGEpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIGJpbmRVSV9jaGFydChjaGFydCwgbWFwX2VsZW0pO1xuICAgICAgICBtYXBfZWxlbS5iaW5kQnJ1c2hDbGljayhjaGFydCk7XG4gICAgICAgIGNoYXJ0LmJpbmRNYXAobWFwX2VsZW0pO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJ0J1YmJsZUNoYXJ0MScpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0J1YmJsZUNoYXJ0MScpO1xuICAgICAgICBtYWtlVGFibGUoYXBwLmN1cnJlbnRfZGF0YSwgYXBwLmN1cnJlbnRfY29uZmlnKTtcbiAgICAgICAgY2hhcnQgPSBuZXcgQnViYmxlQ2hhcnQxKGFwcC5jdXJyZW50X2RhdGEpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIGJpbmRVSV9jaGFydChjaGFydCwgbWFwX2VsZW0pO1xuICAgICAgICBtYXBfZWxlbS5iaW5kQnJ1c2hDbGljayhjaGFydCk7XG4gICAgICAgIGNoYXJ0LmJpbmRNYXAobWFwX2VsZW0pO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJ1NjYXR0ZXJQbG90MicpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1NjYXR0ZXJQbG90MicpO1xuICAgICAgICBtYWtlVGFibGUoYXBwLmN1cnJlbnRfZGF0YSwgYXBwLmN1cnJlbnRfY29uZmlnKTtcbiAgICAgICAgY2hhcnQgPSBuZXcgU2NhdHRlclBsb3QyKGFwcC5jdXJyZW50X2RhdGEpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIGJpbmRVSV9jaGFydChjaGFydCwgbWFwX2VsZW0pO1xuICAgICAgICBtYXBfZWxlbS5iaW5kQnJ1c2hDbGljayhjaGFydCk7XG4gICAgICAgIGNoYXJ0LmJpbmRNYXAobWFwX2VsZW0pO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJ1JhZGFyQ2hhcnQzJykge1xuICAgICAgICBjb25zb2xlLmxvZygnUmFkYXJDaGFydDMnKTtcbiAgICAgICAgbWFrZVRhYmxlKGFwcC5jdXJyZW50X2RhdGEsIGFwcC5jdXJyZW50X2NvbmZpZyk7XG4gICAgICAgIGNoYXJ0ID0gbmV3IFJhZGFyQ2hhcnQzKGFwcC5jdXJyZW50X2RhdGEpO1xuICAgICAgICBiaW5kVUlfY2hhcnQoY2hhcnQsIG1hcF9lbGVtKTtcbiAgICAgICAgbWFwX2VsZW0uYmluZEJydXNoQ2xpY2soY2hhcnQpO1xuICAgICAgICBjaGFydC5iaW5kTWFwKG1hcF9lbGVtKTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09ICdTaW1pbGFyaXR5Q2hhcnQnKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTaW1pbGFyaXR5Q2hhcnQnKTtcbiAgICAgICAgbWFrZVRhYmxlKGFwcC5jdXJyZW50X2RhdGEsIGFwcC5jdXJyZW50X2NvbmZpZyk7XG4gICAgICAgIGNoYXJ0ID0gbmV3IFNpbWlsYXJpdHlDaGFydChhcHAuY3VycmVudF9kYXRhKTtcbiAgICAgICAgYmluZFVJX2NoYXJ0KGNoYXJ0LCBtYXBfZWxlbSk7XG4gICAgICAgIG1hcF9lbGVtLmJpbmRCcnVzaENsaWNrKGNoYXJ0KTtcbiAgICAgICAgY2hhcnQuYmluZE1hcChtYXBfZWxlbSk7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnU2ltaWxhcml0eTFwbHVzJykge1xuICAgICAgICBjb25zb2xlLmxvZygnU2ltaWxhcml0eTFwbHVzJyk7XG4gICAgICAgIG1ha2VUYWJsZShhcHAuY3VycmVudF9kYXRhLCBhcHAuY3VycmVudF9jb25maWcpO1xuICAgICAgICBjaGFydCA9IG5ldyBTaW1pbGFyaXR5MXBsdXMoYXBwLmN1cnJlbnRfZGF0YSk7XG4gICAgICAgIGJpbmRVSV9jaGFydChjaGFydCwgbWFwX2VsZW0pO1xuICAgICAgICBtYXBfZWxlbS5iaW5kQnJ1c2hDbGljayhjaGFydCk7XG4gICAgICAgIGNoYXJ0LmJpbmRNYXAobWFwX2VsZW0pO1xuICAgICAgfVxuICAgICAgLy8gIGVsc2UgaWYgKHZhbHVlID09PSAnUGFyYWxsZWxDb29yZHMyJykge1xuICAgICAgLy8gICBjb25zb2xlLmxvZygnUGFyYWxsZWxDb29yZHMyJyk7XG4gICAgICAvLyAgIC8vIG1ha2VUYWJsZShhcHAuY3VycmVudF9kYXRhLCBhcHAuY3VycmVudF9jb25maWcpO1xuICAgICAgLy8gICBjaGFydCA9IG5ldyBQYXJhbGxlbENvb3JkczIoYXBwLmN1cnJlbnRfZGF0YSk7XG4gICAgICAvLyAgIGJpbmRVSV9jaGFydChjaGFydCwgbWFwX2VsZW0pO1xuICAgICAgLy8gICBtYXBfZWxlbS5iaW5kQnJ1c2hDbGljayhjaGFydCk7XG4gICAgICAvLyAgIGNoYXJ0LmJpbmRNYXAobWFwX2VsZW0pO1xuICAgICAgLy8gfSBlbHNlIGlmICh2YWx1ZSA9PT0gJ0JveFBsb3QxJykge1xuICAgICAgLy8gICBjb25zb2xlLmxvZygnQm94UGxvdDEnKTtcbiAgICAgIC8vICAgbWFrZVRhYmxlKGFwcC5jdXJyZW50X2RhdGEsIGFwcC5jdXJyZW50X2NvbmZpZyk7XG4gICAgICAvLyAgIGNoYXJ0ID0gbmV3IEJveFBsb3QxKGFwcC5jdXJyZW50X2RhdGEpO1xuICAgICAgLy8gICBiaW5kVUlfY2hhcnQoY2hhcnQsIG1hcF9lbGVtKTtcbiAgICAgIC8vICAgbWFwX2VsZW0uYmluZEJydXNoQ2xpY2soY2hhcnQpO1xuICAgICAgLy8gICBjaGFydC5iaW5kTWFwKG1hcF9lbGVtKTtcbiAgICAgIC8vIH1cbiAgICB9KTtcbn1cblxuXG5mdW5jdGlvbiBsb2FkRGF0YSgpIHtcbiAgZDMucXVldWUoNClcbiAgICAuZGVmZXIoZDMuY3N2LCAnZGF0YS9SRUdJT1ZJWl9EQVRBLmNzdicpXG4gICAgLmRlZmVyKGQzLmpzb24sICdkYXRhL2NnZXQtbnV0czEtMzAzNS5nZW9qc29uJylcbiAgICAuZGVmZXIoZDMuanNvbiwgJ2RhdGEvY291bnRyaWVzMzAzNS5nZW9qc29uJylcbiAgICAuZGVmZXIoZDMuanNvbiwgJ2RhdGEvcmVtb3RlMzAzNS5nZW9qc29uJylcbiAgICAuZGVmZXIoZDMuanNvbiwgJ2RhdGEvdGVtcGxhdGUzMDM1Lmdlb2pzb24nKVxuICAgIC5kZWZlcihkMy5qc29uLCAnZGF0YS9zZWFfYm94ZXMuZ2VvanNvbicpXG4gICAgLmRlZmVyKGQzLmNzdiwgJ2RhdGEvaW5kaWNhdGV1cnNfbWV0YS5jc3YnKVxuICAgIC5kZWZlcihkMy5jc3YsICdkYXRhL251dHMyX2FnZ3JlZy5jc3YnKVxuICAgIC5hd2FpdEFsbCgoZXJyb3IsIHJlc3VsdHMpID0+IHtcbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgICBjb25zdCBbXG4gICAgICAgIGZ1bGxfZGF0YXNldCwgbnV0czEsIGNvdW50cmllcywgcmVtb3RlLCB0ZW1wbGF0ZSwgc2VhYm94ZXMsIG1ldGFkYXRhX2luZGljYXRldXJzLCBhZ2dfbjIsXG4gICAgICBdID0gcmVzdWx0cztcbiAgICAgIGFwcC5hZ2dfbjIgPSBhZ2dfbjI7XG4gICAgICB2YXJpYWJsZXNfaW5mbyA9IHByZXBhcmVWYXJpYWJsZXNJbmZvKG1ldGFkYXRhX2luZGljYXRldXJzKTtcbiAgICAgIHByZXBhcmVfZGF0YXNldChmdWxsX2RhdGFzZXQsIGFwcCk7XG4gICAgICBzZXREZWZhdWx0Q29uZmlnKCdGUkInLCAnUlRfQ0hPTV8xNTc0JywgJ05VVFMxJyk7XG4gICAgICBjb25zdCBmZWF0dXJlc19tZW51ID0gZnVsbF9kYXRhc2V0LmZpbHRlcihmdCA9PiBmdC5nZW8uaW5kZXhPZignRlInKSA+IC0xXG4gICAgICAgICYmICtmdC5sZXZlbCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLmN1cnJlbnRfbGV2ZWwpO1xuICAgICAgY3JlYXRlTWVudShmZWF0dXJlc19tZW51LCB2YXJpYWJsZXNfaW5mbywgc3R1ZHlfem9uZXMsIHRlcnJpdG9yaWFsX21lc2gpO1xuICAgICAgYmluZEhlbHBNZW51KCk7XG4gICAgICBtYWtlVG9wTWVudSgpO1xuICAgICAgbWFrZUhlYWRlckNoYXJ0KCk7XG4gICAgICBzZXREZWZhdWx0Q29uZmlnTWVudSgnRlJCJywgJ1JUX0NIT01fMTU3NCcsICdOVVRTMScpO1xuICAgICAgZmlsdGVyTGV2ZWxWYXIoYXBwKTtcbiAgICAgIGNvbnNvbGUubG9nKGFwcCk7XG4gICAgICBjb25zdCBtYXBfZWxlbSA9IG5ldyBNYXBTZWxlY3QobnV0czEsIGNvdW50cmllcywgcmVtb3RlLCB0ZW1wbGF0ZSwgc2VhYm94ZXMpO1xuICAgICAgY29uc3QgY2hhcnQgPSBuZXcgQmFyQ2hhcnQxKGFwcC5jdXJyZW50X2RhdGEpO1xuICAgICAgbWFrZVRhYmxlKGFwcC5jdXJyZW50X2RhdGEsIGFwcC5jdXJyZW50X2NvbmZpZyk7XG4gICAgICBtYWtlSGVhZGVyTWFwU2VjdGlvbigpO1xuICAgICAgbWFrZVNvdXJjZVNlY3Rpb24oKTtcbiAgICAgIG1ha2VNYXBMZWdlbmQoKTtcbiAgICAgIGJpbmRVSV9jaGFydChjaGFydCwgbWFwX2VsZW0pO1xuICAgICAgbWFwX2VsZW0uYmluZEJydXNoQ2xpY2soY2hhcnQpO1xuICAgICAgY2hhcnQuYmluZE1hcChtYXBfZWxlbSk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGJpbmRIZWxwTWVudSgpIHtcbiAgY29uc3QgaGVscF9idXR0b25zX3ZhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtZW51X3ZhcmlhYmxlcycpLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4uaV9pbmZvJyk7XG4gIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGhlbHBfYnV0dG9uc192YXIpLmZvckVhY2goKGJ0bl9pKSA9PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgYnRuX2kub25jbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IGNvZGVfdmFyaWFibGUgPSB0aGlzLnByZXZpb3VzU2libGluZy5wcmV2aW91c1NpYmxpbmcuZ2V0QXR0cmlidXRlKCd2YWx1ZScpO1xuICAgICAgY29uc3QgbyA9IHZhcmlhYmxlc19pbmZvLmZpbmQoZCA9PiBkLnJhdGlvID09PSBjb2RlX3ZhcmlhYmxlKTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuZXctY2FwXG4gICAgICBjb25zdCBtb2RhbCA9IG5ldyB0aW5nbGUubW9kYWwoe1xuICAgICAgICBzdGlja3lGb290ZXI6IGZhbHNlLFxuICAgICAgICBjbG9zZU1ldGhvZHM6IFsnb3ZlcmxheScsICdidXR0b24nLCAnZXNjYXBlJ10sXG4gICAgICAgIGNsb3NlTGFiZWw6ICdDbG9zZScsXG4gICAgICAgIG9uT3BlbigpIHtcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkaXYudGluZ2xlLW1vZGFsLnRpbmdsZS1tb2RhbC0tdmlzaWJsZScpLnN0eWxlLmJhY2tncm91bmQgPSAncmdiYSgwLDAsMCwwLjQpJztcbiAgICAgICAgfSxcbiAgICAgICAgb25DbG9zZSgpIHtcbiAgICAgICAgICBtb2RhbC5kZXN0cm95KCk7XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIG1vZGFsLnNldENvbnRlbnQoXG4gICAgICAgIGA8cCBzdHlsZT1cImZvbnQtZmFtaWx5OiAnU2lnbmlrYScsc2Fucy1zZXJpZjtjb2xvcjogIzRmODFiZDtmb250LXNpemU6IDEuM3JlbTtcIj5EZXNjcmlwdGlvbiBkZSBsJ2luZGljYXRldXI8L3A+XG4gICAgICAgIDxwIHN0eWxlPVwiZm9udC1mYW1pbHk6ICdTaWduaWthJyxzYW5zLXNlcmlmO3RleHQtYWxpZ246IGp1c3RpZnk7XCI+JHtvLm1ldGhvZG8uc3BsaXQoJ1xcbicpLmpvaW4oJzxicj4nKX08L3A+XG4gICAgICAgIDxwIHN0eWxlPVwiZm9udC1mYW1pbHk6ICdTaWduaWthJyxzYW5zLXNlcmlmO2ZvbnQtc2l6ZTogMC44ZW1cIj4ke28uc291cmNlfTwvcD5cbiAgICAgICAgPHAgc3R5bGU9XCJmb250LWZhbWlseTogJ1NpZ25pa2EnLHNhbnMtc2VyaWY7Zm9udC1zaXplOiAwLjhlbVwiPkRhdGUgZGUgdMOpbMOpY2hhcmdlbWVudCBkZSBsYSBkb25uw6llcyA6ICR7by5sYXN0X3VwZGF0ZX08L3A+YCk7XG4gICAgICBtb2RhbC5vcGVuKCk7XG4gICAgfTtcbiAgfSk7XG5cbiAgY29uc3QgaGVscHNfYnV0dG9uc19zdHVkeV96b25lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21lbnVfc3R1ZHl6b25lJykucXVlcnlTZWxlY3RvckFsbCgnc3Bhbi5pX2luZm8nKTtcbiAgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoaGVscHNfYnV0dG9uc19zdHVkeV96b25lKS5mb3JFYWNoKChidG5faSkgPT4ge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIGJ0bl9pLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCBmaWx0ZXJfbmFtZSA9IHRoaXMucHJldmlvdXNTaWJsaW5nLnByZXZpb3VzU2libGluZy5nZXRBdHRyaWJ1dGUoJ2ZpbHRlci12YWx1ZScpO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5ldy1jYXBcbiAgICAgIGNvbnN0IG1vZGFsID0gbmV3IHRpbmdsZS5tb2RhbCh7XG4gICAgICAgIHN0aWNreUZvb3RlcjogZmFsc2UsXG4gICAgICAgIGNsb3NlTWV0aG9kczogWydvdmVybGF5JywgJ2J1dHRvbicsICdlc2NhcGUnXSxcbiAgICAgICAgY2xvc2VMYWJlbDogJ0Nsb3NlJyxcbiAgICAgICAgb25PcGVuKCkge1xuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Rpdi50aW5nbGUtbW9kYWwudGluZ2xlLW1vZGFsLS12aXNpYmxlJykuc3R5bGUuYmFja2dyb3VuZCA9ICdyZ2JhKDAsMCwwLDAuNCknO1xuICAgICAgICB9LFxuICAgICAgICBvbkNsb3NlKCkge1xuICAgICAgICAgIG1vZGFsLmRlc3Ryb3koKTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgbW9kYWwuc2V0Q29udGVudChcbiAgICAgICAgYDxwIHN0eWxlPVwiZm9udC1mYW1pbHk6ICdTaWduaWthJyxzYW5zLXNlcmlmO2NvbG9yOiAjNGY4MWJkO2ZvbnQtc2l6ZTogMS4zcmVtO1wiPk3DqXRob2RvbG9naWU8L3A+XG4gICAgICAgIDxwIHN0eWxlPVwiZm9udC1mYW1pbHk6ICdTaWduaWthJyxzYW5zLXNlcmlmO3RleHQtYWxpZ246IGp1c3RpZnk7XCI+JHtmaWx0ZXJfbmFtZX08L3A+YCk7XG4gICAgICBtb2RhbC5vcGVuKCk7XG4gICAgfTtcbiAgfSk7XG5cbiAgY29uc3QgaGVscHNfYnV0dG9uc190ZXJyaXRfdW5pdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtZW51X3RlcnJpdF9sZXZlbCcpLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4uaV9pbmZvJyk7XG4gIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGhlbHBzX2J1dHRvbnNfdGVycml0X3VuaXQpLmZvckVhY2goKGJ0bl9pKSA9PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgYnRuX2kub25jbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IHRlcnJpdF9sZXZlbF9uYW1lID0gdGhpcy5wcmV2aW91c1NpYmxpbmcucHJldmlvdXNTaWJsaW5nLmdldEF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuZXctY2FwXG4gICAgICBjb25zdCBtb2RhbCA9IG5ldyB0aW5nbGUubW9kYWwoe1xuICAgICAgICBzdGlja3lGb290ZXI6IGZhbHNlLFxuICAgICAgICBjbG9zZU1ldGhvZHM6IFsnb3ZlcmxheScsICdidXR0b24nLCAnZXNjYXBlJ10sXG4gICAgICAgIGNsb3NlTGFiZWw6ICdDbG9zZScsXG4gICAgICAgIG9uT3BlbigpIHtcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkaXYudGluZ2xlLW1vZGFsLnRpbmdsZS1tb2RhbC0tdmlzaWJsZScpLnN0eWxlLmJhY2tncm91bmQgPSAncmdiYSgwLDAsMCwwLDAuNCknO1xuICAgICAgICB9LFxuICAgICAgICBvbkNsb3NlKCkge1xuICAgICAgICAgIG1vZGFsLmRlc3Ryb3koKTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgbW9kYWwuc2V0Q29udGVudChgXG4gICAgICAgIDxwIHN0eWxlPVwiZm9udC1mYW1pbHk6ICdTaWduaWthJyxzYW5zLXNlcmlmOyBjb2xvcjogIzRmODFiZDtmb250LXNpemU6IDEuM3JlbTtcIj5UaXRyZTwvcD5cbiAgICAgICAgPHAgc3R5bGU9XCJmb250LWZhbWlseTogJ1NpZ25pa2EnLHNhbnMtc2VyaWY7dGV4dC1hbGlnbjoganVzdGlmeTtcIj4ke3RlcnJpdF9sZXZlbF9uYW1lfTwvcD5gKTtcbiAgICAgIG1vZGFsLm9wZW4oKTtcbiAgICB9O1xuICB9KTtcbn1cblxubG9hZERhdGEoKTtcbiJdLCJuYW1lcyI6WyJkZWZpbmUiLCJ0aGlzIiwiY29sb3JfY291bnRyaWVzIiwiY29sb3JfZGlzYWJsZWQiLCJjb2xvcl9zdXAiLCJjb2xvcl9pbmYiLCJjb2xvcl9oaWdobGlnaHQiLCJjb2xvcl9kZWZhdWx0X2Rpc3NpbSIsIm1hdGhfcG93IiwiTWF0aCIsInBvdyIsIm1hdGhfYWJzIiwiYWJzIiwibWF0aF9yb3VuZCIsInJvdW5kIiwibWF0aF9tYXgiLCJtYXgiLCJtYXRoX3NpbiIsInNpbiIsIm1hdGhfY29zIiwiY29zIiwibWF0aF9zcXJ0Iiwic3FydCIsIkhBTEZfUEkiLCJQSSIsInByZXBhcmVUb29sdGlwIiwicGFyZW50X3N2Z19lbGVtIiwidG9vbHRpcCIsImFwcGVuZCIsImF0dHIiLCJzdHlsZSIsImF0dHJzIiwieCIsIndpZHRoIiwiaGVpZ2h0IiwiZmlsbCIsImNsYXNzIiwiZHkiLCJ1bmJpbmRVSSIsInNlbGVjdEFsbCIsIm9uIiwic2VsZWN0IiwicmVtb3ZlIiwib25rZXl1cCIsIm9ua2V5ZG93biIsImNvbXAiLCJ0ZXN0X3ZhbHVlIiwicmVmX3ZhbHVlIiwic2VyaWVfaW52ZXJzZWQiLCJjb21wMiIsInZhbDEiLCJ2YWwyIiwicmVmX3ZhbDEiLCJyZWZfdmFsMiIsInhJbnZlcnNlZCIsInlJbnZlcnNlZCIsIlJlY3QiLCJ0b3BsZWZ0IiwiYm90dG9tcmlnaHQiLCJ4bWluIiwieG1heCIsInltaW4iLCJ5bWF4IiwicHQiLCJQcm9wU2l6ZXIiLCJmaXhlZF92YWx1ZSIsImZpeGVkX3NpemUiLCJzbWF4Iiwic2NhbGUiLCJ2YWwiLCJnZXRfdmFsdWUiLCJzaXplIiwicmVtb3ZlRHVwbGljYXRlcyIsImFyciIsInRtcCIsImkiLCJsZW5fYXJyIiwibGVuZ3RoIiwiaW5kZXhPZiIsInB1c2giLCJnZXRTdmdQYXRoVHlwZSIsInBhdGgiLCJzdmdQYXRoVG9Db29yZHMiLCJ0eXBlX3BhdGgiLCJzbGljZSIsInNwbGl0IiwibWFwIiwiYSIsImNvbXB1dGVQZXJjZW50aWxlUmFuayIsIm9iaiIsImZpZWxkX25hbWUiLCJyZXN1bHRfZmllbGRfbmFtZSIsInZhbHVlcyIsImQiLCJsZW5fdmFsdWVzIiwiZ2V0UFIiLCJ2IiwiY291bnQiLCJpeCIsIl9nZXRQUiIsInNlcmllIiwiZ2V0TWVhbiIsIm5iX3ZhbHVlcyIsInN1bSIsImdldFN0ZERldiIsIm1lYW5fdmFsdWUiLCJnZXRTdGFuZGFyZGl6ZWRNZWFuU3RkRGV2IiwibWVhbiIsInN0ZGRldiIsInNodWZmbGUiLCJhcnJheSIsImoiLCJmbG9vciIsInJhbmRvbSIsImV1Y2xpZGlhbl9kaXN0YW5jZSIsImZlYXR1cmUxIiwiZmVhdHVyZTIiLCJnZW9tZXRyeSIsImNvb3JkaW5hdGVzIiwieDEiLCJ5MSIsIngyIiwieTIiLCJiIiwiY3JlYXRlTWVudSIsIm5hbWVzIiwidmFyaWFibGVzIiwic3R1ZHlfem9uZXMiLCJ0ZXJyaXRvcmlhbF9tZXNoIiwidGl0bGVfc2VjdGlvbjEiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJpbm5lckhUTUwiLCJzZWN0aW9uMSIsIm92ZXJmbG93IiwibGVuX2kiLCJpZCIsImdlbyIsIm5hbWUiLCJOb20iLCJlbnRyeSIsImFwcGVuZENoaWxkIiwidGl0bGVfc2VjdGlvbjIiLCJzZWN0aW9uMiIsImdyb3Vwc192YXIiLCJncm91cCIsImdwX25hbWUiLCJkaXZfZ3JwIiwiZGlzcGxheSIsInZhcl9uYW1lcyIsImZpbHRlciIsImxlbl9qIiwibmFtZV92YXIiLCJjb2RlX3ZhciIsInJhdGlvIiwic3ViX2VudHJ5IiwidGl0bGVfc2VjdGlvbjMiLCJzZWN0aW9uMyIsInpvbmUiLCJ0aXRsZV9zZWN0aW9uNCIsInNlY3Rpb240IiwidGVycml0X2xldmVsIiwibWVudSIsImdldEVsZW1lbnRCeUlkIiwiZmxvYXQiLCJtYWtlVG9wTWVudSIsInRvcF9tZW51IiwiZDMiLCJzdHlsZXMiLCJwYWRkaW5nIiwid2lkdGhfbGVmdCIsInF1ZXJ5U2VsZWN0b3IiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0Iiwid2lkdGhfY2VudHJhbF9jaGFydCIsIndpZHRoX21hcCIsIndpZHRoX3R5cGVfY29tcCIsIm1hcmdpbiIsImh0bWwiLCJ0eXBlX2NoYXJ0IiwicG9zaXRpb24iLCJ2YWx1ZSIsInJlc3NlbWJsYW5jZSIsIm1ha2VIZWFkZXJNYXBTZWN0aW9uIiwiaGVhZGVyX21hcF9zZWN0aW9uIiwiaW5zZXJ0IiwibWFrZUhlYWRlckNoYXJ0IiwiaGVhZGVyX2Jhcl9zZWN0aW9uIiwic3ZnX21hcCIsIm1hcmdpbl9tYXAiLCJ0b3AiLCJyaWdodCIsImJvdHRvbSIsImxlZnQiLCJoZWlnaHRfbWFwIiwic3Ryb2tlIiwicHJvamVjdGlvbiIsImdldF9iYm94X2xheWVyX3BhdGgiLCJiYm94X2xheWVyIiwiSW5maW5pdHkiLCJlYWNoIiwiYmJveF9wYXRoIiwiYm91bmRzIiwiZml0TGF5ZXIiLCJ0cmFuc2xhdGUiLCJzIiwibWFwX3pvb21lZCIsInRyYW5zZm9ybSIsImV2ZW50IiwiayIsInkiLCJsYXllcnMiLCJ0cmFuc2l0aW9uIiwiZHVyYXRpb24iLCJNYXBTZWxlY3QiLCJudXRzMSIsImNvdW50cmllcyIsInJlbW90ZSIsInRlbXBsYXRlIiwic2VhYm94ZXMiLCJnZW9JZGVudGl0eSIsImZpdEV4dGVudCIsInJlZmxlY3RZIiwiZ2VvUGF0aCIsInpvb21fbWFwIiwiem9vbSIsInNjYWxlRXh0ZW50IiwidHJhbnNsYXRlRXh0ZW50IiwiY2FsbCIsImRhdGEiLCJmZWF0dXJlcyIsImVudGVyIiwic2VhYm94ZXMyIiwidGFyZ2V0X2xheWVyIiwicHJvcGVydGllcyIsImFwcCIsImN1cnJlbnRfY29uZmlnIiwiaWRfZmllbGRfZ2VvbSIsIm15X3JlZ2lvbiIsIm5vZGUiLCJnZXRBdHRyaWJ1dGUiLCJjdXJyZW50X2lkcyIsImNvbG9ycyIsInpvb21JZGVudGl0eSIsInRleHQiLCJteV9yZWdpb25fcHJldHR5X25hbWUiLCJicnVzaF9tYXAiLCJtb3ZlIiwic2VsZWN0aW9uIiwiY2hhcnQiLCJoYW5kbGVDbGlja01hcCIsImNsYXNzTGlzdCIsImFkZCIsImhhbmRsZV9icnVzaF9tYXAiLCJicnVzaCIsImV4dGVudCIsImRpc3Rfa20iLCJkaXN0IiwiZGlzdF90b19teV9yZWdpb24iLCJjb21wdXRlRGlzdE1hdCIsIkFycmF5IiwicHJvdG90eXBlIiwicXVlcnlTZWxlY3RvckFsbCIsIm5iX2Z0IiwibXlfcmVnaW9uX2dlb20iLCJmaW5kIiwiX19kYXRhX18iLCJteV9yZWdpb25fY2VudHJvaWQiLCJ0dXJmIiwiY2VudHJvaWQiLCJyZXN1bHRfZGlzdCIsIm1ha2VTb3VyY2VTZWN0aW9uIiwidGV4dF96b25lIiwibWFrZU1hcExlZ2VuZCIsImxlZ2VuZF9lbGVtcyIsImNvbG9yIiwicmVjdF9zaXplIiwic3BhY2luZyIsImxnZF9oZWlnaHQiLCJvZmZzZXQiLCJncnBfbGdkIiwibGVnZW5kcyIsInR4IiwidHkiLCJjcmVhdGVUYWJsZURPTSIsIm9wdHMiLCJjb25maWciLCJudW0iLCJkZW51bSIsIm9wdGlvbnMiLCJkb2MiLCJuYl9mZWF0dXJlcyIsImNvbHVtbl9uYW1lcyIsIk9iamVjdCIsImdldE93blByb3BlcnR5TmFtZXMiLCJuYl9jb2x1bW5zIiwibXlUYWJsZSIsImhlYWRlcnMiLCJib2R5IiwiaGVhZGVyc19yb3ciLCJjZWxsIiwiY29sX25hbWUiLCJyb3ciLCJzZXRBdHRyaWJ1dGUiLCJtYWtlVGFibGUiLCJkYXRhX25vX2VtcHR5IiwidGFibGUiLCJ1bmRlZmluZWQiLCJkYXRhVGFibGUiLCJEYXRhVGFibGUiLCJtYXJnaW5Ub3AiLCJmb250U2l6ZSIsImZvckVhY2giLCJlbCIsIm9uY2xpY2siLCJwYXJlbnRFbGVtZW50IiwiY2xpY2siLCJwcmVwYXJlX2RhdGFzZXQiLCJmdWxsX2RhdGFzZXQiLCJmZWF0dXJlX25hbWVzIiwiZWxlbSIsImZpbHRlckxldmVsVmFyIiwiY3VycmVudF9sZXZlbCIsImlkX2ZpZWxkIiwiZmlsdGVyX2tleSIsIm5hbWVfZmllbGQiLCJhbGxfdmFyaWFibGVzIiwiY29uY2F0IiwidGVtcCIsImZ0IiwibGV2ZWwiLCJteV9jYXRlZ29yeSIsInByb3BzX2ZlYXR1cmUiLCJjdXJyZW50X2RhdGEiLCJwcmVwYXJlVmFyaWFibGVzSW5mbyIsIm1ldGFkYXRhX2luZGljYXRldXJzIiwiYXBwbHlGaWx0ZXIiLCJmaWx0ZXJfdHlwZSIsImNoYW5nZVJlZ2lvbiIsImlkX3JlZ2lvbiIsIm1hcF9lbGVtIiwiZ2V0VW5pdHNXaXRoaW4iLCJwcm9wZXJ0eSIsImFkZFZhcmlhYmxlIiwiY29kZV9yYXRpbyIsInZhcmlhYmxlX2luZm8iLCJ2YXJpYWJsZXNfaW5mbyIsInJhdGlvX3ByZXR0eV9uYW1lIiwicmVtb3ZlVmFyaWFibGUiLCJzcGxpY2UiLCJyZXNldFZhcmlhYmxlcyIsImNvZGVzX3JhdGlvIiwibGVuIiwiY2FsY1BvcENvbXBsZXR1ZGVTdWJzZXQiLCJ2YXJzIiwicG9wX2ZpZWxkIiwidG90YWxfcG9wIiwiaXNOYU4iLCJyYXRpb19uYW1lIiwiZXZlcnkiLCJzdWJzZXRfcG9wIiwicG9wIiwiVGFibGVSZXN1bWVTdGF0Iiwic3VtbWFyeV9mZWF0dXJlcyIsImNvbnRhaW5lcl9kaXYiLCJ0YWJsZV9ib2R5IiwiYWRkRmVhdHVyZSIsInN1bW1hcnkiLCJpZF92YXJpYWJsZSIsInJvd3MiLCJzdmdfYmFyIiwibWFyZ2luMiIsImhlaWdodDIiLCJuYkZ0IiwiY3VycmVudF9yYW5nZV9icnVzaCIsImN1cnJlbnRfcmFuZ2UiLCJkaXNwbGF5ZWQiLCJnZXRNZWFuUmFuayIsInJhdGlvX3RvX3VzZSIsIm1lYW5fcmFuayIsInNvcnQiLCJCYXJDaGFydDEiLCJyZWZfZGF0YSIsImJydXNoZWQiLCJzb3VyY2VFdmVudCIsInR5cGUiLCJsb2ciLCJyYW5nZSIsImRvbWFpbiIsInVwZGF0ZSIsInVwZGF0ZUNvbnRleHQiLCJicnVzaF90b3AiLCJicnVzaGVkX3RvcCIsIl9mb2N1cyIsImQzX2V2ZW50IiwidGFyZ2V0IiwicmVtb3ZlUmVjdEJydXNoIiwidXBkYXRlTWFwUmVnaW8iLCJkZXRhaWwiLCJuYl92YXIiLCJzY2FsZUJhbmQiLCJzY2FsZUxpbmVhciIsInhBeGlzIiwiYXhpc0JvdHRvbSIsInhBeGlzMiIsInlBeGlzIiwiYXhpc0xlZnQiLCJzZWxmIiwiYXZhaWxhYmxlX3JhdGlvcyIsImN1cnJlbnRfcmFua3MiLCJmb2N1cyIsImNvbnRleHQiLCJicnVzaF9ib3R0b20iLCJicnVzaFgiLCJkeCIsImdfYmFyIiwiZ3JvdXBlX2xpbmVfbWVhbiIsInVwZGF0ZU1pbmlCYXJzIiwiY29tcGxldHVkZV92YWx1ZSIsImNvbXBsZXR1ZGUiLCJrZXkiLCJzZWxlY192YXIiLCJjb2RlX3ZhcmlhYmxlIiwiY2hhbmdlVmFyaWFibGUiLCJjaGFuZ2VTdHVkeVpvbmUiLCJ1cGRhdGVDb21wbGV0dWRlIiwibWVudV9zZWxlY3Rpb24iLCJzZWxlY3RCZWxvd01lYW4iLCJzZWxlY3RBYm92ZU1lYW4iLCJzZWxlY3RCZWxvd015UmVnaW9uIiwic2VsZWN0QWJvdmVNeVJlZ2lvbiIsIm1ha2VUYWJsZVN0YXQiLCJtaW4iLCJfIiwiYmFyIiwiYmFuZHdpZHRoIiwidG9fZGlzcGxheSIsIm1vdXNlIiwiZXhpdCIsImF4aXNfeCIsIm1pbmlfYmFycyIsIm15X3JhbmsiLCJsYXN0X21hcF9zZWxlY3Rpb24iLCJyZWN0IiwiX3B0cyIsInB0cyIsIm5iX3B0cyIsImNvbnRhaW5zIiwiaWRzIiwia2V5cyIsInJhbmtzIiwiYzEiLCJjMiIsInBhcmVudCIsInVwZGF0ZVRhYmxlU3RhdHMiLCJ1cGRhdGVMZWdlbmQiLCJncnBfbWVhbiIsIm1heF9zZXJpZSIsInVwZGF0ZU1lYW5WYWx1ZSIsIm5hbWVfdmFyaWFibGUiLCJkaXNwYXRjaCIsInRhYmxlX3N0YXRzIiwidW5iaW5kQnJ1c2hDbGljayIsInJlc2V0Q29sb3JzIiwicmVtb3ZlQWxsIiwicHJlcGFyZVRhYmxlU3RhdCIsImZlYXR1cmUiLCJCdWJibGVDaGFydDEiLCJhdmFpbGFibGVfbnVtcyIsInN0b2NrX3RvX3VzZSIsIm15X3JlZ2lvbl92YWx1ZSIsImhpZ2hsaWdodF9zZWxlY3Rpb24iLCJkcmF3X2dyb3VwIiwiYXBwbHlTZWxlY3Rpb24iLCJzZWxlY3Rpb25fY2xvc2UiLCJiaW5kTWVudSIsIm5iIiwiX21pbiIsIl9tYXgiLCJkaXN0X21pbiIsImRpc3RfbWF4IiwiZGlzdF9heGlzIiwibWFyZ2luX21pbl9tYXgiLCJwcm9wX3NpemVyIiwieFNjYWxlIiwiYnViYmxlcyIsInhfdmFsdWUiLCJfcmF0aW9fdG9fdXNlIiwiX3N0b2NrX3RvX3VzZSIsImlkX3RvX3JlbW92ZSIsImFwcGx5Y2hhbmdlIiwiY29udGV4dE1lbnUiLCJpdGVtcyIsInNldEl0ZW1zIiwiaXRlbSIsImFjdGlvbiIsIm5iX2l0ZW1zIiwiYWRkSXRlbSIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwiRE9Nb2JqIiwiaGlkZU1lbnUiLCJpbml0TWVudSIsImNsaWVudFkiLCJzY3JvbGxUb3AiLCJjbGllbnRYIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUNoaWxkIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImxpc3QiLCJuYl9pdGVtIiwiU2NhdHRlclBsb3QyIiwicmFuZ2VfeCIsImludmVydCIsInJhbmdlX3kiLCJ0MSIsInQyIiwidmFyaWFibGUxIiwidmFyaWFibGUyIiwicmFua192YXJpYWJsZTEiLCJyYW5rX3ZhcmlhYmxlMiIsInJlZl92YWx1ZTEiLCJyZWZfdmFsdWUyIiwicHJldHR5X25hbWUxIiwicHJldHR5X25hbWUyIiwicmVzIiwibmljZSIsInRpY2tzIiwieUF4aXMyIiwicGxvdCIsInNjYXR0ZXIiLCJtYWtlR3JpZCIsIm1lYW5fdmFyaWFibGUxIiwibWVhbl92YXJpYWJsZTIiLCJvcGFjaXR5IiwicHJlcGFyZVRpdGxlQXhpcyIsImNhbGxCcnVzaCIsImNoYXJ0X3R5cGUiLCJ0aWNrU2l6ZSIsInRpY2tGb3JtYXQiLCJtZW51WCIsIkNvbnRleHRNZW51IiwibWVudVkiLCJpdGVtc1giLCJjaGFuZ2VWYXJpYWJsZVgiLCJpdGVtc1kiLCJjaGFuZ2VWYXJpYWJsZVkiLCJiYm94Iiwic2hvd01lbnUiLCJkZWZhdWx0X2NvbG9yIiwiZG90cyIsInVwZGF0ZUF4aXNHcmlkIiwidmFsdWUxIiwidmFsdWUyIiwidG1wX215X3JlZ2lvbiIsInVwZGF0ZUl0ZW1zQ3R4TWVudSIsInVwZGF0ZVRhYmxlU3RhdCIsIm5ld192YXJfeCIsIm5ld192YXJfeSIsInZhbHVlczEiLCJ2YWx1ZXMyIiwiYWRkRmVhdHVyZXMiLCJ3cmFwIiwiX3RleHQiLCJfd2lkdGgiLCJ3b3JkcyIsInJldmVyc2UiLCJsaW5lSGVpZ2h0IiwicGFyc2VGbG9hdCIsImxpbmUiLCJsaW5lTnVtYmVyIiwidHNwYW4iLCJ3b3JkIiwiam9pbiIsImdldENvbXB1dGVkVGV4dExlbmd0aCIsImZyb20iLCJ0byIsInN3YXAiLCJpeDEiLCJpeDIiLCJwcmVwYXJlX2RhdGFfcmFkYXJfZGVmYXVsdCIsInZfbXlfcmVnaW9uIiwib2piX215X3JlZ2lvbiIsIl92IiwiYXhlcyIsInByZXBhcmVfZGF0YV9yYWRhcl9mdCIsImZ0X3ZhbHVlcyIsIlJhZGFyQ2hhcnQzIiwiY2ZnIiwic2NhbGVPcmRpbmFsIiwic2NoZW1lQ2F0ZWdvcnkxMCIsImciLCJ3IiwiaCIsInByZXBhcmVEYXRhIiwiZHJhd0F4aXNHcmlkIiwiZHJhd0FyZWEiLCJoYW5kbGVMZWdlbmQiLCJhbGxvd0ludmVyc2VEYXRhIiwiaW52ZXJzZV9kYXRhIiwiZmllbGQiLCJkYXRhX2xlbmd0aCIsImF4IiwiYXhpcyIsIm5fYXhpcyIsIkpTT04iLCJzdHJpbmdpZnkiLCJhbGxBeGlzIiwiRXJyb3IiLCJkaXNwbGF5ZWRfaWRzIiwib25fYXhlcyIsIm4iLCJibG9iV3JhcHBlciIsInJhZGFyTGluZSIsIm9wYWNpdHlBcmVhIiwic3Ryb2tlV2lkdGgiLCJkb3RSYWRpdXMiLCJyU2NhbGUiLCJhbmdsZVNsaWNlIiwiYmxvYkNpcmNsZVdyYXBwZXIiLCJjeCIsImJhc2VWYWwiLCJjeSIsIkZvcm1hdCIsInVuaXQiLCJyYW5rX3ZhcmlhYmxlcyIsImlkX215X3JlZ2lvbiIsIm1heFZhbHVlIiwidG90YWwiLCJyYWRpdXMiLCJmb3JtYXQiLCJyYWRpYWxMaW5lIiwiY3VydmUiLCJyb3VuZFN0cm9rZXMiLCJjdXJ2ZUNhcmRpbmFsQ2xvc2VkIiwiY3VydmVMaW5lYXJDbG9zZWQiLCJhbmdsZSIsImxhYmVsQ2xpY2tlZCIsIm5ld19peCIsImxhYmVsQ3R4TWVudSIsImxhYmVsIiwiYXhpc0dyaWQiLCJsZXZlbHMiLCJvcGFjaXR5Q2lyY2xlcyIsImxhYmVsRmFjdG9yIiwid3JhcFdpZHRoIiwiZmVNZXJnZSIsImxlZ2VuZCIsImJhYmVsSGVscGVycy50eXBlb2YiLCJ0aXRsZSIsImxlZ2VuZFpvbmUiLCJsZWdlbmRFbnRlciIsIm1lcmdlIiwidHJhbnNsYXRlWCIsInRyYW5zbGF0ZVkiLCJ1cGRhdGVfYXhpcyIsInVwZGF0ZV9ibG9iV3JhcHBlciIsImNpcmNsZSIsInVwZGF0ZV9ibG9iQ2lyY2xlV3JhcHBlciIsImludmlzaWJsZUNpcmNsZSIsIm9sZF9teV9yZWdpb24iLCJvdGhlcl9mZWF0dXJlcyIsImFkZF9lbGVtZW50IiwiYWxsX3ZhbHVlcyIsIl9kIiwiU2ltaWxhcml0eUNoYXJ0IiwieiIsIm5iX2Rpc3BsYXkiLCJjdXJyZW50X3R5cGUiLCJzdGFuZGFyZGl6ZWQiLCJuYW1lX3N0YW5kYXJkaXplZCIsIm9ial9teV9yZWdpb24iLCJyZWR1Y2UiLCJkaXNzaW1pbGFyaXR5IiwidmFyX25hbWUiLCJpbmRpY2Vfa2luZCIsImJhcnMiLCJyYW5nZVJvdW5kIiwibW1pbiIsInZhbHVlX3JlZiIsInJlcGxhY2UiLCJpbmRpYyIsImNlaWwiLCJfaWQiLCJuYl92YWx1ZSIsIlNpbWlsYXJpdHkxcGx1cyIsInJhdGlvcyIsIm51bXMiLCJzZXREZWZhdWx0Q29uZmlnIiwiY29kZSIsInZhcmlhYmxlIiwic2V0RGVmYXVsdENvbmZpZ01lbnUiLCJzZWxlY3RGaXJzdEF2YWlsYWJsZVZhciIsInVwZGF0ZUF2YWlsYWJsZXNSYXRpb3MiLCJkYXRhX215X2ZlYXR1cmUiLCJsaW5lcyIsIm5iX2xpbmVzIiwibmV4dFNpYmxpbmciLCJuZXdfdmFyIiwibmV3X3Zhcl9uYW1lcyIsImJpbmRVSV9jaGFydCIsImlucHV0X2VsZW0iLCJyZW1vdmVBdHRyaWJ1dGUiLCJuZXdfbmJfdmFyIiwidXBkYXRlQ2hhbmdlUmVnaW9uIiwiZ3JvdXBfdmFyIiwicHJldmlvdXNTaWJsaW5nIiwiaGVhZGVyX3RhYmxlX3NlY3Rpb24iLCJjb250ZW50IiwicmFuZyIsImVuY29kZVVSSUNvbXBvbmVudCIsImJpbmRUb3BCdXR0b25zIiwicmVzZXRab29tIiwiYmluZEJydXNoQ2xpY2siLCJiaW5kTWFwIiwibG9hZERhdGEiLCJxdWV1ZSIsImRlZmVyIiwiY3N2IiwianNvbiIsImF3YWl0QWxsIiwiZXJyb3IiLCJyZXN1bHRzIiwiYWdnX24yIiwiZmVhdHVyZXNfbWVudSIsImJpbmRIZWxwTWVudSIsImhlbHBfYnV0dG9uc192YXIiLCJidG5faSIsIm8iLCJtb2RhbCIsInRpbmdsZSIsImJhY2tncm91bmQiLCJkZXN0cm95Iiwic2V0Q29udGVudCIsIm1ldGhvZG8iLCJzb3VyY2UiLCJsYXN0X3VwZGF0ZSIsIm9wZW4iLCJoZWxwc19idXR0b25zX3N0dWR5X3pvbmUiLCJmaWx0ZXJfbmFtZSIsImhlbHBzX2J1dHRvbnNfdGVycml0X3VuaXQiLCJ0ZXJyaXRfbGV2ZWxfbmFtZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsRUFBRSxPQUFPQSxTQUFNLEVBQUVBLFNBQU0sQ0FBQyxHQUFHLENBQUNBLFNBQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxBQUF5QixjQUFjLENBQUMsQ0FBQyxFQUFFLEFBQWEsQ0FBQSxDQUFDLENBQUNDLGNBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsOEJBQThCLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUEsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLHFCQUFxQixDQUFDLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMseUJBQXlCLENBQUMsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQywwQkFBMEIsQ0FBQyxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLGtCQUFrQixDQUFDLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQywyQkFBMkIsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQywwQkFBMEIsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFBLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLGFBQWEsR0FBRyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLG1CQUFtQixDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxRQUFRLENBQUMsbUJBQW1CLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUEsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsd0JBQXdCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsZUFBZSxDQUFDLFdBQVcsQ0FBQyxnQkFBZ0IsQ0FBQyxhQUFhLENBQUMsZUFBZSxDQUFDLGdCQUFnQixDQUFDLHFCQUFxQixDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQSxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLFNBQVMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsdUJBQXVCLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxVQUFVLEVBQUUsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxFQUFFLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQSxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLEdBQUcsVUFBVSxFQUFFLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLGdCQUFnQixDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLHVCQUF1QixDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsVUFBVSxFQUFFLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFBLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsVUFBVSxFQUFFLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQSxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFBLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLGdCQUFnQixDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFBLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLGdCQUFnQixDQUFDLFVBQVUsQ0FBQyxPQUFPLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLGVBQWUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLGtDQUFrQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsa0NBQWtDLENBQUMsQ0FBQyxDQUFDLENBQUEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFBLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLHlEQUF5RCxDQUFDLENBQUEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLHVCQUF1QixDQUFDLEdBQUcsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDOzs7QUNBbjFOLElBQU1D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
